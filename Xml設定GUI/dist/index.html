<!doctype html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vite + React + TS</title>
  <script type="module" crossorigin>var L0e=Object.defineProperty;var sF=t=>{throw TypeError(t)};var D0e=(t,e,r)=>e in t?L0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Kr=(t,e,r)=>D0e(t,typeof e!="symbol"?e+"":e,r),R0e=(t,e,r)=>e.has(t)||sF("Cannot "+r);var oF=(t,e,r)=>e.has(t)?sF("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);var ey=(t,e,r)=>(R0e(t,e,"access private method"),r);function M0e(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Th(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function N0e(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var _q={exports:{}},Nk={},Lq={exports:{}},Gr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb=Symbol.for("react.element"),I0e=Symbol.for("react.portal"),O0e=Symbol.for("react.fragment"),P0e=Symbol.for("react.strict_mode"),F0e=Symbol.for("react.profiler"),B0e=Symbol.for("react.provider"),$0e=Symbol.for("react.context"),z0e=Symbol.for("react.forward_ref"),H0e=Symbol.for("react.suspense"),V0e=Symbol.for("react.memo"),U0e=Symbol.for("react.lazy"),lF=Symbol.iterator;function G0e(t){return t===null||typeof t!="object"?null:(t=lF&&t[lF]||t["@@iterator"],typeof t=="function"?t:null)}var Dq={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rq=Object.assign,Mq={};function qm(t,e,r){this.props=t,this.context=e,this.refs=Mq,this.updater=r||Dq}qm.prototype.isReactComponent={};qm.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qm.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nq(){}Nq.prototype=qm.prototype;function rD(t,e,r){this.props=t,this.context=e,this.refs=Mq,this.updater=r||Dq}var nD=rD.prototype=new Nq;nD.constructor=rD;Rq(nD,qm.prototype);nD.isPureReactComponent=!0;var uF=Array.isArray,Iq=Object.prototype.hasOwnProperty,iD={current:null},Oq={key:!0,ref:!0,__self:!0,__source:!0};function Pq(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)Iq.call(e,n)&&!Oq.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:nb,type:t,key:a,ref:s,props:i,_owner:iD.current}}function W0e(t,e){return{$$typeof:nb,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function aD(t){return typeof t=="object"&&t!==null&&t.$$typeof===nb}function q0e(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var cF=/\/+/g;function s6(t,e){return typeof t=="object"&&t!==null&&t.key!=null?q0e(""+t.key):e.toString(36)}function Yw(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case nb:case I0e:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+s6(s,0):n,uF(i)?(r="",t!=null&&(r=t.replace(cF,"$&/")+"/"),Yw(i,e,r,"",function(u){return u})):i!=null&&(aD(i)&&(i=W0e(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(cF,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",uF(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+s6(a,o);s+=Yw(a,e,r,l,i)}else if(l=G0e(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+s6(a,o++),s+=Yw(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function I4(t,e,r){if(t==null)return t;var n=[],i=0;return Yw(t,n,"","",function(a){return e.call(r,a,i++)}),n}function Y0e(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ys={current:null},Xw={transition:null},X0e={ReactCurrentDispatcher:Ys,ReactCurrentBatchConfig:Xw,ReactCurrentOwner:iD};function Fq(){throw Error("act(...) is not supported in production builds of React.")}Gr.Children={map:I4,forEach:function(t,e,r){I4(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return I4(t,function(){e++}),e},toArray:function(t){return I4(t,function(e){return e})||[]},only:function(t){if(!aD(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Gr.Component=qm;Gr.Fragment=O0e;Gr.Profiler=F0e;Gr.PureComponent=rD;Gr.StrictMode=P0e;Gr.Suspense=H0e;Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X0e;Gr.act=Fq;Gr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Rq({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=iD.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Iq.call(e,l)&&!Oq.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:nb,type:t.type,key:i,ref:a,props:n,_owner:s}};Gr.createContext=function(t){return t={$$typeof:$0e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:B0e,_context:t},t.Consumer=t};Gr.createElement=Pq;Gr.createFactory=function(t){var e=Pq.bind(null,t);return e.type=t,e};Gr.createRef=function(){return{current:null}};Gr.forwardRef=function(t){return{$$typeof:z0e,render:t}};Gr.isValidElement=aD;Gr.lazy=function(t){return{$$typeof:U0e,_payload:{_status:-1,_result:t},_init:Y0e}};Gr.memo=function(t,e){return{$$typeof:V0e,type:t,compare:e===void 0?null:e}};Gr.startTransition=function(t){var e=Xw.transition;Xw.transition={};try{t()}finally{Xw.transition=e}};Gr.unstable_act=Fq;Gr.useCallback=function(t,e){return Ys.current.useCallback(t,e)};Gr.useContext=function(t){return Ys.current.useContext(t)};Gr.useDebugValue=function(){};Gr.useDeferredValue=function(t){return Ys.current.useDeferredValue(t)};Gr.useEffect=function(t,e){return Ys.current.useEffect(t,e)};Gr.useId=function(){return Ys.current.useId()};Gr.useImperativeHandle=function(t,e,r){return Ys.current.useImperativeHandle(t,e,r)};Gr.useInsertionEffect=function(t,e){return Ys.current.useInsertionEffect(t,e)};Gr.useLayoutEffect=function(t,e){return Ys.current.useLayoutEffect(t,e)};Gr.useMemo=function(t,e){return Ys.current.useMemo(t,e)};Gr.useReducer=function(t,e,r){return Ys.current.useReducer(t,e,r)};Gr.useRef=function(t){return Ys.current.useRef(t)};Gr.useState=function(t){return Ys.current.useState(t)};Gr.useSyncExternalStore=function(t,e,r){return Ys.current.useSyncExternalStore(t,e,r)};Gr.useTransition=function(){return Ys.current.useTransition()};Gr.version="18.3.1";Lq.exports=Gr;var je=Lq.exports;const mt=Th(je),Bq=M0e({__proto__:null,default:mt},[je]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0e=je,K0e=Symbol.for("react.element"),Q0e=Symbol.for("react.fragment"),Z0e=Object.prototype.hasOwnProperty,J0e=j0e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,epe={key:!0,ref:!0,__self:!0,__source:!0};function $q(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)Z0e.call(e,n)&&!epe.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:K0e,type:t,key:a,ref:s,props:i,_owner:J0e.current}}Nk.Fragment=Q0e;Nk.jsx=$q;Nk.jsxs=$q;_q.exports=Nk;var Xe=_q.exports,q8={},zq={exports:{}},Yo={},Hq={exports:{}},Vq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,V){var X=$.length;$.push(V);e:for(;0<X;){var q=X-1>>>1,Y=$[q];if(0<i(Y,V))$[q]=V,$[X]=Y,X=q;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var V=$[0],X=$.pop();if(X!==V){$[0]=X;e:for(var q=0,Y=$.length,U=Y>>>1;q<U;){var Z=2*(q+1)-1,pe=$[Z],ne=Z+1,ge=$[ne];if(0>i(pe,X))ne<Y&&0>i(ge,pe)?($[q]=ge,$[ne]=X,q=ne):($[q]=pe,$[Z]=X,q=Z);else if(ne<Y&&0>i(ge,X))$[q]=ge,$[ne]=X,q=ne;else break e}}return V}function i($,V){var X=$.sortIndex-V.sortIndex;return X!==0?X:$.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],h=1,f=null,d=3,p=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=$)n(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(u)}}function E($){if(v=!1,S($),!m)if(r(l)!==null)m=!0,P(C);else{var V=r(u);V!==null&&z(E,V.startTime-$)}}function C($,V){m=!1,v&&(v=!1,y(I),I=-1),p=!0;var X=d;try{for(S(V),f=r(l);f!==null&&(!(f.expirationTime>V)||$&&!M());){var q=f.callback;if(typeof q=="function"){f.callback=null,d=f.priorityLevel;var Y=q(f.expirationTime<=V);V=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(l)&&n(l),S(V)}else n(l);f=r(l)}if(f!==null)var U=!0;else{var Z=r(u);Z!==null&&z(E,Z.startTime-V),U=!1}return U}finally{f=null,d=X,p=!1}}var L=!1,_=null,I=-1,D=5,F=-1;function M(){return!(t.unstable_now()-F<D)}function B(){if(_!==null){var $=t.unstable_now();F=$;var V=!0;try{V=_(!0,$)}finally{V?H():(L=!1,_=null)}}else L=!1}var H;if(typeof w=="function")H=function(){w(B)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,O=R.port2;R.port1.onmessage=B,H=function(){O.postMessage(null)}}else H=function(){x(B,0)};function P($){_=$,L||(L=!0,H())}function z($,V){I=x(function(){$(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(C))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(d){case 1:case 2:case 3:var V=3;break;default:V=d}var X=d;d=V;try{return $()}finally{d=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,V){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=d;d=$;try{return V()}finally{d=X}},t.unstable_scheduleCallback=function($,V,X){var q=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?q+X:q):X=q,$){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=X+Y,$={id:h++,callback:V,priorityLevel:$,startTime:X,expirationTime:Y,sortIndex:-1},X>q?($.sortIndex=X,e(u,$),r(l)===null&&$===r(u)&&(v?(y(I),I=-1):v=!0,z(E,X-q))):($.sortIndex=Y,e(l,$),m||p||(m=!0,P(C))),$},t.unstable_shouldYield=M,t.unstable_wrapCallback=function($){var V=d;return function(){var X=d;d=V;try{return $.apply(this,arguments)}finally{d=X}}}})(Vq);Hq.exports=Vq;var tpe=Hq.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rpe=je,Vo=tpe;function Lt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uq=new Set,B2={};function fp(t,e){Z1(t,e),Z1(t+"Capture",e)}function Z1(t,e){for(B2[t]=e,t=0;t<e.length;t++)Uq.add(e[t])}var ah=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Y8=Object.prototype.hasOwnProperty,npe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hF={},fF={};function ipe(t){return Y8.call(fF,t)?!0:Y8.call(hF,t)?!1:npe.test(t)?fF[t]=!0:(hF[t]=!0,!1)}function ape(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function spe(t,e,r,n){if(e===null||typeof e>"u"||ape(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xs(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Ga={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ga[t]=new Xs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ga[e]=new Xs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ga[t]=new Xs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ga[t]=new Xs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ga[t]=new Xs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ga[t]=new Xs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ga[t]=new Xs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ga[t]=new Xs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ga[t]=new Xs(t,5,!1,t.toLowerCase(),null,!1,!1)});var sD=/[\-:]([a-z])/g;function oD(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sD,oD);Ga[e]=new Xs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sD,oD);Ga[e]=new Xs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sD,oD);Ga[e]=new Xs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ga[t]=new Xs(t,1,!1,t.toLowerCase(),null,!1,!1)});Ga.xlinkHref=new Xs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ga[t]=new Xs(t,1,!1,t.toLowerCase(),null,!0,!0)});function lD(t,e,r,n){var i=Ga.hasOwnProperty(e)?Ga[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(spe(e,r,i,n)&&(r=null),n||i===null?ipe(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ch=rpe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O4=Symbol.for("react.element"),wg=Symbol.for("react.portal"),Sg=Symbol.for("react.fragment"),uD=Symbol.for("react.strict_mode"),X8=Symbol.for("react.profiler"),Gq=Symbol.for("react.provider"),Wq=Symbol.for("react.context"),cD=Symbol.for("react.forward_ref"),j8=Symbol.for("react.suspense"),K8=Symbol.for("react.suspense_list"),hD=Symbol.for("react.memo"),rf=Symbol.for("react.lazy"),qq=Symbol.for("react.offscreen"),dF=Symbol.iterator;function ty(t){return t===null||typeof t!="object"?null:(t=dF&&t[dF]||t["@@iterator"],typeof t=="function"?t:null)}var mi=Object.assign,o6;function Fy(t){if(o6===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);o6=e&&e[1]||""}return`
`+o6+t}var l6=!1;function u6(t,e){if(!t||l6)return"";l6=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{l6=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Fy(t):""}function ope(t){switch(t.tag){case 5:return Fy(t.type);case 16:return Fy("Lazy");case 13:return Fy("Suspense");case 19:return Fy("SuspenseList");case 0:case 2:case 15:return t=u6(t.type,!1),t;case 11:return t=u6(t.type.render,!1),t;case 1:return t=u6(t.type,!0),t;default:return""}}function Q8(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sg:return"Fragment";case wg:return"Portal";case X8:return"Profiler";case uD:return"StrictMode";case j8:return"Suspense";case K8:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wq:return(t.displayName||"Context")+".Consumer";case Gq:return(t._context.displayName||"Context")+".Provider";case cD:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hD:return e=t.displayName||null,e!==null?e:Q8(t.type)||"Memo";case rf:e=t._payload,t=t._init;try{return Q8(t(e))}catch{}}return null}function lpe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q8(e);case 8:return e===uD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ff(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yq(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function upe(t){var e=Yq(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function P4(t){t._valueTracker||(t._valueTracker=upe(t))}function Xq(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Yq(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Q3(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Z8(t,e){var r=e.checked;return mi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function pF(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ff(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jq(t,e){e=e.checked,e!=null&&lD(t,"checked",e,!1)}function J8(t,e){jq(t,e);var r=Ff(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eA(t,e.type,r):e.hasOwnProperty("defaultValue")&&eA(t,e.type,Ff(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gF(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function eA(t,e,r){(e!=="number"||Q3(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var By=Array.isArray;function Gg(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ff(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function tA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Lt(91));return mi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mF(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Lt(92));if(By(r)){if(1<r.length)throw Error(Lt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ff(r)}}function Kq(t,e){var r=Ff(e.value),n=Ff(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function vF(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qq(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qq(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var F4,Zq=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(F4=F4||document.createElement("div"),F4.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=F4.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $2(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var f2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cpe=["Webkit","ms","Moz","O"];Object.keys(f2).forEach(function(t){cpe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),f2[e]=f2[t]})});function Jq(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||f2.hasOwnProperty(t)&&f2[t]?(""+e).trim():e+"px"}function eY(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Jq(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var hpe=mi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nA(t,e){if(e){if(hpe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Lt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Lt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Lt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Lt(62))}}function iA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aA=null;function fD(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sA=null,Wg=null,qg=null;function yF(t){if(t=sb(t)){if(typeof sA!="function")throw Error(Lt(280));var e=t.stateNode;e&&(e=Bk(e),sA(t.stateNode,t.type,e))}}function tY(t){Wg?qg?qg.push(t):qg=[t]:Wg=t}function rY(){if(Wg){var t=Wg,e=qg;if(qg=Wg=null,yF(t),e)for(t=0;t<e.length;t++)yF(e[t])}}function nY(t,e){return t(e)}function iY(){}var c6=!1;function aY(t,e,r){if(c6)return t(e,r);c6=!0;try{return nY(t,e,r)}finally{c6=!1,(Wg!==null||qg!==null)&&(iY(),rY())}}function z2(t,e){var r=t.stateNode;if(r===null)return null;var n=Bk(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Lt(231,e,typeof r));return r}var oA=!1;if(ah)try{var ry={};Object.defineProperty(ry,"passive",{get:function(){oA=!0}}),window.addEventListener("test",ry,ry),window.removeEventListener("test",ry,ry)}catch{oA=!1}function fpe(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var d2=!1,Z3=null,J3=!1,lA=null,dpe={onError:function(t){d2=!0,Z3=t}};function ppe(t,e,r,n,i,a,s,o,l){d2=!1,Z3=null,fpe.apply(dpe,arguments)}function gpe(t,e,r,n,i,a,s,o,l){if(ppe.apply(this,arguments),d2){if(d2){var u=Z3;d2=!1,Z3=null}else throw Error(Lt(198));J3||(J3=!0,lA=u)}}function dp(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function sY(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xF(t){if(dp(t)!==t)throw Error(Lt(188))}function mpe(t){var e=t.alternate;if(!e){if(e=dp(t),e===null)throw Error(Lt(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return xF(i),t;if(a===n)return xF(i),e;a=a.sibling}throw Error(Lt(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Lt(189))}}if(r.alternate!==n)throw Error(Lt(190))}if(r.tag!==3)throw Error(Lt(188));return r.stateNode.current===r?t:e}function oY(t){return t=mpe(t),t!==null?lY(t):null}function lY(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lY(t);if(e!==null)return e;t=t.sibling}return null}var uY=Vo.unstable_scheduleCallback,bF=Vo.unstable_cancelCallback,vpe=Vo.unstable_shouldYield,ype=Vo.unstable_requestPaint,Ni=Vo.unstable_now,xpe=Vo.unstable_getCurrentPriorityLevel,dD=Vo.unstable_ImmediatePriority,cY=Vo.unstable_UserBlockingPriority,e5=Vo.unstable_NormalPriority,bpe=Vo.unstable_LowPriority,hY=Vo.unstable_IdlePriority,Ik=null,Zu=null;function wpe(t){if(Zu&&typeof Zu.onCommitFiberRoot=="function")try{Zu.onCommitFiberRoot(Ik,t,void 0,(t.current.flags&128)===128)}catch{}}var ru=Math.clz32?Math.clz32:Epe,Spe=Math.log,kpe=Math.LN2;function Epe(t){return t>>>=0,t===0?32:31-(Spe(t)/kpe|0)|0}var B4=64,$4=4194304;function $y(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function t5(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=$y(o):(a&=s,a!==0&&(n=$y(a)))}else s=r&~i,s!==0?n=$y(s):a!==0&&(n=$y(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ru(e),i=1<<r,n|=t[r],e&=~i;return n}function Tpe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cpe(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-ru(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=Tpe(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function uA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fY(){var t=B4;return B4<<=1,!(B4&4194240)&&(B4=64),t}function h6(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ib(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ru(e),t[e]=r}function Ape(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ru(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function pD(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ru(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var kn=0;function dY(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pY,gD,gY,mY,vY,cA=!1,z4=[],Ef=null,Tf=null,Cf=null,H2=new Map,V2=new Map,of=[],_pe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wF(t,e){switch(t){case"focusin":case"focusout":Ef=null;break;case"dragenter":case"dragleave":Tf=null;break;case"mouseover":case"mouseout":Cf=null;break;case"pointerover":case"pointerout":H2.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":V2.delete(e.pointerId)}}function ny(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=sb(e),e!==null&&gD(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Lpe(t,e,r,n,i){switch(e){case"focusin":return Ef=ny(Ef,t,e,r,n,i),!0;case"dragenter":return Tf=ny(Tf,t,e,r,n,i),!0;case"mouseover":return Cf=ny(Cf,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return H2.set(a,ny(H2.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,V2.set(a,ny(V2.get(a)||null,t,e,r,n,i)),!0}return!1}function yY(t){var e=i0(t.target);if(e!==null){var r=dp(e);if(r!==null){if(e=r.tag,e===13){if(e=sY(r),e!==null){t.blockedOn=e,vY(t.priority,function(){gY(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=hA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);aA=n,r.target.dispatchEvent(n),aA=null}else return e=sb(r),e!==null&&gD(e),t.blockedOn=r,!1;e.shift()}return!0}function SF(t,e,r){jw(t)&&r.delete(e)}function Dpe(){cA=!1,Ef!==null&&jw(Ef)&&(Ef=null),Tf!==null&&jw(Tf)&&(Tf=null),Cf!==null&&jw(Cf)&&(Cf=null),H2.forEach(SF),V2.forEach(SF)}function iy(t,e){t.blockedOn===e&&(t.blockedOn=null,cA||(cA=!0,Vo.unstable_scheduleCallback(Vo.unstable_NormalPriority,Dpe)))}function U2(t){function e(i){return iy(i,t)}if(0<z4.length){iy(z4[0],t);for(var r=1;r<z4.length;r++){var n=z4[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ef!==null&&iy(Ef,t),Tf!==null&&iy(Tf,t),Cf!==null&&iy(Cf,t),H2.forEach(e),V2.forEach(e),r=0;r<of.length;r++)n=of[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<of.length&&(r=of[0],r.blockedOn===null);)yY(r),r.blockedOn===null&&of.shift()}var Yg=Ch.ReactCurrentBatchConfig,r5=!0;function Rpe(t,e,r,n){var i=kn,a=Yg.transition;Yg.transition=null;try{kn=1,mD(t,e,r,n)}finally{kn=i,Yg.transition=a}}function Mpe(t,e,r,n){var i=kn,a=Yg.transition;Yg.transition=null;try{kn=4,mD(t,e,r,n)}finally{kn=i,Yg.transition=a}}function mD(t,e,r,n){if(r5){var i=hA(t,e,r,n);if(i===null)w6(t,e,n,n5,r),wF(t,n);else if(Lpe(i,t,e,r,n))n.stopPropagation();else if(wF(t,n),e&4&&-1<_pe.indexOf(t)){for(;i!==null;){var a=sb(i);if(a!==null&&pY(a),a=hA(t,e,r,n),a===null&&w6(t,e,n,n5,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else w6(t,e,n,null,r)}}var n5=null;function hA(t,e,r,n){if(n5=null,t=fD(n),t=i0(t),t!==null)if(e=dp(t),e===null)t=null;else if(r=e.tag,r===13){if(t=sY(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return n5=t,null}function xY(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xpe()){case dD:return 1;case cY:return 4;case e5:case bpe:return 16;case hY:return 536870912;default:return 16}default:return 16}}var gf=null,vD=null,Kw=null;function bY(){if(Kw)return Kw;var t,e=vD,r=e.length,n,i="value"in gf?gf.value:gf.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Kw=i.slice(t,1<n?1-n:void 0)}function Qw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function H4(){return!0}function kF(){return!1}function Xo(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?H4:kF,this.isPropagationStopped=kF,this}return mi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=H4)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=H4)},persist:function(){},isPersistent:H4}),e}var Ym={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yD=Xo(Ym),ab=mi({},Ym,{view:0,detail:0}),Npe=Xo(ab),f6,d6,ay,Ok=mi({},ab,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xD,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ay&&(ay&&t.type==="mousemove"?(f6=t.screenX-ay.screenX,d6=t.screenY-ay.screenY):d6=f6=0,ay=t),f6)},movementY:function(t){return"movementY"in t?t.movementY:d6}}),EF=Xo(Ok),Ipe=mi({},Ok,{dataTransfer:0}),Ope=Xo(Ipe),Ppe=mi({},ab,{relatedTarget:0}),p6=Xo(Ppe),Fpe=mi({},Ym,{animationName:0,elapsedTime:0,pseudoElement:0}),Bpe=Xo(Fpe),$pe=mi({},Ym,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zpe=Xo($pe),Hpe=mi({},Ym,{data:0}),TF=Xo(Hpe),Vpe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Upe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gpe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wpe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gpe[t])?!!e[t]:!1}function xD(){return Wpe}var qpe=mi({},ab,{key:function(t){if(t.key){var e=Vpe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Upe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xD,charCode:function(t){return t.type==="keypress"?Qw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ype=Xo(qpe),Xpe=mi({},Ok,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CF=Xo(Xpe),jpe=mi({},ab,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xD}),Kpe=Xo(jpe),Qpe=mi({},Ym,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zpe=Xo(Qpe),Jpe=mi({},Ok,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ege=Xo(Jpe),tge=[9,13,27,32],bD=ah&&"CompositionEvent"in window,p2=null;ah&&"documentMode"in document&&(p2=document.documentMode);var rge=ah&&"TextEvent"in window&&!p2,wY=ah&&(!bD||p2&&8<p2&&11>=p2),AF=" ",_F=!1;function SY(t,e){switch(t){case"keyup":return tge.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kY(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kg=!1;function nge(t,e){switch(t){case"compositionend":return kY(e);case"keypress":return e.which!==32?null:(_F=!0,AF);case"textInput":return t=e.data,t===AF&&_F?null:t;default:return null}}function ige(t,e){if(kg)return t==="compositionend"||!bD&&SY(t,e)?(t=bY(),Kw=vD=gf=null,kg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wY&&e.locale!=="ko"?null:e.data;default:return null}}var age={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LF(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!age[t.type]:e==="textarea"}function EY(t,e,r,n){tY(n),e=i5(e,"onChange"),0<e.length&&(r=new yD("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var g2=null,G2=null;function sge(t){OY(t,0)}function Pk(t){var e=Cg(t);if(Xq(e))return t}function oge(t,e){if(t==="change")return e}var TY=!1;if(ah){var g6;if(ah){var m6="oninput"in document;if(!m6){var DF=document.createElement("div");DF.setAttribute("oninput","return;"),m6=typeof DF.oninput=="function"}g6=m6}else g6=!1;TY=g6&&(!document.documentMode||9<document.documentMode)}function RF(){g2&&(g2.detachEvent("onpropertychange",CY),G2=g2=null)}function CY(t){if(t.propertyName==="value"&&Pk(G2)){var e=[];EY(e,G2,t,fD(t)),aY(sge,e)}}function lge(t,e,r){t==="focusin"?(RF(),g2=e,G2=r,g2.attachEvent("onpropertychange",CY)):t==="focusout"&&RF()}function uge(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pk(G2)}function cge(t,e){if(t==="click")return Pk(e)}function hge(t,e){if(t==="input"||t==="change")return Pk(e)}function fge(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gu=typeof Object.is=="function"?Object.is:fge;function W2(t,e){if(gu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Y8.call(e,i)||!gu(t[i],e[i]))return!1}return!0}function MF(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function NF(t,e){var r=MF(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=MF(r)}}function AY(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AY(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _Y(){for(var t=window,e=Q3();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Q3(t.document)}return e}function wD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dge(t){var e=_Y(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&AY(r.ownerDocument.documentElement,r)){if(n!==null&&wD(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=NF(r,a);var s=NF(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pge=ah&&"documentMode"in document&&11>=document.documentMode,Eg=null,fA=null,m2=null,dA=!1;function IF(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dA||Eg==null||Eg!==Q3(n)||(n=Eg,"selectionStart"in n&&wD(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),m2&&W2(m2,n)||(m2=n,n=i5(fA,"onSelect"),0<n.length&&(e=new yD("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Eg)))}function V4(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Tg={animationend:V4("Animation","AnimationEnd"),animationiteration:V4("Animation","AnimationIteration"),animationstart:V4("Animation","AnimationStart"),transitionend:V4("Transition","TransitionEnd")},v6={},LY={};ah&&(LY=document.createElement("div").style,"AnimationEvent"in window||(delete Tg.animationend.animation,delete Tg.animationiteration.animation,delete Tg.animationstart.animation),"TransitionEvent"in window||delete Tg.transitionend.transition);function Fk(t){if(v6[t])return v6[t];if(!Tg[t])return t;var e=Tg[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in LY)return v6[t]=e[r];return t}var DY=Fk("animationend"),RY=Fk("animationiteration"),MY=Fk("animationstart"),NY=Fk("transitionend"),IY=new Map,OF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sd(t,e){IY.set(t,e),fp(e,[t])}for(var y6=0;y6<OF.length;y6++){var x6=OF[y6],gge=x6.toLowerCase(),mge=x6[0].toUpperCase()+x6.slice(1);sd(gge,"on"+mge)}sd(DY,"onAnimationEnd");sd(RY,"onAnimationIteration");sd(MY,"onAnimationStart");sd("dblclick","onDoubleClick");sd("focusin","onFocus");sd("focusout","onBlur");sd(NY,"onTransitionEnd");Z1("onMouseEnter",["mouseout","mouseover"]);Z1("onMouseLeave",["mouseout","mouseover"]);Z1("onPointerEnter",["pointerout","pointerover"]);Z1("onPointerLeave",["pointerout","pointerover"]);fp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fp("onBeforeInput",["compositionend","keypress","textInput","paste"]);fp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vge=new Set("cancel close invalid load scroll toggle".split(" ").concat(zy));function PF(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,gpe(n,e,void 0,t),t.currentTarget=null}function OY(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;PF(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;PF(i,o,u),a=l}}}if(J3)throw t=lA,J3=!1,lA=null,t}function qn(t,e){var r=e[yA];r===void 0&&(r=e[yA]=new Set);var n=t+"__bubble";r.has(n)||(PY(e,t,2,!1),r.add(n))}function b6(t,e,r){var n=0;e&&(n|=4),PY(r,t,n,e)}var U4="_reactListening"+Math.random().toString(36).slice(2);function q2(t){if(!t[U4]){t[U4]=!0,Uq.forEach(function(r){r!=="selectionchange"&&(vge.has(r)||b6(r,!1,t),b6(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[U4]||(e[U4]=!0,b6("selectionchange",!1,e))}}function PY(t,e,r,n){switch(xY(e)){case 1:var i=Rpe;break;case 4:i=Mpe;break;default:i=mD}r=i.bind(null,e,r,t),i=void 0,!oA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function w6(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=i0(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}aY(function(){var u=a,h=fD(r),f=[];e:{var d=IY.get(t);if(d!==void 0){var p=yD,m=t;switch(t){case"keypress":if(Qw(r)===0)break e;case"keydown":case"keyup":p=Ype;break;case"focusin":m="focus",p=p6;break;case"focusout":m="blur",p=p6;break;case"beforeblur":case"afterblur":p=p6;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=EF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ope;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Kpe;break;case DY:case RY:case MY:p=Bpe;break;case NY:p=Zpe;break;case"scroll":p=Npe;break;case"wheel":p=ege;break;case"copy":case"cut":case"paste":p=zpe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=CF}var v=(e&4)!==0,x=!v&&t==="scroll",y=v?d!==null?d+"Capture":null:d;v=[];for(var w=u,S;w!==null;){S=w;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,y!==null&&(E=z2(w,y),E!=null&&v.push(Y2(w,E,S)))),x)break;w=w.return}0<v.length&&(d=new p(d,m,null,r,h),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&r!==aA&&(m=r.relatedTarget||r.fromElement)&&(i0(m)||m[sh]))break e;if((p||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?i0(m):null,m!==null&&(x=dp(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(v=EF,E="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=CF,E="onPointerLeave",y="onPointerEnter",w="pointer"),x=p==null?d:Cg(p),S=m==null?d:Cg(m),d=new v(E,w+"leave",p,r,h),d.target=x,d.relatedTarget=S,E=null,i0(h)===u&&(v=new v(y,w+"enter",m,r,h),v.target=S,v.relatedTarget=x,E=v),x=E,p&&m)t:{for(v=p,y=m,w=0,S=v;S;S=eg(S))w++;for(S=0,E=y;E;E=eg(E))S++;for(;0<w-S;)v=eg(v),w--;for(;0<S-w;)y=eg(y),S--;for(;w--;){if(v===y||y!==null&&v===y.alternate)break t;v=eg(v),y=eg(y)}v=null}else v=null;p!==null&&FF(f,d,p,v,!1),m!==null&&x!==null&&FF(f,x,m,v,!0)}}e:{if(d=u?Cg(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=oge;else if(LF(d))if(TY)C=hge;else{C=uge;var L=lge}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=cge);if(C&&(C=C(t,u))){EY(f,C,r,h);break e}L&&L(t,d,u),t==="focusout"&&(L=d._wrapperState)&&L.controlled&&d.type==="number"&&eA(d,"number",d.value)}switch(L=u?Cg(u):window,t){case"focusin":(LF(L)||L.contentEditable==="true")&&(Eg=L,fA=u,m2=null);break;case"focusout":m2=fA=Eg=null;break;case"mousedown":dA=!0;break;case"contextmenu":case"mouseup":case"dragend":dA=!1,IF(f,r,h);break;case"selectionchange":if(pge)break;case"keydown":case"keyup":IF(f,r,h)}var _;if(bD)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else kg?SY(t,r)&&(I="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(wY&&r.locale!=="ko"&&(kg||I!=="onCompositionStart"?I==="onCompositionEnd"&&kg&&(_=bY()):(gf=h,vD="value"in gf?gf.value:gf.textContent,kg=!0)),L=i5(u,I),0<L.length&&(I=new TF(I,t,null,r,h),f.push({event:I,listeners:L}),_?I.data=_:(_=kY(r),_!==null&&(I.data=_)))),(_=rge?nge(t,r):ige(t,r))&&(u=i5(u,"onBeforeInput"),0<u.length&&(h=new TF("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=_))}OY(f,e)})}function Y2(t,e,r){return{instance:t,listener:e,currentTarget:r}}function i5(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=z2(t,r),a!=null&&n.unshift(Y2(t,a,i)),a=z2(t,e),a!=null&&n.push(Y2(t,a,i))),t=t.return}return n}function eg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function FF(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=z2(r,a),l!=null&&s.unshift(Y2(r,l,o))):i||(l=z2(r,a),l!=null&&s.push(Y2(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var yge=/\r\n?/g,xge=/\u0000|\uFFFD/g;function BF(t){return(typeof t=="string"?t:""+t).replace(yge,`
`).replace(xge,"")}function G4(t,e,r){if(e=BF(e),BF(t)!==e&&r)throw Error(Lt(425))}function a5(){}var pA=null,gA=null;function mA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vA=typeof setTimeout=="function"?setTimeout:void 0,bge=typeof clearTimeout=="function"?clearTimeout:void 0,$F=typeof Promise=="function"?Promise:void 0,wge=typeof queueMicrotask=="function"?queueMicrotask:typeof $F<"u"?function(t){return $F.resolve(null).then(t).catch(Sge)}:vA;function Sge(t){setTimeout(function(){throw t})}function S6(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),U2(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);U2(e)}function Af(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zF(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Xm=Math.random().toString(36).slice(2),zu="__reactFiber$"+Xm,X2="__reactProps$"+Xm,sh="__reactContainer$"+Xm,yA="__reactEvents$"+Xm,kge="__reactListeners$"+Xm,Ege="__reactHandles$"+Xm;function i0(t){var e=t[zu];if(e)return e;for(var r=t.parentNode;r;){if(e=r[sh]||r[zu]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=zF(t);t!==null;){if(r=t[zu])return r;t=zF(t)}return e}t=r,r=t.parentNode}return null}function sb(t){return t=t[zu]||t[sh],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Lt(33))}function Bk(t){return t[X2]||null}var xA=[],Ag=-1;function od(t){return{current:t}}function Kn(t){0>Ag||(t.current=xA[Ag],xA[Ag]=null,Ag--)}function zn(t,e){Ag++,xA[Ag]=t.current,t.current=e}var Bf={},gs=od(Bf),mo=od(!1),_0=Bf;function J1(t,e){var r=t.type.contextTypes;if(!r)return Bf;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vo(t){return t=t.childContextTypes,t!=null}function s5(){Kn(mo),Kn(gs)}function HF(t,e,r){if(gs.current!==Bf)throw Error(Lt(168));zn(gs,e),zn(mo,r)}function FY(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Lt(108,lpe(t)||"Unknown",i));return mi({},r,n)}function o5(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bf,_0=gs.current,zn(gs,t),zn(mo,mo.current),!0}function VF(t,e,r){var n=t.stateNode;if(!n)throw Error(Lt(169));r?(t=FY(t,e,_0),n.__reactInternalMemoizedMergedChildContext=t,Kn(mo),Kn(gs),zn(gs,t)):Kn(mo),zn(mo,r)}var Bc=null,$k=!1,k6=!1;function BY(t){Bc===null?Bc=[t]:Bc.push(t)}function Tge(t){$k=!0,BY(t)}function ld(){if(!k6&&Bc!==null){k6=!0;var t=0,e=kn;try{var r=Bc;for(kn=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Bc=null,$k=!1}catch(i){throw Bc!==null&&(Bc=Bc.slice(t+1)),uY(dD,ld),i}finally{kn=e,k6=!1}}return null}var _g=[],Lg=0,l5=null,u5=0,ul=[],cl=0,L0=null,Gc=1,Wc="";function Vd(t,e){_g[Lg++]=u5,_g[Lg++]=l5,l5=t,u5=e}function $Y(t,e,r){ul[cl++]=Gc,ul[cl++]=Wc,ul[cl++]=L0,L0=t;var n=Gc;t=Wc;var i=32-ru(n)-1;n&=~(1<<i),r+=1;var a=32-ru(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Gc=1<<32-ru(e)+i|r<<i|n,Wc=a+t}else Gc=1<<a|r<<i|n,Wc=t}function SD(t){t.return!==null&&(Vd(t,1),$Y(t,1,0))}function kD(t){for(;t===l5;)l5=_g[--Lg],_g[Lg]=null,u5=_g[--Lg],_g[Lg]=null;for(;t===L0;)L0=ul[--cl],ul[cl]=null,Wc=ul[--cl],ul[cl]=null,Gc=ul[--cl],ul[cl]=null}var Bo=null,Fo=null,ii=!1,Zl=null;function zY(t,e){var r=vl(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function UF(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bo=t,Fo=Af(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bo=t,Fo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=L0!==null?{id:Gc,overflow:Wc}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=vl(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Bo=t,Fo=null,!0):!1;default:return!1}}function bA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wA(t){if(ii){var e=Fo;if(e){var r=e;if(!UF(t,e)){if(bA(t))throw Error(Lt(418));e=Af(r.nextSibling);var n=Bo;e&&UF(t,e)?zY(n,r):(t.flags=t.flags&-4097|2,ii=!1,Bo=t)}}else{if(bA(t))throw Error(Lt(418));t.flags=t.flags&-4097|2,ii=!1,Bo=t}}}function GF(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bo=t}function W4(t){if(t!==Bo)return!1;if(!ii)return GF(t),ii=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mA(t.type,t.memoizedProps)),e&&(e=Fo)){if(bA(t))throw HY(),Error(Lt(418));for(;e;)zY(t,e),e=Af(e.nextSibling)}if(GF(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Lt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Fo=Af(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Fo=null}}else Fo=Bo?Af(t.stateNode.nextSibling):null;return!0}function HY(){for(var t=Fo;t;)t=Af(t.nextSibling)}function em(){Fo=Bo=null,ii=!1}function ED(t){Zl===null?Zl=[t]:Zl.push(t)}var Cge=Ch.ReactCurrentBatchConfig;function sy(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Lt(309));var n=r.stateNode}if(!n)throw Error(Lt(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Lt(284));if(!r._owner)throw Error(Lt(290,t))}return t}function q4(t,e){throw t=Object.prototype.toString.call(e),Error(Lt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function WF(t){var e=t._init;return e(t._payload)}function VY(t){function e(y,w){if(t){var S=y.deletions;S===null?(y.deletions=[w],y.flags|=16):S.push(w)}}function r(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Rf(y,w),y.index=0,y.sibling=null,y}function a(y,w,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<w?(y.flags|=2,w):S):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,S,E){return w===null||w.tag!==6?(w=D6(S,y.mode,E),w.return=y,w):(w=i(w,S),w.return=y,w)}function l(y,w,S,E){var C=S.type;return C===Sg?h(y,w,S.props.children,E,S.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rf&&WF(C)===w.type)?(E=i(w,S.props),E.ref=sy(y,w,S),E.return=y,E):(E=i3(S.type,S.key,S.props,null,y.mode,E),E.ref=sy(y,w,S),E.return=y,E)}function u(y,w,S,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=R6(S,y.mode,E),w.return=y,w):(w=i(w,S.children||[]),w.return=y,w)}function h(y,w,S,E,C){return w===null||w.tag!==7?(w=b0(S,y.mode,E,C),w.return=y,w):(w=i(w,S),w.return=y,w)}function f(y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=D6(""+w,y.mode,S),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case O4:return S=i3(w.type,w.key,w.props,null,y.mode,S),S.ref=sy(y,null,w),S.return=y,S;case wg:return w=R6(w,y.mode,S),w.return=y,w;case rf:var E=w._init;return f(y,E(w._payload),S)}if(By(w)||ty(w))return w=b0(w,y.mode,S,null),w.return=y,w;q4(y,w)}return null}function d(y,w,S,E){var C=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:o(y,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case O4:return S.key===C?l(y,w,S,E):null;case wg:return S.key===C?u(y,w,S,E):null;case rf:return C=S._init,d(y,w,C(S._payload),E)}if(By(S)||ty(S))return C!==null?null:h(y,w,S,E,null);q4(y,S)}return null}function p(y,w,S,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(S)||null,o(w,y,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case O4:return y=y.get(E.key===null?S:E.key)||null,l(w,y,E,C);case wg:return y=y.get(E.key===null?S:E.key)||null,u(w,y,E,C);case rf:var L=E._init;return p(y,w,S,L(E._payload),C)}if(By(E)||ty(E))return y=y.get(S)||null,h(w,y,E,C,null);q4(w,E)}return null}function m(y,w,S,E){for(var C=null,L=null,_=w,I=w=0,D=null;_!==null&&I<S.length;I++){_.index>I?(D=_,_=null):D=_.sibling;var F=d(y,_,S[I],E);if(F===null){_===null&&(_=D);break}t&&_&&F.alternate===null&&e(y,_),w=a(F,w,I),L===null?C=F:L.sibling=F,L=F,_=D}if(I===S.length)return r(y,_),ii&&Vd(y,I),C;if(_===null){for(;I<S.length;I++)_=f(y,S[I],E),_!==null&&(w=a(_,w,I),L===null?C=_:L.sibling=_,L=_);return ii&&Vd(y,I),C}for(_=n(y,_);I<S.length;I++)D=p(_,y,I,S[I],E),D!==null&&(t&&D.alternate!==null&&_.delete(D.key===null?I:D.key),w=a(D,w,I),L===null?C=D:L.sibling=D,L=D);return t&&_.forEach(function(M){return e(y,M)}),ii&&Vd(y,I),C}function v(y,w,S,E){var C=ty(S);if(typeof C!="function")throw Error(Lt(150));if(S=C.call(S),S==null)throw Error(Lt(151));for(var L=C=null,_=w,I=w=0,D=null,F=S.next();_!==null&&!F.done;I++,F=S.next()){_.index>I?(D=_,_=null):D=_.sibling;var M=d(y,_,F.value,E);if(M===null){_===null&&(_=D);break}t&&_&&M.alternate===null&&e(y,_),w=a(M,w,I),L===null?C=M:L.sibling=M,L=M,_=D}if(F.done)return r(y,_),ii&&Vd(y,I),C;if(_===null){for(;!F.done;I++,F=S.next())F=f(y,F.value,E),F!==null&&(w=a(F,w,I),L===null?C=F:L.sibling=F,L=F);return ii&&Vd(y,I),C}for(_=n(y,_);!F.done;I++,F=S.next())F=p(_,y,I,F.value,E),F!==null&&(t&&F.alternate!==null&&_.delete(F.key===null?I:F.key),w=a(F,w,I),L===null?C=F:L.sibling=F,L=F);return t&&_.forEach(function(B){return e(y,B)}),ii&&Vd(y,I),C}function x(y,w,S,E){if(typeof S=="object"&&S!==null&&S.type===Sg&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case O4:e:{for(var C=S.key,L=w;L!==null;){if(L.key===C){if(C=S.type,C===Sg){if(L.tag===7){r(y,L.sibling),w=i(L,S.props.children),w.return=y,y=w;break e}}else if(L.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rf&&WF(C)===L.type){r(y,L.sibling),w=i(L,S.props),w.ref=sy(y,L,S),w.return=y,y=w;break e}r(y,L);break}else e(y,L);L=L.sibling}S.type===Sg?(w=b0(S.props.children,y.mode,E,S.key),w.return=y,y=w):(E=i3(S.type,S.key,S.props,null,y.mode,E),E.ref=sy(y,w,S),E.return=y,y=E)}return s(y);case wg:e:{for(L=S.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){r(y,w.sibling),w=i(w,S.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else e(y,w);w=w.sibling}w=R6(S,y.mode,E),w.return=y,y=w}return s(y);case rf:return L=S._init,x(y,w,L(S._payload),E)}if(By(S))return m(y,w,S,E);if(ty(S))return v(y,w,S,E);q4(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,S),w.return=y,y=w):(r(y,w),w=D6(S,y.mode,E),w.return=y,y=w),s(y)):r(y,w)}return x}var tm=VY(!0),UY=VY(!1),c5=od(null),h5=null,Dg=null,TD=null;function CD(){TD=Dg=h5=null}function AD(t){var e=c5.current;Kn(c5),t._currentValue=e}function SA(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Xg(t,e){h5=t,TD=Dg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(po=!0),t.firstContext=null)}function Tl(t){var e=t._currentValue;if(TD!==t)if(t={context:t,memoizedValue:e,next:null},Dg===null){if(h5===null)throw Error(Lt(308));Dg=t,h5.dependencies={lanes:0,firstContext:t}}else Dg=Dg.next=t;return e}var a0=null;function _D(t){a0===null?a0=[t]:a0.push(t)}function GY(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,_D(e)):(r.next=i.next,i.next=r),e.interleaved=r,oh(t,n)}function oh(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var nf=!1;function LD(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WY(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _f(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Jr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,oh(t,r)}return i=n.interleaved,i===null?(e.next=e,_D(n)):(e.next=i.next,i.next=e),n.interleaved=e,oh(t,r)}function Zw(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,pD(t,r)}}function qF(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function f5(t,e,r,n){var i=t.updateQueue;nf=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,h=u=l=null,o=a;do{var d=o.lane,p=o.eventTime;if((n&d)===d){h!==null&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,v=o;switch(d=e,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=mi({},f,d);break e;case 2:nf=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=p,l=f):h=h.next=p,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);R0|=s,t.lanes=s,t.memoizedState=f}}function YF(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Lt(191,i));i.call(n)}}}var ob={},Ju=od(ob),j2=od(ob),K2=od(ob);function s0(t){if(t===ob)throw Error(Lt(174));return t}function DD(t,e){switch(zn(K2,e),zn(j2,t),zn(Ju,ob),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rA(e,t)}Kn(Ju),zn(Ju,e)}function rm(){Kn(Ju),Kn(j2),Kn(K2)}function qY(t){s0(K2.current);var e=s0(Ju.current),r=rA(e,t.type);e!==r&&(zn(j2,t),zn(Ju,r))}function RD(t){j2.current===t&&(Kn(Ju),Kn(j2))}var hi=od(0);function d5(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var E6=[];function MD(){for(var t=0;t<E6.length;t++)E6[t]._workInProgressVersionPrimary=null;E6.length=0}var Jw=Ch.ReactCurrentDispatcher,T6=Ch.ReactCurrentBatchConfig,D0=0,pi=null,Ji=null,va=null,p5=!1,v2=!1,Q2=0,Age=0;function es(){throw Error(Lt(321))}function ND(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!gu(t[r],e[r]))return!1;return!0}function ID(t,e,r,n,i,a){if(D0=a,pi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jw.current=t===null||t.memoizedState===null?Rge:Mge,t=r(n,i),v2){a=0;do{if(v2=!1,Q2=0,25<=a)throw Error(Lt(301));a+=1,va=Ji=null,e.updateQueue=null,Jw.current=Nge,t=r(n,i)}while(v2)}if(Jw.current=g5,e=Ji!==null&&Ji.next!==null,D0=0,va=Ji=pi=null,p5=!1,e)throw Error(Lt(300));return t}function OD(){var t=Q2!==0;return Q2=0,t}function Nu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return va===null?pi.memoizedState=va=t:va=va.next=t,va}function Cl(){if(Ji===null){var t=pi.alternate;t=t!==null?t.memoizedState:null}else t=Ji.next;var e=va===null?pi.memoizedState:va.next;if(e!==null)va=e,Ji=t;else{if(t===null)throw Error(Lt(310));Ji=t,t={memoizedState:Ji.memoizedState,baseState:Ji.baseState,baseQueue:Ji.baseQueue,queue:Ji.queue,next:null},va===null?pi.memoizedState=va=t:va=va.next=t}return va}function Z2(t,e){return typeof e=="function"?e(t):e}function C6(t){var e=Cl(),r=e.queue;if(r===null)throw Error(Lt(311));r.lastRenderedReducer=t;var n=Ji,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var h=u.lane;if((D0&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,pi.lanes|=h,R0|=h}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,gu(n,e.memoizedState)||(po=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,pi.lanes|=a,R0|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function A6(t){var e=Cl(),r=e.queue;if(r===null)throw Error(Lt(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);gu(a,e.memoizedState)||(po=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function YY(){}function XY(t,e){var r=pi,n=Cl(),i=e(),a=!gu(n.memoizedState,i);if(a&&(n.memoizedState=i,po=!0),n=n.queue,PD(QY.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||va!==null&&va.memoizedState.tag&1){if(r.flags|=2048,J2(9,KY.bind(null,r,n,i,e),void 0,null),ba===null)throw Error(Lt(349));D0&30||jY(r,e,i)}return i}function jY(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=pi.updateQueue,e===null?(e={lastEffect:null,stores:null},pi.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function KY(t,e,r,n){e.value=r,e.getSnapshot=n,ZY(e)&&JY(t)}function QY(t,e,r){return r(function(){ZY(e)&&JY(t)})}function ZY(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!gu(t,r)}catch{return!0}}function JY(t){var e=oh(t,1);e!==null&&nu(e,t,1,-1)}function XF(t){var e=Nu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Z2,lastRenderedState:t},e.queue=t,t=t.dispatch=Dge.bind(null,pi,t),[e.memoizedState,t]}function J2(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=pi.updateQueue,e===null?(e={lastEffect:null,stores:null},pi.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function eX(){return Cl().memoizedState}function e3(t,e,r,n){var i=Nu();pi.flags|=t,i.memoizedState=J2(1|e,r,void 0,n===void 0?null:n)}function zk(t,e,r,n){var i=Cl();n=n===void 0?null:n;var a=void 0;if(Ji!==null){var s=Ji.memoizedState;if(a=s.destroy,n!==null&&ND(n,s.deps)){i.memoizedState=J2(e,r,a,n);return}}pi.flags|=t,i.memoizedState=J2(1|e,r,a,n)}function jF(t,e){return e3(8390656,8,t,e)}function PD(t,e){return zk(2048,8,t,e)}function tX(t,e){return zk(4,2,t,e)}function rX(t,e){return zk(4,4,t,e)}function nX(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iX(t,e,r){return r=r!=null?r.concat([t]):null,zk(4,4,nX.bind(null,e,t),r)}function FD(){}function aX(t,e){var r=Cl();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ND(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function sX(t,e){var r=Cl();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ND(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function oX(t,e,r){return D0&21?(gu(r,e)||(r=fY(),pi.lanes|=r,R0|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,po=!0),t.memoizedState=r)}function _ge(t,e){var r=kn;kn=r!==0&&4>r?r:4,t(!0);var n=T6.transition;T6.transition={};try{t(!1),e()}finally{kn=r,T6.transition=n}}function lX(){return Cl().memoizedState}function Lge(t,e,r){var n=Df(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uX(t))cX(e,r);else if(r=GY(t,e,r,n),r!==null){var i=Hs();nu(r,t,n,i),hX(r,e,n)}}function Dge(t,e,r){var n=Df(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uX(t))cX(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,gu(o,s)){var l=e.interleaved;l===null?(i.next=i,_D(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=GY(t,e,i,n),r!==null&&(i=Hs(),nu(r,t,n,i),hX(r,e,n))}}function uX(t){var e=t.alternate;return t===pi||e!==null&&e===pi}function cX(t,e){v2=p5=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function hX(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,pD(t,r)}}var g5={readContext:Tl,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useInsertionEffect:es,useLayoutEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useMutableSource:es,useSyncExternalStore:es,useId:es,unstable_isNewReconciler:!1},Rge={readContext:Tl,useCallback:function(t,e){return Nu().memoizedState=[t,e===void 0?null:e],t},useContext:Tl,useEffect:jF,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,e3(4194308,4,nX.bind(null,e,t),r)},useLayoutEffect:function(t,e){return e3(4194308,4,t,e)},useInsertionEffect:function(t,e){return e3(4,2,t,e)},useMemo:function(t,e){var r=Nu();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Nu();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Lge.bind(null,pi,t),[n.memoizedState,t]},useRef:function(t){var e=Nu();return t={current:t},e.memoizedState=t},useState:XF,useDebugValue:FD,useDeferredValue:function(t){return Nu().memoizedState=t},useTransition:function(){var t=XF(!1),e=t[0];return t=_ge.bind(null,t[1]),Nu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=pi,i=Nu();if(ii){if(r===void 0)throw Error(Lt(407));r=r()}else{if(r=e(),ba===null)throw Error(Lt(349));D0&30||jY(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,jF(QY.bind(null,n,a,t),[t]),n.flags|=2048,J2(9,KY.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Nu(),e=ba.identifierPrefix;if(ii){var r=Wc,n=Gc;r=(n&~(1<<32-ru(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Q2++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Age++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mge={readContext:Tl,useCallback:aX,useContext:Tl,useEffect:PD,useImperativeHandle:iX,useInsertionEffect:tX,useLayoutEffect:rX,useMemo:sX,useReducer:C6,useRef:eX,useState:function(){return C6(Z2)},useDebugValue:FD,useDeferredValue:function(t){var e=Cl();return oX(e,Ji.memoizedState,t)},useTransition:function(){var t=C6(Z2)[0],e=Cl().memoizedState;return[t,e]},useMutableSource:YY,useSyncExternalStore:XY,useId:lX,unstable_isNewReconciler:!1},Nge={readContext:Tl,useCallback:aX,useContext:Tl,useEffect:PD,useImperativeHandle:iX,useInsertionEffect:tX,useLayoutEffect:rX,useMemo:sX,useReducer:A6,useRef:eX,useState:function(){return A6(Z2)},useDebugValue:FD,useDeferredValue:function(t){var e=Cl();return Ji===null?e.memoizedState=t:oX(e,Ji.memoizedState,t)},useTransition:function(){var t=A6(Z2)[0],e=Cl().memoizedState;return[t,e]},useMutableSource:YY,useSyncExternalStore:XY,useId:lX,unstable_isNewReconciler:!1};function Yl(t,e){if(t&&t.defaultProps){e=mi({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function kA(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:mi({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hk={isMounted:function(t){return(t=t._reactInternals)?dp(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Hs(),i=Df(t),a=Zc(n,i);a.payload=e,r!=null&&(a.callback=r),e=_f(t,a,i),e!==null&&(nu(e,t,i,n),Zw(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Hs(),i=Df(t),a=Zc(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=_f(t,a,i),e!==null&&(nu(e,t,i,n),Zw(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Hs(),n=Df(t),i=Zc(r,n);i.tag=2,e!=null&&(i.callback=e),e=_f(t,i,n),e!==null&&(nu(e,t,n,r),Zw(e,t,n))}};function KF(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!W2(r,n)||!W2(i,a):!0}function fX(t,e,r){var n=!1,i=Bf,a=e.contextType;return typeof a=="object"&&a!==null?a=Tl(a):(i=vo(e)?_0:gs.current,n=e.contextTypes,a=(n=n!=null)?J1(t,i):Bf),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hk,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function QF(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Hk.enqueueReplaceState(e,e.state,null)}function EA(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},LD(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Tl(a):(a=vo(e)?_0:gs.current,i.context=J1(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(kA(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hk.enqueueReplaceState(i,i.state,null),f5(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function nm(t,e){try{var r="",n=e;do r+=ope(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function _6(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function TA(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Ige=typeof WeakMap=="function"?WeakMap:Map;function dX(t,e,r){r=Zc(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){v5||(v5=!0,OA=n),TA(t,e)},r}function pX(t,e,r){r=Zc(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){TA(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){TA(t,e),typeof n!="function"&&(Lf===null?Lf=new Set([this]):Lf.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function ZF(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Ige;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Xge.bind(null,t,e,r),e.then(t,t))}function JF(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function eB(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Zc(-1,1),e.tag=2,_f(r,e,1))),r.lanes|=1),t)}var Oge=Ch.ReactCurrentOwner,po=!1;function Ps(t,e,r,n){e.child=t===null?UY(e,null,r,n):tm(e,t.child,r,n)}function tB(t,e,r,n,i){r=r.render;var a=e.ref;return Xg(e,i),n=ID(t,e,r,n,a,i),r=OD(),t!==null&&!po?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lh(t,e,i)):(ii&&r&&SD(e),e.flags|=1,Ps(t,e,n,i),e.child)}function rB(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!WD(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,gX(t,e,a,n,i)):(t=i3(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:W2,r(s,n)&&t.ref===e.ref)return lh(t,e,i)}return e.flags|=1,t=Rf(a,n),t.ref=e.ref,t.return=e,e.child=t}function gX(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(W2(a,n)&&t.ref===e.ref)if(po=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(po=!0);else return e.lanes=t.lanes,lh(t,e,i)}return CA(t,e,r,n,i)}function mX(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},zn(Mg,Mo),Mo|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,zn(Mg,Mo),Mo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,zn(Mg,Mo),Mo|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,zn(Mg,Mo),Mo|=n;return Ps(t,e,i,r),e.child}function vX(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function CA(t,e,r,n,i){var a=vo(r)?_0:gs.current;return a=J1(e,a),Xg(e,i),r=ID(t,e,r,n,a,i),n=OD(),t!==null&&!po?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lh(t,e,i)):(ii&&n&&SD(e),e.flags|=1,Ps(t,e,r,i),e.child)}function nB(t,e,r,n,i){if(vo(r)){var a=!0;o5(e)}else a=!1;if(Xg(e,i),e.stateNode===null)t3(t,e),fX(e,r,n),EA(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Tl(u):(u=vo(r)?_0:gs.current,u=J1(e,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&QF(e,s,n,u),nf=!1;var d=e.memoizedState;s.state=d,f5(e,n,s,i),l=e.memoizedState,o!==n||d!==l||mo.current||nf?(typeof h=="function"&&(kA(e,r,h,n),l=e.memoizedState),(o=nf||KF(e,r,o,n,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,WY(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Yl(e.type,o),s.props=u,f=e.pendingProps,d=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Tl(l):(l=vo(r)?_0:gs.current,l=J1(e,l));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==l)&&QF(e,s,n,l),nf=!1,d=e.memoizedState,s.state=d,f5(e,n,s,i);var m=e.memoizedState;o!==f||d!==m||mo.current||nf?(typeof p=="function"&&(kA(e,r,p,n),m=e.memoizedState),(u=nf||KF(e,r,u,n,d,m,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),s.props=n,s.state=m,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return AA(t,e,r,n,a,i)}function AA(t,e,r,n,i,a){vX(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&VF(e,r,!1),lh(t,e,a);n=e.stateNode,Oge.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=tm(e,t.child,null,a),e.child=tm(e,null,o,a)):Ps(t,e,o,a),e.memoizedState=n.state,i&&VF(e,r,!0),e.child}function yX(t){var e=t.stateNode;e.pendingContext?HF(t,e.pendingContext,e.pendingContext!==e.context):e.context&&HF(t,e.context,!1),DD(t,e.containerInfo)}function iB(t,e,r,n,i){return em(),ED(i),e.flags|=256,Ps(t,e,r,n),e.child}var _A={dehydrated:null,treeContext:null,retryLane:0};function LA(t){return{baseLanes:t,cachePool:null,transitions:null}}function xX(t,e,r){var n=e.pendingProps,i=hi.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),zn(hi,i&1),t===null)return wA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Gk(s,n,0,null),t=b0(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=LA(r),e.memoizedState=_A,t):BD(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Pge(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Rf(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Rf(o,a):(a=b0(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?LA(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=_A,n}return a=t.child,t=a.sibling,n=Rf(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function BD(t,e){return e=Gk({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Y4(t,e,r,n){return n!==null&&ED(n),tm(e,t.child,null,r),t=BD(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Pge(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=_6(Error(Lt(422))),Y4(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Gk({mode:"visible",children:n.children},i,0,null),a=b0(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&tm(e,t.child,null,s),e.child.memoizedState=LA(s),e.memoizedState=_A,a);if(!(e.mode&1))return Y4(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Lt(419)),n=_6(a,n,void 0),Y4(t,e,s,n)}if(o=(s&t.childLanes)!==0,po||o){if(n=ba,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,oh(t,i),nu(n,t,i,-1))}return GD(),n=_6(Error(Lt(421))),Y4(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jge.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Fo=Af(i.nextSibling),Bo=e,ii=!0,Zl=null,t!==null&&(ul[cl++]=Gc,ul[cl++]=Wc,ul[cl++]=L0,Gc=t.id,Wc=t.overflow,L0=e),e=BD(e,n.children),e.flags|=4096,e)}function aB(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),SA(t.return,e,r)}function L6(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function bX(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Ps(t,e,n.children,r),n=hi.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aB(t,r,e);else if(t.tag===19)aB(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(zn(hi,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&d5(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),L6(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&d5(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}L6(e,!0,r,null,a);break;case"together":L6(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function t3(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lh(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),R0|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Lt(153));if(e.child!==null){for(t=e.child,r=Rf(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Rf(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Fge(t,e,r){switch(e.tag){case 3:yX(e),em();break;case 5:qY(e);break;case 1:vo(e.type)&&o5(e);break;case 4:DD(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;zn(c5,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(zn(hi,hi.current&1),e.flags|=128,null):r&e.child.childLanes?xX(t,e,r):(zn(hi,hi.current&1),t=lh(t,e,r),t!==null?t.sibling:null);zn(hi,hi.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return bX(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),zn(hi,hi.current),n)break;return null;case 22:case 23:return e.lanes=0,mX(t,e,r)}return lh(t,e,r)}var wX,DA,SX,kX;wX=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};DA=function(){};SX=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,s0(Ju.current);var a=null;switch(r){case"input":i=Z8(t,i),n=Z8(t,n),a=[];break;case"select":i=mi({},i,{value:void 0}),n=mi({},n,{value:void 0}),a=[];break;case"textarea":i=tA(t,i),n=tA(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=a5)}nA(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(B2.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(B2.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qn("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};kX=function(t,e,r,n){r!==n&&(e.flags|=4)};function oy(t,e){if(!ii)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ts(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Bge(t,e,r){var n=e.pendingProps;switch(kD(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ts(e),null;case 1:return vo(e.type)&&s5(),ts(e),null;case 3:return n=e.stateNode,rm(),Kn(mo),Kn(gs),MD(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(W4(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zl!==null&&(BA(Zl),Zl=null))),DA(t,e),ts(e),null;case 5:RD(e);var i=s0(K2.current);if(r=e.type,t!==null&&e.stateNode!=null)SX(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Lt(166));return ts(e),null}if(t=s0(Ju.current),W4(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[zu]=e,n[X2]=a,t=(e.mode&1)!==0,r){case"dialog":qn("cancel",n),qn("close",n);break;case"iframe":case"object":case"embed":qn("load",n);break;case"video":case"audio":for(i=0;i<zy.length;i++)qn(zy[i],n);break;case"source":qn("error",n);break;case"img":case"image":case"link":qn("error",n),qn("load",n);break;case"details":qn("toggle",n);break;case"input":pF(n,a),qn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},qn("invalid",n);break;case"textarea":mF(n,a),qn("invalid",n)}nA(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&G4(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&G4(n.textContent,o,t),i=["children",""+o]):B2.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&qn("scroll",n)}switch(r){case"input":P4(n),gF(n,a,!0);break;case"textarea":P4(n),vF(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=a5)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qq(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[zu]=e,t[X2]=n,wX(t,e,!1,!1),e.stateNode=t;e:{switch(s=iA(r,n),r){case"dialog":qn("cancel",t),qn("close",t),i=n;break;case"iframe":case"object":case"embed":qn("load",t),i=n;break;case"video":case"audio":for(i=0;i<zy.length;i++)qn(zy[i],t);i=n;break;case"source":qn("error",t),i=n;break;case"img":case"image":case"link":qn("error",t),qn("load",t),i=n;break;case"details":qn("toggle",t),i=n;break;case"input":pF(t,n),i=Z8(t,n),qn("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=mi({},n,{value:void 0}),qn("invalid",t);break;case"textarea":mF(t,n),i=tA(t,n),qn("invalid",t);break;default:i=n}nA(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?eY(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Zq(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&$2(t,l):typeof l=="number"&&$2(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(B2.hasOwnProperty(a)?l!=null&&a==="onScroll"&&qn("scroll",t):l!=null&&lD(t,a,l,s))}switch(r){case"input":P4(t),gF(t,n,!1);break;case"textarea":P4(t),vF(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ff(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Gg(t,!!n.multiple,a,!1):n.defaultValue!=null&&Gg(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=a5)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ts(e),null;case 6:if(t&&e.stateNode!=null)kX(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Lt(166));if(r=s0(K2.current),s0(Ju.current),W4(e)){if(n=e.stateNode,r=e.memoizedProps,n[zu]=e,(a=n.nodeValue!==r)&&(t=Bo,t!==null))switch(t.tag){case 3:G4(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&G4(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zu]=e,e.stateNode=n}return ts(e),null;case 13:if(Kn(hi),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ii&&Fo!==null&&e.mode&1&&!(e.flags&128))HY(),em(),e.flags|=98560,a=!1;else if(a=W4(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Lt(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Lt(317));a[zu]=e}else em(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ts(e),a=!1}else Zl!==null&&(BA(Zl),Zl=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||hi.current&1?sa===0&&(sa=3):GD())),e.updateQueue!==null&&(e.flags|=4),ts(e),null);case 4:return rm(),DA(t,e),t===null&&q2(e.stateNode.containerInfo),ts(e),null;case 10:return AD(e.type._context),ts(e),null;case 17:return vo(e.type)&&s5(),ts(e),null;case 19:if(Kn(hi),a=e.memoizedState,a===null)return ts(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)oy(a,!1);else{if(sa!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=d5(t),s!==null){for(e.flags|=128,oy(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return zn(hi,hi.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ni()>im&&(e.flags|=128,n=!0,oy(a,!1),e.lanes=4194304)}else{if(!n)if(t=d5(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),oy(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ii)return ts(e),null}else 2*Ni()-a.renderingStartTime>im&&r!==1073741824&&(e.flags|=128,n=!0,oy(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ni(),e.sibling=null,r=hi.current,zn(hi,n?r&1|2:r&1),e):(ts(e),null);case 22:case 23:return UD(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Mo&1073741824&&(ts(e),e.subtreeFlags&6&&(e.flags|=8192)):ts(e),null;case 24:return null;case 25:return null}throw Error(Lt(156,e.tag))}function $ge(t,e){switch(kD(e),e.tag){case 1:return vo(e.type)&&s5(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rm(),Kn(mo),Kn(gs),MD(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return RD(e),null;case 13:if(Kn(hi),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Lt(340));em()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Kn(hi),null;case 4:return rm(),null;case 10:return AD(e.type._context),null;case 22:case 23:return UD(),null;case 24:return null;default:return null}}var X4=!1,cs=!1,zge=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function Rg(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xi(t,e,n)}else r.current=null}function RA(t,e,r){try{r()}catch(n){xi(t,e,n)}}var sB=!1;function Hge(t,e){if(pA=r5,t=_Y(),wD(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,h=0,f=t,d=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===r&&++u===i&&(o=s),d===a&&++h===n&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(gA={focusedElem:t,selectionRange:r},r5=!1,Qt=e;Qt!==null;)if(e=Qt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qt=t;else for(;Qt!==null;){e=Qt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Yl(e.type,v),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Lt(163))}}catch(E){xi(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Qt=t;break}Qt=e.return}return m=sB,sB=!1,m}function y2(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&RA(e,r,a)}i=i.next}while(i!==n)}}function Vk(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function MA(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function EX(t){var e=t.alternate;e!==null&&(t.alternate=null,EX(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zu],delete e[X2],delete e[yA],delete e[kge],delete e[Ege])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TX(t){return t.tag===5||t.tag===3||t.tag===4}function oB(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TX(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function NA(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=a5));else if(n!==4&&(t=t.child,t!==null))for(NA(t,e,r),t=t.sibling;t!==null;)NA(t,e,r),t=t.sibling}function IA(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(IA(t,e,r),t=t.sibling;t!==null;)IA(t,e,r),t=t.sibling}var Ia=null,jl=!1;function Wh(t,e,r){for(r=r.child;r!==null;)CX(t,e,r),r=r.sibling}function CX(t,e,r){if(Zu&&typeof Zu.onCommitFiberUnmount=="function")try{Zu.onCommitFiberUnmount(Ik,r)}catch{}switch(r.tag){case 5:cs||Rg(r,e);case 6:var n=Ia,i=jl;Ia=null,Wh(t,e,r),Ia=n,jl=i,Ia!==null&&(jl?(t=Ia,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ia.removeChild(r.stateNode));break;case 18:Ia!==null&&(jl?(t=Ia,r=r.stateNode,t.nodeType===8?S6(t.parentNode,r):t.nodeType===1&&S6(t,r),U2(t)):S6(Ia,r.stateNode));break;case 4:n=Ia,i=jl,Ia=r.stateNode.containerInfo,jl=!0,Wh(t,e,r),Ia=n,jl=i;break;case 0:case 11:case 14:case 15:if(!cs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&RA(r,e,s),i=i.next}while(i!==n)}Wh(t,e,r);break;case 1:if(!cs&&(Rg(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){xi(r,e,o)}Wh(t,e,r);break;case 21:Wh(t,e,r);break;case 22:r.mode&1?(cs=(n=cs)||r.memoizedState!==null,Wh(t,e,r),cs=n):Wh(t,e,r);break;default:Wh(t,e,r)}}function lB(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new zge),e.forEach(function(n){var i=Kge.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Vl(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ia=o.stateNode,jl=!1;break e;case 3:Ia=o.stateNode.containerInfo,jl=!0;break e;case 4:Ia=o.stateNode.containerInfo,jl=!0;break e}o=o.return}if(Ia===null)throw Error(Lt(160));CX(a,s,i),Ia=null,jl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xi(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AX(e,t),e=e.sibling}function AX(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vl(e,t),Lu(t),n&4){try{y2(3,t,t.return),Vk(3,t)}catch(v){xi(t,t.return,v)}try{y2(5,t,t.return)}catch(v){xi(t,t.return,v)}}break;case 1:Vl(e,t),Lu(t),n&512&&r!==null&&Rg(r,r.return);break;case 5:if(Vl(e,t),Lu(t),n&512&&r!==null&&Rg(r,r.return),t.flags&32){var i=t.stateNode;try{$2(i,"")}catch(v){xi(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&jq(i,a),iA(o,s);var u=iA(o,a);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];h==="style"?eY(i,f):h==="dangerouslySetInnerHTML"?Zq(i,f):h==="children"?$2(i,f):lD(i,h,f,u)}switch(o){case"input":J8(i,a);break;case"textarea":Kq(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Gg(i,!!a.multiple,p,!1):d!==!!a.multiple&&(a.defaultValue!=null?Gg(i,!!a.multiple,a.defaultValue,!0):Gg(i,!!a.multiple,a.multiple?[]:"",!1))}i[X2]=a}catch(v){xi(t,t.return,v)}}break;case 6:if(Vl(e,t),Lu(t),n&4){if(t.stateNode===null)throw Error(Lt(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){xi(t,t.return,v)}}break;case 3:if(Vl(e,t),Lu(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{U2(e.containerInfo)}catch(v){xi(t,t.return,v)}break;case 4:Vl(e,t),Lu(t);break;case 13:Vl(e,t),Lu(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(HD=Ni())),n&4&&lB(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(cs=(u=cs)||h,Vl(e,t),cs=u):Vl(e,t),Lu(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Qt=t,h=t.child;h!==null;){for(f=Qt=h;Qt!==null;){switch(d=Qt,p=d.child,d.tag){case 0:case 11:case 14:case 15:y2(4,d,d.return);break;case 1:Rg(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){xi(n,r,v)}}break;case 5:Rg(d,d.return);break;case 22:if(d.memoizedState!==null){cB(f);continue}}p!==null?(p.return=d,Qt=p):cB(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Jq("display",s))}catch(v){xi(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){xi(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vl(e,t),Lu(t),n&4&&lB(t);break;case 21:break;default:Vl(e,t),Lu(t)}}function Lu(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(TX(r)){var n=r;break e}r=r.return}throw Error(Lt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&($2(i,""),n.flags&=-33);var a=oB(t);IA(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=oB(t);NA(t,o,s);break;default:throw Error(Lt(161))}}catch(l){xi(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vge(t,e,r){Qt=t,_X(t)}function _X(t,e,r){for(var n=(t.mode&1)!==0;Qt!==null;){var i=Qt,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||X4;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||cs;o=X4;var u=cs;if(X4=s,(cs=l)&&!u)for(Qt=i;Qt!==null;)s=Qt,l=s.child,s.tag===22&&s.memoizedState!==null?hB(i):l!==null?(l.return=s,Qt=l):hB(i);for(;a!==null;)Qt=a,_X(a),a=a.sibling;Qt=i,X4=o,cs=u}uB(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Qt=a):uB(t)}}function uB(t){for(;Qt!==null;){var e=Qt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cs||Vk(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!cs)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Yl(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&YF(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}YF(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&U2(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Lt(163))}cs||e.flags&512&&MA(e)}catch(d){xi(e,e.return,d)}}if(e===t){Qt=null;break}if(r=e.sibling,r!==null){r.return=e.return,Qt=r;break}Qt=e.return}}function cB(t){for(;Qt!==null;){var e=Qt;if(e===t){Qt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Qt=r;break}Qt=e.return}}function hB(t){for(;Qt!==null;){var e=Qt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Vk(4,e)}catch(l){xi(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){xi(e,i,l)}}var a=e.return;try{MA(e)}catch(l){xi(e,a,l)}break;case 5:var s=e.return;try{MA(e)}catch(l){xi(e,s,l)}}}catch(l){xi(e,e.return,l)}if(e===t){Qt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Qt=o;break}Qt=e.return}}var Uge=Math.ceil,m5=Ch.ReactCurrentDispatcher,$D=Ch.ReactCurrentOwner,Sl=Ch.ReactCurrentBatchConfig,Jr=0,ba=null,Vi=null,za=0,Mo=0,Mg=od(0),sa=0,ex=null,R0=0,Uk=0,zD=0,x2=null,oo=null,HD=0,im=1/0,Oc=null,v5=!1,OA=null,Lf=null,j4=!1,mf=null,y5=0,b2=0,PA=null,r3=-1,n3=0;function Hs(){return Jr&6?Ni():r3!==-1?r3:r3=Ni()}function Df(t){return t.mode&1?Jr&2&&za!==0?za&-za:Cge.transition!==null?(n3===0&&(n3=fY()),n3):(t=kn,t!==0||(t=window.event,t=t===void 0?16:xY(t.type)),t):1}function nu(t,e,r,n){if(50<b2)throw b2=0,PA=null,Error(Lt(185));ib(t,r,n),(!(Jr&2)||t!==ba)&&(t===ba&&(!(Jr&2)&&(Uk|=r),sa===4&&lf(t,za)),yo(t,n),r===1&&Jr===0&&!(e.mode&1)&&(im=Ni()+500,$k&&ld()))}function yo(t,e){var r=t.callbackNode;Cpe(t,e);var n=t5(t,t===ba?za:0);if(n===0)r!==null&&bF(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&bF(r),e===1)t.tag===0?Tge(fB.bind(null,t)):BY(fB.bind(null,t)),wge(function(){!(Jr&6)&&ld()}),r=null;else{switch(dY(n)){case 1:r=dD;break;case 4:r=cY;break;case 16:r=e5;break;case 536870912:r=hY;break;default:r=e5}r=PX(r,LX.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function LX(t,e){if(r3=-1,n3=0,Jr&6)throw Error(Lt(327));var r=t.callbackNode;if(jg()&&t.callbackNode!==r)return null;var n=t5(t,t===ba?za:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=x5(t,n);else{e=n;var i=Jr;Jr|=2;var a=RX();(ba!==t||za!==e)&&(Oc=null,im=Ni()+500,x0(t,e));do try{qge();break}catch(o){DX(t,o)}while(!0);CD(),m5.current=a,Jr=i,Vi!==null?e=0:(ba=null,za=0,e=sa)}if(e!==0){if(e===2&&(i=uA(t),i!==0&&(n=i,e=FA(t,i))),e===1)throw r=ex,x0(t,0),lf(t,n),yo(t,Ni()),r;if(e===6)lf(t,n);else{if(i=t.current.alternate,!(n&30)&&!Gge(i)&&(e=x5(t,n),e===2&&(a=uA(t),a!==0&&(n=a,e=FA(t,a))),e===1))throw r=ex,x0(t,0),lf(t,n),yo(t,Ni()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Lt(345));case 2:Ud(t,oo,Oc);break;case 3:if(lf(t,n),(n&130023424)===n&&(e=HD+500-Ni(),10<e)){if(t5(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Hs(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vA(Ud.bind(null,t,oo,Oc),e);break}Ud(t,oo,Oc);break;case 4:if(lf(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-ru(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Ni()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Uge(n/1960))-n,10<n){t.timeoutHandle=vA(Ud.bind(null,t,oo,Oc),n);break}Ud(t,oo,Oc);break;case 5:Ud(t,oo,Oc);break;default:throw Error(Lt(329))}}}return yo(t,Ni()),t.callbackNode===r?LX.bind(null,t):null}function FA(t,e){var r=x2;return t.current.memoizedState.isDehydrated&&(x0(t,e).flags|=256),t=x5(t,e),t!==2&&(e=oo,oo=r,e!==null&&BA(e)),t}function BA(t){oo===null?oo=t:oo.push.apply(oo,t)}function Gge(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!gu(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lf(t,e){for(e&=~zD,e&=~Uk,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ru(e),n=1<<r;t[r]=-1,e&=~n}}function fB(t){if(Jr&6)throw Error(Lt(327));jg();var e=t5(t,0);if(!(e&1))return yo(t,Ni()),null;var r=x5(t,e);if(t.tag!==0&&r===2){var n=uA(t);n!==0&&(e=n,r=FA(t,n))}if(r===1)throw r=ex,x0(t,0),lf(t,e),yo(t,Ni()),r;if(r===6)throw Error(Lt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ud(t,oo,Oc),yo(t,Ni()),null}function VD(t,e){var r=Jr;Jr|=1;try{return t(e)}finally{Jr=r,Jr===0&&(im=Ni()+500,$k&&ld())}}function M0(t){mf!==null&&mf.tag===0&&!(Jr&6)&&jg();var e=Jr;Jr|=1;var r=Sl.transition,n=kn;try{if(Sl.transition=null,kn=1,t)return t()}finally{kn=n,Sl.transition=r,Jr=e,!(Jr&6)&&ld()}}function UD(){Mo=Mg.current,Kn(Mg)}function x0(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,bge(r)),Vi!==null)for(r=Vi.return;r!==null;){var n=r;switch(kD(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&s5();break;case 3:rm(),Kn(mo),Kn(gs),MD();break;case 5:RD(n);break;case 4:rm();break;case 13:Kn(hi);break;case 19:Kn(hi);break;case 10:AD(n.type._context);break;case 22:case 23:UD()}r=r.return}if(ba=t,Vi=t=Rf(t.current,null),za=Mo=e,sa=0,ex=null,zD=Uk=R0=0,oo=x2=null,a0!==null){for(e=0;e<a0.length;e++)if(r=a0[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}a0=null}return t}function DX(t,e){do{var r=Vi;try{if(CD(),Jw.current=g5,p5){for(var n=pi.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}p5=!1}if(D0=0,va=Ji=pi=null,v2=!1,Q2=0,$D.current=null,r===null||r.return===null){sa=1,ex=e,Vi=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=za,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=JF(s);if(p!==null){p.flags&=-257,eB(p,s,o,a,e),p.mode&1&&ZF(a,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){ZF(a,u,e),GD();break e}l=Error(Lt(426))}}else if(ii&&o.mode&1){var x=JF(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),eB(x,s,o,a,e),ED(nm(l,o));break e}}a=l=nm(l,o),sa!==4&&(sa=2),x2===null?x2=[a]:x2.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=dX(a,l,e);qF(a,y);break e;case 1:o=l;var w=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Lf===null||!Lf.has(S)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=pX(a,o,e);qF(a,E);break e}}a=a.return}while(a!==null)}NX(r)}catch(C){e=C,Vi===r&&r!==null&&(Vi=r=r.return);continue}break}while(!0)}function RX(){var t=m5.current;return m5.current=g5,t===null?g5:t}function GD(){(sa===0||sa===3||sa===2)&&(sa=4),ba===null||!(R0&268435455)&&!(Uk&268435455)||lf(ba,za)}function x5(t,e){var r=Jr;Jr|=2;var n=RX();(ba!==t||za!==e)&&(Oc=null,x0(t,e));do try{Wge();break}catch(i){DX(t,i)}while(!0);if(CD(),Jr=r,m5.current=n,Vi!==null)throw Error(Lt(261));return ba=null,za=0,sa}function Wge(){for(;Vi!==null;)MX(Vi)}function qge(){for(;Vi!==null&&!vpe();)MX(Vi)}function MX(t){var e=OX(t.alternate,t,Mo);t.memoizedProps=t.pendingProps,e===null?NX(t):Vi=e,$D.current=null}function NX(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=$ge(r,e),r!==null){r.flags&=32767,Vi=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{sa=6,Vi=null;return}}else if(r=Bge(r,e,Mo),r!==null){Vi=r;return}if(e=e.sibling,e!==null){Vi=e;return}Vi=e=t}while(e!==null);sa===0&&(sa=5)}function Ud(t,e,r){var n=kn,i=Sl.transition;try{Sl.transition=null,kn=1,Yge(t,e,r,n)}finally{Sl.transition=i,kn=n}return null}function Yge(t,e,r,n){do jg();while(mf!==null);if(Jr&6)throw Error(Lt(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Lt(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Ape(t,a),t===ba&&(Vi=ba=null,za=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||j4||(j4=!0,PX(e5,function(){return jg(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Sl.transition,Sl.transition=null;var s=kn;kn=1;var o=Jr;Jr|=4,$D.current=null,Hge(t,r),AX(r,t),dge(gA),r5=!!pA,gA=pA=null,t.current=r,Vge(r),ype(),Jr=o,kn=s,Sl.transition=a}else t.current=r;if(j4&&(j4=!1,mf=t,y5=i),a=t.pendingLanes,a===0&&(Lf=null),wpe(r.stateNode),yo(t,Ni()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(v5)throw v5=!1,t=OA,OA=null,t;return y5&1&&t.tag!==0&&jg(),a=t.pendingLanes,a&1?t===PA?b2++:(b2=0,PA=t):b2=0,ld(),null}function jg(){if(mf!==null){var t=dY(y5),e=Sl.transition,r=kn;try{if(Sl.transition=null,kn=16>t?16:t,mf===null)var n=!1;else{if(t=mf,mf=null,y5=0,Jr&6)throw Error(Lt(331));var i=Jr;for(Jr|=4,Qt=t.current;Qt!==null;){var a=Qt,s=a.child;if(Qt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Qt=u;Qt!==null;){var h=Qt;switch(h.tag){case 0:case 11:case 15:y2(8,h,a)}var f=h.child;if(f!==null)f.return=h,Qt=f;else for(;Qt!==null;){h=Qt;var d=h.sibling,p=h.return;if(EX(h),h===u){Qt=null;break}if(d!==null){d.return=p,Qt=d;break}Qt=p}}}var m=a.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}Qt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Qt=s;else e:for(;Qt!==null;){if(a=Qt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:y2(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Qt=y;break e}Qt=a.return}}var w=t.current;for(Qt=w;Qt!==null;){s=Qt;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,Qt=S;else e:for(s=w;Qt!==null;){if(o=Qt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Vk(9,o)}}catch(C){xi(o,o.return,C)}if(o===s){Qt=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Qt=E;break e}Qt=o.return}}if(Jr=i,ld(),Zu&&typeof Zu.onPostCommitFiberRoot=="function")try{Zu.onPostCommitFiberRoot(Ik,t)}catch{}n=!0}return n}finally{kn=r,Sl.transition=e}}return!1}function dB(t,e,r){e=nm(r,e),e=dX(t,e,1),t=_f(t,e,1),e=Hs(),t!==null&&(ib(t,1,e),yo(t,e))}function xi(t,e,r){if(t.tag===3)dB(t,t,r);else for(;e!==null;){if(e.tag===3){dB(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Lf===null||!Lf.has(n))){t=nm(r,t),t=pX(e,t,1),e=_f(e,t,1),t=Hs(),e!==null&&(ib(e,1,t),yo(e,t));break}}e=e.return}}function Xge(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Hs(),t.pingedLanes|=t.suspendedLanes&r,ba===t&&(za&r)===r&&(sa===4||sa===3&&(za&130023424)===za&&500>Ni()-HD?x0(t,0):zD|=r),yo(t,e)}function IX(t,e){e===0&&(t.mode&1?(e=$4,$4<<=1,!($4&130023424)&&($4=4194304)):e=1);var r=Hs();t=oh(t,e),t!==null&&(ib(t,e,r),yo(t,r))}function jge(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),IX(t,r)}function Kge(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Lt(314))}n!==null&&n.delete(e),IX(t,r)}var OX;OX=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||mo.current)po=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return po=!1,Fge(t,e,r);po=!!(t.flags&131072)}else po=!1,ii&&e.flags&1048576&&$Y(e,u5,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;t3(t,e),t=e.pendingProps;var i=J1(e,gs.current);Xg(e,r),i=ID(null,e,n,t,i,r);var a=OD();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vo(n)?(a=!0,o5(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,LD(e),i.updater=Hk,e.stateNode=i,i._reactInternals=e,EA(e,n,t,r),e=AA(null,e,n,!0,a,r)):(e.tag=0,ii&&a&&SD(e),Ps(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(t3(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Zge(n),t=Yl(n,t),i){case 0:e=CA(null,e,n,t,r);break e;case 1:e=nB(null,e,n,t,r);break e;case 11:e=tB(null,e,n,t,r);break e;case 14:e=rB(null,e,n,Yl(n.type,t),r);break e}throw Error(Lt(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Yl(n,i),CA(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Yl(n,i),nB(t,e,n,i,r);case 3:e:{if(yX(e),t===null)throw Error(Lt(387));n=e.pendingProps,a=e.memoizedState,i=a.element,WY(t,e),f5(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=nm(Error(Lt(423)),e),e=iB(t,e,n,r,i);break e}else if(n!==i){i=nm(Error(Lt(424)),e),e=iB(t,e,n,r,i);break e}else for(Fo=Af(e.stateNode.containerInfo.firstChild),Bo=e,ii=!0,Zl=null,r=UY(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(em(),n===i){e=lh(t,e,r);break e}Ps(t,e,n,r)}e=e.child}return e;case 5:return qY(e),t===null&&wA(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,mA(n,i)?s=null:a!==null&&mA(n,a)&&(e.flags|=32),vX(t,e),Ps(t,e,s,r),e.child;case 6:return t===null&&wA(e),null;case 13:return xX(t,e,r);case 4:return DD(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=tm(e,null,n,r):Ps(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Yl(n,i),tB(t,e,n,i,r);case 7:return Ps(t,e,e.pendingProps,r),e.child;case 8:return Ps(t,e,e.pendingProps.children,r),e.child;case 12:return Ps(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,zn(c5,n._currentValue),n._currentValue=s,a!==null)if(gu(a.value,s)){if(a.children===i.children&&!mo.current){e=lh(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Zc(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),SA(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Lt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),SA(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ps(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Xg(e,r),i=Tl(i),n=n(i),e.flags|=1,Ps(t,e,n,r),e.child;case 14:return n=e.type,i=Yl(n,e.pendingProps),i=Yl(n.type,i),rB(t,e,n,i,r);case 15:return gX(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Yl(n,i),t3(t,e),e.tag=1,vo(n)?(t=!0,o5(e)):t=!1,Xg(e,r),fX(e,n,i),EA(e,n,i,r),AA(null,e,n,!0,t,r);case 19:return bX(t,e,r);case 22:return mX(t,e,r)}throw Error(Lt(156,e.tag))};function PX(t,e){return uY(t,e)}function Qge(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vl(t,e,r,n){return new Qge(t,e,r,n)}function WD(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zge(t){if(typeof t=="function")return WD(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cD)return 11;if(t===hD)return 14}return 2}function Rf(t,e){var r=t.alternate;return r===null?(r=vl(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function i3(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")WD(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Sg:return b0(r.children,i,a,e);case uD:s=8,i|=8;break;case X8:return t=vl(12,r,e,i|2),t.elementType=X8,t.lanes=a,t;case j8:return t=vl(13,r,e,i),t.elementType=j8,t.lanes=a,t;case K8:return t=vl(19,r,e,i),t.elementType=K8,t.lanes=a,t;case qq:return Gk(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gq:s=10;break e;case Wq:s=9;break e;case cD:s=11;break e;case hD:s=14;break e;case rf:s=16,n=null;break e}throw Error(Lt(130,t==null?t:typeof t,""))}return e=vl(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function b0(t,e,r,n){return t=vl(7,t,n,e),t.lanes=r,t}function Gk(t,e,r,n){return t=vl(22,t,n,e),t.elementType=qq,t.lanes=r,t.stateNode={isHidden:!1},t}function D6(t,e,r){return t=vl(6,t,null,e),t.lanes=r,t}function R6(t,e,r){return e=vl(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jge(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h6(0),this.expirationTimes=h6(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h6(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qD(t,e,r,n,i,a,s,o,l){return t=new Jge(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=vl(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},LD(a),t}function e1e(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wg,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function FX(t){if(!t)return Bf;t=t._reactInternals;e:{if(dp(t)!==t||t.tag!==1)throw Error(Lt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Lt(171))}if(t.tag===1){var r=t.type;if(vo(r))return FY(t,r,e)}return e}function BX(t,e,r,n,i,a,s,o,l){return t=qD(r,n,!0,t,i,a,s,o,l),t.context=FX(null),r=t.current,n=Hs(),i=Df(r),a=Zc(n,i),a.callback=e??null,_f(r,a,i),t.current.lanes=i,ib(t,i,n),yo(t,n),t}function Wk(t,e,r,n){var i=e.current,a=Hs(),s=Df(i);return r=FX(r),e.context===null?e.context=r:e.pendingContext=r,e=Zc(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=_f(i,e,s),t!==null&&(nu(t,i,s,a),Zw(t,i,s)),s}function b5(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pB(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function YD(t,e){pB(t,e),(t=t.alternate)&&pB(t,e)}function t1e(){return null}var $X=typeof reportError=="function"?reportError:function(t){console.error(t)};function XD(t){this._internalRoot=t}qk.prototype.render=XD.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Lt(409));Wk(t,e,null,null)};qk.prototype.unmount=XD.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;M0(function(){Wk(null,t,null,null)}),e[sh]=null}};function qk(t){this._internalRoot=t}qk.prototype.unstable_scheduleHydration=function(t){if(t){var e=mY();t={blockedOn:null,target:t,priority:e};for(var r=0;r<of.length&&e!==0&&e<of[r].priority;r++);of.splice(r,0,t),r===0&&yY(t)}};function jD(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gB(){}function r1e(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=b5(s);a.call(u)}}var s=BX(e,n,t,0,null,!1,!1,"",gB);return t._reactRootContainer=s,t[sh]=s.current,q2(t.nodeType===8?t.parentNode:t),M0(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=b5(l);o.call(u)}}var l=qD(t,0,!1,null,null,!1,!1,"",gB);return t._reactRootContainer=l,t[sh]=l.current,q2(t.nodeType===8?t.parentNode:t),M0(function(){Wk(e,l,r,n)}),l}function Xk(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=b5(s);o.call(l)}}Wk(e,s,t,i)}else s=r1e(r,e,t,i,n);return b5(s)}pY=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=$y(e.pendingLanes);r!==0&&(pD(e,r|1),yo(e,Ni()),!(Jr&6)&&(im=Ni()+500,ld()))}break;case 13:M0(function(){var n=oh(t,1);if(n!==null){var i=Hs();nu(n,t,1,i)}}),YD(t,1)}};gD=function(t){if(t.tag===13){var e=oh(t,134217728);if(e!==null){var r=Hs();nu(e,t,134217728,r)}YD(t,134217728)}};gY=function(t){if(t.tag===13){var e=Df(t),r=oh(t,e);if(r!==null){var n=Hs();nu(r,t,e,n)}YD(t,e)}};mY=function(){return kn};vY=function(t,e){var r=kn;try{return kn=t,e()}finally{kn=r}};sA=function(t,e,r){switch(e){case"input":if(J8(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Bk(n);if(!i)throw Error(Lt(90));Xq(n),J8(n,i)}}}break;case"textarea":Kq(t,r);break;case"select":e=r.value,e!=null&&Gg(t,!!r.multiple,e,!1)}};nY=VD;iY=M0;var n1e={usingClientEntryPoint:!1,Events:[sb,Cg,Bk,tY,rY,VD]},ly={findFiberByHostInstance:i0,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i1e={bundleType:ly.bundleType,version:ly.version,rendererPackageName:ly.rendererPackageName,rendererConfig:ly.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ch.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oY(t),t===null?null:t.stateNode},findFiberByHostInstance:ly.findFiberByHostInstance||t1e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var K4=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!K4.isDisabled&&K4.supportsFiber)try{Ik=K4.inject(i1e),Zu=K4}catch{}}Yo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n1e;Yo.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jD(e))throw Error(Lt(200));return e1e(t,e,null,r)};Yo.createRoot=function(t,e){if(!jD(t))throw Error(Lt(299));var r=!1,n="",i=$X;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qD(t,1,!1,null,null,r,!1,n,i),t[sh]=e.current,q2(t.nodeType===8?t.parentNode:t),new XD(e)};Yo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Lt(188)):(t=Object.keys(t).join(","),Error(Lt(268,t)));return t=oY(e),t=t===null?null:t.stateNode,t};Yo.flushSync=function(t){return M0(t)};Yo.hydrate=function(t,e,r){if(!Yk(e))throw Error(Lt(200));return Xk(null,t,e,!0,r)};Yo.hydrateRoot=function(t,e,r){if(!jD(t))throw Error(Lt(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=$X;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=BX(e,null,t,1,r??null,i,!1,a,s),t[sh]=e.current,q2(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new qk(e)};Yo.render=function(t,e,r){if(!Yk(e))throw Error(Lt(200));return Xk(null,t,e,!1,r)};Yo.unmountComponentAtNode=function(t){if(!Yk(t))throw Error(Lt(40));return t._reactRootContainer?(M0(function(){Xk(null,null,t,!1,function(){t._reactRootContainer=null,t[sh]=null})}),!0):!1};Yo.unstable_batchedUpdates=VD;Yo.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Yk(r))throw Error(Lt(200));if(t==null||t._reactInternals===void 0)throw Error(Lt(38));return Xk(t,e,r,!1,n)};Yo.version="18.3.1-next-f1338f8080-20240426";function zX(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zX)}catch(t){console.error(t)}}zX(),zq.exports=Yo;var KD=zq.exports;const a1e=Th(KD);var mB=KD;q8.createRoot=mB.createRoot,q8.hydrateRoot=mB.hydrateRoot;const s1e=typeof window<"u"?mt.useInsertionEffect||mt.useLayoutEffect:()=>{};function Xt(t){const e=mt.useRef(o1e);s1e(()=>{e.current=t},[t]);const r=mt.useRef(null);return r.current||(r.current=function(){return e.current.apply(this,arguments)}),r.current}function o1e(){throw new Error("INVALID_USEEVENT_INVOCATION: the callback from useEvent cannot be invoked before the component has mounted.")}var lb=t=>t.type==="checkbox",o0=t=>t instanceof Date,Fs=t=>t==null;const HX=t=>typeof t=="object";var Pi=t=>!Fs(t)&&!Array.isArray(t)&&HX(t)&&!o0(t),l1e=t=>Pi(t)&&t.target?lb(t.target)?t.target.checked:t.target.value:t,u1e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,c1e=(t,e)=>t.has(u1e(e)),h1e=t=>{const e=t.constructor&&t.constructor.prototype;return Pi(e)&&e.hasOwnProperty("isPrototypeOf")},QD=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ma(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(QD&&(t instanceof Blob||t instanceof FileList))&&(r||Pi(t)))if(e=r?[]:{},!r&&!h1e(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=ma(t[n]));else return t;return e}var ub=t=>Array.isArray(t)?t.filter(Boolean):[],jn=t=>t===void 0,Yt=(t,e,r)=>{if(!e||!Pi(t))return r;const n=ub(e.split(/[,[\].]+?/)).reduce((i,a)=>Fs(i)?i:i[a],t);return jn(n)||n===t?jn(t[e])?r:t[e]:n},Ou=t=>typeof t=="boolean",ZD=t=>/^\w*$/.test(t),VX=t=>ub(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Bn=(t,e,r)=>{let n=-1;const i=ZD(e)?[e]:VX(e),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let l=r;if(n!==s){const u=t[o];l=Pi(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__")return;t[o]=l,t=t[o]}return t};const vB={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},pl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},f1e=mt.createContext(null),UX=()=>mt.useContext(f1e);var d1e=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==pl.all&&(e._proxyFormState[s]=!n||pl.all),t[s]}});return i},Is=t=>Pi(t)&&!Object.keys(t).length,p1e=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Is(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===pl.all)},go=t=>Array.isArray(t)?t:[t],g1e=(t,e,r)=>!t||!e||t===e||go(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function JD(t){const e=mt.useRef(t);e.current=t,mt.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var Uu=t=>typeof t=="string",GX=(t,e,r,n,i)=>Uu(t)?(n&&e.watch.add(t),Yt(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Yt(r,a))):(n&&(e.watchAll=!0),r);function M6(t){const e=UX(),{control:r=e.control,name:n,defaultValue:i,disabled:a,exact:s}=t||{},o=mt.useRef(n);o.current=n,JD({disabled:a,subject:r._subjects.values,next:h=>{g1e(o.current,h.name,s)&&u(ma(GX(o.current,r._names,h.values||r._formValues,!1,i)))}});const[l,u]=mt.useState(r._getWatch(n,i));return mt.useEffect(()=>r._removeUnmounted()),l}var m1e=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},qh=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},N6=(t,e,r={})=>r.shouldFocus||jn(r.shouldFocus)?r.focusName||`${t}.${jn(r.focusIndex)?e:r.focusIndex}.`:"",w2=t=>({isOnSubmit:!t||t===pl.onSubmit,isOnBlur:t===pl.onBlur,isOnChange:t===pl.onChange,isOnAll:t===pl.all,isOnTouch:t===pl.onTouched}),$A=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Kg=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=Yt(t,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(Kg(o,e))break}else if(Pi(o)&&Kg(o,e))break}}};var WX=(t,e,r)=>{const n=go(Yt(t,r));return Bn(n,"root",e[r]),Bn(t,r,n),t},eR=t=>t.type==="file",Hu=t=>typeof t=="function",w5=t=>{if(!QD)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},a3=t=>Uu(t),tR=t=>t.type==="radio",S5=t=>t instanceof RegExp;const yB={value:!1,isValid:!1},xB={value:!0,isValid:!0};var qX=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!jn(t[0].attributes.value)?jn(t[0].value)||t[0].value===""?xB:{value:t[0].value,isValid:!0}:xB:yB}return yB};const bB={isValid:!1,value:null};var YX=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,bB):bB;function wB(t,e,r="validate"){if(a3(t)||Array.isArray(t)&&t.every(a3)||Ou(t)&&!t)return{type:r,message:a3(t)?t:"",ref:e}}var tg=t=>Pi(t)&&!S5(t)?t:{value:t,message:""},zA=async(t,e,r,n,i)=>{const{ref:a,refs:s,required:o,maxLength:l,minLength:u,min:h,max:f,pattern:d,validate:p,name:m,valueAsNumber:v,mount:x,disabled:y}=t._f,w=Yt(e,m);if(!x||y)return{};const S=s?s[0]:a,E=B=>{n&&S.reportValidity&&(S.setCustomValidity(Ou(B)?"":B||""),S.reportValidity())},C={},L=tR(a),_=lb(a),I=L||_,D=(v||eR(a))&&jn(a.value)&&jn(w)||w5(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,F=m1e.bind(null,m,r,C),M=(B,H,R,O=Cc.maxLength,P=Cc.minLength)=>{const z=B?H:R;C[m]={type:B?O:P,message:z,ref:a,...F(B?O:P,z)}};if(i?!Array.isArray(w)||!w.length:o&&(!I&&(D||Fs(w))||Ou(w)&&!w||_&&!qX(s).isValid||L&&!YX(s).isValid)){const{value:B,message:H}=a3(o)?{value:!!o,message:o}:tg(o);if(B&&(C[m]={type:Cc.required,message:H,ref:S,...F(Cc.required,H)},!r))return E(H),C}if(!D&&(!Fs(h)||!Fs(f))){let B,H;const R=tg(f),O=tg(h);if(!Fs(w)&&!isNaN(w)){const P=a.valueAsNumber||w&&+w;Fs(R.value)||(B=P>R.value),Fs(O.value)||(H=P<O.value)}else{const P=a.valueAsDate||new Date(w),z=X=>new Date(new Date().toDateString()+" "+X),$=a.type=="time",V=a.type=="week";Uu(R.value)&&w&&(B=$?z(w)>z(R.value):V?w>R.value:P>new Date(R.value)),Uu(O.value)&&w&&(H=$?z(w)<z(O.value):V?w<O.value:P<new Date(O.value))}if((B||H)&&(M(!!B,R.message,O.message,Cc.max,Cc.min),!r))return E(C[m].message),C}if((l||u)&&!D&&(Uu(w)||i&&Array.isArray(w))){const B=tg(l),H=tg(u),R=!Fs(B.value)&&w.length>+B.value,O=!Fs(H.value)&&w.length<+H.value;if((R||O)&&(M(R,B.message,H.message),!r))return E(C[m].message),C}if(d&&!D&&Uu(w)){const{value:B,message:H}=tg(d);if(S5(B)&&!w.match(B)&&(C[m]={type:Cc.pattern,message:H,ref:a,...F(Cc.pattern,H)},!r))return E(H),C}if(p){if(Hu(p)){const B=await p(w,e),H=wB(B,S);if(H&&(C[m]={...H,...F(Cc.validate,H.message)},!r))return E(H.message),C}else if(Pi(p)){let B={};for(const H in p){if(!Is(B)&&!r)break;const R=wB(await p[H](w,e),S,H);R&&(B={...R,...F(H,R.message)},E(R.message),r&&(C[m]=B))}if(!Is(B)&&(C[m]={ref:S,...B},!r))return C}}return E(!0),C},I6=(t,e)=>[...t,...go(e)],O6=t=>Array.isArray(t)?t.map(()=>{}):void 0;function P6(t,e,r){return[...t.slice(0,e),...go(r),...t.slice(e)]}var F6=(t,e,r)=>Array.isArray(t)?(jn(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],B6=(t,e)=>[...go(e),...go(t)];function v1e(t,e){let r=0;const n=[...t];for(const i of e)n.splice(i-r,1),r++;return ub(n).length?n:[]}var $6=(t,e)=>jn(e)?[]:v1e(t,go(e).sort((r,n)=>r-n)),z6=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]};function y1e(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=jn(t)?n++:t[e[n++]];return t}function x1e(t){for(const e in t)if(t.hasOwnProperty(e)&&!jn(t[e]))return!1;return!0}function Bi(t,e){const r=Array.isArray(e)?e:ZD(e)?[e]:VX(e),n=r.length===1?t:y1e(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Pi(n)&&Is(n)||Array.isArray(n)&&x1e(n))&&Bi(t,r.slice(0,-1)),t}var SB=(t,e,r)=>(t[e]=r,t);function b1e(t){const e=UX(),{control:r=e.control,name:n,keyName:i="id",shouldUnregister:a}=t,[s,o]=mt.useState(r._getFieldArray(n)),l=mt.useRef(r._getFieldArray(n).map(qh)),u=mt.useRef(s),h=mt.useRef(n),f=mt.useRef(!1);h.current=n,u.current=s,r._names.array.add(n),t.rules&&r.register(n,t.rules),JD({next:({values:C,name:L})=>{if(L===h.current||!L){const _=Yt(C,h.current);Array.isArray(_)&&(o(_),l.current=_.map(qh))}},subject:r._subjects.array});const d=mt.useCallback(C=>{f.current=!0,r._updateFieldArray(n,C)},[r,n]),p=(C,L)=>{const _=go(ma(C)),I=I6(r._getFieldArray(n),_);r._names.focus=N6(n,I.length-1,L),l.current=I6(l.current,_.map(qh)),d(I),o(I),r._updateFieldArray(n,I,I6,{argA:O6(C)})},m=(C,L)=>{const _=go(ma(C)),I=B6(r._getFieldArray(n),_);r._names.focus=N6(n,0,L),l.current=B6(l.current,_.map(qh)),d(I),o(I),r._updateFieldArray(n,I,B6,{argA:O6(C)})},v=C=>{const L=$6(r._getFieldArray(n),C);l.current=$6(l.current,C),d(L),o(L),r._updateFieldArray(n,L,$6,{argA:C})},x=(C,L,_)=>{const I=go(ma(L)),D=P6(r._getFieldArray(n),C,I);r._names.focus=N6(n,C,_),l.current=P6(l.current,C,I.map(qh)),d(D),o(D),r._updateFieldArray(n,D,P6,{argA:C,argB:O6(L)})},y=(C,L)=>{const _=r._getFieldArray(n);z6(_,C,L),z6(l.current,C,L),d(_),o(_),r._updateFieldArray(n,_,z6,{argA:C,argB:L},!1)},w=(C,L)=>{const _=r._getFieldArray(n);F6(_,C,L),F6(l.current,C,L),d(_),o(_),r._updateFieldArray(n,_,F6,{argA:C,argB:L},!1)},S=(C,L)=>{const _=ma(L),I=SB(r._getFieldArray(n),C,_);l.current=[...I].map((D,F)=>!D||F===C?qh():l.current[F]),d(I),o([...I]),r._updateFieldArray(n,I,SB,{argA:C,argB:_},!0,!1)},E=C=>{const L=go(ma(C));l.current=L.map(qh),d([...L]),o([...L]),r._updateFieldArray(n,[...L],_=>_,{},!0,!1)};return mt.useEffect(()=>{if(r._state.action=!1,$A(n,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!w2(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then(C=>{const L=Yt(C.errors,n),_=Yt(r._formState.errors,n);(_?!L&&_.type||L&&(_.type!==L.type||_.message!==L.message):L&&L.type)&&(L?Bn(r._formState.errors,n,L):Bi(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const C=Yt(r._fields,n);C&&C._f&&!(w2(r._options.reValidateMode).isOnSubmit&&w2(r._options.mode).isOnSubmit)&&zA(C,r._formValues,r._options.criteriaMode===pl.all,r._options.shouldUseNativeValidation,!0).then(L=>!Is(L)&&r._subjects.state.next({errors:WX(r._formState.errors,L,n)}))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&Kg(r._fields,(C,L)=>{if(r._names.focus&&L.startsWith(r._names.focus)&&C.focus)return C.focus(),1}),r._names.focus="",r._updateValid(),f.current=!1},[s,n,r]),mt.useEffect(()=>(!Yt(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||a)&&r.unregister(n)}),[n,r,i,a]),{swap:mt.useCallback(y,[d,n,r]),move:mt.useCallback(w,[d,n,r]),prepend:mt.useCallback(m,[d,n,r]),append:mt.useCallback(p,[d,n,r]),remove:mt.useCallback(v,[d,n,r]),insert:mt.useCallback(x,[d,n,r]),update:mt.useCallback(S,[d,n,r]),replace:mt.useCallback(E,[d,n,r]),fields:mt.useMemo(()=>s.map((C,L)=>({...C,[i]:l.current[L]||qh()})),[s,i])}}var H6=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},HA=t=>Fs(t)||!HX(t);function uf(t,e){if(HA(t)||HA(e))return t===e;if(o0(t)&&o0(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const s=e[i];if(o0(a)&&o0(s)||Pi(a)&&Pi(s)||Array.isArray(a)&&Array.isArray(s)?!uf(a,s):a!==s)return!1}}return!0}var XX=t=>t.type==="select-multiple",w1e=t=>tR(t)||lb(t),V6=t=>w5(t)&&t.isConnected,jX=t=>{for(const e in t)if(Hu(t[e]))return!0;return!1};function k5(t,e={}){const r=Array.isArray(t);if(Pi(t)||r)for(const n in t)Array.isArray(t[n])||Pi(t[n])&&!jX(t[n])?(e[n]=Array.isArray(t[n])?[]:{},k5(t[n],e[n])):Fs(t[n])||(e[n]=!0);return e}function KX(t,e,r){const n=Array.isArray(t);if(Pi(t)||n)for(const i in t)Array.isArray(t[i])||Pi(t[i])&&!jX(t[i])?jn(e)||HA(r[i])?r[i]=Array.isArray(t[i])?k5(t[i],[]):{...k5(t[i])}:KX(t[i],Fs(e)?{}:e[i],r[i]):r[i]=!uf(t[i],e[i]);return r}var uy=(t,e)=>KX(t,e,k5(e)),QX=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>jn(t)?t:e?t===""?NaN:t&&+t:r&&Uu(t)?new Date(t):n?n(t):t;function U6(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return eR(e)?e.files:tR(e)?YX(t.refs).value:XX(e)?[...e.selectedOptions].map(({value:r})=>r):lb(e)?qX(t.refs).value:QX(jn(e.value)?t.ref.value:e.value,t)}var S1e=(t,e,r,n)=>{const i={};for(const a of t){const s=Yt(e,a);s&&Bn(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},cy=t=>jn(t)?t:S5(t)?t.source:Pi(t)?S5(t.value)?t.value.source:t.value:t;const kB="AsyncFunction";var k1e=t=>(!t||!t.validate)&&!!(Hu(t.validate)&&t.validate.constructor.name===kB||Pi(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===kB)),E1e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function EB(t,e,r){const n=Yt(t,r);if(n||ZD(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=Yt(e,a),o=Yt(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};i.pop()}return{name:r}}var T1e=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,C1e=(t,e)=>!ub(Yt(t,e)).length&&Bi(t,e);const A1e={mode:pl.onSubmit,reValidateMode:pl.onChange,shouldFocusError:!0};function _1e(t={}){let e={...A1e,...t},r={submitCount:0,isDirty:!1,isLoading:Hu(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Pi(e.defaultValues)||Pi(e.values)?ma(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:ma(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:H6(),array:H6(),state:H6()},d=w2(e.mode),p=w2(e.reValidateMode),m=e.criteriaMode===pl.all,v=le=>ke=>{clearTimeout(u),u=setTimeout(le,ke)},x=async le=>{if(!e.disabled&&(h.isValid||le)){const ke=e.resolver?Is((await I()).errors):await F(n,!0);ke!==r.isValid&&f.state.next({isValid:ke})}},y=(le,ke)=>{!e.disabled&&(h.isValidating||h.validatingFields)&&((le||Array.from(o.mount)).forEach(De=>{De&&(ke?Bn(r.validatingFields,De,ke):Bi(r.validatingFields,De))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Is(r.validatingFields)}))},w=(le,ke=[],De,We,qe=!0,Ve=!0)=>{if(We&&De&&!e.disabled){if(s.action=!0,Ve&&Array.isArray(Yt(n,le))){const we=De(Yt(n,le),We.argA,We.argB);qe&&Bn(n,le,we)}if(Ve&&Array.isArray(Yt(r.errors,le))){const we=De(Yt(r.errors,le),We.argA,We.argB);qe&&Bn(r.errors,le,we),C1e(r.errors,le)}if(h.touchedFields&&Ve&&Array.isArray(Yt(r.touchedFields,le))){const we=De(Yt(r.touchedFields,le),We.argA,We.argB);qe&&Bn(r.touchedFields,le,we)}h.dirtyFields&&(r.dirtyFields=uy(i,a)),f.state.next({name:le,isDirty:B(le,ke),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Bn(a,le,ke)},S=(le,ke)=>{Bn(r.errors,le,ke),f.state.next({errors:r.errors})},E=le=>{r.errors=le,f.state.next({errors:r.errors,isValid:!1})},C=(le,ke,De,We)=>{const qe=Yt(n,le);if(qe){const Ve=Yt(a,le,jn(De)?Yt(i,le):De);jn(Ve)||We&&We.defaultChecked||ke?Bn(a,le,ke?Ve:U6(qe._f)):O(le,Ve),s.mount&&x()}},L=(le,ke,De,We,qe)=>{let Ve=!1,we=!1;const Te={name:le};if(!e.disabled){const de=!!(Yt(n,le)&&Yt(n,le)._f&&Yt(n,le)._f.disabled);if(!De||We){h.isDirty&&(we=r.isDirty,r.isDirty=Te.isDirty=B(),Ve=we!==Te.isDirty);const W=de||uf(Yt(i,le),ke);we=!!(!de&&Yt(r.dirtyFields,le)),W||de?Bi(r.dirtyFields,le):Bn(r.dirtyFields,le,!0),Te.dirtyFields=r.dirtyFields,Ve=Ve||h.dirtyFields&&we!==!W}if(De){const W=Yt(r.touchedFields,le);W||(Bn(r.touchedFields,le,De),Te.touchedFields=r.touchedFields,Ve=Ve||h.touchedFields&&W!==De)}Ve&&qe&&f.state.next(Te)}return Ve?Te:{}},_=(le,ke,De,We)=>{const qe=Yt(r.errors,le),Ve=h.isValid&&Ou(ke)&&r.isValid!==ke;if(t.delayError&&De?(l=v(()=>S(le,De)),l(t.delayError)):(clearTimeout(u),l=null,De?Bn(r.errors,le,De):Bi(r.errors,le)),(De?!uf(qe,De):qe)||!Is(We)||Ve){const we={...We,...Ve&&Ou(ke)?{isValid:ke}:{},errors:r.errors,name:le};r={...r,...we},f.state.next(we)}},I=async le=>{y(le,!0);const ke=await e.resolver(a,e.context,S1e(le||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return y(le),ke},D=async le=>{const{errors:ke}=await I(le);if(le)for(const De of le){const We=Yt(ke,De);We?Bn(r.errors,De,We):Bi(r.errors,De)}else r.errors=ke;return ke},F=async(le,ke,De={valid:!0})=>{for(const We in le){const qe=le[We];if(qe){const{_f:Ve,...we}=qe;if(Ve){const Te=o.array.has(Ve.name),de=qe._f&&k1e(qe._f);de&&h.validatingFields&&y([We],!0);const W=await zA(qe,a,m,e.shouldUseNativeValidation&&!ke,Te);if(de&&h.validatingFields&&y([We]),W[Ve.name]&&(De.valid=!1,ke))break;!ke&&(Yt(W,Ve.name)?Te?WX(r.errors,W,Ve.name):Bn(r.errors,Ve.name,W[Ve.name]):Bi(r.errors,Ve.name))}!Is(we)&&await F(we,ke,De)}}return De.valid},M=()=>{for(const le of o.unMount){const ke=Yt(n,le);ke&&(ke._f.refs?ke._f.refs.every(De=>!V6(De)):!V6(ke._f.ref))&&ne(le)}o.unMount=new Set},B=(le,ke)=>!e.disabled&&(le&&ke&&Bn(a,le,ke),!uf(q(),i)),H=(le,ke,De)=>GX(le,o,{...s.mount?a:jn(ke)?i:Uu(le)?{[le]:ke}:ke},De,ke),R=le=>ub(Yt(s.mount?a:i,le,t.shouldUnregister?Yt(i,le,[]):[])),O=(le,ke,De={})=>{const We=Yt(n,le);let qe=ke;if(We){const Ve=We._f;Ve&&(!Ve.disabled&&Bn(a,le,QX(ke,Ve)),qe=w5(Ve.ref)&&Fs(ke)?"":ke,XX(Ve.ref)?[...Ve.ref.options].forEach(we=>we.selected=qe.includes(we.value)):Ve.refs?lb(Ve.ref)?Ve.refs.length>1?Ve.refs.forEach(we=>(!we.defaultChecked||!we.disabled)&&(we.checked=Array.isArray(qe)?!!qe.find(Te=>Te===we.value):qe===we.value)):Ve.refs[0]&&(Ve.refs[0].checked=!!qe):Ve.refs.forEach(we=>we.checked=we.value===qe):eR(Ve.ref)?Ve.ref.value="":(Ve.ref.value=qe,Ve.ref.type||f.values.next({name:le,values:{...a}})))}(De.shouldDirty||De.shouldTouch)&&L(le,qe,De.shouldTouch,De.shouldDirty,!0),De.shouldValidate&&X(le)},P=(le,ke,De)=>{for(const We in ke){const qe=ke[We],Ve=`${le}.${We}`,we=Yt(n,Ve);(o.array.has(le)||Pi(qe)||we&&!we._f)&&!o0(qe)?P(Ve,qe,De):O(Ve,qe,De)}},z=(le,ke,De={})=>{const We=Yt(n,le),qe=o.array.has(le),Ve=ma(ke);Bn(a,le,Ve),qe?(f.array.next({name:le,values:{...a}}),(h.isDirty||h.dirtyFields)&&De.shouldDirty&&f.state.next({name:le,dirtyFields:uy(i,a),isDirty:B(le,Ve)})):We&&!We._f&&!Fs(Ve)?P(le,Ve,De):O(le,Ve,De),$A(le,o)&&f.state.next({...r}),f.values.next({name:s.mount?le:void 0,values:{...a}})},$=async le=>{s.mount=!0;const ke=le.target;let De=ke.name,We=!0;const qe=Yt(n,De),Ve=()=>ke.type?U6(qe._f):l1e(le),we=Te=>{We=Number.isNaN(Te)||o0(Te)&&isNaN(Te.getTime())||uf(Te,Yt(a,De,Te))};if(qe){let Te,de;const W=Ve(),ee=le.type===vB.BLUR||le.type===vB.FOCUS_OUT,te=!E1e(qe._f)&&!e.resolver&&!Yt(r.errors,De)&&!qe._f.deps||T1e(ee,Yt(r.touchedFields,De),r.isSubmitted,p,d),he=$A(De,o,ee);Bn(a,De,W),ee?(qe._f.onBlur&&qe._f.onBlur(le),l&&l(0)):qe._f.onChange&&qe._f.onChange(le);const K=L(De,W,ee,!1),_e=!Is(K)||he;if(!ee&&f.values.next({name:De,type:le.type,values:{...a}}),te)return h.isValid&&(t.mode==="onBlur"?ee&&x():x()),_e&&f.state.next({name:De,...he?{}:K});if(!ee&&he&&f.state.next({...r}),e.resolver){const{errors:ae}=await I([De]);if(we(W),We){const Le=EB(r.errors,n,De),Ne=EB(ae,n,Le.name||De);Te=Ne.error,De=Ne.name,de=Is(ae)}}else y([De],!0),Te=(await zA(qe,a,m,e.shouldUseNativeValidation))[De],y([De]),we(W),We&&(Te?de=!1:h.isValid&&(de=await F(n,!0)));We&&(qe._f.deps&&X(qe._f.deps),_(De,de,Te,K))}},V=(le,ke)=>{if(Yt(r.errors,ke)&&le.focus)return le.focus(),1},X=async(le,ke={})=>{let De,We;const qe=go(le);if(e.resolver){const Ve=await D(jn(le)?le:qe);De=Is(Ve),We=le?!qe.some(we=>Yt(Ve,we)):De}else le?(We=(await Promise.all(qe.map(async Ve=>{const we=Yt(n,Ve);return await F(we&&we._f?{[Ve]:we}:we)}))).every(Boolean),!(!We&&!r.isValid)&&x()):We=De=await F(n);return f.state.next({...!Uu(le)||h.isValid&&De!==r.isValid?{}:{name:le},...e.resolver||!le?{isValid:De}:{},errors:r.errors}),ke.shouldFocus&&!We&&Kg(n,V,le?qe:o.mount),We},q=le=>{const ke={...s.mount?a:i};return jn(le)?ke:Uu(le)?Yt(ke,le):le.map(De=>Yt(ke,De))},Y=(le,ke)=>({invalid:!!Yt((ke||r).errors,le),isDirty:!!Yt((ke||r).dirtyFields,le),error:Yt((ke||r).errors,le),isValidating:!!Yt(r.validatingFields,le),isTouched:!!Yt((ke||r).touchedFields,le)}),U=le=>{le&&go(le).forEach(ke=>Bi(r.errors,ke)),f.state.next({errors:le?r.errors:{}})},Z=(le,ke,De)=>{const We=(Yt(n,le,{_f:{}})._f||{}).ref,qe=Yt(r.errors,le)||{},{ref:Ve,message:we,type:Te,...de}=qe;Bn(r.errors,le,{...de,...ke,ref:We}),f.state.next({name:le,errors:r.errors,isValid:!1}),De&&De.shouldFocus&&We&&We.focus&&We.focus()},pe=(le,ke)=>Hu(le)?f.values.subscribe({next:De=>le(H(void 0,ke),De)}):H(le,ke,!0),ne=(le,ke={})=>{for(const De of le?go(le):o.mount)o.mount.delete(De),o.array.delete(De),ke.keepValue||(Bi(n,De),Bi(a,De)),!ke.keepError&&Bi(r.errors,De),!ke.keepDirty&&Bi(r.dirtyFields,De),!ke.keepTouched&&Bi(r.touchedFields,De),!ke.keepIsValidating&&Bi(r.validatingFields,De),!e.shouldUnregister&&!ke.keepDefaultValue&&Bi(i,De);f.values.next({values:{...a}}),f.state.next({...r,...ke.keepDirty?{isDirty:B()}:{}}),!ke.keepIsValid&&x()},ge=({disabled:le,name:ke,field:De,fields:We,value:qe})=>{if(Ou(le)&&s.mount||le){const Ve=le?void 0:jn(qe)?U6(De?De._f:Yt(We,ke)._f):qe;Bn(a,ke,Ve),L(ke,Ve,!1,!1,!0)}},ye=(le,ke={})=>{let De=Yt(n,le);const We=Ou(ke.disabled)||Ou(e.disabled);return Bn(n,le,{...De||{},_f:{...De&&De._f?De._f:{ref:{name:le}},name:le,mount:!0,...ke}}),o.mount.add(le),De?ge({field:De,disabled:Ou(ke.disabled)?ke.disabled:e.disabled,name:le,value:ke.value}):C(le,!0,ke.value),{...We?{disabled:ke.disabled||e.disabled}:{},...e.progressive?{required:!!ke.required,min:cy(ke.min),max:cy(ke.max),minLength:cy(ke.minLength),maxLength:cy(ke.maxLength),pattern:cy(ke.pattern)}:{},name:le,onChange:$,onBlur:$,ref:qe=>{if(qe){ye(le,ke),De=Yt(n,le);const Ve=jn(qe.value)&&qe.querySelectorAll&&qe.querySelectorAll("input,select,textarea")[0]||qe,we=w1e(Ve),Te=De._f.refs||[];if(we?Te.find(de=>de===Ve):Ve===De._f.ref)return;Bn(n,le,{_f:{...De._f,...we?{refs:[...Te.filter(V6),Ve,...Array.isArray(Yt(i,le))?[{}]:[]],ref:{type:Ve.type,name:le}}:{ref:Ve}}}),C(le,!1,void 0,Ve)}else De=Yt(n,le,{}),De._f&&(De._f.mount=!1),(e.shouldUnregister||ke.shouldUnregister)&&!(c1e(o.array,le)&&s.action)&&o.unMount.add(le)}}},J=()=>e.shouldFocusError&&Kg(n,V,o.mount),se=le=>{Ou(le)&&(f.state.next({disabled:le}),Kg(n,(ke,De)=>{const We=Yt(n,De);We&&(ke.disabled=We._f.disabled||le,Array.isArray(We._f.refs)&&We._f.refs.forEach(qe=>{qe.disabled=We._f.disabled||le}))},0,!1))},oe=(le,ke)=>async De=>{let We;if(De&&(De.preventDefault&&De.preventDefault(),De.persist&&De.persist()),e.disabled){ke&&await ke({...r.errors},De);return}let qe=ma(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:Ve,values:we}=await I();r.errors=Ve,qe=we}else await F(n);if(Bi(r.errors,"root"),Is(r.errors)){f.state.next({errors:{}});try{await le(qe,De)}catch(Ve){We=Ve}}else ke&&await ke({...r.errors},De),J(),setTimeout(J);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Is(r.errors)&&!We,submitCount:r.submitCount+1,errors:r.errors}),We)throw We},fe=(le,ke={})=>{Yt(n,le)&&(jn(ke.defaultValue)?z(le,ma(Yt(i,le))):(z(le,ke.defaultValue),Bn(i,le,ma(ke.defaultValue))),ke.keepTouched||Bi(r.touchedFields,le),ke.keepDirty||(Bi(r.dirtyFields,le),r.isDirty=ke.defaultValue?B(le,ma(Yt(i,le))):B()),ke.keepError||(Bi(r.errors,le),h.isValid&&x()),f.state.next({...r}))},me=(le,ke={})=>{const De=le?ma(le):i,We=ma(De),qe=Is(le),Ve=qe?i:We;if(ke.keepDefaultValues||(i=De),!ke.keepValues){if(ke.keepDirtyValues){const we=new Set([...o.mount,...Object.keys(uy(i,a))]);for(const Te of Array.from(we))Yt(r.dirtyFields,Te)?Bn(Ve,Te,Yt(a,Te)):z(Te,Yt(Ve,Te))}else{if(QD&&jn(le))for(const we of o.mount){const Te=Yt(n,we);if(Te&&Te._f){const de=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if(w5(de)){const W=de.closest("form");if(W){W.reset();break}}}}n={}}a=t.shouldUnregister?ke.keepDefaultValues?ma(i):{}:ma(Ve),f.array.next({values:{...Ve}}),f.values.next({values:{...Ve}})}o={mount:ke.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!h.isValid||!!ke.keepIsValid||!!ke.keepDirtyValues,s.watch=!!t.shouldUnregister,f.state.next({submitCount:ke.keepSubmitCount?r.submitCount:0,isDirty:qe?!1:ke.keepDirty?r.isDirty:!!(ke.keepDefaultValues&&!uf(le,i)),isSubmitted:ke.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:qe?{}:ke.keepDirtyValues?ke.keepDefaultValues&&a?uy(i,a):r.dirtyFields:ke.keepDefaultValues&&le?uy(i,le):ke.keepDirty?r.dirtyFields:{},touchedFields:ke.keepTouched?r.touchedFields:{},errors:ke.keepErrors?r.errors:{},isSubmitSuccessful:ke.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},be=(le,ke)=>me(Hu(le)?le(a):le,ke);return{control:{register:ye,unregister:ne,getFieldState:Y,handleSubmit:oe,setError:Z,_executeSchema:I,_getWatch:H,_getDirty:B,_updateValid:x,_removeUnmounted:M,_updateFieldArray:w,_updateDisabledField:ge,_getFieldArray:R,_reset:me,_resetDefaultValues:()=>Hu(e.defaultValues)&&e.defaultValues().then(le=>{be(le,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:le=>{r={...r,...le}},_disableForm:se,_subjects:f,_proxyFormState:h,_setErrors:E,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(le){s=le},get _defaultValues(){return i},get _names(){return o},set _names(le){o=le},get _formState(){return r},set _formState(le){r=le},get _options(){return e},set _options(le){e={...e,...le}}},trigger:X,register:ye,handleSubmit:oe,watch:pe,setValue:z,getValues:q,reset:be,resetField:fe,clearErrors:U,unregister:ne,setError:Z,setFocus:(le,ke={})=>{const De=Yt(n,le),We=De&&De._f;if(We){const qe=We.refs?We.refs[0]:We.ref;qe.focus&&(qe.focus(),ke.shouldSelect&&Hu(qe.select)&&qe.select())}},getFieldState:Y}}function L1e(t={}){const e=mt.useRef(),r=mt.useRef(),[n,i]=mt.useState({isDirty:!1,isValidating:!1,isLoading:Hu(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Hu(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={..._1e(t),formState:n});const a=e.current.control;return a._options=t,JD({subject:a._subjects.state,next:s=>{p1e(s,a._proxyFormState,a._updateFormState)&&i({...a._formState})}}),mt.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),mt.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),mt.useEffect(()=>{t.values&&!uf(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(s=>({...s}))):a._resetDefaultValues()},[t.values,a]),mt.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),mt.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),mt.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=d1e(n,a),e.current}function D1e({title:t,titleId:e,...r},n){return je.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?je.createElement("title",{id:e},t):null,je.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const R1e=je.forwardRef(D1e);function M1e({title:t,titleId:e,...r},n){return je.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?je.createElement("title",{id:e},t):null,je.createElement("path",{fillRule:"evenodd",d:"M6 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H6Zm1.5 1.5a.75.75 0 0 0-.75.75V16.5a.75.75 0 0 0 1.085.67L12 15.089l4.165 2.083a.75.75 0 0 0 1.085-.671V5.25a.75.75 0 0 0-.75-.75h-9Z",clipRule:"evenodd"}))}const N1e=je.forwardRef(M1e);function I1e({title:t,titleId:e,...r},n){return je.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?je.createElement("title",{id:e},t):null,je.createElement("path",{fillRule:"evenodd",d:"M11.47 13.28a.75.75 0 0 0 1.06 0l7.5-7.5a.75.75 0 0 0-1.06-1.06L12 11.69 5.03 4.72a.75.75 0 0 0-1.06 1.06l7.5 7.5Z",clipRule:"evenodd"}),je.createElement("path",{fillRule:"evenodd",d:"M11.47 19.28a.75.75 0 0 0 1.06 0l7.5-7.5a.75.75 0 1 0-1.06-1.06L12 17.69l-6.97-6.97a.75.75 0 0 0-1.06 1.06l7.5 7.5Z",clipRule:"evenodd"}))}const O1e=je.forwardRef(I1e);function P1e({title:t,titleId:e,...r},n){return je.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?je.createElement("title",{id:e},t):null,je.createElement("path",{fillRule:"evenodd",d:"M10.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L12.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z",clipRule:"evenodd"}),je.createElement("path",{fillRule:"evenodd",d:"M4.72 11.47a.75.75 0 0 0 0 1.06l7.5 7.5a.75.75 0 1 0 1.06-1.06L6.31 12l6.97-6.97a.75.75 0 0 0-1.06-1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const ZX=je.forwardRef(P1e);function F1e({title:t,titleId:e,...r},n){return je.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?je.createElement("title",{id:e},t):null,je.createElement("path",{fillRule:"evenodd",d:"M13.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L11.69 12 4.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}),je.createElement("path",{fillRule:"evenodd",d:"M19.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06L17.69 12l-6.97-6.97a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const JX=je.forwardRef(F1e);function B1e({title:t,titleId:e,...r},n){return je.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?je.createElement("title",{id:e},t):null,je.createElement("path",{fillRule:"evenodd",d:"M11.47 10.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 12.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}),je.createElement("path",{fillRule:"evenodd",d:"M11.47 4.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 6.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const $1e=je.forwardRef(B1e);function z1e({title:t,titleId:e,...r},n){return je.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?je.createElement("title",{id:e},t):null,je.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const H1e=je.forwardRef(z1e);function V1e({title:t,titleId:e,...r},n){return je.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?je.createElement("title",{id:e},t):null,je.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}const U1e=je.forwardRef(V1e);function G1e({title:t,titleId:e,...r},n){return je.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?je.createElement("title",{id:e},t):null,je.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const ej=je.forwardRef(G1e);function W1e({title:t,titleId:e,...r},n){return je.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?je.createElement("title",{id:e},t):null,je.createElement("path",{fillRule:"evenodd",d:"M11.47 4.72a.75.75 0 0 1 1.06 0l3.75 3.75a.75.75 0 0 1-1.06 1.06L12 6.31 8.78 9.53a.75.75 0 0 1-1.06-1.06l3.75-3.75Zm-3.75 9.75a.75.75 0 0 1 1.06 0L12 17.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-3.75 3.75a.75.75 0 0 1-1.06 0l-3.75-3.75a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const q1e=je.forwardRef(W1e);function Y1e({title:t,titleId:e,...r},n){return je.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?je.createElement("title",{id:e},t):null,je.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"}))}const X1e=je.forwardRef(Y1e);function j1e({title:t,titleId:e,...r},n){return je.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?je.createElement("title",{id:e},t):null,je.createElement("path",{fillRule:"evenodd",d:"M15.75 4.5a3 3 0 1 1 .825 2.066l-8.421 4.679a3.002 3.002 0 0 1 0 1.51l8.421 4.679a3 3 0 1 1-.729 1.31l-8.421-4.678a3 3 0 1 1 0-4.132l8.421-4.679a3 3 0 0 1-.096-.755Z",clipRule:"evenodd"}))}const K1e=je.forwardRef(j1e),{createElement:am,createContext:Q1e,createRef:fut,forwardRef:tj,useCallback:to,useContext:rj,useEffect:w0,useImperativeHandle:nj,useLayoutEffect:Z1e,useMemo:J1e,useRef:no,useState:Qg}=Bq,TB=Bq[`useId${Math.random()}`.slice(0,5)],eme=Z1e,jk=Q1e(null);jk.displayName="PanelGroupContext";const S0=eme,tme=typeof TB=="function"?TB:()=>null;let rme=0;function rR(t=null){const e=tme(),r=no(t||e||null);return r.current===null&&(r.current=""+rme++),t??r.current}function ij({children:t,className:e="",collapsedSize:r,collapsible:n,defaultSize:i,forwardedRef:a,id:s,maxSize:o,minSize:l,onCollapse:u,onExpand:h,onResize:f,order:d,style:p,tagName:m="div",...v}){const x=rj(jk);if(x===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:y,expandPanel:w,getPanelSize:S,getPanelStyle:E,groupId:C,isPanelCollapsed:L,reevaluatePanelConstraints:_,registerPanel:I,resizePanel:D,unregisterPanel:F}=x,M=rR(s),B=no({callbacks:{onCollapse:u,onExpand:h,onResize:f},constraints:{collapsedSize:r,collapsible:n,defaultSize:i,maxSize:o,minSize:l},id:M,idIsFromProps:s!==void 0,order:d});no({didLogMissingDefaultSizeWarning:!1}),S0(()=>{const{callbacks:R,constraints:O}=B.current,P={...O};B.current.id=M,B.current.idIsFromProps=s!==void 0,B.current.order=d,R.onCollapse=u,R.onExpand=h,R.onResize=f,O.collapsedSize=r,O.collapsible=n,O.defaultSize=i,O.maxSize=o,O.minSize=l,(P.collapsedSize!==O.collapsedSize||P.collapsible!==O.collapsible||P.maxSize!==O.maxSize||P.minSize!==O.minSize)&&_(B.current,P)}),S0(()=>{const R=B.current;return I(R),()=>{F(R)}},[d,M,I,F]),nj(a,()=>({collapse:()=>{y(B.current)},expand:R=>{w(B.current,R)},getId(){return M},getSize(){return S(B.current)},isCollapsed(){return L(B.current)},isExpanded(){return!L(B.current)},resize:R=>{D(B.current,R)}}),[y,w,S,L,M,D]);const H=E(B.current,i);return am(m,{...v,children:t,className:e,id:s,style:{...H,...p},"data-panel":"","data-panel-collapsible":n||void 0,"data-panel-group-id":C,"data-panel-id":M,"data-panel-size":parseFloat(""+H.flexGrow).toFixed(1)})}const VA=tj((t,e)=>am(ij,{...t,forwardedRef:e}));ij.displayName="Panel";VA.displayName="forwardRef(Panel)";let UA=null,l0=null;function nme(t,e){if(e){const r=(e&uj)!==0,n=(e&cj)!==0,i=(e&hj)!==0,a=(e&fj)!==0;if(r)return i?"se-resize":a?"ne-resize":"e-resize";if(n)return i?"sw-resize":a?"nw-resize":"w-resize";if(i)return"s-resize";if(a)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function ime(){l0!==null&&(document.head.removeChild(l0),UA=null,l0=null)}function G6(t,e){const r=nme(t,e);UA!==r&&(UA=r,l0===null&&(l0=document.createElement("style"),document.head.appendChild(l0)),l0.innerHTML=`*{cursor: ${r}!important;}`)}function aj(t){return t.type==="keydown"}function sj(t){return t.type.startsWith("pointer")}function oj(t){return t.type.startsWith("mouse")}function Kk(t){if(sj(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(oj(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function ame(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function sme(t,e,r){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function ome(t,e){if(t===e)throw new Error("Cannot compare node with itself");const r={a:_B(t),b:_B(e)};let n;for(;r.a.at(-1)===r.b.at(-1);)t=r.a.pop(),e=r.b.pop(),n=t;$r(n,"Stacking order can only be calculated for elements with a common ancestor");const i={a:AB(CB(r.a)),b:AB(CB(r.b))};if(i.a===i.b){const a=n.childNodes,s={a:r.a.at(-1),b:r.b.at(-1)};let o=a.length;for(;o--;){const l=a[o];if(l===s.a)return 1;if(l===s.b)return-1}}return Math.sign(i.a-i.b)}const lme=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function ume(t){var e;const r=getComputedStyle((e=lj(t))!==null&&e!==void 0?e:t).display;return r==="flex"||r==="inline-flex"}function cme(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||ume(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||lme.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function CB(t){let e=t.length;for(;e--;){const r=t[e];if($r(r,"Missing node"),cme(r))return r}return null}function AB(t){return t&&Number(getComputedStyle(t).zIndex)||0}function _B(t){const e=[];for(;t;)e.push(t),t=lj(t);return e}function lj(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const uj=1,cj=2,hj=4,fj=8,hme=ame()==="coarse";let iu=[],Zg=!1,cf=new Map,Qk=new Map;const tx=new Set;function fme(t,e,r,n,i){var a;const{ownerDocument:s}=e,o={direction:r,element:e,hitAreaMargins:n,setResizeHandlerState:i},l=(a=cf.get(s))!==null&&a!==void 0?a:0;return cf.set(s,l+1),tx.add(o),E5(),function(){var h;Qk.delete(t),tx.delete(o);const f=(h=cf.get(s))!==null&&h!==void 0?h:1;if(cf.set(s,f-1),E5(),f===1&&cf.delete(s),iu.includes(o)){const d=iu.indexOf(o);d>=0&&iu.splice(d,1),iR(),i("up",!0,null)}}}function LB(t){const{target:e}=t,{x:r,y:n}=Kk(t);Zg=!0,nR({target:e,x:r,y:n}),E5(),iu.length>0&&(T5("down",t),t.preventDefault(),t.stopPropagation())}function hy(t){const{x:e,y:r}=Kk(t);if(Zg&&t.buttons===0&&(Zg=!1,T5("up",t)),!Zg){const{target:n}=t;nR({target:n,x:e,y:r})}T5("move",t),iR(),iu.length>0&&t.preventDefault()}function rg(t){const{target:e}=t,{x:r,y:n}=Kk(t);Qk.clear(),Zg=!1,iu.length>0&&t.preventDefault(),T5("up",t),nR({target:e,x:r,y:n}),iR(),E5()}function nR({target:t,x:e,y:r}){iu.splice(0);let n=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(n=t),tx.forEach(i=>{const{element:a,hitAreaMargins:s}=i,o=a.getBoundingClientRect(),{bottom:l,left:u,right:h,top:f}=o,d=hme?s.coarse:s.fine;if(e>=u-d&&e<=h+d&&r>=f-d&&r<=l+d){if(n!==null&&document.contains(n)&&a!==n&&!a.contains(n)&&!n.contains(a)&&ome(n,a)>0){let m=n,v=!1;for(;m&&!m.contains(a);){if(sme(m.getBoundingClientRect(),o)){v=!0;break}m=m.parentElement}if(v)return}iu.push(i)}})}function W6(t,e){Qk.set(t,e)}function iR(){let t=!1,e=!1;iu.forEach(n=>{const{direction:i}=n;i==="horizontal"?t=!0:e=!0});let r=0;Qk.forEach(n=>{r|=n}),t&&e?G6("intersection",r):t?G6("horizontal",r):e?G6("vertical",r):ime()}function E5(){cf.forEach((t,e)=>{const{body:r}=e;r.removeEventListener("contextmenu",rg),r.removeEventListener("pointerdown",LB),r.removeEventListener("pointerleave",hy),r.removeEventListener("pointermove",hy)}),window.removeEventListener("pointerup",rg),window.removeEventListener("pointercancel",rg),tx.size>0&&(Zg?(iu.length>0&&cf.forEach((t,e)=>{const{body:r}=e;t>0&&(r.addEventListener("contextmenu",rg),r.addEventListener("pointerleave",hy),r.addEventListener("pointermove",hy))}),window.addEventListener("pointerup",rg),window.addEventListener("pointercancel",rg)):cf.forEach((t,e)=>{const{body:r}=e;t>0&&(r.addEventListener("pointerdown",LB,{capture:!0}),r.addEventListener("pointermove",hy))}))}function T5(t,e){tx.forEach(r=>{const{setResizeHandlerState:n}=r,i=iu.includes(r);n(t,i,e)})}function dme(){const[t,e]=Qg(0);return to(()=>e(r=>r+1),[])}function $r(t,e){if(!t)throw console.error(e),Error(e)}const aR=10;function N0(t,e,r=aR){return t.toFixed(r)===e.toFixed(r)?0:t>e?1:-1}function Hc(t,e,r=aR){return N0(t,e,r)===0}function No(t,e,r){return N0(t,e,r)===0}function pme(t,e,r){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){const i=t[n],a=e[n];if(!No(i,a,r))return!1}return!0}function Ng({panelConstraints:t,panelIndex:e,size:r}){const n=t[e];$r(n!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:i=0,collapsible:a,maxSize:s=100,minSize:o=0}=n;if(N0(r,o)<0)if(a){const l=(i+o)/2;N0(r,l)<0?r=i:r=o}else r=o;return r=Math.min(s,r),r=parseFloat(r.toFixed(aR)),r}function Hy({delta:t,initialLayout:e,panelConstraints:r,pivotIndices:n,prevLayout:i,trigger:a}){if(No(t,0))return e;const s=[...e],[o,l]=n;$r(o!=null,"Invalid first pivot index"),$r(l!=null,"Invalid second pivot index");let u=0;if(a==="keyboard"){{const f=t<0?l:o,d=r[f];$r(d,`Panel constraints not found for index ${f}`);const{collapsedSize:p=0,collapsible:m,minSize:v=0}=d;if(m){const x=e[f];if($r(x!=null,`Previous layout not found for panel index ${f}`),No(x,p)){const y=v-x;N0(y,Math.abs(t))>0&&(t=t<0?0-y:y)}}}{const f=t<0?o:l,d=r[f];$r(d,`No panel constraints found for index ${f}`);const{collapsedSize:p=0,collapsible:m,minSize:v=0}=d;if(m){const x=e[f];if($r(x!=null,`Previous layout not found for panel index ${f}`),No(x,v)){const y=x-p;N0(y,Math.abs(t))>0&&(t=t<0?0-y:y)}}}}{const f=t<0?1:-1;let d=t<0?l:o,p=0;for(;;){const v=e[d];$r(v!=null,`Previous layout not found for panel index ${d}`);const y=Ng({panelConstraints:r,panelIndex:d,size:100})-v;if(p+=y,d+=f,d<0||d>=r.length)break}const m=Math.min(Math.abs(t),Math.abs(p));t=t<0?0-m:m}{let d=t<0?o:l;for(;d>=0&&d<r.length;){const p=Math.abs(t)-Math.abs(u),m=e[d];$r(m!=null,`Previous layout not found for panel index ${d}`);const v=m-p,x=Ng({panelConstraints:r,panelIndex:d,size:v});if(!No(m,x)&&(u+=m-x,s[d]=x,u.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?d--:d++}}if(pme(i,s))return i;{const f=t<0?l:o,d=e[f];$r(d!=null,`Previous layout not found for panel index ${f}`);const p=d+u,m=Ng({panelConstraints:r,panelIndex:f,size:p});if(s[f]=m,!No(m,p)){let v=p-m,y=t<0?l:o;for(;y>=0&&y<r.length;){const w=s[y];$r(w!=null,`Previous layout not found for panel index ${y}`);const S=w+v,E=Ng({panelConstraints:r,panelIndex:y,size:S});if(No(w,E)||(v-=E-w,s[y]=E),No(v,0))break;t>0?y--:y++}}}const h=s.reduce((f,d)=>d+f,0);return No(h,100)?s:i}function gme({layout:t,panelsArray:e,pivotIndices:r}){let n=0,i=100,a=0,s=0;const o=r[0];$r(o!=null,"No pivot index found"),e.forEach((f,d)=>{const{constraints:p}=f,{maxSize:m=100,minSize:v=0}=p;d===o?(n=v,i=m):(a+=v,s+=m)});const l=Math.min(i,100-a),u=Math.max(n,100-s),h=t[o];return{valueMax:l,valueMin:u,valueNow:h}}function rx(t,e=document){return Array.from(e.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`))}function dj(t,e,r=document){const i=rx(t,r).findIndex(a=>a.getAttribute("data-panel-resize-handle-id")===e);return i??null}function pj(t,e,r){const n=dj(t,e,r);return n!=null?[n,n+1]:[-1,-1]}function gj(t,e=document){var r;if(e instanceof HTMLElement&&(e==null||(r=e.dataset)===null||r===void 0?void 0:r.panelGroupId)==t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function Zk(t,e=document){const r=e.querySelector(`[data-panel-resize-handle-id="${t}"]`);return r||null}function mme(t,e,r,n=document){var i,a,s,o;const l=Zk(e,n),u=rx(t,n),h=l?u.indexOf(l):-1,f=(i=(a=r[h])===null||a===void 0?void 0:a.id)!==null&&i!==void 0?i:null,d=(s=(o=r[h+1])===null||o===void 0?void 0:o.id)!==null&&s!==void 0?s:null;return[f,d]}function vme({committedValuesRef:t,eagerValuesRef:e,groupId:r,layout:n,panelDataArray:i,panelGroupElement:a,setLayout:s}){no({didWarnAboutMissingResizeHandle:!1}),S0(()=>{if(!a)return;const o=rx(r,a);for(let l=0;l<i.length-1;l++){const{valueMax:u,valueMin:h,valueNow:f}=gme({layout:n,panelsArray:i,pivotIndices:[l,l+1]}),d=o[l];if(d!=null){const p=i[l];$r(p,`No panel data found for index "${l}"`),d.setAttribute("aria-controls",p.id),d.setAttribute("aria-valuemax",""+Math.round(u)),d.setAttribute("aria-valuemin",""+Math.round(h)),d.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{o.forEach((l,u)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[r,n,i,a]),w0(()=>{if(!a)return;const o=e.current;$r(o,"Eager values not found");const{panelDataArray:l}=o,u=gj(r,a);$r(u!=null,`No group found for id "${r}"`);const h=rx(r,a);$r(h,`No resize handles found for group id "${r}"`);const f=h.map(d=>{const p=d.getAttribute("data-panel-resize-handle-id");$r(p,"Resize handle element has no handle id attribute");const[m,v]=mme(r,p,l,a);if(m==null||v==null)return()=>{};const x=y=>{if(!y.defaultPrevented)switch(y.key){case"Enter":{y.preventDefault();const w=l.findIndex(S=>S.id===m);if(w>=0){const S=l[w];$r(S,`No panel data found for index ${w}`);const E=n[w],{collapsedSize:C=0,collapsible:L,minSize:_=0}=S.constraints;if(E!=null&&L){const I=Hy({delta:No(E,C)?_-C:C-E,initialLayout:n,panelConstraints:l.map(D=>D.constraints),pivotIndices:pj(r,p,a),prevLayout:n,trigger:"keyboard"});n!==I&&s(I)}}break}}};return d.addEventListener("keydown",x),()=>{d.removeEventListener("keydown",x)}});return()=>{f.forEach(d=>d())}},[a,t,e,r,n,i,s])}function DB(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function mj(t,e){const r=t==="horizontal",{x:n,y:i}=Kk(e);return r?n:i}function yme(t,e,r,n,i){const a=r==="horizontal",s=Zk(e,i);$r(s,`No resize handle element found for id "${e}"`);const o=s.getAttribute("data-panel-group-id");$r(o,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=n;const u=mj(r,t),h=gj(o,i);$r(h,`No group element found for id "${o}"`);const f=h.getBoundingClientRect(),d=a?f.width:f.height;return(u-l)/d*100}function xme(t,e,r,n,i,a){if(aj(t)){const s=r==="horizontal";let o=0;t.shiftKey?o=100:i!=null?o=i:o=10;let l=0;switch(t.key){case"ArrowDown":l=s?0:o;break;case"ArrowLeft":l=s?-o:0;break;case"ArrowRight":l=s?o:0;break;case"ArrowUp":l=s?0:-o;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return n==null?0:yme(t,e,r,n,a)}function bme({panelDataArray:t}){const e=Array(t.length),r=t.map(a=>a.constraints);let n=0,i=100;for(let a=0;a<t.length;a++){const s=r[a];$r(s,`Panel constraints not found for index ${a}`);const{defaultSize:o}=s;o!=null&&(n++,e[a]=o,i-=o)}for(let a=0;a<t.length;a++){const s=r[a];$r(s,`Panel constraints not found for index ${a}`);const{defaultSize:o}=s;if(o!=null)continue;const l=t.length-n,u=i/l;n++,e[a]=u,i-=u}return e}function ng(t,e,r){e.forEach((n,i)=>{const a=t[i];$r(a,`Panel data not found for index ${i}`);const{callbacks:s,constraints:o,id:l}=a,{collapsedSize:u=0,collapsible:h}=o,f=r[l];if(f==null||n!==f){r[l]=n;const{onCollapse:d,onExpand:p,onResize:m}=s;m&&m(n,f),h&&(d||p)&&(p&&(f==null||Hc(f,u))&&!Hc(n,u)&&p(),d&&(f==null||!Hc(f,u))&&Hc(n,u)&&d())}})}function Q4(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r])return!1;return!0}function wme({defaultSize:t,dragState:e,layout:r,panelData:n,panelIndex:i,precision:a=3}){const s=r[i];let o;return s==null?o=t!=null?t.toPrecision(a):"1":n.length===1?o="1":o=s.toPrecision(a),{flexBasis:0,flexGrow:o,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function Sme(t,e=10){let r=null;return(...i)=>{r!==null&&clearTimeout(r),r=setTimeout(()=>{t(...i)},e)}}function RB(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,r)=>{localStorage.setItem(e,r)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function vj(t){return`react-resizable-panels:${t}`}function yj(t){return t.map(e=>{const{constraints:r,id:n,idIsFromProps:i,order:a}=e;return i?n:a?`${a}:${JSON.stringify(r)}`:JSON.stringify(r)}).sort((e,r)=>e.localeCompare(r)).join(",")}function xj(t,e){try{const r=vj(t),n=e.getItem(r);if(n){const i=JSON.parse(n);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function kme(t,e,r){var n,i;const a=(n=xj(t,r))!==null&&n!==void 0?n:{},s=yj(e);return(i=a[s])!==null&&i!==void 0?i:null}function Eme(t,e,r,n,i){var a;const s=vj(t),o=yj(e),l=(a=xj(t,i))!==null&&a!==void 0?a:{};l[o]={expandToSizes:Object.fromEntries(r.entries()),layout:n};try{i.setItem(s,JSON.stringify(l))}catch(u){console.error(u)}}function MB({layout:t,panelConstraints:e}){const r=[...t],n=r.reduce((a,s)=>a+s,0);if(r.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${r.map(a=>`${a}%`).join(", ")}`);if(!No(n,100)&&r.length>0)for(let a=0;a<e.length;a++){const s=r[a];$r(s!=null,`No layout data found for index ${a}`);const o=100/n*s;r[a]=o}let i=0;for(let a=0;a<e.length;a++){const s=r[a];$r(s!=null,`No layout data found for index ${a}`);const o=Ng({panelConstraints:e,panelIndex:a,size:s});s!=o&&(i+=s-o,r[a]=o)}if(!No(i,0))for(let a=0;a<e.length;a++){const s=r[a];$r(s!=null,`No layout data found for index ${a}`);const o=s+i,l=Ng({panelConstraints:e,panelIndex:a,size:o});if(s!==l&&(i-=l-s,r[a]=l,No(i,0)))break}return r}const Tme=100,Vy={getItem:t=>(RB(Vy),Vy.getItem(t)),setItem:(t,e)=>{RB(Vy),Vy.setItem(t,e)}},NB={};function bj({autoSaveId:t=null,children:e,className:r="",direction:n,forwardedRef:i,id:a=null,onLayout:s=null,keyboardResizeBy:o=null,storage:l=Vy,style:u,tagName:h="div",...f}){const d=rR(a),p=no(null),[m,v]=Qg(null),[x,y]=Qg([]),w=dme(),S=no({}),E=no(new Map),C=no(0),L=no({autoSaveId:t,direction:n,dragState:m,id:d,keyboardResizeBy:o,onLayout:s,storage:l}),_=no({layout:x,panelDataArray:[],panelDataArrayChanged:!1});no({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),nj(i,()=>({getId:()=>L.current.id,getLayout:()=>{const{layout:U}=_.current;return U},setLayout:U=>{const{onLayout:Z}=L.current,{layout:pe,panelDataArray:ne}=_.current,ge=MB({layout:U,panelConstraints:ne.map(ye=>ye.constraints)});DB(pe,ge)||(y(ge),_.current.layout=ge,Z&&Z(ge),ng(ne,ge,S.current))}}),[]),S0(()=>{L.current.autoSaveId=t,L.current.direction=n,L.current.dragState=m,L.current.id=d,L.current.onLayout=s,L.current.storage=l}),vme({committedValuesRef:L,eagerValuesRef:_,groupId:d,layout:x,panelDataArray:_.current.panelDataArray,setLayout:y,panelGroupElement:p.current}),w0(()=>{const{panelDataArray:U}=_.current;if(t){if(x.length===0||x.length!==U.length)return;let Z=NB[t];Z==null&&(Z=Sme(Eme,Tme),NB[t]=Z);const pe=[...U],ne=new Map(E.current);Z(t,pe,ne,x,l)}},[t,x,l]),w0(()=>{});const I=to(U=>{const{onLayout:Z}=L.current,{layout:pe,panelDataArray:ne}=_.current;if(U.constraints.collapsible){const ge=ne.map(oe=>oe.constraints),{collapsedSize:ye=0,panelSize:J,pivotIndices:se}=Id(ne,U,pe);if($r(J!=null,`Panel size not found for panel "${U.id}"`),!Hc(J,ye)){E.current.set(U.id,J);const fe=vg(ne,U)===ne.length-1?J-ye:ye-J,me=Hy({delta:fe,initialLayout:pe,panelConstraints:ge,pivotIndices:se,prevLayout:pe,trigger:"imperative-api"});Q4(pe,me)||(y(me),_.current.layout=me,Z&&Z(me),ng(ne,me,S.current))}}},[]),D=to((U,Z)=>{const{onLayout:pe}=L.current,{layout:ne,panelDataArray:ge}=_.current;if(U.constraints.collapsible){const ye=ge.map(be=>be.constraints),{collapsedSize:J=0,panelSize:se=0,minSize:oe=0,pivotIndices:fe}=Id(ge,U,ne),me=Z??oe;if(Hc(se,J)){const be=E.current.get(U.id),ce=be!=null&&be>=me?be:me,xe=vg(ge,U)===ge.length-1?se-ce:ce-se,le=Hy({delta:xe,initialLayout:ne,panelConstraints:ye,pivotIndices:fe,prevLayout:ne,trigger:"imperative-api"});Q4(ne,le)||(y(le),_.current.layout=le,pe&&pe(le),ng(ge,le,S.current))}}},[]),F=to(U=>{const{layout:Z,panelDataArray:pe}=_.current,{panelSize:ne}=Id(pe,U,Z);return $r(ne!=null,`Panel size not found for panel "${U.id}"`),ne},[]),M=to((U,Z)=>{const{panelDataArray:pe}=_.current,ne=vg(pe,U);return wme({defaultSize:Z,dragState:m,layout:x,panelData:pe,panelIndex:ne})},[m,x]),B=to(U=>{const{layout:Z,panelDataArray:pe}=_.current,{collapsedSize:ne=0,collapsible:ge,panelSize:ye}=Id(pe,U,Z);return $r(ye!=null,`Panel size not found for panel "${U.id}"`),ge===!0&&Hc(ye,ne)},[]),H=to(U=>{const{layout:Z,panelDataArray:pe}=_.current,{collapsedSize:ne=0,collapsible:ge,panelSize:ye}=Id(pe,U,Z);return $r(ye!=null,`Panel size not found for panel "${U.id}"`),!ge||N0(ye,ne)>0},[]),R=to(U=>{const{panelDataArray:Z}=_.current;Z.push(U),Z.sort((pe,ne)=>{const ge=pe.order,ye=ne.order;return ge==null&&ye==null?0:ge==null?-1:ye==null?1:ge-ye}),_.current.panelDataArrayChanged=!0,w()},[w]);S0(()=>{if(_.current.panelDataArrayChanged){_.current.panelDataArrayChanged=!1;const{autoSaveId:U,onLayout:Z,storage:pe}=L.current,{layout:ne,panelDataArray:ge}=_.current;let ye=null;if(U){const se=kme(U,ge,pe);se&&(E.current=new Map(Object.entries(se.expandToSizes)),ye=se.layout)}ye==null&&(ye=bme({panelDataArray:ge}));const J=MB({layout:ye,panelConstraints:ge.map(se=>se.constraints)});DB(ne,J)||(y(J),_.current.layout=J,Z&&Z(J),ng(ge,J,S.current))}}),S0(()=>{const U=_.current;return()=>{U.layout=[]}},[]);const O=to(U=>{let Z=!1;const pe=p.current;return pe&&window.getComputedStyle(pe,null).getPropertyValue("direction")==="rtl"&&(Z=!0),function(ge){ge.preventDefault();const ye=p.current;if(!ye)return()=>null;const{direction:J,dragState:se,id:oe,keyboardResizeBy:fe,onLayout:me}=L.current,{layout:be,panelDataArray:ce}=_.current,{initialLayout:Ge}=se??{},xe=pj(oe,U,ye);let le=xme(ge,U,J,se,fe,ye);const ke=J==="horizontal";ke&&Z&&(le=-le);const De=ce.map(Ve=>Ve.constraints),We=Hy({delta:le,initialLayout:Ge??be,panelConstraints:De,pivotIndices:xe,prevLayout:be,trigger:aj(ge)?"keyboard":"mouse-or-touch"}),qe=!Q4(be,We);(sj(ge)||oj(ge))&&C.current!=le&&(C.current=le,!qe&&le!==0?ke?W6(U,le<0?uj:cj):W6(U,le<0?hj:fj):W6(U,0)),qe&&(y(We),_.current.layout=We,me&&me(We),ng(ce,We,S.current))}},[]),P=to((U,Z)=>{const{onLayout:pe}=L.current,{layout:ne,panelDataArray:ge}=_.current,ye=ge.map(be=>be.constraints),{panelSize:J,pivotIndices:se}=Id(ge,U,ne);$r(J!=null,`Panel size not found for panel "${U.id}"`);const fe=vg(ge,U)===ge.length-1?J-Z:Z-J,me=Hy({delta:fe,initialLayout:ne,panelConstraints:ye,pivotIndices:se,prevLayout:ne,trigger:"imperative-api"});Q4(ne,me)||(y(me),_.current.layout=me,pe&&pe(me),ng(ge,me,S.current))},[]),z=to((U,Z)=>{const{layout:pe,panelDataArray:ne}=_.current,{collapsedSize:ge=0,collapsible:ye}=Z,{collapsedSize:J=0,collapsible:se,maxSize:oe=100,minSize:fe=0}=U.constraints,{panelSize:me}=Id(ne,U,pe);me!=null&&(ye&&se&&Hc(me,ge)?Hc(ge,J)||P(U,J):me<fe?P(U,fe):me>oe&&P(U,oe))},[P]),$=to((U,Z)=>{const{direction:pe}=L.current,{layout:ne}=_.current;if(!p.current)return;const ge=Zk(U,p.current);$r(ge,`Drag handle element not found for id "${U}"`);const ye=mj(pe,Z);v({dragHandleId:U,dragHandleRect:ge.getBoundingClientRect(),initialCursorPosition:ye,initialLayout:ne})},[]),V=to(()=>{v(null)},[]),X=to(U=>{const{panelDataArray:Z}=_.current,pe=vg(Z,U);pe>=0&&(Z.splice(pe,1),delete S.current[U.id],_.current.panelDataArrayChanged=!0,w())},[w]),q=J1e(()=>({collapsePanel:I,direction:n,dragState:m,expandPanel:D,getPanelSize:F,getPanelStyle:M,groupId:d,isPanelCollapsed:B,isPanelExpanded:H,reevaluatePanelConstraints:z,registerPanel:R,registerResizeHandle:O,resizePanel:P,startDragging:$,stopDragging:V,unregisterPanel:X,panelGroupElement:p.current}),[I,m,n,D,F,M,d,B,H,z,R,O,P,$,V,X]),Y={display:"flex",flexDirection:n==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return am(jk.Provider,{value:q},am(h,{...f,children:e,className:r,id:a,ref:p,style:{...Y,...u},"data-panel-group":"","data-panel-group-direction":n,"data-panel-group-id":d}))}const wj=tj((t,e)=>am(bj,{...t,forwardedRef:e}));bj.displayName="PanelGroup";wj.displayName="forwardRef(PanelGroup)";function vg(t,e){return t.findIndex(r=>r===e||r.id===e.id)}function Id(t,e,r){const n=vg(t,e),a=n===t.length-1?[n-1,n]:[n,n+1],s=r[n];return{...e.constraints,panelSize:s,pivotIndices:a}}function Cme({disabled:t,handleId:e,resizeHandler:r,panelGroupElement:n}){w0(()=>{if(t||r==null||n==null)return;const i=Zk(e,n);if(i==null)return;const a=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),r(s);break}case"F6":{s.preventDefault();const o=i.getAttribute("data-panel-group-id");$r(o,`No group element found for id "${o}"`);const l=rx(o,n),u=dj(o,e,n);$r(u!==null,`No resize element found for id "${e}"`);const h=s.shiftKey?u>0?u-1:l.length-1:u+1<l.length?u+1:0;l[h].focus();break}}};return i.addEventListener("keydown",a),()=>{i.removeEventListener("keydown",a)}},[n,t,e,r])}function Sj({children:t=null,className:e="",disabled:r=!1,hitAreaMargins:n,id:i,onBlur:a,onDragging:s,onFocus:o,style:l={},tabIndex:u=0,tagName:h="div",...f}){var d,p;const m=no(null),v=no({onDragging:s});w0(()=>{v.current.onDragging=s});const x=rj(jk);if(x===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:y,groupId:w,registerResizeHandle:S,startDragging:E,stopDragging:C,panelGroupElement:L}=x,_=rR(i),[I,D]=Qg("inactive"),[F,M]=Qg(!1),[B,H]=Qg(null),R=no({state:I});S0(()=>{R.current.state=I}),w0(()=>{if(r)H(null);else{const $=S(_);H(()=>$)}},[r,_,S]);const O=(d=n==null?void 0:n.coarse)!==null&&d!==void 0?d:15,P=(p=n==null?void 0:n.fine)!==null&&p!==void 0?p:5;return w0(()=>{if(r||B==null)return;const $=m.current;return $r($,"Element ref not attached"),fme(_,$,y,{coarse:O,fine:P},(X,q,Y)=>{if(q)switch(X){case"down":{D("drag"),$r(Y,'Expected event to be defined for "down" action'),E(_,Y);const{onDragging:U}=v.current;U&&U(!0);break}case"move":{const{state:U}=R.current;U!=="drag"&&D("hover"),$r(Y,'Expected event to be defined for "move" action'),B(Y);break}case"up":{D("hover"),C();const{onDragging:U}=v.current;U&&U(!1);break}}else D("inactive")})},[O,y,r,P,S,_,B,E,C]),Cme({disabled:r,handleId:_,resizeHandler:B,panelGroupElement:L}),am(h,{...f,children:t,className:e,id:i,onBlur:()=>{M(!1),a==null||a()},onFocus:()=>{M(!0),o==null||o()},ref:m,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...l},tabIndex:u,"data-panel-group-direction":y,"data-panel-group-id":w,"data-resize-handle":"","data-resize-handle-active":I==="drag"?"pointer":F?"keyboard":void 0,"data-resize-handle-state":I,"data-panel-resize-handle-enabled":!r,"data-panel-resize-handle-id":_})}Sj.displayName="PanelResizeHandle";const Ame="modulepreload",_me=function(t,e){return new URL(t,e).href},IB={},sn=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=_me(u,n),u in IB)return;IB[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(!!n)for(let m=s.length-1;m>=0;m--){const v=s[m];if(v.href===u&&(!h||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":Ame,h||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),h)return new Promise((m,v)=>{p.addEventListener("load",m),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var kj={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Pl,function(){var r=1e3,n=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",u="day",h="week",f="month",d="quarter",p="year",m="date",v="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(R){var O=["th","st","nd","rd"],P=R%100;return"["+R+(O[(P-20)%10]||O[P]||O[0])+"]"}},S=function(R,O,P){var z=String(R);return!z||z.length>=O?R:""+Array(O+1-z.length).join(P)+R},E={s:S,z:function(R){var O=-R.utcOffset(),P=Math.abs(O),z=Math.floor(P/60),$=P%60;return(O<=0?"+":"-")+S(z,2,"0")+":"+S($,2,"0")},m:function R(O,P){if(O.date()<P.date())return-R(P,O);var z=12*(P.year()-O.year())+(P.month()-O.month()),$=O.clone().add(z,f),V=P-$<0,X=O.clone().add(z+(V?-1:1),f);return+(-(z+(P-$)/(V?$-X:X-$))||0)},a:function(R){return R<0?Math.ceil(R)||0:Math.floor(R)},p:function(R){return{M:f,y:p,w:h,d:u,D:m,h:l,m:o,s,ms:a,Q:d}[R]||String(R||"").toLowerCase().replace(/s$/,"")},u:function(R){return R===void 0}},C="en",L={};L[C]=w;var _="$isDayjsObject",I=function(R){return R instanceof B||!(!R||!R[_])},D=function R(O,P,z){var $;if(!O)return C;if(typeof O=="string"){var V=O.toLowerCase();L[V]&&($=V),P&&(L[V]=P,$=V);var X=O.split("-");if(!$&&X.length>1)return R(X[0])}else{var q=O.name;L[q]=O,$=q}return!z&&$&&(C=$),$||!z&&C},F=function(R,O){if(I(R))return R.clone();var P=typeof O=="object"?O:{};return P.date=R,P.args=arguments,new B(P)},M=E;M.l=D,M.i=I,M.w=function(R,O){return F(R,{locale:O.$L,utc:O.$u,x:O.$x,$offset:O.$offset})};var B=function(){function R(P){this.$L=D(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[_]=!0}var O=R.prototype;return O.parse=function(P){this.$d=function(z){var $=z.date,V=z.utc;if($===null)return new Date(NaN);if(M.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var X=$.match(x);if(X){var q=X[2]-1||0,Y=(X[7]||"0").substring(0,3);return V?new Date(Date.UTC(X[1],q,X[3]||1,X[4]||0,X[5]||0,X[6]||0,Y)):new Date(X[1],q,X[3]||1,X[4]||0,X[5]||0,X[6]||0,Y)}}return new Date($)}(P),this.init()},O.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},O.$utils=function(){return M},O.isValid=function(){return this.$d.toString()!==v},O.isSame=function(P,z){var $=F(P);return this.startOf(z)<=$&&$<=this.endOf(z)},O.isAfter=function(P,z){return F(P)<this.startOf(z)},O.isBefore=function(P,z){return this.endOf(z)<F(P)},O.$g=function(P,z,$){return M.u(P)?this[z]:this.set($,P)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function(P,z){var $=this,V=!!M.u(z)||z,X=M.p(P),q=function(J,se){var oe=M.w($.$u?Date.UTC($.$y,se,J):new Date($.$y,se,J),$);return V?oe:oe.endOf(u)},Y=function(J,se){return M.w($.toDate()[J].apply($.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(se)),$)},U=this.$W,Z=this.$M,pe=this.$D,ne="set"+(this.$u?"UTC":"");switch(X){case p:return V?q(1,0):q(31,11);case f:return V?q(1,Z):q(0,Z+1);case h:var ge=this.$locale().weekStart||0,ye=(U<ge?U+7:U)-ge;return q(V?pe-ye:pe+(6-ye),Z);case u:case m:return Y(ne+"Hours",0);case l:return Y(ne+"Minutes",1);case o:return Y(ne+"Seconds",2);case s:return Y(ne+"Milliseconds",3);default:return this.clone()}},O.endOf=function(P){return this.startOf(P,!1)},O.$set=function(P,z){var $,V=M.p(P),X="set"+(this.$u?"UTC":""),q=($={},$[u]=X+"Date",$[m]=X+"Date",$[f]=X+"Month",$[p]=X+"FullYear",$[l]=X+"Hours",$[o]=X+"Minutes",$[s]=X+"Seconds",$[a]=X+"Milliseconds",$)[V],Y=V===u?this.$D+(z-this.$W):z;if(V===f||V===p){var U=this.clone().set(m,1);U.$d[q](Y),U.init(),this.$d=U.set(m,Math.min(this.$D,U.daysInMonth())).$d}else q&&this.$d[q](Y);return this.init(),this},O.set=function(P,z){return this.clone().$set(P,z)},O.get=function(P){return this[M.p(P)]()},O.add=function(P,z){var $,V=this;P=Number(P);var X=M.p(z),q=function(Z){var pe=F(V);return M.w(pe.date(pe.date()+Math.round(Z*P)),V)};if(X===f)return this.set(f,this.$M+P);if(X===p)return this.set(p,this.$y+P);if(X===u)return q(1);if(X===h)return q(7);var Y=($={},$[o]=n,$[l]=i,$[s]=r,$)[X]||1,U=this.$d.getTime()+P*Y;return M.w(U,this)},O.subtract=function(P,z){return this.add(-1*P,z)},O.format=function(P){var z=this,$=this.$locale();if(!this.isValid())return $.invalidDate||v;var V=P||"YYYY-MM-DDTHH:mm:ssZ",X=M.z(this),q=this.$H,Y=this.$m,U=this.$M,Z=$.weekdays,pe=$.months,ne=$.meridiem,ge=function(se,oe,fe,me){return se&&(se[oe]||se(z,V))||fe[oe].slice(0,me)},ye=function(se){return M.s(q%12||12,se,"0")},J=ne||function(se,oe,fe){var me=se<12?"AM":"PM";return fe?me.toLowerCase():me};return V.replace(y,function(se,oe){return oe||function(fe){switch(fe){case"YY":return String(z.$y).slice(-2);case"YYYY":return M.s(z.$y,4,"0");case"M":return U+1;case"MM":return M.s(U+1,2,"0");case"MMM":return ge($.monthsShort,U,pe,3);case"MMMM":return ge(pe,U);case"D":return z.$D;case"DD":return M.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return ge($.weekdaysMin,z.$W,Z,2);case"ddd":return ge($.weekdaysShort,z.$W,Z,3);case"dddd":return Z[z.$W];case"H":return String(q);case"HH":return M.s(q,2,"0");case"h":return ye(1);case"hh":return ye(2);case"a":return J(q,Y,!0);case"A":return J(q,Y,!1);case"m":return String(Y);case"mm":return M.s(Y,2,"0");case"s":return String(z.$s);case"ss":return M.s(z.$s,2,"0");case"SSS":return M.s(z.$ms,3,"0");case"Z":return X}return null}(se)||X.replace(":","")})},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function(P,z,$){var V,X=this,q=M.p(z),Y=F(P),U=(Y.utcOffset()-this.utcOffset())*n,Z=this-Y,pe=function(){return M.m(X,Y)};switch(q){case p:V=pe()/12;break;case f:V=pe();break;case d:V=pe()/3;break;case h:V=(Z-U)/6048e5;break;case u:V=(Z-U)/864e5;break;case l:V=Z/i;break;case o:V=Z/n;break;case s:V=Z/r;break;default:V=Z}return $?V:M.a(V)},O.daysInMonth=function(){return this.endOf(f).$D},O.$locale=function(){return L[this.$L]},O.locale=function(P,z){if(!P)return this.$L;var $=this.clone(),V=D(P,z,!0);return V&&($.$L=V),$},O.clone=function(){return M.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},R}(),H=B.prototype;return F.prototype=H,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",u],["$M",f],["$y",p],["$D",m]].forEach(function(R){H[R[1]]=function(O){return this.$g(O,R[0],R[1])}}),F.extend=function(R,O){return R.$i||(R(O,B,F),R.$i=!0),F},F.locale=D,F.isDayjs=I,F.unix=function(R){return F(1e3*R)},F.en=L[C],F.Ls=L,F.p={},F})})(kj);var Ej=kj.exports;const xa=Th(Ej),s3={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t),hsl2rgb:({h:t,s:e,l:r},n)=>{if(!e)return r*2.55;t/=360,e/=100,r/=100;const i=r<.5?r*(1+e):r+e-r*e,a=2*r-i;switch(n){case"r":return s3.hue2rgb(a,i,t+1/3)*255;case"g":return s3.hue2rgb(a,i,t)*255;case"b":return s3.hue2rgb(a,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:r},n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),a=Math.min(t,e,r),s=(i+a)/2;if(n==="l")return s*100;if(i===a)return 0;const o=i-a,l=s>.5?o/(2-i-a):o/(i+a);if(n==="s")return l*100;switch(i){case t:return((e-r)/o+(e<r?6:0))*60;case e:return((r-t)/o+2)*60;case r:return((t-e)/o+4)*60;default:return-1}}},Lme={clamp:(t,e,r)=>e>r?Math.min(e,Math.max(r,t)):Math.min(r,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},Dme={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},Lr={channel:s3,lang:Lme,unit:Dme},Jh={};for(let t=0;t<=255;t++)Jh[t]=Lr.unit.dec2hex(t);const is={ALL:0,RGB:1,HSL:2};let Rme=class{constructor(){this.type=is.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=is.ALL}is(e){return this.type===e}};class Mme{constructor(e,r){this.color=r,this.changed=!1,this.data=e,this.type=new Rme}set(e,r){return this.color=r,this.changed=!1,this.data=e,this.type.type=is.ALL,this}_ensureHSL(){const e=this.data,{h:r,s:n,l:i}=e;r===void 0&&(e.h=Lr.channel.rgb2hsl(e,"h")),n===void 0&&(e.s=Lr.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=Lr.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r,g:n,b:i}=e;r===void 0&&(e.r=Lr.channel.hsl2rgb(e,"r")),n===void 0&&(e.g=Lr.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=Lr.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,r=e.r;return!this.type.is(is.HSL)&&r!==void 0?r:(this._ensureHSL(),Lr.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,r=e.g;return!this.type.is(is.HSL)&&r!==void 0?r:(this._ensureHSL(),Lr.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,r=e.b;return!this.type.is(is.HSL)&&r!==void 0?r:(this._ensureHSL(),Lr.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,r=e.h;return!this.type.is(is.RGB)&&r!==void 0?r:(this._ensureRGB(),Lr.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,r=e.s;return!this.type.is(is.RGB)&&r!==void 0?r:(this._ensureRGB(),Lr.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,r=e.l;return!this.type.is(is.RGB)&&r!==void 0?r:(this._ensureRGB(),Lr.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(is.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(is.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(is.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(is.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(is.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(is.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const Jk=new Mme({r:0,g:0,b:0,a:0},"transparent"),Jg={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(Jg.re);if(!e)return;const r=e[1],n=parseInt(r,16),i=r.length,a=i%4===0,s=i>4,o=s?1:17,l=s?8:4,u=a?0:-1,h=s?255:15;return Jk.set({r:(n>>l*(u+3)&h)*o,g:(n>>l*(u+2)&h)*o,b:(n>>l*(u+1)&h)*o,a:a?(n&h)*o/255:1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`#${Jh[Math.round(e)]}${Jh[Math.round(r)]}${Jh[Math.round(n)]}${Jh[Math.round(i*255)]}`:`#${Jh[Math.round(e)]}${Jh[Math.round(r)]}${Jh[Math.round(n)]}`}},u0={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(u0.hueRe);if(e){const[,r,n]=e;switch(n){case"grad":return Lr.channel.clamp.h(parseFloat(r)*.9);case"rad":return Lr.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Lr.channel.clamp.h(parseFloat(r)*360)}}return Lr.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const r=t.match(u0.re);if(!r)return;const[,n,i,a,s,o]=r;return Jk.set({h:u0._hue2deg(n),s:Lr.channel.clamp.s(parseFloat(i)),l:Lr.channel.clamp.l(parseFloat(a)),a:s?Lr.channel.clamp.a(o?parseFloat(s)/100:parseFloat(s)):1},t)},stringify:t=>{const{h:e,s:r,l:n,a:i}=t;return i<1?`hsla(${Lr.lang.round(e)}, ${Lr.lang.round(r)}%, ${Lr.lang.round(n)}%, ${i})`:`hsl(${Lr.lang.round(e)}, ${Lr.lang.round(r)}%, ${Lr.lang.round(n)}%)`}},S2={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=S2.colors[t];if(e)return Jg.parse(e)},stringify:t=>{const e=Jg.stringify(t);for(const r in S2.colors)if(S2.colors[r]===e)return r}},Uy={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const r=t.match(Uy.re);if(!r)return;const[,n,i,a,s,o,l,u,h]=r;return Jk.set({r:Lr.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:Lr.channel.clamp.g(s?parseFloat(a)*2.55:parseFloat(a)),b:Lr.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:u?Lr.channel.clamp.a(h?parseFloat(u)/100:parseFloat(u)):1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`rgba(${Lr.lang.round(e)}, ${Lr.lang.round(r)}, ${Lr.lang.round(n)}, ${Lr.lang.round(i)})`:`rgb(${Lr.lang.round(e)}, ${Lr.lang.round(r)}, ${Lr.lang.round(n)})`}},mu={format:{keyword:S2,hex:Jg,rgb:Uy,rgba:Uy,hsl:u0,hsla:u0},parse:t=>{if(typeof t!="string")return t;const e=Jg.parse(t)||Uy.parse(t)||u0.parse(t)||S2.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(is.HSL)||t.data.r===void 0?u0.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?Uy.stringify(t):Jg.stringify(t)},Tj=(t,e)=>{const r=mu.parse(t);for(const n in e)r[n]=Lr.channel.clamp[n](e[n]);return mu.stringify(r)},k0=(t,e,r=0,n=1)=>{if(typeof t!="number")return Tj(t,{a:e});const i=Jk.set({r:Lr.channel.clamp.r(t),g:Lr.channel.clamp.g(e),b:Lr.channel.clamp.b(r),a:Lr.channel.clamp.a(n)});return mu.stringify(i)},Cj=(t,e)=>Lr.lang.round(mu.parse(t)[e]),Nme=t=>{const{r:e,g:r,b:n}=mu.parse(t),i=.2126*Lr.channel.toLinear(e)+.7152*Lr.channel.toLinear(r)+.0722*Lr.channel.toLinear(n);return Lr.lang.round(i)},Ime=t=>Nme(t)>=.5,ud=t=>!Ime(t),Aj=(t,e,r)=>{const n=mu.parse(t),i=n[e],a=Lr.channel.clamp[e](i+r);return i!==a&&(n[e]=a),mu.stringify(n)},ar=(t,e)=>Aj(t,"l",e),dr=(t,e)=>Aj(t,"l",-e),et=(t,e)=>{const r=mu.parse(t),n={};for(const i in e)e[i]&&(n[i]=r[i]+e[i]);return Tj(t,n)},Ome=(t,e,r=50)=>{const{r:n,g:i,b:a,a:s}=mu.parse(t),{r:o,g:l,b:u,a:h}=mu.parse(e),f=r/100,d=f*2-1,p=s-h,v=((d*p===-1?d:(d+p)/(1+d*p))+1)/2,x=1-v,y=n*v+o*x,w=i*v+l*x,S=a*v+u*x,E=s*f+h*(1-f);return k0(y,w,S,E)},Ht=(t,e=100)=>{const r=mu.parse(t);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,Ome(r,t,e)};/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */const{entries:_j,setPrototypeOf:OB,isFrozen:Pme,getPrototypeOf:Fme,getOwnPropertyDescriptor:Bme}=Object;let{freeze:Gs,seal:Al,create:Lj}=Object,{apply:GA,construct:WA}=typeof Reflect<"u"&&Reflect;Gs||(Gs=function(e){return e});Al||(Al=function(e){return e});GA||(GA=function(e,r,n){return e.apply(r,n)});WA||(WA=function(e,r){return new e(...r)});const Z4=Uo(Array.prototype.forEach),PB=Uo(Array.prototype.pop),fy=Uo(Array.prototype.push),o3=Uo(String.prototype.toLowerCase),q6=Uo(String.prototype.toString),FB=Uo(String.prototype.match),dy=Uo(String.prototype.replace),$me=Uo(String.prototype.indexOf),zme=Uo(String.prototype.trim),ql=Uo(Object.prototype.hasOwnProperty),Ds=Uo(RegExp.prototype.test),py=Hme(TypeError);function Uo(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return GA(t,e,n)}}function Hme(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return WA(t,r)}}function Vr(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o3;OB&&OB(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const a=r(i);a!==i&&(Pme(e)||(e[n]=a),i=a)}t[i]=!0}return t}function Vme(t){for(let e=0;e<t.length;e++)ql(t,e)||(t[e]=null);return t}function Gd(t){const e=Lj(null);for(const[r,n]of _j(t))ql(t,r)&&(Array.isArray(n)?e[r]=Vme(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Gd(n):e[r]=n);return e}function gy(t,e){for(;t!==null;){const n=Bme(t,e);if(n){if(n.get)return Uo(n.get);if(typeof n.value=="function")return Uo(n.value)}t=Fme(t)}function r(){return null}return r}const BB=Gs(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Y6=Gs(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),X6=Gs(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ume=Gs(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),j6=Gs(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Gme=Gs(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$B=Gs(["#text"]),zB=Gs(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),K6=Gs(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),HB=Gs(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),J4=Gs(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Wme=Al(/\{\{[\w\W]*|[\w\W]*\}\}/gm),qme=Al(/<%[\w\W]*|[\w\W]*%>/gm),Yme=Al(/\${[\w\W]*}/gm),Xme=Al(/^data-[\-\w.\u00B7-\uFFFF]/),jme=Al(/^aria-[\-\w]+$/),Dj=Al(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Kme=Al(/^(?:\w+script|data):/i),Qme=Al(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Rj=Al(/^html$/i),Zme=Al(/^[a-z][.\w]*(-[.\w]+)+$/i);var VB=Object.freeze({__proto__:null,MUSTACHE_EXPR:Wme,ERB_EXPR:qme,TMPLIT_EXPR:Yme,DATA_ATTR:Xme,ARIA_ATTR:jme,IS_ALLOWED_URI:Dj,IS_SCRIPT_OR_DATA:Kme,ATTR_WHITESPACE:Qme,DOCTYPE_NAME:Rj,CUSTOM_ELEMENT:Zme});const my={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Jme=function(){return typeof window>"u"?null:window},eve=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function Mj(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jme();const e=Ut=>Mj(Ut);if(e.version="3.1.6",e.removed=[],!t||!t.document||t.document.nodeType!==my.document)return e.isSupported=!1,e;let{document:r}=t;const n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:o,Element:l,NodeFilter:u,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:p}=t,m=l.prototype,v=gy(m,"cloneNode"),x=gy(m,"remove"),y=gy(m,"nextSibling"),w=gy(m,"childNodes"),S=gy(m,"parentNode");if(typeof s=="function"){const Ut=r.createElement("template");Ut.content&&Ut.content.ownerDocument&&(r=Ut.content.ownerDocument)}let E,C="";const{implementation:L,createNodeIterator:_,createDocumentFragment:I,getElementsByTagName:D}=r,{importNode:F}=n;let M={};e.isSupported=typeof _j=="function"&&typeof S=="function"&&L&&L.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:B,ERB_EXPR:H,TMPLIT_EXPR:R,DATA_ATTR:O,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:z,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:V}=VB;let{IS_ALLOWED_URI:X}=VB,q=null;const Y=Vr({},[...BB,...Y6,...X6,...j6,...$B]);let U=null;const Z=Vr({},[...zB,...K6,...HB,...J4]);let pe=Object.seal(Lj(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ne=null,ge=null,ye=!0,J=!0,se=!1,oe=!0,fe=!1,me=!0,be=!1,ce=!1,Ge=!1,xe=!1,le=!1,ke=!1,De=!0,We=!1;const qe="user-content-";let Ve=!0,we=!1,Te={},de=null;const W=Vr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ee=null;const te=Vr({},["audio","video","img","source","image","track"]);let he=null;const K=Vr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_e="http://www.w3.org/1998/Math/MathML",ae="http://www.w3.org/2000/svg",Le="http://www.w3.org/1999/xhtml";let Ne=Le,Ie=!1,Oe=null;const Pe=Vr({},[_e,ae,Le],q6);let Me=null;const ze=["application/xhtml+xml","text/html"],it="text/html";let ut=null,gt=null;const wt=r.createElement("form"),Pt=function(Ye){return Ye instanceof RegExp||Ye instanceof Function},ot=function(){let Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(gt&&gt===Ye)){if((!Ye||typeof Ye!="object")&&(Ye={}),Ye=Gd(Ye),Me=ze.indexOf(Ye.PARSER_MEDIA_TYPE)===-1?it:Ye.PARSER_MEDIA_TYPE,ut=Me==="application/xhtml+xml"?q6:o3,q=ql(Ye,"ALLOWED_TAGS")?Vr({},Ye.ALLOWED_TAGS,ut):Y,U=ql(Ye,"ALLOWED_ATTR")?Vr({},Ye.ALLOWED_ATTR,ut):Z,Oe=ql(Ye,"ALLOWED_NAMESPACES")?Vr({},Ye.ALLOWED_NAMESPACES,q6):Pe,he=ql(Ye,"ADD_URI_SAFE_ATTR")?Vr(Gd(K),Ye.ADD_URI_SAFE_ATTR,ut):K,ee=ql(Ye,"ADD_DATA_URI_TAGS")?Vr(Gd(te),Ye.ADD_DATA_URI_TAGS,ut):te,de=ql(Ye,"FORBID_CONTENTS")?Vr({},Ye.FORBID_CONTENTS,ut):W,ne=ql(Ye,"FORBID_TAGS")?Vr({},Ye.FORBID_TAGS,ut):{},ge=ql(Ye,"FORBID_ATTR")?Vr({},Ye.FORBID_ATTR,ut):{},Te=ql(Ye,"USE_PROFILES")?Ye.USE_PROFILES:!1,ye=Ye.ALLOW_ARIA_ATTR!==!1,J=Ye.ALLOW_DATA_ATTR!==!1,se=Ye.ALLOW_UNKNOWN_PROTOCOLS||!1,oe=Ye.ALLOW_SELF_CLOSE_IN_ATTR!==!1,fe=Ye.SAFE_FOR_TEMPLATES||!1,me=Ye.SAFE_FOR_XML!==!1,be=Ye.WHOLE_DOCUMENT||!1,xe=Ye.RETURN_DOM||!1,le=Ye.RETURN_DOM_FRAGMENT||!1,ke=Ye.RETURN_TRUSTED_TYPE||!1,Ge=Ye.FORCE_BODY||!1,De=Ye.SANITIZE_DOM!==!1,We=Ye.SANITIZE_NAMED_PROPS||!1,Ve=Ye.KEEP_CONTENT!==!1,we=Ye.IN_PLACE||!1,X=Ye.ALLOWED_URI_REGEXP||Dj,Ne=Ye.NAMESPACE||Le,pe=Ye.CUSTOM_ELEMENT_HANDLING||{},Ye.CUSTOM_ELEMENT_HANDLING&&Pt(Ye.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(pe.tagNameCheck=Ye.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ye.CUSTOM_ELEMENT_HANDLING&&Pt(Ye.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(pe.attributeNameCheck=Ye.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ye.CUSTOM_ELEMENT_HANDLING&&typeof Ye.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(pe.allowCustomizedBuiltInElements=Ye.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fe&&(J=!1),le&&(xe=!0),Te&&(q=Vr({},$B),U=[],Te.html===!0&&(Vr(q,BB),Vr(U,zB)),Te.svg===!0&&(Vr(q,Y6),Vr(U,K6),Vr(U,J4)),Te.svgFilters===!0&&(Vr(q,X6),Vr(U,K6),Vr(U,J4)),Te.mathMl===!0&&(Vr(q,j6),Vr(U,HB),Vr(U,J4))),Ye.ADD_TAGS&&(q===Y&&(q=Gd(q)),Vr(q,Ye.ADD_TAGS,ut)),Ye.ADD_ATTR&&(U===Z&&(U=Gd(U)),Vr(U,Ye.ADD_ATTR,ut)),Ye.ADD_URI_SAFE_ATTR&&Vr(he,Ye.ADD_URI_SAFE_ATTR,ut),Ye.FORBID_CONTENTS&&(de===W&&(de=Gd(de)),Vr(de,Ye.FORBID_CONTENTS,ut)),Ve&&(q["#text"]=!0),be&&Vr(q,["html","head","body"]),q.table&&(Vr(q,["tbody"]),delete ne.tbody),Ye.TRUSTED_TYPES_POLICY){if(typeof Ye.TRUSTED_TYPES_POLICY.createHTML!="function")throw py('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ye.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw py('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=Ye.TRUSTED_TYPES_POLICY,C=E.createHTML("")}else E===void 0&&(E=eve(p,i)),E!==null&&typeof C=="string"&&(C=E.createHTML(""));Gs&&Gs(Ye),gt=Ye}},at=Vr({},["mi","mo","mn","ms","mtext"]),kt=Vr({},["foreignobject","annotation-xml"]),ct=Vr({},["title","style","font","a","script"]),ft=Vr({},[...Y6,...X6,...Ume]),Jt=Vr({},[...j6,...Gme]),pt=function(Ye){let vt=S(Ye);(!vt||!vt.tagName)&&(vt={namespaceURI:Ne,tagName:"template"});const Vt=o3(Ye.tagName),yr=o3(vt.tagName);return Oe[Ye.namespaceURI]?Ye.namespaceURI===ae?vt.namespaceURI===Le?Vt==="svg":vt.namespaceURI===_e?Vt==="svg"&&(yr==="annotation-xml"||at[yr]):!!ft[Vt]:Ye.namespaceURI===_e?vt.namespaceURI===Le?Vt==="math":vt.namespaceURI===ae?Vt==="math"&&kt[yr]:!!Jt[Vt]:Ye.namespaceURI===Le?vt.namespaceURI===ae&&!kt[yr]||vt.namespaceURI===_e&&!at[yr]?!1:!Jt[Vt]&&(ct[Vt]||!ft[Vt]):!!(Me==="application/xhtml+xml"&&Oe[Ye.namespaceURI]):!1},dt=function(Ye){fy(e.removed,{element:Ye});try{S(Ye).removeChild(Ye)}catch{x(Ye)}},Rt=function(Ye,vt){try{fy(e.removed,{attribute:vt.getAttributeNode(Ye),from:vt})}catch{fy(e.removed,{attribute:null,from:vt})}if(vt.removeAttribute(Ye),Ye==="is"&&!U[Ye])if(xe||le)try{dt(vt)}catch{}else try{vt.setAttribute(Ye,"")}catch{}},er=function(Ye){let vt=null,Vt=null;if(Ge)Ye="<remove></remove>"+Ye;else{const Yr=FB(Ye,/^[\r\n\t ]+/);Vt=Yr&&Yr[0]}Me==="application/xhtml+xml"&&Ne===Le&&(Ye='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ye+"</body></html>");const yr=E?E.createHTML(Ye):Ye;if(Ne===Le)try{vt=new d().parseFromString(yr,Me)}catch{}if(!vt||!vt.documentElement){vt=L.createDocument(Ne,"template",null);try{vt.documentElement.innerHTML=Ie?C:yr}catch{}}const cn=vt.body||vt.documentElement;return Ye&&Vt&&cn.insertBefore(r.createTextNode(Vt),cn.childNodes[0]||null),Ne===Le?D.call(vt,be?"html":"body")[0]:be?vt.documentElement:cn},Ot=function(Ye){return _.call(Ye.ownerDocument||Ye,Ye,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},wr=function(Ye){return Ye instanceof f&&(typeof Ye.nodeName!="string"||typeof Ye.textContent!="string"||typeof Ye.removeChild!="function"||!(Ye.attributes instanceof h)||typeof Ye.removeAttribute!="function"||typeof Ye.setAttribute!="function"||typeof Ye.namespaceURI!="string"||typeof Ye.insertBefore!="function"||typeof Ye.hasChildNodes!="function")},Wr=function(Ye){return typeof o=="function"&&Ye instanceof o},Er=function(Ye,vt,Vt){M[Ye]&&Z4(M[Ye],yr=>{yr.call(e,vt,Vt,gt)})},Jn=function(Ye){let vt=null;if(Er("beforeSanitizeElements",Ye,null),wr(Ye))return dt(Ye),!0;const Vt=ut(Ye.nodeName);if(Er("uponSanitizeElement",Ye,{tagName:Vt,allowedTags:q}),Ye.hasChildNodes()&&!Wr(Ye.firstElementChild)&&Ds(/<[/\w]/g,Ye.innerHTML)&&Ds(/<[/\w]/g,Ye.textContent)||Ye.nodeType===my.progressingInstruction||me&&Ye.nodeType===my.comment&&Ds(/<[/\w]/g,Ye.data))return dt(Ye),!0;if(!q[Vt]||ne[Vt]){if(!ne[Vt]&&Mn(Vt)&&(pe.tagNameCheck instanceof RegExp&&Ds(pe.tagNameCheck,Vt)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck(Vt)))return!1;if(Ve&&!de[Vt]){const yr=S(Ye)||Ye.parentNode,cn=w(Ye)||Ye.childNodes;if(cn&&yr){const Yr=cn.length;for(let Tn=Yr-1;Tn>=0;--Tn){const Cn=v(cn[Tn],!0);Cn.__removalCount=(Ye.__removalCount||0)+1,yr.insertBefore(Cn,y(Ye))}}}return dt(Ye),!0}return Ye instanceof l&&!pt(Ye)||(Vt==="noscript"||Vt==="noembed"||Vt==="noframes")&&Ds(/<\/no(script|embed|frames)/i,Ye.innerHTML)?(dt(Ye),!0):(fe&&Ye.nodeType===my.text&&(vt=Ye.textContent,Z4([B,H,R],yr=>{vt=dy(vt,yr," ")}),Ye.textContent!==vt&&(fy(e.removed,{element:Ye.cloneNode()}),Ye.textContent=vt)),Er("afterSanitizeElements",Ye,null),!1)},ln=function(Ye,vt,Vt){if(De&&(vt==="id"||vt==="name")&&(Vt in r||Vt in wt))return!1;if(!(J&&!ge[vt]&&Ds(O,vt))){if(!(ye&&Ds(P,vt))){if(!U[vt]||ge[vt]){if(!(Mn(Ye)&&(pe.tagNameCheck instanceof RegExp&&Ds(pe.tagNameCheck,Ye)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck(Ye))&&(pe.attributeNameCheck instanceof RegExp&&Ds(pe.attributeNameCheck,vt)||pe.attributeNameCheck instanceof Function&&pe.attributeNameCheck(vt))||vt==="is"&&pe.allowCustomizedBuiltInElements&&(pe.tagNameCheck instanceof RegExp&&Ds(pe.tagNameCheck,Vt)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck(Vt))))return!1}else if(!he[vt]){if(!Ds(X,dy(Vt,$,""))){if(!((vt==="src"||vt==="xlink:href"||vt==="href")&&Ye!=="script"&&$me(Vt,"data:")===0&&ee[Ye])){if(!(se&&!Ds(z,dy(Vt,$,"")))){if(Vt)return!1}}}}}}return!0},Mn=function(Ye){return Ye!=="annotation-xml"&&FB(Ye,V)},zr=function(Ye){Er("beforeSanitizeAttributes",Ye,null);const{attributes:vt}=Ye;if(!vt)return;const Vt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};let yr=vt.length;for(;yr--;){const cn=vt[yr],{name:Yr,namespaceURI:Tn,value:Cn}=cn,Et=ut(Yr);let lt=Yr==="value"?Cn:zme(Cn);if(Vt.attrName=Et,Vt.attrValue=lt,Vt.keepAttr=!0,Vt.forceKeepAttr=void 0,Er("uponSanitizeAttribute",Ye,Vt),lt=Vt.attrValue,me&&Ds(/((--!?|])>)|<\/(style|title)/i,lt)){Rt(Yr,Ye);continue}if(Vt.forceKeepAttr||(Rt(Yr,Ye),!Vt.keepAttr))continue;if(!oe&&Ds(/\/>/i,lt)){Rt(Yr,Ye);continue}fe&&Z4([B,H,R],Tt=>{lt=dy(lt,Tt," ")});const tr=ut(Ye.nodeName);if(ln(tr,Et,lt)){if(We&&(Et==="id"||Et==="name")&&(Rt(Yr,Ye),lt=qe+lt),E&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Tn)switch(p.getAttributeType(tr,Et)){case"TrustedHTML":{lt=E.createHTML(lt);break}case"TrustedScriptURL":{lt=E.createScriptURL(lt);break}}try{Tn?Ye.setAttributeNS(Tn,Yr,lt):Ye.setAttribute(Yr,lt),wr(Ye)?dt(Ye):PB(e.removed)}catch{}}}Er("afterSanitizeAttributes",Ye,null)},En=function Ut(Ye){let vt=null;const Vt=Ot(Ye);for(Er("beforeSanitizeShadowDOM",Ye,null);vt=Vt.nextNode();)Er("uponSanitizeShadowNode",vt,null),!Jn(vt)&&(vt.content instanceof a&&Ut(vt.content),zr(vt));Er("afterSanitizeShadowDOM",Ye,null)};return e.sanitize=function(Ut){let Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},vt=null,Vt=null,yr=null,cn=null;if(Ie=!Ut,Ie&&(Ut="\x3C!-->"),typeof Ut!="string"&&!Wr(Ut))if(typeof Ut.toString=="function"){if(Ut=Ut.toString(),typeof Ut!="string")throw py("dirty is not a string, aborting")}else throw py("toString is not a function");if(!e.isSupported)return Ut;if(ce||ot(Ye),e.removed=[],typeof Ut=="string"&&(we=!1),we){if(Ut.nodeName){const Cn=ut(Ut.nodeName);if(!q[Cn]||ne[Cn])throw py("root node is forbidden and cannot be sanitized in-place")}}else if(Ut instanceof o)vt=er("\x3C!---->"),Vt=vt.ownerDocument.importNode(Ut,!0),Vt.nodeType===my.element&&Vt.nodeName==="BODY"||Vt.nodeName==="HTML"?vt=Vt:vt.appendChild(Vt);else{if(!xe&&!fe&&!be&&Ut.indexOf("<")===-1)return E&&ke?E.createHTML(Ut):Ut;if(vt=er(Ut),!vt)return xe?null:ke?C:""}vt&&Ge&&dt(vt.firstChild);const Yr=Ot(we?Ut:vt);for(;yr=Yr.nextNode();)Jn(yr)||(yr.content instanceof a&&En(yr.content),zr(yr));if(we)return Ut;if(xe){if(le)for(cn=I.call(vt.ownerDocument);vt.firstChild;)cn.appendChild(vt.firstChild);else cn=vt;return(U.shadowroot||U.shadowrootmode)&&(cn=F.call(n,cn,!0)),cn}let Tn=be?vt.outerHTML:vt.innerHTML;return be&&q["!doctype"]&&vt.ownerDocument&&vt.ownerDocument.doctype&&vt.ownerDocument.doctype.name&&Ds(Rj,vt.ownerDocument.doctype.name)&&(Tn="<!DOCTYPE "+vt.ownerDocument.doctype.name+`>
`+Tn),fe&&Z4([B,H,R],Cn=>{Tn=dy(Tn,Cn," ")}),E&&ke?E.createHTML(Tn):Tn},e.setConfig=function(){let Ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ot(Ut),ce=!0},e.clearConfig=function(){gt=null,ce=!1},e.isValidAttribute=function(Ut,Ye,vt){gt||ot({});const Vt=ut(Ut),yr=ut(Ye);return ln(Vt,yr,vt)},e.addHook=function(Ut,Ye){typeof Ye=="function"&&(M[Ut]=M[Ut]||[],fy(M[Ut],Ye))},e.removeHook=function(Ut){if(M[Ut])return PB(M[Ut])},e.removeHooks=function(Ut){M[Ut]&&(M[Ut]=[])},e.removeAllHooks=function(){M={}},e}var sm=Mj(),Nj=Object.defineProperty,k=(t,e)=>Nj(t,"name",{value:e,configurable:!0}),Ij=(t,e)=>{for(var r in e)Nj(t,r,{get:e[r],enumerable:!0})},Ac={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Ee={trace:k((...t)=>{},"trace"),debug:k((...t)=>{},"debug"),info:k((...t)=>{},"info"),warn:k((...t)=>{},"warn"),error:k((...t)=>{},"error"),fatal:k((...t)=>{},"fatal")},sR=k(function(t="fatal"){let e=Ac.fatal;typeof t=="string"?t.toLowerCase()in Ac&&(e=Ac[t]):typeof t=="number"&&(e=t),Ee.trace=()=>{},Ee.debug=()=>{},Ee.info=()=>{},Ee.warn=()=>{},Ee.error=()=>{},Ee.fatal=()=>{},e<=Ac.fatal&&(Ee.fatal=console.error?console.error.bind(console,rl("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",rl("FATAL"))),e<=Ac.error&&(Ee.error=console.error?console.error.bind(console,rl("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",rl("ERROR"))),e<=Ac.warn&&(Ee.warn=console.warn?console.warn.bind(console,rl("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",rl("WARN"))),e<=Ac.info&&(Ee.info=console.info?console.info.bind(console,rl("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",rl("INFO"))),e<=Ac.debug&&(Ee.debug=console.debug?console.debug.bind(console,rl("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",rl("DEBUG"))),e<=Ac.trace&&(Ee.trace=console.debug?console.debug.bind(console,rl("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",rl("TRACE")))},"setLogLevel"),rl=k(t=>`%c${xa().format("ss.SSS")} : ${t} : `,"format"),Oj=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,k2=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,tve=/\s*%%.*\n/gm,d1,Pj=(d1=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},k(d1,"UnknownDiagramError"),d1),om={},oR=k(function(t,e){t=t.replace(Oj,"").replace(k2,"").replace(tve,`
`);for(const[r,{detector:n}]of Object.entries(om))if(n(t,e))return r;throw new Pj(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),Fj=k((...t)=>{for(const{id:e,detector:r,loader:n}of t)Bj(e,r,n)},"registerLazyLoadedDiagrams"),Bj=k((t,e,r)=>{om[t]&&Ee.warn(`Detector with key ${t} already exists. Overwriting.`),om[t]={detector:e,loader:r},Ee.debug(`Detector with key ${t} added${r?" with loader":""}`)},"addDetector"),rve=k(t=>om[t].loader,"getDiagramLoader"),qA=k((t,e,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(a=>qA(t,a,i)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(a=>{t.includes(a)||t.push(a)}),t):t===void 0||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(a=>{typeof e[a]=="object"&&(t[a]===void 0||typeof t[a]=="object")?(t[a]===void 0&&(t[a]=Array.isArray(e[a])?[]:{}),t[a]=qA(t[a],e[a],{depth:r-1,clobber:n})):(n||typeof t[a]!="object"&&typeof e[a]!="object")&&(t[a]=e[a])}),t)},"assignWithDepth"),ia=qA,eE="#ffffff",tE="#f2f2f2",Bs=k((t,e)=>e?et(t,{s:-40,l:10}):et(t,{s:-40,l:-10}),"mkBorder"),p1,nve=(p1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,n,i,a,s,o,l,u,h,f,d;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||et(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||et(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Bs(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Bs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Bs(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Bs(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Ht(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Ht(this.tertiaryColor),this.lineColor=this.lineColor||Ht(this.background),this.arrowheadColor=this.arrowheadColor||Ht(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?dr(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||dr(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Ht(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||ar(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||et(this.primaryColor,{h:30}),this.cScale4=this.cScale4||et(this.primaryColor,{h:60}),this.cScale5=this.cScale5||et(this.primaryColor,{h:90}),this.cScale6=this.cScale6||et(this.primaryColor,{h:120}),this.cScale7=this.cScale7||et(this.primaryColor,{h:150}),this.cScale8=this.cScale8||et(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||et(this.primaryColor,{h:270}),this.cScale10=this.cScale10||et(this.primaryColor,{h:300}),this.cScale11=this.cScale11||et(this.primaryColor,{h:330}),this.darkMode)for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=dr(this["cScale"+p],75);else for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=dr(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Ht(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this.darkMode?this["cScalePeer"+p]=this["cScalePeer"+p]||ar(this["cScale"+p],10):this["cScalePeer"+p]=this["cScalePeer"+p]||dr(this["cScale"+p],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||et(this.mainBkg,{h:180,s:-15,l:e*(5+p*3)}),this["surfacePeer"+p]=this["surfacePeer"+p]||et(this.mainBkg,{h:180,s:-15,l:e*(8+p*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||et(this.primaryColor,{h:64}),this.fillType3=this.fillType3||et(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||et(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||et(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||et(this.primaryColor,{h:128}),this.fillType7=this.fillType7||et(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||et(this.primaryColor,{l:-10}),this.pie5=this.pie5||et(this.secondaryColor,{l:-10}),this.pie6=this.pie6||et(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||et(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||et(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||et(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||et(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||et(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||et(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||et(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||et(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||et(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||et(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||et(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||et(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ud(this.quadrant1Fill)?ar(this.quadrant1Fill):dr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((r=this.xyChart)==null?void 0:r.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((l=this.xyChart)==null?void 0:l.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?dr(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||et(this.primaryColor,{h:-30}),this.git4=this.git4||et(this.primaryColor,{h:-60}),this.git5=this.git5||et(this.primaryColor,{h:-90}),this.git6=this.git6||et(this.primaryColor,{h:60}),this.git7=this.git7||et(this.primaryColor,{h:120}),this.darkMode?(this.git0=ar(this.git0,25),this.git1=ar(this.git1,25),this.git2=ar(this.git2,25),this.git3=ar(this.git3,25),this.git4=ar(this.git4,25),this.git5=ar(this.git5,25),this.git6=ar(this.git6,25),this.git7=ar(this.git7,25)):(this.git0=dr(this.git0,25),this.git1=dr(this.git1,25),this.git2=dr(this.git2,25),this.git3=dr(this.git3,25),this.git4=dr(this.git4,25),this.git5=dr(this.git5,25),this.git6=dr(this.git6,25),this.git7=dr(this.git7,25)),this.gitInv0=this.gitInv0||Ht(this.git0),this.gitInv1=this.gitInv1||Ht(this.git1),this.gitInv2=this.gitInv2||Ht(this.git2),this.gitInv3=this.gitInv3||Ht(this.git3),this.gitInv4=this.gitInv4||Ht(this.git4),this.gitInv5=this.gitInv5||Ht(this.git5),this.gitInv6=this.gitInv6||Ht(this.git6),this.gitInv7=this.gitInv7||Ht(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||eE,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||tE}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},k(p1,"Theme"),p1),ive=k(t=>{const e=new nve;return e.calculate(t),e},"getThemeVariables"),g1,ave=(g1=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=ar(this.primaryColor,16),this.tertiaryColor=et(this.primaryColor,{h:-160}),this.primaryBorderColor=Ht(this.background),this.secondaryBorderColor=Bs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Bs(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ht(this.primaryColor),this.secondaryTextColor=Ht(this.secondaryColor),this.tertiaryTextColor=Ht(this.tertiaryColor),this.lineColor=Ht(this.background),this.textColor=Ht(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=ar(Ht("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=k0(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=dr("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=dr(this.sectionBkgColor,10),this.taskBorderColor=k0(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=k0(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,r,n,i,a,s,o,l,u,h,f;this.secondBkg=ar(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=ar(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=ar(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=et(this.primaryColor,{h:64}),this.fillType3=et(this.secondaryColor,{h:64}),this.fillType4=et(this.primaryColor,{h:-64}),this.fillType5=et(this.secondaryColor,{h:-64}),this.fillType6=et(this.primaryColor,{h:128}),this.fillType7=et(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||et(this.primaryColor,{h:30}),this.cScale4=this.cScale4||et(this.primaryColor,{h:60}),this.cScale5=this.cScale5||et(this.primaryColor,{h:90}),this.cScale6=this.cScale6||et(this.primaryColor,{h:120}),this.cScale7=this.cScale7||et(this.primaryColor,{h:150}),this.cScale8=this.cScale8||et(this.primaryColor,{h:210}),this.cScale9=this.cScale9||et(this.primaryColor,{h:270}),this.cScale10=this.cScale10||et(this.primaryColor,{h:300}),this.cScale11=this.cScale11||et(this.primaryColor,{h:330});for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||Ht(this["cScale"+d]);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScalePeer"+d]=this["cScalePeer"+d]||ar(this["cScale"+d],10);for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||et(this.mainBkg,{h:30,s:-30,l:-(-10+d*4)}),this["surfacePeer"+d]=this["surfacePeer"+d]||et(this.mainBkg,{h:30,s:-30,l:-(-7+d*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["pie"+d]=this["cScale"+d];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||et(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||et(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||et(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||et(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||et(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||et(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ud(this.quadrant1Fill)?ar(this.quadrant1Fill):dr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?dr(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=ar(this.secondaryColor,20),this.git1=ar(this.pie2||this.secondaryColor,20),this.git2=ar(this.pie3||this.tertiaryColor,20),this.git3=ar(this.pie4||et(this.primaryColor,{h:-30}),20),this.git4=ar(this.pie5||et(this.primaryColor,{h:-60}),20),this.git5=ar(this.pie6||et(this.primaryColor,{h:-90}),10),this.git6=ar(this.pie7||et(this.primaryColor,{h:60}),10),this.git7=ar(this.pie8||et(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Ht(this.git0),this.gitInv1=this.gitInv1||Ht(this.git1),this.gitInv2=this.gitInv2||Ht(this.git2),this.gitInv3=this.gitInv3||Ht(this.git3),this.gitInv4=this.gitInv4||Ht(this.git4),this.gitInv5=this.gitInv5||Ht(this.git5),this.gitInv6=this.gitInv6||Ht(this.git6),this.gitInv7=this.gitInv7||Ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ar(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ar(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},k(g1,"Theme"),g1),sve=k(t=>{const e=new ave;return e.calculate(t),e},"getThemeVariables"),m1,ove=(m1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=et(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=et(this.primaryColor,{h:-160}),this.primaryBorderColor=Bs(this.primaryColor,this.darkMode),this.secondaryBorderColor=Bs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Bs(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ht(this.primaryColor),this.secondaryTextColor=Ht(this.secondaryColor),this.tertiaryTextColor=Ht(this.tertiaryColor),this.lineColor=Ht(this.background),this.textColor=Ht(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=k0(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,r,n,i,a,s,o,l,u,h,f;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||et(this.primaryColor,{h:30}),this.cScale4=this.cScale4||et(this.primaryColor,{h:60}),this.cScale5=this.cScale5||et(this.primaryColor,{h:90}),this.cScale6=this.cScale6||et(this.primaryColor,{h:120}),this.cScale7=this.cScale7||et(this.primaryColor,{h:150}),this.cScale8=this.cScale8||et(this.primaryColor,{h:210}),this.cScale9=this.cScale9||et(this.primaryColor,{h:270}),this.cScale10=this.cScale10||et(this.primaryColor,{h:300}),this.cScale11=this.cScale11||et(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||dr(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||dr(this.tertiaryColor,40);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScale"+d]=dr(this["cScale"+d],10),this["cScalePeer"+d]=this["cScalePeer"+d]||dr(this["cScale"+d],25);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||et(this["cScale"+d],{h:180});for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||et(this.mainBkg,{h:30,l:-(5+d*5)}),this["surfacePeer"+d]=this["surfacePeer"+d]||et(this.mainBkg,{h:30,l:-(7+d*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Ht(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Ht(this.labelTextColor);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=ar(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=et(this.primaryColor,{h:64}),this.fillType3=et(this.secondaryColor,{h:64}),this.fillType4=et(this.primaryColor,{h:-64}),this.fillType5=et(this.secondaryColor,{h:-64}),this.fillType6=et(this.primaryColor,{h:128}),this.fillType7=et(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||et(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||et(this.primaryColor,{l:-10}),this.pie5=this.pie5||et(this.secondaryColor,{l:-30}),this.pie6=this.pie6||et(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||et(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||et(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||et(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||et(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||et(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||et(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||et(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||et(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||et(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||et(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||et(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||et(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ud(this.quadrant1Fill)?ar(this.quadrant1Fill):dr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||et(this.primaryColor,{h:-30}),this.git4=this.git4||et(this.primaryColor,{h:-60}),this.git5=this.git5||et(this.primaryColor,{h:-90}),this.git6=this.git6||et(this.primaryColor,{h:60}),this.git7=this.git7||et(this.primaryColor,{h:120}),this.darkMode?(this.git0=ar(this.git0,25),this.git1=ar(this.git1,25),this.git2=ar(this.git2,25),this.git3=ar(this.git3,25),this.git4=ar(this.git4,25),this.git5=ar(this.git5,25),this.git6=ar(this.git6,25),this.git7=ar(this.git7,25)):(this.git0=dr(this.git0,25),this.git1=dr(this.git1,25),this.git2=dr(this.git2,25),this.git3=dr(this.git3,25),this.git4=dr(this.git4,25),this.git5=dr(this.git5,25),this.git6=dr(this.git6,25),this.git7=dr(this.git7,25)),this.gitInv0=this.gitInv0||dr(Ht(this.git0),25),this.gitInv1=this.gitInv1||Ht(this.git1),this.gitInv2=this.gitInv2||Ht(this.git2),this.gitInv3=this.gitInv3||Ht(this.git3),this.gitInv4=this.gitInv4||Ht(this.git4),this.gitInv5=this.gitInv5||Ht(this.git5),this.gitInv6=this.gitInv6||Ht(this.git6),this.gitInv7=this.gitInv7||Ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||eE,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||tE}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},k(m1,"Theme"),m1),lR=k(t=>{const e=new ove;return e.calculate(t),e},"getThemeVariables"),v1,lve=(v1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=ar("#cde498",10),this.primaryBorderColor=Bs(this.primaryColor,this.darkMode),this.secondaryBorderColor=Bs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Bs(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ht(this.primaryColor),this.secondaryTextColor=Ht(this.secondaryColor),this.tertiaryTextColor=Ht(this.primaryColor),this.lineColor=Ht(this.background),this.textColor=Ht(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,i,a,s,o,l,u,h,f;this.actorBorder=dr(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||et(this.primaryColor,{h:30}),this.cScale4=this.cScale4||et(this.primaryColor,{h:60}),this.cScale5=this.cScale5||et(this.primaryColor,{h:90}),this.cScale6=this.cScale6||et(this.primaryColor,{h:120}),this.cScale7=this.cScale7||et(this.primaryColor,{h:150}),this.cScale8=this.cScale8||et(this.primaryColor,{h:210}),this.cScale9=this.cScale9||et(this.primaryColor,{h:270}),this.cScale10=this.cScale10||et(this.primaryColor,{h:300}),this.cScale11=this.cScale11||et(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||dr(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||dr(this.tertiaryColor,40);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScale"+d]=dr(this["cScale"+d],10),this["cScalePeer"+d]=this["cScalePeer"+d]||dr(this["cScale"+d],25);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||et(this["cScale"+d],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||et(this.mainBkg,{h:30,s:-30,l:-(5+d*5)}),this["surfacePeer"+d]=this["surfacePeer"+d]||et(this.mainBkg,{h:30,s:-30,l:-(8+d*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=et(this.primaryColor,{h:64}),this.fillType3=et(this.secondaryColor,{h:64}),this.fillType4=et(this.primaryColor,{h:-64}),this.fillType5=et(this.secondaryColor,{h:-64}),this.fillType6=et(this.primaryColor,{h:128}),this.fillType7=et(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||et(this.primaryColor,{l:-30}),this.pie5=this.pie5||et(this.secondaryColor,{l:-30}),this.pie6=this.pie6||et(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||et(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||et(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||et(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||et(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||et(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||et(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||et(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||et(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||et(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||et(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||et(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||et(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ud(this.quadrant1Fill)?ar(this.quadrant1Fill):dr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||et(this.primaryColor,{h:-30}),this.git4=this.git4||et(this.primaryColor,{h:-60}),this.git5=this.git5||et(this.primaryColor,{h:-90}),this.git6=this.git6||et(this.primaryColor,{h:60}),this.git7=this.git7||et(this.primaryColor,{h:120}),this.darkMode?(this.git0=ar(this.git0,25),this.git1=ar(this.git1,25),this.git2=ar(this.git2,25),this.git3=ar(this.git3,25),this.git4=ar(this.git4,25),this.git5=ar(this.git5,25),this.git6=ar(this.git6,25),this.git7=ar(this.git7,25)):(this.git0=dr(this.git0,25),this.git1=dr(this.git1,25),this.git2=dr(this.git2,25),this.git3=dr(this.git3,25),this.git4=dr(this.git4,25),this.git5=dr(this.git5,25),this.git6=dr(this.git6,25),this.git7=dr(this.git7,25)),this.gitInv0=this.gitInv0||Ht(this.git0),this.gitInv1=this.gitInv1||Ht(this.git1),this.gitInv2=this.gitInv2||Ht(this.git2),this.gitInv3=this.gitInv3||Ht(this.git3),this.gitInv4=this.gitInv4||Ht(this.git4),this.gitInv5=this.gitInv5||Ht(this.git5),this.gitInv6=this.gitInv6||Ht(this.git6),this.gitInv7=this.gitInv7||Ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||eE,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||tE}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},k(v1,"Theme"),v1),uve=k(t=>{const e=new lve;return e.calculate(t),e},"getThemeVariables"),y1,cve=(y1=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=ar(this.contrast,55),this.background="#ffffff",this.tertiaryColor=et(this.primaryColor,{h:-160}),this.primaryBorderColor=Bs(this.primaryColor,this.darkMode),this.secondaryBorderColor=Bs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Bs(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ht(this.primaryColor),this.secondaryTextColor=Ht(this.secondaryColor),this.tertiaryTextColor=Ht(this.tertiaryColor),this.lineColor=Ht(this.background),this.textColor=Ht(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,i,a,s,o,l,u,h,f;this.secondBkg=ar(this.contrast,55),this.border2=this.contrast,this.actorBorder=ar(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||Ht(this["cScale"+d]);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this.darkMode?this["cScalePeer"+d]=this["cScalePeer"+d]||ar(this["cScale"+d],10):this["cScalePeer"+d]=this["cScalePeer"+d]||dr(this["cScale"+d],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||et(this.mainBkg,{l:-(5+d*5)}),this["surfacePeer"+d]=this["surfacePeer"+d]||et(this.mainBkg,{l:-(8+d*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=ar(this.contrast,30),this.sectionBkgColor2=ar(this.contrast,30),this.taskBorderColor=dr(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=ar(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=dr(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=et(this.primaryColor,{h:64}),this.fillType3=et(this.secondaryColor,{h:64}),this.fillType4=et(this.primaryColor,{h:-64}),this.fillType5=et(this.secondaryColor,{h:-64}),this.fillType6=et(this.primaryColor,{h:128}),this.fillType7=et(this.secondaryColor,{h:128});for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["pie"+d]=this["cScale"+d];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||et(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||et(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||et(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||et(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||et(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||et(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ud(this.quadrant1Fill)?ar(this.quadrant1Fill):dr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=dr(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||et(this.primaryColor,{h:-30}),this.git4=this.pie5||et(this.primaryColor,{h:-60}),this.git5=this.pie6||et(this.primaryColor,{h:-90}),this.git6=this.pie7||et(this.primaryColor,{h:60}),this.git7=this.pie8||et(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Ht(this.git0),this.gitInv1=this.gitInv1||Ht(this.git1),this.gitInv2=this.gitInv2||Ht(this.git2),this.gitInv3=this.gitInv3||Ht(this.git3),this.gitInv4=this.gitInv4||Ht(this.git4),this.gitInv5=this.gitInv5||Ht(this.git5),this.gitInv6=this.gitInv6||Ht(this.git6),this.gitInv7=this.gitInv7||Ht(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||eE,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||tE}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},k(y1,"Theme"),y1),hve=k(t=>{const e=new cve;return e.calculate(t),e},"getThemeVariables"),Jc={base:{getThemeVariables:ive},dark:{getThemeVariables:sve},default:{getThemeVariables:lR},forest:{getThemeVariables:uve},neutral:{getThemeVariables:hve}},Yh={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},$j={...Yh,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:Jc.default.getThemeVariables(),sequence:{...Yh.sequence,messageFont:k(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:k(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:k(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Yh.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Yh.c4,useWidth:void 0,personFont:k(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:k(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:k(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:k(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:k(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:k(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:k(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:k(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:k(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:k(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:k(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:k(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:k(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:k(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:k(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:k(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:k(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:k(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:k(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:k(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:k(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:k(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Yh.pie,useWidth:984},xyChart:{...Yh.xyChart,useWidth:void 0},requirement:{...Yh.requirement,useWidth:void 0},packet:{...Yh.packet}},zj=k((t,e="")=>Object.keys(t).reduce((r,n)=>Array.isArray(t[n])?r:typeof t[n]=="object"&&t[n]!==null?[...r,e+n,...zj(t[n],"")]:[...r,e+n],[]),"keyify"),fve=new Set(zj($j,"")),Zr=$j,C5=k(t=>{if(Ee.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>C5(e));return}for(const e of Object.keys(t)){if(Ee.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!fve.has(e)||t[e]==null){Ee.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){Ee.debug("sanitizing object",e),C5(t[e]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)e.includes(n)&&(Ee.debug("sanitizing css option",e),t[e]=dve(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const r=t.themeVariables[e];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}Ee.debug("After sanitization",t)}},"sanitizeDirective"),dve=k(t=>{let e=0,r=0;for(const n of t){if(e<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?e++:n==="}"&&r++}return e!==r?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),lm=Object.freeze(Zr),lo=ia({},lm),Hj,um=[],E2=ia({},lm),rE=k((t,e)=>{let r=ia({},t),n={};for(const i of e)Gj(i),n=ia(n,i);if(r=ia(r,n),n.theme&&n.theme in Jc){const i=ia({},Hj),a=ia(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Jc&&(r.themeVariables=Jc[r.theme].getThemeVariables(a))}return E2=r,Wj(E2),E2},"updateCurrentConfig"),pve=k(t=>(lo=ia({},lm),lo=ia(lo,t),t.theme&&Jc[t.theme]&&(lo.themeVariables=Jc[t.theme].getThemeVariables(t.themeVariables)),rE(lo,um),lo),"setSiteConfig"),gve=k(t=>{Hj=ia({},t)},"saveConfigFromInitialize"),mve=k(t=>(lo=ia(lo,t),rE(lo,um),lo),"updateSiteConfig"),Vj=k(()=>ia({},lo),"getSiteConfig"),Uj=k(t=>(Wj(t),ia(E2,t),ai()),"setConfig"),ai=k(()=>ia({},E2),"getConfig"),Gj=k(t=>{t&&(["secure",...lo.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(Ee.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&Gj(t[e])}))},"sanitize"),vve=k(t=>{var e;C5(t),t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),um.push(t),rE(lo,um)},"addDirective"),A5=k((t=lo)=>{um=[],rE(t,um)},"reset"),yve={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},UB={},xve=k(t=>{UB[t]||(Ee.warn(yve[t]),UB[t]=!0)},"issueWarning"),Wj=k(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&xve("LAZY_LOAD_DEPRECATED")},"checkConfig"),jm=/<br\s*\/?>/gi,bve=k(t=>t?Xj(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),wve=(()=>{let t=!1;return()=>{t||(qj(),t=!0)}})();function qj(){const t="data-temp-href-target";sm.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),sm.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}k(qj,"setupDompurifyHooks");var Yj=k(t=>(wve(),sm.sanitize(t)),"removeScript"),GB=k((t,e)=>{var r;if(((r=e.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=e.securityLevel;n==="antiscript"||n==="strict"?t=Yj(t):n!=="loose"&&(t=Xj(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=Tve(t))}return t},"sanitizeMore"),Dn=k((t,e)=>t&&(e.dompurifyConfig?t=sm.sanitize(GB(t,e),e.dompurifyConfig).toString():t=sm.sanitize(GB(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),Sve=k((t,e)=>typeof t=="string"?Dn(t,e):t.flat().map(r=>Dn(r,e)),"sanitizeTextOrArray"),kve=k(t=>jm.test(t),"hasBreaks"),Eve=k(t=>t.split(jm),"splitBreaks"),Tve=k(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),Xj=k(t=>t.replace(jm,"#br#"),"breakToPlaceholder"),Cve=k(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},"getUrl"),Nn=k(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),Ave=k(function(...t){const e=t.filter(r=>!isNaN(r));return Math.max(...e)},"getMax"),_ve=k(function(...t){const e=t.filter(r=>!isNaN(r));return Math.min(...e)},"getMin"),Wd=k(function(t){const e=t.split(/(,)/),r=[];for(let n=0;n<e.length;n++){let i=e[n];if(i===","&&n>0&&n+1<e.length){const a=e[n-1],s=e[n+1];Lve(a,s)&&(i=a+","+s,n++,r.pop())}r.push(Dve(i))}return r.join("")},"parseGenericTypes"),YA=k((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),Lve=k((t,e)=>{const r=YA(t,"~"),n=YA(e,"~");return r===1&&n===1},"shouldCombineSets"),Dve=k(t=>{const e=YA(t,"~");let r=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),r=!0);const n=[...t];let i=n.indexOf("~"),a=n.lastIndexOf("~");for(;i!==-1&&a!==-1&&i!==a;)n[i]="<",n[a]=">",i=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),WB=k(()=>window.MathMLElement!==void 0,"isMathMLSupported"),XA=/\$\$(.*)\$\$/g,ms=k(t=>{var e;return(((e=t.match(XA))==null?void 0:e.length)??0)>0},"hasKatex"),cb=k(async(t,e)=>{t=await hb(t,e);const r=document.createElement("div");r.innerHTML=t,r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),hb=k(async(t,e)=>{if(!ms(t))return t;if(!(WB()||e.legacyMathML||e.forceLegacyMathML))return t.replace(XA,"MathML is unsupported in this environment.");const{default:r}=await sn(async()=>{const{default:i}=await Promise.resolve().then(()=>tDe);return{default:i}},void 0,import.meta.url),n=e.forceLegacyMathML||!WB()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(jm).map(i=>ms(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(XA,(i,a)=>r.renderToString(a,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),At={getRows:bve,sanitizeText:Dn,sanitizeTextOrArray:Sve,hasBreaks:kve,splitBreaks:Eve,lineBreakRegex:jm,removeScript:Yj,getUrl:Cve,evaluate:Nn,getMax:Ave,getMin:_ve},Rve=k(function(t,e){for(let r of e)t.attr(r[0],r[1])},"d3Attrs"),Mve=k(function(t,e,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${e}px;`)):(n.set("height",t),n.set("width",e)),n},"calculateSvgSizeAttrs"),xs=k(function(t,e,r,n){const i=Mve(e,r,n);Rve(t,i)},"configureSvgSize"),Km=k(function(t,e,r,n){const i=e.node().getBBox(),a=i.width,s=i.height;Ee.info(`SVG bounds: ${a}x${s}`,i);let o=0,l=0;Ee.info(`Graph bounds: ${o}x${l}`,t),o=a+r*2,l=s+r*2,Ee.info(`Calculated bounds: ${o}x${l}`),xs(e,l,o,n);const u=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;e.attr("viewBox",u)},"setupGraphViewbox"),l3={},Nve=k((t,e,r)=>{let n="";return t in l3&&l3[t]?n=l3[t](r):Ee.warn(`No theme found for ${t}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${e}
`},"getStyles"),Ive=k((t,e)=>{e!==void 0&&(l3[t]=e)},"addStylesForDiagram"),Ove=Nve,uR={};Ij(uR,{clear:()=>Ea,getAccDescription:()=>Ya,getAccTitle:()=>Wa,getDiagramTitle:()=>Xa,setAccDescription:()=>qa,setAccTitle:()=>Ta,setDiagramTitle:()=>js});var cR="",hR="",fR="",dR=k(t=>Dn(t,ai()),"sanitizeText"),Ea=k(()=>{cR="",fR="",hR=""},"clear"),Ta=k(t=>{cR=dR(t).replace(/^\s+/g,"")},"setAccTitle"),Wa=k(()=>cR,"getAccTitle"),qa=k(t=>{fR=dR(t).replace(/\n\s+/g,`
`)},"setAccDescription"),Ya=k(()=>fR,"getAccDescription"),js=k(t=>{hR=dR(t)},"setDiagramTitle"),Xa=k(()=>hR,"getDiagramTitle"),qB=Ee,Pve=sR,Ue=ai,YB=Uj,jj=lm,Kj=k(t=>Dn(t,Ue()),"sanitizeText"),Qj=Km,Fve=k(()=>uR,"getCommonDb"),_5={},L5=k((t,e,r)=>{var n;_5[t]&&qB.warn(`Diagram with id ${t} already registered. Overwriting.`),_5[t]=e,r&&Bj(t,r),Ive(t,e.styles),(n=e.injectUtils)==null||n.call(e,qB,Pve,Ue,Kj,Qj,Fve(),()=>{})},"registerDiagram"),jA=k(t=>{if(t in _5)return _5[t];throw new Bve(t)},"getDiagram"),x1,Bve=(x1=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},k(x1,"DiagramNotFoundError"),x1);function pR(t){return typeof t>"u"||t===null}k(pR,"isNothing");function Zj(t){return typeof t=="object"&&t!==null}k(Zj,"isObject");function Jj(t){return Array.isArray(t)?t:pR(t)?[]:[t]}k(Jj,"toArray");function eK(t,e){var r,n,i,a;if(e)for(a=Object.keys(e),r=0,n=a.length;r<n;r+=1)i=a[r],t[i]=e[i];return t}k(eK,"extend");function tK(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}k(tK,"repeat");function rK(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}k(rK,"isNegativeZero");var $ve=pR,zve=Zj,Hve=Jj,Vve=tK,Uve=rK,Gve=eK,aa={isNothing:$ve,isObject:zve,toArray:Hve,repeat:Vve,isNegativeZero:Uve,extend:Gve};function gR(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}k(gR,"formatError");function cm(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=gR(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}k(cm,"YAMLException$1");cm.prototype=Object.create(Error.prototype);cm.prototype.constructor=cm;cm.prototype.toString=k(function(e){return this.name+": "+gR(this,e)},"toString");var co=cm;function u3(t,e,r,n,i){var a="",s="",o=Math.floor(i/2)-1;return n-e>o&&(a=" ... ",e=n-o+a.length),r-n>o&&(s=" ...",r=n+o-s.length),{str:a+t.slice(e,r).replace(/\t/g,"→")+s,pos:n-e+a.length}}k(u3,"getLine");function c3(t,e){return aa.repeat(" ",e-t.length)+t}k(c3,"padStart");function nK(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],a,s=-1;a=r.exec(t.buffer);)i.push(a.index),n.push(a.index+a[0].length),t.position<=a.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var o="",l,u,h=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+h+3);for(l=1;l<=e.linesBefore&&!(s-l<0);l++)u=u3(t.buffer,n[s-l],i[s-l],t.position-(n[s]-n[s-l]),f),o=aa.repeat(" ",e.indent)+c3((t.line-l+1).toString(),h)+" | "+u.str+`
`+o;for(u=u3(t.buffer,n[s],i[s],t.position,f),o+=aa.repeat(" ",e.indent)+c3((t.line+1).toString(),h)+" | "+u.str+`
`,o+=aa.repeat("-",e.indent+h+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(s+l>=i.length);l++)u=u3(t.buffer,n[s+l],i[s+l],t.position-(n[s]-n[s+l]),f),o+=aa.repeat(" ",e.indent)+c3((t.line+l+1).toString(),h)+" | "+u.str+`
`;return o.replace(/\n$/,"")}k(nK,"makeSnippet");var Wve=nK,qve=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Yve=["scalar","sequence","mapping"];function iK(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}k(iK,"compileStyleAliases");function aK(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(qve.indexOf(r)===-1)throw new co('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=iK(e.styleAliases||null),Yve.indexOf(this.kind)===-1)throw new co('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}k(aK,"Type$1");var ds=aK;function KA(t,e){var r=[];return t[e].forEach(function(n){var i=r.length;r.forEach(function(a,s){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(i=s)}),r[i]=n}),r}k(KA,"compileList");function sK(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function n(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(k(n,"collectType"),e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}k(sK,"compileMap");function D5(t){return this.extend(t)}k(D5,"Schema$1");D5.prototype.extend=k(function(e){var r=[],n=[];if(e instanceof ds)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new co("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(a){if(!(a instanceof ds))throw new co("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new co("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new co("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(a){if(!(a instanceof ds))throw new co("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(D5.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=KA(i,"implicit"),i.compiledExplicit=KA(i,"explicit"),i.compiledTypeMap=sK(i.compiledImplicit,i.compiledExplicit),i},"extend");var Xve=D5,jve=new ds("tag:yaml.org,2002:str",{kind:"scalar",construct:k(function(t){return t!==null?t:""},"construct")}),Kve=new ds("tag:yaml.org,2002:seq",{kind:"sequence",construct:k(function(t){return t!==null?t:[]},"construct")}),Qve=new ds("tag:yaml.org,2002:map",{kind:"mapping",construct:k(function(t){return t!==null?t:{}},"construct")}),Zve=new Xve({explicit:[jve,Kve,Qve]});function oK(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}k(oK,"resolveYamlNull");function lK(){return null}k(lK,"constructYamlNull");function uK(t){return t===null}k(uK,"isNull");var Jve=new ds("tag:yaml.org,2002:null",{kind:"scalar",resolve:oK,construct:lK,predicate:uK,represent:{canonical:k(function(){return"~"},"canonical"),lowercase:k(function(){return"null"},"lowercase"),uppercase:k(function(){return"NULL"},"uppercase"),camelcase:k(function(){return"Null"},"camelcase"),empty:k(function(){return""},"empty")},defaultStyle:"lowercase"});function cK(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}k(cK,"resolveYamlBoolean");function hK(t){return t==="true"||t==="True"||t==="TRUE"}k(hK,"constructYamlBoolean");function fK(t){return Object.prototype.toString.call(t)==="[object Boolean]"}k(fK,"isBoolean");var eye=new ds("tag:yaml.org,2002:bool",{kind:"scalar",resolve:cK,construct:hK,predicate:fK,represent:{lowercase:k(function(t){return t?"true":"false"},"lowercase"),uppercase:k(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:k(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function dK(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}k(dK,"isHexCode");function pK(t){return 48<=t&&t<=55}k(pK,"isOctCode");function gK(t){return 48<=t&&t<=57}k(gK,"isDecCode");function mK(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!dK(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!pK(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(!gK(t.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}k(mK,"resolveYamlInteger");function vK(t){var e=t,r=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}k(vK,"constructYamlInteger");function yK(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!aa.isNegativeZero(t)}k(yK,"isInteger");var tye=new ds("tag:yaml.org,2002:int",{kind:"scalar",resolve:mK,construct:vK,predicate:yK,represent:{binary:k(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:k(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:k(function(t){return t.toString(10)},"decimal"),hexadecimal:k(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),rye=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function xK(t){return!(t===null||!rye.test(t)||t[t.length-1]==="_")}k(xK,"resolveYamlFloat");function bK(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}k(bK,"constructYamlFloat");var nye=/^[-+]?[0-9]+e/;function wK(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(aa.isNegativeZero(t))return"-0.0";return r=t.toString(10),nye.test(r)?r.replace("e",".e"):r}k(wK,"representYamlFloat");function SK(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||aa.isNegativeZero(t))}k(SK,"isFloat");var iye=new ds("tag:yaml.org,2002:float",{kind:"scalar",resolve:xK,construct:bK,predicate:SK,represent:wK,defaultStyle:"lowercase"}),kK=Zve.extend({implicit:[Jve,eye,tye,iye]}),aye=kK,EK=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),TK=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function CK(t){return t===null?!1:EK.exec(t)!==null||TK.exec(t)!==null}k(CK,"resolveYamlTimestamp");function AK(t){var e,r,n,i,a,s,o,l=0,u=null,h,f,d;if(e=EK.exec(t),e===null&&(e=TK.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(a=+e[4],s=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(h=+e[10],f=+(e[11]||0),u=(h*60+f)*6e4,e[9]==="-"&&(u=-u)),d=new Date(Date.UTC(r,n,i,a,s,o,l)),u&&d.setTime(d.getTime()-u),d}k(AK,"constructYamlTimestamp");function _K(t){return t.toISOString()}k(_K,"representYamlTimestamp");var sye=new ds("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:CK,construct:AK,instanceOf:Date,represent:_K});function LK(t){return t==="<<"||t===null}k(LK,"resolveYamlMerge");var oye=new ds("tag:yaml.org,2002:merge",{kind:"scalar",resolve:LK}),mR=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function DK(t){if(t===null)return!1;var e,r,n=0,i=t.length,a=mR;for(r=0;r<i;r++)if(e=a.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}k(DK,"resolveYamlBinary");function RK(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,a=mR,s=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)),s=s<<6|a.indexOf(n.charAt(e));return r=i%4*6,r===0?(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)):r===18?(o.push(s>>10&255),o.push(s>>2&255)):r===12&&o.push(s>>4&255),new Uint8Array(o)}k(RK,"constructYamlBinary");function MK(t){var e="",r=0,n,i,a=t.length,s=mR;for(n=0;n<a;n++)n%3===0&&n&&(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]),r=(r<<8)+t[n];return i=a%3,i===0?(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]):i===2?(e+=s[r>>10&63],e+=s[r>>4&63],e+=s[r<<2&63],e+=s[64]):i===1&&(e+=s[r>>2&63],e+=s[r<<4&63],e+=s[64],e+=s[64]),e}k(MK,"representYamlBinary");function NK(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}k(NK,"isBinary");var lye=new ds("tag:yaml.org,2002:binary",{kind:"scalar",resolve:DK,construct:RK,predicate:NK,represent:MK}),uye=Object.prototype.hasOwnProperty,cye=Object.prototype.toString;function IK(t){if(t===null)return!0;var e=[],r,n,i,a,s,o=t;for(r=0,n=o.length;r<n;r+=1){if(i=o[r],s=!1,cye.call(i)!=="[object Object]")return!1;for(a in i)if(uye.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(a)===-1)e.push(a);else return!1}return!0}k(IK,"resolveYamlOmap");function OK(t){return t!==null?t:[]}k(OK,"constructYamlOmap");var hye=new ds("tag:yaml.org,2002:omap",{kind:"sequence",resolve:IK,construct:OK}),fye=Object.prototype.toString;function PK(t){if(t===null)return!0;var e,r,n,i,a,s=t;for(a=new Array(s.length),e=0,r=s.length;e<r;e+=1){if(n=s[e],fye.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;a[e]=[i[0],n[i[0]]]}return!0}k(PK,"resolveYamlPairs");function FK(t){if(t===null)return[];var e,r,n,i,a,s=t;for(a=new Array(s.length),e=0,r=s.length;e<r;e+=1)n=s[e],i=Object.keys(n),a[e]=[i[0],n[i[0]]];return a}k(FK,"constructYamlPairs");var dye=new ds("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:PK,construct:FK}),pye=Object.prototype.hasOwnProperty;function BK(t){if(t===null)return!0;var e,r=t;for(e in r)if(pye.call(r,e)&&r[e]!==null)return!1;return!0}k(BK,"resolveYamlSet");function $K(t){return t!==null?t:{}}k($K,"constructYamlSet");var gye=new ds("tag:yaml.org,2002:set",{kind:"mapping",resolve:BK,construct:$K}),zK=aye.extend({implicit:[sye,oye],explicit:[lye,hye,dye,gye]}),$f=Object.prototype.hasOwnProperty,R5=1,HK=2,VK=3,M5=4,Q6=1,mye=2,XB=3,vye=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,yye=/[\x85\u2028\u2029]/,xye=/[,\[\]\{\}]/,UK=/^(?:!|!!|![a-z\-]+!)$/i,GK=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function QA(t){return Object.prototype.toString.call(t)}k(QA,"_class");function au(t){return t===10||t===13}k(au,"is_EOL");function Mf(t){return t===9||t===32}k(Mf,"is_WHITE_SPACE");function $s(t){return t===9||t===32||t===10||t===13}k($s,"is_WS_OR_EOL");function c0(t){return t===44||t===91||t===93||t===123||t===125}k(c0,"is_FLOW_INDICATOR");function WK(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}k(WK,"fromHexCode");function qK(t){return t===120?2:t===117?4:t===85?8:0}k(qK,"escapedHexLen");function YK(t){return 48<=t&&t<=57?t-48:-1}k(YK,"fromDecimalCode");function ZA(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}k(ZA,"simpleEscapeSequence");function XK(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}k(XK,"charFromCodepoint");var jK=new Array(256),KK=new Array(256);for(Od=0;Od<256;Od++)jK[Od]=ZA(Od)?1:0,KK[Od]=ZA(Od);var Od;function QK(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||zK,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}k(QK,"State$1");function vR(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=Wve(r),new co(e,r)}k(vR,"generateError");function hr(t,e){throw vR(t,e)}k(hr,"throwError");function nx(t,e){t.onWarning&&t.onWarning.call(null,vR(t,e))}k(nx,"throwWarning");var jB={YAML:k(function(e,r,n){var i,a,s;e.version!==null&&hr(e,"duplication of %YAML directive"),n.length!==1&&hr(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&hr(e,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),s=parseInt(i[2],10),a!==1&&hr(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=s<2,s!==1&&s!==2&&nx(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:k(function(e,r,n){var i,a;n.length!==2&&hr(e,"TAG directive accepts exactly two arguments"),i=n[0],a=n[1],UK.test(i)||hr(e,"ill-formed tag handle (first argument) of the TAG directive"),$f.call(e.tagMap,i)&&hr(e,'there is a previously declared suffix for "'+i+'" tag handle'),GK.test(a)||hr(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{hr(e,"tag prefix is malformed: "+a)}e.tagMap[i]=a},"handleTagDirective")};function eh(t,e,r,n){var i,a,s,o;if(e<r){if(o=t.input.slice(e,r),n)for(i=0,a=o.length;i<a;i+=1)s=o.charCodeAt(i),s===9||32<=s&&s<=1114111||hr(t,"expected valid JSON character");else vye.test(o)&&hr(t,"the stream contains non-printable characters");t.result+=o}}k(eh,"captureSegment");function JA(t,e,r,n){var i,a,s,o;for(aa.isObject(r)||hr(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,o=i.length;s<o;s+=1)a=i[s],$f.call(e,a)||(e[a]=r[a],n[a]=!0)}k(JA,"mergeMappings");function h0(t,e,r,n,i,a,s,o,l){var u,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,h=i.length;u<h;u+=1)Array.isArray(i[u])&&hr(t,"nested arrays are not supported inside keys"),typeof i=="object"&&QA(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&QA(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(u=0,h=a.length;u<h;u+=1)JA(t,e,a[u],r);else JA(t,e,a,r);else!t.json&&!$f.call(r,i)&&$f.call(e,i)&&(t.line=s||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,hr(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):e[i]=a,delete r[i];return e}k(h0,"storeMappingPair");function nE(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):hr(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}k(nE,"readLineBreak");function Ii(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;Mf(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(au(i))for(nE(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&nx(t,"deficient indentation"),n}k(Ii,"skipSeparationSpace");function fb(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||$s(r)))}k(fb,"testDocumentSeparator");function iE(t,e){e===1?t.result+=" ":e>1&&(t.result+=aa.repeat(`
`,e-1))}k(iE,"writeFoldedLines");function ZK(t,e,r){var n,i,a,s,o,l,u,h,f=t.kind,d=t.result,p;if(p=t.input.charCodeAt(t.position),$s(p)||c0(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),$s(i)||r&&c0(i)))return!1;for(t.kind="scalar",t.result="",a=s=t.position,o=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),$s(i)||r&&c0(i))break}else if(p===35){if(n=t.input.charCodeAt(t.position-1),$s(n))break}else{if(t.position===t.lineStart&&fb(t)||r&&c0(p))break;if(au(p))if(l=t.line,u=t.lineStart,h=t.lineIndent,Ii(t,!1,-1),t.lineIndent>=e){o=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=s,t.line=l,t.lineStart=u,t.lineIndent=h;break}}o&&(eh(t,a,s,!1),iE(t,t.line-l),a=s=t.position,o=!1),Mf(p)||(s=t.position+1),p=t.input.charCodeAt(++t.position)}return eh(t,a,s,!1),t.result?!0:(t.kind=f,t.result=d,!1)}k(ZK,"readPlainScalar");function JK(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(eh(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else au(r)?(eh(t,n,i,!0),iE(t,Ii(t,!1,e)),n=i=t.position):t.position===t.lineStart&&fb(t)?hr(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);hr(t,"unexpected end of the stream within a single quoted scalar")}k(JK,"readSingleQuotedScalar");function eQ(t,e){var r,n,i,a,s,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return eh(t,r,t.position,!0),t.position++,!0;if(o===92){if(eh(t,r,t.position,!0),o=t.input.charCodeAt(++t.position),au(o))Ii(t,!1,e);else if(o<256&&jK[o])t.result+=KK[o],t.position++;else if((s=qK(o))>0){for(i=s,a=0;i>0;i--)o=t.input.charCodeAt(++t.position),(s=WK(o))>=0?a=(a<<4)+s:hr(t,"expected hexadecimal character");t.result+=XK(a),t.position++}else hr(t,"unknown escape sequence");r=n=t.position}else au(o)?(eh(t,r,n,!0),iE(t,Ii(t,!1,e)),r=n=t.position):t.position===t.lineStart&&fb(t)?hr(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}hr(t,"unexpected end of the stream within a double quoted scalar")}k(eQ,"readDoubleQuotedScalar");function tQ(t,e){var r=!0,n,i,a,s=t.tag,o,l=t.anchor,u,h,f,d,p,m=Object.create(null),v,x,y,w;if(w=t.input.charCodeAt(t.position),w===91)h=93,p=!1,o=[];else if(w===123)h=125,p=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),w=t.input.charCodeAt(++t.position);w!==0;){if(Ii(t,!0,e),w=t.input.charCodeAt(t.position),w===h)return t.position++,t.tag=s,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=o,!0;r?w===44&&hr(t,"expected the node content, but found ','"):hr(t,"missed comma between flow collection entries"),x=v=y=null,f=d=!1,w===63&&(u=t.input.charCodeAt(t.position+1),$s(u)&&(f=d=!0,t.position++,Ii(t,!0,e))),n=t.line,i=t.lineStart,a=t.position,I0(t,e,R5,!1,!0),x=t.tag,v=t.result,Ii(t,!0,e),w=t.input.charCodeAt(t.position),(d||t.line===n)&&w===58&&(f=!0,w=t.input.charCodeAt(++t.position),Ii(t,!0,e),I0(t,e,R5,!1,!0),y=t.result),p?h0(t,o,m,x,v,y,n,i,a):f?o.push(h0(t,null,m,x,v,y,n,i,a)):o.push(v),Ii(t,!0,e),w=t.input.charCodeAt(t.position),w===44?(r=!0,w=t.input.charCodeAt(++t.position)):r=!1}hr(t,"unexpected end of the stream within a flow collection")}k(tQ,"readFlowCollection");function rQ(t,e){var r,n,i=Q6,a=!1,s=!1,o=e,l=0,u=!1,h,f;if(f=t.input.charCodeAt(t.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)Q6===i?i=f===43?XB:mye:hr(t,"repeat of a chomping mode identifier");else if((h=YK(f))>=0)h===0?hr(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?hr(t,"repeat of an indentation width identifier"):(o=e+h-1,s=!0);else break;if(Mf(f)){do f=t.input.charCodeAt(++t.position);while(Mf(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!au(f)&&f!==0)}for(;f!==0;){for(nE(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!s||t.lineIndent<o)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>o&&(o=t.lineIndent),au(f)){l++;continue}if(t.lineIndent<o){i===XB?t.result+=aa.repeat(`
`,a?1+l:l):i===Q6&&a&&(t.result+=`
`);break}for(n?Mf(f)?(u=!0,t.result+=aa.repeat(`
`,a?1+l:l)):u?(u=!1,t.result+=aa.repeat(`
`,l+1)):l===0?a&&(t.result+=" "):t.result+=aa.repeat(`
`,l):t.result+=aa.repeat(`
`,a?1+l:l),a=!0,s=!0,l=0,r=t.position;!au(f)&&f!==0;)f=t.input.charCodeAt(++t.position);eh(t,r,t.position,!1)}return!0}k(rQ,"readBlockScalar");function e_(t,e){var r,n=t.tag,i=t.anchor,a=[],s,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,hr(t,"tab characters must not be used in indentation")),!(l!==45||(s=t.input.charCodeAt(t.position+1),!$s(s))));){if(o=!0,t.position++,Ii(t,!0,-1)&&t.lineIndent<=e){a.push(null),l=t.input.charCodeAt(t.position);continue}if(r=t.line,I0(t,e,VK,!1,!0),a.push(t.result),Ii(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&l!==0)hr(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=a,!0):!1}k(e_,"readBlockSequence");function nQ(t,e,r){var n,i,a,s,o,l,u=t.tag,h=t.anchor,f={},d=Object.create(null),p=null,m=null,v=null,x=!1,y=!1,w;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),w=t.input.charCodeAt(t.position);w!==0;){if(!x&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,hr(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),a=t.line,(w===63||w===58)&&$s(n))w===63?(x&&(h0(t,f,d,p,m,null,s,o,l),p=m=v=null),y=!0,x=!0,i=!0):x?(x=!1,i=!0):hr(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,w=n;else{if(s=t.line,o=t.lineStart,l=t.position,!I0(t,r,HK,!1,!0))break;if(t.line===a){for(w=t.input.charCodeAt(t.position);Mf(w);)w=t.input.charCodeAt(++t.position);if(w===58)w=t.input.charCodeAt(++t.position),$s(w)||hr(t,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(h0(t,f,d,p,m,null,s,o,l),p=m=v=null),y=!0,x=!1,i=!1,p=t.tag,m=t.result;else if(y)hr(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=h,!0}else if(y)hr(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=h,!0}if((t.line===a||t.lineIndent>e)&&(x&&(s=t.line,o=t.lineStart,l=t.position),I0(t,e,M5,!0,i)&&(x?m=t.result:v=t.result),x||(h0(t,f,d,p,m,v,s,o,l),p=m=v=null),Ii(t,!0,-1),w=t.input.charCodeAt(t.position)),(t.line===a||t.lineIndent>e)&&w!==0)hr(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return x&&h0(t,f,d,p,m,null,s,o,l),y&&(t.tag=u,t.anchor=h,t.kind="mapping",t.result=f),y}k(nQ,"readBlockMapping");function iQ(t){var e,r=!1,n=!1,i,a,s;if(s=t.input.charCodeAt(t.position),s!==33)return!1;if(t.tag!==null&&hr(t,"duplication of a tag property"),s=t.input.charCodeAt(++t.position),s===60?(r=!0,s=t.input.charCodeAt(++t.position)):s===33?(n=!0,i="!!",s=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do s=t.input.charCodeAt(++t.position);while(s!==0&&s!==62);t.position<t.length?(a=t.input.slice(e,t.position),s=t.input.charCodeAt(++t.position)):hr(t,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!$s(s);)s===33&&(n?hr(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),UK.test(i)||hr(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),s=t.input.charCodeAt(++t.position);a=t.input.slice(e,t.position),xye.test(a)&&hr(t,"tag suffix cannot contain flow indicator characters")}a&&!GK.test(a)&&hr(t,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{hr(t,"tag name is malformed: "+a)}return r?t.tag=a:$f.call(t.tagMap,i)?t.tag=t.tagMap[i]+a:i==="!"?t.tag="!"+a:i==="!!"?t.tag="tag:yaml.org,2002:"+a:hr(t,'undeclared tag handle "'+i+'"'),!0}k(iQ,"readTagProperty");function aQ(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&hr(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!$s(r)&&!c0(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&hr(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}k(aQ,"readAnchorProperty");function sQ(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!$s(n)&&!c0(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&hr(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),$f.call(t.anchorMap,r)||hr(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],Ii(t,!0,-1),!0}k(sQ,"readAlias");function I0(t,e,r,n,i){var a,s,o,l=1,u=!1,h=!1,f,d,p,m,v,x;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,a=s=o=M5===r||VK===r,n&&Ii(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;iQ(t)||aQ(t);)Ii(t,!0,-1)?(u=!0,o=a,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=u||i),(l===1||M5===r)&&(R5===r||HK===r?v=e:v=e+1,x=t.position-t.lineStart,l===1?o&&(e_(t,x)||nQ(t,x,v))||tQ(t,v)?h=!0:(s&&rQ(t,v)||JK(t,v)||eQ(t,v)?h=!0:sQ(t)?(h=!0,(t.tag!==null||t.anchor!==null)&&hr(t,"alias node should not have any properties")):ZK(t,v,R5===r)&&(h=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(h=o&&e_(t,x))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&hr(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,d=t.implicitTypes.length;f<d;f+=1)if(m=t.implicitTypes[f],m.resolve(t.result)){t.result=m.construct(t.result),t.tag=m.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if($f.call(t.typeMap[t.kind||"fallback"],t.tag))m=t.typeMap[t.kind||"fallback"][t.tag];else for(m=null,p=t.typeMap.multi[t.kind||"fallback"],f=0,d=p.length;f<d;f+=1)if(t.tag.slice(0,p[f].tag.length)===p[f].tag){m=p[f];break}m||hr(t,"unknown tag !<"+t.tag+">"),t.result!==null&&m.kind!==t.kind&&hr(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+m.kind+'", not "'+t.kind+'"'),m.resolve(t.result,t.tag)?(t.result=m.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):hr(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||h}k(I0,"composeNode");function oQ(t){var e=t.position,r,n,i,a=!1,s;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(s=t.input.charCodeAt(t.position))!==0&&(Ii(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||s!==37));){for(a=!0,s=t.input.charCodeAt(++t.position),r=t.position;s!==0&&!$s(s);)s=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&hr(t,"directive name must not be less than one character in length");s!==0;){for(;Mf(s);)s=t.input.charCodeAt(++t.position);if(s===35){do s=t.input.charCodeAt(++t.position);while(s!==0&&!au(s));break}if(au(s))break;for(r=t.position;s!==0&&!$s(s);)s=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}s!==0&&nE(t),$f.call(jB,n)?jB[n](t,n,i):nx(t,'unknown document directive "'+n+'"')}if(Ii(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Ii(t,!0,-1)):a&&hr(t,"directives end mark is expected"),I0(t,t.lineIndent-1,M5,!1,!0),Ii(t,!0,-1),t.checkLineBreaks&&yye.test(t.input.slice(e,t.position))&&nx(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&fb(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Ii(t,!0,-1));return}if(t.position<t.length-1)hr(t,"end of the stream or a document separator is expected");else return}k(oQ,"readDocument");function yR(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new QK(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,hr(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)oQ(r);return r.documents}k(yR,"loadDocuments");function lQ(t,e,r){e!==null&&typeof e=="object"&&typeof r>"u"&&(r=e,e=null);var n=yR(t,r);if(typeof e!="function")return n;for(var i=0,a=n.length;i<a;i+=1)e(n[i])}k(lQ,"loadAll$1");function uQ(t,e){var r=yR(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new co("expected a single document in the stream, but found more")}}k(uQ,"load$1");var bye=lQ,wye=uQ,Sye={loadAll:bye,load:wye},cQ=Object.prototype.toString,hQ=Object.prototype.hasOwnProperty,xR=65279,kye=9,ix=10,Eye=13,Tye=32,Cye=33,Aye=34,t_=35,_ye=37,Lye=38,Dye=39,Rye=42,fQ=44,Mye=45,N5=58,Nye=61,Iye=62,Oye=63,Pye=64,dQ=91,pQ=93,Fye=96,gQ=123,Bye=124,mQ=125,bs={};bs[0]="\\0";bs[7]="\\a";bs[8]="\\b";bs[9]="\\t";bs[10]="\\n";bs[11]="\\v";bs[12]="\\f";bs[13]="\\r";bs[27]="\\e";bs[34]='\\"';bs[92]="\\\\";bs[133]="\\N";bs[160]="\\_";bs[8232]="\\L";bs[8233]="\\P";var $ye=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],zye=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function vQ(t,e){var r,n,i,a,s,o,l;if(e===null)return{};for(r={},n=Object.keys(e),i=0,a=n.length;i<a;i+=1)s=n[i],o=String(e[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),l=t.compiledTypeMap.fallback[s],l&&hQ.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[s]=o;return r}k(vQ,"compileStyleMap");function yQ(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new co("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+aa.repeat("0",n-e.length)+e}k(yQ,"encodeHex");var Hye=1,ax=2;function xQ(t){this.schema=t.schema||zK,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=aa.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=vQ(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?ax:Hye,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}k(xQ,"State");function r_(t,e){for(var r=aa.repeat(" ",e),n=0,i=-1,a="",s,o=t.length;n<o;)i=t.indexOf(`
`,n),i===-1?(s=t.slice(n),n=o):(s=t.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(a+=r),a+=s;return a}k(r_,"indentString");function I5(t,e){return`
`+aa.repeat(" ",t.indent*e)}k(I5,"generateNextLine");function bQ(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}k(bQ,"testImplicitResolving");function sx(t){return t===Tye||t===kye}k(sx,"isWhitespace");function hm(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==xR||65536<=t&&t<=1114111}k(hm,"isPrintable");function n_(t){return hm(t)&&t!==xR&&t!==Eye&&t!==ix}k(n_,"isNsCharOrWhitespace");function i_(t,e,r){var n=n_(t),i=n&&!sx(t);return(r?n:n&&t!==fQ&&t!==dQ&&t!==pQ&&t!==gQ&&t!==mQ)&&t!==t_&&!(e===N5&&!i)||n_(e)&&!sx(e)&&t===t_||e===N5&&i}k(i_,"isPlainSafe");function wQ(t){return hm(t)&&t!==xR&&!sx(t)&&t!==Mye&&t!==Oye&&t!==N5&&t!==fQ&&t!==dQ&&t!==pQ&&t!==gQ&&t!==mQ&&t!==t_&&t!==Lye&&t!==Rye&&t!==Cye&&t!==Bye&&t!==Nye&&t!==Iye&&t!==Dye&&t!==Aye&&t!==_ye&&t!==Pye&&t!==Fye}k(wQ,"isPlainSafeFirst");function SQ(t){return!sx(t)&&t!==N5}k(SQ,"isPlainSafeLast");function Ig(t,e){var r=t.charCodeAt(e),n;return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}k(Ig,"codePointAt");function bR(t){var e=/^\n* /;return e.test(t)}k(bR,"needIndentIndicator");var kQ=1,a_=2,EQ=3,TQ=4,yg=5;function CQ(t,e,r,n,i,a,s,o){var l,u=0,h=null,f=!1,d=!1,p=n!==-1,m=-1,v=wQ(Ig(t,0))&&SQ(Ig(t,t.length-1));if(e||s)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Ig(t,l),!hm(u))return yg;v=v&&i_(u,h,o),h=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=Ig(t,l),u===ix)f=!0,p&&(d=d||l-m-1>n&&t[m+1]!==" ",m=l);else if(!hm(u))return yg;v=v&&i_(u,h,o),h=u}d=d||p&&l-m-1>n&&t[m+1]!==" "}return!f&&!d?v&&!s&&!i(t)?kQ:a===ax?yg:a_:r>9&&bR(t)?yg:s?a===ax?yg:a_:d?TQ:EQ}k(CQ,"chooseScalarStyle");function AQ(t,e,r,n,i){t.dump=function(){if(e.length===0)return t.quotingType===ax?'""':"''";if(!t.noCompatMode&&($ye.indexOf(e)!==-1||zye.test(e)))return t.quotingType===ax?'"'+e+'"':"'"+e+"'";var a=t.indent*Math.max(1,r),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-a),o=n||t.flowLevel>-1&&r>=t.flowLevel;function l(u){return bQ(t,u)}switch(k(l,"testAmbiguity"),CQ(e,o,t.indent,s,l,t.quotingType,t.forceQuotes&&!n,i)){case kQ:return e;case a_:return"'"+e.replace(/'/g,"''")+"'";case EQ:return"|"+s_(e,t.indent)+o_(r_(e,a));case TQ:return">"+s_(e,t.indent)+o_(r_(_Q(e,s),a));case yg:return'"'+LQ(e)+'"';default:throw new co("impossible error: invalid scalar style")}}()}k(AQ,"writeScalar");function s_(t,e){var r=bR(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),a=i?"+":n?"":"-";return r+a+`
`}k(s_,"blockHeader");function o_(t){return t[t.length-1]===`
`?t.slice(0,-1):t}k(o_,"dropEndingNewline");function _Q(t,e){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,r.lastIndex=u,l_(t.slice(0,u),e)}(),i=t[0]===`
`||t[0]===" ",a,s;s=r.exec(t);){var o=s[1],l=s[2];a=l[0]===" ",n+=o+(!i&&!a&&l!==""?`
`:"")+l_(l,e),i=a}return n}k(_Q,"foldString");function l_(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,a,s=0,o=0,l="";n=r.exec(t);)o=n.index,o-i>e&&(a=s>i?s:o,l+=`
`+t.slice(i,a),i=a+1),s=o;return l+=`
`,t.length-i>e&&s>i?l+=t.slice(i,s)+`
`+t.slice(s+1):l+=t.slice(i),l.slice(1)}k(l_,"foldLine");function LQ(t){for(var e="",r=0,n,i=0;i<t.length;r>=65536?i+=2:i++)r=Ig(t,i),n=bs[r],!n&&hm(r)?(e+=t[i],r>=65536&&(e+=t[i+1])):e+=n||yQ(r);return e}k(LQ,"escapeString");function DQ(t,e,r){var n="",i=t.tag,a,s,o;for(a=0,s=r.length;a<s;a+=1)o=r[a],t.replacer&&(o=t.replacer.call(r,String(a),o)),(rc(t,e,o,!1,!1)||typeof o>"u"&&rc(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}k(DQ,"writeFlowSequence");function u_(t,e,r,n){var i="",a=t.tag,s,o,l;for(s=0,o=r.length;s<o;s+=1)l=r[s],t.replacer&&(l=t.replacer.call(r,String(s),l)),(rc(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&rc(t,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=I5(t,e)),t.dump&&ix===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=a,t.dump=i||"[]"}k(u_,"writeBlockSequence");function RQ(t,e,r){var n="",i=t.tag,a=Object.keys(r),s,o,l,u,h;for(s=0,o=a.length;s<o;s+=1)h="",n!==""&&(h+=", "),t.condenseFlow&&(h+='"'),l=a[s],u=r[l],t.replacer&&(u=t.replacer.call(r,l,u)),rc(t,e,l,!1,!1)&&(t.dump.length>1024&&(h+="? "),h+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),rc(t,e,u,!1,!1)&&(h+=t.dump,n+=h));t.tag=i,t.dump="{"+n+"}"}k(RQ,"writeFlowMapping");function MQ(t,e,r,n){var i="",a=t.tag,s=Object.keys(r),o,l,u,h,f,d;if(t.sortKeys===!0)s.sort();else if(typeof t.sortKeys=="function")s.sort(t.sortKeys);else if(t.sortKeys)throw new co("sortKeys must be a boolean or a function");for(o=0,l=s.length;o<l;o+=1)d="",(!n||i!=="")&&(d+=I5(t,e)),u=s[o],h=r[u],t.replacer&&(h=t.replacer.call(r,u,h)),rc(t,e+1,u,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&ix===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,f&&(d+=I5(t,e)),rc(t,e+1,h,!0,f)&&(t.dump&&ix===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,i+=d));t.tag=a,t.dump=i||"{}"}k(MQ,"writeBlockMapping");function c_(t,e,r){var n,i,a,s,o,l;for(i=r?t.explicitTypes:t.implicitTypes,a=0,s=i.length;a<s;a+=1)if(o=i[a],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(r?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,cQ.call(o.represent)==="[object Function]")n=o.represent(e,l);else if(hQ.call(o.represent,l))n=o.represent[l](e,l);else throw new co("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=n}return!0}return!1}k(c_,"detectType");function rc(t,e,r,n,i,a,s){t.tag=null,t.dump=r,c_(t,r,!1)||c_(t,r,!0);var o=cQ.call(t.dump),l=n,u;n&&(n=t.flowLevel<0||t.flowLevel>e);var h=o==="[object Object]"||o==="[object Array]",f,d;if(h&&(f=t.duplicates.indexOf(r),d=f!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(i=!1),d&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(h&&d&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),o==="[object Object]")n&&Object.keys(t.dump).length!==0?(MQ(t,e,t.dump,i),d&&(t.dump="&ref_"+f+t.dump)):(RQ(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!s&&e>0?u_(t,e-1,t.dump,i):u_(t,e,t.dump,i),d&&(t.dump="&ref_"+f+t.dump)):(DQ(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&AQ(t,t.dump,e,a,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new co("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}k(rc,"writeNode");function NQ(t,e){var r=[],n=[],i,a;for(O5(t,r,n),i=0,a=n.length;i<a;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(a)}k(NQ,"getDuplicateReferences");function O5(t,e,r){var n,i,a;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,a=t.length;i<a;i+=1)O5(t[i],e,r);else for(n=Object.keys(t),i=0,a=n.length;i<a;i+=1)O5(t[n[i]],e,r)}k(O5,"inspectNode");function Vye(t,e){e=e||{};var r=new xQ(e);r.noRefs||NQ(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),rc(r,0,n,!0,!0)?r.dump+`
`:""}k(Vye,"dump$1");function Uye(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}k(Uye,"renamed");var wR=kK,SR=Sye.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/const Gye=Object.freeze({left:0,top:0,width:16,height:16}),P5=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),IQ=Object.freeze({...Gye,...P5}),Wye=Object.freeze({...IQ,body:"",hidden:!1}),qye=Object.freeze({width:null,height:null}),Yye=Object.freeze({...qye,...P5}),Z6=/^[a-z0-9]+(-[a-z0-9]+)*$/,Xye=(t,e,r,n="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:n,prefix:l,name:o};return J6(u)?u:null}const a=i[0],s=a.split("-");if(s.length>1){const o={provider:n,prefix:s.shift(),name:s.join("-")};return J6(o)?o:null}if(r&&n===""){const o={provider:n,prefix:"",name:a};return J6(o,r)?o:null}return null},J6=(t,e)=>t?!!((t.provider===""||t.provider.match(Z6))&&(e&&t.prefix===""||t.prefix.match(Z6))&&t.name.match(Z6)):!1;function jye(t,e){const r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(r.rotate=n),r}function KB(t,e){const r=jye(t,e);for(const n in Wye)n in P5?n in t&&!(n in r)&&(r[n]=P5[n]):n in e?r[n]=e[n]:n in t&&(r[n]=t[n]);return r}function Kye(t,e){const r=t.icons,n=t.aliases||Object.create(null),i=Object.create(null);function a(s){if(r[s])return i[s]=[];if(!(s in i)){i[s]=null;const o=n[s]&&n[s].parent,l=o&&a(o);l&&(i[s]=[o].concat(l))}return i[s]}return(e||Object.keys(r).concat(Object.keys(n))).forEach(a),i}function QB(t,e,r){const n=t.icons,i=t.aliases||Object.create(null);let a={};function s(o){a=KB(n[o]||i[o],a)}return s(e),r.forEach(s),KB(t,a)}function Qye(t,e){if(t.icons[e])return QB(t,e,[]);const r=Kye(t,[e])[e];return r?QB(t,e,r):null}const Zye=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Jye=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ZB(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;const n=t.split(Zye);if(n===null||!n.length)return t;const i=[];let a=n.shift(),s=Jye.test(a);for(;;){if(s){const o=parseFloat(a);isNaN(o)?i.push(a):i.push(Math.ceil(o*e*r)/r)}else i.push(a);if(a=n.shift(),a===void 0)return i.join("");s=!s}}function e2e(t,e="defs"){let r="";const n=t.indexOf("<"+e);for(;n>=0;){const i=t.indexOf(">",n),a=t.indexOf("</"+e);if(i===-1||a===-1)break;const s=t.indexOf(">",a);if(s===-1)break;r+=t.slice(i+1,a).trim(),t=t.slice(0,n).trim()+t.slice(s+1)}return{defs:r,content:t}}function t2e(t,e){return t?"<defs>"+t+"</defs>"+e:e}function r2e(t,e,r){const n=e2e(t);return t2e(n.defs,e+n.content+r)}const n2e=t=>t==="unset"||t==="undefined"||t==="none";function i2e(t,e){const r={...IQ,...t},n={...Yye,...e},i={left:r.left,top:r.top,width:r.width,height:r.height};let a=r.body;[r,n].forEach(v=>{const x=[],y=v.hFlip,w=v.vFlip;let S=v.rotate;y?w?S+=2:(x.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),x.push("scale(-1 1)"),i.top=i.left=0):w&&(x.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),x.push("scale(1 -1)"),i.top=i.left=0);let E;switch(S<0&&(S-=Math.floor(S/4)*4),S=S%4,S){case 1:E=i.height/2+i.top,x.unshift("rotate(90 "+E.toString()+" "+E.toString()+")");break;case 2:x.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:E=i.width/2+i.left,x.unshift("rotate(-90 "+E.toString()+" "+E.toString()+")");break}S%2===1&&(i.left!==i.top&&(E=i.left,i.left=i.top,i.top=E),i.width!==i.height&&(E=i.width,i.width=i.height,i.height=E)),x.length&&(a=r2e(a,'<g transform="'+x.join(" ")+'">',"</g>"))});const s=n.width,o=n.height,l=i.width,u=i.height;let h,f;s===null?(f=o===null?"1em":o==="auto"?u:o,h=ZB(f,l/u)):(h=s==="auto"?l:s,f=o===null?ZB(h,u/l):o==="auto"?u:o);const d={},p=(v,x)=>{n2e(x)||(d[v]=x.toString())};p("width",h),p("height",f);const m=[i.left,i.top,l,u];return d.viewBox=m.join(" "),{attributes:d,viewBox:m,body:a}}const a2e=/\sid="(\S+)"/g,s2e="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let o2e=0;function l2e(t,e=s2e){const r=[];let n;for(;n=a2e.exec(t);)r.push(n[1]);if(!r.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(a=>{const s=typeof e=="function"?e(a):e+(o2e++).toString(),o=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}function u2e(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)r+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}var OQ={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},h_=new Map,PQ=new Map,FQ=k(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(Ee.debug("Registering icon pack:",e.name),"loader"in e)PQ.set(e.name,e.loader);else if("icons"in e)h_.set(e.name,e.icons);else throw Ee.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),c2e=k(async(t,e)=>{const r=Xye(t,!0,e!==void 0);if(!r)throw new Error(`Invalid icon name: ${t}`);const n=r.prefix||e;if(!n)throw new Error(`Icon name must contain a prefix: ${t}`);let i=h_.get(n);if(!i){const s=PQ.get(n);if(!s)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await s(),prefix:n},h_.set(n,i)}catch(o){throw Ee.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}const a=Qye(i,r.name);if(!a)throw new Error(`Icon not found: ${t}`);return a},"getRegisteredIconData"),O0=k(async(t,e)=>{let r;try{r=await c2e(t,e==null?void 0:e.fallbackPrefix)}catch(a){Ee.error(a),r=OQ}const n=i2e(r,e);return u2e(l2e(n.body),n.attributes)},"getIconSVG"),db=k(({flowchart:t})=>{var i,a;const e=((i=t==null?void 0:t.subGraphTitleMargin)==null?void 0:i.top)??0,r=((a=t==null?void 0:t.subGraphTitleMargin)==null?void 0:a.bottom)??0,n=e+r;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),kR={},ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.BLANK_URL=ya.relativeFirstCharacters=ya.whitespaceEscapeCharsRegex=ya.urlSchemeRegex=ya.ctrlCharactersRegex=ya.htmlCtrlEntityRegex=ya.htmlEntitiesRegex=ya.invalidProtocolRegex=void 0;ya.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;ya.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;ya.htmlCtrlEntityRegex=/&(newline|tab);/gi;ya.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;ya.urlSchemeRegex=/^.+(:|&colon;)/gim;ya.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;ya.relativeFirstCharacters=[".","/"];ya.BLANK_URL="about:blank";Object.defineProperty(kR,"__esModule",{value:!0});var cd=kR.sanitizeUrl=void 0,as=ya;function h2e(t){return as.relativeFirstCharacters.indexOf(t[0])>-1}function f2e(t){var e=t.replace(as.ctrlCharactersRegex,"");return e.replace(as.htmlEntitiesRegex,function(r,n){return String.fromCharCode(n)})}function d2e(t){return URL.canParse(t)}function JB(t){try{return decodeURIComponent(t)}catch{return t}}function p2e(t){if(!t)return as.BLANK_URL;var e,r=JB(t.trim());do r=f2e(r).replace(as.htmlCtrlEntityRegex,"").replace(as.ctrlCharactersRegex,"").replace(as.whitespaceEscapeCharsRegex,"").trim(),r=JB(r),e=r.match(as.ctrlCharactersRegex)||r.match(as.htmlEntitiesRegex)||r.match(as.htmlCtrlEntityRegex)||r.match(as.whitespaceEscapeCharsRegex);while(e&&e.length>0);var n=r;if(!n)return as.BLANK_URL;if(h2e(n))return n;var i=n.trimStart(),a=i.match(as.urlSchemeRegex);if(!a)return n;var s=a[0].toLowerCase().trim();if(as.invalidProtocolRegex.test(s))return as.BLANK_URL;var o=i.replace(/\\/g,"/");if(s==="mailto:"||s.includes("://"))return o;if(s==="http:"||s==="https:"){if(!d2e(o))return as.BLANK_URL;var l=new URL(o);return l.protocol=l.protocol.toLowerCase(),l.hostname=l.hostname.toLowerCase(),l.toString()}return o}cd=kR.sanitizeUrl=p2e;function h3(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function g2e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ER(t){let e,r,n;t.length!==2?(e=h3,r=(o,l)=>h3(t(o),l),n=(o,l)=>t(o)-l):(e=t===h3||t===g2e?t:m2e,r=t,n=t);function i(o,l,u=0,h=o.length){if(u<h){if(e(l,l)!==0)return h;do{const f=u+h>>>1;r(o[f],l)<0?u=f+1:h=f}while(u<h)}return u}function a(o,l,u=0,h=o.length){if(u<h){if(e(l,l)!==0)return h;do{const f=u+h>>>1;r(o[f],l)<=0?u=f+1:h=f}while(u<h)}return u}function s(o,l,u=0,h=o.length){const f=i(o,l,u,h-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function m2e(){return 0}function v2e(t){return t===null?NaN:+t}const y2e=ER(h3),x2e=y2e.right;ER(v2e).center;class e$ extends Map{constructor(e,r=S2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(t$(this,e))}has(e){return super.has(t$(this,e))}set(e,r){return super.set(b2e(this,e),r)}delete(e){return super.delete(w2e(this,e))}}function t$({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function b2e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function w2e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function S2e(t){return t!==null&&typeof t=="object"?t.valueOf():t}const k2e=Math.sqrt(50),E2e=Math.sqrt(10),T2e=Math.sqrt(2);function F5(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=k2e?10:a>=E2e?5:a>=T2e?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?F5(t,e,r*2):[o,l,u]}function C2e(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?F5(e,t,r):F5(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function f_(t,e,r){return e=+e,t=+t,r=+r,F5(t,e,r)[2]}function d_(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?f_(e,t,r):f_(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function A2e(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function _2e(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function L2e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function D2e(t){return t}var f3=1,e7=2,p_=3,ew=4,r$=1e-6;function R2e(t){return"translate("+t+",0)"}function M2e(t){return"translate(0,"+t+")"}function N2e(t){return e=>+t(e)}function I2e(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function O2e(){return!this.__axis}function BQ(t,e){var r=[],n=null,i=null,a=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===f3||t===ew?-1:1,h=t===ew||t===e7?"x":"y",f=t===f3||t===p_?R2e:M2e;function d(p){var m=n??(e.ticks?e.ticks.apply(e,r):e.domain()),v=i??(e.tickFormat?e.tickFormat.apply(e,r):D2e),x=Math.max(a,0)+o,y=e.range(),w=+y[0]+l,S=+y[y.length-1]+l,E=(e.bandwidth?I2e:N2e)(e.copy(),l),C=p.selection?p.selection():p,L=C.selectAll(".domain").data([null]),_=C.selectAll(".tick").data(m,e).order(),I=_.exit(),D=_.enter().append("g").attr("class","tick"),F=_.select("line"),M=_.select("text");L=L.merge(L.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(D),F=F.merge(D.append("line").attr("stroke","currentColor").attr(h+"2",u*a)),M=M.merge(D.append("text").attr("fill","currentColor").attr(h,u*x).attr("dy",t===f3?"0em":t===p_?"0.71em":"0.32em")),p!==C&&(L=L.transition(p),_=_.transition(p),F=F.transition(p),M=M.transition(p),I=I.transition(p).attr("opacity",r$).attr("transform",function(B){return isFinite(B=E(B))?f(B+l):this.getAttribute("transform")}),D.attr("opacity",r$).attr("transform",function(B){var H=this.parentNode.__axis;return f((H&&isFinite(H=H(B))?H:E(B))+l)})),I.remove(),L.attr("d",t===ew||t===e7?s?"M"+u*s+","+w+"H"+l+"V"+S+"H"+u*s:"M"+l+","+w+"V"+S:s?"M"+w+","+u*s+"V"+l+"H"+S+"V"+u*s:"M"+w+","+l+"H"+S),_.attr("opacity",1).attr("transform",function(B){return f(E(B)+l)}),F.attr(h+"2",u*a),M.attr(h,u*x).text(v),C.filter(O2e).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===e7?"start":t===ew?"end":"middle"),C.each(function(){this.__axis=E})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return r=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),d):r.slice()},d.tickValues=function(p){return arguments.length?(n=p==null?null:Array.from(p),d):n&&n.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(a=s=+p,d):a},d.tickSizeInner=function(p){return arguments.length?(a=+p,d):a},d.tickSizeOuter=function(p){return arguments.length?(s=+p,d):s},d.tickPadding=function(p){return arguments.length?(o=+p,d):o},d.offset=function(p){return arguments.length?(l=+p,d):l},d}function P2e(t){return BQ(f3,t)}function F2e(t){return BQ(p_,t)}var B2e={value:()=>{}};function $Q(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new d3(r)}function d3(t){this._=t}function $2e(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}d3.prototype=$Q.prototype={constructor:d3,on:function(t,e){var r=this._,n=$2e(t+"",r),i,a=-1,s=n.length;if(arguments.length<2){for(;++a<s;)if((i=(t=n[a]).type)&&(i=z2e(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=n[a]).type)r[i]=n$(r[i],t.name,e);else if(e==null)for(i in r)r[i]=n$(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new d3(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],n=0,i=a.length;n<i;++n)a[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,a=n.length;i<a;++i)n[i].value.apply(e,r)}};function z2e(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function n$(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=B2e,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var g_="http://www.w3.org/1999/xhtml";const i$={svg:"http://www.w3.org/2000/svg",xhtml:g_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function aE(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),i$.hasOwnProperty(e)?{space:i$[e],local:t}:t}function H2e(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===g_&&e.documentElement.namespaceURI===g_?e.createElement(t):e.createElementNS(r,t)}}function V2e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function zQ(t){var e=aE(t);return(e.local?V2e:H2e)(e)}function U2e(){}function TR(t){return t==null?U2e:function(){return this.querySelector(t)}}function G2e(t){typeof t!="function"&&(t=TR(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=new Array(s),l,u,h=0;h<s;++h)(l=a[h])&&(u=t.call(l,l.__data__,h,a))&&("__data__"in l&&(u.__data__=l.__data__),o[h]=u);return new Go(n,this._parents)}function W2e(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function q2e(){return[]}function HQ(t){return t==null?q2e:function(){return this.querySelectorAll(t)}}function Y2e(t){return function(){return W2e(t.apply(this,arguments))}}function X2e(t){typeof t=="function"?t=Y2e(t):t=HQ(t);for(var e=this._groups,r=e.length,n=[],i=[],a=0;a<r;++a)for(var s=e[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(n.push(t.call(l,l.__data__,u,s)),i.push(l));return new Go(n,i)}function VQ(t){return function(){return this.matches(t)}}function UQ(t){return function(e){return e.matches(t)}}var j2e=Array.prototype.find;function K2e(t){return function(){return j2e.call(this.children,t)}}function Q2e(){return this.firstElementChild}function Z2e(t){return this.select(t==null?Q2e:K2e(typeof t=="function"?t:UQ(t)))}var J2e=Array.prototype.filter;function exe(){return Array.from(this.children)}function txe(t){return function(){return J2e.call(this.children,t)}}function rxe(t){return this.selectAll(t==null?exe:txe(typeof t=="function"?t:UQ(t)))}function nxe(t){typeof t!="function"&&(t=VQ(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new Go(n,this._parents)}function GQ(t){return new Array(t.length)}function ixe(){return new Go(this._enter||this._groups.map(GQ),this._parents)}function B5(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}B5.prototype={constructor:B5,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function axe(t){return function(){return t}}function sxe(t,e,r,n,i,a){for(var s=0,o,l=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],n[s]=o):r[s]=new B5(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function oxe(t,e,r,n,i,a,s){var o,l,u=new Map,h=e.length,f=a.length,d=new Array(h),p;for(o=0;o<h;++o)(l=e[o])&&(d[o]=p=s.call(l,l.__data__,o,e)+"",u.has(p)?i[o]=l:u.set(p,l));for(o=0;o<f;++o)p=s.call(t,a[o],o,a)+"",(l=u.get(p))?(n[o]=l,l.__data__=a[o],u.delete(p)):r[o]=new B5(t,a[o]);for(o=0;o<h;++o)(l=e[o])&&u.get(d[o])===l&&(i[o]=l)}function lxe(t){return t.__data__}function uxe(t,e){if(!arguments.length)return Array.from(this,lxe);var r=e?oxe:sxe,n=this._parents,i=this._groups;typeof t!="function"&&(t=axe(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var h=n[u],f=i[u],d=f.length,p=cxe(t.call(h,h&&h.__data__,u,n)),m=p.length,v=o[u]=new Array(m),x=s[u]=new Array(m),y=l[u]=new Array(d);r(h,f,v,x,y,p,e);for(var w=0,S=0,E,C;w<m;++w)if(E=v[w]){for(w>=S&&(S=w+1);!(C=x[S])&&++S<m;);E._next=C||null}}return s=new Go(s,n),s._enter=o,s._exit=l,s}function cxe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hxe(){return new Go(this._exit||this._groups.map(GQ),this._parents)}function fxe(t,e,r){var n=this.enter(),i=this,a=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function dxe(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,a=n.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var u=r[l],h=n[l],f=u.length,d=o[l]=new Array(f),p,m=0;m<f;++m)(p=u[m]||h[m])&&(d[m]=p);for(;l<i;++l)o[l]=r[l];return new Go(o,this._parents)}function pxe(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,a=n[i],s;--i>=0;)(s=n[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function gxe(t){t||(t=mxe);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var s=r[a],o=s.length,l=i[a]=new Array(o),u,h=0;h<o;++h)(u=s[h])&&(l[h]=u);l.sort(e)}return new Go(i,this._parents).order()}function mxe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function vxe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function yxe(){return Array.from(this)}function xxe(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,a=n.length;i<a;++i){var s=n[i];if(s)return s}return null}function bxe(){let t=0;for(const e of this)++t;return t}function wxe(){return!this.node()}function Sxe(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function kxe(t){return function(){this.removeAttribute(t)}}function Exe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Txe(t,e){return function(){this.setAttribute(t,e)}}function Cxe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Axe(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function _xe(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function Lxe(t,e){var r=aE(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?Exe:kxe:typeof e=="function"?r.local?_xe:Axe:r.local?Cxe:Txe)(r,e))}function WQ(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Dxe(t){return function(){this.style.removeProperty(t)}}function Rxe(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Mxe(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function Nxe(t,e,r){return arguments.length>1?this.each((e==null?Dxe:typeof e=="function"?Mxe:Rxe)(t,e,r??"")):fm(this.node(),t)}function fm(t,e){return t.style.getPropertyValue(e)||WQ(t).getComputedStyle(t,null).getPropertyValue(e)}function Ixe(t){return function(){delete this[t]}}function Oxe(t,e){return function(){this[t]=e}}function Pxe(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function Fxe(t,e){return arguments.length>1?this.each((e==null?Ixe:typeof e=="function"?Pxe:Oxe)(t,e)):this.node()[t]}function qQ(t){return t.trim().split(/^|\s+/)}function CR(t){return t.classList||new YQ(t)}function YQ(t){this._node=t,this._names=qQ(t.getAttribute("class")||"")}YQ.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function XQ(t,e){for(var r=CR(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function jQ(t,e){for(var r=CR(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function Bxe(t){return function(){XQ(this,t)}}function $xe(t){return function(){jQ(this,t)}}function zxe(t,e){return function(){(e.apply(this,arguments)?XQ:jQ)(this,t)}}function Hxe(t,e){var r=qQ(t+"");if(arguments.length<2){for(var n=CR(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?zxe:e?Bxe:$xe)(r,e))}function Vxe(){this.textContent=""}function Uxe(t){return function(){this.textContent=t}}function Gxe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Wxe(t){return arguments.length?this.each(t==null?Vxe:(typeof t=="function"?Gxe:Uxe)(t)):this.node().textContent}function qxe(){this.innerHTML=""}function Yxe(t){return function(){this.innerHTML=t}}function Xxe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function jxe(t){return arguments.length?this.each(t==null?qxe:(typeof t=="function"?Xxe:Yxe)(t)):this.node().innerHTML}function Kxe(){this.nextSibling&&this.parentNode.appendChild(this)}function Qxe(){return this.each(Kxe)}function Zxe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Jxe(){return this.each(Zxe)}function ebe(t){var e=typeof t=="function"?t:zQ(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function tbe(){return null}function rbe(t,e){var r=typeof t=="function"?t:zQ(t),n=e==null?tbe:typeof e=="function"?e:TR(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function nbe(){var t=this.parentNode;t&&t.removeChild(this)}function ibe(){return this.each(nbe)}function abe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function sbe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function obe(t){return this.select(t?sbe:abe)}function lbe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ube(t){return function(e){t.call(this,e,this.__data__)}}function cbe(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function hbe(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,a;r<i;++r)a=e[r],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++n]=a;++n?e.length=n:delete this.__on}}}function fbe(t,e,r){return function(){var n=this.__on,i,a=ube(e);if(n){for(var s=0,o=n.length;s<o;++s)if((i=n[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=e;return}}this.addEventListener(t.type,a,r),i={type:t.type,name:t.name,value:e,listener:a,options:r},n?n.push(i):this.__on=[i]}}function dbe(t,e,r){var n=cbe(t+""),i,a=n.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,h;l<u;++l)for(i=0,h=o[l];i<a;++i)if((s=n[i]).type===h.type&&s.name===h.name)return h.value}return}for(o=e?fbe:hbe,i=0;i<a;++i)this.each(o(n[i],e,r));return this}function KQ(t,e,r){var n=WQ(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function pbe(t,e){return function(){return KQ(this,t,e)}}function gbe(t,e){return function(){return KQ(this,t,e.apply(this,arguments))}}function mbe(t,e){return this.each((typeof e=="function"?gbe:pbe)(t,e))}function*vbe(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,a=n.length,s;i<a;++i)(s=n[i])&&(yield s)}var QQ=[null];function Go(t,e){this._groups=t,this._parents=e}function pb(){return new Go([[document.documentElement]],QQ)}function ybe(){return this}Go.prototype=pb.prototype={constructor:Go,select:G2e,selectAll:X2e,selectChild:Z2e,selectChildren:rxe,filter:nxe,data:uxe,enter:ixe,exit:hxe,join:fxe,merge:dxe,selection:ybe,order:pxe,sort:gxe,call:vxe,nodes:yxe,node:xxe,size:bxe,empty:wxe,each:Sxe,attr:Lxe,style:Nxe,property:Fxe,classed:Hxe,text:Wxe,html:jxe,raise:Qxe,lower:Jxe,append:ebe,insert:rbe,remove:ibe,clone:obe,datum:lbe,on:dbe,dispatch:mbe,[Symbol.iterator]:vbe};function bt(t){return typeof t=="string"?new Go([[document.querySelector(t)]],[document.documentElement]):new Go([[t]],QQ)}function gb(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function sE(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function pp(){}var ox=.7,$5=1/ox,e1="\\s*([+-]?\\d+)\\s*",lx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ec="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xbe=/^#([0-9a-f]{3,8})$/,bbe=new RegExp(`^rgb\\(${e1},${e1},${e1}\\)$`),wbe=new RegExp(`^rgb\\(${ec},${ec},${ec}\\)$`),Sbe=new RegExp(`^rgba\\(${e1},${e1},${e1},${lx}\\)$`),kbe=new RegExp(`^rgba\\(${ec},${ec},${ec},${lx}\\)$`),Ebe=new RegExp(`^hsl\\(${lx},${ec},${ec}\\)$`),Tbe=new RegExp(`^hsla\\(${lx},${ec},${ec},${lx}\\)$`),a$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gb(pp,P0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:s$,formatHex:s$,formatHex8:Cbe,formatHsl:Abe,formatRgb:o$,toString:o$});function s$(){return this.rgb().formatHex()}function Cbe(){return this.rgb().formatHex8()}function Abe(){return JQ(this).formatHsl()}function o$(){return this.rgb().formatRgb()}function P0(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=xbe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?l$(e):r===3?new hs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?tw(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?tw(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bbe.exec(t))?new hs(e[1],e[2],e[3],1):(e=wbe.exec(t))?new hs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Sbe.exec(t))?tw(e[1],e[2],e[3],e[4]):(e=kbe.exec(t))?tw(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ebe.exec(t))?h$(e[1],e[2]/100,e[3]/100,1):(e=Tbe.exec(t))?h$(e[1],e[2]/100,e[3]/100,e[4]):a$.hasOwnProperty(t)?l$(a$[t]):t==="transparent"?new hs(NaN,NaN,NaN,0):null}function l$(t){return new hs(t>>16&255,t>>8&255,t&255,1)}function tw(t,e,r,n){return n<=0&&(t=e=r=NaN),new hs(t,e,r,n)}function ZQ(t){return t instanceof pp||(t=P0(t)),t?(t=t.rgb(),new hs(t.r,t.g,t.b,t.opacity)):new hs}function m_(t,e,r,n){return arguments.length===1?ZQ(t):new hs(t,e,r,n??1)}function hs(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}gb(hs,m_,sE(pp,{brighter(t){return t=t==null?$5:Math.pow($5,t),new hs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ox:Math.pow(ox,t),new hs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hs(E0(this.r),E0(this.g),E0(this.b),z5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u$,formatHex:u$,formatHex8:_be,formatRgb:c$,toString:c$}));function u$(){return`#${f0(this.r)}${f0(this.g)}${f0(this.b)}`}function _be(){return`#${f0(this.r)}${f0(this.g)}${f0(this.b)}${f0((isNaN(this.opacity)?1:this.opacity)*255)}`}function c$(){const t=z5(this.opacity);return`${t===1?"rgb(":"rgba("}${E0(this.r)}, ${E0(this.g)}, ${E0(this.b)}${t===1?")":`, ${t})`}`}function z5(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function E0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function f0(t){return t=E0(t),(t<16?"0":"")+t.toString(16)}function h$(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new tu(t,e,r,n)}function JQ(t){if(t instanceof tu)return new tu(t.h,t.s,t.l,t.opacity);if(t instanceof pp||(t=P0(t)),!t)return new tu;if(t instanceof tu)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new tu(s,o,l,t.opacity)}function Lbe(t,e,r,n){return arguments.length===1?JQ(t):new tu(t,e,r,n??1)}function tu(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}gb(tu,Lbe,sE(pp,{brighter(t){return t=t==null?$5:Math.pow($5,t),new tu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ox:Math.pow(ox,t),new tu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new hs(t7(t>=240?t-240:t+120,i,n),t7(t,i,n),t7(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new tu(f$(this.h),rw(this.s),rw(this.l),z5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=z5(this.opacity);return`${t===1?"hsl(":"hsla("}${f$(this.h)}, ${rw(this.s)*100}%, ${rw(this.l)*100}%${t===1?")":`, ${t})`}`}}));function f$(t){return t=(t||0)%360,t<0?t+360:t}function rw(t){return Math.max(0,Math.min(1,t||0))}function t7(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Dbe=Math.PI/180,Rbe=180/Math.PI,H5=18,eZ=.96422,tZ=1,rZ=.82521,nZ=4/29,t1=6/29,iZ=3*t1*t1,Mbe=t1*t1*t1;function aZ(t){if(t instanceof tc)return new tc(t.l,t.a,t.b,t.opacity);if(t instanceof qc)return sZ(t);t instanceof hs||(t=ZQ(t));var e=a7(t.r),r=a7(t.g),n=a7(t.b),i=r7((.2225045*e+.7168786*r+.0606169*n)/tZ),a,s;return e===r&&r===n?a=s=i:(a=r7((.4360747*e+.3850649*r+.1430804*n)/eZ),s=r7((.0139322*e+.0971045*r+.7141733*n)/rZ)),new tc(116*i-16,500*(a-i),200*(i-s),t.opacity)}function Nbe(t,e,r,n){return arguments.length===1?aZ(t):new tc(t,e,r,n??1)}function tc(t,e,r,n){this.l=+t,this.a=+e,this.b=+r,this.opacity=+n}gb(tc,Nbe,sE(pp,{brighter(t){return new tc(this.l+H5*(t??1),this.a,this.b,this.opacity)},darker(t){return new tc(this.l-H5*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return e=eZ*n7(e),t=tZ*n7(t),r=rZ*n7(r),new hs(i7(3.1338561*e-1.6168667*t-.4906146*r),i7(-.9787684*e+1.9161415*t+.033454*r),i7(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}}));function r7(t){return t>Mbe?Math.pow(t,1/3):t/iZ+nZ}function n7(t){return t>t1?t*t*t:iZ*(t-nZ)}function i7(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function a7(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ibe(t){if(t instanceof qc)return new qc(t.h,t.c,t.l,t.opacity);if(t instanceof tc||(t=aZ(t)),t.a===0&&t.b===0)return new qc(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Rbe;return new qc(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function v_(t,e,r,n){return arguments.length===1?Ibe(t):new qc(t,e,r,n??1)}function qc(t,e,r,n){this.h=+t,this.c=+e,this.l=+r,this.opacity=+n}function sZ(t){if(isNaN(t.h))return new tc(t.l,0,0,t.opacity);var e=t.h*Dbe;return new tc(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}gb(qc,v_,sE(pp,{brighter(t){return new qc(this.h,this.c,this.l+H5*(t??1),this.opacity)},darker(t){return new qc(this.h,this.c,this.l-H5*(t??1),this.opacity)},rgb(){return sZ(this).rgb()}}));const oE=t=>()=>t;function oZ(t,e){return function(r){return t+r*e}}function Obe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Pbe(t,e){var r=e-t;return r?oZ(t,r>180||r<-180?r-360*Math.round(r/360):r):oE(isNaN(t)?e:t)}function Fbe(t){return(t=+t)==1?T2:function(e,r){return r-e?Obe(e,r,t):oE(isNaN(e)?r:e)}}function T2(t,e){var r=e-t;return r?oZ(t,r):oE(isNaN(t)?e:t)}const V5=function t(e){var r=Fbe(e);function n(i,a){var s=r((i=m_(i)).r,(a=m_(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=T2(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=o(h),i.b=l(h),i.opacity=u(h),i+""}}return n.gamma=t,n}(1);function Bbe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function $be(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zbe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=AR(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Hbe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Jl(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Vbe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=AR(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var y_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s7=new RegExp(y_.source,"g");function Ube(t){return function(){return t}}function Gbe(t){return function(e){return t(e)+""}}function lZ(t,e){var r=y_.lastIndex=s7.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=y_.exec(t))&&(i=s7.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Jl(n,i)})),r=s7.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Gbe(l[0].x):Ube(e):(e=l.length,function(u){for(var h=0,f;h<e;++h)o[(f=l[h]).i]=f.x(u);return o.join("")})}function AR(t,e){var r=typeof e,n;return e==null||r==="boolean"?oE(e):(r==="number"?Jl:r==="string"?(n=P0(e))?(e=n,V5):lZ:e instanceof P0?V5:e instanceof Date?Hbe:$be(e)?Bbe:Array.isArray(e)?zbe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Vbe:Jl)(t,e)}function Wbe(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var d$=180/Math.PI,x_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function uZ(t,e,r,n,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),t*n<e*r&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*d$,skewX:Math.atan(l)*d$,scaleX:s,scaleY:o}}var nw;function qbe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?x_:uZ(e.a,e.b,e.c,e.d,e.e,e.f)}function Ybe(t){return t==null||(nw||(nw=document.createElementNS("http://www.w3.org/2000/svg","g")),nw.setAttribute("transform",t),!(t=nw.transform.baseVal.consolidate()))?x_:(t=t.matrix,uZ(t.a,t.b,t.c,t.d,t.e,t.f))}function cZ(t,e,r,n){function i(u){return u.length?u.pop()+" ":""}function a(u,h,f,d,p,m){if(u!==f||h!==d){var v=p.push("translate(",null,e,null,r);m.push({i:v-4,x:Jl(u,f)},{i:v-2,x:Jl(h,d)})}else(f||d)&&p.push("translate("+f+e+d+r)}function s(u,h,f,d){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,n)-2,x:Jl(u,h)})):h&&f.push(i(f)+"rotate("+h+n)}function o(u,h,f,d){u!==h?d.push({i:f.push(i(f)+"skewX(",null,n)-2,x:Jl(u,h)}):h&&f.push(i(f)+"skewX("+h+n)}function l(u,h,f,d,p,m){if(u!==f||h!==d){var v=p.push(i(p)+"scale(",null,",",null,")");m.push({i:v-4,x:Jl(u,f)},{i:v-2,x:Jl(h,d)})}else(f!==1||d!==1)&&p.push(i(p)+"scale("+f+","+d+")")}return function(u,h){var f=[],d=[];return u=t(u),h=t(h),a(u.translateX,u.translateY,h.translateX,h.translateY,f,d),s(u.rotate,h.rotate,f,d),o(u.skewX,h.skewX,f,d),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,f,d),u=h=null,function(p){for(var m=-1,v=d.length,x;++m<v;)f[(x=d[m]).i]=x.x(p);return f.join("")}}}var Xbe=cZ(qbe,"px, ","px)","deg)"),jbe=cZ(Ybe,", ",")",")");function Kbe(t){return function(e,r){var n=t((e=v_(e)).h,(r=v_(r)).h),i=T2(e.c,r.c),a=T2(e.l,r.l),s=T2(e.opacity,r.opacity);return function(o){return e.h=n(o),e.c=i(o),e.l=a(o),e.opacity=s(o),e+""}}}const Qbe=Kbe(Pbe);var dm=0,Gy=0,vy=0,hZ=1e3,U5,Wy,G5=0,F0=0,lE=0,ux=typeof performance=="object"&&performance.now?performance:Date,fZ=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _R(){return F0||(fZ(Zbe),F0=ux.now()+lE)}function Zbe(){F0=0}function W5(){this._call=this._time=this._next=null}W5.prototype=dZ.prototype={constructor:W5,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?_R():+r)+(e==null?0:+e),!this._next&&Wy!==this&&(Wy?Wy._next=this:U5=this,Wy=this),this._call=t,this._time=r,b_()},stop:function(){this._call&&(this._call=null,this._time=1/0,b_())}};function dZ(t,e,r){var n=new W5;return n.restart(t,e,r),n}function Jbe(){_R(),++dm;for(var t=U5,e;t;)(e=F0-t._time)>=0&&t._call.call(void 0,e),t=t._next;--dm}function p$(){F0=(G5=ux.now())+lE,dm=Gy=0;try{Jbe()}finally{dm=0,t4e(),F0=0}}function e4e(){var t=ux.now(),e=t-G5;e>hZ&&(lE-=e,G5=t)}function t4e(){for(var t,e=U5,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:U5=r);Wy=t,b_(n)}function b_(t){if(!dm){Gy&&(Gy=clearTimeout(Gy));var e=t-F0;e>24?(t<1/0&&(Gy=setTimeout(p$,t-ux.now()-lE)),vy&&(vy=clearInterval(vy))):(vy||(G5=ux.now(),vy=setInterval(e4e,hZ)),dm=1,fZ(p$))}}function g$(t,e,r){var n=new W5;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var r4e=$Q("start","end","cancel","interrupt"),n4e=[],pZ=0,m$=1,w_=2,p3=3,v$=4,S_=5,g3=6;function uE(t,e,r,n,i,a){var s=t.__transition;if(!s)t.__transition={};else if(r in s)return;i4e(t,r,{name:e,index:n,group:i,on:r4e,tween:n4e,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:pZ})}function LR(t,e){var r=bu(t,e);if(r.state>pZ)throw new Error("too late; already scheduled");return r}function lc(t,e){var r=bu(t,e);if(r.state>p3)throw new Error("too late; already running");return r}function bu(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function i4e(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=dZ(a,0,r.time);function a(u){r.state=m$,r.timer.restart(s,r.delay,r.time),r.delay<=u&&s(u-r.delay)}function s(u){var h,f,d,p;if(r.state!==m$)return l();for(h in n)if(p=n[h],p.name===r.name){if(p.state===p3)return g$(s);p.state===v$?(p.state=g3,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete n[h]):+h<e&&(p.state=g3,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete n[h])}if(g$(function(){r.state===p3&&(r.state=v$,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=w_,r.on.call("start",t,t.__data__,r.index,r.group),r.state===w_){for(r.state=p3,i=new Array(d=r.tween.length),h=0,f=-1;h<d;++h)(p=r.tween[h].value.call(t,t.__data__,r.index,r.group))&&(i[++f]=p);i.length=f+1}}function o(u){for(var h=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=S_,1),f=-1,d=i.length;++f<d;)i[f].call(t,h);r.state===S_&&(r.on.call("end",t,t.__data__,r.index,r.group),l())}function l(){r.state=g3,r.timer.stop(),delete n[e];for(var u in n)return;delete t.__transition}}function a4e(t,e){var r=t.__transition,n,i,a=!0,s;if(r){e=e==null?null:e+"";for(s in r){if((n=r[s]).name!==e){a=!1;continue}i=n.state>w_&&n.state<S_,n.state=g3,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[s]}a&&delete t.__transition}}function s4e(t){return this.each(function(){a4e(this,t)})}function o4e(t,e){var r,n;return function(){var i=lc(this,t),a=i.tween;if(a!==r){n=r=a;for(var s=0,o=n.length;s<o;++s)if(n[s].name===e){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function l4e(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=lc(this,t),s=a.tween;if(s!==n){i=(n=s).slice();for(var o={name:e,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function u4e(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=bu(this.node(),r).tween,i=0,a=n.length,s;i<a;++i)if((s=n[i]).name===t)return s.value;return null}return this.each((e==null?o4e:l4e)(r,t,e))}function DR(t,e,r){var n=t._id;return t.each(function(){var i=lc(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return bu(i,n).value[e]}}function gZ(t,e){var r;return(typeof e=="number"?Jl:e instanceof P0?V5:(r=P0(e))?(e=r,V5):lZ)(t,e)}function c4e(t){return function(){this.removeAttribute(t)}}function h4e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function f4e(t,e,r){var n,i=r+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===n?a:a=e(n=s,r)}}function d4e(t,e,r){var n,i=r+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===n?a:a=e(n=s,r)}}function p4e(t,e,r){var n,i,a;return function(){var s,o=r(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o)))}}function g4e(t,e,r){var n,i,a;return function(){var s,o=r(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o)))}}function m4e(t,e){var r=aE(t),n=r==="transform"?jbe:gZ;return this.attrTween(t,typeof e=="function"?(r.local?g4e:p4e)(r,n,DR(this,"attr."+t,e)):e==null?(r.local?h4e:c4e)(r):(r.local?d4e:f4e)(r,n,e))}function v4e(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function y4e(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function x4e(t,e){var r,n;function i(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&y4e(t,a)),r}return i._value=e,i}function b4e(t,e){var r,n;function i(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&v4e(t,a)),r}return i._value=e,i}function w4e(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=aE(t);return this.tween(r,(n.local?x4e:b4e)(n,e))}function S4e(t,e){return function(){LR(this,t).delay=+e.apply(this,arguments)}}function k4e(t,e){return e=+e,function(){LR(this,t).delay=e}}function E4e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?S4e:k4e)(e,t)):bu(this.node(),e).delay}function T4e(t,e){return function(){lc(this,t).duration=+e.apply(this,arguments)}}function C4e(t,e){return e=+e,function(){lc(this,t).duration=e}}function A4e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?T4e:C4e)(e,t)):bu(this.node(),e).duration}function _4e(t,e){if(typeof e!="function")throw new Error;return function(){lc(this,t).ease=e}}function L4e(t){var e=this._id;return arguments.length?this.each(_4e(e,t)):bu(this.node(),e).ease}function D4e(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;lc(this,t).ease=r}}function R4e(t){if(typeof t!="function")throw new Error;return this.each(D4e(this._id,t))}function M4e(t){typeof t!="function"&&(t=VQ(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new uh(n,this._parents,this._name,this._id)}function N4e(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,a=Math.min(n,i),s=new Array(n),o=0;o<a;++o)for(var l=e[o],u=r[o],h=l.length,f=s[o]=new Array(h),d,p=0;p<h;++p)(d=l[p]||u[p])&&(f[p]=d);for(;o<n;++o)s[o]=e[o];return new uh(s,this._parents,this._name,this._id)}function I4e(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function O4e(t,e,r){var n,i,a=I4e(e)?LR:lc;return function(){var s=a(this,t),o=s.on;o!==n&&(i=(n=o).copy()).on(e,r),s.on=i}}function P4e(t,e){var r=this._id;return arguments.length<2?bu(this.node(),r).on.on(t):this.each(O4e(r,t,e))}function F4e(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function B4e(){return this.on("end.remove",F4e(this._id))}function $4e(t){var e=this._name,r=this._id;typeof t!="function"&&(t=TR(t));for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s)for(var o=n[s],l=o.length,u=a[s]=new Array(l),h,f,d=0;d<l;++d)(h=o[d])&&(f=t.call(h,h.__data__,d,o))&&("__data__"in h&&(f.__data__=h.__data__),u[d]=f,uE(u[d],e,r,d,u,bu(h,r)));return new uh(a,this._parents,e,r)}function z4e(t){var e=this._name,r=this._id;typeof t!="function"&&(t=HQ(t));for(var n=this._groups,i=n.length,a=[],s=[],o=0;o<i;++o)for(var l=n[o],u=l.length,h,f=0;f<u;++f)if(h=l[f]){for(var d=t.call(h,h.__data__,f,l),p,m=bu(h,r),v=0,x=d.length;v<x;++v)(p=d[v])&&uE(p,e,r,v,d,m);a.push(d),s.push(h)}return new uh(a,s,e,r)}var H4e=pb.prototype.constructor;function V4e(){return new H4e(this._groups,this._parents)}function U4e(t,e){var r,n,i;return function(){var a=fm(this,t),s=(this.style.removeProperty(t),fm(this,t));return a===s?null:a===r&&s===n?i:i=e(r=a,n=s)}}function mZ(t){return function(){this.style.removeProperty(t)}}function G4e(t,e,r){var n,i=r+"",a;return function(){var s=fm(this,t);return s===i?null:s===n?a:a=e(n=s,r)}}function W4e(t,e,r){var n,i,a;return function(){var s=fm(this,t),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),fm(this,t))),s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o))}}function q4e(t,e){var r,n,i,a="style."+e,s="end."+a,o;return function(){var l=lc(this,t),u=l.on,h=l.value[a]==null?o||(o=mZ(e)):void 0;(u!==r||i!==h)&&(n=(r=u).copy()).on(s,i=h),l.on=n}}function Y4e(t,e,r){var n=(t+="")=="transform"?Xbe:gZ;return e==null?this.styleTween(t,U4e(t,n)).on("end.style."+t,mZ(t)):typeof e=="function"?this.styleTween(t,W4e(t,n,DR(this,"style."+t,e))).each(q4e(this._id,t)):this.styleTween(t,G4e(t,n,e),r).on("end.style."+t,null)}function X4e(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function j4e(t,e,r){var n,i;function a(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&X4e(t,s,r)),n}return a._value=e,a}function K4e(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,j4e(t,e,r??""))}function Q4e(t){return function(){this.textContent=t}}function Z4e(t){return function(){var e=t(this);this.textContent=e??""}}function J4e(t){return this.tween("text",typeof t=="function"?Z4e(DR(this,"text",t)):Q4e(t==null?"":t+""))}function ewe(t){return function(e){this.textContent=t.call(this,e)}}function twe(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&ewe(i)),e}return n._value=t,n}function rwe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,twe(t))}function nwe(){for(var t=this._name,e=this._id,r=vZ(),n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var h=bu(l,e);uE(l,t,r,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new uh(n,this._parents,t,r)}function iwe(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};r.each(function(){var u=lc(this,n),h=u.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e}),i===0&&a()})}var awe=0;function uh(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function vZ(){return++awe}var _c=pb.prototype;uh.prototype={constructor:uh,select:$4e,selectAll:z4e,selectChild:_c.selectChild,selectChildren:_c.selectChildren,filter:M4e,merge:N4e,selection:V4e,transition:nwe,call:_c.call,nodes:_c.nodes,node:_c.node,size:_c.size,empty:_c.empty,each:_c.each,on:P4e,attr:m4e,attrTween:w4e,style:Y4e,styleTween:K4e,text:J4e,textTween:rwe,remove:B4e,tween:u4e,delay:E4e,duration:A4e,ease:L4e,easeVarying:R4e,end:iwe,[Symbol.iterator]:_c[Symbol.iterator]};function swe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var owe={time:null,delay:0,duration:250,ease:swe};function lwe(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function uwe(t){var e,r;t instanceof uh?(e=t._id,t=t._name):(e=vZ(),(r=owe).time=_R(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&uE(l,t,e,u,s,r||lwe(l,e));return new uh(n,this._parents,t,e)}pb.prototype.interrupt=s4e;pb.prototype.transition=uwe;const k_=Math.PI,E_=2*k_,qd=1e-6,cwe=E_-qd;function yZ(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function hwe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return yZ;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}let fwe=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?yZ:hwe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,u=i-r,h=s-e,f=o-r,d=h*h+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(d>qd)if(!(Math.abs(f*l-u*h)>qd)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,m=i-o,v=l*l+u*u,x=p*p+m*m,y=Math.sqrt(v),w=Math.sqrt(d),S=a*Math.tan((k_-Math.acos((v+d-x)/(2*y*w)))/2),E=S/w,C=S/y;Math.abs(E-1)>qd&&this._append`L${e+E*h},${r+E*f}`,this._append`A${a},${a},0,0,${+(f*p>h*m)},${this._x1=e+C*l},${this._y1=r+C*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,h=r+l,f=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>qd||Math.abs(this._y1-h)>qd)&&this._append`L${u},${h}`,n&&(d<0&&(d=d%E_+E_),d>cwe?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=h}`:d>qd&&this._append`A${n},${n},0,${+(d>=k_)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function dwe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function q5(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function pm(t){return t=q5(Math.abs(t)),t?t[1]:NaN}function pwe(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function gwe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var mwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Y5(t){if(!(e=mwe.exec(t)))throw new Error("invalid format: "+t);var e;return new RR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Y5.prototype=RR.prototype;function RR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}RR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vwe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var xZ;function ywe(t,e){var r=q5(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(xZ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+q5(t,Math.max(0,e+a-1))[0]}function y$(t,e){var r=q5(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const x$={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dwe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>y$(t*100,e),r:y$,s:ywe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function b$(t){return t}var w$=Array.prototype.map,S$=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xwe(t){var e=t.grouping===void 0||t.thousands===void 0?b$:pwe(w$.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?b$:gwe(w$.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Y5(f);var d=f.fill,p=f.align,m=f.sign,v=f.symbol,x=f.zero,y=f.width,w=f.comma,S=f.precision,E=f.trim,C=f.type;C==="n"?(w=!0,C="g"):x$[C]||(S===void 0&&(S=12),E=!0,C="g"),(x||d==="0"&&p==="=")&&(x=!0,d="0",p="=");var L=v==="$"?r:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",_=v==="$"?n:/[%p]/.test(C)?s:"",I=x$[C],D=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function F(M){var B=L,H=_,R,O,P;if(C==="c")H=I(M)+H,M="";else{M=+M;var z=M<0||1/M<0;if(M=isNaN(M)?l:I(Math.abs(M),S),E&&(M=vwe(M)),z&&+M==0&&m!=="+"&&(z=!1),B=(z?m==="("?m:o:m==="-"||m==="("?"":m)+B,H=(C==="s"?S$[8+xZ/3]:"")+H+(z&&m==="("?")":""),D){for(R=-1,O=M.length;++R<O;)if(P=M.charCodeAt(R),48>P||P>57){H=(P===46?i+M.slice(R+1):M.slice(R))+H,M=M.slice(0,R);break}}}w&&!x&&(M=e(M,1/0));var $=B.length+M.length+H.length,V=$<y?new Array(y-$+1).join(d):"";switch(w&&x&&(M=e(V+M,V.length?y-H.length:1/0),V=""),p){case"<":M=B+M+H+V;break;case"=":M=B+V+M+H;break;case"^":M=V.slice(0,$=V.length>>1)+B+M+H+V.slice($);break;default:M=V+B+M+H;break}return a(M)}return F.toString=function(){return f+""},F}function h(f,d){var p=u((f=Y5(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(pm(d)/3)))*3,v=Math.pow(10,-m),x=S$[8+m/3];return function(y){return p(v*y)+x}}return{format:u,formatPrefix:h}}var iw,bZ,wZ;bwe({thousands:",",grouping:[3],currency:["$",""]});function bwe(t){return iw=xwe(t),bZ=iw.format,wZ=iw.formatPrefix,iw}function wwe(t){return Math.max(0,-pm(Math.abs(t)))}function Swe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pm(e)/3)))*3-pm(Math.abs(t)))}function kwe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,pm(e)-pm(t))+1}function cE(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const k$=Symbol("implicit");function hE(){var t=new e$,e=[],r=[],n=k$;function i(a){let s=t.get(a);if(s===void 0){if(n!==k$)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new e$;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return hE(e,r).unknown(n)},cE.apply(i,arguments),i}function T_(){var t=hE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,u=0,h=.5;delete t.unknown;function f(){var d=e().length,p=i<n,m=p?i:n,v=p?n:i;a=(v-m)/Math.max(1,d-l+u*2),o&&(a=Math.floor(a)),m+=(v-m-a*(d-l))*h,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var x=L2e(d).map(function(y){return m+a*y});return r(p?x.reverse():x)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(d){return arguments.length?(o=!!d,f()):o},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(h=Math.max(0,Math.min(1,d)),f()):h},t.copy=function(){return T_(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(h)},cE.apply(f(),arguments)}function Ewe(t){return function(){return t}}function Twe(t){return+t}var E$=[0,1];function Og(t){return t}function C_(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Ewe(isNaN(e)?NaN:.5)}function Cwe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Awe(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=C_(i,n),a=r(s,a)):(n=C_(n,i),a=r(a,s)),function(o){return a(n(o))}}function _we(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=C_(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=x2e(t,o,1,n)-1;return a[l](i[l](o))}}function SZ(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Lwe(){var t=E$,e=E$,r=AR,n,i,a,s=Og,o,l,u;function h(){var d=Math.min(t.length,e.length);return s!==Og&&(s=Cwe(t[0],t[d-1])),o=d>2?_we:Awe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=o(t.map(n),e,r)))(n(s(d)))}return f.invert=function(d){return s(i((u||(u=o(e,t.map(n),Jl)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,Twe),h()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),h()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),r=Wbe,h()},f.clamp=function(d){return arguments.length?(s=d?!0:Og,h()):s!==Og},f.interpolate=function(d){return arguments.length?(r=d,h()):r},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,p){return n=d,i=p,h()}}function kZ(){return Lwe()(Og,Og)}function Dwe(t,e,r,n){var i=d_(t,e,r),a;switch(n=Y5(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Swe(i,s))&&(n.precision=a),wZ(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=kwe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=wwe(i))&&(n.precision=a-(n.type==="%")*2);break}}return bZ(n)}function Rwe(t){var e=t.domain;return t.ticks=function(r){var n=e();return C2e(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Dwe(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,h=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);h-- >0;){if(u=f_(s,o,r),u===l)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function gm(){var t=kZ();return t.copy=function(){return SZ(t,gm())},cE.apply(t,arguments),Rwe(t)}function Mwe(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}const o7=new Date,l7=new Date;function fa(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>fa(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(o7.setTime(+a),l7.setTime(+s),t(o7),t(l7),Math.floor(r(o7,l7))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const mm=fa(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?fa(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):mm);mm.range;const Yc=1e3,yl=Yc*60,Xc=yl*60,ch=Xc*24,MR=ch*7,T$=ch*30,u7=ch*365,vf=fa(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Yc)},(t,e)=>(e-t)/Yc,t=>t.getUTCSeconds());vf.range;const cx=fa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yc)},(t,e)=>{t.setTime(+t+e*yl)},(t,e)=>(e-t)/yl,t=>t.getMinutes());cx.range;const Nwe=fa(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*yl)},(t,e)=>(e-t)/yl,t=>t.getUTCMinutes());Nwe.range;const hx=fa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yc-t.getMinutes()*yl)},(t,e)=>{t.setTime(+t+e*Xc)},(t,e)=>(e-t)/Xc,t=>t.getHours());hx.range;const Iwe=fa(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xc)},(t,e)=>(e-t)/Xc,t=>t.getUTCHours());Iwe.range;const B0=fa(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yl)/ch,t=>t.getDate()-1);B0.range;const NR=fa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ch,t=>t.getUTCDate()-1);NR.range;const Owe=fa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ch,t=>Math.floor(t/ch));Owe.range;function gp(t){return fa(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*yl)/MR)}const mb=gp(0),fx=gp(1),EZ=gp(2),TZ=gp(3),$0=gp(4),CZ=gp(5),AZ=gp(6);mb.range;fx.range;EZ.range;TZ.range;$0.range;CZ.range;AZ.range;function mp(t){return fa(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/MR)}const _Z=mp(0),X5=mp(1),Pwe=mp(2),Fwe=mp(3),vm=mp(4),Bwe=mp(5),$we=mp(6);_Z.range;X5.range;Pwe.range;Fwe.range;vm.range;Bwe.range;$we.range;const dx=fa(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dx.range;const zwe=fa(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());zwe.range;const hh=fa(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hh.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fa(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});hh.range;const z0=fa(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());z0.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fa(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});z0.range;function Hwe(t,e,r,n,i,a){const s=[[vf,1,Yc],[vf,5,5*Yc],[vf,15,15*Yc],[vf,30,30*Yc],[a,1,yl],[a,5,5*yl],[a,15,15*yl],[a,30,30*yl],[i,1,Xc],[i,3,3*Xc],[i,6,6*Xc],[i,12,12*Xc],[n,1,ch],[n,2,2*ch],[r,1,MR],[e,1,T$],[e,3,3*T$],[t,1,u7]];function o(u,h,f){const d=h<u;d&&([u,h]=[h,u]);const p=f&&typeof f.range=="function"?f:l(u,h,f),m=p?p.range(u,+h+1):[];return d?m.reverse():m}function l(u,h,f){const d=Math.abs(h-u)/f,p=ER(([,,x])=>x).right(s,d);if(p===s.length)return t.every(d_(u/u7,h/u7,f));if(p===0)return mm.every(Math.max(d_(u,h,f),1));const[m,v]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return m.every(v)}return[o,l]}const[Vwe,Uwe]=Hwe(hh,dx,mb,B0,hx,cx);function c7(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function h7(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function yy(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Gwe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=xy(i),h=by(i),f=xy(a),d=by(a),p=xy(s),m=by(s),v=xy(o),x=by(o),y=xy(l),w=by(l),S={a:z,A:$,b:V,B:X,c:null,d:R$,e:R$,f:d3e,g:k3e,G:T3e,H:c3e,I:h3e,j:f3e,L:LZ,m:p3e,M:g3e,p:q,q:Y,Q:I$,s:O$,S:m3e,u:v3e,U:y3e,V:x3e,w:b3e,W:w3e,x:null,X:null,y:S3e,Y:E3e,Z:C3e,"%":N$},E={a:U,A:Z,b:pe,B:ne,c:null,d:M$,e:M$,f:D3e,g:z3e,G:V3e,H:A3e,I:_3e,j:L3e,L:RZ,m:R3e,M:M3e,p:ge,q:ye,Q:I$,s:O$,S:N3e,u:I3e,U:O3e,V:P3e,w:F3e,W:B3e,x:null,X:null,y:$3e,Y:H3e,Z:U3e,"%":N$},C={a:F,A:M,b:B,B:H,c:R,d:L$,e:L$,f:s3e,g:_$,G:A$,H:D$,I:D$,j:r3e,L:a3e,m:t3e,M:n3e,p:D,q:e3e,Q:l3e,s:u3e,S:i3e,u:jwe,U:Kwe,V:Qwe,w:Xwe,W:Zwe,x:O,X:P,y:_$,Y:A$,Z:Jwe,"%":o3e};S.x=L(r,S),S.X=L(n,S),S.c=L(e,S),E.x=L(r,E),E.X=L(n,E),E.c=L(e,E);function L(J,se){return function(oe){var fe=[],me=-1,be=0,ce=J.length,Ge,xe,le;for(oe instanceof Date||(oe=new Date(+oe));++me<ce;)J.charCodeAt(me)===37&&(fe.push(J.slice(be,me)),(xe=C$[Ge=J.charAt(++me)])!=null?Ge=J.charAt(++me):xe=Ge==="e"?" ":"0",(le=se[Ge])&&(Ge=le(oe,xe)),fe.push(Ge),be=me+1);return fe.push(J.slice(be,me)),fe.join("")}}function _(J,se){return function(oe){var fe=yy(1900,void 0,1),me=I(fe,J,oe+="",0),be,ce;if(me!=oe.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(se&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(be=h7(yy(fe.y,0,1)),ce=be.getUTCDay(),be=ce>4||ce===0?X5.ceil(be):X5(be),be=NR.offset(be,(fe.V-1)*7),fe.y=be.getUTCFullYear(),fe.m=be.getUTCMonth(),fe.d=be.getUTCDate()+(fe.w+6)%7):(be=c7(yy(fe.y,0,1)),ce=be.getDay(),be=ce>4||ce===0?fx.ceil(be):fx(be),be=B0.offset(be,(fe.V-1)*7),fe.y=be.getFullYear(),fe.m=be.getMonth(),fe.d=be.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),ce="Z"in fe?h7(yy(fe.y,0,1)).getUTCDay():c7(yy(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(ce+5)%7:fe.w+fe.U*7-(ce+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,h7(fe)):c7(fe)}}function I(J,se,oe,fe){for(var me=0,be=se.length,ce=oe.length,Ge,xe;me<be;){if(fe>=ce)return-1;if(Ge=se.charCodeAt(me++),Ge===37){if(Ge=se.charAt(me++),xe=C[Ge in C$?se.charAt(me++):Ge],!xe||(fe=xe(J,oe,fe))<0)return-1}else if(Ge!=oe.charCodeAt(fe++))return-1}return fe}function D(J,se,oe){var fe=u.exec(se.slice(oe));return fe?(J.p=h.get(fe[0].toLowerCase()),oe+fe[0].length):-1}function F(J,se,oe){var fe=p.exec(se.slice(oe));return fe?(J.w=m.get(fe[0].toLowerCase()),oe+fe[0].length):-1}function M(J,se,oe){var fe=f.exec(se.slice(oe));return fe?(J.w=d.get(fe[0].toLowerCase()),oe+fe[0].length):-1}function B(J,se,oe){var fe=y.exec(se.slice(oe));return fe?(J.m=w.get(fe[0].toLowerCase()),oe+fe[0].length):-1}function H(J,se,oe){var fe=v.exec(se.slice(oe));return fe?(J.m=x.get(fe[0].toLowerCase()),oe+fe[0].length):-1}function R(J,se,oe){return I(J,e,se,oe)}function O(J,se,oe){return I(J,r,se,oe)}function P(J,se,oe){return I(J,n,se,oe)}function z(J){return s[J.getDay()]}function $(J){return a[J.getDay()]}function V(J){return l[J.getMonth()]}function X(J){return o[J.getMonth()]}function q(J){return i[+(J.getHours()>=12)]}function Y(J){return 1+~~(J.getMonth()/3)}function U(J){return s[J.getUTCDay()]}function Z(J){return a[J.getUTCDay()]}function pe(J){return l[J.getUTCMonth()]}function ne(J){return o[J.getUTCMonth()]}function ge(J){return i[+(J.getUTCHours()>=12)]}function ye(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var se=L(J+="",S);return se.toString=function(){return J},se},parse:function(J){var se=_(J+="",!1);return se.toString=function(){return J},se},utcFormat:function(J){var se=L(J+="",E);return se.toString=function(){return J},se},utcParse:function(J){var se=_(J+="",!0);return se.toString=function(){return J},se}}}var C$={"-":"",_:" ",0:"0"},Ca=/^\s*\d+/,Wwe=/^%/,qwe=/[\\^$*+?|[\]().{}]/g;function on(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Ywe(t){return t.replace(qwe,"\\$&")}function xy(t){return new RegExp("^(?:"+t.map(Ywe).join("|")+")","i")}function by(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Xwe(t,e,r){var n=Ca.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function jwe(t,e,r){var n=Ca.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Kwe(t,e,r){var n=Ca.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Qwe(t,e,r){var n=Ca.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Zwe(t,e,r){var n=Ca.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function A$(t,e,r){var n=Ca.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function _$(t,e,r){var n=Ca.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Jwe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function e3e(t,e,r){var n=Ca.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function t3e(t,e,r){var n=Ca.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function L$(t,e,r){var n=Ca.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function r3e(t,e,r){var n=Ca.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function D$(t,e,r){var n=Ca.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function n3e(t,e,r){var n=Ca.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function i3e(t,e,r){var n=Ca.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function a3e(t,e,r){var n=Ca.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function s3e(t,e,r){var n=Ca.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function o3e(t,e,r){var n=Wwe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function l3e(t,e,r){var n=Ca.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function u3e(t,e,r){var n=Ca.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function R$(t,e){return on(t.getDate(),e,2)}function c3e(t,e){return on(t.getHours(),e,2)}function h3e(t,e){return on(t.getHours()%12||12,e,2)}function f3e(t,e){return on(1+B0.count(hh(t),t),e,3)}function LZ(t,e){return on(t.getMilliseconds(),e,3)}function d3e(t,e){return LZ(t,e)+"000"}function p3e(t,e){return on(t.getMonth()+1,e,2)}function g3e(t,e){return on(t.getMinutes(),e,2)}function m3e(t,e){return on(t.getSeconds(),e,2)}function v3e(t){var e=t.getDay();return e===0?7:e}function y3e(t,e){return on(mb.count(hh(t)-1,t),e,2)}function DZ(t){var e=t.getDay();return e>=4||e===0?$0(t):$0.ceil(t)}function x3e(t,e){return t=DZ(t),on($0.count(hh(t),t)+(hh(t).getDay()===4),e,2)}function b3e(t){return t.getDay()}function w3e(t,e){return on(fx.count(hh(t)-1,t),e,2)}function S3e(t,e){return on(t.getFullYear()%100,e,2)}function k3e(t,e){return t=DZ(t),on(t.getFullYear()%100,e,2)}function E3e(t,e){return on(t.getFullYear()%1e4,e,4)}function T3e(t,e){var r=t.getDay();return t=r>=4||r===0?$0(t):$0.ceil(t),on(t.getFullYear()%1e4,e,4)}function C3e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+on(e/60|0,"0",2)+on(e%60,"0",2)}function M$(t,e){return on(t.getUTCDate(),e,2)}function A3e(t,e){return on(t.getUTCHours(),e,2)}function _3e(t,e){return on(t.getUTCHours()%12||12,e,2)}function L3e(t,e){return on(1+NR.count(z0(t),t),e,3)}function RZ(t,e){return on(t.getUTCMilliseconds(),e,3)}function D3e(t,e){return RZ(t,e)+"000"}function R3e(t,e){return on(t.getUTCMonth()+1,e,2)}function M3e(t,e){return on(t.getUTCMinutes(),e,2)}function N3e(t,e){return on(t.getUTCSeconds(),e,2)}function I3e(t){var e=t.getUTCDay();return e===0?7:e}function O3e(t,e){return on(_Z.count(z0(t)-1,t),e,2)}function MZ(t){var e=t.getUTCDay();return e>=4||e===0?vm(t):vm.ceil(t)}function P3e(t,e){return t=MZ(t),on(vm.count(z0(t),t)+(z0(t).getUTCDay()===4),e,2)}function F3e(t){return t.getUTCDay()}function B3e(t,e){return on(X5.count(z0(t)-1,t),e,2)}function $3e(t,e){return on(t.getUTCFullYear()%100,e,2)}function z3e(t,e){return t=MZ(t),on(t.getUTCFullYear()%100,e,2)}function H3e(t,e){return on(t.getUTCFullYear()%1e4,e,4)}function V3e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?vm(t):vm.ceil(t),on(t.getUTCFullYear()%1e4,e,4)}function U3e(){return"+0000"}function N$(){return"%"}function I$(t){return+t}function O$(t){return Math.floor(+t/1e3)}var ig,j5;G3e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function G3e(t){return ig=Gwe(t),j5=ig.format,ig.parse,ig.utcFormat,ig.utcParse,ig}function W3e(t){return new Date(t)}function q3e(t){return t instanceof Date?+t:+new Date(+t)}function NZ(t,e,r,n,i,a,s,o,l,u){var h=kZ(),f=h.invert,d=h.domain,p=u(".%L"),m=u(":%S"),v=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),w=u("%b %d"),S=u("%B"),E=u("%Y");function C(L){return(l(L)<L?p:o(L)<L?m:s(L)<L?v:a(L)<L?x:n(L)<L?i(L)<L?y:w:r(L)<L?S:E)(L)}return h.invert=function(L){return new Date(f(L))},h.domain=function(L){return arguments.length?d(Array.from(L,q3e)):d().map(W3e)},h.ticks=function(L){var _=d();return t(_[0],_[_.length-1],L??10)},h.tickFormat=function(L,_){return _==null?C:u(_)},h.nice=function(L){var _=d();return(!L||typeof L.range!="function")&&(L=e(_[0],_[_.length-1],L??10)),L?d(Mwe(_,L)):h},h.copy=function(){return SZ(h,NZ(t,e,r,n,i,a,s,o,l,u))},h}function Y3e(){return cE.apply(NZ(Vwe,Uwe,hh,dx,mb,B0,hx,cx,vf,j5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function X3e(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(n*6,++n*6);return r}const j3e=X3e("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Mi(t){return function(){return t}}const P$=Math.abs,rs=Math.atan2,Pd=Math.cos,K3e=Math.max,f7=Math.min,Du=Math.sin,Pg=Math.sqrt,ss=1e-12,px=Math.PI,K5=px/2,m3=2*px;function Q3e(t){return t>1?0:t<-1?px:Math.acos(t)}function F$(t){return t>=1?K5:t<=-1?-K5:Math.asin(t)}function IZ(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new fwe(e)}function Z3e(t){return t.innerRadius}function J3e(t){return t.outerRadius}function e5e(t){return t.startAngle}function t5e(t){return t.endAngle}function r5e(t){return t&&t.padAngle}function n5e(t,e,r,n,i,a,s,o){var l=r-t,u=n-e,h=s-i,f=o-a,d=f*l-h*u;if(!(d*d<ss))return d=(h*(e-a)-f*(t-i))/d,[t+d*l,e+d*u]}function aw(t,e,r,n,i,a,s){var o=t-r,l=e-n,u=(s?a:-a)/Pg(o*o+l*l),h=u*l,f=-u*o,d=t+h,p=e+f,m=r+h,v=n+f,x=(d+m)/2,y=(p+v)/2,w=m-d,S=v-p,E=w*w+S*S,C=i-a,L=d*v-m*p,_=(S<0?-1:1)*Pg(K3e(0,C*C*E-L*L)),I=(L*S-w*_)/E,D=(-L*w-S*_)/E,F=(L*S+w*_)/E,M=(-L*w+S*_)/E,B=I-x,H=D-y,R=F-x,O=M-y;return B*B+H*H>R*R+O*O&&(I=F,D=M),{cx:I,cy:D,x01:-h,y01:-f,x11:I*(i/C-1),y11:D*(i/C-1)}}function ym(){var t=Z3e,e=J3e,r=Mi(0),n=null,i=e5e,a=t5e,s=r5e,o=null,l=IZ(u);function u(){var h,f,d=+t.apply(this,arguments),p=+e.apply(this,arguments),m=i.apply(this,arguments)-K5,v=a.apply(this,arguments)-K5,x=P$(v-m),y=v>m;if(o||(o=h=l()),p<d&&(f=p,p=d,d=f),!(p>ss))o.moveTo(0,0);else if(x>m3-ss)o.moveTo(p*Pd(m),p*Du(m)),o.arc(0,0,p,m,v,!y),d>ss&&(o.moveTo(d*Pd(v),d*Du(v)),o.arc(0,0,d,v,m,y));else{var w=m,S=v,E=m,C=v,L=x,_=x,I=s.apply(this,arguments)/2,D=I>ss&&(n?+n.apply(this,arguments):Pg(d*d+p*p)),F=f7(P$(p-d)/2,+r.apply(this,arguments)),M=F,B=F,H,R;if(D>ss){var O=F$(D/d*Du(I)),P=F$(D/p*Du(I));(L-=O*2)>ss?(O*=y?1:-1,E+=O,C-=O):(L=0,E=C=(m+v)/2),(_-=P*2)>ss?(P*=y?1:-1,w+=P,S-=P):(_=0,w=S=(m+v)/2)}var z=p*Pd(w),$=p*Du(w),V=d*Pd(C),X=d*Du(C);if(F>ss){var q=p*Pd(S),Y=p*Du(S),U=d*Pd(E),Z=d*Du(E),pe;if(x<px)if(pe=n5e(z,$,U,Z,q,Y,V,X)){var ne=z-pe[0],ge=$-pe[1],ye=q-pe[0],J=Y-pe[1],se=1/Du(Q3e((ne*ye+ge*J)/(Pg(ne*ne+ge*ge)*Pg(ye*ye+J*J)))/2),oe=Pg(pe[0]*pe[0]+pe[1]*pe[1]);M=f7(F,(d-oe)/(se-1)),B=f7(F,(p-oe)/(se+1))}else M=B=0}_>ss?B>ss?(H=aw(U,Z,z,$,p,B,y),R=aw(q,Y,V,X,p,B,y),o.moveTo(H.cx+H.x01,H.cy+H.y01),B<F?o.arc(H.cx,H.cy,B,rs(H.y01,H.x01),rs(R.y01,R.x01),!y):(o.arc(H.cx,H.cy,B,rs(H.y01,H.x01),rs(H.y11,H.x11),!y),o.arc(0,0,p,rs(H.cy+H.y11,H.cx+H.x11),rs(R.cy+R.y11,R.cx+R.x11),!y),o.arc(R.cx,R.cy,B,rs(R.y11,R.x11),rs(R.y01,R.x01),!y))):(o.moveTo(z,$),o.arc(0,0,p,w,S,!y)):o.moveTo(z,$),!(d>ss)||!(L>ss)?o.lineTo(V,X):M>ss?(H=aw(V,X,q,Y,d,-M,y),R=aw(z,$,U,Z,d,-M,y),o.lineTo(H.cx+H.x01,H.cy+H.y01),M<F?o.arc(H.cx,H.cy,M,rs(H.y01,H.x01),rs(R.y01,R.x01),!y):(o.arc(H.cx,H.cy,M,rs(H.y01,H.x01),rs(H.y11,H.x11),!y),o.arc(0,0,d,rs(H.cy+H.y11,H.cx+H.x11),rs(R.cy+R.y11,R.cx+R.x11),y),o.arc(R.cx,R.cy,M,rs(R.y11,R.x11),rs(R.y01,R.x01),!y))):o.arc(0,0,d,C,E,y)}if(o.closePath(),h)return o=null,h+""||null}return u.centroid=function(){var h=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-px/2;return[Pd(f)*h,Du(f)*h]},u.innerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:Mi(+h),u):t},u.outerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:Mi(+h),u):e},u.cornerRadius=function(h){return arguments.length?(r=typeof h=="function"?h:Mi(+h),u):r},u.padRadius=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Mi(+h),u):n},u.startAngle=function(h){return arguments.length?(i=typeof h=="function"?h:Mi(+h),u):i},u.endAngle=function(h){return arguments.length?(a=typeof h=="function"?h:Mi(+h),u):a},u.padAngle=function(h){return arguments.length?(s=typeof h=="function"?h:Mi(+h),u):s},u.context=function(h){return arguments.length?(o=h??null,u):o},u}function OZ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function PZ(t){this._context=t}PZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function FZ(t){return new PZ(t)}function i5e(t){return t[0]}function a5e(t){return t[1]}function H0(t,e){var r=Mi(!0),n=null,i=FZ,a=null,s=IZ(o);t=typeof t=="function"?t:t===void 0?i5e:Mi(t),e=typeof e=="function"?e:e===void 0?a5e:Mi(e);function o(l){var u,h=(l=OZ(l)).length,f,d=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=h;++u)!(u<h&&r(f=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Mi(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Mi(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Mi(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function s5e(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function o5e(t){return t}function l5e(){var t=o5e,e=s5e,r=null,n=Mi(0),i=Mi(m3),a=Mi(0);function s(o){var l,u=(o=OZ(o)).length,h,f,d=0,p=new Array(u),m=new Array(u),v=+n.apply(this,arguments),x=Math.min(m3,Math.max(-m3,i.apply(this,arguments)-v)),y,w=Math.min(Math.abs(x)/u,a.apply(this,arguments)),S=w*(x<0?-1:1),E;for(l=0;l<u;++l)(E=m[p[l]=l]=+t(o[l],l,o))>0&&(d+=E);for(e!=null?p.sort(function(C,L){return e(m[C],m[L])}):r!=null&&p.sort(function(C,L){return r(o[C],o[L])}),l=0,f=d?(x-u*S)/d:0;l<u;++l,v=y)h=p[l],E=m[h],y=v+(E>0?E*f:0)+S,m[h]={data:o[h],index:l,value:E,startAngle:v,endAngle:y,padAngle:w};return m}return s.value=function(o){return arguments.length?(t=typeof o=="function"?o:Mi(+o),s):t},s.sortValues=function(o){return arguments.length?(e=o,r=null,s):e},s.sort=function(o){return arguments.length?(r=o,e=null,s):r},s.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:Mi(+o),s):n},s.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Mi(+o),s):i},s.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:Mi(+o),s):a},s}class BZ{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function u5e(t){return new BZ(t,!0)}function c5e(t){return new BZ(t,!1)}function zf(){}function Q5(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function fE(t){this._context=t}fE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Q5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Q5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vb(t){return new fE(t)}function $Z(t){this._context=t}$Z.prototype={areaStart:zf,areaEnd:zf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Q5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function h5e(t){return new $Z(t)}function zZ(t){this._context=t}zZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Q5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function f5e(t){return new zZ(t)}function HZ(t,e){this._basis=new fE(t),this._beta=e}HZ.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var n=t[0],i=e[0],a=t[r]-n,s=e[r]-i,o=-1,l;++o<=r;)l=o/r,this._basis.point(this._beta*t[o]+(1-this._beta)*(n+l*a),this._beta*e[o]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const d5e=function t(e){function r(n){return e===1?new fE(n):new HZ(n,e)}return r.beta=function(n){return t(+n)},r}(.85);function Z5(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function IR(t,e){this._context=t,this._k=(1-e)/6}IR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Z5(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Z5(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const p5e=function t(e){function r(n){return new IR(n,e)}return r.tension=function(n){return t(+n)},r}(0);function OR(t,e){this._context=t,this._k=(1-e)/6}OR.prototype={areaStart:zf,areaEnd:zf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Z5(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const g5e=function t(e){function r(n){return new OR(n,e)}return r.tension=function(n){return t(+n)},r}(0);function PR(t,e){this._context=t,this._k=(1-e)/6}PR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Z5(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const m5e=function t(e){function r(n){return new PR(n,e)}return r.tension=function(n){return t(+n)},r}(0);function FR(t,e,r){var n=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>ss){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>ss){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*u+t._y1*t._l23_2a-r*t._l12_2a)/h}t._context.bezierCurveTo(n,i,a,s,t._x2,t._y2)}function VZ(t,e){this._context=t,this._alpha=e}VZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:FR(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const v5e=function t(e){function r(n){return e?new VZ(n,e):new IR(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function UZ(t,e){this._context=t,this._alpha=e}UZ.prototype={areaStart:zf,areaEnd:zf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:FR(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const y5e=function t(e){function r(n){return e?new UZ(n,e):new OR(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function GZ(t,e){this._context=t,this._alpha=e}GZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:FR(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const x5e=function t(e){function r(n){return e?new GZ(n,e):new PR(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function WZ(t){this._context=t}WZ.prototype={areaStart:zf,areaEnd:zf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function b5e(t){return new WZ(t)}function B$(t){return t<0?-1:1}function $$(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(B$(a)+B$(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function z$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function d7(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function J5(t){this._context=t}J5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:d7(this,this._t0,z$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,d7(this,z$(this,r=$$(this,t,e)),r);break;default:d7(this,this._t0,r=$$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function qZ(t){this._context=new YZ(t)}(qZ.prototype=Object.create(J5.prototype)).point=function(t,e){J5.prototype.point.call(this,e,t)};function YZ(t){this._context=t}YZ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function w5e(t){return new J5(t)}function S5e(t){return new qZ(t)}function XZ(t){this._context=t}XZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=H$(t),i=H$(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function H$(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function k5e(t){return new XZ(t)}function dE(t,e){this._context=t,this._t=e}dE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function E5e(t){return new dE(t,.5)}function T5e(t){return new dE(t,0)}function C5e(t){return new dE(t,1)}function qy(t,e,r){this.k=t,this.x=e,this.y=r}qy.prototype={constructor:qy,scale:function(t){return t===1?this:new qy(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new qy(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};qy.prototype;var jZ=typeof global=="object"&&global&&global.Object===Object&&global,A5e=typeof self=="object"&&self&&self.Object===Object&&self,uc=jZ||A5e||Function("return this")(),_l=uc.Symbol,KZ=Object.prototype,_5e=KZ.hasOwnProperty,L5e=KZ.toString,wy=_l?_l.toStringTag:void 0;function D5e(t){var e=_5e.call(t,wy),r=t[wy];try{t[wy]=void 0;var n=!0}catch{}var i=L5e.call(t);return n&&(e?t[wy]=r:delete t[wy]),i}var R5e=Object.prototype,M5e=R5e.toString;function N5e(t){return M5e.call(t)}var I5e="[object Null]",O5e="[object Undefined]",V$=_l?_l.toStringTag:void 0;function Ah(t){return t==null?t===void 0?O5e:I5e:V$&&V$ in Object(t)?D5e(t):N5e(t)}function wo(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var P5e="[object AsyncFunction]",F5e="[object Function]",B5e="[object GeneratorFunction]",$5e="[object Proxy]";function Ll(t){if(!wo(t))return!1;var e=Ah(t);return e==F5e||e==B5e||e==P5e||e==$5e}var p7=uc["__core-js_shared__"],U$=function(){var t=/[^.]+$/.exec(p7&&p7.keys&&p7.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function z5e(t){return!!U$&&U$ in t}var H5e=Function.prototype,V5e=H5e.toString;function vp(t){if(t!=null){try{return V5e.call(t)}catch{}try{return t+""}catch{}}return""}var U5e=/[\\^$.*+?()[\]{}|]/g,G5e=/^\[object .+?Constructor\]$/,W5e=Function.prototype,q5e=Object.prototype,Y5e=W5e.toString,X5e=q5e.hasOwnProperty,j5e=RegExp("^"+Y5e.call(X5e).replace(U5e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K5e(t){if(!wo(t)||z5e(t))return!1;var e=Ll(t)?j5e:G5e;return e.test(vp(t))}function Q5e(t,e){return t==null?void 0:t[e]}function yp(t,e){var r=Q5e(t,e);return K5e(r)?r:void 0}var gx=yp(Object,"create");function Z5e(){this.__data__=gx?gx(null):{},this.size=0}function J5e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var eSe="__lodash_hash_undefined__",tSe=Object.prototype,rSe=tSe.hasOwnProperty;function nSe(t){var e=this.__data__;if(gx){var r=e[t];return r===eSe?void 0:r}return rSe.call(e,t)?e[t]:void 0}var iSe=Object.prototype,aSe=iSe.hasOwnProperty;function sSe(t){var e=this.__data__;return gx?e[t]!==void 0:aSe.call(e,t)}var oSe="__lodash_hash_undefined__";function lSe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=gx&&e===void 0?oSe:e,this}function V0(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}V0.prototype.clear=Z5e;V0.prototype.delete=J5e;V0.prototype.get=nSe;V0.prototype.has=sSe;V0.prototype.set=lSe;function uSe(){this.__data__=[],this.size=0}function Qm(t,e){return t===e||t!==t&&e!==e}function pE(t,e){for(var r=t.length;r--;)if(Qm(t[r][0],e))return r;return-1}var cSe=Array.prototype,hSe=cSe.splice;function fSe(t){var e=this.__data__,r=pE(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():hSe.call(e,r,1),--this.size,!0}function dSe(t){var e=this.__data__,r=pE(e,t);return r<0?void 0:e[r][1]}function pSe(t){return pE(this.__data__,t)>-1}function gSe(t,e){var r=this.__data__,n=pE(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function _h(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_h.prototype.clear=uSe;_h.prototype.delete=fSe;_h.prototype.get=dSe;_h.prototype.has=pSe;_h.prototype.set=gSe;var mx=yp(uc,"Map");function mSe(){this.size=0,this.__data__={hash:new V0,map:new(mx||_h),string:new V0}}function vSe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function gE(t,e){var r=t.__data__;return vSe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function ySe(t){var e=gE(this,t).delete(t);return this.size-=e?1:0,e}function xSe(t){return gE(this,t).get(t)}function bSe(t){return gE(this,t).has(t)}function wSe(t,e){var r=gE(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Lh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Lh.prototype.clear=mSe;Lh.prototype.delete=ySe;Lh.prototype.get=xSe;Lh.prototype.has=bSe;Lh.prototype.set=wSe;var SSe="Expected a function";function Zm(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(SSe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(Zm.Cache||Lh),r}Zm.Cache=Lh;function kSe(){this.__data__=new _h,this.size=0}function ESe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function TSe(t){return this.__data__.get(t)}function CSe(t){return this.__data__.has(t)}var ASe=200;function _Se(t,e){var r=this.__data__;if(r instanceof _h){var n=r.__data__;if(!mx||n.length<ASe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Lh(n)}return r.set(t,e),this.size=r.size,this}function su(t){var e=this.__data__=new _h(t);this.size=e.size}su.prototype.clear=kSe;su.prototype.delete=ESe;su.prototype.get=TSe;su.prototype.has=CSe;su.prototype.set=_Se;var eS=function(){try{var t=yp(Object,"defineProperty");return t({},"",{}),t}catch{}}();function yb(t,e,r){e=="__proto__"&&eS?eS(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function A_(t,e,r){(r!==void 0&&!Qm(t[e],r)||r===void 0&&!(e in t))&&yb(t,e,r)}function LSe(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[++i];if(r(a[l],l,a)===!1)break}return e}}var BR=LSe(),QZ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,G$=QZ&&typeof module=="object"&&module&&!module.nodeType&&module,DSe=G$&&G$.exports===QZ,W$=DSe?uc.Buffer:void 0,q$=W$?W$.allocUnsafe:void 0;function ZZ(t,e){if(e)return t.slice();var r=t.length,n=q$?q$(r):new t.constructor(r);return t.copy(n),n}var tS=uc.Uint8Array;function $R(t){var e=new t.constructor(t.byteLength);return new tS(e).set(new tS(t)),e}function JZ(t,e){var r=e?$R(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function eJ(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Y$=Object.create,RSe=function(){function t(){}return function(e){if(!wo(e))return{};if(Y$)return Y$(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function tJ(t,e){return function(r){return t(e(r))}}var zR=tJ(Object.getPrototypeOf,Object),MSe=Object.prototype;function xb(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||MSe;return t===r}function rJ(t){return typeof t.constructor=="function"&&!xb(t)?RSe(zR(t)):{}}function Dl(t){return t!=null&&typeof t=="object"}var NSe="[object Arguments]";function X$(t){return Dl(t)&&Ah(t)==NSe}var nJ=Object.prototype,ISe=nJ.hasOwnProperty,OSe=nJ.propertyIsEnumerable,xm=X$(function(){return arguments}())?X$:function(t){return Dl(t)&&ISe.call(t,"callee")&&!OSe.call(t,"callee")},Ur=Array.isArray,PSe=9007199254740991;function HR(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=PSe}function cc(t){return t!=null&&HR(t.length)&&!Ll(t)}function rS(t){return Dl(t)&&cc(t)}function FSe(){return!1}var iJ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,j$=iJ&&typeof module=="object"&&module&&!module.nodeType&&module,BSe=j$&&j$.exports===iJ,K$=BSe?uc.Buffer:void 0,$Se=K$?K$.isBuffer:void 0,bm=$Se||FSe,zSe="[object Object]",HSe=Function.prototype,VSe=Object.prototype,aJ=HSe.toString,USe=VSe.hasOwnProperty,GSe=aJ.call(Object);function WSe(t){if(!Dl(t)||Ah(t)!=zSe)return!1;var e=zR(t);if(e===null)return!0;var r=USe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&aJ.call(r)==GSe}var qSe="[object Arguments]",YSe="[object Array]",XSe="[object Boolean]",jSe="[object Date]",KSe="[object Error]",QSe="[object Function]",ZSe="[object Map]",JSe="[object Number]",eke="[object Object]",tke="[object RegExp]",rke="[object Set]",nke="[object String]",ike="[object WeakMap]",ake="[object ArrayBuffer]",ske="[object DataView]",oke="[object Float32Array]",lke="[object Float64Array]",uke="[object Int8Array]",cke="[object Int16Array]",hke="[object Int32Array]",fke="[object Uint8Array]",dke="[object Uint8ClampedArray]",pke="[object Uint16Array]",gke="[object Uint32Array]",Xn={};Xn[oke]=Xn[lke]=Xn[uke]=Xn[cke]=Xn[hke]=Xn[fke]=Xn[dke]=Xn[pke]=Xn[gke]=!0;Xn[qSe]=Xn[YSe]=Xn[ake]=Xn[XSe]=Xn[ske]=Xn[jSe]=Xn[KSe]=Xn[QSe]=Xn[ZSe]=Xn[JSe]=Xn[eke]=Xn[tke]=Xn[rke]=Xn[nke]=Xn[ike]=!1;function mke(t){return Dl(t)&&HR(t.length)&&!!Xn[Ah(t)]}function bb(t){return function(e){return t(e)}}var sJ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,C2=sJ&&typeof module=="object"&&module&&!module.nodeType&&module,vke=C2&&C2.exports===sJ,g7=vke&&jZ.process,Hf=function(){try{var t=C2&&C2.require&&C2.require("util").types;return t||g7&&g7.binding&&g7.binding("util")}catch{}}(),Q$=Hf&&Hf.isTypedArray,mE=Q$?bb(Q$):mke;function __(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var yke=Object.prototype,xke=yke.hasOwnProperty;function wb(t,e,r){var n=t[e];(!(xke.call(t,e)&&Qm(n,r))||r===void 0&&!(e in t))&&yb(t,e,r)}function Jm(t,e,r,n){var i=!r;r||(r={});for(var a=-1,s=e.length;++a<s;){var o=e[a],l=void 0;l===void 0&&(l=t[o]),i?yb(r,o,l):wb(r,o,l)}return r}function bke(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var wke=9007199254740991,Ske=/^(?:0|[1-9]\d*)$/;function vE(t,e){var r=typeof t;return e=e??wke,!!e&&(r=="number"||r!="symbol"&&Ske.test(t))&&t>-1&&t%1==0&&t<e}var kke=Object.prototype,Eke=kke.hasOwnProperty;function oJ(t,e){var r=Ur(t),n=!r&&xm(t),i=!r&&!n&&bm(t),a=!r&&!n&&!i&&mE(t),s=r||n||i||a,o=s?bke(t.length,String):[],l=o.length;for(var u in t)(e||Eke.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vE(u,l)))&&o.push(u);return o}function Tke(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Cke=Object.prototype,Ake=Cke.hasOwnProperty;function _ke(t){if(!wo(t))return Tke(t);var e=xb(t),r=[];for(var n in t)n=="constructor"&&(e||!Ake.call(t,n))||r.push(n);return r}function xp(t){return cc(t)?oJ(t,!0):_ke(t)}function Lke(t){return Jm(t,xp(t))}function Dke(t,e,r,n,i,a,s){var o=__(t,r),l=__(e,r),u=s.get(l);if(u){A_(t,r,u);return}var h=a?a(o,l,r+"",t,e,s):void 0,f=h===void 0;if(f){var d=Ur(l),p=!d&&bm(l),m=!d&&!p&&mE(l);h=l,d||p||m?Ur(o)?h=o:rS(o)?h=eJ(o):p?(f=!1,h=ZZ(l,!0)):m?(f=!1,h=JZ(l,!0)):h=[]:WSe(l)||xm(l)?(h=o,xm(o)?h=Lke(o):(!wo(o)||Ll(o))&&(h=rJ(l))):f=!1}f&&(s.set(l,h),i(h,l,n,a,s),s.delete(l)),A_(t,r,h)}function lJ(t,e,r,n,i){t!==e&&BR(e,function(a,s){if(i||(i=new su),wo(a))Dke(t,e,s,r,lJ,n,i);else{var o=n?n(__(t,s),a,s+"",t,e,i):void 0;o===void 0&&(o=a),A_(t,s,o)}},xp)}function fh(t){return t}function Rke(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Z$=Math.max;function uJ(t,e,r){return e=Z$(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=Z$(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),Rke(t,this,o)}}function Fg(t){return function(){return t}}var Mke=eS?function(t,e){return eS(t,"toString",{configurable:!0,enumerable:!1,value:Fg(e),writable:!0})}:fh,Nke=800,Ike=16,Oke=Date.now;function Pke(t){var e=0,r=0;return function(){var n=Oke(),i=Ike-(n-r);if(r=n,i>0){if(++e>=Nke)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var cJ=Pke(Mke);function Sb(t,e){return cJ(uJ(t,e,fh),t+"")}function vx(t,e,r){if(!wo(r))return!1;var n=typeof e;return(n=="number"?cc(r)&&vE(e,r.length):n=="string"&&e in r)?Qm(r[e],t):!1}function hJ(t){return Sb(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,s&&vx(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var o=r[n];o&&t(e,o,n,a)}return e})}var nS=hJ(function(t,e,r){lJ(t,e,r)}),fJ="​",Fke={curveBasis:vb,curveBasisClosed:h5e,curveBasisOpen:f5e,curveBumpX:u5e,curveBumpY:c5e,curveBundle:d5e,curveCardinalClosed:g5e,curveCardinalOpen:m5e,curveCardinal:p5e,curveCatmullRomClosed:y5e,curveCatmullRomOpen:x5e,curveCatmullRom:v5e,curveLinear:FZ,curveLinearClosed:b5e,curveMonotoneX:w5e,curveMonotoneY:S5e,curveNatural:k5e,curveStep:E5e,curveStepAfter:C5e,curveStepBefore:T5e},Bke=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,$ke=k(function(t,e){const r=dJ(t,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const s=r.map(o=>o.args);C5(s),n=ia(n,[...s])}else n=r.args;if(!n)return;let i=oR(t,e);const a="config";return n[a]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[a],delete n[a]),n},"detectInit"),dJ=k(function(t,e=null){var r,n;try{const i=new RegExp(`[%]{2}(?![{]${Bke.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(i,"").replace(/'/gm,'"'),Ee.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let a;const s=[];for(;(a=k2.exec(t))!==null;)if(a.index===k2.lastIndex&&k2.lastIndex++,a&&!e||e&&((r=a[1])!=null&&r.match(e))||e&&((n=a[2])!=null&&n.match(e))){const o=a[1]?a[1]:a[2],l=a[3]?a[3].trim():a[4]?JSON.parse(a[4].trim()):null;s.push({type:o,args:l})}return s.length===0?{type:t,args:null}:s.length===1?s[0]:s}catch(i){return Ee.error(`ERROR: ${i.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),zke=k(function(t){return t.replace(k2,"")},"removeDirectives"),Hke=k(function(t,e){for(const[r,n]of e.entries())if(n.match(t))return r;return-1},"isSubstringInArray");function VR(t,e){if(!t)return e;const r=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return Fke[r]??e}k(VR,"interpolateToCurve");function pJ(t,e){const r=t.trim();if(r)return e.securityLevel!=="loose"?cd(r):r}k(pJ,"formatUrl");var Vke=k((t,...e)=>{const r=t.split("."),n=r.length-1,i=r[n];let a=window;for(let s=0;s<n;s++)if(a=a[r[s]],!a){Ee.error(`Function name: ${t} not found in window`);return}a[i](...e)},"runFunc");function UR(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}k(UR,"distance");function gJ(t){let e,r=0;t.forEach(i=>{r+=UR(i,e),e=i});const n=r/2;return GR(t,n)}k(gJ,"traverseEdge");function mJ(t){return t.length===1?t[0]:gJ(t)}k(mJ,"calcLabelPosition");var J$=k((t,e=2)=>{const r=Math.pow(10,e);return Math.round(t*r)/r},"roundNumber"),GR=k((t,e)=>{let r,n=e;for(const i of t){if(r){const a=UR(i,r);if(a<n)n-=a;else{const s=n/a;if(s<=0)return r;if(s>=1)return{x:i.x,y:i.y};if(s>0&&s<1)return{x:J$((1-s)*r.x+s*i.x,5),y:J$((1-s)*r.y+s*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),Uke=k((t,e,r)=>{Ee.info(`our points ${JSON.stringify(e)}`),e[0]!==r&&(e=e.reverse());const i=GR(e,25),a=t?10:5,s=Math.atan2(e[0].y-i.y,e[0].x-i.x),o={x:0,y:0};return o.x=Math.sin(s)*a+(e[0].x+i.x)/2,o.y=-Math.cos(s)*a+(e[0].y+i.y)/2,o},"calcCardinalityPosition");function vJ(t,e,r){const n=structuredClone(r);Ee.info("our points",n),e!=="start_left"&&e!=="start_right"&&n.reverse();const i=25+t,a=GR(n,i),s=10+t*.5,o=Math.atan2(n[0].y-a.y,n[0].x-a.x),l={x:0,y:0};return e==="start_left"?(l.x=Math.sin(o+Math.PI)*s+(n[0].x+a.x)/2,l.y=-Math.cos(o+Math.PI)*s+(n[0].y+a.y)/2):e==="end_right"?(l.x=Math.sin(o-Math.PI)*s+(n[0].x+a.x)/2-5,l.y=-Math.cos(o-Math.PI)*s+(n[0].y+a.y)/2-5):e==="end_left"?(l.x=Math.sin(o)*s+(n[0].x+a.x)/2-5,l.y=-Math.cos(o)*s+(n[0].y+a.y)/2-5):(l.x=Math.sin(o)*s+(n[0].x+a.x)/2,l.y=-Math.cos(o)*s+(n[0].y+a.y)/2),l}k(vJ,"calcTerminalLabelPosition");function WR(t){let e="",r="";for(const n of t)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":e=e+n+";");return{style:e,labelStyle:r}}k(WR,"getStylesFromArray");var ez=0,yJ=k(()=>(ez++,"id-"+Math.random().toString(36).substr(2,12)+"-"+ez),"generateId");function xJ(t){let e="";const r="0123456789abcdef",n=r.length;for(let i=0;i<t;i++)e+=r.charAt(Math.floor(Math.random()*n));return e}k(xJ,"makeRandomHex");var bJ=k(t=>xJ(t.length),"random"),Gke=k(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),Wke=k(function(t,e){const r=e.text.replace(At.lineBreakRegex," "),[,n]=hd(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",n),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const a=i.append("tspan");return a.attr("x",e.x+e.textMargin*2),a.attr("fill",e.fill),a.text(r),i},"drawSimpleText"),wJ=Zm((t,e,r)=>{if(!t||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),At.lineBreakRegex.test(t)))return t;const n=t.split(" ").filter(Boolean),i=[];let a="";return n.forEach((s,o)=>{const l=kl(`${s} `,r),u=kl(a,r);if(l>e){const{hyphenatedStrings:d,remainingWord:p}=qke(s,e,"-",r);i.push(a,...d),a=p}else u+l>=e?(i.push(a),a=s):a=[a,s].filter(Boolean).join(" ");o+1===n.length&&i.push(a)}),i.filter(s=>s!=="").join(r.joinWith)},(t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),qke=Zm((t,e,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...t],a=[];let s="";return i.forEach((o,l)=>{const u=`${s}${o}`;if(kl(u,n)>=e){const f=l+1,d=i.length===f,p=`${u}${r}`;a.push(d?u:p),s=""}else s=u}),{hyphenatedStrings:a,remainingWord:s}},(t,e,r="-",n)=>`${t}${e}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function iS(t,e){return qR(t,e).height}k(iS,"calculateTextHeight");function kl(t,e){return qR(t,e).width}k(kl,"calculateTextWidth");var qR=Zm((t,e)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};const[,a]=hd(r),s=["sans-serif",n],o=t.split(At.lineBreakRegex),l=[],u=bt("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const h=u.append("svg");for(const d of s){let p=0;const m={width:0,height:0,lineHeight:0};for(const v of o){const x=Gke();x.text=v||fJ;const y=Wke(h,x).style("font-size",a).style("font-weight",i).style("font-family",d),w=(y._groups||y)[0][0].getBBox();if(w.width===0&&w.height===0)throw new Error("svg element not in render tree");m.width=Math.round(Math.max(m.width,w.width)),p=Math.round(w.height),m.height+=p,m.lineHeight=Math.round(Math.max(m.lineHeight,p))}l.push(m)}h.remove();const f=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[f]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),b1,Yke=(b1=class{constructor(e=!1,r){this.count=0,this.count=r?r.length:0,this.next=e?()=>this.count++:()=>Date.now()}},k(b1,"InitIDGenerator"),b1),sw,Xke=k(function(t){return sw=sw||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),sw.innerHTML=t,unescape(sw.textContent)},"entityDecode");function YR(t){return"str"in t}k(YR,"isDetailedError");var jke=k((t,e,r,n)=>{var a;if(!n)return;const i=(a=t.node())==null?void 0:a.getBBox();i&&t.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",e)},"insertTitle"),hd=k(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function Dh(t,e){return nS({},t,e)}k(Dh,"cleanAndMerge");var Ir={assignWithDepth:ia,wrapLabel:wJ,calculateTextHeight:iS,calculateTextWidth:kl,calculateTextDimensions:qR,cleanAndMerge:Dh,detectInit:$ke,detectDirective:dJ,isSubstringInArray:Hke,interpolateToCurve:VR,calcLabelPosition:mJ,calcCardinalityPosition:Uke,calcTerminalLabelPosition:vJ,formatUrl:pJ,getStylesFromArray:WR,generateId:yJ,random:bJ,runFunc:Vke,entityDecode:Xke,insertTitle:jke,parseFontSize:hd,InitIDGenerator:Yke},Kke=k(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"ﬂ°°"+n+"¶ß":"ﬂ°"+n+"¶ß"}),e},"encodeEntities"),dh=k(function(t){return t.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),SJ=k((t,e,{counter:r=0,prefix:n,suffix:i})=>`${n?`${n}_`:""}${t}_${e}_${r}${i?`_${i}`:""}`,"getEdgeId");function Vs(t){return t??null}k(Vs,"handleUndefinedAttr");function XR(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let bp=XR();function kJ(t){bp=t}const EJ=/[&<>"']/,Qke=new RegExp(EJ.source,"g"),TJ=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Zke=new RegExp(TJ.source,"g"),Jke={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tz=t=>Jke[t];function Io(t,e){if(e){if(EJ.test(t))return t.replace(Qke,tz)}else if(TJ.test(t))return t.replace(Zke,tz);return t}const eEe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function tEe(t){return t.replace(eEe,(e,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const rEe=/(^|[^\[])\^/g;function Rn(t,e){let r=typeof t=="string"?t:t.source;e=e||"";const n={replace:(i,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(rEe,"$1"),r=r.replace(i,s),n},getRegex:()=>new RegExp(r,e)};return n}function rz(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const A2={exec:()=>null};function nz(t,e){const r=t.replace(/\|/g,(a,s,o)=>{let l=!1,u=s;for(;--u>=0&&o[u]==="\\";)l=!l;return l?"|":" |"}),n=r.split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function Sy(t,e,r){const n=t.length;if(n===0)return"";let i=0;for(;i<n;){const a=t.charAt(n-i-1);if(a===e&&!r)i++;else if(a!==e&&r)i++;else break}return t.slice(0,n-i)}function nEe(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return-1}function iz(t,e,r,n){const i=e.href,a=e.title?Io(e.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:r,href:i,title:a,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,o}return{type:"image",raw:r,href:i,title:a,text:Io(s)}}function iEe(t,e){const r=t.match(/^(\s+)(?:```)/);if(r===null)return e;const n=r[1];return e.split(`
`).map(i=>{const a=i.match(/^\s+/);if(a===null)return i;const[s]=a;return s.length>=n.length?i.slice(n.length):i}).join(`
`)}class aS{constructor(e){Kr(this,"options");Kr(this,"rules");Kr(this,"lexer");this.options=e||bp}space(e){const r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){const r=this.rules.block.code.exec(e);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Sy(n,`
`)}}}fences(e){const r=this.rules.block.fences.exec(e);if(r){const n=r[0],i=iEe(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(e){const r=this.rules.block.heading.exec(e);if(r){let n=r[2].trim();if(/#$/.test(n)){const i=Sy(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:Sy(r[0],`
`)}}blockquote(e){const r=this.rules.block.blockquote.exec(e);if(r){let n=Sy(r[0],`
`).split(`
`),i="",a="";const s=[];for(;n.length>0;){let o=!1;const l=[];let u;for(u=0;u<n.length;u++)if(/^ {0,3}>/.test(n[u]))l.push(n[u]),o=!0;else if(!o)l.push(n[u]);else break;n=n.slice(u);const h=l.join(`
`),f=h.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");i=i?`${i}
${h}`:h,a=a?`${a}
${f}`:f;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,s,!0),this.lexer.state.top=d,n.length===0)break;const p=s[s.length-1];if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){const m=p,v=m.raw+`
`+n.join(`
`),x=this.blockquote(v);s[s.length-1]=x,i=i.substring(0,i.length-m.raw.length)+x.raw,a=a.substring(0,a.length-m.text.length)+x.text;break}else if((p==null?void 0:p.type)==="list"){const m=p,v=m.raw+`
`+n.join(`
`),x=this.list(v);s[s.length-1]=x,i=i.substring(0,i.length-p.raw.length)+x.raw,a=a.substring(0,a.length-m.raw.length)+x.raw,n=v.substring(s[s.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:a}}}list(e){let r=this.rules.block.list.exec(e);if(r){let n=r[1].trim();const i=n.length>1,a={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let o=!1;for(;e;){let l=!1,u="",h="";if(!(r=s.exec(e))||this.rules.block.hr.test(e))break;u=r[0],e=e.substring(u.length);let f=r[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),d=e.split(`
`,1)[0],p=!f.trim(),m=0;if(this.options.pedantic?(m=2,h=f.trimStart()):p?m=r[1].length+1:(m=r[2].search(/[^ ]/),m=m>4?1:m,h=f.slice(m),m+=r[1].length),p&&/^ *$/.test(d)&&(u+=d+`
`,e=e.substring(d.length+1),l=!0),!l){const y=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),w=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),S=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),E=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){const C=e.split(`
`,1)[0];if(d=C,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),S.test(d)||E.test(d)||y.test(d)||w.test(e))break;if(d.search(/[^ ]/)>=m||!d.trim())h+=`
`+d.slice(m);else{if(p||f.search(/[^ ]/)>=4||S.test(f)||E.test(f)||w.test(f))break;h+=`
`+d}!p&&!d.trim()&&(p=!0),u+=C+`
`,e=e.substring(C.length+1),f=d.slice(m)}}a.loose||(o?a.loose=!0:/\n *\n *$/.test(u)&&(o=!0));let v=null,x;this.options.gfm&&(v=/^\[[ xX]\] /.exec(h),v&&(x=v[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:u,task:!!v,checked:x,loose:!1,text:h,tokens:[]}),a.raw+=u}a.items[a.items.length-1].raw=a.items[a.items.length-1].raw.trimEnd(),a.items[a.items.length-1].text=a.items[a.items.length-1].text.trimEnd(),a.raw=a.raw.trimEnd();for(let l=0;l<a.items.length;l++)if(this.lexer.state.top=!1,a.items[l].tokens=this.lexer.blockTokens(a.items[l].text,[]),!a.loose){const u=a.items[l].tokens.filter(f=>f.type==="space"),h=u.length>0&&u.some(f=>/\n.*\n/.test(f.raw));a.loose=h}if(a.loose)for(let l=0;l<a.items.length;l++)a.items[l].loose=!0;return a}}html(e){const r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){const r=this.rules.block.def.exec(e);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),i=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:a}}}table(e){const r=this.rules.block.table.exec(e);if(!r||!/[:|]/.test(r[2]))return;const n=nz(r[1]),i=r[2].replace(/^\||\| *$/g,"").split("|"),a=r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const o of i)/^ *-+: *$/.test(o)?s.align.push("right"):/^ *:-+: *$/.test(o)?s.align.push("center"):/^ *:-+ *$/.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<n.length;o++)s.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:s.align[o]});for(const o of a)s.rows.push(nz(o,s.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[u]})));return s}}lheading(e){const r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){const r=this.rules.block.paragraph.exec(e);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){const r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:Io(r[1])}}tag(e){const r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){const r=this.rules.inline.link.exec(e);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=Sy(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=nEe(r[2],"()");if(s>-1){const l=(r[0].indexOf("!")===0?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let i=r[2],a="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);s&&(i=s[1],a=s[3])}else a=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),iz(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer)}}reflink(e,r){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const i=(n[2]||n[1]).replace(/\s+/g," "),a=r[i.toLowerCase()];if(!a){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return iz(n,a,n[0],this.lexer)}}emStrong(e,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=[...i[0]].length-1;let o,l,u=s,h=0;const f=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,r=r.slice(-1*e.length+s);(i=f.exec(r))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(l=[...o].length,i[3]||i[4]){u+=l;continue}else if((i[5]||i[6])&&s%3&&!((s+l)%3)){h+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+h);const d=[...i[0]][0].length,p=e.slice(0,s+i.index+d+l);if(Math.min(s,l)%2){const v=p.slice(1,-1);return{type:"em",raw:p,text:v,tokens:this.lexer.inlineTokens(v)}}const m=p.slice(2,-2);return{type:"strong",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const r=this.rules.inline.code.exec(e);if(r){let n=r[2].replace(/\n/g," ");const i=/[^ ]/.test(n),a=/^ /.test(n)&&/ $/.test(n);return i&&a&&(n=n.substring(1,n.length-1)),n=Io(n,!0),{type:"codespan",raw:r[0],text:n}}}br(e){const r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){const r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){const r=this.rules.inline.autolink.exec(e);if(r){let n,i;return r[2]==="@"?(n=Io(r[1]),i="mailto:"+n):(n=Io(r[1]),i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let r;if(r=this.rules.inline.url.exec(e)){let i,a;if(r[2]==="@")i=Io(r[0]),a="mailto:"+i;else{let s;do s=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(s!==r[0]);i=Io(r[0]),r[1]==="www."?a="http://"+r[0]:a=r[0]}return{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const r=this.rules.inline.text.exec(e);if(r){let n;return this.lexer.state.inRawBlock?n=r[0]:n=Io(r[0]),{type:"text",raw:r[0],text:n}}}}const aEe=/^(?: *(?:\n|$))+/,sEe=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,oEe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,kb=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,lEe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,CJ=/(?:[*+-]|\d{1,9}[.)])/,AJ=Rn(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,CJ).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),jR=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,uEe=/^[^\n]+/,KR=/(?!\s*\])(?:\\.|[^\[\]\\])+/,cEe=Rn(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",KR).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),hEe=Rn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,CJ).getRegex(),yE="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",QR=/\x3C!--(?:-?>|[\s\S]*?(?:-->|$))/,fEe=Rn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",QR).replace("tag",yE).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_J=Rn(jR).replace("hr",kb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",yE).getRegex(),dEe=Rn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",_J).getRegex(),ZR={blockquote:dEe,code:sEe,def:cEe,fences:oEe,heading:lEe,hr:kb,html:fEe,lheading:AJ,list:hEe,newline:aEe,paragraph:_J,table:A2,text:uEe},az=Rn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",kb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",yE).getRegex(),pEe={...ZR,table:az,paragraph:Rn(jR).replace("hr",kb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",az).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",yE).getRegex()},gEe={...ZR,html:Rn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",QR).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:A2,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Rn(jR).replace("hr",kb).replace("heading",` *#{1,6} *[^
]`).replace("lheading",AJ).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},LJ=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,mEe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,DJ=/^( {2,}|\\)\n(?!\s*$)/,vEe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Eb="\\p{P}\\p{S}",yEe=Rn(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Eb).getRegex(),xEe=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,bEe=Rn(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Eb).getRegex(),wEe=Rn("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Eb).getRegex(),SEe=Rn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Eb).getRegex(),kEe=Rn(/\\([punct])/,"gu").replace(/punct/g,Eb).getRegex(),EEe=Rn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),TEe=Rn(QR).replace("(?:-->|$)","-->").getRegex(),CEe=Rn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",TEe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),sS=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,AEe=Rn(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",sS).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),RJ=Rn(/^!?\[(label)\]\[(ref)\]/).replace("label",sS).replace("ref",KR).getRegex(),MJ=Rn(/^!?\[(ref)\](?:\[\])?/).replace("ref",KR).getRegex(),_Ee=Rn("reflink|nolink(?!\\()","g").replace("reflink",RJ).replace("nolink",MJ).getRegex(),JR={_backpedal:A2,anyPunctuation:kEe,autolink:EEe,blockSkip:xEe,br:DJ,code:mEe,del:A2,emStrongLDelim:bEe,emStrongRDelimAst:wEe,emStrongRDelimUnd:SEe,escape:LJ,link:AEe,nolink:MJ,punctuation:yEe,reflink:RJ,reflinkSearch:_Ee,tag:CEe,text:vEe,url:A2},LEe={...JR,link:Rn(/^!?\[(label)\]\((.*?)\)/).replace("label",sS).getRegex(),reflink:Rn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",sS).getRegex()},L_={...JR,escape:Rn(LJ).replace("])","~|])").getRegex(),url:Rn(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},DEe={...L_,br:Rn(DJ).replace("{2,}","*").getRegex(),text:Rn(L_.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ow={normal:ZR,gfm:pEe,pedantic:gEe},ky={normal:JR,gfm:L_,breaks:DEe,pedantic:LEe};class Gu{constructor(e){Kr(this,"tokens");Kr(this,"options");Kr(this,"state");Kr(this,"tokenizer");Kr(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||bp,this.options.tokenizer=this.options.tokenizer||new aS,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:ow.normal,inline:ky.normal};this.options.pedantic?(r.block=ow.pedantic,r.inline=ky.pedantic):this.options.gfm&&(r.block=ow.gfm,this.options.breaks?r.inline=ky.breaks:r.inline=ky.gfm),this.tokenizer.rules=r}static get rules(){return{block:ow,inline:ky}}static lex(e,r){return new Gu(r).lex(e)}static lexInline(e,r){return new Gu(r).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,l,u)=>l+"    ".repeat(u.length));let i,a,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(i=o.call({lexer:this},e,r))?(e=e.substring(i.raw.length),r.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),r.push(i);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},l),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){a=r[r.length-1],n&&(a==null?void 0:a.type)==="paragraph"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i),n=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),a=r[r.length-1],a&&a.type==="text"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let n,i,a,s=e,o,l,u;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)h.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,o.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(n=h.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(e,s,u)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),r.push(n);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const f=e.slice(1);let d;this.options.extensions.startInline.forEach(p=>{d=p.call({lexer:this},f),typeof d=="number"&&d>=0&&(h=Math.min(h,d))}),h<1/0&&h>=0&&(a=e.substring(0,h+1))}if(n=this.tokenizer.inlineText(a)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),l=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return r}}class oS{constructor(e){Kr(this,"options");Kr(this,"parser");this.options=e||bp}space(e){return""}code({text:e,lang:r,escaped:n}){var s;const i=(s=(r||"").match(/^\S*/))==null?void 0:s[0],a=e.replace(/\n$/,"")+`
`;return i?'<pre><code class="language-'+Io(i)+'">'+(n?a:Io(a,!0))+`</code></pre>
`:"<pre><code>"+(n?a:Io(a,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:r}){return`<h${r}>${this.parser.parseInline(e)}</h${r}>
`}hr(e){return`<hr>
`}list(e){const r=e.ordered,n=e.start;let i="";for(let o=0;o<e.items.length;o++){const l=e.items[o];i+=this.listitem(l)}const a=r?"ol":"ul",s=r&&n!==1?' start="'+n+'"':"";return"<"+a+s+`>
`+i+"</"+a+`>
`}listitem(e){let r="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):r+=n+" "}return r+=this.parser.parse(e.tokens,!!e.loose),`<li>${r}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let r="",n="";for(let a=0;a<e.header.length;a++)n+=this.tablecell(e.header[a]);r+=this.tablerow({text:n});let i="";for(let a=0;a<e.rows.length;a++){const s=e.rows[a];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const r=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:r,tokens:n}){const i=this.parser.parseInline(n),a=rz(e);if(a===null)return i;e=a;let s='<a href="'+e+'"';return r&&(s+=' title="'+r+'"'),s+=">"+i+"</a>",s}image({href:e,title:r,text:n}){const i=rz(e);if(i===null)return n;e=i;let a=`<img src="${e}" alt="${n}"`;return r&&(a+=` title="${r}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class eM{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Wu{constructor(e){Kr(this,"options");Kr(this,"renderer");Kr(this,"textRenderer");this.options=e||bp,this.options.renderer=this.options.renderer||new oS,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new eM}static parse(e,r){return new Wu(r).parse(e)}static parseInline(e,r){return new Wu(r).parseInline(e)}parse(e,r=!0){let n="";for(let i=0;i<e.length;i++){const a=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=a,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){n+=l||"";continue}}const s=a;switch(s.type){case"space":{n+=this.renderer.space(s);continue}case"hr":{n+=this.renderer.hr(s);continue}case"heading":{n+=this.renderer.heading(s);continue}case"code":{n+=this.renderer.code(s);continue}case"table":{n+=this.renderer.table(s);continue}case"blockquote":{n+=this.renderer.blockquote(s);continue}case"list":{n+=this.renderer.list(s);continue}case"html":{n+=this.renderer.html(s);continue}case"paragraph":{n+=this.renderer.paragraph(s);continue}case"text":{let o=s,l=this.renderer.text(o);for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],l+=`
`+this.renderer.text(o);r?n+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l}]}):n+=l;continue}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,r){r=r||this.renderer;let n="";for(let i=0;i<e.length;i++){const a=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){n+=o||"";continue}}const s=a;switch(s.type){case"escape":{n+=r.text(s);break}case"html":{n+=r.html(s);break}case"link":{n+=r.link(s);break}case"image":{n+=r.image(s);break}case"strong":{n+=r.strong(s);break}case"em":{n+=r.em(s);break}case"codespan":{n+=r.codespan(s);break}case"br":{n+=r.br(s);break}case"del":{n+=r.del(s);break}case"text":{n+=r.text(s);break}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}}class _2{constructor(e){Kr(this,"options");this.options=e||bp}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}Kr(_2,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Eh,NJ,D_,IJ;class REe{constructor(...e){oF(this,Eh);Kr(this,"defaults",XR());Kr(this,"options",this.setOptions);Kr(this,"parse",ey(this,Eh,D_).call(this,Gu.lex,Wu.parse));Kr(this,"parseInline",ey(this,Eh,D_).call(this,Gu.lexInline,Wu.parseInline));Kr(this,"Parser",Wu);Kr(this,"Renderer",oS);Kr(this,"TextRenderer",eM);Kr(this,"Lexer",Gu);Kr(this,"Tokenizer",aS);Kr(this,"Hooks",_2);this.use(...e)}walkTokens(e,r){var i,a;let n=[];for(const s of e)switch(n=n.concat(r.call(this,s)),s.type){case"table":{const o=s;for(const l of o.header)n=n.concat(this.walkTokens(l.tokens,r));for(const l of o.rows)for(const u of l)n=n.concat(this.walkTokens(u.tokens,r));break}case"list":{const o=s;n=n.concat(this.walkTokens(o.items,r));break}default:{const o=s;(a=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&a[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{const u=o[l].flat(1/0);n=n.concat(this.walkTokens(u,r))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,r)))}}return n}use(...e){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const s=r.renderers[a.name];s?r.renderers[a.name]=function(...o){let l=a.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:r.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=r[a.level];s?s.unshift(a.tokenizer):r[a.level]=[a.tokenizer],a.start&&(a.level==="block"?r.startBlock?r.startBlock.push(a.start):r.startBlock=[a.start]:a.level==="inline"&&(r.startInline?r.startInline.push(a.start):r.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(r.childTokens[a.name]=a.childTokens)}),i.extensions=r),n.renderer){const a=this.defaults.renderer||new oS(this.defaults);for(const s in n.renderer){if(!(s in a))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const o=s;let l=n.renderer[o];n.useNewRenderer||(l=ey(this,Eh,NJ).call(this,l,o,a));const u=a[o];a[o]=(...h)=>{let f=l.apply(a,h);return f===!1&&(f=u.apply(a,h)),f||""}}i.renderer=a}if(n.tokenizer){const a=this.defaults.tokenizer||new aS(this.defaults);for(const s in n.tokenizer){if(!(s in a))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const o=s,l=n.tokenizer[o],u=a[o];a[o]=(...h)=>{let f=l.apply(a,h);return f===!1&&(f=u.apply(a,h)),f}}i.tokenizer=a}if(n.hooks){const a=this.defaults.hooks||new _2;for(const s in n.hooks){if(!(s in a))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const o=s,l=n.hooks[o],u=a[o];_2.passThroughHooks.has(s)?a[o]=h=>{if(this.defaults.async)return Promise.resolve(l.call(a,h)).then(d=>u.call(a,d));const f=l.call(a,h);return u.call(a,f)}:a[o]=(...h)=>{let f=l.apply(a,h);return f===!1&&(f=u.apply(a,h)),f}}i.hooks=a}if(n.walkTokens){const a=this.defaults.walkTokens,s=n.walkTokens;i.walkTokens=function(o){let l=[];return l.push(s.call(this,o)),a&&(l=l.concat(a.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return Gu.lex(e,r??this.defaults)}parser(e,r){return Wu.parse(e,r??this.defaults)}}Eh=new WeakSet,NJ=function(e,r,n){switch(r){case"heading":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,n.parser.parseInline(i.tokens),i.depth,tEe(n.parser.parseInline(i.tokens,n.parser.textRenderer)))};case"code":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text,i.lang,!!i.escaped)};case"table":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);let a="",s="";for(let l=0;l<i.header.length;l++)s+=this.tablecell({text:i.header[l].text,tokens:i.header[l].tokens,header:!0,align:i.align[l]});a+=this.tablerow({text:s});let o="";for(let l=0;l<i.rows.length;l++){const u=i.rows[l];s="";for(let h=0;h<u.length;h++)s+=this.tablecell({text:u[h].text,tokens:u[h].tokens,header:!1,align:i.align[h]});o+=this.tablerow({text:s})}return e.call(this,a,o)};case"blockquote":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);const a=this.parser.parse(i.tokens);return e.call(this,a)};case"list":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);const a=i.ordered,s=i.start,o=i.loose;let l="";for(let u=0;u<i.items.length;u++){const h=i.items[u],f=h.checked,d=h.task;let p="";if(h.task){const m=this.checkbox({checked:!!f});o?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=m+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=m+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:m+" "}):p+=m+" "}p+=this.parser.parse(h.tokens,o),l+=this.listitem({type:"list_item",raw:p,text:p,task:d,checked:!!f,loose:o,tokens:h.tokens})}return e.call(this,l,a,s)};case"html":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text,i.block)};case"paragraph":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"escape":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text)};case"link":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.href,i.title,this.parser.parseInline(i.tokens))};case"image":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.href,i.title,i.text)};case"strong":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"em":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"codespan":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text)};case"del":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"text":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text)}}return e},D_=function(e,r){return(n,i)=>{const a={...i},s={...this.defaults,...a};this.defaults.async===!0&&a.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const o=ey(this,Eh,IJ).call(this,!!s.silent,!!s.async);if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(l=>e(l,s)).then(l=>s.hooks?s.hooks.processAllTokens(l):l).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>r(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let l=e(n,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let u=r(l,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(l){return o(l)}}},IJ=function(e,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Io(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}};const U0=new REe;function gn(t,e){return U0.parse(t,e)}gn.options=gn.setOptions=function(t){return U0.setOptions(t),gn.defaults=U0.defaults,kJ(gn.defaults),gn};gn.getDefaults=XR;gn.defaults=bp;gn.use=function(...t){return U0.use(...t),gn.defaults=U0.defaults,kJ(gn.defaults),gn};gn.walkTokens=function(t,e){return U0.walkTokens(t,e)};gn.parseInline=U0.parseInline;gn.Parser=Wu;gn.parser=Wu.parse;gn.Renderer=oS;gn.TextRenderer=eM;gn.Lexer=Gu;gn.lexer=Gu.lex;gn.Tokenizer=aS;gn.Hooks=_2;gn.parse=gn;gn.options;gn.setOptions;gn.use;gn.walkTokens;gn.parseInline;Wu.parse;Gu.lex;function OJ(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Array.from(typeof t=="string"?[t]:t);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(o,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?o.concat(u.map(function(h){var f,d;return(d=(f=h.match(/[\t ]/g))===null||f===void 0?void 0:f.length)!==null&&d!==void 0?d:0})):o},[]);if(i.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(o){return o.replace(a,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var s=n[0];return e.forEach(function(o,l){var u=s.match(/(?:^|\n)( *)$/),h=u?u[1]:"",f=o;typeof o=="string"&&o.includes(`
`)&&(f=String(o).split(`
`).map(function(d,p){return p===0?d:""+h+d}).join(`
`)),s+=f+n[l+1]}),s}function PJ(t,{markdownAutoWrap:e}){const n=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=OJ(n);return e===!1?i.replace(/ /g,"&nbsp;"):i}k(PJ,"preprocessMarkdown");function FJ(t,e={}){const r=PJ(t,e),n=gn.lexer(r),i=[[]];let a=0;function s(o,l="normal"){o.type==="text"?o.text.split(`
`).forEach((h,f)=>{f!==0&&(a++,i.push([])),h.split(" ").forEach(d=>{d=d.replace(/&#39;/g,"'"),d&&i[a].push({content:d,type:l})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(u=>{s(u,o.type)}):o.type==="html"&&i[a].push({content:o.text,type:"normal"})}return k(s,"processNode"),n.forEach(o=>{var l;o.type==="paragraph"?(l=o.tokens)==null||l.forEach(u=>{s(u)}):o.type==="html"&&i[a].push({content:o.text,type:"normal"})}),i}k(FJ,"markdownToLines");function BJ(t,{markdownAutoWrap:e}={}){const r=gn.lexer(t);function n(i){var a,s,o;return i.type==="text"?e===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${(a=i.tokens)==null?void 0:a.map(n).join("")}</strong>`:i.type==="em"?`<em>${(s=i.tokens)==null?void 0:s.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${(o=i.tokens)==null?void 0:o.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:`Unsupported markdown: ${i.type}`}return k(n,"output"),r.map(n).join("")}k(BJ,"markdownToHTML");function $J(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}k($J,"splitTextToChars");function zJ(t,e){const r=$J(e.content);return tM(t,[],r,e.type)}k(zJ,"splitWordToFitWidth");function tM(t,e,r,n){if(r.length===0)return[{content:e.join(""),type:n},{content:"",type:n}];const[i,...a]=r,s=[...e,i];return t([{content:s.join(""),type:n}])?tM(t,s,a,n):(e.length===0&&i&&(e.push(i),r.shift()),[{content:e.join(""),type:n},{content:r.join(""),type:n}])}k(tM,"splitWordToFitWidthRecursion");function HJ(t,e){if(t.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return lS(t,e)}k(HJ,"splitLineToFitWidth");function lS(t,e,r=[],n=[]){if(t.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";t[0].content===" "&&(i=" ",t.shift());const a=t.shift()??{content:" ",type:"normal"},s=[...n];if(i!==""&&s.push({content:i,type:"normal"}),s.push(a),e(s))return lS(t,e,r,s);if(n.length>0)r.push(n),t.unshift(a);else if(a.content){const[o,l]=zJ(e,a);r.push([o]),l.content&&t.unshift(l)}return lS(t,e,r)}k(lS,"splitLineToFitWidthRecursion");function R_(t,e){e&&t.attr("style",e)}k(R_,"applyStyle");async function VJ(t,e,r,n,i=!1){const a=t.append("foreignObject");a.attr("width",`${10*r}px`),a.attr("height",`${10*r}px`);const s=a.append("xhtml:div");let o=e.label;e.label&&ms(e.label)&&(o=await hb(e.label.replace(At.lineBreakRegex,`
`),Ue()));const l=e.isNode?"nodeLabel":"edgeLabel",u=s.append("span");u.html(o),R_(u,e.labelStyle),u.attr("class",`${l} ${n}`),R_(s,e.labelStyle),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("line-height","1.5"),s.style("max-width",r+"px"),s.style("text-align","center"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&s.attr("class","labelBkg");let h=s.node().getBoundingClientRect();return h.width===r&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",r+"px"),h=s.node().getBoundingClientRect()),a.node()}k(VJ,"addHtmlSpan");function xE(t,e,r){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*r-.1+"em").attr("dy",r+"em")}k(xE,"createTspan");function UJ(t,e,r){const n=t.append("text"),i=xE(n,1,e);bE(i,r);const a=i.node().getComputedTextLength();return n.remove(),a}k(UJ,"computeWidthOfText");function GJ(t,e,r){var s;const n=t.append("text"),i=xE(n,1,e);bE(i,[{content:r,type:"normal"}]);const a=(s=i.node())==null?void 0:s.getBoundingClientRect();return a&&n.remove(),a}k(GJ,"computeDimensionOfText");function WJ(t,e,r,n=!1){const a=e.append("g"),s=a.insert("rect").attr("class","background").attr("style","stroke: none"),o=a.append("text").attr("y","-10.1");let l=0;for(const u of r){const h=k(d=>UJ(a,1.1,d)<=t,"checkWidth"),f=h(u)?[u]:HJ(u,h);for(const d of f){const p=xE(o,l,1.1);bE(p,d),l++}}if(n){const u=o.node().getBBox(),h=2;return s.attr("x",u.x-h).attr("y",u.y-h).attr("width",u.width+2*h).attr("height",u.height+2*h),a.node()}else return o.node()}k(WJ,"createFormattedText");function bE(t,e){t.text(""),e.forEach((r,n)=>{const i=t.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}k(bE,"updateTextContentAndStyles");function rM(t){return t.replace(/fa[bklrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`)}k(rM,"replaceIconSubstring");var Fl=k(async(t,e="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:a=!0,isNode:s=!0,width:o=200,addSvgBackground:l=!1}={},u)=>{if(Ee.debug("XYZ createText",e,r,n,i,a,s,"addSvgBackground: ",l),a){const h=BJ(e,u),f=rM(dh(h)),d=e.replace(/\\\\/g,"\\"),p={isNode:s,label:ms(e)?d:f,labelStyle:r.replace("fill:","color:")};return await VJ(t,p,o,i,l)}else{const h=e.replace(/<br\s*\/?>/g,"<br/>"),f=FJ(h.replace("<br>","<br/>"),u),d=WJ(o,t,f,e?l:!1);if(s){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");bt(d).attr("style",p)}else{const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");bt(d).select("rect").attr("style",p.replace(/background:/g,"fill:"));const m=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");bt(d).select("text").attr("style",m)}return d}},"createText");function m7(t,e,r){if(t&&t.length){const[n,i]=e,a=Math.PI/180*r,s=Math.cos(a),o=Math.sin(a);for(const l of t){const[u,h]=l;l[0]=(u-n)*s-(h-i)*o+n,l[1]=(u-n)*o+(h-i)*s+i}}}function MEe(t,e){return t[0]===e[0]&&t[1]===e[1]}function NEe(t,e,r,n=1){const i=r,a=Math.max(e,.1),s=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,o=[0,0];if(i)for(const u of s)m7(u,o,i);const l=function(u,h,f){const d=[];for(const w of u){const S=[...w];MEe(S[0],S[S.length-1])||S.push([S[0][0],S[0][1]]),S.length>2&&d.push(S)}const p=[];h=Math.max(h,.1);const m=[];for(const w of d)for(let S=0;S<w.length-1;S++){const E=w[S],C=w[S+1];if(E[1]!==C[1]){const L=Math.min(E[1],C[1]);m.push({ymin:L,ymax:Math.max(E[1],C[1]),x:L===E[1]?E[0]:C[0],islope:(C[0]-E[0])/(C[1]-E[1])})}}if(m.sort((w,S)=>w.ymin<S.ymin?-1:w.ymin>S.ymin?1:w.x<S.x?-1:w.x>S.x?1:w.ymax===S.ymax?0:(w.ymax-S.ymax)/Math.abs(w.ymax-S.ymax)),!m.length)return p;let v=[],x=m[0].ymin,y=0;for(;v.length||m.length;){if(m.length){let w=-1;for(let S=0;S<m.length&&!(m[S].ymin>x);S++)w=S;m.splice(0,w+1).forEach(S=>{v.push({s:x,edge:S})})}if(v=v.filter(w=>!(w.edge.ymax<=x)),v.sort((w,S)=>w.edge.x===S.edge.x?0:(w.edge.x-S.edge.x)/Math.abs(w.edge.x-S.edge.x)),(f!==1||y%h==0)&&v.length>1)for(let w=0;w<v.length;w+=2){const S=w+1;if(S>=v.length)break;const E=v[w].edge,C=v[S].edge;p.push([[Math.round(E.x),x],[Math.round(C.x),x]])}x+=f,v.forEach(w=>{w.edge.x=w.edge.x+f*w.edge.islope}),y++}return p}(s,a,n);if(i){for(const u of s)m7(u,o,-i);(function(u,h,f){const d=[];u.forEach(p=>d.push(...p)),m7(d,h,f)})(l,o,-i)}return l}function Tb(t,e){var r;const n=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let a=1;return e.roughness>=1&&(((r=e.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(a=i),NEe(t,i,n,a||1)}class nM{constructor(e){this.helper=e}fillPolygons(e,r){return this._fillPolygons(e,r)}_fillPolygons(e,r){const n=Tb(e,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(e,r){const n=[];for(const i of e)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function wE(t){const e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}class IEe extends nM{fillPolygons(e,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=Tb(e,Object.assign({},r,{hachureGap:n})),a=Math.PI/180*r.hachureAngle,s=[],o=.5*n*Math.cos(a),l=.5*n*Math.sin(a);for(const[u,h]of i)wE([u,h])&&s.push([[u[0]-o,u[1]+l],[...h]],[[u[0]+o,u[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(s,r)}}}class OEe extends nM{fillPolygons(e,r){const n=this._fillPolygons(e,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),a=this._fillPolygons(e,i);return n.ops=n.ops.concat(a.ops),n}}let PEe=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=Tb(e,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(e,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let a=r.fillWeight;a<0&&(a=r.strokeWidth/2);const s=i/4;for(const o of e){const l=wE(o),u=l/i,h=Math.ceil(u)-1,f=l-h*i,d=(o[0][0]+o[1][0])/2-i/4,p=Math.min(o[0][1],o[1][1]);for(let m=0;m<h;m++){const v=p+f+m*i,x=d-s+2*Math.random()*s,y=v-s+2*Math.random()*s,w=this.helper.ellipse(x,y,a,a,r);n.push(...w.ops)}}return{type:"fillSketch",ops:n}}},FEe=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=Tb(e,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(e,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,a=[];return e.forEach(s=>{const o=wE(s),l=Math.floor(o/(n+i)),u=(o+i-l*(n+i))/2;let h=s[0],f=s[1];h[0]>f[0]&&(h=s[1],f=s[0]);const d=Math.atan((f[1]-h[1])/(f[0]-h[0]));for(let p=0;p<l;p++){const m=p*(n+i),v=m+n,x=[h[0]+m*Math.cos(d)+u*Math.cos(d),h[1]+m*Math.sin(d)+u*Math.sin(d)],y=[h[0]+v*Math.cos(d)+u*Math.cos(d),h[1]+v*Math.sin(d)+u*Math.sin(d)];a.push(...this.helper.doubleLineOps(x[0],x[1],y[0],y[1],r))}}),a}};class BEe{constructor(e){this.helper=e}fillPolygons(e,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,a=Tb(e,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(a,i,r)}}zigzagLines(e,r,n){const i=[];return e.forEach(a=>{const s=wE(a),o=Math.round(s/(2*r));let l=a[0],u=a[1];l[0]>u[0]&&(l=a[1],u=a[0]);const h=Math.atan((u[1]-l[1])/(u[0]-l[0]));for(let f=0;f<o;f++){const d=2*f*r,p=2*(f+1)*r,m=Math.sqrt(2*Math.pow(r,2)),v=[l[0]+d*Math.cos(h),l[1]+d*Math.sin(h)],x=[l[0]+p*Math.cos(h),l[1]+p*Math.sin(h)],y=[v[0]+m*Math.cos(h+Math.PI/4),v[1]+m*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(v[0],v[1],y[0],y[1],n),...this.helper.doubleLineOps(y[0],y[1],x[0],x[1],n))}}),i}}const eo={};let $Ee=class{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const zEe=0,v7=1,sz=2,lw={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function y7(t,e){return t.type===e}function iM(t){const e=[],r=function(s){const o=new Array;for(;s!=="";)if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:zEe,text:RegExp.$1},s=s.substr(RegExp.$1.length);else{if(!s.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:v7,text:`${parseFloat(RegExp.$1)}`},s=s.substr(RegExp.$1.length)}return o[o.length]={type:sz,text:""},o}(t);let n="BOD",i=0,a=r[i];for(;!y7(a,sz);){let s=0;const o=[];if(n==="BOD"){if(a.text!=="M"&&a.text!=="m")return iM("M0,0"+t);i++,s=lw[a.text],n=a.text}else y7(a,v7)?s=lw[n]:(i++,s=lw[a.text],n=a.text);if(!(i+s<r.length))throw new Error("Path data ended short");for(let l=i;l<i+s;l++){const u=r[l];if(!y7(u,v7))throw new Error("Param not a number: "+n+","+u.text);o[o.length]=+u.text}if(typeof lw[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:o};e.push(l),i+=s,a=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return e}function qJ(t){let e=0,r=0,n=0,i=0;const a=[];for(const{key:s,data:o}of t)switch(s){case"M":a.push({key:"M",data:[...o]}),[e,r]=o,[n,i]=o;break;case"m":e+=o[0],r+=o[1],a.push({key:"M",data:[e,r]}),n=e,i=r;break;case"L":a.push({key:"L",data:[...o]}),[e,r]=o;break;case"l":e+=o[0],r+=o[1],a.push({key:"L",data:[e,r]});break;case"C":a.push({key:"C",data:[...o]}),e=o[4],r=o[5];break;case"c":{const l=o.map((u,h)=>h%2?u+r:u+e);a.push({key:"C",data:l}),e=l[4],r=l[5];break}case"Q":a.push({key:"Q",data:[...o]}),e=o[2],r=o[3];break;case"q":{const l=o.map((u,h)=>h%2?u+r:u+e);a.push({key:"Q",data:l}),e=l[2],r=l[3];break}case"A":a.push({key:"A",data:[...o]}),e=o[5],r=o[6];break;case"a":e+=o[5],r+=o[6],a.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],e,r]});break;case"H":a.push({key:"H",data:[...o]}),e=o[0];break;case"h":e+=o[0],a.push({key:"H",data:[e]});break;case"V":a.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...o]}),e=o[2],r=o[3];break;case"s":{const l=o.map((u,h)=>h%2?u+r:u+e);a.push({key:"S",data:l}),e=l[2],r=l[3];break}case"T":a.push({key:"T",data:[...o]}),e=o[0],r=o[1];break;case"t":e+=o[0],r+=o[1],a.push({key:"T",data:[e,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),e=n,r=i}return a}function YJ(t){const e=[];let r="",n=0,i=0,a=0,s=0,o=0,l=0;for(const{key:u,data:h}of t){switch(u){case"M":e.push({key:"M",data:[...h]}),[n,i]=h,[a,s]=h;break;case"C":e.push({key:"C",data:[...h]}),n=h[4],i=h[5],o=h[2],l=h[3];break;case"L":e.push({key:"L",data:[...h]}),[n,i]=h;break;case"H":n=h[0],e.push({key:"L",data:[n,i]});break;case"V":i=h[0],e.push({key:"L",data:[n,i]});break;case"S":{let f=0,d=0;r==="C"||r==="S"?(f=n+(n-o),d=i+(i-l)):(f=n,d=i),e.push({key:"C",data:[f,d,...h]}),o=h[0],l=h[1],n=h[2],i=h[3];break}case"T":{const[f,d]=h;let p=0,m=0;r==="Q"||r==="T"?(p=n+(n-o),m=i+(i-l)):(p=n,m=i);const v=n+2*(p-n)/3,x=i+2*(m-i)/3,y=f+2*(p-f)/3,w=d+2*(m-d)/3;e.push({key:"C",data:[v,x,y,w,f,d]}),o=p,l=m,n=f,i=d;break}case"Q":{const[f,d,p,m]=h,v=n+2*(f-n)/3,x=i+2*(d-i)/3,y=p+2*(f-p)/3,w=m+2*(d-m)/3;e.push({key:"C",data:[v,x,y,w,p,m]}),o=f,l=d,n=p,i=m;break}case"A":{const f=Math.abs(h[0]),d=Math.abs(h[1]),p=h[2],m=h[3],v=h[4],x=h[5],y=h[6];f===0||d===0?(e.push({key:"C",data:[n,i,x,y,x,y]}),n=x,i=y):(n!==x||i!==y)&&(XJ(n,i,x,y,f,d,p,m,v).forEach(function(w){e.push({key:"C",data:w})}),n=x,i=y);break}case"Z":e.push({key:"Z",data:[]}),n=a,i=s}r=u}return e}function Ey(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function XJ(t,e,r,n,i,a,s,o,l,u){const h=(f=s,Math.PI*f/180);var f;let d=[],p=0,m=0,v=0,x=0;if(u)[p,m,v,x]=u;else{[t,e]=Ey(t,e,-h),[r,n]=Ey(r,n,-h);const H=(t-r)/2,R=(e-n)/2;let O=H*H/(i*i)+R*R/(a*a);O>1&&(O=Math.sqrt(O),i*=O,a*=O);const P=i*i,z=a*a,$=P*z-P*R*R-z*H*H,V=P*R*R+z*H*H,X=(o===l?-1:1)*Math.sqrt(Math.abs($/V));v=X*i*R/a+(t+r)/2,x=X*-a*H/i+(e+n)/2,p=Math.asin(parseFloat(((e-x)/a).toFixed(9))),m=Math.asin(parseFloat(((n-x)/a).toFixed(9))),t<v&&(p=Math.PI-p),r<v&&(m=Math.PI-m),p<0&&(p=2*Math.PI+p),m<0&&(m=2*Math.PI+m),l&&p>m&&(p-=2*Math.PI),!l&&m>p&&(m-=2*Math.PI)}let y=m-p;if(Math.abs(y)>120*Math.PI/180){const H=m,R=r,O=n;m=l&&m>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,d=XJ(r=v+i*Math.cos(m),n=x+a*Math.sin(m),R,O,i,a,s,0,l,[m,H,v,x])}y=m-p;const w=Math.cos(p),S=Math.sin(p),E=Math.cos(m),C=Math.sin(m),L=Math.tan(y/4),_=4/3*i*L,I=4/3*a*L,D=[t,e],F=[t+_*S,e-I*w],M=[r+_*C,n-I*E],B=[r,n];if(F[0]=2*D[0]-F[0],F[1]=2*D[1]-F[1],u)return[F,M,B].concat(d);{d=[F,M,B].concat(d);const H=[];for(let R=0;R<d.length;R+=3){const O=Ey(d[R][0],d[R][1],h),P=Ey(d[R+1][0],d[R+1][1],h),z=Ey(d[R+2][0],d[R+2][1],h);H.push([O[0],O[1],P[0],P[1],z[0],z[1]])}return H}}const HEe={randOffset:function(t,e){return Cr(t,e)},randOffsetWithRange:function(t,e,r){return uS(t,e,r)},ellipse:function(t,e,r,n,i){const a=KJ(r,n,i);return M_(t,e,i,a).opset},doubleLineOps:function(t,e,r,n,i){return Vf(t,e,r,n,i,!0)}};function jJ(t,e,r,n,i){return{type:"path",ops:Vf(t,e,r,n,i)}}function v3(t,e,r){const n=(t||[]).length;if(n>2){const i=[];for(let a=0;a<n-1;a++)i.push(...Vf(t[a][0],t[a][1],t[a+1][0],t[a+1][1],r));return e&&i.push(...Vf(t[n-1][0],t[n-1][1],t[0][0],t[0][1],r)),{type:"path",ops:i}}return n===2?jJ(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function VEe(t,e,r,n,i){return function(a,s){return v3(a,!0,s)}([[t,e],[t+r,e],[t+r,e+n],[t,e+n]],i)}function oz(t,e){if(t.length){const r=typeof t[0][0]=="number"?[t]:t,n=uw(r[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:uw(r[0],1.5*(1+.22*e.roughness),cz(e));for(let a=1;a<r.length;a++){const s=r[a];if(s.length){const o=uw(s,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:uw(s,1.5*(1+.22*e.roughness),cz(e));for(const u of o)u.op!=="move"&&n.push(u);for(const u of l)u.op!=="move"&&i.push(u)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function KJ(t,e,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),a=2*Math.PI/i;let s=Math.abs(t/2),o=Math.abs(e/2);const l=1-r.curveFitting;return s+=Cr(s*l,r),o+=Cr(o*l,r),{increment:a,rx:s,ry:o}}function M_(t,e,r,n){const[i,a]=hz(n.increment,t,e,n.rx,n.ry,1,n.increment*uS(.1,uS(.4,1,r),r),r);let s=cS(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=hz(n.increment,t,e,n.rx,n.ry,1.5,0,r),l=cS(o,null,r);s=s.concat(l)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function lz(t,e,r,n,i,a,s,o,l){const u=t,h=e;let f=Math.abs(r/2),d=Math.abs(n/2);f+=Cr(.01*f,l),d+=Cr(.01*d,l);let p=i,m=a;for(;p<0;)p+=2*Math.PI,m+=2*Math.PI;m-p>2*Math.PI&&(p=0,m=2*Math.PI);const v=2*Math.PI/l.curveStepCount,x=Math.min(v/2,(m-p)/2),y=fz(x,u,h,f,d,p,m,1,l);if(!l.disableMultiStroke){const w=fz(x,u,h,f,d,p,m,1.5,l);y.push(...w)}return s&&(o?y.push(...Vf(u,h,u+f*Math.cos(p),h+d*Math.sin(p),l),...Vf(u,h,u+f*Math.cos(m),h+d*Math.sin(m),l)):y.push({op:"lineTo",data:[u,h]},{op:"lineTo",data:[u+f*Math.cos(p),h+d*Math.sin(p)]})),{type:"path",ops:y}}function uz(t,e){const r=YJ(qJ(iM(t))),n=[];let i=[0,0],a=[0,0];for(const{key:s,data:o}of r)switch(s){case"M":a=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...Vf(a[0],a[1],o[0],o[1],e)),a=[o[0],o[1]];break;case"C":{const[l,u,h,f,d,p]=o;n.push(...UEe(l,u,h,f,d,p,a,e)),a=[d,p];break}case"Z":n.push(...Vf(a[0],a[1],i[0],i[1],e)),a=[i[0],i[1]]}return{type:"path",ops:n}}function x7(t,e){const r=[];for(const n of t)if(n.length){const i=e.maxRandomnessOffset||0,a=n.length;if(a>2){r.push({op:"move",data:[n[0][0]+Cr(i,e),n[0][1]+Cr(i,e)]});for(let s=1;s<a;s++)r.push({op:"lineTo",data:[n[s][0]+Cr(i,e),n[s][1]+Cr(i,e)]})}}return{type:"fillPath",ops:r}}function ag(t,e){return function(r,n){let i=r.fillStyle||"hachure";if(!eo[i])switch(i){case"zigzag":eo[i]||(eo[i]=new IEe(n));break;case"cross-hatch":eo[i]||(eo[i]=new OEe(n));break;case"dots":eo[i]||(eo[i]=new PEe(n));break;case"dashed":eo[i]||(eo[i]=new FEe(n));break;case"zigzag-line":eo[i]||(eo[i]=new BEe(n));break;default:i="hachure",eo[i]||(eo[i]=new nM(n))}return eo[i]}(e,HEe).fillPolygons(t,e)}function cz(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function QJ(t){return t.randomizer||(t.randomizer=new $Ee(t.seed||0)),t.randomizer.next()}function uS(t,e,r,n=1){return r.roughness*n*(QJ(r)*(e-t)+t)}function Cr(t,e,r=1){return uS(-t,t,e,r)}function Vf(t,e,r,n,i,a=!1){const s=a?i.disableMultiStrokeFill:i.disableMultiStroke,o=N_(t,e,r,n,i,!0,!1);if(s)return o;const l=N_(t,e,r,n,i,!0,!0);return o.concat(l)}function N_(t,e,r,n,i,a,s){const o=Math.pow(t-r,2)+Math.pow(e-n,2),l=Math.sqrt(o);let u=1;u=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>o&&(h=l/10);const f=h/2,d=.2+.2*QJ(i);let p=i.bowing*i.maxRandomnessOffset*(n-e)/200,m=i.bowing*i.maxRandomnessOffset*(t-r)/200;p=Cr(p,i,u),m=Cr(m,i,u);const v=[],x=()=>Cr(f,i,u),y=()=>Cr(h,i,u),w=i.preserveVertices;return s?v.push({op:"move",data:[t+(w?0:x()),e+(w?0:x())]}):v.push({op:"move",data:[t+(w?0:Cr(h,i,u)),e+(w?0:Cr(h,i,u))]}),s?v.push({op:"bcurveTo",data:[p+t+(r-t)*d+x(),m+e+(n-e)*d+x(),p+t+2*(r-t)*d+x(),m+e+2*(n-e)*d+x(),r+(w?0:x()),n+(w?0:x())]}):v.push({op:"bcurveTo",data:[p+t+(r-t)*d+y(),m+e+(n-e)*d+y(),p+t+2*(r-t)*d+y(),m+e+2*(n-e)*d+y(),r+(w?0:y()),n+(w?0:y())]}),v}function uw(t,e,r){if(!t.length)return[];const n=[];n.push([t[0][0]+Cr(e,r),t[0][1]+Cr(e,r)]),n.push([t[0][0]+Cr(e,r),t[0][1]+Cr(e,r)]);for(let i=1;i<t.length;i++)n.push([t[i][0]+Cr(e,r),t[i][1]+Cr(e,r)]),i===t.length-1&&n.push([t[i][0]+Cr(e,r),t[i][1]+Cr(e,r)]);return cS(n,null,r)}function cS(t,e,r){const n=t.length,i=[];if(n>3){const a=[],s=1-r.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let o=1;o+2<n;o++){const l=t[o];a[0]=[l[0],l[1]],a[1]=[l[0]+(s*t[o+1][0]-s*t[o-1][0])/6,l[1]+(s*t[o+1][1]-s*t[o-1][1])/6],a[2]=[t[o+1][0]+(s*t[o][0]-s*t[o+2][0])/6,t[o+1][1]+(s*t[o][1]-s*t[o+2][1])/6],a[3]=[t[o+1][0],t[o+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}}else n===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):n===2&&i.push(...N_(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return i}function hz(t,e,r,n,i,a,s,o){const l=[],u=[];if(o.roughness===0){t/=4,u.push([e+n*Math.cos(-t),r+i*Math.sin(-t)]);for(let h=0;h<=2*Math.PI;h+=t){const f=[e+n*Math.cos(h),r+i*Math.sin(h)];l.push(f),u.push(f)}u.push([e+n*Math.cos(0),r+i*Math.sin(0)]),u.push([e+n*Math.cos(t),r+i*Math.sin(t)])}else{const h=Cr(.5,o)-Math.PI/2;u.push([Cr(a,o)+e+.9*n*Math.cos(h-t),Cr(a,o)+r+.9*i*Math.sin(h-t)]);const f=2*Math.PI+h-.01;for(let d=h;d<f;d+=t){const p=[Cr(a,o)+e+n*Math.cos(d),Cr(a,o)+r+i*Math.sin(d)];l.push(p),u.push(p)}u.push([Cr(a,o)+e+n*Math.cos(h+2*Math.PI+.5*s),Cr(a,o)+r+i*Math.sin(h+2*Math.PI+.5*s)]),u.push([Cr(a,o)+e+.98*n*Math.cos(h+s),Cr(a,o)+r+.98*i*Math.sin(h+s)]),u.push([Cr(a,o)+e+.9*n*Math.cos(h+.5*s),Cr(a,o)+r+.9*i*Math.sin(h+.5*s)])}return[u,l]}function fz(t,e,r,n,i,a,s,o,l){const u=a+Cr(.1,l),h=[];h.push([Cr(o,l)+e+.9*n*Math.cos(u-t),Cr(o,l)+r+.9*i*Math.sin(u-t)]);for(let f=u;f<=s;f+=t)h.push([Cr(o,l)+e+n*Math.cos(f),Cr(o,l)+r+i*Math.sin(f)]);return h.push([e+n*Math.cos(s),r+i*Math.sin(s)]),h.push([e+n*Math.cos(s),r+i*Math.sin(s)]),cS(h,null,l)}function UEe(t,e,r,n,i,a,s,o){const l=[],u=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let h=[0,0];const f=o.disableMultiStroke?1:2,d=o.preserveVertices;for(let p=0;p<f;p++)p===0?l.push({op:"move",data:[s[0],s[1]]}):l.push({op:"move",data:[s[0]+(d?0:Cr(u[0],o)),s[1]+(d?0:Cr(u[0],o))]}),h=d?[i,a]:[i+Cr(u[p],o),a+Cr(u[p],o)],l.push({op:"bcurveTo",data:[t+Cr(u[p],o),e+Cr(u[p],o),r+Cr(u[p],o),n+Cr(u[p],o),h[0],h[1]]});return l}function Ty(t){return[...t]}function dz(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(Ty(t[0]),Ty(t[1]),Ty(t[2]),Ty(t[2]));else{const i=[];i.push(t[0],t[0]);for(let o=1;o<t.length;o++)i.push(t[o]),o===t.length-1&&i.push(t[o]);const a=[],s=1-e;n.push(Ty(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];a[0]=[l[0],l[1]],a[1]=[l[0]+(s*i[o+1][0]-s*i[o-1][0])/6,l[1]+(s*i[o+1][1]-s*i[o-1][1])/6],a[2]=[i[o+1][0]+(s*i[o][0]-s*i[o+2][0])/6,i[o+1][1]+(s*i[o][1]-s*i[o+2][1])/6],a[3]=[i[o+1][0],i[o+1][1]],n.push(a[1],a[2],a[3])}}return n}function y3(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function GEe(t,e,r){const n=y3(e,r);if(n===0)return y3(t,e);let i=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/n;return i=Math.max(0,Math.min(1,i)),y3(t,Yd(e,r,i))}function Yd(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function I_(t,e,r,n){const i=n||[];if(function(o,l){const u=o[l+0],h=o[l+1],f=o[l+2],d=o[l+3];let p=3*h[0]-2*u[0]-d[0];p*=p;let m=3*h[1]-2*u[1]-d[1];m*=m;let v=3*f[0]-2*d[0]-u[0];v*=v;let x=3*f[1]-2*d[1]-u[1];return x*=x,p<v&&(p=v),m<x&&(m=x),p+m}(t,e)<r){const o=t[e+0];i.length?(a=i[i.length-1],s=o,Math.sqrt(y3(a,s))>1&&i.push(o)):i.push(o),i.push(t[e+3])}else{const l=t[e+0],u=t[e+1],h=t[e+2],f=t[e+3],d=Yd(l,u,.5),p=Yd(u,h,.5),m=Yd(h,f,.5),v=Yd(d,p,.5),x=Yd(p,m,.5),y=Yd(v,x,.5);I_([l,d,v,y],0,r,i),I_([y,x,m,f],0,r,i)}var a,s;return i}function WEe(t,e){return hS(t,0,t.length,e)}function hS(t,e,r,n,i){const a=i||[],s=t[e],o=t[r-1];let l=0,u=1;for(let h=e+1;h<r-1;++h){const f=GEe(t[h],s,o);f>l&&(l=f,u=h)}return Math.sqrt(l)>n?(hS(t,e,u+1,n,a),hS(t,u,r,n,a)):(a.length||a.push(s),a.push(o)),a}function b7(t,e=.15,r){const n=[],i=(t.length-1)/3;for(let a=0;a<i;a++)I_(t,3*a,e,n);return r&&r>0?hS(n,0,n.length,r):n}const Ro="none";class fS{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,r,n){return{shape:e,sets:r||[],options:n||this.defaultOptions}}line(e,r,n,i,a){const s=this._o(a);return this._d("line",[jJ(e,r,n,i,s)],s)}rectangle(e,r,n,i,a){const s=this._o(a),o=[],l=VEe(e,r,n,i,s);if(s.fill){const u=[[e,r],[e+n,r],[e+n,r+i],[e,r+i]];s.fillStyle==="solid"?o.push(x7([u],s)):o.push(ag([u],s))}return s.stroke!==Ro&&o.push(l),this._d("rectangle",o,s)}ellipse(e,r,n,i,a){const s=this._o(a),o=[],l=KJ(n,i,s),u=M_(e,r,s,l);if(s.fill)if(s.fillStyle==="solid"){const h=M_(e,r,s,l).opset;h.type="fillPath",o.push(h)}else o.push(ag([u.estimatedPoints],s));return s.stroke!==Ro&&o.push(u.opset),this._d("ellipse",o,s)}circle(e,r,n,i){const a=this.ellipse(e,r,n,n,i);return a.shape="circle",a}linearPath(e,r){const n=this._o(r);return this._d("linearPath",[v3(e,!1,n)],n)}arc(e,r,n,i,a,s,o=!1,l){const u=this._o(l),h=[],f=lz(e,r,n,i,a,s,o,!0,u);if(o&&u.fill)if(u.fillStyle==="solid"){const d=Object.assign({},u);d.disableMultiStroke=!0;const p=lz(e,r,n,i,a,s,!0,!1,d);p.type="fillPath",h.push(p)}else h.push(function(d,p,m,v,x,y,w){const S=d,E=p;let C=Math.abs(m/2),L=Math.abs(v/2);C+=Cr(.01*C,w),L+=Cr(.01*L,w);let _=x,I=y;for(;_<0;)_+=2*Math.PI,I+=2*Math.PI;I-_>2*Math.PI&&(_=0,I=2*Math.PI);const D=(I-_)/w.curveStepCount,F=[];for(let M=_;M<=I;M+=D)F.push([S+C*Math.cos(M),E+L*Math.sin(M)]);return F.push([S+C*Math.cos(I),E+L*Math.sin(I)]),F.push([S,E]),ag([F],w)}(e,r,n,i,a,s,u));return u.stroke!==Ro&&h.push(f),this._d("arc",h,u)}curve(e,r){const n=this._o(r),i=[],a=oz(e,n);if(n.fill&&n.fill!==Ro)if(n.fillStyle==="solid"){const s=oz(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(s.ops)})}else{const s=[],o=e;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const u of l)u.length<3?s.push(...u):u.length===3?s.push(...b7(dz([u[0],u[0],u[1],u[2]]),10,(1+n.roughness)/2)):s.push(...b7(dz(u),10,(1+n.roughness)/2))}s.length&&i.push(ag([s],n))}return n.stroke!==Ro&&i.push(a),this._d("curve",i,n)}polygon(e,r){const n=this._o(r),i=[],a=v3(e,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(x7([e],n)):i.push(ag([e],n))),n.stroke!==Ro&&i.push(a),this._d("polygon",i,n)}path(e,r){const n=this._o(r),i=[];if(!e)return this._d("path",i,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=n.fill&&n.fill!=="transparent"&&n.fill!==Ro,s=n.stroke!==Ro,o=!!(n.simplification&&n.simplification<1),l=function(h,f,d){const p=YJ(qJ(iM(h))),m=[];let v=[],x=[0,0],y=[];const w=()=>{y.length>=4&&v.push(...b7(y,f)),y=[]},S=()=>{w(),v.length&&(m.push(v),v=[])};for(const{key:C,data:L}of p)switch(C){case"M":S(),x=[L[0],L[1]],v.push(x);break;case"L":w(),v.push([L[0],L[1]]);break;case"C":if(!y.length){const _=v.length?v[v.length-1]:x;y.push([_[0],_[1]])}y.push([L[0],L[1]]),y.push([L[2],L[3]]),y.push([L[4],L[5]]);break;case"Z":w(),v.push([x[0],x[1]])}if(S(),!d)return m;const E=[];for(const C of m){const L=WEe(C,d);L.length&&E.push(L)}return E}(e,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),u=uz(e,n);if(a)if(n.fillStyle==="solid")if(l.length===1){const h=uz(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else i.push(x7(l,n));else i.push(ag(l,n));return s&&(o?l.forEach(h=>{i.push(v3(h,!1,n))}):i.push(u)),this._d("path",i,n)}opsToPath(e,r){let n="";for(const i of e.ops){const a=typeof r=="number"&&r>=0?i.data.map(s=>+s.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":n+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":n+=`L${a[0]} ${a[1]} `}}return n.trim()}toPaths(e){const r=e.sets||[],n=e.options||this.defaultOptions,i=[];for(const a of r){let s=null;switch(a.type){case"path":s={d:this.opsToPath(a),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:Ro};break;case"fillPath":s={d:this.opsToPath(a),stroke:Ro,strokeWidth:0,fill:n.fill||Ro};break;case"fillSketch":s=this.fillSketch(a,n)}s&&i.push(s)}return i}fillSketch(e,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(e),stroke:r.fill||Ro,strokeWidth:n,fill:Ro}}_mergedShape(e){return e.filter((r,n)=>n===0||r.op!=="move")}}class qEe{constructor(e,r){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new fS(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.ctx,a=e.options.fixedDecimalPlaceDigits;for(const s of r)switch(s.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,s,a),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,s,a,o),i.restore();break}case"fillSketch":this.fillSketch(i,s,n)}}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=i,this._drawToContext(e,r,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,r,n,i="nonzero"){e.beginPath();for(const a of r.ops){const s=typeof n=="number"&&n>=0?a.data.map(o=>+o.toFixed(n)):a.data;switch(a.op){case"move":e.moveTo(s[0],s[1]);break;case"bcurveTo":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":e.lineTo(s[0],s[1])}}r.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,r,n,i,a){const s=this.gen.line(e,r,n,i,a);return this.draw(s),s}rectangle(e,r,n,i,a){const s=this.gen.rectangle(e,r,n,i,a);return this.draw(s),s}ellipse(e,r,n,i,a){const s=this.gen.ellipse(e,r,n,i,a);return this.draw(s),s}circle(e,r,n,i){const a=this.gen.circle(e,r,n,i);return this.draw(a),a}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n),n}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n),n}arc(e,r,n,i,a,s,o=!1,l){const u=this.gen.arc(e,r,n,i,a,s,o,l);return this.draw(u),u}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n),n}path(e,r){const n=this.gen.path(e,r);return this.draw(n),n}}const cw="http://www.w3.org/2000/svg";class YEe{constructor(e,r){this.svg=e,this.gen=new fS(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,a=i.createElementNS(cw,"g"),s=e.options.fixedDecimalPlaceDigits;for(const o of r){let l=null;switch(o.type){case"path":l=i.createElementNS(cw,"path"),l.setAttribute("d",this.opsToPath(o,s)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(cw,"path"),l.setAttribute("d",this.opsToPath(o,s)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,o,n)}l&&a.appendChild(l)}return a}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const a=e.createElementNS(cw,"path");return a.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),a.setAttribute("stroke",n.fill||""),a.setAttribute("stroke-width",i+""),a.setAttribute("fill","none"),n.fillLineDash&&a.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,r){return this.gen.opsToPath(e,r)}line(e,r,n,i,a){const s=this.gen.line(e,r,n,i,a);return this.draw(s)}rectangle(e,r,n,i,a){const s=this.gen.rectangle(e,r,n,i,a);return this.draw(s)}ellipse(e,r,n,i,a){const s=this.gen.ellipse(e,r,n,i,a);return this.draw(s)}circle(e,r,n,i){const a=this.gen.circle(e,r,n,i);return this.draw(a)}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n)}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n)}arc(e,r,n,i,a,s,o=!1,l){const u=this.gen.arc(e,r,n,i,a,s,o,l);return this.draw(u)}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n)}path(e,r){const n=this.gen.path(e,r);return this.draw(n)}}var lr={canvas:(t,e)=>new qEe(t,e),svg:(t,e)=>new YEe(t,e),generator:t=>new fS(t),newSeed:()=>fS.newSeed()},Mr=k(async(t,e,r)=>{var f,d;let n;const i=e.useHtmlLabels||Nn((f=Ue())==null?void 0:f.htmlLabels);r?n=r:n="node default";const a=t.insert("g").attr("class",n).attr("id",e.domId||e.id),s=a.insert("g").attr("class","label").attr("style",Vs(e.labelStyle));let o;e.label===void 0?o="":o=typeof e.label=="string"?e.label:e.label[0];const l=await Fl(s,Dn(dh(o),Ue()),{useHtmlLabels:i,width:e.width||((d=Ue().flowchart)==null?void 0:d.wrappingWidth),cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let u=l.getBBox();const h=((e==null?void 0:e.padding)??0)/2;if(i){const p=l.children[0],m=bt(l),v=p.getElementsByTagName("img");if(v){const x=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...v].map(y=>new Promise(w=>{function S(){if(y.style.display="flex",y.style.flexDirection="column",x){const E=Ue().fontSize?Ue().fontSize:window.getComputedStyle(document.body).fontSize,C=5,[L=Zr.fontSize]=hd(E),_=L*C+"px";y.style.minWidth=_,y.style.maxWidth=_}else y.style.width="100%";w(y)}k(S,"setupImage"),setTimeout(()=>{y.complete&&S()}),y.addEventListener("error",S),y.addEventListener("load",S)})))}u=p.getBoundingClientRect(),m.attr("width",u.width),m.attr("height",u.height)}return i?s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"):s.attr("transform","translate(0, "+-u.height/2+")"),e.centerLabel&&s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:a,bbox:u,halfPadding:h,label:s}},"labelHelper"),w7=k(async(t,e,r)=>{var l,u,h,f,d,p;const n=r.useHtmlLabels||Nn((u=(l=Ue())==null?void 0:l.flowchart)==null?void 0:u.htmlLabels),i=t.insert("g").attr("class","label").attr("style",r.labelStyle||""),a=await Fl(i,Dn(dh(e),Ue()),{useHtmlLabels:n,width:r.width||((f=(h=Ue())==null?void 0:h.flowchart)==null?void 0:f.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let s=a.getBBox();const o=r.padding/2;if(Nn((p=(d=Ue())==null?void 0:d.flowchart)==null?void 0:p.htmlLabels)){const m=a.children[0],v=bt(a);s=m.getBoundingClientRect(),v.attr("width",s.width),v.attr("height",s.height)}return n?i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"):i.attr("transform","translate(0, "+-s.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:t,bbox:s,halfPadding:o,label:i}},"insertLabel"),fr=k((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds"),Nr=k((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function jr(t){const e=t.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return e.push("Z"),e.join(" ")}k(jr,"createPathFromPoints");function Uf(t,e,r,n,i,a){const s=[],l=r-t,u=n-e,h=l/a,f=2*Math.PI/h,d=e+u/2;for(let p=0;p<=50;p++){const m=p/50,v=t+m*l,x=d+i*Math.sin(f*(v-t));s.push({x:v,y:x})}return s}k(Uf,"generateFullSineWavePoints");function aM(t,e,r,n,i,a){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const d=o+f*h,p=t+r*Math.cos(d),m=e+r*Math.sin(d);s.push({x:-p,y:-m})}return s}k(aM,"generateCirclePoints");var XEe=k((t,e)=>{var r=t.x,n=t.y,i=e.x-r,a=e.y-n,s=t.width/2,o=t.height/2,l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=a===0?0:o*i/a,u=o):(i<0&&(s=-s),l=s,u=i===0?0:s*a/i),{x:r+l,y:n+u}},"intersectRect"),ev=XEe;function ZJ(t,e){e&&t.attr("style",e)}k(ZJ,"applyStyle");async function JJ(t){const e=bt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div");let n=t.label;t.label&&ms(t.label)&&(n=await hb(t.label.replace(At.lineBreakRegex,`
`),Ue()));const i=t.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+i+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+n+"</span>"),ZJ(r,t.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}k(JJ,"addHtmlLabel");var jEe=k(async(t,e,r,n)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),Nn(Ue().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),Ee.info("vertexText"+i);const a={isNode:n,label:dh(i).replace(/fa[blrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await JJ(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(const o of s){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),a.appendChild(l)}return a}},"createLabel"),d0=jEe,Rh=k((t,e,r,n,i)=>["M",t+i,e,"H",t+r-i,"A",i,i,0,0,1,t+r,e+i,"V",e+n-i,"A",i,i,0,0,1,t+r-i,e+n,"H",t+i,"A",i,i,0,0,1,t,e+n-i,"V",e+i,"A",i,i,0,0,1,t+i,e,"Z"].join(" "),"createRoundedRectPathD"),KEe=k(t=>{const{handDrawnSeed:e}=Ue();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),tv=k(t=>{const e=QEe([...t.cssCompiledStyles||[],...t.cssStyles||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),QEe=k(t=>{const e=new Map;return t.forEach(r=>{const[n,i]=r.split(":");e.set(n.trim(),i==null?void 0:i.trim())}),e},"styles2Map"),gr=k(t=>{const{stylesArray:e}=tv(t),r=[],n=[],i=[],a=[];return e.forEach(s=>{const o=s[0];o==="color"||o==="font-size"||o==="font-family"||o==="font-weight"||o==="font-style"||o==="text-decoration"||o==="text-align"||o==="text-transform"||o==="line-height"||o==="letter-spacing"||o==="word-spacing"||o==="text-shadow"||o==="text-overflow"||o==="white-space"||o==="word-wrap"||o==="word-break"||o==="overflow-wrap"||o==="hyphens"?r.push(s.join(":")+" !important"):(n.push(s.join(":")+" !important"),o.includes("stroke")&&i.push(s.join(":")+" !important"),o==="fill"&&a.push(s.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:a}},"styles2String"),ur=k((t,e)=>{var l;const{themeVariables:r,handDrawnSeed:n}=Ue(),{nodeBorder:i,mainBkg:a}=r,{stylesMap:s}=tv(t);return Object.assign({roughness:.7,fill:s.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||i,seed:n,strokeWidth:((l=s.get("stroke-width"))==null?void 0:l.replace("px",""))||1.3,fillLineDash:[0,0]},e)},"userNodeOverrides"),eee=k(async(t,e)=>{Ee.info("Creating subgraph rect for ",e.id,e);const r=Ue(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:a,clusterBorder:s}=n,{labelStyles:o,nodeStyles:l,borderStyles:u,backgroundStyles:h}=gr(e),f=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),d=Nn(r.flowchart.htmlLabels),p=f.insert("g").attr("class","cluster-label "),m=await Fl(p,e.label,{style:e.labelStyle,useHtmlLabels:d,isNode:!0});let v=m.getBBox();if(Nn(r.flowchart.htmlLabels)){const _=m.children[0],I=bt(m);v=_.getBoundingClientRect(),I.attr("width",v.width),I.attr("height",v.height)}const x=e.width<=v.width+e.padding?v.width+e.padding:e.width;e.width<=v.width+e.padding?e.diff=(x-e.width)/2-e.padding:e.diff=-e.padding;const y=e.height,w=e.x-x/2,S=e.y-y/2;Ee.trace("Data ",e,JSON.stringify(e));let E;if(e.look==="handDrawn"){const _=lr.svg(f),I=ur(e,{roughness:.7,fill:a,stroke:s,fillWeight:3,seed:i}),D=_.path(Rh(w,S,x,y,0),I);E=f.insert(()=>(Ee.debug("Rough node insert CXC",D),D),":first-child"),E.select("path:nth-child(2)").attr("style",u.join(";")),E.select("path").attr("style",h.join(";").replace("fill","stroke"))}else E=f.insert("rect",":first-child"),E.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",w).attr("y",S).attr("width",x).attr("height",y);const{subGraphTitleTopMargin:C}=db(r);if(p.attr("transform",`translate(${e.x-v.width/2}, ${e.y-e.height/2+C})`),o){const _=p.select("span");_&&_.attr("style",o)}const L=E.node().getBBox();return e.offsetX=0,e.width=L.width,e.height=L.height,e.offsetY=v.height-e.padding/2,e.intersect=function(_){return ev(e,_)},{cluster:f,labelBBox:v}},"rect"),ZEe=k((t,e)=>{const r=t.insert("g").attr("class","note-cluster").attr("id",e.id),n=r.insert("rect",":first-child"),i=0*e.padding,a=i/2;n.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2-a).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const s=n.node().getBBox();return e.width=s.width,e.height=s.height,e.intersect=function(o){return ev(e,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),JEe=k(async(t,e)=>{const r=Ue(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:a,compositeBackground:s,compositeTitleBackground:o,nodeBorder:l}=n,u=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),h=u.insert("g",":first-child"),f=u.insert("g").attr("class","cluster-label");let d=u.append("rect");const p=f.node().appendChild(await d0(e.label,e.labelStyle,void 0,!0));let m=p.getBBox();if(Nn(r.flowchart.htmlLabels)){const D=p.children[0],F=bt(p);m=D.getBoundingClientRect(),F.attr("width",m.width),F.attr("height",m.height)}const v=0*e.padding,x=v/2,y=(e.width<=m.width+e.padding?m.width+e.padding:e.width)+v;e.width<=m.width+e.padding?e.diff=(y-e.width)/2-e.padding:e.diff=-e.padding;const w=e.height+v,S=e.height+v-m.height-6,E=e.x-y/2,C=e.y-w/2;e.width=y;const L=e.y-e.height/2-x+m.height+2;let _;if(e.look==="handDrawn"){const D=e.cssClasses.includes("statediagram-cluster-alt"),F=lr.svg(u),M=e.rx||e.ry?F.path(Rh(E,C,y,w,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:l,seed:i}):F.rectangle(E,C,y,w,{seed:i});_=u.insert(()=>M,":first-child");const B=F.rectangle(E,L,y,S,{fill:D?a:s,fillStyle:D?"hachure":"solid",stroke:l,seed:i});_=u.insert(()=>M,":first-child"),d=u.insert(()=>B)}else _=h.insert("rect",":first-child"),_.attr("class","outer").attr("x",E).attr("y",C).attr("width",y).attr("height",w).attr("data-look",e.look),d.attr("class","inner").attr("x",E).attr("y",L).attr("width",y).attr("height",S);f.attr("transform",`translate(${e.x-m.width/2}, ${C+1-(Nn(r.flowchart.htmlLabels)?0:3)})`);const I=_.node().getBBox();return e.height=I.height,e.offsetX=0,e.offsetY=m.height-e.padding/2,e.labelBBox=m,e.intersect=function(D){return ev(e,D)},{cluster:u,labelBBox:m}},"roundedWithTitle"),eTe=k(async(t,e)=>{Ee.info("Creating subgraph rect for ",e.id,e);const r=Ue(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:a,clusterBorder:s}=n,{labelStyles:o,nodeStyles:l,borderStyles:u,backgroundStyles:h}=gr(e),f=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),d=Nn(r.flowchart.htmlLabels),p=f.insert("g").attr("class","cluster-label "),m=await Fl(p,e.label,{style:e.labelStyle,useHtmlLabels:d,isNode:!0,width:e.width});let v=m.getBBox();if(Nn(r.flowchart.htmlLabels)){const _=m.children[0],I=bt(m);v=_.getBoundingClientRect(),I.attr("width",v.width),I.attr("height",v.height)}const x=e.width<=v.width+e.padding?v.width+e.padding:e.width;e.width<=v.width+e.padding?e.diff=(x-e.width)/2-e.padding:e.diff=-e.padding;const y=e.height,w=e.x-x/2,S=e.y-y/2;Ee.trace("Data ",e,JSON.stringify(e));let E;if(e.look==="handDrawn"){const _=lr.svg(f),I=ur(e,{roughness:.7,fill:a,stroke:s,fillWeight:4,seed:i}),D=_.path(Rh(w,S,x,y,e.rx),I);E=f.insert(()=>(Ee.debug("Rough node insert CXC",D),D),":first-child"),E.select("path:nth-child(2)").attr("style",u.join(";")),E.select("path").attr("style",h.join(";").replace("fill","stroke"))}else E=f.insert("rect",":first-child"),E.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",w).attr("y",S).attr("width",x).attr("height",y);const{subGraphTitleTopMargin:C}=db(r);if(p.attr("transform",`translate(${e.x-v.width/2}, ${e.y-e.height/2+C})`),o){const _=p.select("span");_&&_.attr("style",o)}const L=E.node().getBBox();return e.offsetX=0,e.width=L.width,e.height=L.height,e.offsetY=v.height-e.padding/2,e.intersect=function(_){return ev(e,_)},{cluster:f,labelBBox:v}},"kanbanSection"),tTe=k((t,e)=>{const r=Ue(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:a}=n,s=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),o=s.insert("g",":first-child"),l=0*e.padding,u=e.width+l;e.diff=-e.padding;const h=e.height+l,f=e.x-u/2,d=e.y-h/2;e.width=u;let p;if(e.look==="handDrawn"){const x=lr.svg(s).rectangle(f,d,u,h,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:i});p=s.insert(()=>x,":first-child")}else p=o.insert("rect",":first-child"),p.attr("class","divider").attr("x",f).attr("y",d).attr("width",u).attr("height",h).attr("data-look",e.look);const m=p.node().getBBox();return e.height=m.height,e.offsetX=0,e.offsetY=0,e.intersect=function(v){return ev(e,v)},{cluster:s,labelBBox:{}}},"divider"),rTe=eee,nTe={rect:eee,squareRect:rTe,roundedWithTitle:JEe,noteGroup:ZEe,divider:tTe,kanbanSection:eTe},tee=new Map,sM=k(async(t,e)=>{const r=e.shape||"rect",n=await nTe[r](t,e);return tee.set(e.id,n),n},"insertCluster"),iTe=k(()=>{tee=new Map},"clear");function ree(t,e){return t.intersect(e)}k(ree,"intersectNode");var aTe=ree;function nee(t,e,r,n){var i=t.x,a=t.y,s=i-n.x,o=a-n.y,l=Math.sqrt(e*e*o*o+r*r*s*s),u=Math.abs(e*r*s/l);n.x<i&&(u=-u);var h=Math.abs(e*r*o/l);return n.y<a&&(h=-h),{x:i+u,y:a+h}}k(nee,"intersectEllipse");var iee=nee;function aee(t,e,r){return iee(t,e,e,r)}k(aee,"intersectCircle");var sTe=aee;function see(t,e,r,n){var i,a,s,o,l,u,h,f,d,p,m,v,x,y,w;if(i=e.y-t.y,s=t.x-e.x,l=e.x*t.y-t.x*e.y,d=i*r.x+s*r.y+l,p=i*n.x+s*n.y+l,!(d!==0&&p!==0&&O_(d,p))&&(a=n.y-r.y,o=r.x-n.x,u=n.x*r.y-r.x*n.y,h=a*t.x+o*t.y+u,f=a*e.x+o*e.y+u,!(h!==0&&f!==0&&O_(h,f))&&(m=i*o-a*s,m!==0)))return v=Math.abs(m/2),x=s*u-o*l,y=x<0?(x-v)/m:(x+v)/m,x=a*l-i*u,w=x<0?(x-v)/m:(x+v)/m,{x:y,y:w}}k(see,"intersectLine");function O_(t,e){return t*e>0}k(O_,"sameSign");var oTe=see;function oee(t,e,r){let n=t.x,i=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(h){s=Math.min(s,h.x),o=Math.min(o,h.y)}):(s=Math.min(s,e.x),o=Math.min(o,e.y));let l=n-t.width/2-s,u=i-t.height/2-o;for(let h=0;h<e.length;h++){let f=e[h],d=e[h<e.length-1?h+1:0],p=oTe(t,r,{x:l+f.x,y:u+f.y},{x:l+d.x,y:u+d.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort(function(h,f){let d=h.x-r.x,p=h.y-r.y,m=Math.sqrt(d*d+p*p),v=f.x-r.x,x=f.y-r.y,y=Math.sqrt(v*v+x*x);return m<y?-1:m===y?0:1}),a[0]):t}k(oee,"intersectPolygon");var lTe=oee,nr={node:aTe,circle:sTe,ellipse:iee,polygon:lTe,rect:ev};function lee(t,e){const{labelStyles:r}=gr(e);e.labelStyle=r;const n=Nr(e);let i=n;n||(i="anchor");const a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=1,{cssStyles:o}=e,l=lr.svg(a),u=ur(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(u.roughness=0);const h=l.circle(0,0,s*2,u),f=a.insert(()=>h,":first-child");return f.attr("class","anchor").attr("style",Vs(o)),fr(e,f),e.intersect=function(d){return Ee.info("Circle intersect",e,s,d),nr.circle(e,s,d)},a}k(lee,"anchor");function P_(t,e,r,n,i,a,s){const l=(t+r)/2,u=(e+n)/2,h=Math.atan2(n-e,r-t),f=(r-t)/2,d=(n-e)/2,p=f/i,m=d/a,v=Math.sqrt(p**2+m**2);if(v>1)throw new Error("The given radii are too small to create an arc between the points.");const x=Math.sqrt(1-v**2),y=l+x*a*Math.sin(h)*(s?-1:1),w=u-x*i*Math.cos(h)*(s?-1:1),S=Math.atan2((e-w)/a,(t-y)/i);let C=Math.atan2((n-w)/a,(r-y)/i)-S;s&&C<0&&(C+=2*Math.PI),!s&&C>0&&(C-=2*Math.PI);const L=[];for(let _=0;_<20;_++){const I=_/19,D=S+I*C,F=y+i*Math.cos(D),M=w+a*Math.sin(D);L.push({x:F,y:M})}return L}k(P_,"generateArcPoints");async function uee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=a.width+e.padding+20,o=a.height+e.padding,l=o/2,u=l/(2.5+o/50),{cssStyles:h}=e,f=[{x:s/2,y:-o/2},{x:-s/2,y:-o/2},...P_(-s/2,-o/2,-s/2,o/2,u,l,!1),{x:s/2,y:o/2},...P_(s/2,o/2,s/2,-o/2,u,l,!0)],d=lr.svg(i),p=ur(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=jr(f),v=d.path(m,p),x=i.insert(()=>v,":first-child");return x.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",n),x.attr("transform",`translate(${u/2}, 0)`),fr(e,x),e.intersect=function(y){return nr.polygon(e,f,y)},i}k(uee,"bowTieRect");function Mh(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}k(Mh,"insertPolygonShape");async function cee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=a.height+e.padding,o=12,l=a.width+e.padding+o,u=0,h=l,f=-s,d=0,p=[{x:u+o,y:f},{x:h,y:f},{x:h,y:d},{x:u,y:d},{x:u,y:f+o},{x:u+o,y:f}];let m;const{cssStyles:v}=e;if(e.look==="handDrawn"){const x=lr.svg(i),y=ur(e,{}),w=jr(p),S=x.path(w,y);m=i.insert(()=>S,":first-child").attr("transform",`translate(${-l/2}, ${s/2})`),v&&m.attr("style",v)}else m=Mh(i,l,s,p);return n&&m.attr("style",n),fr(e,m),e.intersect=function(x){return nr.polygon(e,p,x)},i}k(cee,"card");function hee(t,e){const{nodeStyles:r}=gr(e);e.label="";const n=t.insert("g").attr("class",Nr(e)).attr("id",e.domId??e.id),{cssStyles:i}=e,a=Math.max(28,e.width??0),s=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],o=lr.svg(n),l=ur(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const u=jr(s),h=o.path(u,l),f=n.insert(()=>h,":first-child");return i&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",i),r&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",r),e.width=28,e.height=28,e.intersect=function(d){return nr.polygon(e,s,d)},n}k(hee,"choice");async function fee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,halfPadding:s}=await Mr(t,e,Nr(e)),o=a.width/2+s;let l;const{cssStyles:u}=e;if(e.look==="handDrawn"){const h=lr.svg(i),f=ur(e,{}),d=h.circle(0,0,o*2,f);l=i.insert(()=>d,":first-child"),l.attr("class","basic label-container").attr("style",Vs(u))}else l=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",o).attr("cx",0).attr("cy",0);return fr(e,l),e.intersect=function(h){return Ee.info("Circle intersect",e,o,h),nr.circle(e,o,h)},i}k(fee,"circle");function dee(t){const e=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=t*2,i={x:n/2*e,y:n/2*r},a={x:-(n/2)*e,y:n/2*r},s={x:-(n/2)*e,y:-(n/2)*r},o={x:n/2*e,y:-(n/2)*r};return`M ${a.x},${a.y} L ${o.x},${o.y}
                   M ${i.x},${i.y} L ${s.x},${s.y}`}k(dee,"createLine");function pee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r,e.label="";const i=t.insert("g").attr("class",Nr(e)).attr("id",e.domId??e.id),a=Math.max(30,(e==null?void 0:e.width)??0),{cssStyles:s}=e,o=lr.svg(i),l=ur(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const u=o.circle(0,0,a*2,l),h=dee(a),f=o.path(h,l),d=i.insert(()=>u,":first-child");return d.insert(()=>f),s&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",s),n&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",n),fr(e,d),e.intersect=function(p){return Ee.info("crossedCircle intersect",e,{radius:a,point:p}),nr.circle(e,a,p)},i}k(pee,"crossedCircle");function Nc(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const d=o+f*h,p=t+r*Math.cos(d),m=e+r*Math.sin(d);s.push({x:-p,y:-m})}return s}k(Nc,"generateCirclePoints");async function gee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=e,f=[...Nc(o/2,-l/2,u,30,-90,0),{x:-o/2-u,y:u},...Nc(o/2+u*2,-u,u,20,-180,-270),...Nc(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-l/2},...Nc(o/2,l/2,u,20,0,90)],d=[{x:o/2,y:-l/2-u},{x:-o/2,y:-l/2-u},...Nc(o/2,-l/2,u,20,-90,0),{x:-o/2-u,y:-u},...Nc(o/2+o*.1,-u,u,20,-180,-270),...Nc(o/2+o*.1,u,u,20,-90,-180),{x:-o/2-u,y:l/2},...Nc(o/2,l/2,u,20,0,90),{x:-o/2,y:l/2+u},{x:o/2,y:l/2+u}],p=lr.svg(i),m=ur(e,{fill:"none"});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=jr(f).replace("Z",""),y=p.path(x,m),w=jr(d),S=p.path(w,{...m}),E=i.insert("g",":first-child");return E.insert(()=>S,":first-child").attr("stroke-opacity",0),E.insert(()=>y,":first-child"),E.attr("class","text"),h&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",n),E.attr("transform",`translate(${u}, 0)`),s.attr("transform",`translate(${-o/2+u-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),fr(e,E),e.intersect=function(C){return nr.polygon(e,d,C)},i}k(gee,"curlyBraceLeft");function Ic(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const d=o+f*h,p=t+r*Math.cos(d),m=e+r*Math.sin(d);s.push({x:p,y:m})}return s}k(Ic,"generateCirclePoints");async function mee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=e,f=[...Ic(o/2,-l/2,u,20,-90,0),{x:o/2+u,y:-u},...Ic(o/2+u*2,-u,u,20,-180,-270),...Ic(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:l/2},...Ic(o/2,l/2,u,20,0,90)],d=[{x:-o/2,y:-l/2-u},{x:o/2,y:-l/2-u},...Ic(o/2,-l/2,u,20,-90,0),{x:o/2+u,y:-u},...Ic(o/2+u*2,-u,u,20,-180,-270),...Ic(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:l/2},...Ic(o/2,l/2,u,20,0,90),{x:o/2,y:l/2+u},{x:-o/2,y:l/2+u}],p=lr.svg(i),m=ur(e,{fill:"none"});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=jr(f).replace("Z",""),y=p.path(x,m),w=jr(d),S=p.path(w,{...m}),E=i.insert("g",":first-child");return E.insert(()=>S,":first-child").attr("stroke-opacity",0),E.insert(()=>y,":first-child"),E.attr("class","text"),h&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",n),E.attr("transform",`translate(${-u}, 0)`),s.attr("transform",`translate(${-o/2+(e.padding??0)/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),fr(e,E),e.intersect=function(C){return nr.polygon(e,d,C)},i}k(mee,"curlyBraceRight");function Ra(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const d=o+f*h,p=t+r*Math.cos(d),m=e+r*Math.sin(d);s.push({x:-p,y:-m})}return s}k(Ra,"generateCirclePoints");async function vee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=e,f=[...Ra(o/2,-l/2,u,30,-90,0),{x:-o/2-u,y:u},...Ra(o/2+u*2,-u,u,20,-180,-270),...Ra(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-l/2},...Ra(o/2,l/2,u,20,0,90)],d=[...Ra(-o/2+u+u/2,-l/2,u,20,-90,-180),{x:o/2-u/2,y:u},...Ra(-o/2-u/2,-u,u,20,0,90),...Ra(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...Ra(-o/2+u+u/2,l/2,u,30,-180,-270)],p=[{x:o/2,y:-l/2-u},{x:-o/2,y:-l/2-u},...Ra(o/2,-l/2,u,20,-90,0),{x:-o/2-u,y:-u},...Ra(o/2+u*2,-u,u,20,-180,-270),...Ra(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:l/2},...Ra(o/2,l/2,u,20,0,90),{x:-o/2,y:l/2+u},{x:o/2-u-u/2,y:l/2+u},...Ra(-o/2+u+u/2,-l/2,u,20,-90,-180),{x:o/2-u/2,y:u},...Ra(-o/2-u/2,-u,u,20,0,90),...Ra(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...Ra(-o/2+u+u/2,l/2,u,30,-180,-270)],m=lr.svg(i),v=ur(e,{fill:"none"});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const y=jr(f).replace("Z",""),w=m.path(y,v),E=jr(d).replace("Z",""),C=m.path(E,v),L=jr(p),_=m.path(L,{...v}),I=i.insert("g",":first-child");return I.insert(()=>_,":first-child").attr("stroke-opacity",0),I.insert(()=>w,":first-child"),I.insert(()=>C,":first-child"),I.attr("class","text"),h&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",n),I.attr("transform",`translate(${u-u/4}, 0)`),s.attr("transform",`translate(${-o/2+(e.padding??0)/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),fr(e,I),e.intersect=function(D){return nr.polygon(e,p,D)},i}k(vee,"curlyBraces");async function yee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=80,o=20,l=Math.max(s,(a.width+(e.padding??0)*2)*1.25,(e==null?void 0:e.width)??0),u=Math.max(o,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=u/2,{cssStyles:f}=e,d=lr.svg(i),p=ur(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=l,v=u,x=m-h,y=v/4,w=[{x,y:0},{x:y,y:0},{x:0,y:v/2},{x:y,y:v},{x,y:v},...aM(-x,-v/2,h,50,270,90)],S=jr(w),E=d.path(S,p),C=i.insert(()=>E,":first-child");return C.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",n),C.attr("transform",`translate(${-l/2}, ${-u/2})`),fr(e,C),e.intersect=function(L){return nr.polygon(e,w,L)},i}k(yee,"curvedTrapezoid");var uTe=k((t,e,r,n,i,a)=>[`M${t},${e+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),cTe=k((t,e,r,n,i,a)=>[`M${t},${e+a}`,`M${t+r},${e+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),hTe=k((t,e,r,n,i,a)=>[`M${t-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function xee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=Math.max(a.width+e.padding,e.width??0),l=o/2,u=l/(2.5+o/50),h=Math.max(a.height+u+e.padding,e.height??0);let f;const{cssStyles:d}=e;if(e.look==="handDrawn"){const p=lr.svg(i),m=cTe(0,0,o,h,l,u),v=hTe(0,u,o,h,l,u),x=p.path(m,ur(e,{})),y=p.path(v,ur(e,{fill:"none"}));f=i.insert(()=>y,":first-child"),f=i.insert(()=>x,":first-child"),f.attr("class","basic label-container"),d&&f.attr("style",d)}else{const p=uTe(0,0,o,h,l,u);f=i.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",Vs(d)).attr("style",n)}return f.attr("label-offset-y",u),f.attr("transform",`translate(${-o/2}, ${-(h/2+u)})`),fr(e,f),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+(e.padding??0)/1.5-(a.y-(a.top??0))})`),e.intersect=function(p){const m=nr.rect(e,p),v=m.x-(e.x??0);if(l!=0&&(Math.abs(v)<(e.width??0)/2||Math.abs(v)==(e.width??0)/2&&Math.abs(m.y-(e.y??0))>(e.height??0)/2-u)){let x=u*u*(1-v*v/(l*l));x>0&&(x=Math.sqrt(x)),x=u-x,p.y-(e.y??0)>0&&(x=-x),m.y+=x}return m},i}k(xee,"cylinder");async function bee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=a.width+e.padding,l=a.height+e.padding,u=l*.2,h=-o/2,f=-l/2-u/2,{cssStyles:d}=e,p=lr.svg(i),m=ur(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const v=[{x:h,y:f+u},{x:-h,y:f+u},{x:-h,y:-f},{x:h,y:-f},{x:h,y:f},{x:-h,y:f},{x:-h,y:f+u}],x=p.polygon(v.map(w=>[w.x,w.y]),m),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),s.attr("transform",`translate(${h+(e.padding??0)/2-(a.x-(a.left??0))}, ${f+u+(e.padding??0)/2-(a.y-(a.top??0))})`),fr(e,y),e.intersect=function(w){return nr.rect(e,w)},i}k(bee,"dividedRectangle");async function wee(t,e){var d,p;const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,halfPadding:s}=await Mr(t,e,Nr(e)),l=a.width/2+s+5,u=a.width/2+s;let h;const{cssStyles:f}=e;if(e.look==="handDrawn"){const m=lr.svg(i),v=ur(e,{roughness:.2,strokeWidth:2.5}),x=ur(e,{roughness:.2,strokeWidth:1.5}),y=m.circle(0,0,l*2,v),w=m.circle(0,0,u*2,x);h=i.insert("g",":first-child"),h.attr("class",Vs(e.cssClasses)).attr("style",Vs(f)),(d=h.node())==null||d.appendChild(y),(p=h.node())==null||p.appendChild(w)}else{h=i.insert("g",":first-child");const m=h.insert("circle",":first-child"),v=h.insert("circle");h.attr("class","basic label-container").attr("style",n),m.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),v.attr("class","inner-circle").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0)}return fr(e,h),e.intersect=function(m){return Ee.info("DoubleCircle intersect",e,l,m),nr.circle(e,l,m)},i}k(wee,"doublecircle");function See(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=gr(e);e.label="",e.labelStyle=n;const a=t.insert("g").attr("class",Nr(e)).attr("id",e.domId??e.id),s=7,{cssStyles:o}=e,l=lr.svg(a),{nodeBorder:u}=r,h=ur(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(h.roughness=0);const f=l.circle(0,0,s*2,h),d=a.insert(()=>f,":first-child");return d.selectAll("path").attr("style",`fill: ${u} !important;`),o&&o.length>0&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",o),i&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",i),fr(e,d),e.intersect=function(p){return Ee.info("filledCircle intersect",e,{radius:s,point:p}),nr.circle(e,s,p)},a}k(See,"filledCircle");async function kee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=a.width+(e.padding??0),l=o+a.height,u=o+a.height,h=[{x:0,y:-l},{x:u,y:-l},{x:u/2,y:0}],{cssStyles:f}=e,d=lr.svg(i),p=ur(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=jr(h),v=d.path(m,p),x=i.insert(()=>v,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return f&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),e.width=o,e.height=l,fr(e,x),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-l/2+(e.padding??0)/2+(a.y-(a.top??0))})`),e.intersect=function(y){return Ee.info("Triangle intersect",e,h,y),nr.polygon(e,h,y)},i}k(kee,"flippedTriangle");function Eee(t,e,{dir:r,config:{state:n,themeVariables:i}}){const{nodeStyles:a}=gr(e);e.label="";const s=t.insert("g").attr("class",Nr(e)).attr("id",e.domId??e.id),{cssStyles:o}=e;let l=Math.max(70,(e==null?void 0:e.width)??0),u=Math.max(10,(e==null?void 0:e.height)??0);r==="LR"&&(l=Math.max(10,(e==null?void 0:e.width)??0),u=Math.max(70,(e==null?void 0:e.height)??0));const h=-1*l/2,f=-1*u/2,d=lr.svg(s),p=ur(e,{stroke:i.lineColor,fill:i.lineColor});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=d.rectangle(h,f,l,u,p),v=s.insert(()=>m,":first-child");o&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",o),a&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",a),fr(e,v);const x=(n==null?void 0:n.padding)??0;return e.width&&e.height&&(e.width+=x/2||0,e.height+=x/2||0),e.intersect=function(y){return nr.rect(e,y)},s}k(Eee,"forkJoin");async function Tee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const i=80,a=50,{shapeSvg:s,bbox:o}=await Mr(t,e,Nr(e)),l=Math.max(i,o.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a,o.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=u/2,{cssStyles:f}=e,d=lr.svg(s),p=ur(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=[{x:-l/2,y:-u/2},{x:l/2-h,y:-u/2},...aM(-l/2+h,0,h,50,90,270),{x:l/2-h,y:u/2},{x:-l/2,y:u/2}],v=jr(m),x=d.path(v,p),y=s.insert(()=>x,":first-child");return y.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),fr(e,y),e.intersect=function(w){return Ee.info("Pill intersect",e,{radius:h,point:w}),nr.polygon(e,m,w)},s}k(Tee,"halfRoundedRectangle");var fTe=k((t,e,r,n,i)=>[`M${t+i},${e}`,`L${t+r-i},${e}`,`L${t+r},${e-n/2}`,`L${t+r-i},${e-n}`,`L${t+i},${e-n}`,`L${t},${e-n/2}`,"Z"].join(" "),"createHexagonPathD");async function Cee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=4,o=a.height+e.padding,l=o/s,u=a.width+2*l+e.padding,h=[{x:l,y:0},{x:u-l,y:0},{x:u,y:-o/2},{x:u-l,y:-o},{x:l,y:-o},{x:0,y:-o/2}];let f;const{cssStyles:d}=e;if(e.look==="handDrawn"){const p=lr.svg(i),m=ur(e,{}),v=fTe(0,0,u,o,l),x=p.path(v,m);f=i.insert(()=>x,":first-child").attr("transform",`translate(${-u/2}, ${o/2})`),d&&f.attr("style",d)}else f=Mh(i,u,o,h);return n&&f.attr("style",n),e.width=u,e.height=o,fr(e,f),e.intersect=function(p){return nr.polygon(e,h,p)},i}k(Cee,"hexagon");async function Aee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.label="",e.labelStyle=r;const{shapeSvg:i}=await Mr(t,e,Nr(e)),a=Math.max(30,(e==null?void 0:e.width)??0),s=Math.max(30,(e==null?void 0:e.height)??0),{cssStyles:o}=e,l=lr.svg(i),u=ur(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=[{x:0,y:0},{x:a,y:0},{x:0,y:s},{x:a,y:s}],f=jr(h),d=l.path(f,u),p=i.insert(()=>d,":first-child");return p.attr("class","basic label-container"),o&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",o),n&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",n),p.attr("transform",`translate(${-a/2}, ${-s/2})`),fr(e,p),e.intersect=function(m){return Ee.info("Pill intersect",e,{points:h}),nr.polygon(e,h,m)},i}k(Aee,"hourglass");async function _ee(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=gr(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,label:f}=await Mr(t,e,"icon-shape default"),d=e.pos==="t",p=o,m=o,{nodeBorder:v}=r,{stylesMap:x}=tv(e),y=-m/2,w=-p/2,S=e.label?8:0,E=lr.svg(u),C=ur(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const L=E.rectangle(y,w,m,p,C),_=Math.max(m,h.width),I=p+h.height+S,D=E.rectangle(-_/2,-I/2,_,I,{...C,fill:"transparent",stroke:"none"}),F=u.insert(()=>L,":first-child"),M=u.insert(()=>D);if(e.icon){const B=u.append("g");B.html(`<g>${await O0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const H=B.node().getBBox(),R=H.width,O=H.height,P=H.x,z=H.y;B.attr("transform",`translate(${-R/2-P},${d?h.height/2+S/2-O/2-z:-h.height/2-S/2-O/2-z})`),B.attr("style",`color: ${x.get("stroke")??v};`)}return f.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${d?-I/2:I/2-h.height})`),F.attr("transform",`translate(0,${d?h.height/2+S/2:-h.height/2-S/2})`),fr(e,M),e.intersect=function(B){if(Ee.info("iconSquare intersect",e,B),!e.label)return nr.rect(e,B);const H=e.x??0,R=e.y??0,O=e.height??0;let P=[];return d?P=[{x:H-h.width/2,y:R-O/2},{x:H+h.width/2,y:R-O/2},{x:H+h.width/2,y:R-O/2+h.height+S},{x:H+m/2,y:R-O/2+h.height+S},{x:H+m/2,y:R+O/2},{x:H-m/2,y:R+O/2},{x:H-m/2,y:R-O/2+h.height+S},{x:H-h.width/2,y:R-O/2+h.height+S}]:P=[{x:H-m/2,y:R-O/2},{x:H+m/2,y:R-O/2},{x:H+m/2,y:R-O/2+p},{x:H+h.width/2,y:R-O/2+p},{x:H+h.width/2/2,y:R+O/2},{x:H-h.width/2,y:R+O/2},{x:H-h.width/2,y:R-O/2+p},{x:H-m/2,y:R-O/2+p}],nr.polygon(e,P,B)},u}k(_ee,"icon");async function Lee(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=gr(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,label:f}=await Mr(t,e,"icon-shape default"),d=20,p=e.label?8:0,m=e.pos==="t",{nodeBorder:v,mainBkg:x}=r,{stylesMap:y}=tv(e),w=lr.svg(u),S=ur(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const E=y.get("fill");S.stroke=E??x;const C=u.append("g");e.icon&&C.html(`<g>${await O0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const L=C.node().getBBox(),_=L.width,I=L.height,D=L.x,F=L.y,M=Math.max(_,I)*Math.SQRT2+d*2,B=w.circle(0,0,M,S),H=Math.max(M,h.width),R=M+h.height+p,O=w.rectangle(-H/2,-R/2,H,R,{...S,fill:"transparent",stroke:"none"}),P=u.insert(()=>B,":first-child"),z=u.insert(()=>O);return C.attr("transform",`translate(${-_/2-D},${m?h.height/2+p/2-I/2-F:-h.height/2-p/2-I/2-F})`),C.attr("style",`color: ${y.get("stroke")??v};`),f.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${m?-R/2:R/2-h.height})`),P.attr("transform",`translate(0,${m?h.height/2+p/2:-h.height/2-p/2})`),fr(e,z),e.intersect=function($){return Ee.info("iconSquare intersect",e,$),nr.rect(e,$)},u}k(Lee,"iconCircle");async function Dee(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=gr(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,halfPadding:f,label:d}=await Mr(t,e,"icon-shape default"),p=e.pos==="t",m=o+f*2,v=o+f*2,{nodeBorder:x,mainBkg:y}=r,{stylesMap:w}=tv(e),S=-v/2,E=-m/2,C=e.label?8:0,L=lr.svg(u),_=ur(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const I=w.get("fill");_.stroke=I??y;const D=L.path(Rh(S,E,v,m,5),_),F=Math.max(v,h.width),M=m+h.height+C,B=L.rectangle(-F/2,-M/2,F,M,{..._,fill:"transparent",stroke:"none"}),H=u.insert(()=>D,":first-child").attr("class","icon-shape2"),R=u.insert(()=>B);if(e.icon){const O=u.append("g");O.html(`<g>${await O0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const P=O.node().getBBox(),z=P.width,$=P.height,V=P.x,X=P.y;O.attr("transform",`translate(${-z/2-V},${p?h.height/2+C/2-$/2-X:-h.height/2-C/2-$/2-X})`),O.attr("style",`color: ${w.get("stroke")??x};`)}return d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-M/2:M/2-h.height})`),H.attr("transform",`translate(0,${p?h.height/2+C/2:-h.height/2-C/2})`),fr(e,R),e.intersect=function(O){if(Ee.info("iconSquare intersect",e,O),!e.label)return nr.rect(e,O);const P=e.x??0,z=e.y??0,$=e.height??0;let V=[];return p?V=[{x:P-h.width/2,y:z-$/2},{x:P+h.width/2,y:z-$/2},{x:P+h.width/2,y:z-$/2+h.height+C},{x:P+v/2,y:z-$/2+h.height+C},{x:P+v/2,y:z+$/2},{x:P-v/2,y:z+$/2},{x:P-v/2,y:z-$/2+h.height+C},{x:P-h.width/2,y:z-$/2+h.height+C}]:V=[{x:P-v/2,y:z-$/2},{x:P+v/2,y:z-$/2},{x:P+v/2,y:z-$/2+m},{x:P+h.width/2,y:z-$/2+m},{x:P+h.width/2/2,y:z+$/2},{x:P-h.width/2,y:z+$/2},{x:P-h.width/2,y:z-$/2+m},{x:P-v/2,y:z-$/2+m}],nr.polygon(e,V,O)},u}k(Dee,"iconRounded");async function Ree(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=gr(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,halfPadding:f,label:d}=await Mr(t,e,"icon-shape default"),p=e.pos==="t",m=o+f*2,v=o+f*2,{nodeBorder:x,mainBkg:y}=r,{stylesMap:w}=tv(e),S=-v/2,E=-m/2,C=e.label?8:0,L=lr.svg(u),_=ur(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const I=w.get("fill");_.stroke=I??y;const D=L.path(Rh(S,E,v,m,.1),_),F=Math.max(v,h.width),M=m+h.height+C,B=L.rectangle(-F/2,-M/2,F,M,{..._,fill:"transparent",stroke:"none"}),H=u.insert(()=>D,":first-child"),R=u.insert(()=>B);if(e.icon){const O=u.append("g");O.html(`<g>${await O0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const P=O.node().getBBox(),z=P.width,$=P.height,V=P.x,X=P.y;O.attr("transform",`translate(${-z/2-V},${p?h.height/2+C/2-$/2-X:-h.height/2-C/2-$/2-X})`),O.attr("style",`color: ${w.get("stroke")??x};`)}return d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-M/2:M/2-h.height})`),H.attr("transform",`translate(0,${p?h.height/2+C/2:-h.height/2-C/2})`),fr(e,R),e.intersect=function(O){if(Ee.info("iconSquare intersect",e,O),!e.label)return nr.rect(e,O);const P=e.x??0,z=e.y??0,$=e.height??0;let V=[];return p?V=[{x:P-h.width/2,y:z-$/2},{x:P+h.width/2,y:z-$/2},{x:P+h.width/2,y:z-$/2+h.height+C},{x:P+v/2,y:z-$/2+h.height+C},{x:P+v/2,y:z+$/2},{x:P-v/2,y:z+$/2},{x:P-v/2,y:z-$/2+h.height+C},{x:P-h.width/2,y:z-$/2+h.height+C}]:V=[{x:P-v/2,y:z-$/2},{x:P+v/2,y:z-$/2},{x:P+v/2,y:z-$/2+m},{x:P+h.width/2,y:z-$/2+m},{x:P+h.width/2/2,y:z+$/2},{x:P-h.width/2,y:z+$/2},{x:P-h.width/2,y:z-$/2+m},{x:P-v/2,y:z-$/2+m}],nr.polygon(e,V,O)},u}k(Ree,"iconSquare");async function Mee(t,e,{config:{flowchart:r}}){const n=new Image;n.src=(e==null?void 0:e.img)??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),a=Number(n.naturalHeight.toString().replace("px",""));e.imageAspectRatio=i/a;const{labelStyles:s}=gr(e);e.labelStyle=s;const o=r==null?void 0:r.wrappingWidth;e.defaultWidth=r==null?void 0:r.wrappingWidth;const l=Math.max(e.label?o??0:0,(e==null?void 0:e.assetWidth)??i),u=e.constraint==="on"&&e!=null&&e.assetHeight?e.assetHeight*e.imageAspectRatio:l,h=e.constraint==="on"?u/e.imageAspectRatio:(e==null?void 0:e.assetHeight)??a;e.width=Math.max(u,o??0);const{shapeSvg:f,bbox:d,label:p}=await Mr(t,e,"image-shape default"),m=e.pos==="t",v=-u/2,x=-h/2,y=e.label?8:0,w=lr.svg(f),S=ur(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const E=w.rectangle(v,x,u,h,S),C=Math.max(u,d.width),L=h+d.height+y,_=w.rectangle(-C/2,-L/2,C,L,{...S,fill:"none",stroke:"none"}),I=f.insert(()=>E,":first-child"),D=f.insert(()=>_);if(e.img){const F=f.append("image");F.attr("href",e.img),F.attr("width",u),F.attr("height",h),F.attr("preserveAspectRatio","none"),F.attr("transform",`translate(${-u/2},${m?L/2-h:-L/2})`)}return p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${m?-h/2-d.height/2-y/2:h/2-d.height/2+y/2})`),I.attr("transform",`translate(0,${m?d.height/2+y/2:-d.height/2-y/2})`),fr(e,D),e.intersect=function(F){if(Ee.info("iconSquare intersect",e,F),!e.label)return nr.rect(e,F);const M=e.x??0,B=e.y??0,H=e.height??0;let R=[];return m?R=[{x:M-d.width/2,y:B-H/2},{x:M+d.width/2,y:B-H/2},{x:M+d.width/2,y:B-H/2+d.height+y},{x:M+u/2,y:B-H/2+d.height+y},{x:M+u/2,y:B+H/2},{x:M-u/2,y:B+H/2},{x:M-u/2,y:B-H/2+d.height+y},{x:M-d.width/2,y:B-H/2+d.height+y}]:R=[{x:M-u/2,y:B-H/2},{x:M+u/2,y:B-H/2},{x:M+u/2,y:B-H/2+h},{x:M+d.width/2,y:B-H/2+h},{x:M+d.width/2/2,y:B+H/2},{x:M-d.width/2,y:B+H/2},{x:M-d.width/2,y:B-H/2+h},{x:M-u/2,y:B-H/2+h}],nr.polygon(e,R,F)},f}k(Mee,"imageSquare");async function Nee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:-3*o/6,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const f=lr.svg(i),d=ur(e,{}),p=jr(l),m=f.path(p,d);u=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=Mh(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,fr(e,u),e.intersect=function(f){return nr.polygon(e,l,f)},i}k(Nee,"inv_trapezoid");async function SE(t,e,r){const{labelStyles:n,nodeStyles:i}=gr(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await Mr(t,e,Nr(e)),o=Math.max(s.width+r.labelPaddingX*2,(e==null?void 0:e.width)||0),l=Math.max(s.height+r.labelPaddingY*2,(e==null?void 0:e.height)||0),u=-o/2,h=-l/2;let f,{rx:d,ry:p}=e;const{cssStyles:m}=e;if(r!=null&&r.rx&&r.ry&&(d=r.rx,p=r.ry),e.look==="handDrawn"){const v=lr.svg(a),x=ur(e,{}),y=d||p?v.path(Rh(u,h,o,l,d||0),x):v.rectangle(u,h,o,l,x);f=a.insert(()=>y,":first-child"),f.attr("class","basic label-container").attr("style",Vs(m))}else f=a.insert("rect",":first-child"),f.attr("class","basic label-container").attr("style",i).attr("rx",Vs(d)).attr("ry",Vs(p)).attr("x",u).attr("y",h).attr("width",o).attr("height",l);return fr(e,f),e.intersect=function(v){return nr.rect(e,v)},a}k(SE,"drawRect");async function Iee(t,e){const{shapeSvg:r,bbox:n,label:i}=await Mr(t,e,"label"),a=r.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),fr(e,a),e.intersect=function(l){return nr.rect(e,l)},r}k(Iee,"labelRect");async function Oee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:-(3*o)/6,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const f=lr.svg(i),d=ur(e,{}),p=jr(l),m=f.path(p,d);u=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=Mh(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,fr(e,u),e.intersect=function(f){return nr.polygon(e,l,f)},i}k(Oee,"lean_left");async function Pee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:-3*o/6,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:0,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const f=lr.svg(i),d=ur(e,{}),p=jr(l),m=f.path(p,d);u=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=Mh(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,fr(e,u),e.intersect=function(f){return nr.polygon(e,l,f)},i}k(Pee,"lean_right");function Fee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.label="",e.labelStyle=r;const i=t.insert("g").attr("class",Nr(e)).attr("id",e.domId??e.id),{cssStyles:a}=e,s=Math.max(35,(e==null?void 0:e.width)??0),o=Math.max(35,(e==null?void 0:e.height)??0),l=7,u=[{x:s,y:0},{x:0,y:o+l/2},{x:s-2*l,y:o+l/2},{x:0,y:2*o},{x:s,y:o-l/2},{x:2*l,y:o-l/2}],h=lr.svg(i),f=ur(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const d=jr(u),p=h.path(d,f),m=i.insert(()=>p,":first-child");return a&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",a),n&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",n),m.attr("transform",`translate(-${s/2},${-o})`),fr(e,m),e.intersect=function(v){return Ee.info("lightningBolt intersect",e,v),nr.polygon(e,u,v)},i}k(Fee,"lightningBolt");var dTe=k((t,e,r,n,i,a,s)=>[`M${t},${e+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),pTe=k((t,e,r,n,i,a,s)=>[`M${t},${e+a}`,`M${t+r},${e+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),gTe=k((t,e,r,n,i,a)=>[`M${t-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function Bee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=Math.max(a.width+(e.padding??0),e.width??0),l=o/2,u=l/(2.5+o/50),h=Math.max(a.height+u+(e.padding??0),e.height??0),f=h*.1;let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const m=lr.svg(i),v=pTe(0,0,o,h,l,u,f),x=gTe(0,u,o,h,l,u),y=ur(e,{}),w=m.path(v,y),S=m.path(x,y);i.insert(()=>S,":first-child").attr("class","line"),d=i.insert(()=>w,":first-child"),d.attr("class","basic label-container"),p&&d.attr("style",p)}else{const m=dTe(0,0,o,h,l,u,f);d=i.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",Vs(p)).attr("style",n)}return d.attr("label-offset-y",u),d.attr("transform",`translate(${-o/2}, ${-(h/2+u)})`),fr(e,d),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+u-(a.y-(a.top??0))})`),e.intersect=function(m){const v=nr.rect(e,m),x=v.x-(e.x??0);if(l!=0&&(Math.abs(x)<(e.width??0)/2||Math.abs(x)==(e.width??0)/2&&Math.abs(v.y-(e.y??0))>(e.height??0)/2-u)){let y=u*u*(1-x*x/(l*l));y>0&&(y=Math.sqrt(y)),y=u-y,m.y-(e.y??0)>0&&(y=-y),v.y+=y}return v},i}k(Bee,"linedCylinder");async function $ee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/4,h=l+u,{cssStyles:f}=e,d=lr.svg(i),p=ur(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=[{x:-o/2-o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:h/2},...Uf(-o/2-o/2*.1,h/2,o/2+o/2*.1,h/2,u,.8),{x:o/2+o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:-h/2},{x:-o/2,y:-h/2},{x:-o/2,y:h/2*1.1},{x:-o/2,y:-h/2}],v=d.polygon(m.map(y=>[y.x,y.y]),p),x=i.insert(()=>v,":first-child");return x.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",n),x.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)+o/2*.1/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)-u/2-(a.y-(a.top??0))})`),fr(e,x),e.intersect=function(y){return nr.polygon(e,m,y)},i}k($ee,"linedWaveEdgedRect");async function zee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=5,h=-o/2,f=-l/2,{cssStyles:d}=e,p=lr.svg(i),m=ur(e,{}),v=[{x:h-u,y:f+u},{x:h-u,y:f+l+u},{x:h+o-u,y:f+l+u},{x:h+o-u,y:f+l},{x:h+o,y:f+l},{x:h+o,y:f+l-u},{x:h+o+u,y:f+l-u},{x:h+o+u,y:f-u},{x:h+u,y:f-u},{x:h+u,y:f},{x:h,y:f},{x:h,y:f+u}],x=[{x:h,y:f+u},{x:h+o-u,y:f+u},{x:h+o-u,y:f+l},{x:h+o,y:f+l},{x:h+o,y:f},{x:h,y:f}];e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=jr(v),w=p.path(y,m),S=jr(x),E=p.path(S,{...m,fill:"none"}),C=i.insert(()=>E,":first-child");return C.insert(()=>w,":first-child"),C.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",n),s.attr("transform",`translate(${-(a.width/2)-u-(a.x-(a.left??0))}, ${-(a.height/2)+u-(a.y-(a.top??0))})`),fr(e,C),e.intersect=function(L){return nr.polygon(e,v,L)},i}k(zee,"multiRect");async function Hee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/4,h=l+u,f=-o/2,d=-h/2,p=5,{cssStyles:m}=e,v=Uf(f-p,d+h+p,f+o-p,d+h+p,u,.8),x=v==null?void 0:v[v.length-1],y=[{x:f-p,y:d+p},{x:f-p,y:d+h+p},...v,{x:f+o-p,y:x.y-p},{x:f+o,y:x.y-p},{x:f+o,y:x.y-2*p},{x:f+o+p,y:x.y-2*p},{x:f+o+p,y:d-p},{x:f+p,y:d-p},{x:f+p,y:d},{x:f,y:d},{x:f,y:d+p}],w=[{x:f,y:d+p},{x:f+o-p,y:d+p},{x:f+o-p,y:x.y-p},{x:f+o,y:x.y-p},{x:f+o,y:d},{x:f,y:d}],S=lr.svg(i),E=ur(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const C=jr(y),L=S.path(C,E),_=jr(w),I=S.path(_,E),D=i.insert(()=>L,":first-child");return D.insert(()=>I),D.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",m),n&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",n),D.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-(a.width/2)-p-(a.x-(a.left??0))}, ${-(a.height/2)+p-u/2-(a.y-(a.top??0))})`),fr(e,D),e.intersect=function(F){return nr.polygon(e,y,F)},i}k(Hee,"multiWaveEdgedRectangle");async function Vee(t,e,{config:{themeVariables:r}}){var y;const{labelStyles:n,nodeStyles:i}=gr(e);e.labelStyle=n,e.useHtmlLabels||((y=ai().flowchart)==null?void 0:y.htmlLabels)!==!1||(e.centerLabel=!0);const{shapeSvg:s,bbox:o}=await Mr(t,e,Nr(e)),l=Math.max(o.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(o.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=-l/2,f=-u/2,{cssStyles:d}=e,p=lr.svg(s),m=ur(e,{fill:r.noteBkgColor,stroke:r.noteBorderColor});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const v=p.rectangle(h,f,l,u,m),x=s.insert(()=>v,":first-child");return x.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",d),i&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",i),fr(e,x),e.intersect=function(w){return nr.rect(e,w)},s}k(Vee,"note");var mTe=k((t,e,r)=>[`M${t+r/2},${e}`,`L${t+r},${e-r/2}`,`L${t+r/2},${e-r}`,`L${t},${e-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function Uee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=a.width+e.padding,o=a.height+e.padding,l=s+o,u=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let h;const{cssStyles:f}=e;if(e.look==="handDrawn"){const d=lr.svg(i),p=ur(e,{}),m=mTe(0,0,l),v=d.path(m,p);h=i.insert(()=>v,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`),f&&h.attr("style",f)}else h=Mh(i,l,l,u);return n&&h.attr("style",n),fr(e,h),e.intersect=function(d){return Ee.debug(`APA12 Intersect called SPLIT
point:`,d,`
node:
`,e,`
res:`,nr.polygon(e,u,d)),nr.polygon(e,u,d)},i}k(Uee,"question");async function Gee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),u=-o/2,h=-l/2,f=h/2,d=[{x:u+f,y:h},{x:u,y:0},{x:u+f,y:-h},{x:-u,y:-h},{x:-u,y:h}],{cssStyles:p}=e,m=lr.svg(i),v=ur(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=jr(d),y=m.path(x,v),w=i.insert(()=>y,":first-child");return w.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(${-f/2},0)`),s.attr("transform",`translate(${-f/2-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),fr(e,w),e.intersect=function(S){return nr.polygon(e,d,S)},i}k(Gee,"rect_left_inv_arrow");async function Wee(t,e){var I,D;const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;let i;e.cssClasses?i="node "+e.cssClasses:i="node default";const a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=a.insert("g"),o=a.insert("g").attr("class","label").attr("style",n),l=e.description,u=e.label,h=o.node().appendChild(await d0(u,e.labelStyle,!0,!0));let f={width:0,height:0};if(Nn((D=(I=Ue())==null?void 0:I.flowchart)==null?void 0:D.htmlLabels)){const F=h.children[0],M=bt(h);f=F.getBoundingClientRect(),M.attr("width",f.width),M.attr("height",f.height)}Ee.info("Text 2",l);const d=l||[],p=h.getBBox(),m=o.node().appendChild(await d0(d.join?d.join("<br/>"):d,e.labelStyle,!0,!0)),v=m.children[0],x=bt(m);f=v.getBoundingClientRect(),x.attr("width",f.width),x.attr("height",f.height);const y=(e.padding||0)/2;bt(m).attr("transform","translate( "+(f.width>p.width?0:(p.width-f.width)/2)+", "+(p.height+y+5)+")"),bt(h).attr("transform","translate( "+(f.width<p.width?0:-(p.width-f.width)/2)+", 0)"),f=o.node().getBBox(),o.attr("transform","translate("+-f.width/2+", "+(-f.height/2-y+3)+")");const w=f.width+(e.padding||0),S=f.height+(e.padding||0),E=-f.width/2-y,C=-f.height/2-y;let L,_;if(e.look==="handDrawn"){const F=lr.svg(a),M=ur(e,{}),B=F.path(Rh(E,C,w,S,e.rx||0),M),H=F.line(-f.width/2-y,-f.height/2-y+p.height+y,f.width/2+y,-f.height/2-y+p.height+y,M);_=a.insert(()=>(Ee.debug("Rough node insert CXC",B),H),":first-child"),L=a.insert(()=>(Ee.debug("Rough node insert CXC",B),B),":first-child")}else L=s.insert("rect",":first-child"),_=s.insert("line"),L.attr("class","outer title-state").attr("style",n).attr("x",-f.width/2-y).attr("y",-f.height/2-y).attr("width",f.width+(e.padding||0)).attr("height",f.height+(e.padding||0)),_.attr("class","divider").attr("x1",-f.width/2-y).attr("x2",f.width/2+y).attr("y1",-f.height/2-y+p.height+y).attr("y2",-f.height/2-y+p.height+y);return fr(e,L),e.intersect=function(F){return nr.rect(e,F)},a}k(Wee,"rectWithTitle");async function qee(t,e){const r={rx:5,ry:5,classes:"",labelPaddingX:((e==null?void 0:e.padding)||0)*1,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return SE(t,e,r)}k(qee,"roundedRect");async function Yee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=(e==null?void 0:e.padding)??0,l=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=-a.width/2-o,f=-a.height/2-o,{cssStyles:d}=e,p=lr.svg(i),m=ur(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const v=[{x:h,y:f},{x:h+l+8,y:f},{x:h+l+8,y:f+u},{x:h-8,y:f+u},{x:h-8,y:f},{x:h,y:f},{x:h,y:f+u}],x=p.polygon(v.map(w=>[w.x,w.y]),m),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container").attr("style",Vs(d)),n&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),d&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),s.attr("transform",`translate(${-l/2+4+(e.padding??0)-(a.x-(a.left??0))},${-u/2+(e.padding??0)-(a.y-(a.top??0))})`),fr(e,y),e.intersect=function(w){return nr.rect(e,w)},i}k(Yee,"shadedProcess");async function Xee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=-o/2,h=-l/2,{cssStyles:f}=e,d=lr.svg(i),p=ur(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=[{x:u,y:h},{x:u,y:h+l},{x:u+o,y:h+l},{x:u+o,y:h-l/2}],v=jr(m),x=d.path(v,p),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),y.attr("transform",`translate(0, ${l/4})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))}, ${-l/4+(e.padding??0)-(a.y-(a.top??0))})`),fr(e,y),e.intersect=function(w){return nr.polygon(e,m,w)},i}k(Xee,"slopedRect");async function jee(t,e){const r={rx:0,ry:0,classes:"",labelPaddingX:((e==null?void 0:e.padding)||0)*2,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return SE(t,e,r)}k(jee,"squareRect");async function Kee(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=a.height+e.padding,o=a.width+s/4+e.padding;let l;const{cssStyles:u}=e;if(e.look==="handDrawn"){const h=lr.svg(i),f=ur(e,{}),d=Rh(-o/2,-s/2,o,s,s/2),p=h.path(d,f);l=i.insert(()=>p,":first-child"),l.attr("class","basic label-container").attr("style",Vs(u))}else l=i.insert("rect",":first-child"),l.attr("class","basic label-container").attr("style",n).attr("rx",s/2).attr("ry",s/2).attr("x",-o/2).attr("y",-s/2).attr("width",o).attr("height",s);return fr(e,l),e.intersect=function(h){return nr.rect(e,h)},i}k(Kee,"stadium");async function Qee(t,e){return SE(t,e,{rx:5,ry:5,classes:"flowchart-node"})}k(Qee,"state");function Zee(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=gr(e);e.labelStyle=n;const{cssStyles:a}=e,{lineColor:s,stateBorder:o,nodeBorder:l}=r,u=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),h=lr.svg(u),f=ur(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const d=h.circle(0,0,14,{...f,stroke:s,strokeWidth:2}),p=o??l,m=h.circle(0,0,5,{...f,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"}),v=u.insert(()=>d,":first-child");return v.insert(()=>m),a&&v.selectAll("path").attr("style",a),i&&v.selectAll("path").attr("style",i),fr(e,v),e.intersect=function(x){return nr.circle(e,7,x)},u}k(Zee,"stateEnd");function Jee(t,e,{config:{themeVariables:r}}){const{lineColor:n}=r,i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let a;if(e.look==="handDrawn"){const o=lr.svg(i).circle(0,0,14,KEe(n));a=i.insert(()=>o),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=i.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return fr(e,a),e.intersect=function(s){return nr.circle(e,7,s)},i}k(Jee,"stateStart");async function ete(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=((e==null?void 0:e.padding)||0)/2,o=a.width+e.padding,l=a.height+e.padding,u=-a.width/2-s,h=-a.height/2-s,f=[{x:0,y:0},{x:o,y:0},{x:o,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(e.look==="handDrawn"){const d=lr.svg(i),p=ur(e,{}),m=d.rectangle(u-8,h,o+16,l,p),v=d.line(u,h,u,h+l,p),x=d.line(u+o,h,u+o,h+l,p);i.insert(()=>v,":first-child"),i.insert(()=>x,":first-child");const y=i.insert(()=>m,":first-child"),{cssStyles:w}=e;y.attr("class","basic label-container").attr("style",Vs(w)),fr(e,y)}else{const d=Mh(i,o,l,f);n&&d.attr("style",n),fr(e,d)}return e.intersect=function(d){return nr.polygon(e,f,d)},i}k(ete,"subroutine");async function tte(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=-s/2,u=-o/2,h=.2*o,f=.2*o,{cssStyles:d}=e,p=lr.svg(i),m=ur(e,{}),v=[{x:l-h/2,y:u},{x:l+s+h/2,y:u},{x:l+s+h/2,y:u+o},{x:l-h/2,y:u+o}],x=[{x:l+s-h/2,y:u+o},{x:l+s+h/2,y:u+o},{x:l+s+h/2,y:u+o-f}];e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=jr(v),w=p.path(y,m),S=jr(x),E=p.path(S,{...m,fillStyle:"solid"}),C=i.insert(()=>E,":first-child");return C.insert(()=>w,":first-child"),C.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",n),fr(e,C),e.intersect=function(L){return nr.polygon(e,v,L)},i}k(tte,"taggedRect");async function rte(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/4,h=.2*o,f=.2*l,d=l+u,{cssStyles:p}=e,m=lr.svg(i),v=ur(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=[{x:-o/2-o/2*.1,y:d/2},...Uf(-o/2-o/2*.1,d/2,o/2+o/2*.1,d/2,u,.8),{x:o/2+o/2*.1,y:-d/2},{x:-o/2-o/2*.1,y:-d/2}],y=-o/2+o/2*.1,w=-d/2-f*.4,S=[{x:y+o-h,y:(w+l)*1.4},{x:y+o,y:w+l-f},{x:y+o,y:(w+l)*.9},...Uf(y+o,(w+l)*1.3,y+o-h,(w+l)*1.5,-l*.03,.5)],E=jr(x),C=m.path(E,v),L=jr(S),_=m.path(L,{...v,fillStyle:"solid"}),I=i.insert(()=>_,":first-child");return I.insert(()=>C,":first-child"),I.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",n),I.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))},${-l/2+(e.padding??0)-u/2-(a.y-(a.top??0))})`),fr(e,I),e.intersect=function(D){return nr.polygon(e,x,D)},i}k(rte,"taggedWaveEdgedRectangle");async function nte(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=Math.max(a.width+e.padding,(e==null?void 0:e.width)||0),o=Math.max(a.height+e.padding,(e==null?void 0:e.height)||0),l=-s/2,u=-o/2,h=i.insert("rect",":first-child");return h.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",u).attr("width",s).attr("height",o),fr(e,h),e.intersect=function(f){return nr.rect(e,f)},i}k(nte,"text");var vTe=k((t,e,r,n,i,a)=>`M${t},${e}
    a${i},${a} 0,0,1 0,${-n}
    l${r},0
    a${i},${a} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${a} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),yTe=k((t,e,r,n,i,a)=>[`M${t},${e}`,`M${t+r},${e}`,`a${i},${a} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${a} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),xTe=k((t,e,r,n,i,a)=>[`M${t+r/2},${-n/2}`,`a${i},${a} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function ite(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s,halfPadding:o}=await Mr(t,e,Nr(e)),l=e.look==="neo"?o*2:o,u=a.height+l,h=u/2,f=h/(2.5+u/50),d=a.width+f+l,{cssStyles:p}=e;let m;if(e.look==="handDrawn"){const v=lr.svg(i),x=yTe(0,0,d,u,f,h),y=xTe(0,0,d,u,f,h),w=v.path(x,ur(e,{})),S=v.path(y,ur(e,{fill:"none"}));m=i.insert(()=>S,":first-child"),m=i.insert(()=>w,":first-child"),m.attr("class","basic label-container"),p&&m.attr("style",p)}else{const v=vTe(0,0,d,u,f,h);m=i.insert("path",":first-child").attr("d",v).attr("class","basic label-container").attr("style",Vs(p)).attr("style",n),m.attr("class","basic label-container"),p&&m.selectAll("path").attr("style",p),n&&m.selectAll("path").attr("style",n)}return m.attr("label-offset-x",f),m.attr("transform",`translate(${-d/2}, ${u/2} )`),s.attr("transform",`translate(${-(a.width/2)-f-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),fr(e,m),e.intersect=function(v){const x=nr.rect(e,v),y=x.y-(e.y??0);if(h!=0&&(Math.abs(y)<(e.height??0)/2||Math.abs(y)==(e.height??0)/2&&Math.abs(x.x-(e.x??0))>(e.width??0)/2-f)){let w=f*f*(1-y*y/(h*h));w!=0&&(w=Math.sqrt(w)),w=f-w,v.x-(e.x??0)>0&&(w=-w),x.x+=w}return x},i}k(ite,"tiltedCylinder");async function ate(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=a.width+e.padding,o=a.height+e.padding,l=[{x:-3*o/6,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:0,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const f=lr.svg(i),d=ur(e,{}),p=jr(l),m=f.path(p,d);u=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=Mh(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,fr(e,u),e.intersect=function(f){return nr.polygon(e,l,f)},i}k(ate,"trapezoid");async function ste(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=60,o=20,l=Math.max(s,a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(o,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),{cssStyles:h}=e,f=lr.svg(i),d=ur(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=[{x:-l/2*.8,y:-u/2},{x:l/2*.8,y:-u/2},{x:l/2,y:-u/2*.6},{x:l/2,y:u/2},{x:-l/2,y:u/2},{x:-l/2,y:-u/2*.6}],m=jr(p),v=f.path(m,d),x=i.insert(()=>v,":first-child");return x.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",h),n&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),fr(e,x),e.intersect=function(y){return nr.polygon(e,p,y)},i}k(ste,"trapezoidalPentagon");async function ote(t,e){var w;const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=Nn((w=Ue().flowchart)==null?void 0:w.htmlLabels),l=a.width+(e.padding??0),u=l+a.height,h=l+a.height,f=[{x:0,y:0},{x:h,y:0},{x:h/2,y:-u}],{cssStyles:d}=e,p=lr.svg(i),m=ur(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const v=jr(f),x=p.path(v,m),y=i.insert(()=>x,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return d&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",d),n&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),e.width=l,e.height=u,fr(e,y),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${u/2-(a.height+(e.padding??0)/(o?2:1)-(a.y-(a.top??0)))})`),e.intersect=function(S){return Ee.info("Triangle intersect",e,f,S),nr.polygon(e,f,S)},i}k(ote,"triangle");async function lte(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/8,h=l+u,{cssStyles:f}=e,p=70-o,m=p>0?p/2:0,v=lr.svg(i),x=ur(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const y=[{x:-o/2-m,y:h/2},...Uf(-o/2-m,h/2,o/2+m,h/2,u,.8),{x:o/2+m,y:-h/2},{x:-o/2-m,y:-h/2}],w=jr(y),S=v.path(w,x),E=i.insert(()=>S,":first-child");return E.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",n),E.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))},${-l/2+(e.padding??0)-u-(a.y-(a.top??0))})`),fr(e,E),e.intersect=function(C){return nr.polygon(e,y,C)},i}k(lte,"waveEdgedRectangle");async function ute(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Mr(t,e,Nr(e)),s=100,o=50,l=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=l/u;let f=l,d=u;f>d*h?d=f/h:f=d*h,f=Math.max(f,s),d=Math.max(d,o);const p=Math.min(d*.2,d/4),m=d+p*2,{cssStyles:v}=e,x=lr.svg(i),y=ur(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const w=[{x:-f/2,y:m/2},...Uf(-f/2,m/2,f/2,m/2,p,1),{x:f/2,y:-m/2},...Uf(f/2,-m/2,-f/2,-m/2,p,-1)],S=jr(w),E=x.path(S,y),C=i.insert(()=>E,":first-child");return C.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",v),n&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",n),fr(e,C),e.intersect=function(L){return nr.polygon(e,w,L)},i}k(ute,"waveRectangle");async function cte(t,e){const{labelStyles:r,nodeStyles:n}=gr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Mr(t,e,Nr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=5,h=-o/2,f=-l/2,{cssStyles:d}=e,p=lr.svg(i),m=ur(e,{}),v=[{x:h-u,y:f-u},{x:h-u,y:f+l},{x:h+o,y:f+l},{x:h+o,y:f-u}],x=`M${h-u},${f-u} L${h+o},${f-u} L${h+o},${f+l} L${h-u},${f+l} L${h-u},${f-u}
                M${h-u},${f} L${h+o},${f}
                M${h},${f-u} L${h},${f+l}`;e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=p.path(x,m),w=i.insert(()=>y,":first-child");return w.attr("transform",`translate(${u/2}, ${u/2})`),w.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",n),s.attr("transform",`translate(${-(a.width/2)+u/2-(a.x-(a.left??0))}, ${-(a.height/2)+u/2-(a.y-(a.top??0))})`),fr(e,w),e.intersect=function(S){return nr.polygon(e,v,S)},i}k(cte,"windowPane");async function hte(t,e,r,n,i=r.class.padding??12){const a=n?0:3,s=t.insert("g").attr("class",Nr(e)).attr("id",e.domId||e.id);let o=null,l=null,u=null,h=null,f=0,d=0,p=0;if(o=s.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const w=e.annotations[0];await Yy(o,{text:`«${w}»`},0),f=o.node().getBBox().height}l=s.insert("g").attr("class","label-group text"),await Yy(l,e,0,["font-weight: bolder"]);const m=l.node().getBBox();d=m.height,u=s.insert("g").attr("class","members-group text");let v=0;for(const w of e.members){const S=await Yy(u,w,v,[w.parseClassifier()]);v+=S+a}p=u.node().getBBox().height,p<=0&&(p=i/2),h=s.insert("g").attr("class","methods-group text");let x=0;for(const w of e.methods){const S=await Yy(h,w,x,[w.parseClassifier()]);x+=S+a}let y=s.node().getBBox();if(o!==null){const w=o.node().getBBox();o.attr("transform",`translate(${-w.width/2})`)}return l.attr("transform",`translate(${-m.width/2}, ${f})`),y=s.node().getBBox(),u.attr("transform",`translate(0, ${f+d+i*2})`),y=s.node().getBBox(),h.attr("transform",`translate(0, ${f+d+(p?p+i*4:i*2)})`),y=s.node().getBBox(),{shapeSvg:s,bbox:y}}k(hte,"textHelper");async function Yy(t,e,r,n=[]){const i=t.insert("g").attr("class","label").attr("style",n.join("; ")),a=ai();let s="useHtmlLabels"in e?e.useHtmlLabels:Nn(a.htmlLabels)??!0,o="";"text"in e?o=e.text:o=e.label,!s&&o.startsWith("\\")&&(o=o.substring(1)),ms(o)&&(s=!0);const l=await Fl(i,Kj(dh(o)),{width:kl(o,a)+50,classes:"markdown-node-label",useHtmlLabels:s},a);let u,h=1;if(s){const f=l.children[0],d=bt(l);h=f.innerHTML.split("<br>").length,f.innerHTML.includes("</math>")&&(h+=f.innerHTML.split("<mrow>").length-1);const p=f.getElementsByTagName("img");if(p){const m=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(v=>new Promise(x=>{function y(){var w;if(v.style.display="flex",v.style.flexDirection="column",m){const S=((w=a.fontSize)==null?void 0:w.toString())??window.getComputedStyle(document.body).fontSize,C=parseInt(S,10)*5+"px";v.style.minWidth=C,v.style.maxWidth=C}else v.style.width="100%";x(v)}k(y,"setupImage"),setTimeout(()=>{v.complete&&y()}),v.addEventListener("error",y),v.addEventListener("load",y)})))}u=f.getBoundingClientRect(),d.attr("width",u.width),d.attr("height",u.height)}else{n.includes("font-weight: bolder")&&bt(l).selectAll("tspan").attr("font-weight",""),h=l.children.length;const f=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(f.textContent=o[0]+o.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),o[1]===" "&&(f.textContent=f.textContent[0]+" "+f.textContent.substring(1))),f.textContent==="undefined"&&(f.textContent=""),u=l.getBBox()}return i.attr("transform","translate(0,"+(-u.height/(2*h)+r)+")"),u.height}k(Yy,"addText");async function fte(t,e){var D,F;const r=Ue(),n=r.class.padding??12,i=n,a=e.useHtmlLabels??Nn(r.htmlLabels)??!0,s=e;s.annotations=s.annotations??[],s.members=s.members??[],s.methods=s.methods??[];const{shapeSvg:o,bbox:l}=await hte(t,e,r,a,i),{labelStyles:u,nodeStyles:h}=gr(e);e.labelStyle=u,e.cssStyles=s.styles||"";const f=((D=s.styles)==null?void 0:D.join(";"))||h||"";e.cssStyles||(e.cssStyles=f.replaceAll("!important","").split(";"));const d=s.members.length===0&&s.methods.length===0&&!((F=r.class)!=null&&F.hideEmptyMembersBox),p=lr.svg(o),m=ur(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const v=l.width;let x=l.height;s.members.length===0&&s.methods.length===0?x+=i:s.members.length>0&&s.methods.length===0&&(x+=i*2);const y=-v/2,w=-x/2,S=p.rectangle(y-n,w-n-(d?n:s.members.length===0&&s.methods.length===0?-n/2:0),v+2*n,x+2*n+(d?n*2:s.members.length===0&&s.methods.length===0?-n:0),m),E=o.insert(()=>S,":first-child");E.attr("class","basic label-container");const C=E.node().getBBox();o.selectAll(".text").each((M,B,H)=>{var V;const R=bt(H[B]),O=R.attr("transform");let P=0;if(O){const q=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(O);q&&(P=parseFloat(q[2]))}let z=P+w+n-(d?n:s.members.length===0&&s.methods.length===0?-n/2:0);a||(z-=4);let $=y;(R.attr("class").includes("label-group")||R.attr("class").includes("annotation-group"))&&($=-((V=R.node())==null?void 0:V.getBBox().width)/2||0,o.selectAll("text").each(function(X,q,Y){window.getComputedStyle(Y[q]).textAnchor==="middle"&&($=0)})),R.attr("transform",`translate(${$}, ${z})`)});const L=o.select(".annotation-group").node().getBBox().height-(d?n/2:0)||0,_=o.select(".label-group").node().getBBox().height-(d?n/2:0)||0,I=o.select(".members-group").node().getBBox().height-(d?n/2:0)||0;if(s.members.length>0||s.methods.length>0||d){const M=p.line(C.x,L+_+w+n,C.x+C.width,L+_+w+n,m);o.insert(()=>M).attr("class","divider").attr("style",f)}if(d||s.members.length>0||s.methods.length>0){const M=p.line(C.x,L+_+I+w+i*2+n,C.x+C.width,L+_+I+w+n+i*2,m);o.insert(()=>M).attr("class","divider").attr("style",f)}if(s.look!=="handDrawn"&&o.selectAll("path").attr("style",f),E.select(":nth-child(2)").attr("style",f),o.selectAll(".divider").select("path").attr("style",f),e.labelStyle?o.selectAll("span").attr("style",e.labelStyle):o.selectAll("span").attr("style",f),!a){const M=RegExp(/color\s*:\s*([^;]*)/),B=M.exec(f);if(B){const H=B[0].replace("color","fill");o.selectAll("tspan").attr("style",H)}else if(u){const H=M.exec(u);if(H){const R=H[0].replace("color","fill");o.selectAll("tspan").attr("style",R)}}}return fr(e,E),e.intersect=function(M){return nr.rect(e,M)},o}k(fte,"classBox");var bTe=k(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function dte(t,e,{config:r}){var B,H;const{labelStyles:n,nodeStyles:i}=gr(e);e.labelStyle=n||"";const a=10,s=e.width;e.width=(e.width??200)-10;const{shapeSvg:o,bbox:l,label:u}=await Mr(t,e,Nr(e)),h=e.padding||10;let f="",d;"ticket"in e&&e.ticket&&((B=r==null?void 0:r.kanban)!=null&&B.ticketBaseUrl)&&(f=(H=r==null?void 0:r.kanban)==null?void 0:H.ticketBaseUrl.replace("#TICKET#",e.ticket),d=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",f).attr("target","_blank"));const p={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let m,v;d?{label:m,bbox:v}=await w7(d,"ticket"in e&&e.ticket||"",p):{label:m,bbox:v}=await w7(o,"ticket"in e&&e.ticket||"",p);const{label:x,bbox:y}=await w7(o,"assigned"in e&&e.assigned||"",p);e.width=s;const w=10,S=(e==null?void 0:e.width)||0,E=Math.max(v.height,y.height)/2,C=Math.max(l.height+w*2,(e==null?void 0:e.height)||0)+E,L=-S/2,_=-C/2;u.attr("transform","translate("+(h-S/2)+", "+(-E-l.height/2)+")"),m.attr("transform","translate("+(h-S/2)+", "+(-E+l.height/2)+")"),x.attr("transform","translate("+(h+S/2-y.width-2*a)+", "+(-E+l.height/2)+")");let I;const{rx:D,ry:F}=e,{cssStyles:M}=e;if(e.look==="handDrawn"){const R=lr.svg(o),O=ur(e,{}),P=D||F?R.path(Rh(L,_,S,C,D||0),O):R.rectangle(L,_,S,C,O);I=o.insert(()=>P,":first-child"),I.attr("class","basic label-container").attr("style",M||null)}else{I=o.insert("rect",":first-child"),I.attr("class","basic label-container __APA__").attr("style",i).attr("rx",D??5).attr("ry",F??5).attr("x",L).attr("y",_).attr("width",S).attr("height",C);const R="priority"in e&&e.priority;if(R){const O=o.append("line"),P=L+2,z=_+Math.floor((D??0)/2),$=_+C-Math.floor((D??0)/2);O.attr("x1",P).attr("y1",z).attr("x2",P).attr("y2",$).attr("stroke-width","4").attr("stroke",bTe(R))}}return fr(e,I),e.height=C,e.intersect=function(R){return nr.rect(e,R)},o}k(dte,"kanbanItem");var wTe=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:jee},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:qee},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Kee},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:ete},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:xee},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:fee},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:Uee},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:Cee},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:Pee},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Oee},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:ate},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Nee},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:wee},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:nte},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:cee},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:Yee},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:Jee},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:Zee},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Eee},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:Aee},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:gee},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:mee},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:vee},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:Fee},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:lte},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:Tee},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:ite},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:Bee},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:yee},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:bee},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:ote},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:cte},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:See},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:ste},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:kee},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:Xee},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:Hee},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:zee},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:uee},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:pee},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:rte},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:tte},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:ute},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:Gee},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:$ee}],STe=k(()=>{const e=[...Object.entries({state:Qee,choice:hee,note:Vee,rectWithTitle:Wee,labelRect:Iee,iconSquare:Ree,iconCircle:Lee,icon:_ee,iconRounded:Dee,imageSquare:Mee,anchor:lee,kanbanItem:dte,classBox:fte}),...wTe.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(i=>[i,r.handler]))];return Object.fromEntries(e)},"generateShapeMap"),pte=STe();function gte(t){return t in pte}k(gte,"isValidShape");var kE=new Map;async function EE(t,e,r){let n,i;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const a=e.shape?pte[e.shape]:void 0;if(!a)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let s;r.config.securityLevel==="sandbox"?s="_top":e.linkTarget&&(s=e.linkTarget||"_blank"),n=t.insert("svg:a").attr("xlink:href",e.link).attr("target",s??null),i=await a(n,e,r)}else i=await a(t,e,r),n=i;return e.tooltip&&i.attr("title",e.tooltip),kE.set(e.id,n),e.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}k(EE,"insertNode");var kTe=k((t,e)=>{kE.set(e.id,t)},"setNodeElem"),ETe=k(()=>{kE.clear()},"clear"),F_=k(t=>{const e=kE.get(t.id);Ee.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=8,n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},"positionNode"),nl={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function Xy(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=ti(t),e=ti(e);const[r,n]=[t.x,t.y],[i,a]=[e.x,e.y],s=i-r,o=a-n;return{angle:Math.atan(o/s),deltaX:s,deltaY:o}}k(Xy,"calculateDeltaAndAngle");var ti=k(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),mte=k(t=>({x:k(function(e,r,n){let i=0;const a=ti(n[0]).x<ti(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(nl,t.arrowTypeStart)){const{angle:p,deltaX:m}=Xy(n[0],n[1]);i=nl[t.arrowTypeStart]*Math.cos(p)*(m>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(nl,t.arrowTypeEnd)){const{angle:p,deltaX:m}=Xy(n[n.length-1],n[n.length-2]);i=nl[t.arrowTypeEnd]*Math.cos(p)*(m>=0?1:-1)}const s=Math.abs(ti(e).x-ti(n[n.length-1]).x),o=Math.abs(ti(e).y-ti(n[n.length-1]).y),l=Math.abs(ti(e).x-ti(n[0]).x),u=Math.abs(ti(e).y-ti(n[0]).y),h=nl[t.arrowTypeStart],f=nl[t.arrowTypeEnd],d=1;if(s<f&&s>0&&o<f){let p=f+d-s;p*=a==="right"?-1:1,i-=p}if(l<h&&l>0&&u<h){let p=h+d-l;p*=a==="right"?-1:1,i+=p}return ti(e).x+i},"x"),y:k(function(e,r,n){let i=0;const a=ti(n[0]).y<ti(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(nl,t.arrowTypeStart)){const{angle:p,deltaY:m}=Xy(n[0],n[1]);i=nl[t.arrowTypeStart]*Math.abs(Math.sin(p))*(m>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(nl,t.arrowTypeEnd)){const{angle:p,deltaY:m}=Xy(n[n.length-1],n[n.length-2]);i=nl[t.arrowTypeEnd]*Math.abs(Math.sin(p))*(m>=0?1:-1)}const s=Math.abs(ti(e).y-ti(n[n.length-1]).y),o=Math.abs(ti(e).x-ti(n[n.length-1]).x),l=Math.abs(ti(e).y-ti(n[0]).y),u=Math.abs(ti(e).x-ti(n[0]).x),h=nl[t.arrowTypeStart],f=nl[t.arrowTypeEnd],d=1;if(s<f&&s>0&&o<f){let p=f+d-s;p*=a==="up"?-1:1,i-=p}if(l<h&&l>0&&u<h){let p=h+d-l;p*=a==="up"?-1:1,i+=p}return ti(e).y+i},"y")}),"getLineFunctionsWithOffset"),TTe=k((t,e,r,n,i)=>{e.arrowTypeStart&&pz(t,"start",e.arrowTypeStart,r,n,i),e.arrowTypeEnd&&pz(t,"end",e.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),CTe={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},pz=k((t,e,r,n,i,a)=>{const s=CTe[r];if(!s){Ee.warn(`Unknown arrow type: ${r}`);return}const o=e==="start"?"Start":"End";t.attr(`marker-${e}`,`url(${n}#${i}_${a}-${s}${o})`)},"addEdgeMarker"),dS=new Map,Oa=new Map,ATe=k(()=>{dS.clear(),Oa.clear()},"clear"),Cy=k(t=>t?t.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),vte=k(async(t,e)=>{let r=Nn(Ue().flowchart.htmlLabels);const n=await Fl(t,e.label,{style:Cy(e.labelStyle),useHtmlLabels:r,addSvgBackground:!0,isNode:!1});Ee.info("abc82",e,e.labelType);const i=t.insert("g").attr("class","edgeLabel"),a=i.insert("g").attr("class","label");a.node().appendChild(n);let s=n.getBBox();if(r){const l=n.children[0],u=bt(n);s=l.getBoundingClientRect(),u.attr("width",s.width),u.attr("height",s.height)}a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),dS.set(e.id,i),e.width=s.width,e.height=s.height;let o;if(e.startLabelLeft){const l=await d0(e.startLabelLeft,Cy(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=h.node().appendChild(l);const f=l.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),Oa.get(e.id)||Oa.set(e.id,{}),Oa.get(e.id).startLeft=u,jy(o,e.startLabelLeft)}if(e.startLabelRight){const l=await d0(e.startLabelRight,Cy(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=u.node().appendChild(l),h.node().appendChild(l);const f=l.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),Oa.get(e.id)||Oa.set(e.id,{}),Oa.get(e.id).startRight=u,jy(o,e.startLabelRight)}if(e.endLabelLeft){const l=await d0(e.endLabelLeft,Cy(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=h.node().appendChild(l);const f=l.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),u.node().appendChild(l),Oa.get(e.id)||Oa.set(e.id,{}),Oa.get(e.id).endLeft=u,jy(o,e.endLabelLeft)}if(e.endLabelRight){const l=await d0(e.endLabelRight,Cy(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=h.node().appendChild(l);const f=l.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),u.node().appendChild(l),Oa.get(e.id)||Oa.set(e.id,{}),Oa.get(e.id).endRight=u,jy(o,e.endLabelRight)}return n},"insertEdgeLabel");function jy(t,e){Ue().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}k(jy,"setTerminalWidth");var yte=k((t,e)=>{Ee.debug("Moving label abc88 ",t.id,t.label,dS.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath;const n=Ue(),{subGraphTitleTotalMargin:i}=db(n);if(t.label){const a=dS.get(t.id);let s=t.x,o=t.y;if(r){const l=Ir.calcLabelPosition(r);Ee.debug("Moving label "+t.label+" from (",s,",",o,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(s=l.x,o=l.y)}a.attr("transform",`translate(${s}, ${o+i/2})`)}if(t.startLabelLeft){const a=Oa.get(t.id).startLeft;let s=t.x,o=t.y;if(r){const l=Ir.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.startLabelRight){const a=Oa.get(t.id).startRight;let s=t.x,o=t.y;if(r){const l=Ir.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelLeft){const a=Oa.get(t.id).endLeft;let s=t.x,o=t.y;if(r){const l=Ir.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelRight){const a=Oa.get(t.id).endRight;let s=t.x,o=t.y;if(r){const l=Ir.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),_Te=k((t,e)=>{const r=t.x,n=t.y,i=Math.abs(e.x-r),a=Math.abs(e.y-n),s=t.width/2,o=t.height/2;return i>=s||a>=o},"outsideNode"),LTe=k((t,e,r)=>{Ee.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const n=t.x,i=t.y,a=Math.abs(n-r.x),s=t.width/2;let o=r.x<e.x?s-a:s+a;const l=t.height/2,u=Math.abs(e.y-r.y),h=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*s>Math.abs(n-e.x)*l){let f=r.y<e.y?e.y-l-i:i-l-e.y;o=h*f/u;const d={x:r.x<e.x?r.x+o:r.x-h+o,y:r.y<e.y?r.y+u-f:r.y-u+f};return o===0&&(d.x=e.x,d.y=e.y),h===0&&(d.x=e.x),u===0&&(d.y=e.y),Ee.debug(`abc89 top/bottom calc, Q ${u}, q ${f}, R ${h}, r ${o}`,d),d}else{r.x<e.x?o=e.x-s-n:o=n-s-e.x;let f=u*o/h,d=r.x<e.x?r.x+h-o:r.x-h+o,p=r.y<e.y?r.y+f:r.y-f;return Ee.debug(`sides calc abc89, Q ${u}, q ${f}, R ${h}, r ${o}`,{_x:d,_y:p}),o===0&&(d=e.x,p=e.y),h===0&&(d=e.x),u===0&&(p=e.y),{x:d,y:p}}},"intersection"),gz=k((t,e)=>{Ee.warn("abc88 cutPathAtIntersect",t,e);let r=[],n=t[0],i=!1;return t.forEach(a=>{if(Ee.info("abc88 checking point",a,e),!_Te(e,a)&&!i){const s=LTe(e,n,a);Ee.debug("abc88 inside",a,n,s),Ee.debug("abc88 intersection",s,e);let o=!1;r.forEach(l=>{o=o||l.x===s.x&&l.y===s.y}),r.some(l=>l.x===s.x&&l.y===s.y)?Ee.warn("abc88 no intersect",s,r):r.push(s),i=!0}else Ee.warn("abc88 outside",a,n),n=a,i||r.push(a)}),Ee.debug("returning points",r),r},"cutPathAtIntersect");function xte(t){const e=[],r=[];for(let n=1;n<t.length-1;n++){const i=t[n-1],a=t[n],s=t[n+1];(i.x===a.x&&a.y===s.y&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-i.y)>5||i.y===a.y&&a.x===s.x&&Math.abs(a.x-i.x)>5&&Math.abs(a.y-s.y)>5)&&(e.push(a),r.push(n))}return{cornerPoints:e,cornerPointPositions:r}}k(xte,"extractCornerPoints");var mz=k(function(t,e,r){const n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i),s=r/a;return{x:e.x-s*n,y:e.y-s*i}},"findAdjacentPoint"),DTe=k(function(t){const{cornerPointPositions:e}=xte(t),r=[];for(let n=0;n<t.length;n++)if(e.includes(n)){const i=t[n-1],a=t[n+1],s=t[n],o=mz(i,s,5),l=mz(a,s,5),u=l.x-o.x,h=l.y-o.y;r.push(o);const f=Math.sqrt(2)*2;let d={x:s.x,y:s.y};if(Math.abs(a.x-i.x)>10&&Math.abs(a.y-i.y)>=10){Ee.debug("Corner point fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));const p=5;s.x===o.x?d={x:u<0?o.x-p+f:o.x+p-f,y:h<0?o.y-f:o.y+f}:d={x:u<0?o.x-f:o.x+f,y:h<0?o.y-p+f:o.y+p-f}}else Ee.debug("Corner point skipping fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));r.push(d,l)}else r.push(t[n]);return r},"fixCorners"),bte=k(function(t,e,r,n,i,a,s){const{handDrawnSeed:o}=Ue();let l=e.points,u=!1;const h=i;var f=a;f.intersect&&h.intersect&&(l=l.slice(1,e.points.length-1),l.unshift(h.intersect(l[0])),Ee.debug("Last point APA12",e.start,"-->",e.end,l[l.length-1],f,f.intersect(l[l.length-1])),l.push(f.intersect(l[l.length-1]))),e.toCluster&&(Ee.info("to cluster abc88",r.get(e.toCluster)),l=gz(e.points,r.get(e.toCluster).node),u=!0),e.fromCluster&&(Ee.debug("from cluster abc88",r.get(e.fromCluster),JSON.stringify(l,null,2)),l=gz(l.reverse(),r.get(e.fromCluster).node).reverse(),u=!0);let d=l.filter(_=>!Number.isNaN(_.y));d=DTe(d);let p=vb;e.curve&&(p=e.curve);const{x:m,y:v}=mte(e),x=H0().x(m).y(v).curve(p);let y;switch(e.thickness){case"normal":y="edge-thickness-normal";break;case"thick":y="edge-thickness-thick";break;case"invisible":y="edge-thickness-invisible";break;default:y="edge-thickness-normal"}switch(e.pattern){case"solid":y+=" edge-pattern-solid";break;case"dotted":y+=" edge-pattern-dotted";break;case"dashed":y+=" edge-pattern-dashed";break;default:y+=" edge-pattern-solid"}let w,S=x(d);const E=Array.isArray(e.style)?e.style:[e.style];if(e.look==="handDrawn"){const _=lr.svg(t);Object.assign([],d);const I=_.path(S,{roughness:.3,seed:o});y+=" transition",w=bt(I).select("path").attr("id",e.id).attr("class"," "+y+(e.classes?" "+e.classes:"")).attr("style",E?E.reduce((F,M)=>F+";"+M,""):"");let D=w.attr("d");w.attr("d",D),t.node().appendChild(w.node())}else w=t.append("path").attr("d",S).attr("id",e.id).attr("class"," "+y+(e.classes?" "+e.classes:"")).attr("style",E?E.reduce((_,I)=>_+";"+I,""):"");let C="";(Ue().flowchart.arrowMarkerAbsolute||Ue().state.arrowMarkerAbsolute)&&(C=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,C=C.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),Ee.info("arrowTypeStart",e.arrowTypeStart),Ee.info("arrowTypeEnd",e.arrowTypeEnd),TTe(w,e,C,s,n);let L={};return u&&(L.updatedPath=l),L.originalPath=e.points,L},"insertEdge"),RTe=k((t,e,r,n)=>{e.forEach(i=>{HTe[i](t,r,n)})},"insertMarkers"),MTe=k((t,e,r)=>{Ee.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),NTe=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),ITe=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),OTe=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),PTe=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),FTe=k((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),BTe=k((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),$Te=k((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),zTe=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),HTe={extension:MTe,composition:NTe,aggregation:ITe,dependency:OTe,lollipop:PTe,point:FTe,circle:BTe,cross:$Te,barb:zTe},wte=RTe,VTe={common:At,getConfig:ai,insertCluster:sM,insertEdge:bte,insertEdgeLabel:vte,insertMarkers:wte,insertNode:EE,interpolateToCurve:VR,labelHelper:Mr,log:Ee,positionEdgeLabel:yte},yx={},Ste=k(t=>{for(const e of t)yx[e.name]=e},"registerLayoutLoaders"),UTe=k(()=>{Ste([{name:"dagre",loader:k(async()=>await sn(()=>Promise.resolve().then(()=>SOe),void 0,import.meta.url),"loader")}])},"registerDefaultLayoutLoaders");UTe();var oM=k(async(t,e)=>{if(!(t.layoutAlgorithm in yx))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const r=yx[t.layoutAlgorithm];return(await r.loader()).render(t,e,VTe,{algorithm:r.algorithm})},"render"),kte=k((t="",{fallback:e="dagre"}={})=>{if(t in yx)return t;if(e in yx)return Ee.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),B_="11.4.0",fd=k(t=>{var i;const{securityLevel:e}=Ue();let r=bt("body");if(e==="sandbox"){const s=((i=bt(`#i${t}`).node())==null?void 0:i.contentDocument)??document;r=bt(s.body)}return r.select(`#${t}`)},"selectSvgElement"),Ete="comm",Tte="rule",Cte="decl",GTe="@import",WTe="@keyframes",qTe="@layer",Ate=Math.abs,lM=String.fromCharCode;function _te(t){return t.trim()}function x3(t,e,r){return t.replace(e,r)}function YTe(t,e,r){return t.indexOf(e,r)}function xx(t,e){return t.charCodeAt(e)|0}function wm(t,e,r){return t.slice(e,r)}function Pu(t){return t.length}function XTe(t){return t.length}function hw(t,e){return e.push(t),t}var TE=1,Sm=1,Lte=0,Rl=0,zi=0,rv="";function uM(t,e,r,n,i,a,s,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:TE,column:Sm,length:s,return:"",siblings:o}}function jTe(){return zi}function KTe(){return zi=Rl>0?xx(rv,--Rl):0,Sm--,zi===10&&(Sm=1,TE--),zi}function ou(){return zi=Rl<Lte?xx(rv,Rl++):0,Sm++,zi===10&&(Sm=1,TE++),zi}function yf(){return xx(rv,Rl)}function b3(){return Rl}function CE(t,e){return wm(rv,t,e)}function bx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QTe(t){return TE=Sm=1,Lte=Pu(rv=t),Rl=0,[]}function ZTe(t){return rv="",t}function S7(t){return _te(CE(Rl-1,$_(t===91?t+2:t===40?t+1:t)))}function JTe(t){for(;(zi=yf())&&zi<33;)ou();return bx(t)>2||bx(zi)>3?"":" "}function eCe(t,e){for(;--e&&ou()&&!(zi<48||zi>102||zi>57&&zi<65||zi>70&&zi<97););return CE(t,b3()+(e<6&&yf()==32&&ou()==32))}function $_(t){for(;ou();)switch(zi){case t:return Rl;case 34:case 39:t!==34&&t!==39&&$_(zi);break;case 40:t===41&&$_(t);break;case 92:ou();break}return Rl}function tCe(t,e){for(;ou()&&t+zi!==57;)if(t+zi===84&&yf()===47)break;return"/*"+CE(e,Rl-1)+"*"+lM(t===47?t:ou())}function rCe(t){for(;!bx(yf());)ou();return CE(t,Rl)}function nCe(t){return ZTe(w3("",null,null,null,[""],t=QTe(t),0,[0],t))}function w3(t,e,r,n,i,a,s,o,l){for(var u=0,h=0,f=s,d=0,p=0,m=0,v=1,x=1,y=1,w=0,S="",E=i,C=a,L=n,_=S;x;)switch(m=w,w=ou()){case 40:if(m!=108&&xx(_,f-1)==58){YTe(_+=x3(S7(w),"&","&\f"),"&\f",Ate(u?o[u-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:_+=S7(w);break;case 9:case 10:case 13:case 32:_+=JTe(m);break;case 92:_+=eCe(b3()-1,7);continue;case 47:switch(yf()){case 42:case 47:hw(iCe(tCe(ou(),b3()),e,r,l),l),(bx(m||1)==5||bx(yf()||1)==5)&&Pu(_)&&wm(_,-1,void 0)!==" "&&(_+=" ");break;default:_+="/"}break;case 123*v:o[u++]=Pu(_)*y;case 125*v:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+h:y==-1&&(_=x3(_,/\f/g,"")),p>0&&(Pu(_)-f||v===0&&m===47)&&hw(p>32?yz(_+";",n,r,f-1,l):yz(x3(_," ","")+";",n,r,f-2,l),l);break;case 59:_+=";";default:if(hw(L=vz(_,e,r,u,h,i,o,S,E=[],C=[],f,a),a),w===123)if(h===0)w3(_,e,L,L,E,a,f,o,C);else switch(d===99&&xx(_,3)===110?100:d){case 100:case 108:case 109:case 115:w3(t,L,L,n&&hw(vz(t,L,L,0,0,i,o,S,i,E=[],f,C),C),i,C,f,o,n?E:C);break;default:w3(_,L,L,L,[""],C,0,o,C)}}u=h=p=0,v=y=1,S=_="",f=s;break;case 58:f=1+Pu(_),p=m;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&KTe()==125)continue}switch(_+=lM(w),w*v){case 38:y=h>0?1:(_+="\f",-1);break;case 44:o[u++]=(Pu(_)-1)*y,y=1;break;case 64:yf()===45&&(_+=S7(ou())),d=yf(),h=f=Pu(S=_+=rCe(b3())),w++;break;case 45:m===45&&Pu(_)==2&&(v=0)}}return a}function vz(t,e,r,n,i,a,s,o,l,u,h,f){for(var d=i-1,p=i===0?a:[""],m=XTe(p),v=0,x=0,y=0;v<n;++v)for(var w=0,S=wm(t,d+1,d=Ate(x=s[v])),E=t;w<m;++w)(E=_te(x>0?p[w]+" "+S:x3(S,/&\f/g,p[w])))&&(l[y++]=E);return uM(t,e,r,i===0?Tte:o,l,u,h,f)}function iCe(t,e,r,n){return uM(t,e,r,Ete,lM(jTe()),wm(t,2,-2),0,n)}function yz(t,e,r,n,i){return uM(t,e,r,Cte,wm(t,0,n),wm(t,n+1,-1),n,i)}function z_(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function aCe(t,e,r,n){switch(t.type){case qTe:if(t.children.length)break;case GTe:case Cte:return t.return=t.return||t.value;case Ete:return"";case WTe:return t.return=t.value+"{"+z_(t.children,n)+"}";case Tte:if(!Pu(t.value=t.props.join(",")))return""}return Pu(r=z_(t.children,n))?t.return=t.value+"{"+r+"}":""}var sCe=tJ(Object.keys,Object),oCe=Object.prototype,lCe=oCe.hasOwnProperty;function Dte(t){if(!xb(t))return sCe(t);var e=[];for(var r in Object(t))lCe.call(t,r)&&r!="constructor"&&e.push(r);return e}var H_=yp(uc,"DataView"),V_=yp(uc,"Promise"),r1=yp(uc,"Set"),U_=yp(uc,"WeakMap"),xz="[object Map]",uCe="[object Object]",bz="[object Promise]",wz="[object Set]",Sz="[object WeakMap]",kz="[object DataView]",cCe=vp(H_),hCe=vp(mx),fCe=vp(V_),dCe=vp(r1),pCe=vp(U_),hl=Ah;(H_&&hl(new H_(new ArrayBuffer(1)))!=kz||mx&&hl(new mx)!=xz||V_&&hl(V_.resolve())!=bz||r1&&hl(new r1)!=wz||U_&&hl(new U_)!=Sz)&&(hl=function(t){var e=Ah(t),r=e==uCe?t.constructor:void 0,n=r?vp(r):"";if(n)switch(n){case cCe:return kz;case hCe:return xz;case fCe:return bz;case dCe:return wz;case pCe:return Sz}return e});var gCe="[object Map]",mCe="[object Set]",vCe=Object.prototype,yCe=vCe.hasOwnProperty;function un(t){if(t==null)return!0;if(cc(t)&&(Ur(t)||typeof t=="string"||typeof t.splice=="function"||bm(t)||mE(t)||xm(t)))return!t.length;var e=hl(t);if(e==gCe||e==mCe)return!t.size;if(xb(t))return!Dte(t).length;for(var r in t)if(yCe.call(t,r))return!1;return!0}var Rte="c4",xCe=k(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),bCe=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>bPe);return{diagram:e}},void 0,import.meta.url);return{id:Rte,diagram:t}},"loader"),wCe={id:Rte,detector:xCe,loader:bCe},SCe=wCe,Mte="flowchart",kCe=k((t,e)=>{var r,n;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)},"detector"),ECe=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>bN);return{diagram:e}},void 0,import.meta.url);return{id:Mte,diagram:t}},"loader"),TCe={id:Mte,detector:kCe,loader:ECe},CCe=TCe,Nte="flowchart-v2",ACe=k((t,e)=>{var r,n,i;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(t))},"detector"),_Ce=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>bN);return{diagram:e}},void 0,import.meta.url);return{id:Nte,diagram:t}},"loader"),LCe={id:Nte,detector:ACe,loader:_Ce},DCe=LCe,Ite="er",RCe=k(t=>/^\s*erDiagram/.test(t),"detector"),MCe=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>UFe);return{diagram:e}},void 0,import.meta.url);return{id:Ite,diagram:t}},"loader"),NCe={id:Ite,detector:RCe,loader:MCe},ICe=NCe,Ote="gitGraph",OCe=k(t=>/^\s*gitGraph/.test(t),"detector"),PCe=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>cWe);return{diagram:e}},void 0,import.meta.url);return{id:Ote,diagram:t}},"loader"),FCe={id:Ote,detector:OCe,loader:PCe},BCe=FCe,Pte="gantt",$Ce=k(t=>/^\s*gantt/.test(t),"detector"),zCe=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>oqe);return{diagram:e}},void 0,import.meta.url);return{id:Pte,diagram:t}},"loader"),HCe={id:Pte,detector:$Ce,loader:zCe},VCe=HCe,Fte="info",UCe=k(t=>/^\s*info/.test(t),"detector"),GCe=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>gqe);return{diagram:e}},void 0,import.meta.url);return{id:Fte,diagram:t}},"loader"),WCe={id:Fte,detector:UCe,loader:GCe},Bte="pie",qCe=k(t=>/^\s*pie/.test(t),"detector"),YCe=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>Rqe);return{diagram:e}},void 0,import.meta.url);return{id:Bte,diagram:t}},"loader"),XCe={id:Bte,detector:qCe,loader:YCe},$te="quadrantChart",jCe=k(t=>/^\s*quadrantChart/.test(t),"detector"),KCe=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>zqe);return{diagram:e}},void 0,import.meta.url);return{id:$te,diagram:t}},"loader"),QCe={id:$te,detector:jCe,loader:KCe},ZCe=QCe,zte="xychart",JCe=k(t=>/^\s*xychart-beta/.test(t),"detector"),e6e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>tYe);return{diagram:e}},void 0,import.meta.url);return{id:zte,diagram:t}},"loader"),t6e={id:zte,detector:JCe,loader:e6e},r6e=t6e,Hte="requirement",n6e=k(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),i6e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>NYe);return{diagram:e}},void 0,import.meta.url);return{id:Hte,diagram:t}},"loader"),a6e={id:Hte,detector:n6e,loader:i6e},s6e=a6e,Vte="sequence",o6e=k(t=>/^\s*sequenceDiagram/.test(t),"detector"),l6e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>IXe);return{diagram:e}},void 0,import.meta.url);return{id:Vte,diagram:t}},"loader"),u6e={id:Vte,detector:o6e,loader:l6e},c6e=u6e,Ute="class",h6e=k((t,e)=>{var r;return((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t)},"detector"),f6e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>fje);return{diagram:e}},void 0,import.meta.url);return{id:Ute,diagram:t}},"loader"),d6e={id:Ute,detector:h6e,loader:f6e},p6e=d6e,Gte="classDiagram",g6e=k((t,e)=>{var r;return/^\s*classDiagram/.test(t)&&((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t)},"detector"),m6e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>pje);return{diagram:e}},void 0,import.meta.url);return{id:Gte,diagram:t}},"loader"),v6e={id:Gte,detector:g6e,loader:m6e},y6e=v6e,Wte="state",x6e=k((t,e)=>{var r;return((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t)},"detector"),b6e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>TKe);return{diagram:e}},void 0,import.meta.url);return{id:Wte,diagram:t}},"loader"),w6e={id:Wte,detector:x6e,loader:b6e},S6e=w6e,qte="stateDiagram",k6e=k((t,e)=>{var r;return!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),E6e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>AKe);return{diagram:e}},void 0,import.meta.url);return{id:qte,diagram:t}},"loader"),T6e={id:qte,detector:k6e,loader:E6e},C6e=T6e,Yte="journey",A6e=k(t=>/^\s*journey/.test(t),"detector"),_6e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>jKe);return{diagram:e}},void 0,import.meta.url);return{id:Yte,diagram:t}},"loader"),L6e={id:Yte,detector:A6e,loader:_6e},D6e=L6e,R6e=k((t,e,r)=>{Ee.debug(`rendering svg for syntax error
`);const n=fd(e),i=n.append("g");n.attr("viewBox","0 0 2412 512"),xs(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),Xte={draw:R6e},M6e=Xte,N6e={db:{},renderer:Xte,parser:{parse:k(()=>{},"parse")}},I6e=N6e,jte="flowchart-elk",O6e=k((t,e={})=>{var r;return/^\s*flowchart-elk/.test(t)||/^\s*flowchart|graph/.test(t)&&((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(e.layout="elk",!0):!1},"detector"),P6e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>bN);return{diagram:e}},void 0,import.meta.url);return{id:jte,diagram:t}},"loader"),F6e={id:jte,detector:O6e,loader:P6e},B6e=F6e,Kte="timeline",$6e=k(t=>/^\s*timeline/.test(t),"detector"),z6e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>vQe);return{diagram:e}},void 0,import.meta.url);return{id:Kte,diagram:t}},"loader"),H6e={id:Kte,detector:$6e,loader:z6e},V6e=H6e,Qte="mindmap",U6e=k(t=>/^\s*mindmap/.test(t),"detector"),G6e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>Mat);return{diagram:e}},void 0,import.meta.url);return{id:Qte,diagram:t}},"loader"),W6e={id:Qte,detector:U6e,loader:G6e},q6e=W6e,Zte="kanban",Y6e=k(t=>/^\s*kanban/.test(t),"detector"),X6e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>Zat);return{diagram:e}},void 0,import.meta.url);return{id:Zte,diagram:t}},"loader"),j6e={id:Zte,detector:Y6e,loader:X6e},K6e=j6e,Jte="sankey",Q6e=k(t=>/^\s*sankey-beta/.test(t),"detector"),Z6e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>Ist);return{diagram:e}},void 0,import.meta.url);return{id:Jte,diagram:t}},"loader"),J6e={id:Jte,detector:Q6e,loader:Z6e},e7e=J6e,ere="packet",t7e=k(t=>/^\s*packet-beta/.test(t),"detector"),r7e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>Kst);return{diagram:e}},void 0,import.meta.url);return{id:ere,diagram:t}},"loader"),n7e={id:ere,detector:t7e,loader:r7e},tre="block",i7e=k(t=>/^\s*block-beta/.test(t),"detector"),a7e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>Slt);return{diagram:e}},void 0,import.meta.url);return{id:tre,diagram:t}},"loader"),s7e={id:tre,detector:i7e,loader:a7e},o7e=s7e,rre="architecture",l7e=k(t=>/^\s*architecture/.test(t),"detector"),u7e=k(async()=>{const{diagram:t}=await sn(async()=>{const{diagram:e}=await Promise.resolve().then(()=>aut);return{diagram:e}},void 0,import.meta.url);return{id:rre,diagram:t}},"loader"),c7e={id:rre,detector:l7e,loader:u7e},h7e=c7e,Ez=!1,AE=k(()=>{Ez||(Ez=!0,L5("error",I6e,t=>t.toLowerCase().trim()==="error"),L5("---",{db:{clear:k(()=>{},"clear")},styles:{},renderer:{draw:k(()=>{},"draw")},parser:{parse:k(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:k(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),Fj(SCe,K6e,y6e,p6e,ICe,VCe,WCe,XCe,s6e,c6e,B6e,DCe,CCe,q6e,V6e,BCe,C6e,S6e,D6e,ZCe,e7e,n7e,r6e,o7e,h7e))},"addDiagrams"),f7e=k(async()=>{Ee.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(om).map(async([r,{detector:n,loader:i}])=>{if(i)try{jA(r)}catch{try{const{diagram:a,id:s}=await i();L5(s,a,n)}catch(a){throw Ee.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete om[r],a}}}))).filter(r=>r.status==="rejected");if(e.length>0){Ee.error(`Failed to load ${e.length} external diagrams`);for(const r of e)Ee.error(r);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),d7e="graphics-document document";function nre(t,e){t.attr("role",d7e),e!==""&&t.attr("aria-roledescription",e)}k(nre,"setA11yDiagramInfo");function ire(t,e,r,n){if(t.insert!==void 0){if(r){const i=`chart-desc-${n}`;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(r)}if(e){const i=`chart-title-${n}`;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}}k(ire,"addSVGa11yTitleDescription");var A0,G_=(A0=class{constructor(e,r,n,i,a){this.type=e,this.text=r,this.db=n,this.parser=i,this.renderer=a}static async fromText(e,r={}){var u,h;const n=ai(),i=oR(e,n);e=Kke(e)+`
`;try{jA(i)}catch{const f=rve(i);if(!f)throw new Pj(`Diagram ${i} not found.`);const{id:d,diagram:p}=await f();L5(d,p)}const{db:a,parser:s,renderer:o,init:l}=jA(i);return s.parser&&(s.parser.yy=a),(u=a.clear)==null||u.call(a),l==null||l(n),r.title&&((h=a.setDiagramTitle)==null||h.call(a,r.title)),await s.parse(e),new A0(i,e,a,s,o)}async render(e,r){await this.renderer.draw(this.text,e,r,this)}getParser(){return this.parser}getType(){return this.type}},k(A0,"Diagram"),A0),Tz=[],p7e=k(()=>{Tz.forEach(t=>{t()}),Tz=[]},"attachFunctions"),g7e=k(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function are(t){const e=t.match(Oj);if(!e)return{text:t,metadata:{}};let r=SR(e[1],{schema:wR})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:t.slice(e[0].length),metadata:n}}k(are,"extractFrontMatter");var m7e=k(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),v7e=k(t=>{const{text:e,metadata:r}=are(t),{displayMode:n,title:i,config:a={}}=r;return n&&(a.gantt||(a.gantt={}),a.gantt.displayMode=n),{title:i,config:a,text:e}},"processFrontmatter"),y7e=k(t=>{const e=Ir.detectInit(t)??{},r=Ir.detectDirective(t,"wrap");return Array.isArray(r)?e.wrap=r.some(({type:n})=>n==="wrap"):(r==null?void 0:r.type)==="wrap"&&(e.wrap=!0),{text:zke(t),directive:e}},"processDirectives");function cM(t){const e=m7e(t),r=v7e(e),n=y7e(r.text),i=Dh(r.config,n.directive);return t=g7e(n.text),{code:t,title:r.title,config:i}}k(cM,"preprocessDiagram");function sre(t){const e=new TextEncoder().encode(t),r=Array.from(e,n=>String.fromCodePoint(n)).join("");return btoa(r)}k(sre,"toBase64");var x7e=5e4,b7e="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",w7e="sandbox",S7e="loose",k7e="http://www.w3.org/2000/svg",E7e="http://www.w3.org/1999/xlink",T7e="http://www.w3.org/1999/xhtml",C7e="100%",A7e="100%",_7e="border:0;margin:0;",L7e="margin:0",D7e="allow-top-navigation-by-user-activation allow-popups",R7e='The "iframe" tag is not supported by your browser.',M7e=["foreignobject"],N7e=["dominant-baseline"];function hM(t){const e=cM(t);return A5(),vve(e.config??{}),e}k(hM,"processAndSetConfigs");async function ore(t,e){AE();try{const{code:r,config:n}=hM(t);return{diagramType:(await ure(r)).type,config:n}}catch(r){if(e!=null&&e.suppressErrors)return!1;throw r}}k(ore,"parse");var Cz=k((t,e,r=[])=>`
.${t} ${e} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),I7e=k((t,e=new Map)=>{var n;let r="";if(t.themeCSS!==void 0&&(r+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const o=t.htmlLabels??((n=t.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(l=>{un(l.styles)||o.forEach(u=>{r+=Cz(l.id,u,l.styles)}),un(l.textStyles)||(r+=Cz(l.id,"tspan",((l==null?void 0:l.textStyles)||[]).map(u=>u.replace("color","fill"))))})}return r},"createCssStyles"),O7e=k((t,e,r,n)=>{const i=I7e(t,r),a=Ove(e,i,t.themeVariables);return z_(nCe(`${n}{${a}}`),aCe)},"createUserStyles"),P7e=k((t="",e,r)=>{let n=t;return!r&&!e&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=dh(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),F7e=k((t="",e)=>{var i,a;const r=(a=(i=e==null?void 0:e.viewBox)==null?void 0:i.baseVal)!=null&&a.height?e.viewBox.baseVal.height+"px":A7e,n=sre(`<body style="${L7e}">${t}</body>`);return`<iframe style="width:${C7e};height:${r};${_7e}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${D7e}">
  ${R7e}
</iframe>`},"putIntoIFrame"),Az=k((t,e,r,n,i)=>{const a=t.append("div");a.attr("id",r),n&&a.attr("style",n);const s=a.append("svg").attr("id",e).attr("width","100%").attr("xmlns",k7e);return i&&s.attr("xmlns:xlink",i),s.append("g"),t},"appendDivSvgG");function W_(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}k(W_,"sandboxedIframe");var B7e=k((t,e,r,n)=>{var i,a,s;(i=t.getElementById(e))==null||i.remove(),(a=t.getElementById(r))==null||a.remove(),(s=t.getElementById(n))==null||s.remove()},"removeExistingElements"),$7e=k(async function(t,e,r){var B,H,R,O,P,z;AE();const n=hM(e);e=n.code;const i=ai();Ee.debug(i),e.length>((i==null?void 0:i.maxTextSize)??x7e)&&(e=b7e);const a="#"+t,s="i"+t,o="#"+s,l="d"+t,u="#"+l,h=k(()=>{const V=bt(d?o:u).node();V&&"remove"in V&&V.remove()},"removeTempElements");let f=bt("body");const d=i.securityLevel===w7e,p=i.securityLevel===S7e,m=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),d){const $=W_(bt(r),s);f=bt($.nodes()[0].contentDocument.body),f.node().style.margin=0}else f=bt(r);Az(f,t,l,`font-family: ${m}`,E7e)}else{if(B7e(document,t,l,s),d){const $=W_(bt("body"),s);f=bt($.nodes()[0].contentDocument.body),f.node().style.margin=0}else f=bt("body");Az(f,t,l)}let v,x;try{v=await G_.fromText(e,{title:n.title})}catch($){if(i.suppressErrorRendering)throw h(),$;v=await G_.fromText("error"),x=$}const y=f.select(u).node(),w=v.type,S=y.firstChild,E=S.firstChild,C=(H=(B=v.renderer).getClasses)==null?void 0:H.call(B,e,v),L=O7e(i,w,C,a),_=document.createElement("style");_.innerHTML=L,S.insertBefore(_,E);try{await v.renderer.draw(e,t,B_,v)}catch($){throw i.suppressErrorRendering?h():M6e.draw(e,t,B_),$}const I=f.select(`${u} svg`),D=(O=(R=v.db).getAccTitle)==null?void 0:O.call(R),F=(z=(P=v.db).getAccDescription)==null?void 0:z.call(P);cre(w,I,D,F),f.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",T7e);let M=f.select(u).node().innerHTML;if(Ee.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),M=P7e(M,d,Nn(i.arrowMarkerAbsolute)),d){const $=f.select(u+" svg").node();M=F7e(M,$)}else p||(M=sm.sanitize(M,{ADD_TAGS:M7e,ADD_ATTR:N7e}));if(p7e(),x)throw x;return h(),{diagramType:w,svg:M,bindFunctions:v.db.bindFunctions}},"render");function lre(t={}){var n;const e=ia({},t);e!=null&&e.fontFamily&&!((n=e.themeVariables)!=null&&n.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),gve(e),e!=null&&e.theme&&e.theme in Jc?e.themeVariables=Jc[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Jc.default.getThemeVariables(e.themeVariables));const r=typeof e=="object"?pve(e):Vj();sR(r.logLevel),AE()}k(lre,"initialize");var ure=k((t,e={})=>{const{code:r}=cM(t);return G_.fromText(r,e)},"getDiagramFromText");function cre(t,e,r,n){nre(e,t),ire(e,r,n,e.attr("id"))}k(cre,"addA11yInfo");var G0=Object.freeze({render:$7e,parse:ore,getDiagramFromText:ure,initialize:lre,getConfig:ai,setConfig:Uj,getSiteConfig:Vj,updateSiteConfig:mve,reset:k(()=>{A5()},"reset"),globalReset:k(()=>{A5(lm)},"globalReset"),defaultConfig:lm});sR(ai().logLevel);A5(ai());var z7e=k((t,e,r)=>{Ee.warn(t),YR(t)?(r&&r(t.str,t.hash),e.push({...t,message:t.str,error:t})):(r&&r(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),hre=k(async function(t={querySelector:".mermaid"}){try{await H7e(t)}catch(e){if(YR(e)&&Ee.error(e.str),$o.parseError&&$o.parseError(e),!t.suppressErrors)throw Ee.error("Use the suppressErrors option to suppress these errors"),e}},"run"),H7e=k(async function({postRenderCallback:t,querySelector:e,nodes:r}={querySelector:".mermaid"}){const n=G0.getConfig();Ee.debug(`${t?"":"No "}Callback function found`);let i;if(r)i=r;else if(e)i=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");Ee.debug(`Found ${i.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(Ee.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),G0.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const a=new Ir.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let s;const o=[];for(const l of Array.from(i)){if(Ee.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${a.next()}`;s=l.innerHTML,s=OJ(Ir.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=Ir.detectInit(s);h&&Ee.debug("Detected early reinit: ",h);try{const{svg:f,bindFunctions:d}=await gre(u,s,l);l.innerHTML=f,t&&await t(u),d&&d(l)}catch(f){z7e(f,o,$o.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),fre=k(function(t){G0.initialize(t)},"initialize"),V7e=k(async function(t,e,r){Ee.warn("mermaid.init is deprecated. Please use run instead."),t&&fre(t);const n={postRenderCallback:r,querySelector:".mermaid"};typeof e=="string"?n.querySelector=e:e&&(e instanceof HTMLElement?n.nodes=[e]:n.nodes=e),await hre(n)},"init"),U7e=k(async(t,{lazyLoad:e=!0}={})=>{AE(),Fj(...t),e===!1&&await f7e()},"registerExternalDiagrams"),dre=k(function(){if($o.startOnLoad){const{startOnLoad:t}=G0.getConfig();t&&$o.run().catch(e=>Ee.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",dre,!1);var G7e=k(function(t){$o.parseError=t},"setParseErrorHandler"),pS=[],k7=!1,pre=k(async()=>{if(!k7){for(k7=!0;pS.length>0;){const t=pS.shift();if(t)try{await t()}catch(e){Ee.error("Error executing queue",e)}}k7=!1}},"executeQueue"),W7e=k(async(t,e)=>new Promise((r,n)=>{const i=k(()=>new Promise((a,s)=>{G0.parse(t,e).then(o=>{a(o),r(o)},o=>{var l;Ee.error("Error parsing",o),(l=$o.parseError)==null||l.call($o,o),s(o),n(o)})}),"performCall");pS.push(i),pre().catch(n)}),"parse"),gre=k((t,e,r)=>new Promise((n,i)=>{const a=k(()=>new Promise((s,o)=>{G0.render(t,e,r).then(l=>{s(l),n(l)},l=>{var u;Ee.error("Error parsing",l),(u=$o.parseError)==null||u.call($o,l),o(l),i(l)})}),"performCall");pS.push(a),pre().catch(i)}),"render"),$o={startOnLoad:!0,mermaidAPI:G0,parse:W7e,render:gre,init:V7e,run:hre,registerExternalDiagrams:U7e,registerLayoutLoaders:Ste,initialize:fre,parseError:void 0,contentLoaded:dre,setParseErrorHandler:G7e,detectType:oR,registerIconPacks:FQ},_z=$o;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const q7e=(t,e)=>t.reduce((r,n)=>{const i=e(n),a=r.get(i);return a?a.push(n):r.set(i,[n]),r},new Map),th=t=>t.replace(/(\s|　|,|、|，)/gm,"").replace("。",".").replace("ー","-").normalize("NFKC"),E7=t=>{if(t===void 0)return{ok:!0,num:void 0,formatted:""};const e=th(t).replace(",","");if(e==="")return{ok:!0,num:void 0,formatted:""};const r=Number(e);return isNaN(r)?{ok:!1,num:void 0,formatted:t}:r===1/0?{ok:!1,num:void 0,formatted:t}:{ok:!0,num:r,formatted:r.toString()}};function Y7e(t){const e=[];for(const r of t){const n=[];for(const i of r)if(i.includes('"')||i.includes(`
`)){const a=i.replace(/"/g,'""');n.push(`"${a}"`)}else n.push(i);e.push(n.join("	"))}return e.join(`\r
`)}function X7e(t){const e=t.replace(/\r\n/g,`
`),r=`
`,n="	",i='"',a=[];let s=[],o="",l="outOfValue",u=0;for(;u<e.length;){const h=e[u];if(l==="quotedValue")if(h===i){u++;const f=e[u];if(f===i){o+=f,u++;continue}s.push(o),o="",l="outOfValue";continue}else{o+=h,u++;continue}else if(l==="valueWithoutQuote")if(h===n){s.push(o),o="",u++;continue}else if(h===r){s.push(o),a.push(s),o="",s=[],u++;continue}else{o+=h,u++;continue}else if(h===n){u++;continue}else if(h===r){s.push(o),a.push(s),o="",s=[],u++;continue}else if(h===i){l="quotedValue",u++;continue}else{l="valueWithoutQuote",o=h,u++;continue}}return o!==""&&s.push(o),s.length>0&&a.push(s),a}const mre=t=>(e,r)=>{const n=t(e);return r(n)},_E=(t,e,r)=>{const n=mre(e),i=()=>{},a=mt.createContext([t(),i]);return[(r==null?void 0:r(a,n))??(({children:l})=>{const u=mt.useReducer(n,t());return Xe.jsx(a.Provider,{value:u,children:l})}),()=>mt.useContext(a)]},j7e=(t,e)=>{const r=()=>{},n=mt.createContext([t(),r]);return{reducer:mre(e),ContextProvider:n.Provider,useContext:()=>mt.useContext(n)}},LE=t=>mt.forwardRef(t),vre=(t,e,r)=>{const n=je.useCallback(e,r);je.useEffect(()=>{const i=a=>{t.current&&(t.current.contains(a.target)||n())};return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[t,n])},K7e=t=>{const e=mt.useRef([]);for(let r=0;r<t;r++)e.current[r]=mt.createRef();return e},Q7e=t=>{const e=L1e(t);return{...e,registerEx:r=>({name:r,value:e.watch(r),onChange:n=>{e.setValue(r,n)}})}};/**
 * UUID.js - RFC-compliant UUID Generator for JavaScript
 *
 * @author  LiosK
 * @version v5.1.0
 * @license Apache License 2.0: Copyright (c) 2010-2024 LiosK
 * @packageDocumentation
 */var fn;class hc{static generate(){var e=fn._getRandomInt,r=fn._hexAligner;return r(e(32),8)+"-"+r(e(16),4)+"-"+r(16384|e(12),4)+"-"+r(32768|e(14),4)+"-"+r(e(48),12)}static _getRandomInt(e){if(e<0||e>53)return NaN;var r=0|Math.random()*1073741824;return e>30?r+(0|Math.random()*(1<<e-30))*1073741824:r>>>30-e}static _hexAligner(e,r){for(var n=e.toString(16),i=r-n.length,a="0";i>0;i>>>=1,a+=a)i&1&&(n=a+n);return n}static useMathRandom(){fn._getRandomInt=fn._mathPRNG}static genV4(){var e=fn._getRandomInt;return new fn(e(32),e(16),16384|e(12),128|e(6),e(8),e(48))}static parse(e){var r,n=/^\s*(urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(\})?\s*$/i;if(r=n.exec(e)){var i=r[1]||"",a=r[8]||"";if(i+a===""||i==="{"&&a==="}"||i.toLowerCase()==="urn:uuid:"&&a==="")return new fn(parseInt(r[2],16),parseInt(r[3],16),parseInt(r[4],16),parseInt(r[5],16),parseInt(r[6],16),parseInt(r[7],16))}return null}constructor(e,r,n,i,a,s){var o=fn.FIELD_NAMES,l=fn.FIELD_SIZES,u=fn._binAligner,h=fn._hexAligner;this.intFields=new Array(6),this.bitFields=new Array(6),this.hexFields=new Array(6);for(var f=0;f<6;f++){var d=parseInt(arguments[f]||0);this.intFields[f]=this.intFields[o[f]]=d,this.bitFields[f]=this.bitFields[o[f]]=u(d,l[f]),this.hexFields[f]=this.hexFields[o[f]]=h(d,l[f]>>>2)}this.version=this.intFields.timeHiAndVersion>>>12&15,this.bitString=this.bitFields.join(""),this.hexNoDelim=this.hexFields.join(""),this.hexString=this.hexFields[0]+"-"+this.hexFields[1]+"-"+this.hexFields[2]+"-"+this.hexFields[3]+this.hexFields[4]+"-"+this.hexFields[5],this.urn="urn:uuid:"+this.hexString}static _binAligner(e,r){for(var n=e.toString(2),i=r-n.length,a="0";i>0;i>>>=1,a+=a)i&1&&(n=a+n);return n}toString(){return this.hexString}equals(e){if(!(e instanceof fn))return!1;for(var r=0;r<6;r++)if(this.intFields[r]!==e.intFields[r])return!1;return!0}static genV1(){fn._state==null&&(fn._state=new T7);var e=new Date().getTime(),r=fn._state;e!=r.timestamp?(e<r.timestamp&&r.sequence++,r.timestamp=e,r.tick=fn._getRandomInt(12)):r.tick<9992?r.tick+=1+fn._getRandomInt(3):r.sequence++;var n=fn._getTimeFieldValues(r.timestamp),i=n.low+r.tick,a=n.hi&4095|4096;r.sequence&=16383;var s=r.sequence>>>8|128,o=r.sequence&255;return new fn(i,n.mid,a,s,o,r.node)}static resetState(){fn._state=new T7}static _getTimeFieldValues(e){var r=e-Date.UTC(1582,9,15),n=r/4294967296*1e4&268435455;return{low:(r&268435455)*1e4%4294967296,mid:n&65535,hi:n>>>16,timestamp:r}}static genV6(){fn._state==null&&(fn._state=new T7);var e=new Date().getTime(),r=fn._state;e!=r.timestamp?(e<r.timestamp&&r.sequence++,r.timestamp=e,r.tick=fn._getRandomInt(12)):r.tick<9992?r.tick+=1+fn._getRandomInt(3):r.sequence++;var n=r.timestamp-Date.UTC(1582,9,15),i=Math.floor(n/268435456*1e4)%4294967296,a=((n&268435455)*1e4&268435455)+r.tick,s=a>>>12,o=a&4095|24576;r.sequence&=16383;var l=r.sequence>>>8|128,u=r.sequence&255;return new fn(i,s,o,l,u,r.node)}}fn=hc;hc._mathPRNG=fn._getRandomInt;typeof crypto<"u"&&crypto.getRandomValues&&(fn._getRandomInt=t=>{if(t<0||t>53)return NaN;var e=new Uint32Array(t>32?2:1);return crypto.getRandomValues(e),t>32?e[0]+(e[1]>>>64-t)*4294967296:e[0]>>>32-t});hc.FIELD_NAMES=["timeLow","timeMid","timeHiAndVersion","clockSeqHiAndReserved","clockSeqLow","node"];hc.FIELD_SIZES=[32,16,16,8,8,48];hc.NIL=new fn(0,0,0,0,0,0);hc._state=null;class T7{constructor(){var e=hc._getRandomInt;this.timestamp=0,this.tick=0,this.sequence=e(14),this.node=(e(8)|1)*1099511627776+e(40)}}const ni=t=>{const e=t.inline?"inline-flex":"flex",r=t.iconRight?"flex-row-reverse":"flex-row";let n=`${e} ${r} justify-center items-center gap-1 select-none ${t.className}`;(t.fill||t.outline)&&(n+=t.mini?" px-1 py-px":" px-2 py-1"),t.fill?n+=t.loading?" button-style-fill-loading":" button-style-fill":t.outline?n+=t.loading?" button-style-outline-loading":" button-style-outline":t.underline?n+=t.loading?" button-style-link-loading":" button-style-link":n+=t.loading?" button-style-text-loading":" button-style-text";let i="animate-spin h-4 w-4 border-2 rounded-full border-t-transparent";return t.fill?i+=" border-sky-50":t.underline?i+=" border-sky-300":i+=" border-sky-500",Xe.jsxs("button",{type:t.submit?void 0:"button",onClick:t.loading?void 0:t.onClick,className:n,title:t.hideText?t.children:void 0,tabIndex:t.tabIndex,form:t.form,children:[t.icon&&!t.loading&&mt.createElement(t.icon,{className:"w-4"}),t.icon&&t.loading&&Xe.jsx("div",{className:i}),!t.hideText&&t.children&&Xe.jsxs("span",{className:`text-sm whitespace-nowrap relative ${t.loading&&!t.icon,""}`,children:[t.children,t.loading&&!t.icon&&Xe.jsx("div",{className:`absolute inset-0 m-auto ${i}`})]})]})},Aa=t=>LE(t);function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q_(t,e)}function DE(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,q_(t,e)}var RE=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(n){var i=this,a=n||function(){};return this.listeners.push(a),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(s){return s!==a}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function bn(){return bn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bn.apply(this,arguments)}var yre=typeof window>"u";function Os(){}function Z7e(t,e){return typeof t=="function"?t(e):t}function J7e(t){return typeof t=="number"&&t>=0&&t!==1/0}function gS(t){return Array.isArray(t)?t:[t]}function e8e(t,e){return Math.max(t+(e||0)-Date.now(),0)}function C7(t,e,r){return ME(t)?typeof e=="function"?bn({},r,{queryKey:t,queryFn:e}):bn({},e,{queryKey:t}):t}function af(t,e,r){return ME(t)?[bn({},e,{queryKey:t}),r]:[t||{},e]}function t8e(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var r=t??!e;return r?"active":"inactive"}function Lz(t,e){var r=t.active,n=t.exact,i=t.fetching,a=t.inactive,s=t.predicate,o=t.queryKey,l=t.stale;if(ME(o)){if(n){if(e.queryHash!==fM(o,e.options))return!1}else if(!mS(e.queryKey,o))return!1}var u=t8e(r,a);if(u==="none")return!1;if(u!=="all"){var h=e.isActive();if(u==="active"&&!h||u==="inactive"&&h)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||s&&!s(e))}function Dz(t,e){var r=t.exact,n=t.fetching,i=t.predicate,a=t.mutationKey;if(ME(a)){if(!e.options.mutationKey)return!1;if(r){if(p0(e.options.mutationKey)!==p0(a))return!1}else if(!mS(e.options.mutationKey,a))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||i&&!i(e))}function fM(t,e){var r=(e==null?void 0:e.queryKeyHashFn)||p0;return r(t)}function p0(t){var e=gS(t);return r8e(e)}function r8e(t){return JSON.stringify(t,function(e,r){return Y_(r)?Object.keys(r).sort().reduce(function(n,i){return n[i]=r[i],n},{}):r})}function mS(t,e){return xre(gS(t),gS(e))}function xre(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(r){return!xre(t[r],e[r])}):!1}function bre(t,e){if(t===e)return t;var r=Array.isArray(t)&&Array.isArray(e);if(r||Y_(t)&&Y_(e)){for(var n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),a=i.length,s=r?[]:{},o=0,l=0;l<a;l++){var u=r?l:i[l];s[u]=bre(t[u],e[u]),s[u]===t[u]&&o++}return n===a&&o===n?t:s}return e}function Y_(t){if(!Rz(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var r=e.prototype;return!(!Rz(r)||!r.hasOwnProperty("isPrototypeOf"))}function Rz(t){return Object.prototype.toString.call(t)==="[object Object]"}function ME(t){return typeof t=="string"||Array.isArray(t)}function n8e(t){return new Promise(function(e){setTimeout(e,t)})}function Mz(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function wre(){if(typeof AbortController=="function")return new AbortController}var i8e=function(t){DE(e,t);function e(){var n;return n=t.call(this)||this,n.setup=function(i){var a;if(!yre&&((a=window)!=null&&a.addEventListener)){var s=function(){return i()};return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),function(){window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var a,s=this;this.setup=i,(a=this.cleanup)==null||a.call(this),this.cleanup=i(function(o){typeof o=="boolean"?s.setFocused(o):s.onFocus()})},r.setFocused=function(i){this.focused=i,i&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(i){i()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(RE),S3=new i8e,a8e=function(t){DE(e,t);function e(){var n;return n=t.call(this)||this,n.setup=function(i){var a;if(!yre&&((a=window)!=null&&a.addEventListener)){var s=function(){return i()};return window.addEventListener("online",s,!1),window.addEventListener("offline",s,!1),function(){window.removeEventListener("online",s),window.removeEventListener("offline",s)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var a,s=this;this.setup=i,(a=this.cleanup)==null||a.call(this),this.cleanup=i(function(o){typeof o=="boolean"?s.setOnline(o):s.onOnline()})},r.setOnline=function(i){this.online=i,i&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(i){i()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(RE),k3=new a8e;function s8e(t){return Math.min(1e3*Math.pow(2,t),3e4)}function vS(t){return typeof(t==null?void 0:t.cancel)=="function"}var Sre=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function A7(t){return t instanceof Sre}var kre=function(e){var r=this,n=!1,i,a,s,o;this.abort=e.abort,this.cancel=function(d){return i==null?void 0:i(d)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return a==null?void 0:a()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(d,p){s=d,o=p});var l=function(p){r.isResolved||(r.isResolved=!0,e.onSuccess==null||e.onSuccess(p),a==null||a(),s(p))},u=function(p){r.isResolved||(r.isResolved=!0,e.onError==null||e.onError(p),a==null||a(),o(p))},h=function(){return new Promise(function(p){a=p,r.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){a=void 0,r.isPaused=!1,e.onContinue==null||e.onContinue()})},f=function d(){if(!r.isResolved){var p;try{p=e.fn()}catch(m){p=Promise.reject(m)}i=function(v){if(!r.isResolved&&(u(new Sre(v)),r.abort==null||r.abort(),vS(p)))try{p.cancel()}catch{}},r.isTransportCancelable=vS(p),Promise.resolve(p).then(l).catch(function(m){var v,x;if(!r.isResolved){var y=(v=e.retry)!=null?v:3,w=(x=e.retryDelay)!=null?x:s8e,S=typeof w=="function"?w(r.failureCount,m):w,E=y===!0||typeof y=="number"&&r.failureCount<y||typeof y=="function"&&y(r.failureCount,m);if(n||!E){u(m);return}r.failureCount++,e.onFail==null||e.onFail(r.failureCount,m),n8e(S).then(function(){if(!S3.isFocused()||!k3.isOnline())return h()}).then(function(){n?u(m):d()})}})}};f()},o8e=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var e=t.prototype;return e.batch=function(n){var i;this.transactions++;try{i=n()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(n){var i=this;this.transactions?this.queue.push(n):Mz(function(){i.notifyFn(n)})},e.batchCalls=function(n){var i=this;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];i.schedule(function(){n.apply(void 0,s)})}},e.flush=function(){var n=this,i=this.queue;this.queue=[],i.length&&Mz(function(){n.batchNotifyFn(function(){i.forEach(function(a){n.notifyFn(a)})})})},e.setNotifyFunction=function(n){this.notifyFn=n},e.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},t}(),Fa=new o8e,Ere=console;function Tre(){return Ere}function l8e(t){Ere=t}var u8e=function(){function t(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(n){var i;this.options=bn({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(n){this.defaultOptions=n},e.scheduleGc=function(){var n=this;this.clearGcTimeout(),J7e(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(n,i){var a,s,o=this.state.data,l=Z7e(n,o);return(a=(s=this.options).isDataEqual)!=null&&a.call(s,o,l)?l=o:this.options.structuralSharing!==!1&&(l=bre(o,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(n,i){this.dispatch({type:"setState",state:n,setStateOptions:i})},e.cancel=function(n){var i,a=this.promise;return(i=this.retryer)==null||i.cancel(n),a?a.then(Os).catch(Os):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},e.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!e8e(this.state.dataUpdatedAt,n)},e.onFocus=function(){var n,i=this.observers.find(function(a){return a.shouldFetchOnWindowFocus()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},e.onOnline=function(){var n,i=this.observers.find(function(a){return a.shouldFetchOnReconnect()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},e.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},e.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(i){return i!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(n,i){var a=this,s,o,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var h=this.observers.find(function(w){return w.options.queryFn});h&&this.setOptions(h.options)}var f=gS(this.queryKey),d=wre(),p={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(p,"signal",{enumerable:!0,get:function(){if(d)return a.abortSignalConsumed=!0,d.signal}});var m=function(){return a.options.queryFn?(a.abortSignalConsumed=!1,a.options.queryFn(p)):Promise.reject("Missing queryFn")},v={fetchOptions:i,options:this.options,queryKey:f,state:this.state,fetchFn:m,meta:this.meta};if((s=this.options.behavior)!=null&&s.onFetch){var x;(x=this.options.behavior)==null||x.onFetch(v)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((o=v.fetchOptions)==null?void 0:o.meta)){var y;this.dispatch({type:"fetch",meta:(y=v.fetchOptions)==null?void 0:y.meta})}return this.retryer=new kre({fn:v.fetchFn,abort:d==null||(l=d.abort)==null?void 0:l.bind(d),onSuccess:function(S){a.setData(S),a.cache.config.onSuccess==null||a.cache.config.onSuccess(S,a),a.cacheTime===0&&a.optionalRemove()},onError:function(S){A7(S)&&S.silent||a.dispatch({type:"error",error:S}),A7(S)||(a.cache.config.onError==null||a.cache.config.onError(S,a),Tre().error(S)),a.cacheTime===0&&a.optionalRemove()},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(n){var i=this;this.state=this.reducer(this.state,n),Fa.batch(function(){i.observers.forEach(function(a){a.onQueryUpdate(n)}),i.cache.notify({query:i,type:"queryUpdated",action:n})})},e.getDefaultState=function(n){var i=typeof n.initialData=="function"?n.initialData():n.initialData,a=typeof n.initialData<"u",s=a?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,o=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:o?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:o?"success":"idle"}},e.reducer=function(n,i){var a,s;switch(i.type){case"failed":return bn({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return bn({},n,{isPaused:!0});case"continue":return bn({},n,{isPaused:!1});case"fetch":return bn({},n,{fetchFailureCount:0,fetchMeta:(a=i.meta)!=null?a:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return bn({},n,{data:i.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(s=i.dataUpdatedAt)!=null?s:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var o=i.error;return A7(o)&&o.revert&&this.revertState?bn({},this.revertState):bn({},n,{error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return bn({},n,{isInvalidated:!0});case"setState":return bn({},n,i.state);default:return n}},t}(),c8e=function(t){DE(e,t);function e(n){var i;return i=t.call(this)||this,i.config=n||{},i.queries=[],i.queriesMap={},i}var r=e.prototype;return r.build=function(i,a,s){var o,l=a.queryKey,u=(o=a.queryHash)!=null?o:fM(l,a),h=this.get(u);return h||(h=new u8e({cache:this,queryKey:l,queryHash:u,options:i.defaultQueryOptions(a),state:s,defaultOptions:i.getQueryDefaults(l),meta:a.meta}),this.add(h)),h},r.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},r.remove=function(i){var a=this.queriesMap[i.queryHash];a&&(i.destroy(),this.queries=this.queries.filter(function(s){return s!==i}),a===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},r.clear=function(){var i=this;Fa.batch(function(){i.queries.forEach(function(a){i.remove(a)})})},r.get=function(i){return this.queriesMap[i]},r.getAll=function(){return this.queries},r.find=function(i,a){var s=af(i,a),o=s[0];return typeof o.exact>"u"&&(o.exact=!0),this.queries.find(function(l){return Lz(o,l)})},r.findAll=function(i,a){var s=af(i,a),o=s[0];return Object.keys(o).length>0?this.queries.filter(function(l){return Lz(o,l)}):this.queries},r.notify=function(i){var a=this;Fa.batch(function(){a.listeners.forEach(function(s){s(i)})})},r.onFocus=function(){var i=this;Fa.batch(function(){i.queries.forEach(function(a){a.onFocus()})})},r.onOnline=function(){var i=this;Fa.batch(function(){i.queries.forEach(function(a){a.onOnline()})})},e}(RE),h8e=function(){function t(r){this.options=bn({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||f8e(),this.meta=r.meta}var e=t.prototype;return e.setState=function(n){this.dispatch({type:"setState",state:n})},e.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},e.removeObserver=function(n){this.observers=this.observers.filter(function(i){return i!==n})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Os).catch(Os)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var n=this,i,a=this.state.status==="loading",s=Promise.resolve();return a||(this.dispatch({type:"loading",variables:this.options.variables}),s=s.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(o){o!==n.state.context&&n.dispatch({type:"loading",context:o,variables:n.state.variables})})),s.then(function(){return n.executeMutation()}).then(function(o){i=o,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(i,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(i,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(i,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:i}),i}).catch(function(o){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(o,n.state.variables,n.state.context,n),Tre().error(o),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(o,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,o,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:o}),o})})},e.executeMutation=function(){var n=this,i;return this.retryer=new kre({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(n){var i=this;this.state=d8e(this.state,n),Fa.batch(function(){i.observers.forEach(function(a){a.onMutationUpdate(n)}),i.mutationCache.notify(i)})},t}();function f8e(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function d8e(t,e){switch(e.type){case"failed":return bn({},t,{failureCount:t.failureCount+1});case"pause":return bn({},t,{isPaused:!0});case"continue":return bn({},t,{isPaused:!1});case"loading":return bn({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return bn({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return bn({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return bn({},t,e.state);default:return t}}var p8e=function(t){DE(e,t);function e(n){var i;return i=t.call(this)||this,i.config=n||{},i.mutations=[],i.mutationId=0,i}var r=e.prototype;return r.build=function(i,a,s){var o=new h8e({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(a),state:s,defaultOptions:a.mutationKey?i.getMutationDefaults(a.mutationKey):void 0,meta:a.meta});return this.add(o),o},r.add=function(i){this.mutations.push(i),this.notify(i)},r.remove=function(i){this.mutations=this.mutations.filter(function(a){return a!==i}),i.cancel(),this.notify(i)},r.clear=function(){var i=this;Fa.batch(function(){i.mutations.forEach(function(a){i.remove(a)})})},r.getAll=function(){return this.mutations},r.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(a){return Dz(i,a)})},r.findAll=function(i){return this.mutations.filter(function(a){return Dz(i,a)})},r.notify=function(i){var a=this;Fa.batch(function(){a.listeners.forEach(function(s){s(i)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var i=this.mutations.filter(function(a){return a.state.isPaused});return Fa.batch(function(){return i.reduce(function(a,s){return a.then(function(){return s.continue().catch(Os)})},Promise.resolve())})},e}(RE);function g8e(){return{onFetch:function(e){e.fetchFn=function(){var r,n,i,a,s,o,l=(r=e.fetchOptions)==null||(n=r.meta)==null?void 0:n.refetchPage,u=(i=e.fetchOptions)==null||(a=i.meta)==null?void 0:a.fetchMore,h=u==null?void 0:u.pageParam,f=(u==null?void 0:u.direction)==="forward",d=(u==null?void 0:u.direction)==="backward",p=((s=e.state.data)==null?void 0:s.pages)||[],m=((o=e.state.data)==null?void 0:o.pageParams)||[],v=wre(),x=v==null?void 0:v.signal,y=m,w=!1,S=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},E=function(R,O,P,z){return y=z?[O].concat(y):[].concat(y,[O]),z?[P].concat(R):[].concat(R,[P])},C=function(R,O,P,z){if(w)return Promise.reject("Cancelled");if(typeof P>"u"&&!O&&R.length)return Promise.resolve(R);var $={queryKey:e.queryKey,signal:x,pageParam:P,meta:e.meta},V=S($),X=Promise.resolve(V).then(function(Y){return E(R,P,Y,z)});if(vS(V)){var q=X;q.cancel=V.cancel}return X},L;if(!p.length)L=C([]);else if(f){var _=typeof h<"u",I=_?h:Nz(e.options,p);L=C(p,_,I)}else if(d){var D=typeof h<"u",F=D?h:m8e(e.options,p);L=C(p,D,F,!0)}else(function(){y=[];var H=typeof e.options.getNextPageParam>"u",R=l&&p[0]?l(p[0],0,p):!0;L=R?C([],H,m[0]):Promise.resolve(E([],m[0],p[0]));for(var O=function($){L=L.then(function(V){var X=l&&p[$]?l(p[$],$,p):!0;if(X){var q=H?m[$]:Nz(e.options,V);return C(V,H,q)}return Promise.resolve(E(V,m[$],p[$]))})},P=1;P<p.length;P++)O(P)})();var M=L.then(function(H){return{pages:H,pageParams:y}}),B=M;return B.cancel=function(){w=!0,v==null||v.abort(),vS(L)&&L.cancel()},M}}}}function Nz(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function m8e(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var v8e=function(){function t(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new c8e,this.mutationCache=r.mutationCache||new p8e,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var n=this;this.unsubscribeFocus=S3.subscribe(function(){S3.isFocused()&&k3.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=k3.subscribe(function(){S3.isFocused()&&k3.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},e.unmount=function(){var n,i;(n=this.unsubscribeFocus)==null||n.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(n,i){var a=af(n,i),s=a[0];return s.fetching=!0,this.queryCache.findAll(s).length},e.isMutating=function(n){return this.mutationCache.findAll(bn({},n,{fetching:!0})).length},e.getQueryData=function(n,i){var a;return(a=this.queryCache.find(n,i))==null?void 0:a.state.data},e.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(i){var a=i.queryKey,s=i.state,o=s.data;return[a,o]})},e.setQueryData=function(n,i,a){var s=C7(n),o=this.defaultQueryOptions(s);return this.queryCache.build(this,o).setData(i,a)},e.setQueriesData=function(n,i,a){var s=this;return Fa.batch(function(){return s.getQueryCache().findAll(n).map(function(o){var l=o.queryKey;return[l,s.setQueryData(l,i,a)]})})},e.getQueryState=function(n,i){var a;return(a=this.queryCache.find(n,i))==null?void 0:a.state},e.removeQueries=function(n,i){var a=af(n,i),s=a[0],o=this.queryCache;Fa.batch(function(){o.findAll(s).forEach(function(l){o.remove(l)})})},e.resetQueries=function(n,i,a){var s=this,o=af(n,i,a),l=o[0],u=o[1],h=this.queryCache,f=bn({},l,{active:!0});return Fa.batch(function(){return h.findAll(l).forEach(function(d){d.reset()}),s.refetchQueries(f,u)})},e.cancelQueries=function(n,i,a){var s=this,o=af(n,i,a),l=o[0],u=o[1],h=u===void 0?{}:u;typeof h.revert>"u"&&(h.revert=!0);var f=Fa.batch(function(){return s.queryCache.findAll(l).map(function(d){return d.cancel(h)})});return Promise.all(f).then(Os).catch(Os)},e.invalidateQueries=function(n,i,a){var s,o,l,u=this,h=af(n,i,a),f=h[0],d=h[1],p=bn({},f,{active:(s=(o=f.refetchActive)!=null?o:f.active)!=null?s:!0,inactive:(l=f.refetchInactive)!=null?l:!1});return Fa.batch(function(){return u.queryCache.findAll(f).forEach(function(m){m.invalidate()}),u.refetchQueries(p,d)})},e.refetchQueries=function(n,i,a){var s=this,o=af(n,i,a),l=o[0],u=o[1],h=Fa.batch(function(){return s.queryCache.findAll(l).map(function(d){return d.fetch(void 0,bn({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),f=Promise.all(h).then(Os);return u!=null&&u.throwOnError||(f=f.catch(Os)),f},e.fetchQuery=function(n,i,a){var s=C7(n,i,a),o=this.defaultQueryOptions(s);typeof o.retry>"u"&&(o.retry=!1);var l=this.queryCache.build(this,o);return l.isStaleByTime(o.staleTime)?l.fetch(o):Promise.resolve(l.state.data)},e.prefetchQuery=function(n,i,a){return this.fetchQuery(n,i,a).then(Os).catch(Os)},e.fetchInfiniteQuery=function(n,i,a){var s=C7(n,i,a);return s.behavior=g8e(),this.fetchQuery(s)},e.prefetchInfiniteQuery=function(n,i,a){return this.fetchInfiniteQuery(n,i,a).then(Os).catch(Os)},e.cancelMutations=function(){var n=this,i=Fa.batch(function(){return n.mutationCache.getAll().map(function(a){return a.cancel()})});return Promise.all(i).then(Os).catch(Os)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(n){this.defaultOptions=n},e.setQueryDefaults=function(n,i){var a=this.queryDefaults.find(function(s){return p0(n)===p0(s.queryKey)});a?a.defaultOptions=i:this.queryDefaults.push({queryKey:n,defaultOptions:i})},e.getQueryDefaults=function(n){var i;return n?(i=this.queryDefaults.find(function(a){return mS(n,a.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(n,i){var a=this.mutationDefaults.find(function(s){return p0(n)===p0(s.mutationKey)});a?a.defaultOptions=i:this.mutationDefaults.push({mutationKey:n,defaultOptions:i})},e.getMutationDefaults=function(n){var i;return n?(i=this.mutationDefaults.find(function(a){return mS(n,a.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var i=bn({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=fM(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},e.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:bn({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),y8e=a1e.unstable_batchedUpdates;Fa.setBatchNotifyFunction(y8e);var x8e=console;l8e(x8e);const b8e="6rem",w8e="12rem";mt.createContext({depth:0,estimatedLabelWidth:b8e,estimatedValueWidth:w8e});mt.createContext({activeTabKey:void 0,setActiveTabKey:()=>{}});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function S8e(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function xf(t,e){return typeof t=="function"?t(e):t}function Wo(t,e){return r=>{e.setState(n=>({...n,[t]:xf(r,n[t])}))}}function NE(t){return t instanceof Function}function k8e(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function E8e(t,e){const r=[],n=i=>{i.forEach(a=>{r.push(a);const s=e(a);s!=null&&s.length&&n(s)})};return n(t),r}function Dr(t,e,r){let n=[],i;return a=>{let s;r.key&&r.debug&&(s=Date.now());const o=t(a);if(!(o.length!==n.length||o.some((h,f)=>n[f]!==h)))return i;n=o;let u;if(r.key&&r.debug&&(u=Date.now()),i=e(...o),r==null||r.onChange==null||r.onChange(i),r.key&&r.debug&&r!=null&&r.debug()){const h=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,d=f/16,p=(m,v)=>{for(m=String(m);m.length<v;)m=" "+m;return m};console.info(`%c⏱ ${p(f,5)} /${p(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*d,120))}deg 100% 31%);`,r==null?void 0:r.key)}return i}}function Rr(t,e,r,n){return{debug:()=>{var i;return(i=t==null?void 0:t.debugAll)!=null?i:t[e]},key:!1,onChange:n}}function T8e(t,e,r,n){const i=()=>{var s;return(s=a.getValue())!=null?s:t.options.renderFallbackValue},a={id:`${e.id}_${r.id}`,row:e,column:r,getValue:()=>e.getValue(n),renderValue:i,getContext:Dr(()=>[t,r,e,a],(s,o,l,u)=>({table:s,column:o,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),Rr(t.options,"debugCells"))};return t._features.forEach(s=>{s.createCell==null||s.createCell(a,r,e,t)},{}),a}function C8e(t,e,r,n){var i,a;const o={...t._getDefaultColumnDef(),...e},l=o.accessorKey;let u=(i=(a=o.id)!=null?a:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof o.header=="string"?o.header:void 0,h;if(o.accessorFn?h=o.accessorFn:l&&(l.includes(".")?h=d=>{let p=d;for(const v of l.split(".")){var m;p=(m=p)==null?void 0:m[v]}return p}:h=d=>d[o.accessorKey]),!u)throw new Error;let f={id:`${String(u)}`,accessorFn:h,parent:n,depth:r,columnDef:o,columns:[],getFlatColumns:Dr(()=>[!0],()=>{var d;return[f,...(d=f.columns)==null?void 0:d.flatMap(p=>p.getFlatColumns())]},Rr(t.options,"debugColumns")),getLeafColumns:Dr(()=>[t._getOrderColumnsFn()],d=>{var p;if((p=f.columns)!=null&&p.length){let m=f.columns.flatMap(v=>v.getLeafColumns());return d(m)}return[f]},Rr(t.options,"debugColumns"))};for(const d of t._features)d.createColumn==null||d.createColumn(f,t);return f}const ns="debugHeaders";function Iz(t,e,r){var n;let a={id:(n=r.id)!=null?n:e.id,column:e,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],o=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(o),s.push(l)};return o(a),s},getContext:()=>({table:t,header:a,column:e})};return t._features.forEach(s=>{s.createHeader==null||s.createHeader(a,t)}),a}const A8e={createTable:t=>{t.getHeaderGroups=Dr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n,i)=>{var a,s;const o=(a=n==null?void 0:n.map(f=>r.find(d=>d.id===f)).filter(Boolean))!=null?a:[],l=(s=i==null?void 0:i.map(f=>r.find(d=>d.id===f)).filter(Boolean))!=null?s:[],u=r.filter(f=>!(n!=null&&n.includes(f.id))&&!(i!=null&&i.includes(f.id)));return fw(e,[...o,...u,...l],t)},Rr(t.options,ns)),t.getCenterHeaderGroups=Dr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n,i)=>(r=r.filter(a=>!(n!=null&&n.includes(a.id))&&!(i!=null&&i.includes(a.id))),fw(e,r,t,"center")),Rr(t.options,ns)),t.getLeftHeaderGroups=Dr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,r,n)=>{var i;const a=(i=n==null?void 0:n.map(s=>r.find(o=>o.id===s)).filter(Boolean))!=null?i:[];return fw(e,a,t,"left")},Rr(t.options,ns)),t.getRightHeaderGroups=Dr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,r,n)=>{var i;const a=(i=n==null?void 0:n.map(s=>r.find(o=>o.id===s)).filter(Boolean))!=null?i:[];return fw(e,a,t,"right")},Rr(t.options,ns)),t.getFooterGroups=Dr(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Rr(t.options,ns)),t.getLeftFooterGroups=Dr(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Rr(t.options,ns)),t.getCenterFooterGroups=Dr(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Rr(t.options,ns)),t.getRightFooterGroups=Dr(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Rr(t.options,ns)),t.getFlatHeaders=Dr(()=>[t.getHeaderGroups()],e=>e.map(r=>r.headers).flat(),Rr(t.options,ns)),t.getLeftFlatHeaders=Dr(()=>[t.getLeftHeaderGroups()],e=>e.map(r=>r.headers).flat(),Rr(t.options,ns)),t.getCenterFlatHeaders=Dr(()=>[t.getCenterHeaderGroups()],e=>e.map(r=>r.headers).flat(),Rr(t.options,ns)),t.getRightFlatHeaders=Dr(()=>[t.getRightHeaderGroups()],e=>e.map(r=>r.headers).flat(),Rr(t.options,ns)),t.getCenterLeafHeaders=Dr(()=>[t.getCenterFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),Rr(t.options,ns)),t.getLeftLeafHeaders=Dr(()=>[t.getLeftFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),Rr(t.options,ns)),t.getRightLeafHeaders=Dr(()=>[t.getRightFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),Rr(t.options,ns)),t.getLeafHeaders=Dr(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,r,n)=>{var i,a,s,o,l,u;return[...(i=(a=e[0])==null?void 0:a.headers)!=null?i:[],...(s=(o=r[0])==null?void 0:o.headers)!=null?s:[],...(l=(u=n[0])==null?void 0:u.headers)!=null?l:[]].map(h=>h.getLeafHeaders()).flat()},Rr(t.options,ns))}};function fw(t,e,r,n){var i,a;let s=0;const o=function(d,p){p===void 0&&(p=1),s=Math.max(s,p),d.filter(m=>m.getIsVisible()).forEach(m=>{var v;(v=m.columns)!=null&&v.length&&o(m.columns,p+1)},0)};o(t);let l=[];const u=(d,p)=>{const m={depth:p,id:[n,`${p}`].filter(Boolean).join("_"),headers:[]},v=[];d.forEach(x=>{const y=[...v].reverse()[0],w=x.column.depth===m.depth;let S,E=!1;if(w&&x.column.parent?S=x.column.parent:(S=x.column,E=!0),y&&(y==null?void 0:y.column)===S)y.subHeaders.push(x);else{const C=Iz(r,S,{id:[n,p,S.id,x==null?void 0:x.id].filter(Boolean).join("_"),isPlaceholder:E,placeholderId:E?`${v.filter(L=>L.column===S).length}`:void 0,depth:p,index:v.length});C.subHeaders.push(x),v.push(C)}m.headers.push(x),x.headerGroup=m}),l.push(m),p>0&&u(v,p-1)},h=e.map((d,p)=>Iz(r,d,{depth:s,index:p}));u(h,s-1),l.reverse();const f=d=>d.filter(m=>m.column.getIsVisible()).map(m=>{let v=0,x=0,y=[0];m.subHeaders&&m.subHeaders.length?(y=[],f(m.subHeaders).forEach(S=>{let{colSpan:E,rowSpan:C}=S;v+=E,y.push(C)})):v=1;const w=Math.min(...y);return x=x+w,m.colSpan=v,m.rowSpan=x,{colSpan:v,rowSpan:x}});return f((i=(a=l[0])==null?void 0:a.headers)!=null?i:[]),l}const _8e=(t,e,r,n,i,a,s)=>{let o={id:e,index:n,original:r,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(o._valuesCache.hasOwnProperty(l))return o._valuesCache[l];const u=t.getColumn(l);if(u!=null&&u.accessorFn)return o._valuesCache[l]=u.accessorFn(o.original,n),o._valuesCache[l]},getUniqueValues:l=>{if(o._uniqueValuesCache.hasOwnProperty(l))return o._uniqueValuesCache[l];const u=t.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(o._uniqueValuesCache[l]=u.columnDef.getUniqueValues(o.original,n),o._uniqueValuesCache[l]):(o._uniqueValuesCache[l]=[o.getValue(l)],o._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=o.getValue(l))!=null?u:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>E8e(o.subRows,l=>l.subRows),getParentRow:()=>o.parentId?t.getRow(o.parentId,!0):void 0,getParentRows:()=>{let l=[],u=o;for(;;){const h=u.getParentRow();if(!h)break;l.push(h),u=h}return l.reverse()},getAllCells:Dr(()=>[t.getAllLeafColumns()],l=>l.map(u=>T8e(t,o,u,u.id)),Rr(t.options,"debugRows")),_getAllCellsByColumnId:Dr(()=>[o.getAllCells()],l=>l.reduce((u,h)=>(u[h.column.id]=h,u),{}),Rr(t.options,"debugRows"))};for(let l=0;l<t._features.length;l++){const u=t._features[l];u==null||u.createRow==null||u.createRow(o,t)}return o},L8e={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},Cre=(t,e,r)=>{var n,i;const a=r==null||(n=r.toString())==null?void 0:n.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(a))};Cre.autoRemove=t=>lu(t);const Are=(t,e,r)=>{var n;return!!(!((n=t.getValue(e))==null||(n=n.toString())==null)&&n.includes(r))};Are.autoRemove=t=>lu(t);const _re=(t,e,r)=>{var n;return((n=t.getValue(e))==null||(n=n.toString())==null?void 0:n.toLowerCase())===(r==null?void 0:r.toLowerCase())};_re.autoRemove=t=>lu(t);const Lre=(t,e,r)=>{var n;return(n=t.getValue(e))==null?void 0:n.includes(r)};Lre.autoRemove=t=>lu(t)||!(t!=null&&t.length);const Dre=(t,e,r)=>!r.some(n=>{var i;return!((i=t.getValue(e))!=null&&i.includes(n))});Dre.autoRemove=t=>lu(t)||!(t!=null&&t.length);const Rre=(t,e,r)=>r.some(n=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(n)});Rre.autoRemove=t=>lu(t)||!(t!=null&&t.length);const Mre=(t,e,r)=>t.getValue(e)===r;Mre.autoRemove=t=>lu(t);const Nre=(t,e,r)=>t.getValue(e)==r;Nre.autoRemove=t=>lu(t);const dM=(t,e,r)=>{let[n,i]=r;const a=t.getValue(e);return a>=n&&a<=i};dM.resolveFilterValue=t=>{let[e,r]=t,n=typeof e!="number"?parseFloat(e):e,i=typeof r!="number"?parseFloat(r):r,a=e===null||Number.isNaN(n)?-1/0:n,s=r===null||Number.isNaN(i)?1/0:i;if(a>s){const o=a;a=s,s=o}return[a,s]};dM.autoRemove=t=>lu(t)||lu(t[0])&&lu(t[1]);const Pc={includesString:Cre,includesStringSensitive:Are,equalsString:_re,arrIncludes:Lre,arrIncludesAll:Dre,arrIncludesSome:Rre,equals:Mre,weakEquals:Nre,inNumberRange:dM};function lu(t){return t==null||t===""}const D8e={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Wo("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const r=e.getCoreRowModel().flatRows[0],n=r==null?void 0:r.getValue(t.id);return typeof n=="string"?Pc.includesString:typeof n=="number"?Pc.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?Pc.equals:Array.isArray(n)?Pc.arrIncludes:Pc.weakEquals},t.getFilterFn=()=>{var r,n;return NE(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(r=(n=e.options.filterFns)==null?void 0:n[t.columnDef.filterFn])!=null?r:Pc[t.columnDef.filterFn]},t.getCanFilter=()=>{var r,n,i;return((r=t.columnDef.enableColumnFilter)!=null?r:!0)&&((n=e.options.enableColumnFilters)!=null?n:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var r;return(r=e.getState().columnFilters)==null||(r=r.find(n=>n.id===t.id))==null?void 0:r.value},t.getFilterIndex=()=>{var r,n;return(r=(n=e.getState().columnFilters)==null?void 0:n.findIndex(i=>i.id===t.id))!=null?r:-1},t.setFilterValue=r=>{e.setColumnFilters(n=>{const i=t.getFilterFn(),a=n==null?void 0:n.find(h=>h.id===t.id),s=xf(r,a?a.value:void 0);if(Oz(i,s,t)){var o;return(o=n==null?void 0:n.filter(h=>h.id!==t.id))!=null?o:[]}const l={id:t.id,value:s};if(a){var u;return(u=n==null?void 0:n.map(h=>h.id===t.id?l:h))!=null?u:[]}return n!=null&&n.length?[...n,l]:[l]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const r=t.getAllLeafColumns(),n=i=>{var a;return(a=xf(e,i))==null?void 0:a.filter(s=>{const o=r.find(l=>l.id===s.id);if(o){const l=o.getFilterFn();if(Oz(l,s.value,o))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(n)},t.resetColumnFilters=e=>{var r,n;t.setColumnFilters(e?[]:(r=(n=t.initialState)==null?void 0:n.columnFilters)!=null?r:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function Oz(t,e,r){return(t&&t.autoRemove?t.autoRemove(e,r):!1)||typeof e>"u"||typeof e=="string"&&!e}const R8e=(t,e,r)=>r.reduce((n,i)=>{const a=i.getValue(t);return n+(typeof a=="number"?a:0)},0),M8e=(t,e,r)=>{let n;return r.forEach(i=>{const a=i.getValue(t);a!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}),n},N8e=(t,e,r)=>{let n;return r.forEach(i=>{const a=i.getValue(t);a!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}),n},I8e=(t,e,r)=>{let n,i;return r.forEach(a=>{const s=a.getValue(t);s!=null&&(n===void 0?s>=s&&(n=i=s):(n>s&&(n=s),i<s&&(i=s)))}),[n,i]},O8e=(t,e)=>{let r=0,n=0;if(e.forEach(i=>{let a=i.getValue(t);a!=null&&(a=+a)>=a&&(++r,n+=a)}),r)return n/r},P8e=(t,e)=>{if(!e.length)return;const r=e.map(a=>a.getValue(t));if(!k8e(r))return;if(r.length===1)return r[0];const n=Math.floor(r.length/2),i=r.sort((a,s)=>a-s);return r.length%2!==0?i[n]:(i[n-1]+i[n])/2},F8e=(t,e)=>Array.from(new Set(e.map(r=>r.getValue(t))).values()),B8e=(t,e)=>new Set(e.map(r=>r.getValue(t))).size,$8e=(t,e)=>e.length,_7={sum:R8e,min:M8e,max:N8e,extent:I8e,mean:O8e,median:P8e,unique:F8e,uniqueCount:B8e,count:$8e},z8e={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,r;return(e=(r=t.getValue())==null||r.toString==null?void 0:r.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Wo("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(r=>r!=null&&r.includes(t.id)?r.filter(n=>n!==t.id):[...r??[],t.id])},t.getCanGroup=()=>{var r,n;return((r=t.columnDef.enableGrouping)!=null?r:!0)&&((n=e.options.enableGrouping)!=null?n:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var r;return(r=e.getState().grouping)==null?void 0:r.includes(t.id)},t.getGroupedIndex=()=>{var r;return(r=e.getState().grouping)==null?void 0:r.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const r=t.getCanGroup();return()=>{r&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const r=e.getCoreRowModel().flatRows[0],n=r==null?void 0:r.getValue(t.id);if(typeof n=="number")return _7.sum;if(Object.prototype.toString.call(n)==="[object Date]")return _7.extent},t.getAggregationFn=()=>{var r,n;if(!t)throw new Error;return NE(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(r=(n=e.options.aggregationFns)==null?void 0:n[t.columnDef.aggregationFn])!=null?r:_7[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var r,n;t.setGrouping(e?[]:(r=(n=t.initialState)==null?void 0:n.grouping)!=null?r:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=r=>{if(t._groupingValuesCache.hasOwnProperty(r))return t._groupingValuesCache[r];const n=e.getColumn(r);return n!=null&&n.columnDef.getGroupingValue?(t._groupingValuesCache[r]=n.columnDef.getGroupingValue(t.original),t._groupingValuesCache[r]):t.getValue(r)},t._groupingValuesCache={}},createCell:(t,e,r,n)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===r.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=r.subRows)!=null&&i.length)}}};function H8e(t,e,r){if(!(e!=null&&e.length)||!r)return t;const n=t.filter(a=>!e.includes(a.id));return r==="remove"?n:[...e.map(a=>t.find(s=>s.id===a)).filter(Boolean),...n]}const V8e={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Wo("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Dr(r=>[L2(e,r)],r=>r.findIndex(n=>n.id===t.id),Rr(e.options,"debugColumns")),t.getIsFirstColumn=r=>{var n;return((n=L2(e,r)[0])==null?void 0:n.id)===t.id},t.getIsLastColumn=r=>{var n;const i=L2(e,r);return((n=i[i.length-1])==null?void 0:n.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var r;t.setColumnOrder(e?[]:(r=t.initialState.columnOrder)!=null?r:[])},t._getOrderColumnsFn=Dr(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,r,n)=>i=>{let a=[];if(!(e!=null&&e.length))a=i;else{const s=[...e],o=[...i];for(;o.length&&s.length;){const l=s.shift(),u=o.findIndex(h=>h.id===l);u>-1&&a.push(o.splice(u,1)[0])}a=[...a,...o]}return H8e(a,r,n)},Rr(t.options,"debugTable"))}},L7=()=>({left:[],right:[]}),U8e={getInitialState:t=>({columnPinning:L7(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Wo("columnPinning",t)}),createColumn:(t,e)=>{t.pin=r=>{const n=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var a,s;if(r==="right"){var o,l;return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(f=>!(n!=null&&n.includes(f))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(f=>!(n!=null&&n.includes(f))),...n]}}if(r==="left"){var u,h;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(f=>!(n!=null&&n.includes(f))),...n],right:((h=i==null?void 0:i.right)!=null?h:[]).filter(f=>!(n!=null&&n.includes(f)))}}return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(f=>!(n!=null&&n.includes(f))),right:((s=i==null?void 0:i.right)!=null?s:[]).filter(f=>!(n!=null&&n.includes(f)))}})},t.getCanPin=()=>t.getLeafColumns().some(n=>{var i,a,s;return((i=n.columnDef.enablePinning)!=null?i:!0)&&((a=(s=e.options.enableColumnPinning)!=null?s:e.options.enablePinning)!=null?a:!0)}),t.getIsPinned=()=>{const r=t.getLeafColumns().map(o=>o.id),{left:n,right:i}=e.getState().columnPinning,a=r.some(o=>n==null?void 0:n.includes(o)),s=r.some(o=>i==null?void 0:i.includes(o));return a?"left":s?"right":!1},t.getPinnedIndex=()=>{var r,n;const i=t.getIsPinned();return i?(r=(n=e.getState().columnPinning)==null||(n=n[i])==null?void 0:n.indexOf(t.id))!=null?r:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Dr(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(r,n,i)=>{const a=[...n??[],...i??[]];return r.filter(s=>!a.includes(s.column.id))},Rr(e.options,"debugRows")),t.getLeftVisibleCells=Dr(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(r,n)=>(n??[]).map(a=>r.find(s=>s.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),Rr(e.options,"debugRows")),t.getRightVisibleCells=Dr(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(r,n)=>(n??[]).map(a=>r.find(s=>s.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),Rr(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var r,n;return t.setColumnPinning(e?L7():(r=(n=t.initialState)==null?void 0:n.columnPinning)!=null?r:L7())},t.getIsSomeColumnsPinned=e=>{var r;const n=t.getState().columnPinning;if(!e){var i,a;return!!((i=n.left)!=null&&i.length||(a=n.right)!=null&&a.length)}return!!((r=n[e])!=null&&r.length)},t.getLeftLeafColumns=Dr(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,r)=>(r??[]).map(n=>e.find(i=>i.id===n)).filter(Boolean),Rr(t.options,"debugColumns")),t.getRightLeafColumns=Dr(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,r)=>(r??[]).map(n=>e.find(i=>i.id===n)).filter(Boolean),Rr(t.options,"debugColumns")),t.getCenterLeafColumns=Dr(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n)=>{const i=[...r??[],...n??[]];return e.filter(a=>!i.includes(a.id))},Rr(t.options,"debugColumns"))}},dw={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},D7=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),G8e={getDefaultColumnDef:()=>dw,getInitialState:t=>({columnSizing:{},columnSizingInfo:D7(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Wo("columnSizing",t),onColumnSizingInfoChange:Wo("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var r,n,i;const a=e.getState().columnSizing[t.id];return Math.min(Math.max((r=t.columnDef.minSize)!=null?r:dw.minSize,(n=a??t.columnDef.size)!=null?n:dw.size),(i=t.columnDef.maxSize)!=null?i:dw.maxSize)},t.getStart=Dr(r=>[r,L2(e,r),e.getState().columnSizing],(r,n)=>n.slice(0,t.getIndex(r)).reduce((i,a)=>i+a.getSize(),0),Rr(e.options,"debugColumns")),t.getAfter=Dr(r=>[r,L2(e,r),e.getState().columnSizing],(r,n)=>n.slice(t.getIndex(r)+1).reduce((i,a)=>i+a.getSize(),0),Rr(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(r=>{let{[t.id]:n,...i}=r;return i})},t.getCanResize=()=>{var r,n;return((r=t.columnDef.enableResizing)!=null?r:!0)&&((n=e.options.enableColumnResizing)!=null?n:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let r=0;const n=i=>{if(i.subHeaders.length)i.subHeaders.forEach(n);else{var a;r+=(a=i.column.getSize())!=null?a:0}};return n(t),r},t.getStart=()=>{if(t.index>0){const r=t.headerGroup.headers[t.index-1];return r.getStart()+r.getSize()}return 0},t.getResizeHandler=r=>{const n=e.getColumn(t.column.id),i=n==null?void 0:n.getCanResize();return a=>{if(!n||!i||(a.persist==null||a.persist(),R7(a)&&a.touches&&a.touches.length>1))return;const s=t.getSize(),o=t?t.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[n.id,n.getSize()]],l=R7(a)?Math.round(a.touches[0].clientX):a.clientX,u={},h=(y,w)=>{typeof w=="number"&&(e.setColumnSizingInfo(S=>{var E,C;const L=e.options.columnResizeDirection==="rtl"?-1:1,_=(w-((E=S==null?void 0:S.startOffset)!=null?E:0))*L,I=Math.max(_/((C=S==null?void 0:S.startSize)!=null?C:0),-.999999);return S.columnSizingStart.forEach(D=>{let[F,M]=D;u[F]=Math.round(Math.max(M+M*I,0)*100)/100}),{...S,deltaOffset:_,deltaPercentage:I}}),(e.options.columnResizeMode==="onChange"||y==="end")&&e.setColumnSizing(S=>({...S,...u})))},f=y=>h("move",y),d=y=>{h("end",y),e.setColumnSizingInfo(w=>({...w,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=r||typeof document<"u"?document:null,m={moveHandler:y=>f(y.clientX),upHandler:y=>{p==null||p.removeEventListener("mousemove",m.moveHandler),p==null||p.removeEventListener("mouseup",m.upHandler),d(y.clientX)}},v={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),f(y.touches[0].clientX),!1),upHandler:y=>{var w;p==null||p.removeEventListener("touchmove",v.moveHandler),p==null||p.removeEventListener("touchend",v.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),d((w=y.touches[0])==null?void 0:w.clientX)}},x=W8e()?{passive:!1}:!1;R7(a)?(p==null||p.addEventListener("touchmove",v.moveHandler,x),p==null||p.addEventListener("touchend",v.upHandler,x)):(p==null||p.addEventListener("mousemove",m.moveHandler,x),p==null||p.addEventListener("mouseup",m.upHandler,x)),e.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:n.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var r;t.setColumnSizing(e?{}:(r=t.initialState.columnSizing)!=null?r:{})},t.resetHeaderSizeInfo=e=>{var r;t.setColumnSizingInfo(e?D7():(r=t.initialState.columnSizingInfo)!=null?r:D7())},t.getTotalSize=()=>{var e,r;return(e=(r=t.getHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,r;return(e=(r=t.getLeftHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,r;return(e=(r=t.getCenterHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,r;return(e=(r=t.getRightHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0}}};let pw=null;function W8e(){if(typeof pw=="boolean")return pw;let t=!1;try{const e={get passive(){return t=!0,!1}},r=()=>{};window.addEventListener("test",r,e),window.removeEventListener("test",r)}catch{t=!1}return pw=t,pw}function R7(t){return t.type==="touchstart"}const q8e={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Wo("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=r=>{t.getCanHide()&&e.setColumnVisibility(n=>({...n,[t.id]:r??!t.getIsVisible()}))},t.getIsVisible=()=>{var r,n;const i=t.columns;return(r=i.length?i.some(a=>a.getIsVisible()):(n=e.getState().columnVisibility)==null?void 0:n[t.id])!=null?r:!0},t.getCanHide=()=>{var r,n;return((r=t.columnDef.enableHiding)!=null?r:!0)&&((n=e.options.enableHiding)!=null?n:!0)},t.getToggleVisibilityHandler=()=>r=>{t.toggleVisibility==null||t.toggleVisibility(r.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Dr(()=>[t.getAllCells(),e.getState().columnVisibility],r=>r.filter(n=>n.column.getIsVisible()),Rr(e.options,"debugRows")),t.getVisibleCells=Dr(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(r,n,i)=>[...r,...n,...i],Rr(e.options,"debugRows"))},createTable:t=>{const e=(r,n)=>Dr(()=>[n(),n().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),Rr(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=r=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(r),t.resetColumnVisibility=r=>{var n;t.setColumnVisibility(r?{}:(n=t.initialState.columnVisibility)!=null?n:{})},t.toggleAllColumnsVisible=r=>{var n;r=(n=r)!=null?n:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,a)=>({...i,[a.id]:r||!(a.getCanHide!=null&&a.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(r=>!(r.getIsVisible!=null&&r.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(r=>r.getIsVisible==null?void 0:r.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>r=>{var n;t.toggleAllColumnsVisible((n=r.target)==null?void 0:n.checked)}}};function L2(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const Y8e={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},X8e={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Wo("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var r;const n=(r=t.getCoreRowModel().flatRows[0])==null||(r=r._getAllCellsByColumnId()[e.id])==null?void 0:r.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var r,n,i,a;return((r=t.columnDef.enableGlobalFilter)!=null?r:!0)&&((n=e.options.enableGlobalFilter)!=null?n:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((a=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?a:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Pc.includesString,t.getGlobalFilterFn=()=>{var e,r;const{globalFilterFn:n}=t.options;return NE(n)?n:n==="auto"?t.getGlobalAutoFilterFn():(e=(r=t.options.filterFns)==null?void 0:r[n])!=null?e:Pc[n]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},j8e={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Wo("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,r=!1;t._autoResetExpanded=()=>{var n,i;if(!e){t._queue(()=>{e=!0});return}if((n=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?n:!t.options.manualExpanding){if(r)return;r=!0,t._queue(()=>{t.resetExpanded(),r=!1})}},t.setExpanded=n=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(n),t.toggleAllRowsExpanded=n=>{n??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=n=>{var i,a;t.setExpanded(n?{}:(i=(a=t.initialState)==null?void 0:a.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const n=t.getState().expanded;return n===!0||Object.values(n).some(Boolean)},t.getIsAllRowsExpanded=()=>{const n=t.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let n=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(a=>{const s=a.split(".");n=Math.max(n,s.length)}),n},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=r=>{e.setExpanded(n=>{var i;const a=n===!0?!0:!!(n!=null&&n[t.id]);let s={};if(n===!0?Object.keys(e.getRowModel().rowsById).forEach(o=>{s[o]=!0}):s=n,r=(i=r)!=null?i:!a,!a&&r)return{...s,[t.id]:!0};if(a&&!r){const{[t.id]:o,...l}=s;return l}return n})},t.getIsExpanded=()=>{var r;const n=e.getState().expanded;return!!((r=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?r:n===!0||n!=null&&n[t.id])},t.getCanExpand=()=>{var r,n,i;return(r=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?r:((n=e.options.enableExpanding)!=null?n:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let r=!0,n=t;for(;r&&n.parentId;)n=e.getRow(n.parentId,!0),r=n.getIsExpanded();return r},t.getToggleExpandedHandler=()=>{const r=t.getCanExpand();return()=>{r&&t.toggleExpanded()}}}},X_=0,j_=10,M7=()=>({pageIndex:X_,pageSize:j_}),K8e={getInitialState:t=>({...t,pagination:{...M7(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Wo("pagination",t)}),createTable:t=>{let e=!1,r=!1;t._autoResetPageIndex=()=>{var n,i;if(!e){t._queue(()=>{e=!0});return}if((n=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?n:!t.options.manualPagination){if(r)return;r=!0,t._queue(()=>{t.resetPageIndex(),r=!1})}},t.setPagination=n=>{const i=a=>xf(n,a);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=n=>{var i;t.setPagination(n?M7():(i=t.initialState.pagination)!=null?i:M7())},t.setPageIndex=n=>{t.setPagination(i=>{let a=xf(n,i.pageIndex);const s=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return a=Math.max(0,Math.min(a,s)),{...i,pageIndex:a}})},t.resetPageIndex=n=>{var i,a;t.setPageIndex(n?X_:(i=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?i:X_)},t.resetPageSize=n=>{var i,a;t.setPageSize(n?j_:(i=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?i:j_)},t.setPageSize=n=>{t.setPagination(i=>{const a=Math.max(1,xf(n,i.pageSize)),s=i.pageSize*i.pageIndex,o=Math.floor(s/a);return{...i,pageIndex:o,pageSize:a}})},t.setPageCount=n=>t.setPagination(i=>{var a;let s=xf(n,(a=t.options.pageCount)!=null?a:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),t.getPageOptions=Dr(()=>[t.getPageCount()],n=>{let i=[];return n&&n>0&&(i=[...new Array(n)].fill(null).map((a,s)=>s)),i},Rr(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:n}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:n<i-1},t.previousPage=()=>t.setPageIndex(n=>n-1),t.nextPage=()=>t.setPageIndex(n=>n+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var n;return(n=t.options.pageCount)!=null?n:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var n;return(n=t.options.rowCount)!=null?n:t.getPrePaginationRowModel().rows.length}}},N7=()=>({top:[],bottom:[]}),Q8e={getInitialState:t=>({rowPinning:N7(),...t}),getDefaultOptions:t=>({onRowPinningChange:Wo("rowPinning",t)}),createRow:(t,e)=>{t.pin=(r,n,i)=>{const a=n?t.getLeafRows().map(l=>{let{id:u}=l;return u}):[],s=i?t.getParentRows().map(l=>{let{id:u}=l;return u}):[],o=new Set([...s,t.id,...a]);e.setRowPinning(l=>{var u,h;if(r==="bottom"){var f,d;return{top:((f=l==null?void 0:l.top)!=null?f:[]).filter(v=>!(o!=null&&o.has(v))),bottom:[...((d=l==null?void 0:l.bottom)!=null?d:[]).filter(v=>!(o!=null&&o.has(v))),...Array.from(o)]}}if(r==="top"){var p,m;return{top:[...((p=l==null?void 0:l.top)!=null?p:[]).filter(v=>!(o!=null&&o.has(v))),...Array.from(o)],bottom:((m=l==null?void 0:l.bottom)!=null?m:[]).filter(v=>!(o!=null&&o.has(v)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(v=>!(o!=null&&o.has(v))),bottom:((h=l==null?void 0:l.bottom)!=null?h:[]).filter(v=>!(o!=null&&o.has(v)))}})},t.getCanPin=()=>{var r;const{enableRowPinning:n,enablePinning:i}=e.options;return typeof n=="function"?n(t):(r=n??i)!=null?r:!0},t.getIsPinned=()=>{const r=[t.id],{top:n,bottom:i}=e.getState().rowPinning,a=r.some(o=>n==null?void 0:n.includes(o)),s=r.some(o=>i==null?void 0:i.includes(o));return a?"top":s?"bottom":!1},t.getPinnedIndex=()=>{var r,n;const i=t.getIsPinned();if(!i)return-1;const a=(r=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:r.map(s=>{let{id:o}=s;return o});return(n=a==null?void 0:a.indexOf(t.id))!=null?n:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var r,n;return t.setRowPinning(e?N7():(r=(n=t.initialState)==null?void 0:n.rowPinning)!=null?r:N7())},t.getIsSomeRowsPinned=e=>{var r;const n=t.getState().rowPinning;if(!e){var i,a;return!!((i=n.top)!=null&&i.length||(a=n.bottom)!=null&&a.length)}return!!((r=n[e])!=null&&r.length)},t._getPinnedRows=(e,r,n)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(r??[]).map(s=>{const o=t.getRow(s,!0);return o.getIsAllParentsExpanded()?o:null}):(r??[]).map(s=>e.find(o=>o.id===s))).filter(Boolean).map(s=>({...s,position:n}))},t.getTopRows=Dr(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,r)=>t._getPinnedRows(e,r,"top"),Rr(t.options,"debugRows")),t.getBottomRows=Dr(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,r)=>t._getPinnedRows(e,r,"bottom"),Rr(t.options,"debugRows")),t.getCenterRows=Dr(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,r,n)=>{const i=new Set([...r??[],...n??[]]);return e.filter(a=>!i.has(a.id))},Rr(t.options,"debugRows"))}},Z8e={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Wo("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var r;return t.setRowSelection(e?{}:(r=t.initialState.rowSelection)!=null?r:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(r=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const n={...r},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(a=>{a.getCanSelect()&&(n[a.id]=!0)}):i.forEach(a=>{delete n[a.id]}),n})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(r=>{const n=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...r};return t.getRowModel().rows.forEach(a=>{K_(i,a.id,n,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Dr(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,r)=>Object.keys(e).length?I7(t,r):{rows:[],flatRows:[],rowsById:{}},Rr(t.options,"debugTable")),t.getFilteredSelectedRowModel=Dr(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,r)=>Object.keys(e).length?I7(t,r):{rows:[],flatRows:[],rowsById:{}},Rr(t.options,"debugTable")),t.getGroupedSelectedRowModel=Dr(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,r)=>Object.keys(e).length?I7(t,r):{rows:[],flatRows:[],rowsById:{}},Rr(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:r}=t.getState();let n=!!(e.length&&Object.keys(r).length);return n&&e.some(i=>i.getCanSelect()&&!r[i.id])&&(n=!1),n},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:r}=t.getState();let n=!!e.length;return n&&e.some(i=>!r[i.id])&&(n=!1),n},t.getIsSomeRowsSelected=()=>{var e;const r=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return r>0&&r<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(r=>r.getCanSelect()).some(r=>r.getIsSelected()||r.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(r,n)=>{const i=t.getIsSelected();e.setRowSelection(a=>{var s;if(r=typeof r<"u"?r:!i,t.getCanSelect()&&i===r)return a;const o={...a};return K_(o,t.id,r,(s=n==null?void 0:n.selectChildren)!=null?s:!0,e),o})},t.getIsSelected=()=>{const{rowSelection:r}=e.getState();return pM(t,r)},t.getIsSomeSelected=()=>{const{rowSelection:r}=e.getState();return Q_(t,r)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:r}=e.getState();return Q_(t,r)==="all"},t.getCanSelect=()=>{var r;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(r=e.options.enableRowSelection)!=null?r:!0},t.getCanSelectSubRows=()=>{var r;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(r=e.options.enableSubRowSelection)!=null?r:!0},t.getCanMultiSelect=()=>{var r;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(r=e.options.enableMultiRowSelection)!=null?r:!0},t.getToggleSelectedHandler=()=>{const r=t.getCanSelect();return n=>{var i;r&&t.toggleSelected((i=n.target)==null?void 0:i.checked)}}}},K_=(t,e,r,n,i)=>{var a;const s=i.getRow(e,!0);r?(s.getCanMultiSelect()||Object.keys(t).forEach(o=>delete t[o]),s.getCanSelect()&&(t[e]=!0)):delete t[e],n&&(a=s.subRows)!=null&&a.length&&s.getCanSelectSubRows()&&s.subRows.forEach(o=>K_(t,o.id,r,n,i))};function I7(t,e){const r=t.getState().rowSelection,n=[],i={},a=function(s,o){return s.map(l=>{var u;const h=pM(l,r);if(h&&(n.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:a(l.subRows)}),h)return l}).filter(Boolean)};return{rows:a(e.rows),flatRows:n,rowsById:i}}function pM(t,e){var r;return(r=e[t.id])!=null?r:!1}function Q_(t,e,r){var n;if(!((n=t.subRows)!=null&&n.length))return!1;let i=!0,a=!1;return t.subRows.forEach(s=>{if(!(a&&!i)&&(s.getCanSelect()&&(pM(s,e)?a=!0:i=!1),s.subRows&&s.subRows.length)){const o=Q_(s,e);o==="all"?a=!0:(o==="some"&&(a=!0),i=!1)}}),i?"all":a?"some":!1}const Z_=/([0-9]+)/gm,J8e=(t,e,r)=>Ire(Gf(t.getValue(r)).toLowerCase(),Gf(e.getValue(r)).toLowerCase()),eAe=(t,e,r)=>Ire(Gf(t.getValue(r)),Gf(e.getValue(r))),tAe=(t,e,r)=>gM(Gf(t.getValue(r)).toLowerCase(),Gf(e.getValue(r)).toLowerCase()),rAe=(t,e,r)=>gM(Gf(t.getValue(r)),Gf(e.getValue(r))),nAe=(t,e,r)=>{const n=t.getValue(r),i=e.getValue(r);return n>i?1:n<i?-1:0},iAe=(t,e,r)=>gM(t.getValue(r),e.getValue(r));function gM(t,e){return t===e?0:t>e?1:-1}function Gf(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function Ire(t,e){const r=t.split(Z_).filter(Boolean),n=e.split(Z_).filter(Boolean);for(;r.length&&n.length;){const i=r.shift(),a=n.shift(),s=parseInt(i,10),o=parseInt(a,10),l=[s,o].sort();if(isNaN(l[0])){if(i>a)return 1;if(a>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>o)return 1;if(o>s)return-1}return r.length-n.length}const Ay={alphanumeric:J8e,alphanumericCaseSensitive:eAe,text:tAe,textCaseSensitive:rAe,datetime:nAe,basic:iAe},aAe={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Wo("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const r=e.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const i of r){const a=i==null?void 0:i.getValue(t.id);if(Object.prototype.toString.call(a)==="[object Date]")return Ay.datetime;if(typeof a=="string"&&(n=!0,a.split(Z_).length>1))return Ay.alphanumeric}return n?Ay.text:Ay.basic},t.getAutoSortDir=()=>{const r=e.getFilteredRowModel().flatRows[0];return typeof(r==null?void 0:r.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var r,n;if(!t)throw new Error;return NE(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(r=(n=e.options.sortingFns)==null?void 0:n[t.columnDef.sortingFn])!=null?r:Ay[t.columnDef.sortingFn]},t.toggleSorting=(r,n)=>{const i=t.getNextSortingOrder(),a=typeof r<"u"&&r!==null;e.setSorting(s=>{const o=s==null?void 0:s.find(p=>p.id===t.id),l=s==null?void 0:s.findIndex(p=>p.id===t.id);let u=[],h,f=a?r:i==="desc";if(s!=null&&s.length&&t.getCanMultiSort()&&n?o?h="toggle":h="add":s!=null&&s.length&&l!==s.length-1?h="replace":o?h="toggle":h="replace",h==="toggle"&&(a||i||(h="remove")),h==="add"){var d;u=[...s,{id:t.id,desc:f}],u.splice(0,u.length-((d=e.options.maxMultiSortColCount)!=null?d:Number.MAX_SAFE_INTEGER))}else h==="toggle"?u=s.map(p=>p.id===t.id?{...p,desc:f}:p):h==="remove"?u=s.filter(p=>p.id!==t.id):u=[{id:t.id,desc:f}];return u})},t.getFirstSortDir=()=>{var r,n;return((r=(n=t.columnDef.sortDescFirst)!=null?n:e.options.sortDescFirst)!=null?r:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=r=>{var n,i;const a=t.getFirstSortDir(),s=t.getIsSorted();return s?s!==a&&((n=e.options.enableSortingRemoval)==null||n)&&(!(r&&(i=e.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":a},t.getCanSort=()=>{var r,n;return((r=t.columnDef.enableSorting)!=null?r:!0)&&((n=e.options.enableSorting)!=null?n:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var r,n;return(r=(n=t.columnDef.enableMultiSort)!=null?n:e.options.enableMultiSort)!=null?r:!!t.accessorFn},t.getIsSorted=()=>{var r;const n=(r=e.getState().sorting)==null?void 0:r.find(i=>i.id===t.id);return n?n.desc?"desc":"asc":!1},t.getSortIndex=()=>{var r,n;return(r=(n=e.getState().sorting)==null?void 0:n.findIndex(i=>i.id===t.id))!=null?r:-1},t.clearSorting=()=>{e.setSorting(r=>r!=null&&r.length?r.filter(n=>n.id!==t.id):[])},t.getToggleSortingHandler=()=>{const r=t.getCanSort();return n=>{r&&(n.persist==null||n.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(n):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var r,n;t.setSorting(e?[]:(r=(n=t.initialState)==null?void 0:n.sorting)!=null?r:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},sAe=[A8e,q8e,V8e,U8e,L8e,D8e,Y8e,X8e,aAe,z8e,j8e,K8e,Q8e,Z8e,G8e];function oAe(t){var e,r;const n=[...sAe,...(e=t._features)!=null?e:[]];let i={_features:n};const a=i._features.reduce((d,p)=>Object.assign(d,p.getDefaultOptions==null?void 0:p.getDefaultOptions(i)),{}),s=d=>i.options.mergeOptions?i.options.mergeOptions(a,d):{...a,...d};let l={...{},...(r=t.initialState)!=null?r:{}};i._features.forEach(d=>{var p;l=(p=d.getInitialState==null?void 0:d.getInitialState(l))!=null?p:l});const u=[];let h=!1;const f={_features:n,options:{...a,...t},initialState:l,_queue:d=>{u.push(d),h||(h=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();h=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{i.setState(i.initialState)},setOptions:d=>{const p=xf(d,i.options);i.options=s(p)},getState:()=>i.options.state,setState:d=>{i.options.onStateChange==null||i.options.onStateChange(d)},_getRowId:(d,p,m)=>{var v;return(v=i.options.getRowId==null?void 0:i.options.getRowId(d,p,m))!=null?v:`${m?[m.id,p].join("."):p}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(d,p)=>{let m=(p?i.getPrePaginationRowModel():i.getRowModel()).rowsById[d];if(!m&&(m=i.getCoreRowModel().rowsById[d],!m))throw new Error;return m},_getDefaultColumnDef:Dr(()=>[i.options.defaultColumn],d=>{var p;return d=(p=d)!=null?p:{},{header:m=>{const v=m.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:m=>{var v,x;return(v=(x=m.renderValue())==null||x.toString==null?void 0:x.toString())!=null?v:null},...i._features.reduce((m,v)=>Object.assign(m,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...d}},Rr(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Dr(()=>[i._getColumnDefs()],d=>{const p=function(m,v,x){return x===void 0&&(x=0),m.map(y=>{const w=C8e(i,y,x,v),S=y;return w.columns=S.columns?p(S.columns,w,x+1):[],w})};return p(d)},Rr(t,"debugColumns")),getAllFlatColumns:Dr(()=>[i.getAllColumns()],d=>d.flatMap(p=>p.getFlatColumns()),Rr(t,"debugColumns")),_getAllFlatColumnsById:Dr(()=>[i.getAllFlatColumns()],d=>d.reduce((p,m)=>(p[m.id]=m,p),{}),Rr(t,"debugColumns")),getAllLeafColumns:Dr(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(d,p)=>{let m=d.flatMap(v=>v.getLeafColumns());return p(m)},Rr(t,"debugColumns")),getColumn:d=>i._getAllFlatColumnsById()[d]};Object.assign(i,f);for(let d=0;d<i._features.length;d++){const p=i._features[d];p==null||p.createTable==null||p.createTable(i)}return i}function lAe(){return t=>Dr(()=>[t.options.data],e=>{const r={rows:[],flatRows:[],rowsById:{}},n=function(i,a,s){a===void 0&&(a=0);const o=[];for(let u=0;u<i.length;u++){const h=_8e(t,t._getRowId(i[u],u,s),i[u],u,a,void 0,s==null?void 0:s.id);if(r.flatRows.push(h),r.rowsById[h.id]=h,o.push(h),t.options.getSubRows){var l;h.originalSubRows=t.options.getSubRows(i[u],u),(l=h.originalSubRows)!=null&&l.length&&(h.subRows=n(h.originalSubRows,a+1,h))}}return o};return r.rows=n(e),r},Rr(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ore(t,e){return t?uAe(t)?je.createElement(t,e):t:null}function uAe(t){return cAe(t)||typeof t=="function"||hAe(t)}function cAe(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function hAe(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function fAe(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[r]=je.useState(()=>({current:oAe(e)})),[n,i]=je.useState(()=>r.current.initialState);return r.current.setOptions(a=>({...a,...t,state:{...n,...t.state},onStateChange:s=>{i(s),t.onStateChange==null||t.onStateChange(s)}})),r.current}function sg(t,e,r){let n=r.initialDeps??[],i;return()=>{var a,s,o,l;let u;r.key&&((a=r.debug)!=null&&a.call(r))&&(u=Date.now());const h=t();if(!(h.length!==n.length||h.some((p,m)=>n[m]!==p)))return i;n=h;let d;if(r.key&&((s=r.debug)!=null&&s.call(r))&&(d=Date.now()),i=e(...h),r.key&&((o=r.debug)!=null&&o.call(r))){const p=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-d)*100)/100,v=m/16,x=(y,w)=>{for(y=String(y);y.length<w;)y=" "+y;return y};console.info(`%c⏱ ${x(m,5)} /${x(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(l=r==null?void 0:r.onChange)==null||l.call(r,i),i}}function O7(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const dAe=(t,e)=>Math.abs(t-e)<1,pAe=(t,e,r)=>{let n;return function(...i){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,i),r)}},gAe=t=>t,mAe=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let i=e;i<=r;i++)n.push(i);return n},vAe=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const i=s=>{const{width:o,height:l}=s;e({width:Math.round(o),height:Math.round(l)})};if(i(r.getBoundingClientRect()),!n.ResizeObserver)return()=>{};const a=new n.ResizeObserver(s=>{const o=s[0];if(o!=null&&o.borderBoxSize){const l=o.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(r.getBoundingClientRect())});return a.observe(r,{box:"border-box"}),()=>{a.unobserve(r)}},Pz={passive:!0},yAe=typeof window>"u"?!0:"onscrollend"in window,xAe=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let i=0;const a=t.options.useScrollendEvent&&yAe?()=>{}:pAe(n,()=>{e(i,!1)},t.options.isScrollingResetDelay),s=u=>()=>{const{horizontal:h,isRtl:f}=t.options;i=h?r.scrollLeft*(f&&-1||1):r.scrollTop,a(),e(i,u)},o=s(!0),l=s(!1);return l(),r.addEventListener("scroll",o,Pz),r.addEventListener("scrollend",l,Pz),()=>{r.removeEventListener("scroll",o),r.removeEventListener("scrollend",l)}},bAe=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},wAe=(t,{adjustments:e=0,behavior:r},n)=>{var i,a;const s=t+e;(a=(i=n.scrollElement)==null?void 0:i.scrollTo)==null||a.call(i,{[n.options.horizontal?"left":"top"]:s,behavior:r})};class SAe{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(i=>{i.forEach(a=>{this._measureElement(a.target,a)})}));return{disconnect:()=>{var i;(i=n())==null||i.disconnect(),r=null},observe:i=>{var a;return(a=n())==null?void 0:a.observe(i,{box:"border-box"})},unobserve:i=>{var a;return(a=n())==null?void 0:a.unobserve(i)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,i])=>{typeof i>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:gAe,rangeExtractor:mAe,onChange:()=>{},measureElement:bAe,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...r}},this.notify=r=>{var n,i;(i=(n=this.options).onChange)==null||i.call(n,this,r)},this.maybeNotify=sg(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const i=new Map,a=new Map;for(let s=n-1;s>=0;s--){const o=r[s];if(i.has(o.lane))continue;const l=a.get(o.lane);if(l==null||o.end>l.end?a.set(o.lane,o):o.end<l.end&&i.set(o.lane,!0),i.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((s,o)=>s.end===o.end?s.index-o.index:s.end-o.end)[0]:void 0},this.getMeasurementOptions=sg(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,i,a,s)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:i,getItemKey:a,enabled:s}),{key:!1}),this.getMeasurements=sg(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:i,getItemKey:a,enabled:s},o)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(h=>{this.itemSizeCache.set(h.key,h.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let h=l;h<r;h++){const f=a(h),d=this.options.lanes===1?u[h-1]:this.getFurthestMeasurement(u,h),p=d?d.end+this.options.gap:n+i,m=o.get(f),v=typeof m=="number"?m:this.options.estimateSize(h),x=p+v,y=d?d.lane:h%this.options.lanes;u[h]={index:h,start:p,size:v,end:x,key:f,lane:y}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=sg(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(r,n,i)=>this.range=r.length>0&&n>0?kAe({measurements:r,outerSize:n,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=sg(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(r,n,i,a)=>n===null?[]:r({startIndex:n.startIndex,endIndex:n.endIndex,overscan:i,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,i=r.getAttribute(n);return i?parseInt(i,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const i=this.indexFromElement(r),a=this.measurementsCache[i];if(!a)return;const s=a.key,o=this.elementsCache.get(s);o!==r&&(o&&this.observer.unobserve(o),this.observer.observe(r),this.elementsCache.set(s,r)),r.isConnected&&this.resizeItem(i,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const i=this.measurementsCache[r];if(!i)return;const a=this.itemSizeCache.get(i.key)??i.size,s=n-a;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,i)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(i))});return}this._measureElement(r,void 0)},this.getVirtualItems=sg(()=>[this.getIndexes(),this.getMeasurements()],(r,n)=>{const i=[];for(let a=0,s=r.length;a<s;a++){const o=r[a],l=n[o];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return O7(n[Pre(0,n.length-1,i=>O7(n[i]).start,r)])},this.getOffsetForAlignment=(r,n)=>{const i=this.getSize(),a=this.getScrollOffset();n==="auto"&&(r<=a?n="start":r>=a+i?n="end":n="start"),n==="start"?r=r:n==="end"?r=r-i:n==="center"&&(r=r-i/2);const s=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[s]:this.scrollElement[s]:0)-i;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const i=this.measurementsCache[r];if(!i)return;const a=this.getSize(),s=this.getScrollOffset();if(n==="auto")if(i.end>=s+a-this.options.scrollPaddingEnd)n="end";else if(i.start<=s+this.options.scrollPaddingStart)n="start";else return[s,n];const o=n==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,n),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(r,{align:n="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:i})},this.scrollToIndex=(r,{align:n="auto",behavior:i}={})=>{r=Math.max(0,Math.min(r,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const a=this.getOffsetForIndex(r,n);if(!a)return;const[s,o]=a;this._scrollToOffset(s,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(r))){const[u]=O7(this.getOffsetForIndex(r,o));dAe(u,this.getScrollOffset())||this.scrollToIndex(r,{align:o,behavior:i})}else this.scrollToIndex(r,{align:o,behavior:i})}))},this.scrollBy=(r,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let i;return n.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((r=n[n.length-1])==null?void 0:r.end)??0:Math.max(...n.slice(-this.options.lanes).map(a=>a.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:i})=>{this.options.scrollToFn(r,{behavior:i,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const Pre=(t,e,r,n)=>{for(;t<=e;){const i=(t+e)/2|0,a=r(i);if(a<n)t=i+1;else if(a>n)e=i-1;else return i}return t>0?t-1:0};function kAe({measurements:t,outerSize:e,scrollOffset:r}){const n=t.length-1,a=Pre(0,n,o=>t[o].start,r);let s=a;for(;s<n&&t[s].end<r+e;)s++;return{startIndex:a,endIndex:s}}const EAe=typeof document<"u"?je.useLayoutEffect:je.useEffect;function TAe(t){const e=je.useReducer(()=>({}),{})[1],r={...t,onChange:(i,a)=>{var s;a?KD.flushSync(e):e(),(s=t.onChange)==null||s.call(t,i,a)}},[n]=je.useState(()=>new SAe(r));return n.setOptions(r),je.useEffect(()=>n._didMount(),[]),EAe(()=>n._willUpdate()),n}function CAe(t){return TAe({observeElementRect:vAe,observeElementOffset:xAe,scrollToFn:wAe,...t})}const wx={CELLEDITOR:30,ROWHEADER_THEAD:21,THEAD:20,ROWHEADER_SELECTION:11,ROWHEADER:10,SELECTION:1},AAe=LE(({api:t,caretCell:e,getPixel:r,onChangeEditing:n,onChangeRow:i,onKeyDown:a},s)=>{const[o,l]=je.useState(void 0),[u,h]=je.useState(),[f,d]=je.useState(),[p,m]=je.useState(),v=je.useRef(null),x=je.useRef(null);je.useEffect(()=>{var I;if(e){const D=(I=t.getAllLeafColumns()[e.colIndex])==null?void 0:I.columnDef;if(m(D==null?void 0:D.ex.editSetting),v.current){const F=r({position:"left",colIndex:e.colIndex}),M=r({position:"right",colIndex:e.colIndex}),B=r({position:"top",rowIndex:e.rowIndex}),H=r({position:"bottom",rowIndex:e.rowIndex});v.current.style.left=`${F}px`,v.current.style.top=`${B}px`,v.current.style.minWidth=`${M-F+1}px`,v.current.style.minHeight=`${H-B+1}px`}h("")}else m(void 0)},[e,t,v]),je.useEffect(()=>{var I;p&&((I=x.current)==null||I.focus())},[p,r]);const y=Xt(I=>{var F,M,B;const D=I.column.columnDef;if(i&&D.ex.editSetting&&!((M=(F=D.ex.editSetting).readOnly)!=null&&M.call(F,I.row.original,I.row.index))){if(l({cellId:I.id,rowIndex:I.row.index,row:I.row.original}),n(!0),D.ex.editSetting.type==="text"||D.ex.editSetting.type==="multiline-text"){const H=D.ex.editSetting.onStartEditing(I.row.original);h(H)}else if(D.ex.editSetting.type==="combo"||D.ex.editSetting.type==="async-combo"){const H=D.ex.editSetting.onStartEditing(I.row.original);d(H)}(B=v.current)==null||B.scrollIntoView({behavior:"instant",block:"nearest",inline:"nearest"})}}),w=Xt(I=>{var D,F,M;o!==void 0&&p!==void 0&&(p.onEndEditing(o.row,I??((D=x.current)==null?void 0:D.getValue()),o.rowIndex),i==null||i(o.rowIndex,o.row),l(void 0),d(void 0),n(!1),(M=(F=x.current)==null?void 0:F.closeDropdown)==null||M.call(F))}),S=Xt(()=>{var I,D;l(void 0),d(void 0),n(!1),(D=(I=x.current)==null?void 0:I.closeDropdown)==null||D.call(I)}),E=Xt(()=>{if(o===void 0)return!1}),C=Xt(I=>{d(I),w(I)}),[{isImeOpen:L}]=TM(),_=Xt(I=>{if(o)if(((p==null?void 0:p.type)==="text"||(p==null?void 0:p.type)==="multiline-text")&&(I.key==="Enter"||I.key==="Tab")){if(L||(p==null?void 0:p.type)==="multiline-text"&&!I.ctrlKey&&!I.metaKey)return;w(),I.stopPropagation(),I.preventDefault()}else I.key==="Escape"&&(S(),I.preventDefault());else{if(e&&(I.key==="F2"||L||I.key==="Process"||!I.ctrlKey&&!I.metaKey&&I.key.length===1||((p==null?void 0:p.type)==="combo"||(p==null?void 0:p.type)==="async-combo")&&I.altKey&&I.key==="ArrowDown")){const F=t.getCoreRowModel().flatRows[e.rowIndex].getAllCells()[e.colIndex];F&&y(F);return}if(I.type==="keydown"&&(a(I),I.defaultPrevented))return}});return vre(v,()=>{((p==null?void 0:p.type)==="text"||(p==null?void 0:p.type)==="multiline-text")&&w()},[w,p]),je.useImperativeHandle(s,()=>({focus:()=>{var I;return(I=x.current)==null?void 0:I.focus({preventScroll:!0})},startEditing:y}),[y]),Xe.jsxs("label",{ref:v,className:"absolute min-w-4 min-h-4 flex items-stretch outline-none",style:{zIndex:wx.CELLEDITOR,opacity:o===void 0?0:void 0,pointerEvents:o===void 0?"none":void 0,left:0,top:0},onKeyDown:_,tabIndex:0,children:[(p===void 0||(p==null?void 0:p.type)==="text")&&Xe.jsx(Jre,{ref:x,value:u,onChange:h,className:"flex-1"}),(p==null?void 0:p.type)==="multiline-text"&&Xe.jsx(M_e,{ref:x,value:u,onChange:h,className:"flex-1"}),(p==null?void 0:p.type)==="combo"&&Xe.jsx(V_e,{ref:x,value:f,onChange:C,onDropdownOpening:E,...p.comboProps,className:"flex-1"}),(p==null?void 0:p.type)==="async-combo"&&Xe.jsx(G_e,{ref:x,value:f,onChange:C,onDropdownOpening:E,...p.comboProps,className:"flex-1"})]})}),_Ae=(t,e,r,n,i,a)=>{const s=r.length,o=je.useRef(null),l=je.useRef(),u=je.useRef(),[h,f]=je.useState(!1),d=Xt(x=>{var y,w;if(x.target==="cell")u.current={...x.cell},x.shiftKey||(l.current={...x.cell},i(l.current)),f(!1),n==null||n({rowIndex:x.cell.rowIndex,getRow:()=>t.getCoreRowModel().flatRows[x.cell.rowIndex].original});else if(x.target==="row")u.current={colIndex:t.getAllLeafColumns().length-1,rowIndex:x.endRowIndex},l.current={colIndex:0,rowIndex:x.startRowIndex},i(l.current),f(!0),n==null||n({rowIndex:x.startRowIndex,getRow:()=>t.getCoreRowModel().flatRows[x.startRowIndex].original});else if(x.target==="any")if(e>0&&s>=0){const S={rowIndex:0,colIndex:0};l.current=S,u.current=S,f(!1),n==null||n({rowIndex:0,getRow:()=>t.getCoreRowModel().flatRows[0].original}),i(S)}else l.current=void 0,u.current=void 0,f(!1),n==null||n(void 0),i(void 0);else if(e>0&&s>=0){const S=t.getAllLeafColumns();l.current={rowIndex:0,colIndex:0},u.current={rowIndex:e-1,colIndex:S.length-1},f(!0),n==null||n({rowIndex:0,getRow:()=>t.getCoreRowModel().flatRows[e-1].original}),i(l.current)}else l.current=void 0,u.current=void 0,f(!1),n==null||n(void 0),i(void 0);(y=o.current)==null||y.update(l.current,u.current,h),(w=a.current)==null||w.focus()}),p=je.useCallback(x=>{var y,w;if(x.ctrlKey&&x.key==="a")d({target:"all"}),x.preventDefault();else if(!x.ctrlKey&&(x.key==="ArrowUp"||x.key==="ArrowDown")){const S=x.shiftKey?u.current:l.current;if(!S){d({target:"any"}),x.preventDefault();return}const E=x.key==="ArrowUp"?Math.max(0,S.rowIndex-1):Math.min(e-1,S.rowIndex+1);d({target:"cell",cell:{rowIndex:E,colIndex:S.colIndex},shiftKey:x.shiftKey}),x.preventDefault(),(y=o.current)==null||y.scrollToActiveCell();return}else if(!x.ctrlKey&&(x.key==="ArrowLeft"||x.key==="ArrowRight")){const S=x.shiftKey?u.current:l.current;if(!S){d({target:"any"}),x.preventDefault();return}const E=t.getAllLeafColumns(),C=x.key==="ArrowLeft"?Math.max(0,S.colIndex-1):Math.min(E.length-1,S.colIndex+1);d({target:"cell",cell:{rowIndex:S.rowIndex,colIndex:C},shiftKey:x.shiftKey}),x.preventDefault(),(w=o.current)==null||w.scrollToActiveCell()}},[t,d,l,u,e,s,o]),m=je.useCallback(()=>{if(!l.current||!u.current)return[];const x=t.getRowModel().flatRows,y=Math.min(l.current.rowIndex,u.current.rowIndex),w=Math.max(l.current.rowIndex,u.current.rowIndex);return x.slice(y,w+1)},[t,l,u]),v=je.useCallback(()=>{if(!l.current||!u.current)return[];const x=t.getAllLeafColumns(),y=l.current.colIndex,w=u.current.colIndex;if(y===-1||w===-1)return[];const S=Math.min(y,w),E=Math.max(y,w);return x.slice(S,E+1).map(C=>C.columnDef)},[t,l,u]);return{selectObject:d,handleSelectionKeyDown:p,activeCellBorderProps:{ref:o},getSelectedRows:m,getSelectedColumns:v}},LAe=LE(({getPixel:t,hidden:e},r)=>{const n=je.useRef(null),i=je.useRef(null),[a,s]=je.useState({}),[o,l]=je.useState({}),[u,h]=je.useState({}),[f,d]=je.useState(!0),p=je.useMemo(()=>({display:e||f?"none":void 0,...u}),[e,f,u]),m=je.useCallback((x,y,w)=>{const S=x,E=y;if(!S||!E){d(!0);return}const C=t({position:"left",colIndex:Math.min(S.colIndex,E.colIndex)}),L=t({position:"right",colIndex:Math.max(S.colIndex,E.colIndex)}),_=t({position:"top",rowIndex:Math.min(S.rowIndex,E.rowIndex)}),I=t({position:"bottom",rowIndex:Math.max(S.rowIndex,E.rowIndex)}),D=t({position:"left",colIndex:S.colIndex}),F=t({position:"top",rowIndex:S.rowIndex}),M=t({position:"right",colIndex:S.colIndex})-D+1,B=t({position:"bottom",rowIndex:S.rowIndex})-F+1,H=t({position:"left",colIndex:E.colIndex}),R=t({position:"top",rowIndex:E.rowIndex}),O=t({position:"right",colIndex:E.colIndex})-H+1,P=t({position:"bottom",rowIndex:E.rowIndex})-R+1;d(!1),h({left:`${C}px`,top:`${_}px`,width:`${L-C}px`,height:`${I-_}px`,zIndex:w?wx.ROWHEADER_SELECTION.toString():wx.SELECTION.toString()}),s({x:`${D-C-3}px`,y:`${F-_-3}px`,width:`${M}px`,height:`${B}px`}),l({x:`${H-C-gw.X-3}px`,y:`${R-_-gw.Y-3}px`,width:`${O+gw.X*2}px`,height:`${P+gw.Y*2}px`})},[t,d,h,s]);je.useImperativeHandle(r,()=>({update:m,scrollToActiveCell:()=>{var x;(x=i.current)==null||x.scrollIntoView({behavior:"instant",block:"nearest",inline:"nearest"})}}),[m,n]);const v=je.useId();return Xe.jsxs("svg",{ref:n,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:"pointer-events-none absolute outline outline-2 outline-offset-[-2px] border-[3px] border border-color-0",style:p,children:[Xe.jsx("defs",{children:Xe.jsxs("mask",{id:`selection-start-mask-${v}`,children:[Xe.jsx("rect",{fill:"white",x:"0",y:"0",width:"calc(Infinity)",height:"calc(Infinity)"}),Xe.jsx("rect",{fill:"black",...a})]})}),Xe.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",className:"bg-color-selected-svg",mask:`url(#selection-start-mask-${v})`}),Xe.jsx("rect",{ref:i,...o,fill:"transparent"})]})}),gw={X:96,Y:96},DAe=()=>({defaultColumn:{minSize:8,maxSize:800},columnResizeMode:"onChange"}),RAe=(t,e)=>{const{colSizes:r,colSizesByIndex:n}=je.useMemo(()=>{const o=t.getFlatHeaders(),l={},u={};for(let h=0;h<o.length;h++){const f=o[h];l[`--header-${f.id}-size`]=f.getSize(),l[`--col-${f.column.id}-size`]=f.column.getSize(),u[h]=f.column.getSize()}return{colSizes:l,colSizesByIndex:u}},[t.getState().columnSizingInfo,e]),i=je.useCallback(o=>`calc(var(--header-${o.id}-size) * 1px)`,[]),a=Xt(o=>n[o]??0),s=je.useCallback(({header:o})=>Xe.jsx("div",{onDoubleClick:()=>o.column.resetSize(),onMouseDown:o.getResizeHandler(),onTouchStart:o.getResizeHandler(),className:"absolute top-0 bottom-0 right-0 w-3 cursor-ew-resize border-r border-color-3"}),[]);return{columnSizeVars:r,getColWidth:i,getColWidthByIndex:a,ResizeHandler:s}},MAe=(t,e,r,n,i)=>{const[,a]=PE(),s=je.useCallback(h=>{if(i)return;const f=e(),d=r(),p=[];for(const v of f){const x=[];for(const y of d){let w;w=y.ex.onClipboardCopy(v.original,v.index),x.push(w)}p.push(x)}const m=Y7e(p);h.clipboardData.setData("Text",m),h.preventDefault()},[i,e,r]),o=je.useCallback(h=>{var S,E,C;if(i||n===void 0||h.length===0)return;const f=e(),d=r(),p=(S=f[0])==null?void 0:S.index,m=d[0];if(p===void 0||m===void 0)return;const v=t.getAllLeafColumns(),x=v.findIndex(L=>L.id===m.id);if(p===-1||x===-1)return;const y=t.getRowModel().flatRows,w=Math.max(h.length,f.length);for(let L=0;L<w;L++){const _=y[p+L];if(_===void 0)continue;const I=h[L%h.length];if(I.length===0)continue;const D=Math.max(I.length,d.length);for(let F=0;F<D;F++){const M=I.length===0?"":I[F%I.length],B=v[x+F];if(B===void 0)continue;const H=B.columnDef;H.ex.editSetting===void 0||(C=(E=H.ex.editSetting).readOnly)!=null&&C.call(E,_.original,_.index)||H.ex.editSetting.onClipboardPaste(_.original,M,_.index)}n(_.index,_.original)}},[i,n,t,e,r]),l=je.useCallback(h=>{let f;try{f=h.clipboardData.getData("Text")}catch{a(p=>p.warn("クリップボードからテキストを読み取れませんでした。"));return}const d=X7e(f);o(d)},[o,a]),u=je.useCallback(()=>{o([[""]])},[o]);return{onCopy:s,onPaste:l,clearSelectedRange:u}},NAe=LE((t,e)=>{var J,se,oe,fe;const{data:r,columns:n,onKeyDown:i,onActiveRowChanged:a,onChangeRow:s,className:o,hideHeader:l,showActiveCellBorderAlways:u,tableWidth:h}=t,f=je.useMemo(()=>S8e(),[]),d=je.useMemo(()=>{const me=[],be=(n==null?void 0:n.map((Ge,xe)=>({id:`col-${xe}`,size:Ge.defaultWidthPx,enableResizing:!Ge.fixedWidth,header:Ge.header??"",headerTitle:Ge.headerTitle,cell:le=>Ge.render(le.row.original,le.row.index),ex:Ge})))??[],ce=q7e(be,Ge=>Ge.ex.headerGroupName??"");for(const[Ge,xe]of ce)Ge?me.push(f.group({header:Ge,columns:xe})):me.push(...xe);return me},[n,f]),p=je.useMemo(()=>({data:r??[],columns:d,getCoreRowModel:lAe(),...h==="fit"?{}:DAe()}),[h,r,d]),m=fAe(p),v=je.useRef(null),[x,y]=je.useState(!1),w=m.getRowModel().flatRows,S=Xt(me=>{var be,ce,Ge;if(me.position==="left"){let xe=0;for(let le=0;le<me.colIndex;le++)xe+=z(le);return xe}else if(me.position==="right"){let xe=0;for(let le=0;le<=me.colIndex;le++)xe+=z(le);return xe}if(C.range&&me.rowIndex>=C.range.startIndex&&me.rowIndex<=C.range.endIndex){const xe=(Ge=(ce=(be=L.current)==null?void 0:be[me.rowIndex])==null?void 0:ce[0])==null?void 0:Ge.current;if(xe)return me.position==="top"?xe.offsetTop:xe.offsetTop+xe.offsetHeight}return me.position==="top"?me.rowIndex*E:(me.rowIndex+1)*E}),E=t.estimatedRowHeight??20,C=CAe({count:((J=t.data)==null?void 0:J.length)??0,getScrollElement:()=>ge.current,estimateSize:()=>E}),L=je.useRef([]);L.current={};for(const me of C.getVirtualItems())L.current[me.index]=Array.from({length:(n==null?void 0:n.length)??0}).map(()=>mt.createRef());const[_,I]=mt.useState(),D=Xt(me=>{I(me)}),{selectObject:F,handleSelectionKeyDown:M,activeCellBorderProps:B,getSelectedRows:H,getSelectedColumns:R}=_Ae(m,(r==null?void 0:r.length)??0,d,a,D,v),{columnSizeVars:O,getColWidth:P,getColWidthByIndex:z,ResizeHandler:$}=RAe(m,d),{onCopy:V,onPaste:X,clearSelectedRange:q}=MAe(m,H,R,s,x),[Y,U]=je.useState(!1),Z=Xt(()=>{var me;U(!0),(me=v.current)==null||me.focus(),_||F({target:"any"})}),pe=Xt(me=>{me.target.contains(me.relatedTarget)||U(!1)}),ne=Xt(me=>{i&&(i(me),me.defaultPrevented)||(M(me),!me.defaultPrevented&&!me.ctrlKey&&!me.metaKey&&me.key==="Delete"&&(q(),me.preventDefault()))}),ge=je.useRef(null),ye=Xt(()=>{if(!_||!v.current)return;const be=m.getCoreRowModel().flatRows[_.rowIndex].getAllCells()[_.colIndex];be&&v.current.startEditing(be)});return je.useImperativeHandle(e,()=>({focus:()=>{var me;return(me=ge.current)==null?void 0:me.focus()},getSelectedRows:()=>H().map(me=>({row:me.original,rowIndex:me.index})),startEditing:ye,selectRow:(me,be)=>F({target:"row",startRowIndex:me,endRowIndex:be})}),[H,ge,ye,F]),Xe.jsxs("div",{ref:ge,className:`outline-none overflow-x-auto overflow-y-scroll select-none relative bg-color-gutter z-0 ${o}`,onFocus:Z,onBlur:pe,onCopy:V,onPaste:X,tabIndex:0,children:[Xe.jsxs("table",{className:"border-separate border-spacing-0",style:{...O,marginRight:h!=="fit"?"50%":void 0,width:h!=="fit"?m.getTotalSize():"100%"},children:[h!=="fit"&&Xe.jsx("colgroup",{children:FAe(m.getHeaderGroups()).headers.map(me=>Xe.jsx("col",{style:{width:P(me.column)}},me.id))}),!l&&Xe.jsx("thead",{children:m.getHeaderGroups().map((me,be)=>Xe.jsx("tr",{children:me.headers.map((ce,Ge)=>{var xe;return Xe.jsxs("th",{colSpan:ce.colSpan,className:"relative bg-color-2 text-color-7 border-b border-color-3",style:OAe(!1,Ge,be),children:[Xe.jsx("div",{className:"absolute inset-0 p-px text-sm text-start whitespace-nowrap text-ellipsis overflow-hidden",title:((xe=ce.column.columnDef)==null?void 0:xe.headerTitle)??(typeof ce.column.columnDef.header=="string"?ce.column.columnDef.header:void 0),children:!ce.isPlaceholder&&Ore(ce.column.columnDef.header,ce.getContext())}),h!=="fit"&&Xe.jsx($,{header:ce})]},ce.id)})},me.id))}),Xe.jsxs("tbody",{className:"bg-color-0",children:[(((se=C.range)==null?void 0:se.startIndex)??0)>0&&Xe.jsx("tr",{className:"leading-tight",children:Xe.jsx("td",{style:{height:`${C.scrollOffset??0}px`}})}),C.getVirtualItems().map(me=>Xe.jsx("tr",{className:"leading-tight",children:w[me.index].getVisibleCells().map((be,ce)=>{var Ge;return Xe.jsx(IAe,{ref:(Ge=L.current[me.index])==null?void 0:Ge[ce],cell:be,cellEditorRef:v,getColWidth:P,selectObject:F,colIndex:ce},be.id)})},w[me.index].id))]})]}),Xe.jsx("div",{style:{height:`${((((oe=t.data)==null?void 0:oe.length)??0)-(((fe=C.range)==null?void 0:fe.endIndex)??0)-1)*E}px`}}),Xe.jsx("div",{className:"h-[calc(100%-4rem)]"}),Xe.jsx(LAe,{getPixel:S,hidden:!u&&(!Y||x),...B}),Xe.jsx(AAe,{ref:v,api:m,caretCell:_,getPixel:S,onChangeEditing:y,onKeyDown:ne,onChangeRow:s})]})}),IAe=mt.memo(mt.forwardRef(({cell:t,getColWidth:e,selectObject:r,cellEditorRef:n,colIndex:i},a)=>Xe.jsx("td",{ref:a,className:"relative overflow-hidden align-top p-0 border-r border-b border-1 border-color-3",style:{...PAe(),maxWidth:e(t.column)},onMouseDown:s=>r({target:"cell",cell:{rowIndex:t.row.index,colIndex:i},shiftKey:s.shiftKey}),onDoubleClick:()=>{var s;return(s=n.current)==null?void 0:s.startEditing(t)},children:Ore(t.column.columnDef.cell,t.getContext())})),(t,e)=>Object.is(t.cell.row.original,e.cell.row.original)&&Object.is(t.getColWidth,e.getColWidth)&&Object.is(t.selectObject,e.selectObject)&&Object.is(t.cellEditorRef,e.cellEditorRef)&&Object.is(t.colIndex,e.colIndex)),OAe=(t,e,r)=>({position:"sticky",top:`calc((1rem + 8px) * ${r})`,left:t?0:void 0,height:e===0?"calc(1rem + 8px)":void 0,zIndex:t?wx.ROWHEADER_THEAD:wx.THEAD}),PAe=t=>({position:void 0,left:void 0,zIndex:void 0}),FAe=t=>t[t.length-1];function BAe({title:t,titleId:e,...r},n){return je.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?je.createElement("title",{id:e},t):null,je.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const $Ae=je.forwardRef(BAe);function zAe({title:t,titleId:e,...r},n){return je.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?je.createElement("title",{id:e},t):null,je.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const IE=je.forwardRef(zAe),Fre=t=>{const e=(n,...i)=>{n==="error"&&console.error(...i);const s=i.flatMap(o=>Array.isArray(o)?o:[o]).map(o=>{const l=hc.generate();if(typeof o=="string")return{id:l,type:n,message:o};const u=o;return typeof u.message=="string"?{id:l,type:n,message:u.message,name:u.name}:{id:l,type:n,message:(o==null?void 0:o.toString())??""}});return{messages:[...t.messages,...s]}};return{clear:n=>{if(!n)return{messages:[]};let i;if(typeof n=="string"){const a=n;i=s=>{var o;return!((o=s.name)!=null&&o.startsWith(a))}}else{const a=n.id;i=s=>s.id!==a}return{messages:t.messages.filter(i)}},error:(...n)=>e("error",...n),warn:(...n)=>e("warn",...n),info:(...n)=>e("info",...n)}},[Bre,OE]=_E(()=>({messages:[]}),Fre),[HAe,PE]=_E(()=>({messages:[]}),Fre),$re=({type:t,name:e,className:r})=>{const{data:{darkMode:n}}=EM(),i=je.useCallback(h=>(h==null?void 0:h.type)==="warn"?n?"border-amber-900":"border-amber-200":(h==null?void 0:h.type)==="info"?n?"border-sky-900":"border-sky-200":n?"border-rose-900":"border-rose-200",[n]),a=je.useCallback(h=>(h==null?void 0:h.type)==="warn"?n?"bg-amber-800":"bg-amber-100":(h==null?void 0:h.type)==="info"?n?"bg-sky-800":"bg-sky-100":n?"bg-rose-800":"bg-rose-100",[n]),s=je.useCallback(h=>(h==null?void 0:h.type)==="warn"?n?"text-amber-200":"text-amber-700":(h==null?void 0:h.type)==="info"?n?"text-sky-200":"text-sky-700":n?"text-rose-200":"text-rose-600",[n]),[{messages:o},l]=OE(),u=je.useMemo(()=>{let h=[...o];return t&&(h=h.filter(f=>f.type===t)),e&&(h=h.filter(f=>{var d;return(d=f.name)==null?void 0:d.startsWith(e)})),h},[o,e,t]);return u.length===0?Xe.jsx(Xe.Fragment,{}):Xe.jsxs("div",{className:`flex flex-col gap-1 ${r}`,children:[Xe.jsx("ul",{className:"flex-1 flex flex-col overflow-y-scroll max-h-36",children:u.map(h=>Xe.jsxs("li",{className:`flex gap-1 items-center border border-1 ${i(h)} ${a(h)}`,children:[Xe.jsx("span",{title:h.message,className:`flex-1 ${s(h)} overflow-hidden text-nowrap overflow-ellipsis whitespace-pre select-all`,children:h.message}),Xe.jsx(ni,{onClick:()=>l(f=>f.clear(h)),icon:IE})]},h.id))}),u.length>0&&Xe.jsxs("div",{className:`flex gap-8 text-sm select-none items-center ${s()}`,children:[u.length,"件のメッセージ",Xe.jsx(ni,{onClick:()=>l(h=>h.clear(e)),children:"すべてクリアする"}),Xe.jsx("div",{className:"flex-1"})]})]})},VAe=({type:t,name:e})=>{const[{messages:r}]=PE(),{data:{darkMode:n}}=EM(),i=je.useMemo(()=>{let a=[...r];return t&&(a=a.filter(s=>s.type===t)),e&&(a=a.filter(s=>{var o;return(o=s.name)==null?void 0:o.startsWith(e)})),a},[r,e,t]);return Xe.jsx(Xe.Fragment,{children:i.map(a=>Xe.jsx(UAe,{msg:a,darkMode:n},a.id))})},UAe=({msg:t,darkMode:e})=>{const[,r]=PE(),[n,i]=je.useState(!0);je.useEffect(()=>{const o=setTimeout(()=>{i(!1)},3e3),l=setTimeout(()=>{r(u=>u.clear(t))},5e3);return()=>{clearTimeout(o),clearTimeout(l)}},[r,t]);const a=je.useMemo(()=>t.type==="warn"?e?"border-amber-500 bg-amber-800 text-amber-50":"border-amber-500 bg-amber-200 text-amber-900":t.type==="info"?e?"border-sky-500 bg-sky-800 text-sky-50":"border-sky-500 bg-sky-200 text-sky-900":e?"border-rose-500 bg-rose-800 text-rose-50":"border-rose-500 bg-rose-200 text-rose-900",[t,e]),s=n?"animate-slideIn":"animate-slideOut translate-x-[calc(-100%-1rem)]";return Xe.jsxs("div",{className:`z-[300] flex flex-col fixed left-4 bottom-12 w-64 h-24 overflow-hidden border border-1 ${a} ${s}`,children:[Xe.jsx(ni,{inline:!0,icon:IE,onClick:()=>r(o=>o.clear(t)),className:"self-end"}),Xe.jsx("span",{className:"inline-block w-full h-full px-2 overflow-y-auto select-all break-words",children:t.message})]})},GAe=({title:t,onClose:e,disableConfirm:r,children:n})=>{const i=Xt(()=>{!r&&!confirm("入力内容が破棄されます。よろしいでしょうか？")||e()}),a=je.useRef(null);je.useLayoutEffect(()=>{var l;(l=a.current)==null||l.focus()},[a]),mt.useEffect(()=>{const l=u=>(u.preventDefault(),null);return window.addEventListener("beforeunload",l,!1),()=>{window.removeEventListener("beforeunload",l,!1)}},[a]);const s=Xt(l=>{l.target===a.current&&l.key==="Escape"&&i()}),o=Xt(()=>{var l;(l=a.current)==null||l.focus()});return Xe.jsx(Bre,{children:Xe.jsxs("div",{className:"fixed z-0 inset-0 w-screen h-screen",children:[Xe.jsx("div",{onMouseDown:i,onFocus:o,tabIndex:0,className:"absolute inset-0 bg-black opacity-25"}),Xe.jsxs("div",{ref:a,onKeyDown:s,tabIndex:0,className:"absolute flex flex-col inset-16 bg-color-0 border border-color-5 outline-none",children:[Xe.jsxs("div",{className:"flex items-center p-1 border-b border-color-4",children:[t&&Xe.jsx("span",{className:"font-medium select-none",children:t}),Xe.jsx("div",{className:"flex-1"}),Xe.jsx(ni,{onClick:i,children:"閉じる"})]}),Xe.jsx($re,{}),Xe.jsx("div",{className:"flex-1 p-1 overflow-auto",children:n})]}),Xe.jsx("div",{onFocus:o,tabIndex:0})]})})},WAe=({target:t,onClose:e,elementRef:r,children:n})=>{const i=je.useRef(null),a=mt.useCallback(s=>{r.current=i.current=s},[i,r]);return mt.useLayoutEffect(()=>{if(i.current&&t){const s=t.getBoundingClientRect(),o=i.current.offsetWidth,l=i.current.offsetHeight,u=s.bottom+1,h=s.right-o;u+l>window.innerHeight?(i.current.style.top=`${s.top-l-1}px`,i.current.style.left=`${h}px`):(i.current.style.top=`${u}px`,i.current.style.left=`${h}px`),i.current.style.minWidth=`${s.width}px`}},[i,t]),vre(i,()=>{e==null||e()},[e]),Xe.jsx("div",{ref:a,tabIndex:0,className:"z-10 fixed max-h-64 overflow-y-auto bg-color-ridge border border-color-5 outline-none",children:n})},zre=()=>({stack:[],popup:void 0,popupElementRef:mt.createRef()}),{reducer:qAe,ContextProvider:YAe,useContext:mM}=j7e(zre,t=>({pushDialog:(e,r)=>({stack:[{id:hc.generate(),option:e,contents:r},...t.stack],popup:t.popup,popupElementRef:t.popupElementRef}),removeDialog:e=>({stack:t.stack.filter(r=>r.id!==e),popup:t.popup,popupElementRef:t.popupElementRef}),openPopup:(e,r,n)=>({stack:t.stack,popup:{target:e,contents:r,onClose:n},popupElementRef:t.popupElementRef}),closePopup:()=>({stack:t.stack,popup:void 0,popupElementRef:t.popupElementRef})})),XAe=({children:t})=>{const e=mt.useReducer(qAe,void 0,zre),[{stack:r,popup:n,popupElementRef:i},a]=e,s=Xt(l=>()=>a(u=>u.removeDialog(l))),o=Xt(()=>{var l;a(u=>u.closePopup()),(l=n==null?void 0:n.onClose)==null||l.call(n)});return Xe.jsxs(YAe,{value:e,children:[t,r.map(({id:l,option:u,contents:h})=>Xe.jsx(GAe,{title:u.title,onClose:s(l),disableConfirm:u.disableConfirm??!1,children:mt.createElement(h,{closeDialog:s(l)})},l)),n&&Xe.jsx(WAe,{target:n.target,onClose:o,elementRef:i,children:mt.createElement(n.contents,{closeDialog:o})})]})};mt.memo(({noSideLine:t,state:e})=>{let r,n,i;return e==="ADD"?(r="bg-emerald-500",n="text-emerald-500",i="追加"):e==="MOD"?(r="bg-sky-500",n="text-sky-500",i="変更"):e==="DEL"?(r="bg-rose-500",n="text-rose-500",i="削除"):(r="",n="",i=""),t?Xe.jsx("span",{className:`text-sm font-bold ${n}`,children:i}):Xe.jsxs("div",{className:"flex select-none gap-1 text-sm font-bold whitespace-nowrap",children:[Xe.jsx("div",{className:`basis-1 self-stretch ${r}`}),Xe.jsx("span",{className:n,children:i})]})});mt.createContext({});new v8e({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}});const wp=Aa((t,e)=>{const{onValidate:r,value:n,readOnly:i,placeholder:a,className:s,inputClassName:o,onChange:l,onOneCharChanged:u,onFocus:h,onBlur:f,onKeyDown:d,AtStart:p,AtEnd:m,...v}=t,x=je.useRef(null),[y,w]=je.useState(n??""),[S,E]=je.useState(!1),{data:{darkMode:C}}=EM();je.useEffect(()=>{S&&n===""||w(n??"")},[n]);const L=Xt(O=>O?r?r(O):{ok:!0,formatted:O}:{ok:!0,formatted:""}),_=Xt(()=>{let O;if(r){const P=L(y);P.ok?(O=P.formatted,E(!1),w(O)):(O="",E(!0))}else O=y,E(!1);(n??"")!==O&&(l==null||l(O))}),I=Xt(O=>{u==null||u(O.target.value),w(O.target.value)}),D=Xt(O=>{var P;(P=x.current)==null||P.select(),h==null||h(O)}),F=je.useRef(null),M=Xt(O=>{var P;(P=F.current)!=null&&P.contains(O.relatedTarget)||(_(),f==null||f(O))});je.useEffect(()=>{_()},[r]);const[{isImeOpen:B}]=TM(),H=Xt(O=>{O.key==="Enter"&&!B&&_(),d==null||d(O)});je.useImperativeHandle(e,()=>({element:F.current,getValue:()=>{const O=L(y);return O.ok?O.formatted:""},focus:O=>{var P,z;(P=x.current)==null||P.focus(O),(z=x.current)==null||z.select()}}),[L,y,x]);let R="inline-flex relative min-w-0 border";return i?R+=" border-transparent":(R+=" border-color-5 text-color-12",R+=S?C?" bg-rose-900":" bg-rose-200":" bg-color-base"),(s===void 0||(s==null?void 0:s.indexOf("max-w-"))===-1)&&(R+=" max-w-full"),s&&(R+=" "+s),Xe.jsxs("div",{ref:F,className:R,onBlur:M,children:[p,Xe.jsx("input",{...v,type:"text",ref:x,value:y,className:`outline-none flex-1 min-w-0 px-1 bg-transparent ${o??""}`,spellCheck:"false",autoComplete:"off",readOnly:i,placeholder:i?void 0:a,onKeyDown:H,onFocus:D,onChange:I}),m]})});var Hre={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Pl,function(){var r=navigator.userAgent,n=navigator.platform,i=/gecko\/\d/i.test(r),a=/MSIE \d/.test(r),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),o=/Edge\/(\d+)/.exec(r),l=a||s||o,u=l&&(a?document.documentMode||6:+(o||s)[1]),h=!o&&/WebKit\//.test(r),f=h&&/Qt\/\d+\.\d+/.test(r),d=!o&&/Chrome\/(\d+)/.exec(r),p=d&&+d[1],m=/Opera\//.test(r),v=/Apple Computer/.test(navigator.vendor),x=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),y=/PhantomJS/.test(r),w=v&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),S=/Android/.test(r),E=w||S||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),C=w||/Mac/.test(n),L=/\bCrOS\b/.test(r),_=/win/i.test(n),I=m&&r.match(/Version\/(\d*\.\d*)/);I&&(I=Number(I[1])),I&&I>=15&&(m=!1,h=!0);var D=C&&(f||m&&(I==null||I<12.11)),F=i||l&&u>=9;function M(g){return new RegExp("(^|\\s)"+g+"(?:$|\\s)\\s*")}var B=function(g,b){var A=g.className,T=M(b).exec(A);if(T){var N=A.slice(T.index+T[0].length);g.className=A.slice(0,T.index)+(N?T[1]+N:"")}};function H(g){for(var b=g.childNodes.length;b>0;--b)g.removeChild(g.firstChild);return g}function R(g,b){return H(g).appendChild(b)}function O(g,b,A,T){var N=document.createElement(g);if(A&&(N.className=A),T&&(N.style.cssText=T),typeof b=="string")N.appendChild(document.createTextNode(b));else if(b)for(var G=0;G<b.length;++G)N.appendChild(b[G]);return N}function P(g,b,A,T){var N=O(g,b,A,T);return N.setAttribute("role","presentation"),N}var z;document.createRange?z=function(g,b,A,T){var N=document.createRange();return N.setEnd(T||g,A),N.setStart(g,b),N}:z=function(g,b,A){var T=document.body.createTextRange();try{T.moveToElementText(g.parentNode)}catch{return T}return T.collapse(!0),T.moveEnd("character",A),T.moveStart("character",b),T};function $(g,b){if(b.nodeType==3&&(b=b.parentNode),g.contains)return g.contains(b);do if(b.nodeType==11&&(b=b.host),b==g)return!0;while(b=b.parentNode)}function V(g){var b=g.ownerDocument||g,A;try{A=g.activeElement}catch{A=b.body||null}for(;A&&A.shadowRoot&&A.shadowRoot.activeElement;)A=A.shadowRoot.activeElement;return A}function X(g,b){var A=g.className;M(b).test(A)||(g.className+=(A?" ":"")+b)}function q(g,b){for(var A=g.split(" "),T=0;T<A.length;T++)A[T]&&!M(A[T]).test(b)&&(b+=" "+A[T]);return b}var Y=function(g){g.select()};w?Y=function(g){g.selectionStart=0,g.selectionEnd=g.value.length}:l&&(Y=function(g){try{g.select()}catch{}});function U(g){return g.display.wrapper.ownerDocument}function Z(g){return pe(g.display.wrapper)}function pe(g){return g.getRootNode?g.getRootNode():g.ownerDocument}function ne(g){return U(g).defaultView}function ge(g){var b=Array.prototype.slice.call(arguments,1);return function(){return g.apply(null,b)}}function ye(g,b,A){b||(b={});for(var T in g)g.hasOwnProperty(T)&&(A!==!1||!b.hasOwnProperty(T))&&(b[T]=g[T]);return b}function J(g,b,A,T,N){b==null&&(b=g.search(/[^\s\u00a0]/),b==-1&&(b=g.length));for(var G=T||0,j=N||0;;){var re=g.indexOf("	",G);if(re<0||re>=b)return j+(b-G);j+=re-G,j+=A-j%A,G=re+1}}var se=function(){this.id=null,this.f=null,this.time=0,this.handler=ge(this.onTimeout,this)};se.prototype.onTimeout=function(g){g.id=0,g.time<=+new Date?g.f():setTimeout(g.handler,g.time-+new Date)},se.prototype.set=function(g,b){this.f=b;var A=+new Date+g;(!this.id||A<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,g),this.time=A)};function oe(g,b){for(var A=0;A<g.length;++A)if(g[A]==b)return A;return-1}var fe=50,me={toString:function(){return"CodeMirror.Pass"}},be={scroll:!1},ce={origin:"*mouse"},Ge={origin:"+move"};function xe(g,b,A){for(var T=0,N=0;;){var G=g.indexOf("	",T);G==-1&&(G=g.length);var j=G-T;if(G==g.length||N+j>=b)return T+Math.min(j,b-N);if(N+=G-T,N+=A-N%A,T=G+1,N>=b)return T}}var le=[""];function ke(g){for(;le.length<=g;)le.push(De(le)+" ");return le[g]}function De(g){return g[g.length-1]}function We(g,b){for(var A=[],T=0;T<g.length;T++)A[T]=b(g[T],T);return A}function qe(g,b,A){for(var T=0,N=A(b);T<g.length&&A(g[T])<=N;)T++;g.splice(T,0,b)}function Ve(){}function we(g,b){var A;return Object.create?A=Object.create(g):(Ve.prototype=g,A=new Ve),b&&ye(b,A),A}var Te=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function de(g){return/\w/.test(g)||g>""&&(g.toUpperCase()!=g.toLowerCase()||Te.test(g))}function W(g,b){return b?b.source.indexOf("\\w")>-1&&de(g)?!0:b.test(g):de(g)}function ee(g){for(var b in g)if(g.hasOwnProperty(b)&&g[b])return!1;return!0}var te=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function he(g){return g.charCodeAt(0)>=768&&te.test(g)}function K(g,b,A){for(;(A<0?b>0:b<g.length)&&he(g.charAt(b));)b+=A;return b}function _e(g,b,A){for(var T=b>A?-1:1;;){if(b==A)return b;var N=(b+A)/2,G=T<0?Math.ceil(N):Math.floor(N);if(G==b)return g(G)?b:A;g(G)?A=G:b=G+T}}function ae(g,b,A,T){if(!g)return T(b,A,"ltr",0);for(var N=!1,G=0;G<g.length;++G){var j=g[G];(j.from<A&&j.to>b||b==A&&j.to==b)&&(T(Math.max(j.from,b),Math.min(j.to,A),j.level==1?"rtl":"ltr",G),N=!0)}N||T(b,A,"ltr")}var Le=null;function Ne(g,b,A){var T;Le=null;for(var N=0;N<g.length;++N){var G=g[N];if(G.from<b&&G.to>b)return N;G.to==b&&(G.from!=G.to&&A=="before"?T=N:Le=N),G.from==b&&(G.from!=G.to&&A!="before"?T=N:Le=N)}return T??Le}var Ie=function(){var g="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",b="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function A(ve){return ve<=247?g.charAt(ve):1424<=ve&&ve<=1524?"R":1536<=ve&&ve<=1785?b.charAt(ve-1536):1774<=ve&&ve<=2220?"r":8192<=ve&&ve<=8203?"w":ve==8204?"b":"L"}var T=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,N=/[stwN]/,G=/[LRr]/,j=/[Lb1n]/,re=/[1n]/;function ue(ve,Re,Fe){this.level=ve,this.from=Re,this.to=Fe}return function(ve,Re){var Fe=Re=="ltr"?"L":"R";if(ve.length==0||Re=="ltr"&&!T.test(ve))return!1;for(var Ze=ve.length,Ke=[],st=0;st<Ze;++st)Ke.push(A(ve.charCodeAt(st)));for(var ht=0,Ct=Fe;ht<Ze;++ht){var Mt=Ke[ht];Mt=="m"?Ke[ht]=Ct:Ct=Mt}for(var Bt=0,Nt=Fe;Bt<Ze;++Bt){var Wt=Ke[Bt];Wt=="1"&&Nt=="r"?Ke[Bt]="n":G.test(Wt)&&(Nt=Wt,Wt=="r"&&(Ke[Bt]="R"))}for(var cr=1,ir=Ke[0];cr<Ze-1;++cr){var Pr=Ke[cr];Pr=="+"&&ir=="1"&&Ke[cr+1]=="1"?Ke[cr]="1":Pr==","&&ir==Ke[cr+1]&&(ir=="1"||ir=="n")&&(Ke[cr]=ir),ir=Pr}for(var An=0;An<Ze;++An){var Xi=Ke[An];if(Xi==",")Ke[An]="N";else if(Xi=="%"){var ei=void 0;for(ei=An+1;ei<Ze&&Ke[ei]=="%";++ei);for(var Js=An&&Ke[An-1]=="!"||ei<Ze&&Ke[ei]=="1"?"1":"N",As=An;As<ei;++As)Ke[As]=Js;An=ei-1}}for(var Ai=0,_s=Fe;Ai<Ze;++Ai){var pa=Ke[Ai];_s=="L"&&pa=="1"?Ke[Ai]="L":G.test(pa)&&(_s=pa)}for(var Fi=0;Fi<Ze;++Fi)if(N.test(Ke[Fi])){var _i=void 0;for(_i=Fi+1;_i<Ze&&N.test(Ke[_i]);++_i);for(var ui=(Fi?Ke[Fi-1]:Fe)=="L",Ls=(_i<Ze?Ke[_i]:Fe)=="L",Zp=ui==Ls?ui?"L":"R":Fe,Gh=Fi;Gh<_i;++Gh)Ke[Gh]=Zp;Fi=_i-1}for(var Da=[],_u,ji=0;ji<Ze;)if(j.test(Ke[ji])){var i6=ji;for(++ji;ji<Ze&&j.test(Ke[ji]);++ji);Da.push(new ue(0,i6,ji))}else{var Tc=ji,Md=Da.length,Nd=Re=="rtl"?1:0;for(++ji;ji<Ze&&Ke[ji]!="L";++ji);for(var Ja=Tc;Ja<ji;)if(re.test(Ke[Ja])){Tc<Ja&&(Da.splice(Md,0,new ue(1,Tc,Ja)),Md+=Nd);var Jp=Ja;for(++Ja;Ja<ji&&re.test(Ke[Ja]);++Ja);Da.splice(Md,0,new ue(2,Jp,Ja)),Md+=Nd,Tc=Ja}else++Ja;Tc<ji&&Da.splice(Md,0,new ue(1,Tc,ji))}return Re=="ltr"&&(Da[0].level==1&&(_u=ve.match(/^\s+/))&&(Da[0].from=_u[0].length,Da.unshift(new ue(0,0,_u[0].length))),De(Da).level==1&&(_u=ve.match(/\s+$/))&&(De(Da).to-=_u[0].length,Da.push(new ue(0,Ze-_u[0].length,Ze)))),Re=="rtl"?Da.reverse():Da}}();function Oe(g,b){var A=g.order;return A==null&&(A=g.order=Ie(g.text,b)),A}var Pe=[],Me=function(g,b,A){if(g.addEventListener)g.addEventListener(b,A,!1);else if(g.attachEvent)g.attachEvent("on"+b,A);else{var T=g._handlers||(g._handlers={});T[b]=(T[b]||Pe).concat(A)}};function ze(g,b){return g._handlers&&g._handlers[b]||Pe}function it(g,b,A){if(g.removeEventListener)g.removeEventListener(b,A,!1);else if(g.detachEvent)g.detachEvent("on"+b,A);else{var T=g._handlers,N=T&&T[b];if(N){var G=oe(N,A);G>-1&&(T[b]=N.slice(0,G).concat(N.slice(G+1)))}}}function ut(g,b){var A=ze(g,b);if(A.length)for(var T=Array.prototype.slice.call(arguments,2),N=0;N<A.length;++N)A[N].apply(null,T)}function gt(g,b,A){return typeof b=="string"&&(b={type:b,preventDefault:function(){this.defaultPrevented=!0}}),ut(g,A||b.type,g,b),ct(b)||b.codemirrorIgnore}function wt(g){var b=g._handlers&&g._handlers.cursorActivity;if(b)for(var A=g.curOp.cursorActivityHandlers||(g.curOp.cursorActivityHandlers=[]),T=0;T<b.length;++T)oe(A,b[T])==-1&&A.push(b[T])}function Pt(g,b){return ze(g,b).length>0}function ot(g){g.prototype.on=function(b,A){Me(this,b,A)},g.prototype.off=function(b,A){it(this,b,A)}}function at(g){g.preventDefault?g.preventDefault():g.returnValue=!1}function kt(g){g.stopPropagation?g.stopPropagation():g.cancelBubble=!0}function ct(g){return g.defaultPrevented!=null?g.defaultPrevented:g.returnValue==!1}function ft(g){at(g),kt(g)}function Jt(g){return g.target||g.srcElement}function pt(g){var b=g.which;return b==null&&(g.button&1?b=1:g.button&2?b=3:g.button&4&&(b=2)),C&&g.ctrlKey&&b==1&&(b=3),b}var dt=function(){if(l&&u<9)return!1;var g=O("div");return"draggable"in g||"dragDrop"in g}(),Rt;function er(g){if(Rt==null){var b=O("span","​");R(g,O("span",[b,document.createTextNode("x")])),g.firstChild.offsetHeight!=0&&(Rt=b.offsetWidth<=1&&b.offsetHeight>2&&!(l&&u<8))}var A=Rt?O("span","​"):O("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return A.setAttribute("cm-text",""),A}var Ot;function wr(g){if(Ot!=null)return Ot;var b=R(g,document.createTextNode("AخA")),A=z(b,0,1).getBoundingClientRect(),T=z(b,1,2).getBoundingClientRect();return H(g),!A||A.left==A.right?!1:Ot=T.right-A.right<3}var Wr=`

b`.split(/\n/).length!=3?function(g){for(var b=0,A=[],T=g.length;b<=T;){var N=g.indexOf(`
`,b);N==-1&&(N=g.length);var G=g.slice(b,g.charAt(N-1)=="\r"?N-1:N),j=G.indexOf("\r");j!=-1?(A.push(G.slice(0,j)),b+=j+1):(A.push(G),b=N+1)}return A}:function(g){return g.split(/\r\n?|\n/)},Er=window.getSelection?function(g){try{return g.selectionStart!=g.selectionEnd}catch{return!1}}:function(g){var b;try{b=g.ownerDocument.selection.createRange()}catch{}return!b||b.parentElement()!=g?!1:b.compareEndPoints("StartToEnd",b)!=0},Jn=function(){var g=O("div");return"oncopy"in g?!0:(g.setAttribute("oncopy","return;"),typeof g.oncopy=="function")}(),ln=null;function Mn(g){if(ln!=null)return ln;var b=R(g,O("span","x")),A=b.getBoundingClientRect(),T=z(b,0,1).getBoundingClientRect();return ln=Math.abs(A.left-T.left)>1}var zr={},En={};function Ut(g,b){arguments.length>2&&(b.dependencies=Array.prototype.slice.call(arguments,2)),zr[g]=b}function Ye(g,b){En[g]=b}function vt(g){if(typeof g=="string"&&En.hasOwnProperty(g))g=En[g];else if(g&&typeof g.name=="string"&&En.hasOwnProperty(g.name)){var b=En[g.name];typeof b=="string"&&(b={name:b}),g=we(b,g),g.name=b.name}else{if(typeof g=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(g))return vt("application/xml");if(typeof g=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(g))return vt("application/json")}return typeof g=="string"?{name:g}:g||{name:"null"}}function Vt(g,b){b=vt(b);var A=zr[b.name];if(!A)return Vt(g,"text/plain");var T=A(g,b);if(yr.hasOwnProperty(b.name)){var N=yr[b.name];for(var G in N)N.hasOwnProperty(G)&&(T.hasOwnProperty(G)&&(T["_"+G]=T[G]),T[G]=N[G])}if(T.name=b.name,b.helperType&&(T.helperType=b.helperType),b.modeProps)for(var j in b.modeProps)T[j]=b.modeProps[j];return T}var yr={};function cn(g,b){var A=yr.hasOwnProperty(g)?yr[g]:yr[g]={};ye(b,A)}function Yr(g,b){if(b===!0)return b;if(g.copyState)return g.copyState(b);var A={};for(var T in b){var N=b[T];N instanceof Array&&(N=N.concat([])),A[T]=N}return A}function Tn(g,b){for(var A;g.innerMode&&(A=g.innerMode(b),!(!A||A.mode==g));)b=A.state,g=A.mode;return A||{mode:g,state:b}}function Cn(g,b,A){return g.startState?g.startState(b,A):!0}var Et=function(g,b,A){this.pos=this.start=0,this.string=g,this.tabSize=b||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=A};Et.prototype.eol=function(){return this.pos>=this.string.length},Et.prototype.sol=function(){return this.pos==this.lineStart},Et.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Et.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Et.prototype.eat=function(g){var b=this.string.charAt(this.pos),A;if(typeof g=="string"?A=b==g:A=b&&(g.test?g.test(b):g(b)),A)return++this.pos,b},Et.prototype.eatWhile=function(g){for(var b=this.pos;this.eat(g););return this.pos>b},Et.prototype.eatSpace=function(){for(var g=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>g},Et.prototype.skipToEnd=function(){this.pos=this.string.length},Et.prototype.skipTo=function(g){var b=this.string.indexOf(g,this.pos);if(b>-1)return this.pos=b,!0},Et.prototype.backUp=function(g){this.pos-=g},Et.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=J(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?J(this.string,this.lineStart,this.tabSize):0)},Et.prototype.indentation=function(){return J(this.string,null,this.tabSize)-(this.lineStart?J(this.string,this.lineStart,this.tabSize):0)},Et.prototype.match=function(g,b,A){if(typeof g=="string"){var T=function(j){return A?j.toLowerCase():j},N=this.string.substr(this.pos,g.length);if(T(N)==T(g))return b!==!1&&(this.pos+=g.length),!0}else{var G=this.string.slice(this.pos).match(g);return G&&G.index>0?null:(G&&b!==!1&&(this.pos+=G[0].length),G)}},Et.prototype.current=function(){return this.string.slice(this.start,this.pos)},Et.prototype.hideFirstChars=function(g,b){this.lineStart+=g;try{return b()}finally{this.lineStart-=g}},Et.prototype.lookAhead=function(g){var b=this.lineOracle;return b&&b.lookAhead(g)},Et.prototype.baseToken=function(){var g=this.lineOracle;return g&&g.baseToken(this.pos)};function lt(g,b){if(b-=g.first,b<0||b>=g.size)throw new Error("There is no line "+(b+g.first)+" in the document.");for(var A=g;!A.lines;)for(var T=0;;++T){var N=A.children[T],G=N.chunkSize();if(b<G){A=N;break}b-=G}return A.lines[b]}function tr(g,b,A){var T=[],N=b.line;return g.iter(b.line,A.line+1,function(G){var j=G.text;N==A.line&&(j=j.slice(0,A.ch)),N==b.line&&(j=j.slice(b.ch)),T.push(j),++N}),T}function Tt(g,b,A){var T=[];return g.iter(b,A,function(N){T.push(N.text)}),T}function Kt(g,b){var A=b-g.height;if(A)for(var T=g;T;T=T.parent)T.height+=A}function Ce(g){if(g.parent==null)return null;for(var b=g.parent,A=oe(b.lines,g),T=b.parent;T;b=T,T=T.parent)for(var N=0;T.children[N]!=b;++N)A+=T.children[N].chunkSize();return A+b.first}function Or(g,b){var A=g.first;e:do{for(var T=0;T<g.children.length;++T){var N=g.children[T],G=N.height;if(b<G){g=N;continue e}b-=G,A+=N.chunkSize()}return A}while(!g.lines);for(var j=0;j<g.lines.length;++j){var re=g.lines[j],ue=re.height;if(b<ue)break;b-=ue}return A+j}function Be(g,b){return b>=g.first&&b<g.first+g.size}function xn(g,b){return String(g.lineNumberFormatter(b+g.firstLineNumber))}function yt(g,b,A){if(A===void 0&&(A=null),!(this instanceof yt))return new yt(g,b,A);this.line=g,this.ch=b,this.sticky=A}function Tr(g,b){return g.line-b.line||g.ch-b.ch}function Mp(g,b){return g.sticky==b.sticky&&Tr(g,b)==0}function Cv(g){return yt(g.line,g.ch)}function li(g,b){return Tr(g,b)<0?b:g}function tl(g,b){return Tr(g,b)<0?g:b}function Np(g,b){return Math.max(g.first,Math.min(b,g.first+g.size-1))}function Sr(g,b){if(b.line<g.first)return yt(g.first,0);var A=g.first+g.size-1;return b.line>A?yt(A,lt(g,A).text.length):pC(b,lt(g,b.line).text.length)}function pC(g,b){var A=g.ch;return A==null||A>b?yt(g.line,b):A<0?yt(g.line,0):g}function i4(g,b){for(var A=[],T=0;T<b.length;T++)A[T]=Sr(g,b[T]);return A}var wd=function(g,b){this.state=g,this.lookAhead=b},Gn=function(g,b,A,T){this.state=b,this.doc=g,this.line=A,this.maxLookAhead=T||0,this.baseTokens=null,this.baseTokenPos=1};Gn.prototype.lookAhead=function(g){var b=this.doc.getLine(this.line+g);return b!=null&&g>this.maxLookAhead&&(this.maxLookAhead=g),b},Gn.prototype.baseToken=function(g){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=g;)this.baseTokenPos+=2;var b=this.baseTokens[this.baseTokenPos+1];return{type:b&&b.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-g}},Gn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Gn.fromSaved=function(g,b,A){return b instanceof wd?new Gn(g,Yr(g.mode,b.state),A,b.lookAhead):new Gn(g,Yr(g.mode,b),A)},Gn.prototype.save=function(g){var b=g!==!1?Yr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new wd(b,this.maxLookAhead):b};function Eu(g,b,A,T){var N=[g.state.modeGen],G={};Qa(g,b.text,g.doc.mode,A,function(ve,Re){return N.push(ve,Re)},G,T);for(var j=A.state,re=function(ve){A.baseTokens=N;var Re=g.state.overlays[ve],Fe=1,Ze=0;A.state=!0,Qa(g,b.text,Re.mode,A,function(Ke,st){for(var ht=Fe;Ze<Ke;){var Ct=N[Fe];Ct>Ke&&N.splice(Fe,1,Ke,N[Fe+1],Ct),Fe+=2,Ze=Math.min(Ke,Ct)}if(st)if(Re.opaque)N.splice(ht,Fe-ht,Ke,"overlay "+st),Fe=ht+2;else for(;ht<Fe;ht+=2){var Mt=N[ht+1];N[ht+1]=(Mt?Mt+" ":"")+"overlay "+st}},G),A.state=j,A.baseTokens=null,A.baseTokenPos=1},ue=0;ue<g.state.overlays.length;++ue)re(ue);return{styles:N,classes:G.bgClass||G.textClass?G:null}}function Es(g,b,A){if(!b.styles||b.styles[0]!=g.state.modeGen){var T=xc(g,Ce(b)),N=b.text.length>g.options.maxHighlightLength&&Yr(g.doc.mode,T.state),G=Eu(g,b,T);N&&(T.state=N),b.stateAfter=T.save(!N),b.styles=G.styles,G.classes?b.styleClasses=G.classes:b.styleClasses&&(b.styleClasses=null),A===g.doc.highlightFrontier&&(g.doc.modeFrontier=Math.max(g.doc.modeFrontier,++g.doc.highlightFrontier))}return b.styles}function xc(g,b,A){var T=g.doc,N=g.display;if(!T.mode.startState)return new Gn(T,!0,b);var G=Rfe(g,b,A),j=G>T.first&&lt(T,G-1).stateAfter,re=j?Gn.fromSaved(T,j,G):new Gn(T,Cn(T.mode),G);return T.iter(G,b,function(ue){Tu(g,ue.text,re);var ve=re.line;ue.stateAfter=ve==b-1||ve%5==0||ve>=N.viewFrom&&ve<N.viewTo?re.save():null,re.nextLine()}),A&&(T.modeFrontier=re.line),re}function Tu(g,b,A,T){var N=g.doc.mode,G=new Et(b,g.options.tabSize,A);for(G.start=G.pos=T||0,b==""&&Sd(N,A.state);!G.eol();)Lo(N,G,A.state),G.start=G.pos}function Sd(g,b){if(g.blankLine)return g.blankLine(b);if(g.innerMode){var A=Tn(g,b);if(A.mode.blankLine)return A.mode.blankLine(A.state)}}function Lo(g,b,A,T){for(var N=0;N<10;N++){T&&(T[0]=Tn(g,A).mode);var G=g.token(b,A);if(b.pos>b.start)return G}throw new Error("Mode "+g.name+" failed to advance stream.")}var Av=function(g,b,A){this.start=g.start,this.end=g.pos,this.string=g.current(),this.type=b||null,this.state=A};function kd(g,b,A,T){var N=g.doc,G=N.mode,j;b=Sr(N,b);var re=lt(N,b.line),ue=xc(g,b.line,A),ve=new Et(re.text,g.options.tabSize,ue),Re;for(T&&(Re=[]);(T||ve.pos<b.ch)&&!ve.eol();)ve.start=ve.pos,j=Lo(G,ve,ue.state),T&&Re.push(new Av(ve,j,Yr(N.mode,ue.state)));return T?Re:new Av(ve,j,ue.state)}function Ip(g,b){if(g)for(;;){var A=g.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!A)break;g=g.slice(0,A.index)+g.slice(A.index+A[0].length);var T=A[1]?"bgClass":"textClass";b[T]==null?b[T]=A[2]:new RegExp("(?:^|\\s)"+A[2]+"(?:$|\\s)").test(b[T])||(b[T]+=" "+A[2])}return g}function Qa(g,b,A,T,N,G,j){var re=A.flattenSpans;re==null&&(re=g.options.flattenSpans);var ue=0,ve=null,Re=new Et(b,g.options.tabSize,T),Fe,Ze=g.options.addModeClass&&[null];for(b==""&&Ip(Sd(A,T.state),G);!Re.eol();){if(Re.pos>g.options.maxHighlightLength?(re=!1,j&&Tu(g,b,T,Re.pos),Re.pos=b.length,Fe=null):Fe=Ip(Lo(A,Re,T.state,Ze),G),Ze){var Ke=Ze[0].name;Ke&&(Fe="m-"+(Fe?Ke+" "+Fe:Ke))}if(!re||ve!=Fe){for(;ue<Re.start;)ue=Math.min(Re.start,ue+5e3),N(ue,ve);ve=Fe}Re.start=Re.pos}for(;ue<Re.pos;){var st=Math.min(Re.pos,ue+5e3);N(st,ve),ue=st}}function Rfe(g,b,A){for(var T,N,G=g.doc,j=A?-1:b-(g.doc.mode.innerMode?1e3:100),re=b;re>j;--re){if(re<=G.first)return G.first;var ue=lt(G,re-1),ve=ue.stateAfter;if(ve&&(!A||re+(ve instanceof wd?ve.lookAhead:0)<=G.modeFrontier))return re;var Re=J(ue.text,null,g.options.tabSize);(N==null||T>Re)&&(N=re-1,T=Re)}return N}function Mfe(g,b){if(g.modeFrontier=Math.min(g.modeFrontier,b),!(g.highlightFrontier<b-10)){for(var A=g.first,T=b-1;T>A;T--){var N=lt(g,T).stateAfter;if(N&&(!(N instanceof wd)||T+N.lookAhead<b)){A=T+1;break}}g.highlightFrontier=Math.min(g.highlightFrontier,A)}}var mO=!1,bc=!1;function Nfe(){mO=!0}function Ife(){bc=!0}function a4(g,b,A){this.marker=g,this.from=b,this.to=A}function _v(g,b){if(g)for(var A=0;A<g.length;++A){var T=g[A];if(T.marker==b)return T}}function Ofe(g,b){for(var A,T=0;T<g.length;++T)g[T]!=b&&(A||(A=[])).push(g[T]);return A}function Pfe(g,b,A){var T=A&&window.WeakSet&&(A.markedSpans||(A.markedSpans=new WeakSet));T&&g.markedSpans&&T.has(g.markedSpans)?g.markedSpans.push(b):(g.markedSpans=g.markedSpans?g.markedSpans.concat([b]):[b],T&&T.add(g.markedSpans)),b.marker.attachLine(g)}function Ffe(g,b,A){var T;if(g)for(var N=0;N<g.length;++N){var G=g[N],j=G.marker,re=G.from==null||(j.inclusiveLeft?G.from<=b:G.from<b);if(re||G.from==b&&j.type=="bookmark"&&(!A||!G.marker.insertLeft)){var ue=G.to==null||(j.inclusiveRight?G.to>=b:G.to>b);(T||(T=[])).push(new a4(j,G.from,ue?null:G.to))}}return T}function Bfe(g,b,A){var T;if(g)for(var N=0;N<g.length;++N){var G=g[N],j=G.marker,re=G.to==null||(j.inclusiveRight?G.to>=b:G.to>b);if(re||G.from==b&&j.type=="bookmark"&&(!A||G.marker.insertLeft)){var ue=G.from==null||(j.inclusiveLeft?G.from<=b:G.from<b);(T||(T=[])).push(new a4(j,ue?null:G.from-b,G.to==null?null:G.to-b))}}return T}function gC(g,b){if(b.full)return null;var A=Be(g,b.from.line)&&lt(g,b.from.line).markedSpans,T=Be(g,b.to.line)&&lt(g,b.to.line).markedSpans;if(!A&&!T)return null;var N=b.from.ch,G=b.to.ch,j=Tr(b.from,b.to)==0,re=Ffe(A,N,j),ue=Bfe(T,G,j),ve=b.text.length==1,Re=De(b.text).length+(ve?N:0);if(re)for(var Fe=0;Fe<re.length;++Fe){var Ze=re[Fe];if(Ze.to==null){var Ke=_v(ue,Ze.marker);Ke?ve&&(Ze.to=Ke.to==null?null:Ke.to+Re):Ze.to=N}}if(ue)for(var st=0;st<ue.length;++st){var ht=ue[st];if(ht.to!=null&&(ht.to+=Re),ht.from==null){var Ct=_v(re,ht.marker);Ct||(ht.from=Re,ve&&(re||(re=[])).push(ht))}else ht.from+=Re,ve&&(re||(re=[])).push(ht)}re&&(re=vO(re)),ue&&ue!=re&&(ue=vO(ue));var Mt=[re];if(!ve){var Bt=b.text.length-2,Nt;if(Bt>0&&re)for(var Wt=0;Wt<re.length;++Wt)re[Wt].to==null&&(Nt||(Nt=[])).push(new a4(re[Wt].marker,null,null));for(var cr=0;cr<Bt;++cr)Mt.push(Nt);Mt.push(ue)}return Mt}function vO(g){for(var b=0;b<g.length;++b){var A=g[b];A.from!=null&&A.from==A.to&&A.marker.clearWhenEmpty!==!1&&g.splice(b--,1)}return g.length?g:null}function $fe(g,b,A){var T=null;if(g.iter(b.line,A.line+1,function(Ke){if(Ke.markedSpans)for(var st=0;st<Ke.markedSpans.length;++st){var ht=Ke.markedSpans[st].marker;ht.readOnly&&(!T||oe(T,ht)==-1)&&(T||(T=[])).push(ht)}}),!T)return null;for(var N=[{from:b,to:A}],G=0;G<T.length;++G)for(var j=T[G],re=j.find(0),ue=0;ue<N.length;++ue){var ve=N[ue];if(!(Tr(ve.to,re.from)<0||Tr(ve.from,re.to)>0)){var Re=[ue,1],Fe=Tr(ve.from,re.from),Ze=Tr(ve.to,re.to);(Fe<0||!j.inclusiveLeft&&!Fe)&&Re.push({from:ve.from,to:re.from}),(Ze>0||!j.inclusiveRight&&!Ze)&&Re.push({from:re.to,to:ve.to}),N.splice.apply(N,Re),ue+=Re.length-3}}return N}function yO(g){var b=g.markedSpans;if(b){for(var A=0;A<b.length;++A)b[A].marker.detachLine(g);g.markedSpans=null}}function xO(g,b){if(b){for(var A=0;A<b.length;++A)b[A].marker.attachLine(g);g.markedSpans=b}}function s4(g){return g.inclusiveLeft?-1:0}function o4(g){return g.inclusiveRight?1:0}function mC(g,b){var A=g.lines.length-b.lines.length;if(A!=0)return A;var T=g.find(),N=b.find(),G=Tr(T.from,N.from)||s4(g)-s4(b);if(G)return-G;var j=Tr(T.to,N.to)||o4(g)-o4(b);return j||b.id-g.id}function bO(g,b){var A=bc&&g.markedSpans,T;if(A)for(var N=void 0,G=0;G<A.length;++G)N=A[G],N.marker.collapsed&&(b?N.from:N.to)==null&&(!T||mC(T,N.marker)<0)&&(T=N.marker);return T}function wO(g){return bO(g,!0)}function l4(g){return bO(g,!1)}function zfe(g,b){var A=bc&&g.markedSpans,T;if(A)for(var N=0;N<A.length;++N){var G=A[N];G.marker.collapsed&&(G.from==null||G.from<b)&&(G.to==null||G.to>b)&&(!T||mC(T,G.marker)<0)&&(T=G.marker)}return T}function SO(g,b,A,T,N){var G=lt(g,b),j=bc&&G.markedSpans;if(j)for(var re=0;re<j.length;++re){var ue=j[re];if(ue.marker.collapsed){var ve=ue.marker.find(0),Re=Tr(ve.from,A)||s4(ue.marker)-s4(N),Fe=Tr(ve.to,T)||o4(ue.marker)-o4(N);if(!(Re>=0&&Fe<=0||Re<=0&&Fe>=0)&&(Re<=0&&(ue.marker.inclusiveRight&&N.inclusiveLeft?Tr(ve.to,A)>=0:Tr(ve.to,A)>0)||Re>=0&&(ue.marker.inclusiveRight&&N.inclusiveLeft?Tr(ve.from,T)<=0:Tr(ve.from,T)<0)))return!0}}}function Bl(g){for(var b;b=wO(g);)g=b.find(-1,!0).line;return g}function Hfe(g){for(var b;b=l4(g);)g=b.find(1,!0).line;return g}function Vfe(g){for(var b,A;b=l4(g);)g=b.find(1,!0).line,(A||(A=[])).push(g);return A}function vC(g,b){var A=lt(g,b),T=Bl(A);return A==T?b:Ce(T)}function kO(g,b){if(b>g.lastLine())return b;var A=lt(g,b),T;if(!Ph(g,A))return b;for(;T=l4(A);)A=T.find(1,!0).line;return Ce(A)+1}function Ph(g,b){var A=bc&&b.markedSpans;if(A){for(var T=void 0,N=0;N<A.length;++N)if(T=A[N],!!T.marker.collapsed){if(T.from==null)return!0;if(!T.marker.widgetNode&&T.from==0&&T.marker.inclusiveLeft&&yC(g,b,T))return!0}}}function yC(g,b,A){if(A.to==null){var T=A.marker.find(1,!0);return yC(g,T.line,_v(T.line.markedSpans,A.marker))}if(A.marker.inclusiveRight&&A.to==b.text.length)return!0;for(var N=void 0,G=0;G<b.markedSpans.length;++G)if(N=b.markedSpans[G],N.marker.collapsed&&!N.marker.widgetNode&&N.from==A.to&&(N.to==null||N.to!=A.from)&&(N.marker.inclusiveLeft||A.marker.inclusiveRight)&&yC(g,b,N))return!0}function wc(g){g=Bl(g);for(var b=0,A=g.parent,T=0;T<A.lines.length;++T){var N=A.lines[T];if(N==g)break;b+=N.height}for(var G=A.parent;G;A=G,G=A.parent)for(var j=0;j<G.children.length;++j){var re=G.children[j];if(re==A)break;b+=re.height}return b}function u4(g){if(g.height==0)return 0;for(var b=g.text.length,A,T=g;A=wO(T);){var N=A.find(0,!0);T=N.from.line,b+=N.from.ch-N.to.ch}for(T=g;A=l4(T);){var G=A.find(0,!0);b-=T.text.length-G.from.ch,T=G.to.line,b+=T.text.length-G.to.ch}return b}function xC(g){var b=g.display,A=g.doc;b.maxLine=lt(A,A.first),b.maxLineLength=u4(b.maxLine),b.maxLineChanged=!0,A.iter(function(T){var N=u4(T);N>b.maxLineLength&&(b.maxLineLength=N,b.maxLine=T)})}var Op=function(g,b,A){this.text=g,xO(this,b),this.height=A?A(this):1};Op.prototype.lineNo=function(){return Ce(this)},ot(Op);function Ufe(g,b,A,T){g.text=b,g.stateAfter&&(g.stateAfter=null),g.styles&&(g.styles=null),g.order!=null&&(g.order=null),yO(g),xO(g,A);var N=T?T(g):1;N!=g.height&&Kt(g,N)}function Gfe(g){g.parent=null,yO(g)}var Wfe={},qfe={};function EO(g,b){if(!g||/^\s*$/.test(g))return null;var A=b.addModeClass?qfe:Wfe;return A[g]||(A[g]=g.replace(/\S+/g,"cm-$&"))}function TO(g,b){var A=P("span",null,null,h?"padding-right: .1px":null),T={pre:P("pre",[A],"CodeMirror-line"),content:A,col:0,pos:0,cm:g,trailingSpace:!1,splitSpaces:g.getOption("lineWrapping")};b.measure={};for(var N=0;N<=(b.rest?b.rest.length:0);N++){var G=N?b.rest[N-1]:b.line,j=void 0;T.pos=0,T.addToken=Xfe,wr(g.display.measure)&&(j=Oe(G,g.doc.direction))&&(T.addToken=Kfe(T.addToken,j)),T.map=[];var re=b!=g.display.externalMeasured&&Ce(G);Qfe(G,T,Es(g,G,re)),G.styleClasses&&(G.styleClasses.bgClass&&(T.bgClass=q(G.styleClasses.bgClass,T.bgClass||"")),G.styleClasses.textClass&&(T.textClass=q(G.styleClasses.textClass,T.textClass||""))),T.map.length==0&&T.map.push(0,0,T.content.appendChild(er(g.display.measure))),N==0?(b.measure.map=T.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(T.map),(b.measure.caches||(b.measure.caches=[])).push({}))}if(h){var ue=T.content.lastChild;(/\bcm-tab\b/.test(ue.className)||ue.querySelector&&ue.querySelector(".cm-tab"))&&(T.content.className="cm-tab-wrap-hack")}return ut(g,"renderLine",g,b.line,T.pre),T.pre.className&&(T.textClass=q(T.pre.className,T.textClass||"")),T}function Yfe(g){var b=O("span","•","cm-invalidchar");return b.title="\\u"+g.charCodeAt(0).toString(16),b.setAttribute("aria-label",b.title),b}function Xfe(g,b,A,T,N,G,j){if(b){var re=g.splitSpaces?jfe(b,g.trailingSpace):b,ue=g.cm.state.specialChars,ve=!1,Re;if(!ue.test(b))g.col+=b.length,Re=document.createTextNode(re),g.map.push(g.pos,g.pos+b.length,Re),l&&u<9&&(ve=!0),g.pos+=b.length;else{Re=document.createDocumentFragment();for(var Fe=0;;){ue.lastIndex=Fe;var Ze=ue.exec(b),Ke=Ze?Ze.index-Fe:b.length-Fe;if(Ke){var st=document.createTextNode(re.slice(Fe,Fe+Ke));l&&u<9?Re.appendChild(O("span",[st])):Re.appendChild(st),g.map.push(g.pos,g.pos+Ke,st),g.col+=Ke,g.pos+=Ke}if(!Ze)break;Fe+=Ke+1;var ht=void 0;if(Ze[0]=="	"){var Ct=g.cm.options.tabSize,Mt=Ct-g.col%Ct;ht=Re.appendChild(O("span",ke(Mt),"cm-tab")),ht.setAttribute("role","presentation"),ht.setAttribute("cm-text","	"),g.col+=Mt}else Ze[0]=="\r"||Ze[0]==`
`?(ht=Re.appendChild(O("span",Ze[0]=="\r"?"␍":"␤","cm-invalidchar")),ht.setAttribute("cm-text",Ze[0]),g.col+=1):(ht=g.cm.options.specialCharPlaceholder(Ze[0]),ht.setAttribute("cm-text",Ze[0]),l&&u<9?Re.appendChild(O("span",[ht])):Re.appendChild(ht),g.col+=1);g.map.push(g.pos,g.pos+1,ht),g.pos++}}if(g.trailingSpace=re.charCodeAt(b.length-1)==32,A||T||N||ve||G||j){var Bt=A||"";T&&(Bt+=T),N&&(Bt+=N);var Nt=O("span",[Re],Bt,G);if(j)for(var Wt in j)j.hasOwnProperty(Wt)&&Wt!="style"&&Wt!="class"&&Nt.setAttribute(Wt,j[Wt]);return g.content.appendChild(Nt)}g.content.appendChild(Re)}}function jfe(g,b){if(g.length>1&&!/  /.test(g))return g;for(var A=b,T="",N=0;N<g.length;N++){var G=g.charAt(N);G==" "&&A&&(N==g.length-1||g.charCodeAt(N+1)==32)&&(G=" "),T+=G,A=G==" "}return T}function Kfe(g,b){return function(A,T,N,G,j,re,ue){N=N?N+" cm-force-border":"cm-force-border";for(var ve=A.pos,Re=ve+T.length;;){for(var Fe=void 0,Ze=0;Ze<b.length&&(Fe=b[Ze],!(Fe.to>ve&&Fe.from<=ve));Ze++);if(Fe.to>=Re)return g(A,T,N,G,j,re,ue);g(A,T.slice(0,Fe.to-ve),N,G,null,re,ue),G=null,T=T.slice(Fe.to-ve),ve=Fe.to}}}function CO(g,b,A,T){var N=!T&&A.widgetNode;N&&g.map.push(g.pos,g.pos+b,N),!T&&g.cm.display.input.needsContentAttribute&&(N||(N=g.content.appendChild(document.createElement("span"))),N.setAttribute("cm-marker",A.id)),N&&(g.cm.display.input.setUneditable(N),g.content.appendChild(N)),g.pos+=b,g.trailingSpace=!1}function Qfe(g,b,A){var T=g.markedSpans,N=g.text,G=0;if(!T){for(var j=1;j<A.length;j+=2)b.addToken(b,N.slice(G,G=A[j]),EO(A[j+1],b.cm.options));return}for(var re=N.length,ue=0,ve=1,Re="",Fe,Ze,Ke=0,st,ht,Ct,Mt,Bt;;){if(Ke==ue){st=ht=Ct=Ze="",Bt=null,Mt=null,Ke=1/0;for(var Nt=[],Wt=void 0,cr=0;cr<T.length;++cr){var ir=T[cr],Pr=ir.marker;if(Pr.type=="bookmark"&&ir.from==ue&&Pr.widgetNode)Nt.push(Pr);else if(ir.from<=ue&&(ir.to==null||ir.to>ue||Pr.collapsed&&ir.to==ue&&ir.from==ue)){if(ir.to!=null&&ir.to!=ue&&Ke>ir.to&&(Ke=ir.to,ht=""),Pr.className&&(st+=" "+Pr.className),Pr.css&&(Ze=(Ze?Ze+";":"")+Pr.css),Pr.startStyle&&ir.from==ue&&(Ct+=" "+Pr.startStyle),Pr.endStyle&&ir.to==Ke&&(Wt||(Wt=[])).push(Pr.endStyle,ir.to),Pr.title&&((Bt||(Bt={})).title=Pr.title),Pr.attributes)for(var An in Pr.attributes)(Bt||(Bt={}))[An]=Pr.attributes[An];Pr.collapsed&&(!Mt||mC(Mt.marker,Pr)<0)&&(Mt=ir)}else ir.from>ue&&Ke>ir.from&&(Ke=ir.from)}if(Wt)for(var Xi=0;Xi<Wt.length;Xi+=2)Wt[Xi+1]==Ke&&(ht+=" "+Wt[Xi]);if(!Mt||Mt.from==ue)for(var ei=0;ei<Nt.length;++ei)CO(b,0,Nt[ei]);if(Mt&&(Mt.from||0)==ue){if(CO(b,(Mt.to==null?re+1:Mt.to)-ue,Mt.marker,Mt.from==null),Mt.to==null)return;Mt.to==ue&&(Mt=!1)}}if(ue>=re)break;for(var Js=Math.min(re,Ke);;){if(Re){var As=ue+Re.length;if(!Mt){var Ai=As>Js?Re.slice(0,Js-ue):Re;b.addToken(b,Ai,Fe?Fe+st:st,Ct,ue+Ai.length==Ke?ht:"",Ze,Bt)}if(As>=Js){Re=Re.slice(Js-ue),ue=Js;break}ue=As,Ct=""}Re=N.slice(G,G=A[ve++]),Fe=EO(A[ve++],b.cm.options)}}}function AO(g,b,A){this.line=b,this.rest=Vfe(b),this.size=this.rest?Ce(De(this.rest))-A+1:1,this.node=this.text=null,this.hidden=Ph(g,b)}function c4(g,b,A){for(var T=[],N,G=b;G<A;G=N){var j=new AO(g.doc,lt(g.doc,G),G);N=G+j.size,T.push(j)}return T}var Pp=null;function Zfe(g){Pp?Pp.ops.push(g):g.ownsGroup=Pp={ops:[g],delayedCallbacks:[]}}function Jfe(g){var b=g.delayedCallbacks,A=0;do{for(;A<b.length;A++)b[A].call(null);for(var T=0;T<g.ops.length;T++){var N=g.ops[T];if(N.cursorActivityHandlers)for(;N.cursorActivityCalled<N.cursorActivityHandlers.length;)N.cursorActivityHandlers[N.cursorActivityCalled++].call(null,N.cm)}}while(A<b.length)}function ede(g,b){var A=g.ownsGroup;if(A)try{Jfe(A)}finally{Pp=null,b(A)}}var Lv=null;function Wi(g,b){var A=ze(g,b);if(A.length){var T=Array.prototype.slice.call(arguments,2),N;Pp?N=Pp.delayedCallbacks:Lv?N=Lv:(N=Lv=[],setTimeout(tde,0));for(var G=function(re){N.push(function(){return A[re].apply(null,T)})},j=0;j<A.length;++j)G(j)}}function tde(){var g=Lv;Lv=null;for(var b=0;b<g.length;++b)g[b]()}function _O(g,b,A,T){for(var N=0;N<b.changes.length;N++){var G=b.changes[N];G=="text"?nde(g,b):G=="gutter"?DO(g,b,A,T):G=="class"?bC(g,b):G=="widget"&&ide(g,b,T)}b.changes=null}function Dv(g){return g.node==g.text&&(g.node=O("div",null,null,"position: relative"),g.text.parentNode&&g.text.parentNode.replaceChild(g.node,g.text),g.node.appendChild(g.text),l&&u<8&&(g.node.style.zIndex=2)),g.node}function rde(g,b){var A=b.bgClass?b.bgClass+" "+(b.line.bgClass||""):b.line.bgClass;if(A&&(A+=" CodeMirror-linebackground"),b.background)A?b.background.className=A:(b.background.parentNode.removeChild(b.background),b.background=null);else if(A){var T=Dv(b);b.background=T.insertBefore(O("div",null,A),T.firstChild),g.display.input.setUneditable(b.background)}}function LO(g,b){var A=g.display.externalMeasured;return A&&A.line==b.line?(g.display.externalMeasured=null,b.measure=A.measure,A.built):TO(g,b)}function nde(g,b){var A=b.text.className,T=LO(g,b);b.text==b.node&&(b.node=T.pre),b.text.parentNode.replaceChild(T.pre,b.text),b.text=T.pre,T.bgClass!=b.bgClass||T.textClass!=b.textClass?(b.bgClass=T.bgClass,b.textClass=T.textClass,bC(g,b)):A&&(b.text.className=A)}function bC(g,b){rde(g,b),b.line.wrapClass?Dv(b).className=b.line.wrapClass:b.node!=b.text&&(b.node.className="");var A=b.textClass?b.textClass+" "+(b.line.textClass||""):b.line.textClass;b.text.className=A||""}function DO(g,b,A,T){if(b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null),b.gutterBackground&&(b.node.removeChild(b.gutterBackground),b.gutterBackground=null),b.line.gutterClass){var N=Dv(b);b.gutterBackground=O("div",null,"CodeMirror-gutter-background "+b.line.gutterClass,"left: "+(g.options.fixedGutter?T.fixedPos:-T.gutterTotalWidth)+"px; width: "+T.gutterTotalWidth+"px"),g.display.input.setUneditable(b.gutterBackground),N.insertBefore(b.gutterBackground,b.text)}var G=b.line.gutterMarkers;if(g.options.lineNumbers||G){var j=Dv(b),re=b.gutter=O("div",null,"CodeMirror-gutter-wrapper","left: "+(g.options.fixedGutter?T.fixedPos:-T.gutterTotalWidth)+"px");if(re.setAttribute("aria-hidden","true"),g.display.input.setUneditable(re),j.insertBefore(re,b.text),b.line.gutterClass&&(re.className+=" "+b.line.gutterClass),g.options.lineNumbers&&(!G||!G["CodeMirror-linenumbers"])&&(b.lineNumber=re.appendChild(O("div",xn(g.options,A),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+T.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+g.display.lineNumInnerWidth+"px"))),G)for(var ue=0;ue<g.display.gutterSpecs.length;++ue){var ve=g.display.gutterSpecs[ue].className,Re=G.hasOwnProperty(ve)&&G[ve];Re&&re.appendChild(O("div",[Re],"CodeMirror-gutter-elt","left: "+T.gutterLeft[ve]+"px; width: "+T.gutterWidth[ve]+"px"))}}}function ide(g,b,A){b.alignable&&(b.alignable=null);for(var T=M("CodeMirror-linewidget"),N=b.node.firstChild,G=void 0;N;N=G)G=N.nextSibling,T.test(N.className)&&b.node.removeChild(N);RO(g,b,A)}function ade(g,b,A,T){var N=LO(g,b);return b.text=b.node=N.pre,N.bgClass&&(b.bgClass=N.bgClass),N.textClass&&(b.textClass=N.textClass),bC(g,b),DO(g,b,A,T),RO(g,b,T),b.node}function RO(g,b,A){if(MO(g,b.line,b,A,!0),b.rest)for(var T=0;T<b.rest.length;T++)MO(g,b.rest[T],b,A,!1)}function MO(g,b,A,T,N){if(b.widgets)for(var G=Dv(A),j=0,re=b.widgets;j<re.length;++j){var ue=re[j],ve=O("div",[ue.node],"CodeMirror-linewidget"+(ue.className?" "+ue.className:""));ue.handleMouseEvents||ve.setAttribute("cm-ignore-events","true"),sde(ue,ve,A,T),g.display.input.setUneditable(ve),N&&ue.above?G.insertBefore(ve,A.gutter||A.text):G.appendChild(ve),Wi(ue,"redraw")}}function sde(g,b,A,T){if(g.noHScroll){(A.alignable||(A.alignable=[])).push(b);var N=T.wrapperWidth;b.style.left=T.fixedPos+"px",g.coverGutter||(N-=T.gutterTotalWidth,b.style.paddingLeft=T.gutterTotalWidth+"px"),b.style.width=N+"px"}g.coverGutter&&(b.style.zIndex=5,b.style.position="relative",g.noHScroll||(b.style.marginLeft=-T.gutterTotalWidth+"px"))}function Rv(g){if(g.height!=null)return g.height;var b=g.doc.cm;if(!b)return 0;if(!$(document.body,g.node)){var A="position: relative;";g.coverGutter&&(A+="margin-left: -"+b.display.gutters.offsetWidth+"px;"),g.noHScroll&&(A+="width: "+b.display.wrapper.clientWidth+"px;"),R(b.display.measure,O("div",[g.node],null,A))}return g.height=g.node.parentNode.offsetHeight}function Sc(g,b){for(var A=Jt(b);A!=g.wrapper;A=A.parentNode)if(!A||A.nodeType==1&&A.getAttribute("cm-ignore-events")=="true"||A.parentNode==g.sizer&&A!=g.mover)return!0}function h4(g){return g.lineSpace.offsetTop}function wC(g){return g.mover.offsetHeight-g.lineSpace.offsetHeight}function NO(g){if(g.cachedPaddingH)return g.cachedPaddingH;var b=R(g.measure,O("pre","x","CodeMirror-line-like")),A=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,T={left:parseInt(A.paddingLeft),right:parseInt(A.paddingRight)};return!isNaN(T.left)&&!isNaN(T.right)&&(g.cachedPaddingH=T),T}function Cu(g){return fe-g.display.nativeBarWidth}function Ed(g){return g.display.scroller.clientWidth-Cu(g)-g.display.barWidth}function SC(g){return g.display.scroller.clientHeight-Cu(g)-g.display.barHeight}function ode(g,b,A){var T=g.options.lineWrapping,N=T&&Ed(g);if(!b.measure.heights||T&&b.measure.width!=N){var G=b.measure.heights=[];if(T){b.measure.width=N;for(var j=b.text.firstChild.getClientRects(),re=0;re<j.length-1;re++){var ue=j[re],ve=j[re+1];Math.abs(ue.bottom-ve.bottom)>2&&G.push((ue.bottom+ve.top)/2-A.top)}}G.push(A.bottom-A.top)}}function IO(g,b,A){if(g.line==b)return{map:g.measure.map,cache:g.measure.cache};if(g.rest){for(var T=0;T<g.rest.length;T++)if(g.rest[T]==b)return{map:g.measure.maps[T],cache:g.measure.caches[T]};for(var N=0;N<g.rest.length;N++)if(Ce(g.rest[N])>A)return{map:g.measure.maps[N],cache:g.measure.caches[N],before:!0}}}function lde(g,b){b=Bl(b);var A=Ce(b),T=g.display.externalMeasured=new AO(g.doc,b,A);T.lineN=A;var N=T.built=TO(g,T);return T.text=N.pre,R(g.display.lineMeasure,N.pre),T}function OO(g,b,A,T){return Au(g,Fp(g,b),A,T)}function kC(g,b){if(b>=g.display.viewFrom&&b<g.display.viewTo)return g.display.view[Ad(g,b)];var A=g.display.externalMeasured;if(A&&b>=A.lineN&&b<A.lineN+A.size)return A}function Fp(g,b){var A=Ce(b),T=kC(g,A);T&&!T.text?T=null:T&&T.changes&&(_O(g,T,A,_C(g)),g.curOp.forceUpdate=!0),T||(T=lde(g,b));var N=IO(T,b,A);return{line:b,view:T,rect:null,map:N.map,cache:N.cache,before:N.before,hasHeights:!1}}function Au(g,b,A,T,N){b.before&&(A=-1);var G=A+(T||""),j;return b.cache.hasOwnProperty(G)?j=b.cache[G]:(b.rect||(b.rect=b.view.text.getBoundingClientRect()),b.hasHeights||(ode(g,b.view,b.rect),b.hasHeights=!0),j=cde(g,b,A,T),j.bogus||(b.cache[G]=j)),{left:j.left,right:j.right,top:N?j.rtop:j.top,bottom:N?j.rbottom:j.bottom}}var PO={left:0,right:0,top:0,bottom:0};function FO(g,b,A){for(var T,N,G,j,re,ue,ve=0;ve<g.length;ve+=3)if(re=g[ve],ue=g[ve+1],b<re?(N=0,G=1,j="left"):b<ue?(N=b-re,G=N+1):(ve==g.length-3||b==ue&&g[ve+3]>b)&&(G=ue-re,N=G-1,b>=ue&&(j="right")),N!=null){if(T=g[ve+2],re==ue&&A==(T.insertLeft?"left":"right")&&(j=A),A=="left"&&N==0)for(;ve&&g[ve-2]==g[ve-3]&&g[ve-1].insertLeft;)T=g[(ve-=3)+2],j="left";if(A=="right"&&N==ue-re)for(;ve<g.length-3&&g[ve+3]==g[ve+4]&&!g[ve+5].insertLeft;)T=g[(ve+=3)+2],j="right";break}return{node:T,start:N,end:G,collapse:j,coverStart:re,coverEnd:ue}}function ude(g,b){var A=PO;if(b=="left")for(var T=0;T<g.length&&(A=g[T]).left==A.right;T++);else for(var N=g.length-1;N>=0&&(A=g[N]).left==A.right;N--);return A}function cde(g,b,A,T){var N=FO(b.map,A,T),G=N.node,j=N.start,re=N.end,ue=N.collapse,ve;if(G.nodeType==3){for(var Re=0;Re<4;Re++){for(;j&&he(b.line.text.charAt(N.coverStart+j));)--j;for(;N.coverStart+re<N.coverEnd&&he(b.line.text.charAt(N.coverStart+re));)++re;if(l&&u<9&&j==0&&re==N.coverEnd-N.coverStart?ve=G.parentNode.getBoundingClientRect():ve=ude(z(G,j,re).getClientRects(),T),ve.left||ve.right||j==0)break;re=j,j=j-1,ue="right"}l&&u<11&&(ve=hde(g.display.measure,ve))}else{j>0&&(ue=T="right");var Fe;g.options.lineWrapping&&(Fe=G.getClientRects()).length>1?ve=Fe[T=="right"?Fe.length-1:0]:ve=G.getBoundingClientRect()}if(l&&u<9&&!j&&(!ve||!ve.left&&!ve.right)){var Ze=G.parentNode.getClientRects()[0];Ze?ve={left:Ze.left,right:Ze.left+$p(g.display),top:Ze.top,bottom:Ze.bottom}:ve=PO}for(var Ke=ve.top-b.rect.top,st=ve.bottom-b.rect.top,ht=(Ke+st)/2,Ct=b.view.measure.heights,Mt=0;Mt<Ct.length-1&&!(ht<Ct[Mt]);Mt++);var Bt=Mt?Ct[Mt-1]:0,Nt=Ct[Mt],Wt={left:(ue=="right"?ve.right:ve.left)-b.rect.left,right:(ue=="left"?ve.left:ve.right)-b.rect.left,top:Bt,bottom:Nt};return!ve.left&&!ve.right&&(Wt.bogus=!0),g.options.singleCursorHeightPerLine||(Wt.rtop=Ke,Wt.rbottom=st),Wt}function hde(g,b){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Mn(g))return b;var A=screen.logicalXDPI/screen.deviceXDPI,T=screen.logicalYDPI/screen.deviceYDPI;return{left:b.left*A,right:b.right*A,top:b.top*T,bottom:b.bottom*T}}function BO(g){if(g.measure&&(g.measure.cache={},g.measure.heights=null,g.rest))for(var b=0;b<g.rest.length;b++)g.measure.caches[b]={}}function $O(g){g.display.externalMeasure=null,H(g.display.lineMeasure);for(var b=0;b<g.display.view.length;b++)BO(g.display.view[b])}function Mv(g){$O(g),g.display.cachedCharWidth=g.display.cachedTextHeight=g.display.cachedPaddingH=null,g.options.lineWrapping||(g.display.maxLineChanged=!0),g.display.lineNumChars=null}function zO(g){return d&&S?-(g.body.getBoundingClientRect().left-parseInt(getComputedStyle(g.body).marginLeft)):g.defaultView.pageXOffset||(g.documentElement||g.body).scrollLeft}function HO(g){return d&&S?-(g.body.getBoundingClientRect().top-parseInt(getComputedStyle(g.body).marginTop)):g.defaultView.pageYOffset||(g.documentElement||g.body).scrollTop}function EC(g){var b=Bl(g),A=b.widgets,T=0;if(A)for(var N=0;N<A.length;++N)A[N].above&&(T+=Rv(A[N]));return T}function f4(g,b,A,T,N){if(!N){var G=EC(b);A.top+=G,A.bottom+=G}if(T=="line")return A;T||(T="local");var j=wc(b);if(T=="local"?j+=h4(g.display):j-=g.display.viewOffset,T=="page"||T=="window"){var re=g.display.lineSpace.getBoundingClientRect();j+=re.top+(T=="window"?0:HO(U(g)));var ue=re.left+(T=="window"?0:zO(U(g)));A.left+=ue,A.right+=ue}return A.top+=j,A.bottom+=j,A}function VO(g,b,A){if(A=="div")return b;var T=b.left,N=b.top;if(A=="page")T-=zO(U(g)),N-=HO(U(g));else if(A=="local"||!A){var G=g.display.sizer.getBoundingClientRect();T+=G.left,N+=G.top}var j=g.display.lineSpace.getBoundingClientRect();return{left:T-j.left,top:N-j.top}}function d4(g,b,A,T,N){return T||(T=lt(g.doc,b.line)),f4(g,T,OO(g,T,b.ch,N),A)}function $l(g,b,A,T,N,G){T=T||lt(g.doc,b.line),N||(N=Fp(g,T));function j(st,ht){var Ct=Au(g,N,st,ht?"right":"left",G);return ht?Ct.left=Ct.right:Ct.right=Ct.left,f4(g,T,Ct,A)}var re=Oe(T,g.doc.direction),ue=b.ch,ve=b.sticky;if(ue>=T.text.length?(ue=T.text.length,ve="before"):ue<=0&&(ue=0,ve="after"),!re)return j(ve=="before"?ue-1:ue,ve=="before");function Re(st,ht,Ct){var Mt=re[ht],Bt=Mt.level==1;return j(Ct?st-1:st,Bt!=Ct)}var Fe=Ne(re,ue,ve),Ze=Le,Ke=Re(ue,Fe,ve=="before");return Ze!=null&&(Ke.other=Re(ue,Ze,ve!="before")),Ke}function UO(g,b){var A=0;b=Sr(g.doc,b),g.options.lineWrapping||(A=$p(g.display)*b.ch);var T=lt(g.doc,b.line),N=wc(T)+h4(g.display);return{left:A,right:A,top:N,bottom:N+T.height}}function TC(g,b,A,T,N){var G=yt(g,b,A);return G.xRel=N,T&&(G.outside=T),G}function CC(g,b,A){var T=g.doc;if(A+=g.display.viewOffset,A<0)return TC(T.first,0,null,-1,-1);var N=Or(T,A),G=T.first+T.size-1;if(N>G)return TC(T.first+T.size-1,lt(T,G).text.length,null,1,1);b<0&&(b=0);for(var j=lt(T,N);;){var re=fde(g,j,N,b,A),ue=zfe(j,re.ch+(re.xRel>0||re.outside>0?1:0));if(!ue)return re;var ve=ue.find(1);if(ve.line==N)return ve;j=lt(T,N=ve.line)}}function GO(g,b,A,T){T-=EC(b);var N=b.text.length,G=_e(function(j){return Au(g,A,j-1).bottom<=T},N,0);return N=_e(function(j){return Au(g,A,j).top>T},G,N),{begin:G,end:N}}function WO(g,b,A,T){A||(A=Fp(g,b));var N=f4(g,b,Au(g,A,T),"line").top;return GO(g,b,A,N)}function AC(g,b,A,T){return g.bottom<=A?!1:g.top>A?!0:(T?g.left:g.right)>b}function fde(g,b,A,T,N){N-=wc(b);var G=Fp(g,b),j=EC(b),re=0,ue=b.text.length,ve=!0,Re=Oe(b,g.doc.direction);if(Re){var Fe=(g.options.lineWrapping?pde:dde)(g,b,A,G,Re,T,N);ve=Fe.level!=1,re=ve?Fe.from:Fe.to-1,ue=ve?Fe.to:Fe.from-1}var Ze=null,Ke=null,st=_e(function(cr){var ir=Au(g,G,cr);return ir.top+=j,ir.bottom+=j,AC(ir,T,N,!1)?(ir.top<=N&&ir.left<=T&&(Ze=cr,Ke=ir),!0):!1},re,ue),ht,Ct,Mt=!1;if(Ke){var Bt=T-Ke.left<Ke.right-T,Nt=Bt==ve;st=Ze+(Nt?0:1),Ct=Nt?"after":"before",ht=Bt?Ke.left:Ke.right}else{!ve&&(st==ue||st==re)&&st++,Ct=st==0?"after":st==b.text.length?"before":Au(g,G,st-(ve?1:0)).bottom+j<=N==ve?"after":"before";var Wt=$l(g,yt(A,st,Ct),"line",b,G);ht=Wt.left,Mt=N<Wt.top?-1:N>=Wt.bottom?1:0}return st=K(b.text,st,1),TC(A,st,Ct,Mt,T-ht)}function dde(g,b,A,T,N,G,j){var re=_e(function(Fe){var Ze=N[Fe],Ke=Ze.level!=1;return AC($l(g,yt(A,Ke?Ze.to:Ze.from,Ke?"before":"after"),"line",b,T),G,j,!0)},0,N.length-1),ue=N[re];if(re>0){var ve=ue.level!=1,Re=$l(g,yt(A,ve?ue.from:ue.to,ve?"after":"before"),"line",b,T);AC(Re,G,j,!0)&&Re.top>j&&(ue=N[re-1])}return ue}function pde(g,b,A,T,N,G,j){var re=GO(g,b,T,j),ue=re.begin,ve=re.end;/\s/.test(b.text.charAt(ve-1))&&ve--;for(var Re=null,Fe=null,Ze=0;Ze<N.length;Ze++){var Ke=N[Ze];if(!(Ke.from>=ve||Ke.to<=ue)){var st=Ke.level!=1,ht=Au(g,T,st?Math.min(ve,Ke.to)-1:Math.max(ue,Ke.from)).right,Ct=ht<G?G-ht+1e9:ht-G;(!Re||Fe>Ct)&&(Re=Ke,Fe=Ct)}}return Re||(Re=N[N.length-1]),Re.from<ue&&(Re={from:ue,to:Re.to,level:Re.level}),Re.to>ve&&(Re={from:Re.from,to:ve,level:Re.level}),Re}var Td;function Bp(g){if(g.cachedTextHeight!=null)return g.cachedTextHeight;if(Td==null){Td=O("pre",null,"CodeMirror-line-like");for(var b=0;b<49;++b)Td.appendChild(document.createTextNode("x")),Td.appendChild(O("br"));Td.appendChild(document.createTextNode("x"))}R(g.measure,Td);var A=Td.offsetHeight/50;return A>3&&(g.cachedTextHeight=A),H(g.measure),A||1}function $p(g){if(g.cachedCharWidth!=null)return g.cachedCharWidth;var b=O("span","xxxxxxxxxx"),A=O("pre",[b],"CodeMirror-line-like");R(g.measure,A);var T=b.getBoundingClientRect(),N=(T.right-T.left)/10;return N>2&&(g.cachedCharWidth=N),N||10}function _C(g){for(var b=g.display,A={},T={},N=b.gutters.clientLeft,G=b.gutters.firstChild,j=0;G;G=G.nextSibling,++j){var re=g.display.gutterSpecs[j].className;A[re]=G.offsetLeft+G.clientLeft+N,T[re]=G.clientWidth}return{fixedPos:LC(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:A,gutterWidth:T,wrapperWidth:b.wrapper.clientWidth}}function LC(g){return g.scroller.getBoundingClientRect().left-g.sizer.getBoundingClientRect().left}function qO(g){var b=Bp(g.display),A=g.options.lineWrapping,T=A&&Math.max(5,g.display.scroller.clientWidth/$p(g.display)-3);return function(N){if(Ph(g.doc,N))return 0;var G=0;if(N.widgets)for(var j=0;j<N.widgets.length;j++)N.widgets[j].height&&(G+=N.widgets[j].height);return A?G+(Math.ceil(N.text.length/T)||1)*b:G+b}}function DC(g){var b=g.doc,A=qO(g);b.iter(function(T){var N=A(T);N!=T.height&&Kt(T,N)})}function Cd(g,b,A,T){var N=g.display;if(!A&&Jt(b).getAttribute("cm-not-content")=="true")return null;var G,j,re=N.lineSpace.getBoundingClientRect();try{G=b.clientX-re.left,j=b.clientY-re.top}catch{return null}var ue=CC(g,G,j),ve;if(T&&ue.xRel>0&&(ve=lt(g.doc,ue.line).text).length==ue.ch){var Re=J(ve,ve.length,g.options.tabSize)-ve.length;ue=yt(ue.line,Math.max(0,Math.round((G-NO(g.display).left)/$p(g.display))-Re))}return ue}function Ad(g,b){if(b>=g.display.viewTo||(b-=g.display.viewFrom,b<0))return null;for(var A=g.display.view,T=0;T<A.length;T++)if(b-=A[T].size,b<0)return T}function Ts(g,b,A,T){b==null&&(b=g.doc.first),A==null&&(A=g.doc.first+g.doc.size),T||(T=0);var N=g.display;if(T&&A<N.viewTo&&(N.updateLineNumbers==null||N.updateLineNumbers>b)&&(N.updateLineNumbers=b),g.curOp.viewChanged=!0,b>=N.viewTo)bc&&vC(g.doc,b)<N.viewTo&&Bh(g);else if(A<=N.viewFrom)bc&&kO(g.doc,A+T)>N.viewFrom?Bh(g):(N.viewFrom+=T,N.viewTo+=T);else if(b<=N.viewFrom&&A>=N.viewTo)Bh(g);else if(b<=N.viewFrom){var G=p4(g,A,A+T,1);G?(N.view=N.view.slice(G.index),N.viewFrom=G.lineN,N.viewTo+=T):Bh(g)}else if(A>=N.viewTo){var j=p4(g,b,b,-1);j?(N.view=N.view.slice(0,j.index),N.viewTo=j.lineN):Bh(g)}else{var re=p4(g,b,b,-1),ue=p4(g,A,A+T,1);re&&ue?(N.view=N.view.slice(0,re.index).concat(c4(g,re.lineN,ue.lineN)).concat(N.view.slice(ue.index)),N.viewTo+=T):Bh(g)}var ve=N.externalMeasured;ve&&(A<ve.lineN?ve.lineN+=T:b<ve.lineN+ve.size&&(N.externalMeasured=null))}function Fh(g,b,A){g.curOp.viewChanged=!0;var T=g.display,N=g.display.externalMeasured;if(N&&b>=N.lineN&&b<N.lineN+N.size&&(T.externalMeasured=null),!(b<T.viewFrom||b>=T.viewTo)){var G=T.view[Ad(g,b)];if(G.node!=null){var j=G.changes||(G.changes=[]);oe(j,A)==-1&&j.push(A)}}}function Bh(g){g.display.viewFrom=g.display.viewTo=g.doc.first,g.display.view=[],g.display.viewOffset=0}function p4(g,b,A,T){var N=Ad(g,b),G,j=g.display.view;if(!bc||A==g.doc.first+g.doc.size)return{index:N,lineN:A};for(var re=g.display.viewFrom,ue=0;ue<N;ue++)re+=j[ue].size;if(re!=b){if(T>0){if(N==j.length-1)return null;G=re+j[N].size-b,N++}else G=re-b;b+=G,A+=G}for(;vC(g.doc,A)!=A;){if(N==(T<0?0:j.length-1))return null;A+=T*j[N-(T<0?1:0)].size,N+=T}return{index:N,lineN:A}}function gde(g,b,A){var T=g.display,N=T.view;N.length==0||b>=T.viewTo||A<=T.viewFrom?(T.view=c4(g,b,A),T.viewFrom=b):(T.viewFrom>b?T.view=c4(g,b,T.viewFrom).concat(T.view):T.viewFrom<b&&(T.view=T.view.slice(Ad(g,b))),T.viewFrom=b,T.viewTo<A?T.view=T.view.concat(c4(g,T.viewTo,A)):T.viewTo>A&&(T.view=T.view.slice(0,Ad(g,A)))),T.viewTo=A}function YO(g){for(var b=g.display.view,A=0,T=0;T<b.length;T++){var N=b[T];!N.hidden&&(!N.node||N.changes)&&++A}return A}function Nv(g){g.display.input.showSelection(g.display.input.prepareSelection())}function XO(g,b){b===void 0&&(b=!0);var A=g.doc,T={},N=T.cursors=document.createDocumentFragment(),G=T.selection=document.createDocumentFragment(),j=g.options.$customCursor;j&&(b=!0);for(var re=0;re<A.sel.ranges.length;re++)if(!(!b&&re==A.sel.primIndex)){var ue=A.sel.ranges[re];if(!(ue.from().line>=g.display.viewTo||ue.to().line<g.display.viewFrom)){var ve=ue.empty();if(j){var Re=j(g,ue);Re&&RC(g,Re,N)}else(ve||g.options.showCursorWhenSelecting)&&RC(g,ue.head,N);ve||mde(g,ue,G)}}return T}function RC(g,b,A){var T=$l(g,b,"div",null,null,!g.options.singleCursorHeightPerLine),N=A.appendChild(O("div"," ","CodeMirror-cursor"));if(N.style.left=T.left+"px",N.style.top=T.top+"px",N.style.height=Math.max(0,T.bottom-T.top)*g.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(g.getWrapperElement().className)){var G=d4(g,b,"div",null,null),j=G.right-G.left;N.style.width=(j>0?j:g.defaultCharWidth())+"px"}if(T.other){var re=A.appendChild(O("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));re.style.display="",re.style.left=T.other.left+"px",re.style.top=T.other.top+"px",re.style.height=(T.other.bottom-T.other.top)*.85+"px"}}function g4(g,b){return g.top-b.top||g.left-b.left}function mde(g,b,A){var T=g.display,N=g.doc,G=document.createDocumentFragment(),j=NO(g.display),re=j.left,ue=Math.max(T.sizerWidth,Ed(g)-T.sizer.offsetLeft)-j.right,ve=N.direction=="ltr";function Re(Nt,Wt,cr,ir){Wt<0&&(Wt=0),Wt=Math.round(Wt),ir=Math.round(ir),G.appendChild(O("div",null,"CodeMirror-selected","position: absolute; left: "+Nt+`px;
                             top: `+Wt+"px; width: "+(cr??ue-Nt)+`px;
                             height: `+(ir-Wt)+"px"))}function Fe(Nt,Wt,cr){var ir=lt(N,Nt),Pr=ir.text.length,An,Xi;function ei(Ai,_s){return d4(g,yt(Nt,Ai),"div",ir,_s)}function Js(Ai,_s,pa){var Fi=WO(g,ir,null,Ai),_i=_s=="ltr"==(pa=="after")?"left":"right",ui=pa=="after"?Fi.begin:Fi.end-(/\s/.test(ir.text.charAt(Fi.end-1))?2:1);return ei(ui,_i)[_i]}var As=Oe(ir,N.direction);return ae(As,Wt||0,cr??Pr,function(Ai,_s,pa,Fi){var _i=pa=="ltr",ui=ei(Ai,_i?"left":"right"),Ls=ei(_s-1,_i?"right":"left"),Zp=Wt==null&&Ai==0,Gh=cr==null&&_s==Pr,Da=Fi==0,_u=!As||Fi==As.length-1;if(Ls.top-ui.top<=3){var ji=(ve?Zp:Gh)&&Da,i6=(ve?Gh:Zp)&&_u,Tc=ji?re:(_i?ui:Ls).left,Md=i6?ue:(_i?Ls:ui).right;Re(Tc,ui.top,Md-Tc,ui.bottom)}else{var Nd,Ja,Jp,a6;_i?(Nd=ve&&Zp&&Da?re:ui.left,Ja=ve?ue:Js(Ai,pa,"before"),Jp=ve?re:Js(_s,pa,"after"),a6=ve&&Gh&&_u?ue:Ls.right):(Nd=ve?Js(Ai,pa,"before"):re,Ja=!ve&&Zp&&Da?ue:ui.right,Jp=!ve&&Gh&&_u?re:Ls.left,a6=ve?Js(_s,pa,"after"):ue),Re(Nd,ui.top,Ja-Nd,ui.bottom),ui.bottom<Ls.top&&Re(re,ui.bottom,null,Ls.top),Re(Jp,Ls.top,a6-Jp,Ls.bottom)}(!An||g4(ui,An)<0)&&(An=ui),g4(Ls,An)<0&&(An=Ls),(!Xi||g4(ui,Xi)<0)&&(Xi=ui),g4(Ls,Xi)<0&&(Xi=Ls)}),{start:An,end:Xi}}var Ze=b.from(),Ke=b.to();if(Ze.line==Ke.line)Fe(Ze.line,Ze.ch,Ke.ch);else{var st=lt(N,Ze.line),ht=lt(N,Ke.line),Ct=Bl(st)==Bl(ht),Mt=Fe(Ze.line,Ze.ch,Ct?st.text.length+1:null).end,Bt=Fe(Ke.line,Ct?0:null,Ke.ch).start;Ct&&(Mt.top<Bt.top-2?(Re(Mt.right,Mt.top,null,Mt.bottom),Re(re,Bt.top,Bt.left,Bt.bottom)):Re(Mt.right,Mt.top,Bt.left-Mt.right,Mt.bottom)),Mt.bottom<Bt.top&&Re(re,Mt.bottom,null,Bt.top)}A.appendChild(G)}function MC(g){if(g.state.focused){var b=g.display;clearInterval(b.blinker);var A=!0;b.cursorDiv.style.visibility="",g.options.cursorBlinkRate>0?b.blinker=setInterval(function(){g.hasFocus()||zp(g),b.cursorDiv.style.visibility=(A=!A)?"":"hidden"},g.options.cursorBlinkRate):g.options.cursorBlinkRate<0&&(b.cursorDiv.style.visibility="hidden")}}function jO(g){g.hasFocus()||(g.display.input.focus(),g.state.focused||IC(g))}function NC(g){g.state.delayingBlurEvent=!0,setTimeout(function(){g.state.delayingBlurEvent&&(g.state.delayingBlurEvent=!1,g.state.focused&&zp(g))},100)}function IC(g,b){g.state.delayingBlurEvent&&!g.state.draggingText&&(g.state.delayingBlurEvent=!1),g.options.readOnly!="nocursor"&&(g.state.focused||(ut(g,"focus",g,b),g.state.focused=!0,X(g.display.wrapper,"CodeMirror-focused"),!g.curOp&&g.display.selForContextMenu!=g.doc.sel&&(g.display.input.reset(),h&&setTimeout(function(){return g.display.input.reset(!0)},20)),g.display.input.receivedFocus()),MC(g))}function zp(g,b){g.state.delayingBlurEvent||(g.state.focused&&(ut(g,"blur",g,b),g.state.focused=!1,B(g.display.wrapper,"CodeMirror-focused")),clearInterval(g.display.blinker),setTimeout(function(){g.state.focused||(g.display.shift=!1)},150))}function m4(g){for(var b=g.display,A=b.lineDiv.offsetTop,T=Math.max(0,b.scroller.getBoundingClientRect().top),N=b.lineDiv.getBoundingClientRect().top,G=0,j=0;j<b.view.length;j++){var re=b.view[j],ue=g.options.lineWrapping,ve=void 0,Re=0;if(!re.hidden){if(N+=re.line.height,l&&u<8){var Fe=re.node.offsetTop+re.node.offsetHeight;ve=Fe-A,A=Fe}else{var Ze=re.node.getBoundingClientRect();ve=Ze.bottom-Ze.top,!ue&&re.text.firstChild&&(Re=re.text.firstChild.getBoundingClientRect().right-Ze.left-1)}var Ke=re.line.height-ve;if((Ke>.005||Ke<-.005)&&(N<T&&(G-=Ke),Kt(re.line,ve),KO(re.line),re.rest))for(var st=0;st<re.rest.length;st++)KO(re.rest[st]);if(Re>g.display.sizerWidth){var ht=Math.ceil(Re/$p(g.display));ht>g.display.maxLineLength&&(g.display.maxLineLength=ht,g.display.maxLine=re.line,g.display.maxLineChanged=!0)}}}Math.abs(G)>2&&(b.scroller.scrollTop+=G)}function KO(g){if(g.widgets)for(var b=0;b<g.widgets.length;++b){var A=g.widgets[b],T=A.node.parentNode;T&&(A.height=T.offsetHeight)}}function v4(g,b,A){var T=A&&A.top!=null?Math.max(0,A.top):g.scroller.scrollTop;T=Math.floor(T-h4(g));var N=A&&A.bottom!=null?A.bottom:T+g.wrapper.clientHeight,G=Or(b,T),j=Or(b,N);if(A&&A.ensure){var re=A.ensure.from.line,ue=A.ensure.to.line;re<G?(G=re,j=Or(b,wc(lt(b,re))+g.wrapper.clientHeight)):Math.min(ue,b.lastLine())>=j&&(G=Or(b,wc(lt(b,ue))-g.wrapper.clientHeight),j=ue)}return{from:G,to:Math.max(j,G+1)}}function vde(g,b){if(!gt(g,"scrollCursorIntoView")){var A=g.display,T=A.sizer.getBoundingClientRect(),N=null,G=A.wrapper.ownerDocument;if(b.top+T.top<0?N=!0:b.bottom+T.top>(G.defaultView.innerHeight||G.documentElement.clientHeight)&&(N=!1),N!=null&&!y){var j=O("div","​",null,`position: absolute;
                         top: `+(b.top-A.viewOffset-h4(g.display))+`px;
                         height: `+(b.bottom-b.top+Cu(g)+A.barHeight)+`px;
                         left: `+b.left+"px; width: "+Math.max(2,b.right-b.left)+"px;");g.display.lineSpace.appendChild(j),j.scrollIntoView(N),g.display.lineSpace.removeChild(j)}}}function yde(g,b,A,T){T==null&&(T=0);var N;!g.options.lineWrapping&&b==A&&(A=b.sticky=="before"?yt(b.line,b.ch+1,"before"):b,b=b.ch?yt(b.line,b.sticky=="before"?b.ch-1:b.ch,"after"):b);for(var G=0;G<5;G++){var j=!1,re=$l(g,b),ue=!A||A==b?re:$l(g,A);N={left:Math.min(re.left,ue.left),top:Math.min(re.top,ue.top)-T,right:Math.max(re.left,ue.left),bottom:Math.max(re.bottom,ue.bottom)+T};var ve=OC(g,N),Re=g.doc.scrollTop,Fe=g.doc.scrollLeft;if(ve.scrollTop!=null&&(Ov(g,ve.scrollTop),Math.abs(g.doc.scrollTop-Re)>1&&(j=!0)),ve.scrollLeft!=null&&(_d(g,ve.scrollLeft),Math.abs(g.doc.scrollLeft-Fe)>1&&(j=!0)),!j)break}return N}function xde(g,b){var A=OC(g,b);A.scrollTop!=null&&Ov(g,A.scrollTop),A.scrollLeft!=null&&_d(g,A.scrollLeft)}function OC(g,b){var A=g.display,T=Bp(g.display);b.top<0&&(b.top=0);var N=g.curOp&&g.curOp.scrollTop!=null?g.curOp.scrollTop:A.scroller.scrollTop,G=SC(g),j={};b.bottom-b.top>G&&(b.bottom=b.top+G);var re=g.doc.height+wC(A),ue=b.top<T,ve=b.bottom>re-T;if(b.top<N)j.scrollTop=ue?0:b.top;else if(b.bottom>N+G){var Re=Math.min(b.top,(ve?re:b.bottom)-G);Re!=N&&(j.scrollTop=Re)}var Fe=g.options.fixedGutter?0:A.gutters.offsetWidth,Ze=g.curOp&&g.curOp.scrollLeft!=null?g.curOp.scrollLeft:A.scroller.scrollLeft-Fe,Ke=Ed(g)-A.gutters.offsetWidth,st=b.right-b.left>Ke;return st&&(b.right=b.left+Ke),b.left<10?j.scrollLeft=0:b.left<Ze?j.scrollLeft=Math.max(0,b.left+Fe-(st?0:10)):b.right>Ke+Ze-3&&(j.scrollLeft=b.right+(st?0:10)-Ke),j}function PC(g,b){b!=null&&(y4(g),g.curOp.scrollTop=(g.curOp.scrollTop==null?g.doc.scrollTop:g.curOp.scrollTop)+b)}function Hp(g){y4(g);var b=g.getCursor();g.curOp.scrollToPos={from:b,to:b,margin:g.options.cursorScrollMargin}}function Iv(g,b,A){(b!=null||A!=null)&&y4(g),b!=null&&(g.curOp.scrollLeft=b),A!=null&&(g.curOp.scrollTop=A)}function bde(g,b){y4(g),g.curOp.scrollToPos=b}function y4(g){var b=g.curOp.scrollToPos;if(b){g.curOp.scrollToPos=null;var A=UO(g,b.from),T=UO(g,b.to);QO(g,A,T,b.margin)}}function QO(g,b,A,T){var N=OC(g,{left:Math.min(b.left,A.left),top:Math.min(b.top,A.top)-T,right:Math.max(b.right,A.right),bottom:Math.max(b.bottom,A.bottom)+T});Iv(g,N.scrollLeft,N.scrollTop)}function Ov(g,b){Math.abs(g.doc.scrollTop-b)<2||(i||BC(g,{top:b}),ZO(g,b,!0),i&&BC(g),Bv(g,100))}function ZO(g,b,A){b=Math.max(0,Math.min(g.display.scroller.scrollHeight-g.display.scroller.clientHeight,b)),!(g.display.scroller.scrollTop==b&&!A)&&(g.doc.scrollTop=b,g.display.scrollbars.setScrollTop(b),g.display.scroller.scrollTop!=b&&(g.display.scroller.scrollTop=b))}function _d(g,b,A,T){b=Math.max(0,Math.min(b,g.display.scroller.scrollWidth-g.display.scroller.clientWidth)),!((A?b==g.doc.scrollLeft:Math.abs(g.doc.scrollLeft-b)<2)&&!T)&&(g.doc.scrollLeft=b,nP(g),g.display.scroller.scrollLeft!=b&&(g.display.scroller.scrollLeft=b),g.display.scrollbars.setScrollLeft(b))}function Pv(g){var b=g.display,A=b.gutters.offsetWidth,T=Math.round(g.doc.height+wC(g.display));return{clientHeight:b.scroller.clientHeight,viewHeight:b.wrapper.clientHeight,scrollWidth:b.scroller.scrollWidth,clientWidth:b.scroller.clientWidth,viewWidth:b.wrapper.clientWidth,barLeft:g.options.fixedGutter?A:0,docHeight:T,scrollHeight:T+Cu(g)+b.barHeight,nativeBarWidth:b.nativeBarWidth,gutterWidth:A}}var Ld=function(g,b,A){this.cm=A;var T=this.vert=O("div",[O("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),N=this.horiz=O("div",[O("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");T.tabIndex=N.tabIndex=-1,g(T),g(N),Me(T,"scroll",function(){T.clientHeight&&b(T.scrollTop,"vertical")}),Me(N,"scroll",function(){N.clientWidth&&b(N.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,l&&u<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ld.prototype.update=function(g){var b=g.scrollWidth>g.clientWidth+1,A=g.scrollHeight>g.clientHeight+1,T=g.nativeBarWidth;if(A){this.vert.style.display="block",this.vert.style.bottom=b?T+"px":"0";var N=g.viewHeight-(b?T:0);this.vert.firstChild.style.height=Math.max(0,g.scrollHeight-g.clientHeight+N)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(b){this.horiz.style.display="block",this.horiz.style.right=A?T+"px":"0",this.horiz.style.left=g.barLeft+"px";var G=g.viewWidth-g.barLeft-(A?T:0);this.horiz.firstChild.style.width=Math.max(0,g.scrollWidth-g.clientWidth+G)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&g.clientHeight>0&&(T==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:A?T:0,bottom:b?T:0}},Ld.prototype.setScrollLeft=function(g){this.horiz.scrollLeft!=g&&(this.horiz.scrollLeft=g),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ld.prototype.setScrollTop=function(g){this.vert.scrollTop!=g&&(this.vert.scrollTop=g),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ld.prototype.zeroWidthHack=function(){var g=C&&!x?"12px":"18px";this.horiz.style.height=this.vert.style.width=g,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new se,this.disableVert=new se},Ld.prototype.enableZeroWidthBar=function(g,b,A){g.style.visibility="";function T(){var N=g.getBoundingClientRect(),G=A=="vert"?document.elementFromPoint(N.right-1,(N.top+N.bottom)/2):document.elementFromPoint((N.right+N.left)/2,N.bottom-1);G!=g?g.style.visibility="hidden":b.set(1e3,T)}b.set(1e3,T)},Ld.prototype.clear=function(){var g=this.horiz.parentNode;g.removeChild(this.horiz),g.removeChild(this.vert)};var Fv=function(){};Fv.prototype.update=function(){return{bottom:0,right:0}},Fv.prototype.setScrollLeft=function(){},Fv.prototype.setScrollTop=function(){},Fv.prototype.clear=function(){};function Vp(g,b){b||(b=Pv(g));var A=g.display.barWidth,T=g.display.barHeight;JO(g,b);for(var N=0;N<4&&A!=g.display.barWidth||T!=g.display.barHeight;N++)A!=g.display.barWidth&&g.options.lineWrapping&&m4(g),JO(g,Pv(g)),A=g.display.barWidth,T=g.display.barHeight}function JO(g,b){var A=g.display,T=A.scrollbars.update(b);A.sizer.style.paddingRight=(A.barWidth=T.right)+"px",A.sizer.style.paddingBottom=(A.barHeight=T.bottom)+"px",A.heightForcer.style.borderBottom=T.bottom+"px solid transparent",T.right&&T.bottom?(A.scrollbarFiller.style.display="block",A.scrollbarFiller.style.height=T.bottom+"px",A.scrollbarFiller.style.width=T.right+"px"):A.scrollbarFiller.style.display="",T.bottom&&g.options.coverGutterNextToScrollbar&&g.options.fixedGutter?(A.gutterFiller.style.display="block",A.gutterFiller.style.height=T.bottom+"px",A.gutterFiller.style.width=b.gutterWidth+"px"):A.gutterFiller.style.display=""}var eP={native:Ld,null:Fv};function tP(g){g.display.scrollbars&&(g.display.scrollbars.clear(),g.display.scrollbars.addClass&&B(g.display.wrapper,g.display.scrollbars.addClass)),g.display.scrollbars=new eP[g.options.scrollbarStyle](function(b){g.display.wrapper.insertBefore(b,g.display.scrollbarFiller),Me(b,"mousedown",function(){g.state.focused&&setTimeout(function(){return g.display.input.focus()},0)}),b.setAttribute("cm-not-content","true")},function(b,A){A=="horizontal"?_d(g,b):Ov(g,b)},g),g.display.scrollbars.addClass&&X(g.display.wrapper,g.display.scrollbars.addClass)}var wde=0;function Dd(g){g.curOp={cm:g,viewChanged:!1,startHeight:g.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++wde,markArrays:null},Zfe(g.curOp)}function Rd(g){var b=g.curOp;b&&ede(b,function(A){for(var T=0;T<A.ops.length;T++)A.ops[T].cm.curOp=null;Sde(A)})}function Sde(g){for(var b=g.ops,A=0;A<b.length;A++)kde(b[A]);for(var T=0;T<b.length;T++)Ede(b[T]);for(var N=0;N<b.length;N++)Tde(b[N]);for(var G=0;G<b.length;G++)Cde(b[G]);for(var j=0;j<b.length;j++)Ade(b[j])}function kde(g){var b=g.cm,A=b.display;Lde(b),g.updateMaxLine&&xC(b),g.mustUpdate=g.viewChanged||g.forceUpdate||g.scrollTop!=null||g.scrollToPos&&(g.scrollToPos.from.line<A.viewFrom||g.scrollToPos.to.line>=A.viewTo)||A.maxLineChanged&&b.options.lineWrapping,g.update=g.mustUpdate&&new x4(b,g.mustUpdate&&{top:g.scrollTop,ensure:g.scrollToPos},g.forceUpdate)}function Ede(g){g.updatedDisplay=g.mustUpdate&&FC(g.cm,g.update)}function Tde(g){var b=g.cm,A=b.display;g.updatedDisplay&&m4(b),g.barMeasure=Pv(b),A.maxLineChanged&&!b.options.lineWrapping&&(g.adjustWidthTo=OO(b,A.maxLine,A.maxLine.text.length).left+3,b.display.sizerWidth=g.adjustWidthTo,g.barMeasure.scrollWidth=Math.max(A.scroller.clientWidth,A.sizer.offsetLeft+g.adjustWidthTo+Cu(b)+b.display.barWidth),g.maxScrollLeft=Math.max(0,A.sizer.offsetLeft+g.adjustWidthTo-Ed(b))),(g.updatedDisplay||g.selectionChanged)&&(g.preparedSelection=A.input.prepareSelection())}function Cde(g){var b=g.cm;g.adjustWidthTo!=null&&(b.display.sizer.style.minWidth=g.adjustWidthTo+"px",g.maxScrollLeft<b.doc.scrollLeft&&_d(b,Math.min(b.display.scroller.scrollLeft,g.maxScrollLeft),!0),b.display.maxLineChanged=!1);var A=g.focus&&g.focus==V(Z(b));g.preparedSelection&&b.display.input.showSelection(g.preparedSelection,A),(g.updatedDisplay||g.startHeight!=b.doc.height)&&Vp(b,g.barMeasure),g.updatedDisplay&&zC(b,g.barMeasure),g.selectionChanged&&MC(b),b.state.focused&&g.updateInput&&b.display.input.reset(g.typing),A&&jO(g.cm)}function Ade(g){var b=g.cm,A=b.display,T=b.doc;if(g.updatedDisplay&&rP(b,g.update),A.wheelStartX!=null&&(g.scrollTop!=null||g.scrollLeft!=null||g.scrollToPos)&&(A.wheelStartX=A.wheelStartY=null),g.scrollTop!=null&&ZO(b,g.scrollTop,g.forceScroll),g.scrollLeft!=null&&_d(b,g.scrollLeft,!0,!0),g.scrollToPos){var N=yde(b,Sr(T,g.scrollToPos.from),Sr(T,g.scrollToPos.to),g.scrollToPos.margin);vde(b,N)}var G=g.maybeHiddenMarkers,j=g.maybeUnhiddenMarkers;if(G)for(var re=0;re<G.length;++re)G[re].lines.length||ut(G[re],"hide");if(j)for(var ue=0;ue<j.length;++ue)j[ue].lines.length&&ut(j[ue],"unhide");A.wrapper.offsetHeight&&(T.scrollTop=b.display.scroller.scrollTop),g.changeObjs&&ut(b,"changes",b,g.changeObjs),g.update&&g.update.finish()}function Zs(g,b){if(g.curOp)return b();Dd(g);try{return b()}finally{Rd(g)}}function qi(g,b){return function(){if(g.curOp)return b.apply(g,arguments);Dd(g);try{return b.apply(g,arguments)}finally{Rd(g)}}}function Za(g){return function(){if(this.curOp)return g.apply(this,arguments);Dd(this);try{return g.apply(this,arguments)}finally{Rd(this)}}}function Yi(g){return function(){var b=this.cm;if(!b||b.curOp)return g.apply(this,arguments);Dd(b);try{return g.apply(this,arguments)}finally{Rd(b)}}}function Bv(g,b){g.doc.highlightFrontier<g.display.viewTo&&g.state.highlight.set(b,ge(_de,g))}function _de(g){var b=g.doc;if(!(b.highlightFrontier>=g.display.viewTo)){var A=+new Date+g.options.workTime,T=xc(g,b.highlightFrontier),N=[];b.iter(T.line,Math.min(b.first+b.size,g.display.viewTo+500),function(G){if(T.line>=g.display.viewFrom){var j=G.styles,re=G.text.length>g.options.maxHighlightLength?Yr(b.mode,T.state):null,ue=Eu(g,G,T,!0);re&&(T.state=re),G.styles=ue.styles;var ve=G.styleClasses,Re=ue.classes;Re?G.styleClasses=Re:ve&&(G.styleClasses=null);for(var Fe=!j||j.length!=G.styles.length||ve!=Re&&(!ve||!Re||ve.bgClass!=Re.bgClass||ve.textClass!=Re.textClass),Ze=0;!Fe&&Ze<j.length;++Ze)Fe=j[Ze]!=G.styles[Ze];Fe&&N.push(T.line),G.stateAfter=T.save(),T.nextLine()}else G.text.length<=g.options.maxHighlightLength&&Tu(g,G.text,T),G.stateAfter=T.line%5==0?T.save():null,T.nextLine();if(+new Date>A)return Bv(g,g.options.workDelay),!0}),b.highlightFrontier=T.line,b.modeFrontier=Math.max(b.modeFrontier,T.line),N.length&&Zs(g,function(){for(var G=0;G<N.length;G++)Fh(g,N[G],"text")})}}var x4=function(g,b,A){var T=g.display;this.viewport=b,this.visible=v4(T,g.doc,b),this.editorIsHidden=!T.wrapper.offsetWidth,this.wrapperHeight=T.wrapper.clientHeight,this.wrapperWidth=T.wrapper.clientWidth,this.oldDisplayWidth=Ed(g),this.force=A,this.dims=_C(g),this.events=[]};x4.prototype.signal=function(g,b){Pt(g,b)&&this.events.push(arguments)},x4.prototype.finish=function(){for(var g=0;g<this.events.length;g++)ut.apply(null,this.events[g])};function Lde(g){var b=g.display;!b.scrollbarsClipped&&b.scroller.offsetWidth&&(b.nativeBarWidth=b.scroller.offsetWidth-b.scroller.clientWidth,b.heightForcer.style.height=Cu(g)+"px",b.sizer.style.marginBottom=-b.nativeBarWidth+"px",b.sizer.style.borderRightWidth=Cu(g)+"px",b.scrollbarsClipped=!0)}function Dde(g){if(g.hasFocus())return null;var b=V(Z(g));if(!b||!$(g.display.lineDiv,b))return null;var A={activeElt:b};if(window.getSelection){var T=ne(g).getSelection();T.anchorNode&&T.extend&&$(g.display.lineDiv,T.anchorNode)&&(A.anchorNode=T.anchorNode,A.anchorOffset=T.anchorOffset,A.focusNode=T.focusNode,A.focusOffset=T.focusOffset)}return A}function Rde(g){if(!(!g||!g.activeElt||g.activeElt==V(pe(g.activeElt)))&&(g.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(g.activeElt.nodeName)&&g.anchorNode&&$(document.body,g.anchorNode)&&$(document.body,g.focusNode))){var b=g.activeElt.ownerDocument,A=b.defaultView.getSelection(),T=b.createRange();T.setEnd(g.anchorNode,g.anchorOffset),T.collapse(!1),A.removeAllRanges(),A.addRange(T),A.extend(g.focusNode,g.focusOffset)}}function FC(g,b){var A=g.display,T=g.doc;if(b.editorIsHidden)return Bh(g),!1;if(!b.force&&b.visible.from>=A.viewFrom&&b.visible.to<=A.viewTo&&(A.updateLineNumbers==null||A.updateLineNumbers>=A.viewTo)&&A.renderedView==A.view&&YO(g)==0)return!1;iP(g)&&(Bh(g),b.dims=_C(g));var N=T.first+T.size,G=Math.max(b.visible.from-g.options.viewportMargin,T.first),j=Math.min(N,b.visible.to+g.options.viewportMargin);A.viewFrom<G&&G-A.viewFrom<20&&(G=Math.max(T.first,A.viewFrom)),A.viewTo>j&&A.viewTo-j<20&&(j=Math.min(N,A.viewTo)),bc&&(G=vC(g.doc,G),j=kO(g.doc,j));var re=G!=A.viewFrom||j!=A.viewTo||A.lastWrapHeight!=b.wrapperHeight||A.lastWrapWidth!=b.wrapperWidth;gde(g,G,j),A.viewOffset=wc(lt(g.doc,A.viewFrom)),g.display.mover.style.top=A.viewOffset+"px";var ue=YO(g);if(!re&&ue==0&&!b.force&&A.renderedView==A.view&&(A.updateLineNumbers==null||A.updateLineNumbers>=A.viewTo))return!1;var ve=Dde(g);return ue>4&&(A.lineDiv.style.display="none"),Mde(g,A.updateLineNumbers,b.dims),ue>4&&(A.lineDiv.style.display=""),A.renderedView=A.view,Rde(ve),H(A.cursorDiv),H(A.selectionDiv),A.gutters.style.height=A.sizer.style.minHeight=0,re&&(A.lastWrapHeight=b.wrapperHeight,A.lastWrapWidth=b.wrapperWidth,Bv(g,400)),A.updateLineNumbers=null,!0}function rP(g,b){for(var A=b.viewport,T=!0;;T=!1){if(!T||!g.options.lineWrapping||b.oldDisplayWidth==Ed(g)){if(A&&A.top!=null&&(A={top:Math.min(g.doc.height+wC(g.display)-SC(g),A.top)}),b.visible=v4(g.display,g.doc,A),b.visible.from>=g.display.viewFrom&&b.visible.to<=g.display.viewTo)break}else T&&(b.visible=v4(g.display,g.doc,A));if(!FC(g,b))break;m4(g);var N=Pv(g);Nv(g),Vp(g,N),zC(g,N),b.force=!1}b.signal(g,"update",g),(g.display.viewFrom!=g.display.reportedViewFrom||g.display.viewTo!=g.display.reportedViewTo)&&(b.signal(g,"viewportChange",g,g.display.viewFrom,g.display.viewTo),g.display.reportedViewFrom=g.display.viewFrom,g.display.reportedViewTo=g.display.viewTo)}function BC(g,b){var A=new x4(g,b);if(FC(g,A)){m4(g),rP(g,A);var T=Pv(g);Nv(g),Vp(g,T),zC(g,T),A.finish()}}function Mde(g,b,A){var T=g.display,N=g.options.lineNumbers,G=T.lineDiv,j=G.firstChild;function re(st){var ht=st.nextSibling;return h&&C&&g.display.currentWheelTarget==st?st.style.display="none":st.parentNode.removeChild(st),ht}for(var ue=T.view,ve=T.viewFrom,Re=0;Re<ue.length;Re++){var Fe=ue[Re];if(!Fe.hidden)if(!Fe.node||Fe.node.parentNode!=G){var Ze=ade(g,Fe,ve,A);G.insertBefore(Ze,j)}else{for(;j!=Fe.node;)j=re(j);var Ke=N&&b!=null&&b<=ve&&Fe.lineNumber;Fe.changes&&(oe(Fe.changes,"gutter")>-1&&(Ke=!1),_O(g,Fe,ve,A)),Ke&&(H(Fe.lineNumber),Fe.lineNumber.appendChild(document.createTextNode(xn(g.options,ve)))),j=Fe.node.nextSibling}ve+=Fe.size}for(;j;)j=re(j)}function $C(g){var b=g.gutters.offsetWidth;g.sizer.style.marginLeft=b+"px",Wi(g,"gutterChanged",g)}function zC(g,b){g.display.sizer.style.minHeight=b.docHeight+"px",g.display.heightForcer.style.top=b.docHeight+"px",g.display.gutters.style.height=b.docHeight+g.display.barHeight+Cu(g)+"px"}function nP(g){var b=g.display,A=b.view;if(!(!b.alignWidgets&&(!b.gutters.firstChild||!g.options.fixedGutter))){for(var T=LC(b)-b.scroller.scrollLeft+g.doc.scrollLeft,N=b.gutters.offsetWidth,G=T+"px",j=0;j<A.length;j++)if(!A[j].hidden){g.options.fixedGutter&&(A[j].gutter&&(A[j].gutter.style.left=G),A[j].gutterBackground&&(A[j].gutterBackground.style.left=G));var re=A[j].alignable;if(re)for(var ue=0;ue<re.length;ue++)re[ue].style.left=G}g.options.fixedGutter&&(b.gutters.style.left=T+N+"px")}}function iP(g){if(!g.options.lineNumbers)return!1;var b=g.doc,A=xn(g.options,b.first+b.size-1),T=g.display;if(A.length!=T.lineNumChars){var N=T.measure.appendChild(O("div",[O("div",A)],"CodeMirror-linenumber CodeMirror-gutter-elt")),G=N.firstChild.offsetWidth,j=N.offsetWidth-G;return T.lineGutter.style.width="",T.lineNumInnerWidth=Math.max(G,T.lineGutter.offsetWidth-j)+1,T.lineNumWidth=T.lineNumInnerWidth+j,T.lineNumChars=T.lineNumInnerWidth?A.length:-1,T.lineGutter.style.width=T.lineNumWidth+"px",$C(g.display),!0}return!1}function HC(g,b){for(var A=[],T=!1,N=0;N<g.length;N++){var G=g[N],j=null;if(typeof G!="string"&&(j=G.style,G=G.className),G=="CodeMirror-linenumbers")if(b)T=!0;else continue;A.push({className:G,style:j})}return b&&!T&&A.push({className:"CodeMirror-linenumbers",style:null}),A}function aP(g){var b=g.gutters,A=g.gutterSpecs;H(b),g.lineGutter=null;for(var T=0;T<A.length;++T){var N=A[T],G=N.className,j=N.style,re=b.appendChild(O("div",null,"CodeMirror-gutter "+G));j&&(re.style.cssText=j),G=="CodeMirror-linenumbers"&&(g.lineGutter=re,re.style.width=(g.lineNumWidth||1)+"px")}b.style.display=A.length?"":"none",$C(g)}function $v(g){aP(g.display),Ts(g),nP(g)}function Nde(g,b,A,T){var N=this;this.input=A,N.scrollbarFiller=O("div",null,"CodeMirror-scrollbar-filler"),N.scrollbarFiller.setAttribute("cm-not-content","true"),N.gutterFiller=O("div",null,"CodeMirror-gutter-filler"),N.gutterFiller.setAttribute("cm-not-content","true"),N.lineDiv=P("div",null,"CodeMirror-code"),N.selectionDiv=O("div",null,null,"position: relative; z-index: 1"),N.cursorDiv=O("div",null,"CodeMirror-cursors"),N.measure=O("div",null,"CodeMirror-measure"),N.lineMeasure=O("div",null,"CodeMirror-measure"),N.lineSpace=P("div",[N.measure,N.lineMeasure,N.selectionDiv,N.cursorDiv,N.lineDiv],null,"position: relative; outline: none");var G=P("div",[N.lineSpace],"CodeMirror-lines");N.mover=O("div",[G],null,"position: relative"),N.sizer=O("div",[N.mover],"CodeMirror-sizer"),N.sizerWidth=null,N.heightForcer=O("div",null,null,"position: absolute; height: "+fe+"px; width: 1px;"),N.gutters=O("div",null,"CodeMirror-gutters"),N.lineGutter=null,N.scroller=O("div",[N.sizer,N.heightForcer,N.gutters],"CodeMirror-scroll"),N.scroller.setAttribute("tabIndex","-1"),N.wrapper=O("div",[N.scrollbarFiller,N.gutterFiller,N.scroller],"CodeMirror"),d&&p>=105&&(N.wrapper.style.clipPath="inset(0px)"),N.wrapper.setAttribute("translate","no"),l&&u<8&&(N.gutters.style.zIndex=-1,N.scroller.style.paddingRight=0),!h&&!(i&&E)&&(N.scroller.draggable=!0),g&&(g.appendChild?g.appendChild(N.wrapper):g(N.wrapper)),N.viewFrom=N.viewTo=b.first,N.reportedViewFrom=N.reportedViewTo=b.first,N.view=[],N.renderedView=null,N.externalMeasured=null,N.viewOffset=0,N.lastWrapHeight=N.lastWrapWidth=0,N.updateLineNumbers=null,N.nativeBarWidth=N.barHeight=N.barWidth=0,N.scrollbarsClipped=!1,N.lineNumWidth=N.lineNumInnerWidth=N.lineNumChars=null,N.alignWidgets=!1,N.cachedCharWidth=N.cachedTextHeight=N.cachedPaddingH=null,N.maxLine=null,N.maxLineLength=0,N.maxLineChanged=!1,N.wheelDX=N.wheelDY=N.wheelStartX=N.wheelStartY=null,N.shift=!1,N.selForContextMenu=null,N.activeTouch=null,N.gutterSpecs=HC(T.gutters,T.lineNumbers),aP(N),A.init(N)}var b4=0,kc=null;l?kc=-.53:i?kc=15:d?kc=-.7:v&&(kc=-1/3);function sP(g){var b=g.wheelDeltaX,A=g.wheelDeltaY;return b==null&&g.detail&&g.axis==g.HORIZONTAL_AXIS&&(b=g.detail),A==null&&g.detail&&g.axis==g.VERTICAL_AXIS?A=g.detail:A==null&&(A=g.wheelDelta),{x:b,y:A}}function Ide(g){var b=sP(g);return b.x*=kc,b.y*=kc,b}function oP(g,b){d&&p==102&&(g.display.chromeScrollHack==null?g.display.sizer.style.pointerEvents="none":clearTimeout(g.display.chromeScrollHack),g.display.chromeScrollHack=setTimeout(function(){g.display.chromeScrollHack=null,g.display.sizer.style.pointerEvents=""},100));var A=sP(b),T=A.x,N=A.y,G=kc;b.deltaMode===0&&(T=b.deltaX,N=b.deltaY,G=1);var j=g.display,re=j.scroller,ue=re.scrollWidth>re.clientWidth,ve=re.scrollHeight>re.clientHeight;if(T&&ue||N&&ve){if(N&&C&&h){e:for(var Re=b.target,Fe=j.view;Re!=re;Re=Re.parentNode)for(var Ze=0;Ze<Fe.length;Ze++)if(Fe[Ze].node==Re){g.display.currentWheelTarget=Re;break e}}if(T&&!i&&!m&&G!=null){N&&ve&&Ov(g,Math.max(0,re.scrollTop+N*G)),_d(g,Math.max(0,re.scrollLeft+T*G)),(!N||N&&ve)&&at(b),j.wheelStartX=null;return}if(N&&G!=null){var Ke=N*G,st=g.doc.scrollTop,ht=st+j.wrapper.clientHeight;Ke<0?st=Math.max(0,st+Ke-50):ht=Math.min(g.doc.height,ht+Ke+50),BC(g,{top:st,bottom:ht})}b4<20&&b.deltaMode!==0&&(j.wheelStartX==null?(j.wheelStartX=re.scrollLeft,j.wheelStartY=re.scrollTop,j.wheelDX=T,j.wheelDY=N,setTimeout(function(){if(j.wheelStartX!=null){var Ct=re.scrollLeft-j.wheelStartX,Mt=re.scrollTop-j.wheelStartY,Bt=Mt&&j.wheelDY&&Mt/j.wheelDY||Ct&&j.wheelDX&&Ct/j.wheelDX;j.wheelStartX=j.wheelStartY=null,Bt&&(kc=(kc*b4+Bt)/(b4+1),++b4)}},200)):(j.wheelDX+=T,j.wheelDY+=N))}}var Do=function(g,b){this.ranges=g,this.primIndex=b};Do.prototype.primary=function(){return this.ranges[this.primIndex]},Do.prototype.equals=function(g){if(g==this)return!0;if(g.primIndex!=this.primIndex||g.ranges.length!=this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var A=this.ranges[b],T=g.ranges[b];if(!Mp(A.anchor,T.anchor)||!Mp(A.head,T.head))return!1}return!0},Do.prototype.deepCopy=function(){for(var g=[],b=0;b<this.ranges.length;b++)g[b]=new rn(Cv(this.ranges[b].anchor),Cv(this.ranges[b].head));return new Do(g,this.primIndex)},Do.prototype.somethingSelected=function(){for(var g=0;g<this.ranges.length;g++)if(!this.ranges[g].empty())return!0;return!1},Do.prototype.contains=function(g,b){b||(b=g);for(var A=0;A<this.ranges.length;A++){var T=this.ranges[A];if(Tr(b,T.from())>=0&&Tr(g,T.to())<=0)return A}return-1};var rn=function(g,b){this.anchor=g,this.head=b};rn.prototype.from=function(){return tl(this.anchor,this.head)},rn.prototype.to=function(){return li(this.anchor,this.head)},rn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function zl(g,b,A){var T=g&&g.options.selectionsMayTouch,N=b[A];b.sort(function(Ze,Ke){return Tr(Ze.from(),Ke.from())}),A=oe(b,N);for(var G=1;G<b.length;G++){var j=b[G],re=b[G-1],ue=Tr(re.to(),j.from());if(T&&!j.empty()?ue>0:ue>=0){var ve=tl(re.from(),j.from()),Re=li(re.to(),j.to()),Fe=re.empty()?j.from()==j.head:re.from()==re.head;G<=A&&--A,b.splice(--G,2,new rn(Fe?Re:ve,Fe?ve:Re))}}return new Do(b,A)}function $h(g,b){return new Do([new rn(g,b||g)],0)}function zh(g){return g.text?yt(g.from.line+g.text.length-1,De(g.text).length+(g.text.length==1?g.from.ch:0)):g.to}function lP(g,b){if(Tr(g,b.from)<0)return g;if(Tr(g,b.to)<=0)return zh(b);var A=g.line+b.text.length-(b.to.line-b.from.line)-1,T=g.ch;return g.line==b.to.line&&(T+=zh(b).ch-b.to.ch),yt(A,T)}function VC(g,b){for(var A=[],T=0;T<g.sel.ranges.length;T++){var N=g.sel.ranges[T];A.push(new rn(lP(N.anchor,b),lP(N.head,b)))}return zl(g.cm,A,g.sel.primIndex)}function uP(g,b,A){return g.line==b.line?yt(A.line,g.ch-b.ch+A.ch):yt(A.line+(g.line-b.line),g.ch)}function Ode(g,b,A){for(var T=[],N=yt(g.first,0),G=N,j=0;j<b.length;j++){var re=b[j],ue=uP(re.from,N,G),ve=uP(zh(re),N,G);if(N=re.to,G=ve,A=="around"){var Re=g.sel.ranges[j],Fe=Tr(Re.head,Re.anchor)<0;T[j]=new rn(Fe?ve:ue,Fe?ue:ve)}else T[j]=new rn(ue,ue)}return new Do(T,g.sel.primIndex)}function UC(g){g.doc.mode=Vt(g.options,g.doc.modeOption),zv(g)}function zv(g){g.doc.iter(function(b){b.stateAfter&&(b.stateAfter=null),b.styles&&(b.styles=null)}),g.doc.modeFrontier=g.doc.highlightFrontier=g.doc.first,Bv(g,100),g.state.modeGen++,g.curOp&&Ts(g)}function cP(g,b){return b.from.ch==0&&b.to.ch==0&&De(b.text)==""&&(!g.cm||g.cm.options.wholeLineUpdateBefore)}function GC(g,b,A,T){function N(Bt){return A?A[Bt]:null}function G(Bt,Nt,Wt){Ufe(Bt,Nt,Wt,T),Wi(Bt,"change",Bt,b)}function j(Bt,Nt){for(var Wt=[],cr=Bt;cr<Nt;++cr)Wt.push(new Op(ve[cr],N(cr),T));return Wt}var re=b.from,ue=b.to,ve=b.text,Re=lt(g,re.line),Fe=lt(g,ue.line),Ze=De(ve),Ke=N(ve.length-1),st=ue.line-re.line;if(b.full)g.insert(0,j(0,ve.length)),g.remove(ve.length,g.size-ve.length);else if(cP(g,b)){var ht=j(0,ve.length-1);G(Fe,Fe.text,Ke),st&&g.remove(re.line,st),ht.length&&g.insert(re.line,ht)}else if(Re==Fe)if(ve.length==1)G(Re,Re.text.slice(0,re.ch)+Ze+Re.text.slice(ue.ch),Ke);else{var Ct=j(1,ve.length-1);Ct.push(new Op(Ze+Re.text.slice(ue.ch),Ke,T)),G(Re,Re.text.slice(0,re.ch)+ve[0],N(0)),g.insert(re.line+1,Ct)}else if(ve.length==1)G(Re,Re.text.slice(0,re.ch)+ve[0]+Fe.text.slice(ue.ch),N(0)),g.remove(re.line+1,st);else{G(Re,Re.text.slice(0,re.ch)+ve[0],N(0)),G(Fe,Ze+Fe.text.slice(ue.ch),Ke);var Mt=j(1,ve.length-1);st>1&&g.remove(re.line+1,st-1),g.insert(re.line+1,Mt)}Wi(g,"change",g,b)}function Hh(g,b,A){function T(N,G,j){if(N.linked)for(var re=0;re<N.linked.length;++re){var ue=N.linked[re];if(ue.doc!=G){var ve=j&&ue.sharedHist;A&&!ve||(b(ue.doc,ve),T(ue.doc,N,ve))}}}T(g,null,!0)}function hP(g,b){if(b.cm)throw new Error("This document is already in use.");g.doc=b,b.cm=g,DC(g),UC(g),fP(g),g.options.direction=b.direction,g.options.lineWrapping||xC(g),g.options.mode=b.modeOption,Ts(g)}function fP(g){(g.doc.direction=="rtl"?X:B)(g.display.lineDiv,"CodeMirror-rtl")}function Pde(g){Zs(g,function(){fP(g),Ts(g)})}function w4(g){this.done=[],this.undone=[],this.undoDepth=g?g.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=g?g.maxGeneration:1}function WC(g,b){var A={from:Cv(b.from),to:zh(b),text:tr(g,b.from,b.to)};return gP(g,A,b.from.line,b.to.line+1),Hh(g,function(T){return gP(T,A,b.from.line,b.to.line+1)},!0),A}function dP(g){for(;g.length;){var b=De(g);if(b.ranges)g.pop();else break}}function Fde(g,b){if(b)return dP(g.done),De(g.done);if(g.done.length&&!De(g.done).ranges)return De(g.done);if(g.done.length>1&&!g.done[g.done.length-2].ranges)return g.done.pop(),De(g.done)}function pP(g,b,A,T){var N=g.history;N.undone.length=0;var G=+new Date,j,re;if((N.lastOp==T||N.lastOrigin==b.origin&&b.origin&&(b.origin.charAt(0)=="+"&&N.lastModTime>G-(g.cm?g.cm.options.historyEventDelay:500)||b.origin.charAt(0)=="*"))&&(j=Fde(N,N.lastOp==T)))re=De(j.changes),Tr(b.from,b.to)==0&&Tr(b.from,re.to)==0?re.to=zh(b):j.changes.push(WC(g,b));else{var ue=De(N.done);for((!ue||!ue.ranges)&&S4(g.sel,N.done),j={changes:[WC(g,b)],generation:N.generation},N.done.push(j);N.done.length>N.undoDepth;)N.done.shift(),N.done[0].ranges||N.done.shift()}N.done.push(A),N.generation=++N.maxGeneration,N.lastModTime=N.lastSelTime=G,N.lastOp=N.lastSelOp=T,N.lastOrigin=N.lastSelOrigin=b.origin,re||ut(g,"historyAdded")}function Bde(g,b,A,T){var N=b.charAt(0);return N=="*"||N=="+"&&A.ranges.length==T.ranges.length&&A.somethingSelected()==T.somethingSelected()&&new Date-g.history.lastSelTime<=(g.cm?g.cm.options.historyEventDelay:500)}function $de(g,b,A,T){var N=g.history,G=T&&T.origin;A==N.lastSelOp||G&&N.lastSelOrigin==G&&(N.lastModTime==N.lastSelTime&&N.lastOrigin==G||Bde(g,G,De(N.done),b))?N.done[N.done.length-1]=b:S4(b,N.done),N.lastSelTime=+new Date,N.lastSelOrigin=G,N.lastSelOp=A,T&&T.clearRedo!==!1&&dP(N.undone)}function S4(g,b){var A=De(b);A&&A.ranges&&A.equals(g)||b.push(g)}function gP(g,b,A,T){var N=b["spans_"+g.id],G=0;g.iter(Math.max(g.first,A),Math.min(g.first+g.size,T),function(j){j.markedSpans&&((N||(N=b["spans_"+g.id]={}))[G]=j.markedSpans),++G})}function zde(g){if(!g)return null;for(var b,A=0;A<g.length;++A)g[A].marker.explicitlyCleared?b||(b=g.slice(0,A)):b&&b.push(g[A]);return b?b.length?b:null:g}function Hde(g,b){var A=b["spans_"+g.id];if(!A)return null;for(var T=[],N=0;N<b.text.length;++N)T.push(zde(A[N]));return T}function mP(g,b){var A=Hde(g,b),T=gC(g,b);if(!A)return T;if(!T)return A;for(var N=0;N<A.length;++N){var G=A[N],j=T[N];if(G&&j)e:for(var re=0;re<j.length;++re){for(var ue=j[re],ve=0;ve<G.length;++ve)if(G[ve].marker==ue.marker)continue e;G.push(ue)}else j&&(A[N]=j)}return A}function Up(g,b,A){for(var T=[],N=0;N<g.length;++N){var G=g[N];if(G.ranges){T.push(A?Do.prototype.deepCopy.call(G):G);continue}var j=G.changes,re=[];T.push({changes:re});for(var ue=0;ue<j.length;++ue){var ve=j[ue],Re=void 0;if(re.push({from:ve.from,to:ve.to,text:ve.text}),b)for(var Fe in ve)(Re=Fe.match(/^spans_(\d+)$/))&&oe(b,Number(Re[1]))>-1&&(De(re)[Fe]=ve[Fe],delete ve[Fe])}}return T}function qC(g,b,A,T){if(T){var N=g.anchor;if(A){var G=Tr(b,N)<0;G!=Tr(A,N)<0?(N=b,b=A):G!=Tr(b,A)<0&&(b=A)}return new rn(N,b)}else return new rn(A||b,b)}function k4(g,b,A,T,N){N==null&&(N=g.cm&&(g.cm.display.shift||g.extend)),La(g,new Do([qC(g.sel.primary(),b,A,N)],0),T)}function vP(g,b,A){for(var T=[],N=g.cm&&(g.cm.display.shift||g.extend),G=0;G<g.sel.ranges.length;G++)T[G]=qC(g.sel.ranges[G],b[G],null,N);var j=zl(g.cm,T,g.sel.primIndex);La(g,j,A)}function YC(g,b,A,T){var N=g.sel.ranges.slice(0);N[b]=A,La(g,zl(g.cm,N,g.sel.primIndex),T)}function yP(g,b,A,T){La(g,$h(b,A),T)}function Vde(g,b,A){var T={ranges:b.ranges,update:function(N){this.ranges=[];for(var G=0;G<N.length;G++)this.ranges[G]=new rn(Sr(g,N[G].anchor),Sr(g,N[G].head))},origin:A&&A.origin};return ut(g,"beforeSelectionChange",g,T),g.cm&&ut(g.cm,"beforeSelectionChange",g.cm,T),T.ranges!=b.ranges?zl(g.cm,T.ranges,T.ranges.length-1):b}function xP(g,b,A){var T=g.history.done,N=De(T);N&&N.ranges?(T[T.length-1]=b,E4(g,b,A)):La(g,b,A)}function La(g,b,A){E4(g,b,A),$de(g,g.sel,g.cm?g.cm.curOp.id:NaN,A)}function E4(g,b,A){(Pt(g,"beforeSelectionChange")||g.cm&&Pt(g.cm,"beforeSelectionChange"))&&(b=Vde(g,b,A));var T=A&&A.bias||(Tr(b.primary().head,g.sel.primary().head)<0?-1:1);bP(g,SP(g,b,T,!0)),!(A&&A.scroll===!1)&&g.cm&&g.cm.getOption("readOnly")!="nocursor"&&Hp(g.cm)}function bP(g,b){b.equals(g.sel)||(g.sel=b,g.cm&&(g.cm.curOp.updateInput=1,g.cm.curOp.selectionChanged=!0,wt(g.cm)),Wi(g,"cursorActivity",g))}function wP(g){bP(g,SP(g,g.sel,null,!1))}function SP(g,b,A,T){for(var N,G=0;G<b.ranges.length;G++){var j=b.ranges[G],re=b.ranges.length==g.sel.ranges.length&&g.sel.ranges[G],ue=T4(g,j.anchor,re&&re.anchor,A,T),ve=j.head==j.anchor?ue:T4(g,j.head,re&&re.head,A,T);(N||ue!=j.anchor||ve!=j.head)&&(N||(N=b.ranges.slice(0,G)),N[G]=new rn(ue,ve))}return N?zl(g.cm,N,b.primIndex):b}function Gp(g,b,A,T,N){var G=lt(g,b.line);if(G.markedSpans)for(var j=0;j<G.markedSpans.length;++j){var re=G.markedSpans[j],ue=re.marker,ve="selectLeft"in ue?!ue.selectLeft:ue.inclusiveLeft,Re="selectRight"in ue?!ue.selectRight:ue.inclusiveRight;if((re.from==null||(ve?re.from<=b.ch:re.from<b.ch))&&(re.to==null||(Re?re.to>=b.ch:re.to>b.ch))){if(N&&(ut(ue,"beforeCursorEnter"),ue.explicitlyCleared))if(G.markedSpans){--j;continue}else break;if(!ue.atomic)continue;if(A){var Fe=ue.find(T<0?1:-1),Ze=void 0;if((T<0?Re:ve)&&(Fe=kP(g,Fe,-T,Fe&&Fe.line==b.line?G:null)),Fe&&Fe.line==b.line&&(Ze=Tr(Fe,A))&&(T<0?Ze<0:Ze>0))return Gp(g,Fe,b,T,N)}var Ke=ue.find(T<0?-1:1);return(T<0?ve:Re)&&(Ke=kP(g,Ke,T,Ke.line==b.line?G:null)),Ke?Gp(g,Ke,b,T,N):null}}return b}function T4(g,b,A,T,N){var G=T||1,j=Gp(g,b,A,G,N)||!N&&Gp(g,b,A,G,!0)||Gp(g,b,A,-G,N)||!N&&Gp(g,b,A,-G,!0);return j||(g.cantEdit=!0,yt(g.first,0))}function kP(g,b,A,T){return A<0&&b.ch==0?b.line>g.first?Sr(g,yt(b.line-1)):null:A>0&&b.ch==(T||lt(g,b.line)).text.length?b.line<g.first+g.size-1?yt(b.line+1,0):null:new yt(b.line,b.ch+A)}function EP(g){g.setSelection(yt(g.firstLine(),0),yt(g.lastLine()),be)}function TP(g,b,A){var T={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){return T.canceled=!0}};return A&&(T.update=function(N,G,j,re){N&&(T.from=Sr(g,N)),G&&(T.to=Sr(g,G)),j&&(T.text=j),re!==void 0&&(T.origin=re)}),ut(g,"beforeChange",g,T),g.cm&&ut(g.cm,"beforeChange",g.cm,T),T.canceled?(g.cm&&(g.cm.curOp.updateInput=2),null):{from:T.from,to:T.to,text:T.text,origin:T.origin}}function Wp(g,b,A){if(g.cm){if(!g.cm.curOp)return qi(g.cm,Wp)(g,b,A);if(g.cm.state.suppressEdits)return}if(!((Pt(g,"beforeChange")||g.cm&&Pt(g.cm,"beforeChange"))&&(b=TP(g,b,!0),!b))){var T=mO&&!A&&$fe(g,b.from,b.to);if(T)for(var N=T.length-1;N>=0;--N)CP(g,{from:T[N].from,to:T[N].to,text:N?[""]:b.text,origin:b.origin});else CP(g,b)}}function CP(g,b){if(!(b.text.length==1&&b.text[0]==""&&Tr(b.from,b.to)==0)){var A=VC(g,b);pP(g,b,A,g.cm?g.cm.curOp.id:NaN),Hv(g,b,A,gC(g,b));var T=[];Hh(g,function(N,G){!G&&oe(T,N.history)==-1&&(DP(N.history,b),T.push(N.history)),Hv(N,b,null,gC(N,b))})}}function C4(g,b,A){var T=g.cm&&g.cm.state.suppressEdits;if(!(T&&!A)){for(var N=g.history,G,j=g.sel,re=b=="undo"?N.done:N.undone,ue=b=="undo"?N.undone:N.done,ve=0;ve<re.length&&(G=re[ve],!(A?G.ranges&&!G.equals(g.sel):!G.ranges));ve++);if(ve!=re.length){for(N.lastOrigin=N.lastSelOrigin=null;;)if(G=re.pop(),G.ranges){if(S4(G,ue),A&&!G.equals(g.sel)){La(g,G,{clearRedo:!1});return}j=G}else if(T){re.push(G);return}else break;var Re=[];S4(j,ue),ue.push({changes:Re,generation:N.generation}),N.generation=G.generation||++N.maxGeneration;for(var Fe=Pt(g,"beforeChange")||g.cm&&Pt(g.cm,"beforeChange"),Ze=function(ht){var Ct=G.changes[ht];if(Ct.origin=b,Fe&&!TP(g,Ct,!1))return re.length=0,{};Re.push(WC(g,Ct));var Mt=ht?VC(g,Ct):De(re);Hv(g,Ct,Mt,mP(g,Ct)),!ht&&g.cm&&g.cm.scrollIntoView({from:Ct.from,to:zh(Ct)});var Bt=[];Hh(g,function(Nt,Wt){!Wt&&oe(Bt,Nt.history)==-1&&(DP(Nt.history,Ct),Bt.push(Nt.history)),Hv(Nt,Ct,null,mP(Nt,Ct))})},Ke=G.changes.length-1;Ke>=0;--Ke){var st=Ze(Ke);if(st)return st.v}}}}function AP(g,b){if(b!=0&&(g.first+=b,g.sel=new Do(We(g.sel.ranges,function(N){return new rn(yt(N.anchor.line+b,N.anchor.ch),yt(N.head.line+b,N.head.ch))}),g.sel.primIndex),g.cm)){Ts(g.cm,g.first,g.first-b,b);for(var A=g.cm.display,T=A.viewFrom;T<A.viewTo;T++)Fh(g.cm,T,"gutter")}}function Hv(g,b,A,T){if(g.cm&&!g.cm.curOp)return qi(g.cm,Hv)(g,b,A,T);if(b.to.line<g.first){AP(g,b.text.length-1-(b.to.line-b.from.line));return}if(!(b.from.line>g.lastLine())){if(b.from.line<g.first){var N=b.text.length-1-(g.first-b.from.line);AP(g,N),b={from:yt(g.first,0),to:yt(b.to.line+N,b.to.ch),text:[De(b.text)],origin:b.origin}}var G=g.lastLine();b.to.line>G&&(b={from:b.from,to:yt(G,lt(g,G).text.length),text:[b.text[0]],origin:b.origin}),b.removed=tr(g,b.from,b.to),A||(A=VC(g,b)),g.cm?Ude(g.cm,b,T):GC(g,b,T),E4(g,A,be),g.cantEdit&&T4(g,yt(g.firstLine(),0))&&(g.cantEdit=!1)}}function Ude(g,b,A){var T=g.doc,N=g.display,G=b.from,j=b.to,re=!1,ue=G.line;g.options.lineWrapping||(ue=Ce(Bl(lt(T,G.line))),T.iter(ue,j.line+1,function(Ke){if(Ke==N.maxLine)return re=!0,!0})),T.sel.contains(b.from,b.to)>-1&&wt(g),GC(T,b,A,qO(g)),g.options.lineWrapping||(T.iter(ue,G.line+b.text.length,function(Ke){var st=u4(Ke);st>N.maxLineLength&&(N.maxLine=Ke,N.maxLineLength=st,N.maxLineChanged=!0,re=!1)}),re&&(g.curOp.updateMaxLine=!0)),Mfe(T,G.line),Bv(g,400);var ve=b.text.length-(j.line-G.line)-1;b.full?Ts(g):G.line==j.line&&b.text.length==1&&!cP(g.doc,b)?Fh(g,G.line,"text"):Ts(g,G.line,j.line+1,ve);var Re=Pt(g,"changes"),Fe=Pt(g,"change");if(Fe||Re){var Ze={from:G,to:j,text:b.text,removed:b.removed,origin:b.origin};Fe&&Wi(g,"change",g,Ze),Re&&(g.curOp.changeObjs||(g.curOp.changeObjs=[])).push(Ze)}g.display.selForContextMenu=null}function qp(g,b,A,T,N){var G;T||(T=A),Tr(T,A)<0&&(G=[T,A],A=G[0],T=G[1]),typeof b=="string"&&(b=g.splitLines(b)),Wp(g,{from:A,to:T,text:b,origin:N})}function _P(g,b,A,T){A<g.line?g.line+=T:b<g.line&&(g.line=b,g.ch=0)}function LP(g,b,A,T){for(var N=0;N<g.length;++N){var G=g[N],j=!0;if(G.ranges){G.copied||(G=g[N]=G.deepCopy(),G.copied=!0);for(var re=0;re<G.ranges.length;re++)_P(G.ranges[re].anchor,b,A,T),_P(G.ranges[re].head,b,A,T);continue}for(var ue=0;ue<G.changes.length;++ue){var ve=G.changes[ue];if(A<ve.from.line)ve.from=yt(ve.from.line+T,ve.from.ch),ve.to=yt(ve.to.line+T,ve.to.ch);else if(b<=ve.to.line){j=!1;break}}j||(g.splice(0,N+1),N=0)}}function DP(g,b){var A=b.from.line,T=b.to.line,N=b.text.length-(T-A)-1;LP(g.done,A,T,N),LP(g.undone,A,T,N)}function Vv(g,b,A,T){var N=b,G=b;return typeof b=="number"?G=lt(g,Np(g,b)):N=Ce(b),N==null?null:(T(G,N)&&g.cm&&Fh(g.cm,N,A),G)}function Uv(g){this.lines=g,this.parent=null;for(var b=0,A=0;A<g.length;++A)g[A].parent=this,b+=g[A].height;this.height=b}Uv.prototype={chunkSize:function(){return this.lines.length},removeInner:function(g,b){for(var A=g,T=g+b;A<T;++A){var N=this.lines[A];this.height-=N.height,Gfe(N),Wi(N,"delete")}this.lines.splice(g,b)},collapse:function(g){g.push.apply(g,this.lines)},insertInner:function(g,b,A){this.height+=A,this.lines=this.lines.slice(0,g).concat(b).concat(this.lines.slice(g));for(var T=0;T<b.length;++T)b[T].parent=this},iterN:function(g,b,A){for(var T=g+b;g<T;++g)if(A(this.lines[g]))return!0}};function Gv(g){this.children=g;for(var b=0,A=0,T=0;T<g.length;++T){var N=g[T];b+=N.chunkSize(),A+=N.height,N.parent=this}this.size=b,this.height=A,this.parent=null}Gv.prototype={chunkSize:function(){return this.size},removeInner:function(g,b){this.size-=b;for(var A=0;A<this.children.length;++A){var T=this.children[A],N=T.chunkSize();if(g<N){var G=Math.min(b,N-g),j=T.height;if(T.removeInner(g,G),this.height-=j-T.height,N==G&&(this.children.splice(A--,1),T.parent=null),(b-=G)==0)break;g=0}else g-=N}if(this.size-b<25&&(this.children.length>1||!(this.children[0]instanceof Uv))){var re=[];this.collapse(re),this.children=[new Uv(re)],this.children[0].parent=this}},collapse:function(g){for(var b=0;b<this.children.length;++b)this.children[b].collapse(g)},insertInner:function(g,b,A){this.size+=b.length,this.height+=A;for(var T=0;T<this.children.length;++T){var N=this.children[T],G=N.chunkSize();if(g<=G){if(N.insertInner(g,b,A),N.lines&&N.lines.length>50){for(var j=N.lines.length%25+25,re=j;re<N.lines.length;){var ue=new Uv(N.lines.slice(re,re+=25));N.height-=ue.height,this.children.splice(++T,0,ue),ue.parent=this}N.lines=N.lines.slice(0,j),this.maybeSpill()}break}g-=G}},maybeSpill:function(){if(!(this.children.length<=10)){var g=this;do{var b=g.children.splice(g.children.length-5,5),A=new Gv(b);if(g.parent){g.size-=A.size,g.height-=A.height;var N=oe(g.parent.children,g);g.parent.children.splice(N+1,0,A)}else{var T=new Gv(g.children);T.parent=g,g.children=[T,A],g=T}A.parent=g.parent}while(g.children.length>10);g.parent.maybeSpill()}},iterN:function(g,b,A){for(var T=0;T<this.children.length;++T){var N=this.children[T],G=N.chunkSize();if(g<G){var j=Math.min(b,G-g);if(N.iterN(g,j,A))return!0;if((b-=j)==0)break;g=0}else g-=G}}};var Wv=function(g,b,A){if(A)for(var T in A)A.hasOwnProperty(T)&&(this[T]=A[T]);this.doc=g,this.node=b};Wv.prototype.clear=function(){var g=this.doc.cm,b=this.line.widgets,A=this.line,T=Ce(A);if(!(T==null||!b)){for(var N=0;N<b.length;++N)b[N]==this&&b.splice(N--,1);b.length||(A.widgets=null);var G=Rv(this);Kt(A,Math.max(0,A.height-G)),g&&(Zs(g,function(){RP(g,A,-G),Fh(g,T,"widget")}),Wi(g,"lineWidgetCleared",g,this,T))}},Wv.prototype.changed=function(){var g=this,b=this.height,A=this.doc.cm,T=this.line;this.height=null;var N=Rv(this)-b;N&&(Ph(this.doc,T)||Kt(T,T.height+N),A&&Zs(A,function(){A.curOp.forceUpdate=!0,RP(A,T,N),Wi(A,"lineWidgetChanged",A,g,Ce(T))}))},ot(Wv);function RP(g,b,A){wc(b)<(g.curOp&&g.curOp.scrollTop||g.doc.scrollTop)&&PC(g,A)}function Gde(g,b,A,T){var N=new Wv(g,A,T),G=g.cm;return G&&N.noHScroll&&(G.display.alignWidgets=!0),Vv(g,b,"widget",function(j){var re=j.widgets||(j.widgets=[]);if(N.insertAt==null?re.push(N):re.splice(Math.min(re.length,Math.max(0,N.insertAt)),0,N),N.line=j,G&&!Ph(g,j)){var ue=wc(j)<g.scrollTop;Kt(j,j.height+Rv(N)),ue&&PC(G,N.height),G.curOp.forceUpdate=!0}return!0}),G&&Wi(G,"lineWidgetAdded",G,N,typeof b=="number"?b:Ce(b)),N}var MP=0,Vh=function(g,b){this.lines=[],this.type=b,this.doc=g,this.id=++MP};Vh.prototype.clear=function(){if(!this.explicitlyCleared){var g=this.doc.cm,b=g&&!g.curOp;if(b&&Dd(g),Pt(this,"clear")){var A=this.find();A&&Wi(this,"clear",A.from,A.to)}for(var T=null,N=null,G=0;G<this.lines.length;++G){var j=this.lines[G],re=_v(j.markedSpans,this);g&&!this.collapsed?Fh(g,Ce(j),"text"):g&&(re.to!=null&&(N=Ce(j)),re.from!=null&&(T=Ce(j))),j.markedSpans=Ofe(j.markedSpans,re),re.from==null&&this.collapsed&&!Ph(this.doc,j)&&g&&Kt(j,Bp(g.display))}if(g&&this.collapsed&&!g.options.lineWrapping)for(var ue=0;ue<this.lines.length;++ue){var ve=Bl(this.lines[ue]),Re=u4(ve);Re>g.display.maxLineLength&&(g.display.maxLine=ve,g.display.maxLineLength=Re,g.display.maxLineChanged=!0)}T!=null&&g&&this.collapsed&&Ts(g,T,N+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,g&&wP(g.doc)),g&&Wi(g,"markerCleared",g,this,T,N),b&&Rd(g),this.parent&&this.parent.clear()}},Vh.prototype.find=function(g,b){g==null&&this.type=="bookmark"&&(g=1);for(var A,T,N=0;N<this.lines.length;++N){var G=this.lines[N],j=_v(G.markedSpans,this);if(j.from!=null&&(A=yt(b?G:Ce(G),j.from),g==-1))return A;if(j.to!=null&&(T=yt(b?G:Ce(G),j.to),g==1))return T}return A&&{from:A,to:T}},Vh.prototype.changed=function(){var g=this,b=this.find(-1,!0),A=this,T=this.doc.cm;!b||!T||Zs(T,function(){var N=b.line,G=Ce(b.line),j=kC(T,G);if(j&&(BO(j),T.curOp.selectionChanged=T.curOp.forceUpdate=!0),T.curOp.updateMaxLine=!0,!Ph(A.doc,N)&&A.height!=null){var re=A.height;A.height=null;var ue=Rv(A)-re;ue&&Kt(N,N.height+ue)}Wi(T,"markerChanged",T,g)})},Vh.prototype.attachLine=function(g){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(!b.maybeHiddenMarkers||oe(b.maybeHiddenMarkers,this)==-1)&&(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(g)},Vh.prototype.detachLine=function(g){if(this.lines.splice(oe(this.lines,g),1),!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this)}},ot(Vh);function Yp(g,b,A,T,N){if(T&&T.shared)return Wde(g,b,A,T,N);if(g.cm&&!g.cm.curOp)return qi(g.cm,Yp)(g,b,A,T,N);var G=new Vh(g,N),j=Tr(b,A);if(T&&ye(T,G,!1),j>0||j==0&&G.clearWhenEmpty!==!1)return G;if(G.replacedWith&&(G.collapsed=!0,G.widgetNode=P("span",[G.replacedWith],"CodeMirror-widget"),T.handleMouseEvents||G.widgetNode.setAttribute("cm-ignore-events","true"),T.insertLeft&&(G.widgetNode.insertLeft=!0)),G.collapsed){if(SO(g,b.line,b,A,G)||b.line!=A.line&&SO(g,A.line,b,A,G))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ife()}G.addToHistory&&pP(g,{from:b,to:A,origin:"markText"},g.sel,NaN);var re=b.line,ue=g.cm,ve;if(g.iter(re,A.line+1,function(Fe){ue&&G.collapsed&&!ue.options.lineWrapping&&Bl(Fe)==ue.display.maxLine&&(ve=!0),G.collapsed&&re!=b.line&&Kt(Fe,0),Pfe(Fe,new a4(G,re==b.line?b.ch:null,re==A.line?A.ch:null),g.cm&&g.cm.curOp),++re}),G.collapsed&&g.iter(b.line,A.line+1,function(Fe){Ph(g,Fe)&&Kt(Fe,0)}),G.clearOnEnter&&Me(G,"beforeCursorEnter",function(){return G.clear()}),G.readOnly&&(Nfe(),(g.history.done.length||g.history.undone.length)&&g.clearHistory()),G.collapsed&&(G.id=++MP,G.atomic=!0),ue){if(ve&&(ue.curOp.updateMaxLine=!0),G.collapsed)Ts(ue,b.line,A.line+1);else if(G.className||G.startStyle||G.endStyle||G.css||G.attributes||G.title)for(var Re=b.line;Re<=A.line;Re++)Fh(ue,Re,"text");G.atomic&&wP(ue.doc),Wi(ue,"markerAdded",ue,G)}return G}var qv=function(g,b){this.markers=g,this.primary=b;for(var A=0;A<g.length;++A)g[A].parent=this};qv.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var g=0;g<this.markers.length;++g)this.markers[g].clear();Wi(this,"clear")}},qv.prototype.find=function(g,b){return this.primary.find(g,b)},ot(qv);function Wde(g,b,A,T,N){T=ye(T),T.shared=!1;var G=[Yp(g,b,A,T,N)],j=G[0],re=T.widgetNode;return Hh(g,function(ue){re&&(T.widgetNode=re.cloneNode(!0)),G.push(Yp(ue,Sr(ue,b),Sr(ue,A),T,N));for(var ve=0;ve<ue.linked.length;++ve)if(ue.linked[ve].isParent)return;j=De(G)}),new qv(G,j)}function NP(g){return g.findMarks(yt(g.first,0),g.clipPos(yt(g.lastLine())),function(b){return b.parent})}function qde(g,b){for(var A=0;A<b.length;A++){var T=b[A],N=T.find(),G=g.clipPos(N.from),j=g.clipPos(N.to);if(Tr(G,j)){var re=Yp(g,G,j,T.primary,T.primary.type);T.markers.push(re),re.parent=T}}}function Yde(g){for(var b=function(T){var N=g[T],G=[N.primary.doc];Hh(N.primary.doc,function(ue){return G.push(ue)});for(var j=0;j<N.markers.length;j++){var re=N.markers[j];oe(G,re.doc)==-1&&(re.parent=null,N.markers.splice(j--,1))}},A=0;A<g.length;A++)b(A)}var Xde=0,Cs=function(g,b,A,T,N){if(!(this instanceof Cs))return new Cs(g,b,A,T,N);A==null&&(A=0),Gv.call(this,[new Uv([new Op("",null)])]),this.first=A,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=A;var G=yt(A,0);this.sel=$h(G),this.history=new w4(null),this.id=++Xde,this.modeOption=b,this.lineSep=T,this.direction=N=="rtl"?"rtl":"ltr",this.extend=!1,typeof g=="string"&&(g=this.splitLines(g)),GC(this,{from:G,to:G,text:g}),La(this,$h(G),be)};Cs.prototype=we(Gv.prototype,{constructor:Cs,iter:function(g,b,A){A?this.iterN(g-this.first,b-g,A):this.iterN(this.first,this.first+this.size,g)},insert:function(g,b){for(var A=0,T=0;T<b.length;++T)A+=b[T].height;this.insertInner(g-this.first,b,A)},remove:function(g,b){this.removeInner(g-this.first,b)},getValue:function(g){var b=Tt(this,this.first,this.first+this.size);return g===!1?b:b.join(g||this.lineSeparator())},setValue:Yi(function(g){var b=yt(this.first,0),A=this.first+this.size-1;Wp(this,{from:b,to:yt(A,lt(this,A).text.length),text:this.splitLines(g),origin:"setValue",full:!0},!0),this.cm&&Iv(this.cm,0,0),La(this,$h(b),be)}),replaceRange:function(g,b,A,T){b=Sr(this,b),A=A?Sr(this,A):b,qp(this,g,b,A,T)},getRange:function(g,b,A){var T=tr(this,Sr(this,g),Sr(this,b));return A===!1?T:A===""?T.join(""):T.join(A||this.lineSeparator())},getLine:function(g){var b=this.getLineHandle(g);return b&&b.text},getLineHandle:function(g){if(Be(this,g))return lt(this,g)},getLineNumber:function(g){return Ce(g)},getLineHandleVisualStart:function(g){return typeof g=="number"&&(g=lt(this,g)),Bl(g)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(g){return Sr(this,g)},getCursor:function(g){var b=this.sel.primary(),A;return g==null||g=="head"?A=b.head:g=="anchor"?A=b.anchor:g=="end"||g=="to"||g===!1?A=b.to():A=b.from(),A},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Yi(function(g,b,A){yP(this,Sr(this,typeof g=="number"?yt(g,b||0):g),null,A)}),setSelection:Yi(function(g,b,A){yP(this,Sr(this,g),Sr(this,b||g),A)}),extendSelection:Yi(function(g,b,A){k4(this,Sr(this,g),b&&Sr(this,b),A)}),extendSelections:Yi(function(g,b){vP(this,i4(this,g),b)}),extendSelectionsBy:Yi(function(g,b){var A=We(this.sel.ranges,g);vP(this,i4(this,A),b)}),setSelections:Yi(function(g,b,A){if(g.length){for(var T=[],N=0;N<g.length;N++)T[N]=new rn(Sr(this,g[N].anchor),Sr(this,g[N].head||g[N].anchor));b==null&&(b=Math.min(g.length-1,this.sel.primIndex)),La(this,zl(this.cm,T,b),A)}}),addSelection:Yi(function(g,b,A){var T=this.sel.ranges.slice(0);T.push(new rn(Sr(this,g),Sr(this,b||g))),La(this,zl(this.cm,T,T.length-1),A)}),getSelection:function(g){for(var b=this.sel.ranges,A,T=0;T<b.length;T++){var N=tr(this,b[T].from(),b[T].to());A=A?A.concat(N):N}return g===!1?A:A.join(g||this.lineSeparator())},getSelections:function(g){for(var b=[],A=this.sel.ranges,T=0;T<A.length;T++){var N=tr(this,A[T].from(),A[T].to());g!==!1&&(N=N.join(g||this.lineSeparator())),b[T]=N}return b},replaceSelection:function(g,b,A){for(var T=[],N=0;N<this.sel.ranges.length;N++)T[N]=g;this.replaceSelections(T,b,A||"+input")},replaceSelections:Yi(function(g,b,A){for(var T=[],N=this.sel,G=0;G<N.ranges.length;G++){var j=N.ranges[G];T[G]={from:j.from(),to:j.to(),text:this.splitLines(g[G]),origin:A}}for(var re=b&&b!="end"&&Ode(this,T,b),ue=T.length-1;ue>=0;ue--)Wp(this,T[ue]);re?xP(this,re):this.cm&&Hp(this.cm)}),undo:Yi(function(){C4(this,"undo")}),redo:Yi(function(){C4(this,"redo")}),undoSelection:Yi(function(){C4(this,"undo",!0)}),redoSelection:Yi(function(){C4(this,"redo",!0)}),setExtending:function(g){this.extend=g},getExtending:function(){return this.extend},historySize:function(){for(var g=this.history,b=0,A=0,T=0;T<g.done.length;T++)g.done[T].ranges||++b;for(var N=0;N<g.undone.length;N++)g.undone[N].ranges||++A;return{undo:b,redo:A}},clearHistory:function(){var g=this;this.history=new w4(this.history),Hh(this,function(b){return b.history=g.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(g){return g&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(g){return this.history.generation==(g||this.cleanGeneration)},getHistory:function(){return{done:Up(this.history.done),undone:Up(this.history.undone)}},setHistory:function(g){var b=this.history=new w4(this.history);b.done=Up(g.done.slice(0),null,!0),b.undone=Up(g.undone.slice(0),null,!0)},setGutterMarker:Yi(function(g,b,A){return Vv(this,g,"gutter",function(T){var N=T.gutterMarkers||(T.gutterMarkers={});return N[b]=A,!A&&ee(N)&&(T.gutterMarkers=null),!0})}),clearGutter:Yi(function(g){var b=this;this.iter(function(A){A.gutterMarkers&&A.gutterMarkers[g]&&Vv(b,A,"gutter",function(){return A.gutterMarkers[g]=null,ee(A.gutterMarkers)&&(A.gutterMarkers=null),!0})})}),lineInfo:function(g){var b;if(typeof g=="number"){if(!Be(this,g)||(b=g,g=lt(this,g),!g))return null}else if(b=Ce(g),b==null)return null;return{line:b,handle:g,text:g.text,gutterMarkers:g.gutterMarkers,textClass:g.textClass,bgClass:g.bgClass,wrapClass:g.wrapClass,widgets:g.widgets}},addLineClass:Yi(function(g,b,A){return Vv(this,g,b=="gutter"?"gutter":"class",function(T){var N=b=="text"?"textClass":b=="background"?"bgClass":b=="gutter"?"gutterClass":"wrapClass";if(!T[N])T[N]=A;else{if(M(A).test(T[N]))return!1;T[N]+=" "+A}return!0})}),removeLineClass:Yi(function(g,b,A){return Vv(this,g,b=="gutter"?"gutter":"class",function(T){var N=b=="text"?"textClass":b=="background"?"bgClass":b=="gutter"?"gutterClass":"wrapClass",G=T[N];if(G)if(A==null)T[N]=null;else{var j=G.match(M(A));if(!j)return!1;var re=j.index+j[0].length;T[N]=G.slice(0,j.index)+(!j.index||re==G.length?"":" ")+G.slice(re)||null}else return!1;return!0})}),addLineWidget:Yi(function(g,b,A){return Gde(this,g,b,A)}),removeLineWidget:function(g){g.clear()},markText:function(g,b,A){return Yp(this,Sr(this,g),Sr(this,b),A,A&&A.type||"range")},setBookmark:function(g,b){var A={replacedWith:b&&(b.nodeType==null?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared,handleMouseEvents:b&&b.handleMouseEvents};return g=Sr(this,g),Yp(this,g,g,A,"bookmark")},findMarksAt:function(g){g=Sr(this,g);var b=[],A=lt(this,g.line).markedSpans;if(A)for(var T=0;T<A.length;++T){var N=A[T];(N.from==null||N.from<=g.ch)&&(N.to==null||N.to>=g.ch)&&b.push(N.marker.parent||N.marker)}return b},findMarks:function(g,b,A){g=Sr(this,g),b=Sr(this,b);var T=[],N=g.line;return this.iter(g.line,b.line+1,function(G){var j=G.markedSpans;if(j)for(var re=0;re<j.length;re++){var ue=j[re];!(ue.to!=null&&N==g.line&&g.ch>=ue.to||ue.from==null&&N!=g.line||ue.from!=null&&N==b.line&&ue.from>=b.ch)&&(!A||A(ue.marker))&&T.push(ue.marker.parent||ue.marker)}++N}),T},getAllMarks:function(){var g=[];return this.iter(function(b){var A=b.markedSpans;if(A)for(var T=0;T<A.length;++T)A[T].from!=null&&g.push(A[T].marker)}),g},posFromIndex:function(g){var b,A=this.first,T=this.lineSeparator().length;return this.iter(function(N){var G=N.text.length+T;if(G>g)return b=g,!0;g-=G,++A}),Sr(this,yt(A,b))},indexFromPos:function(g){g=Sr(this,g);var b=g.ch;if(g.line<this.first||g.ch<0)return 0;var A=this.lineSeparator().length;return this.iter(this.first,g.line,function(T){b+=T.text.length+A}),b},copy:function(g){var b=new Cs(Tt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return b.scrollTop=this.scrollTop,b.scrollLeft=this.scrollLeft,b.sel=this.sel,b.extend=!1,g&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory())),b},linkedDoc:function(g){g||(g={});var b=this.first,A=this.first+this.size;g.from!=null&&g.from>b&&(b=g.from),g.to!=null&&g.to<A&&(A=g.to);var T=new Cs(Tt(this,b,A),g.mode||this.modeOption,b,this.lineSep,this.direction);return g.sharedHist&&(T.history=this.history),(this.linked||(this.linked=[])).push({doc:T,sharedHist:g.sharedHist}),T.linked=[{doc:this,isParent:!0,sharedHist:g.sharedHist}],qde(T,NP(this)),T},unlinkDoc:function(g){if(g instanceof Wn&&(g=g.doc),this.linked)for(var b=0;b<this.linked.length;++b){var A=this.linked[b];if(A.doc==g){this.linked.splice(b,1),g.unlinkDoc(this),Yde(NP(this));break}}if(g.history==this.history){var T=[g.id];Hh(g,function(N){return T.push(N.id)},!0),g.history=new w4(null),g.history.done=Up(this.history.done,T),g.history.undone=Up(this.history.undone,T)}},iterLinkedDocs:function(g){Hh(this,g)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(g){return this.lineSep?g.split(this.lineSep):Wr(g)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Yi(function(g){g!="rtl"&&(g="ltr"),g!=this.direction&&(this.direction=g,this.iter(function(b){return b.order=null}),this.cm&&Pde(this.cm))})}),Cs.prototype.eachLine=Cs.prototype.iter;var IP=0;function jde(g){var b=this;if(OP(b),!(gt(b,g)||Sc(b.display,g))){at(g),l&&(IP=+new Date);var A=Cd(b,g,!0),T=g.dataTransfer.files;if(!(!A||b.isReadOnly()))if(T&&T.length&&window.FileReader&&window.File)for(var N=T.length,G=Array(N),j=0,re=function(){++j==N&&qi(b,function(){A=Sr(b.doc,A);var Ke={from:A,to:A,text:b.doc.splitLines(G.filter(function(st){return st!=null}).join(b.doc.lineSeparator())),origin:"paste"};Wp(b.doc,Ke),xP(b.doc,$h(Sr(b.doc,A),Sr(b.doc,zh(Ke))))})()},ue=function(Ke,st){if(b.options.allowDropFileTypes&&oe(b.options.allowDropFileTypes,Ke.type)==-1){re();return}var ht=new FileReader;ht.onerror=function(){return re()},ht.onload=function(){var Ct=ht.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Ct)){re();return}G[st]=Ct,re()},ht.readAsText(Ke)},ve=0;ve<T.length;ve++)ue(T[ve],ve);else{if(b.state.draggingText&&b.doc.sel.contains(A)>-1){b.state.draggingText(g),setTimeout(function(){return b.display.input.focus()},20);return}try{var Re=g.dataTransfer.getData("Text");if(Re){var Fe;if(b.state.draggingText&&!b.state.draggingText.copy&&(Fe=b.listSelections()),E4(b.doc,$h(A,A)),Fe)for(var Ze=0;Ze<Fe.length;++Ze)qp(b.doc,"",Fe[Ze].anchor,Fe[Ze].head,"drag");b.replaceSelection(Re,"around","paste"),b.display.input.focus()}}catch{}}}}function Kde(g,b){if(l&&(!g.state.draggingText||+new Date-IP<100)){ft(b);return}if(!(gt(g,b)||Sc(g.display,b))&&(b.dataTransfer.setData("Text",g.getSelection()),b.dataTransfer.effectAllowed="copyMove",b.dataTransfer.setDragImage&&!v)){var A=O("img",null,null,"position: fixed; left: 0; top: 0;");A.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",m&&(A.width=A.height=1,g.display.wrapper.appendChild(A),A._top=A.offsetTop),b.dataTransfer.setDragImage(A,0,0),m&&A.parentNode.removeChild(A)}}function Qde(g,b){var A=Cd(g,b);if(A){var T=document.createDocumentFragment();RC(g,A,T),g.display.dragCursor||(g.display.dragCursor=O("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),g.display.lineSpace.insertBefore(g.display.dragCursor,g.display.cursorDiv)),R(g.display.dragCursor,T)}}function OP(g){g.display.dragCursor&&(g.display.lineSpace.removeChild(g.display.dragCursor),g.display.dragCursor=null)}function PP(g){if(document.getElementsByClassName){for(var b=document.getElementsByClassName("CodeMirror"),A=[],T=0;T<b.length;T++){var N=b[T].CodeMirror;N&&A.push(N)}A.length&&A[0].operation(function(){for(var G=0;G<A.length;G++)g(A[G])})}}var FP=!1;function Zde(){FP||(Jde(),FP=!0)}function Jde(){var g;Me(window,"resize",function(){g==null&&(g=setTimeout(function(){g=null,PP(e0e)},100))}),Me(window,"blur",function(){return PP(zp)})}function e0e(g){var b=g.display;b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.scrollbarsClipped=!1,g.setSize()}for(var Uh={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Yv=0;Yv<10;Yv++)Uh[Yv+48]=Uh[Yv+96]=String(Yv);for(var A4=65;A4<=90;A4++)Uh[A4]=String.fromCharCode(A4);for(var Xv=1;Xv<=12;Xv++)Uh[Xv+111]=Uh[Xv+63235]="F"+Xv;var Ec={};Ec.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ec.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ec.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ec.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ec.default=C?Ec.macDefault:Ec.pcDefault;function t0e(g){var b=g.split(/-(?!$)/);g=b[b.length-1];for(var A,T,N,G,j=0;j<b.length-1;j++){var re=b[j];if(/^(cmd|meta|m)$/i.test(re))G=!0;else if(/^a(lt)?$/i.test(re))A=!0;else if(/^(c|ctrl|control)$/i.test(re))T=!0;else if(/^s(hift)?$/i.test(re))N=!0;else throw new Error("Unrecognized modifier name: "+re)}return A&&(g="Alt-"+g),T&&(g="Ctrl-"+g),G&&(g="Cmd-"+g),N&&(g="Shift-"+g),g}function r0e(g){var b={};for(var A in g)if(g.hasOwnProperty(A)){var T=g[A];if(/^(name|fallthrough|(de|at)tach)$/.test(A))continue;if(T=="..."){delete g[A];continue}for(var N=We(A.split(" "),t0e),G=0;G<N.length;G++){var j=void 0,re=void 0;G==N.length-1?(re=N.join(" "),j=T):(re=N.slice(0,G+1).join(" "),j="...");var ue=b[re];if(!ue)b[re]=j;else if(ue!=j)throw new Error("Inconsistent bindings for "+re)}delete g[A]}for(var ve in b)g[ve]=b[ve];return g}function Xp(g,b,A,T){b=_4(b);var N=b.call?b.call(g,T):b[g];if(N===!1)return"nothing";if(N==="...")return"multi";if(N!=null&&A(N))return"handled";if(b.fallthrough){if(Object.prototype.toString.call(b.fallthrough)!="[object Array]")return Xp(g,b.fallthrough,A,T);for(var G=0;G<b.fallthrough.length;G++){var j=Xp(g,b.fallthrough[G],A,T);if(j)return j}}}function BP(g){var b=typeof g=="string"?g:Uh[g.keyCode];return b=="Ctrl"||b=="Alt"||b=="Shift"||b=="Mod"}function $P(g,b,A){var T=g;return b.altKey&&T!="Alt"&&(g="Alt-"+g),(D?b.metaKey:b.ctrlKey)&&T!="Ctrl"&&(g="Ctrl-"+g),(D?b.ctrlKey:b.metaKey)&&T!="Mod"&&(g="Cmd-"+g),!A&&b.shiftKey&&T!="Shift"&&(g="Shift-"+g),g}function zP(g,b){if(m&&g.keyCode==34&&g.char)return!1;var A=Uh[g.keyCode];return A==null||g.altGraphKey?!1:(g.keyCode==3&&g.code&&(A=g.code),$P(A,g,b))}function _4(g){return typeof g=="string"?Ec[g]:g}function jp(g,b){for(var A=g.doc.sel.ranges,T=[],N=0;N<A.length;N++){for(var G=b(A[N]);T.length&&Tr(G.from,De(T).to)<=0;){var j=T.pop();if(Tr(j.from,G.from)<0){G.from=j.from;break}}T.push(G)}Zs(g,function(){for(var re=T.length-1;re>=0;re--)qp(g.doc,"",T[re].from,T[re].to,"+delete");Hp(g)})}function XC(g,b,A){var T=K(g.text,b+A,A);return T<0||T>g.text.length?null:T}function jC(g,b,A){var T=XC(g,b.ch,A);return T==null?null:new yt(b.line,T,A<0?"after":"before")}function KC(g,b,A,T,N){if(g){b.doc.direction=="rtl"&&(N=-N);var G=Oe(A,b.doc.direction);if(G){var j=N<0?De(G):G[0],re=N<0==(j.level==1),ue=re?"after":"before",ve;if(j.level>0||b.doc.direction=="rtl"){var Re=Fp(b,A);ve=N<0?A.text.length-1:0;var Fe=Au(b,Re,ve).top;ve=_e(function(Ze){return Au(b,Re,Ze).top==Fe},N<0==(j.level==1)?j.from:j.to-1,ve),ue=="before"&&(ve=XC(A,ve,1))}else ve=N<0?j.to:j.from;return new yt(T,ve,ue)}}return new yt(T,N<0?A.text.length:0,N<0?"before":"after")}function n0e(g,b,A,T){var N=Oe(b,g.doc.direction);if(!N)return jC(b,A,T);A.ch>=b.text.length?(A.ch=b.text.length,A.sticky="before"):A.ch<=0&&(A.ch=0,A.sticky="after");var G=Ne(N,A.ch,A.sticky),j=N[G];if(g.doc.direction=="ltr"&&j.level%2==0&&(T>0?j.to>A.ch:j.from<A.ch))return jC(b,A,T);var re=function(Mt,Bt){return XC(b,Mt instanceof yt?Mt.ch:Mt,Bt)},ue,ve=function(Mt){return g.options.lineWrapping?(ue=ue||Fp(g,b),WO(g,b,ue,Mt)):{begin:0,end:b.text.length}},Re=ve(A.sticky=="before"?re(A,-1):A.ch);if(g.doc.direction=="rtl"||j.level==1){var Fe=j.level==1==T<0,Ze=re(A,Fe?1:-1);if(Ze!=null&&(Fe?Ze<=j.to&&Ze<=Re.end:Ze>=j.from&&Ze>=Re.begin)){var Ke=Fe?"before":"after";return new yt(A.line,Ze,Ke)}}var st=function(Mt,Bt,Nt){for(var Wt=function(An,Xi){return Xi?new yt(A.line,re(An,1),"before"):new yt(A.line,An,"after")};Mt>=0&&Mt<N.length;Mt+=Bt){var cr=N[Mt],ir=Bt>0==(cr.level!=1),Pr=ir?Nt.begin:re(Nt.end,-1);if(cr.from<=Pr&&Pr<cr.to||(Pr=ir?cr.from:re(cr.to,-1),Nt.begin<=Pr&&Pr<Nt.end))return Wt(Pr,ir)}},ht=st(G+T,T,Re);if(ht)return ht;var Ct=T>0?Re.end:re(Re.begin,-1);return Ct!=null&&!(T>0&&Ct==b.text.length)&&(ht=st(T>0?0:N.length-1,T,ve(Ct)),ht)?ht:null}var jv={selectAll:EP,singleSelection:function(g){return g.setSelection(g.getCursor("anchor"),g.getCursor("head"),be)},killLine:function(g){return jp(g,function(b){if(b.empty()){var A=lt(g.doc,b.head.line).text.length;return b.head.ch==A&&b.head.line<g.lastLine()?{from:b.head,to:yt(b.head.line+1,0)}:{from:b.head,to:yt(b.head.line,A)}}else return{from:b.from(),to:b.to()}})},deleteLine:function(g){return jp(g,function(b){return{from:yt(b.from().line,0),to:Sr(g.doc,yt(b.to().line+1,0))}})},delLineLeft:function(g){return jp(g,function(b){return{from:yt(b.from().line,0),to:b.from()}})},delWrappedLineLeft:function(g){return jp(g,function(b){var A=g.charCoords(b.head,"div").top+5,T=g.coordsChar({left:0,top:A},"div");return{from:T,to:b.from()}})},delWrappedLineRight:function(g){return jp(g,function(b){var A=g.charCoords(b.head,"div").top+5,T=g.coordsChar({left:g.display.lineDiv.offsetWidth+100,top:A},"div");return{from:b.from(),to:T}})},undo:function(g){return g.undo()},redo:function(g){return g.redo()},undoSelection:function(g){return g.undoSelection()},redoSelection:function(g){return g.redoSelection()},goDocStart:function(g){return g.extendSelection(yt(g.firstLine(),0))},goDocEnd:function(g){return g.extendSelection(yt(g.lastLine()))},goLineStart:function(g){return g.extendSelectionsBy(function(b){return HP(g,b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(g){return g.extendSelectionsBy(function(b){return VP(g,b.head)},{origin:"+move",bias:1})},goLineEnd:function(g){return g.extendSelectionsBy(function(b){return i0e(g,b.head.line)},{origin:"+move",bias:-1})},goLineRight:function(g){return g.extendSelectionsBy(function(b){var A=g.cursorCoords(b.head,"div").top+5;return g.coordsChar({left:g.display.lineDiv.offsetWidth+100,top:A},"div")},Ge)},goLineLeft:function(g){return g.extendSelectionsBy(function(b){var A=g.cursorCoords(b.head,"div").top+5;return g.coordsChar({left:0,top:A},"div")},Ge)},goLineLeftSmart:function(g){return g.extendSelectionsBy(function(b){var A=g.cursorCoords(b.head,"div").top+5,T=g.coordsChar({left:0,top:A},"div");return T.ch<g.getLine(T.line).search(/\S/)?VP(g,b.head):T},Ge)},goLineUp:function(g){return g.moveV(-1,"line")},goLineDown:function(g){return g.moveV(1,"line")},goPageUp:function(g){return g.moveV(-1,"page")},goPageDown:function(g){return g.moveV(1,"page")},goCharLeft:function(g){return g.moveH(-1,"char")},goCharRight:function(g){return g.moveH(1,"char")},goColumnLeft:function(g){return g.moveH(-1,"column")},goColumnRight:function(g){return g.moveH(1,"column")},goWordLeft:function(g){return g.moveH(-1,"word")},goGroupRight:function(g){return g.moveH(1,"group")},goGroupLeft:function(g){return g.moveH(-1,"group")},goWordRight:function(g){return g.moveH(1,"word")},delCharBefore:function(g){return g.deleteH(-1,"codepoint")},delCharAfter:function(g){return g.deleteH(1,"char")},delWordBefore:function(g){return g.deleteH(-1,"word")},delWordAfter:function(g){return g.deleteH(1,"word")},delGroupBefore:function(g){return g.deleteH(-1,"group")},delGroupAfter:function(g){return g.deleteH(1,"group")},indentAuto:function(g){return g.indentSelection("smart")},indentMore:function(g){return g.indentSelection("add")},indentLess:function(g){return g.indentSelection("subtract")},insertTab:function(g){return g.replaceSelection("	")},insertSoftTab:function(g){for(var b=[],A=g.listSelections(),T=g.options.tabSize,N=0;N<A.length;N++){var G=A[N].from(),j=J(g.getLine(G.line),G.ch,T);b.push(ke(T-j%T))}g.replaceSelections(b)},defaultTab:function(g){g.somethingSelected()?g.indentSelection("add"):g.execCommand("insertTab")},transposeChars:function(g){return Zs(g,function(){for(var b=g.listSelections(),A=[],T=0;T<b.length;T++)if(b[T].empty()){var N=b[T].head,G=lt(g.doc,N.line).text;if(G){if(N.ch==G.length&&(N=new yt(N.line,N.ch-1)),N.ch>0)N=new yt(N.line,N.ch+1),g.replaceRange(G.charAt(N.ch-1)+G.charAt(N.ch-2),yt(N.line,N.ch-2),N,"+transpose");else if(N.line>g.doc.first){var j=lt(g.doc,N.line-1).text;j&&(N=new yt(N.line,1),g.replaceRange(G.charAt(0)+g.doc.lineSeparator()+j.charAt(j.length-1),yt(N.line-1,j.length-1),N,"+transpose"))}}A.push(new rn(N,N))}g.setSelections(A)})},newlineAndIndent:function(g){return Zs(g,function(){for(var b=g.listSelections(),A=b.length-1;A>=0;A--)g.replaceRange(g.doc.lineSeparator(),b[A].anchor,b[A].head,"+input");b=g.listSelections();for(var T=0;T<b.length;T++)g.indentLine(b[T].from().line,null,!0);Hp(g)})},openLine:function(g){return g.replaceSelection(`
`,"start")},toggleOverwrite:function(g){return g.toggleOverwrite()}};function HP(g,b){var A=lt(g.doc,b),T=Bl(A);return T!=A&&(b=Ce(T)),KC(!0,g,T,b,1)}function i0e(g,b){var A=lt(g.doc,b),T=Hfe(A);return T!=A&&(b=Ce(T)),KC(!0,g,A,b,-1)}function VP(g,b){var A=HP(g,b.line),T=lt(g.doc,A.line),N=Oe(T,g.doc.direction);if(!N||N[0].level==0){var G=Math.max(A.ch,T.text.search(/\S/)),j=b.line==A.line&&b.ch<=G&&b.ch;return yt(A.line,j?0:G,A.sticky)}return A}function L4(g,b,A){if(typeof b=="string"&&(b=jv[b],!b))return!1;g.display.input.ensurePolled();var T=g.display.shift,N=!1;try{g.isReadOnly()&&(g.state.suppressEdits=!0),A&&(g.display.shift=!1),N=b(g)!=me}finally{g.display.shift=T,g.state.suppressEdits=!1}return N}function a0e(g,b,A){for(var T=0;T<g.state.keyMaps.length;T++){var N=Xp(b,g.state.keyMaps[T],A,g);if(N)return N}return g.options.extraKeys&&Xp(b,g.options.extraKeys,A,g)||Xp(b,g.options.keyMap,A,g)}var s0e=new se;function Kv(g,b,A,T){var N=g.state.keySeq;if(N){if(BP(b))return"handled";if(/\'$/.test(b)?g.state.keySeq=null:s0e.set(50,function(){g.state.keySeq==N&&(g.state.keySeq=null,g.display.input.reset())}),UP(g,N+" "+b,A,T))return!0}return UP(g,b,A,T)}function UP(g,b,A,T){var N=a0e(g,b,T);return N=="multi"&&(g.state.keySeq=b),N=="handled"&&Wi(g,"keyHandled",g,b,A),(N=="handled"||N=="multi")&&(at(A),MC(g)),!!N}function GP(g,b){var A=zP(b,!0);return A?b.shiftKey&&!g.state.keySeq?Kv(g,"Shift-"+A,b,function(T){return L4(g,T,!0)})||Kv(g,A,b,function(T){if(typeof T=="string"?/^go[A-Z]/.test(T):T.motion)return L4(g,T)}):Kv(g,A,b,function(T){return L4(g,T)}):!1}function o0e(g,b,A){return Kv(g,"'"+A+"'",b,function(T){return L4(g,T,!0)})}var QC=null;function WP(g){var b=this;if(!(g.target&&g.target!=b.display.input.getField())&&(b.curOp.focus=V(Z(b)),!gt(b,g))){l&&u<11&&g.keyCode==27&&(g.returnValue=!1);var A=g.keyCode;b.display.shift=A==16||g.shiftKey;var T=GP(b,g);m&&(QC=T?A:null,!T&&A==88&&!Jn&&(C?g.metaKey:g.ctrlKey)&&b.replaceSelection("",null,"cut")),i&&!C&&!T&&A==46&&g.shiftKey&&!g.ctrlKey&&document.execCommand&&document.execCommand("cut"),A==18&&!/\bCodeMirror-crosshair\b/.test(b.display.lineDiv.className)&&l0e(b)}}function l0e(g){var b=g.display.lineDiv;X(b,"CodeMirror-crosshair");function A(T){(T.keyCode==18||!T.altKey)&&(B(b,"CodeMirror-crosshair"),it(document,"keyup",A),it(document,"mouseover",A))}Me(document,"keyup",A),Me(document,"mouseover",A)}function qP(g){g.keyCode==16&&(this.doc.sel.shift=!1),gt(this,g)}function YP(g){var b=this;if(!(g.target&&g.target!=b.display.input.getField())&&!(Sc(b.display,g)||gt(b,g)||g.ctrlKey&&!g.altKey||C&&g.metaKey)){var A=g.keyCode,T=g.charCode;if(m&&A==QC){QC=null,at(g);return}if(!(m&&(!g.which||g.which<10)&&GP(b,g))){var N=String.fromCharCode(T??A);N!="\b"&&(o0e(b,g,N)||b.display.input.onKeyPress(g))}}}var u0e=400,ZC=function(g,b,A){this.time=g,this.pos=b,this.button=A};ZC.prototype.compare=function(g,b,A){return this.time+u0e>g&&Tr(b,this.pos)==0&&A==this.button};var Qv,Zv;function c0e(g,b){var A=+new Date;return Zv&&Zv.compare(A,g,b)?(Qv=Zv=null,"triple"):Qv&&Qv.compare(A,g,b)?(Zv=new ZC(A,g,b),Qv=null,"double"):(Qv=new ZC(A,g,b),Zv=null,"single")}function XP(g){var b=this,A=b.display;if(!(gt(b,g)||A.activeTouch&&A.input.supportsTouch())){if(A.input.ensurePolled(),A.shift=g.shiftKey,Sc(A,g)){h||(A.scroller.draggable=!1,setTimeout(function(){return A.scroller.draggable=!0},100));return}if(!JC(b,g)){var T=Cd(b,g),N=pt(g),G=T?c0e(T,N):"single";ne(b).focus(),N==1&&b.state.selectingText&&b.state.selectingText(g),!(T&&h0e(b,N,T,G,g))&&(N==1?T?d0e(b,T,G,g):Jt(g)==A.scroller&&at(g):N==2?(T&&k4(b.doc,T),setTimeout(function(){return A.input.focus()},20)):N==3&&(F?b.display.input.onContextMenu(g):NC(b)))}}}function h0e(g,b,A,T,N){var G="Click";return T=="double"?G="Double"+G:T=="triple"&&(G="Triple"+G),G=(b==1?"Left":b==2?"Middle":"Right")+G,Kv(g,$P(G,N),N,function(j){if(typeof j=="string"&&(j=jv[j]),!j)return!1;var re=!1;try{g.isReadOnly()&&(g.state.suppressEdits=!0),re=j(g,A)!=me}finally{g.state.suppressEdits=!1}return re})}function f0e(g,b,A){var T=g.getOption("configureMouse"),N=T?T(g,b,A):{};if(N.unit==null){var G=L?A.shiftKey&&A.metaKey:A.altKey;N.unit=G?"rectangle":b=="single"?"char":b=="double"?"word":"line"}return(N.extend==null||g.doc.extend)&&(N.extend=g.doc.extend||A.shiftKey),N.addNew==null&&(N.addNew=C?A.metaKey:A.ctrlKey),N.moveOnDrag==null&&(N.moveOnDrag=!(C?A.altKey:A.ctrlKey)),N}function d0e(g,b,A,T){l?setTimeout(ge(jO,g),0):g.curOp.focus=V(Z(g));var N=f0e(g,A,T),G=g.doc.sel,j;g.options.dragDrop&&dt&&!g.isReadOnly()&&A=="single"&&(j=G.contains(b))>-1&&(Tr((j=G.ranges[j]).from(),b)<0||b.xRel>0)&&(Tr(j.to(),b)>0||b.xRel<0)?p0e(g,T,b,N):g0e(g,T,b,N)}function p0e(g,b,A,T){var N=g.display,G=!1,j=qi(g,function(ve){h&&(N.scroller.draggable=!1),g.state.draggingText=!1,g.state.delayingBlurEvent&&(g.hasFocus()?g.state.delayingBlurEvent=!1:NC(g)),it(N.wrapper.ownerDocument,"mouseup",j),it(N.wrapper.ownerDocument,"mousemove",re),it(N.scroller,"dragstart",ue),it(N.scroller,"drop",j),G||(at(ve),T.addNew||k4(g.doc,A,null,null,T.extend),h&&!v||l&&u==9?setTimeout(function(){N.wrapper.ownerDocument.body.focus({preventScroll:!0}),N.input.focus()},20):N.input.focus())}),re=function(ve){G=G||Math.abs(b.clientX-ve.clientX)+Math.abs(b.clientY-ve.clientY)>=10},ue=function(){return G=!0};h&&(N.scroller.draggable=!0),g.state.draggingText=j,j.copy=!T.moveOnDrag,Me(N.wrapper.ownerDocument,"mouseup",j),Me(N.wrapper.ownerDocument,"mousemove",re),Me(N.scroller,"dragstart",ue),Me(N.scroller,"drop",j),g.state.delayingBlurEvent=!0,setTimeout(function(){return N.input.focus()},20),N.scroller.dragDrop&&N.scroller.dragDrop()}function jP(g,b,A){if(A=="char")return new rn(b,b);if(A=="word")return g.findWordAt(b);if(A=="line")return new rn(yt(b.line,0),Sr(g.doc,yt(b.line+1,0)));var T=A(g,b);return new rn(T.from,T.to)}function g0e(g,b,A,T){l&&NC(g);var N=g.display,G=g.doc;at(b);var j,re,ue=G.sel,ve=ue.ranges;if(T.addNew&&!T.extend?(re=G.sel.contains(A),re>-1?j=ve[re]:j=new rn(A,A)):(j=G.sel.primary(),re=G.sel.primIndex),T.unit=="rectangle")T.addNew||(j=new rn(A,A)),A=Cd(g,b,!0,!0),re=-1;else{var Re=jP(g,A,T.unit);T.extend?j=qC(j,Re.anchor,Re.head,T.extend):j=Re}T.addNew?re==-1?(re=ve.length,La(G,zl(g,ve.concat([j]),re),{scroll:!1,origin:"*mouse"})):ve.length>1&&ve[re].empty()&&T.unit=="char"&&!T.extend?(La(G,zl(g,ve.slice(0,re).concat(ve.slice(re+1)),0),{scroll:!1,origin:"*mouse"}),ue=G.sel):YC(G,re,j,ce):(re=0,La(G,new Do([j],0),ce),ue=G.sel);var Fe=A;function Ze(Nt){if(Tr(Fe,Nt)!=0)if(Fe=Nt,T.unit=="rectangle"){for(var Wt=[],cr=g.options.tabSize,ir=J(lt(G,A.line).text,A.ch,cr),Pr=J(lt(G,Nt.line).text,Nt.ch,cr),An=Math.min(ir,Pr),Xi=Math.max(ir,Pr),ei=Math.min(A.line,Nt.line),Js=Math.min(g.lastLine(),Math.max(A.line,Nt.line));ei<=Js;ei++){var As=lt(G,ei).text,Ai=xe(As,An,cr);An==Xi?Wt.push(new rn(yt(ei,Ai),yt(ei,Ai))):As.length>Ai&&Wt.push(new rn(yt(ei,Ai),yt(ei,xe(As,Xi,cr))))}Wt.length||Wt.push(new rn(A,A)),La(G,zl(g,ue.ranges.slice(0,re).concat(Wt),re),{origin:"*mouse",scroll:!1}),g.scrollIntoView(Nt)}else{var _s=j,pa=jP(g,Nt,T.unit),Fi=_s.anchor,_i;Tr(pa.anchor,Fi)>0?(_i=pa.head,Fi=tl(_s.from(),pa.anchor)):(_i=pa.anchor,Fi=li(_s.to(),pa.head));var ui=ue.ranges.slice(0);ui[re]=m0e(g,new rn(Sr(G,Fi),_i)),La(G,zl(g,ui,re),ce)}}var Ke=N.wrapper.getBoundingClientRect(),st=0;function ht(Nt){var Wt=++st,cr=Cd(g,Nt,!0,T.unit=="rectangle");if(cr)if(Tr(cr,Fe)!=0){g.curOp.focus=V(Z(g)),Ze(cr);var ir=v4(N,G);(cr.line>=ir.to||cr.line<ir.from)&&setTimeout(qi(g,function(){st==Wt&&ht(Nt)}),150)}else{var Pr=Nt.clientY<Ke.top?-20:Nt.clientY>Ke.bottom?20:0;Pr&&setTimeout(qi(g,function(){st==Wt&&(N.scroller.scrollTop+=Pr,ht(Nt))}),50)}}function Ct(Nt){g.state.selectingText=!1,st=1/0,Nt&&(at(Nt),N.input.focus()),it(N.wrapper.ownerDocument,"mousemove",Mt),it(N.wrapper.ownerDocument,"mouseup",Bt),G.history.lastSelOrigin=null}var Mt=qi(g,function(Nt){Nt.buttons===0||!pt(Nt)?Ct(Nt):ht(Nt)}),Bt=qi(g,Ct);g.state.selectingText=Bt,Me(N.wrapper.ownerDocument,"mousemove",Mt),Me(N.wrapper.ownerDocument,"mouseup",Bt)}function m0e(g,b){var A=b.anchor,T=b.head,N=lt(g.doc,A.line);if(Tr(A,T)==0&&A.sticky==T.sticky)return b;var G=Oe(N);if(!G)return b;var j=Ne(G,A.ch,A.sticky),re=G[j];if(re.from!=A.ch&&re.to!=A.ch)return b;var ue=j+(re.from==A.ch==(re.level!=1)?0:1);if(ue==0||ue==G.length)return b;var ve;if(T.line!=A.line)ve=(T.line-A.line)*(g.doc.direction=="ltr"?1:-1)>0;else{var Re=Ne(G,T.ch,T.sticky),Fe=Re-j||(T.ch-A.ch)*(re.level==1?-1:1);Re==ue-1||Re==ue?ve=Fe<0:ve=Fe>0}var Ze=G[ue+(ve?-1:0)],Ke=ve==(Ze.level==1),st=Ke?Ze.from:Ze.to,ht=Ke?"after":"before";return A.ch==st&&A.sticky==ht?b:new rn(new yt(A.line,st,ht),T)}function KP(g,b,A,T){var N,G;if(b.touches)N=b.touches[0].clientX,G=b.touches[0].clientY;else try{N=b.clientX,G=b.clientY}catch{return!1}if(N>=Math.floor(g.display.gutters.getBoundingClientRect().right))return!1;T&&at(b);var j=g.display,re=j.lineDiv.getBoundingClientRect();if(G>re.bottom||!Pt(g,A))return ct(b);G-=re.top-j.viewOffset;for(var ue=0;ue<g.display.gutterSpecs.length;++ue){var ve=j.gutters.childNodes[ue];if(ve&&ve.getBoundingClientRect().right>=N){var Re=Or(g.doc,G),Fe=g.display.gutterSpecs[ue];return ut(g,A,g,Re,Fe.className,b),ct(b)}}}function JC(g,b){return KP(g,b,"gutterClick",!0)}function QP(g,b){Sc(g.display,b)||v0e(g,b)||gt(g,b,"contextmenu")||F||g.display.input.onContextMenu(b)}function v0e(g,b){return Pt(g,"gutterContextMenu")?KP(g,b,"gutterContextMenu",!1):!1}function ZP(g){g.display.wrapper.className=g.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+g.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Mv(g)}var Kp={toString:function(){return"CodeMirror.Init"}},JP={},D4={};function y0e(g){var b=g.optionHandlers;function A(T,N,G,j){g.defaults[T]=N,G&&(b[T]=j?function(re,ue,ve){ve!=Kp&&G(re,ue,ve)}:G)}g.defineOption=A,g.Init=Kp,A("value","",function(T,N){return T.setValue(N)},!0),A("mode",null,function(T,N){T.doc.modeOption=N,UC(T)},!0),A("indentUnit",2,UC,!0),A("indentWithTabs",!1),A("smartIndent",!0),A("tabSize",4,function(T){zv(T),Mv(T),Ts(T)},!0),A("lineSeparator",null,function(T,N){if(T.doc.lineSep=N,!!N){var G=[],j=T.doc.first;T.doc.iter(function(ue){for(var ve=0;;){var Re=ue.text.indexOf(N,ve);if(Re==-1)break;ve=Re+N.length,G.push(yt(j,Re))}j++});for(var re=G.length-1;re>=0;re--)qp(T.doc,N,G[re],yt(G[re].line,G[re].ch+N.length))}}),A("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(T,N,G){T.state.specialChars=new RegExp(N.source+(N.test("	")?"":"|	"),"g"),G!=Kp&&T.refresh()}),A("specialCharPlaceholder",Yfe,function(T){return T.refresh()},!0),A("electricChars",!0),A("inputStyle",E?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),A("spellcheck",!1,function(T,N){return T.getInputField().spellcheck=N},!0),A("autocorrect",!1,function(T,N){return T.getInputField().autocorrect=N},!0),A("autocapitalize",!1,function(T,N){return T.getInputField().autocapitalize=N},!0),A("rtlMoveVisually",!_),A("wholeLineUpdateBefore",!0),A("theme","default",function(T){ZP(T),$v(T)},!0),A("keyMap","default",function(T,N,G){var j=_4(N),re=G!=Kp&&_4(G);re&&re.detach&&re.detach(T,j),j.attach&&j.attach(T,re||null)}),A("extraKeys",null),A("configureMouse",null),A("lineWrapping",!1,b0e,!0),A("gutters",[],function(T,N){T.display.gutterSpecs=HC(N,T.options.lineNumbers),$v(T)},!0),A("fixedGutter",!0,function(T,N){T.display.gutters.style.left=N?LC(T.display)+"px":"0",T.refresh()},!0),A("coverGutterNextToScrollbar",!1,function(T){return Vp(T)},!0),A("scrollbarStyle","native",function(T){tP(T),Vp(T),T.display.scrollbars.setScrollTop(T.doc.scrollTop),T.display.scrollbars.setScrollLeft(T.doc.scrollLeft)},!0),A("lineNumbers",!1,function(T,N){T.display.gutterSpecs=HC(T.options.gutters,N),$v(T)},!0),A("firstLineNumber",1,$v,!0),A("lineNumberFormatter",function(T){return T},$v,!0),A("showCursorWhenSelecting",!1,Nv,!0),A("resetSelectionOnContextMenu",!0),A("lineWiseCopyCut",!0),A("pasteLinesPerSelection",!0),A("selectionsMayTouch",!1),A("readOnly",!1,function(T,N){N=="nocursor"&&(zp(T),T.display.input.blur()),T.display.input.readOnlyChanged(N)}),A("screenReaderLabel",null,function(T,N){N=N===""?null:N,T.display.input.screenReaderLabelChanged(N)}),A("disableInput",!1,function(T,N){N||T.display.input.reset()},!0),A("dragDrop",!0,x0e),A("allowDropFileTypes",null),A("cursorBlinkRate",530),A("cursorScrollMargin",0),A("cursorHeight",1,Nv,!0),A("singleCursorHeightPerLine",!0,Nv,!0),A("workTime",100),A("workDelay",100),A("flattenSpans",!0,zv,!0),A("addModeClass",!1,zv,!0),A("pollInterval",100),A("undoDepth",200,function(T,N){return T.doc.history.undoDepth=N}),A("historyEventDelay",1250),A("viewportMargin",10,function(T){return T.refresh()},!0),A("maxHighlightLength",1e4,zv,!0),A("moveInputWithCursor",!0,function(T,N){N||T.display.input.resetPosition()}),A("tabindex",null,function(T,N){return T.display.input.getField().tabIndex=N||""}),A("autofocus",null),A("direction","ltr",function(T,N){return T.doc.setDirection(N)},!0),A("phrases",null)}function x0e(g,b,A){var T=A&&A!=Kp;if(!b!=!T){var N=g.display.dragFunctions,G=b?Me:it;G(g.display.scroller,"dragstart",N.start),G(g.display.scroller,"dragenter",N.enter),G(g.display.scroller,"dragover",N.over),G(g.display.scroller,"dragleave",N.leave),G(g.display.scroller,"drop",N.drop)}}function b0e(g){g.options.lineWrapping?(X(g.display.wrapper,"CodeMirror-wrap"),g.display.sizer.style.minWidth="",g.display.sizerWidth=null):(B(g.display.wrapper,"CodeMirror-wrap"),xC(g)),DC(g),Ts(g),Mv(g),setTimeout(function(){return Vp(g)},100)}function Wn(g,b){var A=this;if(!(this instanceof Wn))return new Wn(g,b);this.options=b=b?ye(b):{},ye(JP,b,!1);var T=b.value;typeof T=="string"?T=new Cs(T,b.mode,null,b.lineSeparator,b.direction):b.mode&&(T.modeOption=b.mode),this.doc=T;var N=new Wn.inputStyles[b.inputStyle](this),G=this.display=new Nde(g,T,N,b);G.wrapper.CodeMirror=this,ZP(this),b.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),tP(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new se,keySeq:null,specialChars:null},b.autofocus&&!E&&G.input.focus(),l&&u<11&&setTimeout(function(){return A.display.input.reset(!0)},20),w0e(this),Zde(),Dd(this),this.curOp.forceUpdate=!0,hP(this,T),b.autofocus&&!E||this.hasFocus()?setTimeout(function(){A.hasFocus()&&!A.state.focused&&IC(A)},20):zp(this);for(var j in D4)D4.hasOwnProperty(j)&&D4[j](this,b[j],Kp);iP(this),b.finishInit&&b.finishInit(this);for(var re=0;re<e6.length;++re)e6[re](this);Rd(this),h&&b.lineWrapping&&getComputedStyle(G.lineDiv).textRendering=="optimizelegibility"&&(G.lineDiv.style.textRendering="auto")}Wn.defaults=JP,Wn.optionHandlers=D4;function w0e(g){var b=g.display;Me(b.scroller,"mousedown",qi(g,XP)),l&&u<11?Me(b.scroller,"dblclick",qi(g,function(ue){if(!gt(g,ue)){var ve=Cd(g,ue);if(!(!ve||JC(g,ue)||Sc(g.display,ue))){at(ue);var Re=g.findWordAt(ve);k4(g.doc,Re.anchor,Re.head)}}})):Me(b.scroller,"dblclick",function(ue){return gt(g,ue)||at(ue)}),Me(b.scroller,"contextmenu",function(ue){return QP(g,ue)}),Me(b.input.getField(),"contextmenu",function(ue){b.scroller.contains(ue.target)||QP(g,ue)});var A,T={end:0};function N(){b.activeTouch&&(A=setTimeout(function(){return b.activeTouch=null},1e3),T=b.activeTouch,T.end=+new Date)}function G(ue){if(ue.touches.length!=1)return!1;var ve=ue.touches[0];return ve.radiusX<=1&&ve.radiusY<=1}function j(ue,ve){if(ve.left==null)return!0;var Re=ve.left-ue.left,Fe=ve.top-ue.top;return Re*Re+Fe*Fe>20*20}Me(b.scroller,"touchstart",function(ue){if(!gt(g,ue)&&!G(ue)&&!JC(g,ue)){b.input.ensurePolled(),clearTimeout(A);var ve=+new Date;b.activeTouch={start:ve,moved:!1,prev:ve-T.end<=300?T:null},ue.touches.length==1&&(b.activeTouch.left=ue.touches[0].pageX,b.activeTouch.top=ue.touches[0].pageY)}}),Me(b.scroller,"touchmove",function(){b.activeTouch&&(b.activeTouch.moved=!0)}),Me(b.scroller,"touchend",function(ue){var ve=b.activeTouch;if(ve&&!Sc(b,ue)&&ve.left!=null&&!ve.moved&&new Date-ve.start<300){var Re=g.coordsChar(b.activeTouch,"page"),Fe;!ve.prev||j(ve,ve.prev)?Fe=new rn(Re,Re):!ve.prev.prev||j(ve,ve.prev.prev)?Fe=g.findWordAt(Re):Fe=new rn(yt(Re.line,0),Sr(g.doc,yt(Re.line+1,0))),g.setSelection(Fe.anchor,Fe.head),g.focus(),at(ue)}N()}),Me(b.scroller,"touchcancel",N),Me(b.scroller,"scroll",function(){b.scroller.clientHeight&&(Ov(g,b.scroller.scrollTop),_d(g,b.scroller.scrollLeft,!0),ut(g,"scroll",g))}),Me(b.scroller,"mousewheel",function(ue){return oP(g,ue)}),Me(b.scroller,"DOMMouseScroll",function(ue){return oP(g,ue)}),Me(b.wrapper,"scroll",function(){return b.wrapper.scrollTop=b.wrapper.scrollLeft=0}),b.dragFunctions={enter:function(ue){gt(g,ue)||ft(ue)},over:function(ue){gt(g,ue)||(Qde(g,ue),ft(ue))},start:function(ue){return Kde(g,ue)},drop:qi(g,jde),leave:function(ue){gt(g,ue)||OP(g)}};var re=b.input.getField();Me(re,"keyup",function(ue){return qP.call(g,ue)}),Me(re,"keydown",qi(g,WP)),Me(re,"keypress",qi(g,YP)),Me(re,"focus",function(ue){return IC(g,ue)}),Me(re,"blur",function(ue){return zp(g,ue)})}var e6=[];Wn.defineInitHook=function(g){return e6.push(g)};function Jv(g,b,A,T){var N=g.doc,G;A==null&&(A="add"),A=="smart"&&(N.mode.indent?G=xc(g,b).state:A="prev");var j=g.options.tabSize,re=lt(N,b),ue=J(re.text,null,j);re.stateAfter&&(re.stateAfter=null);var ve=re.text.match(/^\s*/)[0],Re;if(!T&&!/\S/.test(re.text))Re=0,A="not";else if(A=="smart"&&(Re=N.mode.indent(G,re.text.slice(ve.length),re.text),Re==me||Re>150)){if(!T)return;A="prev"}A=="prev"?b>N.first?Re=J(lt(N,b-1).text,null,j):Re=0:A=="add"?Re=ue+g.options.indentUnit:A=="subtract"?Re=ue-g.options.indentUnit:typeof A=="number"&&(Re=ue+A),Re=Math.max(0,Re);var Fe="",Ze=0;if(g.options.indentWithTabs)for(var Ke=Math.floor(Re/j);Ke;--Ke)Ze+=j,Fe+="	";if(Ze<Re&&(Fe+=ke(Re-Ze)),Fe!=ve)return qp(N,Fe,yt(b,0),yt(b,ve.length),"+input"),re.stateAfter=null,!0;for(var st=0;st<N.sel.ranges.length;st++){var ht=N.sel.ranges[st];if(ht.head.line==b&&ht.head.ch<ve.length){var Ct=yt(b,ve.length);YC(N,st,new rn(Ct,Ct));break}}}var Hl=null;function R4(g){Hl=g}function t6(g,b,A,T,N){var G=g.doc;g.display.shift=!1,T||(T=G.sel);var j=+new Date-200,re=N=="paste"||g.state.pasteIncoming>j,ue=Wr(b),ve=null;if(re&&T.ranges.length>1)if(Hl&&Hl.text.join(`
`)==b){if(T.ranges.length%Hl.text.length==0){ve=[];for(var Re=0;Re<Hl.text.length;Re++)ve.push(G.splitLines(Hl.text[Re]))}}else ue.length==T.ranges.length&&g.options.pasteLinesPerSelection&&(ve=We(ue,function(Mt){return[Mt]}));for(var Fe=g.curOp.updateInput,Ze=T.ranges.length-1;Ze>=0;Ze--){var Ke=T.ranges[Ze],st=Ke.from(),ht=Ke.to();Ke.empty()&&(A&&A>0?st=yt(st.line,st.ch-A):g.state.overwrite&&!re?ht=yt(ht.line,Math.min(lt(G,ht.line).text.length,ht.ch+De(ue).length)):re&&Hl&&Hl.lineWise&&Hl.text.join(`
`)==ue.join(`
`)&&(st=ht=yt(st.line,0)));var Ct={from:st,to:ht,text:ve?ve[Ze%ve.length]:ue,origin:N||(re?"paste":g.state.cutIncoming>j?"cut":"+input")};Wp(g.doc,Ct),Wi(g,"inputRead",g,Ct)}b&&!re&&tF(g,b),Hp(g),g.curOp.updateInput<2&&(g.curOp.updateInput=Fe),g.curOp.typing=!0,g.state.pasteIncoming=g.state.cutIncoming=-1}function eF(g,b){var A=g.clipboardData&&g.clipboardData.getData("Text");if(A)return g.preventDefault(),!b.isReadOnly()&&!b.options.disableInput&&b.hasFocus()&&Zs(b,function(){return t6(b,A,0,null,"paste")}),!0}function tF(g,b){if(!(!g.options.electricChars||!g.options.smartIndent))for(var A=g.doc.sel,T=A.ranges.length-1;T>=0;T--){var N=A.ranges[T];if(!(N.head.ch>100||T&&A.ranges[T-1].head.line==N.head.line)){var G=g.getModeAt(N.head),j=!1;if(G.electricChars){for(var re=0;re<G.electricChars.length;re++)if(b.indexOf(G.electricChars.charAt(re))>-1){j=Jv(g,N.head.line,"smart");break}}else G.electricInput&&G.electricInput.test(lt(g.doc,N.head.line).text.slice(0,N.head.ch))&&(j=Jv(g,N.head.line,"smart"));j&&Wi(g,"electricInput",g,N.head.line)}}}function rF(g){for(var b=[],A=[],T=0;T<g.doc.sel.ranges.length;T++){var N=g.doc.sel.ranges[T].head.line,G={anchor:yt(N,0),head:yt(N+1,0)};A.push(G),b.push(g.getRange(G.anchor,G.head))}return{text:b,ranges:A}}function r6(g,b,A,T){g.setAttribute("autocorrect",A?"on":"off"),g.setAttribute("autocapitalize",T?"on":"off"),g.setAttribute("spellcheck",!!b)}function nF(){var g=O("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),b=O("div",[g],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return h?g.style.width="1000px":g.setAttribute("wrap","off"),w&&(g.style.border="1px solid black"),b}function S0e(g){var b=g.optionHandlers,A=g.helpers={};g.prototype={constructor:g,focus:function(){ne(this).focus(),this.display.input.focus()},setOption:function(T,N){var G=this.options,j=G[T];G[T]==N&&T!="mode"||(G[T]=N,b.hasOwnProperty(T)&&qi(this,b[T])(this,N,j),ut(this,"optionChange",this,T))},getOption:function(T){return this.options[T]},getDoc:function(){return this.doc},addKeyMap:function(T,N){this.state.keyMaps[N?"push":"unshift"](_4(T))},removeKeyMap:function(T){for(var N=this.state.keyMaps,G=0;G<N.length;++G)if(N[G]==T||N[G].name==T)return N.splice(G,1),!0},addOverlay:Za(function(T,N){var G=T.token?T:g.getMode(this.options,T);if(G.startState)throw new Error("Overlays may not be stateful.");qe(this.state.overlays,{mode:G,modeSpec:T,opaque:N&&N.opaque,priority:N&&N.priority||0},function(j){return j.priority}),this.state.modeGen++,Ts(this)}),removeOverlay:Za(function(T){for(var N=this.state.overlays,G=0;G<N.length;++G){var j=N[G].modeSpec;if(j==T||typeof T=="string"&&j.name==T){N.splice(G,1),this.state.modeGen++,Ts(this);return}}}),indentLine:Za(function(T,N,G){typeof N!="string"&&typeof N!="number"&&(N==null?N=this.options.smartIndent?"smart":"prev":N=N?"add":"subtract"),Be(this.doc,T)&&Jv(this,T,N,G)}),indentSelection:Za(function(T){for(var N=this.doc.sel.ranges,G=-1,j=0;j<N.length;j++){var re=N[j];if(re.empty())re.head.line>G&&(Jv(this,re.head.line,T,!0),G=re.head.line,j==this.doc.sel.primIndex&&Hp(this));else{var ue=re.from(),ve=re.to(),Re=Math.max(G,ue.line);G=Math.min(this.lastLine(),ve.line-(ve.ch?0:1))+1;for(var Fe=Re;Fe<G;++Fe)Jv(this,Fe,T);var Ze=this.doc.sel.ranges;ue.ch==0&&N.length==Ze.length&&Ze[j].from().ch>0&&YC(this.doc,j,new rn(ue,Ze[j].to()),be)}}}),getTokenAt:function(T,N){return kd(this,T,N)},getLineTokens:function(T,N){return kd(this,yt(T),N,!0)},getTokenTypeAt:function(T){T=Sr(this.doc,T);var N=Es(this,lt(this.doc,T.line)),G=0,j=(N.length-1)/2,re=T.ch,ue;if(re==0)ue=N[2];else for(;;){var ve=G+j>>1;if((ve?N[ve*2-1]:0)>=re)j=ve;else if(N[ve*2+1]<re)G=ve+1;else{ue=N[ve*2+2];break}}var Re=ue?ue.indexOf("overlay "):-1;return Re<0?ue:Re==0?null:ue.slice(0,Re-1)},getModeAt:function(T){var N=this.doc.mode;return N.innerMode?g.innerMode(N,this.getTokenAt(T).state).mode:N},getHelper:function(T,N){return this.getHelpers(T,N)[0]},getHelpers:function(T,N){var G=[];if(!A.hasOwnProperty(N))return G;var j=A[N],re=this.getModeAt(T);if(typeof re[N]=="string")j[re[N]]&&G.push(j[re[N]]);else if(re[N])for(var ue=0;ue<re[N].length;ue++){var ve=j[re[N][ue]];ve&&G.push(ve)}else re.helperType&&j[re.helperType]?G.push(j[re.helperType]):j[re.name]&&G.push(j[re.name]);for(var Re=0;Re<j._global.length;Re++){var Fe=j._global[Re];Fe.pred(re,this)&&oe(G,Fe.val)==-1&&G.push(Fe.val)}return G},getStateAfter:function(T,N){var G=this.doc;return T=Np(G,T??G.first+G.size-1),xc(this,T+1,N).state},cursorCoords:function(T,N){var G,j=this.doc.sel.primary();return T==null?G=j.head:typeof T=="object"?G=Sr(this.doc,T):G=T?j.from():j.to(),$l(this,G,N||"page")},charCoords:function(T,N){return d4(this,Sr(this.doc,T),N||"page")},coordsChar:function(T,N){return T=VO(this,T,N||"page"),CC(this,T.left,T.top)},lineAtHeight:function(T,N){return T=VO(this,{top:T,left:0},N||"page").top,Or(this.doc,T+this.display.viewOffset)},heightAtLine:function(T,N,G){var j=!1,re;if(typeof T=="number"){var ue=this.doc.first+this.doc.size-1;T<this.doc.first?T=this.doc.first:T>ue&&(T=ue,j=!0),re=lt(this.doc,T)}else re=T;return f4(this,re,{top:0,left:0},N||"page",G||j).top+(j?this.doc.height-wc(re):0)},defaultTextHeight:function(){return Bp(this.display)},defaultCharWidth:function(){return $p(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(T,N,G,j,re){var ue=this.display;T=$l(this,Sr(this.doc,T));var ve=T.bottom,Re=T.left;if(N.style.position="absolute",N.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(N),ue.sizer.appendChild(N),j=="over")ve=T.top;else if(j=="above"||j=="near"){var Fe=Math.max(ue.wrapper.clientHeight,this.doc.height),Ze=Math.max(ue.sizer.clientWidth,ue.lineSpace.clientWidth);(j=="above"||T.bottom+N.offsetHeight>Fe)&&T.top>N.offsetHeight?ve=T.top-N.offsetHeight:T.bottom+N.offsetHeight<=Fe&&(ve=T.bottom),Re+N.offsetWidth>Ze&&(Re=Ze-N.offsetWidth)}N.style.top=ve+"px",N.style.left=N.style.right="",re=="right"?(Re=ue.sizer.clientWidth-N.offsetWidth,N.style.right="0px"):(re=="left"?Re=0:re=="middle"&&(Re=(ue.sizer.clientWidth-N.offsetWidth)/2),N.style.left=Re+"px"),G&&xde(this,{left:Re,top:ve,right:Re+N.offsetWidth,bottom:ve+N.offsetHeight})},triggerOnKeyDown:Za(WP),triggerOnKeyPress:Za(YP),triggerOnKeyUp:qP,triggerOnMouseDown:Za(XP),execCommand:function(T){if(jv.hasOwnProperty(T))return jv[T].call(null,this)},triggerElectric:Za(function(T){tF(this,T)}),findPosH:function(T,N,G,j){var re=1;N<0&&(re=-1,N=-N);for(var ue=Sr(this.doc,T),ve=0;ve<N&&(ue=n6(this.doc,ue,re,G,j),!ue.hitSide);++ve);return ue},moveH:Za(function(T,N){var G=this;this.extendSelectionsBy(function(j){return G.display.shift||G.doc.extend||j.empty()?n6(G.doc,j.head,T,N,G.options.rtlMoveVisually):T<0?j.from():j.to()},Ge)}),deleteH:Za(function(T,N){var G=this.doc.sel,j=this.doc;G.somethingSelected()?j.replaceSelection("",null,"+delete"):jp(this,function(re){var ue=n6(j,re.head,T,N,!1);return T<0?{from:ue,to:re.head}:{from:re.head,to:ue}})}),findPosV:function(T,N,G,j){var re=1,ue=j;N<0&&(re=-1,N=-N);for(var ve=Sr(this.doc,T),Re=0;Re<N;++Re){var Fe=$l(this,ve,"div");if(ue==null?ue=Fe.left:Fe.left=ue,ve=iF(this,Fe,re,G),ve.hitSide)break}return ve},moveV:Za(function(T,N){var G=this,j=this.doc,re=[],ue=!this.display.shift&&!j.extend&&j.sel.somethingSelected();if(j.extendSelectionsBy(function(Re){if(ue)return T<0?Re.from():Re.to();var Fe=$l(G,Re.head,"div");Re.goalColumn!=null&&(Fe.left=Re.goalColumn),re.push(Fe.left);var Ze=iF(G,Fe,T,N);return N=="page"&&Re==j.sel.primary()&&PC(G,d4(G,Ze,"div").top-Fe.top),Ze},Ge),re.length)for(var ve=0;ve<j.sel.ranges.length;ve++)j.sel.ranges[ve].goalColumn=re[ve]}),findWordAt:function(T){var N=this.doc,G=lt(N,T.line).text,j=T.ch,re=T.ch;if(G){var ue=this.getHelper(T,"wordChars");(T.sticky=="before"||re==G.length)&&j?--j:++re;for(var ve=G.charAt(j),Re=W(ve,ue)?function(Fe){return W(Fe,ue)}:/\s/.test(ve)?function(Fe){return/\s/.test(Fe)}:function(Fe){return!/\s/.test(Fe)&&!W(Fe)};j>0&&Re(G.charAt(j-1));)--j;for(;re<G.length&&Re(G.charAt(re));)++re}return new rn(yt(T.line,j),yt(T.line,re))},toggleOverwrite:function(T){T!=null&&T==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?X(this.display.cursorDiv,"CodeMirror-overwrite"):B(this.display.cursorDiv,"CodeMirror-overwrite"),ut(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==V(Z(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Za(function(T,N){Iv(this,T,N)}),getScrollInfo:function(){var T=this.display.scroller;return{left:T.scrollLeft,top:T.scrollTop,height:T.scrollHeight-Cu(this)-this.display.barHeight,width:T.scrollWidth-Cu(this)-this.display.barWidth,clientHeight:SC(this),clientWidth:Ed(this)}},scrollIntoView:Za(function(T,N){T==null?(T={from:this.doc.sel.primary().head,to:null},N==null&&(N=this.options.cursorScrollMargin)):typeof T=="number"?T={from:yt(T,0),to:null}:T.from==null&&(T={from:T,to:null}),T.to||(T.to=T.from),T.margin=N||0,T.from.line!=null?bde(this,T):QO(this,T.from,T.to,T.margin)}),setSize:Za(function(T,N){var G=this,j=function(ue){return typeof ue=="number"||/^\d+$/.test(String(ue))?ue+"px":ue};T!=null&&(this.display.wrapper.style.width=j(T)),N!=null&&(this.display.wrapper.style.height=j(N)),this.options.lineWrapping&&$O(this);var re=this.display.viewFrom;this.doc.iter(re,this.display.viewTo,function(ue){if(ue.widgets){for(var ve=0;ve<ue.widgets.length;ve++)if(ue.widgets[ve].noHScroll){Fh(G,re,"widget");break}}++re}),this.curOp.forceUpdate=!0,ut(this,"refresh",this)}),operation:function(T){return Zs(this,T)},startOperation:function(){return Dd(this)},endOperation:function(){return Rd(this)},refresh:Za(function(){var T=this.display.cachedTextHeight;Ts(this),this.curOp.forceUpdate=!0,Mv(this),Iv(this,this.doc.scrollLeft,this.doc.scrollTop),$C(this.display),(T==null||Math.abs(T-Bp(this.display))>.5||this.options.lineWrapping)&&DC(this),ut(this,"refresh",this)}),swapDoc:Za(function(T){var N=this.doc;return N.cm=null,this.state.selectingText&&this.state.selectingText(),hP(this,T),Mv(this),this.display.input.reset(),Iv(this,T.scrollLeft,T.scrollTop),this.curOp.forceScroll=!0,Wi(this,"swapDoc",this,N),N}),phrase:function(T){var N=this.options.phrases;return N&&Object.prototype.hasOwnProperty.call(N,T)?N[T]:T},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ot(g),g.registerHelper=function(T,N,G){A.hasOwnProperty(T)||(A[T]=g[T]={_global:[]}),A[T][N]=G},g.registerGlobalHelper=function(T,N,G,j){g.registerHelper(T,N,j),A[T]._global.push({pred:G,val:j})}}function n6(g,b,A,T,N){var G=b,j=A,re=lt(g,b.line),ue=N&&g.direction=="rtl"?-A:A;function ve(){var Bt=b.line+ue;return Bt<g.first||Bt>=g.first+g.size?!1:(b=new yt(Bt,b.ch,b.sticky),re=lt(g,Bt))}function Re(Bt){var Nt;if(T=="codepoint"){var Wt=re.text.charCodeAt(b.ch+(A>0?0:-1));if(isNaN(Wt))Nt=null;else{var cr=A>0?Wt>=55296&&Wt<56320:Wt>=56320&&Wt<57343;Nt=new yt(b.line,Math.max(0,Math.min(re.text.length,b.ch+A*(cr?2:1))),-A)}}else N?Nt=n0e(g.cm,re,b,A):Nt=jC(re,b,A);if(Nt==null)if(!Bt&&ve())b=KC(N,g.cm,re,b.line,ue);else return!1;else b=Nt;return!0}if(T=="char"||T=="codepoint")Re();else if(T=="column")Re(!0);else if(T=="word"||T=="group")for(var Fe=null,Ze=T=="group",Ke=g.cm&&g.cm.getHelper(b,"wordChars"),st=!0;!(A<0&&!Re(!st));st=!1){var ht=re.text.charAt(b.ch)||`
`,Ct=W(ht,Ke)?"w":Ze&&ht==`
`?"n":!Ze||/\s/.test(ht)?null:"p";if(Ze&&!st&&!Ct&&(Ct="s"),Fe&&Fe!=Ct){A<0&&(A=1,Re(),b.sticky="after");break}if(Ct&&(Fe=Ct),A>0&&!Re(!st))break}var Mt=T4(g,b,G,j,!0);return Mp(G,Mt)&&(Mt.hitSide=!0),Mt}function iF(g,b,A,T){var N=g.doc,G=b.left,j;if(T=="page"){var re=Math.min(g.display.wrapper.clientHeight,ne(g).innerHeight||N(g).documentElement.clientHeight),ue=Math.max(re-.5*Bp(g.display),3);j=(A>0?b.bottom:b.top)+A*ue}else T=="line"&&(j=A>0?b.bottom+3:b.top-3);for(var ve;ve=CC(g,G,j),!!ve.outside;){if(A<0?j<=0:j>=N.height){ve.hitSide=!0;break}j+=A*5}return ve}var hn=function(g){this.cm=g,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new se,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};hn.prototype.init=function(g){var b=this,A=this,T=A.cm,N=A.div=g.lineDiv;N.contentEditable=!0,r6(N,T.options.spellcheck,T.options.autocorrect,T.options.autocapitalize);function G(re){for(var ue=re.target;ue;ue=ue.parentNode){if(ue==N)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ue.className))break}return!1}Me(N,"paste",function(re){!G(re)||gt(T,re)||eF(re,T)||u<=11&&setTimeout(qi(T,function(){return b.updateFromDOM()}),20)}),Me(N,"compositionstart",function(re){b.composing={data:re.data,done:!1}}),Me(N,"compositionupdate",function(re){b.composing||(b.composing={data:re.data,done:!1})}),Me(N,"compositionend",function(re){b.composing&&(re.data!=b.composing.data&&b.readFromDOMSoon(),b.composing.done=!0)}),Me(N,"touchstart",function(){return A.forceCompositionEnd()}),Me(N,"input",function(){b.composing||b.readFromDOMSoon()});function j(re){if(!(!G(re)||gt(T,re))){if(T.somethingSelected())R4({lineWise:!1,text:T.getSelections()}),re.type=="cut"&&T.replaceSelection("",null,"cut");else if(T.options.lineWiseCopyCut){var ue=rF(T);R4({lineWise:!0,text:ue.text}),re.type=="cut"&&T.operation(function(){T.setSelections(ue.ranges,0,be),T.replaceSelection("",null,"cut")})}else return;if(re.clipboardData){re.clipboardData.clearData();var ve=Hl.text.join(`
`);if(re.clipboardData.setData("Text",ve),re.clipboardData.getData("Text")==ve){re.preventDefault();return}}var Re=nF(),Fe=Re.firstChild;r6(Fe),T.display.lineSpace.insertBefore(Re,T.display.lineSpace.firstChild),Fe.value=Hl.text.join(`
`);var Ze=V(pe(N));Y(Fe),setTimeout(function(){T.display.lineSpace.removeChild(Re),Ze.focus(),Ze==N&&A.showPrimarySelection()},50)}}Me(N,"copy",j),Me(N,"cut",j)},hn.prototype.screenReaderLabelChanged=function(g){g?this.div.setAttribute("aria-label",g):this.div.removeAttribute("aria-label")},hn.prototype.prepareSelection=function(){var g=XO(this.cm,!1);return g.focus=V(pe(this.div))==this.div,g},hn.prototype.showSelection=function(g,b){!g||!this.cm.display.view.length||((g.focus||b)&&this.showPrimarySelection(),this.showMultipleSelections(g))},hn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},hn.prototype.showPrimarySelection=function(){var g=this.getSelection(),b=this.cm,A=b.doc.sel.primary(),T=A.from(),N=A.to();if(b.display.viewTo==b.display.viewFrom||T.line>=b.display.viewTo||N.line<b.display.viewFrom){g.removeAllRanges();return}var G=M4(b,g.anchorNode,g.anchorOffset),j=M4(b,g.focusNode,g.focusOffset);if(!(G&&!G.bad&&j&&!j.bad&&Tr(tl(G,j),T)==0&&Tr(li(G,j),N)==0)){var re=b.display.view,ue=T.line>=b.display.viewFrom&&aF(b,T)||{node:re[0].measure.map[2],offset:0},ve=N.line<b.display.viewTo&&aF(b,N);if(!ve){var Re=re[re.length-1].measure,Fe=Re.maps?Re.maps[Re.maps.length-1]:Re.map;ve={node:Fe[Fe.length-1],offset:Fe[Fe.length-2]-Fe[Fe.length-3]}}if(!ue||!ve){g.removeAllRanges();return}var Ze=g.rangeCount&&g.getRangeAt(0),Ke;try{Ke=z(ue.node,ue.offset,ve.offset,ve.node)}catch{}Ke&&(!i&&b.state.focused?(g.collapse(ue.node,ue.offset),Ke.collapsed||(g.removeAllRanges(),g.addRange(Ke))):(g.removeAllRanges(),g.addRange(Ke)),Ze&&g.anchorNode==null?g.addRange(Ze):i&&this.startGracePeriod()),this.rememberSelection()}},hn.prototype.startGracePeriod=function(){var g=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){g.gracePeriod=!1,g.selectionChanged()&&g.cm.operation(function(){return g.cm.curOp.selectionChanged=!0})},20)},hn.prototype.showMultipleSelections=function(g){R(this.cm.display.cursorDiv,g.cursors),R(this.cm.display.selectionDiv,g.selection)},hn.prototype.rememberSelection=function(){var g=this.getSelection();this.lastAnchorNode=g.anchorNode,this.lastAnchorOffset=g.anchorOffset,this.lastFocusNode=g.focusNode,this.lastFocusOffset=g.focusOffset},hn.prototype.selectionInEditor=function(){var g=this.getSelection();if(!g.rangeCount)return!1;var b=g.getRangeAt(0).commonAncestorContainer;return $(this.div,b)},hn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||V(pe(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},hn.prototype.blur=function(){this.div.blur()},hn.prototype.getField=function(){return this.div},hn.prototype.supportsTouch=function(){return!0},hn.prototype.receivedFocus=function(){var g=this,b=this;this.selectionInEditor()?setTimeout(function(){return g.pollSelection()},20):Zs(this.cm,function(){return b.cm.curOp.selectionChanged=!0});function A(){b.cm.state.focused&&(b.pollSelection(),b.polling.set(b.cm.options.pollInterval,A))}this.polling.set(this.cm.options.pollInterval,A)},hn.prototype.selectionChanged=function(){var g=this.getSelection();return g.anchorNode!=this.lastAnchorNode||g.anchorOffset!=this.lastAnchorOffset||g.focusNode!=this.lastFocusNode||g.focusOffset!=this.lastFocusOffset},hn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var g=this.getSelection(),b=this.cm;if(S&&d&&this.cm.display.gutterSpecs.length&&k0e(g.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var A=M4(b,g.anchorNode,g.anchorOffset),T=M4(b,g.focusNode,g.focusOffset);A&&T&&Zs(b,function(){La(b.doc,$h(A,T),be),(A.bad||T.bad)&&(b.curOp.selectionChanged=!0)})}}},hn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var g=this.cm,b=g.display,A=g.doc.sel.primary(),T=A.from(),N=A.to();if(T.ch==0&&T.line>g.firstLine()&&(T=yt(T.line-1,lt(g.doc,T.line-1).length)),N.ch==lt(g.doc,N.line).text.length&&N.line<g.lastLine()&&(N=yt(N.line+1,0)),T.line<b.viewFrom||N.line>b.viewTo-1)return!1;var G,j,re;T.line==b.viewFrom||(G=Ad(g,T.line))==0?(j=Ce(b.view[0].line),re=b.view[0].node):(j=Ce(b.view[G].line),re=b.view[G-1].node.nextSibling);var ue=Ad(g,N.line),ve,Re;if(ue==b.view.length-1?(ve=b.viewTo-1,Re=b.lineDiv.lastChild):(ve=Ce(b.view[ue+1].line)-1,Re=b.view[ue+1].node.previousSibling),!re)return!1;for(var Fe=g.doc.splitLines(E0e(g,re,Re,j,ve)),Ze=tr(g.doc,yt(j,0),yt(ve,lt(g.doc,ve).text.length));Fe.length>1&&Ze.length>1;)if(De(Fe)==De(Ze))Fe.pop(),Ze.pop(),ve--;else if(Fe[0]==Ze[0])Fe.shift(),Ze.shift(),j++;else break;for(var Ke=0,st=0,ht=Fe[0],Ct=Ze[0],Mt=Math.min(ht.length,Ct.length);Ke<Mt&&ht.charCodeAt(Ke)==Ct.charCodeAt(Ke);)++Ke;for(var Bt=De(Fe),Nt=De(Ze),Wt=Math.min(Bt.length-(Fe.length==1?Ke:0),Nt.length-(Ze.length==1?Ke:0));st<Wt&&Bt.charCodeAt(Bt.length-st-1)==Nt.charCodeAt(Nt.length-st-1);)++st;if(Fe.length==1&&Ze.length==1&&j==T.line)for(;Ke&&Ke>T.ch&&Bt.charCodeAt(Bt.length-st-1)==Nt.charCodeAt(Nt.length-st-1);)Ke--,st++;Fe[Fe.length-1]=Bt.slice(0,Bt.length-st).replace(/^\u200b+/,""),Fe[0]=Fe[0].slice(Ke).replace(/\u200b+$/,"");var cr=yt(j,Ke),ir=yt(ve,Ze.length?De(Ze).length-st:0);if(Fe.length>1||Fe[0]||Tr(cr,ir))return qp(g.doc,Fe,cr,ir,"+input"),!0},hn.prototype.ensurePolled=function(){this.forceCompositionEnd()},hn.prototype.reset=function(){this.forceCompositionEnd()},hn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},hn.prototype.readFromDOMSoon=function(){var g=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(g.readDOMTimeout=null,g.composing)if(g.composing.done)g.composing=null;else return;g.updateFromDOM()},80))},hn.prototype.updateFromDOM=function(){var g=this;(this.cm.isReadOnly()||!this.pollContent())&&Zs(this.cm,function(){return Ts(g.cm)})},hn.prototype.setUneditable=function(g){g.contentEditable="false"},hn.prototype.onKeyPress=function(g){g.charCode==0||this.composing||(g.preventDefault(),this.cm.isReadOnly()||qi(this.cm,t6)(this.cm,String.fromCharCode(g.charCode==null?g.keyCode:g.charCode),0))},hn.prototype.readOnlyChanged=function(g){this.div.contentEditable=String(g!="nocursor")},hn.prototype.onContextMenu=function(){},hn.prototype.resetPosition=function(){},hn.prototype.needsContentAttribute=!0;function aF(g,b){var A=kC(g,b.line);if(!A||A.hidden)return null;var T=lt(g.doc,b.line),N=IO(A,T,b.line),G=Oe(T,g.doc.direction),j="left";if(G){var re=Ne(G,b.ch);j=re%2?"right":"left"}var ue=FO(N.map,b.ch,j);return ue.offset=ue.collapse=="right"?ue.end:ue.start,ue}function k0e(g){for(var b=g;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}function Qp(g,b){return b&&(g.bad=!0),g}function E0e(g,b,A,T,N){var G="",j=!1,re=g.doc.lineSeparator(),ue=!1;function ve(Ke){return function(st){return st.id==Ke}}function Re(){j&&(G+=re,ue&&(G+=re),j=ue=!1)}function Fe(Ke){Ke&&(Re(),G+=Ke)}function Ze(Ke){if(Ke.nodeType==1){var st=Ke.getAttribute("cm-text");if(st){Fe(st);return}var ht=Ke.getAttribute("cm-marker"),Ct;if(ht){var Mt=g.findMarks(yt(T,0),yt(N+1,0),ve(+ht));Mt.length&&(Ct=Mt[0].find(0))&&Fe(tr(g.doc,Ct.from,Ct.to).join(re));return}if(Ke.getAttribute("contenteditable")=="false")return;var Bt=/^(pre|div|p|li|table|br)$/i.test(Ke.nodeName);if(!/^br$/i.test(Ke.nodeName)&&Ke.textContent.length==0)return;Bt&&Re();for(var Nt=0;Nt<Ke.childNodes.length;Nt++)Ze(Ke.childNodes[Nt]);/^(pre|p)$/i.test(Ke.nodeName)&&(ue=!0),Bt&&(j=!0)}else Ke.nodeType==3&&Fe(Ke.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ze(b),b!=A;)b=b.nextSibling,ue=!1;return G}function M4(g,b,A){var T;if(b==g.display.lineDiv){if(T=g.display.lineDiv.childNodes[A],!T)return Qp(g.clipPos(yt(g.display.viewTo-1)),!0);b=null,A=0}else for(T=b;;T=T.parentNode){if(!T||T==g.display.lineDiv)return null;if(T.parentNode&&T.parentNode==g.display.lineDiv)break}for(var N=0;N<g.display.view.length;N++){var G=g.display.view[N];if(G.node==T)return T0e(G,b,A)}}function T0e(g,b,A){var T=g.text.firstChild,N=!1;if(!b||!$(T,b))return Qp(yt(Ce(g.line),0),!0);if(b==T&&(N=!0,b=T.childNodes[A],A=0,!b)){var G=g.rest?De(g.rest):g.line;return Qp(yt(Ce(G),G.text.length),N)}var j=b.nodeType==3?b:null,re=b;for(!j&&b.childNodes.length==1&&b.firstChild.nodeType==3&&(j=b.firstChild,A&&(A=j.nodeValue.length));re.parentNode!=T;)re=re.parentNode;var ue=g.measure,ve=ue.maps;function Re(Ct,Mt,Bt){for(var Nt=-1;Nt<(ve?ve.length:0);Nt++)for(var Wt=Nt<0?ue.map:ve[Nt],cr=0;cr<Wt.length;cr+=3){var ir=Wt[cr+2];if(ir==Ct||ir==Mt){var Pr=Ce(Nt<0?g.line:g.rest[Nt]),An=Wt[cr]+Bt;return(Bt<0||ir!=Ct)&&(An=Wt[cr+(Bt?1:0)]),yt(Pr,An)}}}var Fe=Re(j,re,A);if(Fe)return Qp(Fe,N);for(var Ze=re.nextSibling,Ke=j?j.nodeValue.length-A:0;Ze;Ze=Ze.nextSibling){if(Fe=Re(Ze,Ze.firstChild,0),Fe)return Qp(yt(Fe.line,Fe.ch-Ke),N);Ke+=Ze.textContent.length}for(var st=re.previousSibling,ht=A;st;st=st.previousSibling){if(Fe=Re(st,st.firstChild,-1),Fe)return Qp(yt(Fe.line,Fe.ch+ht),N);ht+=st.textContent.length}}var vi=function(g){this.cm=g,this.prevInput="",this.pollingFast=!1,this.polling=new se,this.hasSelection=!1,this.composing=null,this.resetting=!1};vi.prototype.init=function(g){var b=this,A=this,T=this.cm;this.createField(g);var N=this.textarea;g.wrapper.insertBefore(this.wrapper,g.wrapper.firstChild),w&&(N.style.width="0px"),Me(N,"input",function(){l&&u>=9&&b.hasSelection&&(b.hasSelection=null),A.poll()}),Me(N,"paste",function(j){gt(T,j)||eF(j,T)||(T.state.pasteIncoming=+new Date,A.fastPoll())});function G(j){if(!gt(T,j)){if(T.somethingSelected())R4({lineWise:!1,text:T.getSelections()});else if(T.options.lineWiseCopyCut){var re=rF(T);R4({lineWise:!0,text:re.text}),j.type=="cut"?T.setSelections(re.ranges,null,be):(A.prevInput="",N.value=re.text.join(`
`),Y(N))}else return;j.type=="cut"&&(T.state.cutIncoming=+new Date)}}Me(N,"cut",G),Me(N,"copy",G),Me(g.scroller,"paste",function(j){if(!(Sc(g,j)||gt(T,j))){if(!N.dispatchEvent){T.state.pasteIncoming=+new Date,A.focus();return}var re=new Event("paste");re.clipboardData=j.clipboardData,N.dispatchEvent(re)}}),Me(g.lineSpace,"selectstart",function(j){Sc(g,j)||at(j)}),Me(N,"compositionstart",function(){var j=T.getCursor("from");A.composing&&A.composing.range.clear(),A.composing={start:j,range:T.markText(j,T.getCursor("to"),{className:"CodeMirror-composing"})}}),Me(N,"compositionend",function(){A.composing&&(A.poll(),A.composing.range.clear(),A.composing=null)})},vi.prototype.createField=function(g){this.wrapper=nF(),this.textarea=this.wrapper.firstChild;var b=this.cm.options;r6(this.textarea,b.spellcheck,b.autocorrect,b.autocapitalize)},vi.prototype.screenReaderLabelChanged=function(g){g?this.textarea.setAttribute("aria-label",g):this.textarea.removeAttribute("aria-label")},vi.prototype.prepareSelection=function(){var g=this.cm,b=g.display,A=g.doc,T=XO(g);if(g.options.moveInputWithCursor){var N=$l(g,A.sel.primary().head,"div"),G=b.wrapper.getBoundingClientRect(),j=b.lineDiv.getBoundingClientRect();T.teTop=Math.max(0,Math.min(b.wrapper.clientHeight-10,N.top+j.top-G.top)),T.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-10,N.left+j.left-G.left))}return T},vi.prototype.showSelection=function(g){var b=this.cm,A=b.display;R(A.cursorDiv,g.cursors),R(A.selectionDiv,g.selection),g.teTop!=null&&(this.wrapper.style.top=g.teTop+"px",this.wrapper.style.left=g.teLeft+"px")},vi.prototype.reset=function(g){if(!(this.contextMenuPending||this.composing&&g)){var b=this.cm;if(this.resetting=!0,b.somethingSelected()){this.prevInput="";var A=b.getSelection();this.textarea.value=A,b.state.focused&&Y(this.textarea),l&&u>=9&&(this.hasSelection=A)}else g||(this.prevInput=this.textarea.value="",l&&u>=9&&(this.hasSelection=null));this.resetting=!1}},vi.prototype.getField=function(){return this.textarea},vi.prototype.supportsTouch=function(){return!1},vi.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!E||V(pe(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},vi.prototype.blur=function(){this.textarea.blur()},vi.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},vi.prototype.receivedFocus=function(){this.slowPoll()},vi.prototype.slowPoll=function(){var g=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){g.poll(),g.cm.state.focused&&g.slowPoll()})},vi.prototype.fastPoll=function(){var g=!1,b=this;b.pollingFast=!0;function A(){var T=b.poll();!T&&!g?(g=!0,b.polling.set(60,A)):(b.pollingFast=!1,b.slowPoll())}b.polling.set(20,A)},vi.prototype.poll=function(){var g=this,b=this.cm,A=this.textarea,T=this.prevInput;if(this.contextMenuPending||this.resetting||!b.state.focused||Er(A)&&!T&&!this.composing||b.isReadOnly()||b.options.disableInput||b.state.keySeq)return!1;var N=A.value;if(N==T&&!b.somethingSelected())return!1;if(l&&u>=9&&this.hasSelection===N||C&&/[\uf700-\uf7ff]/.test(N))return b.display.input.reset(),!1;if(b.doc.sel==b.display.selForContextMenu){var G=N.charCodeAt(0);if(G==8203&&!T&&(T="​"),G==8666)return this.reset(),this.cm.execCommand("undo")}for(var j=0,re=Math.min(T.length,N.length);j<re&&T.charCodeAt(j)==N.charCodeAt(j);)++j;return Zs(b,function(){t6(b,N.slice(j),T.length-j,null,g.composing?"*compose":null),N.length>1e3||N.indexOf(`
`)>-1?A.value=g.prevInput="":g.prevInput=N,g.composing&&(g.composing.range.clear(),g.composing.range=b.markText(g.composing.start,b.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},vi.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},vi.prototype.onKeyPress=function(){l&&u>=9&&(this.hasSelection=null),this.fastPoll()},vi.prototype.onContextMenu=function(g){var b=this,A=b.cm,T=A.display,N=b.textarea;b.contextMenuPending&&b.contextMenuPending();var G=Cd(A,g),j=T.scroller.scrollTop;if(!G||m)return;var re=A.options.resetSelectionOnContextMenu;re&&A.doc.sel.contains(G)==-1&&qi(A,La)(A.doc,$h(G),be);var ue=N.style.cssText,ve=b.wrapper.style.cssText,Re=b.wrapper.offsetParent.getBoundingClientRect();b.wrapper.style.cssText="position: static",N.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(g.clientY-Re.top-5)+"px; left: "+(g.clientX-Re.left-5)+`px;
      z-index: 1000; background: `+(l?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Fe;h&&(Fe=N.ownerDocument.defaultView.scrollY),T.input.focus(),h&&N.ownerDocument.defaultView.scrollTo(null,Fe),T.input.reset(),A.somethingSelected()||(N.value=b.prevInput=" "),b.contextMenuPending=Ke,T.selForContextMenu=A.doc.sel,clearTimeout(T.detectingSelectAll);function Ze(){if(N.selectionStart!=null){var ht=A.somethingSelected(),Ct="​"+(ht?N.value:"");N.value="⇚",N.value=Ct,b.prevInput=ht?"":"​",N.selectionStart=1,N.selectionEnd=Ct.length,T.selForContextMenu=A.doc.sel}}function Ke(){if(b.contextMenuPending==Ke&&(b.contextMenuPending=!1,b.wrapper.style.cssText=ve,N.style.cssText=ue,l&&u<9&&T.scrollbars.setScrollTop(T.scroller.scrollTop=j),N.selectionStart!=null)){(!l||l&&u<9)&&Ze();var ht=0,Ct=function(){T.selForContextMenu==A.doc.sel&&N.selectionStart==0&&N.selectionEnd>0&&b.prevInput=="​"?qi(A,EP)(A):ht++<10?T.detectingSelectAll=setTimeout(Ct,500):(T.selForContextMenu=null,T.input.reset())};T.detectingSelectAll=setTimeout(Ct,200)}}if(l&&u>=9&&Ze(),F){ft(g);var st=function(){it(window,"mouseup",st),setTimeout(Ke,20)};Me(window,"mouseup",st)}else setTimeout(Ke,50)},vi.prototype.readOnlyChanged=function(g){g||this.reset(),this.textarea.disabled=g=="nocursor",this.textarea.readOnly=!!g},vi.prototype.setUneditable=function(){},vi.prototype.needsContentAttribute=!1;function C0e(g,b){if(b=b?ye(b):{},b.value=g.value,!b.tabindex&&g.tabIndex&&(b.tabindex=g.tabIndex),!b.placeholder&&g.placeholder&&(b.placeholder=g.placeholder),b.autofocus==null){var A=V(pe(g));b.autofocus=A==g||g.getAttribute("autofocus")!=null&&A==document.body}function T(){g.value=re.getValue()}var N;if(g.form&&(Me(g.form,"submit",T),!b.leaveSubmitMethodAlone)){var G=g.form;N=G.submit;try{var j=G.submit=function(){T(),G.submit=N,G.submit(),G.submit=j}}catch{}}b.finishInit=function(ue){ue.save=T,ue.getTextArea=function(){return g},ue.toTextArea=function(){ue.toTextArea=isNaN,T(),g.parentNode.removeChild(ue.getWrapperElement()),g.style.display="",g.form&&(it(g.form,"submit",T),!b.leaveSubmitMethodAlone&&typeof g.form.submit=="function"&&(g.form.submit=N))}},g.style.display="none";var re=Wn(function(ue){return g.parentNode.insertBefore(ue,g.nextSibling)},b);return re}function A0e(g){g.off=it,g.on=Me,g.wheelEventPixels=Ide,g.Doc=Cs,g.splitLines=Wr,g.countColumn=J,g.findColumn=xe,g.isWordChar=de,g.Pass=me,g.signal=ut,g.Line=Op,g.changeEnd=zh,g.scrollbarModel=eP,g.Pos=yt,g.cmpPos=Tr,g.modes=zr,g.mimeModes=En,g.resolveMode=vt,g.getMode=Vt,g.modeExtensions=yr,g.extendMode=cn,g.copyState=Yr,g.startState=Cn,g.innerMode=Tn,g.commands=jv,g.keyMap=Ec,g.keyName=zP,g.isModifierKey=BP,g.lookupKey=Xp,g.normalizeKeyMap=r0e,g.StringStream=Et,g.SharedTextMarker=qv,g.TextMarker=Vh,g.LineWidget=Wv,g.e_preventDefault=at,g.e_stopPropagation=kt,g.e_stop=ft,g.addClass=X,g.contains=$,g.rmClass=B,g.keyNames=Uh}y0e(Wn),S0e(Wn);var _0e="iter insert remove copy getEditor constructor".split(" ");for(var N4 in Cs.prototype)Cs.prototype.hasOwnProperty(N4)&&oe(_0e,N4)<0&&(Wn.prototype[N4]=function(g){return function(){return g.apply(this.doc,arguments)}}(Cs.prototype[N4]));return ot(Cs),Wn.inputStyles={textarea:vi,contenteditable:hn},Wn.defineMode=function(g){!Wn.defaults.mode&&g!="null"&&(Wn.defaults.mode=g),Ut.apply(this,arguments)},Wn.defineMIME=Ye,Wn.defineMode("null",function(){return{token:function(g){return g.skipToEnd()}}}),Wn.defineMIME("text/plain","null"),Wn.defineExtension=function(g,b){Wn.prototype[g]=b},Wn.defineDocExtension=function(g,b){Cs.prototype[g]=b},Wn.fromTextArea=C0e,A0e(Wn),Wn.version="5.65.16",Wn})})(Hre);var jo=Hre.exports;(function(t,e){(function(r){r(jo)})(function(r){var n=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,i=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,a=/[*+-]\s/;r.commands.newlineAndIndentContinueMarkdownList=function(o){if(o.getOption("disableInput"))return r.Pass;for(var l=o.listSelections(),u=[],h=0;h<l.length;h++){var f=l[h].head,d=o.getStateAfter(f.line),p=r.innerMode(o.getMode(),d);if(p.mode.name!=="markdown"&&p.mode.helperType!=="markdown"){o.execCommand("newlineAndIndent");return}else d=p.state;var m=d.list!==!1,v=d.quote!==0,x=o.getLine(f.line),y=n.exec(x),w=/^\s*$/.test(x.slice(0,f.ch));if(!l[h].empty()||!m&&!v||!y||w){o.execCommand("newlineAndIndent");return}if(i.test(x)){var S=v&&/>\s*$/.test(x),E=!/>\s*$/.test(x);(S||E)&&o.replaceRange("",{line:f.line,ch:0},{line:f.line,ch:f.ch+1}),u[h]=`
`}else{var C=y[1],L=y[5],_=!(a.test(y[2])||y[2].indexOf(">")>=0),I=_?parseInt(y[3],10)+1+y[4]:y[2].replace("x"," ");u[h]=`
`+C+I+L,_&&s(o,f)}}o.replaceSelections(u)};function s(o,l){var u=l.line,h=0,f=0,d=n.exec(o.getLine(u)),p=d[1];do{h+=1;var m=u+h,v=o.getLine(m),x=n.exec(v);if(x){var y=x[1],w=parseInt(d[3],10)+h-f,S=parseInt(x[3],10),E=S;if(p===y&&!isNaN(S))w===S&&(E=S+1),w>S&&(E=w+1),o.replaceRange(v.replace(n,y+E+x[4]+x[5]),{line:m,ch:0},{line:m,ch:v.length});else{if(p.length>y.length||p.length<y.length&&h===1)return;f+=1}}}while(x)}})})();var Vre=jo;Vre.commands.tabAndIndentMarkdownList=function(t){var e=t.listSelections(),r=e[0].head,n=t.getStateAfter(r.line),i=n.list!==!1;if(i){t.execCommand("indentMore");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var a=Array(t.options.tabSize+1).join(" ");t.replaceSelection(a)}};Vre.commands.shiftTabAndUnindentMarkdownList=function(t){var e=t.listSelections(),r=e[0].head,n=t.getStateAfter(r.line),i=n.list!==!1;if(i){t.execCommand("indentLess");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var a=Array(t.options.tabSize+1).join(" ");t.replaceSelection(a)}};(function(t,e){(function(r){r(jo)})(function(r){r.defineOption("fullScreen",!1,function(a,s,o){o==r.Init&&(o=!1),!o!=!s&&(s?n(a):i(a))});function n(a){var s=a.getWrapperElement();a.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:s.style.width,height:s.style.height},s.style.width="",s.style.height="auto",s.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",a.refresh()}function i(a){var s=a.getWrapperElement();s.className=s.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var o=a.state.fullScreenRestore;s.style.width=o.width,s.style.height=o.height,window.scrollTo(o.scrollLeft,o.scrollTop),a.refresh()}})})();var jAe={exports:{}},KAe={exports:{}};(function(t,e){(function(r){r(jo)})(function(r){var n={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};r.defineMode("xml",function(a,s){var o=a.indentUnit,l={},u=s.htmlMode?n:i;for(var h in u)l[h]=u[h];for(var h in s)l[h]=s[h];var f,d;function p(O,P){function z(X){return P.tokenize=X,X(O,P)}var $=O.next();if($=="<")return O.eat("!")?O.eat("[")?O.match("CDATA[")?z(x("atom","]]>")):null:O.match("--")?z(x("comment","-->")):O.match("DOCTYPE",!0,!0)?(O.eatWhile(/[\w\._\-]/),z(y(1))):null:O.eat("?")?(O.eatWhile(/[\w\._\-]/),P.tokenize=x("meta","?>"),"meta"):(f=O.eat("/")?"closeTag":"openTag",P.tokenize=m,"tag bracket");if($=="&"){var V;return O.eat("#")?O.eat("x")?V=O.eatWhile(/[a-fA-F\d]/)&&O.eat(";"):V=O.eatWhile(/[\d]/)&&O.eat(";"):V=O.eatWhile(/[\w\.\-:]/)&&O.eat(";"),V?"atom":"error"}else return O.eatWhile(/[^&<]/),null}p.isInText=!0;function m(O,P){var z=O.next();if(z==">"||z=="/"&&O.eat(">"))return P.tokenize=p,f=z==">"?"endTag":"selfcloseTag","tag bracket";if(z=="=")return f="equals",null;if(z=="<"){P.tokenize=p,P.state=L,P.tagName=P.tagStart=null;var $=P.tokenize(O,P);return $?$+" tag error":"tag error"}else return/[\'\"]/.test(z)?(P.tokenize=v(z),P.stringStartCol=O.column(),P.tokenize(O,P)):(O.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function v(O){var P=function(z,$){for(;!z.eol();)if(z.next()==O){$.tokenize=m;break}return"string"};return P.isInAttribute=!0,P}function x(O,P){return function(z,$){for(;!z.eol();){if(z.match(P)){$.tokenize=p;break}z.next()}return O}}function y(O){return function(P,z){for(var $;($=P.next())!=null;){if($=="<")return z.tokenize=y(O+1),z.tokenize(P,z);if($==">")if(O==1){z.tokenize=p;break}else return z.tokenize=y(O-1),z.tokenize(P,z)}return"meta"}}function w(O){return O&&O.toLowerCase()}function S(O,P,z){this.prev=O.context,this.tagName=P||"",this.indent=O.indented,this.startOfLine=z,(l.doNotIndent.hasOwnProperty(P)||O.context&&O.context.noIndent)&&(this.noIndent=!0)}function E(O){O.context&&(O.context=O.context.prev)}function C(O,P){for(var z;;){if(!O.context||(z=O.context.tagName,!l.contextGrabbers.hasOwnProperty(w(z))||!l.contextGrabbers[w(z)].hasOwnProperty(w(P))))return;E(O)}}function L(O,P,z){return O=="openTag"?(z.tagStart=P.column(),_):O=="closeTag"?I:L}function _(O,P,z){return O=="word"?(z.tagName=P.current(),d="tag",M):l.allowMissingTagName&&O=="endTag"?(d="tag bracket",M(O,P,z)):(d="error",_)}function I(O,P,z){if(O=="word"){var $=P.current();return z.context&&z.context.tagName!=$&&l.implicitlyClosed.hasOwnProperty(w(z.context.tagName))&&E(z),z.context&&z.context.tagName==$||l.matchClosing===!1?(d="tag",D):(d="tag error",F)}else return l.allowMissingTagName&&O=="endTag"?(d="tag bracket",D(O,P,z)):(d="error",F)}function D(O,P,z){return O!="endTag"?(d="error",D):(E(z),L)}function F(O,P,z){return d="error",D(O,P,z)}function M(O,P,z){if(O=="word")return d="attribute",B;if(O=="endTag"||O=="selfcloseTag"){var $=z.tagName,V=z.tagStart;return z.tagName=z.tagStart=null,O=="selfcloseTag"||l.autoSelfClosers.hasOwnProperty(w($))?C(z,$):(C(z,$),z.context=new S(z,$,V==z.indented)),L}return d="error",M}function B(O,P,z){return O=="equals"?H:(l.allowMissing||(d="error"),M(O,P,z))}function H(O,P,z){return O=="string"?R:O=="word"&&l.allowUnquoted?(d="string",M):(d="error",M(O,P,z))}function R(O,P,z){return O=="string"?R:M(O,P,z)}return{startState:function(O){var P={tokenize:p,state:L,indented:O||0,tagName:null,tagStart:null,context:null};return O!=null&&(P.baseIndent=O),P},token:function(O,P){if(!P.tagName&&O.sol()&&(P.indented=O.indentation()),O.eatSpace())return null;f=null;var z=P.tokenize(O,P);return(z||f)&&z!="comment"&&(d=null,P.state=P.state(f||z,O,P),d&&(z=d=="error"?z+" error":d)),z},indent:function(O,P,z){var $=O.context;if(O.tokenize.isInAttribute)return O.tagStart==O.indented?O.stringStartCol+1:O.indented+o;if($&&$.noIndent)return r.Pass;if(O.tokenize!=m&&O.tokenize!=p)return z?z.match(/^(\s*)/)[0].length:0;if(O.tagName)return l.multilineTagIndentPastTag!==!1?O.tagStart+O.tagName.length+2:O.tagStart+o*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(P))return 0;var V=P&&/^<(\/)?([\w_:\.-]*)/.exec(P);if(V&&V[1])for(;$;)if($.tagName==V[2]){$=$.prev;break}else if(l.implicitlyClosed.hasOwnProperty(w($.tagName)))$=$.prev;else break;else if(V)for(;$;){var X=l.contextGrabbers[w($.tagName)];if(X&&X.hasOwnProperty(w(V[2])))$=$.prev;else break}for(;$&&$.prev&&!$.startOfLine;)$=$.prev;return $?$.indent+o:O.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3C!--",blockCommentEnd:"-->",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(O){O.state==H&&(O.state=M)},xmlCurrentTag:function(O){return O.tagName?{name:O.tagName,close:O.type=="closeTag"}:null},xmlCurrentContext:function(O){for(var P=[],z=O.context;z;z=z.prev)P.push(z.tagName);return P.reverse()}}}),r.defineMIME("text/xml","xml"),r.defineMIME("application/xml","xml"),r.mimeModes.hasOwnProperty("text/html")||r.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();var QAe=KAe.exports,Fz={exports:{}},Bz;function ZAe(){return Bz||(Bz=1,function(t,e){(function(r){r(jo)})(function(r){r.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var n=0;n<r.modeInfo.length;n++){var i=r.modeInfo[n];i.mimes&&(i.mime=i.mimes[0])}r.findModeByMIME=function(a){a=a.toLowerCase();for(var s=0;s<r.modeInfo.length;s++){var o=r.modeInfo[s];if(o.mime==a)return o;if(o.mimes){for(var l=0;l<o.mimes.length;l++)if(o.mimes[l]==a)return o}}if(/\+xml$/.test(a))return r.findModeByMIME("application/xml");if(/\+json$/.test(a))return r.findModeByMIME("application/json")},r.findModeByExtension=function(a){a=a.toLowerCase();for(var s=0;s<r.modeInfo.length;s++){var o=r.modeInfo[s];if(o.ext){for(var l=0;l<o.ext.length;l++)if(o.ext[l]==a)return o}}},r.findModeByFileName=function(a){for(var s=0;s<r.modeInfo.length;s++){var o=r.modeInfo[s];if(o.file&&o.file.test(a))return o}var l=a.lastIndexOf("."),u=l>-1&&a.substring(l+1,a.length);if(u)return r.findModeByExtension(u)},r.findModeByName=function(a){a=a.toLowerCase();for(var s=0;s<r.modeInfo.length;s++){var o=r.modeInfo[s];if(o.name.toLowerCase()==a)return o;if(o.alias){for(var l=0;l<o.alias.length;l++)if(o.alias[l].toLowerCase()==a)return o}}}})}()),Fz.exports}(function(t,e){(function(r){r(jo,QAe,ZAe())})(function(r){r.defineMode("markdown",function(n,i){var a=r.getMode(n,"text/html"),s=a.name=="null";function o(Y){if(r.findModeByName){var U=r.findModeByName(Y);U&&(Y=U.mime||U.mimes[0])}var Z=r.getMode(n,Y);return Z.name=="null"?null:Z}i.highlightFormatting===void 0&&(i.highlightFormatting=!1),i.maxBlockquoteDepth===void 0&&(i.maxBlockquoteDepth=0),i.taskLists===void 0&&(i.taskLists=!1),i.strikethrough===void 0&&(i.strikethrough=!1),i.emoji===void 0&&(i.emoji=!1),i.fencedCodeBlockHighlighting===void 0&&(i.fencedCodeBlockHighlighting=!0),i.fencedCodeBlockDefaultMode===void 0&&(i.fencedCodeBlockDefaultMode="text/plain"),i.xml===void 0&&(i.xml=!0),i.tokenTypeOverrides===void 0&&(i.tokenTypeOverrides={});var l={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var u in l)l.hasOwnProperty(u)&&i.tokenTypeOverrides[u]&&(l[u]=i.tokenTypeOverrides[u]);var h=/^([*\-_])(?:\s*\1){2,}\s*$/,f=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,d=/^\[(x| )\](?=\s)/i,p=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,m=/^ {0,3}(?:\={1,}|-{2,})\s*$/,v=/^[^#!\[\]*_\\<>` "'(~:]+/,x=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,y=/^\s*\[[^\]]+?\]:.*$/,w=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,S="    ";function E(Y,U,Z){return U.f=U.inline=Z,Z(Y,U)}function C(Y,U,Z){return U.f=U.block=Z,Z(Y,U)}function L(Y){return!Y||!/\S/.test(Y.string)}function _(Y){if(Y.linkTitle=!1,Y.linkHref=!1,Y.linkText=!1,Y.em=!1,Y.strong=!1,Y.strikethrough=!1,Y.quote=0,Y.indentedCode=!1,Y.f==D){var U=s;if(!U){var Z=r.innerMode(a,Y.htmlState);U=Z.mode.name=="xml"&&Z.state.tagStart===null&&!Z.state.context&&Z.state.tokenize.isInText}U&&(Y.f=H,Y.block=I,Y.htmlState=null)}return Y.trailingSpace=0,Y.trailingSpaceNewLine=!1,Y.prevLine=Y.thisLine,Y.thisLine={stream:null},null}function I(Y,U){var Z=Y.column()===U.indentation,pe=L(U.prevLine.stream),ne=U.indentedCode,ge=U.prevLine.hr,ye=U.list!==!1,J=(U.listStack[U.listStack.length-1]||0)+3;U.indentedCode=!1;var se=U.indentation;if(U.indentationDiff===null&&(U.indentationDiff=U.indentation,ye)){for(U.list=null;se<U.listStack[U.listStack.length-1];)U.listStack.pop(),U.listStack.length?U.indentation=U.listStack[U.listStack.length-1]:U.list=!1;U.list!==!1&&(U.indentationDiff=se-U.listStack[U.listStack.length-1])}var oe=!pe&&!ge&&!U.prevLine.header&&(!ye||!ne)&&!U.prevLine.fencedCodeEnd,fe=(U.list===!1||ge||pe)&&U.indentation<=J&&Y.match(h),me=null;if(U.indentationDiff>=4&&(ne||U.prevLine.fencedCodeEnd||U.prevLine.header||pe))return Y.skipToEnd(),U.indentedCode=!0,l.code;if(Y.eatSpace())return null;if(Z&&U.indentation<=J&&(me=Y.match(p))&&me[1].length<=6)return U.quote=0,U.header=me[1].length,U.thisLine.header=!0,i.highlightFormatting&&(U.formatting="header"),U.f=U.inline,M(U);if(U.indentation<=J&&Y.eat(">"))return U.quote=Z?1:U.quote+1,i.highlightFormatting&&(U.formatting="quote"),Y.eatSpace(),M(U);if(!fe&&!U.setext&&Z&&U.indentation<=J&&(me=Y.match(f))){var be=me[1]?"ol":"ul";return U.indentation=se+Y.current().length,U.list=!0,U.quote=0,U.listStack.push(U.indentation),U.em=!1,U.strong=!1,U.code=!1,U.strikethrough=!1,i.taskLists&&Y.match(d,!1)&&(U.taskList=!0),U.f=U.inline,i.highlightFormatting&&(U.formatting=["list","list-"+be]),M(U)}else{if(Z&&U.indentation<=J&&(me=Y.match(x,!0)))return U.quote=0,U.fencedEndRE=new RegExp(me[1]+"+ *$"),U.localMode=i.fencedCodeBlockHighlighting&&o(me[2]||i.fencedCodeBlockDefaultMode),U.localMode&&(U.localState=r.startState(U.localMode)),U.f=U.block=F,i.highlightFormatting&&(U.formatting="code-block"),U.code=-1,M(U);if(U.setext||(!oe||!ye)&&!U.quote&&U.list===!1&&!U.code&&!fe&&!y.test(Y.string)&&(me=Y.lookAhead(1))&&(me=me.match(m)))return U.setext?(U.header=U.setext,U.setext=0,Y.skipToEnd(),i.highlightFormatting&&(U.formatting="header")):(U.header=me[0].charAt(0)=="="?1:2,U.setext=U.header),U.thisLine.header=!0,U.f=U.inline,M(U);if(fe)return Y.skipToEnd(),U.hr=!0,U.thisLine.hr=!0,l.hr;if(Y.peek()==="[")return E(Y,U,$)}return E(Y,U,U.inline)}function D(Y,U){var Z=a.token(Y,U.htmlState);if(!s){var pe=r.innerMode(a,U.htmlState);(pe.mode.name=="xml"&&pe.state.tagStart===null&&!pe.state.context&&pe.state.tokenize.isInText||U.md_inside&&Y.current().indexOf(">")>-1)&&(U.f=H,U.block=I,U.htmlState=null)}return Z}function F(Y,U){var Z=U.listStack[U.listStack.length-1]||0,pe=U.indentation<Z,ne=Z+3;if(U.fencedEndRE&&U.indentation<=ne&&(pe||Y.match(U.fencedEndRE))){i.highlightFormatting&&(U.formatting="code-block");var ge;return pe||(ge=M(U)),U.localMode=U.localState=null,U.block=I,U.f=H,U.fencedEndRE=null,U.code=0,U.thisLine.fencedCodeEnd=!0,pe?C(Y,U,U.block):ge}else return U.localMode?U.localMode.token(Y,U.localState):(Y.skipToEnd(),l.code)}function M(Y){var U=[];if(Y.formatting){U.push(l.formatting),typeof Y.formatting=="string"&&(Y.formatting=[Y.formatting]);for(var Z=0;Z<Y.formatting.length;Z++)U.push(l.formatting+"-"+Y.formatting[Z]),Y.formatting[Z]==="header"&&U.push(l.formatting+"-"+Y.formatting[Z]+"-"+Y.header),Y.formatting[Z]==="quote"&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=Y.quote?U.push(l.formatting+"-"+Y.formatting[Z]+"-"+Y.quote):U.push("error"))}if(Y.taskOpen)return U.push("meta"),U.length?U.join(" "):null;if(Y.taskClosed)return U.push("property"),U.length?U.join(" "):null;if(Y.linkHref?U.push(l.linkHref,"url"):(Y.strong&&U.push(l.strong),Y.em&&U.push(l.em),Y.strikethrough&&U.push(l.strikethrough),Y.emoji&&U.push(l.emoji),Y.linkText&&U.push(l.linkText),Y.code&&U.push(l.code),Y.image&&U.push(l.image),Y.imageAltText&&U.push(l.imageAltText,"link"),Y.imageMarker&&U.push(l.imageMarker)),Y.header&&U.push(l.header,l.header+"-"+Y.header),Y.quote&&(U.push(l.quote),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=Y.quote?U.push(l.quote+"-"+Y.quote):U.push(l.quote+"-"+i.maxBlockquoteDepth)),Y.list!==!1){var pe=(Y.listStack.length-1)%3;pe?pe===1?U.push(l.list2):U.push(l.list3):U.push(l.list1)}return Y.trailingSpaceNewLine?U.push("trailing-space-new-line"):Y.trailingSpace&&U.push("trailing-space-"+(Y.trailingSpace%2?"a":"b")),U.length?U.join(" "):null}function B(Y,U){if(Y.match(v,!0))return M(U)}function H(Y,U){var Z=U.text(Y,U);if(typeof Z<"u")return Z;if(U.list)return U.list=null,M(U);if(U.taskList){var pe=Y.match(d,!0)[1]===" ";return pe?U.taskOpen=!0:U.taskClosed=!0,i.highlightFormatting&&(U.formatting="task"),U.taskList=!1,M(U)}if(U.taskOpen=!1,U.taskClosed=!1,U.header&&Y.match(/^#+$/,!0))return i.highlightFormatting&&(U.formatting="header"),M(U);var ne=Y.next();if(U.linkTitle){U.linkTitle=!1;var ge=ne;ne==="("&&(ge=")"),ge=(ge+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var ye="^\\s*(?:[^"+ge+"\\\\]+|\\\\\\\\|\\\\.)"+ge;if(Y.match(new RegExp(ye),!0))return l.linkHref}if(ne==="`"){var J=U.formatting;i.highlightFormatting&&(U.formatting="code"),Y.eatWhile("`");var se=Y.current().length;if(U.code==0&&(!U.quote||se==1))return U.code=se,M(U);if(se==U.code){var oe=M(U);return U.code=0,oe}else return U.formatting=J,M(U)}else if(U.code)return M(U);if(ne==="\\"&&(Y.next(),i.highlightFormatting)){var fe=M(U),me=l.formatting+"-escape";return fe?fe+" "+me:me}if(ne==="!"&&Y.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return U.imageMarker=!0,U.image=!0,i.highlightFormatting&&(U.formatting="image"),M(U);if(ne==="["&&U.imageMarker&&Y.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return U.imageMarker=!1,U.imageAltText=!0,i.highlightFormatting&&(U.formatting="image"),M(U);if(ne==="]"&&U.imageAltText){i.highlightFormatting&&(U.formatting="image");var fe=M(U);return U.imageAltText=!1,U.image=!1,U.inline=U.f=O,fe}if(ne==="["&&!U.image)return U.linkText&&Y.match(/^.*?\]/)||(U.linkText=!0,i.highlightFormatting&&(U.formatting="link")),M(U);if(ne==="]"&&U.linkText){i.highlightFormatting&&(U.formatting="link");var fe=M(U);return U.linkText=!1,U.inline=U.f=Y.match(/\(.*?\)| ?\[.*?\]/,!1)?O:H,fe}if(ne==="<"&&Y.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){U.f=U.inline=R,i.highlightFormatting&&(U.formatting="link");var fe=M(U);return fe?fe+=" ":fe="",fe+l.linkInline}if(ne==="<"&&Y.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){U.f=U.inline=R,i.highlightFormatting&&(U.formatting="link");var fe=M(U);return fe?fe+=" ":fe="",fe+l.linkEmail}if(i.xml&&ne==="<"&&Y.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var be=Y.string.indexOf(">",Y.pos);if(be!=-1){var ce=Y.string.substring(Y.start,be);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(ce)&&(U.md_inside=!0)}return Y.backUp(1),U.htmlState=r.startState(a),C(Y,U,D)}if(i.xml&&ne==="<"&&Y.match(/^\/\w*?>/))return U.md_inside=!1,"tag";if(ne==="*"||ne==="_"){for(var Ge=1,xe=Y.pos==1?" ":Y.string.charAt(Y.pos-2);Ge<3&&Y.eat(ne);)Ge++;var le=Y.peek()||" ",ke=!/\s/.test(le)&&(!w.test(le)||/\s/.test(xe)||w.test(xe)),De=!/\s/.test(xe)&&(!w.test(xe)||/\s/.test(le)||w.test(le)),We=null,qe=null;if(Ge%2&&(!U.em&&ke&&(ne==="*"||!De||w.test(xe))?We=!0:U.em==ne&&De&&(ne==="*"||!ke||w.test(le))&&(We=!1)),Ge>1&&(!U.strong&&ke&&(ne==="*"||!De||w.test(xe))?qe=!0:U.strong==ne&&De&&(ne==="*"||!ke||w.test(le))&&(qe=!1)),qe!=null||We!=null){i.highlightFormatting&&(U.formatting=We==null?"strong":qe==null?"em":"strong em"),We===!0&&(U.em=ne),qe===!0&&(U.strong=ne);var oe=M(U);return We===!1&&(U.em=!1),qe===!1&&(U.strong=!1),oe}}else if(ne===" "&&(Y.eat("*")||Y.eat("_"))){if(Y.peek()===" ")return M(U);Y.backUp(1)}if(i.strikethrough){if(ne==="~"&&Y.eatWhile(ne)){if(U.strikethrough){i.highlightFormatting&&(U.formatting="strikethrough");var oe=M(U);return U.strikethrough=!1,oe}else if(Y.match(/^[^\s]/,!1))return U.strikethrough=!0,i.highlightFormatting&&(U.formatting="strikethrough"),M(U)}else if(ne===" "&&Y.match("~~",!0)){if(Y.peek()===" ")return M(U);Y.backUp(2)}}if(i.emoji&&ne===":"&&Y.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){U.emoji=!0,i.highlightFormatting&&(U.formatting="emoji");var Ve=M(U);return U.emoji=!1,Ve}return ne===" "&&(Y.match(/^ +$/,!1)?U.trailingSpace++:U.trailingSpace&&(U.trailingSpaceNewLine=!0)),M(U)}function R(Y,U){var Z=Y.next();if(Z===">"){U.f=U.inline=H,i.highlightFormatting&&(U.formatting="link");var pe=M(U);return pe?pe+=" ":pe="",pe+l.linkInline}return Y.match(/^[^>]+/,!0),l.linkInline}function O(Y,U){if(Y.eatSpace())return null;var Z=Y.next();return Z==="("||Z==="["?(U.f=U.inline=z(Z==="("?")":"]"),i.highlightFormatting&&(U.formatting="link-string"),U.linkHref=!0,M(U)):"error"}var P={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function z(Y){return function(U,Z){var pe=U.next();if(pe===Y){Z.f=Z.inline=H,i.highlightFormatting&&(Z.formatting="link-string");var ne=M(Z);return Z.linkHref=!1,ne}return U.match(P[Y]),Z.linkHref=!0,M(Z)}}function $(Y,U){return Y.match(/^([^\]\\]|\\.)*\]:/,!1)?(U.f=V,Y.next(),i.highlightFormatting&&(U.formatting="link"),U.linkText=!0,M(U)):E(Y,U,H)}function V(Y,U){if(Y.match("]:",!0)){U.f=U.inline=X,i.highlightFormatting&&(U.formatting="link");var Z=M(U);return U.linkText=!1,Z}return Y.match(/^([^\]\\]|\\.)+/,!0),l.linkText}function X(Y,U){return Y.eatSpace()?null:(Y.match(/^[^\s]+/,!0),Y.peek()===void 0?U.linkTitle=!0:Y.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),U.f=U.inline=H,l.linkHref+" url")}var q={startState:function(){return{f:I,prevLine:{stream:null},thisLine:{stream:null},block:I,htmlState:null,indentation:0,inline:H,text:B,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(Y){return{f:Y.f,prevLine:Y.prevLine,thisLine:Y.thisLine,block:Y.block,htmlState:Y.htmlState&&r.copyState(a,Y.htmlState),indentation:Y.indentation,localMode:Y.localMode,localState:Y.localMode?r.copyState(Y.localMode,Y.localState):null,inline:Y.inline,text:Y.text,formatting:!1,linkText:Y.linkText,linkTitle:Y.linkTitle,linkHref:Y.linkHref,code:Y.code,em:Y.em,strong:Y.strong,strikethrough:Y.strikethrough,emoji:Y.emoji,header:Y.header,setext:Y.setext,hr:Y.hr,taskList:Y.taskList,list:Y.list,listStack:Y.listStack.slice(0),quote:Y.quote,indentedCode:Y.indentedCode,trailingSpace:Y.trailingSpace,trailingSpaceNewLine:Y.trailingSpaceNewLine,md_inside:Y.md_inside,fencedEndRE:Y.fencedEndRE}},token:function(Y,U){if(U.formatting=!1,Y!=U.thisLine.stream){if(U.header=0,U.hr=!1,Y.match(/^\s*$/,!0))return _(U),null;if(U.prevLine=U.thisLine,U.thisLine={stream:Y},U.taskList=!1,U.trailingSpace=0,U.trailingSpaceNewLine=!1,!U.localState&&(U.f=U.block,U.f!=D)){var Z=Y.match(/^\s*/,!0)[0].replace(/\t/g,S).length;if(U.indentation=Z,U.indentationDiff=null,Z>0)return null}}return U.f(Y,U)},innerMode:function(Y){return Y.block==D?{state:Y.htmlState,mode:a}:Y.localState?{state:Y.localState,mode:Y.localMode}:{state:Y,mode:q}},indent:function(Y,U,Z){return Y.block==D&&a.indent?a.indent(Y.htmlState,U,Z):Y.localState&&Y.localMode.indent?Y.localMode.indent(Y.localState,U,Z):r.Pass},blankLine:_,getType:M,blockCommentStart:"\x3C!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return q},"xml"),r.defineMIME("text/markdown","markdown"),r.defineMIME("text/x-markdown","markdown")})})();var JAe=jAe.exports,e_e={exports:{}};(function(t,e){(function(r){r(jo)})(function(r){r.overlayMode=function(n,i,a){return{startState:function(){return{base:r.startState(n),overlay:r.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(s){return{base:r.copyState(n,s.base),overlay:r.copyState(i,s.overlay),basePos:s.basePos,baseCur:null,overlayPos:s.overlayPos,overlayCur:null}},token:function(s,o){return(s!=o.streamSeen||Math.min(o.basePos,o.overlayPos)<s.start)&&(o.streamSeen=s,o.basePos=o.overlayPos=s.start),s.start==o.basePos&&(o.baseCur=n.token(s,o.base),o.basePos=s.pos),s.start==o.overlayPos&&(s.pos=s.start,o.overlayCur=i.token(s,o.overlay),o.overlayPos=s.pos),s.pos=Math.min(o.basePos,o.overlayPos),o.overlayCur==null?o.baseCur:o.baseCur!=null&&o.overlay.combineTokens||a&&o.overlay.combineTokens==null?o.baseCur+" "+o.overlayCur:o.overlayCur},indent:n.indent&&function(s,o,l){return n.indent(s.base,o,l)},electricChars:n.electricChars,innerMode:function(s){return{state:s.base,mode:n}},blankLine:function(s){var o,l;return n.blankLine&&(o=n.blankLine(s.base)),i.blankLine&&(l=i.blankLine(s.overlay)),l==null?o:a&&o!=null?o+" "+l:l}}}})})();var t_e=e_e.exports;(function(t,e){(function(r){r(jo)})(function(r){r.defineOption("placeholder","",function(u,h,f){var d=f&&f!=r.Init;if(h&&!d)u.on("blur",s),u.on("change",o),u.on("swapDoc",o),r.on(u.getInputField(),"compositionupdate",u.state.placeholderCompose=function(){a(u)}),o(u);else if(!h&&d){u.off("blur",s),u.off("change",o),u.off("swapDoc",o),r.off(u.getInputField(),"compositionupdate",u.state.placeholderCompose),n(u);var p=u.getWrapperElement();p.className=p.className.replace(" CodeMirror-empty","")}h&&!u.hasFocus()&&s(u)});function n(u){u.state.placeholder&&(u.state.placeholder.parentNode.removeChild(u.state.placeholder),u.state.placeholder=null)}function i(u){n(u);var h=u.state.placeholder=document.createElement("pre");h.style.cssText="height: 0; overflow: visible",h.style.direction=u.getOption("direction"),h.className="CodeMirror-placeholder CodeMirror-line-like";var f=u.getOption("placeholder");typeof f=="string"&&(f=document.createTextNode(f)),h.appendChild(f),u.display.lineSpace.insertBefore(h,u.display.lineSpace.firstChild)}function a(u){setTimeout(function(){var h=!1;if(u.lineCount()==1){var f=u.getInputField();h=f.nodeName=="TEXTAREA"?!u.getLine(0).length:!/[^\u200b]/.test(f.querySelector(".CodeMirror-line").textContent)}h?i(u):n(u)},20)}function s(u){l(u)&&i(u)}function o(u){var h=u.getWrapperElement(),f=l(u);h.className=h.className.replace(" CodeMirror-empty","")+(f?" CodeMirror-empty":""),f?i(u):n(u)}function l(u){return u.lineCount()===1&&u.getLine(0)===""}})})();(function(t,e){(function(r){r(jo)})(function(r){r.defineOption("autoRefresh",!1,function(a,s){a.state.autoRefresh&&(i(a,a.state.autoRefresh),a.state.autoRefresh=null),s&&a.display.wrapper.offsetHeight==0&&n(a,a.state.autoRefresh={delay:s.delay||250})});function n(a,s){function o(){a.display.wrapper.offsetHeight?(i(a,s),a.display.lastWrapHeight!=a.display.wrapper.clientHeight&&a.refresh()):s.timeout=setTimeout(o,s.delay)}s.timeout=setTimeout(o,s.delay),s.hurry=function(){clearTimeout(s.timeout),s.timeout=setTimeout(o,50)},r.on(window,"mouseup",s.hurry),r.on(window,"keyup",s.hurry)}function i(a,s){clearTimeout(s.timeout),r.off(window,"mouseup",s.hurry),r.off(window,"keyup",s.hurry)}})})();(function(t,e){(function(r){r(jo)})(function(r){r.defineOption("styleSelectedText",!1,function(d,p,m){var v=m&&m!=r.Init;p&&!v?(d.state.markedSelection=[],d.state.markedSelectionStyle=typeof p=="string"?p:"CodeMirror-selectedtext",h(d),d.on("cursorActivity",n),d.on("change",i)):!p&&v&&(d.off("cursorActivity",n),d.off("change",i),u(d),d.state.markedSelection=d.state.markedSelectionStyle=null)});function n(d){d.state.markedSelection&&d.operation(function(){f(d)})}function i(d){d.state.markedSelection&&d.state.markedSelection.length&&d.operation(function(){u(d)})}var a=8,s=r.Pos,o=r.cmpPos;function l(d,p,m,v){if(o(p,m)!=0)for(var x=d.state.markedSelection,y=d.state.markedSelectionStyle,w=p.line;;){var S=w==p.line?p:s(w,0),E=w+a,C=E>=m.line,L=C?m:s(E,0),_=d.markText(S,L,{className:y});if(v==null?x.push(_):x.splice(v++,0,_),C)break;w=E}}function u(d){for(var p=d.state.markedSelection,m=0;m<p.length;++m)p[m].clear();p.length=0}function h(d){u(d);for(var p=d.listSelections(),m=0;m<p.length;m++)l(d,p[m].from(),p[m].to())}function f(d){if(!d.somethingSelected())return u(d);if(d.listSelections().length>1)return h(d);var p=d.getCursor("start"),m=d.getCursor("end"),v=d.state.markedSelection;if(!v.length)return l(d,p,m);var x=v[0].find(),y=v[v.length-1].find();if(!x||!y||m.line-p.line<=a||o(p,y.to)>=0||o(m,x.from)<=0)return h(d);for(;o(p,x.from)>0;)v.shift().clear(),x=v[0].find();for(o(p,x.from)<0&&(x.to.line-p.line<a?(v.shift().clear(),l(d,p,x.to,0)):l(d,p,x.from,0));o(m,y.to)<0;)v.pop().clear(),y=v[v.length-1].find();o(m,y.to)>0&&(m.line-y.from.line<a?(v.pop().clear(),l(d,y.from,m)):l(d,y.to,m))}})})();(function(t,e){(function(r){r(jo)})(function(r){var n=r.Pos;function i(w){var S=w.flags;return S??(w.ignoreCase?"i":"")+(w.global?"g":"")+(w.multiline?"m":"")}function a(w,S){for(var E=i(w),C=E,L=0;L<S.length;L++)C.indexOf(S.charAt(L))==-1&&(C+=S.charAt(L));return E==C?w:new RegExp(w.source,C)}function s(w){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(w.source)}function o(w,S,E){S=a(S,"g");for(var C=E.line,L=E.ch,_=w.lastLine();C<=_;C++,L=0){S.lastIndex=L;var I=w.getLine(C),D=S.exec(I);if(D)return{from:n(C,D.index),to:n(C,D.index+D[0].length),match:D}}}function l(w,S,E){if(!s(S))return o(w,S,E);S=a(S,"gm");for(var C,L=1,_=E.line,I=w.lastLine();_<=I;){for(var D=0;D<L&&!(_>I);D++){var F=w.getLine(_++);C=C==null?F:C+`
`+F}L=L*2,S.lastIndex=E.ch;var M=S.exec(C);if(M){var B=C.slice(0,M.index).split(`
`),H=M[0].split(`
`),R=E.line+B.length-1,O=B[B.length-1].length;return{from:n(R,O),to:n(R+H.length-1,H.length==1?O+H[0].length:H[H.length-1].length),match:M}}}}function u(w,S,E){for(var C,L=0;L<=w.length;){S.lastIndex=L;var _=S.exec(w);if(!_)break;var I=_.index+_[0].length;if(I>w.length-E)break;(!C||I>C.index+C[0].length)&&(C=_),L=_.index+1}return C}function h(w,S,E){S=a(S,"g");for(var C=E.line,L=E.ch,_=w.firstLine();C>=_;C--,L=-1){var I=w.getLine(C),D=u(I,S,L<0?0:I.length-L);if(D)return{from:n(C,D.index),to:n(C,D.index+D[0].length),match:D}}}function f(w,S,E){if(!s(S))return h(w,S,E);S=a(S,"gm");for(var C,L=1,_=w.getLine(E.line).length-E.ch,I=E.line,D=w.firstLine();I>=D;){for(var F=0;F<L&&I>=D;F++){var M=w.getLine(I--);C=C==null?M:M+`
`+C}L*=2;var B=u(C,S,_);if(B){var H=C.slice(0,B.index).split(`
`),R=B[0].split(`
`),O=I+H.length,P=H[H.length-1].length;return{from:n(O,P),to:n(O+R.length-1,R.length==1?P+R[0].length:R[R.length-1].length),match:B}}}}var d,p;String.prototype.normalize?(d=function(w){return w.normalize("NFD").toLowerCase()},p=function(w){return w.normalize("NFD")}):(d=function(w){return w.toLowerCase()},p=function(w){return w});function m(w,S,E,C){if(w.length==S.length)return E;for(var L=0,_=E+Math.max(0,w.length-S.length);;){if(L==_)return L;var I=L+_>>1,D=C(w.slice(0,I)).length;if(D==E)return I;D>E?_=I:L=I+1}}function v(w,S,E,C){if(!S.length)return null;var L=C?d:p,_=L(S).split(/\r|\n\r?/);e:for(var I=E.line,D=E.ch,F=w.lastLine()+1-_.length;I<=F;I++,D=0){var M=w.getLine(I).slice(D),B=L(M);if(_.length==1){var H=B.indexOf(_[0]);if(H==-1)continue e;var E=m(M,B,H,L)+D;return{from:n(I,m(M,B,H,L)+D),to:n(I,m(M,B,H+_[0].length,L)+D)}}else{var R=B.length-_[0].length;if(B.slice(R)!=_[0])continue e;for(var O=1;O<_.length-1;O++)if(L(w.getLine(I+O))!=_[O])continue e;var P=w.getLine(I+_.length-1),z=L(P),$=_[_.length-1];if(z.slice(0,$.length)!=$)continue e;return{from:n(I,m(M,B,R,L)+D),to:n(I+_.length-1,m(P,z,$.length,L))}}}}function x(w,S,E,C){if(!S.length)return null;var L=C?d:p,_=L(S).split(/\r|\n\r?/);e:for(var I=E.line,D=E.ch,F=w.firstLine()-1+_.length;I>=F;I--,D=-1){var M=w.getLine(I);D>-1&&(M=M.slice(0,D));var B=L(M);if(_.length==1){var H=B.lastIndexOf(_[0]);if(H==-1)continue e;return{from:n(I,m(M,B,H,L)),to:n(I,m(M,B,H+_[0].length,L))}}else{var R=_[_.length-1];if(B.slice(0,R.length)!=R)continue e;for(var O=1,E=I-_.length+1;O<_.length-1;O++)if(L(w.getLine(E+O))!=_[O])continue e;var P=w.getLine(I+1-_.length),z=L(P);if(z.slice(z.length-_[0].length)!=_[0])continue e;return{from:n(I+1-_.length,m(P,z,P.length-_[0].length,L)),to:n(I,m(M,B,R.length,L))}}}}function y(w,S,E,C){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=w,E=E?w.clipPos(E):n(0,0),this.pos={from:E,to:E};var L;typeof C=="object"?L=C.caseFold:(L=C,C=null),typeof S=="string"?(L==null&&(L=!1),this.matches=function(_,I){return(_?x:v)(w,S,I,L)}):(S=a(S,"gm"),!C||C.multiline!==!1?this.matches=function(_,I){return(_?f:l)(w,S,I)}:this.matches=function(_,I){return(_?h:o)(w,S,I)})}y.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(w){var S=this.doc.clipPos(w?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(S=n(S.line,S.ch),w?(S.ch--,S.ch<0&&(S.line--,S.ch=(this.doc.getLine(S.line)||"").length)):(S.ch++,S.ch>(this.doc.getLine(S.line)||"").length&&(S.ch=0,S.line++)),r.cmpPos(S,this.doc.clipPos(S))!=0))return this.atOccurrence=!1;var E=this.matches(w,S);if(this.afterEmptyMatch=E&&r.cmpPos(E.from,E.to)==0,E)return this.pos=E,this.atOccurrence=!0,this.pos.match||!0;var C=n(w?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:C,to:C},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(w,S){if(this.atOccurrence){var E=r.splitLines(w);this.doc.replaceRange(E,this.pos.from,this.pos.to,S),this.pos.to=n(this.pos.from.line+E.length-1,E[E.length-1].length+(E.length==1?this.pos.from.ch:0))}}},r.defineExtension("getSearchCursor",function(w,S,E){return new y(this.doc,w,S,E)}),r.defineDocExtension("getSearchCursor",function(w,S,E){return new y(this,w,S,E)}),r.defineExtension("selectMatches",function(w,S){for(var E=[],C=this.getSearchCursor(w,this.getCursor("from"),S);C.findNext()&&!(r.cmpPos(C.to(),this.getCursor("to"))>0);)E.push({anchor:C.from(),head:C.to()});E.length&&this.setSelections(E,0)})})})();(function(t,e){(function(r){r(jo,JAe,t_e)})(function(r){var n=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;r.defineMode("gfm",function(i,a){var s=0;function o(f){return f.code=!1,null}var l={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(f){return{code:f.code,codeBlock:f.codeBlock,ateSpace:f.ateSpace}},token:function(f,d){if(d.combineTokens=null,d.codeBlock)return f.match(/^```+/)?(d.codeBlock=!1,null):(f.skipToEnd(),null);if(f.sol()&&(d.code=!1),f.sol()&&f.match(/^```+/))return f.skipToEnd(),d.codeBlock=!0,null;if(f.peek()==="`"){f.next();var p=f.pos;f.eatWhile("`");var m=1+f.pos-p;return d.code?m===s&&(d.code=!1):(s=m,d.code=!0),null}else if(d.code)return f.next(),null;if(f.eatSpace())return d.ateSpace=!0,null;if((f.sol()||d.ateSpace)&&(d.ateSpace=!1,a.gitHubSpice!==!1)){if(f.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return d.combineTokens=!0,"link";if(f.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return d.combineTokens=!0,"link"}return f.match(n)&&f.string.slice(f.start-2,f.start)!="]("&&(f.start==0||/\W/.test(f.string.charAt(f.start-1)))?(d.combineTokens=!0,"link"):(f.next(),null)},blankLine:o},u={taskLists:!0,strikethrough:!0,emoji:!0};for(var h in a)u[h]=a[h];return u.name="markdown",r.overlayMode(r.getMode(i,u),l)},"markdown"),r.defineMIME("text/x-gfm","gfm")})})();function r_e(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ure={exports:{}};const n_e={},i_e=Object.freeze(Object.defineProperty({__proto__:null,default:n_e},Symbol.toStringTag,{value:"Module"})),a_e=N0e(i_e);(function(t){var e;(function(){e=function(r,n,i,a){a=a||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=a.flags||{},this.memoized={},this.loaded=!1;var s=this,o,l,u,h,f;r&&(s.dictionary=r,n&&i?v():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(a.dictionaryPath?o=a.dictionaryPath:o="typo/dictionaries",n||d(chrome.extension.getURL(o+"/"+r+"/"+r+".aff"),p),i||d(chrome.extension.getURL(o+"/"+r+"/"+r+".dic"),m)):(a.dictionaryPath?o=a.dictionaryPath:typeof __dirname<"u"?o=__dirname+"/dictionaries":o="./dictionaries",n||d(o+"/"+r+"/"+r+".aff",p),i||d(o+"/"+r+"/"+r+".dic",m)));function d(x,y){var w=s._readFile(x,null,a.asyncLoad);a.asyncLoad?w.then(function(S){y(S)}):y(w)}function p(x){n=x,i&&v()}function m(x){i=x,n&&v()}function v(){for(s.rules=s._parseAFF(n),s.compoundRuleCodes={},l=0,h=s.compoundRules.length;l<h;l++){var x=s.compoundRules[l];for(u=0,f=x.length;u<f;u++)s.compoundRuleCodes[x[u]]=[]}"ONLYINCOMPOUND"in s.flags&&(s.compoundRuleCodes[s.flags.ONLYINCOMPOUND]=[]),s.dictionaryTable=s._parseDIC(i);for(l in s.compoundRuleCodes)s.compoundRuleCodes[l].length===0&&delete s.compoundRuleCodes[l];for(l=0,h=s.compoundRules.length;l<h;l++){var y=s.compoundRules[l],w="";for(u=0,f=y.length;u<f;u++){var S=y[u];S in s.compoundRuleCodes?w+="("+s.compoundRuleCodes[S].join("|")+")":w+=S}s.compoundRules[l]=new RegExp(w,"i")}s.loaded=!0,a.asyncLoad&&a.loadedCallback&&a.loadedCallback(s)}return this},e.prototype={load:function(r){for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);return this},_readFile:function(r,n,i){if(n=n||"utf8",typeof XMLHttpRequest<"u"){var a,s=new XMLHttpRequest;return s.open("GET",r,i),i&&(a=new Promise(function(l,u){s.onload=function(){s.status===200?l(s.responseText):u(s.statusText)},s.onerror=function(){u(s.statusText)}})),s.overrideMimeType&&s.overrideMimeType("text/plain; charset="+n),s.send(null),i?a:s.responseText}else if(typeof r_e<"u"){var o=a_e;try{if(o.existsSync(r))return o.readFileSync(r,n);console.log("Path "+r+" does not exist.")}catch(l){return console.log(l),""}}},_parseAFF:function(r){var n={},i,a,s,o,l,u,h,f,d=r.split(/\r?\n/);for(l=0,h=d.length;l<h;l++)if(i=this._removeAffixComments(d[l]),i=i.trim(),!!i){var p=i.split(/\s+/),m=p[0];if(m=="PFX"||m=="SFX"){var v=p[1],x=p[2];s=parseInt(p[3],10);var y=[];for(u=l+1,f=l+1+s;u<f;u++){a=d[u],o=a.split(/\s+/);var w=o[2],S=o[3].split("/"),E=S[0];E==="0"&&(E="");var C=this.parseRuleCodes(S[1]),L=o[4],_={};_.add=E,C.length>0&&(_.continuationClasses=C),L!=="."&&(m==="SFX"?_.match=new RegExp(L+"$"):_.match=new RegExp("^"+L)),w!="0"&&(m==="SFX"?_.remove=new RegExp(w+"$"):_.remove=w),y.push(_)}n[v]={type:m,combineable:x=="Y",entries:y},l+=s}else if(m==="COMPOUNDRULE"){for(s=parseInt(p[1],10),u=l+1,f=l+1+s;u<f;u++)i=d[u],o=i.split(/\s+/),this.compoundRules.push(o[1]);l+=s}else m==="REP"?(o=i.split(/\s+/),o.length===3&&this.replacementTable.push([o[1],o[2]])):this.flags[m]=p[1]}return n},_removeAffixComments:function(r){return r.match(/^\s*#/,"")?"":r},_parseDIC:function(r){r=this._removeDicComments(r);var n=r.split(/\r?\n/),i={};function a(M,B){i.hasOwnProperty(M)||(i[M]=null),B.length>0&&(i[M]===null&&(i[M]=[]),i[M].push(B))}for(var s=1,o=n.length;s<o;s++){var l=n[s];if(l){var u=l.split("/",2),h=u[0];if(u.length>1){var f=this.parseRuleCodes(u[1]);(!("NEEDAFFIX"in this.flags)||f.indexOf(this.flags.NEEDAFFIX)==-1)&&a(h,f);for(var d=0,p=f.length;d<p;d++){var m=f[d],v=this.rules[m];if(v)for(var x=this._applyRule(h,v),y=0,w=x.length;y<w;y++){var S=x[y];if(a(S,[]),v.combineable)for(var E=d+1;E<p;E++){var C=f[E],L=this.rules[C];if(L&&L.combineable&&v.type!=L.type)for(var _=this._applyRule(S,L),I=0,D=_.length;I<D;I++){var F=_[I];a(F,[])}}}m in this.compoundRuleCodes&&this.compoundRuleCodes[m].push(h)}}else a(h.trim(),[])}}return i},_removeDicComments:function(r){return r=r.replace(/^\t.*$/mg,""),r},parseRuleCodes:function(r){if(r)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var n=[],i=0,a=r.length;i<a;i+=2)n.push(r.substr(i,2));return n}else return this.flags.FLAG==="num"?r.split(","):this.flags.FLAG==="UTF-8"?Array.from(r):r.split("");else return r.split("");else return[]},_applyRule:function(r,n){for(var i=n.entries,a=[],s=0,o=i.length;s<o;s++){var l=i[s];if(!l.match||r.match(l.match)){var u=r;if(l.remove&&(u=u.replace(l.remove,"")),n.type==="SFX"?u=u+l.add:u=l.add+u,a.push(u),"continuationClasses"in l)for(var h=0,f=l.continuationClasses.length;h<f;h++){var d=this.rules[l.continuationClasses[h]];d&&(a=a.concat(this._applyRule(u,d)))}}}return a},check:function(r){if(!this.loaded)throw"Dictionary not loaded.";if(!r)return!1;var n=r.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(n))return!0;if(n.toUpperCase()===n){var i=n[0]+n.substring(1).toLowerCase();if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i)||this.checkExact(n.toLowerCase()))return!0}var a=n[0].toLowerCase()+n.substring(1);if(a!==n){if(this.hasFlag(a,"KEEPCASE"))return!1;if(this.checkExact(a))return!0}return!1},checkExact:function(r){if(!this.loaded)throw"Dictionary not loaded.";var n=this.dictionaryTable[r],i,a;if(typeof n>"u"){if("COMPOUNDMIN"in this.flags&&r.length>=this.flags.COMPOUNDMIN){for(i=0,a=this.compoundRules.length;i<a;i++)if(r.match(this.compoundRules[i]))return!0}}else{if(n===null)return!0;if(typeof n=="object"){for(i=0,a=n.length;i<a;i++)if(!this.hasFlag(r,"ONLYINCOMPOUND",n[i]))return!0}}return!1},hasFlag:function(r,n,i){if(!this.loaded)throw"Dictionary not loaded.";return!!(n in this.flags&&(typeof i>"u"&&(i=Array.prototype.concat.apply([],this.dictionaryTable[r])),i&&i.indexOf(this.flags[n])!==-1))},alphabet:"",suggest:function(r,n){if(!this.loaded)throw"Dictionary not loaded.";if(n=n||5,this.memoized.hasOwnProperty(r)){var i=this.memoized[r].limit;if(n<=i||this.memoized[r].suggestions.length<i)return this.memoized[r].suggestions.slice(0,n)}if(this.check(r))return[];for(var a=0,s=this.replacementTable.length;a<s;a++){var o=this.replacementTable[a];if(r.indexOf(o[0])!==-1){var l=r.replace(o[0],o[1]);if(this.check(l))return[l]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var u=this.alphabet.split("");u.sort();for(var h={},a=0;a<u.length;a++)h[u[a]]=!0;this.alphabet="";for(var a in h)this.alphabet+=a}var f=this;function d(m,v){var x={},y,w,S,E,C=f.alphabet.length;if(typeof m=="string"){var L=m;m={},m[L]=!0}for(var L in m)for(y=0,S=L.length+1;y<S;y++){var _=[L.substring(0,y),L.substring(y)];if(_[1]&&(E=_[0]+_[1].substring(1),(!v||f.check(E))&&(E in x?x[E]+=1:x[E]=1)),_[1].length>1&&_[1][1]!==_[1][0]&&(E=_[0]+_[1][1]+_[1][0]+_[1].substring(2),(!v||f.check(E))&&(E in x?x[E]+=1:x[E]=1)),_[1]){var I=_[1].substring(0,1).toUpperCase()===_[1].substring(0,1)?"uppercase":"lowercase";for(w=0;w<C;w++){var D=f.alphabet[w];I==="uppercase"&&(D=D.toUpperCase()),D!=_[1].substring(0,1)&&(E=_[0]+D+_[1].substring(1),(!v||f.check(E))&&(E in x?x[E]+=1:x[E]=1))}}if(_[1])for(w=0;w<C;w++){var I=_[0].substring(-1).toUpperCase()===_[0].substring(-1)&&_[1].substring(0,1).toUpperCase()===_[1].substring(0,1)?"uppercase":"lowercase",D=f.alphabet[w];I==="uppercase"&&(D=D.toUpperCase()),E=_[0]+D+_[1],(!v||f.check(E))&&(E in x?x[E]+=1:x[E]=1)}}return x}function p(m){var v=d(m),x=d(v,!0),y=x;for(var w in v)f.check(w)&&(w in y?y[w]+=v[w]:y[w]=v[w]);var S,E=[];for(S in y)y.hasOwnProperty(S)&&E.push([S,y[S]]);function C(D,F){var M=D[1],B=F[1];return M<B?-1:M>B?1:F[0].localeCompare(D[0])}E.sort(C).reverse();var L=[],_="lowercase";m.toUpperCase()===m?_="uppercase":m.substr(0,1).toUpperCase()+m.substr(1).toLowerCase()===m&&(_="capitalized");var I=n;for(S=0;S<Math.min(I,E.length);S++)_==="uppercase"?E[S][0]=E[S][0].toUpperCase():_==="capitalized"&&(E[S][0]=E[S][0].substr(0,1).toUpperCase()+E[S][0].substr(1)),!f.hasFlag(E[S][0],"NOSUGGEST")&&L.indexOf(E[S][0])==-1?L.push(E[S][0]):I++;return L}return this.memoized[r]={suggestions:p(r),limit:n},this.memoized[r].suggestions}}})(),t.exports=e})(Ure);var s_e=Ure.exports,$z=s_e;function Yn(t){if(t=t||{},typeof t.codeMirrorInstance!="function"||typeof t.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),t.codeMirrorInstance.defineMode("spell-checker",function(e){if(!Yn.aff_loading){Yn.aff_loading=!0;var r=new XMLHttpRequest;r.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),r.onload=function(){r.readyState===4&&r.status===200&&(Yn.aff_data=r.responseText,Yn.num_loaded++,Yn.num_loaded==2&&(Yn.typo=new $z("en_US",Yn.aff_data,Yn.dic_data,{platform:"any"})))},r.send(null)}if(!Yn.dic_loading){Yn.dic_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),n.onload=function(){n.readyState===4&&n.status===200&&(Yn.dic_data=n.responseText,Yn.num_loaded++,Yn.num_loaded==2&&(Yn.typo=new $z("en_US",Yn.aff_data,Yn.dic_data,{platform:"any"})))},n.send(null)}var i='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',a={token:function(o){var l=o.peek(),u="";if(i.includes(l))return o.next(),null;for(;(l=o.peek())!=null&&!i.includes(l);)u+=l,o.next();return Yn.typo&&!Yn.typo.check(u)?"spell-error":null}},s=t.codeMirrorInstance.getMode(e,e.backdrop||"text/plain");return t.codeMirrorInstance.overlayMode(s,a,!0)})}Yn.num_loaded=0;Yn.aff_loading=!1;Yn.dic_loading=!1;Yn.aff_data="";Yn.dic_data="";Yn.typo;var o_e=Yn,Gre={};(function(t){function e(we,Te){for(var de=0;de<Te.length;de++){var W=Te[de];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(we,l(W.key),W)}}function r(we,Te,de){return de&&e(we,de),Object.defineProperty(we,"prototype",{writable:!1}),we}function n(){return n=Object.assign?Object.assign.bind():function(we){for(var Te=1;Te<arguments.length;Te++){var de=arguments[Te];for(var W in de)Object.prototype.hasOwnProperty.call(de,W)&&(we[W]=de[W])}return we},n.apply(this,arguments)}function i(we,Te){if(we){if(typeof we=="string")return a(we,Te);var de=Object.prototype.toString.call(we).slice(8,-1);if(de==="Object"&&we.constructor&&(de=we.constructor.name),de==="Map"||de==="Set")return Array.from(we);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return a(we,Te)}}function a(we,Te){(Te==null||Te>we.length)&&(Te=we.length);for(var de=0,W=new Array(Te);de<Te;de++)W[de]=we[de];return W}function s(we,Te){var de=typeof Symbol<"u"&&we[Symbol.iterator]||we["@@iterator"];if(de)return(de=de.call(we)).next.bind(de);if(Array.isArray(we)||(de=i(we))||Te){de&&(we=de);var W=0;return function(){return W>=we.length?{done:!0}:{done:!1,value:we[W++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(we,Te){if(typeof we!="object"||we===null)return we;var de=we[Symbol.toPrimitive];if(de!==void 0){var W=de.call(we,Te);if(typeof W!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(we)}function l(we){var Te=o(we,"string");return typeof Te=="symbol"?Te:String(Te)}function u(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.defaults=u();function h(we){t.defaults=we}var f=/[&<>"']/,d=new RegExp(f.source,"g"),p=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,m=new RegExp(p.source,"g"),v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},x=function(Te){return v[Te]};function y(we,Te){if(Te){if(f.test(we))return we.replace(d,x)}else if(p.test(we))return we.replace(m,x);return we}var w=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function S(we){return we.replace(w,function(Te,de){return de=de.toLowerCase(),de==="colon"?":":de.charAt(0)==="#"?de.charAt(1)==="x"?String.fromCharCode(parseInt(de.substring(2),16)):String.fromCharCode(+de.substring(1)):""})}var E=/(^|[^\[])\^/g;function C(we,Te){we=typeof we=="string"?we:we.source,Te=Te||"";var de={replace:function(ee,te){return te=te.source||te,te=te.replace(E,"$1"),we=we.replace(ee,te),de},getRegex:function(){return new RegExp(we,Te)}};return de}var L=/[^\w:]/g,_=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function I(we,Te,de){if(we){var W;try{W=decodeURIComponent(S(de)).replace(L,"").toLowerCase()}catch{return null}if(W.indexOf("javascript:")===0||W.indexOf("vbscript:")===0||W.indexOf("data:")===0)return null}Te&&!_.test(de)&&(de=H(Te,de));try{de=encodeURI(de).replace(/%25/g,"%")}catch{return null}return de}var D={},F=/^[^:]+:\/*[^/]*$/,M=/^([^:]+:)[\s\S]*$/,B=/^([^:]+:\/*[^/]*)[\s\S]*$/;function H(we,Te){D[" "+we]||(F.test(we)?D[" "+we]=we+"/":D[" "+we]=P(we,"/",!0)),we=D[" "+we];var de=we.indexOf(":")===-1;return Te.substring(0,2)==="//"?de?Te:we.replace(M,"$1")+Te:Te.charAt(0)==="/"?de?Te:we.replace(B,"$1")+Te:we+Te}var R={exec:function(){}};function O(we,Te){var de=we.replace(/\|/g,function(te,he,K){for(var _e=!1,ae=he;--ae>=0&&K[ae]==="\\";)_e=!_e;return _e?"|":" |"}),W=de.split(/ \|/),ee=0;if(W[0].trim()||W.shift(),W.length>0&&!W[W.length-1].trim()&&W.pop(),W.length>Te)W.splice(Te);else for(;W.length<Te;)W.push("");for(;ee<W.length;ee++)W[ee]=W[ee].trim().replace(/\\\|/g,"|");return W}function P(we,Te,de){var W=we.length;if(W===0)return"";for(var ee=0;ee<W;){var te=we.charAt(W-ee-1);if(te===Te&&!de)ee++;else if(te!==Te&&de)ee++;else break}return we.slice(0,W-ee)}function z(we,Te){if(we.indexOf(Te[1])===-1)return-1;for(var de=we.length,W=0,ee=0;ee<de;ee++)if(we[ee]==="\\")ee++;else if(we[ee]===Te[0])W++;else if(we[ee]===Te[1]&&(W--,W<0))return ee;return-1}function $(we){we&&we.sanitize&&!we.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function V(we,Te){if(Te<1)return"";for(var de="";Te>1;)Te&1&&(de+=we),Te>>=1,we+=we;return de+we}function X(we,Te,de,W){var ee=Te.href,te=Te.title?y(Te.title):null,he=we[1].replace(/\\([\[\]])/g,"$1");if(we[0].charAt(0)!=="!"){W.state.inLink=!0;var K={type:"link",raw:de,href:ee,title:te,text:he,tokens:W.inlineTokens(he)};return W.state.inLink=!1,K}return{type:"image",raw:de,href:ee,title:te,text:y(he)}}function q(we,Te){var de=we.match(/^(\s+)(?:```)/);if(de===null)return Te;var W=de[1];return Te.split(`
`).map(function(ee){var te=ee.match(/^\s+/);if(te===null)return ee;var he=te[0];return he.length>=W.length?ee.slice(W.length):ee}).join(`
`)}var Y=function(){function we(de){this.options=de||t.defaults}var Te=we.prototype;return Te.space=function(W){var ee=this.rules.block.newline.exec(W);if(ee&&ee[0].length>0)return{type:"space",raw:ee[0]}},Te.code=function(W){var ee=this.rules.block.code.exec(W);if(ee){var te=ee[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ee[0],codeBlockStyle:"indented",text:this.options.pedantic?te:P(te,`
`)}}},Te.fences=function(W){var ee=this.rules.block.fences.exec(W);if(ee){var te=ee[0],he=q(te,ee[3]||"");return{type:"code",raw:te,lang:ee[2]?ee[2].trim().replace(this.rules.inline._escapes,"$1"):ee[2],text:he}}},Te.heading=function(W){var ee=this.rules.block.heading.exec(W);if(ee){var te=ee[2].trim();if(/#$/.test(te)){var he=P(te,"#");(this.options.pedantic||!he||/ $/.test(he))&&(te=he.trim())}return{type:"heading",raw:ee[0],depth:ee[1].length,text:te,tokens:this.lexer.inline(te)}}},Te.hr=function(W){var ee=this.rules.block.hr.exec(W);if(ee)return{type:"hr",raw:ee[0]}},Te.blockquote=function(W){var ee=this.rules.block.blockquote.exec(W);if(ee){var te=ee[0].replace(/^ *>[ \t]?/gm,""),he=this.lexer.state.top;this.lexer.state.top=!0;var K=this.lexer.blockTokens(te);return this.lexer.state.top=he,{type:"blockquote",raw:ee[0],tokens:K,text:te}}},Te.list=function(W){var ee=this.rules.block.list.exec(W);if(ee){var te,he,K,_e,ae,Le,Ne,Ie,Oe,Pe,Me,ze,it=ee[1].trim(),ut=it.length>1,gt={type:"list",raw:"",ordered:ut,start:ut?+it.slice(0,-1):"",loose:!1,items:[]};it=ut?"\\d{1,9}\\"+it.slice(-1):"\\"+it,this.options.pedantic&&(it=ut?it:"[*+-]");for(var wt=new RegExp("^( {0,3}"+it+")((?:[	 ][^\\n]*)?(?:\\n|$))");W&&(ze=!1,!(!(ee=wt.exec(W))||this.rules.block.hr.test(W)));){if(te=ee[0],W=W.substring(te.length),Ie=ee[2].split(`
`,1)[0].replace(/^\t+/,function(pt){return" ".repeat(3*pt.length)}),Oe=W.split(`
`,1)[0],this.options.pedantic?(_e=2,Me=Ie.trimLeft()):(_e=ee[2].search(/[^ ]/),_e=_e>4?1:_e,Me=Ie.slice(_e),_e+=ee[1].length),Le=!1,!Ie&&/^ *$/.test(Oe)&&(te+=Oe+`
`,W=W.substring(Oe.length+1),ze=!0),!ze)for(var Pt=new RegExp("^ {0,"+Math.min(3,_e-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),ot=new RegExp("^ {0,"+Math.min(3,_e-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),at=new RegExp("^ {0,"+Math.min(3,_e-1)+"}(?:```|~~~)"),kt=new RegExp("^ {0,"+Math.min(3,_e-1)+"}#");W&&(Pe=W.split(`
`,1)[0],Oe=Pe,this.options.pedantic&&(Oe=Oe.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(at.test(Oe)||kt.test(Oe)||Pt.test(Oe)||ot.test(W)));){if(Oe.search(/[^ ]/)>=_e||!Oe.trim())Me+=`
`+Oe.slice(_e);else{if(Le||Ie.search(/[^ ]/)>=4||at.test(Ie)||kt.test(Ie)||ot.test(Ie))break;Me+=`
`+Oe}!Le&&!Oe.trim()&&(Le=!0),te+=Pe+`
`,W=W.substring(Pe.length+1),Ie=Oe.slice(_e)}gt.loose||(Ne?gt.loose=!0:/\n *\n *$/.test(te)&&(Ne=!0)),this.options.gfm&&(he=/^\[[ xX]\] /.exec(Me),he&&(K=he[0]!=="[ ] ",Me=Me.replace(/^\[[ xX]\] +/,""))),gt.items.push({type:"list_item",raw:te,task:!!he,checked:K,loose:!1,text:Me}),gt.raw+=te}gt.items[gt.items.length-1].raw=te.trimRight(),gt.items[gt.items.length-1].text=Me.trimRight(),gt.raw=gt.raw.trimRight();var ct=gt.items.length;for(ae=0;ae<ct;ae++)if(this.lexer.state.top=!1,gt.items[ae].tokens=this.lexer.blockTokens(gt.items[ae].text,[]),!gt.loose){var ft=gt.items[ae].tokens.filter(function(pt){return pt.type==="space"}),Jt=ft.length>0&&ft.some(function(pt){return/\n.*\n/.test(pt.raw)});gt.loose=Jt}if(gt.loose)for(ae=0;ae<ct;ae++)gt.items[ae].loose=!0;return gt}},Te.html=function(W){var ee=this.rules.block.html.exec(W);if(ee){var te={type:"html",raw:ee[0],pre:!this.options.sanitizer&&(ee[1]==="pre"||ee[1]==="script"||ee[1]==="style"),text:ee[0]};if(this.options.sanitize){var he=this.options.sanitizer?this.options.sanitizer(ee[0]):y(ee[0]);te.type="paragraph",te.text=he,te.tokens=this.lexer.inline(he)}return te}},Te.def=function(W){var ee=this.rules.block.def.exec(W);if(ee){var te=ee[1].toLowerCase().replace(/\s+/g," "),he=ee[2]?ee[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",K=ee[3]?ee[3].substring(1,ee[3].length-1).replace(this.rules.inline._escapes,"$1"):ee[3];return{type:"def",tag:te,raw:ee[0],href:he,title:K}}},Te.table=function(W){var ee=this.rules.block.table.exec(W);if(ee){var te={type:"table",header:O(ee[1]).map(function(Ne){return{text:Ne}}),align:ee[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:ee[3]&&ee[3].trim()?ee[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(te.header.length===te.align.length){te.raw=ee[0];var he=te.align.length,K,_e,ae,Le;for(K=0;K<he;K++)/^ *-+: *$/.test(te.align[K])?te.align[K]="right":/^ *:-+: *$/.test(te.align[K])?te.align[K]="center":/^ *:-+ *$/.test(te.align[K])?te.align[K]="left":te.align[K]=null;for(he=te.rows.length,K=0;K<he;K++)te.rows[K]=O(te.rows[K],te.header.length).map(function(Ne){return{text:Ne}});for(he=te.header.length,_e=0;_e<he;_e++)te.header[_e].tokens=this.lexer.inline(te.header[_e].text);for(he=te.rows.length,_e=0;_e<he;_e++)for(Le=te.rows[_e],ae=0;ae<Le.length;ae++)Le[ae].tokens=this.lexer.inline(Le[ae].text);return te}}},Te.lheading=function(W){var ee=this.rules.block.lheading.exec(W);if(ee)return{type:"heading",raw:ee[0],depth:ee[2].charAt(0)==="="?1:2,text:ee[1],tokens:this.lexer.inline(ee[1])}},Te.paragraph=function(W){var ee=this.rules.block.paragraph.exec(W);if(ee){var te=ee[1].charAt(ee[1].length-1)===`
`?ee[1].slice(0,-1):ee[1];return{type:"paragraph",raw:ee[0],text:te,tokens:this.lexer.inline(te)}}},Te.text=function(W){var ee=this.rules.block.text.exec(W);if(ee)return{type:"text",raw:ee[0],text:ee[0],tokens:this.lexer.inline(ee[0])}},Te.escape=function(W){var ee=this.rules.inline.escape.exec(W);if(ee)return{type:"escape",raw:ee[0],text:y(ee[1])}},Te.tag=function(W){var ee=this.rules.inline.tag.exec(W);if(ee)return!this.lexer.state.inLink&&/^<a /i.test(ee[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ee[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ee[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ee[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ee[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ee[0]):y(ee[0]):ee[0]}},Te.link=function(W){var ee=this.rules.inline.link.exec(W);if(ee){var te=ee[2].trim();if(!this.options.pedantic&&/^</.test(te)){if(!/>$/.test(te))return;var he=P(te.slice(0,-1),"\\");if((te.length-he.length)%2===0)return}else{var K=z(ee[2],"()");if(K>-1){var _e=ee[0].indexOf("!")===0?5:4,ae=_e+ee[1].length+K;ee[2]=ee[2].substring(0,K),ee[0]=ee[0].substring(0,ae).trim(),ee[3]=""}}var Le=ee[2],Ne="";if(this.options.pedantic){var Ie=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Le);Ie&&(Le=Ie[1],Ne=Ie[3])}else Ne=ee[3]?ee[3].slice(1,-1):"";return Le=Le.trim(),/^</.test(Le)&&(this.options.pedantic&&!/>$/.test(te)?Le=Le.slice(1):Le=Le.slice(1,-1)),X(ee,{href:Le&&Le.replace(this.rules.inline._escapes,"$1"),title:Ne&&Ne.replace(this.rules.inline._escapes,"$1")},ee[0],this.lexer)}},Te.reflink=function(W,ee){var te;if((te=this.rules.inline.reflink.exec(W))||(te=this.rules.inline.nolink.exec(W))){var he=(te[2]||te[1]).replace(/\s+/g," ");if(he=ee[he.toLowerCase()],!he){var K=te[0].charAt(0);return{type:"text",raw:K,text:K}}return X(te,he,te[0],this.lexer)}},Te.emStrong=function(W,ee,te){te===void 0&&(te="");var he=this.rules.inline.emStrong.lDelim.exec(W);if(he&&!(he[3]&&te.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var K=he[1]||he[2]||"";if(!K||K&&(te===""||this.rules.inline.punctuation.exec(te))){var _e=he[0].length-1,ae,Le,Ne=_e,Ie=0,Oe=he[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Oe.lastIndex=0,ee=ee.slice(-1*W.length+_e);(he=Oe.exec(ee))!=null;)if(ae=he[1]||he[2]||he[3]||he[4]||he[5]||he[6],!!ae){if(Le=ae.length,he[3]||he[4]){Ne+=Le;continue}else if((he[5]||he[6])&&_e%3&&!((_e+Le)%3)){Ie+=Le;continue}if(Ne-=Le,!(Ne>0)){Le=Math.min(Le,Le+Ne+Ie);var Pe=W.slice(0,_e+he.index+(he[0].length-ae.length)+Le);if(Math.min(_e,Le)%2){var Me=Pe.slice(1,-1);return{type:"em",raw:Pe,text:Me,tokens:this.lexer.inlineTokens(Me)}}var ze=Pe.slice(2,-2);return{type:"strong",raw:Pe,text:ze,tokens:this.lexer.inlineTokens(ze)}}}}}},Te.codespan=function(W){var ee=this.rules.inline.code.exec(W);if(ee){var te=ee[2].replace(/\n/g," "),he=/[^ ]/.test(te),K=/^ /.test(te)&&/ $/.test(te);return he&&K&&(te=te.substring(1,te.length-1)),te=y(te,!0),{type:"codespan",raw:ee[0],text:te}}},Te.br=function(W){var ee=this.rules.inline.br.exec(W);if(ee)return{type:"br",raw:ee[0]}},Te.del=function(W){var ee=this.rules.inline.del.exec(W);if(ee)return{type:"del",raw:ee[0],text:ee[2],tokens:this.lexer.inlineTokens(ee[2])}},Te.autolink=function(W,ee){var te=this.rules.inline.autolink.exec(W);if(te){var he,K;return te[2]==="@"?(he=y(this.options.mangle?ee(te[1]):te[1]),K="mailto:"+he):(he=y(te[1]),K=he),{type:"link",raw:te[0],text:he,href:K,tokens:[{type:"text",raw:he,text:he}]}}},Te.url=function(W,ee){var te;if(te=this.rules.inline.url.exec(W)){var he,K;if(te[2]==="@")he=y(this.options.mangle?ee(te[0]):te[0]),K="mailto:"+he;else{var _e;do _e=te[0],te[0]=this.rules.inline._backpedal.exec(te[0])[0];while(_e!==te[0]);he=y(te[0]),te[1]==="www."?K="http://"+te[0]:K=te[0]}return{type:"link",raw:te[0],text:he,href:K,tokens:[{type:"text",raw:he,text:he}]}}},Te.inlineText=function(W,ee){var te=this.rules.inline.text.exec(W);if(te){var he;return this.lexer.state.inRawBlock?he=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(te[0]):y(te[0]):te[0]:he=y(this.options.smartypants?ee(te[0]):te[0]),{type:"text",raw:te[0],text:he}}},we}(),U={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:R,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};U._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,U._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,U.def=C(U.def).replace("label",U._label).replace("title",U._title).getRegex(),U.bullet=/(?:[*+-]|\d{1,9}[.)])/,U.listItemStart=C(/^( *)(bull) */).replace("bull",U.bullet).getRegex(),U.list=C(U.list).replace(/bull/g,U.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+U.def.source+")").getRegex(),U._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",U._comment=/\x3C!--(?!-?>)[\s\S]*?(?:-->|$)/,U.html=C(U.html,"i").replace("comment",U._comment).replace("tag",U._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),U.paragraph=C(U._paragraph).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U._tag).getRegex(),U.blockquote=C(U.blockquote).replace("paragraph",U.paragraph).getRegex(),U.normal=n({},U),U.gfm=n({},U.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),U.gfm.table=C(U.gfm.table).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U._tag).getRegex(),U.gfm.paragraph=C(U._paragraph).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",U.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U._tag).getRegex(),U.pedantic=n({},U.normal,{html:C(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",U._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:R,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:C(U.normal._paragraph).replace("hr",U.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",U.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Z={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:R,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:R,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Z._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Z.punctuation=C(Z.punctuation).replace(/punctuation/g,Z._punctuation).getRegex(),Z.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Z.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Z._comment=C(U._comment).replace("(?:-->|$)","-->").getRegex(),Z.emStrong.lDelim=C(Z.emStrong.lDelim).replace(/punct/g,Z._punctuation).getRegex(),Z.emStrong.rDelimAst=C(Z.emStrong.rDelimAst,"g").replace(/punct/g,Z._punctuation).getRegex(),Z.emStrong.rDelimUnd=C(Z.emStrong.rDelimUnd,"g").replace(/punct/g,Z._punctuation).getRegex(),Z._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Z._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Z._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Z.autolink=C(Z.autolink).replace("scheme",Z._scheme).replace("email",Z._email).getRegex(),Z._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Z.tag=C(Z.tag).replace("comment",Z._comment).replace("attribute",Z._attribute).getRegex(),Z._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Z._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Z._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Z.link=C(Z.link).replace("label",Z._label).replace("href",Z._href).replace("title",Z._title).getRegex(),Z.reflink=C(Z.reflink).replace("label",Z._label).replace("ref",U._label).getRegex(),Z.nolink=C(Z.nolink).replace("ref",U._label).getRegex(),Z.reflinkSearch=C(Z.reflinkSearch,"g").replace("reflink",Z.reflink).replace("nolink",Z.nolink).getRegex(),Z.normal=n({},Z),Z.pedantic=n({},Z.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:C(/^!?\[(label)\]\((.*?)\)/).replace("label",Z._label).getRegex(),reflink:C(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Z._label).getRegex()}),Z.gfm=n({},Z.normal,{escape:C(Z.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Z.gfm.url=C(Z.gfm.url,"i").replace("email",Z.gfm._extended_email).getRegex(),Z.breaks=n({},Z.gfm,{br:C(Z.br).replace("{2,}","*").getRegex(),text:C(Z.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function pe(we){return we.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function ne(we){var Te="",de,W,ee=we.length;for(de=0;de<ee;de++)W=we.charCodeAt(de),Math.random()>.5&&(W="x"+W.toString(16)),Te+="&#"+W+";";return Te}var ge=function(){function we(de){this.tokens=[],this.tokens.links=Object.create(null),this.options=de||t.defaults,this.options.tokenizer=this.options.tokenizer||new Y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var W={block:U.normal,inline:Z.normal};this.options.pedantic?(W.block=U.pedantic,W.inline=Z.pedantic):this.options.gfm&&(W.block=U.gfm,this.options.breaks?W.inline=Z.breaks:W.inline=Z.gfm),this.tokenizer.rules=W}we.lex=function(W,ee){var te=new we(ee);return te.lex(W)},we.lexInline=function(W,ee){var te=new we(ee);return te.inlineTokens(W)};var Te=we.prototype;return Te.lex=function(W){W=W.replace(/\r\n|\r/g,`
`),this.blockTokens(W,this.tokens);for(var ee;ee=this.inlineQueue.shift();)this.inlineTokens(ee.src,ee.tokens);return this.tokens},Te.blockTokens=function(W,ee){var te=this;ee===void 0&&(ee=[]),this.options.pedantic?W=W.replace(/\t/g,"    ").replace(/^ +$/gm,""):W=W.replace(/^( *)(\t+)/gm,function(Ne,Ie,Oe){return Ie+"    ".repeat(Oe.length)});for(var he,K,_e,ae;W;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ne){return(he=Ne.call({lexer:te},W,ee))?(W=W.substring(he.raw.length),ee.push(he),!0):!1}))){if(he=this.tokenizer.space(W)){W=W.substring(he.raw.length),he.raw.length===1&&ee.length>0?ee[ee.length-1].raw+=`
`:ee.push(he);continue}if(he=this.tokenizer.code(W)){W=W.substring(he.raw.length),K=ee[ee.length-1],K&&(K.type==="paragraph"||K.type==="text")?(K.raw+=`
`+he.raw,K.text+=`
`+he.text,this.inlineQueue[this.inlineQueue.length-1].src=K.text):ee.push(he);continue}if(he=this.tokenizer.fences(W)){W=W.substring(he.raw.length),ee.push(he);continue}if(he=this.tokenizer.heading(W)){W=W.substring(he.raw.length),ee.push(he);continue}if(he=this.tokenizer.hr(W)){W=W.substring(he.raw.length),ee.push(he);continue}if(he=this.tokenizer.blockquote(W)){W=W.substring(he.raw.length),ee.push(he);continue}if(he=this.tokenizer.list(W)){W=W.substring(he.raw.length),ee.push(he);continue}if(he=this.tokenizer.html(W)){W=W.substring(he.raw.length),ee.push(he);continue}if(he=this.tokenizer.def(W)){W=W.substring(he.raw.length),K=ee[ee.length-1],K&&(K.type==="paragraph"||K.type==="text")?(K.raw+=`
`+he.raw,K.text+=`
`+he.raw,this.inlineQueue[this.inlineQueue.length-1].src=K.text):this.tokens.links[he.tag]||(this.tokens.links[he.tag]={href:he.href,title:he.title});continue}if(he=this.tokenizer.table(W)){W=W.substring(he.raw.length),ee.push(he);continue}if(he=this.tokenizer.lheading(W)){W=W.substring(he.raw.length),ee.push(he);continue}if(_e=W,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ne=1/0,Ie=W.slice(1),Oe=void 0;te.options.extensions.startBlock.forEach(function(Pe){Oe=Pe.call({lexer:this},Ie),typeof Oe=="number"&&Oe>=0&&(Ne=Math.min(Ne,Oe))}),Ne<1/0&&Ne>=0&&(_e=W.substring(0,Ne+1))}(),this.state.top&&(he=this.tokenizer.paragraph(_e))){K=ee[ee.length-1],ae&&K.type==="paragraph"?(K.raw+=`
`+he.raw,K.text+=`
`+he.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=K.text):ee.push(he),ae=_e.length!==W.length,W=W.substring(he.raw.length);continue}if(he=this.tokenizer.text(W)){W=W.substring(he.raw.length),K=ee[ee.length-1],K&&K.type==="text"?(K.raw+=`
`+he.raw,K.text+=`
`+he.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=K.text):ee.push(he);continue}if(W){var Le="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(Le);break}else throw new Error(Le)}}return this.state.top=!0,ee},Te.inline=function(W,ee){return ee===void 0&&(ee=[]),this.inlineQueue.push({src:W,tokens:ee}),ee},Te.inlineTokens=function(W,ee){var te=this;ee===void 0&&(ee=[]);var he,K,_e,ae=W,Le,Ne,Ie;if(this.tokens.links){var Oe=Object.keys(this.tokens.links);if(Oe.length>0)for(;(Le=this.tokenizer.rules.inline.reflinkSearch.exec(ae))!=null;)Oe.includes(Le[0].slice(Le[0].lastIndexOf("[")+1,-1))&&(ae=ae.slice(0,Le.index)+"["+V("a",Le[0].length-2)+"]"+ae.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Le=this.tokenizer.rules.inline.blockSkip.exec(ae))!=null;)ae=ae.slice(0,Le.index)+"["+V("a",Le[0].length-2)+"]"+ae.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Le=this.tokenizer.rules.inline.escapedEmSt.exec(ae))!=null;)ae=ae.slice(0,Le.index+Le[0].length-2)+"++"+ae.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;W;)if(Ne||(Ie=""),Ne=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Me){return(he=Me.call({lexer:te},W,ee))?(W=W.substring(he.raw.length),ee.push(he),!0):!1}))){if(he=this.tokenizer.escape(W)){W=W.substring(he.raw.length),ee.push(he);continue}if(he=this.tokenizer.tag(W)){W=W.substring(he.raw.length),K=ee[ee.length-1],K&&he.type==="text"&&K.type==="text"?(K.raw+=he.raw,K.text+=he.text):ee.push(he);continue}if(he=this.tokenizer.link(W)){W=W.substring(he.raw.length),ee.push(he);continue}if(he=this.tokenizer.reflink(W,this.tokens.links)){W=W.substring(he.raw.length),K=ee[ee.length-1],K&&he.type==="text"&&K.type==="text"?(K.raw+=he.raw,K.text+=he.text):ee.push(he);continue}if(he=this.tokenizer.emStrong(W,ae,Ie)){W=W.substring(he.raw.length),ee.push(he);continue}if(he=this.tokenizer.codespan(W)){W=W.substring(he.raw.length),ee.push(he);continue}if(he=this.tokenizer.br(W)){W=W.substring(he.raw.length),ee.push(he);continue}if(he=this.tokenizer.del(W)){W=W.substring(he.raw.length),ee.push(he);continue}if(he=this.tokenizer.autolink(W,ne)){W=W.substring(he.raw.length),ee.push(he);continue}if(!this.state.inLink&&(he=this.tokenizer.url(W,ne))){W=W.substring(he.raw.length),ee.push(he);continue}if(_e=W,this.options.extensions&&this.options.extensions.startInline&&function(){var Me=1/0,ze=W.slice(1),it=void 0;te.options.extensions.startInline.forEach(function(ut){it=ut.call({lexer:this},ze),typeof it=="number"&&it>=0&&(Me=Math.min(Me,it))}),Me<1/0&&Me>=0&&(_e=W.substring(0,Me+1))}(),he=this.tokenizer.inlineText(_e,pe)){W=W.substring(he.raw.length),he.raw.slice(-1)!=="_"&&(Ie=he.raw.slice(-1)),Ne=!0,K=ee[ee.length-1],K&&K.type==="text"?(K.raw+=he.raw,K.text+=he.text):ee.push(he);continue}if(W){var Pe="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(Pe);break}else throw new Error(Pe)}}return ee},r(we,null,[{key:"rules",get:function(){return{block:U,inline:Z}}}]),we}(),ye=function(){function we(de){this.options=de||t.defaults}var Te=we.prototype;return Te.code=function(W,ee,te){var he=(ee||"").match(/\S*/)[0];if(this.options.highlight){var K=this.options.highlight(W,he);K!=null&&K!==W&&(te=!0,W=K)}return W=W.replace(/\n$/,"")+`
`,he?'<pre><code class="'+this.options.langPrefix+y(he)+'">'+(te?W:y(W,!0))+`</code></pre>
`:"<pre><code>"+(te?W:y(W,!0))+`</code></pre>
`},Te.blockquote=function(W){return`<blockquote>
`+W+`</blockquote>
`},Te.html=function(W){return W},Te.heading=function(W,ee,te,he){if(this.options.headerIds){var K=this.options.headerPrefix+he.slug(te);return"<h"+ee+' id="'+K+'">'+W+"</h"+ee+`>
`}return"<h"+ee+">"+W+"</h"+ee+`>
`},Te.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Te.list=function(W,ee,te){var he=ee?"ol":"ul",K=ee&&te!==1?' start="'+te+'"':"";return"<"+he+K+`>
`+W+"</"+he+`>
`},Te.listitem=function(W){return"<li>"+W+`</li>
`},Te.checkbox=function(W){return"<input "+(W?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Te.paragraph=function(W){return"<p>"+W+`</p>
`},Te.table=function(W,ee){return ee&&(ee="<tbody>"+ee+"</tbody>"),`<table>
<thead>
`+W+`</thead>
`+ee+`</table>
`},Te.tablerow=function(W){return`<tr>
`+W+`</tr>
`},Te.tablecell=function(W,ee){var te=ee.header?"th":"td",he=ee.align?"<"+te+' align="'+ee.align+'">':"<"+te+">";return he+W+("</"+te+`>
`)},Te.strong=function(W){return"<strong>"+W+"</strong>"},Te.em=function(W){return"<em>"+W+"</em>"},Te.codespan=function(W){return"<code>"+W+"</code>"},Te.br=function(){return this.options.xhtml?"<br/>":"<br>"},Te.del=function(W){return"<del>"+W+"</del>"},Te.link=function(W,ee,te){if(W=I(this.options.sanitize,this.options.baseUrl,W),W===null)return te;var he='<a href="'+W+'"';return ee&&(he+=' title="'+ee+'"'),he+=">"+te+"</a>",he},Te.image=function(W,ee,te){if(W=I(this.options.sanitize,this.options.baseUrl,W),W===null)return te;var he='<img src="'+W+'" alt="'+te+'"';return ee&&(he+=' title="'+ee+'"'),he+=this.options.xhtml?"/>":">",he},Te.text=function(W){return W},we}(),J=function(){function we(){}var Te=we.prototype;return Te.strong=function(W){return W},Te.em=function(W){return W},Te.codespan=function(W){return W},Te.del=function(W){return W},Te.html=function(W){return W},Te.text=function(W){return W},Te.link=function(W,ee,te){return""+te},Te.image=function(W,ee,te){return""+te},Te.br=function(){return""},we}(),se=function(){function we(){this.seen={}}var Te=we.prototype;return Te.serialize=function(W){return W.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Te.getNextSafeSlug=function(W,ee){var te=W,he=0;if(this.seen.hasOwnProperty(te)){he=this.seen[W];do he++,te=W+"-"+he;while(this.seen.hasOwnProperty(te))}return ee||(this.seen[W]=he,this.seen[te]=0),te},Te.slug=function(W,ee){ee===void 0&&(ee={});var te=this.serialize(W);return this.getNextSafeSlug(te,ee.dryrun)},we}(),oe=function(){function we(de){this.options=de||t.defaults,this.options.renderer=this.options.renderer||new ye,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new J,this.slugger=new se}we.parse=function(W,ee){var te=new we(ee);return te.parse(W)},we.parseInline=function(W,ee){var te=new we(ee);return te.parseInline(W)};var Te=we.prototype;return Te.parse=function(W,ee){ee===void 0&&(ee=!0);var te="",he,K,_e,ae,Le,Ne,Ie,Oe,Pe,Me,ze,it,ut,gt,wt,Pt,ot,at,kt,ct=W.length;for(he=0;he<ct;he++){if(Me=W[he],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Me.type]&&(kt=this.options.extensions.renderers[Me.type].call({parser:this},Me),kt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Me.type))){te+=kt||"";continue}switch(Me.type){case"space":continue;case"hr":{te+=this.renderer.hr();continue}case"heading":{te+=this.renderer.heading(this.parseInline(Me.tokens),Me.depth,S(this.parseInline(Me.tokens,this.textRenderer)),this.slugger);continue}case"code":{te+=this.renderer.code(Me.text,Me.lang,Me.escaped);continue}case"table":{for(Oe="",Ie="",ae=Me.header.length,K=0;K<ae;K++)Ie+=this.renderer.tablecell(this.parseInline(Me.header[K].tokens),{header:!0,align:Me.align[K]});for(Oe+=this.renderer.tablerow(Ie),Pe="",ae=Me.rows.length,K=0;K<ae;K++){for(Ne=Me.rows[K],Ie="",Le=Ne.length,_e=0;_e<Le;_e++)Ie+=this.renderer.tablecell(this.parseInline(Ne[_e].tokens),{header:!1,align:Me.align[_e]});Pe+=this.renderer.tablerow(Ie)}te+=this.renderer.table(Oe,Pe);continue}case"blockquote":{Pe=this.parse(Me.tokens),te+=this.renderer.blockquote(Pe);continue}case"list":{for(ze=Me.ordered,it=Me.start,ut=Me.loose,ae=Me.items.length,Pe="",K=0;K<ae;K++)wt=Me.items[K],Pt=wt.checked,ot=wt.task,gt="",wt.task&&(at=this.renderer.checkbox(Pt),ut?wt.tokens.length>0&&wt.tokens[0].type==="paragraph"?(wt.tokens[0].text=at+" "+wt.tokens[0].text,wt.tokens[0].tokens&&wt.tokens[0].tokens.length>0&&wt.tokens[0].tokens[0].type==="text"&&(wt.tokens[0].tokens[0].text=at+" "+wt.tokens[0].tokens[0].text)):wt.tokens.unshift({type:"text",text:at}):gt+=at),gt+=this.parse(wt.tokens,ut),Pe+=this.renderer.listitem(gt,ot,Pt);te+=this.renderer.list(Pe,ze,it);continue}case"html":{te+=this.renderer.html(Me.text);continue}case"paragraph":{te+=this.renderer.paragraph(this.parseInline(Me.tokens));continue}case"text":{for(Pe=Me.tokens?this.parseInline(Me.tokens):Me.text;he+1<ct&&W[he+1].type==="text";)Me=W[++he],Pe+=`
`+(Me.tokens?this.parseInline(Me.tokens):Me.text);te+=ee?this.renderer.paragraph(Pe):Pe;continue}default:{var ft='Token with "'+Me.type+'" type was not found.';if(this.options.silent){console.error(ft);return}else throw new Error(ft)}}}return te},Te.parseInline=function(W,ee){ee=ee||this.renderer;var te="",he,K,_e,ae=W.length;for(he=0;he<ae;he++){if(K=W[he],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[K.type]&&(_e=this.options.extensions.renderers[K.type].call({parser:this},K),_e!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(K.type))){te+=_e||"";continue}switch(K.type){case"escape":{te+=ee.text(K.text);break}case"html":{te+=ee.html(K.text);break}case"link":{te+=ee.link(K.href,K.title,this.parseInline(K.tokens,ee));break}case"image":{te+=ee.image(K.href,K.title,K.text);break}case"strong":{te+=ee.strong(this.parseInline(K.tokens,ee));break}case"em":{te+=ee.em(this.parseInline(K.tokens,ee));break}case"codespan":{te+=ee.codespan(K.text);break}case"br":{te+=ee.br();break}case"del":{te+=ee.del(this.parseInline(K.tokens,ee));break}case"text":{te+=ee.text(K.text);break}default:{var Le='Token with "'+K.type+'" type was not found.';if(this.options.silent){console.error(Le);return}else throw new Error(Le)}}}return te},we}(),fe=function(){function we(de){this.options=de||t.defaults}var Te=we.prototype;return Te.preprocess=function(W){return W},Te.postprocess=function(W){return W},we}();fe.passThroughHooks=new Set(["preprocess","postprocess"]);function me(we,Te,de){return function(W){if(W.message+=`
Please report this to https://github.com/markedjs/marked.`,we){var ee="<p>An error occurred:</p><pre>"+y(W.message+"",!0)+"</pre>";if(Te)return Promise.resolve(ee);if(de){de(null,ee);return}return ee}if(Te)return Promise.reject(W);if(de){de(W);return}throw W}}function be(we,Te){return function(de,W,ee){typeof W=="function"&&(ee=W,W=null);var te=n({},W);W=n({},ce.defaults,te);var he=me(W.silent,W.async,ee);if(typeof de>"u"||de===null)return he(new Error("marked(): input parameter is undefined or null"));if(typeof de!="string")return he(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(de)+", string expected"));if($(W),W.hooks&&(W.hooks.options=W),ee){var K=W.highlight,_e;try{W.hooks&&(de=W.hooks.preprocess(de)),_e=we(de,W)}catch(Oe){return he(Oe)}var ae=function(Pe){var Me;if(!Pe)try{W.walkTokens&&ce.walkTokens(_e,W.walkTokens),Me=Te(_e,W),W.hooks&&(Me=W.hooks.postprocess(Me))}catch(ze){Pe=ze}return W.highlight=K,Pe?he(Pe):ee(null,Me)};if(!K||K.length<3||(delete W.highlight,!_e.length))return ae();var Le=0;ce.walkTokens(_e,function(Oe){Oe.type==="code"&&(Le++,setTimeout(function(){K(Oe.text,Oe.lang,function(Pe,Me){if(Pe)return ae(Pe);Me!=null&&Me!==Oe.text&&(Oe.text=Me,Oe.escaped=!0),Le--,Le===0&&ae()})},0))}),Le===0&&ae();return}if(W.async)return Promise.resolve(W.hooks?W.hooks.preprocess(de):de).then(function(Oe){return we(Oe,W)}).then(function(Oe){return W.walkTokens?Promise.all(ce.walkTokens(Oe,W.walkTokens)).then(function(){return Oe}):Oe}).then(function(Oe){return Te(Oe,W)}).then(function(Oe){return W.hooks?W.hooks.postprocess(Oe):Oe}).catch(he);try{W.hooks&&(de=W.hooks.preprocess(de));var Ne=we(de,W);W.walkTokens&&ce.walkTokens(Ne,W.walkTokens);var Ie=Te(Ne,W);return W.hooks&&(Ie=W.hooks.postprocess(Ie)),Ie}catch(Oe){return he(Oe)}}}function ce(we,Te,de){return be(ge.lex,oe.parse)(we,Te,de)}ce.options=ce.setOptions=function(we){return ce.defaults=n({},ce.defaults,we),h(ce.defaults),ce},ce.getDefaults=u,ce.defaults=t.defaults,ce.use=function(){for(var we=ce.defaults.extensions||{renderers:{},childTokens:{}},Te=arguments.length,de=new Array(Te),W=0;W<Te;W++)de[W]=arguments[W];de.forEach(function(ee){var te=n({},ee);if(te.async=ce.defaults.async||te.async||!1,ee.extensions&&(ee.extensions.forEach(function(K){if(!K.name)throw new Error("extension name required");if(K.renderer){var _e=we.renderers[K.name];_e?we.renderers[K.name]=function(){for(var ae=arguments.length,Le=new Array(ae),Ne=0;Ne<ae;Ne++)Le[Ne]=arguments[Ne];var Ie=K.renderer.apply(this,Le);return Ie===!1&&(Ie=_e.apply(this,Le)),Ie}:we.renderers[K.name]=K.renderer}if(K.tokenizer){if(!K.level||K.level!=="block"&&K.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");we[K.level]?we[K.level].unshift(K.tokenizer):we[K.level]=[K.tokenizer],K.start&&(K.level==="block"?we.startBlock?we.startBlock.push(K.start):we.startBlock=[K.start]:K.level==="inline"&&(we.startInline?we.startInline.push(K.start):we.startInline=[K.start]))}K.childTokens&&(we.childTokens[K.name]=K.childTokens)}),te.extensions=we),ee.renderer&&function(){var K=ce.defaults.renderer||new ye,_e=function(Ne){var Ie=K[Ne];K[Ne]=function(){for(var Oe=arguments.length,Pe=new Array(Oe),Me=0;Me<Oe;Me++)Pe[Me]=arguments[Me];var ze=ee.renderer[Ne].apply(K,Pe);return ze===!1&&(ze=Ie.apply(K,Pe)),ze}};for(var ae in ee.renderer)_e(ae);te.renderer=K}(),ee.tokenizer&&function(){var K=ce.defaults.tokenizer||new Y,_e=function(Ne){var Ie=K[Ne];K[Ne]=function(){for(var Oe=arguments.length,Pe=new Array(Oe),Me=0;Me<Oe;Me++)Pe[Me]=arguments[Me];var ze=ee.tokenizer[Ne].apply(K,Pe);return ze===!1&&(ze=Ie.apply(K,Pe)),ze}};for(var ae in ee.tokenizer)_e(ae);te.tokenizer=K}(),ee.hooks&&function(){var K=ce.defaults.hooks||new fe,_e=function(Ne){var Ie=K[Ne];fe.passThroughHooks.has(Ne)?K[Ne]=function(Oe){if(ce.defaults.async)return Promise.resolve(ee.hooks[Ne].call(K,Oe)).then(function(Me){return Ie.call(K,Me)});var Pe=ee.hooks[Ne].call(K,Oe);return Ie.call(K,Pe)}:K[Ne]=function(){for(var Oe=arguments.length,Pe=new Array(Oe),Me=0;Me<Oe;Me++)Pe[Me]=arguments[Me];var ze=ee.hooks[Ne].apply(K,Pe);return ze===!1&&(ze=Ie.apply(K,Pe)),ze}};for(var ae in ee.hooks)_e(ae);te.hooks=K}(),ee.walkTokens){var he=ce.defaults.walkTokens;te.walkTokens=function(K){var _e=[];return _e.push(ee.walkTokens.call(this,K)),he&&(_e=_e.concat(he.call(this,K))),_e}}ce.setOptions(te)})},ce.walkTokens=function(we,Te){for(var de=[],W=function(){var K=te.value;switch(de=de.concat(Te.call(ce,K)),K.type){case"table":{for(var _e=s(K.header),ae;!(ae=_e()).done;){var Le=ae.value;de=de.concat(ce.walkTokens(Le.tokens,Te))}for(var Ne=s(K.rows),Ie;!(Ie=Ne()).done;)for(var Oe=Ie.value,Pe=s(Oe),Me;!(Me=Pe()).done;){var ze=Me.value;de=de.concat(ce.walkTokens(ze.tokens,Te))}break}case"list":{de=de.concat(ce.walkTokens(K.items,Te));break}default:ce.defaults.extensions&&ce.defaults.extensions.childTokens&&ce.defaults.extensions.childTokens[K.type]?ce.defaults.extensions.childTokens[K.type].forEach(function(it){de=de.concat(ce.walkTokens(K[it],Te))}):K.tokens&&(de=de.concat(ce.walkTokens(K.tokens,Te)))}},ee=s(we),te;!(te=ee()).done;)W();return de},ce.parseInline=be(ge.lexInline,oe.parseInline),ce.Parser=oe,ce.parser=oe.parse,ce.Renderer=ye,ce.TextRenderer=J,ce.Lexer=ge,ce.lexer=ge.lex,ce.Tokenizer=Y,ce.Slugger=se,ce.Hooks=fe,ce.parse=ce;var Ge=ce.options,xe=ce.setOptions,le=ce.use,ke=ce.walkTokens,De=ce.parseInline,We=ce,qe=oe.parse,Ve=ge.lex;t.Hooks=fe,t.Lexer=ge,t.Parser=oe,t.Renderer=ye,t.Slugger=se,t.TextRenderer=J,t.Tokenizer=Y,t.getDefaults=u,t.lexer=Ve,t.marked=ce,t.options=Ge,t.parse=We,t.parseInline=De,t.parser=qe,t.setOptions=xe,t.use=le,t.walkTokens=ke})(Gre);var og=jo,l_e=o_e,P7=Gre.marked,Wre=/Mac/.test(navigator.platform),u_e=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),Sx={toggleBold:FE,toggleItalic:BE,drawLink:jE,toggleHeadingSmaller:kx,toggleHeadingBigger:VE,drawImage:KE,toggleBlockquote:HE,toggleOrderedList:YE,toggleUnorderedList:qE,toggleCodeBlock:zE,togglePreview:tT,toggleStrikethrough:$E,toggleHeading1:UE,toggleHeading2:GE,toggleHeading3:WE,toggleHeading4:vM,toggleHeading5:yM,toggleHeading6:xM,cleanBlock:XE,drawTable:QE,drawHorizontalRule:ZE,undo:JE,redo:eT,toggleSideBySide:nv,toggleFullScreen:W0},c_e={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},h_e=function(t){for(var e in Sx)if(Sx[e]===t)return e;return null},J_=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t};function f_e(t){for(var e;(e=u_e.exec(t))!==null;){var r=e[0];if(r.indexOf("target=")===-1){var n=r.replace(/>$/,' target="_blank">');t=t.replace(r,n)}}return t}function d_e(t){for(var e=new DOMParser,r=e.parseFromString(t,"text/html"),n=r.getElementsByTagName("li"),i=0;i<n.length;i++)for(var a=n[i],s=0;s<a.children.length;s++){var o=a.children[s];o instanceof HTMLInputElement&&o.type==="checkbox"&&(a.style.marginLeft="-1.5em",a.style.listStyleType="none")}return r.documentElement.innerHTML}function qre(t){return Wre?t=t.replace("Ctrl","Cmd"):t=t.replace("Cmd","Ctrl"),t}function p_e(t,e,r,n){var i=E3(t,!1,e,r,"button",n);i.classList.add("easymde-dropdown"),i.onclick=function(){i.focus()};var a=document.createElement("div");a.className="easymde-dropdown-content";for(var s=0;s<t.children.length;s++){var o=t.children[s],l;typeof o=="string"&&o in T0?l=E3(T0[o],!0,e,r,"button",n):l=E3(o,!0,e,r,"button",n),l.addEventListener("click",function(u){u.stopPropagation()},!1),a.appendChild(l)}return i.appendChild(a),i}function E3(t,e,r,n,i,a){t=t||{};var s=document.createElement(i);if(t.attributes)for(var o in t.attributes)Object.prototype.hasOwnProperty.call(t.attributes,o)&&s.setAttribute(o,t.attributes[o]);var l=a.options.toolbarButtonClassPrefix?a.options.toolbarButtonClassPrefix+"-":"";s.className=l+t.name,s.setAttribute("type",i),r=r??!0,t.text&&(s.innerText=t.text),t.name&&t.name in n&&(Sx[t.name]=t.action),t.title&&r&&(s.title=m_e(t.title,t.action,n),Wre&&(s.title=s.title.replace("Ctrl","⌘"),s.title=s.title.replace("Alt","⌥"))),t.title&&s.setAttribute("aria-label",t.title),t.noDisable&&s.classList.add("no-disable"),t.noMobile&&s.classList.add("no-mobile");var u=[];typeof t.className<"u"&&(u=t.className.split(" "));for(var h=[],f=0;f<u.length;f++){var d=u[f];d.match(/^fa([srlb]|(-[\w-]*)|$)/)?h.push(d):s.classList.add(d)}if(s.tabIndex=-1,h.length>0){for(var p=document.createElement("i"),m=0;m<h.length;m++){var v=h[m];p.classList.add(v)}s.appendChild(p)}return typeof t.icon<"u"&&(s.innerHTML=t.icon),t.action&&e&&(typeof t.action=="function"?s.onclick=function(x){x.preventDefault(),t.action(a)}:typeof t.action=="string"&&(s.onclick=function(x){x.preventDefault(),window.open(t.action,"_blank")})),s}function g_e(){var t=document.createElement("i");return t.className="separator",t.innerHTML="|",t}function m_e(t,e,r){var n,i=t;return e&&(n=h_e(e),r[n]&&(i+=" ("+qre(r[n])+")")),i}function dd(t,e){e=e||t.getCursor("start");var r=t.getTokenAt(e);if(!r.type)return{};for(var n=r.type.split(" "),i={},a,s,o=0;o<n.length;o++)a=n[o],a==="strong"?i.bold=!0:a==="variable-2"?(s=t.getLine(e.line),/^\s*\d+\.\s/.test(s)?i["ordered-list"]=!0:i["unordered-list"]=!0):a==="atom"?i.quote=!0:a==="em"?i.italic=!0:a==="quote"?i.quote=!0:a==="strikethrough"?i.strikethrough=!0:a==="comment"?i.code=!0:a==="link"&&!i.image?i.link=!0:a==="image"?i.image=!0:a.match(/^header(-[1-6])?$/)&&(i[a.replace("header","heading")]=!0);return i}var zz="";function W0(t){var e=t.codemirror;e.setOption("fullScreen",!e.getOption("fullScreen")),e.getOption("fullScreen")?(zz=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=zz;var r=e.getWrapperElement(),n=r.nextSibling;if(n.classList.contains("editor-preview-active-side"))if(t.options.sideBySideFullscreen===!1){var i=r.parentNode;e.getOption("fullScreen")?i.classList.remove("sided--no-fullscreen"):i.classList.add("sided--no-fullscreen")}else nv(t);if(t.options.onToggleFullScreen&&t.options.onToggleFullScreen(e.getOption("fullScreen")||!1),typeof t.options.maxHeight<"u"&&(e.getOption("fullScreen")?(e.getScrollerElement().style.removeProperty("height"),n.style.removeProperty("height")):(e.getScrollerElement().style.height=t.options.maxHeight,t.setPreviewMaxHeight())),t.toolbar_div.classList.toggle("fullscreen"),t.toolbarElements&&t.toolbarElements.fullscreen){var a=t.toolbarElements.fullscreen;a.classList.toggle("active")}}function FE(t){SM(t,"bold",t.options.blockStyles.bold)}function BE(t){SM(t,"italic",t.options.blockStyles.italic)}function $E(t){SM(t,"strikethrough","~~")}function zE(t){var e=t.options.blockStyles.code;function r(R){if(typeof R!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof R+": "+R;return R.styles&&R.styles[2]&&R.styles[2].indexOf("formatting-code-block")!==-1}function n(R){return R.state.base.base||R.state.base}function i(R,O,P,z,$){P=P||R.getLineHandle(O),z=z||R.getTokenAt({line:O,ch:1}),$=$||!!P.text&&R.getTokenAt({line:O,ch:P.text.length-1});var V=z.type?z.type.split(" "):[];return $&&n($).indentedCode?"indented":V.indexOf("comment")===-1?!1:n(z).fencedChars||n($).fencedChars||r(P)?"fenced":"single"}function a(R,O,P,z){var $=O.line+1,V=P.line+1,X=O.line!==P.line,q=z+`
`,Y=`
`+z;X&&V++,X&&P.ch===0&&(Y=z+`
`,V--),q0(R,!1,[q,Y]),R.setSelection({line:$,ch:0},{line:V,ch:0})}var s=t.codemirror,o=s.getCursor("start"),l=s.getCursor("end"),u=s.getTokenAt({line:o.line,ch:o.ch||1}),h=s.getLineHandle(o.line),f=i(s,o.line,h,u),d,p,m;if(f==="single"){var v=h.text.slice(0,o.ch).replace("`",""),x=h.text.slice(o.ch).replace("`","");s.replaceRange(v+x,{line:o.line,ch:0},{line:o.line,ch:99999999999999}),o.ch--,o!==l&&l.ch--,s.setSelection(o,l),s.focus()}else if(f==="fenced")if(o.line!==l.line||o.ch!==l.ch){for(d=o.line;d>=0&&(h=s.getLineHandle(d),!r(h));d--);var y=s.getTokenAt({line:d,ch:1}),w=n(y).fencedChars,S,E,C,L;r(s.getLineHandle(o.line))?(S="",E=o.line):r(s.getLineHandle(o.line-1))?(S="",E=o.line-1):(S=w+`
`,E=o.line),r(s.getLineHandle(l.line))?(C="",L=l.line,l.ch===0&&(L+=1)):l.ch!==0&&r(s.getLineHandle(l.line+1))?(C="",L=l.line+1):(C=w+`
`,L=l.line+1),l.ch===0&&(L-=1),s.operation(function(){s.replaceRange(C,{line:L,ch:0},{line:L+(C?0:1),ch:0}),s.replaceRange(S,{line:E,ch:0},{line:E+(S?0:1),ch:0})}),s.setSelection({line:E+(S?1:0),ch:0},{line:L+(S?1:-1),ch:0}),s.focus()}else{var _=o.line;if(r(s.getLineHandle(o.line))&&(i(s,o.line+1)==="fenced"?(d=o.line,_=o.line+1):(p=o.line,_=o.line-1)),d===void 0)for(d=_;d>=0&&(h=s.getLineHandle(d),!r(h));d--);if(p===void 0)for(m=s.lineCount(),p=_;p<m&&(h=s.getLineHandle(p),!r(h));p++);s.operation(function(){s.replaceRange("",{line:d,ch:0},{line:d+1,ch:0}),s.replaceRange("",{line:p-1,ch:0},{line:p,ch:0})}),s.focus()}else if(f==="indented"){if(o.line!==l.line||o.ch!==l.ch)d=o.line,p=l.line,l.ch===0&&p--;else{for(d=o.line;d>=0;d--)if(h=s.getLineHandle(d),!h.text.match(/^\s*$/)&&i(s,d,h)!=="indented"){d+=1;break}for(m=s.lineCount(),p=o.line;p<m;p++)if(h=s.getLineHandle(p),!h.text.match(/^\s*$/)&&i(s,p,h)!=="indented"){p-=1;break}}var I=s.getLineHandle(p+1),D=I&&s.getTokenAt({line:p+1,ch:I.text.length-1}),F=D&&n(D).indentedCode;F&&s.replaceRange(`
`,{line:p+1,ch:0});for(var M=d;M<=p;M++)s.indentLine(M,"subtract");s.focus()}else{var B=o.line===l.line&&o.ch===l.ch&&o.ch===0,H=o.line!==l.line;B||H?a(s,o,l,e):q0(s,!1,["`","`"])}}function HE(t){wM(t.codemirror,"quote")}function kx(t){pd(t.codemirror,"smaller")}function VE(t){pd(t.codemirror,"bigger")}function UE(t){pd(t.codemirror,void 0,1)}function GE(t){pd(t.codemirror,void 0,2)}function WE(t){pd(t.codemirror,void 0,3)}function vM(t){pd(t.codemirror,void 0,4)}function yM(t){pd(t.codemirror,void 0,5)}function xM(t){pd(t.codemirror,void 0,6)}function qE(t){var e=t.codemirror,r="*";["-","+","*"].includes(t.options.unorderedListStyle)&&(r=t.options.unorderedListStyle),wM(e,"unordered-list",r)}function YE(t){wM(t.codemirror,"ordered-list")}function XE(t){v_e(t.codemirror)}function jE(t){var e=t.options,r="https://";if(e.promptURLs){var n=prompt(e.promptTexts.link,r);if(!n)return!1;r=Yre(n)}jre(t,"link",e.insertTexts.link,r)}function KE(t){var e=t.options,r="https://";if(e.promptURLs){var n=prompt(e.promptTexts.image,r);if(!n)return!1;r=Yre(n)}jre(t,"image",e.insertTexts.image,r)}function Yre(t){return encodeURI(t).replace(/([\\()])/g,"\\$1")}function bM(t){t.openBrowseFileWindow()}function Xre(t,e){var r=t.codemirror,n=dd(r),i=t.options,a=e.substr(e.lastIndexOf("/")+1),s=a.substring(a.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(s))q0(r,n.image,i.insertTexts.uploadedImage,e);else{var o=i.insertTexts.link;o[0]="["+a,q0(r,n.link,o,e)}t.updateStatusBar("upload-image",t.options.imageTexts.sbOnUploaded.replace("#image_name#",a)),setTimeout(function(){t.updateStatusBar("upload-image",t.options.imageTexts.sbInit)},1e3)}function QE(t){var e=t.codemirror,r=dd(e),n=t.options;q0(e,r.table,n.insertTexts.table)}function ZE(t){var e=t.codemirror,r=dd(e),n=t.options;q0(e,r.image,n.insertTexts.horizontalRule)}function JE(t){var e=t.codemirror;e.undo(),e.focus()}function eT(t){var e=t.codemirror;e.redo(),e.focus()}function nv(t){var e=t.codemirror,r=e.getWrapperElement(),n=r.nextSibling,i=t.toolbarElements&&t.toolbarElements["side-by-side"],a=!1,s=r.parentNode;n.classList.contains("editor-preview-active-side")?(t.options.sideBySideFullscreen===!1&&s.classList.remove("sided--no-fullscreen"),n.classList.remove("editor-preview-active-side"),i&&i.classList.remove("active"),r.classList.remove("CodeMirror-sided")):(setTimeout(function(){e.getOption("fullScreen")||(t.options.sideBySideFullscreen===!1?s.classList.add("sided--no-fullscreen"):W0(t)),n.classList.add("editor-preview-active-side")},1),i&&i.classList.add("active"),r.classList.add("CodeMirror-sided"),a=!0);var o=r.lastChild;if(o.classList.contains("editor-preview-active")){o.classList.remove("editor-preview-active");var l=t.toolbarElements.preview,u=t.toolbar_div;l.classList.remove("active"),u.classList.remove("disabled-for-preview")}var h=function(){var d=t.options.previewRender(t.value(),n);d!=null&&(n.innerHTML=d)};if(e.sideBySideRenderingFunction||(e.sideBySideRenderingFunction=h),a){var f=t.options.previewRender(t.value(),n);f!=null&&(n.innerHTML=f),e.on("update",e.sideBySideRenderingFunction)}else e.off("update",e.sideBySideRenderingFunction);e.refresh()}function tT(t){var e=t.codemirror,r=e.getWrapperElement(),n=t.toolbar_div,i=t.options.toolbar?t.toolbarElements.preview:!1,a=r.lastChild,s=e.getWrapperElement().nextSibling;if(s.classList.contains("editor-preview-active-side")&&nv(t),!a||!a.classList.contains("editor-preview-full")){if(a=document.createElement("div"),a.className="editor-preview-full",t.options.previewClass)if(Array.isArray(t.options.previewClass))for(var o=0;o<t.options.previewClass.length;o++)a.classList.add(t.options.previewClass[o]);else typeof t.options.previewClass=="string"&&a.classList.add(t.options.previewClass);r.appendChild(a)}a.classList.contains("editor-preview-active")?(a.classList.remove("editor-preview-active"),i&&(i.classList.remove("active"),n.classList.remove("disabled-for-preview"))):(setTimeout(function(){a.classList.add("editor-preview-active")},1),i&&(i.classList.add("active"),n.classList.add("disabled-for-preview")));var l=t.options.previewRender(t.value(),a);l!==null&&(a.innerHTML=l)}function q0(t,e,r,n){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var i,a=r[0],s=r[1],o={},l={};Object.assign(o,t.getCursor("start")),Object.assign(l,t.getCursor("end")),n&&(a=a.replace("#url#",n),s=s.replace("#url#",n)),e?(i=t.getLine(o.line),a=i.slice(0,o.ch),s=i.slice(o.ch),t.replaceRange(a+s,{line:o.line,ch:0})):(i=t.getSelection(),t.replaceSelection(a+i+s),o.ch+=a.length,o!==l&&(l.ch+=a.length)),t.setSelection(o,l),t.focus()}}function pd(t,e,r){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var n=t.getCursor("start"),i=t.getCursor("end"),a=n.line;a<=i.line;a++)(function(s){var o=t.getLine(s),l=o.search(/[^#]/);e!==void 0?l<=0?e=="bigger"?o="###### "+o:o="# "+o:l==6&&e=="smaller"?o=o.substr(7):l==1&&e=="bigger"?o=o.substr(2):e=="bigger"?o=o.substr(1):o="#"+o:l<=0?o="#".repeat(r)+" "+o:l==r?o=o.substr(l+1):o="#".repeat(r)+" "+o.substr(l+1),t.replaceRange(o,{line:s,ch:0},{line:s,ch:99999999999999})})(a);t.focus()}}function wM(t,e,r){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var n=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,i=/^\s*/,a=dd(t),s=t.getCursor("start"),o=t.getCursor("end"),l={quote:/^(\s*)>\s+/,"unordered-list":n,"ordered-list":n},u=function(m,v){var x={quote:">","unordered-list":r,"ordered-list":"%%i."};return x[m].replace("%%i",v)},h=function(m,v){var x={quote:">","unordered-list":"\\"+r,"ordered-list":"\\d+."},y=new RegExp(x[m]);return v&&y.test(v)},f=function(m,v,x){var y=n.exec(v),w=u(m,d);return y!==null?(h(m,y[2])&&(w=""),v=y[1]+w+y[3]+v.replace(i,"").replace(l[m],"$1")):x==!1&&(v=w+" "+v),v},d=1,p=s.line;p<=o.line;p++)(function(m){var v=t.getLine(m);a[e]?v=v.replace(l[e],"$1"):(e=="unordered-list"&&(v=f("ordered-list",v,!0)),v=f(e,v,!1),d+=1),t.replaceRange(v,{line:m,ch:0},{line:m,ch:99999999999999})})(p);t.focus()}}function jre(t,e,r,n){if(!(!t.codemirror||t.isPreviewActive())){var i=t.codemirror,a=dd(i),s=a[e];if(!s){q0(i,s,r,n);return}var o=i.getCursor("start"),l=i.getCursor("end"),u=i.getLine(o.line),h=u.slice(0,o.ch),f=u.slice(o.ch);e=="link"?h=h.replace(/(.*)[^!]\[/,"$1"):e=="image"&&(h=h.replace(/(.*)!\[$/,"$1")),f=f.replace(/]\(.*?\)/,""),i.replaceRange(h+f,{line:o.line,ch:0},{line:o.line,ch:99999999999999}),o.ch-=r[0].length,o!==l&&(l.ch-=r[0].length),i.setSelection(o,l),i.focus()}}function SM(t,e,r,n){if(!(!t.codemirror||t.isPreviewActive())){n=typeof n>"u"?r:n;var i=t.codemirror,a=dd(i),s,o=r,l=n,u=i.getCursor("start"),h=i.getCursor("end");a[e]?(s=i.getLine(u.line),o=s.slice(0,u.ch),l=s.slice(u.ch),e=="bold"?(o=o.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),l=l.replace(/(\*\*|__)/,"")):e=="italic"?(o=o.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),l=l.replace(/(\*|_)/,"")):e=="strikethrough"&&(o=o.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),l=l.replace(/(\*\*|~~)/,"")),i.replaceRange(o+l,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),e=="bold"||e=="strikethrough"?(u.ch-=2,u!==h&&(h.ch-=2)):e=="italic"&&(u.ch-=1,u!==h&&(h.ch-=1))):(s=i.getSelection(),e=="bold"?(s=s.split("**").join(""),s=s.split("__").join("")):e=="italic"?(s=s.split("*").join(""),s=s.split("_").join("")):e=="strikethrough"&&(s=s.split("~~").join("")),i.replaceSelection(o+s+l),u.ch+=r.length,h.ch=u.ch+s.length),i.setSelection(u,h),i.focus()}}function v_e(t){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var e=t.getCursor("start"),r=t.getCursor("end"),n,i=e.line;i<=r.line;i++)n=t.getLine(i),n=n.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),t.replaceRange(n,{line:i,ch:0},{line:i,ch:99999999999999})}function yS(t,e){if(Math.abs(t)<1024)return""+t+e[0];var r=0;do t/=1024,++r;while(Math.abs(t)>=1024&&r<e.length);return""+t.toFixed(1)+e[r]}function Kre(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]instanceof Array?t[r]=e[r].concat(t[r]instanceof Array?t[r]:[]):e[r]!==null&&typeof e[r]=="object"&&e[r].constructor===Object?t[r]=Kre(t[r]||{},e[r]):t[r]=e[r]);return t}function Lc(t){for(var e=1;e<arguments.length;e++)t=Kre(t,arguments[e]);return t}function Hz(t){var e=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,r=t.match(e),n=0;if(r===null)return n;for(var i=0;i<r.length;i++)r[i].charCodeAt(0)>=19968?n+=r[i].length:n+=1;return n}var Fn={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},T0={bold:{name:"bold",action:FE,className:Fn.bold,title:"Bold",default:!0},italic:{name:"italic",action:BE,className:Fn.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:$E,className:Fn.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:kx,className:Fn.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:kx,className:Fn["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:VE,className:Fn["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:UE,className:Fn["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:GE,className:Fn["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:WE,className:Fn["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:zE,className:Fn.code,title:"Code"},quote:{name:"quote",action:HE,className:Fn.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:qE,className:Fn["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:YE,className:Fn["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:XE,className:Fn["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:jE,className:Fn.link,title:"Create Link",default:!0},image:{name:"image",action:KE,className:Fn.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:bM,className:Fn["upload-image"],title:"Import an image"},table:{name:"table",action:QE,className:Fn.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:ZE,className:Fn["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:tT,className:Fn.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:nv,className:Fn["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:W0,className:Fn.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:Fn.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:JE,className:Fn.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:eT,className:Fn.redo,noDisable:!0,title:"Redo"}},y_e={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},x_e={link:"URL for the link:",image:"URL of the image:"},b_e={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},w_e={bold:"**",code:"```",italic:"*"},S_e={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},k_e={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function Gt(t){t=t||{},t.parent=this;var e=!0;if(t.autoDownloadFontAwesome===!1&&(e=!1),t.autoDownloadFontAwesome!==!0)for(var r=document.styleSheets,n=0;n<r.length;n++)r[n].href&&r[n].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(e=!1);if(e){var i=document.createElement("link");i.rel="stylesheet",i.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(i)}if(t.element)this.element=t.element;else if(t.element===null){console.log("EasyMDE: Error. No element was found.");return}if(t.toolbar===void 0){t.toolbar=[];for(var a in T0)Object.prototype.hasOwnProperty.call(T0,a)&&(a.indexOf("separator-")!=-1&&t.toolbar.push("|"),(T0[a].default===!0||t.showIcons&&t.showIcons.constructor===Array&&t.showIcons.indexOf(a)!=-1)&&t.toolbar.push(a))}if(Object.prototype.hasOwnProperty.call(t,"previewClass")||(t.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(t,"status")||(t.status=["autosave","lines","words","cursor"],t.uploadImage&&t.status.unshift("upload-image")),t.previewRender||(t.previewRender=function(o){return this.parent.markdown(o)}),t.parsingConfig=Lc({highlightFormatting:!0},t.parsingConfig||{}),t.insertTexts=Lc({},y_e,t.insertTexts||{}),t.promptTexts=Lc({},x_e,t.promptTexts||{}),t.blockStyles=Lc({},w_e,t.blockStyles||{}),t.autosave!=null&&(t.autosave.timeFormat=Lc({},b_e,t.autosave.timeFormat||{})),t.iconClassMap=Lc({},Fn,t.iconClassMap||{}),t.shortcuts=Lc({},c_e,t.shortcuts||{}),t.maxHeight=t.maxHeight||void 0,t.direction=t.direction||"ltr",typeof t.maxHeight<"u"?t.minHeight=t.maxHeight:t.minHeight=t.minHeight||"300px",t.errorCallback=t.errorCallback||function(o){alert(o)},t.uploadImage=t.uploadImage||!1,t.imageMaxSize=t.imageMaxSize||2097152,t.imageAccept=t.imageAccept||"image/png, image/jpeg, image/gif, image/avif",t.imageTexts=Lc({},S_e,t.imageTexts||{}),t.errorMessages=Lc({},k_e,t.errorMessages||{}),t.imagePathAbsolute=t.imagePathAbsolute||!1,t.imageCSRFName=t.imageCSRFName||"csrfmiddlewaretoken",t.imageCSRFHeader=t.imageCSRFHeader||!1,t.autosave!=null&&t.autosave.unique_id!=null&&t.autosave.unique_id!=""&&(t.autosave.uniqueId=t.autosave.unique_id),t.overlayMode&&t.overlayMode.combine===void 0&&(t.overlayMode.combine=!0),this.options=t,this.render(),t.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(t.initialValue),t.uploadImage){var s=this;this.codemirror.on("dragenter",function(o,l){s.updateStatusBar("upload-image",s.options.imageTexts.sbOnDragEnter),l.stopPropagation(),l.preventDefault()}),this.codemirror.on("dragend",function(o,l){s.updateStatusBar("upload-image",s.options.imageTexts.sbInit),l.stopPropagation(),l.preventDefault()}),this.codemirror.on("dragleave",function(o,l){s.updateStatusBar("upload-image",s.options.imageTexts.sbInit),l.stopPropagation(),l.preventDefault()}),this.codemirror.on("dragover",function(o,l){s.updateStatusBar("upload-image",s.options.imageTexts.sbOnDragEnter),l.stopPropagation(),l.preventDefault()}),this.codemirror.on("drop",function(o,l){l.stopPropagation(),l.preventDefault(),t.imageUploadFunction?s.uploadImagesUsingCustomFunction(t.imageUploadFunction,l.dataTransfer.files):s.uploadImages(l.dataTransfer.files)}),this.codemirror.on("paste",function(o,l){t.imageUploadFunction?s.uploadImagesUsingCustomFunction(t.imageUploadFunction,l.clipboardData.files):s.uploadImages(l.clipboardData.files)})}}Gt.prototype.uploadImages=function(t,e,r){if(t.length!==0){for(var n=[],i=0;i<t.length;i++)n.push(t[i].name),this.uploadImage(t[i],e,r);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",n.join(", ")))}};Gt.prototype.uploadImagesUsingCustomFunction=function(t,e){if(e.length!==0){for(var r=[],n=0;n<e.length;n++)r.push(e[n].name),this.uploadImageUsingCustomFunction(t,e[n]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",r.join(", ")))}};Gt.prototype.updateStatusBar=function(t,e){if(this.gui.statusbar){var r=this.gui.statusbar.getElementsByClassName(t);r.length===1?this.gui.statusbar.getElementsByClassName(t)[0].textContent=e:r.length===0?console.log("EasyMDE: status bar item "+t+" was not found."):console.log("EasyMDE: Several status bar items named "+t+" was found.")}};Gt.prototype.markdown=function(t){if(P7){var e;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?e=this.options.renderingConfig.markedOptions:e={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?e.breaks=!1:e.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var r=this.options.renderingConfig.hljs||window.hljs;r&&(e.highlight=function(i,a){return a&&r.getLanguage(a)?r.highlight(a,i).value:r.highlightAuto(i).value})}P7.setOptions(e);var n=P7.parse(t);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(n=this.options.renderingConfig.sanitizerFunction.call(this,n)),n=f_e(n),n=d_e(n),n}};Gt.prototype.render=function(t){if(t||(t=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===t)return;this.element=t;var e=this.options,r=this,n={};for(var i in e.shortcuts)e.shortcuts[i]!==null&&Sx[i]!==null&&function(x){n[qre(e.shortcuts[x])]=function(){var y=Sx[x];typeof y=="function"?y(r):typeof y=="string"&&window.open(y,"_blank")}}(i);n.Enter="newlineAndIndentContinueMarkdownList",n.Tab="tabAndIndentMarkdownList",n["Shift-Tab"]="shiftTabAndUnindentMarkdownList",n.Esc=function(x){x.getOption("fullScreen")&&W0(r)},this.documentOnKeyDown=function(x){x=x||window.event,x.keyCode==27&&r.codemirror.getOption("fullScreen")&&W0(r)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var a,s;e.overlayMode?(og.defineMode("overlay-mode",function(x){return og.overlayMode(og.getMode(x,e.spellChecker!==!1?"spell-checker":"gfm"),e.overlayMode.mode,e.overlayMode.combine)}),a="overlay-mode",s=e.parsingConfig,s.gitHubSpice=!1):(a=e.parsingConfig,a.name="gfm",a.gitHubSpice=!1),e.spellChecker!==!1&&(a="spell-checker",s=e.parsingConfig,s.name="gfm",s.gitHubSpice=!1,typeof e.spellChecker=="function"?e.spellChecker({codeMirrorInstance:og}):l_e({codeMirrorInstance:og}));function o(x,y,w){return{addNew:!1}}if(this.codemirror=og.fromTextArea(t,{mode:a,backdrop:s,theme:e.theme!=null?e.theme:"easymde",tabSize:e.tabSize!=null?e.tabSize:2,indentUnit:e.tabSize!=null?e.tabSize:2,indentWithTabs:e.indentWithTabs!==!1,lineNumbers:e.lineNumbers===!0,autofocus:e.autofocus===!0,extraKeys:n,direction:e.direction,lineWrapping:e.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:e.placeholder||t.getAttribute("placeholder")||"",styleSelectedText:e.styleSelectedText!=null?e.styleSelectedText:!J_(),scrollbarStyle:e.scrollbarStyle!=null?e.scrollbarStyle:"native",configureMouse:o,inputStyle:e.inputStyle!=null?e.inputStyle:J_()?"contenteditable":"textarea",spellcheck:e.nativeSpellcheck!=null?e.nativeSpellcheck:!0,autoRefresh:e.autoRefresh!=null?e.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=e.minHeight,typeof e.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=e.maxHeight),e.forceSync===!0){var l=this.codemirror;l.on("change",function(){l.save()})}this.gui={};var u=document.createElement("div");u.classList.add("EasyMDEContainer"),u.setAttribute("role","application");var h=this.codemirror.getWrapperElement();h.parentNode.insertBefore(u,h),u.appendChild(h),e.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),e.status!==!1&&(this.gui.statusbar=this.createStatusbar()),e.autosave!=null&&e.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(r._autosave_timeout),r._autosave_timeout=setTimeout(function(){r.autosave()},r.options.autosave.submit_delay||r.options.autosave.delay||1e3)}));function f(x,y){var w,S=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return x<S?w=y+"px":w=y/x*100+"%",w}var d=this;function p(x,y){x.setAttribute("data-img-src",y.url),x.setAttribute("style","--bg-image:url("+y.url+");--width:"+y.naturalWidth+"px;--height:"+f(y.naturalWidth,y.naturalHeight)),d.codemirror.setSize()}function m(){e.previewImagesInEditor&&u.querySelectorAll(".cm-image-marker").forEach(function(x){var y=x.parentElement;if(y.innerText.match(/^!\[.*?\]\(.*\)/g)&&!y.hasAttribute("data-img-src")){var w=y.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),w&&w.length>=2){var S=w[1];if(e.imagesPreviewHandler){var E=e.imagesPreviewHandler(w[1]);typeof E=="string"&&(S=E)}if(window.EMDEimagesCache[S])p(y,window.EMDEimagesCache[S]);else{var C=document.createElement("img");C.onload=function(){window.EMDEimagesCache[S]={naturalWidth:C.naturalWidth,naturalHeight:C.naturalHeight,url:S},p(y,window.EMDEimagesCache[S])},C.src=S}}}})}this.codemirror.on("update",function(){m()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(e.autofocus===!0||t.autofocus)&&this.codemirror.focus();var v=this.codemirror;setTimeout((function(){v.refresh()}).bind(v),0)};Gt.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function Qre(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}Gt.prototype.autosave=function(){if(Qre()){var t=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(t.element.form!=null&&t.element.form!=null&&t.element.form.addEventListener("submit",function(){clearTimeout(t.autosaveTimeoutId),t.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+t.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var e=t.value();e!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,e):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var r=document.getElementById("autosaved");if(r!=null&&r!=null&&r!=""){var n=new Date,i=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(n),a=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;r.innerHTML=a+i}}else console.log("EasyMDE: localStorage not available, cannot autosave")};Gt.prototype.clearAutosavedValue=function(){if(Qre()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};Gt.prototype.openBrowseFileWindow=function(t,e){var r=this,n=this.gui.toolbar.getElementsByClassName("imageInput")[0];n.click();function i(a){r.options.imageUploadFunction?r.uploadImagesUsingCustomFunction(r.options.imageUploadFunction,a.target.files):r.uploadImages(a.target.files,t,e),n.removeEventListener("change",i)}n.addEventListener("change",i)};Gt.prototype.uploadImage=function(t,e,r){var n=this;e=e||function(u){Xre(n,u)};function i(l){n.updateStatusBar("upload-image",l),setTimeout(function(){n.updateStatusBar("upload-image",n.options.imageTexts.sbInit)},1e4),r&&typeof r=="function"&&r(l),n.options.errorCallback(l)}function a(l){var u=n.options.imageTexts.sizeUnits.split(",");return l.replace("#image_name#",t.name).replace("#image_size#",yS(t.size,u)).replace("#image_max_size#",yS(n.options.imageMaxSize,u))}if(t.size>this.options.imageMaxSize){i(a(this.options.errorMessages.fileTooLarge));return}var s=new FormData;s.append("image",t),n.options.imageCSRFToken&&!n.options.imageCSRFHeader&&s.append(n.options.imageCSRFName,n.options.imageCSRFToken);var o=new XMLHttpRequest;o.upload.onprogress=function(l){if(l.lengthComputable){var u=""+Math.round(l.loaded*100/l.total);n.updateStatusBar("upload-image",n.options.imageTexts.sbProgress.replace("#file_name#",t.name).replace("#progress#",u))}},o.open("POST",this.options.imageUploadEndpoint),n.options.imageCSRFToken&&n.options.imageCSRFHeader&&o.setRequestHeader(n.options.imageCSRFName,n.options.imageCSRFToken),o.onload=function(){try{var l=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),i(a(n.options.errorMessages.importError));return}this.status===200&&l&&!l.error&&l.data&&l.data.filePath?e((n.options.imagePathAbsolute?"":window.location.origin+"/")+l.data.filePath):l.error&&l.error in n.options.errorMessages?i(a(n.options.errorMessages[l.error])):l.error?i(a(l.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),i(a(n.options.errorMessages.importError)))},o.onerror=function(l){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+l.target.status+" ("+l.target.statusText+")"),i(n.options.errorMessages.importError)},o.send(s)};Gt.prototype.uploadImageUsingCustomFunction=function(t,e){var r=this;function n(s){Xre(r,s)}function i(s){var o=a(s);r.updateStatusBar("upload-image",o),setTimeout(function(){r.updateStatusBar("upload-image",r.options.imageTexts.sbInit)},1e4),r.options.errorCallback(o)}function a(s){var o=r.options.imageTexts.sizeUnits.split(",");return s.replace("#image_name#",e.name).replace("#image_size#",yS(e.size,o)).replace("#image_max_size#",yS(r.options.imageMaxSize,o))}t.apply(this,[e,n,i])};Gt.prototype.setPreviewMaxHeight=function(){var t=this.codemirror,e=t.getWrapperElement(),r=e.nextSibling,n=parseInt(window.getComputedStyle(e).paddingTop),i=parseInt(window.getComputedStyle(e).borderTopWidth),a=parseInt(this.options.maxHeight),s=a+n*2+i*2,o=s.toString()+"px";r.style.height=o};Gt.prototype.createSideBySide=function(){var t=this.codemirror,e=t.getWrapperElement(),r=e.nextSibling;if(!r||!r.classList.contains("editor-preview-side")){if(r=document.createElement("div"),r.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var n=0;n<this.options.previewClass.length;n++)r.classList.add(this.options.previewClass[n]);else typeof this.options.previewClass=="string"&&r.classList.add(this.options.previewClass);e.parentNode.insertBefore(r,e.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return r;var i=!1,a=!1;return t.on("scroll",function(s){if(i){i=!1;return}a=!0;var o=s.getScrollInfo().height-s.getScrollInfo().clientHeight,l=parseFloat(s.getScrollInfo().top)/o,u=(r.scrollHeight-r.clientHeight)*l;r.scrollTop=u}),r.onscroll=function(){if(a){a=!1;return}i=!0;var s=r.scrollHeight-r.clientHeight,o=parseFloat(r.scrollTop)/s,l=(t.getScrollInfo().height-t.getScrollInfo().clientHeight)*o;t.scrollTo(0,l)},r};Gt.prototype.createToolbar=function(t){if(t=t||this.options.toolbar,!(!t||t.length===0)){var e;for(e=0;e<t.length;e++)T0[t[e]]!=null&&(t[e]=T0[t[e]]);var r=document.createElement("div");r.className="editor-toolbar",r.setAttribute("role","toolbar");var n=this,i={};for(n.toolbar=t,e=0;e<t.length;e++)if(!(t[e].name=="guide"&&n.options.toolbarGuideIcon===!1)&&!(n.options.hideIcons&&n.options.hideIcons.indexOf(t[e].name)!=-1)&&!((t[e].name=="fullscreen"||t[e].name=="side-by-side")&&J_())){if(t[e]==="|"){for(var a=!1,s=e+1;s<t.length;s++)t[s]!=="|"&&(!n.options.hideIcons||n.options.hideIcons.indexOf(t[s].name)==-1)&&(a=!0);if(!a)continue}(function(u){var h;if(u==="|"?h=g_e():u.children?h=p_e(u,n.options.toolbarTips,n.options.shortcuts,n):h=E3(u,!0,n.options.toolbarTips,n.options.shortcuts,"button",n),i[u.name||u]=h,r.appendChild(h),u.name==="upload-image"){var f=document.createElement("input");f.className="imageInput",f.type="file",f.multiple=!0,f.name="image",f.accept=n.options.imageAccept,f.style.display="none",f.style.opacity=0,r.appendChild(f)}})(t[e])}n.toolbar_div=r,n.toolbarElements=i;var o=this.codemirror;o.on("cursorActivity",function(){var u=dd(o);for(var h in i)(function(f){var d=i[f];u[f]?d.classList.add("active"):f!="fullscreen"&&f!="side-by-side"&&d.classList.remove("active")})(h)});var l=o.getWrapperElement();return l.parentNode.insertBefore(r,l),r}};Gt.prototype.createStatusbar=function(t){t=t||this.options.status;var e=this.options,r=this.codemirror;if(!(!t||t.length===0)){var n=[],i,a,s,o;for(i=0;i<t.length;i++)if(a=void 0,s=void 0,o=void 0,typeof t[i]=="object")n.push({className:t[i].className,defaultValue:t[i].defaultValue,onUpdate:t[i].onUpdate,onActivity:t[i].onActivity});else{var l=t[i];l==="words"?(o=function(p){p.innerHTML=Hz(r.getValue())},a=function(p){p.innerHTML=Hz(r.getValue())}):l==="lines"?(o=function(p){p.innerHTML=r.lineCount()},a=function(p){p.innerHTML=r.lineCount()}):l==="cursor"?(o=function(p){p.innerHTML="1:1"},s=function(p){var m=r.getCursor(),v=m.line+1,x=m.ch+1;p.innerHTML=v+":"+x}):l==="autosave"?o=function(p){e.autosave!=null&&e.autosave.enabled===!0&&p.setAttribute("id","autosaved")}:l==="upload-image"&&(o=function(p){p.innerHTML=e.imageTexts.sbInit}),n.push({className:l,defaultValue:o,onUpdate:a,onActivity:s})}var u=document.createElement("div");for(u.className="editor-statusbar",i=0;i<n.length;i++){var h=n[i],f=document.createElement("span");f.className=h.className,typeof h.defaultValue=="function"&&h.defaultValue(f),typeof h.onUpdate=="function"&&this.codemirror.on("update",function(p,m){return function(){m.onUpdate(p)}}(f,h)),typeof h.onActivity=="function"&&this.codemirror.on("cursorActivity",function(p,m){return function(){m.onActivity(p)}}(f,h)),u.appendChild(f)}var d=this.codemirror.getWrapperElement();return d.parentNode.insertBefore(u,d.nextSibling),u}};Gt.prototype.value=function(t){var e=this.codemirror;if(t===void 0)return e.getValue();if(e.getDoc().setValue(t),this.isPreviewActive()){var r=e.getWrapperElement(),n=r.lastChild,i=this.options.previewRender(t,n);i!==null&&(n.innerHTML=i)}return this};Gt.toggleBold=FE;Gt.toggleItalic=BE;Gt.toggleStrikethrough=$E;Gt.toggleBlockquote=HE;Gt.toggleHeadingSmaller=kx;Gt.toggleHeadingBigger=VE;Gt.toggleHeading1=UE;Gt.toggleHeading2=GE;Gt.toggleHeading3=WE;Gt.toggleHeading4=vM;Gt.toggleHeading5=yM;Gt.toggleHeading6=xM;Gt.toggleCodeBlock=zE;Gt.toggleUnorderedList=qE;Gt.toggleOrderedList=YE;Gt.cleanBlock=XE;Gt.drawLink=jE;Gt.drawImage=KE;Gt.drawUploadedImage=bM;Gt.drawTable=QE;Gt.drawHorizontalRule=ZE;Gt.undo=JE;Gt.redo=eT;Gt.togglePreview=tT;Gt.toggleSideBySide=nv;Gt.toggleFullScreen=W0;Gt.prototype.toggleBold=function(){FE(this)};Gt.prototype.toggleItalic=function(){BE(this)};Gt.prototype.toggleStrikethrough=function(){$E(this)};Gt.prototype.toggleBlockquote=function(){HE(this)};Gt.prototype.toggleHeadingSmaller=function(){kx(this)};Gt.prototype.toggleHeadingBigger=function(){VE(this)};Gt.prototype.toggleHeading1=function(){UE(this)};Gt.prototype.toggleHeading2=function(){GE(this)};Gt.prototype.toggleHeading3=function(){WE(this)};Gt.prototype.toggleHeading4=function(){vM(this)};Gt.prototype.toggleHeading5=function(){yM(this)};Gt.prototype.toggleHeading6=function(){xM(this)};Gt.prototype.toggleCodeBlock=function(){zE(this)};Gt.prototype.toggleUnorderedList=function(){qE(this)};Gt.prototype.toggleOrderedList=function(){YE(this)};Gt.prototype.cleanBlock=function(){XE(this)};Gt.prototype.drawLink=function(){jE(this)};Gt.prototype.drawImage=function(){KE(this)};Gt.prototype.drawUploadedImage=function(){bM(this)};Gt.prototype.drawTable=function(){QE(this)};Gt.prototype.drawHorizontalRule=function(){ZE(this)};Gt.prototype.undo=function(){JE(this)};Gt.prototype.redo=function(){eT(this)};Gt.prototype.togglePreview=function(){tT(this)};Gt.prototype.toggleSideBySide=function(){nv(this)};Gt.prototype.toggleFullScreen=function(){W0(this)};Gt.prototype.isPreviewActive=function(){var t=this.codemirror,e=t.getWrapperElement(),r=e.lastChild;return r.classList.contains("editor-preview-active")};Gt.prototype.isSideBySideActive=function(){var t=this.codemirror,e=t.getWrapperElement(),r=e.nextSibling;return r.classList.contains("editor-preview-active-side")};Gt.prototype.isFullscreenActive=function(){var t=this.codemirror;return t.getOption("fullScreen")};Gt.prototype.getState=function(){var t=this.codemirror;return dd(t)};Gt.prototype.toTextArea=function(){var t=this.codemirror,e=t.getWrapperElement(),r=e.parentNode;r&&(this.gui.toolbar&&r.removeChild(this.gui.toolbar),this.gui.statusbar&&r.removeChild(this.gui.statusbar),this.gui.sideBySide&&r.removeChild(this.gui.sideBySide)),r.parentNode.insertBefore(e,r),r.remove(),t.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};var E_e=Gt;const T_e=Th(E_e);var C_e=0,A_e=()=>`simplemde-editor-${++C_e}`,__e=({options:t,id:e,currentValueRef:r,textRef:n})=>{const[i,a]=je.useState(null),s=je.useCallback((u,h,f)=>{const d=t==null?void 0:t.imageUploadFunction;d&&d(u,m=>{h(m)},f)},[t==null?void 0:t.imageUploadFunction]),o=je.useRef(i);o.current=i,je.useEffect(()=>{let u;if(n){const h={element:n,initialValue:r.current},f=t!=null&&t.imageUploadFunction?s:void 0;u=new T_e(Object.assign({},h,t,{imageUploadFunction:f})),a(u)}return()=>{u==null||u.toTextArea(),u==null||u.cleanup()}},[n,r,e,s,t]);const l=je.useMemo(()=>i==null?void 0:i.codemirror,[i==null?void 0:i.codemirror]);return{editor:i,codemirror:l}},Zre=mt.forwardRef((t,e)=>{const{events:r,value:n,options:i,children:a,extraKeys:s,getLineAndCursor:o,getMdeInstance:l,getCodemirrorInstance:u,onChange:h,id:f,placeholder:d,textareaProps:p,...m}=t,v=je.useMemo(()=>f??A_e(),[f]),x=je.useRef(null),y=je.useRef(!0),w=je.useRef(n);w.current=n;const[S,E]=je.useState(null),{editor:C,codemirror:L}=__e({options:i,id:v,currentValueRef:w,textRef:S});je.useEffect(()=>{y.current&&(C==null||C.value(n??"")),y.current=!0},[C,n]);const _=je.useCallback((F,M)=>{(C==null?void 0:C.value())!==w.current&&(y.current=!1,h==null||h((C==null?void 0:C.value())??"",M))},[C,h]);je.useEffect(()=>{i!=null&&i.autofocus&&(L==null||L.focus(),L==null||L.setCursor(L==null?void 0:L.lineCount(),0))},[L,i==null?void 0:i.autofocus]);const I=je.useCallback(()=>{L&&(o==null||o(L.getDoc().getCursor()))},[L,o]);je.useEffect(()=>{I()},[I]),je.useEffect(()=>{C&&(l==null||l(C))},[C,l]),je.useEffect(()=>{L&&(u==null||u(L))},[L,u,l]),je.useEffect(()=>{s&&L&&L.setOption("extraKeys",Object.assign({},L.getOption("extraKeys"),s))},[L,s]),je.useEffect(()=>{var F;const M=(F=x.current)==null?void 0:F.getElementsByClassName("editor-toolbarNode")[0],B=L&&_;return B?(M==null||M.addEventListener("click",B),()=>{M==null||M.removeEventListener("click",B)}):()=>{}},[L,_]),je.useEffect(()=>(L==null||L.on("change",_),L==null||L.on("cursorActivity",I),()=>{L==null||L.off("change",_),L==null||L.off("cursorActivity",I)}),[L,I,_]);const D=je.useRef(r);return je.useEffect(()=>(r!==D.current&&D.current&&Object.entries(D.current).forEach(([M,B])=>{B&&(L==null||L.off(M,B))}),r&&Object.entries(r).forEach(([M,B])=>{B&&(L==null||L.on(M,B))}),D.current=r,()=>{r&&Object.entries(r).forEach(([M,B])=>{B&&(L==null||L.off(M,B))})}),[L,r]),mt.createElement("div",{id:`${v}-wrapper`,...m,ref:F=>{typeof e=="function"?e(F):e&&(e.current=F),x.current=F}},mt.createElement("textarea",{...p,id:v,placeholder:d,ref:E,style:{display:"none"}}))});Zre.displayName="SimpleMdeReact";var L_e=Zre;const D_e=Aa((t,e)=>{const{onChange:r,value:n,readOnly:i,onFocus:a,rows:s,className:o,...l}=t,u=je.useRef(null);je.useImperativeHandle(e,()=>({getValue:()=>{var p;return(p=u.current)==null?void 0:p.value},focus:p=>{var m;return(m=u.current)==null?void 0:m.focus(p)}}),[u]);const h=je.useCallback(p=>{var m;i&&((m=u.current)==null||m.select()),a==null||a(p)},[a,i]),f=je.useCallback(p=>{r==null||r(p.target.value)},[r]),d=i?`block w-full outline-none px-1 bg-transparent cursor-default whitespace-pre-wrap ${o}`:`block w-full outline-none px-1 bg-color-base border border-color-5 ${o}`;return i?Xe.jsx("p",{className:d,children:n??""}):Xe.jsx("textarea",{...l,ref:u,value:n??"",className:d,autoComplete:"off",spellCheck:!1,rows:s||3,readOnly:i,onFocus:h,onChange:f})});Aa((t,e)=>{const{onChange:r,value:n,readOnly:i,onFocus:a,className:s,...o}=t,l=je.useRef(),u=je.useCallback(d=>{l.current=d},[]);je.useImperativeHandle(e,()=>({getValue:()=>n,focus:d=>{const p=()=>setTimeout(()=>{l.current?l.current.codemirror.focus():p()},10);p()}}),[l,n]);const h=je.useCallback(d=>{a==null||a(d)},[a,i]),f=je.useCallback(d=>{r==null||r(d)},[r]);return i?Xe.jsx("span",{children:n}):Xe.jsx(L_e,{getMdeInstance:u,value:n??"",onChange:f,className:`w-full ${s}`,onFocus:h,spellCheck:"false",options:R_e,...o})});const R_e={spellChecker:!1,toolbar:[],status:!1,minHeight:"3rem"},Jre=Aa((t,e)=>Xe.jsx(wp,{ref:e,...t})),M_e=Aa((t,e)=>Xe.jsx(D_e,{ref:e,...t}));Aa((t,e)=>{const{value:r,onChange:n,...i}=t,a=je.useMemo(()=>(r==null?void 0:r.toString())??"",[r]),s=je.useCallback(l=>{const{num:u}=E7(l);n==null||n(u)},[n]),o=je.useRef(null);return je.useImperativeHandle(e,()=>({getValue:()=>{var u;const{num:l}=E7(((u=o.current)==null?void 0:u.getValue())??"");return l},focus:l=>{var u;return(u=o.current)==null?void 0:u.focus(l)}}),[o]),Xe.jsx(wp,{ref:o,...i,value:a,onChange:s,onValidate:E7})});var N_e={exports:{}};(function(t,e){(function(r,n){t.exports=n(Ej)})(Pl,function(r){function n(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var i=n(r),a={name:"ja",weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(s){return s+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiem:function(s){return s<12?"午前":"午後"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}};return i.default.locale(a,null,!0),a})})(N_e);Aa((t,e)=>{const r=je.useMemo(()=>{const i=Vz(t.value??"");return i.ok?i.formatted:""},[t.value]),n={...t,value:r,placeholder:t.placeholder??"0000-00-00 00:00:00",onValidate:Vz};return Xe.jsx(wp,{ref:e,...n})});const Vz=t=>{const e=th(t);return e===""?{ok:!0,formatted:""}:kM(e,"YYYY-MM-DD HH:mm:ss")};Aa((t,e)=>{const r=je.useMemo(()=>{const i=Uz(t.value??"");return i.ok?i.formatted:""},[t.value]),n={...t,value:r,placeholder:t.placeholder??"0000-00-00",onValidate:Uz};return Xe.jsx(wp,{ref:e,...n})});const Uz=t=>{const e=th(t);return e===""?{ok:!0,formatted:""}:kM(e,"YYYY-MM-DD")};Aa((t,e)=>{const{value:r,onChange:n,...i}=t,a=je.useRef(null);je.useImperativeHandle(e,()=>({getValue:()=>{var u;return Gz(((u=a.current)==null?void 0:u.getValue())??"")},focus:u=>{var h;return(h=a.current)==null?void 0:h.focus(u)}}),[a]);const s=je.useMemo(()=>{if(r==null)return"";const u=Math.floor(r/100),h=r%100;return`${u.toString().padStart(4,"0")}-${h.toString().padStart(2,"0")}`},[r]),o=je.useCallback(u=>{n==null||n(Gz(u??""))},[n]),l={...i,value:s,onChange:o,placeholder:t.placeholder??"0000-00",onValidate:ene};return Xe.jsx(wp,{ref:a,...l})});const ene=t=>{const e=th(t);return e===""?{ok:!0,formatted:""}:kM(e,"YYYY-MM")},Gz=t=>{const e=ene(t);if(!e.ok||e.formatted==="")return;const r=e.formatted.split("-");return Number(r[0])*100+Number(r[1])},kM=(t,e)=>{let r=xa(t,{format:e,locale:"ja"});return r.isValid()?(r.year()==2001&&!t.includes("2001")&&(r=r.set("year",xa().year())),{ok:!0,formatted:r.format(e)}):{ok:!1}},Cb=Aa((t,e)=>{const r=Xt(L=>{var _;(_=t.onChange)==null||_.call(t,L?t.getValueFromOption(L):void 0)}),[n,i]=mt.useState(),a=F_e(t.onFilter,t.waitTimeMS??0),s=Xt(async L=>{i(L);const _=await a(L);_&&x(_)}),o=mt.useMemo(()=>n!==void 0?n:t.value!==void 0?t.getValueText(t.value):"",[n,t.value,t.getValueText]),l=mt.useRef(null),u=mt.useRef(null),[h,f]=mt.useState(!1),[d,p]=mt.useState(),[{popupElementRef:m},v]=mM(),x=Xt(L=>{var I;((I=t.onDropdownOpening)==null?void 0:I.call(t))!==!1&&(f(!0),v(D=>{var F;return D.openPopup((F=l.current)==null?void 0:F.element,O_e(L,t.getOptionText,p,r,u),()=>f(!1))}))}),[{isImeOpen:y}]=TM(),w=Xt(async L=>{var _,I,D,F,M;if(L.key==="ArrowUp"||L.key==="ArrowDown"){if(!y&&!h){p(void 0);const B=await a(void 0);B&&x(B),L.preventDefault()}else L.key==="ArrowUp"?((_=u.current)==null||_.highlightAbove(),L.preventDefault()):((I=u.current)==null||I.highlightBelow(),L.preventDefault());return}if(h&&!y&&L.key==="Enter"){if(d===void 0){r(void 0),(D=u.current)==null||D.close(),L.preventDefault();return}const B=(M=(F=u.current)==null?void 0:F.options)==null?void 0:M[d];if(!B)return;r(B),i(void 0),p(void 0),u.current.close(),L.preventDefault()}}),S=Xt(async()=>{const L=await a(void 0);L&&x(L)}),E=Xt(()=>{if(u.current&&d!==void 0){const L=u.current.options[d];return L?t.getValueFromOption(L):void 0}else return n!==void 0?void 0:t.value});mt.useImperativeHandle(e,()=>({focus:()=>{var L;return(L=l.current)==null?void 0:L.focus()},getValue:E,closeDropdown:()=>{var L;return(L=u.current)==null?void 0:L.close()}}),[l,E,u]);const C=Xt(L=>{var _,I,D;i(void 0),!((_=m.current)!=null&&_.contains(L.relatedTarget))&&((I=t.onChange)==null||I.call(t,E()),(D=u.current)==null||D.close())});return Xe.jsx(wp,{ref:l,readOnly:t.readOnly,value:o,onOneCharChanged:s,onKeyDown:w,onBlur:C,AtEnd:t.readOnly?void 0:Xe.jsx(I_e,{onClick:S}),className:t.className})}),I_e=({onClick:t})=>Xe.jsx(q1e,{className:"w-6 text-color-5 border-l border-color-5 cursor-pointer outline-none",onClick:t,tabIndex:0}),O_e=(t,e,r,n,i)=>({closeDialog:a})=>{const[s,o]=mt.useState(),l=K7e(t.length),u=Xt(()=>{var p,m,v;const d=s===void 0?0:Math.max(0,s-1);d!==s&&r(d),o(d),(v=(m=(p=l.current)==null?void 0:p[d])==null?void 0:m.current)==null||v.scrollIntoView({block:"nearest"})}),h=Xt(()=>{var p,m,v;const d=s===void 0?0:Math.min(t.length-1,s+1);d!==s&&r(d),o(d),(v=(m=(p=l.current)==null?void 0:p[d])==null?void 0:m.current)==null||v.scrollIntoView({block:"nearest"})}),f=Xt(d=>{const p=t[d];p&&n(p),a()});return mt.useImperativeHandle(i,()=>({options:t,highlightAbove:u,highlightBelow:h,close:a}),[t,u,h,a]),Xe.jsxs("ul",{children:[t.length===0&&Xe.jsx("li",{className:"text-color-6",children:"データなし"}),t.map((d,p)=>Xe.jsx(P_e,{index:p,text:e(d),onClick:f,highlight:p===s,liRef:l.current[p]},p))]})},P_e=mt.memo(({index:t,text:e,onClick:r,highlight:n,className:i,liRef:a})=>Xe.jsxs("li",{ref:a,className:`cursor-pointer relative ${n?"bg-color-4":""} ${i}`,onClick:t!==void 0?()=>r==null?void 0:r(t):void 0,children:[Xe.jsx("div",{className:"bg-color-4 absolute inset-0 opacity-0 hover:opacity-25"}),e,!e&&Xe.jsx(Xe.Fragment,{children:" "})]})),F_e=(t,e)=>{const[,r]=OE(),n=mt.useRef(void 0);return Xt(i=>(n.current!==void 0&&clearTimeout(n.current),new Promise(a=>{n.current=setTimeout(async()=>{try{const s=await t(i);a(s)}catch(s){r(o=>o.error(`データ取得に失敗しました: ${s}`)),a(!1)}},e)})))},B_e=Aa((t,e)=>{var p,m;const{children:r,onChange:n,value:i,readOnly:a,...s}=t,o=je.useRef(null);je.useImperativeHandle(e,()=>({getValue:()=>{var v;return((v=o.current)==null?void 0:v.checked)??!1},focus:v=>{var x;return(x=o.current)==null?void 0:x.focus(v)}}),[o]);const l=H_e(),u=je.useCallback(v=>{o.current&&(a||(o.current.checked=v,n==null||n(v),l()))},[a,n,l]),h=je.useCallback(v=>{u(v.target.checked)},[u]),f=je.useCallback(v=>{var x;(v.key==="Enter"||v.key===" ")&&(u(!((x=o.current)!=null&&x.checked)),v.preventDefault())},[u]),d=i??!1;return Xe.jsxs("label",{className:"relative inline-flex justify-center items-center focus-within:outline outline-1",children:[Xe.jsx("span",{className:`w-4 h-4 inline-block border rounded-sm
        ${t.readOnly?"ml-1":""}
        ${i?"border-color-8":"border-color-5"}
        ${i?"bg-color-8":"bg-color-base"}`,children:Xe.jsx($Ae,{className:i?"text-color-1":"invisible"})}),Xe.jsx("input",{...s,ref:o,type:((p=o.current)==null?void 0:p.type)??"checkbox",className:`opacity-0 absolute top-0 left-0 right-0 bottom-0
          ${(m=o.current)!=null&&m.readOnly?"hidden":""}`,checked:d,readOnly:a,onChange:h,onKeyDown:f}),r&&Xe.jsx("span",{className:"mx-1 select-none",children:r})]})}),$_e=Aa((t,e)=>{const{options:r,keySelector:n,textSelector:i,value:a,onChange:s,name:o,readOnly:l}=t,u=je.useCallback(m=>{s==null||s(m)},[s]),h=je.useRef([]);for(let m=0;m<r.length;m++)h.current[m]=je.createRef();const f=je.useCallback(m=>{u(m.target.value)},[u]),d=je.useCallback((m,v,x)=>{var y,w;m.key==="Enter"||m.key===" "?(s==null||s(n(v)),m.preventDefault()):m.key==="ArrowUp"||m.key==="ArrowLeft"?(x>0&&((y=h.current[x-1].current)==null||y.focus()),m.preventDefault()):(m.key==="ArrowDown"||m.key==="ArrowRight")&&(x<r.length-1&&((w=h.current[x+1].current)==null||w.focus()),m.preventDefault())},[r,s,n]),p=je.useMemo(()=>{if(a!==void 0){const m=r.find(v=>n(v)===a);return m?i(m):a}return""},[a,i,n,r]);return je.useImperativeHandle(e,()=>({getValue:()=>a,focus:m=>{var v,x;return(x=(v=h.current[0])==null?void 0:v.current)==null?void 0:x.focus(m)}}),[a,h]),l?Xe.jsx(wp,{value:p,readOnly:!0}):Xe.jsx("ul",{className:"flex flex-wrap gap-x-2 gap-y-1",children:r.map((m,v)=>Xe.jsxs("li",{ref:h.current[v],className:`inline-flex items-center gap-1
            cursor-pointer select-none
            focus-within:outline outline-1`,tabIndex:0,onClick:()=>u(n(m)),onKeyDown:x=>d(x,m,v),children:[Xe.jsx("input",{type:"radio",className:"hidden",name:o,value:n(m),checked:!!a&&n(m)===a,onChange:f}),Xe.jsx(z_e,{checked:!!a&&n(m)===a}),i(m)]},n(m)))})}),z_e=({checked:t})=>Xe.jsx("div",{className:"inline-flex justify-center items-center w-3 h-3 border border-color-5 rounded-[50%] bg-color-base",children:t&&Xe.jsx("div",{className:"inline-flex w-2 h-2 rounded-[50%] bg-color-8"})}),H_e=()=>{const[t,e]=je.useState(!1);return je.useCallback(()=>e(!t),[t])},V_e=Cb,U_e=Aa((t,e)=>{const{options:r,radio:n,combo:i,...a}=t,s=je.useRef(null);je.useImperativeHandle(e,()=>({getValue:()=>{var h;return(h=s.current)==null?void 0:h.getValue()},focus:h=>{var f;return(f=s.current)==null?void 0:f.focus(h)},closeDropdown:()=>{var h,f;return(f=(h=s.current)==null?void 0:h.closeDropdown)==null?void 0:f.call(h)}}),[s]);const o=je.useMemo(()=>n?"radio":i||r.length>5?"combo":"radio",[n,i,r]),l=je.useCallback(h=>h,[]),u=Xt(async h=>{if(h){const f=th(h);return r.filter(d=>th(d).includes(f))}else return r});return o==="combo"?Xe.jsx(Cb,{...a,ref:s,onFilter:u,getOptionText:l,getValueFromOption:l,getValueText:l}):Xe.jsx($_e,{...a,ref:s,options:r,keySelector:l})}),G_e=Aa((t,e)=>Xe.jsx(Cb,{ref:e,...t,onFilter:t.onFilter,waitTimeMS:t.waitTimeMS??300,getOptionText:t.getOptionText,getValueFromOption:t.getValueFromOption,getValueText:t.getValueText}));Aa((t,e)=>{const{value:r,onChange:n,...i}=t,a=je.useRef(null);je.useImperativeHandle(e,()=>({getValue:()=>r,focus:l=>{var u;return(u=a.current)==null?void 0:u.focus(l)},closeDropdown:()=>{var l,u;return(u=(l=a.current)==null?void 0:l.closeDropdown)==null?void 0:u.call(l)}}),[a,r]);const s=Xt(l=>{if(!l)return;const u=t.getValueFromOption(l),h=r?[...r,u]:[u];n==null||n(h)}),o=je.useCallback(l=>{n==null||n((r==null?void 0:r.filter(u=>u!==l))??[])},[r,n]);return Xe.jsxs("div",{className:`flex flex-col gap-1 ${t.className??""}`,children:[r!==void 0&&r.length>0&&Xe.jsx("div",{className:"flex flex-wrap gap-1",children:r.map((l,u)=>Xe.jsx(W_e,{option:l,onRemove:o,children:t.getOptionText(l)},u))}),Xe.jsx(Cb,{ref:a,...i,onChange:s})]})});const W_e=({option:t,children:e,onRemove:r})=>Xe.jsxs("div",{className:"inline-flex items-center text-sm text-color-7 px-1 py-px gap-1 border border-color-5 rounded-md",children:[Xe.jsx("span",{className:"whitespace-nowrap select-none",children:e}),Xe.jsx(ni,{icon:IE,onClick:()=>r==null?void 0:r(t),hideText:!0,className:"cursor-pointer",children:"削除"})]});Aa((t,e)=>{const{label:r,className:n,style:i,...a}=t;return Xe.jsxs("label",{className:`flex items-center gap-1 ${n??""}`,style:i,children:[Xe.jsx(B_e,{ref:e,...a}),Xe.jsxs("span",{className:"select-none",children:[r," "]})]})});Aa((t,e)=>{const r=je.useRef(null);return je.useImperativeHandle(e,()=>({getValue:()=>{var i;const n=(i=r.current)==null?void 0:i.getValue();if(n===eL[0])return!0;if(n===eL[1])return!1},focus:n=>{var i;return(i=r.current)==null?void 0:i.focus(n)}}),[r]),Xe.jsx(Cb,{ref:r,...t,...q_e})});const eL=[{text:"○",boolValue:!0},{text:"-",boolValue:!1}],q_e={onFilter:()=>Promise.resolve(eL),getOptionText:t=>t.text,getValueFromOption:t=>t.boolValue,getValueText:t=>t?"○":"-"};mt.memo(({className:t,...e})=>Xe.jsxs("div",{className:`flex px-1 gap-4 ${t??""}`,children:[Xe.jsx(ni,{onClick:e.toFirstPage,icon:ZX,outline:!0,hideText:!0,children:"最初のページへ"}),Xe.jsx(ni,{onClick:e.toPreviousPage,icon:U1e,outline:!0,hideText:!0,children:"前のページへ"}),Xe.jsxs("span",{className:"select-none whitespace-nowrap",children:[e.currentPageIndex+1," / ",e.maxPageIndex+1," ページ"]}),Xe.jsx(ni,{onClick:e.toNextPage,icon:ej,outline:!0,hideText:!0,children:"次のページへ"}),Xe.jsx(ni,{onClick:e.toLastPage,icon:JX,outline:!0,hideText:!0,children:"最後のページへ"})]}));Aa((t,e)=>{const{value:r,onChange:n,readOnly:i,className:a,...s}=t,o=Xt(h=>{n==null||n({...r,file:h.target.files})}),l=Xt(()=>{n==null||n({...r,willDetach:!0})}),u=mt.useRef(null);return mt.useImperativeHandle(e,()=>({getValue:()=>r,focus:()=>{var h;return(h=u.current)==null?void 0:h.focus()}}),[r,u]),Xe.jsxs("div",{...s,className:`inline-flex gap-1 items-center ${a??""}`,children:[!i&&(!(r!=null&&r.metadata)||r.willDetach)&&Xe.jsx("input",{type:"file",className:"flex-1",onChange:o}),(r==null?void 0:r.metadata)&&!r.willDetach&&Xe.jsx("a",{href:r.metadata.href,download:r.metadata.download,target:"_blank",className:"text-color-link",children:r.metadata.displayFileName}),!i&&(r==null?void 0:r.metadata)&&!r.willDetach&&Xe.jsx(ni,{icon:IE,onClick:l,hideText:!0,children:"解除"})]})});const Y_e=t=>{const[e,r]=_E(t.defaultValue,()=>({setValue:i=>i}),(i,a)=>({children:s})=>{const[,o]=OE(),l=je.useReducer(a,(()=>{try{const u=localStorage.getItem(t.storageKey);if(u==null)return t.defaultValue();{const h=t.deserialize(u);if((h==null?void 0:h.ok)!==!0)throw new Error(`Failuer to parse local storage value as '${t.storageKey}'.`);return h.obj}}catch(u){return o(h=>h.warn(u)),t.defaultValue()}})());return Xe.jsx(i.Provider,{value:l,children:s})});return[e,()=>{const[i,a]=r(),s=je.useCallback(o=>{localStorage.setItem(t.storageKey,t.serialize(o)),a(l=>l.setValue(o))},[a]);return{data:i,save:s}}]},[yut,EM]=Y_e({storageKey:"appcontext",defaultValue:()=>({}),serialize:t=>JSON.stringify(t),deserialize:t=>({ok:!0,obj:JSON.parse(t)})}),[xut,TM]=_E(()=>({isImeOpen:!1}),()=>({setValue:t=>({isImeOpen:t})}),(t,e)=>({elementRef:r,children:n})=>{const[i,a]=je.useReducer(e,{isImeOpen:!1}),s=je.useMemo(()=>[i,a],[i,a]);return je.useEffect(()=>{const o=()=>a(u=>u.setValue(!0)),l=()=>a(u=>u.setValue(!1));return r==null||r.addEventListener("compositionstart",o),r==null||r.addEventListener("compositionend",l),()=>{r==null||r.removeEventListener("compositionstart",o),r==null||r.removeEventListener("compositionend",l)}},[r,a]),Xe.jsx(t.Provider,{value:s,children:n})});mt.createContext({toggle:()=>{},setCollapsed:()=>{}});mt.createContext({changes:[],changesCount:0,reload:()=>Promise.resolve(),commit:()=>Promise.resolve(!1),reset:()=>Promise.resolve(),ready:!1});const Wz=()=>({aggregateOrMemberTypes:void 0,config:{},aggregates:[],editingXmlFilePath:void 0,optionalAttributes:void 0,projectRoot:void 0}),qz=t=>({uniqueId:hc.generate(),depth:t,attrValues:[],comment:"",displayName:"",type:void 0,typeDetail:void 0,xmlFileFullPath:void 0}),Xh={DISPLAY_NAME:"-",TYPE:"type",TYPE_DETAIL:"typeDetail",COMMENT:"comment"},tne=()=>{const[,t]=OE(),[,e]=PE(),[r,n]=mt.useState(!1),[i,a]=mt.useState(""),s=Xt(f=>{f?(a(f),localStorage.setItem(F7,f)):(a(f),localStorage.removeItem(F7))});mt.useLayoutEffect(()=>{const f=localStorage.getItem(F7);f&&a(f),n(!0)},[]);const o=Xt(async()=>{try{const f=await fetch(`${i??""}/load`,{method:"GET"});if(!f.ok){const p=await f.text();return t(m=>m.error(p)),Wz()}return await f.json()}catch(f){return t(d=>d.error(f)),Wz()}}),l=Xt(async(f,d)=>{const p={config:f,aggregates:d};return await(await fetch(`${i??""}/validate`,{method:"POST",body:JSON.stringify(p)})).json()}),u=Xt(async(f,d,p)=>{const m={config:f,aggregates:d};return await(await fetch(`${i??""}/mermaid?${p?"only-root=1":""}`,{method:"POST",body:JSON.stringify(m)})).text()}),h=Xt(async(f,d,p)=>{const m={config:f,aggregates:d};return(await fetch(`${i??""}/save${p?"?build=1":""}`,{method:"POST",body:JSON.stringify(m)})).ok?(e(y=>y.info("保存しました。")),!0):(e(y=>y.warn("保存できませんでした。")),!1)});return{ready:r,backendDomain:i,onChangBackendDomain:s,load:o,validate:l,mermaid:u,save:h}},F7="NIJO-UI::BACKEND-API",rne=mt.createContext({}),X_e=rne.Provider,ef=(t,e)=>{const r=mt.useContext(rne);if(!t)return;const n=r[t];if(n!==void 0&&Object.keys(n).length!==0)return e===void 0?Object.values(n).flat():e in n?n[e]:void 0},j_e=(t,{typeComboSource:e,typeComboProps:r},n,i,a)=>mt.useMemo(()=>{const s={id:Xh.DISPLAY_NAME,...Yz(d=>d.displayName??"",(d,p)=>{d.displayName=p}),defaultWidthPx:240,render:d=>{const p=ef(d.uniqueId,Xh.DISPLAY_NAME);let m;n.has(d.uniqueId)?i.has(d.uniqueId)?m=ej:m=H1e:m=void 0;const v=Xt(()=>{a(d.uniqueId)});return Xe.jsxs(Fd,{errors:p,className:"flex overflow-x-hidden gap-1",children:[Xe.jsx("div",{style:{flexBasis:d.depth*28}}),Xe.jsxs("span",{className:"flex-1 inline-flex items-center gap-px overflow-x-hidden whitespace-nowrap text-ellipsis",children:[Xe.jsx(ni,{icon:m,onClick:v,inline:!0,hideText:!0,children:"折りたたみ"}),d.displayName]})]})}},o=(d,p)=>{e!=null&&e.some(m=>m.key===p)?d.type=p:d.type=void 0},l={id:Xh.TYPE,header:"種類",onClipboardCopy:d=>d.type??"",render:d=>{var m;const p=ef(d.uniqueId,Xh.TYPE);return Xe.jsx(Fd,{errors:p,children:((m=e==null?void 0:e.find(v=>v.key===d.type))==null?void 0:m.displayName)??d.type})},editSetting:{type:"combo",comboProps:r,onStartEditing:d=>d.type,onEndEditing:o,onClipboardPaste:o}},u={id:Xh.TYPE_DETAIL,...Yz(d=>d.typeDetail??"",(d,p)=>{d.typeDetail=p}),defaultWidthPx:40,render:d=>{const p=ef(d.uniqueId,Xh.TYPE_DETAIL);return Xe.jsx(Fd,{errors:p,children:d.typeDetail})}},h=[];for(let d=0;d<((t==null?void 0:t.length)??0);d++){const p=t[d];if(p.type==="boolean"){const v=(y,w,S)=>{var C;const E={key:w,value:""};if(!y.attrValues)y.attrValues=S?[E]:[];else{const L=(C=y.attrValues)==null?void 0:C.findIndex(I=>I.key===w),_=[...y.attrValues];S?L===-1?_.push(E):_.splice(L,1,E):!S&&L!==-1&&_.splice(L,1),y.attrValues=_}},x={type:"combo",onStartEditing:y=>{var w;return(w=y.attrValues)!=null&&w.some(S=>S.key===p.key)?{key:"T",text:"✓"}:{key:"F",text:""}},onEndEditing:(y,w)=>{v(y,p.key,(w==null?void 0:w.key)==="T")},onClipboardPaste:(y,w)=>{const S=th(w).toLowerCase(),E=S==="t"||S==="true"||S==="1"||S==="✓";v(y,p.key,E)},comboProps:{onFilter:async()=>[{key:"T",text:"✓"},{key:"F",text:""}],getOptionText:y=>y.text,getValueFromOption:y=>y,getValueText:y=>y.text}};h.push({id:p.key,header:p.displayName,headerTitle:`${p.displayName??""}
${p.helpText??""}`,defaultWidthPx:60,onClipboardCopy:y=>{var w;return(w=y.attrValues)!=null&&w.some(S=>S.key===p.key)?"true":""},render:y=>{var S;const w=ef(y.uniqueId,p.key);return Xe.jsx(Fd,{errors:w,children:(S=y.attrValues)!=null&&S.some(E=>E.key===p.key)?"✓":""})},editSetting:x});continue}const m=(v,x,y)=>{var w;if(!v.attrValues)v.attrValues=y?[{key:x,value:y}]:[];else{const S=(w=v.attrValues)==null?void 0:w.findIndex(C=>C.key===x),E=[...v.attrValues];y?S===-1?E.push({key:x,value:y}):E.splice(S,1,{key:x,value:y}):!y&&S!==-1&&E.splice(S,1),v.attrValues=E}};p.type==="number"?h.push({id:p.key,header:p.displayName,headerTitle:`${p.displayName??""}
${p.helpText??""}`,defaultWidthPx:60,onClipboardCopy:v=>{var x,y;return((y=(x=v.attrValues)==null?void 0:x.find(w=>w.key===p.key))==null?void 0:y.value)??""},render:v=>{var y,w;const x=ef(v.uniqueId,p.key);return Xe.jsx(Fd,{errors:x,children:(w=(y=v.attrValues)==null?void 0:y.find(S=>S.key===p.key))==null?void 0:w.value})},editSetting:{type:"text",onStartEditing:v=>{var x,y;return(y=(x=v.attrValues)==null?void 0:x.find(w=>w.key===p.key))==null?void 0:y.value},onEndEditing:(v,x)=>{const y=x?Number(th(x)):NaN;m(v,p.key,isNaN(y)?"":y.toString())},onClipboardPaste:(v,x)=>{const y=x?Number(th(x)):NaN;m(v,p.key,isNaN(y)?"":y.toString())}}}):h.push({id:p.key,header:p.displayName,headerTitle:`${p.displayName??""}
${p.helpText??""}`,defaultWidthPx:60,onClipboardCopy:v=>{var x,y;return((y=(x=v.attrValues)==null?void 0:x.find(w=>w.key===p.key))==null?void 0:y.value)??""},render:v=>{var y,w;const x=ef(v.uniqueId,p.key);return Xe.jsx(Fd,{errors:x,children:(w=(y=v.attrValues)==null?void 0:y.find(S=>S.key===p.key))==null?void 0:w.value})},editSetting:{type:"text",onStartEditing:v=>{var x,y;return(y=(x=v.attrValues)==null?void 0:x.find(w=>w.key===p.key))==null?void 0:y.value},onEndEditing:(v,x)=>{m(v,p.key,x??"")},onClipboardPaste:(v,x)=>{m(v,p.key,x)}}})}const f={id:Xh.COMMENT,header:"備考",defaultWidthPx:240,onClipboardCopy:d=>d.comment??"",render:d=>{const p=ef(d.uniqueId,Xh.COMMENT);return Xe.jsx(Fd,{errors:p,children:d.comment})},editSetting:{type:"multiline-text",onStartEditing:d=>d.comment,onClipboardPaste:(d,p)=>d.comment=p,onEndEditing:(d,p)=>d.comment=p}};return[s,l,u,...h,f]},[e,r,t,n,i,a]),Fd=({errors:t,className:e,children:r})=>Xe.jsxs("span",{title:t==null?void 0:t.join(`
`),className:`block px-1 text-ellipsis whitespace-nowrap overflow-x-hidden ${t?"bg-orange-100":""} ${e}`,children:[r," "]}),Yz=(t,e)=>({onClipboardCopy:t,editSetting:{type:"text",onClipboardPaste:e,onEndEditing:e,onStartEditing:t}}),K_e=(t,e,r)=>{const n=mt.useMemo(()=>{if(e.length===0)return[];const a=[];t&&a.push(...t);const s=e.filter(u=>u.depth===0&&(u.type==="write-model-2"||u.type==="read-model-2"||u.type==="write-model-2 generate-default-read-model"));for(const u of s){const f=[u,...r(u)].filter(d=>d.depth===0||d.type==="child"||d.type==="children"||d.type==="variation-item");a.push(...f.map(d=>({key:`ref-to:${d.uniqueId}`,displayName:`ref-to:${d.displayName}`})))}const o=e.filter(u=>u.depth===0&&u.type==="enum");a.push(...o.map(u=>({key:`enum:${u.uniqueId}`,displayName:u.displayName})));const l=e.filter(u=>u.depth===0&&u.type==="value-object");return a.push(...l.map(u=>({key:`value-object:${u.uniqueId}`,displayName:u.displayName}))),a},[r,e,t]),i=mt.useMemo(()=>({onFilter:a=>{if(a){const s=a.toLowerCase();return Promise.resolve(n.filter(o=>{var l;return(l=o.displayName)==null?void 0:l.toLowerCase().includes(s)})??[])}else return Promise.resolve(n)},getOptionText:a=>Xe.jsxs("div",{className:"flex flex-col",children:[Xe.jsx("span",{children:a.displayName}),Xe.jsx("span",{className:"text-color-6 text-xs max-w-min min-w-full",children:a.helpText})]}),getValueFromOption:a=>a.key,getValueText:a=>{var s;return((s=n.find(o=>o.key===a))==null?void 0:s.displayName)??a??""}}),[n]);return{typeComboSource:n,typeComboProps:i}},Q_e=(t,e)=>{const r=Xt(p=>{if(e.current===void 0)return;let m=e.current.indexOf(p);if(m===-1)throw new Error("index is out of range.");for(;;){if(m--,m<0)return;const v=e.current[m];if(v.depth<p.depth)return v}}),n=Xt(p=>{if(e.current===void 0)return[];const m=[];let v=p.depth,x=e.current.indexOf(p);if(x===-1)throw new Error("index is out of range.");for(;!(v===0||(x--,x<0));){const y=e.current[x];y.depth<v&&(m.push(y),v=y.depth)}return m.reverse()}),i=Xt(p=>{if(e.current===void 0)return[];const m=[];let v=e.current.indexOf(p);if(v===-1)throw new Error("index is out of range.");for(;v++,!(v>=e.current.length);){const x=e.current[v];if(x.depth<=p.depth)break;r(x)==p&&m.push(x)}return m}),a=Xt(p=>{if(e.current===void 0)return[];const m=[];let v=e.current.indexOf(p);if(v===-1)throw new Error("index is out of range.");for(;v++,!(v>=e.current.length);){const x=e.current[v];if(x.depth<=p.depth)break;m.push(x)}return m}),[s,o]=mt.useState(new Set),l=Xt(()=>{o(new Set)}),u=Xt(()=>{const p=t==null?void 0:t.filter(m=>m.depth===0);o(new Set(p==null?void 0:p.map(m=>m.uniqueId)))}),h=Xt(p=>{const m=new Set(s);s.has(p)?m.delete(p):m.add(p),o(m)}),f=mt.useMemo(()=>{const p=new Set;if(t)for(let m=0;m<t.length;m++){const v=t[m],x=t[m+1];x!==void 0&&(x.depth<=v.depth||p.add(v.uniqueId))}return p},[t]),d=mt.useMemo(()=>{if(!t)return[];const p=[];for(let m=0;m<t.length;m++){const v=t[m];p.push(v),s.has(v.uniqueId)&&(m+=a(v).length)}return p},[t,s,a]);return{getParent:r,getAncestors:n,getChildren:i,getDescendants:a,collapsedRowIds:s,expandableRows:f,expandedRows:d,toggleCollapsing:h,collapseAll:u,expandAll:l}},Z_e=(t,e,r,n)=>{const[,i]=mM();return{openAppSettingDialog:Xt(()=>{i(s=>s.pushDialog({title:"設定",disableConfirm:!0},o=>{const l=Object.entries(t.getValues("config"));return Xe.jsxs("div",{className:"grid grid-cols-[18rem,1fr] gap-x-2 gap-y-px",children:[Xe.jsx(B7,{children:"バックエンドURL"}),Xe.jsx(Jre,{value:e,onChange:r,className:"flex-1"}),Xe.jsx(B7,{children:"ファイル名"}),Xe.jsx("span",{className:"flex-1 select-all",children:n}),Xe.jsx("hr",{className:"col-span-full py-1"}),l.map(([u,h])=>Xe.jsxs(mt.Fragment,{children:[Xe.jsx(B7,{children:u}),Xe.jsx("div",{children:h==null?"":String(h)})]},u))]})}))})}},B7=({children:t})=>Xe.jsx("span",{className:"text-color-6 text-right break-all",children:t});function J_e(){const{ready:t,load:e,validate:r,save:n,backendDomain:i,onChangBackendDomain:a}=tne(),s=Q7e({}),{getValues:o,reset:l,control:u}=s,{fields:h,update:f,insert:d,remove:p,move:m}=b1e({name:"aggregates",control:u}),v=mt.useRef();v.current=h;const{collapsedRowIds:x,expandableRows:y,expandedRows:w,collapseAll:S,expandAll:E,toggleCollapsing:C,...L}=Q_e(h,v),_=M6({name:"aggregateOrMemberTypes",control:u}),I=K_e(_,h,L.getDescendants),D=M6({name:"editingXmlFilePath",control:u}),{openAppSettingDialog:F}=Z_e(s,i,a,D),M=M6({name:"optionalAttributes",control:u}),B=j_e(M,I,y,x,C),H=mt.useRef(null),[R,O]=mt.useState(),[P,z]=mt.useState([]),$=Xt(xe=>{if(xe){const le=xe.getRow(),ke=[...L.getAncestors(le),le];z(ke.map(De=>{var qe;const We=((qe=I.typeComboSource.find(Ve=>Ve.key===De.type))==null?void 0:qe.displayName)??De.type;return{member:De.displayName??"",type:We?`（${We}）`:""}})),O(le.uniqueId)}else z([]),O(void 0)}),V=Xt(()=>{var We,qe,Ve;E();const xe=(We=H.current)==null?void 0:We.getSelectedRows();if(xe===void 0)return;const le=Math.min(...xe.map(we=>we.rowIndex)),ke=((qe=h[le])==null?void 0:qe.depth)??0,De=((Ve=H.current)==null?void 0:Ve.getSelectedRows().length)??0;d(le,Array.from({length:De}).map(()=>qz(ke))),se()}),X=Xt(()=>{var We,qe;E();const xe=(We=H.current)==null?void 0:We.getSelectedRows();if(xe===void 0)return;const le=Math.max(...xe.map(Ve=>Ve.rowIndex))+1,ke=((qe=h[le])==null?void 0:qe.depth)??0,De=xe.length;d(le,Array.from({length:De}).map(()=>qz(ke))),se()}),q=Xt(()=>{var le;E();const xe=(le=H.current)==null?void 0:le.getSelectedRows().map(ke=>ke.rowIndex);xe!==void 0&&p(xe),se()}),Y=Xt(()=>{var le;E();const xe=(le=H.current)==null?void 0:le.getSelectedRows();if(xe){for(const{rowIndex:ke,row:De}of xe)f(ke,{...De,depth:Math.max(0,De.depth-1)});se()}}),U=Xt(()=>{var le;E();const xe=(le=H.current)==null?void 0:le.getSelectedRows();if(xe){for(const{rowIndex:ke,row:De}of xe)f(ke,{...De,depth:De.depth+1});se()}}),Z=Xt(()=>{var De,We;const xe=(De=H.current)==null?void 0:De.getSelectedRows().map(qe=>qe.rowIndex);if(xe===void 0)return;const le=Math.min(...xe),ke=Math.max(...xe);le!==0&&(E(),m(le-1,ke),(We=H.current)==null||We.selectRow(le-1,ke-1))}),pe=Xt(()=>{var De,We;const xe=(De=H.current)==null?void 0:De.getSelectedRows().map(qe=>qe.rowIndex);if(xe===void 0)return;const le=Math.min(...xe),ke=Math.max(...xe);ke>=h.length-1||(E(),m(ke+1,le),(We=H.current)==null||We.selectRow(le+1,ke+1))}),ne=Xt((xe,le)=>{var De;const ke=(De=o("aggregates"))==null?void 0:De.findIndex(We=>We.uniqueId===le.uniqueId);ke!==void 0&&(f(ke,le),se())}),ge=mt.useRef(void 0),[ye,J]=mt.useState({}),se=Xt(async()=>(ge.current!==void 0&&clearTimeout(ge.current),new Promise(()=>{ge.current=setTimeout(async()=>{const xe=o("aggregates");xe&&J(await r(o("config"),xe))},300)}))),[,oe]=mM(),fe=Xt(async()=>{oe(xe=>xe.pushDialog({title:"プレビュー",disableConfirm:!0},()=>Xe.jsx(tLe,{getValues:o})))}),me=Xt(async()=>{l(await e()),se()}),[be,ce]=mt.useState(!1),Ge=Xt(async()=>{if(!be){ce(!0);try{await n(o("config"),h,!0)?await me():se()}finally{ce(!1)}}});return mt.useEffect(()=>{t&&me()},[t]),Xe.jsx(X_e,{value:ye,children:Xe.jsxs(wj,{direction:"vertical",className:"w-full h-full p-1",children:[Xe.jsxs(VA,{className:"flex flex-col gap-1",children:[Xe.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[Xe.jsx(ni,{onClick:fe,icon:K1e,outline:!0,mini:!0,children:"プレビュー"}),Xe.jsx("div",{className:"basis-2"}),Xe.jsx(ni,{onClick:S,outline:!0,mini:!0,children:"折り畳み"}),Xe.jsx(ni,{onClick:E,outline:!0,mini:!0,children:"展開"}),Xe.jsx("div",{className:"basis-2"}),Xe.jsx(ni,{onClick:V,outline:!0,mini:!0,children:"挿入"}),Xe.jsx(ni,{onClick:X,outline:!0,mini:!0,children:"下挿入"}),Xe.jsx(ni,{onClick:q,outline:!0,mini:!0,children:"行削除"}),Xe.jsx("div",{className:"basis-2"}),Xe.jsx(ni,{onClick:Y,icon:ZX,outline:!0,mini:!0,children:"インデント上げ"}),Xe.jsx(ni,{onClick:U,icon:JX,outline:!0,mini:!0,children:"インデント下げ"}),Xe.jsx("div",{className:"basis-2"}),Xe.jsx(ni,{onClick:Z,icon:$1e,outline:!0,mini:!0,children:"上移動"}),Xe.jsx(ni,{onClick:pe,icon:O1e,outline:!0,mini:!0,children:"下移動"}),Xe.jsx("div",{className:"flex-1"}),Xe.jsx(ni,{onClick:me,icon:R1e,outline:!0,mini:!0,children:"再読み込み"}),Xe.jsx(ni,{onClick:F,icon:X1e,outline:!0,mini:!0,children:"設定"}),Xe.jsx(ni,{onClick:Ge,icon:N1e,loading:be,fill:!0,mini:!0,children:"保存してコード再生成"})]}),Xe.jsx($re,{}),Xe.jsxs("div",{className:"flex flex-wrap gap-1 items-center select-none text-sm",children:[P.map((xe,le)=>Xe.jsxs(mt.Fragment,{children:[le>0&&Xe.jsx("span",{className:"text-color-5",children:">"}),Xe.jsxs("div",{className:"bg-color-3 px-1 rounded-md",children:[Xe.jsx("span",{className:"text-color-7",children:xe.member}),Xe.jsx("span",{className:"text-color-5",children:xe.type})]})]},le))," "]}),Xe.jsx(NAe,{ref:H,data:w,columns:B,onChangeRow:ne,onActiveRowChanged:$,showActiveCellBorderAlways:!0,className:"flex-1"})]}),Xe.jsx(Sj,{className:"h-2"}),Xe.jsx(VA,{defaultSize:10,collapsible:!0,children:Xe.jsx(eLe,{activeRowUniqueId:R})})]})})}const eLe=({activeRowUniqueId:t})=>{const e=ef(t);return Xe.jsx("ul",{className:"h-full w-full flex flex-col overflow-y-auto bg-color-gutter",children:e==null?void 0:e.map((r,n)=>Xe.jsx("li",{className:"text-sm text-orange-600",children:r},n))})},tLe=({getValues:t})=>{const{ready:e,mermaid:r}=tne(),[n,i]=mt.useState(),a=Xt(async d=>{i(void 0);const p=t("aggregates");p&&i(await r(t("config"),p,d))}),s=mt.useCallback(d=>{d&&(_z.initialize({theme:"base",themeVariables:{fontFamily:nne.fontFamily,nodeTextColor:"#000000",clusterBkg:"#fff4dd",nodeBorder:"#cd834c",clusterBorder:"#cd834c",clusterTextColor:"#000000",edgeLabelBackground:"#ffffff"}}),_z.run({nodes:[d]}))},[]);mt.useEffect(()=>{e&&a(!0)},[e]);const[o,l]=mt.useState("ルート集約のみ表示"),u=mt.useMemo(()=>["ルート集約のみ表示","子孫集約も表示"],[]),h=mt.useCallback(d=>d,[]),f=Xt(d=>{l(d),a(d!=="子孫集約も表示")});return Xe.jsxs("div",{className:"flex flex-col h-full",children:[Xe.jsx("div",{children:Xe.jsx(U_e,{value:o,onChange:f,options:u,textSelector:h})}),Xe.jsx("div",{className:"flex-1 relative",children:n&&Xe.jsx("div",{ref:s,className:"mermaid",children:n})})]})},nne={fontFamily:'"Cascadia Mono", "BIZ UDGothic"'},rLe=()=>Xe.jsx("div",{className:"w-full h-full",style:nne,children:Xe.jsx(HAe,{children:Xe.jsx(Bre,{children:Xe.jsxs(XAe,{children:[Xe.jsx(J_e,{}),Xe.jsx(VAe,{})]})})})});q8.createRoot(document.getElementById("root")).render(Xe.jsx(mt.StrictMode,{children:Xe.jsx(rLe,{})}));class Oo{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new Oo(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class El{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new El(r,Oo.range(this,e))}}class Dt{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,i,a,s=r&&r.loc;if(s&&s.start<=s.end){var o=s.lexer.input;i=s.start,a=s.end,i===o.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var l=o.slice(i,a).replace(/[^]/g,"$&̲"),u;i>15?u="…"+o.slice(i-15,i):u=o.slice(0,i);var h;a+15<o.length?h=o.slice(a,a+15)+"…":h=o.slice(a),n+=u+l+h}var f=new Error(n);return f.name="ParseError",f.__proto__=Dt.prototype,f.position=i,i!=null&&a!=null&&(f.length=a-i),f.rawMessage=e,f}}Dt.prototype.__proto__=Error.prototype;var nLe=function(e,r){return e.indexOf(r)!==-1},iLe=function(e,r){return e===void 0?r:e},aLe=/([A-Z])/g,sLe=function(e){return e.replace(aLe,"-$1").toLowerCase()},oLe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},lLe=/[&><"']/g;function uLe(t){return String(t).replace(lLe,e=>oLe[e])}var ine=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},cLe=function(e){var r=ine(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},hLe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},fLe=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},mr={contains:nLe,deflt:iLe,escape:uLe,hyphenate:sLe,getBaseElem:ine,isCharacterBox:cLe,protocolFromUrl:fLe},T3={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function dLe(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class CM{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in T3)if(T3.hasOwnProperty(r)){var n=T3[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:dLe(n)}}reportNonstrict(e,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Dt("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,n){var i=this.strict;if(typeof i=="function")try{i=i(e,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=mr.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}let jh=class{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return Bu[pLe[this.id]]}sub(){return Bu[gLe[this.id]]}fracNum(){return Bu[mLe[this.id]]}fracDen(){return Bu[vLe[this.id]]}cramp(){return Bu[yLe[this.id]]}text(){return Bu[xLe[this.id]]}isTight(){return this.size>=2}};var AM=0,xS=1,n1=2,rh=3,Ex=4,xl=5,km=6,zs=7,Bu=[new jh(AM,0,!1),new jh(xS,0,!0),new jh(n1,1,!1),new jh(rh,1,!0),new jh(Ex,2,!1),new jh(xl,2,!0),new jh(km,3,!1),new jh(zs,3,!0)],pLe=[Ex,xl,Ex,xl,km,zs,km,zs],gLe=[xl,xl,xl,xl,zs,zs,zs,zs],mLe=[n1,rh,Ex,xl,km,zs,km,zs],vLe=[rh,rh,xl,xl,zs,zs,zs,zs],yLe=[xS,xS,rh,rh,xl,xl,zs,zs],xLe=[AM,xS,n1,rh,n1,rh,n1,rh],br={DISPLAY:Bu[AM],TEXT:Bu[n1],SCRIPT:Bu[Ex],SCRIPTSCRIPT:Bu[km]},tL=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function bLe(t){for(var e=0;e<tL.length;e++)for(var r=tL[e],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(t>=i[0]&&t<=i[1])return r.name}return null}var C3=[];tL.forEach(t=>t.blocks.forEach(e=>C3.push(...e)));function ane(t){for(var e=0;e<C3.length;e+=2)if(t>=C3[e]&&t<=C3[e+1])return!0;return!1}var lg=80,wLe=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},SLe=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},kLe=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},ELe=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},TLe=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},CLe=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},ALe=function(e,r,n){var i=n-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},_Le=function(e,r,n){r=1e3*r;var i="";switch(e){case"sqrtMain":i=wLe(r,lg);break;case"sqrtSize1":i=SLe(r,lg);break;case"sqrtSize2":i=kLe(r,lg);break;case"sqrtSize3":i=ELe(r,lg);break;case"sqrtSize4":i=TLe(r,lg);break;case"sqrtTall":i=ALe(r,lg,n)}return i},LLe=function(e,r){switch(e){case"⎜":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"∣":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"∥":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"⎟":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"⎢":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"⎥":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"⎪":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"⏐":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"‖":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},Xz={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},DLe=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Ab{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return mr.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var qu={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},mw={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},jz={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function RLe(t,e){qu[t]=e}function _M(t,e,r){if(!qu[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),i=qu[e][n];if(!i&&t[0]in jz&&(n=jz[t[0]].charCodeAt(0),i=qu[e][n]),!i&&r==="text"&&ane(n)&&(i=qu[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var $7={};function MLe(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!$7[e]){var r=$7[e]={cssEmPerMu:mw.quad[e]/18};for(var n in mw)mw.hasOwnProperty(n)&&(r[n]=mw[n][e])}return $7[e]}var NLe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Kz=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Qz=function(e,r){return r.size<2?e:NLe[e-1][r.size-1]};class $c{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||$c.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Kz[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new $c(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:Qz(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Kz[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=Qz($c.BASESIZE,e);return this.size===r&&this.textSize===$c.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==$c.BASESIZE?["sizing","reset-size"+this.size,"size"+$c.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=MLe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}$c.BASESIZE=6;var rL={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},ILe={ex:!0,em:!0,mu:!0},sne=function(e){return typeof e!="string"&&(e=e.unit),e in rL||e in ILe||e==="ex"},fi=function(e,r){var n;if(e.unit in rL)n=rL[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new Dt("Invalid unit: '"+e.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*n,r.maxSize)},Ft=function(e){return+e.toFixed(4)+"em"},Wf=function(e){return e.filter(r=>r).join(" ")},one=function(e,r,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},lne=function(e){var r=document.createElement(e);r.className=Wf(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r},une=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+mr.escape(Wf(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=mr.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+mr.escape(n)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(r+=" "+a+'="'+mr.escape(this.attributes[a])+'"');r+=">";for(var s=0;s<this.children.length;s++)r+=this.children[s].toMarkup();return r+="</"+e+">",r};class _b{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,one.call(this,e,n,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return mr.contains(this.classes,e)}toNode(){return lne.call(this,"span")}toMarkup(){return une.call(this,"span")}}class LM{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,one.call(this,r,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return mr.contains(this.classes,e)}toNode(){return lne.call(this,"a")}toMarkup(){return une.call(this,"a")}}class OLe{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return mr.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+mr.escape(this.src)+'"'+(' alt="'+mr.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=mr.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+mr.escape(r)+'"'),e+="'/>",e}}var PLe={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Ml{constructor(e,r,n,i,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=bLe(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=PLe[this.text])}hasClass(e){return mr.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=Ft(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Wf(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=mr.escape(Wf(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=mr.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,r+=' style="'+mr.escape(n)+'"');var a=mr.escape(this.text);return e?(r+=">",r+=a,r+="</span>",r):a}}class ph{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+mr.escape(this.attributes[r])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class qf{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",Xz[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+mr.escape(this.alternate)+'"/>':'<path d="'+mr.escape(Xz[this.pathName])+'"/>'}}class nL{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+mr.escape(this.attributes[r])+'"');return e+="/>",e}}function Zz(t){if(t instanceof Ml)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function FLe(t){if(t instanceof _b)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var BLe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},$Le={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Vn={math:{},text:{}};function Q(t,e,r,n,i,a){Vn[t][i]={font:e,group:r,replace:n},a&&n&&(Vn[t][n]=Vn[t][i])}var ie="math",St="text",Se="main",$e="ams",si="accent-token",jt="bin",Ks="close",iv="inner",xr="mathord",Gi="op-token",Ko="open",rT="punct",He="rel",Nh="spacing",Qe="textord";Q(ie,Se,He,"≡","\\equiv",!0);Q(ie,Se,He,"≺","\\prec",!0);Q(ie,Se,He,"≻","\\succ",!0);Q(ie,Se,He,"∼","\\sim",!0);Q(ie,Se,He,"⊥","\\perp");Q(ie,Se,He,"⪯","\\preceq",!0);Q(ie,Se,He,"⪰","\\succeq",!0);Q(ie,Se,He,"≃","\\simeq",!0);Q(ie,Se,He,"∣","\\mid",!0);Q(ie,Se,He,"≪","\\ll",!0);Q(ie,Se,He,"≫","\\gg",!0);Q(ie,Se,He,"≍","\\asymp",!0);Q(ie,Se,He,"∥","\\parallel");Q(ie,Se,He,"⋈","\\bowtie",!0);Q(ie,Se,He,"⌣","\\smile",!0);Q(ie,Se,He,"⊑","\\sqsubseteq",!0);Q(ie,Se,He,"⊒","\\sqsupseteq",!0);Q(ie,Se,He,"≐","\\doteq",!0);Q(ie,Se,He,"⌢","\\frown",!0);Q(ie,Se,He,"∋","\\ni",!0);Q(ie,Se,He,"∝","\\propto",!0);Q(ie,Se,He,"⊢","\\vdash",!0);Q(ie,Se,He,"⊣","\\dashv",!0);Q(ie,Se,He,"∋","\\owns");Q(ie,Se,rT,".","\\ldotp");Q(ie,Se,rT,"⋅","\\cdotp");Q(ie,Se,Qe,"#","\\#");Q(St,Se,Qe,"#","\\#");Q(ie,Se,Qe,"&","\\&");Q(St,Se,Qe,"&","\\&");Q(ie,Se,Qe,"ℵ","\\aleph",!0);Q(ie,Se,Qe,"∀","\\forall",!0);Q(ie,Se,Qe,"ℏ","\\hbar",!0);Q(ie,Se,Qe,"∃","\\exists",!0);Q(ie,Se,Qe,"∇","\\nabla",!0);Q(ie,Se,Qe,"♭","\\flat",!0);Q(ie,Se,Qe,"ℓ","\\ell",!0);Q(ie,Se,Qe,"♮","\\natural",!0);Q(ie,Se,Qe,"♣","\\clubsuit",!0);Q(ie,Se,Qe,"℘","\\wp",!0);Q(ie,Se,Qe,"♯","\\sharp",!0);Q(ie,Se,Qe,"♢","\\diamondsuit",!0);Q(ie,Se,Qe,"ℜ","\\Re",!0);Q(ie,Se,Qe,"♡","\\heartsuit",!0);Q(ie,Se,Qe,"ℑ","\\Im",!0);Q(ie,Se,Qe,"♠","\\spadesuit",!0);Q(ie,Se,Qe,"§","\\S",!0);Q(St,Se,Qe,"§","\\S");Q(ie,Se,Qe,"¶","\\P",!0);Q(St,Se,Qe,"¶","\\P");Q(ie,Se,Qe,"†","\\dag");Q(St,Se,Qe,"†","\\dag");Q(St,Se,Qe,"†","\\textdagger");Q(ie,Se,Qe,"‡","\\ddag");Q(St,Se,Qe,"‡","\\ddag");Q(St,Se,Qe,"‡","\\textdaggerdbl");Q(ie,Se,Ks,"⎱","\\rmoustache",!0);Q(ie,Se,Ko,"⎰","\\lmoustache",!0);Q(ie,Se,Ks,"⟯","\\rgroup",!0);Q(ie,Se,Ko,"⟮","\\lgroup",!0);Q(ie,Se,jt,"∓","\\mp",!0);Q(ie,Se,jt,"⊖","\\ominus",!0);Q(ie,Se,jt,"⊎","\\uplus",!0);Q(ie,Se,jt,"⊓","\\sqcap",!0);Q(ie,Se,jt,"∗","\\ast");Q(ie,Se,jt,"⊔","\\sqcup",!0);Q(ie,Se,jt,"◯","\\bigcirc",!0);Q(ie,Se,jt,"∙","\\bullet",!0);Q(ie,Se,jt,"‡","\\ddagger");Q(ie,Se,jt,"≀","\\wr",!0);Q(ie,Se,jt,"⨿","\\amalg");Q(ie,Se,jt,"&","\\And");Q(ie,Se,He,"⟵","\\longleftarrow",!0);Q(ie,Se,He,"⇐","\\Leftarrow",!0);Q(ie,Se,He,"⟸","\\Longleftarrow",!0);Q(ie,Se,He,"⟶","\\longrightarrow",!0);Q(ie,Se,He,"⇒","\\Rightarrow",!0);Q(ie,Se,He,"⟹","\\Longrightarrow",!0);Q(ie,Se,He,"↔","\\leftrightarrow",!0);Q(ie,Se,He,"⟷","\\longleftrightarrow",!0);Q(ie,Se,He,"⇔","\\Leftrightarrow",!0);Q(ie,Se,He,"⟺","\\Longleftrightarrow",!0);Q(ie,Se,He,"↦","\\mapsto",!0);Q(ie,Se,He,"⟼","\\longmapsto",!0);Q(ie,Se,He,"↗","\\nearrow",!0);Q(ie,Se,He,"↩","\\hookleftarrow",!0);Q(ie,Se,He,"↪","\\hookrightarrow",!0);Q(ie,Se,He,"↘","\\searrow",!0);Q(ie,Se,He,"↼","\\leftharpoonup",!0);Q(ie,Se,He,"⇀","\\rightharpoonup",!0);Q(ie,Se,He,"↙","\\swarrow",!0);Q(ie,Se,He,"↽","\\leftharpoondown",!0);Q(ie,Se,He,"⇁","\\rightharpoondown",!0);Q(ie,Se,He,"↖","\\nwarrow",!0);Q(ie,Se,He,"⇌","\\rightleftharpoons",!0);Q(ie,$e,He,"≮","\\nless",!0);Q(ie,$e,He,"","\\@nleqslant");Q(ie,$e,He,"","\\@nleqq");Q(ie,$e,He,"⪇","\\lneq",!0);Q(ie,$e,He,"≨","\\lneqq",!0);Q(ie,$e,He,"","\\@lvertneqq");Q(ie,$e,He,"⋦","\\lnsim",!0);Q(ie,$e,He,"⪉","\\lnapprox",!0);Q(ie,$e,He,"⊀","\\nprec",!0);Q(ie,$e,He,"⋠","\\npreceq",!0);Q(ie,$e,He,"⋨","\\precnsim",!0);Q(ie,$e,He,"⪹","\\precnapprox",!0);Q(ie,$e,He,"≁","\\nsim",!0);Q(ie,$e,He,"","\\@nshortmid");Q(ie,$e,He,"∤","\\nmid",!0);Q(ie,$e,He,"⊬","\\nvdash",!0);Q(ie,$e,He,"⊭","\\nvDash",!0);Q(ie,$e,He,"⋪","\\ntriangleleft");Q(ie,$e,He,"⋬","\\ntrianglelefteq",!0);Q(ie,$e,He,"⊊","\\subsetneq",!0);Q(ie,$e,He,"","\\@varsubsetneq");Q(ie,$e,He,"⫋","\\subsetneqq",!0);Q(ie,$e,He,"","\\@varsubsetneqq");Q(ie,$e,He,"≯","\\ngtr",!0);Q(ie,$e,He,"","\\@ngeqslant");Q(ie,$e,He,"","\\@ngeqq");Q(ie,$e,He,"⪈","\\gneq",!0);Q(ie,$e,He,"≩","\\gneqq",!0);Q(ie,$e,He,"","\\@gvertneqq");Q(ie,$e,He,"⋧","\\gnsim",!0);Q(ie,$e,He,"⪊","\\gnapprox",!0);Q(ie,$e,He,"⊁","\\nsucc",!0);Q(ie,$e,He,"⋡","\\nsucceq",!0);Q(ie,$e,He,"⋩","\\succnsim",!0);Q(ie,$e,He,"⪺","\\succnapprox",!0);Q(ie,$e,He,"≆","\\ncong",!0);Q(ie,$e,He,"","\\@nshortparallel");Q(ie,$e,He,"∦","\\nparallel",!0);Q(ie,$e,He,"⊯","\\nVDash",!0);Q(ie,$e,He,"⋫","\\ntriangleright");Q(ie,$e,He,"⋭","\\ntrianglerighteq",!0);Q(ie,$e,He,"","\\@nsupseteqq");Q(ie,$e,He,"⊋","\\supsetneq",!0);Q(ie,$e,He,"","\\@varsupsetneq");Q(ie,$e,He,"⫌","\\supsetneqq",!0);Q(ie,$e,He,"","\\@varsupsetneqq");Q(ie,$e,He,"⊮","\\nVdash",!0);Q(ie,$e,He,"⪵","\\precneqq",!0);Q(ie,$e,He,"⪶","\\succneqq",!0);Q(ie,$e,He,"","\\@nsubseteqq");Q(ie,$e,jt,"⊴","\\unlhd");Q(ie,$e,jt,"⊵","\\unrhd");Q(ie,$e,He,"↚","\\nleftarrow",!0);Q(ie,$e,He,"↛","\\nrightarrow",!0);Q(ie,$e,He,"⇍","\\nLeftarrow",!0);Q(ie,$e,He,"⇏","\\nRightarrow",!0);Q(ie,$e,He,"↮","\\nleftrightarrow",!0);Q(ie,$e,He,"⇎","\\nLeftrightarrow",!0);Q(ie,$e,He,"△","\\vartriangle");Q(ie,$e,Qe,"ℏ","\\hslash");Q(ie,$e,Qe,"▽","\\triangledown");Q(ie,$e,Qe,"◊","\\lozenge");Q(ie,$e,Qe,"Ⓢ","\\circledS");Q(ie,$e,Qe,"®","\\circledR");Q(St,$e,Qe,"®","\\circledR");Q(ie,$e,Qe,"∡","\\measuredangle",!0);Q(ie,$e,Qe,"∄","\\nexists");Q(ie,$e,Qe,"℧","\\mho");Q(ie,$e,Qe,"Ⅎ","\\Finv",!0);Q(ie,$e,Qe,"⅁","\\Game",!0);Q(ie,$e,Qe,"‵","\\backprime");Q(ie,$e,Qe,"▲","\\blacktriangle");Q(ie,$e,Qe,"▼","\\blacktriangledown");Q(ie,$e,Qe,"■","\\blacksquare");Q(ie,$e,Qe,"⧫","\\blacklozenge");Q(ie,$e,Qe,"★","\\bigstar");Q(ie,$e,Qe,"∢","\\sphericalangle",!0);Q(ie,$e,Qe,"∁","\\complement",!0);Q(ie,$e,Qe,"ð","\\eth",!0);Q(St,Se,Qe,"ð","ð");Q(ie,$e,Qe,"╱","\\diagup");Q(ie,$e,Qe,"╲","\\diagdown");Q(ie,$e,Qe,"□","\\square");Q(ie,$e,Qe,"□","\\Box");Q(ie,$e,Qe,"◊","\\Diamond");Q(ie,$e,Qe,"¥","\\yen",!0);Q(St,$e,Qe,"¥","\\yen",!0);Q(ie,$e,Qe,"✓","\\checkmark",!0);Q(St,$e,Qe,"✓","\\checkmark");Q(ie,$e,Qe,"ℶ","\\beth",!0);Q(ie,$e,Qe,"ℸ","\\daleth",!0);Q(ie,$e,Qe,"ℷ","\\gimel",!0);Q(ie,$e,Qe,"ϝ","\\digamma",!0);Q(ie,$e,Qe,"ϰ","\\varkappa");Q(ie,$e,Ko,"┌","\\@ulcorner",!0);Q(ie,$e,Ks,"┐","\\@urcorner",!0);Q(ie,$e,Ko,"└","\\@llcorner",!0);Q(ie,$e,Ks,"┘","\\@lrcorner",!0);Q(ie,$e,He,"≦","\\leqq",!0);Q(ie,$e,He,"⩽","\\leqslant",!0);Q(ie,$e,He,"⪕","\\eqslantless",!0);Q(ie,$e,He,"≲","\\lesssim",!0);Q(ie,$e,He,"⪅","\\lessapprox",!0);Q(ie,$e,He,"≊","\\approxeq",!0);Q(ie,$e,jt,"⋖","\\lessdot");Q(ie,$e,He,"⋘","\\lll",!0);Q(ie,$e,He,"≶","\\lessgtr",!0);Q(ie,$e,He,"⋚","\\lesseqgtr",!0);Q(ie,$e,He,"⪋","\\lesseqqgtr",!0);Q(ie,$e,He,"≑","\\doteqdot");Q(ie,$e,He,"≓","\\risingdotseq",!0);Q(ie,$e,He,"≒","\\fallingdotseq",!0);Q(ie,$e,He,"∽","\\backsim",!0);Q(ie,$e,He,"⋍","\\backsimeq",!0);Q(ie,$e,He,"⫅","\\subseteqq",!0);Q(ie,$e,He,"⋐","\\Subset",!0);Q(ie,$e,He,"⊏","\\sqsubset",!0);Q(ie,$e,He,"≼","\\preccurlyeq",!0);Q(ie,$e,He,"⋞","\\curlyeqprec",!0);Q(ie,$e,He,"≾","\\precsim",!0);Q(ie,$e,He,"⪷","\\precapprox",!0);Q(ie,$e,He,"⊲","\\vartriangleleft");Q(ie,$e,He,"⊴","\\trianglelefteq");Q(ie,$e,He,"⊨","\\vDash",!0);Q(ie,$e,He,"⊪","\\Vvdash",!0);Q(ie,$e,He,"⌣","\\smallsmile");Q(ie,$e,He,"⌢","\\smallfrown");Q(ie,$e,He,"≏","\\bumpeq",!0);Q(ie,$e,He,"≎","\\Bumpeq",!0);Q(ie,$e,He,"≧","\\geqq",!0);Q(ie,$e,He,"⩾","\\geqslant",!0);Q(ie,$e,He,"⪖","\\eqslantgtr",!0);Q(ie,$e,He,"≳","\\gtrsim",!0);Q(ie,$e,He,"⪆","\\gtrapprox",!0);Q(ie,$e,jt,"⋗","\\gtrdot");Q(ie,$e,He,"⋙","\\ggg",!0);Q(ie,$e,He,"≷","\\gtrless",!0);Q(ie,$e,He,"⋛","\\gtreqless",!0);Q(ie,$e,He,"⪌","\\gtreqqless",!0);Q(ie,$e,He,"≖","\\eqcirc",!0);Q(ie,$e,He,"≗","\\circeq",!0);Q(ie,$e,He,"≜","\\triangleq",!0);Q(ie,$e,He,"∼","\\thicksim");Q(ie,$e,He,"≈","\\thickapprox");Q(ie,$e,He,"⫆","\\supseteqq",!0);Q(ie,$e,He,"⋑","\\Supset",!0);Q(ie,$e,He,"⊐","\\sqsupset",!0);Q(ie,$e,He,"≽","\\succcurlyeq",!0);Q(ie,$e,He,"⋟","\\curlyeqsucc",!0);Q(ie,$e,He,"≿","\\succsim",!0);Q(ie,$e,He,"⪸","\\succapprox",!0);Q(ie,$e,He,"⊳","\\vartriangleright");Q(ie,$e,He,"⊵","\\trianglerighteq");Q(ie,$e,He,"⊩","\\Vdash",!0);Q(ie,$e,He,"∣","\\shortmid");Q(ie,$e,He,"∥","\\shortparallel");Q(ie,$e,He,"≬","\\between",!0);Q(ie,$e,He,"⋔","\\pitchfork",!0);Q(ie,$e,He,"∝","\\varpropto");Q(ie,$e,He,"◀","\\blacktriangleleft");Q(ie,$e,He,"∴","\\therefore",!0);Q(ie,$e,He,"∍","\\backepsilon");Q(ie,$e,He,"▶","\\blacktriangleright");Q(ie,$e,He,"∵","\\because",!0);Q(ie,$e,He,"⋘","\\llless");Q(ie,$e,He,"⋙","\\gggtr");Q(ie,$e,jt,"⊲","\\lhd");Q(ie,$e,jt,"⊳","\\rhd");Q(ie,$e,He,"≂","\\eqsim",!0);Q(ie,Se,He,"⋈","\\Join");Q(ie,$e,He,"≑","\\Doteq",!0);Q(ie,$e,jt,"∔","\\dotplus",!0);Q(ie,$e,jt,"∖","\\smallsetminus");Q(ie,$e,jt,"⋒","\\Cap",!0);Q(ie,$e,jt,"⋓","\\Cup",!0);Q(ie,$e,jt,"⩞","\\doublebarwedge",!0);Q(ie,$e,jt,"⊟","\\boxminus",!0);Q(ie,$e,jt,"⊞","\\boxplus",!0);Q(ie,$e,jt,"⋇","\\divideontimes",!0);Q(ie,$e,jt,"⋉","\\ltimes",!0);Q(ie,$e,jt,"⋊","\\rtimes",!0);Q(ie,$e,jt,"⋋","\\leftthreetimes",!0);Q(ie,$e,jt,"⋌","\\rightthreetimes",!0);Q(ie,$e,jt,"⋏","\\curlywedge",!0);Q(ie,$e,jt,"⋎","\\curlyvee",!0);Q(ie,$e,jt,"⊝","\\circleddash",!0);Q(ie,$e,jt,"⊛","\\circledast",!0);Q(ie,$e,jt,"⋅","\\centerdot");Q(ie,$e,jt,"⊺","\\intercal",!0);Q(ie,$e,jt,"⋒","\\doublecap");Q(ie,$e,jt,"⋓","\\doublecup");Q(ie,$e,jt,"⊠","\\boxtimes",!0);Q(ie,$e,He,"⇢","\\dashrightarrow",!0);Q(ie,$e,He,"⇠","\\dashleftarrow",!0);Q(ie,$e,He,"⇇","\\leftleftarrows",!0);Q(ie,$e,He,"⇆","\\leftrightarrows",!0);Q(ie,$e,He,"⇚","\\Lleftarrow",!0);Q(ie,$e,He,"↞","\\twoheadleftarrow",!0);Q(ie,$e,He,"↢","\\leftarrowtail",!0);Q(ie,$e,He,"↫","\\looparrowleft",!0);Q(ie,$e,He,"⇋","\\leftrightharpoons",!0);Q(ie,$e,He,"↶","\\curvearrowleft",!0);Q(ie,$e,He,"↺","\\circlearrowleft",!0);Q(ie,$e,He,"↰","\\Lsh",!0);Q(ie,$e,He,"⇈","\\upuparrows",!0);Q(ie,$e,He,"↿","\\upharpoonleft",!0);Q(ie,$e,He,"⇃","\\downharpoonleft",!0);Q(ie,Se,He,"⊶","\\origof",!0);Q(ie,Se,He,"⊷","\\imageof",!0);Q(ie,$e,He,"⊸","\\multimap",!0);Q(ie,$e,He,"↭","\\leftrightsquigarrow",!0);Q(ie,$e,He,"⇉","\\rightrightarrows",!0);Q(ie,$e,He,"⇄","\\rightleftarrows",!0);Q(ie,$e,He,"↠","\\twoheadrightarrow",!0);Q(ie,$e,He,"↣","\\rightarrowtail",!0);Q(ie,$e,He,"↬","\\looparrowright",!0);Q(ie,$e,He,"↷","\\curvearrowright",!0);Q(ie,$e,He,"↻","\\circlearrowright",!0);Q(ie,$e,He,"↱","\\Rsh",!0);Q(ie,$e,He,"⇊","\\downdownarrows",!0);Q(ie,$e,He,"↾","\\upharpoonright",!0);Q(ie,$e,He,"⇂","\\downharpoonright",!0);Q(ie,$e,He,"⇝","\\rightsquigarrow",!0);Q(ie,$e,He,"⇝","\\leadsto");Q(ie,$e,He,"⇛","\\Rrightarrow",!0);Q(ie,$e,He,"↾","\\restriction");Q(ie,Se,Qe,"‘","`");Q(ie,Se,Qe,"$","\\$");Q(St,Se,Qe,"$","\\$");Q(St,Se,Qe,"$","\\textdollar");Q(ie,Se,Qe,"%","\\%");Q(St,Se,Qe,"%","\\%");Q(ie,Se,Qe,"_","\\_");Q(St,Se,Qe,"_","\\_");Q(St,Se,Qe,"_","\\textunderscore");Q(ie,Se,Qe,"∠","\\angle",!0);Q(ie,Se,Qe,"∞","\\infty",!0);Q(ie,Se,Qe,"′","\\prime");Q(ie,Se,Qe,"△","\\triangle");Q(ie,Se,Qe,"Γ","\\Gamma",!0);Q(ie,Se,Qe,"Δ","\\Delta",!0);Q(ie,Se,Qe,"Θ","\\Theta",!0);Q(ie,Se,Qe,"Λ","\\Lambda",!0);Q(ie,Se,Qe,"Ξ","\\Xi",!0);Q(ie,Se,Qe,"Π","\\Pi",!0);Q(ie,Se,Qe,"Σ","\\Sigma",!0);Q(ie,Se,Qe,"Υ","\\Upsilon",!0);Q(ie,Se,Qe,"Φ","\\Phi",!0);Q(ie,Se,Qe,"Ψ","\\Psi",!0);Q(ie,Se,Qe,"Ω","\\Omega",!0);Q(ie,Se,Qe,"A","Α");Q(ie,Se,Qe,"B","Β");Q(ie,Se,Qe,"E","Ε");Q(ie,Se,Qe,"Z","Ζ");Q(ie,Se,Qe,"H","Η");Q(ie,Se,Qe,"I","Ι");Q(ie,Se,Qe,"K","Κ");Q(ie,Se,Qe,"M","Μ");Q(ie,Se,Qe,"N","Ν");Q(ie,Se,Qe,"O","Ο");Q(ie,Se,Qe,"P","Ρ");Q(ie,Se,Qe,"T","Τ");Q(ie,Se,Qe,"X","Χ");Q(ie,Se,Qe,"¬","\\neg",!0);Q(ie,Se,Qe,"¬","\\lnot");Q(ie,Se,Qe,"⊤","\\top");Q(ie,Se,Qe,"⊥","\\bot");Q(ie,Se,Qe,"∅","\\emptyset");Q(ie,$e,Qe,"∅","\\varnothing");Q(ie,Se,xr,"α","\\alpha",!0);Q(ie,Se,xr,"β","\\beta",!0);Q(ie,Se,xr,"γ","\\gamma",!0);Q(ie,Se,xr,"δ","\\delta",!0);Q(ie,Se,xr,"ϵ","\\epsilon",!0);Q(ie,Se,xr,"ζ","\\zeta",!0);Q(ie,Se,xr,"η","\\eta",!0);Q(ie,Se,xr,"θ","\\theta",!0);Q(ie,Se,xr,"ι","\\iota",!0);Q(ie,Se,xr,"κ","\\kappa",!0);Q(ie,Se,xr,"λ","\\lambda",!0);Q(ie,Se,xr,"μ","\\mu",!0);Q(ie,Se,xr,"ν","\\nu",!0);Q(ie,Se,xr,"ξ","\\xi",!0);Q(ie,Se,xr,"ο","\\omicron",!0);Q(ie,Se,xr,"π","\\pi",!0);Q(ie,Se,xr,"ρ","\\rho",!0);Q(ie,Se,xr,"σ","\\sigma",!0);Q(ie,Se,xr,"τ","\\tau",!0);Q(ie,Se,xr,"υ","\\upsilon",!0);Q(ie,Se,xr,"ϕ","\\phi",!0);Q(ie,Se,xr,"χ","\\chi",!0);Q(ie,Se,xr,"ψ","\\psi",!0);Q(ie,Se,xr,"ω","\\omega",!0);Q(ie,Se,xr,"ε","\\varepsilon",!0);Q(ie,Se,xr,"ϑ","\\vartheta",!0);Q(ie,Se,xr,"ϖ","\\varpi",!0);Q(ie,Se,xr,"ϱ","\\varrho",!0);Q(ie,Se,xr,"ς","\\varsigma",!0);Q(ie,Se,xr,"φ","\\varphi",!0);Q(ie,Se,jt,"∗","*",!0);Q(ie,Se,jt,"+","+");Q(ie,Se,jt,"−","-",!0);Q(ie,Se,jt,"⋅","\\cdot",!0);Q(ie,Se,jt,"∘","\\circ",!0);Q(ie,Se,jt,"÷","\\div",!0);Q(ie,Se,jt,"±","\\pm",!0);Q(ie,Se,jt,"×","\\times",!0);Q(ie,Se,jt,"∩","\\cap",!0);Q(ie,Se,jt,"∪","\\cup",!0);Q(ie,Se,jt,"∖","\\setminus",!0);Q(ie,Se,jt,"∧","\\land");Q(ie,Se,jt,"∨","\\lor");Q(ie,Se,jt,"∧","\\wedge",!0);Q(ie,Se,jt,"∨","\\vee",!0);Q(ie,Se,Qe,"√","\\surd");Q(ie,Se,Ko,"⟨","\\langle",!0);Q(ie,Se,Ko,"∣","\\lvert");Q(ie,Se,Ko,"∥","\\lVert");Q(ie,Se,Ks,"?","?");Q(ie,Se,Ks,"!","!");Q(ie,Se,Ks,"⟩","\\rangle",!0);Q(ie,Se,Ks,"∣","\\rvert");Q(ie,Se,Ks,"∥","\\rVert");Q(ie,Se,He,"=","=");Q(ie,Se,He,":",":");Q(ie,Se,He,"≈","\\approx",!0);Q(ie,Se,He,"≅","\\cong",!0);Q(ie,Se,He,"≥","\\ge");Q(ie,Se,He,"≥","\\geq",!0);Q(ie,Se,He,"←","\\gets");Q(ie,Se,He,">","\\gt",!0);Q(ie,Se,He,"∈","\\in",!0);Q(ie,Se,He,"","\\@not");Q(ie,Se,He,"⊂","\\subset",!0);Q(ie,Se,He,"⊃","\\supset",!0);Q(ie,Se,He,"⊆","\\subseteq",!0);Q(ie,Se,He,"⊇","\\supseteq",!0);Q(ie,$e,He,"⊈","\\nsubseteq",!0);Q(ie,$e,He,"⊉","\\nsupseteq",!0);Q(ie,Se,He,"⊨","\\models");Q(ie,Se,He,"←","\\leftarrow",!0);Q(ie,Se,He,"≤","\\le");Q(ie,Se,He,"≤","\\leq",!0);Q(ie,Se,He,"<","\\lt",!0);Q(ie,Se,He,"→","\\rightarrow",!0);Q(ie,Se,He,"→","\\to");Q(ie,$e,He,"≱","\\ngeq",!0);Q(ie,$e,He,"≰","\\nleq",!0);Q(ie,Se,Nh," ","\\ ");Q(ie,Se,Nh," ","\\space");Q(ie,Se,Nh," ","\\nobreakspace");Q(St,Se,Nh," ","\\ ");Q(St,Se,Nh," "," ");Q(St,Se,Nh," ","\\space");Q(St,Se,Nh," ","\\nobreakspace");Q(ie,Se,Nh,null,"\\nobreak");Q(ie,Se,Nh,null,"\\allowbreak");Q(ie,Se,rT,",",",");Q(ie,Se,rT,";",";");Q(ie,$e,jt,"⊼","\\barwedge",!0);Q(ie,$e,jt,"⊻","\\veebar",!0);Q(ie,Se,jt,"⊙","\\odot",!0);Q(ie,Se,jt,"⊕","\\oplus",!0);Q(ie,Se,jt,"⊗","\\otimes",!0);Q(ie,Se,Qe,"∂","\\partial",!0);Q(ie,Se,jt,"⊘","\\oslash",!0);Q(ie,$e,jt,"⊚","\\circledcirc",!0);Q(ie,$e,jt,"⊡","\\boxdot",!0);Q(ie,Se,jt,"△","\\bigtriangleup");Q(ie,Se,jt,"▽","\\bigtriangledown");Q(ie,Se,jt,"†","\\dagger");Q(ie,Se,jt,"⋄","\\diamond");Q(ie,Se,jt,"⋆","\\star");Q(ie,Se,jt,"◃","\\triangleleft");Q(ie,Se,jt,"▹","\\triangleright");Q(ie,Se,Ko,"{","\\{");Q(St,Se,Qe,"{","\\{");Q(St,Se,Qe,"{","\\textbraceleft");Q(ie,Se,Ks,"}","\\}");Q(St,Se,Qe,"}","\\}");Q(St,Se,Qe,"}","\\textbraceright");Q(ie,Se,Ko,"{","\\lbrace");Q(ie,Se,Ks,"}","\\rbrace");Q(ie,Se,Ko,"[","\\lbrack",!0);Q(St,Se,Qe,"[","\\lbrack",!0);Q(ie,Se,Ks,"]","\\rbrack",!0);Q(St,Se,Qe,"]","\\rbrack",!0);Q(ie,Se,Ko,"(","\\lparen",!0);Q(ie,Se,Ks,")","\\rparen",!0);Q(St,Se,Qe,"<","\\textless",!0);Q(St,Se,Qe,">","\\textgreater",!0);Q(ie,Se,Ko,"⌊","\\lfloor",!0);Q(ie,Se,Ks,"⌋","\\rfloor",!0);Q(ie,Se,Ko,"⌈","\\lceil",!0);Q(ie,Se,Ks,"⌉","\\rceil",!0);Q(ie,Se,Qe,"\\","\\backslash");Q(ie,Se,Qe,"∣","|");Q(ie,Se,Qe,"∣","\\vert");Q(St,Se,Qe,"|","\\textbar",!0);Q(ie,Se,Qe,"∥","\\|");Q(ie,Se,Qe,"∥","\\Vert");Q(St,Se,Qe,"∥","\\textbardbl");Q(St,Se,Qe,"~","\\textasciitilde");Q(St,Se,Qe,"\\","\\textbackslash");Q(St,Se,Qe,"^","\\textasciicircum");Q(ie,Se,He,"↑","\\uparrow",!0);Q(ie,Se,He,"⇑","\\Uparrow",!0);Q(ie,Se,He,"↓","\\downarrow",!0);Q(ie,Se,He,"⇓","\\Downarrow",!0);Q(ie,Se,He,"↕","\\updownarrow",!0);Q(ie,Se,He,"⇕","\\Updownarrow",!0);Q(ie,Se,Gi,"∐","\\coprod");Q(ie,Se,Gi,"⋁","\\bigvee");Q(ie,Se,Gi,"⋀","\\bigwedge");Q(ie,Se,Gi,"⨄","\\biguplus");Q(ie,Se,Gi,"⋂","\\bigcap");Q(ie,Se,Gi,"⋃","\\bigcup");Q(ie,Se,Gi,"∫","\\int");Q(ie,Se,Gi,"∫","\\intop");Q(ie,Se,Gi,"∬","\\iint");Q(ie,Se,Gi,"∭","\\iiint");Q(ie,Se,Gi,"∏","\\prod");Q(ie,Se,Gi,"∑","\\sum");Q(ie,Se,Gi,"⨂","\\bigotimes");Q(ie,Se,Gi,"⨁","\\bigoplus");Q(ie,Se,Gi,"⨀","\\bigodot");Q(ie,Se,Gi,"∮","\\oint");Q(ie,Se,Gi,"∯","\\oiint");Q(ie,Se,Gi,"∰","\\oiiint");Q(ie,Se,Gi,"⨆","\\bigsqcup");Q(ie,Se,Gi,"∫","\\smallint");Q(St,Se,iv,"…","\\textellipsis");Q(ie,Se,iv,"…","\\mathellipsis");Q(St,Se,iv,"…","\\ldots",!0);Q(ie,Se,iv,"…","\\ldots",!0);Q(ie,Se,iv,"⋯","\\@cdots",!0);Q(ie,Se,iv,"⋱","\\ddots",!0);Q(ie,Se,Qe,"⋮","\\varvdots");Q(ie,Se,si,"ˊ","\\acute");Q(ie,Se,si,"ˋ","\\grave");Q(ie,Se,si,"¨","\\ddot");Q(ie,Se,si,"~","\\tilde");Q(ie,Se,si,"ˉ","\\bar");Q(ie,Se,si,"˘","\\breve");Q(ie,Se,si,"ˇ","\\check");Q(ie,Se,si,"^","\\hat");Q(ie,Se,si,"⃗","\\vec");Q(ie,Se,si,"˙","\\dot");Q(ie,Se,si,"˚","\\mathring");Q(ie,Se,xr,"","\\@imath");Q(ie,Se,xr,"","\\@jmath");Q(ie,Se,Qe,"ı","ı");Q(ie,Se,Qe,"ȷ","ȷ");Q(St,Se,Qe,"ı","\\i",!0);Q(St,Se,Qe,"ȷ","\\j",!0);Q(St,Se,Qe,"ß","\\ss",!0);Q(St,Se,Qe,"æ","\\ae",!0);Q(St,Se,Qe,"œ","\\oe",!0);Q(St,Se,Qe,"ø","\\o",!0);Q(St,Se,Qe,"Æ","\\AE",!0);Q(St,Se,Qe,"Œ","\\OE",!0);Q(St,Se,Qe,"Ø","\\O",!0);Q(St,Se,si,"ˊ","\\'");Q(St,Se,si,"ˋ","\\`");Q(St,Se,si,"ˆ","\\^");Q(St,Se,si,"˜","\\~");Q(St,Se,si,"ˉ","\\=");Q(St,Se,si,"˘","\\u");Q(St,Se,si,"˙","\\.");Q(St,Se,si,"¸","\\c");Q(St,Se,si,"˚","\\r");Q(St,Se,si,"ˇ","\\v");Q(St,Se,si,"¨",'\\"');Q(St,Se,si,"˝","\\H");Q(St,Se,si,"◯","\\textcircled");var cne={"--":!0,"---":!0,"``":!0,"''":!0};Q(St,Se,Qe,"–","--",!0);Q(St,Se,Qe,"–","\\textendash");Q(St,Se,Qe,"—","---",!0);Q(St,Se,Qe,"—","\\textemdash");Q(St,Se,Qe,"‘","`",!0);Q(St,Se,Qe,"‘","\\textquoteleft");Q(St,Se,Qe,"’","'",!0);Q(St,Se,Qe,"’","\\textquoteright");Q(St,Se,Qe,"“","``",!0);Q(St,Se,Qe,"“","\\textquotedblleft");Q(St,Se,Qe,"”","''",!0);Q(St,Se,Qe,"”","\\textquotedblright");Q(ie,Se,Qe,"°","\\degree",!0);Q(St,Se,Qe,"°","\\degree");Q(St,Se,Qe,"°","\\textdegree",!0);Q(ie,Se,Qe,"£","\\pounds");Q(ie,Se,Qe,"£","\\mathsterling",!0);Q(St,Se,Qe,"£","\\pounds");Q(St,Se,Qe,"£","\\textsterling",!0);Q(ie,$e,Qe,"✠","\\maltese");Q(St,$e,Qe,"✠","\\maltese");var Jz='0123456789/@."';for(var z7=0;z7<Jz.length;z7++){var eH=Jz.charAt(z7);Q(ie,Se,Qe,eH,eH)}var tH='0123456789!@*()-=+";:?/.,';for(var H7=0;H7<tH.length;H7++){var rH=tH.charAt(H7);Q(St,Se,Qe,rH,rH)}var bS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var V7=0;V7<bS.length;V7++){var vw=bS.charAt(V7);Q(ie,Se,xr,vw,vw),Q(St,Se,Qe,vw,vw)}Q(ie,$e,Qe,"C","ℂ");Q(St,$e,Qe,"C","ℂ");Q(ie,$e,Qe,"H","ℍ");Q(St,$e,Qe,"H","ℍ");Q(ie,$e,Qe,"N","ℕ");Q(St,$e,Qe,"N","ℕ");Q(ie,$e,Qe,"P","ℙ");Q(St,$e,Qe,"P","ℙ");Q(ie,$e,Qe,"Q","ℚ");Q(St,$e,Qe,"Q","ℚ");Q(ie,$e,Qe,"R","ℝ");Q(St,$e,Qe,"R","ℝ");Q(ie,$e,Qe,"Z","ℤ");Q(St,$e,Qe,"Z","ℤ");Q(ie,Se,xr,"h","ℎ");Q(St,Se,xr,"h","ℎ");var Ar="";for(var Rs=0;Rs<bS.length;Rs++){var yi=bS.charAt(Rs);Ar=String.fromCharCode(55349,56320+Rs),Q(ie,Se,xr,yi,Ar),Q(St,Se,Qe,yi,Ar),Ar=String.fromCharCode(55349,56372+Rs),Q(ie,Se,xr,yi,Ar),Q(St,Se,Qe,yi,Ar),Ar=String.fromCharCode(55349,56424+Rs),Q(ie,Se,xr,yi,Ar),Q(St,Se,Qe,yi,Ar),Ar=String.fromCharCode(55349,56580+Rs),Q(ie,Se,xr,yi,Ar),Q(St,Se,Qe,yi,Ar),Ar=String.fromCharCode(55349,56684+Rs),Q(ie,Se,xr,yi,Ar),Q(St,Se,Qe,yi,Ar),Ar=String.fromCharCode(55349,56736+Rs),Q(ie,Se,xr,yi,Ar),Q(St,Se,Qe,yi,Ar),Ar=String.fromCharCode(55349,56788+Rs),Q(ie,Se,xr,yi,Ar),Q(St,Se,Qe,yi,Ar),Ar=String.fromCharCode(55349,56840+Rs),Q(ie,Se,xr,yi,Ar),Q(St,Se,Qe,yi,Ar),Ar=String.fromCharCode(55349,56944+Rs),Q(ie,Se,xr,yi,Ar),Q(St,Se,Qe,yi,Ar),Rs<26&&(Ar=String.fromCharCode(55349,56632+Rs),Q(ie,Se,xr,yi,Ar),Q(St,Se,Qe,yi,Ar),Ar=String.fromCharCode(55349,56476+Rs),Q(ie,Se,xr,yi,Ar),Q(St,Se,Qe,yi,Ar))}Ar="𝕜";Q(ie,Se,xr,"k",Ar);Q(St,Se,Qe,"k",Ar);for(var Bd=0;Bd<10;Bd++){var Kh=Bd.toString();Ar=String.fromCharCode(55349,57294+Bd),Q(ie,Se,xr,Kh,Ar),Q(St,Se,Qe,Kh,Ar),Ar=String.fromCharCode(55349,57314+Bd),Q(ie,Se,xr,Kh,Ar),Q(St,Se,Qe,Kh,Ar),Ar=String.fromCharCode(55349,57324+Bd),Q(ie,Se,xr,Kh,Ar),Q(St,Se,Qe,Kh,Ar),Ar=String.fromCharCode(55349,57334+Bd),Q(ie,Se,xr,Kh,Ar),Q(St,Se,Qe,Kh,Ar)}var iL="ÐÞþ";for(var U7=0;U7<iL.length;U7++){var yw=iL.charAt(U7);Q(ie,Se,xr,yw,yw),Q(St,Se,Qe,yw,yw)}var xw=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],nH=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],zLe=function(e,r){var n=e.charCodeAt(0),i=e.charCodeAt(1),a=(n-55296)*1024+(i-56320)+65536,s=r==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[xw[o][2],xw[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[nH[l][2],nH[l][s]]}else{if(a===120485||a===120486)return[xw[0][2],xw[0][s]];if(120486<a&&a<120782)return["",""];throw new Dt("Unsupported character: "+e)}},nT=function(e,r,n){return Vn[n][e]&&Vn[n][e].replace&&(e=Vn[n][e].replace),{value:e,metrics:_M(e,r,n)}},Kl=function(e,r,n,i,a){var s=nT(e,r,n),o=s.metrics;e=s.value;var l;if(o){var u=o.italic;(n==="text"||i&&i.font==="mathit")&&(u=0),l=new Ml(e,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+n+"'")),l=new Ml(e,0,0,0,0,0,a);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var h=i.getColor();h&&(l.style.color=h)}return l},HLe=function(e,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&nT(e,"Main-Bold",r).metrics?Kl(e,"Main-Bold",r,n,i.concat(["mathbf"])):e==="\\"||Vn[r][e].font==="main"?Kl(e,"Main-Regular",r,n,i):Kl(e,"AMS-Regular",r,n,i.concat(["amsrm"]))},VLe=function(e,r,n,i,a){return a!=="textord"&&nT(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},ULe=function(e,r,n){var i=e.mode,a=e.text,s=["mord"],o=i==="math"||i==="text"&&r.font,l=o?r.font:r.fontFamily,u="",h="";if(a.charCodeAt(0)===55349&&([u,h]=zLe(a,i)),u.length>0)return Kl(a,u,i,r,s.concat(h));if(l){var f,d;if(l==="boldsymbol"){var p=VLe(a,i,r,s,n);f=p.fontName,d=[p.fontClass]}else o?(f=dne[l].fontName,d=[l]):(f=bw(l,r.fontWeight,r.fontShape),d=[l,r.fontWeight,r.fontShape]);if(nT(a,f,i).metrics)return Kl(a,f,i,r,s.concat(d));if(cne.hasOwnProperty(a)&&f.slice(0,10)==="Typewriter"){for(var m=[],v=0;v<a.length;v++)m.push(Kl(a[v],f,i,r,s.concat(d)));return fne(m)}}if(n==="mathord")return Kl(a,"Math-Italic",i,r,s.concat(["mathnormal"]));if(n==="textord"){var x=Vn[i][a]&&Vn[i][a].font;if(x==="ams"){var y=bw("amsrm",r.fontWeight,r.fontShape);return Kl(a,y,i,r,s.concat("amsrm",r.fontWeight,r.fontShape))}else if(x==="main"||!x){var w=bw("textrm",r.fontWeight,r.fontShape);return Kl(a,w,i,r,s.concat(r.fontWeight,r.fontShape))}else{var S=bw(x,r.fontWeight,r.fontShape);return Kl(a,S,i,r,s.concat(S,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},GLe=(t,e)=>{if(Wf(t.classes)!==Wf(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},WLe=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof Ml&&n instanceof Ml&&GLe(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t},DM=function(e){for(var r=0,n=0,i=0,a=0;a<e.children.length;a++){var s=e.children[a];s.height>r&&(r=s.height),s.depth>n&&(n=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}e.height=r,e.depth=n,e.maxFontSize=i},ro=function(e,r,n,i){var a=new _b(e,r,n,i);return DM(a),a},hne=(t,e,r,n)=>new _b(t,e,r,n),qLe=function(e,r,n){var i=ro([e],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=Ft(i.height),i.maxFontSize=1,i},YLe=function(e,r,n,i){var a=new LM(e,r,n,i);return DM(a),a},fne=function(e){var r=new Ab(e);return DM(r),r},XLe=function(e,r){return e instanceof Ab?ro([],[e],r):e},jLe=function(e){if(e.positionType==="individualShift"){for(var r=e.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,a=i,s=1;s<r.length;s++){var o=-r[s].shift-a-r[s].elem.depth,l=o-(r[s-1].elem.height+r[s-1].elem.depth);a=a+o,n.push({type:"kern",size:l}),n.push(r[s])}return{children:n,depth:i}}var u;if(e.positionType==="top"){for(var h=e.positionData,f=0;f<e.children.length;f++){var d=e.children[f];h-=d.type==="kern"?d.size:d.elem.height+d.elem.depth}u=h}else if(e.positionType==="bottom")u=-e.positionData;else{var p=e.children[0];if(p.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-p.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-p.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},KLe=function(e,r){for(var{children:n,depth:i}=jLe(e),a=0,s=0;s<n.length;s++){var o=n[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=ro(["pstrut"],[]);u.style.height=Ft(a);for(var h=[],f=i,d=i,p=i,m=0;m<n.length;m++){var v=n[m];if(v.type==="kern")p+=v.size;else{var x=v.elem,y=v.wrapperClasses||[],w=v.wrapperStyle||{},S=ro(y,[u,x],void 0,w);S.style.top=Ft(-a-p-x.depth),v.marginLeft&&(S.style.marginLeft=v.marginLeft),v.marginRight&&(S.style.marginRight=v.marginRight),h.push(S),p+=x.height+x.depth}f=Math.min(f,p),d=Math.max(d,p)}var E=ro(["vlist"],h);E.style.height=Ft(d);var C;if(f<0){var L=ro([],[]),_=ro(["vlist"],[L]);_.style.height=Ft(-f);var I=ro(["vlist-s"],[new Ml("​")]);C=[ro(["vlist-r"],[E,I]),ro(["vlist-r"],[_])]}else C=[ro(["vlist-r"],[E])];var D=ro(["vlist-t"],C);return C.length===2&&D.classes.push("vlist-t2"),D.height=d,D.depth=-f,D},QLe=(t,e)=>{var r=ro(["mspace"],[],e),n=fi(t,e);return r.style.marginRight=Ft(n),r},bw=function(e,r,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var a;return r==="textbf"&&n==="textit"?a="BoldItalic":r==="textbf"?a="Bold":r==="textit"?a="Italic":a="Regular",i+"-"+a},dne={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},pne={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},ZLe=function(e,r){var[n,i,a]=pne[e],s=new qf(n),o=new ph([s],{width:Ft(i),height:Ft(a),style:"width:"+Ft(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=hne(["overlay"],[o],r);return l.height=a,l.style.height=Ft(a),l.style.width=Ft(i),l},rt={fontMap:dne,makeSymbol:Kl,mathsym:HLe,makeSpan:ro,makeSvgSpan:hne,makeLineSpan:qLe,makeAnchor:YLe,makeFragment:fne,wrapFragment:XLe,makeVList:KLe,makeOrd:ULe,makeGlue:QLe,staticSvg:ZLe,svgData:pne,tryCombineChars:WLe},ci={number:3,unit:"mu"},$d={number:4,unit:"mu"},Dc={number:5,unit:"mu"},JLe={mord:{mop:ci,mbin:$d,mrel:Dc,minner:ci},mop:{mord:ci,mop:ci,mrel:Dc,minner:ci},mbin:{mord:$d,mop:$d,mopen:$d,minner:$d},mrel:{mord:Dc,mop:Dc,mopen:Dc,minner:Dc},mopen:{},mclose:{mop:ci,mbin:$d,mrel:Dc,minner:ci},mpunct:{mord:ci,mop:ci,mrel:Dc,mopen:ci,mclose:ci,mpunct:ci,minner:ci},minner:{mord:ci,mop:ci,mbin:$d,mrel:Dc,mopen:ci,mpunct:ci,minner:ci}},e9e={mord:{mop:ci},mop:{mord:ci,mop:ci},mbin:{},mrel:{},mopen:{},mclose:{mop:ci},mpunct:{},minner:{mop:ci}},gne={},wS={},SS={};function qt(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},l=0;l<r.length;++l)gne[r[l]]=o;e&&(a&&(wS[e]=a),s&&(SS[e]=s))}function Sp(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;qt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var kS=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Oi=function(e){return e.type==="ordgroup"?e.body:[e]},gh=rt.makeSpan,t9e=["leftmost","mbin","mopen","mrel","mop","mpunct"],r9e=["rightmost","mrel","mclose","mpunct"],n9e={display:br.DISPLAY,text:br.TEXT,script:br.SCRIPT,scriptscript:br.SCRIPTSCRIPT},i9e={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ua=function(e,r,n,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<e.length;s++){var o=tn(e[s],r);if(o instanceof Ab){var l=o.children;a.push(...l)}else a.push(o)}if(rt.tryCombineChars(a),!n)return a;var u=r;if(e.length===1){var h=e[0];h.type==="sizing"?u=r.havingSize(h.size):h.type==="styling"&&(u=r.havingStyle(n9e[h.style]))}var f=gh([i[0]||"leftmost"],[],r),d=gh([i[1]||"rightmost"],[],r),p=n==="root";return iH(a,(m,v)=>{var x=v.classes[0],y=m.classes[0];x==="mbin"&&mr.contains(r9e,y)?v.classes[0]="mord":y==="mbin"&&mr.contains(t9e,x)&&(m.classes[0]="mord")},{node:f},d,p),iH(a,(m,v)=>{var x=aL(v),y=aL(m),w=x&&y?m.hasClass("mtight")?e9e[x][y]:JLe[x][y]:null;if(w)return rt.makeGlue(w,u)},{node:f},d,p),a},iH=function t(e,r,n,i,a){i&&e.push(i);for(var s=0;s<e.length;s++){var o=e[s],l=mne(o);if(l){t(l.children,r,n,null,a);continue}var u=!o.hasClass("mspace");if(u){var h=r(o,n.node);h&&(n.insertAfter?n.insertAfter(h):(e.unshift(h),s++))}u?n.node=o:a&&o.hasClass("newline")&&(n.node=gh(["leftmost"])),n.insertAfter=(f=>d=>{e.splice(f+1,0,d),s++})(s)}i&&e.pop()},mne=function(e){return e instanceof Ab||e instanceof LM||e instanceof _b&&e.hasClass("enclosing")?e:null},a9e=function t(e,r){var n=mne(e);if(n){var i=n.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},aL=function(e,r){return e?(r&&(e=a9e(e,r)),i9e[e.classes[0]]||null):null},Tx=function(e,r){var n=["nulldelimiter"].concat(e.baseSizingClasses());return gh(r.concat(n))},tn=function(e,r,n){if(!e)return gh();if(wS[e.type]){var i=wS[e.type](e,r);if(n&&r.size!==n.size){i=gh(r.sizingClasses(n),[i],r);var a=r.sizeMultiplier/n.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new Dt("Got group of unknown type: '"+e.type+"'")};function ww(t,e){var r=gh(["base"],t,e),n=gh(["strut"]);return n.style.height=Ft(r.height+r.depth),r.depth&&(n.style.verticalAlign=Ft(-r.depth)),r.children.unshift(n),r}function sL(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n=ua(t,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var a=[],s=[],o=0;o<n.length;o++)if(s.push(n[o]),n[o].hasClass("mbin")||n[o].hasClass("mrel")||n[o].hasClass("allowbreak")){for(var l=!1;o<n.length-1&&n[o+1].hasClass("mspace")&&!n[o+1].hasClass("newline");)o++,s.push(n[o]),n[o].hasClass("nobreak")&&(l=!0);l||(a.push(ww(s,e)),s=[])}else n[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(ww(s,e)),s=[]),a.push(n[o]));s.length>0&&a.push(ww(s,e));var u;r?(u=ww(ua(r,e,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var h=gh(["katex-html"],a);if(h.setAttribute("aria-hidden","true"),u){var f=u.children[0];f.style.height=Ft(h.height+h.depth),h.depth&&(f.style.verticalAlign=Ft(-h.depth))}return h}function vne(t){return new Ab(t)}class gl{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=Wf(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=mr.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+mr.escape(Wf(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class D2{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return mr.escape(this.toText())}toText(){return this.text}}class s9e{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Ft(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ft(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var _t={MathNode:gl,TextNode:D2,SpaceNode:s9e,newDocumentFragment:vne},Nl=function(e,r,n){return Vn[r][e]&&Vn[r][e].replace&&e.charCodeAt(0)!==55349&&!(cne.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=Vn[r][e].replace),new _t.TextNode(e)},RM=function(e){return e.length===1?e[0]:new _t.MathNode("mrow",e)},MM=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var a=e.text;if(mr.contains(["\\imath","\\jmath"],a))return null;Vn[i][a]&&Vn[i][a].replace&&(a=Vn[i][a].replace);var s=rt.fontMap[n].fontName;return _M(a,s,i)?rt.fontMap[n].variant:null},To=function(e,r,n){if(e.length===1){var i=On(e[0],r);return n&&i instanceof gl&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,o=0;o<e.length;o++){var l=On(e[o],r);if(l instanceof gl&&s instanceof gl){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&s.type==="mn"){var u=l.children[0];if(u instanceof D2&&u.text==="."){s.children.push(...l.children);continue}}else if(s.type==="mi"&&s.children.length===1){var h=s.children[0];if(h instanceof D2&&h.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var f=l.children[0];f instanceof D2&&f.text.length>0&&(f.text=f.text.slice(0,1)+"̸"+f.text.slice(1),a.pop())}}}a.push(l),s=l}return a},Yf=function(e,r,n){return RM(To(e,r,n))},On=function(e,r){if(!e)return new _t.MathNode("mrow");if(SS[e.type]){var n=SS[e.type](e,r);return n}else throw new Dt("Got group of unknown type: '"+e.type+"'")};function aH(t,e,r,n,i){var a=To(t,r),s;a.length===1&&a[0]instanceof gl&&mr.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new _t.MathNode("mrow",a);var o=new _t.MathNode("annotation",[new _t.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new _t.MathNode("semantics",[s,o]),u=new _t.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&u.setAttribute("display","block");var h=i?"katex":"katex-mathml";return rt.makeSpan([h],[u])}var yne=function(e){return new $c({style:e.displayMode?br.DISPLAY:br.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},xne=function(e,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),e=rt.makeSpan(n,[e])}return e},o9e=function(e,r,n){var i=yne(n),a;if(n.output==="mathml")return aH(e,r,i,n.displayMode,!0);if(n.output==="html"){var s=sL(e,i);a=rt.makeSpan(["katex"],[s])}else{var o=aH(e,r,i,n.displayMode,!1),l=sL(e,i);a=rt.makeSpan(["katex"],[o,l])}return xne(a,n)},l9e=function(e,r,n){var i=yne(n),a=sL(e,i),s=rt.makeSpan(["katex"],[a]);return xne(s,n)},u9e={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},c9e=function(e){var r=new _t.MathNode("mo",[new _t.TextNode(u9e[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},h9e={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},f9e=function(e){return e.type==="ordgroup"?e.body.length:1},d9e=function(e,r){function n(){var o=4e5,l=e.label.slice(1);if(mr.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,h=f9e(u.base),f,d,p;if(h>5)l==="widehat"||l==="widecheck"?(f=420,o=2364,p=.42,d=l+"4"):(f=312,o=2340,p=.34,d="tilde4");else{var m=[1,1,2,2,3,3][h];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][m],f=[0,239,300,360,420][m],p=[0,.24,.3,.3,.36,.42][m],d=l+m):(o=[0,600,1033,2339,2340][m],f=[0,260,286,306,312][m],p=[0,.26,.286,.3,.306,.34][m],d="tilde"+m)}var v=new qf(d),x=new ph([v],{width:"100%",height:Ft(p),viewBox:"0 0 "+o+" "+f,preserveAspectRatio:"none"});return{span:rt.makeSvgSpan([],[x],r),minWidth:0,height:p}}else{var y=[],w=h9e[l],[S,E,C]=w,L=C/1e3,_=S.length,I,D;if(_===1){var F=w[3];I=["hide-tail"],D=[F]}else if(_===2)I=["halfarrow-left","halfarrow-right"],D=["xMinYMin","xMaxYMin"];else if(_===3)I=["brace-left","brace-center","brace-right"],D=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+_+" children.");for(var M=0;M<_;M++){var B=new qf(S[M]),H=new ph([B],{width:"400em",height:Ft(L),viewBox:"0 0 "+o+" "+C,preserveAspectRatio:D[M]+" slice"}),R=rt.makeSvgSpan([I[M]],[H],r);if(_===1)return{span:R,minWidth:E,height:L};R.style.height=Ft(L),y.push(R)}return{span:rt.makeSpan(["stretchy"],y,r),minWidth:E,height:L}}}var{span:i,minWidth:a,height:s}=n();return i.height=s,i.style.height=Ft(s),a>0&&(i.style.minWidth=Ft(a)),i},p9e=function(e,r,n,i,a){var s,o=e.height+e.depth+n+i;if(/fbox|color|angl/.test(r)){if(s=rt.makeSpan(["stretchy",r],[],a),r==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new nL({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new nL({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new ph(u,{width:"100%",height:Ft(o)});s=rt.makeSvgSpan([],[h],a)}return s.height=o,s.style.height=Ft(o),s},mh={encloseSpan:p9e,mathMLnode:c9e,svgSpan:d9e};function Br(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function NM(t){var e=iT(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function iT(t){return t&&(t.type==="atom"||$Le.hasOwnProperty(t.type))?t:null}var IM=(t,e)=>{var r,n,i;t&&t.type==="supsub"?(n=Br(t.base,"accent"),r=n.base,t.base=r,i=FLe(tn(t,e)),t.base=n):(n=Br(t,"accent"),r=n.base);var a=tn(r,e.havingCrampedStyle()),s=n.isShifty&&mr.isCharacterBox(r),o=0;if(s){var l=mr.getBaseElem(r),u=tn(l,e.havingCrampedStyle());o=Zz(u).skew}var h=n.label==="\\c",f=h?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),d;if(n.isStretchy)d=mh.svgSpan(n,e),d=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:d,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Ft(2*o)+")",marginLeft:Ft(2*o)}:void 0}]},e);else{var p,m;n.label==="\\vec"?(p=rt.staticSvg("vec",e),m=rt.svgData.vec[1]):(p=rt.makeOrd({mode:n.mode,text:n.label},e,"textord"),p=Zz(p),p.italic=0,m=p.width,h&&(f+=p.depth)),d=rt.makeSpan(["accent-body"],[p]);var v=n.label==="\\textcircled";v&&(d.classes.push("accent-full"),f=a.height);var x=o;v||(x-=m/2),d.style.left=Ft(x),n.label==="\\textcircled"&&(d.style.top=".2em"),d=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-f},{type:"elem",elem:d}]},e)}var y=rt.makeSpan(["mord","accent"],[d],e);return i?(i.children[0]=y,i.height=Math.max(y.height,i.height),i.classes[0]="mord",i):y},bne=(t,e)=>{var r=t.isStretchy?mh.mathMLnode(t.label):new _t.MathNode("mo",[Nl(t.label,t.mode)]),n=new _t.MathNode("mover",[On(t.base,e),r]);return n.setAttribute("accent","true"),n},g9e=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));qt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=kS(e[0]),n=!g9e.test(t.funcName),i=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:IM,mathmlBuilder:bne});qt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:IM,mathmlBuilder:bne});qt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(t,e)=>{var r=tn(t.base,e),n=mh.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,a=rt.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return rt.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var r=mh.mathMLnode(t.label),n=new _t.MathNode("munder",[On(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var Sw=t=>{var e=new _t.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};qt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:i}=t;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,n=e.havingStyle(r.sup()),i=rt.wrapFragment(tn(t.body,n,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;t.below&&(n=e.havingStyle(r.sub()),s=rt.wrapFragment(tn(t.below,n,e),e),s.classes.push(a+"-arrow-pad"));var o=mh.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var h;if(s){var f=-e.fontMetrics().axisHeight+s.height+.5*o.height+.111;h=rt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:f}]},e)}else h=rt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},e);return h.children[0].children[0].children[1].classes.push("svg-align"),rt.makeSpan(["mrel","x-arrow"],[h],e)},mathmlBuilder(t,e){var r=mh.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var i=Sw(On(t.body,e));if(t.below){var a=Sw(On(t.below,e));n=new _t.MathNode("munderover",[r,a,i])}else n=new _t.MathNode("mover",[r,i])}else if(t.below){var s=Sw(On(t.below,e));n=new _t.MathNode("munder",[r,s])}else n=Sw(),n=new _t.MathNode("mover",[r,n]);return n}});var m9e=rt.makeSpan;function wne(t,e){var r=ua(t.body,e,!0);return m9e([t.mclass],r,e)}function Sne(t,e){var r,n=To(t.body,e);return t.mclass==="minner"?r=new _t.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0],r.type="mi"):r=new _t.MathNode("mi",n):(t.isCharacterBox?(r=n[0],r.type="mo"):r=new _t.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}qt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:Oi(i),isCharacterBox:mr.isCharacterBox(i)}},htmlBuilder:wne,mathmlBuilder:Sne});var aT=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};qt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:aT(e[0]),body:Oi(e[1]),isCharacterBox:mr.isCharacterBox(e[1])}}});qt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:n}=t,i=e[1],a=e[0],s;n!=="\\stackrel"?s=aT(i):s="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:Oi(i)},l={type:"supsub",mode:a.mode,base:o,sup:n==="\\underset"?null:a,sub:n==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:s,body:[l],isCharacterBox:mr.isCharacterBox(l)}},htmlBuilder:wne,mathmlBuilder:Sne});qt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:aT(e[0]),body:Oi(e[0])}},htmlBuilder(t,e){var r=ua(t.body,e,!0),n=rt.makeSpan([t.mclass],r,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(t,e){var r=To(t.body,e),n=new _t.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var v9e={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},sH=()=>({type:"styling",body:[],mode:"math",style:"display"}),oH=t=>t.type==="textord"&&t.text==="@",y9e=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function x9e(t,e,r){var n=v9e[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:n,mode:"math",family:"rel"},s=r.callFunction("\\Big",[a],[]),o=r.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,s,o]};return r.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function b9e(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Dt("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],i=[n],a=0;a<e.length;a++){for(var s=e[a],o=sH(),l=0;l<s.length;l++)if(!oH(s[l]))o.body.push(s[l]);else{n.push(o),l+=1;var u=NM(s[l]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var f=0;f<2;f++){for(var d=!0,p=l+1;p<s.length;p++){if(y9e(s[p],u)){d=!1,l=p;break}if(oH(s[p]))throw new Dt("Missing a "+u+" character to complete a CD arrow.",s[p]);h[f].body.push(s[p])}if(d)throw new Dt("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new Dt('Expected one of "<>AV=|." after @',s[l]);var m=x9e(u,h,t),v={type:"styling",body:[m],mode:"math",style:"display"};n.push(v),o=sH()}a%2===0?n.push(o):n.shift(),n=[],i.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var x=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:x,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}qt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=rt.wrapFragment(tn(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=Ft(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new _t.MathNode("mrow",[On(t.label,e)]);return r=new _t.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new _t.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});qt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=rt.wrapFragment(tn(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new _t.MathNode("mrow",[On(t.fragment,e)])}});qt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=Br(e[0],"ordgroup"),i=n.body,a="",s=0;s<i.length;s++){var o=Br(i[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new Dt("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new Dt("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});var kne=(t,e)=>{var r=ua(t.body,e.withColor(t.color),!1);return rt.makeFragment(r)},Ene=(t,e)=>{var r=To(t.body,e.withColor(t.color)),n=new _t.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};qt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=Br(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:n,body:Oi(i)}},htmlBuilder:kne,mathmlBuilder:Ene});qt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,i=Br(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var a=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:a}},htmlBuilder:kne,mathmlBuilder:Ene});qt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:n}=t,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:i&&Br(i,"size").value}},htmlBuilder(t,e){var r=rt.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=Ft(fi(t.size,e)))),r},mathmlBuilder(t,e){var r=new _t.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",Ft(fi(t.size,e)))),r}});var oL={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Tne=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Dt("Expected a control sequence",t);return e},w9e=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},Cne=(t,e,r,n)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,n)};qt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(oL[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=oL[n.text]),Br(e.parseFunction(),"internal");throw new Dt("Invalid token after macro prefix",n)}});qt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Dt("Expected a control sequence",n);for(var a=0,s,o=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),o[a].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new Dt('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new Dt('Argument number "'+n.text+'" out of order');a++,o.push([])}else{if(n.text==="EOF")throw new Dt("Expected a macro definition");o[a].push(n.text)}var{tokens:l}=e.gullet.consumeArg();return s&&l.unshift(s),(r==="\\edef"||r==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:o},r===oL[r]),{type:"internal",mode:e.mode}}});qt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=Tne(e.gullet.popToken());e.gullet.consumeSpaces();var i=w9e(e);return Cne(e,n,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});qt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=Tne(e.gullet.popToken()),i=e.gullet.popToken(),a=e.gullet.popToken();return Cne(e,n,a,r==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Ky=function(e,r,n){var i=Vn.math[e]&&Vn.math[e].replace,a=_M(i||e,r,n);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return a},OM=function(e,r,n,i){var a=n.havingBaseStyle(r),s=rt.makeSpan(i.concat(a.sizingClasses(n)),[e],n),o=a.sizeMultiplier/n.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},Ane=function(e,r,n){var i=r.havingBaseStyle(n),a=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Ft(a),e.height-=a,e.depth+=a},S9e=function(e,r,n,i,a,s){var o=rt.makeSymbol(e,"Main-Regular",a,i),l=OM(o,r,i,s);return n&&Ane(l,i,r),l},k9e=function(e,r,n,i){return rt.makeSymbol(e,"Size"+r+"-Regular",n,i)},_ne=function(e,r,n,i,a,s){var o=k9e(e,r,a,i),l=OM(rt.makeSpan(["delimsizing","size"+r],[o],i),br.TEXT,i,s);return n&&Ane(l,i,br.TEXT),l},G7=function(e,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=rt.makeSpan(["delimsizinginner",i],[rt.makeSpan([],[rt.makeSymbol(e,r,n)])]);return{type:"elem",elem:a}},W7=function(e,r,n){var i=qu["Size4-Regular"][e.charCodeAt(0)]?qu["Size4-Regular"][e.charCodeAt(0)][4]:qu["Size1-Regular"][e.charCodeAt(0)][4],a=new qf("inner",LLe(e,Math.round(1e3*r))),s=new ph([a],{width:Ft(i),height:Ft(r),style:"width:"+Ft(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),o=rt.makeSvgSpan([],[s],n);return o.height=r,o.style.height=Ft(r),o.style.width=Ft(i),{type:"elem",elem:o}},lL=.008,kw={type:"kern",size:-1*lL},E9e=["|","\\lvert","\\rvert","\\vert"],T9e=["\\|","\\lVert","\\rVert","\\Vert"],Lne=function(e,r,n,i,a,s){var o,l,u,h,f="",d=0;o=u=h=e,l=null;var p="Size1-Regular";e==="\\uparrow"?u=h="⏐":e==="\\Uparrow"?u=h="‖":e==="\\downarrow"?o=u="⏐":e==="\\Downarrow"?o=u="‖":e==="\\updownarrow"?(o="\\uparrow",u="⏐",h="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="‖",h="\\Downarrow"):mr.contains(E9e,e)?(u="∣",f="vert",d=333):mr.contains(T9e,e)?(u="∥",f="doublevert",d=556):e==="["||e==="\\lbrack"?(o="⎡",u="⎢",h="⎣",p="Size4-Regular",f="lbrack",d=667):e==="]"||e==="\\rbrack"?(o="⎤",u="⎥",h="⎦",p="Size4-Regular",f="rbrack",d=667):e==="\\lfloor"||e==="⌊"?(u=o="⎢",h="⎣",p="Size4-Regular",f="lfloor",d=667):e==="\\lceil"||e==="⌈"?(o="⎡",u=h="⎢",p="Size4-Regular",f="lceil",d=667):e==="\\rfloor"||e==="⌋"?(u=o="⎥",h="⎦",p="Size4-Regular",f="rfloor",d=667):e==="\\rceil"||e==="⌉"?(o="⎤",u=h="⎥",p="Size4-Regular",f="rceil",d=667):e==="("||e==="\\lparen"?(o="⎛",u="⎜",h="⎝",p="Size4-Regular",f="lparen",d=875):e===")"||e==="\\rparen"?(o="⎞",u="⎟",h="⎠",p="Size4-Regular",f="rparen",d=875):e==="\\{"||e==="\\lbrace"?(o="⎧",l="⎨",h="⎩",u="⎪",p="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="⎫",l="⎬",h="⎭",u="⎪",p="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(o="⎧",h="⎩",u="⎪",p="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(o="⎫",h="⎭",u="⎪",p="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(o="⎧",h="⎭",u="⎪",p="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(o="⎫",h="⎩",u="⎪",p="Size4-Regular");var m=Ky(o,p,a),v=m.height+m.depth,x=Ky(u,p,a),y=x.height+x.depth,w=Ky(h,p,a),S=w.height+w.depth,E=0,C=1;if(l!==null){var L=Ky(l,p,a);E=L.height+L.depth,C=2}var _=v+S+E,I=Math.max(0,Math.ceil((r-_)/(C*y))),D=_+I*C*y,F=i.fontMetrics().axisHeight;n&&(F*=i.sizeMultiplier);var M=D/2-F,B=[];if(f.length>0){var H=D-v-S,R=Math.round(D*1e3),O=DLe(f,Math.round(H*1e3)),P=new qf(f,O),z=(d/1e3).toFixed(3)+"em",$=(R/1e3).toFixed(3)+"em",V=new ph([P],{width:z,height:$,viewBox:"0 0 "+d+" "+R}),X=rt.makeSvgSpan([],[V],i);X.height=R/1e3,X.style.width=z,X.style.height=$,B.push({type:"elem",elem:X})}else{if(B.push(G7(h,p,a)),B.push(kw),l===null){var q=D-v-S+2*lL;B.push(W7(u,q,i))}else{var Y=(D-v-S-E)/2+2*lL;B.push(W7(u,Y,i)),B.push(kw),B.push(G7(l,p,a)),B.push(kw),B.push(W7(u,Y,i))}B.push(kw),B.push(G7(o,p,a))}var U=i.havingBaseStyle(br.TEXT),Z=rt.makeVList({positionType:"bottom",positionData:M,children:B},U);return OM(rt.makeSpan(["delimsizing","mult"],[Z],U),br.TEXT,i,s)},q7=80,Y7=.08,X7=function(e,r,n,i,a){var s=_Le(e,i,n),o=new qf(e,s),l=new ph([o],{width:"400em",height:Ft(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return rt.makeSvgSpan(["hide-tail"],[l],a)},C9e=function(e,r){var n=r.havingBaseSizing(),i=Nne("\\surd",e*n.sizeMultiplier,Mne,n),a=n.sizeMultiplier,s=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),o,l=0,u=0,h=0,f;return i.type==="small"?(h=1e3+1e3*s+q7,e<1?a=1:e<1.4&&(a=.7),l=(1+s+Y7)/a,u=(1+s)/a,o=X7("sqrtMain",l,h,s,r),o.style.minWidth="0.853em",f=.833/a):i.type==="large"?(h=(1e3+q7)*R2[i.size],u=(R2[i.size]+s)/a,l=(R2[i.size]+s+Y7)/a,o=X7("sqrtSize"+i.size,l,h,s,r),o.style.minWidth="1.02em",f=1/a):(l=e+s+Y7,u=e+s,h=Math.floor(1e3*e+s)+q7,o=X7("sqrtTall",l,h,s,r),o.style.minWidth="0.742em",f=1.056),o.height=u,o.style.height=Ft(l),{span:o,advanceWidth:f,ruleWidth:(r.fontMetrics().sqrtRuleThickness+s)*a}},Dne=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],A9e=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Rne=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],R2=[0,1.2,1.8,2.4,3],_9e=function(e,r,n,i,a){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),mr.contains(Dne,e)||mr.contains(Rne,e))return _ne(e,r,!1,n,i,a);if(mr.contains(A9e,e))return Lne(e,R2[r],!1,n,i,a);throw new Dt("Illegal delimiter: '"+e+"'")},L9e=[{type:"small",style:br.SCRIPTSCRIPT},{type:"small",style:br.SCRIPT},{type:"small",style:br.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],D9e=[{type:"small",style:br.SCRIPTSCRIPT},{type:"small",style:br.SCRIPT},{type:"small",style:br.TEXT},{type:"stack"}],Mne=[{type:"small",style:br.SCRIPTSCRIPT},{type:"small",style:br.SCRIPT},{type:"small",style:br.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],R9e=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Nne=function(e,r,n,i){for(var a=Math.min(2,3-i.style.size),s=a;s<n.length&&n[s].type!=="stack";s++){var o=Ky(e,R9e(n[s]),"math"),l=o.height+o.depth;if(n[s].type==="small"){var u=i.havingBaseStyle(n[s].style);l*=u.sizeMultiplier}if(l>r)return n[s]}return n[n.length-1]},Ine=function(e,r,n,i,a,s){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var o;mr.contains(Rne,e)?o=L9e:mr.contains(Dne,e)?o=Mne:o=D9e;var l=Nne(e,r,o,i);return l.type==="small"?S9e(e,l.style,n,i,a,s):l.type==="large"?_ne(e,l.size,n,i,a,s):Lne(e,r,n,i,a,s)},M9e=function(e,r,n,i,a,s){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,h=Math.max(r-o,n+o),f=Math.max(h/500*l,2*h-u);return Ine(e,f,!0,i,a,s)},nh={sqrtImage:C9e,sizedDelim:_9e,sizeToMaxHeight:R2,customSizedDelim:Ine,leftRightDelim:M9e},lH={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},N9e=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function sT(t,e){var r=iT(t);if(r&&mr.contains(N9e,r.text))return r;throw r?new Dt("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new Dt("Invalid delimiter type '"+t.type+"'",t)}qt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=sT(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:lH[t.funcName].size,mclass:lH[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?rt.makeSpan([t.mclass]):nh.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Nl(t.delim,t.mode));var r=new _t.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=Ft(nh.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function uH(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}qt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new Dt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:sT(e[0],t).text,color:r}}});qt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=sT(e[0],t),n=t.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=Br(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{uH(t);for(var r=ua(t.body,e,!0,["mopen","mclose"]),n=0,i=0,a=!1,s=0;s<r.length;s++)r[s].isMiddle?a=!0:(n=Math.max(r[s].height,n),i=Math.max(r[s].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(t.left==="."?o=Tx(e,["mopen"]):o=nh.leftRightDelim(t.left,n,i,e,t.mode,["mopen"]),r.unshift(o),a)for(var l=1;l<r.length;l++){var u=r[l],h=u.isMiddle;h&&(r[l]=nh.leftRightDelim(h.delim,n,i,h.options,t.mode,[]))}var f;if(t.right===".")f=Tx(e,["mclose"]);else{var d=t.rightColor?e.withColor(t.rightColor):e;f=nh.leftRightDelim(t.right,n,i,d,t.mode,["mclose"])}return r.push(f),rt.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{uH(t);var r=To(t.body,e);if(t.left!=="."){var n=new _t.MathNode("mo",[Nl(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var i=new _t.MathNode("mo",[Nl(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return RM(r)}});qt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=sT(e[0],t);if(!t.parser.leftrightDepth)throw new Dt("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=Tx(e,[]);else{r=nh.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?Nl("|","text"):Nl(t.delim,t.mode),n=new _t.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var PM=(t,e)=>{var r=rt.wrapFragment(tn(t.body,e),e),n=t.label.slice(1),i=e.sizeMultiplier,a,s=0,o=mr.isCharacterBox(t.body);if(n==="sout")a=rt.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/i,s=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var l=fi({number:.6,unit:"pt"},e),u=fi({number:.35,unit:"ex"},e),h=e.havingBaseSizing();i=i/h.sizeMultiplier;var f=r.height+r.depth+l+u;r.style.paddingLeft=Ft(f/2+l);var d=Math.floor(1e3*f*i),p=CLe(d),m=new ph([new qf("phase",p)],{width:"400em",height:Ft(d/1e3),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});a=rt.makeSvgSpan(["hide-tail"],[m],e),a.style.height=Ft(f),s=r.depth+l+u}else{/cancel/.test(n)?o||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var v=0,x=0,y=0;/box/.test(n)?(y=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),v=e.fontMetrics().fboxsep+(n==="colorbox"?0:y),x=v):n==="angl"?(y=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),v=4*y,x=Math.max(0,.25-r.depth)):(v=o?.2:0,x=v),a=mh.encloseSpan(r,n,v,x,e),/fbox|boxed|fcolorbox/.test(n)?(a.style.borderStyle="solid",a.style.borderWidth=Ft(y)):n==="angl"&&y!==.049&&(a.style.borderTopWidth=Ft(y),a.style.borderRightWidth=Ft(y)),s=r.depth+x,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var w;if(t.backgroundColor)w=rt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:r,shift:0}]},e);else{var S=/cancel|phase/.test(n)?["svg-align"]:[];w=rt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:S}]},e)}return/cancel/.test(n)&&(w.height=r.height,w.depth=r.depth),/cancel/.test(n)&&!o?rt.makeSpan(["mord","cancel-lap"],[w],e):rt.makeSpan(["mord"],[w],e)},FM=(t,e)=>{var r=0,n=new _t.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[On(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};qt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,a=Br(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:PM,mathmlBuilder:FM});qt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,a=Br(e[0],"color-token").color,s=Br(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:PM,mathmlBuilder:FM});qt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});qt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:PM,mathmlBuilder:FM});qt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var One={};function fc(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<r.length;++l)One[r[l]]=o;a&&(wS[e]=a),s&&(SS[e]=s)}var Pne={};function Ae(t,e){Pne[t]=e}function cH(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var oT=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Dt("{"+t.envName+"} can be used only in display mode.")};function BM(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function gd(t,e,r){var{hskipBeforeAndAfter:n,addJot:i,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:h,maxNumCols:f,leqno:d}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!s){var p=t.gullet.expandMacroAsText("\\arraystretch");if(p==null)s=1;else if(s=parseFloat(p),!s||s<0)throw new Dt("Invalid \\arraystretch: "+p)}t.gullet.beginGroup();var m=[],v=[m],x=[],y=[],w=l!=null?[]:void 0;function S(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function E(){w&&(t.gullet.macros.get("\\df@tag")?(w.push(t.subparse([new El("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):w.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(S(),y.push(cH(t));;){var C=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),C={type:"ordgroup",mode:t.mode,body:C},r&&(C={type:"styling",mode:t.mode,style:r,body:[C]}),m.push(C);var L=t.fetch().text;if(L==="&"){if(f&&m.length===f){if(u||o)throw new Dt("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(L==="\\end"){E(),m.length===1&&C.type==="styling"&&C.body[0].body.length===0&&(v.length>1||!h)&&v.pop(),y.length<v.length+1&&y.push([]);break}else if(L==="\\\\"){t.consume();var _=void 0;t.gullet.future().text!==" "&&(_=t.parseSizeGroup(!0)),x.push(_?_.value:null),E(),y.push(cH(t)),m=[],v.push(m),S()}else throw new Dt("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:s,body:v,cols:a,rowGaps:x,hskipBeforeAndAfter:n,hLinesBeforeRow:y,colSeparationType:o,tags:w,leqno:d}}function $M(t){return t.slice(0,1)==="d"?"display":"text"}var dc=function(e,r){var n,i,a=e.body.length,s=e.hLinesBeforeRow,o=0,l=new Array(a),u=[],h=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),f=1/r.fontMetrics().ptPerEm,d=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var p=r.havingStyle(br.SCRIPT).sizeMultiplier;d=.2778*(p/r.sizeMultiplier)}var m=e.colSeparationType==="CD"?fi({number:3,unit:"ex"},r):12*f,v=3*f,x=e.arraystretch*m,y=.7*x,w=.3*x,S=0;function E(le){for(var ke=0;ke<le.length;++ke)ke>0&&(S+=.25),u.push({pos:S,isDashed:le[ke]})}for(E(s[0]),n=0;n<e.body.length;++n){var C=e.body[n],L=y,_=w;o<C.length&&(o=C.length);var I=new Array(C.length);for(i=0;i<C.length;++i){var D=tn(C[i],r);_<D.depth&&(_=D.depth),L<D.height&&(L=D.height),I[i]=D}var F=e.rowGaps[n],M=0;F&&(M=fi(F,r),M>0&&(M+=w,_<M&&(_=M),M=0)),e.addJot&&(_+=v),I.height=L,I.depth=_,S+=L,I.pos=S,S+=_+M,l[n]=I,E(s[n+1])}var B=S/2+r.fontMetrics().axisHeight,H=e.cols||[],R=[],O,P,z=[];if(e.tags&&e.tags.some(le=>le))for(n=0;n<a;++n){var $=l[n],V=$.pos-B,X=e.tags[n],q=void 0;X===!0?q=rt.makeSpan(["eqn-num"],[],r):X===!1?q=rt.makeSpan([],[],r):q=rt.makeSpan([],ua(X,r,!0),r),q.depth=$.depth,q.height=$.height,z.push({type:"elem",elem:q,shift:V})}for(i=0,P=0;i<o||P<H.length;++i,++P){for(var Y=H[P]||{},U=!0;Y.type==="separator";){if(U||(O=rt.makeSpan(["arraycolsep"],[]),O.style.width=Ft(r.fontMetrics().doubleRuleSep),R.push(O)),Y.separator==="|"||Y.separator===":"){var Z=Y.separator==="|"?"solid":"dashed",pe=rt.makeSpan(["vertical-separator"],[],r);pe.style.height=Ft(S),pe.style.borderRightWidth=Ft(h),pe.style.borderRightStyle=Z,pe.style.margin="0 "+Ft(-h/2);var ne=S-B;ne&&(pe.style.verticalAlign=Ft(-ne)),R.push(pe)}else throw new Dt("Invalid separator type: "+Y.separator);P++,Y=H[P]||{},U=!1}if(!(i>=o)){var ge=void 0;(i>0||e.hskipBeforeAndAfter)&&(ge=mr.deflt(Y.pregap,d),ge!==0&&(O=rt.makeSpan(["arraycolsep"],[]),O.style.width=Ft(ge),R.push(O)));var ye=[];for(n=0;n<a;++n){var J=l[n],se=J[i];if(se){var oe=J.pos-B;se.depth=J.depth,se.height=J.height,ye.push({type:"elem",elem:se,shift:oe})}}ye=rt.makeVList({positionType:"individualShift",children:ye},r),ye=rt.makeSpan(["col-align-"+(Y.align||"c")],[ye]),R.push(ye),(i<o-1||e.hskipBeforeAndAfter)&&(ge=mr.deflt(Y.postgap,d),ge!==0&&(O=rt.makeSpan(["arraycolsep"],[]),O.style.width=Ft(ge),R.push(O)))}}if(l=rt.makeSpan(["mtable"],R),u.length>0){for(var fe=rt.makeLineSpan("hline",r,h),me=rt.makeLineSpan("hdashline",r,h),be=[{type:"elem",elem:l,shift:0}];u.length>0;){var ce=u.pop(),Ge=ce.pos-B;ce.isDashed?be.push({type:"elem",elem:me,shift:Ge}):be.push({type:"elem",elem:fe,shift:Ge})}l=rt.makeVList({positionType:"individualShift",children:be},r)}if(z.length===0)return rt.makeSpan(["mord"],[l],r);var xe=rt.makeVList({positionType:"individualShift",children:z},r);return xe=rt.makeSpan(["tag"],[xe],r),rt.makeFragment([l,xe])},I9e={c:"center ",l:"left ",r:"right "},pc=function(e,r){for(var n=[],i=new _t.MathNode("mtd",[],["mtr-glue"]),a=new _t.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var o=e.body[s],l=[],u=0;u<o.length;u++)l.push(new _t.MathNode("mtd",[On(o[u],r)]));e.tags&&e.tags[s]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(a):l.push(a)),n.push(new _t.MathNode("mtr",l))}var h=new _t.MathNode("mtable",n),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",Ft(f));var d="",p="";if(e.cols&&e.cols.length>0){var m=e.cols,v="",x=!1,y=0,w=m.length;m[0].type==="separator"&&(d+="top ",y=1),m[m.length-1].type==="separator"&&(d+="bottom ",w-=1);for(var S=y;S<w;S++)m[S].type==="align"?(p+=I9e[m[S].align],x&&(v+="none "),x=!0):m[S].type==="separator"&&x&&(v+=m[S].separator==="|"?"solid ":"dashed ",x=!1);h.setAttribute("columnalign",p.trim()),/[sd]/.test(v)&&h.setAttribute("columnlines",v.trim())}if(e.colSeparationType==="align"){for(var E=e.cols||[],C="",L=1;L<E.length;L++)C+=L%2?"0em ":"1em ";h.setAttribute("columnspacing",C.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var _="",I=e.hLinesBeforeRow;d+=I[0].length>0?"left ":"",d+=I[I.length-1].length>0?"right ":"";for(var D=1;D<I.length-1;D++)_+=I[D].length===0?"none ":I[D][0]?"dashed ":"solid ";return/[sd]/.test(_)&&h.setAttribute("rowlines",_.trim()),d!==""&&(h=new _t.MathNode("menclose",[h]),h.setAttribute("notation",d.trim())),e.arraystretch&&e.arraystretch<1&&(h=new _t.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},Fne=function(e,r){e.envName.indexOf("ed")===-1&&oT(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=gd(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:BM(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var h="",f=0;f<r[0].body.length;f++){var d=Br(r[0].body[f],"textord");h+=d.text}o=Number(h),l=o*2}var p=!l;s.body.forEach(function(y){for(var w=1;w<y.length;w+=2){var S=Br(y[w],"styling"),E=Br(S.body[0],"ordgroup");E.body.unshift(u)}if(p)l<y.length&&(l=y.length);else{var C=y.length/2;if(o<C)throw new Dt("Too many math in a row: "+("expected "+o+", but got "+C),y[0])}});for(var m=0;m<l;++m){var v="r",x=0;m%2===1?v="l":m>0&&p&&(x=1),n[m]={type:"align",align:v,pregap:x,postgap:0}}return s.colSeparationType=p?"align":"alignat",s};fc({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=iT(e[0]),n=r?[e[0]]:Br(e[0],"ordgroup").body,i=n.map(function(s){var o=NM(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Dt("Unknown column alignment: "+l,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return gd(t.parser,a,$M(t.envName))},htmlBuilder:dc,mathmlBuilder:pc});fc({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new Dt("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var a=gd(t.parser,n,$M(t.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:dc,mathmlBuilder:pc});fc({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=gd(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:dc,mathmlBuilder:pc});fc({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=iT(e[0]),n=r?[e[0]]:Br(e[0],"ordgroup").body,i=n.map(function(s){var o=NM(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Dt("Unknown column alignment: "+l,s)});if(i.length>1)throw new Dt("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=gd(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new Dt("{subarray} can contain only one column");return a},htmlBuilder:dc,mathmlBuilder:pc});fc({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=gd(t.parser,e,$M(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:dc,mathmlBuilder:pc});fc({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Fne,htmlBuilder:dc,mathmlBuilder:pc});fc({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){mr.contains(["gather","gather*"],t.envName)&&oT(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:BM(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return gd(t.parser,e,"display")},htmlBuilder:dc,mathmlBuilder:pc});fc({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Fne,htmlBuilder:dc,mathmlBuilder:pc});fc({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){oT(t);var e={autoTag:BM(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return gd(t.parser,e,"display")},htmlBuilder:dc,mathmlBuilder:pc});fc({type:"array",names:["CD"],props:{numArgs:0},handler(t){return oT(t),b9e(t.parser)},htmlBuilder:dc,mathmlBuilder:pc});Ae("\\nonumber","\\gdef\\@eqnsw{0}");Ae("\\notag","\\nonumber");qt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Dt(t.funcName+" valid only within array environment")}});var hH=One;qt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];if(i.type!=="ordgroup")throw new Dt("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=Br(i.body[s],"textord").text;if(n==="\\begin"){if(!hH.hasOwnProperty(a))throw new Dt("No such environment: "+a,i);var o=hH[a],{args:l,optArgs:u}=r.parseArguments("\\begin{"+a+"}",o),h={mode:r.mode,envName:a,parser:r},f=o.handler(h,l,u);r.expect("\\end",!1);var d=r.nextToken,p=Br(r.parseFunction(),"environment");if(p.name!==a)throw new Dt("Mismatch: \\begin{"+a+"} matched by \\end{"+p.name+"}",d);return f}return{type:"environment",mode:r.mode,name:a,nameGroup:i}}});var Bne=(t,e)=>{var r=t.font,n=e.withFont(r);return tn(t.body,n)},$ne=(t,e)=>{var r=t.font,n=e.withFont(r);return On(t.body,n)},fH={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};qt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=kS(e[0]),a=n;return a in fH&&(a=fH[a]),{type:"font",mode:r.mode,font:a.slice(1),body:i}},htmlBuilder:Bne,mathmlBuilder:$ne});qt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],i=mr.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:aT(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});qt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:i}=t,{mode:a}=r,s=r.parseExpression(!0,i),o="math"+n.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:r.mode,body:s}}},htmlBuilder:Bne,mathmlBuilder:$ne});var zne=(t,e)=>{var r=e;return t==="display"?r=r.id>=br.SCRIPT.id?r.text():br.DISPLAY:t==="text"&&r.size===br.DISPLAY.size?r=br.TEXT:t==="script"?r=br.SCRIPT:t==="scriptscript"&&(r=br.SCRIPTSCRIPT),r},zM=(t,e)=>{var r=zne(t.size,e.style),n=r.fracNum(),i=r.fracDen(),a;a=e.havingStyle(n);var s=tn(t.numer,a,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=e.havingStyle(i);var u=tn(t.denom,a,e),h,f,d;t.hasBarLine?(t.barSize?(f=fi(t.barSize,e),h=rt.makeLineSpan("frac-line",e,f)):h=rt.makeLineSpan("frac-line",e),f=h.height,d=h.height):(h=null,f=0,d=e.fontMetrics().defaultRuleThickness);var p,m,v;r.size===br.DISPLAY.size||t.size==="display"?(p=e.fontMetrics().num1,f>0?m=3*d:m=7*d,v=e.fontMetrics().denom1):(f>0?(p=e.fontMetrics().num2,m=d):(p=e.fontMetrics().num3,m=3*d),v=e.fontMetrics().denom2);var x;if(h){var w=e.fontMetrics().axisHeight;p-s.depth-(w+.5*f)<m&&(p+=m-(p-s.depth-(w+.5*f))),w-.5*f-(u.height-v)<m&&(v+=m-(w-.5*f-(u.height-v)));var S=-(w-.5*f);x=rt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:v},{type:"elem",elem:h,shift:S},{type:"elem",elem:s,shift:-p}]},e)}else{var y=p-s.depth-(u.height-v);y<m&&(p+=.5*(m-y),v+=.5*(m-y)),x=rt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:v},{type:"elem",elem:s,shift:-p}]},e)}a=e.havingStyle(r),x.height*=a.sizeMultiplier/e.sizeMultiplier,x.depth*=a.sizeMultiplier/e.sizeMultiplier;var E;r.size===br.DISPLAY.size?E=e.fontMetrics().delim1:r.size===br.SCRIPTSCRIPT.size?E=e.havingStyle(br.SCRIPT).fontMetrics().delim2:E=e.fontMetrics().delim2;var C,L;return t.leftDelim==null?C=Tx(e,["mopen"]):C=nh.customSizedDelim(t.leftDelim,E,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?L=rt.makeSpan([]):t.rightDelim==null?L=Tx(e,["mclose"]):L=nh.customSizedDelim(t.rightDelim,E,!0,e.havingStyle(r),t.mode,["mclose"]),rt.makeSpan(["mord"].concat(a.sizingClasses(e)),[C,rt.makeSpan(["mfrac"],[x]),L],e)},HM=(t,e)=>{var r=new _t.MathNode("mfrac",[On(t.numer,e),On(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var n=fi(t.barSize,e);r.setAttribute("linethickness",Ft(n))}var i=zne(t.size,e.style);if(i.size!==e.style.size){r=new _t.MathNode("mstyle",[r]);var a=i.size===br.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var s=[];if(t.leftDelim!=null){var o=new _t.MathNode("mo",[new _t.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(r),t.rightDelim!=null){var l=new _t.MathNode("mo",[new _t.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return RM(s)}return r};qt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=e[1],s,o=null,l=null,u="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:zM,mathmlBuilder:HM});qt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});qt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:n}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var dH=["display","text","script","scriptscript"],pH=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};qt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,n=e[4],i=e[5],a=kS(e[0]),s=a.type==="atom"&&a.family==="open"?pH(a.text):null,o=kS(e[1]),l=o.type==="atom"&&o.family==="close"?pH(o.text):null,u=Br(e[2],"size"),h,f=null;u.isBlank?h=!0:(f=u.value,h=f.number>0);var d="auto",p=e[3];if(p.type==="ordgroup"){if(p.body.length>0){var m=Br(p.body[0],"textord");d=dH[Number(m.text)]}}else p=Br(p,"textord"),d=dH[Number(p.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:h,barSize:f,leftDelim:s,rightDelim:l,size:d}},htmlBuilder:zM,mathmlBuilder:HM});qt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Br(e[0],"size").value,token:i}}});qt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=hLe(Br(e[1],"infix").size),s=e[2],o=a.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:zM,mathmlBuilder:HM});var Hne=(t,e)=>{var r=e.style,n,i;t.type==="supsub"?(n=t.sup?tn(t.sup,e.havingStyle(r.sup()),e):tn(t.sub,e.havingStyle(r.sub()),e),i=Br(t.base,"horizBrace")):i=Br(t,"horizBrace");var a=tn(i.base,e.havingBaseStyle(br.DISPLAY)),s=mh.svgSpan(i,e),o;if(i.isOver?(o=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=rt.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),n){var l=rt.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},e):o=rt.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return rt.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},O9e=(t,e)=>{var r=mh.mathMLnode(t.label);return new _t.MathNode(t.isOver?"mover":"munder",[On(t.base,e),r])};qt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:Hne,mathmlBuilder:O9e});qt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],i=Br(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:Oi(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=ua(t.body,e,!1);return rt.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=Yf(t.body,e);return r instanceof gl||(r=new gl("mrow",[r])),r.setAttribute("href",t.href),r}});qt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=Br(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:Oi(o)}}});qt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:Oi(e[0])}},htmlBuilder(t,e){var r=ua(t.body,e,!1);return rt.makeFragment(r)},mathmlBuilder(t,e){return new _t.MathNode("mrow",To(t.body,e))}});qt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,token:i}=t,a=Br(e[0],"raw").string,s=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(n){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),h=0;h<u.length;h++){var f=u[h].split("=");if(f.length!==2)throw new Dt("Error parsing key-value for \\htmlData");l["data-"+f[0].trim()]=f[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:l,body:Oi(s)}:r.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var r=ua(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var i=rt.makeSpan(n,r,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&i.setAttribute(a,t.attributes[a]);return i},mathmlBuilder:(t,e)=>Yf(t.body,e)});qt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:Oi(e[0]),mathml:Oi(e[1])}},htmlBuilder:(t,e)=>{var r=ua(t.html,e,!1);return rt.makeFragment(r)},mathmlBuilder:(t,e)=>Yf(t.mathml,e)});var j7=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new Dt("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!sne(n))throw new Dt("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};qt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(r[0])for(var l=Br(r[0],"raw").string,u=l.split(","),h=0;h<u.length;h++){var f=u[h].split("=");if(f.length===2){var d=f[1].trim();switch(f[0].trim()){case"alt":o=d;break;case"width":i=j7(d);break;case"height":a=j7(d);break;case"totalheight":s=j7(d);break;default:throw new Dt("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var p=Br(e[0],"url").url;return o===""&&(o=p,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:n.mode,alt:o,width:i,height:a,totalheight:s,src:p}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=fi(t.height,e),n=0;t.totalheight.number>0&&(n=fi(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=fi(t.width,e));var a={height:Ft(r+n)};i>0&&(a.width=Ft(i)),n>0&&(a.verticalAlign=Ft(-n));var s=new OLe(t.src,t.alt,a);return s.height=r,s.depth=n,s},mathmlBuilder:(t,e)=>{var r=new _t.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=fi(t.height,e),i=0;if(t.totalheight.number>0&&(i=fi(t.totalheight,e)-n,r.setAttribute("valign",Ft(-i))),r.setAttribute("height",Ft(n+i)),t.width.number>0){var a=fi(t.width,e);r.setAttribute("width",Ft(a))}return r.setAttribute("src",t.src),r}});qt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=Br(e[0],"size");if(r.settings.strict){var a=n[1]==="m",s=i.value.unit==="mu";a?(s||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):s&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return rt.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=fi(t.dimension,e);return new _t.SpaceNode(r)}});qt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=rt.makeSpan([],[tn(t.body,e)]),r=rt.makeSpan(["inner"],[r],e)):r=rt.makeSpan(["inner"],[tn(t.body,e)]);var n=rt.makeSpan(["fix"],[]),i=rt.makeSpan([t.alignment],[r,n],e),a=rt.makeSpan(["strut"]);return a.style.height=Ft(i.height+i.depth),i.depth&&(a.style.verticalAlign=Ft(-i.depth)),i.children.unshift(a),i=rt.makeSpan(["thinbox"],[i],e),rt.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new _t.MathNode("mpadded",[On(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});qt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,i=n.mode;n.switchMode("math");var a=r==="\\("?"\\)":"$",s=n.parseExpression(!1,a);return n.expect(a),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:s}}});qt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Dt("Mismatched "+t.funcName)}});var gH=(t,e)=>{switch(e.style.size){case br.DISPLAY.size:return t.display;case br.TEXT.size:return t.text;case br.SCRIPT.size:return t.script;case br.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};qt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:Oi(e[0]),text:Oi(e[1]),script:Oi(e[2]),scriptscript:Oi(e[3])}},htmlBuilder:(t,e)=>{var r=gH(t,e),n=ua(r,e,!1);return rt.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=gH(t,e);return Yf(r,e)}});var Vne=(t,e,r,n,i,a,s)=>{t=rt.makeSpan([],[t]);var o=r&&mr.isCharacterBox(r),l,u;if(e){var h=tn(e,n.havingStyle(i.sup()),n);u={elem:h,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-h.depth)}}if(r){var f=tn(r,n.havingStyle(i.sub()),n);l={elem:f,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-f.height)}}var d;if(u&&l){var p=n.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+s;d=rt.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Ft(-a)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Ft(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(l){var m=t.height-s;d=rt.makeVList({positionType:"top",positionData:m,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Ft(-a)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},n)}else if(u){var v=t.depth+s;d=rt.makeVList({positionType:"bottom",positionData:v,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Ft(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var x=[d];if(l&&a!==0&&!o){var y=rt.makeSpan(["mspace"],[],n);y.style.marginRight=Ft(a),x.unshift(y)}return rt.makeSpan(["mop","op-limits"],x,n)},Une=["\\smallint"],av=(t,e)=>{var r,n,i=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=Br(t.base,"op"),i=!0):a=Br(t,"op");var s=e.style,o=!1;s.size===br.DISPLAY.size&&a.symbol&&!mr.contains(Une,a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",h="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(h=a.name.slice(1),a.name=h==="oiint"?"\\iint":"\\iiint"),l=rt.makeSymbol(a.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),h.length>0){var f=l.italic,d=rt.staticSvg(h+"Size"+(o?"2":"1"),e);l=rt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:d,shift:o?.08:0}]},e),a.name="\\"+h,l.classes.unshift("mop"),l.italic=f}}else if(a.body){var p=ua(a.body,e,!0);p.length===1&&p[0]instanceof Ml?(l=p[0],l.classes[0]="mop"):l=rt.makeSpan(["mop"],p,e)}else{for(var m=[],v=1;v<a.name.length;v++)m.push(rt.mathsym(a.name[v],a.mode,e));l=rt.makeSpan(["mop"],m,e)}var x=0,y=0;return(l instanceof Ml||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(x=(l.height-l.depth)/2-e.fontMetrics().axisHeight,y=l.italic),i?Vne(l,r,n,e,s,y,x):(x&&(l.style.position="relative",l.style.top=Ft(x)),l)},Lb=(t,e)=>{var r;if(t.symbol)r=new gl("mo",[Nl(t.name,t.mode)]),mr.contains(Une,t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new gl("mo",To(t.body,e));else{r=new gl("mi",[new D2(t.name.slice(1))]);var n=new gl("mo",[Nl("⁡","text")]);t.parentIsSupSub?r=new gl("mrow",[r,n]):r=vne([r,n])}return r},P9e={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};qt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=n;return i.length===1&&(i=P9e[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:av,mathmlBuilder:Lb});qt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Oi(n)}},htmlBuilder:av,mathmlBuilder:Lb});var F9e={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};qt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:av,mathmlBuilder:Lb});qt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:av,mathmlBuilder:Lb});qt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=F9e[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:av,mathmlBuilder:Lb});var Gne=(t,e)=>{var r,n,i=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=Br(t.base,"operatorname"),i=!0):a=Br(t,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(f=>{var d=f.text;return typeof d=="string"?{type:"textord",mode:f.mode,text:d}:f}),l=ua(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var h=l[u];h instanceof Ml&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=rt.makeSpan(["mop"],l,e)}else s=rt.makeSpan(["mop"],[],e);return i?Vne(s,r,n,e,e.style,0,0):s},B9e=(t,e)=>{for(var r=To(t.body,e.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var a=r[i];if(!(a instanceof _t.SpaceNode))if(a instanceof _t.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof _t.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var o=r.map(h=>h.toText()).join("");r=[new _t.TextNode(o)]}var l=new _t.MathNode("mi",r);l.setAttribute("mathvariant","normal");var u=new _t.MathNode("mo",[Nl("⁡","text")]);return t.parentIsSupSub?new _t.MathNode("mrow",[l,u]):_t.newDocumentFragment([l,u])};qt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:Oi(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Gne,mathmlBuilder:B9e});Ae("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Sp({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?rt.makeFragment(ua(t.body,e,!1)):rt.makeSpan(["mord"],ua(t.body,e,!0),e)},mathmlBuilder(t,e){return Yf(t.body,e,!0)}});qt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=tn(t.body,e.havingCrampedStyle()),n=rt.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,a=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return rt.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var r=new _t.MathNode("mo",[new _t.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new _t.MathNode("mover",[On(t.body,e),r]);return n.setAttribute("accent","true"),n}});qt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:Oi(n)}},htmlBuilder:(t,e)=>{var r=ua(t.body,e.withPhantom(),!1);return rt.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=To(t.body,e);return new _t.MathNode("mphantom",r)}});qt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=rt.makeSpan([],[tn(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),rt.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=To(Oi(t.body),e),n=new _t.MathNode("mphantom",r),i=new _t.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});qt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=rt.makeSpan(["inner"],[tn(t.body,e.withPhantom())]),n=rt.makeSpan(["fix"],[]);return rt.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=To(Oi(t.body),e),n=new _t.MathNode("mphantom",r),i=new _t.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});qt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=Br(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(t,e){var r=tn(t.body,e),n=fi(t.dy,e);return rt.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new _t.MathNode("mpadded",[On(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}});qt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});qt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,i=r[0],a=Br(e[0],"size"),s=Br(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&Br(i,"size").value,width:a.value,height:s.value}},htmlBuilder(t,e){var r=rt.makeSpan(["mord","rule"],[],e),n=fi(t.width,e),i=fi(t.height,e),a=t.shift?fi(t.shift,e):0;return r.style.borderRightWidth=Ft(n),r.style.borderTopWidth=Ft(i),r.style.bottom=Ft(a),r.width=n,r.height=i+a,r.depth=-a,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=fi(t.width,e),n=fi(t.height,e),i=t.shift?fi(t.shift,e):0,a=e.color&&e.getColor()||"black",s=new _t.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",Ft(r)),s.setAttribute("height",Ft(n));var o=new _t.MathNode("mpadded",[s]);return i>=0?o.setAttribute("height",Ft(i)):(o.setAttribute("height",Ft(i)),o.setAttribute("depth",Ft(-i))),o.setAttribute("voffset",Ft(i)),o}});function Wne(t,e,r){for(var n=ua(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,a=0;a<n.length;a++){var s=n[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(n[a].classes,e.sizingClasses(r)):n[a].classes[s+1]==="reset-size"+e.size&&(n[a].classes[s+1]="reset-size"+r.size),n[a].height*=i,n[a].depth*=i}return rt.makeFragment(n)}var mH=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],$9e=(t,e)=>{var r=e.havingSize(t.size);return Wne(t.body,r,e)};qt({type:"sizing",names:mH,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:i}=t,a=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:mH.indexOf(n)+1,body:a}},htmlBuilder:$9e,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=To(t.body,r),i=new _t.MathNode("mstyle",n);return i.setAttribute("mathsize",Ft(r.sizeMultiplier)),i}});qt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,i=!1,a=!1,s=r[0]&&Br(r[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var h=e[0];return{type:"smash",mode:n.mode,body:h,smashHeight:i,smashDepth:a}},htmlBuilder:(t,e)=>{var r=rt.makeSpan([],[tn(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var a=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return rt.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var r=new _t.MathNode("mpadded",[On(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});qt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,i=r[0],a=e[0];return{type:"sqrt",mode:n.mode,body:a,index:i}},htmlBuilder(t,e){var r=tn(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=rt.wrapFragment(r,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,a=i;e.style.id<br.TEXT.id&&(a=e.fontMetrics().xHeight);var s=i+a/4,o=r.height+r.depth+s+i,{span:l,ruleWidth:u,advanceWidth:h}=nh.sqrtImage(o,e),f=l.height-u;f>r.height+r.depth+s&&(s=(s+f-r.height-r.depth)/2);var d=l.height-r.height-s-u;r.style.paddingLeft=Ft(h);var p=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+d)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var m=e.havingStyle(br.SCRIPTSCRIPT),v=tn(t.index,m,e),x=.6*(p.height-p.depth),y=rt.makeVList({positionType:"shift",positionData:-x,children:[{type:"elem",elem:v}]},e),w=rt.makeSpan(["root"],[y]);return rt.makeSpan(["mord","sqrt"],[w,p],e)}else return rt.makeSpan(["mord","sqrt"],[p],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new _t.MathNode("mroot",[On(r,e),On(n,e)]):new _t.MathNode("msqrt",[On(r,e)])}});var vH={display:br.DISPLAY,text:br.TEXT,script:br.SCRIPT,scriptscript:br.SCRIPTSCRIPT};qt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:i}=t,a=i.parseExpression(!0,r),s=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(t,e){var r=vH[t.style],n=e.havingStyle(r).withFont("");return Wne(t.body,n,e)},mathmlBuilder(t,e){var r=vH[t.style],n=e.havingStyle(r),i=To(t.body,n),a=new _t.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[t.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var z9e=function(e,r){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===br.DISPLAY.size||n.alwaysHandleSupSub);return i?av:null}else if(n.type==="operatorname"){var a=n.alwaysHandleSupSub&&(r.style.size===br.DISPLAY.size||n.limits);return a?Gne:null}else{if(n.type==="accent")return mr.isCharacterBox(n.base)?IM:null;if(n.type==="horizBrace"){var s=!e.sub;return s===n.isOver?Hne:null}else return null}else return null};Sp({type:"supsub",htmlBuilder(t,e){var r=z9e(t,e);if(r)return r(t,e);var{base:n,sup:i,sub:a}=t,s=tn(n,e),o,l,u=e.fontMetrics(),h=0,f=0,d=n&&mr.isCharacterBox(n);if(i){var p=e.havingStyle(e.style.sup());o=tn(i,p,e),d||(h=s.height-p.fontMetrics().supDrop*p.sizeMultiplier/e.sizeMultiplier)}if(a){var m=e.havingStyle(e.style.sub());l=tn(a,m,e),d||(f=s.depth+m.fontMetrics().subDrop*m.sizeMultiplier/e.sizeMultiplier)}var v;e.style===br.DISPLAY?v=u.sup1:e.style.cramped?v=u.sup3:v=u.sup2;var x=e.sizeMultiplier,y=Ft(.5/u.ptPerEm/x),w=null;if(l){var S=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(s instanceof Ml||S)&&(w=Ft(-s.italic))}var E;if(o&&l){h=Math.max(h,v,o.depth+.25*u.xHeight),f=Math.max(f,u.sub2);var C=u.defaultRuleThickness,L=4*C;if(h-o.depth-(l.height-f)<L){f=L-(h-o.depth)+l.height;var _=.8*u.xHeight-(h-o.depth);_>0&&(h+=_,f-=_)}var I=[{type:"elem",elem:l,shift:f,marginRight:y,marginLeft:w},{type:"elem",elem:o,shift:-h,marginRight:y}];E=rt.makeVList({positionType:"individualShift",children:I},e)}else if(l){f=Math.max(f,u.sub1,l.height-.8*u.xHeight);var D=[{type:"elem",elem:l,marginLeft:w,marginRight:y}];E=rt.makeVList({positionType:"shift",positionData:f,children:D},e)}else if(o)h=Math.max(h,v,o.depth+.25*u.xHeight),E=rt.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:o,marginRight:y}]},e);else throw new Error("supsub must have either sup or sub.");var F=aL(s,"right")||"mord";return rt.makeSpan([F],[s,rt.makeSpan(["msupsub"],[E])],e)},mathmlBuilder(t,e){var r=!1,n,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[On(t.base,e)];t.sub&&a.push(On(t.sub,e)),t.sup&&a.push(On(t.sup,e));var s;if(r)s=n?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===br.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===br.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===br.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===br.DISPLAY)?s="munder":s="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===br.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===br.DISPLAY)?s="mover":s="msup"}return new _t.MathNode(s,a)}});Sp({type:"atom",htmlBuilder(t,e){return rt.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new _t.MathNode("mo",[Nl(t.text,t.mode)]);if(t.family==="bin"){var n=MM(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var qne={mi:"italic",mn:"normal",mtext:"normal"};Sp({type:"mathord",htmlBuilder(t,e){return rt.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new _t.MathNode("mi",[Nl(t.text,t.mode,e)]),n=MM(t,e)||"italic";return n!==qne[r.type]&&r.setAttribute("mathvariant",n),r}});Sp({type:"textord",htmlBuilder(t,e){return rt.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=Nl(t.text,t.mode,e),n=MM(t,e)||"normal",i;return t.mode==="text"?i=new _t.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new _t.MathNode("mn",[r]):t.text==="\\prime"?i=new _t.MathNode("mo",[r]):i=new _t.MathNode("mi",[r]),n!==qne[i.type]&&i.setAttribute("mathvariant",n),i}});var K7={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Q7={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Sp({type:"spacing",htmlBuilder(t,e){if(Q7.hasOwnProperty(t.text)){var r=Q7[t.text].className||"";if(t.mode==="text"){var n=rt.makeOrd(t,e,"textord");return n.classes.push(r),n}else return rt.makeSpan(["mspace",r],[rt.mathsym(t.text,t.mode,e)],e)}else{if(K7.hasOwnProperty(t.text))return rt.makeSpan(["mspace",K7[t.text]],[],e);throw new Dt('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(Q7.hasOwnProperty(t.text))r=new _t.MathNode("mtext",[new _t.TextNode(" ")]);else{if(K7.hasOwnProperty(t.text))return new _t.MathNode("mspace");throw new Dt('Unknown type of space "'+t.text+'"')}return r}});var yH=()=>{var t=new _t.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Sp({type:"tag",mathmlBuilder(t,e){var r=new _t.MathNode("mtable",[new _t.MathNode("mtr",[yH(),new _t.MathNode("mtd",[Yf(t.body,e)]),yH(),new _t.MathNode("mtd",[Yf(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var xH={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},bH={"\\textbf":"textbf","\\textmd":"textmd"},H9e={"\\textit":"textit","\\textup":"textup"},wH=(t,e)=>{var r=t.font;if(r){if(xH[r])return e.withTextFontFamily(xH[r]);if(bH[r])return e.withTextFontWeight(bH[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(H9e[r])};qt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"text",mode:r.mode,body:Oi(i),font:n}},htmlBuilder(t,e){var r=wH(t,e),n=ua(t.body,r,!0);return rt.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=wH(t,e);return Yf(t.body,r)}});qt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=tn(t.body,e),n=rt.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,a=rt.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return rt.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var r=new _t.MathNode("mo",[new _t.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new _t.MathNode("munder",[On(t.body,e),r]);return n.setAttribute("accentunder","true"),n}});qt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=tn(t.body,e),n=e.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return rt.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new _t.MathNode("mpadded",[On(t.body,e)],["vcenter"])}});qt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new Dt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=SH(t),n=[],i=e.havingStyle(e.style.text()),a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),n.push(rt.makeSymbol(s,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return rt.makeSpan(["mord","text"].concat(i.sizingClasses(e)),rt.tryCombineChars(n),i)},mathmlBuilder(t,e){var r=new _t.TextNode(SH(t)),n=new _t.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var SH=t=>t.body.replace(/ /g,t.star?"␣":" "),bf=gne,Yne=`[ \r
	]`,V9e="\\\\[a-zA-Z@]+",U9e="\\\\[^\uD800-\uDFFF]",G9e="("+V9e+")"+Yne+"*",W9e=`\\\\(
|[ \r	]+
?)[ \r	]*`,uL="[̀-ͯ]",q9e=new RegExp(uL+"+$"),Y9e="("+Yne+"+)|"+(W9e+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(uL+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(uL+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+G9e)+("|"+U9e+")");let kH=class{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(Y9e,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new El("EOF",new Oo(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new Dt("Unexpected character: '"+e[r]+"'",new El(e[r],new Oo(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new El(i,new Oo(this,r,this.tokenRegex.lastIndex))}};class X9e{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Dt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var j9e=Pne;Ae("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});Ae("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});Ae("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});Ae("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});Ae("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});Ae("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");Ae("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var EH={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Ae("\\char",function(t){var e=t.popToken(),r,n="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Dt("\\char` missing argument");n=e.text.charCodeAt(0)}else r=10;if(r){if(n=EH[e.text],n==null||n>=r)throw new Dt("Invalid base-"+r+" digit "+e.text);for(var i;(i=EH[t.future().text])!=null&&i<r;)n*=r,n+=i,t.popToken()}return"\\@char{"+n+"}"});var VM=(t,e,r)=>{var n=t.consumeArg().tokens;if(n.length!==1)throw new Dt("\\newcommand's first argument must be a macro name");var i=n[0].text,a=t.isDefined(i);if(a&&!e)throw new Dt("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!a&&!r)throw new Dt("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(n=t.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var o="",l=t.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=t.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new Dt("Invalid number of arguments: "+o);s=parseInt(o),n=t.consumeArg().tokens}return t.macros.set(i,{tokens:n,numArgs:s}),""};Ae("\\newcommand",t=>VM(t,!1,!0));Ae("\\renewcommand",t=>VM(t,!0,!1));Ae("\\providecommand",t=>VM(t,!0,!0));Ae("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});Ae("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});Ae("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),bf[r],Vn.math[r],Vn.text[r]),""});Ae("\\bgroup","{");Ae("\\egroup","}");Ae("~","\\nobreakspace");Ae("\\lq","`");Ae("\\rq","'");Ae("\\aa","\\r a");Ae("\\AA","\\r A");Ae("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");Ae("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");Ae("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");Ae("ℬ","\\mathscr{B}");Ae("ℰ","\\mathscr{E}");Ae("ℱ","\\mathscr{F}");Ae("ℋ","\\mathscr{H}");Ae("ℐ","\\mathscr{I}");Ae("ℒ","\\mathscr{L}");Ae("ℳ","\\mathscr{M}");Ae("ℛ","\\mathscr{R}");Ae("ℭ","\\mathfrak{C}");Ae("ℌ","\\mathfrak{H}");Ae("ℨ","\\mathfrak{Z}");Ae("\\Bbbk","\\Bbb{k}");Ae("·","\\cdotp");Ae("\\llap","\\mathllap{\\textrm{#1}}");Ae("\\rlap","\\mathrlap{\\textrm{#1}}");Ae("\\clap","\\mathclap{\\textrm{#1}}");Ae("\\mathstrut","\\vphantom{(}");Ae("\\underbar","\\underline{\\text{#1}}");Ae("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');Ae("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");Ae("\\ne","\\neq");Ae("≠","\\neq");Ae("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");Ae("∉","\\notin");Ae("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");Ae("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");Ae("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");Ae("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");Ae("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");Ae("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");Ae("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");Ae("⟂","\\perp");Ae("‼","\\mathclose{!\\mkern-0.8mu!}");Ae("∌","\\notni");Ae("⌜","\\ulcorner");Ae("⌝","\\urcorner");Ae("⌞","\\llcorner");Ae("⌟","\\lrcorner");Ae("©","\\copyright");Ae("®","\\textregistered");Ae("️","\\textregistered");Ae("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');Ae("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');Ae("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');Ae("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');Ae("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");Ae("⋮","\\vdots");Ae("\\varGamma","\\mathit{\\Gamma}");Ae("\\varDelta","\\mathit{\\Delta}");Ae("\\varTheta","\\mathit{\\Theta}");Ae("\\varLambda","\\mathit{\\Lambda}");Ae("\\varXi","\\mathit{\\Xi}");Ae("\\varPi","\\mathit{\\Pi}");Ae("\\varSigma","\\mathit{\\Sigma}");Ae("\\varUpsilon","\\mathit{\\Upsilon}");Ae("\\varPhi","\\mathit{\\Phi}");Ae("\\varPsi","\\mathit{\\Psi}");Ae("\\varOmega","\\mathit{\\Omega}");Ae("\\substack","\\begin{subarray}{c}#1\\end{subarray}");Ae("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");Ae("\\boxed","\\fbox{$\\displaystyle{#1}$}");Ae("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");Ae("\\implies","\\DOTSB\\;\\Longrightarrow\\;");Ae("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var TH={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Ae("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in TH?e=TH[r]:(r.slice(0,4)==="\\not"||r in Vn.math&&mr.contains(["bin","rel"],Vn.math[r].group))&&(e="\\dotsb"),e});var UM={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Ae("\\dotso",function(t){var e=t.future().text;return e in UM?"\\ldots\\,":"\\ldots"});Ae("\\dotsc",function(t){var e=t.future().text;return e in UM&&e!==","?"\\ldots\\,":"\\ldots"});Ae("\\cdots",function(t){var e=t.future().text;return e in UM?"\\@cdots\\,":"\\@cdots"});Ae("\\dotsb","\\cdots");Ae("\\dotsm","\\cdots");Ae("\\dotsi","\\!\\cdots");Ae("\\dotsx","\\ldots\\,");Ae("\\DOTSI","\\relax");Ae("\\DOTSB","\\relax");Ae("\\DOTSX","\\relax");Ae("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");Ae("\\,","\\tmspace+{3mu}{.1667em}");Ae("\\thinspace","\\,");Ae("\\>","\\mskip{4mu}");Ae("\\:","\\tmspace+{4mu}{.2222em}");Ae("\\medspace","\\:");Ae("\\;","\\tmspace+{5mu}{.2777em}");Ae("\\thickspace","\\;");Ae("\\!","\\tmspace-{3mu}{.1667em}");Ae("\\negthinspace","\\!");Ae("\\negmedspace","\\tmspace-{4mu}{.2222em}");Ae("\\negthickspace","\\tmspace-{5mu}{.277em}");Ae("\\enspace","\\kern.5em ");Ae("\\enskip","\\hskip.5em\\relax");Ae("\\quad","\\hskip1em\\relax");Ae("\\qquad","\\hskip2em\\relax");Ae("\\tag","\\@ifstar\\tag@literal\\tag@paren");Ae("\\tag@paren","\\tag@literal{({#1})}");Ae("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Dt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});Ae("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");Ae("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");Ae("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");Ae("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");Ae("\\newline","\\\\\\relax");Ae("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Xne=Ft(qu["Main-Regular"][84][1]-.7*qu["Main-Regular"][65][1]);Ae("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Xne+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");Ae("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Xne+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");Ae("\\hspace","\\@ifstar\\@hspacer\\@hspace");Ae("\\@hspace","\\hskip #1\\relax");Ae("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");Ae("\\ordinarycolon",":");Ae("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");Ae("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');Ae("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');Ae("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');Ae("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');Ae("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');Ae("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');Ae("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');Ae("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');Ae("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');Ae("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');Ae("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');Ae("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');Ae("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');Ae("∷","\\dblcolon");Ae("∹","\\eqcolon");Ae("≔","\\coloneqq");Ae("≕","\\eqqcolon");Ae("⩴","\\Coloneqq");Ae("\\ratio","\\vcentcolon");Ae("\\coloncolon","\\dblcolon");Ae("\\colonequals","\\coloneqq");Ae("\\coloncolonequals","\\Coloneqq");Ae("\\equalscolon","\\eqqcolon");Ae("\\equalscoloncolon","\\Eqqcolon");Ae("\\colonminus","\\coloneq");Ae("\\coloncolonminus","\\Coloneq");Ae("\\minuscolon","\\eqcolon");Ae("\\minuscoloncolon","\\Eqcolon");Ae("\\coloncolonapprox","\\Colonapprox");Ae("\\coloncolonsim","\\Colonsim");Ae("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Ae("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");Ae("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Ae("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");Ae("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");Ae("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");Ae("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");Ae("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");Ae("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");Ae("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");Ae("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");Ae("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");Ae("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");Ae("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");Ae("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");Ae("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");Ae("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");Ae("\\nleqq","\\html@mathml{\\@nleqq}{≰}");Ae("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");Ae("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");Ae("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");Ae("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");Ae("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");Ae("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");Ae("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");Ae("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");Ae("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");Ae("\\imath","\\html@mathml{\\@imath}{ı}");Ae("\\jmath","\\html@mathml{\\@jmath}{ȷ}");Ae("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");Ae("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");Ae("⟦","\\llbracket");Ae("⟧","\\rrbracket");Ae("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");Ae("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");Ae("⦃","\\lBrace");Ae("⦄","\\rBrace");Ae("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");Ae("⦵","\\minuso");Ae("\\darr","\\downarrow");Ae("\\dArr","\\Downarrow");Ae("\\Darr","\\Downarrow");Ae("\\lang","\\langle");Ae("\\rang","\\rangle");Ae("\\uarr","\\uparrow");Ae("\\uArr","\\Uparrow");Ae("\\Uarr","\\Uparrow");Ae("\\N","\\mathbb{N}");Ae("\\R","\\mathbb{R}");Ae("\\Z","\\mathbb{Z}");Ae("\\alef","\\aleph");Ae("\\alefsym","\\aleph");Ae("\\Alpha","\\mathrm{A}");Ae("\\Beta","\\mathrm{B}");Ae("\\bull","\\bullet");Ae("\\Chi","\\mathrm{X}");Ae("\\clubs","\\clubsuit");Ae("\\cnums","\\mathbb{C}");Ae("\\Complex","\\mathbb{C}");Ae("\\Dagger","\\ddagger");Ae("\\diamonds","\\diamondsuit");Ae("\\empty","\\emptyset");Ae("\\Epsilon","\\mathrm{E}");Ae("\\Eta","\\mathrm{H}");Ae("\\exist","\\exists");Ae("\\harr","\\leftrightarrow");Ae("\\hArr","\\Leftrightarrow");Ae("\\Harr","\\Leftrightarrow");Ae("\\hearts","\\heartsuit");Ae("\\image","\\Im");Ae("\\infin","\\infty");Ae("\\Iota","\\mathrm{I}");Ae("\\isin","\\in");Ae("\\Kappa","\\mathrm{K}");Ae("\\larr","\\leftarrow");Ae("\\lArr","\\Leftarrow");Ae("\\Larr","\\Leftarrow");Ae("\\lrarr","\\leftrightarrow");Ae("\\lrArr","\\Leftrightarrow");Ae("\\Lrarr","\\Leftrightarrow");Ae("\\Mu","\\mathrm{M}");Ae("\\natnums","\\mathbb{N}");Ae("\\Nu","\\mathrm{N}");Ae("\\Omicron","\\mathrm{O}");Ae("\\plusmn","\\pm");Ae("\\rarr","\\rightarrow");Ae("\\rArr","\\Rightarrow");Ae("\\Rarr","\\Rightarrow");Ae("\\real","\\Re");Ae("\\reals","\\mathbb{R}");Ae("\\Reals","\\mathbb{R}");Ae("\\Rho","\\mathrm{P}");Ae("\\sdot","\\cdot");Ae("\\sect","\\S");Ae("\\spades","\\spadesuit");Ae("\\sub","\\subset");Ae("\\sube","\\subseteq");Ae("\\supe","\\supseteq");Ae("\\Tau","\\mathrm{T}");Ae("\\thetasym","\\vartheta");Ae("\\weierp","\\wp");Ae("\\Zeta","\\mathrm{Z}");Ae("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");Ae("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");Ae("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");Ae("\\bra","\\mathinner{\\langle{#1}|}");Ae("\\ket","\\mathinner{|{#1}\\rangle}");Ae("\\braket","\\mathinner{\\langle{#1}\\rangle}");Ae("\\Bra","\\left\\langle#1\\right|");Ae("\\Ket","\\left|#1\\right\\rangle");var jne=t=>e=>{var r=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=f=>d=>{t&&(d.macros.set("|",s),i.length&&d.macros.set("\\|",o));var p=f;if(!f&&i.length){var m=d.future();m.text==="|"&&(d.popToken(),p=!0)}return{tokens:p?i:n,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,h=e.expandTokens([...a,...u,...r]);return e.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};Ae("\\bra@ket",jne(!1));Ae("\\bra@set",jne(!0));Ae("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");Ae("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");Ae("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");Ae("\\angln","{\\angl n}");Ae("\\blue","\\textcolor{##6495ed}{#1}");Ae("\\orange","\\textcolor{##ffa500}{#1}");Ae("\\pink","\\textcolor{##ff00af}{#1}");Ae("\\red","\\textcolor{##df0030}{#1}");Ae("\\green","\\textcolor{##28ae7b}{#1}");Ae("\\gray","\\textcolor{gray}{#1}");Ae("\\purple","\\textcolor{##9d38bd}{#1}");Ae("\\blueA","\\textcolor{##ccfaff}{#1}");Ae("\\blueB","\\textcolor{##80f6ff}{#1}");Ae("\\blueC","\\textcolor{##63d9ea}{#1}");Ae("\\blueD","\\textcolor{##11accd}{#1}");Ae("\\blueE","\\textcolor{##0c7f99}{#1}");Ae("\\tealA","\\textcolor{##94fff5}{#1}");Ae("\\tealB","\\textcolor{##26edd5}{#1}");Ae("\\tealC","\\textcolor{##01d1c1}{#1}");Ae("\\tealD","\\textcolor{##01a995}{#1}");Ae("\\tealE","\\textcolor{##208170}{#1}");Ae("\\greenA","\\textcolor{##b6ffb0}{#1}");Ae("\\greenB","\\textcolor{##8af281}{#1}");Ae("\\greenC","\\textcolor{##74cf70}{#1}");Ae("\\greenD","\\textcolor{##1fab54}{#1}");Ae("\\greenE","\\textcolor{##0d923f}{#1}");Ae("\\goldA","\\textcolor{##ffd0a9}{#1}");Ae("\\goldB","\\textcolor{##ffbb71}{#1}");Ae("\\goldC","\\textcolor{##ff9c39}{#1}");Ae("\\goldD","\\textcolor{##e07d10}{#1}");Ae("\\goldE","\\textcolor{##a75a05}{#1}");Ae("\\redA","\\textcolor{##fca9a9}{#1}");Ae("\\redB","\\textcolor{##ff8482}{#1}");Ae("\\redC","\\textcolor{##f9685d}{#1}");Ae("\\redD","\\textcolor{##e84d39}{#1}");Ae("\\redE","\\textcolor{##bc2612}{#1}");Ae("\\maroonA","\\textcolor{##ffbde0}{#1}");Ae("\\maroonB","\\textcolor{##ff92c6}{#1}");Ae("\\maroonC","\\textcolor{##ed5fa6}{#1}");Ae("\\maroonD","\\textcolor{##ca337c}{#1}");Ae("\\maroonE","\\textcolor{##9e034e}{#1}");Ae("\\purpleA","\\textcolor{##ddd7ff}{#1}");Ae("\\purpleB","\\textcolor{##c6b9fc}{#1}");Ae("\\purpleC","\\textcolor{##aa87ff}{#1}");Ae("\\purpleD","\\textcolor{##7854ab}{#1}");Ae("\\purpleE","\\textcolor{##543b78}{#1}");Ae("\\mintA","\\textcolor{##f5f9e8}{#1}");Ae("\\mintB","\\textcolor{##edf2df}{#1}");Ae("\\mintC","\\textcolor{##e0e5cc}{#1}");Ae("\\grayA","\\textcolor{##f6f7f7}{#1}");Ae("\\grayB","\\textcolor{##f0f1f2}{#1}");Ae("\\grayC","\\textcolor{##e3e5e6}{#1}");Ae("\\grayD","\\textcolor{##d6d8da}{#1}");Ae("\\grayE","\\textcolor{##babec2}{#1}");Ae("\\grayF","\\textcolor{##888d93}{#1}");Ae("\\grayG","\\textcolor{##626569}{#1}");Ae("\\grayH","\\textcolor{##3b3e40}{#1}");Ae("\\grayI","\\textcolor{##21242c}{#1}");Ae("\\kaBlue","\\textcolor{##314453}{#1}");Ae("\\kaGreen","\\textcolor{##71B307}{#1}");var Kne={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class K9e{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new X9e(j9e,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new kH(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new El("EOF",n.loc)),this.pushTokens(i),r.range(n,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),a,s=0,o=0;do{if(a=this.popToken(),r.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new Dt("Extra }",a)}else if(a.text==="EOF")throw new Dt("Unexpected end of input in a macro argument, expected '"+(e&&n?e[o]:"}")+"'",a);if(e&&n)if((s===0||s===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){r.splice(-o,o);break}}else o=0}while(s!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:a}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new Dt("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var a=this.popToken();if(n[i]!==a.text)throw new Dt("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<e;o++)s.push(this.consumeArg(r&&r[o+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Dt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new Dt("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new Dt("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new Dt("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new El(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new kH(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var h={tokens:l,numArgs:a};return h}return i}isDefined(e){return this.macros.has(e)||bf.hasOwnProperty(e)||Vn.math.hasOwnProperty(e)||Vn.text.hasOwnProperty(e)||Kne.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:bf.hasOwnProperty(e)&&!bf[e].primitive}}var CH=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Ew=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Z7={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},AH={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};let Qne=class Zne{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new K9e(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new Dt("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new El("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Zne.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&bf[i.text]&&bf[i.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;n.push(a)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r=-1,n,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new Dt("only one infix operator per group",e[i].token);r=i,n=e[i].replaceWith}if(r!==-1&&n){var a,s,o=e.slice(0,r),l=e.slice(r+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return n==="\\\\abovefrac"?u=this.callFunction(n,[a,e[r],s],[]):u=this.callFunction(n,[a,s],[]),[u]}else return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new Dt("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(e){var r=this.parseGroup("atom",e);if(this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var s=a.text==="\\limits";r.limits=s,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new Dt("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(n)throw new Dt("Double superscript",a);n=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new Dt("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(n)throw new Dt("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:l}}else if(Ew[a.text]){var u=CH.test(a.text),h=[];for(h.push(new El(Ew[a.text])),this.consume();;){var f=this.fetch().text;if(!Ew[f]||CH.test(f)!==u)break;h.unshift(new El(Ew[f])),this.consume()}var d=this.subparse(h);u?i={type:"ordgroup",mode:"math",body:d}:n={type:"ordgroup",mode:"math",body:d}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(e,r){var n=this.fetch(),i=n.text,a=bf[i];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new Dt("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!a.allowedInText)throw new Dt("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&a.allowedInMath===!1)throw new Dt("Can't use function '"+i+"' in math mode",n);var{args:s,optArgs:o}=this.parseArguments(i,a);return this.callFunction(i,s,o,n,e)}callFunction(e,r,n,i,a){var s={funcName:e,parser:this,token:i,breakOnTokenText:a},o=bf[e];if(o&&o.handler)return o.handler(s,r,n);throw new Dt("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<n;s++){var o=r.argTypes&&r.argTypes[s],l=s<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)a.push(u);else if(u!=null)i.push(u);else throw new Dt("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",n);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(n)throw new Dt("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new Dt("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new Dt("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,r){for(var n=this.fetch(),i=n,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new Dt("Invalid "+r+": '"+n.text+"'",n);return n.range(i,a)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new Dt("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new Dt("Invalid size: '"+r.text+"'",r);var a={number:+(i[1]+i[2]),unit:i[3]};if(!sne(a))throw new Dt("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:n.loc,body:a};return r&&this.switchMode(i),s}parseGroup(e,r){var n=this.fetch(),i=n.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:Oo.range(n,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,e)||this.parseSymbol(),a==null&&i[0]==="\\"&&!Kne.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Dt("Undefined control sequence: "+i,n);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var i=e[n],a=i.text;a==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:Oo.range(i,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:Oo.range(i,e[n+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&e[n+1].text===a&&(e.splice(n,2,{type:"textord",mode:"text",loc:Oo.range(i,e[n+1]),text:a+a}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new Dt(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}AH.hasOwnProperty(r[0])&&!Vn[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=AH[r[0]]+r.slice(1));var a=q9e.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="ı":r==="j"&&(r="ȷ"));var s;if(Vn[this.mode][r]){this.settings.strict&&this.mode==="math"&&iL.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var o=Vn[this.mode][r].group,l=Oo.range(e),u;if(BLe.hasOwnProperty(o)){var h=o;u={type:"atom",mode:this.mode,family:h,loc:l,text:r}}else u={type:o,mode:this.mode,loc:l,text:r};s=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(ane(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:Oo.range(e),text:r};else return null;if(this.consume(),a)for(var f=0;f<a[0].length;f++){var d=a[0][f];if(!Z7[d])throw new Dt("Unknown accent ' "+d+"'",e);var p=Z7[d][this.mode]||Z7[d].text;if(!p)throw new Dt("Accent "+d+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:Oo.range(e),label:p,isStretchy:!1,isShifty:!0,base:s}}return s}};Qne.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var GM=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new Qne(e,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new Dt("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new El("\\df@tag")])}]}return i},Jne=function(e,r,n){r.textContent="";var i=WM(e,n).toNode();r.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Jne=function(){throw new Dt("KaTeX doesn't work in quirks mode.")});var Q9e=function(e,r){var n=WM(e,r).toMarkup();return n},Z9e=function(e,r){var n=new CM(r);return GM(e,n)},eie=function(e,r,n){if(n.throwOnError||!(e instanceof Dt))throw e;var i=rt.makeSpan(["katex-error"],[new Ml(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},WM=function(e,r){var n=new CM(r);try{var i=GM(e,n);return o9e(i,e,n)}catch(a){return eie(a,e,n)}},J9e=function(e,r){var n=new CM(r);try{var i=GM(e,n);return l9e(i,e,n)}catch(a){return eie(a,e,n)}},eDe={version:"0.16.11",render:Jne,renderToString:Q9e,ParseError:Dt,SETTINGS_SCHEMA:T3,__parse:Z9e,__renderToDomTree:WM,__renderToHTMLTree:J9e,__setFontMetrics:RLe,__defineSymbol:Q,__defineFunction:qt,__defineMacro:Ae,__domTree:{Span:_b,Anchor:LM,SymbolNode:Ml,SvgNode:ph,PathNode:qf,LineNode:nL}};const tDe=Object.freeze(Object.defineProperty({__proto__:null,default:eDe},Symbol.toStringTag,{value:"Module"}));var rDe="[object Symbol]";function Y0(t){return typeof t=="symbol"||Dl(t)&&Ah(t)==rDe}function C0(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var nDe=1/0,_H=_l?_l.prototype:void 0,LH=_H?_H.toString:void 0;function tie(t){if(typeof t=="string")return t;if(Ur(t))return C0(t,tie)+"";if(Y0(t))return LH?LH.call(t):"";var e=t+"";return e=="0"&&1/t==-nDe?"-0":e}var iDe=/\s/;function aDe(t){for(var e=t.length;e--&&iDe.test(t.charAt(e)););return e}var sDe=/^\s+/;function oDe(t){return t&&t.slice(0,aDe(t)+1).replace(sDe,"")}var DH=NaN,lDe=/^[-+]0x[0-9a-f]+$/i,uDe=/^0b[01]+$/i,cDe=/^0o[0-7]+$/i,hDe=parseInt;function fDe(t){if(typeof t=="number")return t;if(Y0(t))return DH;if(wo(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wo(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=oDe(t);var r=uDe.test(t);return r||cDe.test(t)?hDe(t.slice(2),r?2:8):lDe.test(t)?DH:+t}var RH=1/0,dDe=17976931348623157e292;function A3(t){if(!t)return t===0?t:0;if(t=fDe(t),t===RH||t===-RH){var e=t<0?-1:1;return e*dDe}return t===t?t:0}function lT(t){var e=A3(t),r=e%1;return e===e?r?e-r:e:0}function Ki(){}function rie(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function nie(t,e,r,n){for(var i=t.length,a=r+-1;++a<i;)if(e(t[a],a,t))return a;return-1}function pDe(t){return t!==t}function gDe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function qM(t,e,r){return e===e?gDe(t,e,r):nie(t,pDe,r)}function iie(t,e){var r=t==null?0:t.length;return!!r&&qM(t,e,0)>-1}function na(t){return cc(t)?oJ(t):Dte(t)}var mDe=Object.prototype,vDe=mDe.hasOwnProperty,qo=hJ(function(t,e){if(xb(e)||cc(e)){Jm(e,na(e),t);return}for(var r in e)vDe.call(e,r)&&wb(t,r,e[r])}),yDe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xDe=/^\w*$/;function YM(t,e){if(Ur(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Y0(t)?!0:xDe.test(t)||!yDe.test(t)||e!=null&&t in Object(e)}var bDe=500;function wDe(t){var e=Zm(t,function(n){return r.size===bDe&&r.clear(),n}),r=e.cache;return e}var SDe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kDe=/\\(\\)?/g,EDe=wDe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(SDe,function(r,n,i,a){e.push(i?a.replace(kDe,"$1"):n||r)}),e});function aie(t){return t==null?"":tie(t)}function uT(t,e){return Ur(t)?t:YM(t,e)?[t]:EDe(aie(t))}var TDe=1/0;function Db(t){if(typeof t=="string"||Y0(t))return t;var e=t+"";return e=="0"&&1/t==-TDe?"-0":e}function cT(t,e){e=uT(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Db(e[r++])];return r&&r==n?t:void 0}function CDe(t,e,r){var n=t==null?void 0:cT(t,e);return n===void 0?r:n}function XM(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var MH=_l?_l.isConcatSpreadable:void 0;function ADe(t){return Ur(t)||xm(t)||!!(MH&&t&&t[MH])}function Rb(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=ADe),i||(i=[]);++a<s;){var o=t[a];r(o)?XM(i,o):n||(i[i.length]=o)}return i}function wa(t){var e=t==null?0:t.length;return e?Rb(t):[]}function _De(t){return cJ(uJ(t,void 0,wa),t+"")}function sie(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}function LDe(t,e,r,n){var i=-1,a=t==null?0:t.length;for(n&&a&&(r=t[++i]);++i<a;)r=e(r,t[i],i,t);return r}function DDe(t,e){return t&&Jm(e,na(e),t)}function RDe(t,e){return t&&Jm(e,xp(e),t)}function jM(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}function oie(){return[]}var MDe=Object.prototype,NDe=MDe.propertyIsEnumerable,NH=Object.getOwnPropertySymbols,KM=NH?function(t){return t==null?[]:(t=Object(t),jM(NH(t),function(e){return NDe.call(t,e)}))}:oie;function IDe(t,e){return Jm(t,KM(t),e)}var ODe=Object.getOwnPropertySymbols,lie=ODe?function(t){for(var e=[];t;)XM(e,KM(t)),t=zR(t);return e}:oie;function PDe(t,e){return Jm(t,lie(t),e)}function uie(t,e,r){var n=e(t);return Ur(t)?n:XM(n,r(t))}function cL(t){return uie(t,na,KM)}function cie(t){return uie(t,xp,lie)}var FDe=Object.prototype,BDe=FDe.hasOwnProperty;function $De(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&BDe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function zDe(t,e){var r=e?$R(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var HDe=/\w*$/;function VDe(t){var e=new t.constructor(t.source,HDe.exec(t));return e.lastIndex=t.lastIndex,e}var IH=_l?_l.prototype:void 0,OH=IH?IH.valueOf:void 0;function UDe(t){return OH?Object(OH.call(t)):{}}var GDe="[object Boolean]",WDe="[object Date]",qDe="[object Map]",YDe="[object Number]",XDe="[object RegExp]",jDe="[object Set]",KDe="[object String]",QDe="[object Symbol]",ZDe="[object ArrayBuffer]",JDe="[object DataView]",eRe="[object Float32Array]",tRe="[object Float64Array]",rRe="[object Int8Array]",nRe="[object Int16Array]",iRe="[object Int32Array]",aRe="[object Uint8Array]",sRe="[object Uint8ClampedArray]",oRe="[object Uint16Array]",lRe="[object Uint32Array]";function uRe(t,e,r){var n=t.constructor;switch(e){case ZDe:return $R(t);case GDe:case WDe:return new n(+t);case JDe:return zDe(t,r);case eRe:case tRe:case rRe:case nRe:case iRe:case aRe:case sRe:case oRe:case lRe:return JZ(t,r);case qDe:return new n;case YDe:case KDe:return new n(t);case XDe:return VDe(t);case jDe:return new n;case QDe:return UDe(t)}}var cRe="[object Map]";function hRe(t){return Dl(t)&&hl(t)==cRe}var PH=Hf&&Hf.isMap,fRe=PH?bb(PH):hRe,dRe="[object Set]";function pRe(t){return Dl(t)&&hl(t)==dRe}var FH=Hf&&Hf.isSet,gRe=FH?bb(FH):pRe,mRe=1,vRe=2,yRe=4,hie="[object Arguments]",xRe="[object Array]",bRe="[object Boolean]",wRe="[object Date]",SRe="[object Error]",fie="[object Function]",kRe="[object GeneratorFunction]",ERe="[object Map]",TRe="[object Number]",die="[object Object]",CRe="[object RegExp]",ARe="[object Set]",_Re="[object String]",LRe="[object Symbol]",DRe="[object WeakMap]",RRe="[object ArrayBuffer]",MRe="[object DataView]",NRe="[object Float32Array]",IRe="[object Float64Array]",ORe="[object Int8Array]",PRe="[object Int16Array]",FRe="[object Int32Array]",BRe="[object Uint8Array]",$Re="[object Uint8ClampedArray]",zRe="[object Uint16Array]",HRe="[object Uint32Array]",$n={};$n[hie]=$n[xRe]=$n[RRe]=$n[MRe]=$n[bRe]=$n[wRe]=$n[NRe]=$n[IRe]=$n[ORe]=$n[PRe]=$n[FRe]=$n[ERe]=$n[TRe]=$n[die]=$n[CRe]=$n[ARe]=$n[_Re]=$n[LRe]=$n[BRe]=$n[$Re]=$n[zRe]=$n[HRe]=!0;$n[SRe]=$n[fie]=$n[DRe]=!1;function M2(t,e,r,n,i,a){var s,o=e&mRe,l=e&vRe,u=e&yRe;if(s!==void 0)return s;if(!wo(t))return t;var h=Ur(t);if(h){if(s=$De(t),!o)return eJ(t,s)}else{var f=hl(t),d=f==fie||f==kRe;if(bm(t))return ZZ(t,o);if(f==die||f==hie||d&&!i){if(s=l||d?{}:rJ(t),!o)return l?PDe(t,RDe(s,t)):IDe(t,DDe(s,t))}else{if(!$n[f])return i?t:{};s=uRe(t,f,o)}}a||(a=new su);var p=a.get(t);if(p)return p;a.set(t,s),gRe(t)?t.forEach(function(x){s.add(M2(x,e,r,x,t,a))}):fRe(t)&&t.forEach(function(x,y){s.set(y,M2(x,e,r,y,t,a))});var m=u?l?cie:cL:l?xp:na,v=h?void 0:m(t);return rie(v||t,function(x,y){v&&(y=x,x=t[y]),wb(s,y,M2(x,e,r,y,t,a))}),s}var VRe=4;function ca(t){return M2(t,VRe)}var URe=1,GRe=4;function WRe(t){return M2(t,URe|GRe)}function Mb(t){for(var e=-1,r=t==null?0:t.length,n=0,i=[];++e<r;){var a=t[e];a&&(i[n++]=a)}return i}var qRe="__lodash_hash_undefined__";function YRe(t){return this.__data__.set(t,qRe),this}function XRe(t){return this.__data__.has(t)}function Em(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Lh;++e<r;)this.add(t[e])}Em.prototype.add=Em.prototype.push=YRe;Em.prototype.has=XRe;function pie(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function QM(t,e){return t.has(e)}var jRe=1,KRe=2;function gie(t,e,r,n,i,a){var s=r&jRe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),h=a.get(e);if(u&&h)return u==e&&h==t;var f=-1,d=!0,p=r&KRe?new Em:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var m=t[f],v=e[f];if(n)var x=s?n(v,m,f,e,t,a):n(m,v,f,t,e,a);if(x!==void 0){if(x)continue;d=!1;break}if(p){if(!pie(e,function(y,w){if(!QM(p,w)&&(m===y||i(m,y,r,n,a)))return p.push(w)})){d=!1;break}}else if(!(m===v||i(m,v,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}function QRe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function ZM(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var ZRe=1,JRe=2,eMe="[object Boolean]",tMe="[object Date]",rMe="[object Error]",nMe="[object Map]",iMe="[object Number]",aMe="[object RegExp]",sMe="[object Set]",oMe="[object String]",lMe="[object Symbol]",uMe="[object ArrayBuffer]",cMe="[object DataView]",BH=_l?_l.prototype:void 0,J7=BH?BH.valueOf:void 0;function hMe(t,e,r,n,i,a,s){switch(r){case cMe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case uMe:return!(t.byteLength!=e.byteLength||!a(new tS(t),new tS(e)));case eMe:case tMe:case iMe:return Qm(+t,+e);case rMe:return t.name==e.name&&t.message==e.message;case aMe:case oMe:return t==e+"";case nMe:var o=QRe;case sMe:var l=n&ZRe;if(o||(o=ZM),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;n|=JRe,s.set(t,e);var h=gie(o(t),o(e),n,i,a,s);return s.delete(t),h;case lMe:if(J7)return J7.call(t)==J7.call(e)}return!1}var fMe=1,dMe=Object.prototype,pMe=dMe.hasOwnProperty;function gMe(t,e,r,n,i,a){var s=r&fMe,o=cL(t),l=o.length,u=cL(e),h=u.length;if(l!=h&&!s)return!1;for(var f=l;f--;){var d=o[f];if(!(s?d in e:pMe.call(e,d)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var v=!0;a.set(t,e),a.set(e,t);for(var x=s;++f<l;){d=o[f];var y=t[d],w=e[d];if(n)var S=s?n(w,y,d,e,t,a):n(y,w,d,t,e,a);if(!(S===void 0?y===w||i(y,w,r,n,a):S)){v=!1;break}x||(x=d=="constructor")}if(v&&!x){var E=t.constructor,C=e.constructor;E!=C&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof C=="function"&&C instanceof C)&&(v=!1)}return a.delete(t),a.delete(e),v}var mMe=1,$H="[object Arguments]",zH="[object Array]",Tw="[object Object]",vMe=Object.prototype,HH=vMe.hasOwnProperty;function yMe(t,e,r,n,i,a){var s=Ur(t),o=Ur(e),l=s?zH:hl(t),u=o?zH:hl(e);l=l==$H?Tw:l,u=u==$H?Tw:u;var h=l==Tw,f=u==Tw,d=l==u;if(d&&bm(t)){if(!bm(e))return!1;s=!0,h=!1}if(d&&!h)return a||(a=new su),s||mE(t)?gie(t,e,r,n,i,a):hMe(t,e,l,r,n,i,a);if(!(r&mMe)){var p=h&&HH.call(t,"__wrapped__"),m=f&&HH.call(e,"__wrapped__");if(p||m){var v=p?t.value():t,x=m?e.value():e;return a||(a=new su),i(v,x,r,n,a)}}return d?(a||(a=new su),gMe(t,e,r,n,i,a)):!1}function JM(t,e,r,n,i){return t===e?!0:t==null||e==null||!Dl(t)&&!Dl(e)?t!==t&&e!==e:yMe(t,e,r,n,JM,i)}var xMe=1,bMe=2;function wMe(t,e,r,n){var i=r.length,a=i;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var o=s[0],l=t[o],u=s[1];if(s[2]){if(l===void 0&&!(o in t))return!1}else{var h=new su,f;if(!(f===void 0?JM(u,l,xMe|bMe,n,h):f))return!1}}return!0}function mie(t){return t===t&&!wo(t)}function SMe(t){for(var e=na(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,mie(i)]}return e}function vie(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function kMe(t){var e=SMe(t);return e.length==1&&e[0][2]?vie(e[0][0],e[0][1]):function(r){return r===t||wMe(r,t,e)}}function EMe(t,e){return t!=null&&e in Object(t)}function yie(t,e,r){e=uT(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=Db(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&HR(i)&&vE(s,i)&&(Ur(t)||xm(t)))}function xie(t,e){return t!=null&&yie(t,e,EMe)}var TMe=1,CMe=2;function AMe(t,e){return YM(t)&&mie(e)?vie(Db(t),e):function(r){var n=CDe(r,t);return n===void 0&&n===e?xie(r,t):JM(e,n,TMe|CMe)}}function _Me(t){return function(e){return e==null?void 0:e[t]}}function LMe(t){return function(e){return cT(e,t)}}function DMe(t){return YM(t)?_Me(Db(t)):LMe(t)}function Co(t){return typeof t=="function"?t:t==null?fh:typeof t=="object"?Ur(t)?AMe(t[0],t[1]):kMe(t):DMe(t)}function RMe(t,e,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;){var s=t[i];e(n,s,r(s),t)}return n}function eN(t,e){return t&&BR(t,e,na)}function MMe(t,e){return function(r,n){if(r==null)return r;if(!cc(r))return t(r,n);for(var i=r.length,a=-1,s=Object(r);++a<i&&n(s[a],a,s)!==!1;);return r}}var kp=MMe(eN);function NMe(t,e,r,n){return kp(t,function(i,a,s){e(n,i,r(i),s)}),n}function IMe(t,e){return function(r,n){var i=Ur(r)?RMe:NMe,a=e?e():{};return i(r,t,Co(n),a)}}var bie=Object.prototype,OMe=bie.hasOwnProperty,hT=Sb(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&vx(e[0],e[1],i)&&(n=1);++r<n;)for(var a=e[r],s=xp(a),o=-1,l=s.length;++o<l;){var u=s[o],h=t[u];(h===void 0||Qm(h,bie[u])&&!OMe.call(t,u))&&(t[u]=a[u])}return t}),PMe=200;function FMe(t,e,r,n){var i=-1,a=iie,s=!0,o=t.length,l=[],u=e.length;if(!o)return l;e.length>=PMe&&(a=QM,s=!1,e=new Em(e));e:for(;++i<o;){var h=t[i],f=h;if(h=h!==0?h:0,s&&f===f){for(var d=u;d--;)if(e[d]===f)continue e;l.push(h)}else a(e,f,n)||l.push(h)}return l}var fT=Sb(function(t,e){return rS(t)?FMe(t,Rb(e,1,rS,!0)):[]});function nc(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Na(t,e,r){var n=t==null?0:t.length;return n?(e=e===void 0?1:lT(e),sie(t,e<0?0:e,n)):[]}function Cx(t,e,r){var n=t==null?0:t.length;return n?(e=e===void 0?1:lT(e),e=n-e,sie(t,0,e<0?0:e)):[]}function tN(t){return typeof t=="function"?t:fh}function tt(t,e){var r=Ur(t)?rie:kp;return r(t,tN(e))}function BMe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function $Me(t,e){var r=!0;return kp(t,function(n,i,a){return r=!!e(n,i,a),r}),r}function uu(t,e,r){var n=Ur(t)?BMe:$Me;return n(t,Co(e))}function wie(t,e){var r=[];return kp(t,function(n,i,a){e(n,i,a)&&r.push(n)}),r}function ki(t,e){var r=Ur(t)?jM:wie;return r(t,Co(e))}function zMe(t){return function(e,r,n){var i=Object(e);if(!cc(e)){var a=Co(r);e=na(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var HMe=Math.max;function VMe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:lT(r);return i<0&&(i=HMe(n+i,0)),nie(t,Co(e),i)}var vh=zMe(VMe);function vu(t){return t&&t.length?t[0]:void 0}function Sie(t,e){var r=-1,n=cc(t)?Array(t.length):[];return kp(t,function(i,a,s){n[++r]=e(i,a,s)}),n}function It(t,e){var r=Ur(t)?C0:Sie;return r(t,Co(e))}function zo(t,e){return Rb(It(t,e))}function UMe(t,e){return t==null?t:BR(t,tN(e),xp)}function GMe(t,e){return t&&eN(t,tN(e))}var WMe=Object.prototype,qMe=WMe.hasOwnProperty,YMe=IMe(function(t,e,r){qMe.call(t,r)?t[r].push(e):yb(t,r,[e])});function XMe(t,e){return t>e}var jMe=Object.prototype,KMe=jMe.hasOwnProperty;function QMe(t,e){return t!=null&&KMe.call(t,e)}function vr(t,e){return t!=null&&yie(t,e,QMe)}var ZMe="[object String]";function So(t){return typeof t=="string"||!Ur(t)&&Dl(t)&&Ah(t)==ZMe}function JMe(t,e){return C0(e,function(r){return t[r]})}function Ln(t){return t==null?[]:JMe(t,na(t))}var eNe=Math.max;function Qs(t,e,r,n){t=cc(t)?t:Ln(t),r=r&&!n?lT(r):0;var i=t.length;return r<0&&(r=eNe(i+r,0)),So(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&qM(t,e,r)>-1}function VH(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=0;return qM(t,e,i)}var tNe="[object RegExp]";function rNe(t){return Dl(t)&&Ah(t)==tNe}var UH=Hf&&Hf.isRegExp,yh=UH?bb(UH):rNe;function mn(t){return t===void 0}function kie(t,e){return t<e}function dT(t,e){var r={};return e=Co(e),eN(t,function(n,i,a){yb(r,i,e(n,i,a))}),r}function rN(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!Y0(s):r(s,o)))var o=s,l=a}return l}function X0(t){return t&&t.length?rN(t,fh,XMe):void 0}function Tm(t){return t&&t.length?rN(t,fh,kie):void 0}function nN(t,e){return t&&t.length?rN(t,Co(e),kie):void 0}var nNe="Expected a function";function iNe(t){if(typeof t!="function")throw new TypeError(nNe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function aNe(t,e,r,n){if(!wo(t))return t;e=uT(e,t);for(var i=-1,a=e.length,s=a-1,o=t;o!=null&&++i<a;){var l=Db(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=s){var h=o[l];u=void 0,u===void 0&&(u=wo(h)?h:vE(e[i+1])?[]:{})}wb(o,l,u),o=o[l]}return t}function Eie(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var s=e[n],o=cT(t,s);r(o,s)&&aNe(a,uT(s,t),o)}return a}function wu(t,e){if(t==null)return{};var r=C0(cie(t),function(n){return[n]});return e=Co(e),Eie(t,r,function(n,i){return e(n,i[0])})}function sNe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function oNe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=Y0(t),s=e!==void 0,o=e===null,l=e===e,u=Y0(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}function lNe(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=oNe(i[n],a[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}function uNe(t,e,r){e.length?e=C0(e,function(a){return Ur(a)?function(s){return cT(s,a.length===1?a[0]:a)}:a}):e=[fh];var n=-1;e=C0(e,bb(Co));var i=Sie(t,function(a,s,o){var l=C0(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return sNe(i,function(a,s){return lNe(a,s,r)})}function cNe(t,e){return Eie(t,e,function(r,n){return xie(t,n)})}var ES=_De(function(t,e){return t==null?{}:cNe(t,e)}),hNe=Math.ceil,fNe=Math.max;function dNe(t,e,r,n){for(var i=-1,a=fNe(hNe((e-t)/(r||1)),0),s=Array(a);a--;)s[++i]=t,t+=r;return s}function pNe(t){return function(e,r,n){return n&&typeof n!="number"&&vx(e,r,n)&&(r=n=void 0),e=A3(e),r===void 0?(r=e,e=0):r=A3(r),n=n===void 0?e<r?1:-1:A3(n),dNe(e,r,n)}}var Cm=pNe();function gNe(t,e,r,n,i){return i(t,function(a,s,o){r=n?(n=!1,a):e(r,a,s,o)}),r}function Ui(t,e,r){var n=Ur(t)?LDe:gNe,i=arguments.length<3;return n(t,Co(e),r,i,kp)}function pT(t,e){var r=Ur(t)?jM:wie;return r(t,iNe(Co(e)))}function mNe(t,e){var r;return kp(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}function Tie(t,e,r){var n=Ur(t)?pie:mNe;return n(t,Co(e))}var Nb=Sb(function(t,e){if(t==null)return[];var r=e.length;return r>1&&vx(t,e[0],e[1])?e=[]:r>2&&vx(e[0],e[1],e[2])&&(e=[e[0]]),uNe(t,Rb(e),[])}),vNe=1/0,yNe=r1&&1/ZM(new r1([,-0]))[1]==vNe?function(t){return new r1(t)}:Ki,xNe=200;function iN(t,e,r){var n=-1,i=iie,a=t.length,s=!0,o=[],l=o;if(a>=xNe){var u=e?null:yNe(t);if(u)return ZM(u);s=!1,i=QM,l=new Em}else l=e?[]:o;e:for(;++n<a;){var h=t[n],f=e?e(h):h;if(h=h!==0?h:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),o.push(h)}else i(l,f,r)||(l!==o&&l.push(f),o.push(h))}return o}var bNe=Sb(function(t){return iN(Rb(t,1,rS,!0))});function aN(t){return t&&t.length?iN(t):[]}function wNe(t,e){return t&&t.length?iN(t,Co(e)):[]}var SNe=0;function sN(t){var e=++SNe;return aie(t)+e}function kNe(t,e,r){for(var n=-1,i=t.length,a=e.length,s={};++n<i;){var o=n<a?e[n]:void 0;r(s,t[n],o)}return s}function ENe(t,e){return kNe(t||[],e||[],wb)}var TNe="\0",zd="\0",GH="";class ws{constructor(e={}){this._isDirected=Object.prototype.hasOwnProperty.call(e,"directed")?e.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(e,"multigraph")?e.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Fg(void 0),this._defaultEdgeLabelFn=Fg(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[zd]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return Ll(e)||(e=Fg(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return na(this._nodes)}sources(){var e=this;return ki(this.nodes(),function(r){return un(e._in[r])})}sinks(){var e=this;return ki(this.nodes(),function(r){return un(e._out[r])})}setNodes(e,r){var n=arguments,i=this;return tt(e,function(a){n.length>1?i.setNode(a,r):i.setNode(a)}),this}setNode(e,r){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=zd,this._children[e]={},this._children[zd][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var r=n=>this.removeEdge(this._edgeObjs[n]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],tt(this.children(e),n=>{this.setParent(n)}),delete this._children[e]),tt(na(this._in[e]),r),delete this._in[e],delete this._preds[e],tt(na(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(mn(r))r=zd;else{r+="";for(var n=r;!mn(n);n=this.parent(n))if(n===e)throw new Error("Setting "+r+" as parent of "+e+" would create a cycle");this.setNode(r)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=r,this._children[r][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var r=this._parent[e];if(r!==zd)return r}}children(e){if(mn(e)&&(e=zd),this._isCompound){var r=this._children[e];if(r)return na(r)}else{if(e===zd)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return na(r)}successors(e){var r=this._sucs[e];if(r)return na(r)}neighbors(e){var r=this.predecessors(e);if(r)return bNe(r,this.successors(e))}isLeaf(e){var r;return this.isDirected()?r=this.successors(e):r=this.neighbors(e),r.length===0}filterNodes(e){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var n=this;tt(this._nodes,function(s,o){e(o)&&r.setNode(o,s)}),tt(this._edgeObjs,function(s){r.hasNode(s.v)&&r.hasNode(s.w)&&r.setEdge(s,n.edge(s))});var i={};function a(s){var o=n.parent(s);return o===void 0||r.hasNode(o)?(i[s]=o,o):o in i?i[o]:a(o)}return this._isCompound&&tt(r.nodes(),function(s){r.setParent(s,a(s))}),r}setDefaultEdgeLabel(e){return Ll(e)||(e=Fg(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return Ln(this._edgeObjs)}setPath(e,r){var n=this,i=arguments;return Ui(e,function(a,s){return i.length>1?n.setEdge(a,s,r):n.setEdge(a,s),s}),this}setEdge(){var e,r,n,i,a=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(e=s.v,r=s.w,n=s.name,arguments.length===2&&(i=arguments[1],a=!0)):(e=s,r=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],a=!0)),e=""+e,r=""+r,mn(n)||(n=""+n);var o=Qy(this._isDirected,e,r,n);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,o))return a&&(this._edgeLabels[o]=i),this;if(!mn(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(r),this._edgeLabels[o]=a?i:this._defaultEdgeLabelFn(e,r,n);var l=CNe(this._isDirected,e,r,n);return e=l.v,r=l.w,Object.freeze(l),this._edgeObjs[o]=l,WH(this._preds[r],e),WH(this._sucs[e],r),this._in[r][o]=l,this._out[e][o]=l,this._edgeCount++,this}edge(e,r,n){var i=arguments.length===1?e8(this._isDirected,arguments[0]):Qy(this._isDirected,e,r,n);return this._edgeLabels[i]}hasEdge(e,r,n){var i=arguments.length===1?e8(this._isDirected,arguments[0]):Qy(this._isDirected,e,r,n);return Object.prototype.hasOwnProperty.call(this._edgeLabels,i)}removeEdge(e,r,n){var i=arguments.length===1?e8(this._isDirected,arguments[0]):Qy(this._isDirected,e,r,n),a=this._edgeObjs[i];return a&&(e=a.v,r=a.w,delete this._edgeLabels[i],delete this._edgeObjs[i],qH(this._preds[r],e),qH(this._sucs[e],r),delete this._in[r][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,r){var n=this._in[e];if(n){var i=Ln(n);return r?ki(i,function(a){return a.v===r}):i}}outEdges(e,r){var n=this._out[e];if(n){var i=Ln(n);return r?ki(i,function(a){return a.w===r}):i}}nodeEdges(e,r){var n=this.inEdges(e,r);if(n)return n.concat(this.outEdges(e,r))}}ws.prototype._nodeCount=0;ws.prototype._edgeCount=0;function WH(t,e){t[e]?t[e]++:t[e]=1}function qH(t,e){--t[e]||delete t[e]}function Qy(t,e,r,n){var i=""+e,a=""+r;if(!t&&i>a){var s=i;i=a,a=s}return i+GH+a+GH+(mn(n)?TNe:n)}function CNe(t,e,r,n){var i=""+e,a=""+r;if(!t&&i>a){var s=i;i=a,a=s}var o={v:i,w:a};return n&&(o.name=n),o}function e8(t,e){return Qy(t,e.v,e.w,e.name)}class ANe{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,r=e._prev;if(r!==e)return YH(r),r}enqueue(e){var r=this._sentinel;e._prev&&e._next&&YH(e),e._next=r._next,r._next._prev=e,r._next=e,e._prev=r}toString(){for(var e=[],r=this._sentinel,n=r._prev;n!==r;)e.push(JSON.stringify(n,_Ne)),n=n._prev;return"["+e.join(", ")+"]"}}function YH(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function _Ne(t,e){if(t!=="_next"&&t!=="_prev")return e}var LNe=Fg(1);function DNe(t,e){if(t.nodeCount()<=1)return[];var r=MNe(t,e||LNe),n=RNe(r.graph,r.buckets,r.zeroIdx);return wa(It(n,function(i){return t.outEdges(i.v,i.w)}))}function RNe(t,e,r){for(var n=[],i=e[e.length-1],a=e[0],s;t.nodeCount();){for(;s=a.dequeue();)t8(t,e,r,s);for(;s=i.dequeue();)t8(t,e,r,s);if(t.nodeCount()){for(var o=e.length-2;o>0;--o)if(s=e[o].dequeue(),s){n=n.concat(t8(t,e,r,s,!0));break}}}return n}function t8(t,e,r,n,i){var a=i?[]:void 0;return tt(t.inEdges(n.v),function(s){var o=t.edge(s),l=t.node(s.v);i&&a.push({v:s.v,w:s.w}),l.out-=o,hL(e,r,l)}),tt(t.outEdges(n.v),function(s){var o=t.edge(s),l=s.w,u=t.node(l);u.in-=o,hL(e,r,u)}),t.removeNode(n.v),a}function MNe(t,e){var r=new ws,n=0,i=0;tt(t.nodes(),function(o){r.setNode(o,{v:o,in:0,out:0})}),tt(t.edges(),function(o){var l=r.edge(o.v,o.w)||0,u=e(o),h=l+u;r.setEdge(o.v,o.w,h),i=Math.max(i,r.node(o.v).out+=u),n=Math.max(n,r.node(o.w).in+=u)});var a=Cm(i+n+3).map(function(){return new ANe}),s=n+1;return tt(r.nodes(),function(o){hL(a,s,r.node(o))}),{graph:r,buckets:a,zeroIdx:s}}function hL(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}function NNe(t){var e=t.graph().acyclicer==="greedy"?DNe(t,r(t)):INe(t);tt(e,function(n){var i=t.edge(n);t.removeEdge(n),i.forwardName=n.name,i.reversed=!0,t.setEdge(n.w,n.v,i,sN("rev"))});function r(n){return function(i){return n.edge(i).weight}}}function INe(t){var e=[],r={},n={};function i(a){Object.prototype.hasOwnProperty.call(n,a)||(n[a]=!0,r[a]=!0,tt(t.outEdges(a),function(s){Object.prototype.hasOwnProperty.call(r,s.w)?e.push(s):i(s.w)}),delete r[a])}return tt(t.nodes(),i),e}function ONe(t){tt(t.edges(),function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}})}function sv(t,e,r,n){var i;do i=sN(n);while(t.hasNode(i));return r.dummy=e,t.setNode(i,r),i}function PNe(t){var e=new ws().setGraph(t.graph());return tt(t.nodes(),function(r){e.setNode(r,t.node(r))}),tt(t.edges(),function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},i=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),e}function Cie(t){var e=new ws({multigraph:t.isMultigraph()}).setGraph(t.graph());return tt(t.nodes(),function(r){t.children(r).length||e.setNode(r,t.node(r))}),tt(t.edges(),function(r){e.setEdge(r,t.edge(r))}),e}function XH(t,e){var r=t.x,n=t.y,i=e.x-r,a=e.y-n,s=t.width/2,o=t.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=o*i/a,u=o):(i<0&&(s=-s),l=s,u=s*a/i),{x:r+l,y:n+u}}function gT(t){var e=It(Cm(Aie(t)+1),function(){return[]});return tt(t.nodes(),function(r){var n=t.node(r),i=n.rank;mn(i)||(e[i][n.order]=r)}),e}function FNe(t){var e=Tm(It(t.nodes(),function(r){return t.node(r).rank}));tt(t.nodes(),function(r){var n=t.node(r);vr(n,"rank")&&(n.rank-=e)})}function BNe(t){var e=Tm(It(t.nodes(),function(a){return t.node(a).rank})),r=[];tt(t.nodes(),function(a){var s=t.node(a).rank-e;r[s]||(r[s]=[]),r[s].push(a)});var n=0,i=t.graph().nodeRankFactor;tt(r,function(a,s){mn(a)&&s%i!==0?--n:n&&tt(a,function(o){t.node(o).rank+=n})})}function jH(t,e,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),sv(t,"border",i,e)}function Aie(t){return X0(It(t.nodes(),function(e){var r=t.node(e).rank;if(!mn(r))return r}))}function $Ne(t,e){var r={lhs:[],rhs:[]};return tt(t,function(n){e(n)?r.lhs.push(n):r.rhs.push(n)}),r}function zNe(t,e){return e()}function HNe(t){function e(r){var n=t.children(r),i=t.node(r);if(n.length&&tt(n,e),Object.prototype.hasOwnProperty.call(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,s=i.maxRank+1;a<s;++a)KH(t,"borderLeft","_bl",r,i,a),KH(t,"borderRight","_br",r,i,a)}}tt(t.children(),e)}function KH(t,e,r,n,i,a){var s={width:0,height:0,rank:a,borderType:e},o=i[e][a-1],l=sv(t,"border",s,r);i[e][a]=l,t.setParent(l,n),o&&t.setEdge(o,l,{weight:1})}function VNe(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&_ie(t)}function UNe(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&GNe(t),(e==="lr"||e==="rl")&&(WNe(t),_ie(t))}function _ie(t){tt(t.nodes(),function(e){QH(t.node(e))}),tt(t.edges(),function(e){QH(t.edge(e))})}function QH(t){var e=t.width;t.width=t.height,t.height=e}function GNe(t){tt(t.nodes(),function(e){r8(t.node(e))}),tt(t.edges(),function(e){var r=t.edge(e);tt(r.points,r8),Object.prototype.hasOwnProperty.call(r,"y")&&r8(r)})}function r8(t){t.y=-t.y}function WNe(t){tt(t.nodes(),function(e){n8(t.node(e))}),tt(t.edges(),function(e){var r=t.edge(e);tt(r.points,n8),Object.prototype.hasOwnProperty.call(r,"x")&&n8(r)})}function n8(t){var e=t.x;t.x=t.y,t.y=e}function qNe(t){t.graph().dummyChains=[],tt(t.edges(),function(e){YNe(t,e)})}function YNe(t,e){var r=e.v,n=t.node(r).rank,i=e.w,a=t.node(i).rank,s=e.name,o=t.edge(e),l=o.labelRank;if(a!==n+1){t.removeEdge(e);var u=void 0,h,f;for(f=0,++n;n<a;++f,++n)o.points=[],u={width:0,height:0,edgeLabel:o,edgeObj:e,rank:n},h=sv(t,"edge",u,"_d"),n===l&&(u.width=o.width,u.height=o.height,u.dummy="edge-label",u.labelpos=o.labelpos),t.setEdge(r,h,{weight:o.weight},s),f===0&&t.graph().dummyChains.push(h),r=h;t.setEdge(r,i,{weight:o.weight},s)}}function XNe(t){tt(t.graph().dummyChains,function(e){var r=t.node(e),n=r.edgeLabel,i;for(t.setEdge(r.edgeObj,n);r.dummy;)i=t.successors(e)[0],t.removeNode(e),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),e=i,r=t.node(e)})}function oN(t){var e={};function r(n){var i=t.node(n);if(Object.prototype.hasOwnProperty.call(e,n))return i.rank;e[n]=!0;var a=Tm(It(t.outEdges(n),function(s){return r(s.w)-t.edge(s).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}tt(t.sources(),r)}function Ax(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function Lie(t){var e=new ws({directed:!1}),r=t.nodes()[0],n=t.nodeCount();e.setNode(r,{});for(var i,a;jNe(e,t)<n;)i=KNe(e,t),a=e.hasNode(i.v)?Ax(t,i):-Ax(t,i),QNe(e,t,a);return e}function jNe(t,e){function r(n){tt(e.nodeEdges(n),function(i){var a=i.v,s=n===a?i.w:a;!t.hasNode(s)&&!Ax(e,i)&&(t.setNode(s,{}),t.setEdge(n,s,{}),r(s))})}return tt(t.nodes(),r),t.nodeCount()}function KNe(t,e){return nN(e.edges(),function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return Ax(e,r)})}function QNe(t,e,r){tt(t.nodes(),function(n){e.node(n).rank+=r})}function ZNe(){}ZNe.prototype=new Error;function Die(t,e,r){Ur(e)||(e=[e]);var n=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return tt(e,function(s){if(!t.hasNode(s))throw new Error("Graph does not have node: "+s);Rie(t,s,r==="post",a,n,i)}),i}function Rie(t,e,r,n,i,a){Object.prototype.hasOwnProperty.call(n,e)||(n[e]=!0,r||a.push(e),tt(i(e),function(s){Rie(t,s,r,n,i,a)}),r&&a.push(e))}function JNe(t,e){return Die(t,e,"post")}function eIe(t,e){return Die(t,e,"pre")}Ep.initLowLimValues=uN;Ep.initCutValues=lN;Ep.calcCutValue=Mie;Ep.leaveEdge=Iie;Ep.enterEdge=Oie;Ep.exchangeEdges=Pie;function Ep(t){t=PNe(t),oN(t);var e=Lie(t);uN(e),lN(e,t);for(var r,n;r=Iie(e);)n=Oie(e,t,r),Pie(e,t,r,n)}function lN(t,e){var r=JNe(t,t.nodes());r=r.slice(0,r.length-1),tt(r,function(n){tIe(t,e,n)})}function tIe(t,e,r){var n=t.node(r),i=n.parent;t.edge(r,i).cutvalue=Mie(t,e,r)}function Mie(t,e,r){var n=t.node(r),i=n.parent,a=!0,s=e.edge(r,i),o=0;return s||(a=!1,s=e.edge(i,r)),o=s.weight,tt(e.nodeEdges(r),function(l){var u=l.v===r,h=u?l.w:l.v;if(h!==i){var f=u===a,d=e.edge(l).weight;if(o+=f?d:-d,nIe(t,r,h)){var p=t.edge(r,h).cutvalue;o+=f?-p:p}}}),o}function uN(t,e){arguments.length<2&&(e=t.nodes()[0]),Nie(t,{},1,e)}function Nie(t,e,r,n,i){var a=r,s=t.node(n);return e[n]=!0,tt(t.neighbors(n),function(o){Object.prototype.hasOwnProperty.call(e,o)||(r=Nie(t,e,r,o,n))}),s.low=a,s.lim=r++,i?s.parent=i:delete s.parent,r}function Iie(t){return vh(t.edges(),function(e){return t.edge(e).cutvalue<0})}function Oie(t,e,r){var n=r.v,i=r.w;e.hasEdge(n,i)||(n=r.w,i=r.v);var a=t.node(n),s=t.node(i),o=a,l=!1;a.lim>s.lim&&(o=s,l=!0);var u=ki(e.edges(),function(h){return l===ZH(t,t.node(h.v),o)&&l!==ZH(t,t.node(h.w),o)});return nN(u,function(h){return Ax(e,h)})}function Pie(t,e,r,n){var i=r.v,a=r.w;t.removeEdge(i,a),t.setEdge(n.v,n.w,{}),uN(t),lN(t,e),rIe(t,e)}function rIe(t,e){var r=vh(t.nodes(),function(i){return!e.node(i).parent}),n=eIe(t,r);n=n.slice(1),tt(n,function(i){var a=t.node(i).parent,s=e.edge(i,a),o=!1;s||(s=e.edge(a,i),o=!0),e.node(i).rank=e.node(a).rank+(o?s.minlen:-s.minlen)})}function nIe(t,e,r){return t.hasEdge(e,r)}function ZH(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}function iIe(t){switch(t.graph().ranker){case"network-simplex":JH(t);break;case"tight-tree":sIe(t);break;case"longest-path":aIe(t);break;default:JH(t)}}var aIe=oN;function sIe(t){oN(t),Lie(t)}function JH(t){Ep(t)}function oIe(t){var e=sv(t,"root",{},"_root"),r=lIe(t),n=X0(Ln(r))-1,i=2*n+1;t.graph().nestingRoot=e,tt(t.edges(),function(s){t.edge(s).minlen*=i});var a=uIe(t)+1;tt(t.children(),function(s){Fie(t,e,i,a,n,r,s)}),t.graph().nodeRankFactor=i}function Fie(t,e,r,n,i,a,s){var o=t.children(s);if(!o.length){s!==e&&t.setEdge(e,s,{weight:0,minlen:r});return}var l=jH(t,"_bt"),u=jH(t,"_bb"),h=t.node(s);t.setParent(l,s),h.borderTop=l,t.setParent(u,s),h.borderBottom=u,tt(o,function(f){Fie(t,e,r,n,i,a,f);var d=t.node(f),p=d.borderTop?d.borderTop:f,m=d.borderBottom?d.borderBottom:f,v=d.borderTop?n:2*n,x=p!==m?1:i-a[s]+1;t.setEdge(l,p,{weight:v,minlen:x,nestingEdge:!0}),t.setEdge(m,u,{weight:v,minlen:x,nestingEdge:!0})}),t.parent(s)||t.setEdge(e,l,{weight:0,minlen:i+a[s]})}function lIe(t){var e={};function r(n,i){var a=t.children(n);a&&a.length&&tt(a,function(s){r(s,i+1)}),e[n]=i}return tt(t.children(),function(n){r(n,1)}),e}function uIe(t){return Ui(t.edges(),function(e,r){return e+t.edge(r).weight},0)}function cIe(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,tt(t.edges(),function(r){var n=t.edge(r);n.nestingEdge&&t.removeEdge(r)})}function hIe(t,e,r){var n={},i;tt(r,function(a){for(var s=t.parent(a),o,l;s;){if(o=t.parent(s),o?(l=n[o],n[o]=s):(l=i,i=s),l&&l!==s){e.setEdge(l,s);return}s=o}})}function fIe(t,e,r){var n=dIe(t),i=new ws({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(a){return t.node(a)});return tt(t.nodes(),function(a){var s=t.node(a),o=t.parent(a);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(i.setNode(a),i.setParent(a,o||n),tt(t[r](a),function(l){var u=l.v===a?l.w:l.v,h=i.edge(u,a),f=mn(h)?0:h.weight;i.setEdge(u,a,{weight:t.edge(l).weight+f})}),Object.prototype.hasOwnProperty.call(s,"minRank")&&i.setNode(a,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),i}function dIe(t){for(var e;t.hasNode(e=sN("_root")););return e}function pIe(t,e){for(var r=0,n=1;n<e.length;++n)r+=gIe(t,e[n-1],e[n]);return r}function gIe(t,e,r){for(var n=ENe(r,It(r,function(u,h){return h})),i=wa(It(e,function(u){return Nb(It(t.outEdges(u),function(h){return{pos:n[h.w],weight:t.edge(h).weight}}),"pos")})),a=1;a<r.length;)a<<=1;var s=2*a-1;a-=1;var o=It(new Array(s),function(){return 0}),l=0;return tt(i.forEach(function(u){var h=u.pos+a;o[h]+=u.weight;for(var f=0;h>0;)h%2&&(f+=o[h+1]),h=h-1>>1,o[h]+=u.weight;l+=u.weight*f})),l}function mIe(t){var e={},r=ki(t.nodes(),function(o){return!t.children(o).length}),n=X0(It(r,function(o){return t.node(o).rank})),i=It(Cm(n+1),function(){return[]});function a(o){if(!vr(e,o)){e[o]=!0;var l=t.node(o);i[l.rank].push(o),tt(t.successors(o),a)}}var s=Nb(r,function(o){return t.node(o).rank});return tt(s,a),i}function vIe(t,e){return It(e,function(r){var n=t.inEdges(r);if(n.length){var i=Ui(n,function(a,s){var o=t.edge(s),l=t.node(s.v);return{sum:a.sum+o.weight*l.order,weight:a.weight+o.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}function yIe(t,e){var r={};tt(t,function(i,a){var s=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};mn(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),tt(e.edges(),function(i){var a=r[i.v],s=r[i.w];!mn(a)&&!mn(s)&&(s.indegree++,a.out.push(r[i.w]))});var n=ki(r,function(i){return!i.indegree});return xIe(n)}function xIe(t){var e=[];function r(a){return function(s){s.merged||(mn(s.barycenter)||mn(a.barycenter)||s.barycenter>=a.barycenter)&&bIe(a,s)}}function n(a){return function(s){s.in.push(a),--s.indegree===0&&t.push(s)}}for(;t.length;){var i=t.pop();e.push(i),tt(i.in.reverse(),r(i)),tt(i.out,n(i))}return It(ki(e,function(a){return!a.merged}),function(a){return ES(a,["vs","i","barycenter","weight"])})}function bIe(t,e){var r=0,n=0;t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=r/n,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}function wIe(t,e){var r=$Ne(t,function(h){return Object.prototype.hasOwnProperty.call(h,"barycenter")}),n=r.lhs,i=Nb(r.rhs,function(h){return-h.i}),a=[],s=0,o=0,l=0;n.sort(SIe(!!e)),l=eV(a,i,l),tt(n,function(h){l+=h.vs.length,a.push(h.vs),s+=h.barycenter*h.weight,o+=h.weight,l=eV(a,i,l)});var u={vs:wa(a)};return o&&(u.barycenter=s/o,u.weight=o),u}function eV(t,e,r){for(var n;e.length&&(n=nc(e)).i<=r;)e.pop(),t.push(n.vs),r++;return r}function SIe(t){return function(e,r){return e.barycenter<r.barycenter?-1:e.barycenter>r.barycenter?1:t?r.i-e.i:e.i-r.i}}function Bie(t,e,r,n){var i=t.children(e),a=t.node(e),s=a?a.borderLeft:void 0,o=a?a.borderRight:void 0,l={};s&&(i=ki(i,function(m){return m!==s&&m!==o}));var u=vIe(t,i);tt(u,function(m){if(t.children(m.v).length){var v=Bie(t,m.v,r,n);l[m.v]=v,Object.prototype.hasOwnProperty.call(v,"barycenter")&&EIe(m,v)}});var h=yIe(u,r);kIe(h,l);var f=wIe(h,n);if(s&&(f.vs=wa([s,f.vs,o]),t.predecessors(s).length)){var d=t.node(t.predecessors(s)[0]),p=t.node(t.predecessors(o)[0]);Object.prototype.hasOwnProperty.call(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+p.order)/(f.weight+2),f.weight+=2}return f}function kIe(t,e){tt(t,function(r){r.vs=wa(r.vs.map(function(n){return e[n]?e[n].vs:n}))})}function EIe(t,e){mn(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}function TIe(t){var e=Aie(t),r=tV(t,Cm(1,e+1),"inEdges"),n=tV(t,Cm(e-1,-1,-1),"outEdges"),i=mIe(t);rV(t,i);for(var a=Number.POSITIVE_INFINITY,s,o=0,l=0;l<4;++o,++l){CIe(o%2?r:n,o%4>=2),i=gT(t);var u=pIe(t,i);u<a&&(l=0,s=WRe(i),a=u)}rV(t,s)}function tV(t,e,r){return It(e,function(n){return fIe(t,n,r)})}function CIe(t,e){var r=new ws;tt(t,function(n){var i=n.graph().root,a=Bie(n,i,r,e);tt(a.vs,function(s,o){n.node(s).order=o}),hIe(n,r,a.vs)})}function rV(t,e){tt(e,function(r){tt(r,function(n,i){t.node(n).order=i})})}function AIe(t){var e=LIe(t);tt(t.graph().dummyChains,function(r){for(var n=t.node(r),i=n.edgeObj,a=_Ie(t,e,i.v,i.w),s=a.path,o=a.lca,l=0,u=s[l],h=!0;r!==i.w;){if(n=t.node(r),h){for(;(u=s[l])!==o&&t.node(u).maxRank<n.rank;)l++;u===o&&(h=!1)}if(!h){for(;l<s.length-1&&t.node(u=s[l+1]).minRank<=n.rank;)l++;u=s[l]}t.setParent(r,u),r=t.successors(r)[0]}})}function _Ie(t,e,r,n){var i=[],a=[],s=Math.min(e[r].low,e[n].low),o=Math.max(e[r].lim,e[n].lim),l,u;l=r;do l=t.parent(l),i.push(l);while(l&&(e[l].low>s||o>e[l].lim));for(u=l,l=n;(l=t.parent(l))!==u;)a.push(l);return{path:i.concat(a.reverse()),lca:u}}function LIe(t){var e={},r=0;function n(i){var a=r;tt(t.children(i),n),e[i]={low:a,lim:r++}}return tt(t.children(),n),e}function DIe(t,e){var r={};function n(i,a){var s=0,o=0,l=i.length,u=nc(a);return tt(a,function(h,f){var d=MIe(t,h),p=d?t.node(d).order:l;(d||h===u)&&(tt(a.slice(o,f+1),function(m){tt(t.predecessors(m),function(v){var x=t.node(v),y=x.order;(y<s||p<y)&&!(x.dummy&&t.node(m).dummy)&&$ie(r,v,m)})}),o=f+1,s=p)}),a}return Ui(e,n),r}function RIe(t,e){var r={};function n(a,s,o,l,u){var h;tt(Cm(s,o),function(f){h=a[f],t.node(h).dummy&&tt(t.predecessors(h),function(d){var p=t.node(d);p.dummy&&(p.order<l||p.order>u)&&$ie(r,d,h)})})}function i(a,s){var o=-1,l,u=0;return tt(s,function(h,f){if(t.node(h).dummy==="border"){var d=t.predecessors(h);d.length&&(l=t.node(d[0]).order,n(s,u,f,o,l),u=f,o=l)}n(s,u,s.length,l,a.length)}),s}return Ui(e,i),r}function MIe(t,e){if(t.node(e).dummy)return vh(t.predecessors(e),function(r){return t.node(r).dummy})}function $ie(t,e,r){if(e>r){var n=e;e=r,r=n}var i=t[e];i||(t[e]=i={}),i[r]=!0}function NIe(t,e,r){if(e>r){var n=e;e=r,r=n}return!!t[e]&&Object.prototype.hasOwnProperty.call(t[e],r)}function IIe(t,e,r,n){var i={},a={},s={};return tt(e,function(o){tt(o,function(l,u){i[l]=l,a[l]=l,s[l]=u})}),tt(e,function(o){var l=-1;tt(o,function(u){var h=n(u);if(h.length){h=Nb(h,function(v){return s[v]});for(var f=(h.length-1)/2,d=Math.floor(f),p=Math.ceil(f);d<=p;++d){var m=h[d];a[u]===u&&l<s[m]&&!NIe(r,u,m)&&(a[m]=u,a[u]=i[u]=i[m],l=s[m])}}})}),{root:i,align:a}}function OIe(t,e,r,n,i){var a={},s=PIe(t,e,r,i),o=i?"borderLeft":"borderRight";function l(f,d){for(var p=s.nodes(),m=p.pop(),v={};m;)v[m]?f(m):(v[m]=!0,p.push(m),p=p.concat(d(m))),m=p.pop()}function u(f){a[f]=s.inEdges(f).reduce(function(d,p){return Math.max(d,a[p.v]+s.edge(p))},0)}function h(f){var d=s.outEdges(f).reduce(function(m,v){return Math.min(m,a[v.w]-s.edge(v))},Number.POSITIVE_INFINITY),p=t.node(f);d!==Number.POSITIVE_INFINITY&&p.borderType!==o&&(a[f]=Math.max(a[f],d))}return l(u,s.predecessors.bind(s)),l(h,s.successors.bind(s)),tt(n,function(f){a[f]=a[r[f]]}),a}function PIe(t,e,r,n){var i=new ws,a=t.graph(),s=HIe(a.nodesep,a.edgesep,n);return tt(e,function(o){var l;tt(o,function(u){var h=r[u];if(i.setNode(h),l){var f=r[l],d=i.edge(f,h);i.setEdge(f,h,Math.max(s(t,u,l),d||0))}l=u})}),i}function FIe(t,e){return nN(Ln(e),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return UMe(r,function(a,s){var o=VIe(t,s)/2;n=Math.max(a+o,n),i=Math.min(a-o,i)}),n-i})}function BIe(t,e){var r=Ln(e),n=Tm(r),i=X0(r);tt(["u","d"],function(a){tt(["l","r"],function(s){var o=a+s,l=t[o],u;if(l!==e){var h=Ln(l);u=s==="l"?n-Tm(h):i-X0(h),u&&(t[o]=dT(l,function(f){return f+u}))}})})}function $Ie(t,e){return dT(t.ul,function(r,n){if(e)return t[e.toLowerCase()][n];var i=Nb(It(t,n));return(i[1]+i[2])/2})}function zIe(t){var e=gT(t),r=nS(DIe(t,e),RIe(t,e)),n={},i;tt(["u","d"],function(s){i=s==="u"?e:Ln(e).reverse(),tt(["l","r"],function(o){o==="r"&&(i=It(i,function(f){return Ln(f).reverse()}));var l=(s==="u"?t.predecessors:t.successors).bind(t),u=IIe(t,i,r,l),h=OIe(t,i,u.root,u.align,o==="r");o==="r"&&(h=dT(h,function(f){return-f})),n[s+o]=h})});var a=FIe(t,n);return BIe(n,a),$Ie(n,t.graph().align)}function HIe(t,e,r){return function(n,i,a){var s=n.node(i),o=n.node(a),l=0,u;if(l+=s.width/2,Object.prototype.hasOwnProperty.call(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(l+=r?u:-u),u=0,l+=(s.dummy?e:t)/2,l+=(o.dummy?e:t)/2,l+=o.width/2,Object.prototype.hasOwnProperty.call(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=o.width/2;break;case"r":u=-o.width/2;break}return u&&(l+=r?u:-u),u=0,l}}function VIe(t,e){return t.node(e).width}function UIe(t){t=Cie(t),GIe(t),GMe(zIe(t),function(e,r){t.node(r).x=e})}function GIe(t){var e=gT(t),r=t.graph().ranksep,n=0;tt(e,function(i){var a=X0(It(i,function(s){return t.node(s).height}));tt(i,function(s){t.node(s).y=n+a/2}),n+=a+r})}function mT(t,e){var r=zNe;r("layout",()=>{var n=r("  buildLayoutGraph",()=>tOe(t));r("  runLayout",()=>WIe(n,r)),r("  updateInputGraph",()=>qIe(t,n))})}function WIe(t,e){e("    makeSpaceForEdgeLabels",()=>rOe(t)),e("    removeSelfEdges",()=>hOe(t)),e("    acyclic",()=>NNe(t)),e("    nestingGraph.run",()=>oIe(t)),e("    rank",()=>iIe(Cie(t))),e("    injectEdgeLabelProxies",()=>nOe(t)),e("    removeEmptyRanks",()=>BNe(t)),e("    nestingGraph.cleanup",()=>cIe(t)),e("    normalizeRanks",()=>FNe(t)),e("    assignRankMinMax",()=>iOe(t)),e("    removeEdgeLabelProxies",()=>aOe(t)),e("    normalize.run",()=>qNe(t)),e("    parentDummyChains",()=>AIe(t)),e("    addBorderSegments",()=>HNe(t)),e("    order",()=>TIe(t)),e("    insertSelfEdges",()=>fOe(t)),e("    adjustCoordinateSystem",()=>VNe(t)),e("    position",()=>UIe(t)),e("    positionSelfEdges",()=>dOe(t)),e("    removeBorderNodes",()=>cOe(t)),e("    normalize.undo",()=>XNe(t)),e("    fixupEdgeLabelCoords",()=>lOe(t)),e("    undoCoordinateSystem",()=>UNe(t)),e("    translateGraph",()=>sOe(t)),e("    assignNodeIntersects",()=>oOe(t)),e("    reversePoints",()=>uOe(t)),e("    acyclic.undo",()=>ONe(t))}function qIe(t,e){tt(t.nodes(),function(r){var n=t.node(r),i=e.node(r);n&&(n.x=i.x,n.y=i.y,e.children(r).length&&(n.width=i.width,n.height=i.height))}),tt(t.edges(),function(r){var n=t.edge(r),i=e.edge(r);n.points=i.points,Object.prototype.hasOwnProperty.call(i,"x")&&(n.x=i.x,n.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var YIe=["nodesep","edgesep","ranksep","marginx","marginy"],XIe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},jIe=["acyclicer","ranker","rankdir","align"],KIe=["width","height"],QIe={width:0,height:0},ZIe=["minlen","weight","width","height","labeloffset"],JIe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},eOe=["labelpos"];function tOe(t){var e=new ws({multigraph:!0,compound:!0}),r=a8(t.graph());return e.setGraph(nS({},XIe,i8(r,YIe),ES(r,jIe))),tt(t.nodes(),function(n){var i=a8(t.node(n));e.setNode(n,hT(i8(i,KIe),QIe)),e.setParent(n,t.parent(n))}),tt(t.edges(),function(n){var i=a8(t.edge(n));e.setEdge(n,nS({},JIe,i8(i,ZIe),ES(i,eOe)))}),e}function rOe(t){var e=t.graph();e.ranksep/=2,tt(t.edges(),function(r){var n=t.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function nOe(t){tt(t.edges(),function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),i=t.node(e.w),a={rank:(i.rank-n.rank)/2+n.rank,e};sv(t,"edge-proxy",a,"_ep")}})}function iOe(t){var e=0;tt(t.nodes(),function(r){var n=t.node(r);n.borderTop&&(n.minRank=t.node(n.borderTop).rank,n.maxRank=t.node(n.borderBottom).rank,e=X0(e,n.maxRank))}),t.graph().maxRank=e}function aOe(t){tt(t.nodes(),function(e){var r=t.node(e);r.dummy==="edge-proxy"&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))})}function sOe(t){var e=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,a=t.graph(),s=a.marginx||0,o=a.marginy||0;function l(u){var h=u.x,f=u.y,d=u.width,p=u.height;e=Math.min(e,h-d/2),r=Math.max(r,h+d/2),n=Math.min(n,f-p/2),i=Math.max(i,f+p/2)}tt(t.nodes(),function(u){l(t.node(u))}),tt(t.edges(),function(u){var h=t.edge(u);Object.prototype.hasOwnProperty.call(h,"x")&&l(h)}),e-=s,n-=o,tt(t.nodes(),function(u){var h=t.node(u);h.x-=e,h.y-=n}),tt(t.edges(),function(u){var h=t.edge(u);tt(h.points,function(f){f.x-=e,f.y-=n}),Object.prototype.hasOwnProperty.call(h,"x")&&(h.x-=e),Object.prototype.hasOwnProperty.call(h,"y")&&(h.y-=n)}),a.width=r-e+s,a.height=i-n+o}function oOe(t){tt(t.edges(),function(e){var r=t.edge(e),n=t.node(e.v),i=t.node(e.w),a,s;r.points?(a=r.points[0],s=r.points[r.points.length-1]):(r.points=[],a=i,s=n),r.points.unshift(XH(n,a)),r.points.push(XH(i,s))})}function lOe(t){tt(t.edges(),function(e){var r=t.edge(e);if(Object.prototype.hasOwnProperty.call(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function uOe(t){tt(t.edges(),function(e){var r=t.edge(e);r.reversed&&r.points.reverse()})}function cOe(t){tt(t.nodes(),function(e){if(t.children(e).length){var r=t.node(e),n=t.node(r.borderTop),i=t.node(r.borderBottom),a=t.node(nc(r.borderLeft)),s=t.node(nc(r.borderRight));r.width=Math.abs(s.x-a.x),r.height=Math.abs(i.y-n.y),r.x=a.x+r.width/2,r.y=n.y+r.height/2}}),tt(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function hOe(t){tt(t.edges(),function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function fOe(t){var e=gT(t);tt(e,function(r){var n=0;tt(r,function(i,a){var s=t.node(i);s.order=a+n,tt(s.selfEdges,function(o){sv(t,"selfedge",{width:o.label.width,height:o.label.height,rank:s.rank,order:a+ ++n,e:o.e,label:o.label},"_se")}),delete s.selfEdges})})}function dOe(t){tt(t.nodes(),function(e){var r=t.node(e);if(r.dummy==="selfedge"){var n=t.node(r.e.v),i=n.x+n.width/2,a=n.y,s=r.x-i,o=n.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:i+2*s/3,y:a-o},{x:i+5*s/6,y:a-o},{x:i+s,y:a},{x:i+5*s/6,y:a+o},{x:i+2*s/3,y:a+o}],r.label.x=r.x,r.label.y=r.y}})}function i8(t,e){return dT(ES(t,e),Number)}function a8(t){var e={};return tt(t,function(r,n){e[n.toLowerCase()]=r}),e}function Yu(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:pOe(t),edges:gOe(t)};return mn(t.graph())||(e.value=ca(t.graph())),e}function pOe(t){return It(t.nodes(),function(e){var r=t.node(e),n=t.parent(e),i={v:e};return mn(r)||(i.value=r),mn(n)||(i.parent=n),i})}function gOe(t){return It(t.edges(),function(e){var r=t.edge(e),n={v:e.v,w:e.w};return mn(e.name)||(n.name=e.name),mn(r)||(n.value=r),n})}var Hr=new Map,g0=new Map,zie=new Map,mOe=k(()=>{g0.clear(),zie.clear(),Hr.clear()},"clear"),TS=k((t,e)=>{const r=g0.get(e)||[];return Ee.trace("In isDescendant",e," ",t," = ",r.includes(t)),r.includes(t)},"isDescendant"),vOe=k((t,e)=>{const r=g0.get(e)||[];return Ee.info("Descendants of ",e," is ",r),Ee.info("Edge is ",t),t.v===e||t.w===e?!1:r?r.includes(t.v)||TS(t.v,e)||TS(t.w,e)||r.includes(t.w):(Ee.debug("Tilt, ",e,",not in descendants"),!1)},"edgeInCluster"),Hie=k((t,e,r,n)=>{Ee.warn("Copying children of ",t,"root",n,"data",e.node(t),n);const i=e.children(t)||[];t!==n&&i.push(t),Ee.warn("Copying (nodes) clusterId",t,"nodes",i),i.forEach(a=>{if(e.children(a).length>0)Hie(a,e,r,n);else{const s=e.node(a);Ee.info("cp ",a," to ",n," with parent ",t),r.setNode(a,s),n!==e.parent(a)&&(Ee.warn("Setting parent",a,e.parent(a)),r.setParent(a,e.parent(a))),t!==n&&a!==t?(Ee.debug("Setting parent",a,t),r.setParent(a,t)):(Ee.info("In copy ",t,"root",n,"data",e.node(t),n),Ee.debug("Not Setting parent for node=",a,"cluster!==rootId",t!==n,"node!==clusterId",a!==t));const o=e.edges(a);Ee.debug("Copying Edges",o),o.forEach(l=>{Ee.info("Edge",l);const u=e.edge(l.v,l.w,l.name);Ee.info("Edge data",u,n);try{vOe(l,n)?(Ee.info("Copying as ",l.v,l.w,u,l.name),r.setEdge(l.v,l.w,u,l.name),Ee.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):Ee.info("Skipping copy of edge ",l.v,"-->",l.w," rootId: ",n," clusterId:",t)}catch(h){Ee.error(h)}})}Ee.debug("Removing node",a),e.removeNode(a)})},"copy"),Vie=k((t,e)=>{const r=e.children(t);let n=[...r];for(const i of r)zie.set(i,t),n=[...n,...Vie(i,e)];return n},"extractDescendants"),yOe=k((t,e,r)=>{const n=t.edges().filter(l=>l.v===e||l.w===e),i=t.edges().filter(l=>l.v===r||l.w===r),a=n.map(l=>({v:l.v===e?r:l.v,w:l.w===e?e:l.w})),s=i.map(l=>({v:l.v,w:l.w}));return a.filter(l=>s.some(u=>l.v===u.v&&l.w===u.w))},"findCommonEdges"),_x=k((t,e,r)=>{const n=e.children(t);if(Ee.trace("Searching children of id ",t,n),n.length<1)return t;let i;for(const a of n){const s=_x(a,e,r),o=yOe(e,r,s);if(s)if(o.length>0)i=s;else return s}return i},"findNonClusterChild"),nV=k(t=>!Hr.has(t)||!Hr.get(t).externalConnections?t:Hr.has(t)?Hr.get(t).id:t,"getAnchorId"),xOe=k((t,e)=>{if(!t||e>10){Ee.debug("Opting out, no graph ");return}else Ee.debug("Opting in, graph ");t.nodes().forEach(function(r){t.children(r).length>0&&(Ee.warn("Cluster identified",r," Replacement id in edges: ",_x(r,t,r)),g0.set(r,Vie(r,t)),Hr.set(r,{id:_x(r,t,r),clusterData:t.node(r)}))}),t.nodes().forEach(function(r){const n=t.children(r),i=t.edges();n.length>0?(Ee.debug("Cluster identified",r,g0),i.forEach(a=>{const s=TS(a.v,r),o=TS(a.w,r);s^o&&(Ee.warn("Edge: ",a," leaves cluster ",r),Ee.warn("Descendants of XXX ",r,": ",g0.get(r)),Hr.get(r).externalConnections=!0)})):Ee.debug("Not a cluster ",r,g0)});for(let r of Hr.keys()){const n=Hr.get(r).id,i=t.parent(n);i!==r&&Hr.has(i)&&!Hr.get(i).externalConnections&&(Hr.get(r).id=i)}t.edges().forEach(function(r){const n=t.edge(r);Ee.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),Ee.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(t.edge(r)));let i=r.v,a=r.w;if(Ee.warn("Fix XXX",Hr,"ids:",r.v,r.w,"Translating: ",Hr.get(r.v)," --- ",Hr.get(r.w)),Hr.get(r.v)||Hr.get(r.w)){if(Ee.warn("Fixing and trying - removing XXX",r.v,r.w,r.name),i=nV(r.v),a=nV(r.w),t.removeEdge(r.v,r.w,r.name),i!==r.v){const s=t.parent(i);Hr.get(s).externalConnections=!0,n.fromCluster=r.v}if(a!==r.w){const s=t.parent(a);Hr.get(s).externalConnections=!0,n.toCluster=r.w}Ee.warn("Fix Replacing with XXX",i,a,r.name),t.setEdge(i,a,n,r.name)}}),Ee.warn("Adjusted Graph",Yu(t)),Uie(t,0),Ee.trace(Hr)},"adjustClustersAndEdges"),Uie=k((t,e)=>{var i,a;if(Ee.warn("extractor - ",e,Yu(t),t.children("D")),e>10){Ee.error("Bailing out");return}let r=t.nodes(),n=!1;for(const s of r){const o=t.children(s);n=n||o.length>0}if(!n){Ee.debug("Done, no node has children",t.nodes());return}Ee.debug("Nodes = ",r,e);for(const s of r)if(Ee.debug("Extracting node",s,Hr,Hr.has(s)&&!Hr.get(s).externalConnections,!t.parent(s),t.node(s),t.children("D")," Depth ",e),!Hr.has(s))Ee.debug("Not a cluster",s,e);else if(!Hr.get(s).externalConnections&&t.children(s)&&t.children(s).length>0){Ee.warn("Cluster without external connections, without a parent and with children",s,e);let l=t.graph().rankdir==="TB"?"LR":"TB";(a=(i=Hr.get(s))==null?void 0:i.clusterData)!=null&&a.dir&&(l=Hr.get(s).clusterData.dir,Ee.warn("Fixing dir",Hr.get(s).clusterData.dir,l));const u=new ws({multigraph:!0,compound:!0}).setGraph({rankdir:l,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Ee.warn("Old graph before copy",Yu(t)),Hie(s,t,u,s),t.setNode(s,{clusterNode:!0,id:s,clusterData:Hr.get(s).clusterData,label:Hr.get(s).label,graph:u}),Ee.warn("New graph after copy node: (",s,")",Yu(u)),Ee.debug("Old graph after copy",Yu(t))}else Ee.warn("Cluster ** ",s," **not meeting the criteria !externalConnections:",!Hr.get(s).externalConnections," no parent: ",!t.parent(s)," children ",t.children(s)&&t.children(s).length>0,t.children("D"),e),Ee.debug(Hr);r=t.nodes(),Ee.warn("New list of nodes",r);for(const s of r){const o=t.node(s);Ee.warn(" Now next level",s,o),o!=null&&o.clusterNode&&Uie(o.graph,e+1)}},"extractor"),Gie=k((t,e)=>{if(e.length===0)return[];let r=Object.assign([],e);return e.forEach(n=>{const i=t.children(n),a=Gie(t,i);r=[...r,...a]}),r},"sorter"),bOe=k(t=>Gie(t,t.children()),"sortNodesByHierarchy"),Wie=k(async(t,e,r,n,i,a)=>{Ee.warn("Graph in recursive render:XAX",Yu(e),i);const s=e.graph().rankdir;Ee.trace("Dir in recursive render - dir:",s);const o=t.insert("g").attr("class","root");e.nodes()?Ee.info("Recursive render XXX",e.nodes()):Ee.info("No nodes found for",e),e.edges().length>0&&Ee.info("Recursive edges",e.edge(e.edges()[0]));const l=o.insert("g").attr("class","clusters"),u=o.insert("g").attr("class","edgePaths"),h=o.insert("g").attr("class","edgeLabels"),f=o.insert("g").attr("class","nodes");await Promise.all(e.nodes().map(async function(v){const x=e.node(v);if(i!==void 0){const y=JSON.parse(JSON.stringify(i.clusterData));Ee.trace(`Setting data for parent cluster XXX
 Node.id = `,v,`
 data=`,y.height,`
Parent cluster`,i.height),e.setNode(i.id,y),e.parent(v)||(Ee.trace("Setting parent",v,i.id),e.setParent(v,i.id,y))}if(Ee.info("(Insert) Node XXX"+v+": "+JSON.stringify(e.node(v))),x!=null&&x.clusterNode){Ee.info("Cluster identified XBX",v,x.width,e.node(v));const{ranksep:y,nodesep:w}=e.graph();x.graph.setGraph({...x.graph.graph(),ranksep:y+25,nodesep:w});const S=await Wie(f,x.graph,r,n,e.node(v),a),E=S.elem;fr(x,E),x.diff=S.diff||0,Ee.info("New compound node after recursive render XAX",v,"width",x.width,"height",x.height),kTe(E,x)}else e.children(v).length>0?(Ee.trace("Cluster - the non recursive path XBX",v,x.id,x,x.width,"Graph:",e),Ee.trace(_x(x.id,e)),Hr.set(x.id,{id:_x(x.id,e),node:x})):(Ee.trace("Node - the non recursive path XAX",v,f,e.node(v),s),await EE(f,e.node(v),{config:a,dir:s}))})),await k(async()=>{const v=e.edges().map(async function(x){const y=e.edge(x.v,x.w,x.name);Ee.info("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(x)),Ee.info("Edge "+x.v+" -> "+x.w+": ",x," ",JSON.stringify(e.edge(x))),Ee.info("Fix",Hr,"ids:",x.v,x.w,"Translating: ",Hr.get(x.v),Hr.get(x.w)),await vte(h,y)});await Promise.all(v)},"processEdges")(),Ee.info("Graph before layout:",JSON.stringify(Yu(e))),Ee.info("############################################# XXX"),Ee.info("###                Layout                 ### XXX"),Ee.info("############################################# XXX"),mT(e),Ee.info("Graph after layout:",JSON.stringify(Yu(e)));let p=0,{subGraphTitleTotalMargin:m}=db(a);return await Promise.all(bOe(e).map(async function(v){var y;const x=e.node(v);if(Ee.info("Position XBX => "+v+": ("+x.x,","+x.y,") width: ",x.width," height: ",x.height),x!=null&&x.clusterNode)x.y+=m,Ee.info("A tainted cluster node XBX1",v,x.id,x.width,x.height,x.x,x.y,e.parent(v)),Hr.get(x.id).node=x,F_(x);else if(e.children(v).length>0){Ee.info("A pure cluster node XBX1",v,x.id,x.x,x.y,x.width,x.height,e.parent(v)),x.height+=m,e.node(x.parentId);const w=(x==null?void 0:x.padding)/2||0,S=((y=x==null?void 0:x.labelBBox)==null?void 0:y.height)||0,E=S-w||0;Ee.debug("OffsetY",E,"labelHeight",S,"halfPadding",w),await sM(l,x),Hr.get(x.id).node=x}else{const w=e.node(x.parentId);x.y+=m/2,Ee.info("A regular node XBX1 - using the padding",x.id,"parent",x.parentId,x.width,x.height,x.x,x.y,"offsetY",x.offsetY,"parent",w,w==null?void 0:w.offsetY,x),F_(x)}})),e.edges().forEach(function(v){const x=e.edge(v);Ee.info("Edge "+v.v+" -> "+v.w+": "+JSON.stringify(x),x),x.points.forEach(E=>E.y+=m/2);const y=e.node(v.v);var w=e.node(v.w);const S=bte(u,x,Hr,r,y,w,n);yte(x,S)}),e.nodes().forEach(function(v){const x=e.node(v);Ee.info(v,x.type,x.diff),x.isGroup&&(p=x.diff)}),Ee.warn("Returning from recursive render XAX",o,p),{elem:o,diff:p}},"recursiveRender"),wOe=k(async(t,e)=>{var a,s,o,l,u,h;const r=new ws({multigraph:!0,compound:!0}).setGraph({rankdir:t.direction,nodesep:((a=t.config)==null?void 0:a.nodeSpacing)||((o=(s=t.config)==null?void 0:s.flowchart)==null?void 0:o.nodeSpacing)||t.nodeSpacing,ranksep:((l=t.config)==null?void 0:l.rankSpacing)||((h=(u=t.config)==null?void 0:u.flowchart)==null?void 0:h.rankSpacing)||t.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),n=e.select("g");wte(n,t.markers,t.type,t.diagramId),ETe(),ATe(),iTe(),mOe(),t.nodes.forEach(f=>{r.setNode(f.id,{...f}),f.parentId&&r.setParent(f.id,f.parentId)}),Ee.debug("Edges:",t.edges),t.edges.forEach(f=>{if(f.start===f.end){const d=f.start,p=d+"---"+d+"---1",m=d+"---"+d+"---2",v=r.node(d);r.setNode(p,{domId:p,id:p,parentId:v.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(p,v.parentId),r.setNode(m,{domId:m,id:m,parentId:v.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(m,v.parentId);const x=structuredClone(f),y=structuredClone(f),w=structuredClone(f);x.label="",x.arrowTypeEnd="none",x.id=d+"-cyclic-special-1",y.arrowTypeEnd="none",y.id=d+"-cyclic-special-mid",w.label="",v.isGroup&&(x.fromCluster=d,w.toCluster=d),w.id=d+"-cyclic-special-2",r.setEdge(d,p,x,d+"-cyclic-special-0"),r.setEdge(p,m,y,d+"-cyclic-special-1"),r.setEdge(m,d,w,d+"-cyc<lic-special-2")}else r.setEdge(f.start,f.end,{...f},f.id)}),Ee.warn("Graph at first:",JSON.stringify(Yu(r))),xOe(r),Ee.warn("Graph after XAX:",JSON.stringify(Yu(r)));const i=Ue();await Wie(n,r,t.type,t.diagramId,void 0,i)},"render");const SOe=Object.freeze(Object.defineProperty({__proto__:null,render:wOe},Symbol.toStringTag,{value:"Module"}));var vT=k((t,e)=>{const r=t.append("rect");if(r.attr("x",e.x),r.attr("y",e.y),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("width",e.width),r.attr("height",e.height),e.name&&r.attr("name",e.name),e.rx&&r.attr("rx",e.rx),e.ry&&r.attr("ry",e.ry),e.attrs!==void 0)for(const n in e.attrs)r.attr(n,e.attrs[n]);return e.class&&r.attr("class",e.class),r},"drawRect"),qie=k((t,e)=>{const r={x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,stroke:e.stroke,class:"rect"};vT(t,r).lower()},"drawBackgroundRect"),kOe=k((t,e)=>{const r=e.text.replace(jm," "),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.attr("class","legend"),n.style("text-anchor",e.anchor),e.class&&n.attr("class",e.class);const i=n.append("tspan");return i.attr("x",e.x+e.textMargin*2),i.text(r),n},"drawText"),EOe=k((t,e,r,n)=>{const i=t.append("image");i.attr("x",e),i.attr("y",r);const a=cd(n);i.attr("xlink:href",a)},"drawImage"),TOe=k((t,e,r,n)=>{const i=t.append("use");i.attr("x",e),i.attr("y",r);const a=cd(n);i.attr("xlink:href",`#${a}`)},"drawEmbeddedImage"),Tp=k(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),cN=k(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj"),CS=function(){var t=k(function(Ve,we,Te,de){for(Te=Te||{},de=Ve.length;de--;Te[Ve[de]]=we);return Te},"o"),e=[1,24],r=[1,25],n=[1,26],i=[1,27],a=[1,28],s=[1,63],o=[1,64],l=[1,65],u=[1,66],h=[1,67],f=[1,68],d=[1,69],p=[1,29],m=[1,30],v=[1,31],x=[1,32],y=[1,33],w=[1,34],S=[1,35],E=[1,36],C=[1,37],L=[1,38],_=[1,39],I=[1,40],D=[1,41],F=[1,42],M=[1,43],B=[1,44],H=[1,45],R=[1,46],O=[1,47],P=[1,48],z=[1,50],$=[1,51],V=[1,52],X=[1,53],q=[1,54],Y=[1,55],U=[1,56],Z=[1,57],pe=[1,58],ne=[1,59],ge=[1,60],ye=[14,42],J=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],se=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],oe=[1,82],fe=[1,83],me=[1,84],be=[1,85],ce=[12,14,42],Ge=[12,14,33,42],xe=[12,14,33,42,76,77,79,80],le=[12,33],ke=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],De={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:k(function(we,Te,de,W,ee,te,he){var K=te.length-1;switch(ee){case 3:W.setDirection("TB");break;case 4:W.setDirection("BT");break;case 5:W.setDirection("RL");break;case 6:W.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:W.setC4Type(te[K-3]);break;case 19:W.setTitle(te[K].substring(6)),this.$=te[K].substring(6);break;case 20:W.setAccDescription(te[K].substring(15)),this.$=te[K].substring(15);break;case 21:this.$=te[K].trim(),W.setTitle(this.$);break;case 22:case 23:this.$=te[K].trim(),W.setAccDescription(this.$);break;case 28:te[K].splice(2,0,"ENTERPRISE"),W.addPersonOrSystemBoundary(...te[K]),this.$=te[K];break;case 29:te[K].splice(2,0,"SYSTEM"),W.addPersonOrSystemBoundary(...te[K]),this.$=te[K];break;case 30:W.addPersonOrSystemBoundary(...te[K]),this.$=te[K];break;case 31:te[K].splice(2,0,"CONTAINER"),W.addContainerBoundary(...te[K]),this.$=te[K];break;case 32:W.addDeploymentNode("node",...te[K]),this.$=te[K];break;case 33:W.addDeploymentNode("nodeL",...te[K]),this.$=te[K];break;case 34:W.addDeploymentNode("nodeR",...te[K]),this.$=te[K];break;case 35:W.popBoundaryParseStack();break;case 39:W.addPersonOrSystem("person",...te[K]),this.$=te[K];break;case 40:W.addPersonOrSystem("external_person",...te[K]),this.$=te[K];break;case 41:W.addPersonOrSystem("system",...te[K]),this.$=te[K];break;case 42:W.addPersonOrSystem("system_db",...te[K]),this.$=te[K];break;case 43:W.addPersonOrSystem("system_queue",...te[K]),this.$=te[K];break;case 44:W.addPersonOrSystem("external_system",...te[K]),this.$=te[K];break;case 45:W.addPersonOrSystem("external_system_db",...te[K]),this.$=te[K];break;case 46:W.addPersonOrSystem("external_system_queue",...te[K]),this.$=te[K];break;case 47:W.addContainer("container",...te[K]),this.$=te[K];break;case 48:W.addContainer("container_db",...te[K]),this.$=te[K];break;case 49:W.addContainer("container_queue",...te[K]),this.$=te[K];break;case 50:W.addContainer("external_container",...te[K]),this.$=te[K];break;case 51:W.addContainer("external_container_db",...te[K]),this.$=te[K];break;case 52:W.addContainer("external_container_queue",...te[K]),this.$=te[K];break;case 53:W.addComponent("component",...te[K]),this.$=te[K];break;case 54:W.addComponent("component_db",...te[K]),this.$=te[K];break;case 55:W.addComponent("component_queue",...te[K]),this.$=te[K];break;case 56:W.addComponent("external_component",...te[K]),this.$=te[K];break;case 57:W.addComponent("external_component_db",...te[K]),this.$=te[K];break;case 58:W.addComponent("external_component_queue",...te[K]),this.$=te[K];break;case 60:W.addRel("rel",...te[K]),this.$=te[K];break;case 61:W.addRel("birel",...te[K]),this.$=te[K];break;case 62:W.addRel("rel_u",...te[K]),this.$=te[K];break;case 63:W.addRel("rel_d",...te[K]),this.$=te[K];break;case 64:W.addRel("rel_l",...te[K]),this.$=te[K];break;case 65:W.addRel("rel_r",...te[K]),this.$=te[K];break;case 66:W.addRel("rel_b",...te[K]),this.$=te[K];break;case 67:te[K].splice(0,1),W.addRel("rel",...te[K]),this.$=te[K];break;case 68:W.updateElStyle("update_el_style",...te[K]),this.$=te[K];break;case 69:W.updateRelStyle("update_rel_style",...te[K]),this.$=te[K];break;case 70:W.updateLayoutConfig("update_layout_config",...te[K]),this.$=te[K];break;case 71:this.$=[te[K]];break;case 72:te[K].unshift(te[K-1]),this.$=te[K];break;case 73:case 75:this.$=te[K].trim();break;case 74:let _e={};_e[te[K-1].trim()]=te[K].trim(),this.$=_e;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:f,41:d,43:23,44:p,45:m,46:v,47:x,48:y,49:w,50:S,51:E,52:C,53:L,54:_,55:I,56:D,57:F,58:M,59:B,60:H,61:R,62:O,63:P,64:z,65:$,66:V,67:X,68:q,69:Y,70:U,71:Z,72:pe,73:ne,74:ge},{13:70,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:f,41:d,43:23,44:p,45:m,46:v,47:x,48:y,49:w,50:S,51:E,52:C,53:L,54:_,55:I,56:D,57:F,58:M,59:B,60:H,61:R,62:O,63:P,64:z,65:$,66:V,67:X,68:q,69:Y,70:U,71:Z,72:pe,73:ne,74:ge},{13:71,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:f,41:d,43:23,44:p,45:m,46:v,47:x,48:y,49:w,50:S,51:E,52:C,53:L,54:_,55:I,56:D,57:F,58:M,59:B,60:H,61:R,62:O,63:P,64:z,65:$,66:V,67:X,68:q,69:Y,70:U,71:Z,72:pe,73:ne,74:ge},{13:72,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:f,41:d,43:23,44:p,45:m,46:v,47:x,48:y,49:w,50:S,51:E,52:C,53:L,54:_,55:I,56:D,57:F,58:M,59:B,60:H,61:R,62:O,63:P,64:z,65:$,66:V,67:X,68:q,69:Y,70:U,71:Z,72:pe,73:ne,74:ge},{13:73,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:f,41:d,43:23,44:p,45:m,46:v,47:x,48:y,49:w,50:S,51:E,52:C,53:L,54:_,55:I,56:D,57:F,58:M,59:B,60:H,61:R,62:O,63:P,64:z,65:$,66:V,67:X,68:q,69:Y,70:U,71:Z,72:pe,73:ne,74:ge},{14:[1,74]},t(ye,[2,13],{43:23,29:49,30:61,32:62,20:75,34:s,36:o,37:l,38:u,39:h,40:f,41:d,44:p,45:m,46:v,47:x,48:y,49:w,50:S,51:E,52:C,53:L,54:_,55:I,56:D,57:F,58:M,59:B,60:H,61:R,62:O,63:P,64:z,65:$,66:V,67:X,68:q,69:Y,70:U,71:Z,72:pe,73:ne,74:ge}),t(ye,[2,14]),t(J,[2,16],{12:[1,76]}),t(ye,[2,36],{12:[1,77]}),t(se,[2,19]),t(se,[2,20]),{25:[1,78]},{27:[1,79]},t(se,[2,23]),{35:80,75:81,76:oe,77:fe,79:me,80:be},{35:86,75:81,76:oe,77:fe,79:me,80:be},{35:87,75:81,76:oe,77:fe,79:me,80:be},{35:88,75:81,76:oe,77:fe,79:me,80:be},{35:89,75:81,76:oe,77:fe,79:me,80:be},{35:90,75:81,76:oe,77:fe,79:me,80:be},{35:91,75:81,76:oe,77:fe,79:me,80:be},{35:92,75:81,76:oe,77:fe,79:me,80:be},{35:93,75:81,76:oe,77:fe,79:me,80:be},{35:94,75:81,76:oe,77:fe,79:me,80:be},{35:95,75:81,76:oe,77:fe,79:me,80:be},{35:96,75:81,76:oe,77:fe,79:me,80:be},{35:97,75:81,76:oe,77:fe,79:me,80:be},{35:98,75:81,76:oe,77:fe,79:me,80:be},{35:99,75:81,76:oe,77:fe,79:me,80:be},{35:100,75:81,76:oe,77:fe,79:me,80:be},{35:101,75:81,76:oe,77:fe,79:me,80:be},{35:102,75:81,76:oe,77:fe,79:me,80:be},{35:103,75:81,76:oe,77:fe,79:me,80:be},{35:104,75:81,76:oe,77:fe,79:me,80:be},t(ce,[2,59]),{35:105,75:81,76:oe,77:fe,79:me,80:be},{35:106,75:81,76:oe,77:fe,79:me,80:be},{35:107,75:81,76:oe,77:fe,79:me,80:be},{35:108,75:81,76:oe,77:fe,79:me,80:be},{35:109,75:81,76:oe,77:fe,79:me,80:be},{35:110,75:81,76:oe,77:fe,79:me,80:be},{35:111,75:81,76:oe,77:fe,79:me,80:be},{35:112,75:81,76:oe,77:fe,79:me,80:be},{35:113,75:81,76:oe,77:fe,79:me,80:be},{35:114,75:81,76:oe,77:fe,79:me,80:be},{35:115,75:81,76:oe,77:fe,79:me,80:be},{20:116,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:f,41:d,43:23,44:p,45:m,46:v,47:x,48:y,49:w,50:S,51:E,52:C,53:L,54:_,55:I,56:D,57:F,58:M,59:B,60:H,61:R,62:O,63:P,64:z,65:$,66:V,67:X,68:q,69:Y,70:U,71:Z,72:pe,73:ne,74:ge},{12:[1,118],33:[1,117]},{35:119,75:81,76:oe,77:fe,79:me,80:be},{35:120,75:81,76:oe,77:fe,79:me,80:be},{35:121,75:81,76:oe,77:fe,79:me,80:be},{35:122,75:81,76:oe,77:fe,79:me,80:be},{35:123,75:81,76:oe,77:fe,79:me,80:be},{35:124,75:81,76:oe,77:fe,79:me,80:be},{35:125,75:81,76:oe,77:fe,79:me,80:be},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},t(ye,[2,15]),t(J,[2,17],{21:22,19:130,22:e,23:r,24:n,26:i,28:a}),t(ye,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:e,23:r,24:n,26:i,28:a,34:s,36:o,37:l,38:u,39:h,40:f,41:d,44:p,45:m,46:v,47:x,48:y,49:w,50:S,51:E,52:C,53:L,54:_,55:I,56:D,57:F,58:M,59:B,60:H,61:R,62:O,63:P,64:z,65:$,66:V,67:X,68:q,69:Y,70:U,71:Z,72:pe,73:ne,74:ge}),t(se,[2,21]),t(se,[2,22]),t(ce,[2,39]),t(Ge,[2,71],{75:81,35:132,76:oe,77:fe,79:me,80:be}),t(xe,[2,73]),{78:[1,133]},t(xe,[2,75]),t(xe,[2,76]),t(ce,[2,40]),t(ce,[2,41]),t(ce,[2,42]),t(ce,[2,43]),t(ce,[2,44]),t(ce,[2,45]),t(ce,[2,46]),t(ce,[2,47]),t(ce,[2,48]),t(ce,[2,49]),t(ce,[2,50]),t(ce,[2,51]),t(ce,[2,52]),t(ce,[2,53]),t(ce,[2,54]),t(ce,[2,55]),t(ce,[2,56]),t(ce,[2,57]),t(ce,[2,58]),t(ce,[2,60]),t(ce,[2,61]),t(ce,[2,62]),t(ce,[2,63]),t(ce,[2,64]),t(ce,[2,65]),t(ce,[2,66]),t(ce,[2,67]),t(ce,[2,68]),t(ce,[2,69]),t(ce,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},t(le,[2,28]),t(le,[2,29]),t(le,[2,30]),t(le,[2,31]),t(le,[2,32]),t(le,[2,33]),t(le,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},t(J,[2,18]),t(ye,[2,38]),t(Ge,[2,72]),t(xe,[2,74]),t(ce,[2,24]),t(ce,[2,35]),t(ke,[2,25]),t(ke,[2,26],{12:[1,138]}),t(ke,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:k(function(we,Te){if(Te.recoverable)this.trace(we);else{var de=new Error(we);throw de.hash=Te,de}},"parseError"),parse:k(function(we){var Te=this,de=[0],W=[],ee=[null],te=[],he=this.table,K="",_e=0,ae=0,Le=2,Ne=1,Ie=te.slice.call(arguments,1),Oe=Object.create(this.lexer),Pe={yy:{}};for(var Me in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Me)&&(Pe.yy[Me]=this.yy[Me]);Oe.setInput(we,Pe.yy),Pe.yy.lexer=Oe,Pe.yy.parser=this,typeof Oe.yylloc>"u"&&(Oe.yylloc={});var ze=Oe.yylloc;te.push(ze);var it=Oe.options&&Oe.options.ranges;typeof Pe.yy.parseError=="function"?this.parseError=Pe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ut(Rt){de.length=de.length-2*Rt,ee.length=ee.length-Rt,te.length=te.length-Rt}k(ut,"popStack");function gt(){var Rt;return Rt=W.pop()||Oe.lex()||Ne,typeof Rt!="number"&&(Rt instanceof Array&&(W=Rt,Rt=W.pop()),Rt=Te.symbols_[Rt]||Rt),Rt}k(gt,"lex");for(var wt,Pt,ot,at,kt={},ct,ft,Jt,pt;;){if(Pt=de[de.length-1],this.defaultActions[Pt]?ot=this.defaultActions[Pt]:((wt===null||typeof wt>"u")&&(wt=gt()),ot=he[Pt]&&he[Pt][wt]),typeof ot>"u"||!ot.length||!ot[0]){var dt="";pt=[];for(ct in he[Pt])this.terminals_[ct]&&ct>Le&&pt.push("'"+this.terminals_[ct]+"'");Oe.showPosition?dt="Parse error on line "+(_e+1)+`:
`+Oe.showPosition()+`
Expecting `+pt.join(", ")+", got '"+(this.terminals_[wt]||wt)+"'":dt="Parse error on line "+(_e+1)+": Unexpected "+(wt==Ne?"end of input":"'"+(this.terminals_[wt]||wt)+"'"),this.parseError(dt,{text:Oe.match,token:this.terminals_[wt]||wt,line:Oe.yylineno,loc:ze,expected:pt})}if(ot[0]instanceof Array&&ot.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Pt+", token: "+wt);switch(ot[0]){case 1:de.push(wt),ee.push(Oe.yytext),te.push(Oe.yylloc),de.push(ot[1]),wt=null,ae=Oe.yyleng,K=Oe.yytext,_e=Oe.yylineno,ze=Oe.yylloc;break;case 2:if(ft=this.productions_[ot[1]][1],kt.$=ee[ee.length-ft],kt._$={first_line:te[te.length-(ft||1)].first_line,last_line:te[te.length-1].last_line,first_column:te[te.length-(ft||1)].first_column,last_column:te[te.length-1].last_column},it&&(kt._$.range=[te[te.length-(ft||1)].range[0],te[te.length-1].range[1]]),at=this.performAction.apply(kt,[K,ae,_e,Pe.yy,ot[1],ee,te].concat(Ie)),typeof at<"u")return at;ft&&(de=de.slice(0,-1*ft*2),ee=ee.slice(0,-1*ft),te=te.slice(0,-1*ft)),de.push(this.productions_[ot[1]][0]),ee.push(kt.$),te.push(kt._$),Jt=he[de[de.length-2]][de[de.length-1]],de.push(Jt);break;case 3:return!0}}return!0},"parse")},We=function(){var Ve={EOF:1,parseError:k(function(Te,de){if(this.yy.parser)this.yy.parser.parseError(Te,de);else throw new Error(Te)},"parseError"),setInput:k(function(we,Te){return this.yy=Te||this.yy||{},this._input=we,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var we=this._input[0];this.yytext+=we,this.yyleng++,this.offset++,this.match+=we,this.matched+=we;var Te=we.match(/(?:\r\n?|\n).*/g);return Te?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),we},"input"),unput:k(function(we){var Te=we.length,de=we.split(/(?:\r\n?|\n)/g);this._input=we+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Te),this.offset-=Te;var W=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),de.length-1&&(this.yylineno-=de.length-1);var ee=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:de?(de.length===W.length?this.yylloc.first_column:0)+W[W.length-de.length].length-de[0].length:this.yylloc.first_column-Te},this.options.ranges&&(this.yylloc.range=[ee[0],ee[0]+this.yyleng-Te]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(we){this.unput(this.match.slice(we))},"less"),pastInput:k(function(){var we=this.matched.substr(0,this.matched.length-this.match.length);return(we.length>20?"...":"")+we.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var we=this.match;return we.length<20&&(we+=this._input.substr(0,20-we.length)),(we.substr(0,20)+(we.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var we=this.pastInput(),Te=new Array(we.length+1).join("-");return we+this.upcomingInput()+`
`+Te+"^"},"showPosition"),test_match:k(function(we,Te){var de,W,ee;if(this.options.backtrack_lexer&&(ee={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ee.yylloc.range=this.yylloc.range.slice(0))),W=we[0].match(/(?:\r\n?|\n).*/g),W&&(this.yylineno+=W.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:W?W[W.length-1].length-W[W.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+we[0].length},this.yytext+=we[0],this.match+=we[0],this.matches=we,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(we[0].length),this.matched+=we[0],de=this.performAction.call(this,this.yy,this,Te,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),de)return de;if(this._backtrack){for(var te in ee)this[te]=ee[te];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var we,Te,de,W;this._more||(this.yytext="",this.match="");for(var ee=this._currentRules(),te=0;te<ee.length;te++)if(de=this._input.match(this.rules[ee[te]]),de&&(!Te||de[0].length>Te[0].length)){if(Te=de,W=te,this.options.backtrack_lexer){if(we=this.test_match(de,ee[te]),we!==!1)return we;if(this._backtrack){Te=!1;continue}else return!1}else if(!this.options.flex)break}return Te?(we=this.test_match(Te,ee[W]),we!==!1?we:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var Te=this.next();return Te||this.lex()},"lex"),begin:k(function(Te){this.conditionStack.push(Te)},"begin"),popState:k(function(){var Te=this.conditionStack.length-1;return Te>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(Te){return Te=this.conditionStack.length-1-Math.abs(Te||0),Te>=0?this.conditionStack[Te]:"INITIAL"},"topState"),pushState:k(function(Te){this.begin(Te)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:k(function(Te,de,W,ee){switch(W){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:return this.begin("node"),39;case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:return this.begin("rel_u"),66;case 53:return this.begin("rel_u"),66;case 54:return this.begin("rel_d"),67;case 55:return this.begin("rel_d"),67;case 56:return this.begin("rel_l"),68;case 57:return this.begin("rel_l"),68;case 58:return this.begin("rel_r"),69;case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return Ve}();De.lexer=We;function qe(){this.yy={}}return k(qe,"Parser"),qe.prototype=De,De.Parser=qe,new qe}();CS.parser=CS;var COe=CS,yu=[],Nf=[""],Us="global",cu="",ic=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Lx=[],hN="",fN=!1,AS=4,_S=2,Yie,AOe=k(function(){return Yie},"getC4Type"),_Oe=k(function(t){Yie=Dn(t,Ue())},"setC4Type"),LOe=k(function(t,e,r,n,i,a,s,o,l){if(t==null||e===void 0||e===null||r===void 0||r===null||n===void 0||n===null)return;let u={};const h=Lx.find(f=>f.from===e&&f.to===r);if(h?u=h:Lx.push(u),u.type=t,u.from=e,u.to=r,u.label={text:n},i==null)u.techn={text:""};else if(typeof i=="object"){let[f,d]=Object.entries(i)[0];u[f]={text:d}}else u.techn={text:i};if(a==null)u.descr={text:""};else if(typeof a=="object"){let[f,d]=Object.entries(a)[0];u[f]={text:d}}else u.descr={text:a};if(typeof s=="object"){let[f,d]=Object.entries(s)[0];u[f]=d}else u.sprite=s;if(typeof o=="object"){let[f,d]=Object.entries(o)[0];u[f]=d}else u.tags=o;if(typeof l=="object"){let[f,d]=Object.entries(l)[0];u[f]=d}else u.link=l;u.wrap=md()},"addRel"),DOe=k(function(t,e,r,n,i,a,s){if(e===null||r===null)return;let o={};const l=yu.find(u=>u.alias===e);if(l&&e===l.alias?o=l:(o.alias=e,yu.push(o)),r==null?o.label={text:""}:o.label={text:r},n==null)o.descr={text:""};else if(typeof n=="object"){let[u,h]=Object.entries(n)[0];o[u]={text:h}}else o.descr={text:n};if(typeof i=="object"){let[u,h]=Object.entries(i)[0];o[u]=h}else o.sprite=i;if(typeof a=="object"){let[u,h]=Object.entries(a)[0];o[u]=h}else o.tags=a;if(typeof s=="object"){let[u,h]=Object.entries(s)[0];o[u]=h}else o.link=s;o.typeC4Shape={text:t},o.parentBoundary=Us,o.wrap=md()},"addPersonOrSystem"),ROe=k(function(t,e,r,n,i,a,s,o){if(e===null||r===null)return;let l={};const u=yu.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,yu.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[h,f]=Object.entries(n)[0];l[h]={text:f}}else l.techn={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,f]=Object.entries(i)[0];l[h]={text:f}}else l.descr={text:i};if(typeof a=="object"){let[h,f]=Object.entries(a)[0];l[h]=f}else l.sprite=a;if(typeof s=="object"){let[h,f]=Object.entries(s)[0];l[h]=f}else l.tags=s;if(typeof o=="object"){let[h,f]=Object.entries(o)[0];l[h]=f}else l.link=o;l.wrap=md(),l.typeC4Shape={text:t},l.parentBoundary=Us},"addContainer"),MOe=k(function(t,e,r,n,i,a,s,o){if(e===null||r===null)return;let l={};const u=yu.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,yu.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[h,f]=Object.entries(n)[0];l[h]={text:f}}else l.techn={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,f]=Object.entries(i)[0];l[h]={text:f}}else l.descr={text:i};if(typeof a=="object"){let[h,f]=Object.entries(a)[0];l[h]=f}else l.sprite=a;if(typeof s=="object"){let[h,f]=Object.entries(s)[0];l[h]=f}else l.tags=s;if(typeof o=="object"){let[h,f]=Object.entries(o)[0];l[h]=f}else l.link=o;l.wrap=md(),l.typeC4Shape={text:t},l.parentBoundary=Us},"addComponent"),NOe=k(function(t,e,r,n,i){if(t===null||e===null)return;let a={};const s=ic.find(o=>o.alias===t);if(s&&t===s.alias?a=s:(a.alias=t,ic.push(a)),e==null?a.label={text:""}:a.label={text:e},r==null)a.type={text:"system"};else if(typeof r=="object"){let[o,l]=Object.entries(r)[0];a[o]={text:l}}else a.type={text:r};if(typeof n=="object"){let[o,l]=Object.entries(n)[0];a[o]=l}else a.tags=n;if(typeof i=="object"){let[o,l]=Object.entries(i)[0];a[o]=l}else a.link=i;a.parentBoundary=Us,a.wrap=md(),cu=Us,Us=t,Nf.push(cu)},"addPersonOrSystemBoundary"),IOe=k(function(t,e,r,n,i){if(t===null||e===null)return;let a={};const s=ic.find(o=>o.alias===t);if(s&&t===s.alias?a=s:(a.alias=t,ic.push(a)),e==null?a.label={text:""}:a.label={text:e},r==null)a.type={text:"container"};else if(typeof r=="object"){let[o,l]=Object.entries(r)[0];a[o]={text:l}}else a.type={text:r};if(typeof n=="object"){let[o,l]=Object.entries(n)[0];a[o]=l}else a.tags=n;if(typeof i=="object"){let[o,l]=Object.entries(i)[0];a[o]=l}else a.link=i;a.parentBoundary=Us,a.wrap=md(),cu=Us,Us=t,Nf.push(cu)},"addContainerBoundary"),OOe=k(function(t,e,r,n,i,a,s,o){if(e===null||r===null)return;let l={};const u=ic.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,ic.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.type={text:"node"};else if(typeof n=="object"){let[h,f]=Object.entries(n)[0];l[h]={text:f}}else l.type={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,f]=Object.entries(i)[0];l[h]={text:f}}else l.descr={text:i};if(typeof s=="object"){let[h,f]=Object.entries(s)[0];l[h]=f}else l.tags=s;if(typeof o=="object"){let[h,f]=Object.entries(o)[0];l[h]=f}else l.link=o;l.nodeType=t,l.parentBoundary=Us,l.wrap=md(),cu=Us,Us=e,Nf.push(cu)},"addDeploymentNode"),POe=k(function(){Us=cu,Nf.pop(),cu=Nf.pop(),Nf.push(cu)},"popBoundaryParseStack"),FOe=k(function(t,e,r,n,i,a,s,o,l,u,h){let f=yu.find(d=>d.alias===e);if(!(f===void 0&&(f=ic.find(d=>d.alias===e),f===void 0))){if(r!=null)if(typeof r=="object"){let[d,p]=Object.entries(r)[0];f[d]=p}else f.bgColor=r;if(n!=null)if(typeof n=="object"){let[d,p]=Object.entries(n)[0];f[d]=p}else f.fontColor=n;if(i!=null)if(typeof i=="object"){let[d,p]=Object.entries(i)[0];f[d]=p}else f.borderColor=i;if(a!=null)if(typeof a=="object"){let[d,p]=Object.entries(a)[0];f[d]=p}else f.shadowing=a;if(s!=null)if(typeof s=="object"){let[d,p]=Object.entries(s)[0];f[d]=p}else f.shape=s;if(o!=null)if(typeof o=="object"){let[d,p]=Object.entries(o)[0];f[d]=p}else f.sprite=o;if(l!=null)if(typeof l=="object"){let[d,p]=Object.entries(l)[0];f[d]=p}else f.techn=l;if(u!=null)if(typeof u=="object"){let[d,p]=Object.entries(u)[0];f[d]=p}else f.legendText=u;if(h!=null)if(typeof h=="object"){let[d,p]=Object.entries(h)[0];f[d]=p}else f.legendSprite=h}},"updateElStyle"),BOe=k(function(t,e,r,n,i,a,s){const o=Lx.find(l=>l.from===e&&l.to===r);if(o!==void 0){if(n!=null)if(typeof n=="object"){let[l,u]=Object.entries(n)[0];o[l]=u}else o.textColor=n;if(i!=null)if(typeof i=="object"){let[l,u]=Object.entries(i)[0];o[l]=u}else o.lineColor=i;if(a!=null)if(typeof a=="object"){let[l,u]=Object.entries(a)[0];o[l]=parseInt(u)}else o.offsetX=parseInt(a);if(s!=null)if(typeof s=="object"){let[l,u]=Object.entries(s)[0];o[l]=parseInt(u)}else o.offsetY=parseInt(s)}},"updateRelStyle"),$Oe=k(function(t,e,r){let n=AS,i=_S;if(typeof e=="object"){const a=Object.values(e)[0];n=parseInt(a)}else n=parseInt(e);if(typeof r=="object"){const a=Object.values(r)[0];i=parseInt(a)}else i=parseInt(r);n>=1&&(AS=n),i>=1&&(_S=i)},"updateLayoutConfig"),zOe=k(function(){return AS},"getC4ShapeInRow"),HOe=k(function(){return _S},"getC4BoundaryInRow"),VOe=k(function(){return Us},"getCurrentBoundaryParse"),UOe=k(function(){return cu},"getParentBoundaryParse"),Xie=k(function(t){return t==null?yu:yu.filter(e=>e.parentBoundary===t)},"getC4ShapeArray"),GOe=k(function(t){return yu.find(e=>e.alias===t)},"getC4Shape"),WOe=k(function(t){return Object.keys(Xie(t))},"getC4ShapeKeys"),jie=k(function(t){return t==null?ic:ic.filter(e=>e.parentBoundary===t)},"getBoundaries"),qOe=jie,YOe=k(function(){return Lx},"getRels"),XOe=k(function(){return hN},"getTitle"),jOe=k(function(t){fN=t},"setWrap"),md=k(function(){return fN},"autoWrap"),KOe=k(function(){yu=[],ic=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],cu="",Us="global",Nf=[""],Lx=[],Nf=[""],hN="",fN=!1,AS=4,_S=2},"clear"),QOe={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ZOe={FILLED:0,OPEN:1},JOe={LEFTOF:0,RIGHTOF:1,OVER:2},ePe=k(function(t){hN=Dn(t,Ue())},"setTitle"),fL={addPersonOrSystem:DOe,addPersonOrSystemBoundary:NOe,addContainer:ROe,addContainerBoundary:IOe,addComponent:MOe,addDeploymentNode:OOe,popBoundaryParseStack:POe,addRel:LOe,updateElStyle:FOe,updateRelStyle:BOe,updateLayoutConfig:$Oe,autoWrap:md,setWrap:jOe,getC4ShapeArray:Xie,getC4Shape:GOe,getC4ShapeKeys:WOe,getBoundaries:jie,getBoundarys:qOe,getCurrentBoundaryParse:VOe,getParentBoundaryParse:UOe,getRels:YOe,getTitle:XOe,getC4Type:AOe,getC4ShapeInRow:zOe,getC4BoundaryInRow:HOe,setAccTitle:Ta,getAccTitle:Wa,getAccDescription:Ya,setAccDescription:qa,getConfig:k(()=>Ue().c4,"getConfig"),clear:KOe,LINETYPE:QOe,ARROWTYPE:ZOe,PLACEMENT:JOe,setTitle:ePe,setC4Type:_Oe},dN=k(function(t,e){return vT(t,e)},"drawRect"),Kie=k(function(t,e,r,n,i,a){const s=t.append("image");s.attr("width",e),s.attr("height",r),s.attr("x",n),s.attr("y",i);let o=a.startsWith("data:image/png;base64")?a:cd(a);s.attr("xlink:href",o)},"drawImage"),tPe=k((t,e,r)=>{const n=t.append("g");let i=0;for(let a of e){let s=a.textColor?a.textColor:"#444444",o=a.lineColor?a.lineColor:"#444444",l=a.offsetX?parseInt(a.offsetX):0,u=a.offsetY?parseInt(a.offsetY):0,h="";if(i===0){let d=n.append("line");d.attr("x1",a.startPoint.x),d.attr("y1",a.startPoint.y),d.attr("x2",a.endPoint.x),d.attr("y2",a.endPoint.y),d.attr("stroke-width","1"),d.attr("stroke",o),d.style("fill","none"),a.type!=="rel_b"&&d.attr("marker-end","url("+h+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&d.attr("marker-start","url("+h+"#arrowend)"),i=-1}else{let d=n.append("path");d.attr("fill","none").attr("stroke-width","1").attr("stroke",o).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",a.startPoint.x).replaceAll("starty",a.startPoint.y).replaceAll("controlx",a.startPoint.x+(a.endPoint.x-a.startPoint.x)/2-(a.endPoint.x-a.startPoint.x)/4).replaceAll("controly",a.startPoint.y+(a.endPoint.y-a.startPoint.y)/2).replaceAll("stopx",a.endPoint.x).replaceAll("stopy",a.endPoint.y)),a.type!=="rel_b"&&d.attr("marker-end","url("+h+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&d.attr("marker-start","url("+h+"#arrowend)")}let f=r.messageFont();jc(r)(a.label.text,n,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+l,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+u,a.label.width,a.label.height,{fill:s},f),a.techn&&a.techn.text!==""&&(f=r.messageFont(),jc(r)("["+a.techn.text+"]",n,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+l,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+r.messageFontSize+5+u,Math.max(a.label.width,a.techn.width),a.techn.height,{fill:s,"font-style":"italic"},f))}},"drawRels"),rPe=k(function(t,e,r){const n=t.append("g");let i=e.bgColor?e.bgColor:"none",a=e.borderColor?e.borderColor:"#444444",s=e.fontColor?e.fontColor:"black",o={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(o={"stroke-width":1});let l={x:e.x,y:e.y,fill:i,stroke:a,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:o};dN(n,l);let u=r.boundaryFont();u.fontWeight="bold",u.fontSize=u.fontSize+2,u.fontColor=s,jc(r)(e.label.text,n,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},u),e.type&&e.type.text!==""&&(u=r.boundaryFont(),u.fontColor=s,jc(r)(e.type.text,n,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},u)),e.descr&&e.descr.text!==""&&(u=r.boundaryFont(),u.fontSize=u.fontSize-2,u.fontColor=s,jc(r)(e.descr.text,n,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},u))},"drawBoundary"),nPe=k(function(t,e,r){var f;let n=e.bgColor?e.bgColor:r[e.typeC4Shape.text+"_bg_color"],i=e.borderColor?e.borderColor:r[e.typeC4Shape.text+"_border_color"],a=e.fontColor?e.fontColor:"#FFFFFF",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const o=t.append("g");o.attr("class","person-man");const l=Tp();switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":l.x=e.x,l.y=e.y,l.fill=n,l.width=e.width,l.height=e.height,l.stroke=i,l.rx=2.5,l.ry=2.5,l.attrs={"stroke-width":.5},dN(o,l);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":o.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":o.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2));break}let u=fPe(r,e.typeC4Shape.text);switch(o.append("text").attr("fill",a).attr("font-family",u.fontFamily).attr("font-size",u.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":Kie(o,48,48,e.x+e.width/2-24,e.y+e.image.Y,s);break}let h=r[e.typeC4Shape.text+"Font"]();return h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=a,jc(r)(e.label.text,o,e.x,e.y+e.label.Y,e.width,e.height,{fill:a},h),h=r[e.typeC4Shape.text+"Font"](),h.fontColor=a,e.techn&&((f=e.techn)==null?void 0:f.text)!==""?jc(r)(e.techn.text,o,e.x,e.y+e.techn.Y,e.width,e.height,{fill:a,"font-style":"italic"},h):e.type&&e.type.text!==""&&jc(r)(e.type.text,o,e.x,e.y+e.type.Y,e.width,e.height,{fill:a,"font-style":"italic"},h),e.descr&&e.descr.text!==""&&(h=r.personFont(),h.fontColor=a,jc(r)(e.descr.text,o,e.x,e.y+e.descr.Y,e.width,e.height,{fill:a},h)),e.height},"drawC4Shape"),iPe=k(function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),aPe=k(function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),sPe=k(function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),oPe=k(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),lPe=k(function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),uPe=k(function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),cPe=k(function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),hPe=k(function(t){const r=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),fPe=k((t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),"getC4ShapeFont"),jc=function(){function t(i,a,s,o,l,u,h){const f=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("text-anchor","middle").text(i);n(f,h)}k(t,"byText");function e(i,a,s,o,l,u,h,f){const{fontSize:d,fontFamily:p,fontWeight:m}=f,v=i.split(At.lineBreakRegex);for(let x=0;x<v.length;x++){const y=x*d-d*(v.length-1)/2,w=a.append("text").attr("x",s+l/2).attr("y",o).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",d).style("font-weight",m).style("font-family",p);w.append("tspan").attr("dy",y).text(v[x]).attr("alignment-baseline","mathematical"),n(w,h)}}k(e,"byTspan");function r(i,a,s,o,l,u,h,f){const d=a.append("switch"),m=d.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,d,s,o,l,u,h,f),n(m,h)}k(r,"byFo");function n(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return k(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),Fu={drawRect:dN,drawBoundary:rPe,drawC4Shape:nPe,drawRels:tPe,drawImage:Kie,insertArrowHead:oPe,insertArrowEnd:lPe,insertArrowFilledHead:uPe,insertDynamicNumber:cPe,insertArrowCrossHead:hPe,insertDatabaseIcon:iPe,insertComputerIcon:aPe,insertClockIcon:sPe},LS=0,DS=0,Qie=4,dL=2;CS.yy=fL;var sr={},w1,Zie=(w1=class{constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,pL(e.db.getConfig())}setData(e,r,n,i){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=r,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=i}updateVal(e,r,n,i){e[r]===void 0?e[r]=n:e[r]=i(n,e[r])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let r=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,n=r+e.width,i=this.nextData.starty+e.margin*2,a=i+e.height;(r>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>Qie)&&(r=this.nextData.startx+e.margin+sr.nextLinePaddingX,i=this.nextData.stopy+e.margin*2,this.nextData.stopx=n=r+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=a=i+e.height,this.nextData.cnt=1),e.x=r,e.y=i,this.updateVal(this.data,"startx",r,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",a,Math.max),this.updateVal(this.nextData,"startx",r,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",a,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},pL(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}},k(w1,"Bounds"),w1),pL=k(function(t){ia(sr,t),t.fontFamily&&(sr.personFontFamily=sr.systemFontFamily=sr.messageFontFamily=t.fontFamily),t.fontSize&&(sr.personFontSize=sr.systemFontSize=sr.messageFontSize=t.fontSize),t.fontWeight&&(sr.personFontWeight=sr.systemFontWeight=sr.messageFontWeight=t.fontWeight)},"setConf"),_y=k((t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),"c4ShapeFont"),_3=k(t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),"boundaryFont"),dPe=k(t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),"messageFont");function bl(t,e,r,n,i){if(!e[t].width)if(r)e[t].text=wJ(e[t].text,i,n),e[t].textLines=e[t].text.split(At.lineBreakRegex).length,e[t].width=i,e[t].height=iS(e[t].text,n);else{let a=e[t].text.split(At.lineBreakRegex);e[t].textLines=a.length;let s=0;e[t].height=0,e[t].width=0;for(const o of a)e[t].width=Math.max(kl(o,n),e[t].width),s=iS(o,n),e[t].height=e[t].height+s}}k(bl,"calcC4ShapeTextWH");var Jie=k(function(t,e,r){e.x=r.data.startx,e.y=r.data.starty,e.width=r.data.stopx-r.data.startx,e.height=r.data.stopy-r.data.starty,e.label.y=sr.c4ShapeMargin-35;let n=e.wrap&&sr.wrap,i=_3(sr);i.fontSize=i.fontSize+2,i.fontWeight="bold";let a=kl(e.label.text,i);bl("label",e,n,i,a),Fu.drawBoundary(t,e,sr)},"drawBoundary"),eae=k(function(t,e,r,n){let i=0;for(const a of n){i=0;const s=r[a];let o=_y(sr,s.typeC4Shape.text);switch(o.fontSize=o.fontSize-2,s.typeC4Shape.width=kl("«"+s.typeC4Shape.text+"»",o),s.typeC4Shape.height=o.fontSize+2,s.typeC4Shape.Y=sr.c4ShapePadding,i=s.typeC4Shape.Y+s.typeC4Shape.height-4,s.image={width:0,height:0,Y:0},s.typeC4Shape.text){case"person":case"external_person":s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height;break}s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height);let l=s.wrap&&sr.wrap,u=sr.width-sr.c4ShapePadding*2,h=_y(sr,s.typeC4Shape.text);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",bl("label",s,l,h,u),s.label.Y=i+8,i=s.label.Y+s.label.height,s.type&&s.type.text!==""){s.type.text="["+s.type.text+"]";let p=_y(sr,s.typeC4Shape.text);bl("type",s,l,p,u),s.type.Y=i+5,i=s.type.Y+s.type.height}else if(s.techn&&s.techn.text!==""){s.techn.text="["+s.techn.text+"]";let p=_y(sr,s.techn.text);bl("techn",s,l,p,u),s.techn.Y=i+5,i=s.techn.Y+s.techn.height}let f=i,d=s.label.width;if(s.descr&&s.descr.text!==""){let p=_y(sr,s.typeC4Shape.text);bl("descr",s,l,p,u),s.descr.Y=i+20,i=s.descr.Y+s.descr.height,d=Math.max(s.label.width,s.descr.width),f=i-s.descr.textLines*5}d=d+sr.c4ShapePadding,s.width=Math.max(s.width||sr.width,d,sr.width),s.height=Math.max(s.height||sr.height,f,sr.height),s.margin=s.margin||sr.c4ShapeMargin,t.insert(s),Fu.drawC4Shape(e,s,sr)}t.bumpLastMargin(sr.c4ShapeMargin)},"drawC4ShapeArray"),S1,il=(S1=class{constructor(e,r){this.x=e,this.y=r}},k(S1,"Point"),S1),iV=k(function(t,e){let r=t.x,n=t.y,i=e.x,a=e.y,s=r+t.width/2,o=n+t.height/2,l=Math.abs(r-i),u=Math.abs(n-a),h=u/l,f=t.height/t.width,d=null;return n==a&&r<i?d=new il(r+t.width,o):n==a&&r>i?d=new il(r,o):r==i&&n<a?d=new il(s,n+t.height):r==i&&n>a&&(d=new il(s,n)),r>i&&n<a?f>=h?d=new il(r,o+h*t.width/2):d=new il(s-l/u*t.height/2,n+t.height):r<i&&n<a?f>=h?d=new il(r+t.width,o+h*t.width/2):d=new il(s+l/u*t.height/2,n+t.height):r<i&&n>a?f>=h?d=new il(r+t.width,o-h*t.width/2):d=new il(s+t.height/2*l/u,n):r>i&&n>a&&(f>=h?d=new il(r,o-t.width/2*h):d=new il(s-t.height/2*l/u,n)),d},"getIntersectPoint"),pPe=k(function(t,e){let r={x:0,y:0};r.x=e.x+e.width/2,r.y=e.y+e.height/2;let n=iV(t,r);r.x=t.x+t.width/2,r.y=t.y+t.height/2;let i=iV(e,r);return{startPoint:n,endPoint:i}},"getIntersectPoints"),gPe=k(function(t,e,r,n){let i=0;for(let a of e){i=i+1;let s=a.wrap&&sr.wrap,o=dPe(sr);n.db.getC4Type()==="C4Dynamic"&&(a.label.text=i+": "+a.label.text);let u=kl(a.label.text,o);bl("label",a,s,o,u),a.techn&&a.techn.text!==""&&(u=kl(a.techn.text,o),bl("techn",a,s,o,u)),a.descr&&a.descr.text!==""&&(u=kl(a.descr.text,o),bl("descr",a,s,o,u));let h=r(a.from),f=r(a.to),d=pPe(h,f);a.startPoint=d.startPoint,a.endPoint=d.endPoint}Fu.drawRels(t,e,sr)},"drawRels");function pN(t,e,r,n,i){let a=new Zie(i);a.data.widthLimit=r.data.widthLimit/Math.min(dL,n.length);for(let[s,o]of n.entries()){let l=0;o.image={width:0,height:0,Y:0},o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=l,l=o.image.Y+o.image.height);let u=o.wrap&&sr.wrap,h=_3(sr);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",bl("label",o,u,h,a.data.widthLimit),o.label.Y=l+8,l=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let m=_3(sr);bl("type",o,u,m,a.data.widthLimit),o.type.Y=l+5,l=o.type.Y+o.type.height}if(o.descr&&o.descr.text!==""){let m=_3(sr);m.fontSize=m.fontSize-2,bl("descr",o,u,m,a.data.widthLimit),o.descr.Y=l+20,l=o.descr.Y+o.descr.height}if(s==0||s%dL===0){let m=r.data.startx+sr.diagramMarginX,v=r.data.stopy+sr.diagramMarginY+l;a.setData(m,m,v,v)}else{let m=a.data.stopx!==a.data.startx?a.data.stopx+sr.diagramMarginX:a.data.startx,v=a.data.starty;a.setData(m,m,v,v)}a.name=o.alias;let f=i.db.getC4ShapeArray(o.alias),d=i.db.getC4ShapeKeys(o.alias);d.length>0&&eae(a,t,f,d),e=o.alias;let p=i.db.getBoundarys(e);p.length>0&&pN(t,e,a,p,i),o.alias!=="global"&&Jie(t,o,a),r.data.stopy=Math.max(a.data.stopy+sr.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(a.data.stopx+sr.c4ShapeMargin,r.data.stopx),LS=Math.max(LS,r.data.stopx),DS=Math.max(DS,r.data.stopy)}}k(pN,"drawInsideBoundary");var mPe=k(function(t,e,r,n){sr=Ue().c4;const i=Ue().securityLevel;let a;i==="sandbox"&&(a=bt("#i"+e));const s=bt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body");let o=n.db;n.db.setWrap(sr.wrap),Qie=o.getC4ShapeInRow(),dL=o.getC4BoundaryInRow(),Ee.debug(`C:${JSON.stringify(sr,null,2)}`);const l=i==="sandbox"?s.select(`[id="${e}"]`):bt(`[id="${e}"]`);Fu.insertComputerIcon(l),Fu.insertDatabaseIcon(l),Fu.insertClockIcon(l);let u=new Zie(n);u.setData(sr.diagramMarginX,sr.diagramMarginX,sr.diagramMarginY,sr.diagramMarginY),u.data.widthLimit=screen.availWidth,LS=sr.diagramMarginX,DS=sr.diagramMarginY;const h=n.db.getTitle();let f=n.db.getBoundarys("");pN(l,"",u,f,n),Fu.insertArrowHead(l),Fu.insertArrowEnd(l),Fu.insertArrowCrossHead(l),Fu.insertArrowFilledHead(l),gPe(l,n.db.getRels(),n.db.getC4Shape,n),u.data.stopx=LS,u.data.stopy=DS;const d=u.data;let m=d.stopy-d.starty+2*sr.diagramMarginY;const x=d.stopx-d.startx+2*sr.diagramMarginX;h&&l.append("text").text(h).attr("x",(d.stopx-d.startx)/2-4*sr.diagramMarginX).attr("y",d.starty+sr.diagramMarginY),xs(l,m,x,sr.useMaxWidth);const y=h?60:0;l.attr("viewBox",d.startx-sr.diagramMarginX+" -"+(sr.diagramMarginY+y)+" "+x+" "+(m+y)),Ee.debug("models:",d)},"draw"),aV={drawPersonOrSystemArray:eae,drawBoundary:Jie,setConf:pL,draw:mPe},vPe=k(t=>`.person {
    stroke: ${t.personBorder};
    fill: ${t.personBkg};
  }
`,"getStyles"),yPe=vPe,xPe={parser:COe,db:fL,renderer:aV,styles:yPe,init:k(({c4:t,wrap:e})=>{aV.setConf(t),fL.setWrap(e)},"init")};const bPe=Object.freeze(Object.defineProperty({__proto__:null,diagram:xPe},Symbol.toStringTag,{value:"Module"}));var gN=k((t,e)=>{let r;return e==="sandbox"&&(r=bt("#i"+t)),bt(e==="sandbox"?r.nodes()[0].contentDocument.body:"body").select(`[id="${t}"]`)},"getDiagramElement"),mN=k((t,e,r,n)=>{t.attr("class",r);const{width:i,height:a,x:s,y:o}=wPe(t,e);xs(t,a,i,n);const l=SPe(s,o,i,a,e);t.attr("viewBox",l),Ee.debug(`viewBox configured: ${l} with padding: ${e}`)},"setupViewPortForSVG"),wPe=k((t,e)=>{var n;const r=((n=t.node())==null?void 0:n.getBBox())||{width:0,height:0,x:0,y:0};return{width:r.width+e*2,height:r.height+e*2,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),SPe=k((t,e,r,n,i)=>`${t-i} ${e-i} ${r} ${n}`,"createViewBox"),kPe="flowchart-",sV=0,Am=Ue(),Xf=new Map,io=[],Dx=new Map,xh=[],vN=new Map,yN=new Map,L3=0,gL=!0,al,yT,xT=[],bT=k(t=>At.sanitizeText(t,Am),"sanitizeText"),wT=k(function(t){for(const e of Xf.values())if(e.id===t)return e.domId;return t},"lookUpDomId"),EPe=k(function(t,e,r,n,i,a,s={},o){var h,f;if(!t||t.trim().length===0)return;let l,u=Xf.get(t);if(u===void 0&&(u={id:t,labelType:"text",domId:kPe+t+"-"+sV,styles:[],classes:[]},Xf.set(t,u)),sV++,e!==void 0?(Am=Ue(),l=bT(e.text.trim()),u.labelType=e.type,l.startsWith('"')&&l.endsWith('"')&&(l=l.substring(1,l.length-1)),u.text=l):u.text===void 0&&(u.text=t),r!==void 0&&(u.type=r),n!=null&&n.forEach(function(d){u.styles.push(d)}),i!=null&&i.forEach(function(d){u.classes.push(d)}),a!==void 0&&(u.dir=a),u.props===void 0?u.props=s:s!==void 0&&Object.assign(u.props,s),o!==void 0){let d;o.includes(`
`)?d=o+`
`:d=`{
`+o+`
}`;const p=SR(d,{schema:wR});if(p.shape){if(p.shape!==p.shape.toLowerCase()||p.shape.includes("_"))throw new Error(`No such shape: ${p.shape}. Shape names should be lowercase.`);if(!gte(p.shape))throw new Error(`No such shape: ${p.shape}.`);u.type=p==null?void 0:p.shape}p!=null&&p.label&&(u.text=p==null?void 0:p.label),p!=null&&p.icon&&(u.icon=p==null?void 0:p.icon,!((h=p.label)!=null&&h.trim())&&u.text===t&&(u.text="")),p!=null&&p.form&&(u.form=p==null?void 0:p.form),p!=null&&p.pos&&(u.pos=p==null?void 0:p.pos),p!=null&&p.img&&(u.img=p==null?void 0:p.img,!((f=p.label)!=null&&f.trim())&&u.text===t&&(u.text="")),p!=null&&p.constraint&&(u.constraint=p.constraint),p.w&&(u.assetWidth=Number(p.w)),p.h&&(u.assetHeight=Number(p.h))}},"addVertex"),TPe=k(function(t,e,r){const a={start:t,end:e,type:void 0,text:"",labelType:"text"};Ee.info("abc78 Got edge...",a);const s=r.text;if(s!==void 0&&(a.text=bT(s.text.trim()),a.text.startsWith('"')&&a.text.endsWith('"')&&(a.text=a.text.substring(1,a.text.length-1)),a.labelType=s.type),r!==void 0&&(a.type=r.type,a.stroke=r.stroke,a.length=r.length>10?10:r.length),io.length<(Am.maxEdges??500))Ee.info("Pushing edge..."),io.push(a);else throw new Error(`Edge limit exceeded. ${io.length} edges found, but the limit is ${Am.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)},"addSingleLink"),CPe=k(function(t,e,r){Ee.info("addLink",t,e,r);for(const n of t)for(const i of e)TPe(n,i,r)},"addLink"),APe=k(function(t,e){t.forEach(function(r){r==="default"?io.defaultInterpolate=e:io[r].interpolate=e})},"updateLinkInterpolate"),_Pe=k(function(t,e){t.forEach(function(r){var n,i,a,s,o,l;if(typeof r=="number"&&r>=io.length)throw new Error(`The index ${r} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${io.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);r==="default"?io.defaultStyle=e:(io[r].style=e,(((i=(n=io[r])==null?void 0:n.style)==null?void 0:i.length)??0)>0&&!((s=(a=io[r])==null?void 0:a.style)!=null&&s.some(u=>u==null?void 0:u.startsWith("fill")))&&((l=(o=io[r])==null?void 0:o.style)==null||l.push("fill:none")))})},"updateLink"),LPe=k(function(t,e){t.split(",").forEach(function(r){let n=Dx.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},Dx.set(r,n)),e!=null&&e.forEach(function(i){if(/color/.exec(i)){const a=i.replace("fill","bgFill");n.textStyles.push(a)}n.styles.push(i)})})},"addClass"),DPe=k(function(t){al=t,/.*</.exec(al)&&(al="RL"),/.*\^/.exec(al)&&(al="BT"),/.*>/.exec(al)&&(al="LR"),/.*v/.exec(al)&&(al="TB"),al==="TD"&&(al="TB")},"setDirection"),xN=k(function(t,e){for(const r of t.split(",")){const n=Xf.get(r);n&&n.classes.push(e);const i=vN.get(r);i&&i.classes.push(e)}},"setClass"),RPe=k(function(t,e){if(e!==void 0){e=bT(e);for(const r of t.split(","))yN.set(yT==="gen-1"?wT(r):r,e)}},"setTooltip"),MPe=k(function(t,e,r){const n=wT(t);if(Ue().securityLevel!=="loose"||e===void 0)return;let i=[];if(typeof r=="string"){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<i.length;s++){let o=i[s].trim();o.startsWith('"')&&o.endsWith('"')&&(o=o.substr(1,o.length-2)),i[s]=o}}i.length===0&&i.push(t);const a=Xf.get(t);a&&(a.haveCallback=!0,xT.push(function(){const s=document.querySelector(`[id="${n}"]`);s!==null&&s.addEventListener("click",function(){Ir.runFunc(e,...i)},!1)}))},"setClickFun"),NPe=k(function(t,e,r){t.split(",").forEach(function(n){const i=Xf.get(n);i!==void 0&&(i.link=Ir.formatUrl(e,Am),i.linkTarget=r)}),xN(t,"clickable")},"setLink"),tae=k(function(t){return yN.get(t)},"getTooltip"),IPe=k(function(t,e,r){t.split(",").forEach(function(n){MPe(n,e,r)}),xN(t,"clickable")},"setClickEvent"),OPe=k(function(t){xT.forEach(function(e){e(t)})},"bindFunctions"),rae=k(function(){return al.trim()},"getDirection"),nae=k(function(){return Xf},"getVertices"),iae=k(function(){return io},"getEdges"),PPe=k(function(){return Dx},"getClasses"),aae=k(function(t){let e=bt(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=bt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),bt(t).select("svg").selectAll("g.node").on("mouseover",function(){const i=bt(this);if(i.attr("title")===null)return;const s=this==null?void 0:this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(i.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.bottom+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),bt(this).classed("hover",!1)})},"setupToolTips");xT.push(aae);var FPe=k(function(t="gen-1"){Xf=new Map,Dx=new Map,io=[],xT=[aae],xh=[],vN=new Map,L3=0,yN=new Map,gL=!0,yT=t,Am=Ue(),Ea()},"clear"),BPe=k(t=>{yT=t||"gen-2"},"setGen"),$Pe=k(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),zPe=k(function(t,e,r){let n=t.text.trim(),i=r.text;t===r&&/\s/.exec(r.text)&&(n=void 0);function a(u){const h={boolean:{},number:{},string:{}},f=[];let d;return{nodeList:u.filter(function(m){const v=typeof m;return m.stmt&&m.stmt==="dir"?(d=m.value,!1):m.trim()===""?!1:v in h?h[v].hasOwnProperty(m)?!1:h[v][m]=!0:f.includes(m)?!1:f.push(m)}),dir:d}}k(a,"uniq");const{nodeList:s,dir:o}=a(e.flat());if(yT==="gen-1")for(let u=0;u<s.length;u++)s[u]=wT(s[u]);n=n??"subGraph"+L3,i=i||"",i=bT(i),L3=L3+1;const l={id:n,nodes:s,title:i.trim(),classes:[],dir:o,labelType:r.type};return Ee.info("Adding",l.id,l.nodes,l.dir),l.nodes=cae(l,xh).nodes,xh.push(l),vN.set(n,l),n},"addSubGraph"),HPe=k(function(t){for(const[e,r]of xh.entries())if(r.id===t)return e;return-1},"getPosForId"),Zy=-1,sae=[],oae=k(function(t,e){const r=xh[e].nodes;if(Zy=Zy+1,Zy>2e3)return{result:!1,count:0};if(sae[Zy]=e,xh[e].id===t)return{result:!0,count:0};let n=0,i=1;for(;n<r.length;){const a=HPe(r[n]);if(a>=0){const s=oae(t,a);if(s.result)return{result:!0,count:i+s.count};i=i+s.count}n=n+1}return{result:!1,count:i}},"indexNodes2"),VPe=k(function(t){return sae[t]},"getDepthFirstPos"),UPe=k(function(){Zy=-1,xh.length>0&&oae("none",xh.length-1)},"indexNodes"),lae=k(function(){return xh},"getSubGraphs"),GPe=k(()=>gL?(gL=!1,!0):!1,"firstGraph"),WPe=k(t=>{let e=t.trim(),r="arrow_open";switch(e[0]){case"<":r="arrow_point",e=e.slice(1);break;case"x":r="arrow_cross",e=e.slice(1);break;case"o":r="arrow_circle",e=e.slice(1);break}let n="normal";return e.includes("=")&&(n="thick"),e.includes(".")&&(n="dotted"),{type:r,stroke:n}},"destructStartLink"),qPe=k((t,e)=>{const r=e.length;let n=0;for(let i=0;i<r;++i)e[i]===t&&++n;return n},"countChar"),YPe=k(t=>{const e=t.trim();let r=e.slice(0,-1),n="arrow_open";switch(e.slice(-1)){case"x":n="arrow_cross",e.startsWith("x")&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",e.startsWith("<")&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",e.startsWith("o")&&(n="double_"+n,r=r.slice(1));break}let i="normal",a=r.length-1;r.startsWith("=")&&(i="thick"),r.startsWith("~")&&(i="invisible");const s=qPe(".",r);return s&&(i="dotted",a=s),{type:n,stroke:i,length:a}},"destructEndLink"),XPe=k((t,e)=>{const r=YPe(t);let n;if(e){if(n=WPe(e),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=r.length,n}return r},"destructLink"),uae=k((t,e)=>{for(const r of t)if(r.nodes.includes(e))return!0;return!1},"exists"),cae=k((t,e)=>{const r=[];return t.nodes.forEach((n,i)=>{uae(e,n)||r.push(t.nodes[i])}),{nodes:r}},"makeUniq"),jPe={firstGraph:GPe},KPe=k(t=>{if(t.img)return"imageSquare";if(t.icon)return t.form==="circle"?"iconCircle":t.form==="square"?"iconSquare":t.form==="rounded"?"iconRounded":"icon";switch(t.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return t.type}},"getTypeFromVertex"),QPe=k((t,e)=>t.find(r=>r.id===e),"findNode"),ZPe=k(t=>{let e="none",r="arrow_point";switch(t){case"arrow_point":case"arrow_circle":case"arrow_cross":r=t;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":e=t.replace("double_",""),r=e;break}return{arrowTypeStart:e,arrowTypeEnd:r}},"destructEdgeType"),JPe=k((t,e,r,n,i,a)=>{var u;const s=r.get(t.id),o=n.get(t.id)??!1,l=QPe(e,t.id);if(l)l.cssStyles=t.styles,l.cssCompiledStyles=RS(t.classes),l.cssClasses=t.classes.join(" ");else{const h={id:t.id,label:t.text,labelStyle:"",parentId:s,padding:((u=i.flowchart)==null?void 0:u.padding)||8,cssStyles:t.styles,cssCompiledStyles:RS(["default","node",...t.classes]),cssClasses:"default "+t.classes.join(" "),dir:t.dir,domId:t.domId,look:a,link:t.link,linkTarget:t.linkTarget,tooltip:tae(t.id),icon:t.icon,pos:t.pos,img:t.img,assetWidth:t.assetWidth,assetHeight:t.assetHeight,constraint:t.constraint};o?e.push({...h,isGroup:!0,shape:"rect"}):e.push({...h,isGroup:!1,shape:KPe(t)})}},"addNodeFromVertex");function RS(t){let e=[];for(const r of t){const n=Dx.get(r);n!=null&&n.styles&&(e=[...e,...n.styles??[]].map(i=>i.trim())),n!=null&&n.textStyles&&(e=[...e,...n.textStyles??[]].map(i=>i.trim()))}return e}k(RS,"getCompiledStyles");var eFe=k(()=>{const t=Ue(),e=[],r=[],n=lae(),i=new Map,a=new Map;for(let l=n.length-1;l>=0;l--){const u=n[l];u.nodes.length>0&&a.set(u.id,!0);for(const h of u.nodes)i.set(h,u.id)}for(let l=n.length-1;l>=0;l--){const u=n[l];e.push({id:u.id,label:u.title,labelStyle:"",parentId:i.get(u.id),padding:8,cssCompiledStyles:RS(u.classes),cssClasses:u.classes.join(" "),shape:"rect",dir:u.dir,isGroup:!0,look:t.look})}nae().forEach(l=>{JPe(l,e,i,a,t,t.look||"classic")});const o=iae();return o.forEach((l,u)=>{const{arrowTypeStart:h,arrowTypeEnd:f}=ZPe(l.type),d=[...o.defaultStyle??[]];l.style&&d.push(...l.style);const p={id:SJ(l.start,l.end,{counter:u,prefix:"L"}),start:l.start,end:l.end,type:l.type??"normal",label:l.text,labelpos:"c",thickness:l.stroke,minlen:l.length,classes:(l==null?void 0:l.stroke)==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:(l==null?void 0:l.stroke)==="invisible"?"none":h,arrowTypeEnd:(l==null?void 0:l.stroke)==="invisible"?"none":f,arrowheadStyle:"fill: #333",labelStyle:d,style:d,pattern:l.stroke,look:t.look};r.push(p)}),{nodes:e,edges:r,other:{},config:t}},"getData"),s8={defaultConfig:k(()=>jj.flowchart,"defaultConfig"),setAccTitle:Ta,getAccTitle:Wa,getAccDescription:Ya,getData:eFe,setAccDescription:qa,addVertex:EPe,lookUpDomId:wT,addLink:CPe,updateLinkInterpolate:APe,updateLink:_Pe,addClass:LPe,setDirection:DPe,setClass:xN,setTooltip:RPe,getTooltip:tae,setClickEvent:IPe,setLink:NPe,bindFunctions:OPe,getDirection:rae,getVertices:nae,getEdges:iae,getClasses:PPe,clear:FPe,setGen:BPe,defaultStyle:$Pe,addSubGraph:zPe,getDepthFirstPos:VPe,indexNodes:UPe,getSubGraphs:lae,destructLink:XPe,lex:jPe,exists:uae,makeUniq:cae,setDiagramTitle:js,getDiagramTitle:Xa},tFe=k(function(t,e){return e.db.getClasses()},"getClasses"),rFe=k(async function(t,e,r,n){var p;Ee.info("REF0:"),Ee.info("Drawing state diagram (v2)",e);const{securityLevel:i,flowchart:a,layout:s}=Ue();let o;i==="sandbox"&&(o=bt("#i"+e));const l=i==="sandbox"?o.nodes()[0].contentDocument:document;Ee.debug("Before getData: ");const u=n.db.getData();Ee.debug("Data: ",u);const h=gN(e,i),f=rae();u.type=n.type,u.layoutAlgorithm=kte(s),u.layoutAlgorithm==="dagre"&&s==="elk"&&Ee.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),u.direction=f,u.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,u.rankSpacing=(a==null?void 0:a.rankSpacing)||50,u.markers=["point","circle","cross"],u.diagramId=e,Ee.debug("REF1:",u),await oM(u,h);const d=((p=u.config.flowchart)==null?void 0:p.diagramPadding)??8;Ir.insertTitle(h,"flowchartTitleText",(a==null?void 0:a.titleTopMargin)||0,n.db.getDiagramTitle()),mN(h,d,"flowchart",(a==null?void 0:a.useMaxWidth)||!1);for(const m of u.nodes){const v=bt(`#${e} [id="${m.id}"]`);if(!v||!m.link)continue;const x=l.createElementNS("http://www.w3.org/2000/svg","a");x.setAttributeNS("http://www.w3.org/2000/svg","class",m.cssClasses),x.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?x.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):m.linkTarget&&x.setAttributeNS("http://www.w3.org/2000/svg","target",m.linkTarget);const y=v.insert(function(){return x},":first-child"),w=v.select(".label-container");w&&y.append(function(){return w.node()});const S=v.select(".label");S&&y.append(function(){return S.node()})}},"draw"),nFe={getClasses:tFe,draw:rFe},mL=function(){var t=k(function(Cn,Et,lt,tr){for(lt=lt||{},tr=Cn.length;tr--;lt[Cn[tr]]=Et);return lt},"o"),e=[1,4],r=[1,3],n=[1,5],i=[1,8,9,10,11,27,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],a=[2,2],s=[1,13],o=[1,14],l=[1,15],u=[1,16],h=[1,23],f=[1,25],d=[1,26],p=[1,27],m=[1,49],v=[1,48],x=[1,29],y=[1,30],w=[1,31],S=[1,32],E=[1,33],C=[1,44],L=[1,46],_=[1,42],I=[1,47],D=[1,43],F=[1,50],M=[1,45],B=[1,51],H=[1,52],R=[1,34],O=[1,35],P=[1,36],z=[1,37],$=[1,57],V=[1,8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],X=[1,61],q=[1,60],Y=[1,62],U=[8,9,11,75,77],Z=[1,77],pe=[1,90],ne=[1,95],ge=[1,94],ye=[1,91],J=[1,87],se=[1,93],oe=[1,89],fe=[1,96],me=[1,92],be=[1,97],ce=[1,88],Ge=[8,9,10,11,40,75,77],xe=[8,9,10,11,40,46,75,77],le=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,88,101,104,105,108,110,113,114,115],ke=[8,9,11,44,60,75,77,88,101,104,105,108,110,113,114,115],De=[44,60,88,101,104,105,108,110,113,114,115],We=[1,123],qe=[1,122],Ve=[1,130],we=[1,144],Te=[1,145],de=[1,146],W=[1,147],ee=[1,132],te=[1,134],he=[1,138],K=[1,139],_e=[1,140],ae=[1,141],Le=[1,142],Ne=[1,143],Ie=[1,148],Oe=[1,149],Pe=[1,128],Me=[1,129],ze=[1,136],it=[1,131],ut=[1,135],gt=[1,133],wt=[8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],Pt=[1,151],ot=[1,153],at=[8,9,11],kt=[8,9,10,11,14,44,60,88,104,105,108,110,113,114,115],ct=[1,173],ft=[1,169],Jt=[1,170],pt=[1,174],dt=[1,171],Rt=[1,172],er=[77,115,118],Ot=[8,9,10,11,12,14,27,29,32,44,60,75,83,84,85,86,87,88,89,104,108,110,113,114,115],wr=[10,105],Wr=[31,49,51,53,55,57,62,64,66,67,69,71,115,116,117],Er=[1,242],Jn=[1,240],ln=[1,244],Mn=[1,238],zr=[1,239],En=[1,241],Ut=[1,243],Ye=[1,245],vt=[1,263],Vt=[8,9,11,105],yr=[8,9,10,11,60,83,104,105,108,109,110,111],cn={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,edgeTextToken:78,STR:79,MD_STR:80,textToken:81,keywords:82,STYLE:83,LINKSTYLE:84,CLASSDEF:85,CLASS:86,CLICK:87,DOWN:88,UP:89,textNoTagsToken:90,stylesOpt:91,"idString[vertex]":92,"idString[class]":93,CALLBACKNAME:94,CALLBACKARGS:95,HREF:96,LINK_TARGET:97,"STR[link]":98,"STR[tooltip]":99,alphaNum:100,DEFAULT:101,numList:102,INTERPOLATE:103,NUM:104,COMMA:105,style:106,styleComponent:107,NODE_STRING:108,UNIT:109,BRKT:110,PCT:111,idStringToken:112,MINUS:113,MULT:114,UNICODE_TEXT:115,TEXT:116,TAGSTART:117,EDGE_TEXT:118,alphaNumToken:119,direction_tb:120,direction_bt:121,direction_rl:122,direction_lr:123,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",79:"STR",80:"MD_STR",83:"STYLE",84:"LINKSTYLE",85:"CLASSDEF",86:"CLASS",87:"CLICK",88:"DOWN",89:"UP",92:"idString[vertex]",93:"idString[class]",94:"CALLBACKNAME",95:"CALLBACKARGS",96:"HREF",97:"LINK_TARGET",98:"STR[link]",99:"STR[tooltip]",101:"DEFAULT",103:"INTERPOLATE",104:"NUM",105:"COMMA",108:"NODE_STRING",109:"UNIT",110:"BRKT",111:"PCT",113:"MINUS",114:"MULT",115:"UNICODE_TEXT",116:"TEXT",117:"TAGSTART",118:"EDGE_TEXT",120:"direction_tb",121:"direction_bt",122:"direction_rl",123:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[76,1],[76,2],[76,1],[76,1],[72,1],[73,3],[30,1],[30,2],[30,1],[30,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[102,1],[102,3],[91,1],[91,3],[106,1],[106,2],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[81,1],[81,1],[81,1],[81,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[78,1],[78,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[47,1],[47,2],[100,1],[100,2],[33,1],[33,1],[33,1],[33,1]],performAction:k(function(Et,lt,tr,Tt,Kt,Ce,Or){var Be=Ce.length-1;switch(Kt){case 2:this.$=[];break;case 3:(!Array.isArray(Ce[Be])||Ce[Be].length>0)&&Ce[Be-1].push(Ce[Be]),this.$=Ce[Be-1];break;case 4:case 181:this.$=Ce[Be];break;case 11:Tt.setDirection("TB"),this.$="TB";break;case 12:Tt.setDirection(Ce[Be-1]),this.$=Ce[Be-1];break;case 27:this.$=Ce[Be-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=Tt.addSubGraph(Ce[Be-6],Ce[Be-1],Ce[Be-4]);break;case 34:this.$=Tt.addSubGraph(Ce[Be-3],Ce[Be-1],Ce[Be-3]);break;case 35:this.$=Tt.addSubGraph(void 0,Ce[Be-1],void 0);break;case 37:this.$=Ce[Be].trim(),Tt.setAccTitle(this.$);break;case 38:case 39:this.$=Ce[Be].trim(),Tt.setAccDescription(this.$);break;case 43:this.$=Ce[Be-1]+Ce[Be];break;case 44:this.$=Ce[Be];break;case 45:Tt.addVertex(Ce[Be-1][0],void 0,void 0,void 0,void 0,void 0,void 0,Ce[Be]),Tt.addLink(Ce[Be-3].stmt,Ce[Be-1],Ce[Be-2]),this.$={stmt:Ce[Be-1],nodes:Ce[Be-1].concat(Ce[Be-3].nodes)};break;case 46:Tt.addLink(Ce[Be-2].stmt,Ce[Be],Ce[Be-1]),this.$={stmt:Ce[Be],nodes:Ce[Be].concat(Ce[Be-2].nodes)};break;case 47:Tt.addLink(Ce[Be-3].stmt,Ce[Be-1],Ce[Be-2]),this.$={stmt:Ce[Be-1],nodes:Ce[Be-1].concat(Ce[Be-3].nodes)};break;case 48:this.$={stmt:Ce[Be-1],nodes:Ce[Be-1]};break;case 49:Tt.addVertex(Ce[Be-1][0],void 0,void 0,void 0,void 0,void 0,void 0,Ce[Be]),this.$={stmt:Ce[Be-1],nodes:Ce[Be-1],shapeData:Ce[Be]};break;case 50:this.$={stmt:Ce[Be],nodes:Ce[Be]};break;case 51:this.$=[Ce[Be]];break;case 52:Tt.addVertex(Ce[Be-5][0],void 0,void 0,void 0,void 0,void 0,void 0,Ce[Be-4]),this.$=Ce[Be-5].concat(Ce[Be]);break;case 53:this.$=Ce[Be-4].concat(Ce[Be]);break;case 54:this.$=Ce[Be];break;case 55:this.$=Ce[Be-2],Tt.setClass(Ce[Be-2],Ce[Be]);break;case 56:this.$=Ce[Be-3],Tt.addVertex(Ce[Be-3],Ce[Be-1],"square");break;case 57:this.$=Ce[Be-3],Tt.addVertex(Ce[Be-3],Ce[Be-1],"doublecircle");break;case 58:this.$=Ce[Be-5],Tt.addVertex(Ce[Be-5],Ce[Be-2],"circle");break;case 59:this.$=Ce[Be-3],Tt.addVertex(Ce[Be-3],Ce[Be-1],"ellipse");break;case 60:this.$=Ce[Be-3],Tt.addVertex(Ce[Be-3],Ce[Be-1],"stadium");break;case 61:this.$=Ce[Be-3],Tt.addVertex(Ce[Be-3],Ce[Be-1],"subroutine");break;case 62:this.$=Ce[Be-7],Tt.addVertex(Ce[Be-7],Ce[Be-1],"rect",void 0,void 0,void 0,Object.fromEntries([[Ce[Be-5],Ce[Be-3]]]));break;case 63:this.$=Ce[Be-3],Tt.addVertex(Ce[Be-3],Ce[Be-1],"cylinder");break;case 64:this.$=Ce[Be-3],Tt.addVertex(Ce[Be-3],Ce[Be-1],"round");break;case 65:this.$=Ce[Be-3],Tt.addVertex(Ce[Be-3],Ce[Be-1],"diamond");break;case 66:this.$=Ce[Be-5],Tt.addVertex(Ce[Be-5],Ce[Be-2],"hexagon");break;case 67:this.$=Ce[Be-3],Tt.addVertex(Ce[Be-3],Ce[Be-1],"odd");break;case 68:this.$=Ce[Be-3],Tt.addVertex(Ce[Be-3],Ce[Be-1],"trapezoid");break;case 69:this.$=Ce[Be-3],Tt.addVertex(Ce[Be-3],Ce[Be-1],"inv_trapezoid");break;case 70:this.$=Ce[Be-3],Tt.addVertex(Ce[Be-3],Ce[Be-1],"lean_right");break;case 71:this.$=Ce[Be-3],Tt.addVertex(Ce[Be-3],Ce[Be-1],"lean_left");break;case 72:this.$=Ce[Be],Tt.addVertex(Ce[Be]);break;case 73:Ce[Be-1].text=Ce[Be],this.$=Ce[Be-1];break;case 74:case 75:Ce[Be-2].text=Ce[Be-1],this.$=Ce[Be-2];break;case 76:this.$=Ce[Be];break;case 77:var xn=Tt.destructLink(Ce[Be],Ce[Be-2]);this.$={type:xn.type,stroke:xn.stroke,length:xn.length,text:Ce[Be-1]};break;case 78:this.$={text:Ce[Be],type:"text"};break;case 79:this.$={text:Ce[Be-1].text+""+Ce[Be],type:Ce[Be-1].type};break;case 80:this.$={text:Ce[Be],type:"string"};break;case 81:this.$={text:Ce[Be],type:"markdown"};break;case 82:var xn=Tt.destructLink(Ce[Be]);this.$={type:xn.type,stroke:xn.stroke,length:xn.length};break;case 83:this.$=Ce[Be-1];break;case 84:this.$={text:Ce[Be],type:"text"};break;case 85:this.$={text:Ce[Be-1].text+""+Ce[Be],type:Ce[Be-1].type};break;case 86:this.$={text:Ce[Be],type:"string"};break;case 87:case 102:this.$={text:Ce[Be],type:"markdown"};break;case 99:this.$={text:Ce[Be],type:"text"};break;case 100:this.$={text:Ce[Be-1].text+""+Ce[Be],type:Ce[Be-1].type};break;case 101:this.$={text:Ce[Be],type:"text"};break;case 103:this.$=Ce[Be-4],Tt.addClass(Ce[Be-2],Ce[Be]);break;case 104:this.$=Ce[Be-4],Tt.setClass(Ce[Be-2],Ce[Be]);break;case 105:case 113:this.$=Ce[Be-1],Tt.setClickEvent(Ce[Be-1],Ce[Be]);break;case 106:case 114:this.$=Ce[Be-3],Tt.setClickEvent(Ce[Be-3],Ce[Be-2]),Tt.setTooltip(Ce[Be-3],Ce[Be]);break;case 107:this.$=Ce[Be-2],Tt.setClickEvent(Ce[Be-2],Ce[Be-1],Ce[Be]);break;case 108:this.$=Ce[Be-4],Tt.setClickEvent(Ce[Be-4],Ce[Be-3],Ce[Be-2]),Tt.setTooltip(Ce[Be-4],Ce[Be]);break;case 109:this.$=Ce[Be-2],Tt.setLink(Ce[Be-2],Ce[Be]);break;case 110:this.$=Ce[Be-4],Tt.setLink(Ce[Be-4],Ce[Be-2]),Tt.setTooltip(Ce[Be-4],Ce[Be]);break;case 111:this.$=Ce[Be-4],Tt.setLink(Ce[Be-4],Ce[Be-2],Ce[Be]);break;case 112:this.$=Ce[Be-6],Tt.setLink(Ce[Be-6],Ce[Be-4],Ce[Be]),Tt.setTooltip(Ce[Be-6],Ce[Be-2]);break;case 115:this.$=Ce[Be-1],Tt.setLink(Ce[Be-1],Ce[Be]);break;case 116:this.$=Ce[Be-3],Tt.setLink(Ce[Be-3],Ce[Be-2]),Tt.setTooltip(Ce[Be-3],Ce[Be]);break;case 117:this.$=Ce[Be-3],Tt.setLink(Ce[Be-3],Ce[Be-2],Ce[Be]);break;case 118:this.$=Ce[Be-5],Tt.setLink(Ce[Be-5],Ce[Be-4],Ce[Be]),Tt.setTooltip(Ce[Be-5],Ce[Be-2]);break;case 119:this.$=Ce[Be-4],Tt.addVertex(Ce[Be-2],void 0,void 0,Ce[Be]);break;case 120:this.$=Ce[Be-4],Tt.updateLink([Ce[Be-2]],Ce[Be]);break;case 121:this.$=Ce[Be-4],Tt.updateLink(Ce[Be-2],Ce[Be]);break;case 122:this.$=Ce[Be-8],Tt.updateLinkInterpolate([Ce[Be-6]],Ce[Be-2]),Tt.updateLink([Ce[Be-6]],Ce[Be]);break;case 123:this.$=Ce[Be-8],Tt.updateLinkInterpolate(Ce[Be-6],Ce[Be-2]),Tt.updateLink(Ce[Be-6],Ce[Be]);break;case 124:this.$=Ce[Be-6],Tt.updateLinkInterpolate([Ce[Be-4]],Ce[Be]);break;case 125:this.$=Ce[Be-6],Tt.updateLinkInterpolate(Ce[Be-4],Ce[Be]);break;case 126:case 128:this.$=[Ce[Be]];break;case 127:case 129:Ce[Be-2].push(Ce[Be]),this.$=Ce[Be-2];break;case 131:this.$=Ce[Be-1]+Ce[Be];break;case 179:this.$=Ce[Be];break;case 180:this.$=Ce[Be-1]+""+Ce[Be];break;case 182:this.$=Ce[Be-1]+""+Ce[Be];break;case 183:this.$={stmt:"dir",value:"TB"};break;case 184:this.$={stmt:"dir",value:"BT"};break;case 185:this.$={stmt:"dir",value:"RL"};break;case 186:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:e,10:r,12:n},{1:[3]},t(i,a,{5:6}),{4:7,9:e,10:r,12:n},{4:8,9:e,10:r,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,33:24,34:f,36:d,38:p,42:28,43:38,44:m,45:39,47:40,60:v,83:x,84:y,85:w,86:S,87:E,88:C,101:L,104:_,105:I,108:D,110:F,112:41,113:M,114:B,115:H,120:R,121:O,122:P,123:z},t(i,[2,9]),t(i,[2,10]),t(i,[2,11]),{8:[1,54],9:[1,55],10:$,15:53,18:56},t(V,[2,3]),t(V,[2,4]),t(V,[2,5]),t(V,[2,6]),t(V,[2,7]),t(V,[2,8]),{8:X,9:q,11:Y,21:58,41:59,72:63,75:[1,64],77:[1,65]},{8:X,9:q,11:Y,21:66},{8:X,9:q,11:Y,21:67},{8:X,9:q,11:Y,21:68},{8:X,9:q,11:Y,21:69},{8:X,9:q,11:Y,21:70},{8:X,9:q,10:[1,71],11:Y,21:72},t(V,[2,36]),{35:[1,73]},{37:[1,74]},t(V,[2,39]),t(U,[2,50],{18:75,39:76,10:$,40:Z}),{10:[1,78]},{10:[1,79]},{10:[1,80]},{10:[1,81]},{14:pe,44:ne,60:ge,79:[1,85],88:ye,94:[1,82],96:[1,83],100:84,104:J,105:se,108:oe,110:fe,113:me,114:be,115:ce,119:86},t(V,[2,183]),t(V,[2,184]),t(V,[2,185]),t(V,[2,186]),t(Ge,[2,51]),t(Ge,[2,54],{46:[1,98]}),t(xe,[2,72],{112:111,29:[1,99],44:m,48:[1,100],50:[1,101],52:[1,102],54:[1,103],56:[1,104],58:[1,105],60:v,63:[1,106],65:[1,107],67:[1,108],68:[1,109],70:[1,110],88:C,101:L,104:_,105:I,108:D,110:F,113:M,114:B,115:H}),t(le,[2,179]),t(le,[2,140]),t(le,[2,141]),t(le,[2,142]),t(le,[2,143]),t(le,[2,144]),t(le,[2,145]),t(le,[2,146]),t(le,[2,147]),t(le,[2,148]),t(le,[2,149]),t(le,[2,150]),t(i,[2,12]),t(i,[2,18]),t(i,[2,19]),{9:[1,112]},t(ke,[2,26],{18:113,10:$}),t(V,[2,27]),{42:114,43:38,44:m,45:39,47:40,60:v,88:C,101:L,104:_,105:I,108:D,110:F,112:41,113:M,114:B,115:H},t(V,[2,40]),t(V,[2,41]),t(V,[2,42]),t(De,[2,76],{73:115,62:[1,117],74:[1,116]}),{76:118,78:119,79:[1,120],80:[1,121],115:We,118:qe},t([44,60,62,74,88,101,104,105,108,110,113,114,115],[2,82]),t(V,[2,28]),t(V,[2,29]),t(V,[2,30]),t(V,[2,31]),t(V,[2,32]),{10:Ve,12:we,14:Te,27:de,28:124,32:W,44:ee,60:te,75:he,79:[1,126],80:[1,127],82:137,83:K,84:_e,85:ae,86:Le,87:Ne,88:Ie,89:Oe,90:125,104:Pe,108:Me,110:ze,113:it,114:ut,115:gt},t(wt,a,{5:150}),t(V,[2,37]),t(V,[2,38]),t(U,[2,48],{44:Pt}),t(U,[2,49],{18:152,10:$,40:ot}),t(Ge,[2,44]),{44:m,47:154,60:v,88:C,101:L,104:_,105:I,108:D,110:F,112:41,113:M,114:B,115:H},{101:[1,155],102:156,104:[1,157]},{44:m,47:158,60:v,88:C,101:L,104:_,105:I,108:D,110:F,112:41,113:M,114:B,115:H},{44:m,47:159,60:v,88:C,101:L,104:_,105:I,108:D,110:F,112:41,113:M,114:B,115:H},t(at,[2,105],{10:[1,160],95:[1,161]}),{79:[1,162]},t(at,[2,113],{119:164,10:[1,163],14:pe,44:ne,60:ge,88:ye,104:J,105:se,108:oe,110:fe,113:me,114:be,115:ce}),t(at,[2,115],{10:[1,165]}),t(kt,[2,181]),t(kt,[2,168]),t(kt,[2,169]),t(kt,[2,170]),t(kt,[2,171]),t(kt,[2,172]),t(kt,[2,173]),t(kt,[2,174]),t(kt,[2,175]),t(kt,[2,176]),t(kt,[2,177]),t(kt,[2,178]),{44:m,47:166,60:v,88:C,101:L,104:_,105:I,108:D,110:F,112:41,113:M,114:B,115:H},{30:167,67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},{30:175,67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},{30:177,50:[1,176],67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},{30:178,67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},{30:179,67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},{30:180,67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},{108:[1,181]},{30:182,67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},{30:183,65:[1,184],67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},{30:185,67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},{30:186,67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},{30:187,67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},t(le,[2,180]),t(i,[2,20]),t(ke,[2,25]),t(U,[2,46],{39:188,18:189,10:$,40:Z}),t(De,[2,73],{10:[1,190]}),{10:[1,191]},{30:192,67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},{77:[1,193],78:194,115:We,118:qe},t(er,[2,78]),t(er,[2,80]),t(er,[2,81]),t(er,[2,166]),t(er,[2,167]),{8:X,9:q,10:Ve,11:Y,12:we,14:Te,21:196,27:de,29:[1,195],32:W,44:ee,60:te,75:he,82:137,83:K,84:_e,85:ae,86:Le,87:Ne,88:Ie,89:Oe,90:197,104:Pe,108:Me,110:ze,113:it,114:ut,115:gt},t(Ot,[2,99]),t(Ot,[2,101]),t(Ot,[2,102]),t(Ot,[2,155]),t(Ot,[2,156]),t(Ot,[2,157]),t(Ot,[2,158]),t(Ot,[2,159]),t(Ot,[2,160]),t(Ot,[2,161]),t(Ot,[2,162]),t(Ot,[2,163]),t(Ot,[2,164]),t(Ot,[2,165]),t(Ot,[2,88]),t(Ot,[2,89]),t(Ot,[2,90]),t(Ot,[2,91]),t(Ot,[2,92]),t(Ot,[2,93]),t(Ot,[2,94]),t(Ot,[2,95]),t(Ot,[2,96]),t(Ot,[2,97]),t(Ot,[2,98]),{6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,198],33:24,34:f,36:d,38:p,42:28,43:38,44:m,45:39,47:40,60:v,83:x,84:y,85:w,86:S,87:E,88:C,101:L,104:_,105:I,108:D,110:F,112:41,113:M,114:B,115:H,120:R,121:O,122:P,123:z},{10:$,18:199},{44:[1,200]},t(Ge,[2,43]),{10:[1,201],44:m,60:v,88:C,101:L,104:_,105:I,108:D,110:F,112:111,113:M,114:B,115:H},{10:[1,202]},{10:[1,203],105:[1,204]},t(wr,[2,126]),{10:[1,205],44:m,60:v,88:C,101:L,104:_,105:I,108:D,110:F,112:111,113:M,114:B,115:H},{10:[1,206],44:m,60:v,88:C,101:L,104:_,105:I,108:D,110:F,112:111,113:M,114:B,115:H},{79:[1,207]},t(at,[2,107],{10:[1,208]}),t(at,[2,109],{10:[1,209]}),{79:[1,210]},t(kt,[2,182]),{79:[1,211],97:[1,212]},t(Ge,[2,55],{112:111,44:m,60:v,88:C,101:L,104:_,105:I,108:D,110:F,113:M,114:B,115:H}),{31:[1,213],67:ct,81:214,115:pt,116:dt,117:Rt},t(Wr,[2,84]),t(Wr,[2,86]),t(Wr,[2,87]),t(Wr,[2,151]),t(Wr,[2,152]),t(Wr,[2,153]),t(Wr,[2,154]),{49:[1,215],67:ct,81:214,115:pt,116:dt,117:Rt},{30:216,67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},{51:[1,217],67:ct,81:214,115:pt,116:dt,117:Rt},{53:[1,218],67:ct,81:214,115:pt,116:dt,117:Rt},{55:[1,219],67:ct,81:214,115:pt,116:dt,117:Rt},{57:[1,220],67:ct,81:214,115:pt,116:dt,117:Rt},{60:[1,221]},{64:[1,222],67:ct,81:214,115:pt,116:dt,117:Rt},{66:[1,223],67:ct,81:214,115:pt,116:dt,117:Rt},{30:224,67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},{31:[1,225],67:ct,81:214,115:pt,116:dt,117:Rt},{67:ct,69:[1,226],71:[1,227],81:214,115:pt,116:dt,117:Rt},{67:ct,69:[1,229],71:[1,228],81:214,115:pt,116:dt,117:Rt},t(U,[2,45],{18:152,10:$,40:ot}),t(U,[2,47],{44:Pt}),t(De,[2,75]),t(De,[2,74]),{62:[1,230],67:ct,81:214,115:pt,116:dt,117:Rt},t(De,[2,77]),t(er,[2,79]),{30:231,67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},t(wt,a,{5:232}),t(Ot,[2,100]),t(V,[2,35]),{43:233,44:m,45:39,47:40,60:v,88:C,101:L,104:_,105:I,108:D,110:F,112:41,113:M,114:B,115:H},{10:$,18:234},{10:Er,60:Jn,83:ln,91:235,104:Mn,106:236,107:237,108:zr,109:En,110:Ut,111:Ye},{10:Er,60:Jn,83:ln,91:246,103:[1,247],104:Mn,106:236,107:237,108:zr,109:En,110:Ut,111:Ye},{10:Er,60:Jn,83:ln,91:248,103:[1,249],104:Mn,106:236,107:237,108:zr,109:En,110:Ut,111:Ye},{104:[1,250]},{10:Er,60:Jn,83:ln,91:251,104:Mn,106:236,107:237,108:zr,109:En,110:Ut,111:Ye},{44:m,47:252,60:v,88:C,101:L,104:_,105:I,108:D,110:F,112:41,113:M,114:B,115:H},t(at,[2,106]),{79:[1,253]},{79:[1,254],97:[1,255]},t(at,[2,114]),t(at,[2,116],{10:[1,256]}),t(at,[2,117]),t(xe,[2,56]),t(Wr,[2,85]),t(xe,[2,57]),{51:[1,257],67:ct,81:214,115:pt,116:dt,117:Rt},t(xe,[2,64]),t(xe,[2,59]),t(xe,[2,60]),t(xe,[2,61]),{108:[1,258]},t(xe,[2,63]),t(xe,[2,65]),{66:[1,259],67:ct,81:214,115:pt,116:dt,117:Rt},t(xe,[2,67]),t(xe,[2,68]),t(xe,[2,70]),t(xe,[2,69]),t(xe,[2,71]),t([10,44,60,88,101,104,105,108,110,113,114,115],[2,83]),{31:[1,260],67:ct,81:214,115:pt,116:dt,117:Rt},{6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,261],33:24,34:f,36:d,38:p,42:28,43:38,44:m,45:39,47:40,60:v,83:x,84:y,85:w,86:S,87:E,88:C,101:L,104:_,105:I,108:D,110:F,112:41,113:M,114:B,115:H,120:R,121:O,122:P,123:z},t(Ge,[2,53]),{43:262,44:m,45:39,47:40,60:v,88:C,101:L,104:_,105:I,108:D,110:F,112:41,113:M,114:B,115:H},t(at,[2,119],{105:vt}),t(Vt,[2,128],{107:264,10:Er,60:Jn,83:ln,104:Mn,108:zr,109:En,110:Ut,111:Ye}),t(yr,[2,130]),t(yr,[2,132]),t(yr,[2,133]),t(yr,[2,134]),t(yr,[2,135]),t(yr,[2,136]),t(yr,[2,137]),t(yr,[2,138]),t(yr,[2,139]),t(at,[2,120],{105:vt}),{10:[1,265]},t(at,[2,121],{105:vt}),{10:[1,266]},t(wr,[2,127]),t(at,[2,103],{105:vt}),t(at,[2,104],{112:111,44:m,60:v,88:C,101:L,104:_,105:I,108:D,110:F,113:M,114:B,115:H}),t(at,[2,108]),t(at,[2,110],{10:[1,267]}),t(at,[2,111]),{97:[1,268]},{51:[1,269]},{62:[1,270]},{66:[1,271]},{8:X,9:q,11:Y,21:272},t(V,[2,34]),t(Ge,[2,52]),{10:Er,60:Jn,83:ln,104:Mn,106:273,107:237,108:zr,109:En,110:Ut,111:Ye},t(yr,[2,131]),{14:pe,44:ne,60:ge,88:ye,100:274,104:J,105:se,108:oe,110:fe,113:me,114:be,115:ce,119:86},{14:pe,44:ne,60:ge,88:ye,100:275,104:J,105:se,108:oe,110:fe,113:me,114:be,115:ce,119:86},{97:[1,276]},t(at,[2,118]),t(xe,[2,58]),{30:277,67:ct,79:ft,80:Jt,81:168,115:pt,116:dt,117:Rt},t(xe,[2,66]),t(wt,a,{5:278}),t(Vt,[2,129],{107:264,10:Er,60:Jn,83:ln,104:Mn,108:zr,109:En,110:Ut,111:Ye}),t(at,[2,124],{119:164,10:[1,279],14:pe,44:ne,60:ge,88:ye,104:J,105:se,108:oe,110:fe,113:me,114:be,115:ce}),t(at,[2,125],{119:164,10:[1,280],14:pe,44:ne,60:ge,88:ye,104:J,105:se,108:oe,110:fe,113:me,114:be,115:ce}),t(at,[2,112]),{31:[1,281],67:ct,81:214,115:pt,116:dt,117:Rt},{6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,282],33:24,34:f,36:d,38:p,42:28,43:38,44:m,45:39,47:40,60:v,83:x,84:y,85:w,86:S,87:E,88:C,101:L,104:_,105:I,108:D,110:F,112:41,113:M,114:B,115:H,120:R,121:O,122:P,123:z},{10:Er,60:Jn,83:ln,91:283,104:Mn,106:236,107:237,108:zr,109:En,110:Ut,111:Ye},{10:Er,60:Jn,83:ln,91:284,104:Mn,106:236,107:237,108:zr,109:En,110:Ut,111:Ye},t(xe,[2,62]),t(V,[2,33]),t(at,[2,122],{105:vt}),t(at,[2,123],{105:vt})],defaultActions:{},parseError:k(function(Et,lt){if(lt.recoverable)this.trace(Et);else{var tr=new Error(Et);throw tr.hash=lt,tr}},"parseError"),parse:k(function(Et){var lt=this,tr=[0],Tt=[],Kt=[null],Ce=[],Or=this.table,Be="",xn=0,yt=0,Tr=2,Mp=1,Cv=Ce.slice.call(arguments,1),li=Object.create(this.lexer),tl={yy:{}};for(var Np in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Np)&&(tl.yy[Np]=this.yy[Np]);li.setInput(Et,tl.yy),tl.yy.lexer=li,tl.yy.parser=this,typeof li.yylloc>"u"&&(li.yylloc={});var Sr=li.yylloc;Ce.push(Sr);var pC=li.options&&li.options.ranges;typeof tl.yy.parseError=="function"?this.parseError=tl.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function i4(Qa){tr.length=tr.length-2*Qa,Kt.length=Kt.length-Qa,Ce.length=Ce.length-Qa}k(i4,"popStack");function wd(){var Qa;return Qa=Tt.pop()||li.lex()||Mp,typeof Qa!="number"&&(Qa instanceof Array&&(Tt=Qa,Qa=Tt.pop()),Qa=lt.symbols_[Qa]||Qa),Qa}k(wd,"lex");for(var Gn,Eu,Es,xc,Tu={},Sd,Lo,Av,kd;;){if(Eu=tr[tr.length-1],this.defaultActions[Eu]?Es=this.defaultActions[Eu]:((Gn===null||typeof Gn>"u")&&(Gn=wd()),Es=Or[Eu]&&Or[Eu][Gn]),typeof Es>"u"||!Es.length||!Es[0]){var Ip="";kd=[];for(Sd in Or[Eu])this.terminals_[Sd]&&Sd>Tr&&kd.push("'"+this.terminals_[Sd]+"'");li.showPosition?Ip="Parse error on line "+(xn+1)+`:
`+li.showPosition()+`
Expecting `+kd.join(", ")+", got '"+(this.terminals_[Gn]||Gn)+"'":Ip="Parse error on line "+(xn+1)+": Unexpected "+(Gn==Mp?"end of input":"'"+(this.terminals_[Gn]||Gn)+"'"),this.parseError(Ip,{text:li.match,token:this.terminals_[Gn]||Gn,line:li.yylineno,loc:Sr,expected:kd})}if(Es[0]instanceof Array&&Es.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Eu+", token: "+Gn);switch(Es[0]){case 1:tr.push(Gn),Kt.push(li.yytext),Ce.push(li.yylloc),tr.push(Es[1]),Gn=null,yt=li.yyleng,Be=li.yytext,xn=li.yylineno,Sr=li.yylloc;break;case 2:if(Lo=this.productions_[Es[1]][1],Tu.$=Kt[Kt.length-Lo],Tu._$={first_line:Ce[Ce.length-(Lo||1)].first_line,last_line:Ce[Ce.length-1].last_line,first_column:Ce[Ce.length-(Lo||1)].first_column,last_column:Ce[Ce.length-1].last_column},pC&&(Tu._$.range=[Ce[Ce.length-(Lo||1)].range[0],Ce[Ce.length-1].range[1]]),xc=this.performAction.apply(Tu,[Be,yt,xn,tl.yy,Es[1],Kt,Ce].concat(Cv)),typeof xc<"u")return xc;Lo&&(tr=tr.slice(0,-1*Lo*2),Kt=Kt.slice(0,-1*Lo),Ce=Ce.slice(0,-1*Lo)),tr.push(this.productions_[Es[1]][0]),Kt.push(Tu.$),Ce.push(Tu._$),Av=Or[tr[tr.length-2]][tr[tr.length-1]],tr.push(Av);break;case 3:return!0}}return!0},"parse")},Yr=function(){var Cn={EOF:1,parseError:k(function(lt,tr){if(this.yy.parser)this.yy.parser.parseError(lt,tr);else throw new Error(lt)},"parseError"),setInput:k(function(Et,lt){return this.yy=lt||this.yy||{},this._input=Et,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var Et=this._input[0];this.yytext+=Et,this.yyleng++,this.offset++,this.match+=Et,this.matched+=Et;var lt=Et.match(/(?:\r\n?|\n).*/g);return lt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Et},"input"),unput:k(function(Et){var lt=Et.length,tr=Et.split(/(?:\r\n?|\n)/g);this._input=Et+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-lt),this.offset-=lt;var Tt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),tr.length-1&&(this.yylineno-=tr.length-1);var Kt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:tr?(tr.length===Tt.length?this.yylloc.first_column:0)+Tt[Tt.length-tr.length].length-tr[0].length:this.yylloc.first_column-lt},this.options.ranges&&(this.yylloc.range=[Kt[0],Kt[0]+this.yyleng-lt]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(Et){this.unput(this.match.slice(Et))},"less"),pastInput:k(function(){var Et=this.matched.substr(0,this.matched.length-this.match.length);return(Et.length>20?"...":"")+Et.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var Et=this.match;return Et.length<20&&(Et+=this._input.substr(0,20-Et.length)),(Et.substr(0,20)+(Et.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var Et=this.pastInput(),lt=new Array(Et.length+1).join("-");return Et+this.upcomingInput()+`
`+lt+"^"},"showPosition"),test_match:k(function(Et,lt){var tr,Tt,Kt;if(this.options.backtrack_lexer&&(Kt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Kt.yylloc.range=this.yylloc.range.slice(0))),Tt=Et[0].match(/(?:\r\n?|\n).*/g),Tt&&(this.yylineno+=Tt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Tt?Tt[Tt.length-1].length-Tt[Tt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Et[0].length},this.yytext+=Et[0],this.match+=Et[0],this.matches=Et,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Et[0].length),this.matched+=Et[0],tr=this.performAction.call(this,this.yy,this,lt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),tr)return tr;if(this._backtrack){for(var Ce in Kt)this[Ce]=Kt[Ce];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Et,lt,tr,Tt;this._more||(this.yytext="",this.match="");for(var Kt=this._currentRules(),Ce=0;Ce<Kt.length;Ce++)if(tr=this._input.match(this.rules[Kt[Ce]]),tr&&(!lt||tr[0].length>lt[0].length)){if(lt=tr,Tt=Ce,this.options.backtrack_lexer){if(Et=this.test_match(tr,Kt[Ce]),Et!==!1)return Et;if(this._backtrack){lt=!1;continue}else return!1}else if(!this.options.flex)break}return lt?(Et=this.test_match(lt,Kt[Tt]),Et!==!1?Et:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var lt=this.next();return lt||this.lex()},"lex"),begin:k(function(lt){this.conditionStack.push(lt)},"begin"),popState:k(function(){var lt=this.conditionStack.length-1;return lt>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(lt){return lt=this.conditionStack.length-1-Math.abs(lt||0),lt>=0?this.conditionStack[lt]:"INITIAL"},"topState"),pushState:k(function(lt){this.begin(lt)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:k(function(lt,tr,Tt,Kt){switch(Tt){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),tr.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:const Ce=/\n\s*/g;return tr.yytext=tr.yytext.replace(Ce,"<br/>"),40;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 94;case 17:this.popState();break;case 18:return 95;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 83;case 26:return 101;case 27:return 84;case 28:return 103;case 29:return 85;case 30:return 86;case 31:return 96;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 87;case 35:return lt.lex.firstGraph()&&this.begin("dir"),12;case 36:return lt.lex.firstGraph()&&this.begin("dir"),12;case 37:return lt.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:return 97;case 41:return 97;case 42:return 97;case 43:return 97;case 44:return this.popState(),13;case 45:return this.popState(),14;case 46:return this.popState(),14;case 47:return this.popState(),14;case 48:return this.popState(),14;case 49:return this.popState(),14;case 50:return this.popState(),14;case 51:return this.popState(),14;case 52:return this.popState(),14;case 53:return this.popState(),14;case 54:return this.popState(),14;case 55:return 120;case 56:return 121;case 57:return 122;case 58:return 123;case 59:return 104;case 60:return 110;case 61:return 46;case 62:return 60;case 63:return 44;case 64:return 8;case 65:return 105;case 66:return 114;case 67:return this.popState(),77;case 68:return this.pushState("edgeText"),75;case 69:return 118;case 70:return this.popState(),77;case 71:return this.pushState("thickEdgeText"),75;case 72:return 118;case 73:return this.popState(),77;case 74:return this.pushState("dottedEdgeText"),75;case 75:return 118;case 76:return 77;case 77:return this.popState(),53;case 78:return"TEXT";case 79:return this.pushState("ellipseText"),52;case 80:return this.popState(),55;case 81:return this.pushState("text"),54;case 82:return this.popState(),57;case 83:return this.pushState("text"),56;case 84:return 58;case 85:return this.pushState("text"),67;case 86:return this.popState(),64;case 87:return this.pushState("text"),63;case 88:return this.popState(),49;case 89:return this.pushState("text"),48;case 90:return this.popState(),69;case 91:return this.popState(),71;case 92:return 116;case 93:return this.pushState("trapText"),68;case 94:return this.pushState("trapText"),70;case 95:return 117;case 96:return 67;case 97:return 89;case 98:return"SEP";case 99:return 88;case 100:return 114;case 101:return 110;case 102:return 44;case 103:return 108;case 104:return 113;case 105:return 115;case 106:return this.popState(),62;case 107:return this.pushState("text"),62;case 108:return this.popState(),51;case 109:return this.pushState("text"),50;case 110:return this.popState(),31;case 111:return this.pushState("text"),29;case 112:return this.popState(),66;case 113:return this.pushState("text"),65;case 114:return"TEXT";case 115:return"QUOTE";case 116:return 9;case 117:return 10;case 118:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeData:{rules:[8,11,12,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackargs:{rules:[17,18,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackname:{rules:[14,15,16,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},href:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},click:{rules:[21,24,33,34,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dottedEdgeText:{rules:[21,24,73,75,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},thickEdgeText:{rules:[21,24,70,72,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},edgeText:{rules:[21,24,67,69,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},trapText:{rules:[21,24,76,79,81,83,87,89,90,91,92,93,94,107,109,111,113],inclusive:!1},ellipseText:{rules:[21,24,76,77,78,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},text:{rules:[21,24,76,79,80,81,82,83,86,87,88,89,93,94,106,107,108,109,110,111,112,113,114],inclusive:!1},vertex:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr:{rules:[3,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_title:{rules:[1,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},md_string:{rules:[19,20,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},string:{rules:[21,22,23,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,70,71,73,74,76,79,81,83,84,85,87,89,93,94,95,96,97,98,99,100,101,102,103,104,105,107,109,111,113,115,116,117,118],inclusive:!0}}};return Cn}();cn.lexer=Yr;function Tn(){this.yy={}}return k(Tn,"Parser"),Tn.prototype=cn,cn.Parser=Tn,new Tn}();mL.parser=mL;var iFe=mL,aFe=k((t,e)=>{const r=Cj,n=r(t,"r"),i=r(t,"g"),a=r(t,"b");return k0(n,i,a,e)},"fade"),sFe=k(t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span {
    color: ${t.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${t.lineColor} !important;
    stroke-width: 0;
    stroke: ${t.lineColor};
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    p {
      background-color: ${t.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${aFe(t.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${t.clusterBkg};
    stroke: ${t.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${t.edgeLabelBackground};
    p {
      background-color: ${t.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }
`,"getStyles"),oFe=sFe,lFe={parser:iFe,db:s8,renderer:nFe,styles:oFe,init:k(t=>{t.flowchart||(t.flowchart={}),t.layout&&YB({layout:t.layout}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,YB({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}}),s8.clear(),s8.setGen("gen-2")},"init")};const bN=Object.freeze(Object.defineProperty({__proto__:null,diagram:lFe},Symbol.toStringTag,{value:"Module"})),uFe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function cFe(t){return typeof t=="string"&&uFe.test(t)}const Ma=[];for(let t=0;t<256;++t)Ma.push((t+256).toString(16).slice(1));function hFe(t,e=0){return Ma[t[e+0]]+Ma[t[e+1]]+Ma[t[e+2]]+Ma[t[e+3]]+"-"+Ma[t[e+4]]+Ma[t[e+5]]+"-"+Ma[t[e+6]]+Ma[t[e+7]]+"-"+Ma[t[e+8]]+Ma[t[e+9]]+"-"+Ma[t[e+10]]+Ma[t[e+11]]+Ma[t[e+12]]+Ma[t[e+13]]+Ma[t[e+14]]+Ma[t[e+15]]}function fFe(t){if(!cFe(t))throw TypeError("Invalid UUID");let e;const r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function dFe(t){t=unescape(encodeURIComponent(t));const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}const pFe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",gFe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function mFe(t,e,r){function n(i,a,s,o){var l;if(typeof i=="string"&&(i=dFe(i)),typeof a=="string"&&(a=fFe(a)),((l=a)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){o=o||0;for(let h=0;h<16;++h)s[o+h]=u[h];return s}return hFe(u)}try{n.name=t}catch{}return n.DNS=pFe,n.URL=gFe,n}function vFe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function o8(t,e){return t<<e|t>>>32-e}function yFe(t){const e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const s=unescape(encodeURIComponent(t));t=[];for(let o=0;o<s.length;++o)t.push(s.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const n=t.length/4+2,i=Math.ceil(n/16),a=new Array(i);for(let s=0;s<i;++s){const o=new Uint32Array(16);for(let l=0;l<16;++l)o[l]=t[s*64+l*4]<<24|t[s*64+l*4+1]<<16|t[s*64+l*4+2]<<8|t[s*64+l*4+3];a[s]=o}a[i-1][14]=(t.length-1)*8/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=(t.length-1)*8&4294967295;for(let s=0;s<i;++s){const o=new Uint32Array(80);for(let p=0;p<16;++p)o[p]=a[s][p];for(let p=16;p<80;++p)o[p]=o8(o[p-3]^o[p-8]^o[p-14]^o[p-16],1);let l=r[0],u=r[1],h=r[2],f=r[3],d=r[4];for(let p=0;p<80;++p){const m=Math.floor(p/20),v=o8(l,5)+vFe(m,u,h,f)+d+e[m]+o[p]>>>0;d=f,f=h,h=o8(u,30)>>>0,u=l,l=v}r[0]=r[0]+l>>>0,r[1]=r[1]+u>>>0,r[2]=r[2]+h>>>0,r[3]=r[3]+f>>>0,r[4]=r[4]+d>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}const xFe=mFe("v5",80,yFe);var vL=function(){var t=k(function(I,D,F,M){for(F=F||{},M=I.length;M--;F[I[M]]=D);return F},"o"),e=[6,8,10,20,22,24,26,27,28],r=[1,10],n=[1,11],i=[1,12],a=[1,13],s=[1,14],o=[1,15],l=[1,21],u=[1,22],h=[1,23],f=[1,24],d=[1,25],p=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],m=[1,34],v=[27,28,46,47],x=[41,42,43,44,45],y=[17,34],w=[1,54],S=[1,53],E=[17,34,36,38],C={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:k(function(D,F,M,B,H,R,O){var P=R.length-1;switch(H){case 1:break;case 2:this.$=[];break;case 3:R[P-1].push(R[P]),this.$=R[P-1];break;case 4:case 5:this.$=R[P];break;case 6:case 7:this.$=[];break;case 8:B.addEntity(R[P-4]),B.addEntity(R[P-2]),B.addRelationship(R[P-4],R[P],R[P-2],R[P-3]);break;case 9:B.addEntity(R[P-3]),B.addAttributes(R[P-3],R[P-1]);break;case 10:B.addEntity(R[P-2]);break;case 11:B.addEntity(R[P]);break;case 12:B.addEntity(R[P-6],R[P-4]),B.addAttributes(R[P-6],R[P-1]);break;case 13:B.addEntity(R[P-5],R[P-3]);break;case 14:B.addEntity(R[P-3],R[P-1]);break;case 15:case 16:this.$=R[P].trim(),B.setAccTitle(this.$);break;case 17:case 18:this.$=R[P].trim(),B.setAccDescription(this.$);break;case 19:case 43:this.$=R[P];break;case 20:case 41:case 42:this.$=R[P].replace(/"/g,"");break;case 21:case 29:this.$=[R[P]];break;case 22:R[P].push(R[P-1]),this.$=R[P];break;case 23:this.$={attributeType:R[P-1],attributeName:R[P]};break;case 24:this.$={attributeType:R[P-2],attributeName:R[P-1],attributeKeyTypeList:R[P]};break;case 25:this.$={attributeType:R[P-2],attributeName:R[P-1],attributeComment:R[P]};break;case 26:this.$={attributeType:R[P-3],attributeName:R[P-2],attributeKeyTypeList:R[P-1],attributeComment:R[P]};break;case 27:case 28:case 31:this.$=R[P];break;case 30:R[P-2].push(R[P]),this.$=R[P-2];break;case 32:this.$=R[P].replace(/"/g,"");break;case 33:this.$={cardA:R[P],relType:R[P-1],cardB:R[P-2]};break;case 34:this.$=B.Cardinality.ZERO_OR_ONE;break;case 35:this.$=B.Cardinality.ZERO_OR_MORE;break;case 36:this.$=B.Cardinality.ONE_OR_MORE;break;case 37:this.$=B.Cardinality.ONLY_ONE;break;case 38:this.$=B.Cardinality.MD_PARENT;break;case 39:this.$=B.Identification.NON_IDENTIFYING;break;case 40:this.$=B.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:r,22:n,24:i,26:a,27:s,28:o},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:16,11:9,20:r,22:n,24:i,26:a,27:s,28:o},t(e,[2,5]),t(e,[2,6]),t(e,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:l,42:u,43:h,44:f,45:d}),{21:[1,26]},{23:[1,27]},{25:[1,28]},t(e,[2,18]),t(p,[2,19]),t(p,[2,20]),t(e,[2,4]),{11:29,27:s,28:o},{16:30,17:[1,31],29:32,30:33,34:m},{11:35,27:s,28:o},{40:36,46:[1,37],47:[1,38]},t(v,[2,34]),t(v,[2,35]),t(v,[2,36]),t(v,[2,37]),t(v,[2,38]),t(e,[2,15]),t(e,[2,16]),t(e,[2,17]),{13:[1,39]},{17:[1,40]},t(e,[2,10]),{16:41,17:[2,21],29:32,30:33,34:m},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:l,42:u,43:h,44:f,45:d},t(x,[2,39]),t(x,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},t(e,[2,9]),{17:[2,22]},t(y,[2,23],{32:50,33:51,35:52,37:w,38:S}),t([17,34,37,38],[2,28]),t(e,[2,14],{15:[1,55]}),t([27,28],[2,33]),t(e,[2,8]),t(e,[2,41]),t(e,[2,42]),t(e,[2,43]),t(y,[2,24],{33:56,36:[1,57],38:S}),t(y,[2,25]),t(E,[2,29]),t(y,[2,32]),t(E,[2,31]),{16:58,17:[1,59],29:32,30:33,34:m},t(y,[2,26]),{35:60,37:w},{17:[1,61]},t(e,[2,13]),t(E,[2,30]),t(e,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:k(function(D,F){if(F.recoverable)this.trace(D);else{var M=new Error(D);throw M.hash=F,M}},"parseError"),parse:k(function(D){var F=this,M=[0],B=[],H=[null],R=[],O=this.table,P="",z=0,$=0,V=2,X=1,q=R.slice.call(arguments,1),Y=Object.create(this.lexer),U={yy:{}};for(var Z in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Z)&&(U.yy[Z]=this.yy[Z]);Y.setInput(D,U.yy),U.yy.lexer=Y,U.yy.parser=this,typeof Y.yylloc>"u"&&(Y.yylloc={});var pe=Y.yylloc;R.push(pe);var ne=Y.options&&Y.options.ranges;typeof U.yy.parseError=="function"?this.parseError=U.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ge(ke){M.length=M.length-2*ke,H.length=H.length-ke,R.length=R.length-ke}k(ge,"popStack");function ye(){var ke;return ke=B.pop()||Y.lex()||X,typeof ke!="number"&&(ke instanceof Array&&(B=ke,ke=B.pop()),ke=F.symbols_[ke]||ke),ke}k(ye,"lex");for(var J,se,oe,fe,me={},be,ce,Ge,xe;;){if(se=M[M.length-1],this.defaultActions[se]?oe=this.defaultActions[se]:((J===null||typeof J>"u")&&(J=ye()),oe=O[se]&&O[se][J]),typeof oe>"u"||!oe.length||!oe[0]){var le="";xe=[];for(be in O[se])this.terminals_[be]&&be>V&&xe.push("'"+this.terminals_[be]+"'");Y.showPosition?le="Parse error on line "+(z+1)+`:
`+Y.showPosition()+`
Expecting `+xe.join(", ")+", got '"+(this.terminals_[J]||J)+"'":le="Parse error on line "+(z+1)+": Unexpected "+(J==X?"end of input":"'"+(this.terminals_[J]||J)+"'"),this.parseError(le,{text:Y.match,token:this.terminals_[J]||J,line:Y.yylineno,loc:pe,expected:xe})}if(oe[0]instanceof Array&&oe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+se+", token: "+J);switch(oe[0]){case 1:M.push(J),H.push(Y.yytext),R.push(Y.yylloc),M.push(oe[1]),J=null,$=Y.yyleng,P=Y.yytext,z=Y.yylineno,pe=Y.yylloc;break;case 2:if(ce=this.productions_[oe[1]][1],me.$=H[H.length-ce],me._$={first_line:R[R.length-(ce||1)].first_line,last_line:R[R.length-1].last_line,first_column:R[R.length-(ce||1)].first_column,last_column:R[R.length-1].last_column},ne&&(me._$.range=[R[R.length-(ce||1)].range[0],R[R.length-1].range[1]]),fe=this.performAction.apply(me,[P,$,z,U.yy,oe[1],H,R].concat(q)),typeof fe<"u")return fe;ce&&(M=M.slice(0,-1*ce*2),H=H.slice(0,-1*ce),R=R.slice(0,-1*ce)),M.push(this.productions_[oe[1]][0]),H.push(me.$),R.push(me._$),Ge=O[M[M.length-2]][M[M.length-1]],M.push(Ge);break;case 3:return!0}}return!0},"parse")},L=function(){var I={EOF:1,parseError:k(function(F,M){if(this.yy.parser)this.yy.parser.parseError(F,M);else throw new Error(F)},"parseError"),setInput:k(function(D,F){return this.yy=F||this.yy||{},this._input=D,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var D=this._input[0];this.yytext+=D,this.yyleng++,this.offset++,this.match+=D,this.matched+=D;var F=D.match(/(?:\r\n?|\n).*/g);return F?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),D},"input"),unput:k(function(D){var F=D.length,M=D.split(/(?:\r\n?|\n)/g);this._input=D+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-F),this.offset-=F;var B=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),M.length-1&&(this.yylineno-=M.length-1);var H=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:M?(M.length===B.length?this.yylloc.first_column:0)+B[B.length-M.length].length-M[0].length:this.yylloc.first_column-F},this.options.ranges&&(this.yylloc.range=[H[0],H[0]+this.yyleng-F]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(D){this.unput(this.match.slice(D))},"less"),pastInput:k(function(){var D=this.matched.substr(0,this.matched.length-this.match.length);return(D.length>20?"...":"")+D.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var D=this.match;return D.length<20&&(D+=this._input.substr(0,20-D.length)),(D.substr(0,20)+(D.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var D=this.pastInput(),F=new Array(D.length+1).join("-");return D+this.upcomingInput()+`
`+F+"^"},"showPosition"),test_match:k(function(D,F){var M,B,H;if(this.options.backtrack_lexer&&(H={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(H.yylloc.range=this.yylloc.range.slice(0))),B=D[0].match(/(?:\r\n?|\n).*/g),B&&(this.yylineno+=B.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:B?B[B.length-1].length-B[B.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+D[0].length},this.yytext+=D[0],this.match+=D[0],this.matches=D,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(D[0].length),this.matched+=D[0],M=this.performAction.call(this,this.yy,this,F,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),M)return M;if(this._backtrack){for(var R in H)this[R]=H[R];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var D,F,M,B;this._more||(this.yytext="",this.match="");for(var H=this._currentRules(),R=0;R<H.length;R++)if(M=this._input.match(this.rules[H[R]]),M&&(!F||M[0].length>F[0].length)){if(F=M,B=R,this.options.backtrack_lexer){if(D=this.test_match(M,H[R]),D!==!1)return D;if(this._backtrack){F=!1;continue}else return!1}else if(!this.options.flex)break}return F?(D=this.test_match(F,H[B]),D!==!1?D:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var F=this.next();return F||this.lex()},"lex"),begin:k(function(F){this.conditionStack.push(F)},"begin"),popState:k(function(){var F=this.conditionStack.length-1;return F>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(F){return F=this.conditionStack.length-1-Math.abs(F||0),F>=0?this.conditionStack[F]:"INITIAL"},"topState"),pushState:k(function(F){this.begin(F)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:k(function(F,M,B,H){switch(B){case 0:return this.begin("acc_title"),22;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),24;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;case 14:return 36;case 15:break;case 16:return 37;case 17:return 34;case 18:return 34;case 19:return 38;case 20:break;case 21:return this.popState(),17;case 22:return M.yytext[0];case 23:return 18;case 24:return 19;case 25:return 41;case 26:return 43;case 27:return 43;case 28:return 43;case 29:return 41;case 30:return 41;case 31:return 42;case 32:return 42;case 33:return 42;case 34:return 42;case 35:return 42;case 36:return 43;case 37:return 42;case 38:return 43;case 39:return 44;case 40:return 44;case 41:return 44;case 42:return 44;case 43:return 41;case 44:return 42;case 45:return 43;case 46:return 45;case 47:return 46;case 48:return 47;case 49:return 47;case 50:return 46;case 51:return 46;case 52:return 46;case 53:return 27;case 54:return M.yytext[0];case 55:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};return I}();C.lexer=L;function _(){this.yy={}}return k(_,"Parser"),_.prototype=C,C.Parser=_,new _}();vL.parser=vL;var bFe=vL,Zd=new Map,wN=[],wFe={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},SFe={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},hae=k(function(t,e=void 0){return Zd.has(t)?!Zd.get(t).alias&&e&&(Zd.get(t).alias=e,Ee.info(`Add alias '${e}' to entity '${t}'`)):(Zd.set(t,{attributes:[],alias:e}),Ee.info("Added new entity :",t)),Zd.get(t)},"addEntity"),kFe=k(()=>Zd,"getEntities"),EFe=k(function(t,e){let r=hae(t),n;for(n=e.length-1;n>=0;n--)r.attributes.push(e[n]),Ee.debug("Added attribute ",e[n].attributeName)},"addAttributes"),TFe=k(function(t,e,r,n){let i={entityA:t,roleA:e,entityB:r,relSpec:n};wN.push(i),Ee.debug("Added new relationship :",i)},"addRelationship"),CFe=k(()=>wN,"getRelationships"),AFe=k(function(){Zd=new Map,wN=[],Ea()},"clear"),_Fe={Cardinality:wFe,Identification:SFe,getConfig:k(()=>Ue().er,"getConfig"),addEntity:hae,addAttributes:EFe,getEntities:kFe,addRelationship:TFe,getRelationships:CFe,clear:AFe,setAccTitle:Ta,getAccTitle:Wa,setAccDescription:qa,getAccDescription:Ya,setDiagramTitle:js,getDiagramTitle:Xa},Ul={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},LFe=k(function(t,e){let r;t.append("defs").append("marker").attr("id",Ul.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",Ul.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",Ul.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",Ul.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),r=t.append("defs").append("marker").attr("id",Ul.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),r=t.append("defs").append("marker").attr("id",Ul.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",Ul.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",Ul.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),r=t.append("defs").append("marker").attr("id",Ul.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),r=t.append("defs").append("marker").attr("id",Ul.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"insertMarkers"),Gl={ERMarkers:Ul,insertMarkers:LFe},DFe=/[^\dA-Za-z](\W)*/g,ea={},Rx=new Map,RFe=k(function(t){const e=Object.keys(t);for(const r of e)ea[r]=t[r]},"setConf"),MFe=k((t,e,r)=>{const n=ea.entityPadding/3,i=ea.entityPadding/3,a=ea.fontSize*.85,s=e.node().getBBox(),o=[];let l=!1,u=!1,h=0,f=0,d=0,p=0,m=s.height+n*2,v=1;r.forEach(S=>{S.attributeKeyTypeList!==void 0&&S.attributeKeyTypeList.length>0&&(l=!0),S.attributeComment!==void 0&&(u=!0)}),r.forEach(S=>{const E=`${e.node().id}-attr-${v}`;let C=0;const L=Wd(S.attributeType),_=t.append("text").classed("er entityLabel",!0).attr("id",`${E}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Ue().fontFamily).style("font-size",a+"px").text(L),I=t.append("text").classed("er entityLabel",!0).attr("id",`${E}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Ue().fontFamily).style("font-size",a+"px").text(S.attributeName),D={};D.tn=_,D.nn=I;const F=_.node().getBBox(),M=I.node().getBBox();if(h=Math.max(h,F.width),f=Math.max(f,M.width),C=Math.max(F.height,M.height),l){const B=S.attributeKeyTypeList!==void 0?S.attributeKeyTypeList.join(","):"",H=t.append("text").classed("er entityLabel",!0).attr("id",`${E}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Ue().fontFamily).style("font-size",a+"px").text(B);D.kn=H;const R=H.node().getBBox();d=Math.max(d,R.width),C=Math.max(C,R.height)}if(u){const B=t.append("text").classed("er entityLabel",!0).attr("id",`${E}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Ue().fontFamily).style("font-size",a+"px").text(S.attributeComment||"");D.cn=B;const H=B.node().getBBox();p=Math.max(p,H.width),C=Math.max(C,H.height)}D.height=C,o.push(D),m+=C+n*2,v+=1});let x=4;l&&(x+=2),u&&(x+=2);const y=h+f+d+p,w={width:Math.max(ea.minEntityWidth,Math.max(s.width+ea.entityPadding*2,y+i*x)),height:r.length>0?m:Math.max(ea.minEntityHeight,s.height+ea.entityPadding*2)};if(r.length>0){const S=Math.max(0,(w.width-y-i*x)/(x/2));e.attr("transform","translate("+w.width/2+","+(n+s.height/2)+")");let E=s.height+n*2,C="attributeBoxOdd";o.forEach(L=>{const _=E+n+L.height/2;L.tn.attr("transform","translate("+i+","+_+")");const I=t.insert("rect","#"+L.tn.node().id).classed(`er ${C}`,!0).attr("x",0).attr("y",E).attr("width",h+i*2+S).attr("height",L.height+n*2),D=parseFloat(I.attr("x"))+parseFloat(I.attr("width"));L.nn.attr("transform","translate("+(D+i)+","+_+")");const F=t.insert("rect","#"+L.nn.node().id).classed(`er ${C}`,!0).attr("x",D).attr("y",E).attr("width",f+i*2+S).attr("height",L.height+n*2);let M=parseFloat(F.attr("x"))+parseFloat(F.attr("width"));if(l){L.kn.attr("transform","translate("+(M+i)+","+_+")");const B=t.insert("rect","#"+L.kn.node().id).classed(`er ${C}`,!0).attr("x",M).attr("y",E).attr("width",d+i*2+S).attr("height",L.height+n*2);M=parseFloat(B.attr("x"))+parseFloat(B.attr("width"))}u&&(L.cn.attr("transform","translate("+(M+i)+","+_+")"),t.insert("rect","#"+L.cn.node().id).classed(`er ${C}`,"true").attr("x",M).attr("y",E).attr("width",p+i*2+S).attr("height",L.height+n*2)),E+=L.height+n*2,C=C==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else w.height=Math.max(ea.minEntityHeight,m),e.attr("transform","translate("+w.width/2+","+w.height/2+")");return w},"drawAttributes"),NFe=k(function(t,e,r){const n=[...e.keys()];let i;return n.forEach(function(a){const s=dae(a,"entity");Rx.set(a,s);const o=t.append("g").attr("id",s);i=i===void 0?s:i;const l="text-"+s,u=o.append("text").classed("er entityLabel",!0).attr("id",l).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",Ue().fontFamily).style("font-size",ea.fontSize+"px").text(e.get(a).alias??a),{width:h,height:f}=MFe(o,u,e.get(a).attributes),p=o.insert("rect","#"+l).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",h).attr("height",f).node().getBBox();r.setNode(s,{width:p.width,height:p.height,shape:"rect",id:s})}),i},"drawEntities"),IFe=k(function(t,e){e.nodes().forEach(function(r){r!==void 0&&e.node(r)!==void 0&&t.select("#"+r).attr("transform","translate("+(e.node(r).x-e.node(r).width/2)+","+(e.node(r).y-e.node(r).height/2)+" )")})},"adjustEntities"),fae=k(function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")},"getEdgeName"),OFe=k(function(t,e){return t.forEach(function(r){e.setEdge(Rx.get(r.entityA),Rx.get(r.entityB),{relationship:r},fae(r))}),t},"addRelationships"),oV=0,PFe=k(function(t,e,r,n,i){oV++;const a=r.edge(Rx.get(e.entityA),Rx.get(e.entityB),fae(e)),s=H0().x(function(v){return v.x}).y(function(v){return v.y}).curve(vb),o=t.insert("path","#"+n).classed("er relationshipLine",!0).attr("d",s(a.points)).style("stroke",ea.stroke).style("fill","none");e.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&o.attr("stroke-dasharray","8,8");let l="";switch(ea.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),e.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:o.attr("marker-end","url("+l+"#"+Gl.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:o.attr("marker-end","url("+l+"#"+Gl.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:o.attr("marker-end","url("+l+"#"+Gl.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:o.attr("marker-end","url("+l+"#"+Gl.ERMarkers.ONLY_ONE_END+")");break;case i.db.Cardinality.MD_PARENT:o.attr("marker-end","url("+l+"#"+Gl.ERMarkers.MD_PARENT_END+")");break}switch(e.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:o.attr("marker-start","url("+l+"#"+Gl.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:o.attr("marker-start","url("+l+"#"+Gl.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:o.attr("marker-start","url("+l+"#"+Gl.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:o.attr("marker-start","url("+l+"#"+Gl.ERMarkers.ONLY_ONE_START+")");break;case i.db.Cardinality.MD_PARENT:o.attr("marker-start","url("+l+"#"+Gl.ERMarkers.MD_PARENT_START+")");break}const u=o.node().getTotalLength(),h=o.node().getPointAtLength(u*.5),f="rel"+oV,d=e.roleA.split(/<br ?\/>/g),p=t.append("text").classed("er relationshipLabel",!0).attr("id",f).attr("x",h.x).attr("y",h.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",Ue().fontFamily).style("font-size",ea.fontSize+"px");if(d.length==1)p.text(e.roleA);else{const v=-(d.length-1)*.5;d.forEach((x,y)=>{p.append("tspan").attr("x",h.x).attr("dy",`${y===0?v:1}em`).text(x)})}const m=p.node().getBBox();t.insert("rect","#"+f).classed("er relationshipLabelBox",!0).attr("x",h.x-m.width/2).attr("y",h.y-m.height/2).attr("width",m.width).attr("height",m.height)},"drawRelationshipFromLayout"),FFe=k(function(t,e,r,n){ea=Ue().er,Ee.info("Drawing ER diagram");const i=Ue().securityLevel;let a;i==="sandbox"&&(a=bt("#i"+e));const o=bt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);Gl.insertMarkers(o,ea);let l;l=new ws({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:ea.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const u=NFe(o,n.db.getEntities(),l),h=OFe(n.db.getRelationships(),l);mT(l),IFe(o,l),h.forEach(function(v){PFe(o,v,l,u,n)});const f=ea.diagramPadding;Ir.insertTitle(o,"entityTitleText",ea.titleTopMargin,n.db.getDiagramTitle());const d=o.node().getBBox(),p=d.width+f*2,m=d.height+f*2;xs(o,m,p,ea.useMaxWidth),o.attr("viewBox",`${d.x-f} ${d.y-f} ${p} ${m}`)},"draw"),BFe="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function dae(t="",e=""){const r=t.replace(DFe,"");return`${yL(e)}${yL(r)}${xFe(t,BFe)}`}k(dae,"generateId");function yL(t=""){return t.length>0?`${t}-`:""}k(yL,"strWithHyphen");var $Fe={setConf:RFe,draw:FFe},zFe=k(t=>`
  .entityBox {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${t.attributeBackgroundColorOdd};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${t.attributeBackgroundColorEven};
    stroke: ${t.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${t.tertiaryColor};
    opacity: 0.7;
    background-color: ${t.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${t.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${t.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${t.lineColor} !important;
    stroke-width: 1;
  }
  
`,"getStyles"),HFe=zFe,VFe={parser:bFe,db:_Fe,renderer:$Fe,styles:HFe};const UFe=Object.freeze(Object.defineProperty({__proto__:null,diagram:VFe},Symbol.toStringTag,{value:"Module"}));function Ib(t,e){var r,n,i;t.accDescr&&((r=e.setAccDescription)==null||r.call(e,t.accDescr)),t.accTitle&&((n=e.setAccTitle)==null||n.call(e,t.accTitle)),t.title&&((i=e.setDiagramTitle)==null||i.call(e,t.title))}k(Ib,"populateCommonDb");var k1,SN=(k1=class{constructor(e){this.init=e,this.records=this.init()}reset(){this.records=this.init()}},k(k1,"ImperativeState"),k1);function fs(t){return typeof t=="object"&&t!==null&&typeof t.$type=="string"}function Xu(t){return typeof t=="object"&&t!==null&&typeof t.$refText=="string"}function GFe(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.type=="string"&&typeof t.path=="string"}function D3(t){return typeof t=="object"&&t!==null&&fs(t.container)&&Xu(t.reference)&&typeof t.message=="string"}class pae{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,r){return fs(e)&&this.isSubtype(e.$type,r)}isSubtype(e,r){if(e===r)return!0;let n=this.subtypes[e];n||(n=this.subtypes[e]={});const i=n[r];if(i!==void 0)return i;{const a=this.computeIsSubtype(e,r);return n[r]=a,a}}getAllSubTypes(e){const r=this.allSubtypes[e];if(r)return r;{const n=this.getAllTypes(),i=[];for(const a of n)this.isSubtype(a,e)&&i.push(a);return this.allSubtypes[e]=i,i}}}function _m(t){return typeof t=="object"&&t!==null&&Array.isArray(t.content)}function gae(t){return typeof t=="object"&&t!==null&&typeof t.tokenType=="object"}function mae(t){return _m(t)&&typeof t.fullText=="string"}class ls{constructor(e,r){this.startFn=e,this.nextFn=r}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const e=this.iterator();let r=0,n=e.next();for(;!n.done;)r++,n=e.next();return r}toArray(){const e=[],r=this.iterator();let n;do n=r.next(),n.value!==void 0&&e.push(n.value);while(!n.done);return e}toSet(){return new Set(this)}toMap(e,r){const n=this.map(i=>[e?e(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(e){const r=e[Symbol.iterator]();return new ls(()=>({first:this.startFn(),firstDone:!1}),n=>{let i;if(!n.firstDone){do if(i=this.nextFn(n.first),!i.done)return i;while(!i.done);n.firstDone=!0}do if(i=r.next(),!i.done)return i;while(!i.done);return fl})}join(e=","){const r=this.iterator();let n="",i,a=!1;do i=r.next(),i.done||(a&&(n+=e),n+=WFe(i.value)),a=!0;while(!i.done);return n}indexOf(e,r=0){const n=this.iterator();let i=0,a=n.next();for(;!a.done;){if(i>=r&&a.value===e)return i;a=n.next(),i++}return-1}every(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(!e(n.value))return!1;n=r.next()}return!0}some(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(e(n.value))return!0;n=r.next()}return!1}forEach(e){const r=this.iterator();let n=0,i=r.next();for(;!i.done;)e(i.value,n),i=r.next(),n++}map(e){return new ls(this.startFn,r=>{const{done:n,value:i}=this.nextFn(r);return n?fl:{done:!1,value:e(i)}})}filter(e){return new ls(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&e(n.value))return n;while(!n.done);return fl})}nonNullable(){return this.filter(e=>e!=null)}reduce(e,r){const n=this.iterator();let i=r,a=n.next();for(;!a.done;)i===void 0?i=a.value:i=e(i,a.value),a=n.next();return i}reduceRight(e,r){return this.recursiveReduce(this.iterator(),e,r)}recursiveReduce(e,r,n){const i=e.next();if(i.done)return n;const a=this.recursiveReduce(e,r,n);return a===void 0?i.value:r(a,i.value)}find(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(e(n.value))return n.value;n=r.next()}}findIndex(e){const r=this.iterator();let n=0,i=r.next();for(;!i.done;){if(e(i.value))return n;i=r.next(),n++}return-1}includes(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(n.value===e)return!0;n=r.next()}return!1}flatMap(e){return new ls(()=>({this:this.startFn()}),r=>{do{if(r.iterator){const a=r.iterator.next();if(a.done)r.iterator=void 0;else return a}const{done:n,value:i}=this.nextFn(r.this);if(!n){const a=e(i);if(MS(a))r.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}}while(r.iterator);return fl})}flat(e){if(e===void 0&&(e=1),e<=0)return this;const r=e>1?this.flat(e-1):this;return new ls(()=>({this:r.startFn()}),n=>{do{if(n.iterator){const s=n.iterator.next();if(s.done)n.iterator=void 0;else return s}const{done:i,value:a}=r.nextFn(n.this);if(!i)if(MS(a))n.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}while(n.iterator);return fl})}head(){const r=this.iterator().next();if(!r.done)return r.value}tail(e=1){return new ls(()=>{const r=this.startFn();for(let n=0;n<e;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(e){return new ls(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>e?fl:this.nextFn(r.state)))}distinct(e){const r=new Set;return this.filter(n=>{const i=e?e(n):n;return r.has(i)?!1:(r.add(i),!0)})}exclude(e,r){const n=new Set;for(const i of e){const a=r?r(i):i;n.add(a)}return this.filter(i=>{const a=r?r(i):i;return!n.has(a)})}}function WFe(t){return typeof t=="string"?t:typeof t>"u"?"undefined":typeof t.toString=="function"?t.toString():Object.prototype.toString.call(t)}function MS(t){return!!t&&typeof t[Symbol.iterator]=="function"}const qFe=new ls(()=>{},()=>fl),fl=Object.freeze({done:!0,value:void 0});function Ba(...t){if(t.length===1){const e=t[0];if(e instanceof ls)return e;if(MS(e))return new ls(()=>e[Symbol.iterator](),r=>r.next());if(typeof e.length=="number")return new ls(()=>({index:0}),r=>r.index<e.length?{done:!1,value:e[r.index++]}:fl)}return t.length>1?new ls(()=>({collIndex:0,arrIndex:0}),e=>{do{if(e.iterator){const r=e.iterator.next();if(!r.done)return r;e.iterator=void 0}if(e.array){if(e.arrIndex<e.array.length)return{done:!1,value:e.array[e.arrIndex++]};e.array=void 0,e.arrIndex=0}if(e.collIndex<t.length){const r=t[e.collIndex++];MS(r)?e.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(e.array=r)}}while(e.iterator||e.array||e.collIndex<t.length);return fl}):qFe}class kN extends ls{constructor(e,r,n){super(()=>({iterators:n!=null&&n.includeRoot?[[e][Symbol.iterator]()]:[r(e)[Symbol.iterator]()],pruned:!1}),i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){const s=i.iterators[i.iterators.length-1].next();if(s.done)i.iterators.pop();else return i.iterators.push(r(s.value)[Symbol.iterator]()),s}return fl})}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}}var xL;(function(t){function e(a){return a.reduce((s,o)=>s+o,0)}t.sum=e;function r(a){return a.reduce((s,o)=>s*o,0)}t.product=r;function n(a){return a.reduce((s,o)=>Math.min(s,o))}t.min=n;function i(a){return a.reduce((s,o)=>Math.max(s,o))}t.max=i})(xL||(xL={}));function bL(t){return new kN(t,e=>_m(e)?e.content:[],{includeRoot:!0})}function YFe(t,e){for(;t.container;)if(t=t.container,t===e)return!0;return!1}function wL(t){return{start:{character:t.startColumn-1,line:t.startLine-1},end:{character:t.endColumn,line:t.endLine-1}}}function NS(t){if(!t)return;const{offset:e,end:r,range:n}=t;return{range:n,offset:e,end:r,length:r-e}}var hf;(function(t){t[t.Before=0]="Before",t[t.After=1]="After",t[t.OverlapFront=2]="OverlapFront",t[t.OverlapBack=3]="OverlapBack",t[t.Inside=4]="Inside"})(hf||(hf={}));function XFe(t,e){if(t.end.line<e.start.line||t.end.line===e.start.line&&t.end.character<t.start.character)return hf.Before;if(t.start.line>e.end.line||t.start.line===e.end.line&&t.start.character>e.end.character)return hf.After;const r=t.start.line>e.start.line||t.start.line===e.start.line&&t.start.character>=e.start.character,n=t.end.line<e.end.line||t.end.line===e.end.line&&t.end.character<=e.end.character;return r&&n?hf.Inside:r?hf.OverlapBack:hf.OverlapFront}function jFe(t,e){return XFe(t,e)>hf.After}const KFe=/^[\w\p{L}]$/u;function QFe(t,e){if(t){const r=ZFe(t,!0);if(r&&lV(r,e))return r;if(mae(t)){const n=t.content.findIndex(i=>!i.hidden);for(let i=n-1;i>=0;i--){const a=t.content[i];if(lV(a,e))return a}}}}function lV(t,e){return gae(t)&&e.includes(t.tokenType.name)}function ZFe(t,e=!0){for(;t.container;){const r=t.container;let n=r.content.indexOf(t);for(;n>0;){n--;const i=r.content[n];if(e||!i.hidden)return i}t=r}}class vae extends Error{constructor(e,r){super(e?`${r} at ${e.range.start.line}:${e.range.start.character}`:r)}}function ST(t){throw new Error("Error! The input value was not handled.")}const l8="AbstractRule",u8="AbstractType",uV="Condition",JFe="TypeDefinition",cV="ValueLiteral",yae="AbstractElement";function eBe(t){return yn.isInstance(t,yae)}const tBe="ArrayLiteral",rBe="ArrayType",xae="BooleanLiteral";function nBe(t){return yn.isInstance(t,xae)}const bae="Conjunction";function iBe(t){return yn.isInstance(t,bae)}const wae="Disjunction";function aBe(t){return yn.isInstance(t,wae)}const sBe="Grammar",Sae="InferredType";function kae(t){return yn.isInstance(t,Sae)}const Eae="Interface";function Tae(t){return yn.isInstance(t,Eae)}const Cae="Negation";function oBe(t){return yn.isInstance(t,Cae)}const lBe="NumberLiteral",uBe="Parameter",Aae="ParameterReference";function cBe(t){return yn.isInstance(t,Aae)}const _ae="ParserRule";function Il(t){return yn.isInstance(t,_ae)}const hBe="ReferenceType",fBe="ReturnType";function dBe(t){return yn.isInstance(t,fBe)}const Lae="SimpleType";function pBe(t){return yn.isInstance(t,Lae)}const gBe="StringLiteral",SL="TerminalRule";function Cp(t){return yn.isInstance(t,SL)}const Dae="Type";function Rae(t){return yn.isInstance(t,Dae)}const mBe="UnionType",Mae="Action";function kT(t){return yn.isInstance(t,Mae)}const Nae="Alternatives";function Iae(t){return yn.isInstance(t,Nae)}const Oae="Assignment";function j0(t){return yn.isInstance(t,Oae)}const Pae="CharacterRange";function vBe(t){return yn.isInstance(t,Pae)}const Fae="CrossReference";function EN(t){return yn.isInstance(t,Fae)}const Bae="EndOfFile";function yBe(t){return yn.isInstance(t,Bae)}const $ae="Group";function TN(t){return yn.isInstance(t,$ae)}const zae="Keyword";function K0(t){return yn.isInstance(t,zae)}const Hae="NegatedToken";function xBe(t){return yn.isInstance(t,Hae)}const Vae="RegexToken";function bBe(t){return yn.isInstance(t,Vae)}const Uae="RuleCall";function Q0(t){return yn.isInstance(t,Uae)}const Gae="TerminalAlternatives";function wBe(t){return yn.isInstance(t,Gae)}const Wae="TerminalGroup";function SBe(t){return yn.isInstance(t,Wae)}const qae="TerminalRuleCall";function kBe(t){return yn.isInstance(t,qae)}const Yae="UnorderedGroup";function Xae(t){return yn.isInstance(t,Yae)}const jae="UntilToken";function EBe(t){return yn.isInstance(t,jae)}const Kae="Wildcard";function TBe(t){return yn.isInstance(t,Kae)}class Qae extends pae{getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayLiteral","ArrayType","Assignment","BooleanLiteral","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","NamedArgument","NegatedToken","Negation","NumberLiteral","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","StringLiteral","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","ValueLiteral","Wildcard"]}computeIsSubtype(e,r){switch(e){case Mae:case Nae:case Oae:case Pae:case Fae:case Bae:case $ae:case zae:case Hae:case Vae:case Uae:case Gae:case Wae:case qae:case Yae:case jae:case Kae:return this.isSubtype(yae,r);case tBe:case lBe:case gBe:return this.isSubtype(cV,r);case rBe:case hBe:case Lae:case mBe:return this.isSubtype(JFe,r);case xae:return this.isSubtype(uV,r)||this.isSubtype(cV,r);case bae:case wae:case Cae:case Aae:return this.isSubtype(uV,r);case Sae:case Eae:case Dae:return this.isSubtype(u8,r);case _ae:return this.isSubtype(l8,r)||this.isSubtype(u8,r);case SL:return this.isSubtype(l8,r);default:return!1}}getReferenceType(e){const r=`${e.container.$type}:${e.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return u8;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return l8;case"Grammar:usedGrammars":return sBe;case"NamedArgument:parameter":case"ParameterReference:parameter":return uBe;case"TerminalRuleCall:rule":return SL;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case"AbstractElement":return{name:"AbstractElement",properties:[{name:"cardinality"},{name:"lookahead"}]};case"ArrayLiteral":return{name:"ArrayLiteral",properties:[{name:"elements",defaultValue:[]}]};case"ArrayType":return{name:"ArrayType",properties:[{name:"elementType"}]};case"BooleanLiteral":return{name:"BooleanLiteral",properties:[{name:"true",defaultValue:!1}]};case"Conjunction":return{name:"Conjunction",properties:[{name:"left"},{name:"right"}]};case"Disjunction":return{name:"Disjunction",properties:[{name:"left"},{name:"right"}]};case"Grammar":return{name:"Grammar",properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case"GrammarImport":return{name:"GrammarImport",properties:[{name:"path"}]};case"InferredType":return{name:"InferredType",properties:[{name:"name"}]};case"Interface":return{name:"Interface",properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case"NamedArgument":return{name:"NamedArgument",properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case"Negation":return{name:"Negation",properties:[{name:"value"}]};case"NumberLiteral":return{name:"NumberLiteral",properties:[{name:"value"}]};case"Parameter":return{name:"Parameter",properties:[{name:"name"}]};case"ParameterReference":return{name:"ParameterReference",properties:[{name:"parameter"}]};case"ParserRule":return{name:"ParserRule",properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case"ReferenceType":return{name:"ReferenceType",properties:[{name:"referenceType"}]};case"ReturnType":return{name:"ReturnType",properties:[{name:"name"}]};case"SimpleType":return{name:"SimpleType",properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case"StringLiteral":return{name:"StringLiteral",properties:[{name:"value"}]};case"TerminalRule":return{name:"TerminalRule",properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case"Type":return{name:"Type",properties:[{name:"name"},{name:"type"}]};case"TypeAttribute":return{name:"TypeAttribute",properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case"UnionType":return{name:"UnionType",properties:[{name:"types",defaultValue:[]}]};case"Action":return{name:"Action",properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case"Alternatives":return{name:"Alternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"Assignment":return{name:"Assignment",properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case"CharacterRange":return{name:"CharacterRange",properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case"CrossReference":return{name:"CrossReference",properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case"EndOfFile":return{name:"EndOfFile",properties:[{name:"cardinality"},{name:"lookahead"}]};case"Group":return{name:"Group",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case"Keyword":return{name:"Keyword",properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case"NegatedToken":return{name:"NegatedToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"RegexToken":return{name:"RegexToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case"RuleCall":return{name:"RuleCall",properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalGroup":return{name:"TerminalGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalRuleCall":return{name:"TerminalRuleCall",properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"UnorderedGroup":return{name:"UnorderedGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"UntilToken":return{name:"UntilToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"Wildcard":return{name:"Wildcard",properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}}const yn=new Qae;function CBe(t){for(const[e,r]of Object.entries(t))e.startsWith("$")||(Array.isArray(r)?r.forEach((n,i)=>{fs(n)&&(n.$container=t,n.$containerProperty=e,n.$containerIndex=i)}):fs(r)&&(r.$container=t,r.$containerProperty=e))}function ET(t,e){let r=t;for(;r;){if(e(r))return r;r=r.$container}}function ac(t){const r=ABe(t).$document;if(!r)throw new Error("AST node has no document.");return r}function ABe(t){for(;t.$container;)t=t.$container;return t}function CN(t,e){if(!t)throw new Error("Node must be an AstNode.");const r=e==null?void 0:e.range;return new ls(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){const i=n.keys[n.keyIndex];if(!i.startsWith("$")){const a=t[i];if(fs(a)){if(n.keyIndex++,hV(a,r))return{done:!1,value:a}}else if(Array.isArray(a)){for(;n.arrayIndex<a.length;){const s=n.arrayIndex++,o=a[s];if(fs(o)&&hV(o,r))return{done:!1,value:o}}n.arrayIndex=0}}n.keyIndex++}return fl})}function Ob(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new kN(t,r=>CN(r,e))}function i1(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new kN(t,r=>CN(r,e),{includeRoot:!0})}function hV(t,e){var r;if(!e)return!0;const n=(r=t.$cstNode)===null||r===void 0?void 0:r.range;return n?jFe(n,e):!1}function Zae(t){return new ls(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),e=>{for(;e.keyIndex<e.keys.length;){const r=e.keys[e.keyIndex];if(!r.startsWith("$")){const n=t[r];if(Xu(n))return e.keyIndex++,{done:!1,value:{reference:n,container:t,property:r}};if(Array.isArray(n)){for(;e.arrayIndex<n.length;){const i=e.arrayIndex++,a=n[i];if(Xu(a))return{done:!1,value:{reference:a,container:t,property:r,index:i}}}e.arrayIndex=0}}e.keyIndex++}return fl})}function _Be(t,e){const r=t.getTypeMetaData(e.$type),n=e;for(const i of r.properties)i.defaultValue!==void 0&&n[i.name]===void 0&&(n[i.name]=Jae(i.defaultValue))}function Jae(t){return Array.isArray(t)?[...t.map(Jae)]:t}function _r(t){return t.charCodeAt(0)}function c8(t,e){Array.isArray(t)?t.forEach(function(r){e.push(r)}):e.push(t)}function Ly(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function ug(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function LBe(){throw Error("Internal Error - Should never get here!")}function fV(t){return t.type==="Character"}const IS=[];for(let t=_r("0");t<=_r("9");t++)IS.push(t);const OS=[_r("_")].concat(IS);for(let t=_r("a");t<=_r("z");t++)OS.push(t);for(let t=_r("A");t<=_r("Z");t++)OS.push(t);const dV=[_r(" "),_r("\f"),_r(`
`),_r("\r"),_r("	"),_r("\v"),_r("	"),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r("\u2028"),_r("\u2029"),_r(" "),_r(" "),_r("　"),_r("\uFEFF")],DBe=/[0-9a-fA-F]/,Cw=/[0-9]/,RBe=/[1-9]/;class ese{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const r=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Ly(n,"global");break;case"i":Ly(n,"ignoreCase");break;case"m":Ly(n,"multiLine");break;case"u":Ly(n,"unicode");break;case"y":Ly(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){const e=[],r=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(r)}}alternative(){const e=[],r=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}ug(r);const n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(e)}}return LBe()}quantifier(e=!1){let r;const n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:i,atMost:i};break;case",":let a;this.isDigit()?(a=this.integerIncludingZero(),r={atLeast:i,atMost:a}):r={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&r===void 0)return;ug(r);break}if(!(e===!0&&r===void 0)&&ug(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r}atom(){let e;const r=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),ug(e))return e.loc=this.loc(r),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[_r(`
`),_r("\r"),_r("\u2028"),_r("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,r=!1;switch(this.popChar()){case"d":e=IS;break;case"D":e=IS,r=!0;break;case"s":e=dV;break;case"S":e=dV,r=!0;break;case"w":e=OS;break;case"W":e=OS,r=!0;break}if(ug(e))return{type:"Set",value:e,complement:r}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=_r("\f");break;case"n":e=_r(`
`);break;case"r":e=_r("\r");break;case"t":e=_r("	");break;case"v":e=_r("\v");break}if(ug(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:_r("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:_r(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:_r(e)}}}characterClass(){const e=[];let r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){const n=this.classAtom();if(n.type,fV(n)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,fV(i)){if(i.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:i.value})}else c8(n.value,e),e.push(_r("-")),c8(i.value,e)}else c8(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:r,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:_r("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const r=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:e,value:r};return e&&(n.idx=this.groupIdx),n}positiveInteger(){let e=this.popChar();if(RBe.test(e)===!1)throw Error("Expecting a positive integer");for(;Cw.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(Cw.test(e)===!1)throw Error("Expecting an integer");for(;Cw.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:_r(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return Cw.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let r="";for(let i=0;i<e;i++){const a=this.popChar();if(DBe.test(a)===!1)throw Error("Expecting a HexDecimal digits");r+=a}return{type:"Character",value:parseInt(r,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class TT{visitChildren(e){for(const r in e){const n=e[r];e.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}const MBe=/\r?\n/gm,NBe=new ese;class IBe extends TT{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){const r=String.fromCharCode(e.value);if(!this.multiline&&r===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const n=CT(r);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitSet(e){if(!this.multiline){const r=this.regex.substring(e.loc.begin,e.loc.end),n=new RegExp(r);this.multiline=!!`
`.match(n)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const r=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}}const h8=new IBe;function OBe(t){try{return typeof t=="string"&&(t=new RegExp(t)),t=t.toString(),h8.reset(t),h8.visit(NBe.pattern(t)),h8.multiline}catch{return!1}}function pV(t){return(typeof t=="string"?new RegExp(t):t).test(" ")}function CT(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function PBe(t){return Array.prototype.map.call(t,e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:CT(e)).join("")}function FBe(t,e){const r=BBe(t),n=e.match(r);return!!n&&n[0].length>0}function BBe(t){typeof t=="string"&&(t=new RegExp(t));const e=t,r=t.source;let n=0;function i(){let a="",s;function o(u){a+=r.substr(n,u),n+=u}function l(u){a+="(?:"+r.substr(n,u)+"|$)",n+=u}for(;n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":l(3);break;case"x":l(4);break;case"u":e.unicode?r[n+2]==="{"?l(r.indexOf("}",n)-n+1):l(6):l(2);break;case"p":case"P":e.unicode?l(r.indexOf("}",n)-n+1):l(2);break;case"k":l(r.indexOf(">",n)-n+1);break;default:l(2);break}break;case"[":s=/\[(?:\\.|.)*?\]/g,s.lastIndex=n,s=s.exec(r)||[],l(s[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":s=/\{\d+,?\d*\}/g,s.lastIndex=n,s=s.exec(r),s?o(s[0].length):l(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":a+="(?:",n+=3,a+=i()+"|$)";break;case"=":a+="(?=",n+=3,a+=i()+")";break;case"!":s=n,n+=3,i(),a+=r.substr(s,n-s);break;case"<":switch(r[n+3]){case"=":case"!":s=n,n+=4,i(),a+=r.substr(s,n-s);break;default:o(r.indexOf(">",n)-n+1),a+=i()+"|$)";break}break}else o(1),a+=i()+"|$)";break;case")":return++n,a;default:l(1);break}return a}return new RegExp(i(),t.flags)}function $Be(t){return t.rules.find(e=>Il(e)&&e.entry)}function zBe(t){return t.rules.filter(e=>Cp(e)&&e.hidden)}function tse(t,e){const r=new Set,n=$Be(t);if(!n)return new Set(t.rules);const i=[n].concat(zBe(t));for(const s of i)rse(s,r,e);const a=new Set;for(const s of t.rules)(r.has(s.name)||Cp(s)&&s.hidden)&&a.add(s);return a}function rse(t,e,r){e.add(t.name),Ob(t).forEach(n=>{if(Q0(n)||r){const i=n.rule.ref;i&&!e.has(i.name)&&rse(i,e,r)}})}function HBe(t){if(t.terminal)return t.terminal;if(t.type.ref){const e=ise(t.type.ref);return e==null?void 0:e.terminal}}function VBe(t){return t.hidden&&!LN(t).test(" ")}function UBe(t,e){return!t||!e?[]:AN(t,e,t.astNode,!0)}function nse(t,e,r){if(!t||!e)return;const n=AN(t,e,t.astNode,!0);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function AN(t,e,r,n){if(!n){const i=ET(t.grammarSource,j0);if(i&&i.feature===e)return[t]}return _m(t)&&t.astNode===r?t.content.flatMap(i=>AN(i,e,r,!1)):[]}function GBe(t,e,r){if(!t)return;const n=WBe(t,e,t==null?void 0:t.astNode);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function WBe(t,e,r){if(t.astNode!==r)return[];if(K0(t.grammarSource)&&t.grammarSource.value===e)return[t];const n=bL(t).iterator();let i;const a=[];do if(i=n.next(),!i.done){const s=i.value;s.astNode===r?K0(s.grammarSource)&&s.grammarSource.value===e&&a.push(s):n.prune()}while(!i.done);return a}function qBe(t){var e;const r=t.astNode;for(;r===((e=t.container)===null||e===void 0?void 0:e.astNode);){const n=ET(t.grammarSource,j0);if(n)return n;t=t.container}}function ise(t){let e=t;return kae(e)&&(kT(e.$container)?e=e.$container.$container:Il(e.$container)?e=e.$container:ST(e.$container)),ase(t,e,new Map)}function ase(t,e,r){var n;function i(a,s){let o;return ET(a,j0)||(o=ase(s,s,r)),r.set(t,o),o}if(r.has(t))return r.get(t);r.set(t,void 0);for(const a of Ob(e)){if(j0(a)&&a.feature.toLowerCase()==="name")return r.set(t,a),a;if(Q0(a)&&Il(a.rule.ref))return i(a,a.rule.ref);if(pBe(a)&&(!((n=a.typeRef)===null||n===void 0)&&n.ref))return i(a,a.typeRef.ref)}}function _N(t){return sse(t,new Set)}function sse(t,e){if(e.has(t))return!0;e.add(t);for(const r of Ob(t))if(Q0(r)){if(!r.rule.ref||Il(r.rule.ref)&&!sse(r.rule.ref,e))return!1}else{if(j0(r))return!1;if(kT(r))return!1}return!!t.definition}function ose(t){if(t.inferredType)return t.inferredType.name;if(t.dataType)return t.dataType;if(t.returnType){const e=t.returnType.ref;if(e){if(Il(e))return e.name;if(Tae(e)||Rae(e))return e.name}}}function AT(t){var e;if(Il(t))return _N(t)?t.name:(e=ose(t))!==null&&e!==void 0?e:t.name;if(Tae(t)||Rae(t)||dBe(t))return t.name;if(kT(t)){const r=YBe(t);if(r)return r}else if(kae(t))return t.name;throw new Error("Cannot get name of Unknown Type")}function YBe(t){var e;if(t.inferredType)return t.inferredType.name;if(!((e=t.type)===null||e===void 0)&&e.ref)return AT(t.type.ref)}function XBe(t){var e,r,n;return Cp(t)?(r=(e=t.type)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:"string":_N(t)?t.name:(n=ose(t))!==null&&n!==void 0?n:t.name}function LN(t){const e={s:!1,i:!1,u:!1},r=ov(t.definition,e),n=Object.entries(e).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(r,n)}const DN=/[\s\S]/.source;function ov(t,e){if(wBe(t))return jBe(t);if(SBe(t))return KBe(t);if(vBe(t))return JBe(t);if(kBe(t)){const r=t.rule.ref;if(!r)throw new Error("Missing rule reference.");return ih(ov(r.definition),{cardinality:t.cardinality,lookahead:t.lookahead})}else{if(xBe(t))return ZBe(t);if(EBe(t))return QBe(t);if(bBe(t)){const r=t.regex.lastIndexOf("/"),n=t.regex.substring(1,r),i=t.regex.substring(r+1);return e&&(e.i=i.includes("i"),e.s=i.includes("s"),e.u=i.includes("u")),ih(n,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}else{if(TBe(t))return ih(DN,{cardinality:t.cardinality,lookahead:t.lookahead});throw new Error(`Invalid terminal element: ${t==null?void 0:t.$type}`)}}}function jBe(t){return ih(t.elements.map(e=>ov(e)).join("|"),{cardinality:t.cardinality,lookahead:t.lookahead})}function KBe(t){return ih(t.elements.map(e=>ov(e)).join(""),{cardinality:t.cardinality,lookahead:t.lookahead})}function QBe(t){return ih(`${DN}*?${ov(t.terminal)}`,{cardinality:t.cardinality,lookahead:t.lookahead})}function ZBe(t){return ih(`(?!${ov(t.terminal)})${DN}*?`,{cardinality:t.cardinality,lookahead:t.lookahead})}function JBe(t){return t.right?ih(`[${f8(t.left)}-${f8(t.right)}]`,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1}):ih(f8(t.left),{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}function f8(t){return CT(t.value)}function ih(t,e){var r;return(e.wrap!==!1||e.lookahead)&&(t=`(${(r=e.lookahead)!==null&&r!==void 0?r:""}${t})`),e.cardinality?`${t}${e.cardinality}`:t}function e$e(t){const e=[],r=t.Grammar;for(const n of r.rules)Cp(n)&&VBe(n)&&OBe(LN(n))&&e.push(n.name);return{multilineCommentRules:e,nameRegexp:KFe}}function kL(t){console&&console.error&&console.error(`Error: ${t}`)}function lse(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function use(t){const e=new Date().getTime(),r=t();return{time:new Date().getTime()-e,value:r}}function cse(t){function e(){}e.prototype=t;const r=new e;function n(){return typeof r.bar}return n(),n(),t}function t$e(t){return r$e(t)?t.LABEL:t.name}function r$e(t){return So(t.LABEL)&&t.LABEL!==""}class gc{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),tt(this.definition,r=>{r.accept(e)})}}class Ws extends gc{constructor(e){super([]),this.idx=1,qo(this,wu(e,r=>r!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class lv extends gc{constructor(e){super(e.definition),this.orgText="",qo(this,wu(e,r=>r!==void 0))}}class ko extends gc{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,qo(this,wu(e,r=>r!==void 0))}}let Ha=class extends gc{constructor(e){super(e.definition),this.idx=1,qo(this,wu(e,r=>r!==void 0))}};class Qo extends gc{constructor(e){super(e.definition),this.idx=1,qo(this,wu(e,r=>r!==void 0))}}class Zo extends gc{constructor(e){super(e.definition),this.idx=1,qo(this,wu(e,r=>r!==void 0))}}class wi extends gc{constructor(e){super(e.definition),this.idx=1,qo(this,wu(e,r=>r!==void 0))}}class Ao extends gc{constructor(e){super(e.definition),this.idx=1,qo(this,wu(e,r=>r!==void 0))}}class _o extends gc{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,qo(this,wu(e,r=>r!==void 0))}}class Zn{constructor(e){this.idx=1,qo(this,wu(e,r=>r!==void 0))}accept(e){e.visit(this)}}function n$e(t){return It(t,R3)}function R3(t){function e(r){return It(r,R3)}if(t instanceof Ws){const r={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return So(t.label)&&(r.label=t.label),r}else{if(t instanceof ko)return{type:"Alternative",definition:e(t.definition)};if(t instanceof Ha)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof Qo)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Zo)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:R3(new Zn({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Ao)return{type:"RepetitionWithSeparator",idx:t.idx,separator:R3(new Zn({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof wi)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof _o)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof Zn){const r={type:"Terminal",name:t.terminalType.name,label:t$e(t.terminalType),idx:t.idx};So(t.label)&&(r.terminalLabel=t.label);const n=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(r.pattern=yh(n)?n.source:n),r}else{if(t instanceof lv)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class uv{visit(e){const r=e;switch(r.constructor){case Ws:return this.visitNonTerminal(r);case ko:return this.visitAlternative(r);case Ha:return this.visitOption(r);case Qo:return this.visitRepetitionMandatory(r);case Zo:return this.visitRepetitionMandatoryWithSeparator(r);case Ao:return this.visitRepetitionWithSeparator(r);case wi:return this.visitRepetition(r);case _o:return this.visitAlternation(r);case Zn:return this.visitTerminal(r);case lv:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function i$e(t){return t instanceof ko||t instanceof Ha||t instanceof wi||t instanceof Qo||t instanceof Zo||t instanceof Ao||t instanceof Zn||t instanceof lv}function PS(t,e=[]){return t instanceof Ha||t instanceof wi||t instanceof Ao?!0:t instanceof _o?Tie(t.definition,n=>PS(n,e)):t instanceof Ws&&Qs(e,t)?!1:t instanceof gc?(t instanceof Ws&&e.push(t),uu(t.definition,n=>PS(n,e))):!1}function a$e(t){return t instanceof _o}function $u(t){if(t instanceof Ws)return"SUBRULE";if(t instanceof Ha)return"OPTION";if(t instanceof _o)return"OR";if(t instanceof Qo)return"AT_LEAST_ONE";if(t instanceof Zo)return"AT_LEAST_ONE_SEP";if(t instanceof Ao)return"MANY_SEP";if(t instanceof wi)return"MANY";if(t instanceof Zn)return"CONSUME";throw Error("non exhaustive match")}class _T{walk(e,r=[]){tt(e.definition,(n,i)=>{const a=Na(e.definition,i+1);if(n instanceof Ws)this.walkProdRef(n,a,r);else if(n instanceof Zn)this.walkTerminal(n,a,r);else if(n instanceof ko)this.walkFlat(n,a,r);else if(n instanceof Ha)this.walkOption(n,a,r);else if(n instanceof Qo)this.walkAtLeastOne(n,a,r);else if(n instanceof Zo)this.walkAtLeastOneSep(n,a,r);else if(n instanceof Ao)this.walkManySep(n,a,r);else if(n instanceof wi)this.walkMany(n,a,r);else if(n instanceof _o)this.walkOr(n,a,r);else throw Error("non exhaustive match")})}walkTerminal(e,r,n){}walkProdRef(e,r,n){}walkFlat(e,r,n){const i=r.concat(n);this.walk(e,i)}walkOption(e,r,n){const i=r.concat(n);this.walk(e,i)}walkAtLeastOne(e,r,n){const i=[new Ha({definition:e.definition})].concat(r,n);this.walk(e,i)}walkAtLeastOneSep(e,r,n){const i=gV(e,r,n);this.walk(e,i)}walkMany(e,r,n){const i=[new Ha({definition:e.definition})].concat(r,n);this.walk(e,i)}walkManySep(e,r,n){const i=gV(e,r,n);this.walk(e,i)}walkOr(e,r,n){const i=r.concat(n);tt(e.definition,a=>{const s=new ko({definition:[a]});this.walk(s,i)})}}function gV(t,e,r){return[new Ha({definition:[new Zn({terminalType:t.separator})].concat(t.definition)})].concat(e,r)}function Pb(t){if(t instanceof Ws)return Pb(t.referencedRule);if(t instanceof Zn)return l$e(t);if(i$e(t))return s$e(t);if(a$e(t))return o$e(t);throw Error("non exhaustive match")}function s$e(t){let e=[];const r=t.definition;let n=0,i=r.length>n,a,s=!0;for(;i&&s;)a=r[n],s=PS(a),e=e.concat(Pb(a)),n=n+1,i=r.length>n;return aN(e)}function o$e(t){const e=It(t.definition,r=>Pb(r));return aN(wa(e))}function l$e(t){return[t.terminalType]}const hse="_~IN~_";class u$e extends _T{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,r,n){}walkProdRef(e,r,n){const i=h$e(e.referencedRule,e.idx)+this.topProd.name,a=r.concat(n),s=new ko({definition:a}),o=Pb(s);this.follows[i]=o}}function c$e(t){const e={};return tt(t,r=>{const n=new u$e(r).startWalking();qo(e,n)}),e}function h$e(t,e){return t.name+e+hse}let M3={};const f$e=new ese;function LT(t){const e=t.toString();if(M3.hasOwnProperty(e))return M3[e];{const r=f$e.pattern(e);return M3[e]=r,r}}function d$e(){M3={}}const fse="Complement Sets are not supported for first char optimization",FS=`Unable to use "first char" lexer optimizations:
`;function p$e(t,e=!1){try{const r=LT(t);return EL(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===fse)e&&lse(`${FS}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";e&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),kL(`${FS}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function EL(t,e,r){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)EL(t.value[i],e,r);break;case"Alternative":const n=t.value;for(let i=0;i<n.length;i++){const a=n[i];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const s=a;switch(s.type){case"Character":Aw(s.value,e,r);break;case"Set":if(s.complement===!0)throw Error(fse);tt(s.value,l=>{if(typeof l=="number")Aw(l,e,r);else{const u=l;if(r===!0)for(let h=u.from;h<=u.to;h++)Aw(h,e,r);else{for(let h=u.from;h<=u.to&&h<e2;h++)Aw(h,e,r);if(u.to>=e2){const h=u.from>=e2?u.from:e2,f=u.to,d=jf(h),p=jf(f);for(let m=d;m<=p;m++)e[m]=m}}}});break;case"Group":EL(s.value,e,r);break;default:throw Error("Non Exhaustive Match")}const o=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&TL(s)===!1||s.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return Ln(e)}function Aw(t,e,r){const n=jf(t);e[n]=n,r===!0&&g$e(t,e)}function g$e(t,e){const r=String.fromCharCode(t),n=r.toUpperCase();if(n!==r){const i=jf(n.charCodeAt(0));e[i]=i}else{const i=r.toLowerCase();if(i!==r){const a=jf(i.charCodeAt(0));e[a]=a}}}function mV(t,e){return vh(t.value,r=>{if(typeof r=="number")return Qs(e,r);{const n=r;return vh(e,i=>n.from<=i&&i<=n.to)!==void 0}})}function TL(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?Ur(t.value)?uu(t.value,TL):TL(t.value):!1}class m$e extends TT{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Qs(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?mV(e,this.targetCharCodes)===void 0&&(this.found=!0):mV(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function RN(t,e){if(e instanceof RegExp){const r=LT(e),n=new m$e(t);return n.visit(r),n.found}else return vh(e,r=>Qs(t,r.charCodeAt(0)))!==void 0}const Z0="PATTERN",Jy="defaultMode",_w="modes";let dse=typeof new RegExp("(?:)").sticky=="boolean";function v$e(t,e){e=hT(e,{useSticky:dse,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(w,S)=>S()});const r=e.tracer;r("initCharCodeToOptimizedIndexMap",()=>{z$e()});let n;r("Reject Lexer.NA",()=>{n=pT(t,w=>w[Z0]===xo.NA)});let i=!1,a;r("Transform Patterns",()=>{i=!1,a=It(n,w=>{const S=w[Z0];if(yh(S)){const E=S.source;return E.length===1&&E!=="^"&&E!=="$"&&E!=="."&&!S.ignoreCase?E:E.length===2&&E[0]==="\\"&&!Qs(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],E[1])?E[1]:e.useSticky?yV(S):vV(S)}else{if(Ll(S))return i=!0,{exec:S};if(typeof S=="object")return i=!0,S;if(typeof S=="string"){if(S.length===1)return S;{const E=S.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),C=new RegExp(E);return e.useSticky?yV(C):vV(C)}}else throw Error("non exhaustive match")}})});let s,o,l,u,h;r("misc mapping",()=>{s=It(n,w=>w.tokenTypeIdx),o=It(n,w=>{const S=w.GROUP;if(S!==xo.SKIPPED){if(So(S))return S;if(mn(S))return!1;throw Error("non exhaustive match")}}),l=It(n,w=>{const S=w.LONGER_ALT;if(S)return Ur(S)?It(S,C=>VH(n,C)):[VH(n,S)]}),u=It(n,w=>w.PUSH_MODE),h=It(n,w=>vr(w,"POP_MODE"))});let f;r("Line Terminator Handling",()=>{const w=mse(e.lineTerminatorCharacters);f=It(n,S=>!1),e.positionTracking!=="onlyOffset"&&(f=It(n,S=>vr(S,"LINE_BREAKS")?!!S.LINE_BREAKS:gse(S,w)===!1&&RN(w,S.PATTERN)))});let d,p,m,v;r("Misc Mapping #2",()=>{d=It(n,pse),p=It(a,F$e),m=Ui(n,(w,S)=>{const E=S.GROUP;return So(E)&&E!==xo.SKIPPED&&(w[E]=[]),w},{}),v=It(a,(w,S)=>({pattern:a[S],longerAlt:l[S],canLineTerminator:f[S],isCustom:d[S],short:p[S],group:o[S],push:u[S],pop:h[S],tokenTypeIdx:s[S],tokenType:n[S]}))});let x=!0,y=[];return e.safeMode||r("First Char Optimization",()=>{y=Ui(n,(w,S,E)=>{if(typeof S.PATTERN=="string"){const C=S.PATTERN.charCodeAt(0),L=jf(C);d8(w,L,v[E])}else if(Ur(S.START_CHARS_HINT)){let C;tt(S.START_CHARS_HINT,L=>{const _=typeof L=="string"?L.charCodeAt(0):L,I=jf(_);C!==I&&(C=I,d8(w,I,v[E]))})}else if(yh(S.PATTERN))if(S.PATTERN.unicode)x=!1,e.ensureOptimizations&&kL(`${FS}	Unable to analyze < ${S.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const C=p$e(S.PATTERN,e.ensureOptimizations);un(C)&&(x=!1),tt(C,L=>{d8(w,L,v[E])})}else e.ensureOptimizations&&kL(`${FS}	TokenType: <${S.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),x=!1;return w},[])}),{emptyGroups:m,patternIdxToConfig:v,charCodeToPatternIdxToConfig:y,hasCustom:i,canBeOptimized:x}}function y$e(t,e){let r=[];const n=b$e(t);r=r.concat(n.errors);const i=w$e(n.valid),a=i.valid;return r=r.concat(i.errors),r=r.concat(x$e(a)),r=r.concat(L$e(a)),r=r.concat(D$e(a,e)),r=r.concat(R$e(a)),r}function x$e(t){let e=[];const r=ki(t,n=>yh(n[Z0]));return e=e.concat(k$e(r)),e=e.concat(C$e(r)),e=e.concat(A$e(r)),e=e.concat(_$e(r)),e=e.concat(E$e(r)),e}function b$e(t){const e=ki(t,i=>!vr(i,Z0)),r=It(e,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:Si.MISSING_PATTERN,tokenTypes:[i]})),n=fT(t,e);return{errors:r,valid:n}}function w$e(t){const e=ki(t,i=>{const a=i[Z0];return!yh(a)&&!Ll(a)&&!vr(a,"exec")&&!So(a)}),r=It(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Si.INVALID_PATTERN,tokenTypes:[i]})),n=fT(t,e);return{errors:r,valid:n}}const S$e=/[^\\][$]/;function k$e(t){class e extends TT{constructor(){super(...arguments),this.found=!1}visitEndAnchor(a){this.found=!0}}const r=ki(t,i=>{const a=i.PATTERN;try{const s=LT(a),o=new e;return o.visit(s),o.found}catch{return S$e.test(a.source)}});return It(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Si.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function E$e(t){const e=ki(t,n=>n.PATTERN.test(""));return It(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:Si.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}const T$e=/[^\\[][\^]|^\^/;function C$e(t){class e extends TT{constructor(){super(...arguments),this.found=!1}visitStartAnchor(a){this.found=!0}}const r=ki(t,i=>{const a=i.PATTERN;try{const s=LT(a),o=new e;return o.visit(s),o.found}catch{return T$e.test(a.source)}});return It(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Si.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function A$e(t){const e=ki(t,n=>{const i=n[Z0];return i instanceof RegExp&&(i.multiline||i.global)});return It(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Si.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function _$e(t){const e=[];let r=It(t,a=>Ui(t,(s,o)=>(a.PATTERN.source===o.PATTERN.source&&!Qs(e,o)&&o.PATTERN!==xo.NA&&(e.push(o),s.push(o)),s),[]));r=Mb(r);const n=ki(r,a=>a.length>1);return It(n,a=>{const s=It(a,l=>l.name);return{message:`The same RegExp pattern ->${vu(a).PATTERN}<-has been used in all of the following Token Types: ${s.join(", ")} <-`,type:Si.DUPLICATE_PATTERNS_FOUND,tokenTypes:a}})}function L$e(t){const e=ki(t,n=>{if(!vr(n,"GROUP"))return!1;const i=n.GROUP;return i!==xo.SKIPPED&&i!==xo.NA&&!So(i)});return It(e,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Si.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function D$e(t,e){const r=ki(t,i=>i.PUSH_MODE!==void 0&&!Qs(e,i.PUSH_MODE));return It(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:Si.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function R$e(t){const e=[],r=Ui(t,(n,i,a)=>{const s=i.PATTERN;return s===xo.NA||(So(s)?n.push({str:s,idx:a,tokenType:i}):yh(s)&&N$e(s)&&n.push({str:s.source,idx:a,tokenType:i})),n},[]);return tt(t,(n,i)=>{tt(r,({str:a,idx:s,tokenType:o})=>{if(i<s&&M$e(a,n.PATTERN)){const l=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:Si.UNREACHABLE_PATTERN,tokenTypes:[n,o]})}})}),e}function M$e(t,e){if(yh(e)){const r=e.exec(t);return r!==null&&r.index===0}else{if(Ll(e))return e(t,0,[],{});if(vr(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function N$e(t){return vh([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>t.source.indexOf(r)!==-1)===void 0}function vV(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function yV(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function I$e(t,e,r){const n=[];return vr(t,Jy)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+Jy+`> property in its definition
`,type:Si.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),vr(t,_w)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+_w+`> property in its definition
`,type:Si.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),vr(t,_w)&&vr(t,Jy)&&!vr(t.modes,t.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${Jy}: <${t.defaultMode}>which does not exist
`,type:Si.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),vr(t,_w)&&tt(t.modes,(i,a)=>{tt(i,(s,o)=>{if(mn(s))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${a}> at index: <${o}>
`,type:Si.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(vr(s,"LONGER_ALT")){const l=Ur(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];tt(l,u=>{!mn(u)&&!Qs(i,u)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${u.name}> on token <${s.name}> outside of mode <${a}>
`,type:Si.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function O$e(t,e,r){const n=[];let i=!1;const a=Mb(wa(Ln(t.modes))),s=pT(a,l=>l[Z0]===xo.NA),o=mse(r);return e&&tt(s,l=>{const u=gse(l,o);if(u!==!1){const f={message:$$e(l,u),type:u.issue,tokenType:l};n.push(f)}else vr(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):RN(o,l.PATTERN)&&(i=!0)}),e&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Si.NO_LINE_BREAKS_FLAGS}),n}function P$e(t){const e={},r=na(t);return tt(r,n=>{const i=t[n];if(Ur(i))e[n]=[];else throw Error("non exhaustive match")}),e}function pse(t){const e=t.PATTERN;if(yh(e))return!1;if(Ll(e))return!0;if(vr(e,"exec"))return!0;if(So(e))return!1;throw Error("non exhaustive match")}function F$e(t){return So(t)&&t.length===1?t.charCodeAt(0):!1}const B$e={test:function(t){const e=t.length;for(let r=this.lastIndex;r<e;r++){const n=t.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return t.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function gse(t,e){if(vr(t,"LINE_BREAKS"))return!1;if(yh(t.PATTERN)){try{RN(e,t.PATTERN)}catch(r){return{issue:Si.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(So(t.PATTERN))return!1;if(pse(t))return{issue:Si.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function $$e(t,e){if(e.issue===Si.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===Si.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function mse(t){return It(t,r=>So(r)?r.charCodeAt(0):r)}function d8(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}const e2=256;let N3=[];function jf(t){return t<e2?t:N3[t]}function z$e(){if(un(N3)){N3=new Array(65536);for(let t=0;t<65536;t++)N3[t]=t>255?255+~~(t/255):t}}function Fb(t,e){const r=t.tokenTypeIdx;return r===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[r]===!0}function BS(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let xV=1;const vse={};function Bb(t){const e=H$e(t);V$e(e),G$e(e),U$e(e),tt(e,r=>{r.isParent=r.categoryMatches.length>0})}function H$e(t){let e=ca(t),r=t,n=!0;for(;n;){r=Mb(wa(It(r,a=>a.CATEGORIES)));const i=fT(r,e);e=e.concat(i),un(i)?n=!1:r=i}return e}function V$e(t){tt(t,e=>{xse(e)||(vse[xV]=e,e.tokenTypeIdx=xV++),bV(e)&&!Ur(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),bV(e)||(e.CATEGORIES=[]),W$e(e)||(e.categoryMatches=[]),q$e(e)||(e.categoryMatchesMap={})})}function U$e(t){tt(t,e=>{e.categoryMatches=[],tt(e.categoryMatchesMap,(r,n)=>{e.categoryMatches.push(vse[n].tokenTypeIdx)})})}function G$e(t){tt(t,e=>{yse([],e)})}function yse(t,e){tt(t,r=>{e.categoryMatchesMap[r.tokenTypeIdx]=!0}),tt(e.CATEGORIES,r=>{const n=t.concat(e);Qs(n,r)||yse(n,r)})}function xse(t){return vr(t,"tokenTypeIdx")}function bV(t){return vr(t,"CATEGORIES")}function W$e(t){return vr(t,"categoryMatches")}function q$e(t){return vr(t,"categoryMatchesMap")}function Y$e(t){return vr(t,"tokenTypeIdx")}const X$e={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,r,n,i){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${r} characters.`}};var Si;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Si||(Si={}));const t2={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:X$e,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(t2);class xo{constructor(e,r=t2){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,a)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const s=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${s}--> <${i}>`);const{time:o,value:l}=use(a),u=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${s}<-- <${i}> time: ${o}ms`),this.traceInitIndent--,l}else return a()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=qo({},t2,r);const n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,a=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===t2.lineTerminatorsPattern)this.config.lineTerminatorsPattern=B$e;else if(this.config.lineTerminatorCharacters===t2.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Ur(e)?i={modes:{defaultMode:ca(e)},defaultMode:Jy}:(a=!1,i=ca(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(I$e(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(O$e(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},tt(i.modes,(o,l)=>{i.modes[l]=pT(o,u=>mn(u))});const s=na(i.modes);if(tt(i.modes,(o,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(y$e(o,s))}),un(this.lexerDefinitionErrors)){Bb(o);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=v$e(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=u.charCodeToPatternIdxToConfig,this.emptyGroups=qo({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=u.canBeOptimized}})}),this.defaultMode=i.defaultMode,!un(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=It(this.lexerDefinitionErrors,u=>u.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}tt(this.lexerDefinitionWarning,o=>{lse(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(dse?(this.chopInput=fh,this.match=this.matchWithTest):(this.updateLastIndex=Ki,this.match=this.matchWithExec),a&&(this.handleModes=Ki),this.trackStartLines===!1&&(this.computeNewColumn=fh),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Ki),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const o=Ui(this.canModeBeOptimized,(l,u,h)=>(u===!1&&l.push(h),l),[]);if(r.ensureOptimizations&&!un(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{d$e()}),this.TRACE_INIT("toFastProperties",()=>{cse(this)})})}tokenize(e,r=this.defaultMode){if(!un(this.lexerDefinitionErrors)){const i=It(this.lexerDefinitionErrors,a=>a.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,r)}tokenizeInternal(e,r){let n,i,a,s,o,l,u,h,f,d,p,m,v,x,y;const w=e,S=w.length;let E=0,C=0;const L=this.hasCustom?0:Math.floor(e.length/10),_=new Array(L),I=[];let D=this.trackStartLines?1:void 0,F=this.trackStartLines?1:void 0;const M=P$e(this.emptyGroups),B=this.trackStartLines,H=this.config.lineTerminatorsPattern;let R=0,O=[],P=[];const z=[],$=[];Object.freeze($);let V;function X(){return O}function q(ne){const ge=jf(ne),ye=P[ge];return ye===void 0?$:ye}const Y=ne=>{if(z.length===1&&ne.tokenType.PUSH_MODE===void 0){const ge=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(ne);I.push({offset:ne.startOffset,line:ne.startLine,column:ne.startColumn,length:ne.image.length,message:ge})}else{z.pop();const ge=nc(z);O=this.patternIdxToConfig[ge],P=this.charCodeToPatternIdxToConfig[ge],R=O.length;const ye=this.canModeBeOptimized[ge]&&this.config.safeMode===!1;P&&ye?V=q:V=X}};function U(ne){z.push(ne),P=this.charCodeToPatternIdxToConfig[ne],O=this.patternIdxToConfig[ne],R=O.length,R=O.length;const ge=this.canModeBeOptimized[ne]&&this.config.safeMode===!1;P&&ge?V=q:V=X}U.call(this,r);let Z;const pe=this.config.recoveryEnabled;for(;E<S;){l=null;const ne=w.charCodeAt(E),ge=V(ne),ye=ge.length;for(n=0;n<ye;n++){Z=ge[n];const J=Z.pattern;u=null;const se=Z.short;if(se!==!1?ne===se&&(l=J):Z.isCustom===!0?(y=J.exec(w,E,_,M),y!==null?(l=y[0],y.payload!==void 0&&(u=y.payload)):l=null):(this.updateLastIndex(J,E),l=this.match(J,e,E)),l!==null){if(o=Z.longerAlt,o!==void 0){const oe=o.length;for(a=0;a<oe;a++){const fe=O[o[a]],me=fe.pattern;if(h=null,fe.isCustom===!0?(y=me.exec(w,E,_,M),y!==null?(s=y[0],y.payload!==void 0&&(h=y.payload)):s=null):(this.updateLastIndex(me,E),s=this.match(me,e,E)),s&&s.length>l.length){l=s,u=h,Z=fe;break}}}break}}if(l!==null){if(f=l.length,d=Z.group,d!==void 0&&(p=Z.tokenTypeIdx,m=this.createTokenInstance(l,E,p,Z.tokenType,D,F,f),this.handlePayload(m,u),d===!1?C=this.addToken(_,C,m):M[d].push(m)),e=this.chopInput(e,f),E=E+f,F=this.computeNewColumn(F,f),B===!0&&Z.canLineTerminator===!0){let J=0,se,oe;H.lastIndex=0;do se=H.test(l),se===!0&&(oe=H.lastIndex-1,J++);while(se===!0);J!==0&&(D=D+J,F=f-oe,this.updateTokenEndLineColumnLocation(m,d,oe,J,D,F,f))}this.handleModes(Z,Y,U,m)}else{const J=E,se=D,oe=F;let fe=pe===!1;for(;fe===!1&&E<S;)for(e=this.chopInput(e,1),E++,i=0;i<R;i++){const me=O[i],be=me.pattern,ce=me.short;if(ce!==!1?w.charCodeAt(E)===ce&&(fe=!0):me.isCustom===!0?fe=be.exec(w,E,_,M)!==null:(this.updateLastIndex(be,E),fe=be.exec(e)!==null),fe===!0)break}if(v=E-J,F=this.computeNewColumn(F,v),x=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(w,J,v,se,oe),I.push({offset:J,line:se,column:oe,length:v,message:x}),pe===!1)break}}return this.hasCustom||(_.length=C),{tokens:_,groups:M,errors:I}}handleModes(e,r,n,i){if(e.pop===!0){const a=e.push;r(i),a!==void 0&&n.call(this,a)}else e.push!==void 0&&n.call(this,e.push)}chopInput(e,r){return e.substring(r)}updateLastIndex(e,r){e.lastIndex=r}updateTokenEndLineColumnLocation(e,r,n,i,a,s,o){let l,u;r!==void 0&&(l=n===o-1,u=l?-1:0,i===1&&l===!0||(e.endLine=a+u,e.endColumn=s-1+-u))}computeNewColumn(e,r){return e+r}createOffsetOnlyToken(e,r,n,i){return{image:e,startOffset:r,tokenTypeIdx:n,tokenType:i}}createStartOnlyToken(e,r,n,i,a,s){return{image:e,startOffset:r,startLine:a,startColumn:s,tokenTypeIdx:n,tokenType:i}}createFullToken(e,r,n,i,a,s,o){return{image:e,startOffset:r,endOffset:r+o-1,startLine:a,endLine:a,startColumn:s,endColumn:s+o-1,tokenTypeIdx:n,tokenType:i}}addTokenUsingPush(e,r,n){return e.push(n),r}addTokenUsingMemberAccess(e,r,n){return e[r]=n,r++,r}handlePayloadNoCustom(e,r){}handlePayloadWithCustom(e,r){r!==null&&(e.payload=r)}matchWithTest(e,r,n){return e.test(r)===!0?r.substring(n,e.lastIndex):null}matchWithExec(e,r){const n=e.exec(r);return n!==null?n[0]:null}}xo.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";xo.NA=/NOT_APPLICABLE/;function a1(t){return bse(t)?t.LABEL:t.name}function bse(t){return So(t.LABEL)&&t.LABEL!==""}const j$e="parent",wV="categories",SV="label",kV="group",EV="push_mode",TV="pop_mode",CV="longer_alt",AV="line_breaks",_V="start_chars_hint";function wse(t){return K$e(t)}function K$e(t){const e=t.pattern,r={};if(r.name=t.name,mn(e)||(r.PATTERN=e),vr(t,j$e))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return vr(t,wV)&&(r.CATEGORIES=t[wV]),Bb([r]),vr(t,SV)&&(r.LABEL=t[SV]),vr(t,kV)&&(r.GROUP=t[kV]),vr(t,TV)&&(r.POP_MODE=t[TV]),vr(t,EV)&&(r.PUSH_MODE=t[EV]),vr(t,CV)&&(r.LONGER_ALT=t[CV]),vr(t,AV)&&(r.LINE_BREAKS=t[AV]),vr(t,_V)&&(r.START_CHARS_HINT=t[_V]),r}const Kf=wse({name:"EOF",pattern:xo.NA});Bb([Kf]);function MN(t,e,r,n,i,a,s,o){return{image:e,startOffset:r,endOffset:n,startLine:i,endLine:a,startColumn:s,endColumn:o,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function Sse(t,e){return Fb(t,e)}const Bg={buildMismatchTokenMessage({expected:t,actual:e,previous:r,ruleName:n}){return`Expecting ${bse(t)?`--> ${a1(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:r,customUserDescription:n,ruleName:i}){const a="Expecting: ",o=`
but found: '`+vu(e).image+"'";if(n)return a+n+o;{const l=Ui(t,(d,p)=>d.concat(p),[]),u=It(l,d=>`[${It(d,p=>a1(p)).join(", ")}]`),f=`one of these possible Token sequences:
${It(u,(d,p)=>`  ${p+1}. ${d}`).join(`
`)}`;return a+f+o}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:r,ruleName:n}){const i="Expecting: ",s=`
but found: '`+vu(e).image+"'";if(r)return i+r+s;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${It(t,u=>`[${It(u,h=>a1(h)).join(",")}]`).join(" ,")}>`;return i+l+s}}};Object.freeze(Bg);const Q$e={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},m0={buildDuplicateFoundError(t,e){function r(h){return h instanceof Zn?h.terminalType.name:h instanceof Ws?h.nonTerminalName:""}const n=t.name,i=vu(e),a=i.idx,s=$u(i),o=r(i),l=a>0;let u=`->${s}${l?a:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=It(t.prefixPath,i=>a1(i)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=It(t.prefixPath,i=>a1(i)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;let n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(t){let e=$u(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,r=It(t.leftRecursionPath,a=>a.name),n=`${e} --> ${r.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof lv?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function Z$e(t,e){const r=new J$e(t,e);return r.resolveRefs(),r.errors}class J$e extends uv{constructor(e,r){super(),this.nameToTopRule=e,this.errMsgProvider=r,this.errors=[]}resolveRefs(){tt(Ln(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const r=this.nameToTopRule[e.nonTerminalName];if(r)e.referencedRule=r;else{const n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:qs.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class eze extends _T{constructor(e,r){super(),this.topProd=e,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=ca(this.path.ruleStack).reverse(),this.occurrenceStack=ca(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,r=[]){this.found||super.walk(e,r)}walkProdRef(e,r,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=r.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){un(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class tze extends eze{constructor(e,r){super(e,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,r,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=r.concat(n),a=new ko({definition:i});this.possibleTokTypes=Pb(a),this.found=!0}}}class DT extends _T{constructor(e,r){super(),this.topRule=e,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class rze extends DT{walkMany(e,r,n){if(e.idx===this.occurrence){const i=vu(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Zn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,r,n)}}class LV extends DT{walkManySep(e,r,n){if(e.idx===this.occurrence){const i=vu(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Zn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,r,n)}}class nze extends DT{walkAtLeastOne(e,r,n){if(e.idx===this.occurrence){const i=vu(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Zn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,r,n)}}class DV extends DT{walkAtLeastOneSep(e,r,n){if(e.idx===this.occurrence){const i=vu(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Zn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,r,n)}}function CL(t,e,r=[]){r=ca(r);let n=[],i=0;function a(o){return o.concat(Na(t,i+1))}function s(o){const l=CL(a(o),e,r);return n.concat(l)}for(;r.length<e&&i<t.length;){const o=t[i];if(o instanceof ko)return s(o.definition);if(o instanceof Ws)return s(o.definition);if(o instanceof Ha)n=s(o.definition);else if(o instanceof Qo){const l=o.definition.concat([new wi({definition:o.definition})]);return s(l)}else if(o instanceof Zo){const l=[new ko({definition:o.definition}),new wi({definition:[new Zn({terminalType:o.separator})].concat(o.definition)})];return s(l)}else if(o instanceof Ao){const l=o.definition.concat([new wi({definition:[new Zn({terminalType:o.separator})].concat(o.definition)})]);n=s(l)}else if(o instanceof wi){const l=o.definition.concat([new wi({definition:o.definition})]);n=s(l)}else{if(o instanceof _o)return tt(o.definition,l=>{un(l.definition)===!1&&(n=s(l.definition))}),n;if(o instanceof Zn)r.push(o.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:Na(t,i)}),n}function kse(t,e,r,n){const i="EXIT_NONE_TERMINAL",a=[i],s="EXIT_ALTERNATIVE";let o=!1;const l=e.length,u=l-n-1,h=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!un(f);){const d=f.pop();if(d===s){o&&nc(f).idx<=u&&f.pop();continue}const p=d.def,m=d.idx,v=d.ruleStack,x=d.occurrenceStack;if(un(p))continue;const y=p[0];if(y===i){const w={idx:m,def:Na(p),ruleStack:Cx(v),occurrenceStack:Cx(x)};f.push(w)}else if(y instanceof Zn)if(m<l-1){const w=m+1,S=e[w];if(r(S,y.terminalType)){const E={idx:w,def:Na(p),ruleStack:v,occurrenceStack:x};f.push(E)}}else if(m===l-1)h.push({nextTokenType:y.terminalType,nextTokenOccurrence:y.idx,ruleStack:v,occurrenceStack:x}),o=!0;else throw Error("non exhaustive match");else if(y instanceof Ws){const w=ca(v);w.push(y.nonTerminalName);const S=ca(x);S.push(y.idx);const E={idx:m,def:y.definition.concat(a,Na(p)),ruleStack:w,occurrenceStack:S};f.push(E)}else if(y instanceof Ha){const w={idx:m,def:Na(p),ruleStack:v,occurrenceStack:x};f.push(w),f.push(s);const S={idx:m,def:y.definition.concat(Na(p)),ruleStack:v,occurrenceStack:x};f.push(S)}else if(y instanceof Qo){const w=new wi({definition:y.definition,idx:y.idx}),S=y.definition.concat([w],Na(p)),E={idx:m,def:S,ruleStack:v,occurrenceStack:x};f.push(E)}else if(y instanceof Zo){const w=new Zn({terminalType:y.separator}),S=new wi({definition:[w].concat(y.definition),idx:y.idx}),E=y.definition.concat([S],Na(p)),C={idx:m,def:E,ruleStack:v,occurrenceStack:x};f.push(C)}else if(y instanceof Ao){const w={idx:m,def:Na(p),ruleStack:v,occurrenceStack:x};f.push(w),f.push(s);const S=new Zn({terminalType:y.separator}),E=new wi({definition:[S].concat(y.definition),idx:y.idx}),C=y.definition.concat([E],Na(p)),L={idx:m,def:C,ruleStack:v,occurrenceStack:x};f.push(L)}else if(y instanceof wi){const w={idx:m,def:Na(p),ruleStack:v,occurrenceStack:x};f.push(w),f.push(s);const S=new wi({definition:y.definition,idx:y.idx}),E=y.definition.concat([S],Na(p)),C={idx:m,def:E,ruleStack:v,occurrenceStack:x};f.push(C)}else if(y instanceof _o)for(let w=y.definition.length-1;w>=0;w--){const S=y.definition[w],E={idx:m,def:S.definition.concat(Na(p)),ruleStack:v,occurrenceStack:x};f.push(E),f.push(s)}else if(y instanceof ko)f.push({idx:m,def:y.definition.concat(Na(p)),ruleStack:v,occurrenceStack:x});else if(y instanceof lv)f.push(ize(y,m,v,x));else throw Error("non exhaustive match")}return h}function ize(t,e,r,n){const i=ca(r);i.push(t.name);const a=ca(n);return a.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:a}}var di;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(di||(di={}));function NN(t){if(t instanceof Ha||t==="Option")return di.OPTION;if(t instanceof wi||t==="Repetition")return di.REPETITION;if(t instanceof Qo||t==="RepetitionMandatory")return di.REPETITION_MANDATORY;if(t instanceof Zo||t==="RepetitionMandatoryWithSeparator")return di.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof Ao||t==="RepetitionWithSeparator")return di.REPETITION_WITH_SEPARATOR;if(t instanceof _o||t==="Alternation")return di.ALTERNATION;throw Error("non exhaustive match")}function RV(t){const{occurrence:e,rule:r,prodType:n,maxLookahead:i}=t,a=NN(n);return a===di.ALTERNATION?RT(e,r,i):MT(e,r,a,i)}function aze(t,e,r,n,i,a){const s=RT(t,e,r),o=Cse(s)?BS:Fb;return a(s,n,o,i)}function sze(t,e,r,n,i,a){const s=MT(t,e,i,r),o=Cse(s)?BS:Fb;return a(s[0],o,n)}function oze(t,e,r,n){const i=t.length,a=uu(t,s=>uu(s,o=>o.length===1));if(e)return function(s){const o=It(s,l=>l.GATE);for(let l=0;l<i;l++){const u=t[l],h=u.length,f=o[l];if(!(f!==void 0&&f.call(this)===!1))e:for(let d=0;d<h;d++){const p=u[d],m=p.length;for(let v=0;v<m;v++){const x=this.LA(v+1);if(r(x,p[v])===!1)continue e}return l}}};if(a&&!n){const s=It(t,l=>wa(l)),o=Ui(s,(l,u,h)=>(tt(u,f=>{vr(l,f.tokenTypeIdx)||(l[f.tokenTypeIdx]=h),tt(f.categoryMatches,d=>{vr(l,d)||(l[d]=h)})}),l),{});return function(){const l=this.LA(1);return o[l.tokenTypeIdx]}}else return function(){for(let s=0;s<i;s++){const o=t[s],l=o.length;e:for(let u=0;u<l;u++){const h=o[u],f=h.length;for(let d=0;d<f;d++){const p=this.LA(d+1);if(r(p,h[d])===!1)continue e}return s}}}}function lze(t,e,r){const n=uu(t,a=>a.length===1),i=t.length;if(n&&!r){const a=wa(t);if(a.length===1&&un(a[0].categoryMatches)){const o=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}else{const s=Ui(a,(o,l,u)=>(o[l.tokenTypeIdx]=!0,tt(l.categoryMatches,h=>{o[h]=!0}),o),[]);return function(){const o=this.LA(1);return s[o.tokenTypeIdx]===!0}}}else return function(){e:for(let a=0;a<i;a++){const s=t[a],o=s.length;for(let l=0;l<o;l++){const u=this.LA(l+1);if(e(u,s[l])===!1)continue e}return!0}return!1}}class uze extends _T{constructor(e,r,n){super(),this.topProd=e,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,r,n,i){return e.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=n.concat(i),!0):!1}walkOption(e,r,n){this.checkIsTarget(e,di.OPTION,r,n)||super.walkOption(e,r,n)}walkAtLeastOne(e,r,n){this.checkIsTarget(e,di.REPETITION_MANDATORY,r,n)||super.walkOption(e,r,n)}walkAtLeastOneSep(e,r,n){this.checkIsTarget(e,di.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n)}walkMany(e,r,n){this.checkIsTarget(e,di.REPETITION,r,n)||super.walkOption(e,r,n)}walkManySep(e,r,n){this.checkIsTarget(e,di.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n)}}class Ese extends uv{constructor(e,r,n){super(),this.targetOccurrence=e,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(e,r){e.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,di.OPTION)}visitRepetition(e){this.checkIsTarget(e,di.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,di.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,di.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,di.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,di.ALTERNATION)}}function MV(t){const e=new Array(t);for(let r=0;r<t;r++)e[r]=[];return e}function p8(t){let e=[""];for(let r=0;r<t.length;r++){const n=t[r],i=[];for(let a=0;a<e.length;a++){const s=e[a];i.push(s+"_"+n.tokenTypeIdx);for(let o=0;o<n.categoryMatches.length;o++){const l="_"+n.categoryMatches[o];i.push(s+l)}}e=i}return e}function cze(t,e,r){for(let n=0;n<t.length;n++){if(n===r)continue;const i=t[n];for(let a=0;a<e.length;a++){const s=e[a];if(i[s]===!0)return!1}}return!0}function Tse(t,e){const r=It(t,s=>CL([s],1)),n=MV(r.length),i=It(r,s=>{const o={};return tt(s,l=>{const u=p8(l.partialPath);tt(u,h=>{o[h]=!0})}),o});let a=r;for(let s=1;s<=e;s++){const o=a;a=MV(o.length);for(let l=0;l<o.length;l++){const u=o[l];for(let h=0;h<u.length;h++){const f=u[h].partialPath,d=u[h].suffixDef,p=p8(f);if(cze(i,p,l)||un(d)||f.length===e){const v=n[l];if(AL(v,f)===!1){v.push(f);for(let x=0;x<p.length;x++){const y=p[x];i[l][y]=!0}}}else{const v=CL(d,s+1,f);a[l]=a[l].concat(v),tt(v,x=>{const y=p8(x.partialPath);tt(y,w=>{i[l][w]=!0})})}}}}return n}function RT(t,e,r,n){const i=new Ese(t,di.ALTERNATION,n);return e.accept(i),Tse(i.result,r)}function MT(t,e,r,n){const i=new Ese(t,r);e.accept(i);const a=i.result,o=new uze(e,t,r).startWalking(),l=new ko({definition:a}),u=new ko({definition:o});return Tse([l,u],n)}function AL(t,e){e:for(let r=0;r<t.length;r++){const n=t[r];if(n.length===e.length){for(let i=0;i<n.length;i++){const a=e[i],s=n[i];if((a===s||s.categoryMatchesMap[a.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function hze(t,e){return t.length<e.length&&uu(t,(r,n)=>{const i=e[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function Cse(t){return uu(t,e=>uu(e,r=>uu(r,n=>un(n.categoryMatches))))}function fze(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return It(e,r=>Object.assign({type:qs.CUSTOM_LOOKAHEAD_VALIDATION},r))}function dze(t,e,r,n){const i=zo(t,l=>pze(l,r)),a=Cze(t,e,r),s=zo(t,l=>Sze(l,r)),o=zo(t,l=>vze(l,t,n,r));return i.concat(a,s,o)}function pze(t,e){const r=new mze;t.accept(r);const n=r.allProductions,i=YMe(n,gze),a=wu(i,o=>o.length>1);return It(Ln(a),o=>{const l=vu(o),u=e.buildDuplicateFoundError(t,o),h=$u(l),f={message:u,type:qs.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:h,occurrence:l.idx},d=Ase(l);return d&&(f.parameter=d),f})}function gze(t){return`${$u(t)}_#_${t.idx}_#_${Ase(t)}`}function Ase(t){return t instanceof Zn?t.terminalType.name:t instanceof Ws?t.nonTerminalName:""}class mze extends uv{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function vze(t,e,r,n){const i=[];if(Ui(e,(s,o)=>o.name===t.name?s+1:s,0)>1){const s=n.buildDuplicateRuleNameError({topLevelRule:t,grammarName:r});i.push({message:s,type:qs.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}function yze(t,e,r){const n=[];let i;return Qs(e,t)||(i=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:qs.INVALID_RULE_OVERRIDE,ruleName:t})),n}function _se(t,e,r,n=[]){const i=[],a=I3(e.definition);if(un(a))return[];{const s=t.name;Qs(a,t)&&i.push({message:r.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:n}),type:qs.LEFT_RECURSION,ruleName:s});const l=fT(a,n.concat([t])),u=zo(l,h=>{const f=ca(n);return f.push(h),_se(t,h,r,f)});return i.concat(u)}}function I3(t){let e=[];if(un(t))return e;const r=vu(t);if(r instanceof Ws)e.push(r.referencedRule);else if(r instanceof ko||r instanceof Ha||r instanceof Qo||r instanceof Zo||r instanceof Ao||r instanceof wi)e=e.concat(I3(r.definition));else if(r instanceof _o)e=wa(It(r.definition,a=>I3(a.definition)));else if(!(r instanceof Zn))throw Error("non exhaustive match");const n=PS(r),i=t.length>1;if(n&&i){const a=Na(t);return e.concat(I3(a))}else return e}class IN extends uv{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function xze(t,e){const r=new IN;t.accept(r);const n=r.alternations;return zo(n,a=>{const s=Cx(a.definition);return zo(s,(o,l)=>{const u=kse([o],[],Fb,1);return un(u)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:a,emptyChoiceIdx:l}),type:qs.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:a.idx,alternative:l+1}]:[]})})}function bze(t,e,r){const n=new IN;t.accept(n);let i=n.alternations;return i=pT(i,s=>s.ignoreAmbiguities===!0),zo(i,s=>{const o=s.idx,l=s.maxLookahead||e,u=RT(o,t,l,s),h=Eze(u,s,t,r),f=Tze(u,s,t,r);return h.concat(f)})}class wze extends uv{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function Sze(t,e){const r=new IN;t.accept(r);const n=r.alternations;return zo(n,a=>a.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:a}),type:qs.TOO_MANY_ALTS,ruleName:t.name,occurrence:a.idx}]:[])}function kze(t,e,r){const n=[];return tt(t,i=>{const a=new wze;i.accept(a);const s=a.allProductions;tt(s,o=>{const l=NN(o),u=o.maxLookahead||e,h=o.idx,d=MT(h,i,l,u)[0];if(un(wa(d))){const p=r.buildEmptyRepetitionError({topLevelRule:i,repetition:o});n.push({message:p,type:qs.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function Eze(t,e,r,n){const i=[],a=Ui(t,(o,l,u)=>(e.definition[u].ignoreAmbiguities===!0||tt(l,h=>{const f=[u];tt(t,(d,p)=>{u!==p&&AL(d,h)&&e.definition[p].ignoreAmbiguities!==!0&&f.push(p)}),f.length>1&&!AL(i,h)&&(i.push(h),o.push({alts:f,path:h}))}),o),[]);return It(a,o=>{const l=It(o.alts,h=>h+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:l,prefixPath:o.path}),type:qs.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:e.idx,alternatives:o.alts}})}function Tze(t,e,r,n){const i=Ui(t,(s,o,l)=>{const u=It(o,h=>({idx:l,path:h}));return s.concat(u)},[]);return Mb(zo(i,s=>{if(e.definition[s.idx].ignoreAmbiguities===!0)return[];const l=s.idx,u=s.path,h=ki(i,d=>e.definition[d.idx].ignoreAmbiguities!==!0&&d.idx<l&&hze(d.path,u));return It(h,d=>{const p=[d.idx+1,l+1],m=e.idx===0?"":e.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:p,prefixPath:d.path}),type:qs.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:m,alternatives:p}})}))}function Cze(t,e,r){const n=[],i=It(e,a=>a.name);return tt(t,a=>{const s=a.name;if(Qs(i,s)){const o=r.buildNamespaceConflictError(a);n.push({message:o,type:qs.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),n}function Aze(t){const e=hT(t,{errMsgProvider:Q$e}),r={};return tt(t.rules,n=>{r[n.name]=n}),Z$e(r,e.errMsgProvider)}function _ze(t){return t=hT(t,{errMsgProvider:m0}),dze(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const Lse="MismatchedTokenException",Dse="NoViableAltException",Rse="EarlyExitException",Mse="NotAllInputParsedException",Nse=[Lse,Dse,Rse,Mse];Object.freeze(Nse);function $S(t){return Qs(Nse,t.name)}class NT extends Error{constructor(e,r){super(e),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Ise extends NT{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Lse}}class Lze extends NT{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Dse}}class Dze extends NT{constructor(e,r){super(e,r),this.name=Mse}}class Rze extends NT{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Rse}}const g8={},Ose="InRuleRecoveryException";class Mze extends Error{constructor(e){super(e),this.name=Ose}}class Nze{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=vr(e,"recoveryEnabled")?e.recoveryEnabled:bh.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Ize)}getTokenToInsert(e){const r=MN(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,r,n,i){const a=this.findReSyncTokenType(),s=this.exportLexerState(),o=[];let l=!1;const u=this.LA(1);let h=this.LA(1);const f=()=>{const d=this.LA(0),p=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:u,previous:d,ruleName:this.getCurrRuleFullName()}),m=new Ise(p,u,this.LA(0));m.resyncedTokens=Cx(o),this.SAVE_ERROR(m)};for(;!l;)if(this.tokenMatcher(h,i)){f();return}else if(n.call(this)){f(),e.apply(this,r);return}else this.tokenMatcher(h,a)?l=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,o));this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(e,r,n){return!(n===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,r)))}getFollowsForInRuleRecovery(e,r){const n=this.getCurrentGrammarPath(e,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,r){if(this.canRecoverWithSingleTokenInsertion(e,r))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new Mze("sad sad panda")}canPerformInRuleRecovery(e,r){return this.canRecoverWithSingleTokenInsertion(e,r)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,r){if(!this.canTokenTypeBeInsertedInRecovery(e)||un(r))return!1;const n=this.LA(1);return vh(r,a=>this.tokenMatcher(n,a))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return Qs(n,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let r=this.LA(1),n=2;for(;;){const i=vh(e,a=>Sse(r,a));if(i!==void 0)return i;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return g8;const e=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return It(e,(n,i)=>i===0?g8:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){const e=It(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return wa(e)}getFollowSetFromFollowKey(e){if(e===g8)return[Kf];const r=e.ruleName+e.idxInCallingRule+hse+e.inRule;return this.resyncFollows[r]}addToResyncTokens(e,r){return this.tokenMatcher(e,Kf)||r.push(e),r}reSyncTo(e){const r=[];let n=this.LA(1);for(;this.tokenMatcher(n,e)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return Cx(r)}attemptInRepetitionRecovery(e,r,n,i,a,s,o){}getCurrentGrammarPath(e,r){const n=this.getHumanReadableRuleStack(),i=ca(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:i,lastTok:e,lastTokOccurrence:r}}getHumanReadableRuleStack(){return It(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function Ize(t,e,r,n,i,a,s){const o=this.getKeyForAutomaticLookahead(n,i);let l=this.firstAfterRepMap[o];if(l===void 0){const d=this.getCurrRuleFullName(),p=this.getGAstProductions()[d];l=new a(p,i).startWalking(),this.firstAfterRepMap[o]=l}let u=l.token,h=l.occurrence;const f=l.isEndOfRule;this.RULE_STACK.length===1&&f&&u===void 0&&(u=Kf,h=1),!(u===void 0||h===void 0)&&this.shouldInRepetitionRecoveryBeTried(u,h,s)&&this.tryInRepetitionRecovery(t,e,r,u)}const Oze=4,vd=8,Pse=1<<vd,Fse=2<<vd,_L=3<<vd,LL=4<<vd,DL=5<<vd,O3=6<<vd;function m8(t,e,r){return r|e|t}class ON{constructor(e){var r;this.maxLookahead=(r=e==null?void 0:e.maxLookahead)!==null&&r!==void 0?r:bh.maxLookahead}validate(e){const r=this.validateNoLeftRecursion(e.rules);if(un(r)){const n=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),a=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...r,...n,...i,...a]}return r}validateNoLeftRecursion(e){return zo(e,r=>_se(r,r,m0))}validateEmptyOrAlternatives(e){return zo(e,r=>xze(r,m0))}validateAmbiguousAlternationAlternatives(e,r){return zo(e,n=>bze(n,r,m0))}validateSomeNonEmptyLookaheadPath(e,r){return kze(e,r,m0)}buildLookaheadForAlternation(e){return aze(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,oze)}buildLookaheadForOptional(e){return sze(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,NN(e.prodType),lze)}}class Pze{initLooksAhead(e){this.dynamicTokensEnabled=vr(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:bh.dynamicTokensEnabled,this.maxLookahead=vr(e,"maxLookahead")?e.maxLookahead:bh.maxLookahead,this.lookaheadStrategy=vr(e,"lookaheadStrategy")?e.lookaheadStrategy:new ON({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){tt(e,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{const{alternation:n,repetition:i,option:a,repetitionMandatory:s,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:l}=Bze(r);tt(n,u=>{const h=u.idx===0?"":u.idx;this.TRACE_INIT(`${$u(u)}${h}`,()=>{const f=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:r,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),d=m8(this.fullRuleNameToShort[r.name],Pse,u.idx);this.setLaFuncCache(d,f)})}),tt(i,u=>{this.computeLookaheadFunc(r,u.idx,_L,"Repetition",u.maxLookahead,$u(u))}),tt(a,u=>{this.computeLookaheadFunc(r,u.idx,Fse,"Option",u.maxLookahead,$u(u))}),tt(s,u=>{this.computeLookaheadFunc(r,u.idx,LL,"RepetitionMandatory",u.maxLookahead,$u(u))}),tt(o,u=>{this.computeLookaheadFunc(r,u.idx,O3,"RepetitionMandatoryWithSeparator",u.maxLookahead,$u(u))}),tt(l,u=>{this.computeLookaheadFunc(r,u.idx,DL,"RepetitionWithSeparator",u.maxLookahead,$u(u))})})})}computeLookaheadFunc(e,r,n,i,a,s){this.TRACE_INIT(`${s}${r===0?"":r}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:e,maxLookahead:a||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=m8(this.fullRuleNameToShort[e.name],n,r);this.setLaFuncCache(l,o)})}getKeyForAutomaticLookahead(e,r){const n=this.getLastExplicitRuleShortName();return m8(n,e,r)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,r){this.lookAheadFuncsCache.set(e,r)}}class Fze extends uv{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const Lw=new Fze;function Bze(t){Lw.reset(),t.accept(Lw);const e=Lw.dslMethods;return Lw.reset(),e}function NV(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function IV(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function $ze(t,e,r){t.children[r]===void 0?t.children[r]=[e]:t.children[r].push(e)}function zze(t,e,r){t.children[e]===void 0?t.children[e]=[r]:t.children[e].push(r)}const Hze="name";function Bse(t,e){Object.defineProperty(t,Hze,{enumerable:!1,configurable:!0,writable:!1,value:e})}function Vze(t,e){const r=na(t),n=r.length;for(let i=0;i<n;i++){const a=r[i],s=t[a],o=s.length;for(let l=0;l<o;l++){const u=s[l];u.tokenTypeIdx===void 0&&this[u.name](u.children,e)}}}function Uze(t,e){const r=function(){};Bse(r,t+"BaseSemantics");const n={visit:function(i,a){if(Ur(i)&&(i=i[0]),!mn(i))return this[i.name](i.children,a)},validateVisitor:function(){const i=Wze(this,e);if(!un(i)){const a=It(i,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${a.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=e,r}function Gze(t,e,r){const n=function(){};Bse(n,t+"BaseSemanticsWithDefaults");const i=Object.create(r.prototype);return tt(e,a=>{i[a]=Vze}),n.prototype=i,n.prototype.constructor=n,n}var RL;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(RL||(RL={}));function Wze(t,e){return qze(t,e)}function qze(t,e){const r=ki(e,i=>Ll(t[i])===!1),n=It(r,i=>({msg:`Missing visitor method: <${i}> on ${t.constructor.name} CST Visitor.`,type:RL.MISSING_METHOD,methodName:i}));return Mb(n)}class Yze{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=vr(e,"nodeLocationTracking")?e.nodeLocationTracking:bh.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Ki,this.cstFinallyStateUpdate=Ki,this.cstPostTerminal=Ki,this.cstPostNonTerminal=Ki,this.cstPostRule=Ki;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=IV,this.setNodeLocationFromNode=IV,this.cstPostRule=Ki,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Ki,this.setNodeLocationFromNode=Ki,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=NV,this.setNodeLocationFromNode=NV,this.cstPostRule=Ki,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Ki,this.setNodeLocationFromNode=Ki,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Ki,this.setNodeLocationFromNode=Ki,this.cstPostRule=Ki,this.setInitialNodeLocation=Ki;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const r=this.LA(1);e.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const r={name:e,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(e){const r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(e,r){const n=this.CST_STACK[this.CST_STACK.length-1];$ze(n,r,e),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(e,r){const n=this.CST_STACK[this.CST_STACK.length-1];zze(n,r,e),this.setNodeLocationFromNode(n.location,e.location)}getBaseCstVisitorConstructor(){if(mn(this.baseCstVisitorConstructor)){const e=Uze(this.className,na(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(mn(this.baseCstVisitorWithDefaultsConstructor)){const e=Gze(this.className,na(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class Xze{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):HS}LA(e){const r=this.currIdx+e;return r<0||this.tokVectorLength<=r?HS:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class jze{ACTION(e){return e.call(this)}consume(e,r,n){return this.consumeInternal(r,e,n)}subrule(e,r,n){return this.subruleInternal(r,e,n)}option(e,r){return this.optionInternal(r,e)}or(e,r){return this.orInternal(r,e)}many(e,r){return this.manyInternal(e,r)}atLeastOne(e,r){return this.atLeastOneInternal(e,r)}CONSUME(e,r){return this.consumeInternal(e,0,r)}CONSUME1(e,r){return this.consumeInternal(e,1,r)}CONSUME2(e,r){return this.consumeInternal(e,2,r)}CONSUME3(e,r){return this.consumeInternal(e,3,r)}CONSUME4(e,r){return this.consumeInternal(e,4,r)}CONSUME5(e,r){return this.consumeInternal(e,5,r)}CONSUME6(e,r){return this.consumeInternal(e,6,r)}CONSUME7(e,r){return this.consumeInternal(e,7,r)}CONSUME8(e,r){return this.consumeInternal(e,8,r)}CONSUME9(e,r){return this.consumeInternal(e,9,r)}SUBRULE(e,r){return this.subruleInternal(e,0,r)}SUBRULE1(e,r){return this.subruleInternal(e,1,r)}SUBRULE2(e,r){return this.subruleInternal(e,2,r)}SUBRULE3(e,r){return this.subruleInternal(e,3,r)}SUBRULE4(e,r){return this.subruleInternal(e,4,r)}SUBRULE5(e,r){return this.subruleInternal(e,5,r)}SUBRULE6(e,r){return this.subruleInternal(e,6,r)}SUBRULE7(e,r){return this.subruleInternal(e,7,r)}SUBRULE8(e,r){return this.subruleInternal(e,8,r)}SUBRULE9(e,r){return this.subruleInternal(e,9,r)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,r,n=VS){if(Qs(this.definedRulesNames,e)){const s={message:m0.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:qs.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(s)}this.definedRulesNames.push(e);const i=this.defineRule(e,r,n);return this[e]=i,i}OVERRIDE_RULE(e,r,n=VS){const i=yze(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const a=this.defineRule(e,r,n);return this[e]=a,a}BACKTRACK(e,r){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return e.apply(this,r),!0}catch(i){if($S(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return n$e(Ln(this.gastProductionsCache))}}class Kze{initRecognizerEngine(e,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=BS,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},vr(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Ur(e)){if(un(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Ur(e))this.tokensMap=Ui(e,(a,s)=>(a[s.name]=s,a),{});else if(vr(e,"modes")&&uu(wa(Ln(e.modes)),Y$e)){const a=wa(Ln(e.modes)),s=aN(a);this.tokensMap=Ui(s,(o,l)=>(o[l.name]=l,o),{})}else if(wo(e))this.tokensMap=ca(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Kf;const n=vr(e,"modes")?wa(Ln(e.modes)):Ln(e),i=uu(n,a=>un(a.categoryMatches));this.tokenMatcher=i?BS:Fb,Bb(Ln(this.tokensMap))}defineRule(e,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=vr(n,"resyncEnabled")?n.resyncEnabled:VS.resyncEnabled,a=vr(n,"recoveryValueFunc")?n.recoveryValueFunc:VS.recoveryValueFunc,s=this.ruleShortNameIdx<<Oze+vd;this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=e,this.fullRuleNameToShort[e]=s;let o;return this.outputCst===!0?o=function(...h){try{this.ruleInvocationStateUpdate(s,e,this.subruleIdx),r.apply(this,h);const f=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(f),f}catch(f){return this.invokeRuleCatch(f,i,a)}finally{this.ruleFinallyStateUpdate()}}:o=function(...h){try{return this.ruleInvocationStateUpdate(s,e,this.subruleIdx),r.apply(this,h)}catch(f){return this.invokeRuleCatch(f,i,a)}finally{this.ruleFinallyStateUpdate()}},Object.assign(o,{ruleName:e,originalGrammarAction:r})}invokeRuleCatch(e,r,n){const i=this.RULE_STACK.length===1,a=r&&!this.isBackTracking()&&this.recoveryEnabled;if($S(e)){const s=e;if(a){const o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o))if(s.resyncedTokens=this.reSyncTo(o),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return n(e);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,s.partialCstResult=l}throw s}}else{if(i)return this.moveToTerminatedState(),n(e);throw s}}else throw e}optionInternal(e,r){const n=this.getKeyForAutomaticLookahead(Fse,r);return this.optionInternalLogic(e,r,n)}optionInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof e!="function"){a=e.DEF;const s=e.GATE;if(s!==void 0){const o=i;i=()=>s.call(this)&&o.call(this)}}else a=e;if(i.call(this)===!0)return a.call(this)}atLeastOneInternal(e,r){const n=this.getKeyForAutomaticLookahead(LL,e);return this.atLeastOneInternalLogic(e,r,n)}atLeastOneInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof r!="function"){a=r.DEF;const s=r.GATE;if(s!==void 0){const o=i;i=()=>s.call(this)&&o.call(this)}}else a=r;if(i.call(this)===!0){let s=this.doSingleRepetition(a);for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(a)}else throw this.raiseEarlyExitException(e,di.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,r],i,LL,e,nze)}atLeastOneSepFirstInternal(e,r){const n=this.getKeyForAutomaticLookahead(O3,e);this.atLeastOneSepFirstInternalLogic(e,r,n)}atLeastOneSepFirstInternalLogic(e,r,n){const i=r.DEF,a=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),a);for(;this.tokenMatcher(this.LA(1),a)===!0;)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,o,i,DV],o,O3,e,DV)}else throw this.raiseEarlyExitException(e,di.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(e,r){const n=this.getKeyForAutomaticLookahead(_L,e);return this.manyInternalLogic(e,r,n)}manyInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof r!="function"){a=r.DEF;const o=r.GATE;if(o!==void 0){const l=i;i=()=>o.call(this)&&l.call(this)}}else a=r;let s=!0;for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(a);this.attemptInRepetitionRecovery(this.manyInternal,[e,r],i,_L,e,rze,s)}manySepFirstInternal(e,r){const n=this.getKeyForAutomaticLookahead(DL,e);this.manySepFirstInternalLogic(e,r,n)}manySepFirstInternalLogic(e,r,n){const i=r.DEF,a=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),a);for(;this.tokenMatcher(this.LA(1),a)===!0;)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,o,i,LV],o,DL,e,LV)}}repetitionSepSecondInternal(e,r,n,i,a){for(;n();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,r,n,i,a],n,O3,e,a)}doSingleRepetition(e){const r=this.getLexerPosition();return e.call(this),this.getLexerPosition()>r}orInternal(e,r){const n=this.getKeyForAutomaticLookahead(Pse,r),i=Ur(e)?e:e.DEF,s=this.getLaFuncFromCache(n).call(this,i);if(s!==void 0)return i[s].ALT.call(this);this.raiseNoAltException(r,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Dze(r,e))}}subruleInternal(e,r,n){let i;try{const a=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,i=e.apply(this,a),this.cstPostNonTerminal(i,n!==void 0&&n.LABEL!==void 0?n.LABEL:e.ruleName),i}catch(a){throw this.subruleInternalError(a,n,e.ruleName)}}subruleInternalError(e,r,n){throw $S(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,r,n){let i;try{const a=this.LA(1);this.tokenMatcher(a,e)===!0?(this.consumeToken(),i=a):this.consumeInternalError(e,a,n)}catch(a){i=this.consumeInternalRecovery(e,r,a)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:e.name,i),i}consumeInternalError(e,r,n){let i;const a=this.LA(0);throw n!==void 0&&n.ERR_MSG?i=n.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:r,previous:a,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Ise(i,r,a))}consumeInternalRecovery(e,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(e,r);try{return this.tryInRuleRecovery(e,i)}catch(a){throw a.name===Ose?n:a}}else throw n}saveRecogState(){const e=this.errors,r=ca(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Kf)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class Qze{initErrorHandler(e){this._errors=[],this.errorMessageProvider=vr(e,"errorMessageProvider")?e.errorMessageProvider:bh.errorMessageProvider}SAVE_ERROR(e){if($S(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:ca(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return ca(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,r,n){const i=this.getCurrRuleFullName(),a=this.getGAstProductions()[i],o=MT(e,a,r,this.maxLookahead)[0],l=[];for(let h=1;h<=this.maxLookahead;h++)l.push(this.LA(h));const u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:l,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new Rze(u,this.LA(1),this.LA(0)))}raiseNoAltException(e,r){const n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],a=RT(e,i,this.maxLookahead),s=[];for(let u=1;u<=this.maxLookahead;u++)s.push(this.LA(u));const o=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:a,actual:s,previous:o,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Lze(l,this.LA(1),o))}}class Zze{initContentAssist(){}computeContentAssist(e,r){const n=this.gastProductionsCache[e];if(mn(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return kse([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const r=vu(e.ruleStack),i=this.getGAstProductions()[r];return new tze(i,e).startWalking()}}const IT={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(IT);const OV=!0,PV=Math.pow(2,vd)-1,$se=wse({name:"RECORDING_PHASE_TOKEN",pattern:xo.NA});Bb([$se]);const zse=MN($se,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(zse);const Jze={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class eHe{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const r=e>0?e:"";this[`CONSUME${r}`]=function(n,i){return this.consumeInternalRecord(n,e,i)},this[`SUBRULE${r}`]=function(n,i){return this.subruleInternalRecord(n,e,i)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,e)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,e)},this[`MANY${r}`]=function(n){this.manyInternalRecord(e,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(e,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(e,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(e,n)}}this.consume=function(e,r,n){return this.consumeInternalRecord(r,e,n)},this.subrule=function(e,r,n){return this.subruleInternalRecord(r,e,n)},this.option=function(e,r){return this.optionInternalRecord(r,e)},this.or=function(e,r){return this.orInternalRecord(r,e)},this.many=function(e,r){this.manyInternalRecord(e,r)},this.atLeastOne=function(e,r){this.atLeastOneInternalRecord(e,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let r=0;r<10;r++){const n=r>0?r:"";delete e[`CONSUME${n}`],delete e[`SUBRULE${n}`],delete e[`OPTION${n}`],delete e[`OR${n}`],delete e[`MANY${n}`],delete e[`MANY_SEP${n}`],delete e[`AT_LEAST_ONE${n}`],delete e[`AT_LEAST_ONE_SEP${n}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,r){return()=>!0}LA_RECORD(e){return HS}topLevelRuleRecord(e,r){try{const n=new lv({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(e,r){return Dy.call(this,Ha,e,r)}atLeastOneInternalRecord(e,r){Dy.call(this,Qo,r,e)}atLeastOneSepFirstInternalRecord(e,r){Dy.call(this,Zo,r,e,OV)}manyInternalRecord(e,r){Dy.call(this,wi,r,e)}manySepFirstInternalRecord(e,r){Dy.call(this,Ao,r,e,OV)}orInternalRecord(e,r){return tHe.call(this,e,r)}subruleInternalRecord(e,r,n){if(zS(r),!e||vr(e,"ruleName")===!1){const o=new Error(`<SUBRULE${FV(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=nc(this.recordingProdStack),a=e.ruleName,s=new Ws({idx:r,nonTerminalName:a,label:n==null?void 0:n.LABEL,referencedRule:void 0});return i.definition.push(s),this.outputCst?Jze:IT}consumeInternalRecord(e,r,n){if(zS(r),!xse(e)){const s=new Error(`<CONSUME${FV(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}const i=nc(this.recordingProdStack),a=new Zn({idx:r,terminalType:e,label:n==null?void 0:n.LABEL});return i.definition.push(a),zse}}function Dy(t,e,r,n=!1){zS(r);const i=nc(this.recordingProdStack),a=Ll(e)?e:e.DEF,s=new t({definition:[],idx:r});return n&&(s.separator=e.SEP),vr(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(s),a.call(this),i.definition.push(s),this.recordingProdStack.pop(),IT}function tHe(t,e){zS(e);const r=nc(this.recordingProdStack),n=Ur(t)===!1,i=n===!1?t:t.DEF,a=new _o({definition:[],idx:e,ignoreAmbiguities:n&&t.IGNORE_AMBIGUITIES===!0});vr(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD);const s=Tie(i,o=>Ll(o.GATE));return a.hasPredicates=s,r.definition.push(a),tt(i,o=>{const l=new ko({definition:[]});a.definition.push(l),vr(o,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:vr(o,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),o.ALT.call(this),this.recordingProdStack.pop()}),IT}function FV(t){return t===0?"":`${t}`}function zS(t){if(t<0||t>PV){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${PV+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class rHe{initPerformanceTracer(e){if(vr(e,"traceInitPerf")){const r=e.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=bh.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,r){if(this.traceInitPerf===!0){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${e}>`);const{time:i,value:a}=use(r),s=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${n}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,a}else return r()}}function nHe(t,e){e.forEach(r=>{const n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;const a=Object.getOwnPropertyDescriptor(n,i);a&&(a.get||a.set)?Object.defineProperty(t.prototype,i,a):t.prototype[i]=r.prototype[i]})})}const HS=MN(Kf,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(HS);const bh=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Bg,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),VS=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var qs;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(qs||(qs={}));function BV(t=void 0){return function(){return t}}class $b{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const r=this.className;this.TRACE_INIT("toFastProps",()=>{cse(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),tt(this.definedRulesNames,i=>{const s=this[i].originalGrammarAction;let o;this.TRACE_INIT(`${i} Rule`,()=>{o=this.topLevelRuleRecord(i,s)}),this.gastProductionsCache[i]=o})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=Aze({rules:Ln(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(un(n)&&this.skipValidations===!1){const i=_ze({rules:Ln(this.gastProductionsCache),tokenTypes:Ln(this.tokensMap),errMsgProvider:m0,grammarName:r}),a=fze({lookaheadStrategy:this.lookaheadStrategy,rules:Ln(this.gastProductionsCache),tokenTypes:Ln(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,a)}}),un(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=c$e(Ln(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,a;(a=(i=this.lookaheadStrategy).initialize)===null||a===void 0||a.call(i,{rules:Ln(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Ln(this.gastProductionsCache))})),!$b.DEFER_DEFINITION_ERRORS_HANDLING&&!un(this.definitionErrors))throw e=It(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,r){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(e,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),vr(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=vr(r,"skipValidations")?r.skipValidations:bh.skipValidations}}$b.DEFER_DEFINITION_ERRORS_HANDLING=!1;nHe($b,[Nze,Pze,Yze,Xze,Kze,jze,Qze,Zze,eHe,rHe]);class iHe extends $b{constructor(e,r=bh){const n=ca(r);n.outputCst=!1,super(e,n)}}function Lm(t,e,r){return`${t.name}_${e}_${r}`}const Qf=1,aHe=2,Hse=4,Vse=5,zb=7,sHe=8,oHe=9,lHe=10,uHe=11,Use=12;class PN{constructor(e){this.target=e}isEpsilon(){return!1}}class FN extends PN{constructor(e,r){super(e),this.tokenType=r}}class Gse extends PN{constructor(e){super(e)}isEpsilon(){return!0}}class BN extends PN{constructor(e,r,n){super(e),this.rule=r,this.followState=n}isEpsilon(){return!0}}function cHe(t){const e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};hHe(e,t);const r=t.length;for(let n=0;n<r;n++){const i=t[n],a=Ap(e,i,i);a!==void 0&&SHe(e,i,a)}return e}function hHe(t,e){const r=e.length;for(let n=0;n<r;n++){const i=e[n],a=Sa(t,i,void 0,{type:aHe}),s=Sa(t,i,void 0,{type:zb});a.stop=s,t.ruleToStartState.set(i,a),t.ruleToStopState.set(i,s)}}function Wse(t,e,r){return r instanceof Zn?$N(t,e,r.terminalType,r):r instanceof Ws?wHe(t,e,r):r instanceof _o?mHe(t,e,r):r instanceof Ha?vHe(t,e,r):r instanceof wi?fHe(t,e,r):r instanceof Ao?dHe(t,e,r):r instanceof Qo?pHe(t,e,r):r instanceof Zo?gHe(t,e,r):Ap(t,e,r)}function fHe(t,e,r){const n=Sa(t,e,r,{type:Vse});yd(t,n);const i=cv(t,e,n,r,Ap(t,e,r));return Yse(t,e,r,i)}function dHe(t,e,r){const n=Sa(t,e,r,{type:Vse});yd(t,n);const i=cv(t,e,n,r,Ap(t,e,r)),a=$N(t,e,r.separator,r);return Yse(t,e,r,i,a)}function pHe(t,e,r){const n=Sa(t,e,r,{type:Hse});yd(t,n);const i=cv(t,e,n,r,Ap(t,e,r));return qse(t,e,r,i)}function gHe(t,e,r){const n=Sa(t,e,r,{type:Hse});yd(t,n);const i=cv(t,e,n,r,Ap(t,e,r)),a=$N(t,e,r.separator,r);return qse(t,e,r,i,a)}function mHe(t,e,r){const n=Sa(t,e,r,{type:Qf});yd(t,n);const i=It(r.definition,s=>Wse(t,e,s));return cv(t,e,n,r,...i)}function vHe(t,e,r){const n=Sa(t,e,r,{type:Qf});yd(t,n);const i=cv(t,e,n,r,Ap(t,e,r));return yHe(t,e,r,i)}function Ap(t,e,r){const n=ki(It(r.definition,i=>Wse(t,e,i)),i=>i!==void 0);return n.length===1?n[0]:n.length===0?void 0:bHe(t,n)}function qse(t,e,r,n,i){const a=n.left,s=n.right,o=Sa(t,e,r,{type:uHe});yd(t,o);const l=Sa(t,e,r,{type:Use});return a.loopback=o,l.loopback=o,t.decisionMap[Lm(e,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=o,$i(s,o),i===void 0?($i(o,a),$i(o,l)):($i(o,l),$i(o,i.left),$i(i.right,a)),{left:a,right:l}}function Yse(t,e,r,n,i){const a=n.left,s=n.right,o=Sa(t,e,r,{type:lHe});yd(t,o);const l=Sa(t,e,r,{type:Use}),u=Sa(t,e,r,{type:oHe});return o.loopback=u,l.loopback=u,$i(o,a),$i(o,l),$i(s,u),i!==void 0?($i(u,l),$i(u,i.left),$i(i.right,a)):$i(u,o),t.decisionMap[Lm(e,i?"RepetitionWithSeparator":"Repetition",r.idx)]=o,{left:o,right:l}}function yHe(t,e,r,n){const i=n.left,a=n.right;return $i(i,a),t.decisionMap[Lm(e,"Option",r.idx)]=i,n}function yd(t,e){return t.decisionStates.push(e),e.decision=t.decisionStates.length-1,e.decision}function cv(t,e,r,n,...i){const a=Sa(t,e,n,{type:sHe,start:r});r.end=a;for(const o of i)o!==void 0?($i(r,o.left),$i(o.right,a)):$i(r,a);const s={left:r,right:a};return t.decisionMap[Lm(e,xHe(n),n.idx)]=r,s}function xHe(t){if(t instanceof _o)return"Alternation";if(t instanceof Ha)return"Option";if(t instanceof wi)return"Repetition";if(t instanceof Ao)return"RepetitionWithSeparator";if(t instanceof Qo)return"RepetitionMandatory";if(t instanceof Zo)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function bHe(t,e){const r=e.length;for(let a=0;a<r-1;a++){const s=e[a];let o;s.left.transitions.length===1&&(o=s.left.transitions[0]);const l=o instanceof BN,u=o,h=e[a+1].left;s.left.type===Qf&&s.right.type===Qf&&o!==void 0&&(l&&u.followState===s.right||o.target===s.right)?(l?u.followState=h:o.target=h,kHe(t,s.right)):$i(s.right,h)}const n=e[0],i=e[r-1];return{left:n.left,right:i.right}}function $N(t,e,r,n){const i=Sa(t,e,n,{type:Qf}),a=Sa(t,e,n,{type:Qf});return zN(i,new FN(a,r)),{left:i,right:a}}function wHe(t,e,r){const n=r.referencedRule,i=t.ruleToStartState.get(n),a=Sa(t,e,r,{type:Qf}),s=Sa(t,e,r,{type:Qf}),o=new BN(i,n,s);return zN(a,o),{left:a,right:s}}function SHe(t,e,r){const n=t.ruleToStartState.get(e);$i(n,r.left);const i=t.ruleToStopState.get(e);return $i(r.right,i),{left:n,right:i}}function $i(t,e){const r=new Gse(e);zN(t,r)}function Sa(t,e,r,n){const i=Object.assign({atn:t,production:r,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:t.states.length},n);return t.states.push(i),i}function zN(t,e){t.transitions.length===0&&(t.epsilonOnlyTransitions=e.isEpsilon()),t.transitions.push(e)}function kHe(t,e){t.states.splice(t.states.indexOf(e),1)}const US={};class ML{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const r=Xse(e);r in this.map||(this.map[r]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return It(this.configs,e=>e.alt)}get key(){let e="";for(const r in this.map)e+=r+":";return e}}function Xse(t,e=!0){return`${e?`a${t.alt}`:""}s${t.state.stateNumber}:${t.stack.map(r=>r.stateNumber.toString()).join("_")}`}function EHe(t,e){const r={};return n=>{const i=n.toString();let a=r[i];return a!==void 0||(a={atnStartState:t,decision:e,states:{}},r[i]=a),a}}class jse{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,r){this.predicates[e]=r}toString(){let e="";const r=this.predicates.length;for(let n=0;n<r;n++)e+=this.predicates[n]===!0?"1":"0";return e}}const $V=new jse;class THe extends ON{constructor(e){var r;super(),this.logging=(r=e==null?void 0:e.logging)!==null&&r!==void 0?r:n=>console.log(n)}initialize(e){this.atn=cHe(e.rules),this.dfas=CHe(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:r,rule:n,hasPredicates:i,dynamicTokensEnabled:a}=e,s=this.dfas,o=this.logging,l=Lm(n,"Alternation",r),h=this.atn.decisionMap[l].decision,f=It(RV({maxLookahead:1,occurrence:r,prodType:"Alternation",rule:n}),d=>It(d,p=>p[0]));if(zV(f,!1)&&!a){const d=Ui(f,(p,m,v)=>(tt(m,x=>{x&&(p[x.tokenTypeIdx]=v,tt(x.categoryMatches,y=>{p[y]=v}))}),p),{});return i?function(p){var m;const v=this.LA(1),x=d[v.tokenTypeIdx];if(p!==void 0&&x!==void 0){const y=(m=p[x])===null||m===void 0?void 0:m.GATE;if(y!==void 0&&y.call(this)===!1)return}return x}:function(){const p=this.LA(1);return d[p.tokenTypeIdx]}}else return i?function(d){const p=new jse,m=d===void 0?0:d.length;for(let x=0;x<m;x++){const y=d==null?void 0:d[x].GATE;p.set(x,y===void 0||y.call(this))}const v=v8.call(this,s,h,p,o);return typeof v=="number"?v:void 0}:function(){const d=v8.call(this,s,h,$V,o);return typeof d=="number"?d:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:r,rule:n,prodType:i,dynamicTokensEnabled:a}=e,s=this.dfas,o=this.logging,l=Lm(n,i,r),h=this.atn.decisionMap[l].decision,f=It(RV({maxLookahead:1,occurrence:r,prodType:i,rule:n}),d=>It(d,p=>p[0]));if(zV(f)&&f[0][0]&&!a){const d=f[0],p=wa(d);if(p.length===1&&un(p[0].categoryMatches)){const v=p[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===v}}else{const m=Ui(p,(v,x)=>(x!==void 0&&(v[x.tokenTypeIdx]=!0,tt(x.categoryMatches,y=>{v[y]=!0})),v),{});return function(){const v=this.LA(1);return m[v.tokenTypeIdx]===!0}}}return function(){const d=v8.call(this,s,h,$V,o);return typeof d=="object"?!1:d===0}}}function zV(t,e=!0){const r=new Set;for(const n of t){const i=new Set;for(const a of n){if(a===void 0){if(e)break;return!1}const s=[a.tokenTypeIdx].concat(a.categoryMatches);for(const o of s)if(r.has(o)){if(!i.has(o))return!1}else r.add(o),i.add(o)}}return!0}function CHe(t){const e=t.decisionStates.length,r=Array(e);for(let n=0;n<e;n++)r[n]=EHe(t.decisionStates[n],n);return r}function v8(t,e,r,n){const i=t[e](r);let a=i.start;if(a===void 0){const o=FHe(i.atnStartState);a=Qse(i,Kse(o)),i.start=a}return AHe.apply(this,[i,a,r,n])}function AHe(t,e,r,n){let i=e,a=1;const s=[];let o=this.LA(a++);for(;;){let l=NHe(i,o);if(l===void 0&&(l=_He.apply(this,[t,i,o,a,r,n])),l===US)return MHe(s,i,o);if(l.isAcceptState===!0)return l.prediction;i=l,s.push(o),o=this.LA(a++)}}function _He(t,e,r,n,i,a){const s=IHe(e.configs,r,i);if(s.size===0)return HV(t,e,r,US),US;let o=Kse(s);const l=PHe(s,i);if(l!==void 0)o.isAcceptState=!0,o.prediction=l,o.configs.uniqueAlt=l;else if(HHe(s)){const u=Tm(s.alts);o.isAcceptState=!0,o.prediction=u,o.configs.uniqueAlt=u,LHe.apply(this,[t,n,s.alts,a])}return o=HV(t,e,r,o),o}function LHe(t,e,r,n){const i=[];for(let u=1;u<=e;u++)i.push(this.LA(u).tokenType);const a=t.atnStartState,s=a.rule,o=a.production,l=DHe({topLevelRule:s,ambiguityIndices:r,production:o,prefixPath:i});n(l)}function DHe(t){const e=It(t.prefixPath,i=>a1(i)).join(", "),r=t.production.idx===0?"":t.production.idx;let n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(", ")}> in <${RHe(t.production)}${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}function RHe(t){if(t instanceof Ws)return"SUBRULE";if(t instanceof Ha)return"OPTION";if(t instanceof _o)return"OR";if(t instanceof Qo)return"AT_LEAST_ONE";if(t instanceof Zo)return"AT_LEAST_ONE_SEP";if(t instanceof Ao)return"MANY_SEP";if(t instanceof wi)return"MANY";if(t instanceof Zn)return"CONSUME";throw Error("non exhaustive match")}function MHe(t,e,r){const n=zo(e.configs.elements,a=>a.state.transitions),i=wNe(n.filter(a=>a instanceof FN).map(a=>a.tokenType),a=>a.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:i,tokenPath:t}}function NHe(t,e){return t.edges[e.tokenTypeIdx]}function IHe(t,e,r){const n=new ML,i=[];for(const s of t.elements){if(r.is(s.alt)===!1)continue;if(s.state.type===zb){i.push(s);continue}const o=s.state.transitions.length;for(let l=0;l<o;l++){const u=s.state.transitions[l],h=OHe(u,e);h!==void 0&&n.add({state:h,alt:s.alt,stack:s.stack})}}let a;if(i.length===0&&n.size===1&&(a=n),a===void 0){a=new ML;for(const s of n.elements)GS(s,a)}if(i.length>0&&!$He(a))for(const s of i)a.add(s);return a}function OHe(t,e){if(t instanceof FN&&Sse(e,t.tokenType))return t.target}function PHe(t,e){let r;for(const n of t.elements)if(e.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}function Kse(t){return{configs:t,edges:{},isAcceptState:!1,prediction:-1}}function HV(t,e,r,n){return n=Qse(t,n),e.edges[r.tokenTypeIdx]=n,n}function Qse(t,e){if(e===US)return e;const r=e.configs.key,n=t.states[r];return n!==void 0?n:(e.configs.finalize(),t.states[r]=e,e)}function FHe(t){const e=new ML,r=t.transitions.length;for(let n=0;n<r;n++){const a={state:t.transitions[n].target,alt:n,stack:[]};GS(a,e)}return e}function GS(t,e){const r=t.state;if(r.type===zb){if(t.stack.length>0){const i=[...t.stack],s={state:i.pop(),alt:t.alt,stack:i};GS(s,e)}else e.add(t);return}r.epsilonOnlyTransitions||e.add(t);const n=r.transitions.length;for(let i=0;i<n;i++){const a=r.transitions[i],s=BHe(t,a);s!==void 0&&GS(s,e)}}function BHe(t,e){if(e instanceof Gse)return{state:e.target,alt:t.alt,stack:t.stack};if(e instanceof BN){const r=[...t.stack,e.followState];return{state:e.target,alt:t.alt,stack:r}}}function $He(t){for(const e of t.elements)if(e.state.type===zb)return!0;return!1}function zHe(t){for(const e of t.elements)if(e.state.type!==zb)return!1;return!0}function HHe(t){if(zHe(t))return!0;const e=VHe(t.elements);return UHe(e)&&!GHe(e)}function VHe(t){const e=new Map;for(const r of t){const n=Xse(r,!1);let i=e.get(n);i===void 0&&(i={},e.set(n,i)),i[r.alt]=!0}return e}function UHe(t){for(const e of Array.from(t.values()))if(Object.keys(e).length>1)return!0;return!1}function GHe(t){for(const e of Array.from(t.values()))if(Object.keys(e).length===1)return!0;return!1}var VV;(function(t){function e(r){return typeof r=="string"}t.is=e})(VV||(VV={}));var NL;(function(t){function e(r){return typeof r=="string"}t.is=e})(NL||(NL={}));var UV;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}t.is=e})(UV||(UV={}));var WS;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}t.is=e})(WS||(WS={}));var dn;(function(t){function e(n,i){return n===Number.MAX_VALUE&&(n=WS.MAX_VALUE),i===Number.MAX_VALUE&&(i=WS.MAX_VALUE),{line:n,character:i}}t.create=e;function r(n){let i=n;return nt.objectLiteral(i)&&nt.uinteger(i.line)&&nt.uinteger(i.character)}t.is=r})(dn||(dn={}));var Xr;(function(t){function e(n,i,a,s){if(nt.uinteger(n)&&nt.uinteger(i)&&nt.uinteger(a)&&nt.uinteger(s))return{start:dn.create(n,i),end:dn.create(a,s)};if(dn.is(n)&&dn.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${a}, ${s}]`)}t.create=e;function r(n){let i=n;return nt.objectLiteral(i)&&dn.is(i.start)&&dn.is(i.end)}t.is=r})(Xr||(Xr={}));var qS;(function(t){function e(n,i){return{uri:n,range:i}}t.create=e;function r(n){let i=n;return nt.objectLiteral(i)&&Xr.is(i.range)&&(nt.string(i.uri)||nt.undefined(i.uri))}t.is=r})(qS||(qS={}));var GV;(function(t){function e(n,i,a,s){return{targetUri:n,targetRange:i,targetSelectionRange:a,originSelectionRange:s}}t.create=e;function r(n){let i=n;return nt.objectLiteral(i)&&Xr.is(i.targetRange)&&nt.string(i.targetUri)&&Xr.is(i.targetSelectionRange)&&(Xr.is(i.originSelectionRange)||nt.undefined(i.originSelectionRange))}t.is=r})(GV||(GV={}));var IL;(function(t){function e(n,i,a,s){return{red:n,green:i,blue:a,alpha:s}}t.create=e;function r(n){const i=n;return nt.objectLiteral(i)&&nt.numberRange(i.red,0,1)&&nt.numberRange(i.green,0,1)&&nt.numberRange(i.blue,0,1)&&nt.numberRange(i.alpha,0,1)}t.is=r})(IL||(IL={}));var WV;(function(t){function e(n,i){return{range:n,color:i}}t.create=e;function r(n){const i=n;return nt.objectLiteral(i)&&Xr.is(i.range)&&IL.is(i.color)}t.is=r})(WV||(WV={}));var qV;(function(t){function e(n,i,a){return{label:n,textEdit:i,additionalTextEdits:a}}t.create=e;function r(n){const i=n;return nt.objectLiteral(i)&&nt.string(i.label)&&(nt.undefined(i.textEdit)||Rm.is(i))&&(nt.undefined(i.additionalTextEdits)||nt.typedArray(i.additionalTextEdits,Rm.is))}t.is=r})(qV||(qV={}));var YV;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(YV||(YV={}));var XV;(function(t){function e(n,i,a,s,o,l){const u={startLine:n,endLine:i};return nt.defined(a)&&(u.startCharacter=a),nt.defined(s)&&(u.endCharacter=s),nt.defined(o)&&(u.kind=o),nt.defined(l)&&(u.collapsedText=l),u}t.create=e;function r(n){const i=n;return nt.objectLiteral(i)&&nt.uinteger(i.startLine)&&nt.uinteger(i.startLine)&&(nt.undefined(i.startCharacter)||nt.uinteger(i.startCharacter))&&(nt.undefined(i.endCharacter)||nt.uinteger(i.endCharacter))&&(nt.undefined(i.kind)||nt.string(i.kind))}t.is=r})(XV||(XV={}));var OL;(function(t){function e(n,i){return{location:n,message:i}}t.create=e;function r(n){let i=n;return nt.defined(i)&&qS.is(i.location)&&nt.string(i.message)}t.is=r})(OL||(OL={}));var jV;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(jV||(jV={}));var KV;(function(t){t.Unnecessary=1,t.Deprecated=2})(KV||(KV={}));var QV;(function(t){function e(r){const n=r;return nt.objectLiteral(n)&&nt.string(n.href)}t.is=e})(QV||(QV={}));var YS;(function(t){function e(n,i,a,s,o,l){let u={range:n,message:i};return nt.defined(a)&&(u.severity=a),nt.defined(s)&&(u.code=s),nt.defined(o)&&(u.source=o),nt.defined(l)&&(u.relatedInformation=l),u}t.create=e;function r(n){var i;let a=n;return nt.defined(a)&&Xr.is(a.range)&&nt.string(a.message)&&(nt.number(a.severity)||nt.undefined(a.severity))&&(nt.integer(a.code)||nt.string(a.code)||nt.undefined(a.code))&&(nt.undefined(a.codeDescription)||nt.string((i=a.codeDescription)===null||i===void 0?void 0:i.href))&&(nt.string(a.source)||nt.undefined(a.source))&&(nt.undefined(a.relatedInformation)||nt.typedArray(a.relatedInformation,OL.is))}t.is=r})(YS||(YS={}));var Dm;(function(t){function e(n,i,...a){let s={title:n,command:i};return nt.defined(a)&&a.length>0&&(s.arguments=a),s}t.create=e;function r(n){let i=n;return nt.defined(i)&&nt.string(i.title)&&nt.string(i.command)}t.is=r})(Dm||(Dm={}));var Rm;(function(t){function e(a,s){return{range:a,newText:s}}t.replace=e;function r(a,s){return{range:{start:a,end:a},newText:s}}t.insert=r;function n(a){return{range:a,newText:""}}t.del=n;function i(a){const s=a;return nt.objectLiteral(s)&&nt.string(s.newText)&&Xr.is(s.range)}t.is=i})(Rm||(Rm={}));var PL;(function(t){function e(n,i,a){const s={label:n};return i!==void 0&&(s.needsConfirmation=i),a!==void 0&&(s.description=a),s}t.create=e;function r(n){const i=n;return nt.objectLiteral(i)&&nt.string(i.label)&&(nt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(nt.string(i.description)||i.description===void 0)}t.is=r})(PL||(PL={}));var Mm;(function(t){function e(r){const n=r;return nt.string(n)}t.is=e})(Mm||(Mm={}));var ZV;(function(t){function e(a,s,o){return{range:a,newText:s,annotationId:o}}t.replace=e;function r(a,s,o){return{range:{start:a,end:a},newText:s,annotationId:o}}t.insert=r;function n(a,s){return{range:a,newText:"",annotationId:s}}t.del=n;function i(a){const s=a;return Rm.is(s)&&(PL.is(s.annotationId)||Mm.is(s.annotationId))}t.is=i})(ZV||(ZV={}));var FL;(function(t){function e(n,i){return{textDocument:n,edits:i}}t.create=e;function r(n){let i=n;return nt.defined(i)&&VL.is(i.textDocument)&&Array.isArray(i.edits)}t.is=r})(FL||(FL={}));var BL;(function(t){function e(n,i,a){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),a!==void 0&&(s.annotationId=a),s}t.create=e;function r(n){let i=n;return i&&i.kind==="create"&&nt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||nt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||nt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Mm.is(i.annotationId))}t.is=r})(BL||(BL={}));var $L;(function(t){function e(n,i,a,s){let o={kind:"rename",oldUri:n,newUri:i};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(o.options=a),s!==void 0&&(o.annotationId=s),o}t.create=e;function r(n){let i=n;return i&&i.kind==="rename"&&nt.string(i.oldUri)&&nt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||nt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||nt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Mm.is(i.annotationId))}t.is=r})($L||($L={}));var zL;(function(t){function e(n,i,a){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),a!==void 0&&(s.annotationId=a),s}t.create=e;function r(n){let i=n;return i&&i.kind==="delete"&&nt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||nt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||nt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Mm.is(i.annotationId))}t.is=r})(zL||(zL={}));var HL;(function(t){function e(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>nt.string(i.kind)?BL.is(i)||$L.is(i)||zL.is(i):FL.is(i)))}t.is=e})(HL||(HL={}));var JV;(function(t){function e(n){return{uri:n}}t.create=e;function r(n){let i=n;return nt.defined(i)&&nt.string(i.uri)}t.is=r})(JV||(JV={}));var eU;(function(t){function e(n,i){return{uri:n,version:i}}t.create=e;function r(n){let i=n;return nt.defined(i)&&nt.string(i.uri)&&nt.integer(i.version)}t.is=r})(eU||(eU={}));var VL;(function(t){function e(n,i){return{uri:n,version:i}}t.create=e;function r(n){let i=n;return nt.defined(i)&&nt.string(i.uri)&&(i.version===null||nt.integer(i.version))}t.is=r})(VL||(VL={}));var tU;(function(t){function e(n,i,a,s){return{uri:n,languageId:i,version:a,text:s}}t.create=e;function r(n){let i=n;return nt.defined(i)&&nt.string(i.uri)&&nt.string(i.languageId)&&nt.integer(i.version)&&nt.string(i.text)}t.is=r})(tU||(tU={}));var UL;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(r){const n=r;return n===t.PlainText||n===t.Markdown}t.is=e})(UL||(UL={}));var Mx;(function(t){function e(r){const n=r;return nt.objectLiteral(r)&&UL.is(n.kind)&&nt.string(n.value)}t.is=e})(Mx||(Mx={}));var rU;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(rU||(rU={}));var nU;(function(t){t.PlainText=1,t.Snippet=2})(nU||(nU={}));var iU;(function(t){t.Deprecated=1})(iU||(iU={}));var aU;(function(t){function e(n,i,a){return{newText:n,insert:i,replace:a}}t.create=e;function r(n){const i=n;return i&&nt.string(i.newText)&&Xr.is(i.insert)&&Xr.is(i.replace)}t.is=r})(aU||(aU={}));var sU;(function(t){t.asIs=1,t.adjustIndentation=2})(sU||(sU={}));var oU;(function(t){function e(r){const n=r;return n&&(nt.string(n.detail)||n.detail===void 0)&&(nt.string(n.description)||n.description===void 0)}t.is=e})(oU||(oU={}));var lU;(function(t){function e(r){return{label:r}}t.create=e})(lU||(lU={}));var uU;(function(t){function e(r,n){return{items:r||[],isIncomplete:!!n}}t.create=e})(uU||(uU={}));var XS;(function(t){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function r(n){const i=n;return nt.string(i)||nt.objectLiteral(i)&&nt.string(i.language)&&nt.string(i.value)}t.is=r})(XS||(XS={}));var cU;(function(t){function e(r){let n=r;return!!n&&nt.objectLiteral(n)&&(Mx.is(n.contents)||XS.is(n.contents)||nt.typedArray(n.contents,XS.is))&&(r.range===void 0||Xr.is(r.range))}t.is=e})(cU||(cU={}));var hU;(function(t){function e(r,n){return n?{label:r,documentation:n}:{label:r}}t.create=e})(hU||(hU={}));var fU;(function(t){function e(r,n,...i){let a={label:r};return nt.defined(n)&&(a.documentation=n),nt.defined(i)?a.parameters=i:a.parameters=[],a}t.create=e})(fU||(fU={}));var dU;(function(t){t.Text=1,t.Read=2,t.Write=3})(dU||(dU={}));var pU;(function(t){function e(r,n){let i={range:r};return nt.number(n)&&(i.kind=n),i}t.create=e})(pU||(pU={}));var gU;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(gU||(gU={}));var mU;(function(t){t.Deprecated=1})(mU||(mU={}));var vU;(function(t){function e(r,n,i,a,s){let o={name:r,kind:n,location:{uri:a,range:i}};return s&&(o.containerName=s),o}t.create=e})(vU||(vU={}));var yU;(function(t){function e(r,n,i,a){return a!==void 0?{name:r,kind:n,location:{uri:i,range:a}}:{name:r,kind:n,location:{uri:i}}}t.create=e})(yU||(yU={}));var xU;(function(t){function e(n,i,a,s,o,l){let u={name:n,detail:i,kind:a,range:s,selectionRange:o};return l!==void 0&&(u.children=l),u}t.create=e;function r(n){let i=n;return i&&nt.string(i.name)&&nt.number(i.kind)&&Xr.is(i.range)&&Xr.is(i.selectionRange)&&(i.detail===void 0||nt.string(i.detail))&&(i.deprecated===void 0||nt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}t.is=r})(xU||(xU={}));var bU;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(bU||(bU={}));var jS;(function(t){t.Invoked=1,t.Automatic=2})(jS||(jS={}));var wU;(function(t){function e(n,i,a){let s={diagnostics:n};return i!=null&&(s.only=i),a!=null&&(s.triggerKind=a),s}t.create=e;function r(n){let i=n;return nt.defined(i)&&nt.typedArray(i.diagnostics,YS.is)&&(i.only===void 0||nt.typedArray(i.only,nt.string))&&(i.triggerKind===void 0||i.triggerKind===jS.Invoked||i.triggerKind===jS.Automatic)}t.is=r})(wU||(wU={}));var SU;(function(t){function e(n,i,a){let s={title:n},o=!0;return typeof i=="string"?(o=!1,s.kind=i):Dm.is(i)?s.command=i:s.edit=i,o&&a!==void 0&&(s.kind=a),s}t.create=e;function r(n){let i=n;return i&&nt.string(i.title)&&(i.diagnostics===void 0||nt.typedArray(i.diagnostics,YS.is))&&(i.kind===void 0||nt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Dm.is(i.command))&&(i.isPreferred===void 0||nt.boolean(i.isPreferred))&&(i.edit===void 0||HL.is(i.edit))}t.is=r})(SU||(SU={}));var kU;(function(t){function e(n,i){let a={range:n};return nt.defined(i)&&(a.data=i),a}t.create=e;function r(n){let i=n;return nt.defined(i)&&Xr.is(i.range)&&(nt.undefined(i.command)||Dm.is(i.command))}t.is=r})(kU||(kU={}));var EU;(function(t){function e(n,i){return{tabSize:n,insertSpaces:i}}t.create=e;function r(n){let i=n;return nt.defined(i)&&nt.uinteger(i.tabSize)&&nt.boolean(i.insertSpaces)}t.is=r})(EU||(EU={}));var TU;(function(t){function e(n,i,a){return{range:n,target:i,data:a}}t.create=e;function r(n){let i=n;return nt.defined(i)&&Xr.is(i.range)&&(nt.undefined(i.target)||nt.string(i.target))}t.is=r})(TU||(TU={}));var CU;(function(t){function e(n,i){return{range:n,parent:i}}t.create=e;function r(n){let i=n;return nt.objectLiteral(i)&&Xr.is(i.range)&&(i.parent===void 0||t.is(i.parent))}t.is=r})(CU||(CU={}));var AU;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(AU||(AU={}));var _U;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(_U||(_U={}));var LU;(function(t){function e(r){const n=r;return nt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}t.is=e})(LU||(LU={}));var DU;(function(t){function e(n,i){return{range:n,text:i}}t.create=e;function r(n){const i=n;return i!=null&&Xr.is(i.range)&&nt.string(i.text)}t.is=r})(DU||(DU={}));var RU;(function(t){function e(n,i,a){return{range:n,variableName:i,caseSensitiveLookup:a}}t.create=e;function r(n){const i=n;return i!=null&&Xr.is(i.range)&&nt.boolean(i.caseSensitiveLookup)&&(nt.string(i.variableName)||i.variableName===void 0)}t.is=r})(RU||(RU={}));var MU;(function(t){function e(n,i){return{range:n,expression:i}}t.create=e;function r(n){const i=n;return i!=null&&Xr.is(i.range)&&(nt.string(i.expression)||i.expression===void 0)}t.is=r})(MU||(MU={}));var NU;(function(t){function e(n,i){return{frameId:n,stoppedLocation:i}}t.create=e;function r(n){const i=n;return nt.defined(i)&&Xr.is(n.stoppedLocation)}t.is=r})(NU||(NU={}));var GL;(function(t){t.Type=1,t.Parameter=2;function e(r){return r===1||r===2}t.is=e})(GL||(GL={}));var WL;(function(t){function e(n){return{value:n}}t.create=e;function r(n){const i=n;return nt.objectLiteral(i)&&(i.tooltip===void 0||nt.string(i.tooltip)||Mx.is(i.tooltip))&&(i.location===void 0||qS.is(i.location))&&(i.command===void 0||Dm.is(i.command))}t.is=r})(WL||(WL={}));var IU;(function(t){function e(n,i,a){const s={position:n,label:i};return a!==void 0&&(s.kind=a),s}t.create=e;function r(n){const i=n;return nt.objectLiteral(i)&&dn.is(i.position)&&(nt.string(i.label)||nt.typedArray(i.label,WL.is))&&(i.kind===void 0||GL.is(i.kind))&&i.textEdits===void 0||nt.typedArray(i.textEdits,Rm.is)&&(i.tooltip===void 0||nt.string(i.tooltip)||Mx.is(i.tooltip))&&(i.paddingLeft===void 0||nt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||nt.boolean(i.paddingRight))}t.is=r})(IU||(IU={}));var OU;(function(t){function e(r){return{kind:"snippet",value:r}}t.createSnippet=e})(OU||(OU={}));var PU;(function(t){function e(r,n,i,a){return{insertText:r,filterText:n,range:i,command:a}}t.create=e})(PU||(PU={}));var FU;(function(t){function e(r){return{items:r}}t.create=e})(FU||(FU={}));var BU;(function(t){t.Invoked=0,t.Automatic=1})(BU||(BU={}));var $U;(function(t){function e(r,n){return{range:r,text:n}}t.create=e})($U||($U={}));var zU;(function(t){function e(r,n){return{triggerKind:r,selectedCompletionInfo:n}}t.create=e})(zU||(zU={}));var HU;(function(t){function e(r){const n=r;return nt.objectLiteral(n)&&NL.is(n.uri)&&nt.string(n.name)}t.is=e})(HU||(HU={}));var VU;(function(t){function e(a,s,o,l){return new WHe(a,s,o,l)}t.create=e;function r(a){let s=a;return!!(nt.defined(s)&&nt.string(s.uri)&&(nt.undefined(s.languageId)||nt.string(s.languageId))&&nt.uinteger(s.lineCount)&&nt.func(s.getText)&&nt.func(s.positionAt)&&nt.func(s.offsetAt))}t.is=r;function n(a,s){let o=a.getText(),l=i(s,(h,f)=>{let d=h.range.start.line-f.range.start.line;return d===0?h.range.start.character-f.range.start.character:d}),u=o.length;for(let h=l.length-1;h>=0;h--){let f=l[h],d=a.offsetAt(f.range.start),p=a.offsetAt(f.range.end);if(p<=u)o=o.substring(0,d)+f.newText+o.substring(p,o.length);else throw new Error("Overlapping edit");u=d}return o}t.applyEdits=n;function i(a,s){if(a.length<=1)return a;const o=a.length/2|0,l=a.slice(0,o),u=a.slice(o);i(l,s),i(u,s);let h=0,f=0,d=0;for(;h<l.length&&f<u.length;)s(l[h],u[f])<=0?a[d++]=l[h++]:a[d++]=u[f++];for(;h<l.length;)a[d++]=l[h++];for(;f<u.length;)a[d++]=u[f++];return a}})(VU||(VU={}));let WHe=class{constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){this._content=e.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(e.push(i),n=!1);let a=r.charAt(i);n=a==="\r"||a===`
`,a==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&e.push(r.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return dn.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);r[s]>e?i=s:n=s+1}let a=n-1;return dn.create(a,e-r[a])}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line],i=e.line+1<r.length?r[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};var nt;(function(t){const e=Object.prototype.toString;function r(p){return typeof p<"u"}t.defined=r;function n(p){return typeof p>"u"}t.undefined=n;function i(p){return p===!0||p===!1}t.boolean=i;function a(p){return e.call(p)==="[object String]"}t.string=a;function s(p){return e.call(p)==="[object Number]"}t.number=s;function o(p,m,v){return e.call(p)==="[object Number]"&&m<=p&&p<=v}t.numberRange=o;function l(p){return e.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}t.integer=l;function u(p){return e.call(p)==="[object Number]"&&0<=p&&p<=2147483647}t.uinteger=u;function h(p){return e.call(p)==="[object Function]"}t.func=h;function f(p){return p!==null&&typeof p=="object"}t.objectLiteral=f;function d(p,m){return Array.isArray(p)&&p.every(m)}t.typedArray=d})(nt||(nt={}));class qHe{constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(e){return this.rootNode=new Jse(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const r=new HN;return r.grammarSource=e,r.root=this.rootNode,this.current.content.push(r),this.nodeStack.push(r),r}buildLeafNode(e,r){const n=new qL(e.startOffset,e.image.length,wL(e),e.tokenType,!1);return n.grammarSource=r,n.root=this.rootNode,this.current.content.push(n),n}removeNode(e){const r=e.container;if(r){const n=r.content.indexOf(e);n>=0&&r.content.splice(n,1)}}construct(e){const r=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=r;const n=this.nodeStack.pop();(n==null?void 0:n.content.length)===0&&this.removeNode(n)}addHiddenTokens(e){for(const r of e){const n=new qL(r.startOffset,r.image.length,wL(r),r.tokenType,!0);n.root=this.rootNode,this.addHiddenToken(this.rootNode,n)}}addHiddenToken(e,r){const{offset:n,end:i}=r;for(let a=0;a<e.content.length;a++){const s=e.content[a],{offset:o,end:l}=s;if(_m(s)&&n>o&&i<l){this.addHiddenToken(s,r);return}else if(i<=o){e.content.splice(a,0,r);return}}e.content.push(r)}}class Zse{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,r;const n=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(r=this.container)===null||r===void 0?void 0:r.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class qL extends Zse{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,r,n,i,a=!1){super(),this._hidden=a,this._offset=e,this._tokenType=i,this._length=r,this._range=n}}class HN extends Zse{constructor(){super(...arguments),this.content=new VN(this)}get children(){return this.content}get offset(){var e,r;return(r=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&r!==void 0?r:0}get length(){return this.end-this.offset}get end(){var e,r;return(r=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&r!==void 0?r:0}get range(){const e=this.firstNonHiddenNode,r=this.lastNonHiddenNode;if(e&&r){if(this._rangeCache===void 0){const{range:n}=e,{range:i}=r;this._rangeCache={start:n.start,end:i.end.line<n.start.line?n.start:i.end}}return this._rangeCache}else return{start:dn.create(0,0),end:dn.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const r=this.content[e];if(!r.hidden)return r}return this.content[this.content.length-1]}}class VN extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,VN.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,r,...n){return this.addParents(n),super.splice(e,r,...n)}addParents(e){for(const r of e)r.container=this.parent}}class Jse extends HN{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}const YL=Symbol("Datatype");function y8(t){return t.$type===YL}const UU="​",eoe=t=>t.endsWith(UU)?t:t+UU;class toe{constructor(e){this._unorderedGroups=new Map,this.lexer=e.parser.Lexer;const r=this.lexer.definition;this.wrapper=new QHe(r,Object.assign(Object.assign({},e.parser.ParserConfig),{errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,r){this.wrapper.wrapOr(e,r)}optional(e,r){this.wrapper.wrapOption(e,r)}many(e,r){this.wrapper.wrapMany(e,r)}atLeastOne(e,r){this.wrapper.wrapAtLeastOne(e,r)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class YHe extends toe{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new qHe,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,r){const n=e.fragment?void 0:_N(e)?YL:AT(e),i=this.wrapper.DEFINE_RULE(eoe(e.name),this.startImplementation(n,r).bind(this));return e.entry&&(this.mainRule=i),i}parse(e){this.nodeBuilder.buildRootNode(e);const r=this.lexer.tokenize(e);this.wrapper.input=r.tokens;const n=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(r.hidden),this.unorderedGroups.clear(),{value:n,lexerErrors:r.errors,parserErrors:this.wrapper.errors}}startImplementation(e,r){return n=>{if(!this.isRecording()){const a={$type:e};this.stack.push(a),e===YL&&(a.value="")}let i;try{i=r(n)}catch{i=void 0}return!this.isRecording()&&i===void 0&&(i=this.construct()),i}}consume(e,r,n){const i=this.wrapper.wrapConsume(e,r);if(!this.isRecording()&&this.isValidToken(i)){const a=this.nodeBuilder.buildLeafNode(i,n),{assignment:s,isCrossRef:o}=this.getAssignment(n),l=this.current;if(s){const u=K0(n)?i.image:this.converter.convert(i.image,a);this.assign(s.operator,s.feature,u,a,o)}else if(y8(l)){let u=i.image;K0(n)||(u=this.converter.convert(u,a).toString()),l.value+=u}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,r,n,i){let a;this.isRecording()||(a=this.nodeBuilder.buildCompositeNode(n));const s=this.wrapper.wrapSubrule(e,r,i);!this.isRecording()&&a&&a.length>0&&this.performSubruleAssignment(s,n,a)}performSubruleAssignment(e,r,n){const{assignment:i,isCrossRef:a}=this.getAssignment(r);if(i)this.assign(i.operator,i.feature,e,n,a);else if(!i){const s=this.current;if(y8(s))s.value+=e.toString();else if(typeof e=="object"&&e){const o=e.$type,l=this.assignWithoutOverride(e,s);o&&(l.$type=o);const u=l;this.stack.pop(),this.stack.push(u)}}}action(e,r){if(!this.isRecording()){let n=this.current;if(!n.$cstNode&&r.feature&&r.operator){n=this.construct(!1);const a=n.$cstNode.feature;this.nodeBuilder.buildCompositeNode(a)}const i={$type:e};this.stack.pop(),this.stack.push(i),r.feature&&r.operator&&this.assign(r.operator,r.feature,n,n.$cstNode,!1)}}construct(e=!0){if(this.isRecording())return;const r=this.current;return CBe(r),this.nodeBuilder.construct(r),e&&this.stack.pop(),y8(r)?this.converter.convert(r.value,r.$cstNode):(_Be(this.astReflection,r),r)}getAssignment(e){if(!this.assignmentMap.has(e)){const r=ET(e,j0);this.assignmentMap.set(e,{assignment:r,isCrossRef:r?EN(r.terminal):!1})}return this.assignmentMap.get(e)}assign(e,r,n,i,a){const s=this.current;let o;switch(a&&typeof n=="string"?o=this.linker.buildReference(s,r,i,n):o=n,e){case"=":{s[r]=o;break}case"?=":{s[r]=!0;break}case"+=":Array.isArray(s[r])||(s[r]=[]),s[r].push(o)}}assignWithoutOverride(e,r){for(const[n,i]of Object.entries(r)){const a=e[n];a===void 0?e[n]=i:Array.isArray(a)&&Array.isArray(i)&&(i.push(...a),e[n]=i)}return e}get definitionErrors(){return this.wrapper.definitionErrors}}class XHe{buildMismatchTokenMessage(e){return Bg.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return Bg.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return Bg.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return Bg.buildEarlyExitMessage(e)}}class roe extends XHe{buildMismatchTokenMessage({expected:e,actual:r}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class jHe extends toe{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const r=this.lexer.tokenize(e);return this.tokens=r.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,r){const n=this.wrapper.DEFINE_RULE(eoe(e.name),this.startImplementation(r).bind(this));return e.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return r=>{const n=this.keepStackSize();try{e(r)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,r,n){this.wrapper.wrapConsume(e,r),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(e,r,n,i){this.before(n),this.wrapper.wrapSubrule(e,r,i),this.after(n)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const r=this.elementStack.lastIndexOf(e);r>=0&&this.elementStack.splice(r)}}get currIdx(){return this.wrapper.currIdx}}const KHe={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new roe};class QHe extends iHe{constructor(e,r){const n=r&&"maxLookahead"in r;super(e,Object.assign(Object.assign(Object.assign({},KHe),{lookaheadStrategy:n?new ON({maxLookahead:r.maxLookahead}):new THe}),r))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,r){return this.RULE(e,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,r){return this.consume(e,r)}wrapSubrule(e,r,n){return this.subrule(e,r,{ARGS:[n]})}wrapOr(e,r){this.or(e,r)}wrapOption(e,r){this.option(e,r)}wrapMany(e,r){this.many(e,r)}wrapAtLeastOne(e,r){this.atLeastOne(e,r)}}function noe(t,e,r){return ZHe({parser:e,tokens:r,rules:new Map,ruleNames:new Map},t),e}function ZHe(t,e){const r=tse(e,!1),n=Ba(e.rules).filter(Il).filter(i=>r.has(i));for(const i of n){const a=Object.assign(Object.assign({},t),{consume:1,optional:1,subrule:1,many:1,or:1});a.rules.set(i.name,t.parser.rule(i,J0(a,i.definition)))}}function J0(t,e,r=!1){let n;if(K0(e))n=aVe(t,e);else if(kT(e))n=JHe(t,e);else if(j0(e))n=J0(t,e.terminal);else if(EN(e))n=ioe(t,e);else if(Q0(e))n=eVe(t,e);else if(Iae(e))n=rVe(t,e);else if(Xae(e))n=nVe(t,e);else if(TN(e))n=iVe(t,e);else if(yBe(e)){const i=t.consume++;n=()=>t.parser.consume(i,Kf,e)}else throw new vae(e.$cstNode,`Unexpected element type: ${e.$type}`);return aoe(t,r?void 0:KS(e),n,e.cardinality)}function JHe(t,e){const r=AT(e);return()=>t.parser.action(r,e)}function eVe(t,e){const r=e.rule.ref;if(Il(r)){const n=t.subrule++,i=e.arguments.length>0?tVe(r,e.arguments):()=>({});return a=>t.parser.subrule(n,soe(t,r),e,i(a))}else if(Cp(r)){const n=t.consume++,i=XL(t,r.name);return()=>t.parser.consume(n,i,e)}else if(r)ST();else throw new vae(e.$cstNode,`Undefined rule type: ${e.$type}`)}function tVe(t,e){const r=e.map(n=>Vc(n.value));return n=>{const i={};for(let a=0;a<r.length;a++){const s=t.parameters[a],o=r[a];i[s.name]=o(n)}return i}}function Vc(t){if(aBe(t)){const e=Vc(t.left),r=Vc(t.right);return n=>e(n)||r(n)}else if(iBe(t)){const e=Vc(t.left),r=Vc(t.right);return n=>e(n)&&r(n)}else if(oBe(t)){const e=Vc(t.value);return r=>!e(r)}else if(cBe(t)){const e=t.parameter.ref.name;return r=>r!==void 0&&r[e]===!0}else if(nBe(t)){const e=!!t.true;return()=>e}ST()}function rVe(t,e){if(e.elements.length===1)return J0(t,e.elements[0]);{const r=[];for(const i of e.elements){const a={ALT:J0(t,i,!0)},s=KS(i);s&&(a.GATE=Vc(s)),r.push(a)}const n=t.or++;return i=>t.parser.alternatives(n,r.map(a=>{const s={ALT:()=>a.ALT(i)},o=a.GATE;return o&&(s.GATE=()=>o(i)),s}))}}function nVe(t,e){if(e.elements.length===1)return J0(t,e.elements[0]);const r=[];for(const o of e.elements){const l={ALT:J0(t,o,!0)},u=KS(o);u&&(l.GATE=Vc(u)),r.push(l)}const n=t.or++,i=(o,l)=>{const u=l.getRuleStack().join("-");return`uGroup_${o}_${u}`},a=o=>t.parser.alternatives(n,r.map((l,u)=>{const h={ALT:()=>!0},f=t.parser;h.ALT=()=>{if(l.ALT(o),!f.isRecording()){const p=i(n,f);f.unorderedGroups.get(p)||f.unorderedGroups.set(p,[]);const m=f.unorderedGroups.get(p);typeof(m==null?void 0:m[u])>"u"&&(m[u]=!0)}};const d=l.GATE;return d?h.GATE=()=>d(o):h.GATE=()=>{const p=f.unorderedGroups.get(i(n,f));return!(p!=null&&p[u])},h})),s=aoe(t,KS(e),a,"*");return o=>{s(o),t.parser.isRecording()||t.parser.unorderedGroups.delete(i(n,t.parser))}}function iVe(t,e){const r=e.elements.map(n=>J0(t,n));return n=>r.forEach(i=>i(n))}function KS(t){if(TN(t))return t.guardCondition}function ioe(t,e,r=e.terminal){if(r)if(Q0(r)&&Il(r.rule.ref)){const n=t.subrule++;return i=>t.parser.subrule(n,soe(t,r.rule.ref),e,i)}else if(Q0(r)&&Cp(r.rule.ref)){const n=t.consume++,i=XL(t,r.rule.ref.name);return()=>t.parser.consume(n,i,e)}else if(K0(r)){const n=t.consume++,i=XL(t,r.value);return()=>t.parser.consume(n,i,e)}else throw new Error("Could not build cross reference parser");else{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);const n=ise(e.type.ref),i=n==null?void 0:n.terminal;if(!i)throw new Error("Could not find name assignment for type: "+AT(e.type.ref));return ioe(t,e,i)}}function aVe(t,e){const r=t.consume++,n=t.tokens[e.value];if(!n)throw new Error("Could not find token for keyword: "+e.value);return()=>t.parser.consume(r,n,e)}function aoe(t,e,r,n){const i=e&&Vc(e);if(!n)if(i){const a=t.or++;return s=>t.parser.alternatives(a,[{ALT:()=>r(s),GATE:()=>i(s)},{ALT:BV(),GATE:()=>!i(s)}])}else return r;if(n==="*"){const a=t.many++;return s=>t.parser.many(a,{DEF:()=>r(s),GATE:i?()=>i(s):void 0})}else if(n==="+"){const a=t.many++;if(i){const s=t.or++;return o=>t.parser.alternatives(s,[{ALT:()=>t.parser.atLeastOne(a,{DEF:()=>r(o)}),GATE:()=>i(o)},{ALT:BV(),GATE:()=>!i(o)}])}else return s=>t.parser.atLeastOne(a,{DEF:()=>r(s)})}else if(n==="?"){const a=t.optional++;return s=>t.parser.optional(a,{DEF:()=>r(s),GATE:i?()=>i(s):void 0})}else ST()}function soe(t,e){const r=sVe(t,e),n=t.rules.get(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function sVe(t,e){if(Il(e))return e.name;if(t.ruleNames.has(e))return t.ruleNames.get(e);{let r=e,n=r.$container,i=e.$type;for(;!Il(n);)(TN(n)||Iae(n)||Xae(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,t.ruleNames.set(e,i),i}}function XL(t,e){const r=t.tokens[e];if(!r)throw new Error(`Token "${e}" not found."`);return r}function oVe(t){const e=t.Grammar,r=t.parser.Lexer,n=new jHe(t);return noe(e,n,r.definition),n.finalize(),n}function lVe(t){const e=uVe(t);return e.finalize(),e}function uVe(t){const e=t.Grammar,r=t.parser.Lexer,n=new YHe(t);return noe(e,n,r.definition)}class ooe{buildTokens(e,r){const n=Ba(tse(e,!1)),i=this.buildTerminalTokens(n),a=this.buildKeywordTokens(n,i,r);return i.forEach(s=>{const o=s.PATTERN;typeof o=="object"&&o&&"test"in o&&pV(o)?a.unshift(s):a.push(s)}),a}buildTerminalTokens(e){return e.filter(Cp).filter(r=>!r.fragment).map(r=>this.buildTerminalToken(r)).toArray()}buildTerminalToken(e){const r=LN(e),n=this.requiresCustomPattern(r)?this.regexPatternFunction(r):r,i={name:e.name,PATTERN:n,LINE_BREAKS:!0};return e.hidden&&(i.GROUP=pV(r)?xo.SKIPPED:"hidden"),i}requiresCustomPattern(e){return e.flags.includes("u")?!0:!!(e.source.includes("?<=")||e.source.includes("?<!"))}regexPatternFunction(e){const r=new RegExp(e,e.flags+"y");return(n,i)=>(r.lastIndex=i,r.exec(n))}buildKeywordTokens(e,r,n){return e.filter(Il).flatMap(i=>Ob(i).filter(K0)).distinct(i=>i.value).toArray().sort((i,a)=>a.value.length-i.value.length).map(i=>this.buildKeywordToken(i,r,!!(n!=null&&n.caseInsensitive)))}buildKeywordToken(e,r,n){return{name:e.value,PATTERN:this.buildKeywordPattern(e,n),LONGER_ALT:this.findLongerAlt(e,r)}}buildKeywordPattern(e,r){return r?new RegExp(PBe(e.value)):e.value}findLongerAlt(e,r){return r.reduce((n,i)=>{const a=i==null?void 0:i.PATTERN;return a!=null&&a.source&&FBe("^"+a.source+"$",e.value)&&n.push(i),n},[])}}class loe{convert(e,r){let n=r.grammarSource;if(EN(n)&&(n=HBe(n)),Q0(n)){const i=n.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,e,r)}return e}runConverter(e,r,n){var i;switch(e.name.toUpperCase()){case"INT":return Fc.convertInt(r);case"STRING":return Fc.convertString(r);case"ID":return Fc.convertID(r)}switch((i=XBe(e))===null||i===void 0?void 0:i.toLowerCase()){case"number":return Fc.convertNumber(r);case"boolean":return Fc.convertBoolean(r);case"bigint":return Fc.convertBigint(r);case"date":return Fc.convertDate(r);default:return r}}}var Fc;(function(t){function e(u){let h="";for(let f=1;f<u.length-1;f++){const d=u.charAt(f);if(d==="\\"){const p=u.charAt(++f);h+=r(p)}else h+=d}return h}t.convertString=e;function r(u){switch(u){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return u}}function n(u){return u.charAt(0)==="^"?u.substring(1):u}t.convertID=n;function i(u){return parseInt(u)}t.convertInt=i;function a(u){return BigInt(u)}t.convertBigint=a;function s(u){return new Date(u)}t.convertDate=s;function o(u){return Number(u)}t.convertNumber=o;function l(u){return u.toLowerCase()==="true"}t.convertBoolean=l})(Fc||(Fc={}));var Nx={},OT={};Object.defineProperty(OT,"__esModule",{value:!0});let jL;function KL(){if(jL===void 0)throw new Error("No runtime abstraction layer installed");return jL}(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");jL=r}t.install=e})(KL||(KL={}));OT.default=KL;var us={};Object.defineProperty(us,"__esModule",{value:!0});us.stringArray=us.array=us.func=us.error=us.number=us.string=us.boolean=void 0;function cVe(t){return t===!0||t===!1}us.boolean=cVe;function uoe(t){return typeof t=="string"||t instanceof String}us.string=uoe;function hVe(t){return typeof t=="number"||t instanceof Number}us.number=hVe;function fVe(t){return t instanceof Error}us.error=fVe;function dVe(t){return typeof t=="function"}us.func=dVe;function coe(t){return Array.isArray(t)}us.array=coe;function pVe(t){return coe(t)&&t.every(e=>uoe(e))}us.stringArray=pVe;var Nm={};Object.defineProperty(Nm,"__esModule",{value:!0});Nm.Emitter=Nm.Event=void 0;const gVe=OT;var GU;(function(t){const e={dispose(){}};t.None=function(){return e}})(GU||(Nm.Event=GU={}));class mVe{add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,r)})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,a=this._callbacks.length;i<a;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,s=n.length;a<s;a++)try{r.push(n[a].apply(i[a],e))}catch(o){(0,gVe.default)().console.error(o)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}let hoe=class foe{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new mVe),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);const i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,r),i.dispose=foe._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Nm.Emitter=hoe;hoe._noop=function(){};var ka;Object.defineProperty(Nx,"__esModule",{value:!0});var QL=Nx.CancellationTokenSource=ka=Nx.CancellationToken=void 0;const vVe=OT,yVe=us,ZL=Nm;var QS;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ZL.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ZL.Event.None});function e(r){const n=r;return n&&(n===t.None||n===t.Cancelled||yVe.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}t.is=e})(QS||(ka=Nx.CancellationToken=QS={}));const xVe=Object.freeze(function(t,e){const r=(0,vVe.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}});class WU{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?xVe:(this._emitter||(this._emitter=new ZL.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class bVe{get token(){return this._token||(this._token=new WU),this._token}cancel(){this._token?this._token.cancel():this._token=QS.Cancelled}dispose(){this._token?this._token instanceof WU&&this._token.dispose():this._token=QS.None}}QL=Nx.CancellationTokenSource=bVe;function wVe(){return new Promise(t=>{typeof setImmediate>"u"?setTimeout(t,0):setImmediate(t)})}let qU=0,SVe=10;const ZS=Symbol("OperationCancelled");function UN(t){return t===ZS}async function hu(t){if(t===ka.None)return;const e=Date.now();if(e-qU>=SVe&&(qU=e,await wVe()),t.isCancellationRequested)throw ZS}class GN{constructor(){this.promise=new Promise((e,r)=>{this.resolve=n=>(e(n),this),this.reject=n=>(r(n),this)})}}class Ix{constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){for(const n of e)if(Ix.isIncremental(n)){const i=poe(n.range),a=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,a)+n.text+this._content.substring(s,this._content.length);const o=Math.max(i.start.line,0),l=Math.max(i.end.line,0);let u=this._lineOffsets;const h=YU(n.text,!1,a);if(l-o===h.length)for(let d=0,p=h.length;d<p;d++)u[d+o+1]=h[d];else h.length<1e4?u.splice(o+1,l-o,...h):this._lineOffsets=u=u.slice(0,o+1).concat(h,u.slice(l+1));const f=n.text.length-(s-a);if(f!==0)for(let d=o+1+h.length,p=u.length;d<p;d++)u[d]=u[d]+f}else if(Ix.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=YU(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const r=this.getLineOffsets();let n=0,i=r.length;if(i===0)return{line:0,character:e};for(;n<i;){const s=Math.floor((n+i)/2);r[s]>e?i=s:n=s+1}const a=n-1;return e=this.ensureBeforeEOL(e,r[a]),{line:a,character:e-r[a]}}offsetAt(e){const r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;const n=r[e.line];if(e.character<=0)return n;const i=e.line+1<r.length?r[e.line+1]:this._content.length,a=Math.min(n+e.character,i);return this.ensureBeforeEOL(a,n)}ensureBeforeEOL(e,r){for(;e>r&&doe(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){const r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}}var JL;(function(t){function e(i,a,s,o){return new Ix(i,a,s,o)}t.create=e;function r(i,a,s){if(i instanceof Ix)return i.update(a,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}t.update=r;function n(i,a){const s=i.getText(),o=e9(a.map(kVe),(h,f)=>{const d=h.range.start.line-f.range.start.line;return d===0?h.range.start.character-f.range.start.character:d});let l=0;const u=[];for(const h of o){const f=i.offsetAt(h.range.start);if(f<l)throw new Error("Overlapping edit");f>l&&u.push(s.substring(l,f)),h.newText.length&&u.push(h.newText),l=i.offsetAt(h.range.end)}return u.push(s.substr(l)),u.join("")}t.applyEdits=n})(JL||(JL={}));function e9(t,e){if(t.length<=1)return t;const r=t.length/2|0,n=t.slice(0,r),i=t.slice(r);e9(n,e),e9(i,e);let a=0,s=0,o=0;for(;a<n.length&&s<i.length;)e(n[a],i[s])<=0?t[o++]=n[a++]:t[o++]=i[s++];for(;a<n.length;)t[o++]=n[a++];for(;s<i.length;)t[o++]=i[s++];return t}function YU(t,e,r=0){const n=e?[r]:[];for(let i=0;i<t.length;i++){const a=t.charCodeAt(i);doe(a)&&(a===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function doe(t){return t===13||t===10}function poe(t){const e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}function kVe(t){const e=poe(t.range);return e!==t.range?{newText:t.newText,range:e}:t}var goe;(()=>{var t={470:i=>{function a(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function s(l,u){for(var h,f="",d=0,p=-1,m=0,v=0;v<=l.length;++v){if(v<l.length)h=l.charCodeAt(v);else{if(h===47)break;h=47}if(h===47){if(!(p===v-1||m===1))if(p!==v-1&&m===2){if(f.length<2||d!==2||f.charCodeAt(f.length-1)!==46||f.charCodeAt(f.length-2)!==46){if(f.length>2){var x=f.lastIndexOf("/");if(x!==f.length-1){x===-1?(f="",d=0):d=(f=f.slice(0,x)).length-1-f.lastIndexOf("/"),p=v,m=0;continue}}else if(f.length===2||f.length===1){f="",d=0,p=v,m=0;continue}}u&&(f.length>0?f+="/..":f="..",d=2)}else f.length>0?f+="/"+l.slice(p+1,v):f=l.slice(p+1,v),d=v-p-1;p=v,m=0}else h===46&&m!==-1?++m:m=-1}return f}var o={resolve:function(){for(var l,u="",h=!1,f=arguments.length-1;f>=-1&&!h;f--){var d;f>=0?d=arguments[f]:(l===void 0&&(l=process.cwd()),d=l),a(d),d.length!==0&&(u=d+"/"+u,h=d.charCodeAt(0)===47)}return u=s(u,!h),h?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(l){if(a(l),l.length===0)return".";var u=l.charCodeAt(0)===47,h=l.charCodeAt(l.length-1)===47;return(l=s(l,!u)).length!==0||u||(l="."),l.length>0&&h&&(l+="/"),u?"/"+l:l},isAbsolute:function(l){return a(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,u=0;u<arguments.length;++u){var h=arguments[u];a(h),h.length>0&&(l===void 0?l=h:l+="/"+h)}return l===void 0?".":o.normalize(l)},relative:function(l,u){if(a(l),a(u),l===u||(l=o.resolve(l))===(u=o.resolve(u)))return"";for(var h=1;h<l.length&&l.charCodeAt(h)===47;++h);for(var f=l.length,d=f-h,p=1;p<u.length&&u.charCodeAt(p)===47;++p);for(var m=u.length-p,v=d<m?d:m,x=-1,y=0;y<=v;++y){if(y===v){if(m>v){if(u.charCodeAt(p+y)===47)return u.slice(p+y+1);if(y===0)return u.slice(p+y)}else d>v&&(l.charCodeAt(h+y)===47?x=y:y===0&&(x=0));break}var w=l.charCodeAt(h+y);if(w!==u.charCodeAt(p+y))break;w===47&&(x=y)}var S="";for(y=h+x+1;y<=f;++y)y!==f&&l.charCodeAt(y)!==47||(S.length===0?S+="..":S+="/..");return S.length>0?S+u.slice(p+x):(p+=x,u.charCodeAt(p)===47&&++p,u.slice(p))},_makeLong:function(l){return l},dirname:function(l){if(a(l),l.length===0)return".";for(var u=l.charCodeAt(0),h=u===47,f=-1,d=!0,p=l.length-1;p>=1;--p)if((u=l.charCodeAt(p))===47){if(!d){f=p;break}}else d=!1;return f===-1?h?"/":".":h&&f===1?"//":l.slice(0,f)},basename:function(l,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');a(l);var h,f=0,d=-1,p=!0;if(u!==void 0&&u.length>0&&u.length<=l.length){if(u.length===l.length&&u===l)return"";var m=u.length-1,v=-1;for(h=l.length-1;h>=0;--h){var x=l.charCodeAt(h);if(x===47){if(!p){f=h+1;break}}else v===-1&&(p=!1,v=h+1),m>=0&&(x===u.charCodeAt(m)?--m==-1&&(d=h):(m=-1,d=v))}return f===d?d=v:d===-1&&(d=l.length),l.slice(f,d)}for(h=l.length-1;h>=0;--h)if(l.charCodeAt(h)===47){if(!p){f=h+1;break}}else d===-1&&(p=!1,d=h+1);return d===-1?"":l.slice(f,d)},extname:function(l){a(l);for(var u=-1,h=0,f=-1,d=!0,p=0,m=l.length-1;m>=0;--m){var v=l.charCodeAt(m);if(v!==47)f===-1&&(d=!1,f=m+1),v===46?u===-1?u=m:p!==1&&(p=1):u!==-1&&(p=-1);else if(!d){h=m+1;break}}return u===-1||f===-1||p===0||p===1&&u===f-1&&u===h+1?"":l.slice(u,f)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof l);return function(u,h){var f=h.dir||h.root,d=h.base||(h.name||"")+(h.ext||"");return f?f===h.root?f+d:f+"/"+d:d}(0,l)},parse:function(l){a(l);var u={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return u;var h,f=l.charCodeAt(0),d=f===47;d?(u.root="/",h=1):h=0;for(var p=-1,m=0,v=-1,x=!0,y=l.length-1,w=0;y>=h;--y)if((f=l.charCodeAt(y))!==47)v===-1&&(x=!1,v=y+1),f===46?p===-1?p=y:w!==1&&(w=1):p!==-1&&(w=-1);else if(!x){m=y+1;break}return p===-1||v===-1||w===0||w===1&&p===v-1&&p===m+1?v!==-1&&(u.base=u.name=m===0&&d?l.slice(1,v):l.slice(m,v)):(m===0&&d?(u.name=l.slice(1,p),u.base=l.slice(1,v)):(u.name=l.slice(m,p),u.base=l.slice(m,v)),u.ext=l.slice(p,v)),m>0?u.dir=l.slice(0,m-1):d&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,i.exports=o}},e={};function r(i){var a=e[i];if(a!==void 0)return a.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,r),s.exports}r.d=(i,a)=>{for(var s in a)r.o(a,s)&&!r.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:a[s]})},r.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:()=>d,Utils:()=>F}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const a=/^\w[\w\d+.-]*$/,s=/^\//,o=/^\/\//;function l(M,B){if(!M.scheme&&B)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${M.authority}", path: "${M.path}", query: "${M.query}", fragment: "${M.fragment}"}`);if(M.scheme&&!a.test(M.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(M.path){if(M.authority){if(!s.test(M.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(M.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const u="",h="/",f=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{constructor(B,H,R,O,P,z=!1){Kr(this,"scheme");Kr(this,"authority");Kr(this,"path");Kr(this,"query");Kr(this,"fragment");typeof B=="object"?(this.scheme=B.scheme||u,this.authority=B.authority||u,this.path=B.path||u,this.query=B.query||u,this.fragment=B.fragment||u):(this.scheme=function($,V){return $||V?$:"file"}(B,z),this.authority=H||u,this.path=function($,V){switch($){case"https":case"http":case"file":V?V[0]!==h&&(V=h+V):V=h}return V}(this.scheme,R||u),this.query=O||u,this.fragment=P||u,l(this,z))}static isUri(B){return B instanceof d||!!B&&typeof B.authority=="string"&&typeof B.fragment=="string"&&typeof B.path=="string"&&typeof B.query=="string"&&typeof B.scheme=="string"&&typeof B.fsPath=="string"&&typeof B.with=="function"&&typeof B.toString=="function"}get fsPath(){return w(this)}with(B){if(!B)return this;let{scheme:H,authority:R,path:O,query:P,fragment:z}=B;return H===void 0?H=this.scheme:H===null&&(H=u),R===void 0?R=this.authority:R===null&&(R=u),O===void 0?O=this.path:O===null&&(O=u),P===void 0?P=this.query:P===null&&(P=u),z===void 0?z=this.fragment:z===null&&(z=u),H===this.scheme&&R===this.authority&&O===this.path&&P===this.query&&z===this.fragment?this:new m(H,R,O,P,z)}static parse(B,H=!1){const R=f.exec(B);return R?new m(R[2]||u,L(R[4]||u),L(R[5]||u),L(R[7]||u),L(R[9]||u),H):new m(u,u,u,u,u)}static file(B){let H=u;if(i&&(B=B.replace(/\\/g,h)),B[0]===h&&B[1]===h){const R=B.indexOf(h,2);R===-1?(H=B.substring(2),B=h):(H=B.substring(2,R),B=B.substring(R)||h)}return new m("file",H,B,u,u)}static from(B){const H=new m(B.scheme,B.authority,B.path,B.query,B.fragment);return l(H,!0),H}toString(B=!1){return S(this,B)}toJSON(){return this}static revive(B){if(B){if(B instanceof d)return B;{const H=new m(B);return H._formatted=B.external,H._fsPath=B._sep===p?B.fsPath:null,H}}return B}}const p=i?1:void 0;class m extends d{constructor(){super(...arguments);Kr(this,"_formatted",null);Kr(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=w(this)),this._fsPath}toString(H=!1){return H?S(this,!0):(this._formatted||(this._formatted=S(this,!1)),this._formatted)}toJSON(){const H={$mid:1};return this._fsPath&&(H.fsPath=this._fsPath,H._sep=p),this._formatted&&(H.external=this._formatted),this.path&&(H.path=this.path),this.scheme&&(H.scheme=this.scheme),this.authority&&(H.authority=this.authority),this.query&&(H.query=this.query),this.fragment&&(H.fragment=this.fragment),H}}const v={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function x(M,B,H){let R,O=-1;for(let P=0;P<M.length;P++){const z=M.charCodeAt(P);if(z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||z===45||z===46||z===95||z===126||B&&z===47||H&&z===91||H&&z===93||H&&z===58)O!==-1&&(R+=encodeURIComponent(M.substring(O,P)),O=-1),R!==void 0&&(R+=M.charAt(P));else{R===void 0&&(R=M.substr(0,P));const $=v[z];$!==void 0?(O!==-1&&(R+=encodeURIComponent(M.substring(O,P)),O=-1),R+=$):O===-1&&(O=P)}}return O!==-1&&(R+=encodeURIComponent(M.substring(O))),R!==void 0?R:M}function y(M){let B;for(let H=0;H<M.length;H++){const R=M.charCodeAt(H);R===35||R===63?(B===void 0&&(B=M.substr(0,H)),B+=v[R]):B!==void 0&&(B+=M[H])}return B!==void 0?B:M}function w(M,B){let H;return H=M.authority&&M.path.length>1&&M.scheme==="file"?`//${M.authority}${M.path}`:M.path.charCodeAt(0)===47&&(M.path.charCodeAt(1)>=65&&M.path.charCodeAt(1)<=90||M.path.charCodeAt(1)>=97&&M.path.charCodeAt(1)<=122)&&M.path.charCodeAt(2)===58?M.path[1].toLowerCase()+M.path.substr(2):M.path,i&&(H=H.replace(/\//g,"\\")),H}function S(M,B){const H=B?y:x;let R="",{scheme:O,authority:P,path:z,query:$,fragment:V}=M;if(O&&(R+=O,R+=":"),(P||O==="file")&&(R+=h,R+=h),P){let X=P.indexOf("@");if(X!==-1){const q=P.substr(0,X);P=P.substr(X+1),X=q.lastIndexOf(":"),X===-1?R+=H(q,!1,!1):(R+=H(q.substr(0,X),!1,!1),R+=":",R+=H(q.substr(X+1),!1,!0)),R+="@"}P=P.toLowerCase(),X=P.lastIndexOf(":"),X===-1?R+=H(P,!1,!0):(R+=H(P.substr(0,X),!1,!0),R+=P.substr(X))}if(z){if(z.length>=3&&z.charCodeAt(0)===47&&z.charCodeAt(2)===58){const X=z.charCodeAt(1);X>=65&&X<=90&&(z=`/${String.fromCharCode(X+32)}:${z.substr(3)}`)}else if(z.length>=2&&z.charCodeAt(1)===58){const X=z.charCodeAt(0);X>=65&&X<=90&&(z=`${String.fromCharCode(X+32)}:${z.substr(2)}`)}R+=H(z,!0,!1)}return $&&(R+="?",R+=H($,!1,!1)),V&&(R+="#",R+=B?V:x(V,!1,!1)),R}function E(M){try{return decodeURIComponent(M)}catch{return M.length>3?M.substr(0,3)+E(M.substr(3)):M}}const C=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function L(M){return M.match(C)?M.replace(C,B=>E(B)):M}var _=r(470);const I=_.posix||_,D="/";var F;(function(M){M.joinPath=function(B,...H){return B.with({path:I.join(B.path,...H)})},M.resolvePath=function(B,...H){let R=B.path,O=!1;R[0]!==D&&(R=D+R,O=!0);let P=I.resolve(R,...H);return O&&P[0]===D&&!B.authority&&(P=P.substring(1)),B.with({path:P})},M.dirname=function(B){if(B.path.length===0||B.path===D)return B;let H=I.dirname(B.path);return H.length===1&&H.charCodeAt(0)===46&&(H=""),B.with({path:H})},M.basename=function(B){return I.basename(B.path)},M.extname=function(B){return I.extname(B.path)}})(F||(F={}))})(),goe=n})();const{URI:Im,Utils:Ry}=goe;var Zf;(function(t){t.basename=Ry.basename,t.dirname=Ry.dirname,t.extname=Ry.extname,t.joinPath=Ry.joinPath,t.resolvePath=Ry.resolvePath;function e(n,i){return(n==null?void 0:n.toString())===(i==null?void 0:i.toString())}t.equals=e;function r(n,i){const a=typeof n=="string"?n:n.path,s=typeof i=="string"?i:i.path,o=a.split("/").filter(d=>d.length>0),l=s.split("/").filter(d=>d.length>0);let u=0;for(;u<o.length&&o[u]===l[u];u++);const h="../".repeat(o.length-u),f=l.slice(u).join("/");return h+f}t.relative=r})(Zf||(Zf={}));var ri;(function(t){t[t.Changed=0]="Changed",t[t.Parsed=1]="Parsed",t[t.IndexedContent=2]="IndexedContent",t[t.ComputedScopes=3]="ComputedScopes",t[t.Linked=4]="Linked",t[t.IndexedReferences=5]="IndexedReferences",t[t.Validated=6]="Validated"})(ri||(ri={}));class EVe{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,r=ka.None){const n=await this.fileSystemProvider.readFile(e);return this.createAsync(e,n,r)}fromTextDocument(e,r,n){return r=r??Im.parse(e.uri),n?this.createAsync(r,e,n):this.create(r,e)}fromString(e,r,n){return n?this.createAsync(r,e,n):this.create(r,e)}fromModel(e,r){return this.create(r,{$model:e})}create(e,r){if(typeof r=="string"){const n=this.parse(e,r);return this.createLangiumDocument(n,e,void 0,r)}else if("$model"in r){const n={value:r.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(n,e)}else{const n=this.parse(e,r.getText());return this.createLangiumDocument(n,e,r)}}async createAsync(e,r,n){if(typeof r=="string"){const i=await this.parseAsync(e,r,n);return this.createLangiumDocument(i,e,void 0,r)}else{const i=await this.parseAsync(e,r.getText(),n);return this.createLangiumDocument(i,e,r)}}createLangiumDocument(e,r,n,i){let a;if(n)a={parseResult:e,uri:r,state:ri.Parsed,references:[],textDocument:n};else{const s=this.createTextDocumentGetter(r,i);a={parseResult:e,uri:r,state:ri.Parsed,references:[],get textDocument(){return s()}}}return e.value.$document=a,a}async update(e,r){var n,i;const a=(n=e.parseResult.value.$cstNode)===null||n===void 0?void 0:n.root.fullText,s=(i=this.textDocuments)===null||i===void 0?void 0:i.get(e.uri.toString()),o=s?s.getText():await this.fileSystemProvider.readFile(e.uri);if(s)Object.defineProperty(e,"textDocument",{value:s});else{const l=this.createTextDocumentGetter(e.uri,o);Object.defineProperty(e,"textDocument",{get:l})}return a!==o&&(e.parseResult=await this.parseAsync(e.uri,o,r),e.parseResult.value.$document=e),e.state=ri.Parsed,e}parse(e,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(r)}parseAsync(e,r,n){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(r,n)}createTextDocumentGetter(e,r){const n=this.serviceRegistry;let i;return()=>i??(i=JL.create(e.toString(),n.getServices(e).LanguageMetaData.languageId,0,r??""))}}class TVe{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory}get all(){return Ba(this.documentMap.values())}addDocument(e){const r=e.uri.toString();if(this.documentMap.has(r))throw new Error(`A document with the URI '${r}' is already present.`);this.documentMap.set(r,e)}getDocument(e){const r=e.toString();return this.documentMap.get(r)}async getOrCreateDocument(e,r){let n=this.getDocument(e);return n||(n=await this.langiumDocumentFactory.fromUri(e,r),this.addDocument(n),n)}createDocument(e,r,n){if(n)return this.langiumDocumentFactory.fromString(r,e,n).then(i=>(this.addDocument(i),i));{const i=this.langiumDocumentFactory.fromString(r,e);return this.addDocument(i),i}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const r=e.toString(),n=this.documentMap.get(r);return n&&(n.state=ri.Changed,n.precomputedScopes=void 0,n.references=[],n.diagnostics=void 0),n}deleteDocument(e){const r=e.toString(),n=this.documentMap.get(r);return n&&(n.state=ri.Changed,this.documentMap.delete(r)),n}}class CVe{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,r=ka.None){for(const n of i1(e.parseResult.value))await hu(r),Zae(n).forEach(i=>this.doLink(i,e))}doLink(e,r){const n=e.reference;if(n._ref===void 0)try{const i=this.getCandidate(e);if(D3(i))n._ref=i;else if(n._nodeDescription=i,this.langiumDocuments().hasDocument(i.documentUri)){const a=this.loadAstNode(i);n._ref=a??this.createLinkingError(e,i)}}catch(i){n._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${n.$refText}': ${i}`})}r.references.push(n)}unlink(e){for(const r of e.references)delete r._ref,delete r._nodeDescription;e.references=[]}getCandidate(e){const n=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return n??this.createLinkingError(e)}buildReference(e,r,n,i){const a=this,s={$refNode:n,$refText:i,get ref(){var o;if(fs(this._ref))return this._ref;if(GFe(this._nodeDescription)){const l=a.loadAstNode(this._nodeDescription);this._ref=l??a.createLinkingError({reference:s,container:e,property:r},this._nodeDescription)}else if(this._ref===void 0){const l=a.getLinkedNode({reference:s,container:e,property:r});if(l.error&&ac(e).state<ri.ComputedScopes)return;this._ref=(o=l.node)!==null&&o!==void 0?o:l.error,this._nodeDescription=l.descr}return fs(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return D3(this._ref)?this._ref:void 0}};return s}getLinkedNode(e){try{const r=this.getCandidate(e);if(D3(r))return{error:r};const n=this.loadAstNode(r);return n?{node:n,descr:r}:{descr:r,error:this.createLinkingError(e,r)}}catch(r){return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${r}`})}}}loadAstNode(e){if(e.node)return e.node;const r=this.langiumDocuments().getDocument(e.documentUri);if(r)return this.astNodeLocator.getAstNode(r.parseResult.value,e.path)}createLinkingError(e,r){const n=ac(e.container);n.state<ri.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);const i=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${i} named '${e.reference.$refText}'.`,targetDescription:r})}}function AVe(t){return typeof t.name=="string"}class _Ve{getName(e){if(AVe(e))return e.name}getNameNode(e){return nse(e.$cstNode,"name")}}class LVe{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const r=qBe(e),n=e.astNode;if(r&&n){const i=n[r.feature];if(Xu(i))return i.ref;if(Array.isArray(i)){for(const a of i)if(Xu(a)&&a.$refNode&&a.$refNode.offset<=e.offset&&a.$refNode.end>=e.end)return a.ref}}if(n){const i=this.nameProvider.getNameNode(n);if(i&&(i===e||YFe(e,i)))return n}}}findDeclarationNode(e){const r=this.findDeclaration(e);if(r!=null&&r.$cstNode){const n=this.nameProvider.getNameNode(r);return n??r.$cstNode}}findReferences(e,r){const n=[];if(r.includeDeclaration){const a=this.getReferenceToSelf(e);a&&n.push(a)}let i=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return r.documentUri&&(i=i.filter(a=>Zf.equals(a.sourceUri,r.documentUri))),n.push(...i),Ba(n)}getReferenceToSelf(e){const r=this.nameProvider.getNameNode(e);if(r){const n=ac(e),i=this.nodeLocator.getAstNodePath(e);return{sourceUri:n.uri,sourcePath:i,targetUri:n.uri,targetPath:i,segment:NS(r),local:!0}}}}class WN{constructor(e){if(this.map=new Map,e)for(const[r,n]of e)this.add(r,n)}get size(){return xL.sum(Ba(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,r){if(r===void 0)return this.map.delete(e);{const n=this.map.get(e);if(n){const i=n.indexOf(r);if(i>=0)return n.length===1?this.map.delete(e):n.splice(i,1),!0}return!1}}get(e){var r;return(r=this.map.get(e))!==null&&r!==void 0?r:[]}has(e,r){if(r===void 0)return this.map.has(e);{const n=this.map.get(e);return n?n.indexOf(r)>=0:!1}}add(e,r){return this.map.has(e)?this.map.get(e).push(r):this.map.set(e,[r]),this}addAll(e,r){return this.map.has(e)?this.map.get(e).push(...r):this.map.set(e,Array.from(r)),this}forEach(e){this.map.forEach((r,n)=>r.forEach(i=>e(i,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Ba(this.map.entries()).flatMap(([e,r])=>r.map(n=>[e,n]))}keys(){return Ba(this.map.keys())}values(){return Ba(this.map.values()).flat()}entriesGroupedByKey(){return Ba(this.map.entries())}}class XU{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[r,n]of e)this.set(r,n)}clear(){this.map.clear(),this.inverse.clear()}set(e,r){return this.map.set(e,r),this.inverse.set(r,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const r=this.map.get(e);return r!==void 0?(this.map.delete(e),this.inverse.delete(r),!0):!1}}class DVe{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,r=ka.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,r)}async computeExportsForNode(e,r,n=CN,i=ka.None){const a=[];this.exportNode(e,a,r);for(const s of n(e))await hu(i),this.exportNode(s,a,r);return a}exportNode(e,r,n){const i=this.nameProvider.getName(e);i&&r.push(this.descriptions.createDescription(e,i,n))}async computeLocalScopes(e,r=ka.None){const n=e.parseResult.value,i=new WN;for(const a of Ob(n))await hu(r),this.processNode(a,e,i);return i}processNode(e,r,n){const i=e.$container;if(i){const a=this.nameProvider.getName(e);a&&n.add(i,this.descriptions.createDescription(e,a,r))}}}class jU{constructor(e,r,n){var i;this.elements=e,this.outerScope=r,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0?i:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){const r=this.caseInsensitive?this.elements.find(n=>n.name.toLowerCase()===e.toLowerCase()):this.elements.find(n=>n.name===e);if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}}class RVe{constructor(e,r,n){var i;this.elements=new Map,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0?i:!1;for(const a of e){const s=this.caseInsensitive?a.name.toLowerCase():a.name;this.elements.set(s,a)}this.outerScope=r}getElement(e){const r=this.caseInsensitive?e.toLowerCase():e,n=this.elements.get(r);if(n)return n;if(this.outerScope)return this.outerScope.getElement(e)}getAllElements(){let e=Ba(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class moe{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class MVe extends moe{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,r){this.throwIfDisposed(),this.cache.set(e,r)}get(e,r){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(r){const n=r();return this.cache.set(e,n),n}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class NVe extends moe{constructor(e){super(),this.cache=new Map,this.converter=e??(r=>r)}has(e,r){return this.throwIfDisposed(),this.cacheForContext(e).has(r)}set(e,r,n){this.throwIfDisposed(),this.cacheForContext(e).set(r,n)}get(e,r,n){this.throwIfDisposed();const i=this.cacheForContext(e);if(i.has(r))return i.get(r);if(n){const a=n();return i.set(r,a),a}else return}delete(e,r){return this.throwIfDisposed(),this.cacheForContext(e).delete(r)}clear(e){if(this.throwIfDisposed(),e){const r=this.converter(e);this.cache.delete(r)}else this.cache.clear()}cacheForContext(e){const r=this.converter(e);let n=this.cache.get(r);return n||(n=new Map,this.cache.set(r,n)),n}}class IVe extends MVe{constructor(e){super(),this.onDispose(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class OVe{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new IVe(e.shared)}getScope(e){const r=[],n=this.reflection.getReferenceType(e),i=ac(e.container).precomputedScopes;if(i){let s=e.container;do{const o=i.get(s);o.length>0&&r.push(Ba(o).filter(l=>this.reflection.isSubtype(l.type,n))),s=s.$container}while(s)}let a=this.getGlobalScope(n,e);for(let s=r.length-1;s>=0;s--)a=this.createScope(r[s],a);return a}createScope(e,r,n){return new jU(Ba(e),r,n)}createScopeForNodes(e,r,n){const i=Ba(e).map(a=>{const s=this.nameProvider.getName(a);if(s)return this.descriptions.createDescription(a,s)}).nonNullable();return new jU(i,r,n)}getGlobalScope(e,r){return this.globalScopeCache.get(e,()=>new RVe(this.indexManager.allElements(e)))}}function PVe(t){return typeof t.$comment=="string"}function KU(t){return typeof t=="object"&&!!t&&("$ref"in t||"$error"in t)}class FVe{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,r={}){const n=r==null?void 0:r.replacer,i=(s,o)=>this.replacer(s,o,r),a=n?(s,o)=>n(s,o,i):i;try{return this.currentDocument=ac(e),JSON.stringify(e,a,r==null?void 0:r.space)}finally{this.currentDocument=void 0}}deserialize(e,r={}){const n=JSON.parse(e);return this.linkNode(n,n,r),n}replacer(e,r,{refText:n,sourceText:i,textRegions:a,comments:s,uriConverter:o}){var l,u,h,f;if(!this.ignoreProperties.has(e))if(Xu(r)){const d=r.ref,p=n?r.$refText:void 0;if(d){const m=ac(d);let v="";this.currentDocument&&this.currentDocument!==m&&(o?v=o(m.uri,r):v=m.uri.toString());const x=this.astNodeLocator.getAstNodePath(d);return{$ref:`${v}#${x}`,$refText:p}}else return{$error:(u=(l=r.error)===null||l===void 0?void 0:l.message)!==null&&u!==void 0?u:"Could not resolve reference",$refText:p}}else if(fs(r)){let d;if(a&&(d=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},r)),(!e||r.$document)&&(d!=null&&d.$textRegion)&&(d.$textRegion.documentURI=(h=this.currentDocument)===null||h===void 0?void 0:h.uri.toString())),i&&!e&&(d??(d=Object.assign({},r)),d.$sourceText=(f=r.$cstNode)===null||f===void 0?void 0:f.text),s){d??(d=Object.assign({},r));const p=this.commentProvider.getComment(r);p&&(d.$comment=p.replace(/\r/g,""))}return d??r}else return r}addAstNodeRegionWithAssignmentsTo(e){const r=n=>({offset:n.offset,end:n.end,length:n.length,range:n.range});if(e.$cstNode){const n=e.$textRegion=r(e.$cstNode),i=n.assignments={};return Object.keys(e).filter(a=>!a.startsWith("$")).forEach(a=>{const s=UBe(e.$cstNode,a).map(r);s.length!==0&&(i[a]=s)}),e}}linkNode(e,r,n,i,a,s){for(const[l,u]of Object.entries(e))if(Array.isArray(u))for(let h=0;h<u.length;h++){const f=u[h];KU(f)?u[h]=this.reviveReference(e,l,r,f,n):fs(f)&&this.linkNode(f,r,n,e,l,h)}else KU(u)?e[l]=this.reviveReference(e,l,r,u,n):fs(u)&&this.linkNode(u,r,n,e,l);const o=e;o.$container=i,o.$containerProperty=a,o.$containerIndex=s}reviveReference(e,r,n,i,a){let s=i.$refText,o=i.$error;if(i.$ref){const l=this.getRefNode(n,i.$ref,a.uriConverter);if(fs(l))return s||(s=this.nameProvider.getName(l)),{$refText:s??"",ref:l};o=l}if(o){const l={$refText:s??""};return l.error={container:e,property:r,message:o,reference:l},l}else return}getRefNode(e,r,n){try{const i=r.indexOf("#");if(i===0){const l=this.astNodeLocator.getAstNode(e,r.substring(1));return l||"Could not resolve path: "+r}if(i<0){const l=n?n(r):Im.parse(r),u=this.langiumDocuments.getDocument(l);return u?u.parseResult.value:"Could not find document for URI: "+r}const a=n?n(r.substring(0,i)):Im.parse(r.substring(0,i)),s=this.langiumDocuments.getDocument(a);if(!s)return"Could not find document for URI: "+r;if(i===r.length-1)return s.parseResult.value;const o=this.astNodeLocator.getAstNode(s.parseResult.value,r.substring(i+1));return o||"Could not resolve URI: "+r}catch(i){return String(i)}}}class BVe{register(e){if(!this.singleton&&!this.map){this.singleton=e;return}if(!this.map&&(this.map={},this.singleton)){for(const r of this.singleton.LanguageMetaData.fileExtensions)this.map[r]=this.singleton;this.singleton=void 0}for(const r of e.LanguageMetaData.fileExtensions)this.map[r]!==void 0&&this.map[r]!==e&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${e.LanguageMetaData.languageId}'.`),this.map[r]=e}getServices(e){if(this.singleton!==void 0)return this.singleton;if(this.map===void 0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const r=Zf.extname(e),n=this.map[r];if(!n)throw new Error(`The service registry contains no services for the extension '${r}'.`);return n}get all(){return this.singleton!==void 0?[this.singleton]:this.map!==void 0?Object.values(this.map):[]}}function QU(t){return{code:t}}var JS;(function(t){t.all=["fast","slow","built-in"]})(JS||(JS={}));class $Ve{constructor(e){this.entries=new WN,this.reflection=e.shared.AstReflection}register(e,r=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[i,a]of Object.entries(e)){const s=a;if(Array.isArray(s))for(const o of s){const l={check:this.wrapValidationException(o,r),category:n};this.addEntry(i,l)}else if(typeof s=="function"){const o={check:this.wrapValidationException(s,r),category:n};this.addEntry(i,o)}}}wrapValidationException(e,r){return async(n,i,a)=>{try{await e.call(r,n,i,a)}catch(s){if(UN(s))throw s;console.error("An error occurred during validation:",s);const o=s instanceof Error?s.message:String(s);s instanceof Error&&s.stack&&console.error(s.stack),i("error","An error occurred during validation: "+o,{node:n})}}}addEntry(e,r){if(e==="AstNode"){this.entries.add("AstNode",r);return}for(const n of this.reflection.getAllSubTypes(e))this.entries.add(n,r)}getChecks(e,r){let n=Ba(this.entries.get(e)).concat(this.entries.get("AstNode"));return r&&(n=n.filter(i=>r.includes(i.category))),n.map(i=>i.check)}}class zVe{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,r={},n=ka.None){const i=e.parseResult,a=[];if(await hu(n),(!r.categories||r.categories.includes("built-in"))&&(this.processLexingErrors(i,a,r),r.stopAfterLexingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===sf.LexingError})||(this.processParsingErrors(i,a,r),r.stopAfterParsingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===sf.ParsingError}))||(this.processLinkingErrors(e,a,r),r.stopAfterLinkingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===sf.LinkingError}))))return a;try{a.push(...await this.validateAst(i.value,r,n))}catch(s){if(UN(s))throw s;console.error("An error occurred during validation:",s)}return await hu(n),a}processLexingErrors(e,r,n){for(const i of e.lexerErrors){const a={severity:x8("error"),range:{start:{line:i.line-1,character:i.column-1},end:{line:i.line-1,character:i.column+i.length-1}},message:i.message,data:QU(sf.LexingError),source:this.getSource()};r.push(a)}}processParsingErrors(e,r,n){for(const i of e.parserErrors){let a;if(isNaN(i.token.startOffset)){if("previousToken"in i){const s=i.previousToken;if(isNaN(s.startOffset)){const o={line:0,character:0};a={start:o,end:o}}else{const o={line:s.endLine-1,character:s.endColumn};a={start:o,end:o}}}}else a=wL(i.token);if(a){const s={severity:x8("error"),range:a,message:i.message,data:QU(sf.ParsingError),source:this.getSource()};r.push(s)}}}processLinkingErrors(e,r,n){for(const i of e.references){const a=i.error;if(a){const s={node:a.container,property:a.property,index:a.index,data:{code:sf.LinkingError,containerType:a.container.$type,property:a.property,refText:a.reference.$refText}};r.push(this.toDiagnostic("error",a.message,s))}}}async validateAst(e,r,n=ka.None){const i=[],a=(s,o,l)=>{i.push(this.toDiagnostic(s,o,l))};return await Promise.all(i1(e).map(async s=>{await hu(n);const o=this.validationRegistry.getChecks(s.$type,r.categories);for(const l of o)await l(s,a,n)})),i}toDiagnostic(e,r,n){return{message:r,range:HVe(n),severity:x8(e),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function HVe(t){if(t.range)return t.range;let e;return typeof t.property=="string"?e=nse(t.node.$cstNode,t.property,t.index):typeof t.keyword=="string"&&(e=GBe(t.node.$cstNode,t.keyword,t.index)),e??(e=t.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function x8(t){switch(t){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+t)}}var sf;(function(t){t.LexingError="lexing-error",t.ParsingError="parsing-error",t.LinkingError="linking-error"})(sf||(sf={}));class VVe{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,r,n=ac(e)){r??(r=this.nameProvider.getName(e));const i=this.astNodeLocator.getAstNodePath(e);if(!r)throw new Error(`Node at path ${i} has no name.`);let a;const s=()=>{var o;return a??(a=NS((o=this.nameProvider.getNameNode(e))!==null&&o!==void 0?o:e.$cstNode))};return{node:e,name:r,get nameSegment(){return s()},selectionSegment:NS(e.$cstNode),type:e.$type,documentUri:n.uri,path:i}}}class UVe{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,r=ka.None){const n=[],i=e.parseResult.value;for(const a of i1(i))await hu(r),Zae(a).filter(s=>!D3(s)).forEach(s=>{const o=this.createDescription(s);o&&n.push(o)});return n}createDescription(e){const r=e.reference.$nodeDescription,n=e.reference.$refNode;if(!r||!n)return;const i=ac(e.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:r.documentUri,targetPath:r.path,segment:NS(n),local:Zf.equals(r.documentUri,i)}}}class GVe{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const r=this.getAstNodePath(e.$container),n=this.getPathSegment(e);return r+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:e,$containerIndex:r}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return r!==void 0?e+this.indexSeparator+r:e}getAstNode(e,r){return r.split(this.segmentSeparator).reduce((i,a)=>{if(!i||a.length===0)return i;const s=a.indexOf(this.indexSeparator);if(s>0){const o=a.substring(0,s),l=parseInt(a.substring(s+1)),u=i[o];return u==null?void 0:u[l]}return i[a]},e)}}class WVe{constructor(e){this._ready=new GN,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var r,n;this.workspaceConfig=(n=(r=e.capabilities.workspace)===null||r===void 0?void 0:r.configuration)!==null&&n!==void 0?n:!1}async initialized(e){if(this.workspaceConfig){if(e.register){const r=this.serviceRegistry.all;e.register({section:r.map(n=>this.toSectionName(n.LanguageMetaData.languageId))})}if(e.fetchConfiguration){const r=this.serviceRegistry.all.map(i=>({section:this.toSectionName(i.LanguageMetaData.languageId)})),n=await e.fetchConfiguration(r);r.forEach((i,a)=>{this.updateSectionConfiguration(i.section,n[a])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(r=>{this.updateSectionConfiguration(r,e.settings[r])})}updateSectionConfiguration(e,r){this.settings[e]=r}async getConfiguration(e,r){await this.ready;const n=this.toSectionName(e);if(this.settings[n])return this.settings[n][r]}toSectionName(e){return`${e}`}}var ek;(function(t){function e(r){return{dispose:async()=>await r()}}t.create=e})(ek||(ek={}));class qVe{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new WN,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=ri.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,r={},n=ka.None){var i,a;for(const s of e){const o=s.uri.toString();if(s.state===ri.Validated){if(typeof r.validation=="boolean"&&r.validation)s.state=ri.IndexedReferences,s.diagnostics=void 0,this.buildState.delete(o);else if(typeof r.validation=="object"){const l=this.buildState.get(o),u=(i=l==null?void 0:l.result)===null||i===void 0?void 0:i.validationChecks;if(u){const f=((a=r.validation.categories)!==null&&a!==void 0?a:JS.all).filter(d=>!u.includes(d));f.length>0&&(this.buildState.set(o,{completed:!1,options:{validation:Object.assign(Object.assign({},r.validation),{categories:f})},result:l.result}),s.state=ri.IndexedReferences)}}}else this.buildState.delete(o)}this.currentState=ri.Changed,await this.emitUpdate(e.map(s=>s.uri),[]),await this.buildDocuments(e,r,n)}async update(e,r,n=ka.None){this.currentState=ri.Changed;for(const s of r)this.langiumDocuments.deleteDocument(s),this.buildState.delete(s.toString()),this.indexManager.remove(s);for(const s of e){if(!this.langiumDocuments.invalidateDocument(s)){const l=this.langiumDocumentFactory.fromModel({$type:"INVALID"},s);l.state=ri.Changed,this.langiumDocuments.addDocument(l)}this.buildState.delete(s.toString())}const i=Ba(e).concat(r).map(s=>s.toString()).toSet();this.langiumDocuments.all.filter(s=>!i.has(s.uri.toString())&&this.shouldRelink(s,i)).forEach(s=>{this.serviceRegistry.getServices(s.uri).references.Linker.unlink(s),s.state=Math.min(s.state,ri.ComputedScopes),s.diagnostics=void 0}),await this.emitUpdate(e,r),await hu(n);const a=this.langiumDocuments.all.filter(s=>{var o;return s.state<ri.Linked||!(!((o=this.buildState.get(s.uri.toString()))===null||o===void 0)&&o.completed)}).toArray();await this.buildDocuments(a,this.updateBuildOptions,n)}async emitUpdate(e,r){await Promise.all(this.updateListeners.map(n=>n(e,r)))}shouldRelink(e,r){return e.references.some(n=>n.error!==void 0)?!0:this.indexManager.isAffected(e,r)}onUpdate(e){return this.updateListeners.push(e),ek.create(()=>{const r=this.updateListeners.indexOf(e);r>=0&&this.updateListeners.splice(r,1)})}async buildDocuments(e,r,n){this.prepareBuild(e,r),await this.runCancelable(e,ri.Parsed,n,a=>this.langiumDocumentFactory.update(a,n)),await this.runCancelable(e,ri.IndexedContent,n,a=>this.indexManager.updateContent(a,n)),await this.runCancelable(e,ri.ComputedScopes,n,async a=>{const s=this.serviceRegistry.getServices(a.uri).references.ScopeComputation;a.precomputedScopes=await s.computeLocalScopes(a,n)}),await this.runCancelable(e,ri.Linked,n,a=>this.serviceRegistry.getServices(a.uri).references.Linker.link(a,n)),await this.runCancelable(e,ri.IndexedReferences,n,a=>this.indexManager.updateReferences(a,n));const i=e.filter(a=>this.shouldValidate(a));await this.runCancelable(i,ri.Validated,n,a=>this.validate(a,n));for(const a of e){const s=this.buildState.get(a.uri.toString());s&&(s.completed=!0)}}prepareBuild(e,r){for(const n of e){const i=n.uri.toString(),a=this.buildState.get(i);(!a||a.completed)&&this.buildState.set(i,{completed:!1,options:r,result:a==null?void 0:a.result})}}async runCancelable(e,r,n,i){const a=e.filter(s=>s.state<r);for(const s of a)await hu(n),await i(s),s.state=r;await this.notifyBuildPhase(a,r,n),this.currentState=r}onBuildPhase(e,r){return this.buildPhaseListeners.add(e,r),ek.create(()=>{this.buildPhaseListeners.delete(e,r)})}waitUntil(e,r,n){let i;if(r&&"path"in r?i=r:n=r,n??(n=ka.None),i){const a=this.langiumDocuments.getDocument(i);if(a&&a.state>e)return Promise.resolve(i)}return this.currentState>=e?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(ZS):new Promise((a,s)=>{const o=this.onBuildPhase(e,()=>{if(o.dispose(),l.dispose(),i){const u=this.langiumDocuments.getDocument(i);a(u==null?void 0:u.uri)}else a(void 0)}),l=n.onCancellationRequested(()=>{o.dispose(),l.dispose(),s(ZS)})})}async notifyBuildPhase(e,r,n){if(e.length===0)return;const i=this.buildPhaseListeners.get(r);for(const a of i)await hu(n),await a(e,n)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,r){var n,i;const a=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,s=this.getBuildOptions(e).validation,o=typeof s=="object"?s:void 0,l=await a.validateDocument(e,o,r);e.diagnostics?e.diagnostics.push(...l):e.diagnostics=l;const u=this.buildState.get(e.uri.toString());if(u){(n=u.result)!==null&&n!==void 0||(u.result={});const h=(i=o==null?void 0:o.categories)!==null&&i!==void 0?i:JS.all;u.result.validationChecks?u.result.validationChecks.push(...h):u.result.validationChecks=[...h]}}getBuildOptions(e){var r,n;return(n=(r=this.buildState.get(e.uri.toString()))===null||r===void 0?void 0:r.options)!==null&&n!==void 0?n:{}}}class YVe{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new NVe,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,r){const n=ac(e).uri,i=[];return this.referenceIndex.forEach(a=>{a.forEach(s=>{Zf.equals(s.targetUri,n)&&s.targetPath===r&&i.push(s)})}),Ba(i)}allElements(e,r){let n=Ba(this.symbolIndex.keys());return r&&(n=n.filter(i=>!r||r.has(i))),n.map(i=>this.getFileDescriptions(i,e)).flat()}getFileDescriptions(e,r){var n;return r?this.symbolByTypeIndex.get(e,r,()=>{var a;return((a=this.symbolIndex.get(e))!==null&&a!==void 0?a:[]).filter(o=>this.astReflection.isSubtype(o.type,r))}):(n=this.symbolIndex.get(e))!==null&&n!==void 0?n:[]}remove(e){const r=e.toString();this.symbolIndex.delete(r),this.symbolByTypeIndex.clear(r),this.referenceIndex.delete(r)}async updateContent(e,r=ka.None){const i=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,r),a=e.uri.toString();this.symbolIndex.set(a,i),this.symbolByTypeIndex.clear(a)}async updateReferences(e,r=ka.None){const i=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,r);this.referenceIndex.set(e.uri.toString(),i)}isAffected(e,r){const n=this.referenceIndex.get(e.uri.toString());return n?n.some(i=>!i.local&&r.has(i.targetUri.toString())):!1}}class XVe{constructor(e){this.initialBuildOptions={},this._ready=new GN,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}initialize(e){var r;this.folders=(r=e.workspaceFolders)!==null&&r!==void 0?r:void 0}initialized(e){return this.mutex.write(r=>{var n;return this.initializeWorkspace((n=this.folders)!==null&&n!==void 0?n:[],r)})}async initializeWorkspace(e,r=ka.None){const n=await this.performStartup(e);await hu(r),await this.documentBuilder.build(n,this.initialBuildOptions,r)}async performStartup(e){const r=this.serviceRegistry.all.flatMap(a=>a.LanguageMetaData.fileExtensions),n=[],i=a=>{n.push(a),this.langiumDocuments.hasDocument(a.uri)||this.langiumDocuments.addDocument(a)};return await this.loadAdditionalDocuments(e,i),await Promise.all(e.map(a=>[a,this.getRootFolder(a)]).map(async a=>this.traverseFolder(...a,r,i))),this._ready.resolve(),n}loadAdditionalDocuments(e,r){return Promise.resolve()}getRootFolder(e){return Im.parse(e.uri)}async traverseFolder(e,r,n,i){const a=await this.fileSystemProvider.readDirectory(r);await Promise.all(a.map(async s=>{if(this.includeEntry(e,s,n)){if(s.isDirectory)await this.traverseFolder(e,s.uri,n,i);else if(s.isFile){const o=await this.langiumDocuments.getOrCreateDocument(s.uri);i(o)}}}))}includeEntry(e,r,n){const i=Zf.basename(r.uri);if(i.startsWith("."))return!1;if(r.isDirectory)return i!=="node_modules"&&i!=="out";if(r.isFile){const a=Zf.extname(r.uri);return n.includes(a)}return!1}}class jVe{constructor(e){const r=e.parser.TokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(r);const n=ZU(r)?Object.values(r):r;this.chevrotainLexer=new xo(n,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(e){var r;const n=this.chevrotainLexer.tokenize(e);return{tokens:n.tokens,errors:n.errors,hidden:(r=n.groups.hidden)!==null&&r!==void 0?r:[]}}toTokenTypeDictionary(e){if(ZU(e))return e;const r=voe(e)?Object.values(e.modes).flat():e,n={};return r.forEach(i=>n[i.name]=i),n}}function KVe(t){return Array.isArray(t)&&(t.length===0||"name"in t[0])}function voe(t){return t&&"modes"in t&&"defaultMode"in t}function ZU(t){return!KVe(t)&&!voe(t)}function QVe(t,e,r){let n,i;typeof t=="string"?(i=e,n=r):(i=t.range.start,n=e),i||(i=dn.create(0,0));const a=yoe(t),s=qN(n),o=eUe({lines:a,position:i,options:s});return aUe({index:0,tokens:o,position:i})}function ZVe(t,e){const r=qN(e),n=yoe(t);if(n.length===0)return!1;const i=n[0],a=n[n.length-1],s=r.start,o=r.end;return!!(s!=null&&s.exec(i))&&!!(o!=null&&o.exec(a))}function yoe(t){let e="";return typeof t=="string"?e=t:e=t.text,e.split(MBe)}const JU=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,JVe=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function eUe(t){var e,r,n;const i=[];let a=t.position.line,s=t.position.character;for(let o=0;o<t.lines.length;o++){const l=o===0,u=o===t.lines.length-1;let h=t.lines[o],f=0;if(l&&t.options.start){const p=(e=t.options.start)===null||e===void 0?void 0:e.exec(h);p&&(f=p.index+p[0].length)}else{const p=(r=t.options.line)===null||r===void 0?void 0:r.exec(h);p&&(f=p.index+p[0].length)}if(u){const p=(n=t.options.end)===null||n===void 0?void 0:n.exec(h);p&&(h=h.substring(0,p.index))}if(h=h.substring(0,iUe(h)),t9(h,f)>=h.length){if(i.length>0){const p=dn.create(a,s);i.push({type:"break",content:"",range:Xr.create(p,p)})}}else{JU.lastIndex=f;const p=JU.exec(h);if(p){const m=p[0],v=p[1],x=dn.create(a,s+f),y=dn.create(a,s+f+m.length);i.push({type:"tag",content:v,range:Xr.create(x,y)}),f+=m.length,f=t9(h,f)}if(f<h.length){const m=h.substring(f),v=Array.from(m.matchAll(JVe));i.push(...tUe(v,m,a,s+f))}}a++,s=0}return i.length>0&&i[i.length-1].type==="break"?i.slice(0,-1):i}function tUe(t,e,r,n){const i=[];if(t.length===0){const a=dn.create(r,n),s=dn.create(r,n+e.length);i.push({type:"text",content:e,range:Xr.create(a,s)})}else{let a=0;for(const o of t){const l=o.index,u=e.substring(a,l);u.length>0&&i.push({type:"text",content:e.substring(a,l),range:Xr.create(dn.create(r,a+n),dn.create(r,l+n))});let h=u.length+1;const f=o[1];if(i.push({type:"inline-tag",content:f,range:Xr.create(dn.create(r,a+h+n),dn.create(r,a+h+f.length+n))}),h+=f.length,o.length===4){h+=o[2].length;const d=o[3];i.push({type:"text",content:d,range:Xr.create(dn.create(r,a+h+n),dn.create(r,a+h+d.length+n))})}else i.push({type:"text",content:"",range:Xr.create(dn.create(r,a+h+n),dn.create(r,a+h+n))});a=l+o[0].length}const s=e.substring(a);s.length>0&&i.push({type:"text",content:s,range:Xr.create(dn.create(r,a+n),dn.create(r,a+n+s.length))})}return i}const rUe=/\S/,nUe=/\s*$/;function t9(t,e){const r=t.substring(e).match(rUe);return r?e+r.index:t.length}function iUe(t){const e=t.match(nUe);if(e&&typeof e.index=="number")return e.index}function aUe(t){var e,r,n,i;const a=dn.create(t.position.line,t.position.character);if(t.tokens.length===0)return new eG([],Xr.create(a,a));const s=[];for(;t.index<t.tokens.length;){const u=sUe(t,s[s.length-1]);u&&s.push(u)}const o=(r=(e=s[0])===null||e===void 0?void 0:e.range.start)!==null&&r!==void 0?r:a,l=(i=(n=s[s.length-1])===null||n===void 0?void 0:n.range.end)!==null&&i!==void 0?i:a;return new eG(s,Xr.create(o,l))}function sUe(t,e){const r=t.tokens[t.index];if(r.type==="tag")return boe(t,!1);if(r.type==="text"||r.type==="inline-tag")return xoe(t);oUe(r,e),t.index++}function oUe(t,e){if(e){const r=new Soe("",t.range);"inlines"in e?e.inlines.push(r):e.content.inlines.push(r)}}function xoe(t){let e=t.tokens[t.index];const r=e;let n=e;const i=[];for(;e&&e.type!=="break"&&e.type!=="tag";)i.push(lUe(t)),n=e,e=t.tokens[t.index];return new r9(i,Xr.create(r.range.start,n.range.end))}function lUe(t){return t.tokens[t.index].type==="inline-tag"?boe(t,!0):woe(t)}function boe(t,e){const r=t.tokens[t.index++],n=r.content.substring(1),i=t.tokens[t.index];if((i==null?void 0:i.type)==="text")if(e){const a=woe(t);return new w8(n,new r9([a],a.range),e,Xr.create(r.range.start,a.range.end))}else{const a=xoe(t);return new w8(n,a,e,Xr.create(r.range.start,a.range.end))}else{const a=r.range;return new w8(n,new r9([],a),e,a)}}function woe(t){const e=t.tokens[t.index++];return new Soe(e.content,e.range)}function qN(t){if(!t)return qN({start:"/**",end:"*/",line:"*"});const{start:e,end:r,line:n}=t;return{start:b8(e,!0),end:b8(r,!1),line:b8(n,!0)}}function b8(t,e){if(typeof t=="string"||typeof t=="object"){const r=typeof t=="string"?CT(t):t.source;return e?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return t}class eG{constructor(e,r){this.elements=e,this.range=r}getTag(e){return this.getAllTags().find(r=>r.name===e)}getTags(e){return this.getAllTags().filter(r=>r.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const r of this.elements)if(e.length===0)e=r.toString();else{const n=r.toString();e+=tG(e)+n}return e.trim()}toMarkdown(e){let r="";for(const n of this.elements)if(r.length===0)r=n.toMarkdown(e);else{const i=n.toMarkdown(e);r+=tG(r)+i}return r.trim()}}class w8{constructor(e,r,n,i){this.name=e,this.content=r,this.inline=n,this.range=i}toString(){let e=`@${this.name}`;const r=this.content.toString();return this.content.inlines.length===1?e=`${e} ${r}`:this.content.inlines.length>1&&(e=`${e}
${r}`),this.inline?`{${e}}`:e}toMarkdown(e){var r,n;return(n=(r=e==null?void 0:e.renderTag)===null||r===void 0?void 0:r.call(e,this))!==null&&n!==void 0?n:this.toMarkdownDefault(e)}toMarkdownDefault(e){const r=this.content.toMarkdown(e);if(this.inline){const a=uUe(this.name,r,e??{});if(typeof a=="string")return a}let n="";(e==null?void 0:e.tag)==="italic"||(e==null?void 0:e.tag)===void 0?n="*":(e==null?void 0:e.tag)==="bold"?n="**":(e==null?void 0:e.tag)==="bold-italic"&&(n="***");let i=`${n}@${this.name}${n}`;return this.content.inlines.length===1?i=`${i} — ${r}`:this.content.inlines.length>1&&(i=`${i}
${r}`),this.inline?`{${i}}`:i}}function uUe(t,e,r){var n,i;if(t==="linkplain"||t==="linkcode"||t==="link"){const a=e.indexOf(" ");let s=e;if(a>0){const l=t9(e,a);s=e.substring(l),e=e.substring(0,a)}return(t==="linkcode"||t==="link"&&r.link==="code")&&(s=`\`${s}\``),(i=(n=r.renderLink)===null||n===void 0?void 0:n.call(r,e,s))!==null&&i!==void 0?i:cUe(e,s)}}function cUe(t,e){try{return Im.parse(t,!0),`[${e}](${t})`}catch{return t}}class r9{constructor(e,r){this.inlines=e,this.range=r}toString(){let e="";for(let r=0;r<this.inlines.length;r++){const n=this.inlines[r],i=this.inlines[r+1];e+=n.toString(),i&&i.range.start.line>n.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let r="";for(let n=0;n<this.inlines.length;n++){const i=this.inlines[n],a=this.inlines[n+1];r+=i.toMarkdown(e),a&&a.range.start.line>i.range.start.line&&(r+=`
`)}return r}}class Soe{constructor(e,r){this.text=e,this.range=r}toString(){return this.text}toMarkdown(){return this.text}}function tG(t){return t.endsWith(`
`)?`
`:`

`}class hUe{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const r=this.commentProvider.getComment(e);if(r&&ZVe(r))return QVe(r).toMarkdown({renderLink:(i,a)=>this.documentationLinkRenderer(e,i,a),renderTag:i=>this.documentationTagRenderer(e,i)})}documentationLinkRenderer(e,r,n){var i;const a=(i=this.findNameInPrecomputedScopes(e,r))!==null&&i!==void 0?i:this.findNameInGlobalScope(e,r);if(a&&a.nameSegment){const s=a.nameSegment.range.start.line+1,o=a.nameSegment.range.start.character+1,l=a.documentUri.with({fragment:`L${s},${o}`});return`[${n}](${l.toString()})`}else return}documentationTagRenderer(e,r){}findNameInPrecomputedScopes(e,r){const i=ac(e).precomputedScopes;if(!i)return;let a=e;do{const o=i.get(a).find(l=>l.name===r);if(o)return o;a=a.$container}while(a)}findNameInGlobalScope(e,r){return this.indexManager.allElements().find(i=>i.name===r)}}class fUe{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var r;return PVe(e)?e.$comment:(r=QFe(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||r===void 0?void 0:r.text}}class dUe{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e){return Promise.resolve(this.syncParser.parse(e))}}class pUe{constructor(){this.previousTokenSource=new QL,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const r=new QL;return this.previousTokenSource=r,this.enqueue(this.writeQueue,e,r.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,r,n){const i=new GN,a={action:r,deferred:i,cancellationToken:n??ka.None};return e.push(a),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;const e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:r,deferred:n,cancellationToken:i})=>{try{const a=await Promise.resolve().then(()=>r(i));n.resolve(a)}catch(a){UN(a)?n.resolve(void 0):n.reject(a)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class gUe{constructor(e){this.grammarElementIdMap=new XU,this.tokenTypeIdMap=new XU,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors.map(r=>Object.assign({},r)),parserErrors:e.parserErrors.map(r=>Object.assign({},r)),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}createDehyrationContext(e){const r=new Map,n=new Map;for(const i of i1(e))r.set(i,{});if(e.$cstNode)for(const i of bL(e.$cstNode))n.set(i,{});return{astNodes:r,cstNodes:n}}dehydrateAstNode(e,r){const n=r.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(e.$cstNode,r));for(const[i,a]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(a)){const s=[];n[i]=s;for(const o of a)fs(o)?s.push(this.dehydrateAstNode(o,r)):Xu(o)?s.push(this.dehydrateReference(o,r)):s.push(o)}else fs(a)?n[i]=this.dehydrateAstNode(a,r):Xu(a)?n[i]=this.dehydrateReference(a,r):a!==void 0&&(n[i]=a);return n}dehydrateReference(e,r){const n={};return n.$refText=e.$refText,e.$refNode&&(n.$refNode=r.cstNodes.get(e.$refNode)),n}dehydrateCstNode(e,r){const n=r.cstNodes.get(e);return mae(e)?n.fullText=e.fullText:n.grammarSource=this.getGrammarElementId(e.grammarSource),n.hidden=e.hidden,n.astNode=r.astNodes.get(e.astNode),_m(e)?n.content=e.content.map(i=>this.dehydrateCstNode(i,r)):gae(e)&&(n.tokenType=e.tokenType.name,n.offset=e.offset,n.length=e.length,n.startLine=e.range.start.line,n.startColumn=e.range.start.character,n.endLine=e.range.end.line,n.endColumn=e.range.end.character),n}hydrate(e){const r=e.value,n=this.createHydrationContext(r);return"$cstNode"in r&&this.hydrateCstNode(r.$cstNode,n),{lexerErrors:e.lexerErrors,parserErrors:e.parserErrors,value:this.hydrateAstNode(r,n)}}createHydrationContext(e){const r=new Map,n=new Map;for(const a of i1(e))r.set(a,{});let i;if(e.$cstNode)for(const a of bL(e.$cstNode)){let s;"fullText"in a?(s=new Jse(a.fullText),i=s):"content"in a?s=new HN:"tokenType"in a&&(s=this.hydrateCstLeafNode(a)),s&&(n.set(a,s),s.root=i)}return{astNodes:r,cstNodes:n}}hydrateAstNode(e,r){const n=r.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode&&(n.$cstNode=r.cstNodes.get(e.$cstNode));for(const[i,a]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(a)){const s=[];n[i]=s;for(const o of a)fs(o)?s.push(this.setParent(this.hydrateAstNode(o,r),n)):Xu(o)?s.push(this.hydrateReference(o,n,i,r)):s.push(o)}else fs(a)?n[i]=this.setParent(this.hydrateAstNode(a,r),n):Xu(a)?n[i]=this.hydrateReference(a,n,i,r):a!==void 0&&(n[i]=a);return n}setParent(e,r){return e.$container=r,e}hydrateReference(e,r,n,i){return this.linker.buildReference(r,n,i.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,r,n=0){const i=r.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(e.grammarSource)),i.astNode=r.astNodes.get(e.astNode),_m(i))for(const a of e.content){const s=this.hydrateCstNode(a,r,n++);i.content.push(s)}return i}hydrateCstLeafNode(e){const r=this.getTokenType(e.tokenType),n=e.offset,i=e.length,a=e.startLine,s=e.startColumn,o=e.endLine,l=e.endColumn,u=e.hidden;return new qL(n,i,{start:{line:a,character:s},end:{line:o,character:l}},r,u)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap();const r=this.grammarElementIdMap.getKey(e);if(r)return r;throw new Error("Invalid grammar element id: "+e)}createGrammarElementIdMap(){let e=0;for(const r of i1(this.grammar))eBe(r)&&this.grammarElementIdMap.set(r,e++)}}function hv(t){return{documentation:{CommentProvider:e=>new fUe(e),DocumentationProvider:e=>new hUe(e)},parser:{AsyncParser:e=>new dUe(e),GrammarConfig:e=>e$e(e),LangiumParser:e=>lVe(e),CompletionParser:e=>oVe(e),ValueConverter:()=>new loe,TokenBuilder:()=>new ooe,Lexer:e=>new jVe(e),ParserErrorMessageProvider:()=>new roe},workspace:{AstNodeLocator:()=>new GVe,AstNodeDescriptionProvider:e=>new VVe(e),ReferenceDescriptionProvider:e=>new UVe(e)},references:{Linker:e=>new CVe(e),NameProvider:()=>new _Ve,ScopeProvider:e=>new OVe(e),ScopeComputation:e=>new DVe(e),References:e=>new LVe(e)},serializer:{Hydrator:e=>new gUe(e),JsonSerializer:e=>new FVe(e)},validation:{DocumentValidator:e=>new zVe(e),ValidationRegistry:e=>new $Ve(e)},shared:()=>t.shared}}function fv(t){return{ServiceRegistry:()=>new BVe,workspace:{LangiumDocuments:e=>new TVe(e),LangiumDocumentFactory:e=>new EVe(e),DocumentBuilder:e=>new qVe(e),IndexManager:e=>new YVe(e),WorkspaceManager:e=>new XVe(e),FileSystemProvider:e=>t.fileSystemProvider(e),WorkspaceLock:()=>new pUe,ConfigurationProvider:e=>new WVe(e)}}}var rG;(function(t){t.merge=(e,r)=>tk(tk({},e),r)})(rG||(rG={}));function Ol(t,e,r,n,i,a,s,o,l){const u=[t,e,r,n,i,a,s,o,l].reduce(tk,{});return koe(u)}const nG=Symbol("isProxy");function koe(t,e){const r=new Proxy({},{deleteProperty:()=>!1,get:(n,i)=>aG(n,i,t,e||r),getOwnPropertyDescriptor:(n,i)=>(aG(n,i,t,e||r),Object.getOwnPropertyDescriptor(n,i)),has:(n,i)=>i in t,ownKeys:()=>[...Reflect.ownKeys(t),nG]});return r[nG]=!0,r}const iG=Symbol();function aG(t,e,r,n){if(e in t){if(t[e]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:t[e]});if(t[e]===iG)throw new Error('Cycle detected. Please make "'+String(e)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return t[e]}else if(e in r){const i=r[e];t[e]=iG;try{t[e]=typeof i=="function"?i(n):koe(i,n)}catch(a){throw t[e]=a instanceof Error?a:void 0,a}return t[e]}else return}function tk(t,e){if(e){for(const[r,n]of Object.entries(e))if(n!==void 0){const i=t[r];i!==null&&n!==null&&typeof i=="object"&&typeof n=="object"?t[r]=tk(i,n):t[r]=n}}return t}class mUe{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const dv={fileSystemProvider:()=>new mUe},vUe={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},yUe={AstReflection:()=>new Qae};function xUe(){const t=Ol(fv(dv),yUe),e=Ol(hv({shared:t}),vUe);return t.ServiceRegistry.register(e),e}function Hb(t){var e;const r=xUe(),n=r.serializer.JsonSerializer.deserialize(t);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,Im.parse(`memory://${(e=n.name)!==null&&e!==void 0?e:"grammar"}.langium`)),n}var bUe=Object.defineProperty,rr=(t,e)=>bUe(t,"name",{value:e,configurable:!0}),wUe="Statement",SUe="Architecture";function kUe(t){return Su.isInstance(t,SUe)}rr(kUe,"isArchitecture");var Eoe="Branch";function EUe(t){return Su.isInstance(t,Eoe)}rr(EUe,"isBranch");var TUe="Checkout",CUe="CherryPicking",Toe="Commit";function AUe(t){return Su.isInstance(t,Toe)}rr(AUe,"isCommit");var _Ue="Common";function LUe(t){return Su.isInstance(t,_Ue)}rr(LUe,"isCommon");var Coe="GitGraph";function DUe(t){return Su.isInstance(t,Coe)}rr(DUe,"isGitGraph");var RUe="Info";function MUe(t){return Su.isInstance(t,RUe)}rr(MUe,"isInfo");var Aoe="Merge";function NUe(t){return Su.isInstance(t,Aoe)}rr(NUe,"isMerge");var IUe="Packet";function OUe(t){return Su.isInstance(t,IUe)}rr(OUe,"isPacket");var PUe="PacketBlock";function FUe(t){return Su.isInstance(t,PUe)}rr(FUe,"isPacketBlock");var BUe="Pie";function $Ue(t){return Su.isInstance(t,BUe)}rr($Ue,"isPie");var zUe="PieSection";function HUe(t){return Su.isInstance(t,zUe)}rr(HUe,"isPieSection");var VUe="Direction",E1,_oe=(E1=class extends pae{getAllTypes(){return["Architecture","Branch","Checkout","CherryPicking","Commit","Common","Direction","Edge","GitGraph","Group","Info","Junction","Merge","Packet","PacketBlock","Pie","PieSection","Service","Statement"]}computeIsSubtype(e,r){switch(e){case Eoe:case TUe:case CUe:case Toe:case Aoe:return this.isSubtype(wUe,r);case VUe:return this.isSubtype(Coe,r);default:return!1}}getReferenceType(e){const r=`${e.container.$type}:${e.property}`;switch(r){default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case"Architecture":return{name:"Architecture",properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case"Branch":return{name:"Branch",properties:[{name:"name"},{name:"order"}]};case"Checkout":return{name:"Checkout",properties:[{name:"branch"}]};case"CherryPicking":return{name:"CherryPicking",properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case"Commit":return{name:"Commit",properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Common":return{name:"Common",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Edge":return{name:"Edge",properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case"GitGraph":return{name:"GitGraph",properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case"Group":return{name:"Group",properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case"Info":return{name:"Info",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Junction":return{name:"Junction",properties:[{name:"id"},{name:"in"}]};case"Merge":return{name:"Merge",properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Packet":return{name:"Packet",properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case"PacketBlock":return{name:"PacketBlock",properties:[{name:"end"},{name:"label"},{name:"start"}]};case"Pie":return{name:"Pie",properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case"PieSection":return{name:"PieSection",properties:[{name:"label"},{name:"value"}]};case"Service":return{name:"Service",properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case"Direction":return{name:"Direction",properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:e,properties:[]}}}},rr(E1,"MermaidAstReflection"),E1),Su=new _oe,sG,UUe=rr(()=>sG??(sG=Hb('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"InfoGrammar"),oG,GUe=rr(()=>oG??(oG=Hb(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","name":"Packet","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),lG,WUe=rr(()=>lG??(lG=Hb('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"PieGrammar"),uG,qUe=rr(()=>uG??(uG=Hb('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","name":"Architecture","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","fragment":true,"definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LeftPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RightPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Arrow","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),cG,YUe=rr(()=>cG??(cG=Hb(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","name":"GitGraph","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),XUe={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},jUe={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},KUe={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},QUe={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},ZUe={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Vb={AstReflection:rr(()=>new _oe,"AstReflection")},JUe={Grammar:rr(()=>UUe(),"Grammar"),LanguageMetaData:rr(()=>XUe,"LanguageMetaData"),parser:{}},eGe={Grammar:rr(()=>GUe(),"Grammar"),LanguageMetaData:rr(()=>jUe,"LanguageMetaData"),parser:{}},tGe={Grammar:rr(()=>WUe(),"Grammar"),LanguageMetaData:rr(()=>KUe,"LanguageMetaData"),parser:{}},rGe={Grammar:rr(()=>qUe(),"Grammar"),LanguageMetaData:rr(()=>QUe,"LanguageMetaData"),parser:{}},nGe={Grammar:rr(()=>YUe(),"Grammar"),LanguageMetaData:rr(()=>ZUe,"LanguageMetaData"),parser:{}},iGe=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,aGe=/accTitle[\t ]*:([^\n\r]*)/,sGe=/title([\t ][^\n\r]*|)/,oGe={ACC_DESCR:iGe,ACC_TITLE:aGe,TITLE:sGe},T1,YN=(T1=class extends loe{runConverter(e,r,n){let i=this.runCommonConverter(e,r,n);return i===void 0&&(i=this.runCustomConverter(e,r,n)),i===void 0?super.runConverter(e,r,n):i}runCommonConverter(e,r,n){const i=oGe[e.name];if(i===void 0)return;const a=i.exec(r);if(a!==null){if(a[1]!==void 0)return a[1].trim().replace(/[\t ]{2,}/gm," ");if(a[2]!==void 0)return a[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},rr(T1,"AbstractMermaidValueConverter"),T1),C1,XN=(C1=class extends YN{runCustomConverter(e,r,n){}},rr(C1,"CommonValueConverter"),C1),A1,pv=(A1=class extends ooe{constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,r,n){const i=super.buildKeywordTokens(e,r,n);return i.forEach(a=>{this.keywords.has(a.name)&&a.PATTERN!==void 0&&(a.PATTERN=new RegExp(a.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),i}},rr(A1,"AbstractMermaidTokenBuilder"),A1),_1;_1=class extends pv{},rr(_1,"CommonTokenBuilder");var L1,lGe=(L1=class extends pv{constructor(){super(["gitGraph"])}},rr(L1,"GitGraphTokenBuilder"),L1),Loe={parser:{TokenBuilder:rr(()=>new lGe,"TokenBuilder"),ValueConverter:rr(()=>new XN,"ValueConverter")}};function Doe(t=dv){const e=Ol(fv(t),Vb),r=Ol(hv({shared:e}),nGe,Loe);return e.ServiceRegistry.register(r),{shared:e,GitGraph:r}}rr(Doe,"createGitGraphServices");var D1,uGe=(D1=class extends pv{constructor(){super(["info","showInfo"])}},rr(D1,"InfoTokenBuilder"),D1),Roe={parser:{TokenBuilder:rr(()=>new uGe,"TokenBuilder"),ValueConverter:rr(()=>new XN,"ValueConverter")}};function Moe(t=dv){const e=Ol(fv(t),Vb),r=Ol(hv({shared:e}),JUe,Roe);return e.ServiceRegistry.register(r),{shared:e,Info:r}}rr(Moe,"createInfoServices");var R1,cGe=(R1=class extends pv{constructor(){super(["packet-beta"])}},rr(R1,"PacketTokenBuilder"),R1),Noe={parser:{TokenBuilder:rr(()=>new cGe,"TokenBuilder"),ValueConverter:rr(()=>new XN,"ValueConverter")}};function Ioe(t=dv){const e=Ol(fv(t),Vb),r=Ol(hv({shared:e}),eGe,Noe);return e.ServiceRegistry.register(r),{shared:e,Packet:r}}rr(Ioe,"createPacketServices");var M1,hGe=(M1=class extends pv{constructor(){super(["pie","showData"])}},rr(M1,"PieTokenBuilder"),M1),N1,fGe=(N1=class extends YN{runCustomConverter(e,r,n){if(e.name==="PIE_SECTION_LABEL")return r.replace(/"/g,"").trim()}},rr(N1,"PieValueConverter"),N1),Ooe={parser:{TokenBuilder:rr(()=>new hGe,"TokenBuilder"),ValueConverter:rr(()=>new fGe,"ValueConverter")}};function Poe(t=dv){const e=Ol(fv(t),Vb),r=Ol(hv({shared:e}),tGe,Ooe);return e.ServiceRegistry.register(r),{shared:e,Pie:r}}rr(Poe,"createPieServices");var I1,dGe=(I1=class extends pv{constructor(){super(["architecture"])}},rr(I1,"ArchitectureTokenBuilder"),I1),O1,pGe=(O1=class extends YN{runCustomConverter(e,r,n){if(e.name==="ARCH_ICON")return r.replace(/[()]/g,"").trim();if(e.name==="ARCH_TEXT_ICON")return r.replace(/["()]/g,"");if(e.name==="ARCH_TITLE")return r.replace(/[[\]]/g,"").trim()}},rr(O1,"ArchitectureValueConverter"),O1),Foe={parser:{TokenBuilder:rr(()=>new dGe,"TokenBuilder"),ValueConverter:rr(()=>new pGe,"ValueConverter")}};function Boe(t=dv){const e=Ol(fv(t),Vb),r=Ol(hv({shared:e}),rGe,Foe);return e.ServiceRegistry.register(r),{shared:e,Architecture:r}}rr(Boe,"createArchitectureServices");var Jd={},gGe={info:rr(async()=>{const{createInfoServices:t}=await sn(async()=>{const{createInfoServices:r}=await Promise.resolve().then(()=>sut);return{createInfoServices:r}},void 0,import.meta.url),e=t().Info.parser.LangiumParser;Jd.info=e},"info"),packet:rr(async()=>{const{createPacketServices:t}=await sn(async()=>{const{createPacketServices:r}=await Promise.resolve().then(()=>out);return{createPacketServices:r}},void 0,import.meta.url),e=t().Packet.parser.LangiumParser;Jd.packet=e},"packet"),pie:rr(async()=>{const{createPieServices:t}=await sn(async()=>{const{createPieServices:r}=await Promise.resolve().then(()=>lut);return{createPieServices:r}},void 0,import.meta.url),e=t().Pie.parser.LangiumParser;Jd.pie=e},"pie"),architecture:rr(async()=>{const{createArchitectureServices:t}=await sn(async()=>{const{createArchitectureServices:r}=await Promise.resolve().then(()=>uut);return{createArchitectureServices:r}},void 0,import.meta.url),e=t().Architecture.parser.LangiumParser;Jd.architecture=e},"architecture"),gitGraph:rr(async()=>{const{createGitGraphServices:t}=await sn(async()=>{const{createGitGraphServices:r}=await Promise.resolve().then(()=>cut);return{createGitGraphServices:r}},void 0,import.meta.url),e=t().GitGraph.parser.LangiumParser;Jd.gitGraph=e},"gitGraph")};async function gv(t,e){const r=gGe[t];if(!r)throw new Error(`Unknown diagram type: ${t}`);Jd[t]||await r();const i=Jd[t].parse(e);if(i.lexerErrors.length>0||i.parserErrors.length>0)throw new mGe(i);return i.value}rr(gv,"parse");var P1,mGe=(P1=class extends Error{constructor(e){const r=e.lexerErrors.map(i=>i.message).join(`
`),n=e.parserErrors.map(i=>i.message).join(`
`);super(`Parsing failed: ${r} ${n}`),this.result=e}},rr(P1,"MermaidParseError"),P1),Sn={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},vGe=Zr.gitGraph,_p=k(()=>Dh({...vGe,...ai().gitGraph}),"getConfig"),zt=new SN(()=>{const t=_p(),e=t.mainBranchName,r=t.mainBranchOrder;return{mainBranchName:e,commits:new Map,head:null,branchConfig:new Map([[e,{name:e,order:r}]]),branches:new Map([[e,null]]),currBranch:e,direction:"LR",seq:0,options:{}}});function PT(){return bJ({length:7})}k(PT,"getID");function $oe(t,e){const r=Object.create(null);return t.reduce((n,i)=>{const a=e(i);return r[a]||(r[a]=!0,n.push(i)),n},[])}k($oe,"uniqBy");var yGe=k(function(t){zt.records.direction=t},"setDirection"),xGe=k(function(t){Ee.debug("options str",t),t=t==null?void 0:t.trim(),t=t||"{}";try{zt.records.options=JSON.parse(t)}catch(e){Ee.error("error while parsing gitGraph options",e.message)}},"setOptions"),bGe=k(function(){return zt.records.options},"getOptions"),wGe=k(function(t){let e=t.msg,r=t.id;const n=t.type;let i=t.tags;Ee.info("commit",e,r,n,i),Ee.debug("Entering commit:",e,r,n,i);const a=_p();r=At.sanitizeText(r,a),e=At.sanitizeText(e,a),i=i==null?void 0:i.map(o=>At.sanitizeText(o,a));const s={id:r||zt.records.seq+"-"+PT(),message:e,seq:zt.records.seq++,type:n??Sn.NORMAL,tags:i??[],parents:zt.records.head==null?[]:[zt.records.head.id],branch:zt.records.currBranch};zt.records.head=s,Ee.info("main branch",a.mainBranchName),zt.records.commits.set(s.id,s),zt.records.branches.set(zt.records.currBranch,s.id),Ee.debug("in pushCommit "+s.id)},"commit"),SGe=k(function(t){let e=t.name;const r=t.order;if(e=At.sanitizeText(e,_p()),zt.records.branches.has(e))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${e}")`);zt.records.branches.set(e,zt.records.head!=null?zt.records.head.id:null),zt.records.branchConfig.set(e,{name:e,order:r}),zoe(e),Ee.debug("in createBranch")},"branch"),kGe=k(t=>{let e=t.branch,r=t.id;const n=t.type,i=t.tags,a=_p();e=At.sanitizeText(e,a),r&&(r=At.sanitizeText(r,a));const s=zt.records.branches.get(zt.records.currBranch),o=zt.records.branches.get(e),l=s?zt.records.commits.get(s):void 0,u=o?zt.records.commits.get(o):void 0;if(l&&u&&l.branch===e)throw new Error(`Cannot merge branch '${e}' into itself.`);if(zt.records.currBranch===e){const d=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw d.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["branch abc"]},d}if(l===void 0||!l){const d=new Error(`Incorrect usage of "merge". Current branch (${zt.records.currBranch})has no commits`);throw d.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["commit"]},d}if(!zt.records.branches.has(e)){const d=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") does not exist");throw d.hash={text:`merge ${e}`,token:`merge ${e}`,expected:[`branch ${e}`]},d}if(u===void 0||!u){const d=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") has no commits");throw d.hash={text:`merge ${e}`,token:`merge ${e}`,expected:['"commit"']},d}if(l===u){const d=new Error('Incorrect usage of "merge". Both branches have same head');throw d.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["branch abc"]},d}if(r&&zt.records.commits.has(r)){const d=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom Id");throw d.hash={text:`merge ${e} ${r} ${n} ${i==null?void 0:i.join(" ")}`,token:`merge ${e} ${r} ${n} ${i==null?void 0:i.join(" ")}`,expected:[`merge ${e} ${r}_UNIQUE ${n} ${i==null?void 0:i.join(" ")}`]},d}const h=o||"",f={id:r||`${zt.records.seq}-${PT()}`,message:`merged branch ${e} into ${zt.records.currBranch}`,seq:zt.records.seq++,parents:zt.records.head==null?[]:[zt.records.head.id,h],branch:zt.records.currBranch,type:Sn.MERGE,customType:n,customId:!!r,tags:i??[]};zt.records.head=f,zt.records.commits.set(f.id,f),zt.records.branches.set(zt.records.currBranch,f.id),Ee.debug(zt.records.branches),Ee.debug("in mergeBranch")},"merge"),EGe=k(function(t){let e=t.id,r=t.targetId,n=t.tags,i=t.parent;Ee.debug("Entering cherryPick:",e,r,n);const a=_p();if(e=At.sanitizeText(e,a),r=At.sanitizeText(r,a),n=n==null?void 0:n.map(l=>At.sanitizeText(l,a)),i=At.sanitizeText(i,a),!e||!zt.records.commits.has(e)){const l=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw l.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},l}const s=zt.records.commits.get(e);if(s===void 0||!s)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(i&&!(Array.isArray(s.parents)&&s.parents.includes(i)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");const o=s.branch;if(s.type===Sn.MERGE&&!i)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!zt.records.commits.has(r)){if(o===zt.records.currBranch){const f=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw f.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},f}const l=zt.records.branches.get(zt.records.currBranch);if(l===void 0||!l){const f=new Error(`Incorrect usage of "cherry-pick". Current branch (${zt.records.currBranch})has no commits`);throw f.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},f}const u=zt.records.commits.get(l);if(u===void 0||!u){const f=new Error(`Incorrect usage of "cherry-pick". Current branch (${zt.records.currBranch})has no commits`);throw f.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},f}const h={id:zt.records.seq+"-"+PT(),message:`cherry-picked ${s==null?void 0:s.message} into ${zt.records.currBranch}`,seq:zt.records.seq++,parents:zt.records.head==null?[]:[zt.records.head.id,s.id],branch:zt.records.currBranch,type:Sn.CHERRY_PICK,tags:n?n.filter(Boolean):[`cherry-pick:${s.id}${s.type===Sn.MERGE?`|parent:${i}`:""}`]};zt.records.head=h,zt.records.commits.set(h.id,h),zt.records.branches.set(zt.records.currBranch,h.id),Ee.debug(zt.records.branches),Ee.debug("in cherryPick")}},"cherryPick"),zoe=k(function(t){if(t=At.sanitizeText(t,_p()),zt.records.branches.has(t)){zt.records.currBranch=t;const e=zt.records.branches.get(zt.records.currBranch);e===void 0||!e?zt.records.head=null:zt.records.head=zt.records.commits.get(e)??null}else{const e=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${t}")`);throw e.hash={text:`checkout ${t}`,token:`checkout ${t}`,expected:[`branch ${t}`]},e}},"checkout");function n9(t,e,r){const n=t.indexOf(e);n===-1?t.push(r):t.splice(n,1,r)}k(n9,"upsert");function jN(t){const e=t.reduce((i,a)=>i.seq>a.seq?i:a,t[0]);let r="";t.forEach(function(i){i===e?r+="	*":r+="	|"});const n=[r,e.id,e.seq];for(const i in zt.records.branches)zt.records.branches.get(i)===e.id&&n.push(i);if(Ee.debug(n.join(" ")),e.parents&&e.parents.length==2&&e.parents[0]&&e.parents[1]){const i=zt.records.commits.get(e.parents[0]);n9(t,e,i),e.parents[1]&&t.push(zt.records.commits.get(e.parents[1]))}else{if(e.parents.length==0)return;if(e.parents[0]){const i=zt.records.commits.get(e.parents[0]);n9(t,e,i)}}t=$oe(t,i=>i.id),jN(t)}k(jN,"prettyPrintCommitHistory");var TGe=k(function(){Ee.debug(zt.records.commits);const t=Hoe()[0];jN([t])},"prettyPrint"),CGe=k(function(){zt.reset(),Ea()},"clear"),AGe=k(function(){return[...zt.records.branchConfig.values()].map((e,r)=>e.order!==null&&e.order!==void 0?e:{...e,order:parseFloat(`0.${r}`)}).sort((e,r)=>(e.order??0)-(r.order??0)).map(({name:e})=>({name:e}))},"getBranchesAsObjArray"),_Ge=k(function(){return zt.records.branches},"getBranches"),LGe=k(function(){return zt.records.commits},"getCommits"),Hoe=k(function(){const t=[...zt.records.commits.values()];return t.forEach(function(e){Ee.debug(e.id)}),t.sort((e,r)=>e.seq-r.seq),t},"getCommitsArray"),DGe=k(function(){return zt.records.currBranch},"getCurrentBranch"),RGe=k(function(){return zt.records.direction},"getDirection"),MGe=k(function(){return zt.records.head},"getHead"),Voe={commitType:Sn,getConfig:_p,setDirection:yGe,setOptions:xGe,getOptions:bGe,commit:wGe,branch:SGe,merge:kGe,cherryPick:EGe,checkout:zoe,prettyPrint:TGe,clear:CGe,getBranchesAsObjArray:AGe,getBranches:_Ge,getCommits:LGe,getCommitsArray:Hoe,getCurrentBranch:DGe,getDirection:RGe,getHead:MGe,setAccTitle:Ta,getAccTitle:Wa,getAccDescription:Ya,setAccDescription:qa,setDiagramTitle:js,getDiagramTitle:Xa},NGe=k((t,e)=>{Ib(t,e),t.dir&&e.setDirection(t.dir);for(const r of t.statements)IGe(r,e)},"populate"),IGe=k((t,e)=>{const n={Commit:k(i=>e.commit(OGe(i)),"Commit"),Branch:k(i=>e.branch(PGe(i)),"Branch"),Merge:k(i=>e.merge(FGe(i)),"Merge"),Checkout:k(i=>e.checkout(BGe(i)),"Checkout"),CherryPicking:k(i=>e.cherryPick($Ge(i)),"CherryPicking")}[t.$type];n?n(t):Ee.error(`Unknown statement type: ${t.$type}`)},"parseStatement"),OGe=k(t=>({id:t.id,msg:t.message??"",type:t.type!==void 0?Sn[t.type]:Sn.NORMAL,tags:t.tags??void 0}),"parseCommit"),PGe=k(t=>({name:t.name,order:t.order??0}),"parseBranch"),FGe=k(t=>({branch:t.branch,id:t.id??"",type:t.type!==void 0?Sn[t.type]:void 0,tags:t.tags??void 0}),"parseMerge"),BGe=k(t=>t.branch,"parseCheckout"),$Ge=k(t=>{var r;return{id:t.id,targetId:"",tags:((r=t.tags)==null?void 0:r.length)===0?void 0:t.tags,parent:t.parent}},"parseCherryPicking"),zGe={parse:k(async t=>{const e=await gv("gitGraph",t);Ee.debug(e),NGe(e,Voe)},"parse")},S8=Ue(),Hi=S8==null?void 0:S8.gitGraph,wf=10,Sf=40,Iu=4,zc=2,e0=8,ho=new Map,bo=new Map,rk=30,r2=new Map,nk=[],ff=0,qr="LR",HGe=k(()=>{ho.clear(),bo.clear(),r2.clear(),ff=0,nk=[],qr="LR"},"clear"),Uoe=k(t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof t=="string"?t.split(/\\n|\n|<br\s*\/?>/gi):t).forEach(n=>{const i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=n.trim(),e.appendChild(i)}),e},"drawText"),Goe=k(t=>{let e,r,n;return qr==="BT"?(r=k((i,a)=>i<=a,"comparisonFunc"),n=1/0):(r=k((i,a)=>i>=a,"comparisonFunc"),n=0),t.forEach(i=>{var s,o;const a=qr==="TB"||qr=="BT"?(s=bo.get(i))==null?void 0:s.y:(o=bo.get(i))==null?void 0:o.x;a!==void 0&&r(a,n)&&(e=i,n=a)}),e},"findClosestParent"),VGe=k(t=>{let e="",r=1/0;return t.forEach(n=>{const i=bo.get(n).y;i<=r&&(e=n,r=i)}),e||void 0},"findClosestParentBT"),UGe=k((t,e,r)=>{let n=r,i=r;const a=[];t.forEach(s=>{const o=e.get(s);if(!o)throw new Error(`Commit not found for key ${s}`);o.parents.length?(n=WGe(o),i=Math.max(n,i)):a.push(o),qGe(o,n)}),n=i,a.forEach(s=>{YGe(s,n,r)}),t.forEach(s=>{const o=e.get(s);if(o!=null&&o.parents.length){const l=VGe(o.parents);n=bo.get(l).y-Sf,n<=i&&(i=n);const u=ho.get(o.branch).pos,h=n-wf;bo.set(o.id,{x:u,y:h})}})},"setParallelBTPos"),GGe=k(t=>{var n;const e=Goe(t.parents.filter(i=>i!==null));if(!e)throw new Error(`Closest parent not found for commit ${t.id}`);const r=(n=bo.get(e))==null?void 0:n.y;if(r===void 0)throw new Error(`Closest parent position not found for commit ${t.id}`);return r},"findClosestParentPos"),WGe=k(t=>GGe(t)+Sf,"calculateCommitPosition"),qGe=k((t,e)=>{const r=ho.get(t.branch);if(!r)throw new Error(`Branch not found for commit ${t.id}`);const n=r.pos,i=e+wf;return bo.set(t.id,{x:n,y:i}),{x:n,y:i}},"setCommitPosition"),YGe=k((t,e,r)=>{const n=ho.get(t.branch);if(!n)throw new Error(`Branch not found for commit ${t.id}`);const i=e+r,a=n.pos;bo.set(t.id,{x:a,y:i})},"setRootPosition"),XGe=k((t,e,r,n,i,a)=>{if(a===Sn.HIGHLIGHT)t.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${e.id} commit-highlight${i%e0} ${n}-outer`),t.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${e.id} commit${i%e0} ${n}-inner`);else if(a===Sn.CHERRY_PICK)t.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${e.id} ${n}`),t.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${e.id} ${n}`),t.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${e.id} ${n}`),t.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${e.id} ${n}`),t.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${e.id} ${n}`);else{const s=t.append("circle");if(s.attr("cx",r.x),s.attr("cy",r.y),s.attr("r",e.type===Sn.MERGE?9:10),s.attr("class",`commit ${e.id} commit${i%e0}`),a===Sn.MERGE){const o=t.append("circle");o.attr("cx",r.x),o.attr("cy",r.y),o.attr("r",6),o.attr("class",`commit ${n} ${e.id} commit${i%e0}`)}a===Sn.REVERSE&&t.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${n} ${e.id} commit${i%e0}`)}},"drawCommitBullet"),jGe=k((t,e,r,n)=>{var i;if(e.type!==Sn.CHERRY_PICK&&(e.customId&&e.type===Sn.MERGE||e.type!==Sn.MERGE)&&(Hi!=null&&Hi.showCommitLabel)){const a=t.append("g"),s=a.insert("rect").attr("class","commit-label-bkg"),o=a.append("text").attr("x",n).attr("y",r.y+25).attr("class","commit-label").text(e.id),l=(i=o.node())==null?void 0:i.getBBox();if(l&&(s.attr("x",r.posWithOffset-l.width/2-zc).attr("y",r.y+13.5).attr("width",l.width+2*zc).attr("height",l.height+2*zc),qr==="TB"||qr==="BT"?(s.attr("x",r.x-(l.width+4*Iu+5)).attr("y",r.y-12),o.attr("x",r.x-(l.width+4*Iu)).attr("y",r.y+l.height-12)):o.attr("x",r.posWithOffset-l.width/2),Hi.rotateCommitLabel))if(qr==="TB"||qr==="BT")o.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),s.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{const u=-7.5-(l.width+10)/25*9.5,h=10+l.width/25*8.5;a.attr("transform","translate("+u+", "+h+") rotate(-45, "+n+", "+r.y+")")}}},"drawCommitLabel"),KGe=k((t,e,r,n)=>{var i;if(e.tags.length>0){let a=0,s=0,o=0;const l=[];for(const u of e.tags.reverse()){const h=t.insert("polygon"),f=t.append("circle"),d=t.append("text").attr("y",r.y-16-a).attr("class","tag-label").text(u),p=(i=d.node())==null?void 0:i.getBBox();if(!p)throw new Error("Tag bbox not found");s=Math.max(s,p.width),o=Math.max(o,p.height),d.attr("x",r.posWithOffset-p.width/2),l.push({tag:d,hole:f,rect:h,yOffset:a}),a+=20}for(const{tag:u,hole:h,rect:f,yOffset:d}of l){const p=o/2,m=r.y-19.2-d;if(f.attr("class","tag-label-bkg").attr("points",`
      ${n-s/2-Iu/2},${m+zc}  
      ${n-s/2-Iu/2},${m-zc}
      ${r.posWithOffset-s/2-Iu},${m-p-zc}
      ${r.posWithOffset+s/2+Iu},${m-p-zc}
      ${r.posWithOffset+s/2+Iu},${m+p+zc}
      ${r.posWithOffset-s/2-Iu},${m+p+zc}`),h.attr("cy",m).attr("cx",n-s/2+Iu/2).attr("r",1.5).attr("class","tag-hole"),qr==="TB"||qr==="BT"){const v=n+d;f.attr("class","tag-label-bkg").attr("points",`
        ${r.x},${v+2}
        ${r.x},${v-2}
        ${r.x+wf},${v-p-2}
        ${r.x+wf+s+4},${v-p-2}
        ${r.x+wf+s+4},${v+p+2}
        ${r.x+wf},${v+p+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),h.attr("cx",r.x+Iu/2).attr("cy",v).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),u.attr("x",r.x+5).attr("y",v+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+n+")")}}}},"drawCommitTags"),QGe=k(t=>{switch(t.customType??t.type){case Sn.NORMAL:return"commit-normal";case Sn.REVERSE:return"commit-reverse";case Sn.HIGHLIGHT:return"commit-highlight";case Sn.MERGE:return"commit-merge";case Sn.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),ZGe=k((t,e,r,n)=>{const i={x:0,y:0};if(t.parents.length>0){const a=Goe(t.parents);if(a){const s=n.get(a)??i;return e==="TB"?s.y+Sf:e==="BT"?(n.get(t.id)??i).y-Sf:s.x+Sf}}else return e==="TB"?rk:e==="BT"?(n.get(t.id)??i).y-Sf:0;return 0},"calculatePosition"),JGe=k((t,e,r)=>{var s,o;const n=qr==="BT"&&r?e:e+wf,i=qr==="TB"||qr==="BT"?n:(s=ho.get(t.branch))==null?void 0:s.pos,a=qr==="TB"||qr==="BT"?(o=ho.get(t.branch))==null?void 0:o.pos:n;if(a===void 0||i===void 0)throw new Error(`Position were undefined for commit ${t.id}`);return{x:a,y:i,posWithOffset:n}},"getCommitPosition"),hG=k((t,e,r)=>{if(!Hi)throw new Error("GitGraph config not found");const n=t.append("g").attr("class","commit-bullets"),i=t.append("g").attr("class","commit-labels");let a=qr==="TB"||qr==="BT"?rk:0;const s=[...e.keys()],o=(Hi==null?void 0:Hi.parallelCommits)??!1,l=k((h,f)=>{var m,v;const d=(m=e.get(h))==null?void 0:m.seq,p=(v=e.get(f))==null?void 0:v.seq;return d!==void 0&&p!==void 0?d-p:0},"sortKeys");let u=s.sort(l);qr==="BT"&&(o&&UGe(u,e,a),u=u.reverse()),u.forEach(h=>{var p;const f=e.get(h);if(!f)throw new Error(`Commit not found for key ${h}`);o&&(a=ZGe(f,qr,a,bo));const d=JGe(f,a,o);if(r){const m=QGe(f),v=f.customType??f.type,x=((p=ho.get(f.branch))==null?void 0:p.index)??0;XGe(n,f,d,m,x,v),jGe(i,f,d,a),KGe(i,f,d,a)}qr==="TB"||qr==="BT"?bo.set(f.id,{x:d.x,y:d.posWithOffset}):bo.set(f.id,{x:d.posWithOffset,y:d.y}),a=qr==="BT"&&o?a+Sf:a+Sf+wf,a>ff&&(ff=a)})},"drawCommits"),eWe=k((t,e,r,n,i)=>{const s=(qr==="TB"||qr==="BT"?r.x<n.x:r.y<n.y)?e.branch:t.branch,o=k(u=>u.branch===s,"isOnBranchToGetCurve"),l=k(u=>u.seq>t.seq&&u.seq<e.seq,"isBetweenCommits");return[...i.values()].some(u=>l(u)&&o(u))},"shouldRerouteArrow"),n2=k((t,e,r=0)=>{const n=t+Math.abs(t-e)/2;if(r>5)return n;if(nk.every(s=>Math.abs(s-n)>=10))return nk.push(n),n;const a=Math.abs(t-e);return n2(t,e-a/5,r+1)},"findLane"),tWe=k((t,e,r,n)=>{var p,m,v,x,y;const i=bo.get(e.id),a=bo.get(r.id);if(i===void 0||a===void 0)throw new Error(`Commit positions not found for commits ${e.id} and ${r.id}`);const s=eWe(e,r,i,a,n);let o="",l="",u=0,h=0,f=(p=ho.get(r.branch))==null?void 0:p.index;r.type===Sn.MERGE&&e.id!==r.parents[0]&&(f=(m=ho.get(e.branch))==null?void 0:m.index);let d;if(s){o="A 10 10, 0, 0, 0,",l="A 10 10, 0, 0, 1,",u=10,h=10;const w=i.y<a.y?n2(i.y,a.y):n2(a.y,i.y),S=i.x<a.x?n2(i.x,a.x):n2(a.x,i.x);qr==="TB"?i.x<a.x?d=`M ${i.x} ${i.y} L ${S-u} ${i.y} ${l} ${S} ${i.y+h} L ${S} ${a.y-u} ${o} ${S+h} ${a.y} L ${a.x} ${a.y}`:(f=(v=ho.get(e.branch))==null?void 0:v.index,d=`M ${i.x} ${i.y} L ${S+u} ${i.y} ${o} ${S} ${i.y+h} L ${S} ${a.y-u} ${l} ${S-h} ${a.y} L ${a.x} ${a.y}`):qr==="BT"?i.x<a.x?d=`M ${i.x} ${i.y} L ${S-u} ${i.y} ${o} ${S} ${i.y-h} L ${S} ${a.y+u} ${l} ${S+h} ${a.y} L ${a.x} ${a.y}`:(f=(x=ho.get(e.branch))==null?void 0:x.index,d=`M ${i.x} ${i.y} L ${S+u} ${i.y} ${l} ${S} ${i.y-h} L ${S} ${a.y+u} ${o} ${S-h} ${a.y} L ${a.x} ${a.y}`):i.y<a.y?d=`M ${i.x} ${i.y} L ${i.x} ${w-u} ${o} ${i.x+h} ${w} L ${a.x-u} ${w} ${l} ${a.x} ${w+h} L ${a.x} ${a.y}`:(f=(y=ho.get(e.branch))==null?void 0:y.index,d=`M ${i.x} ${i.y} L ${i.x} ${w+u} ${l} ${i.x+h} ${w} L ${a.x-u} ${w} ${o} ${a.x} ${w-h} L ${a.x} ${a.y}`)}else o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,qr==="TB"?(i.x<a.x&&(r.type===Sn.MERGE&&e.id!==r.parents[0]?d=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${o} ${i.x+h} ${a.y} L ${a.x} ${a.y}`:d=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${l} ${a.x} ${i.y+h} L ${a.x} ${a.y}`),i.x>a.x&&(o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,r.type===Sn.MERGE&&e.id!==r.parents[0]?d=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${l} ${i.x-h} ${a.y} L ${a.x} ${a.y}`:d=`M ${i.x} ${i.y} L ${a.x+u} ${i.y} ${o} ${a.x} ${i.y+h} L ${a.x} ${a.y}`),i.x===a.x&&(d=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):qr==="BT"?(i.x<a.x&&(r.type===Sn.MERGE&&e.id!==r.parents[0]?d=`M ${i.x} ${i.y} L ${i.x} ${a.y+u} ${l} ${i.x+h} ${a.y} L ${a.x} ${a.y}`:d=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${o} ${a.x} ${i.y-h} L ${a.x} ${a.y}`),i.x>a.x&&(o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,r.type===Sn.MERGE&&e.id!==r.parents[0]?d=`M ${i.x} ${i.y} L ${i.x} ${a.y+u} ${o} ${i.x-h} ${a.y} L ${a.x} ${a.y}`:d=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${o} ${a.x} ${i.y-h} L ${a.x} ${a.y}`),i.x===a.x&&(d=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):(i.y<a.y&&(r.type===Sn.MERGE&&e.id!==r.parents[0]?d=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${l} ${a.x} ${i.y+h} L ${a.x} ${a.y}`:d=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${o} ${i.x+h} ${a.y} L ${a.x} ${a.y}`),i.y>a.y&&(r.type===Sn.MERGE&&e.id!==r.parents[0]?d=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${o} ${a.x} ${i.y-h} L ${a.x} ${a.y}`:d=`M ${i.x} ${i.y} L ${i.x} ${a.y+u} ${l} ${i.x+h} ${a.y} L ${a.x} ${a.y}`),i.y===a.y&&(d=`M ${i.x} ${i.y} L ${a.x} ${a.y}`));if(d===void 0)throw new Error("Line definition not found");t.append("path").attr("d",d).attr("class","arrow arrow"+f%e0)},"drawArrow"),rWe=k((t,e)=>{const r=t.append("g").attr("class","commit-arrows");[...e.keys()].forEach(n=>{const i=e.get(n);i.parents&&i.parents.length>0&&i.parents.forEach(a=>{tWe(r,e.get(a),i,e)})})},"drawArrows"),nWe=k((t,e)=>{const r=t.append("g");e.forEach((n,i)=>{var m;const a=i%e0,s=(m=ho.get(n.name))==null?void 0:m.pos;if(s===void 0)throw new Error(`Position not found for branch ${n.name}`);const o=r.append("line");o.attr("x1",0),o.attr("y1",s),o.attr("x2",ff),o.attr("y2",s),o.attr("class","branch branch"+a),qr==="TB"?(o.attr("y1",rk),o.attr("x1",s),o.attr("y2",ff),o.attr("x2",s)):qr==="BT"&&(o.attr("y1",ff),o.attr("x1",s),o.attr("y2",rk),o.attr("x2",s)),nk.push(s);const l=n.name,u=Uoe(l),h=r.insert("rect"),d=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+a);d.node().appendChild(u);const p=u.getBBox();h.attr("class","branchLabelBkg label"+a).attr("rx",4).attr("ry",4).attr("x",-p.width-4-((Hi==null?void 0:Hi.rotateCommitLabel)===!0?30:0)).attr("y",-p.height/2+8).attr("width",p.width+18).attr("height",p.height+4),d.attr("transform","translate("+(-p.width-14-((Hi==null?void 0:Hi.rotateCommitLabel)===!0?30:0))+", "+(s-p.height/2-1)+")"),qr==="TB"?(h.attr("x",s-p.width/2-10).attr("y",0),d.attr("transform","translate("+(s-p.width/2-5)+", 0)")):qr==="BT"?(h.attr("x",s-p.width/2-10).attr("y",ff),d.attr("transform","translate("+(s-p.width/2-5)+", "+ff+")")):h.attr("transform","translate(-19, "+(s-p.height/2)+")")})},"drawBranches"),iWe=k(function(t,e,r,n,i){return ho.set(t,{pos:e,index:r}),e+=50+(i?40:0)+(qr==="TB"||qr==="BT"?n.width/2:0),e},"setBranchPosition"),aWe=k(function(t,e,r,n){if(HGe(),Ee.debug("in gitgraph renderer",t+`
`,"id:",e,r),!Hi)throw new Error("GitGraph config not found");const i=Hi.rotateCommitLabel??!1,a=n.db;r2=a.getCommits();const s=a.getBranchesAsObjArray();qr=a.getDirection();const o=bt(`[id="${e}"]`);let l=0;s.forEach((u,h)=>{var x;const f=Uoe(u.name),d=o.append("g"),p=d.insert("g").attr("class","branchLabel"),m=p.insert("g").attr("class","label branch-label");(x=m.node())==null||x.appendChild(f);const v=f.getBBox();l=iWe(u.name,l,h,v,i),m.remove(),p.remove(),d.remove()}),hG(o,r2,!1),Hi.showBranches&&nWe(o,s),rWe(o,r2),hG(o,r2,!0),Ir.insertTitle(o,"gitTitleText",Hi.titleTopMargin??0,a.getDiagramTitle()),Qj(void 0,o,Hi.diagramPadding,Hi.useMaxWidth)},"draw"),sWe={draw:aWe},oWe=k(t=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(e=>`
        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }
        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }
        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }
        .label${e}  { fill: ${t["git"+e]}; }
        .arrow${e} { stroke: ${t["git"+e]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${t.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}
  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}
  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }
  .tag-hole { fill: ${t.textColor}; }

  .commit-merge {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }
  .commit-reverse {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,"getStyles"),lWe=oWe,uWe={parser:zGe,db:Voe,renderer:sWe,styles:lWe};const cWe=Object.freeze(Object.defineProperty({__proto__:null,diagram:uWe},Symbol.toStringTag,{value:"Module"}));var Woe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Pl,function(){var r="day";return function(n,i,a){var s=function(u){return u.add(4-u.isoWeekday(),r)},o=i.prototype;o.isoWeekYear=function(){return s(this).year()},o.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),r);var h,f,d,p,m=s(this),v=(h=this.isoWeekYear(),f=this.$u,d=(f?a.utc:a)().year(h).startOf("year"),p=4-d.isoWeekday(),d.isoWeekday()>4&&(p+=7),d.add(p,r));return m.diff(v,"week")+1},o.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=o.startOf;o.startOf=function(u,h){var f=this.$utils(),d=!!f.u(h)||h;return f.p(u)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,h)}}})})(Woe);var hWe=Woe.exports;const fWe=Th(hWe);var qoe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Pl,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,a=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,l={},u=function(x){return(x=+x)+(x>68?1900:2e3)},h=function(x){return function(y){this[x]=+y}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(x){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var w=y.match(/([+-]|\d\d)/g),S=60*w[1]+(+w[2]||0);return S===0?0:w[0]==="+"?-S:S}(x)}],d=function(x){var y=l[x];return y&&(y.indexOf?y:y.s.concat(y.f))},p=function(x,y){var w,S=l.meridiem;if(S){for(var E=1;E<=24;E+=1)if(x.indexOf(S(E,0,y))>-1){w=E>12;break}}else w=x===(y?"pm":"PM");return w},m={A:[o,function(x){this.afternoon=p(x,!1)}],a:[o,function(x){this.afternoon=p(x,!0)}],Q:[i,function(x){this.month=3*(x-1)+1}],S:[i,function(x){this.milliseconds=100*+x}],SS:[a,function(x){this.milliseconds=10*+x}],SSS:[/\d{3}/,function(x){this.milliseconds=+x}],s:[s,h("seconds")],ss:[s,h("seconds")],m:[s,h("minutes")],mm:[s,h("minutes")],H:[s,h("hours")],h:[s,h("hours")],HH:[s,h("hours")],hh:[s,h("hours")],D:[s,h("day")],DD:[a,h("day")],Do:[o,function(x){var y=l.ordinal,w=x.match(/\d+/);if(this.day=w[0],y)for(var S=1;S<=31;S+=1)y(S).replace(/\[|\]/g,"")===x&&(this.day=S)}],w:[s,h("week")],ww:[a,h("week")],M:[s,h("month")],MM:[a,h("month")],MMM:[o,function(x){var y=d("months"),w=(d("monthsShort")||y.map(function(S){return S.slice(0,3)})).indexOf(x)+1;if(w<1)throw new Error;this.month=w%12||w}],MMMM:[o,function(x){var y=d("months").indexOf(x)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,h("year")],YY:[a,function(x){this.year=u(x)}],YYYY:[/\d{4}/,h("year")],Z:f,ZZ:f};function v(x){var y,w;y=x,w=l&&l.formats;for(var S=(x=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(F,M,B){var H=B&&B.toUpperCase();return M||w[B]||r[B]||w[H].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(R,O,P){return O||P.slice(1)})})).match(n),E=S.length,C=0;C<E;C+=1){var L=S[C],_=m[L],I=_&&_[0],D=_&&_[1];S[C]=D?{regex:I,parser:D}:L.replace(/^\[|\]$/g,"")}return function(F){for(var M={},B=0,H=0;B<E;B+=1){var R=S[B];if(typeof R=="string")H+=R.length;else{var O=R.regex,P=R.parser,z=F.slice(H),$=O.exec(z)[0];P.call(M,$),F=F.replace($,"")}}return function(V){var X=V.afternoon;if(X!==void 0){var q=V.hours;X?q<12&&(V.hours+=12):q===12&&(V.hours=0),delete V.afternoon}}(M),M}}return function(x,y,w){w.p.customParseFormat=!0,x&&x.parseTwoDigitYear&&(u=x.parseTwoDigitYear);var S=y.prototype,E=S.parse;S.parse=function(C){var L=C.date,_=C.utc,I=C.args;this.$u=_;var D=I[1];if(typeof D=="string"){var F=I[2]===!0,M=I[3]===!0,B=F||M,H=I[2];M&&(H=I[2]),l=this.$locale(),!F&&H&&(l=w.Ls[H]),this.$d=function(z,$,V,X){try{if(["x","X"].indexOf($)>-1)return new Date(($==="X"?1e3:1)*z);var q=v($)(z),Y=q.year,U=q.month,Z=q.day,pe=q.hours,ne=q.minutes,ge=q.seconds,ye=q.milliseconds,J=q.zone,se=q.week,oe=new Date,fe=Z||(Y||U?1:oe.getDate()),me=Y||oe.getFullYear(),be=0;Y&&!U||(be=U>0?U-1:oe.getMonth());var ce,Ge=pe||0,xe=ne||0,le=ge||0,ke=ye||0;return J?new Date(Date.UTC(me,be,fe,Ge,xe,le,ke+60*J.offset*1e3)):V?new Date(Date.UTC(me,be,fe,Ge,xe,le,ke)):(ce=new Date(me,be,fe,Ge,xe,le,ke),se&&(ce=X(ce).week(se).toDate()),ce)}catch{return new Date("")}}(L,D,_,w),this.init(),H&&H!==!0&&(this.$L=this.locale(H).$L),B&&L!=this.format(D)&&(this.$d=new Date("")),l={}}else if(D instanceof Array)for(var R=D.length,O=1;O<=R;O+=1){I[1]=D[O-1];var P=w.apply(this,I);if(P.isValid()){this.$d=P.$d,this.$L=P.$L,this.init();break}O===R&&(this.$d=new Date(""))}else E.call(this,C)}}})})(qoe);var dWe=qoe.exports;const pWe=Th(dWe);var Yoe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Pl,function(){return function(r,n){var i=n.prototype,a=i.format;i.format=function(s){var o=this,l=this.$locale();if(!this.isValid())return a.bind(this)(s);var u=this.$utils(),h=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return u.s(o.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(o.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(o.$H===0?24:o.$H),f==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return f}});return a.bind(this)(h)}}})})(Yoe);var gWe=Yoe.exports;const mWe=Th(gWe);var i9=function(){var t=k(function(H,R,O,P){for(O=O||{},P=H.length;P--;O[H[P]]=R);return O},"o"),e=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],n=[1,27],i=[1,28],a=[1,29],s=[1,30],o=[1,31],l=[1,32],u=[1,33],h=[1,34],f=[1,9],d=[1,10],p=[1,11],m=[1,12],v=[1,13],x=[1,14],y=[1,15],w=[1,16],S=[1,19],E=[1,20],C=[1,21],L=[1,22],_=[1,23],I=[1,25],D=[1,35],F={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:k(function(R,O,P,z,$,V,X){var q=V.length-1;switch($){case 1:return V[q-1];case 2:this.$=[];break;case 3:V[q-1].push(V[q]),this.$=V[q-1];break;case 4:case 5:this.$=V[q];break;case 6:case 7:this.$=[];break;case 8:z.setWeekday("monday");break;case 9:z.setWeekday("tuesday");break;case 10:z.setWeekday("wednesday");break;case 11:z.setWeekday("thursday");break;case 12:z.setWeekday("friday");break;case 13:z.setWeekday("saturday");break;case 14:z.setWeekday("sunday");break;case 15:z.setWeekend("friday");break;case 16:z.setWeekend("saturday");break;case 17:z.setDateFormat(V[q].substr(11)),this.$=V[q].substr(11);break;case 18:z.enableInclusiveEndDates(),this.$=V[q].substr(18);break;case 19:z.TopAxis(),this.$=V[q].substr(8);break;case 20:z.setAxisFormat(V[q].substr(11)),this.$=V[q].substr(11);break;case 21:z.setTickInterval(V[q].substr(13)),this.$=V[q].substr(13);break;case 22:z.setExcludes(V[q].substr(9)),this.$=V[q].substr(9);break;case 23:z.setIncludes(V[q].substr(9)),this.$=V[q].substr(9);break;case 24:z.setTodayMarker(V[q].substr(12)),this.$=V[q].substr(12);break;case 27:z.setDiagramTitle(V[q].substr(6)),this.$=V[q].substr(6);break;case 28:this.$=V[q].trim(),z.setAccTitle(this.$);break;case 29:case 30:this.$=V[q].trim(),z.setAccDescription(this.$);break;case 31:z.addSection(V[q].substr(8)),this.$=V[q].substr(8);break;case 33:z.addTask(V[q-1],V[q]),this.$="task";break;case 34:this.$=V[q-1],z.setClickEvent(V[q-1],V[q],null);break;case 35:this.$=V[q-2],z.setClickEvent(V[q-2],V[q-1],V[q]);break;case 36:this.$=V[q-2],z.setClickEvent(V[q-2],V[q-1],null),z.setLink(V[q-2],V[q]);break;case 37:this.$=V[q-3],z.setClickEvent(V[q-3],V[q-2],V[q-1]),z.setLink(V[q-3],V[q]);break;case 38:this.$=V[q-2],z.setClickEvent(V[q-2],V[q],null),z.setLink(V[q-2],V[q-1]);break;case 39:this.$=V[q-3],z.setClickEvent(V[q-3],V[q-1],V[q]),z.setLink(V[q-3],V[q-2]);break;case 40:this.$=V[q-1],z.setLink(V[q-1],V[q]);break;case 41:case 47:this.$=V[q-1]+" "+V[q];break;case 42:case 43:case 45:this.$=V[q-2]+" "+V[q-1]+" "+V[q];break;case 44:case 46:this.$=V[q-3]+" "+V[q-2]+" "+V[q-1]+" "+V[q];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:i,15:a,16:s,17:o,18:l,19:18,20:u,21:h,22:f,23:d,24:p,25:m,26:v,27:x,28:y,29:w,30:S,31:E,33:C,35:L,36:_,37:24,38:I,40:D},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:36,11:17,12:r,13:n,14:i,15:a,16:s,17:o,18:l,19:18,20:u,21:h,22:f,23:d,24:p,25:m,26:v,27:x,28:y,29:w,30:S,31:E,33:C,35:L,36:_,37:24,38:I,40:D},t(e,[2,5]),t(e,[2,6]),t(e,[2,17]),t(e,[2,18]),t(e,[2,19]),t(e,[2,20]),t(e,[2,21]),t(e,[2,22]),t(e,[2,23]),t(e,[2,24]),t(e,[2,25]),t(e,[2,26]),t(e,[2,27]),{32:[1,37]},{34:[1,38]},t(e,[2,30]),t(e,[2,31]),t(e,[2,32]),{39:[1,39]},t(e,[2,8]),t(e,[2,9]),t(e,[2,10]),t(e,[2,11]),t(e,[2,12]),t(e,[2,13]),t(e,[2,14]),t(e,[2,15]),t(e,[2,16]),{41:[1,40],43:[1,41]},t(e,[2,4]),t(e,[2,28]),t(e,[2,29]),t(e,[2,33]),t(e,[2,34],{42:[1,42],43:[1,43]}),t(e,[2,40],{41:[1,44]}),t(e,[2,35],{43:[1,45]}),t(e,[2,36]),t(e,[2,38],{42:[1,46]}),t(e,[2,37]),t(e,[2,39])],defaultActions:{},parseError:k(function(R,O){if(O.recoverable)this.trace(R);else{var P=new Error(R);throw P.hash=O,P}},"parseError"),parse:k(function(R){var O=this,P=[0],z=[],$=[null],V=[],X=this.table,q="",Y=0,U=0,Z=2,pe=1,ne=V.slice.call(arguments,1),ge=Object.create(this.lexer),ye={yy:{}};for(var J in this.yy)Object.prototype.hasOwnProperty.call(this.yy,J)&&(ye.yy[J]=this.yy[J]);ge.setInput(R,ye.yy),ye.yy.lexer=ge,ye.yy.parser=this,typeof ge.yylloc>"u"&&(ge.yylloc={});var se=ge.yylloc;V.push(se);var oe=ge.options&&ge.options.ranges;typeof ye.yy.parseError=="function"?this.parseError=ye.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function fe(we){P.length=P.length-2*we,$.length=$.length-we,V.length=V.length-we}k(fe,"popStack");function me(){var we;return we=z.pop()||ge.lex()||pe,typeof we!="number"&&(we instanceof Array&&(z=we,we=z.pop()),we=O.symbols_[we]||we),we}k(me,"lex");for(var be,ce,Ge,xe,le={},ke,De,We,qe;;){if(ce=P[P.length-1],this.defaultActions[ce]?Ge=this.defaultActions[ce]:((be===null||typeof be>"u")&&(be=me()),Ge=X[ce]&&X[ce][be]),typeof Ge>"u"||!Ge.length||!Ge[0]){var Ve="";qe=[];for(ke in X[ce])this.terminals_[ke]&&ke>Z&&qe.push("'"+this.terminals_[ke]+"'");ge.showPosition?Ve="Parse error on line "+(Y+1)+`:
`+ge.showPosition()+`
Expecting `+qe.join(", ")+", got '"+(this.terminals_[be]||be)+"'":Ve="Parse error on line "+(Y+1)+": Unexpected "+(be==pe?"end of input":"'"+(this.terminals_[be]||be)+"'"),this.parseError(Ve,{text:ge.match,token:this.terminals_[be]||be,line:ge.yylineno,loc:se,expected:qe})}if(Ge[0]instanceof Array&&Ge.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ce+", token: "+be);switch(Ge[0]){case 1:P.push(be),$.push(ge.yytext),V.push(ge.yylloc),P.push(Ge[1]),be=null,U=ge.yyleng,q=ge.yytext,Y=ge.yylineno,se=ge.yylloc;break;case 2:if(De=this.productions_[Ge[1]][1],le.$=$[$.length-De],le._$={first_line:V[V.length-(De||1)].first_line,last_line:V[V.length-1].last_line,first_column:V[V.length-(De||1)].first_column,last_column:V[V.length-1].last_column},oe&&(le._$.range=[V[V.length-(De||1)].range[0],V[V.length-1].range[1]]),xe=this.performAction.apply(le,[q,U,Y,ye.yy,Ge[1],$,V].concat(ne)),typeof xe<"u")return xe;De&&(P=P.slice(0,-1*De*2),$=$.slice(0,-1*De),V=V.slice(0,-1*De)),P.push(this.productions_[Ge[1]][0]),$.push(le.$),V.push(le._$),We=X[P[P.length-2]][P[P.length-1]],P.push(We);break;case 3:return!0}}return!0},"parse")},M=function(){var H={EOF:1,parseError:k(function(O,P){if(this.yy.parser)this.yy.parser.parseError(O,P);else throw new Error(O)},"parseError"),setInput:k(function(R,O){return this.yy=O||this.yy||{},this._input=R,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var R=this._input[0];this.yytext+=R,this.yyleng++,this.offset++,this.match+=R,this.matched+=R;var O=R.match(/(?:\r\n?|\n).*/g);return O?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),R},"input"),unput:k(function(R){var O=R.length,P=R.split(/(?:\r\n?|\n)/g);this._input=R+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),P.length-1&&(this.yylineno-=P.length-1);var $=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:P?(P.length===z.length?this.yylloc.first_column:0)+z[z.length-P.length].length-P[0].length:this.yylloc.first_column-O},this.options.ranges&&(this.yylloc.range=[$[0],$[0]+this.yyleng-O]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(R){this.unput(this.match.slice(R))},"less"),pastInput:k(function(){var R=this.matched.substr(0,this.matched.length-this.match.length);return(R.length>20?"...":"")+R.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var R=this.match;return R.length<20&&(R+=this._input.substr(0,20-R.length)),(R.substr(0,20)+(R.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var R=this.pastInput(),O=new Array(R.length+1).join("-");return R+this.upcomingInput()+`
`+O+"^"},"showPosition"),test_match:k(function(R,O){var P,z,$;if(this.options.backtrack_lexer&&($={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&($.yylloc.range=this.yylloc.range.slice(0))),z=R[0].match(/(?:\r\n?|\n).*/g),z&&(this.yylineno+=z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:z?z[z.length-1].length-z[z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+R[0].length},this.yytext+=R[0],this.match+=R[0],this.matches=R,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(R[0].length),this.matched+=R[0],P=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),P)return P;if(this._backtrack){for(var V in $)this[V]=$[V];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var R,O,P,z;this._more||(this.yytext="",this.match="");for(var $=this._currentRules(),V=0;V<$.length;V++)if(P=this._input.match(this.rules[$[V]]),P&&(!O||P[0].length>O[0].length)){if(O=P,z=V,this.options.backtrack_lexer){if(R=this.test_match(P,$[V]),R!==!1)return R;if(this._backtrack){O=!1;continue}else return!1}else if(!this.options.flex)break}return O?(R=this.test_match(O,$[z]),R!==!1?R:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var O=this.next();return O||this.lex()},"lex"),begin:k(function(O){this.conditionStack.push(O)},"begin"),popState:k(function(){var O=this.conditionStack.length-1;return O>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(O){return O=this.conditionStack.length-1-Math.abs(O||0),O>=0?this.conditionStack[O]:"INITIAL"},"topState"),pushState:k(function(O){this.begin(O)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:k(function(O,P,z,$){switch(z){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return H}();F.lexer=M;function B(){this.yy={}}return k(B,"Parser"),B.prototype=F,F.Parser=B,new B}();i9.parser=i9;var vWe=i9;xa.extend(fWe);xa.extend(pWe);xa.extend(mWe);var fG={friday:5,saturday:6},ju="",KN="",QN=void 0,ZN="",Ub=[],Gb=[],JN=new Map,eI=[],ik=[],Om="",tI="",Xoe=["active","done","crit","milestone"],rI=[],Wb=!1,nI=!1,iI="sunday",ak="saturday",a9=0,yWe=k(function(){eI=[],ik=[],Om="",rI=[],P3=0,o9=void 0,F3=void 0,Qi=[],ju="",KN="",tI="",QN=void 0,ZN="",Ub=[],Gb=[],Wb=!1,nI=!1,a9=0,JN=new Map,Ea(),iI="sunday",ak="saturday"},"clear"),xWe=k(function(t){KN=t},"setAxisFormat"),bWe=k(function(){return KN},"getAxisFormat"),wWe=k(function(t){QN=t},"setTickInterval"),SWe=k(function(){return QN},"getTickInterval"),kWe=k(function(t){ZN=t},"setTodayMarker"),EWe=k(function(){return ZN},"getTodayMarker"),TWe=k(function(t){ju=t},"setDateFormat"),CWe=k(function(){Wb=!0},"enableInclusiveEndDates"),AWe=k(function(){return Wb},"endDatesAreInclusive"),_We=k(function(){nI=!0},"enableTopAxis"),LWe=k(function(){return nI},"topAxisEnabled"),DWe=k(function(t){tI=t},"setDisplayMode"),RWe=k(function(){return tI},"getDisplayMode"),MWe=k(function(){return ju},"getDateFormat"),NWe=k(function(t){Ub=t.toLowerCase().split(/[\s,]+/)},"setIncludes"),IWe=k(function(){return Ub},"getIncludes"),OWe=k(function(t){Gb=t.toLowerCase().split(/[\s,]+/)},"setExcludes"),PWe=k(function(){return Gb},"getExcludes"),FWe=k(function(){return JN},"getLinks"),BWe=k(function(t){Om=t,eI.push(t)},"addSection"),$We=k(function(){return eI},"getSections"),zWe=k(function(){let t=dG();const e=10;let r=0;for(;!t&&r<e;)t=dG(),r++;return ik=Qi,ik},"getTasks"),joe=k(function(t,e,r,n){return n.includes(t.format(e.trim()))?!1:r.includes("weekends")&&(t.isoWeekday()===fG[ak]||t.isoWeekday()===fG[ak]+1)||r.includes(t.format("dddd").toLowerCase())?!0:r.includes(t.format(e.trim()))},"isInvalidDate"),HWe=k(function(t){iI=t},"setWeekday"),VWe=k(function(){return iI},"getWeekday"),UWe=k(function(t){ak=t},"setWeekend"),Koe=k(function(t,e,r,n){if(!r.length||t.manualEndTime)return;let i;t.startTime instanceof Date?i=xa(t.startTime):i=xa(t.startTime,e,!0),i=i.add(1,"d");let a;t.endTime instanceof Date?a=xa(t.endTime):a=xa(t.endTime,e,!0);const[s,o]=GWe(i,a,e,r,n);t.endTime=s.toDate(),t.renderEndTime=o},"checkTaskDates"),GWe=k(function(t,e,r,n,i){let a=!1,s=null;for(;t<=e;)a||(s=e.toDate()),a=joe(t,r,n,i),a&&(e=e.add(1,"d")),t=t.add(1,"d");return[e,s]},"fixTaskDates"),s9=k(function(t,e,r){r=r.trim();const i=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(i!==null){let s=null;for(const l of i.groups.ids.split(" ")){let u=Lp(l);u!==void 0&&(!s||u.endTime>s.endTime)&&(s=u)}if(s)return s.endTime;const o=new Date;return o.setHours(0,0,0,0),o}let a=xa(r,e.trim(),!0);if(a.isValid())return a.toDate();{Ee.debug("Invalid date:"+r),Ee.debug("With date format:"+e.trim());const s=new Date(r);if(s===void 0||isNaN(s.getTime())||s.getFullYear()<-1e4||s.getFullYear()>1e4)throw new Error("Invalid date:"+r);return s}},"getStartDate"),Qoe=k(function(t){const e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return e!==null?[Number.parseFloat(e[1]),e[2]]:[NaN,"ms"]},"parseDuration"),Zoe=k(function(t,e,r,n=!1){r=r.trim();const a=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(a!==null){let h=null;for(const d of a.groups.ids.split(" ")){let p=Lp(d);p!==void 0&&(!h||p.startTime<h.startTime)&&(h=p)}if(h)return h.startTime;const f=new Date;return f.setHours(0,0,0,0),f}let s=xa(r,e.trim(),!0);if(s.isValid())return n&&(s=s.add(1,"d")),s.toDate();let o=xa(t);const[l,u]=Qoe(r);if(!Number.isNaN(l)){const h=o.add(l,u);h.isValid()&&(o=h)}return o.toDate()},"getEndDate"),P3=0,s1=k(function(t){return t===void 0?(P3=P3+1,"task"+P3):t},"parseId"),WWe=k(function(t,e){let r;e.substr(0,1)===":"?r=e.substr(1,e.length):r=e;const n=r.split(","),i={};aI(n,i,Xoe);for(let s=0;s<n.length;s++)n[s]=n[s].trim();let a="";switch(n.length){case 1:i.id=s1(),i.startTime=t.endTime,a=n[0];break;case 2:i.id=s1(),i.startTime=s9(void 0,ju,n[0]),a=n[1];break;case 3:i.id=s1(n[0]),i.startTime=s9(void 0,ju,n[1]),a=n[2];break}return a&&(i.endTime=Zoe(i.startTime,ju,a,Wb),i.manualEndTime=xa(a,"YYYY-MM-DD",!0).isValid(),Koe(i,ju,Gb,Ub)),i},"compileData"),qWe=k(function(t,e){let r;e.substr(0,1)===":"?r=e.substr(1,e.length):r=e;const n=r.split(","),i={};aI(n,i,Xoe);for(let a=0;a<n.length;a++)n[a]=n[a].trim();switch(n.length){case 1:i.id=s1(),i.startTime={type:"prevTaskEnd",id:t},i.endTime={data:n[0]};break;case 2:i.id=s1(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=s1(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]};break}return i},"parseData"),o9,F3,Qi=[],Joe={},YWe=k(function(t,e){const r={section:Om,type:Om,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},n=qWe(F3,e);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=F3,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=a9,a9++;const i=Qi.push(r);F3=r.id,Joe[r.id]=i-1},"addTask"),Lp=k(function(t){const e=Joe[t];return Qi[e]},"findTaskById"),XWe=k(function(t,e){const r={section:Om,type:Om,description:t,task:t,classes:[]},n=WWe(o9,e);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,o9=r,ik.push(r)},"addTaskOrg"),dG=k(function(){const t=k(function(r){const n=Qi[r];let i="";switch(Qi[r].raw.startTime.type){case"prevTaskEnd":{const a=Lp(n.prevTaskId);n.startTime=a.endTime;break}case"getStartDate":i=s9(void 0,ju,Qi[r].raw.startTime.startData),i&&(Qi[r].startTime=i);break}return Qi[r].startTime&&(Qi[r].endTime=Zoe(Qi[r].startTime,ju,Qi[r].raw.endTime.data,Wb),Qi[r].endTime&&(Qi[r].processed=!0,Qi[r].manualEndTime=xa(Qi[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),Koe(Qi[r],ju,Gb,Ub))),Qi[r].processed},"compileTask");let e=!0;for(const[r,n]of Qi.entries())t(r),e=e&&n.processed;return e},"compileTasks"),jWe=k(function(t,e){let r=e;Ue().securityLevel!=="loose"&&(r=cd(e)),t.split(",").forEach(function(n){Lp(n)!==void 0&&(tle(n,()=>{window.open(r,"_self")}),JN.set(n,r))}),ele(t,"clickable")},"setLink"),ele=k(function(t,e){t.split(",").forEach(function(r){let n=Lp(r);n!==void 0&&n.classes.push(e)})},"setClass"),KWe=k(function(t,e,r){if(Ue().securityLevel!=="loose"||e===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let a=0;a<n.length;a++){let s=n[a].trim();s.startsWith('"')&&s.endsWith('"')&&(s=s.substr(1,s.length-2)),n[a]=s}}n.length===0&&n.push(t),Lp(t)!==void 0&&tle(t,()=>{Ir.runFunc(e,...n)})},"setClickFun"),tle=k(function(t,e){rI.push(function(){const r=document.querySelector(`[id="${t}"]`);r!==null&&r.addEventListener("click",function(){e()})},function(){const r=document.querySelector(`[id="${t}-text"]`);r!==null&&r.addEventListener("click",function(){e()})})},"pushFun"),QWe=k(function(t,e,r){t.split(",").forEach(function(n){KWe(n,e,r)}),ele(t,"clickable")},"setClickEvent"),ZWe=k(function(t){rI.forEach(function(e){e(t)})},"bindFunctions"),JWe={getConfig:k(()=>Ue().gantt,"getConfig"),clear:yWe,setDateFormat:TWe,getDateFormat:MWe,enableInclusiveEndDates:CWe,endDatesAreInclusive:AWe,enableTopAxis:_We,topAxisEnabled:LWe,setAxisFormat:xWe,getAxisFormat:bWe,setTickInterval:wWe,getTickInterval:SWe,setTodayMarker:kWe,getTodayMarker:EWe,setAccTitle:Ta,getAccTitle:Wa,setDiagramTitle:js,getDiagramTitle:Xa,setDisplayMode:DWe,getDisplayMode:RWe,setAccDescription:qa,getAccDescription:Ya,addSection:BWe,getSections:$We,getTasks:zWe,addTask:YWe,findTaskById:Lp,addTaskOrg:XWe,setIncludes:NWe,getIncludes:IWe,setExcludes:OWe,getExcludes:PWe,setClickEvent:QWe,setLink:jWe,getLinks:FWe,bindFunctions:ZWe,parseDuration:Qoe,isInvalidDate:joe,setWeekday:HWe,getWeekday:VWe,setWeekend:UWe};function aI(t,e,r){let n=!0;for(;n;)n=!1,r.forEach(function(i){const a="^\\s*"+i+"\\s*$",s=new RegExp(a);t[0].match(s)&&(e[i]=!0,t.shift(1),n=!0)})}k(aI,"getTaskTags");var eqe=k(function(){Ee.debug("Something is calling, setConf, remove the call")},"setConf"),pG={monday:fx,tuesday:EZ,wednesday:TZ,thursday:$0,friday:CZ,saturday:AZ,sunday:mb},tqe=k((t,e)=>{let r=[...t].map(()=>-1/0),n=[...t].sort((a,s)=>a.startTime-s.startTime||a.order-s.order),i=0;for(const a of n)for(let s=0;s<r.length;s++)if(a.startTime>=r[s]){r[s]=a.endTime,a.order=s+e,s>i&&(i=s);break}return i},"getMaxIntersections"),Rc,rqe=k(function(t,e,r,n){const i=Ue().gantt,a=Ue().securityLevel;let s;a==="sandbox"&&(s=bt("#i"+e));const o=bt(a==="sandbox"?s.nodes()[0].contentDocument.body:"body"),l=a==="sandbox"?s.nodes()[0].contentDocument:document,u=l.getElementById(e);Rc=u.parentElement.offsetWidth,Rc===void 0&&(Rc=1200),i.useWidth!==void 0&&(Rc=i.useWidth);const h=n.db.getTasks();let f=[];for(const I of h)f.push(I.type);f=_(f);const d={};let p=2*i.topPadding;if(n.db.getDisplayMode()==="compact"||i.displayMode==="compact"){const I={};for(const F of h)I[F.section]===void 0?I[F.section]=[F]:I[F.section].push(F);let D=0;for(const F of Object.keys(I)){const M=tqe(I[F],D)+1;D+=M,p+=M*(i.barHeight+i.barGap),d[F]=M}}else{p+=h.length*(i.barHeight+i.barGap);for(const I of f)d[I]=h.filter(D=>D.type===I).length}u.setAttribute("viewBox","0 0 "+Rc+" "+p);const m=o.select(`[id="${e}"]`),v=Y3e().domain([_2e(h,function(I){return I.startTime}),A2e(h,function(I){return I.endTime})]).rangeRound([0,Rc-i.leftPadding-i.rightPadding]);function x(I,D){const F=I.startTime,M=D.startTime;let B=0;return F>M?B=1:F<M&&(B=-1),B}k(x,"taskCompare"),h.sort(x),y(h,Rc,p),xs(m,p,Rc,i.useMaxWidth),m.append("text").text(n.db.getDiagramTitle()).attr("x",Rc/2).attr("y",i.titleTopMargin).attr("class","titleText");function y(I,D,F){const M=i.barHeight,B=M+i.barGap,H=i.topPadding,R=i.leftPadding,O=gm().domain([0,f.length]).range(["#00B9FA","#F95002"]).interpolate(Qbe);S(B,H,R,D,F,I,n.db.getExcludes(),n.db.getIncludes()),E(R,H,D,F),w(I,B,H,R,M,O,D),C(B,H),L(R,H,D,F)}k(y,"makeGantt");function w(I,D,F,M,B,H,R){const P=[...new Set(I.map(X=>X.order))].map(X=>I.find(q=>q.order===X));m.append("g").selectAll("rect").data(P).enter().append("rect").attr("x",0).attr("y",function(X,q){return q=X.order,q*D+F-2}).attr("width",function(){return R-i.rightPadding/2}).attr("height",D).attr("class",function(X){for(const[q,Y]of f.entries())if(X.type===Y)return"section section"+q%i.numberSectionStyles;return"section section0"});const z=m.append("g").selectAll("rect").data(I).enter(),$=n.db.getLinks();if(z.append("rect").attr("id",function(X){return X.id}).attr("rx",3).attr("ry",3).attr("x",function(X){return X.milestone?v(X.startTime)+M+.5*(v(X.endTime)-v(X.startTime))-.5*B:v(X.startTime)+M}).attr("y",function(X,q){return q=X.order,q*D+F}).attr("width",function(X){return X.milestone?B:v(X.renderEndTime||X.endTime)-v(X.startTime)}).attr("height",B).attr("transform-origin",function(X,q){return q=X.order,(v(X.startTime)+M+.5*(v(X.endTime)-v(X.startTime))).toString()+"px "+(q*D+F+.5*B).toString()+"px"}).attr("class",function(X){const q="task";let Y="";X.classes.length>0&&(Y=X.classes.join(" "));let U=0;for(const[pe,ne]of f.entries())X.type===ne&&(U=pe%i.numberSectionStyles);let Z="";return X.active?X.crit?Z+=" activeCrit":Z=" active":X.done?X.crit?Z=" doneCrit":Z=" done":X.crit&&(Z+=" crit"),Z.length===0&&(Z=" task"),X.milestone&&(Z=" milestone "+Z),Z+=U,Z+=" "+Y,q+Z}),z.append("text").attr("id",function(X){return X.id+"-text"}).text(function(X){return X.task}).attr("font-size",i.fontSize).attr("x",function(X){let q=v(X.startTime),Y=v(X.renderEndTime||X.endTime);X.milestone&&(q+=.5*(v(X.endTime)-v(X.startTime))-.5*B),X.milestone&&(Y=q+B);const U=this.getBBox().width;return U>Y-q?Y+U+1.5*i.leftPadding>R?q+M-5:Y+M+5:(Y-q)/2+q+M}).attr("y",function(X,q){return q=X.order,q*D+i.barHeight/2+(i.fontSize/2-2)+F}).attr("text-height",B).attr("class",function(X){const q=v(X.startTime);let Y=v(X.endTime);X.milestone&&(Y=q+B);const U=this.getBBox().width;let Z="";X.classes.length>0&&(Z=X.classes.join(" "));let pe=0;for(const[ge,ye]of f.entries())X.type===ye&&(pe=ge%i.numberSectionStyles);let ne="";return X.active&&(X.crit?ne="activeCritText"+pe:ne="activeText"+pe),X.done?X.crit?ne=ne+" doneCritText"+pe:ne=ne+" doneText"+pe:X.crit&&(ne=ne+" critText"+pe),X.milestone&&(ne+=" milestoneText"),U>Y-q?Y+U+1.5*i.leftPadding>R?Z+" taskTextOutsideLeft taskTextOutside"+pe+" "+ne:Z+" taskTextOutsideRight taskTextOutside"+pe+" "+ne+" width-"+U:Z+" taskText taskText"+pe+" "+ne+" width-"+U}),Ue().securityLevel==="sandbox"){let X;X=bt("#i"+e);const q=X.nodes()[0].contentDocument;z.filter(function(Y){return $.has(Y.id)}).each(function(Y){var U=q.querySelector("#"+Y.id),Z=q.querySelector("#"+Y.id+"-text");const pe=U.parentNode;var ne=q.createElement("a");ne.setAttribute("xlink:href",$.get(Y.id)),ne.setAttribute("target","_top"),pe.appendChild(ne),ne.appendChild(U),ne.appendChild(Z)})}}k(w,"drawRects");function S(I,D,F,M,B,H,R,O){if(R.length===0&&O.length===0)return;let P,z;for(const{startTime:U,endTime:Z}of H)(P===void 0||U<P)&&(P=U),(z===void 0||Z>z)&&(z=Z);if(!P||!z)return;if(xa(z).diff(xa(P),"year")>5){Ee.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}const $=n.db.getDateFormat(),V=[];let X=null,q=xa(P);for(;q.valueOf()<=z;)n.db.isInvalidDate(q,$,R,O)?X?X.end=q:X={start:q,end:q}:X&&(V.push(X),X=null),q=q.add(1,"d");m.append("g").selectAll("rect").data(V).enter().append("rect").attr("id",function(U){return"exclude-"+U.start.format("YYYY-MM-DD")}).attr("x",function(U){return v(U.start)+F}).attr("y",i.gridLineStartPadding).attr("width",function(U){const Z=U.end.add(1,"day");return v(Z)-v(U.start)}).attr("height",B-D-i.gridLineStartPadding).attr("transform-origin",function(U,Z){return(v(U.start)+F+.5*(v(U.end)-v(U.start))).toString()+"px "+(Z*I+.5*B).toString()+"px"}).attr("class","exclude-range")}k(S,"drawExcludeDays");function E(I,D,F,M){let B=F2e(v).tickSize(-M+D+i.gridLineStartPadding).tickFormat(j5(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));const R=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||i.tickInterval);if(R!==null){const O=R[1],P=R[2],z=n.db.getWeekday()||i.weekday;switch(P){case"millisecond":B.ticks(mm.every(O));break;case"second":B.ticks(vf.every(O));break;case"minute":B.ticks(cx.every(O));break;case"hour":B.ticks(hx.every(O));break;case"day":B.ticks(B0.every(O));break;case"week":B.ticks(pG[z].every(O));break;case"month":B.ticks(dx.every(O));break}}if(m.append("g").attr("class","grid").attr("transform","translate("+I+", "+(M-50)+")").call(B).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||i.topAxis){let O=P2e(v).tickSize(-M+D+i.gridLineStartPadding).tickFormat(j5(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(R!==null){const P=R[1],z=R[2],$=n.db.getWeekday()||i.weekday;switch(z){case"millisecond":O.ticks(mm.every(P));break;case"second":O.ticks(vf.every(P));break;case"minute":O.ticks(cx.every(P));break;case"hour":O.ticks(hx.every(P));break;case"day":O.ticks(B0.every(P));break;case"week":O.ticks(pG[$].every(P));break;case"month":O.ticks(dx.every(P));break}}m.append("g").attr("class","grid").attr("transform","translate("+I+", "+D+")").call(O).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}k(E,"makeGrid");function C(I,D){let F=0;const M=Object.keys(d).map(B=>[B,d[B]]);m.append("g").selectAll("text").data(M).enter().append(function(B){const H=B[0].split(At.lineBreakRegex),R=-(H.length-1)/2,O=l.createElementNS("http://www.w3.org/2000/svg","text");O.setAttribute("dy",R+"em");for(const[P,z]of H.entries()){const $=l.createElementNS("http://www.w3.org/2000/svg","tspan");$.setAttribute("alignment-baseline","central"),$.setAttribute("x","10"),P>0&&$.setAttribute("dy","1em"),$.textContent=z,O.appendChild($)}return O}).attr("x",10).attr("y",function(B,H){if(H>0)for(let R=0;R<H;R++)return F+=M[H-1][1],B[1]*I/2+F*I+D;else return B[1]*I/2+D}).attr("font-size",i.sectionFontSize).attr("class",function(B){for(const[H,R]of f.entries())if(B[0]===R)return"sectionTitle sectionTitle"+H%i.numberSectionStyles;return"sectionTitle"})}k(C,"vertLabels");function L(I,D,F,M){const B=n.db.getTodayMarker();if(B==="off")return;const H=m.append("g").attr("class","today"),R=new Date,O=H.append("line");O.attr("x1",v(R)+I).attr("x2",v(R)+I).attr("y1",i.titleTopMargin).attr("y2",M-i.titleTopMargin).attr("class","today"),B!==""&&O.attr("style",B.replace(/,/g,";"))}k(L,"drawToday");function _(I){const D={},F=[];for(let M=0,B=I.length;M<B;++M)Object.prototype.hasOwnProperty.call(D,I[M])||(D[I[M]]=!0,F.push(I[M]));return F}k(_,"checkUnique")},"draw"),nqe={setConf:eqe,draw:rqe},iqe=k(t=>`
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${t.fontFamily};
    fill: ${t.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.titleColor||t.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`,"getStyles"),aqe=iqe,sqe={parser:vWe,db:JWe,renderer:nqe,styles:aqe};const oqe=Object.freeze(Object.defineProperty({__proto__:null,diagram:sqe},Symbol.toStringTag,{value:"Module"}));var lqe={parse:k(async t=>{const e=await gv("info",t);Ee.debug(e)},"parse")},uqe={version:B_},cqe=k(()=>uqe.version,"getVersion"),hqe={getVersion:cqe},fqe=k((t,e,r)=>{Ee.debug(`rendering info diagram
`+t);const n=fd(e);xs(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),dqe={draw:fqe},pqe={parser:lqe,db:hqe,renderer:dqe};const gqe=Object.freeze(Object.defineProperty({__proto__:null,diagram:pqe},Symbol.toStringTag,{value:"Module"}));var rle=Zr.pie,sI={sections:new Map,showData:!1,config:rle},sk=sI.sections,oI=sI.showData,mqe=structuredClone(rle),vqe=k(()=>structuredClone(mqe),"getConfig"),yqe=k(()=>{sk=new Map,oI=sI.showData,Ea()},"clear"),xqe=k(({label:t,value:e})=>{sk.has(t)||(sk.set(t,e),Ee.debug(`added new section: ${t}, with value: ${e}`))},"addSection"),bqe=k(()=>sk,"getSections"),wqe=k(t=>{oI=t},"setShowData"),Sqe=k(()=>oI,"getShowData"),nle={getConfig:vqe,clear:yqe,setDiagramTitle:js,getDiagramTitle:Xa,setAccTitle:Ta,getAccTitle:Wa,setAccDescription:qa,getAccDescription:Ya,addSection:xqe,getSections:bqe,setShowData:wqe,getShowData:Sqe},kqe=k((t,e)=>{Ib(t,e),e.setShowData(t.showData),t.sections.map(e.addSection)},"populateDb"),Eqe={parse:k(async t=>{const e=await gv("pie",t);Ee.debug(e),kqe(e,nle)},"parse")},Tqe=k(t=>`
  .pieCircle{
    stroke: ${t.pieStrokeColor};
    stroke-width : ${t.pieStrokeWidth};
    opacity : ${t.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${t.pieOuterStrokeColor};
    stroke-width: ${t.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${t.pieTitleTextSize};
    fill: ${t.pieTitleTextColor};
    font-family: ${t.fontFamily};
  }
  .slice {
    font-family: ${t.fontFamily};
    fill: ${t.pieSectionTextColor};
    font-size:${t.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${t.pieLegendTextColor};
    font-family: ${t.fontFamily};
    font-size: ${t.pieLegendTextSize};
  }
`,"getStyles"),Cqe=Tqe,Aqe=k(t=>{const e=[...t.entries()].map(n=>({label:n[0],value:n[1]})).sort((n,i)=>i.value-n.value);return l5e().value(n=>n.value)(e)},"createPieArcs"),_qe=k((t,e,r,n)=>{Ee.debug(`rendering pie chart
`+t);const i=n.db,a=Ue(),s=Dh(i.getConfig(),a.pie),o=40,l=18,u=4,h=450,f=h,d=fd(e),p=d.append("g");p.attr("transform","translate("+f/2+","+h/2+")");const{themeVariables:m}=a;let[v]=hd(m.pieOuterStrokeWidth);v??(v=2);const x=s.textPosition,y=Math.min(f,h)/2-o,w=ym().innerRadius(0).outerRadius(y),S=ym().innerRadius(y*x).outerRadius(y*x);p.append("circle").attr("cx",0).attr("cy",0).attr("r",y+v/2).attr("class","pieOuterCircle");const E=i.getSections(),C=Aqe(E),L=[m.pie1,m.pie2,m.pie3,m.pie4,m.pie5,m.pie6,m.pie7,m.pie8,m.pie9,m.pie10,m.pie11,m.pie12],_=hE(L);p.selectAll("mySlices").data(C).enter().append("path").attr("d",w).attr("fill",B=>_(B.data.label)).attr("class","pieCircle");let I=0;E.forEach(B=>{I+=B}),p.selectAll("mySlices").data(C).enter().append("text").text(B=>(B.data.value/I*100).toFixed(0)+"%").attr("transform",B=>"translate("+S.centroid(B)+")").style("text-anchor","middle").attr("class","slice"),p.append("text").text(i.getDiagramTitle()).attr("x",0).attr("y",-(h-50)/2).attr("class","pieTitleText");const D=p.selectAll(".legend").data(_.domain()).enter().append("g").attr("class","legend").attr("transform",(B,H)=>{const R=l+u,O=R*_.domain().length/2,P=12*l,z=H*R-O;return"translate("+P+","+z+")"});D.append("rect").attr("width",l).attr("height",l).style("fill",_).style("stroke",_),D.data(C).append("text").attr("x",l+u).attr("y",l-u).text(B=>{const{label:H,value:R}=B.data;return i.getShowData()?`${H} [${R}]`:H});const F=Math.max(...D.selectAll("text").nodes().map(B=>(B==null?void 0:B.getBoundingClientRect().width)??0)),M=f+o+l+u+F;d.attr("viewBox",`0 0 ${M} ${h}`),xs(d,h,M,s.useMaxWidth)},"draw"),Lqe={draw:_qe},Dqe={parser:Eqe,db:nle,renderer:Lqe,styles:Cqe};const Rqe=Object.freeze(Object.defineProperty({__proto__:null,diagram:Dqe},Symbol.toStringTag,{value:"Module"}));var l9=function(){var t=k(function(_e,ae,Le,Ne){for(Le=Le||{},Ne=_e.length;Ne--;Le[_e[Ne]]=ae);return Le},"o"),e=[1,3],r=[1,4],n=[1,5],i=[1,6],a=[1,7],s=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],o=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],l=[55,56,57],u=[2,36],h=[1,37],f=[1,36],d=[1,38],p=[1,35],m=[1,43],v=[1,41],x=[1,14],y=[1,23],w=[1,18],S=[1,19],E=[1,20],C=[1,21],L=[1,22],_=[1,24],I=[1,25],D=[1,26],F=[1,27],M=[1,28],B=[1,29],H=[1,32],R=[1,33],O=[1,34],P=[1,39],z=[1,40],$=[1,42],V=[1,44],X=[1,62],q=[1,61],Y=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],U=[1,65],Z=[1,66],pe=[1,67],ne=[1,68],ge=[1,69],ye=[1,70],J=[1,71],se=[1,72],oe=[1,73],fe=[1,74],me=[1,75],be=[1,76],ce=[4,5,6,7,8,9,10,11,12,13,14,15,18],Ge=[1,90],xe=[1,91],le=[1,92],ke=[1,99],De=[1,93],We=[1,96],qe=[1,94],Ve=[1,95],we=[1,97],Te=[1,98],de=[1,102],W=[10,55,56,57],ee=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],te={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:k(function(ae,Le,Ne,Ie,Oe,Pe,Me){var ze=Pe.length-1;switch(Oe){case 23:this.$=Pe[ze];break;case 24:this.$=Pe[ze-1]+""+Pe[ze];break;case 26:this.$=Pe[ze-1]+Pe[ze];break;case 27:this.$=[Pe[ze].trim()];break;case 28:Pe[ze-2].push(Pe[ze].trim()),this.$=Pe[ze-2];break;case 29:this.$=Pe[ze-4],Ie.addClass(Pe[ze-2],Pe[ze]);break;case 37:this.$=[];break;case 42:this.$=Pe[ze].trim(),Ie.setDiagramTitle(this.$);break;case 43:this.$=Pe[ze].trim(),Ie.setAccTitle(this.$);break;case 44:case 45:this.$=Pe[ze].trim(),Ie.setAccDescription(this.$);break;case 46:Ie.addSection(Pe[ze].substr(8)),this.$=Pe[ze].substr(8);break;case 47:Ie.addPoint(Pe[ze-3],"",Pe[ze-1],Pe[ze],[]);break;case 48:Ie.addPoint(Pe[ze-4],Pe[ze-3],Pe[ze-1],Pe[ze],[]);break;case 49:Ie.addPoint(Pe[ze-4],"",Pe[ze-2],Pe[ze-1],Pe[ze]);break;case 50:Ie.addPoint(Pe[ze-5],Pe[ze-4],Pe[ze-2],Pe[ze-1],Pe[ze]);break;case 51:Ie.setXAxisLeftText(Pe[ze-2]),Ie.setXAxisRightText(Pe[ze]);break;case 52:Pe[ze-1].text+=" ⟶ ",Ie.setXAxisLeftText(Pe[ze-1]);break;case 53:Ie.setXAxisLeftText(Pe[ze]);break;case 54:Ie.setYAxisBottomText(Pe[ze-2]),Ie.setYAxisTopText(Pe[ze]);break;case 55:Pe[ze-1].text+=" ⟶ ",Ie.setYAxisBottomText(Pe[ze-1]);break;case 56:Ie.setYAxisBottomText(Pe[ze]);break;case 57:Ie.setQuadrant1Text(Pe[ze]);break;case 58:Ie.setQuadrant2Text(Pe[ze]);break;case 59:Ie.setQuadrant3Text(Pe[ze]);break;case 60:Ie.setQuadrant4Text(Pe[ze]);break;case 64:this.$={text:Pe[ze],type:"text"};break;case 65:this.$={text:Pe[ze-1].text+""+Pe[ze],type:Pe[ze-1].type};break;case 66:this.$={text:Pe[ze],type:"text"};break;case 67:this.$={text:Pe[ze],type:"markdown"};break;case 68:this.$=Pe[ze];break;case 69:this.$=Pe[ze-1]+""+Pe[ze];break}},"anonymous"),table:[{18:e,26:1,27:2,28:r,55:n,56:i,57:a},{1:[3]},{18:e,26:8,27:2,28:r,55:n,56:i,57:a},{18:e,26:9,27:2,28:r,55:n,56:i,57:a},t(s,[2,33],{29:10}),t(o,[2,61]),t(o,[2,62]),t(o,[2,63]),{1:[2,30]},{1:[2,31]},t(l,u,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:h,5:f,10:d,12:p,13:m,14:v,18:x,25:y,35:w,37:S,39:E,41:C,42:L,48:_,50:I,51:D,52:F,53:M,54:B,60:H,61:R,63:O,64:P,65:z,66:$,67:V}),t(s,[2,34]),{27:45,55:n,56:i,57:a},t(l,[2,37]),t(l,u,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:h,5:f,10:d,12:p,13:m,14:v,18:x,25:y,35:w,37:S,39:E,41:C,42:L,48:_,50:I,51:D,52:F,53:M,54:B,60:H,61:R,63:O,64:P,65:z,66:$,67:V}),t(l,[2,39]),t(l,[2,40]),t(l,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},t(l,[2,45]),t(l,[2,46]),{18:[1,50]},{4:h,5:f,10:d,12:p,13:m,14:v,43:51,58:31,60:H,61:R,63:O,64:P,65:z,66:$,67:V},{4:h,5:f,10:d,12:p,13:m,14:v,43:52,58:31,60:H,61:R,63:O,64:P,65:z,66:$,67:V},{4:h,5:f,10:d,12:p,13:m,14:v,43:53,58:31,60:H,61:R,63:O,64:P,65:z,66:$,67:V},{4:h,5:f,10:d,12:p,13:m,14:v,43:54,58:31,60:H,61:R,63:O,64:P,65:z,66:$,67:V},{4:h,5:f,10:d,12:p,13:m,14:v,43:55,58:31,60:H,61:R,63:O,64:P,65:z,66:$,67:V},{4:h,5:f,10:d,12:p,13:m,14:v,43:56,58:31,60:H,61:R,63:O,64:P,65:z,66:$,67:V},{4:h,5:f,8:X,10:d,12:p,13:m,14:v,18:q,44:[1,57],47:[1,58],58:60,59:59,63:O,64:P,65:z,66:$,67:V},t(Y,[2,64]),t(Y,[2,66]),t(Y,[2,67]),t(Y,[2,70]),t(Y,[2,71]),t(Y,[2,72]),t(Y,[2,73]),t(Y,[2,74]),t(Y,[2,75]),t(Y,[2,76]),t(Y,[2,77]),t(Y,[2,78]),t(Y,[2,79]),t(Y,[2,80]),t(s,[2,35]),t(l,[2,38]),t(l,[2,42]),t(l,[2,43]),t(l,[2,44]),{3:64,4:U,5:Z,6:pe,7:ne,8:ge,9:ye,10:J,11:se,12:oe,13:fe,14:me,15:be,21:63},t(l,[2,53],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:m,14:v,18:q,49:[1,77],63:O,64:P,65:z,66:$,67:V}),t(l,[2,56],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:m,14:v,18:q,49:[1,78],63:O,64:P,65:z,66:$,67:V}),t(l,[2,57],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:m,14:v,18:q,63:O,64:P,65:z,66:$,67:V}),t(l,[2,58],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:m,14:v,18:q,63:O,64:P,65:z,66:$,67:V}),t(l,[2,59],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:m,14:v,18:q,63:O,64:P,65:z,66:$,67:V}),t(l,[2,60],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:m,14:v,18:q,63:O,64:P,65:z,66:$,67:V}),{45:[1,79]},{44:[1,80]},t(Y,[2,65]),t(Y,[2,81]),t(Y,[2,82]),t(Y,[2,83]),{3:82,4:U,5:Z,6:pe,7:ne,8:ge,9:ye,10:J,11:se,12:oe,13:fe,14:me,15:be,18:[1,81]},t(ce,[2,23]),t(ce,[2,1]),t(ce,[2,2]),t(ce,[2,3]),t(ce,[2,4]),t(ce,[2,5]),t(ce,[2,6]),t(ce,[2,7]),t(ce,[2,8]),t(ce,[2,9]),t(ce,[2,10]),t(ce,[2,11]),t(ce,[2,12]),t(l,[2,52],{58:31,43:83,4:h,5:f,10:d,12:p,13:m,14:v,60:H,61:R,63:O,64:P,65:z,66:$,67:V}),t(l,[2,55],{58:31,43:84,4:h,5:f,10:d,12:p,13:m,14:v,60:H,61:R,63:O,64:P,65:z,66:$,67:V}),{46:[1,85]},{45:[1,86]},{4:Ge,5:xe,6:le,8:ke,11:De,13:We,16:89,17:qe,18:Ve,19:we,20:Te,22:88,23:87},t(ce,[2,24]),t(l,[2,51],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:m,14:v,18:q,63:O,64:P,65:z,66:$,67:V}),t(l,[2,54],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:m,14:v,18:q,63:O,64:P,65:z,66:$,67:V}),t(l,[2,47],{22:88,16:89,23:100,4:Ge,5:xe,6:le,8:ke,11:De,13:We,17:qe,18:Ve,19:we,20:Te}),{46:[1,101]},t(l,[2,29],{10:de}),t(W,[2,27],{16:103,4:Ge,5:xe,6:le,8:ke,11:De,13:We,17:qe,18:Ve,19:we,20:Te}),t(ee,[2,25]),t(ee,[2,13]),t(ee,[2,14]),t(ee,[2,15]),t(ee,[2,16]),t(ee,[2,17]),t(ee,[2,18]),t(ee,[2,19]),t(ee,[2,20]),t(ee,[2,21]),t(ee,[2,22]),t(l,[2,49],{10:de}),t(l,[2,48],{22:88,16:89,23:104,4:Ge,5:xe,6:le,8:ke,11:De,13:We,17:qe,18:Ve,19:we,20:Te}),{4:Ge,5:xe,6:le,8:ke,11:De,13:We,16:89,17:qe,18:Ve,19:we,20:Te,22:105},t(ee,[2,26]),t(l,[2,50],{10:de}),t(W,[2,28],{16:103,4:Ge,5:xe,6:le,8:ke,11:De,13:We,17:qe,18:Ve,19:we,20:Te})],defaultActions:{8:[2,30],9:[2,31]},parseError:k(function(ae,Le){if(Le.recoverable)this.trace(ae);else{var Ne=new Error(ae);throw Ne.hash=Le,Ne}},"parseError"),parse:k(function(ae){var Le=this,Ne=[0],Ie=[],Oe=[null],Pe=[],Me=this.table,ze="",it=0,ut=0,gt=2,wt=1,Pt=Pe.slice.call(arguments,1),ot=Object.create(this.lexer),at={yy:{}};for(var kt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,kt)&&(at.yy[kt]=this.yy[kt]);ot.setInput(ae,at.yy),at.yy.lexer=ot,at.yy.parser=this,typeof ot.yylloc>"u"&&(ot.yylloc={});var ct=ot.yylloc;Pe.push(ct);var ft=ot.options&&ot.options.ranges;typeof at.yy.parseError=="function"?this.parseError=at.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Jt(zr){Ne.length=Ne.length-2*zr,Oe.length=Oe.length-zr,Pe.length=Pe.length-zr}k(Jt,"popStack");function pt(){var zr;return zr=Ie.pop()||ot.lex()||wt,typeof zr!="number"&&(zr instanceof Array&&(Ie=zr,zr=Ie.pop()),zr=Le.symbols_[zr]||zr),zr}k(pt,"lex");for(var dt,Rt,er,Ot,wr={},Wr,Er,Jn,ln;;){if(Rt=Ne[Ne.length-1],this.defaultActions[Rt]?er=this.defaultActions[Rt]:((dt===null||typeof dt>"u")&&(dt=pt()),er=Me[Rt]&&Me[Rt][dt]),typeof er>"u"||!er.length||!er[0]){var Mn="";ln=[];for(Wr in Me[Rt])this.terminals_[Wr]&&Wr>gt&&ln.push("'"+this.terminals_[Wr]+"'");ot.showPosition?Mn="Parse error on line "+(it+1)+`:
`+ot.showPosition()+`
Expecting `+ln.join(", ")+", got '"+(this.terminals_[dt]||dt)+"'":Mn="Parse error on line "+(it+1)+": Unexpected "+(dt==wt?"end of input":"'"+(this.terminals_[dt]||dt)+"'"),this.parseError(Mn,{text:ot.match,token:this.terminals_[dt]||dt,line:ot.yylineno,loc:ct,expected:ln})}if(er[0]instanceof Array&&er.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Rt+", token: "+dt);switch(er[0]){case 1:Ne.push(dt),Oe.push(ot.yytext),Pe.push(ot.yylloc),Ne.push(er[1]),dt=null,ut=ot.yyleng,ze=ot.yytext,it=ot.yylineno,ct=ot.yylloc;break;case 2:if(Er=this.productions_[er[1]][1],wr.$=Oe[Oe.length-Er],wr._$={first_line:Pe[Pe.length-(Er||1)].first_line,last_line:Pe[Pe.length-1].last_line,first_column:Pe[Pe.length-(Er||1)].first_column,last_column:Pe[Pe.length-1].last_column},ft&&(wr._$.range=[Pe[Pe.length-(Er||1)].range[0],Pe[Pe.length-1].range[1]]),Ot=this.performAction.apply(wr,[ze,ut,it,at.yy,er[1],Oe,Pe].concat(Pt)),typeof Ot<"u")return Ot;Er&&(Ne=Ne.slice(0,-1*Er*2),Oe=Oe.slice(0,-1*Er),Pe=Pe.slice(0,-1*Er)),Ne.push(this.productions_[er[1]][0]),Oe.push(wr.$),Pe.push(wr._$),Jn=Me[Ne[Ne.length-2]][Ne[Ne.length-1]],Ne.push(Jn);break;case 3:return!0}}return!0},"parse")},he=function(){var _e={EOF:1,parseError:k(function(Le,Ne){if(this.yy.parser)this.yy.parser.parseError(Le,Ne);else throw new Error(Le)},"parseError"),setInput:k(function(ae,Le){return this.yy=Le||this.yy||{},this._input=ae,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var ae=this._input[0];this.yytext+=ae,this.yyleng++,this.offset++,this.match+=ae,this.matched+=ae;var Le=ae.match(/(?:\r\n?|\n).*/g);return Le?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ae},"input"),unput:k(function(ae){var Le=ae.length,Ne=ae.split(/(?:\r\n?|\n)/g);this._input=ae+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Le),this.offset-=Le;var Ie=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ne.length-1&&(this.yylineno-=Ne.length-1);var Oe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ne?(Ne.length===Ie.length?this.yylloc.first_column:0)+Ie[Ie.length-Ne.length].length-Ne[0].length:this.yylloc.first_column-Le},this.options.ranges&&(this.yylloc.range=[Oe[0],Oe[0]+this.yyleng-Le]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(ae){this.unput(this.match.slice(ae))},"less"),pastInput:k(function(){var ae=this.matched.substr(0,this.matched.length-this.match.length);return(ae.length>20?"...":"")+ae.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var ae=this.match;return ae.length<20&&(ae+=this._input.substr(0,20-ae.length)),(ae.substr(0,20)+(ae.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var ae=this.pastInput(),Le=new Array(ae.length+1).join("-");return ae+this.upcomingInput()+`
`+Le+"^"},"showPosition"),test_match:k(function(ae,Le){var Ne,Ie,Oe;if(this.options.backtrack_lexer&&(Oe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Oe.yylloc.range=this.yylloc.range.slice(0))),Ie=ae[0].match(/(?:\r\n?|\n).*/g),Ie&&(this.yylineno+=Ie.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ie?Ie[Ie.length-1].length-Ie[Ie.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ae[0].length},this.yytext+=ae[0],this.match+=ae[0],this.matches=ae,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ae[0].length),this.matched+=ae[0],Ne=this.performAction.call(this,this.yy,this,Le,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ne)return Ne;if(this._backtrack){for(var Pe in Oe)this[Pe]=Oe[Pe];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ae,Le,Ne,Ie;this._more||(this.yytext="",this.match="");for(var Oe=this._currentRules(),Pe=0;Pe<Oe.length;Pe++)if(Ne=this._input.match(this.rules[Oe[Pe]]),Ne&&(!Le||Ne[0].length>Le[0].length)){if(Le=Ne,Ie=Pe,this.options.backtrack_lexer){if(ae=this.test_match(Ne,Oe[Pe]),ae!==!1)return ae;if(this._backtrack){Le=!1;continue}else return!1}else if(!this.options.flex)break}return Le?(ae=this.test_match(Le,Oe[Ie]),ae!==!1?ae:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var Le=this.next();return Le||this.lex()},"lex"),begin:k(function(Le){this.conditionStack.push(Le)},"begin"),popState:k(function(){var Le=this.conditionStack.length-1;return Le>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(Le){return Le=this.conditionStack.length-1-Math.abs(Le||0),Le>=0?this.conditionStack[Le]:"INITIAL"},"topState"),pushState:k(function(Le){this.begin(Le)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:k(function(Le,Ne,Ie,Oe){switch(Ie){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return _e}();te.lexer=he;function K(){this.yy={}}return k(K,"Parser"),K.prototype=te,te.Parser=K,new K}();l9.parser=l9;var Mqe=l9,Ms=lR(),F1,Nqe=(F1=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){var e,r,n,i,a,s,o,l,u,h,f,d,p,m,v,x,y,w;return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:((e=Zr.quadrantChart)==null?void 0:e.chartWidth)||500,chartWidth:((r=Zr.quadrantChart)==null?void 0:r.chartHeight)||500,titlePadding:((n=Zr.quadrantChart)==null?void 0:n.titlePadding)||10,titleFontSize:((i=Zr.quadrantChart)==null?void 0:i.titleFontSize)||20,quadrantPadding:((a=Zr.quadrantChart)==null?void 0:a.quadrantPadding)||5,xAxisLabelPadding:((s=Zr.quadrantChart)==null?void 0:s.xAxisLabelPadding)||5,yAxisLabelPadding:((o=Zr.quadrantChart)==null?void 0:o.yAxisLabelPadding)||5,xAxisLabelFontSize:((l=Zr.quadrantChart)==null?void 0:l.xAxisLabelFontSize)||16,yAxisLabelFontSize:((u=Zr.quadrantChart)==null?void 0:u.yAxisLabelFontSize)||16,quadrantLabelFontSize:((h=Zr.quadrantChart)==null?void 0:h.quadrantLabelFontSize)||16,quadrantTextTopPadding:((f=Zr.quadrantChart)==null?void 0:f.quadrantTextTopPadding)||5,pointTextPadding:((d=Zr.quadrantChart)==null?void 0:d.pointTextPadding)||5,pointLabelFontSize:((p=Zr.quadrantChart)==null?void 0:p.pointLabelFontSize)||12,pointRadius:((m=Zr.quadrantChart)==null?void 0:m.pointRadius)||5,xAxisPosition:((v=Zr.quadrantChart)==null?void 0:v.xAxisPosition)||"top",yAxisPosition:((x=Zr.quadrantChart)==null?void 0:x.yAxisPosition)||"left",quadrantInternalBorderStrokeWidth:((y=Zr.quadrantChart)==null?void 0:y.quadrantInternalBorderStrokeWidth)||1,quadrantExternalBorderStrokeWidth:((w=Zr.quadrantChart)==null?void 0:w.quadrantExternalBorderStrokeWidth)||2}}getDefaultThemeConfig(){return{quadrant1Fill:Ms.quadrant1Fill,quadrant2Fill:Ms.quadrant2Fill,quadrant3Fill:Ms.quadrant3Fill,quadrant4Fill:Ms.quadrant4Fill,quadrant1TextFill:Ms.quadrant1TextFill,quadrant2TextFill:Ms.quadrant2TextFill,quadrant3TextFill:Ms.quadrant3TextFill,quadrant4TextFill:Ms.quadrant4TextFill,quadrantPointFill:Ms.quadrantPointFill,quadrantPointTextFill:Ms.quadrantPointTextFill,quadrantXAxisTextFill:Ms.quadrantXAxisTextFill,quadrantYAxisTextFill:Ms.quadrantYAxisTextFill,quadrantTitleFill:Ms.quadrantTitleFill,quadrantInternalBorderStrokeFill:Ms.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:Ms.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,Ee.info("clear called")}setData(e){this.data={...this.data,...e}}addPoints(e){this.data.points=[...e,...this.data.points]}addClass(e,r){this.classes.set(e,r)}setConfig(e){Ee.trace("setConfig called with: ",e),this.config={...this.config,...e}}setThemeConfig(e){Ee.trace("setThemeConfig called with: ",e),this.themeConfig={...this.themeConfig,...e}}calculateSpace(e,r,n,i){const a=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,s={top:e==="top"&&r?a:0,bottom:e==="bottom"&&r?a:0},o=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,l={left:this.config.yAxisPosition==="left"&&n?o:0,right:this.config.yAxisPosition==="right"&&n?o:0},u=this.config.titleFontSize+this.config.titlePadding*2,h={top:i?u:0},f=this.config.quadrantPadding+l.left,d=this.config.quadrantPadding+s.top+h.top,p=this.config.chartWidth-this.config.quadrantPadding*2-l.left-l.right,m=this.config.chartHeight-this.config.quadrantPadding*2-s.top-s.bottom-h.top,v=p/2,x=m/2;return{xAxisSpace:s,yAxisSpace:l,titleSpace:h,quadrantSpace:{quadrantLeft:f,quadrantTop:d,quadrantWidth:p,quadrantHalfWidth:v,quadrantHeight:m,quadrantHalfHeight:x}}}getAxisLabels(e,r,n,i){const{quadrantSpace:a,titleSpace:s}=i,{quadrantHalfHeight:o,quadrantHeight:l,quadrantLeft:u,quadrantHalfWidth:h,quadrantTop:f,quadrantWidth:d}=a,p=!!this.data.xAxisRightText,m=!!this.data.yAxisTopText,v=[];return this.data.xAxisLeftText&&r&&v.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+(p?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+f+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:p?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&r&&v.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+h+(p?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+f+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:p?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&n&&v.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+d+this.config.quadrantPadding,y:f+l-(m?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:m?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&n&&v.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+d+this.config.quadrantPadding,y:f+o-(m?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:m?"center":"left",horizontalPos:"top",rotation:-90}),v}getQuadrants(e){const{quadrantSpace:r}=e,{quadrantHalfHeight:n,quadrantLeft:i,quadrantHalfWidth:a,quadrantTop:s}=r,o=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+a,y:s,width:a,height:n,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:s,width:a,height:n,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:s+n,width:a,height:n,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+a,y:s+n,width:a,height:n,fill:this.themeConfig.quadrant4Fill}];for(const l of o)l.text.x=l.x+l.width/2,this.data.points.length===0?(l.text.y=l.y+l.height/2,l.text.horizontalPos="middle"):(l.text.y=l.y+this.config.quadrantTextTopPadding,l.text.horizontalPos="top");return o}getQuadrantPoints(e){const{quadrantSpace:r}=e,{quadrantHeight:n,quadrantLeft:i,quadrantTop:a,quadrantWidth:s}=r,o=gm().domain([0,1]).range([i,s+i]),l=gm().domain([0,1]).range([n+a,a]);return this.data.points.map(h=>{const f=this.classes.get(h.className);return f&&(h={...f,...h}),{x:o(h.x),y:l(h.y),fill:h.color??this.themeConfig.quadrantPointFill,radius:h.radius??this.config.pointRadius,text:{text:h.text,fill:this.themeConfig.quadrantPointTextFill,x:o(h.x),y:l(h.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:h.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:h.strokeWidth??"0px"}})}getBorders(e){const r=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:n}=e,{quadrantHalfHeight:i,quadrantHeight:a,quadrantLeft:s,quadrantHalfWidth:o,quadrantTop:l,quadrantWidth:u}=n;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-r,y1:l,x2:s+u+r,y2:l},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s+u,y1:l+r,x2:s+u,y2:l+a-r},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-r,y1:l+a,x2:s+u+r,y2:l+a},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s,y1:l+r,x2:s,y2:l+a-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+o,y1:l+r,x2:s+o,y2:l+a-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+r,y1:l+i,x2:s+u-r,y2:l+i}]}getTitle(e){if(e)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){const e=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),r=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),n=this.config.showTitle&&!!this.data.titleText,i=this.data.points.length>0?"bottom":this.config.xAxisPosition,a=this.calculateSpace(i,e,r,n);return{points:this.getQuadrantPoints(a),quadrants:this.getQuadrants(a),axisLabels:this.getAxisLabels(i,e,r,a),borderLines:this.getBorders(a),title:this.getTitle(n)}}},k(F1,"QuadrantBuilder"),F1),B1,Dw=(B1=class extends Error{constructor(e,r,n){super(`value for ${e} ${r} is invalid, please use a valid ${n}`),this.name="InvalidStyleError"}},k(B1,"InvalidStyleError"),B1);function u9(t){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(t)}k(u9,"validateHexCode");function ile(t){return!/^\d+$/.test(t)}k(ile,"validateNumber");function ale(t){return!/^\d+px$/.test(t)}k(ale,"validateSizeInPixels");var Iqe=Ue();function mc(t){return Dn(t.trim(),Iqe)}k(mc,"textSanitizer");var $a=new Nqe;function sle(t){$a.setData({quadrant1Text:mc(t.text)})}k(sle,"setQuadrant1Text");function ole(t){$a.setData({quadrant2Text:mc(t.text)})}k(ole,"setQuadrant2Text");function lle(t){$a.setData({quadrant3Text:mc(t.text)})}k(lle,"setQuadrant3Text");function ule(t){$a.setData({quadrant4Text:mc(t.text)})}k(ule,"setQuadrant4Text");function cle(t){$a.setData({xAxisLeftText:mc(t.text)})}k(cle,"setXAxisLeftText");function hle(t){$a.setData({xAxisRightText:mc(t.text)})}k(hle,"setXAxisRightText");function fle(t){$a.setData({yAxisTopText:mc(t.text)})}k(fle,"setYAxisTopText");function dle(t){$a.setData({yAxisBottomText:mc(t.text)})}k(dle,"setYAxisBottomText");function FT(t){const e={};for(const r of t){const[n,i]=r.trim().split(/\s*:\s*/);if(n==="radius"){if(ile(i))throw new Dw(n,i,"number");e.radius=parseInt(i)}else if(n==="color"){if(u9(i))throw new Dw(n,i,"hex code");e.color=i}else if(n==="stroke-color"){if(u9(i))throw new Dw(n,i,"hex code");e.strokeColor=i}else if(n==="stroke-width"){if(ale(i))throw new Dw(n,i,"number of pixels (eg. 10px)");e.strokeWidth=i}else throw new Error(`style named ${n} is not supported.`)}return e}k(FT,"parseStyles");function ple(t,e,r,n,i){const a=FT(i);$a.addPoints([{x:r,y:n,text:mc(t.text),className:e,...a}])}k(ple,"addPoint");function gle(t,e){$a.addClass(t,FT(e))}k(gle,"addClass");function mle(t){$a.setConfig({chartWidth:t})}k(mle,"setWidth");function vle(t){$a.setConfig({chartHeight:t})}k(vle,"setHeight");function yle(){const t=Ue(),{themeVariables:e,quadrantChart:r}=t;return r&&$a.setConfig(r),$a.setThemeConfig({quadrant1Fill:e.quadrant1Fill,quadrant2Fill:e.quadrant2Fill,quadrant3Fill:e.quadrant3Fill,quadrant4Fill:e.quadrant4Fill,quadrant1TextFill:e.quadrant1TextFill,quadrant2TextFill:e.quadrant2TextFill,quadrant3TextFill:e.quadrant3TextFill,quadrant4TextFill:e.quadrant4TextFill,quadrantPointFill:e.quadrantPointFill,quadrantPointTextFill:e.quadrantPointTextFill,quadrantXAxisTextFill:e.quadrantXAxisTextFill,quadrantYAxisTextFill:e.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:e.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:e.quadrantInternalBorderStrokeFill,quadrantTitleFill:e.quadrantTitleFill}),$a.setData({titleText:Xa()}),$a.build()}k(yle,"getQuadrantData");var Oqe=k(function(){$a.clear(),Ea()},"clear"),Pqe={setWidth:mle,setHeight:vle,setQuadrant1Text:sle,setQuadrant2Text:ole,setQuadrant3Text:lle,setQuadrant4Text:ule,setXAxisLeftText:cle,setXAxisRightText:hle,setYAxisTopText:fle,setYAxisBottomText:dle,parseStyles:FT,addPoint:ple,addClass:gle,getQuadrantData:yle,clear:Oqe,setAccTitle:Ta,getAccTitle:Wa,setDiagramTitle:js,getDiagramTitle:Xa,getAccDescription:Ya,setAccDescription:qa},Fqe=k((t,e,r,n)=>{var I,D,F;function i(M){return M==="top"?"hanging":"middle"}k(i,"getDominantBaseLine");function a(M){return M==="left"?"start":"middle"}k(a,"getTextAnchor");function s(M){return`translate(${M.x}, ${M.y}) rotate(${M.rotation||0})`}k(s,"getTransformation");const o=Ue();Ee.debug(`Rendering quadrant chart
`+t);const l=o.securityLevel;let u;l==="sandbox"&&(u=bt("#i"+e));const f=bt(l==="sandbox"?u.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`),d=f.append("g").attr("class","main"),p=((I=o.quadrantChart)==null?void 0:I.chartWidth)??500,m=((D=o.quadrantChart)==null?void 0:D.chartHeight)??500;xs(f,m,p,((F=o.quadrantChart)==null?void 0:F.useMaxWidth)??!0),f.attr("viewBox","0 0 "+p+" "+m),n.db.setHeight(m),n.db.setWidth(p);const v=n.db.getQuadrantData(),x=d.append("g").attr("class","quadrants"),y=d.append("g").attr("class","border"),w=d.append("g").attr("class","data-points"),S=d.append("g").attr("class","labels"),E=d.append("g").attr("class","title");v.title&&E.append("text").attr("x",0).attr("y",0).attr("fill",v.title.fill).attr("font-size",v.title.fontSize).attr("dominant-baseline",i(v.title.horizontalPos)).attr("text-anchor",a(v.title.verticalPos)).attr("transform",s(v.title)).text(v.title.text),v.borderLines&&y.selectAll("line").data(v.borderLines).enter().append("line").attr("x1",M=>M.x1).attr("y1",M=>M.y1).attr("x2",M=>M.x2).attr("y2",M=>M.y2).style("stroke",M=>M.strokeFill).style("stroke-width",M=>M.strokeWidth);const C=x.selectAll("g.quadrant").data(v.quadrants).enter().append("g").attr("class","quadrant");C.append("rect").attr("x",M=>M.x).attr("y",M=>M.y).attr("width",M=>M.width).attr("height",M=>M.height).attr("fill",M=>M.fill),C.append("text").attr("x",0).attr("y",0).attr("fill",M=>M.text.fill).attr("font-size",M=>M.text.fontSize).attr("dominant-baseline",M=>i(M.text.horizontalPos)).attr("text-anchor",M=>a(M.text.verticalPos)).attr("transform",M=>s(M.text)).text(M=>M.text.text),S.selectAll("g.label").data(v.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(M=>M.text).attr("fill",M=>M.fill).attr("font-size",M=>M.fontSize).attr("dominant-baseline",M=>i(M.horizontalPos)).attr("text-anchor",M=>a(M.verticalPos)).attr("transform",M=>s(M));const _=w.selectAll("g.data-point").data(v.points).enter().append("g").attr("class","data-point");_.append("circle").attr("cx",M=>M.x).attr("cy",M=>M.y).attr("r",M=>M.radius).attr("fill",M=>M.fill).attr("stroke",M=>M.strokeColor).attr("stroke-width",M=>M.strokeWidth),_.append("text").attr("x",0).attr("y",0).text(M=>M.text.text).attr("fill",M=>M.text.fill).attr("font-size",M=>M.text.fontSize).attr("dominant-baseline",M=>i(M.text.horizontalPos)).attr("text-anchor",M=>a(M.text.verticalPos)).attr("transform",M=>s(M.text))},"draw"),Bqe={draw:Fqe},$qe={parser:Mqe,db:Pqe,renderer:Bqe,styles:k(()=>"","styles")};const zqe=Object.freeze(Object.defineProperty({__proto__:null,diagram:$qe},Symbol.toStringTag,{value:"Module"}));var c9=function(){var t=k(function(O,P,z,$){for(z=z||{},$=O.length;$--;z[O[$]]=P);return z},"o"),e=[1,10,12,14,16,18,19,21,23],r=[2,6],n=[1,3],i=[1,5],a=[1,6],s=[1,7],o=[1,5,10,12,14,16,18,19,21,23,34,35,36],l=[1,25],u=[1,26],h=[1,28],f=[1,29],d=[1,30],p=[1,31],m=[1,32],v=[1,33],x=[1,34],y=[1,35],w=[1,36],S=[1,37],E=[1,43],C=[1,42],L=[1,47],_=[1,50],I=[1,10,12,14,16,18,19,21,23,34,35,36],D=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],F=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],M=[1,64],B={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:k(function(P,z,$,V,X,q,Y){var U=q.length-1;switch(X){case 5:V.setOrientation(q[U]);break;case 9:V.setDiagramTitle(q[U].text.trim());break;case 12:V.setLineData({text:"",type:"text"},q[U]);break;case 13:V.setLineData(q[U-1],q[U]);break;case 14:V.setBarData({text:"",type:"text"},q[U]);break;case 15:V.setBarData(q[U-1],q[U]);break;case 16:this.$=q[U].trim(),V.setAccTitle(this.$);break;case 17:case 18:this.$=q[U].trim(),V.setAccDescription(this.$);break;case 19:this.$=q[U-1];break;case 20:this.$=[Number(q[U-2]),...q[U]];break;case 21:this.$=[Number(q[U])];break;case 22:V.setXAxisTitle(q[U]);break;case 23:V.setXAxisTitle(q[U-1]);break;case 24:V.setXAxisTitle({type:"text",text:""});break;case 25:V.setXAxisBand(q[U]);break;case 26:V.setXAxisRangeData(Number(q[U-2]),Number(q[U]));break;case 27:this.$=q[U-1];break;case 28:this.$=[q[U-2],...q[U]];break;case 29:this.$=[q[U]];break;case 30:V.setYAxisTitle(q[U]);break;case 31:V.setYAxisTitle(q[U-1]);break;case 32:V.setYAxisTitle({type:"text",text:""});break;case 33:V.setYAxisRangeData(Number(q[U-2]),Number(q[U]));break;case 37:this.$={text:q[U],type:"text"};break;case 38:this.$={text:q[U],type:"text"};break;case 39:this.$={text:q[U],type:"markdown"};break;case 40:this.$=q[U];break;case 41:this.$=q[U-1]+""+q[U];break}},"anonymous"),table:[t(e,r,{3:1,4:2,7:4,5:n,34:i,35:a,36:s}),{1:[3]},t(e,r,{4:2,7:4,3:8,5:n,34:i,35:a,36:s}),t(e,r,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:i,35:a,36:s}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},t(o,[2,34]),t(o,[2,35]),t(o,[2,36]),{1:[2,1]},t(e,r,{4:2,7:4,3:21,5:n,34:i,35:a,36:s}),{1:[2,3]},t(o,[2,5]),t(e,[2,7],{4:22,34:i,35:a,36:s}),{11:23,37:24,38:l,39:u,40:27,41:h,42:f,43:d,44:p,45:m,46:v,47:x,48:y,49:w,50:S},{11:39,13:38,24:E,27:C,29:40,30:41,37:24,38:l,39:u,40:27,41:h,42:f,43:d,44:p,45:m,46:v,47:x,48:y,49:w,50:S},{11:45,15:44,27:L,33:46,37:24,38:l,39:u,40:27,41:h,42:f,43:d,44:p,45:m,46:v,47:x,48:y,49:w,50:S},{11:49,17:48,24:_,37:24,38:l,39:u,40:27,41:h,42:f,43:d,44:p,45:m,46:v,47:x,48:y,49:w,50:S},{11:52,17:51,24:_,37:24,38:l,39:u,40:27,41:h,42:f,43:d,44:p,45:m,46:v,47:x,48:y,49:w,50:S},{20:[1,53]},{22:[1,54]},t(I,[2,18]),{1:[2,2]},t(I,[2,8]),t(I,[2,9]),t(D,[2,37],{40:55,41:h,42:f,43:d,44:p,45:m,46:v,47:x,48:y,49:w,50:S}),t(D,[2,38]),t(D,[2,39]),t(F,[2,40]),t(F,[2,42]),t(F,[2,43]),t(F,[2,44]),t(F,[2,45]),t(F,[2,46]),t(F,[2,47]),t(F,[2,48]),t(F,[2,49]),t(F,[2,50]),t(F,[2,51]),t(I,[2,10]),t(I,[2,22],{30:41,29:56,24:E,27:C}),t(I,[2,24]),t(I,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:l,39:u,40:27,41:h,42:f,43:d,44:p,45:m,46:v,47:x,48:y,49:w,50:S},t(I,[2,11]),t(I,[2,30],{33:60,27:L}),t(I,[2,32]),{31:[1,61]},t(I,[2,12]),{17:62,24:_},{25:63,27:M},t(I,[2,14]),{17:65,24:_},t(I,[2,16]),t(I,[2,17]),t(F,[2,41]),t(I,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},t(I,[2,31]),{27:[1,69]},t(I,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},t(I,[2,15]),t(I,[2,26]),t(I,[2,27]),{11:59,32:72,37:24,38:l,39:u,40:27,41:h,42:f,43:d,44:p,45:m,46:v,47:x,48:y,49:w,50:S},t(I,[2,33]),t(I,[2,19]),{25:73,27:M},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:k(function(P,z){if(z.recoverable)this.trace(P);else{var $=new Error(P);throw $.hash=z,$}},"parseError"),parse:k(function(P){var z=this,$=[0],V=[],X=[null],q=[],Y=this.table,U="",Z=0,pe=0,ne=2,ge=1,ye=q.slice.call(arguments,1),J=Object.create(this.lexer),se={yy:{}};for(var oe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,oe)&&(se.yy[oe]=this.yy[oe]);J.setInput(P,se.yy),se.yy.lexer=J,se.yy.parser=this,typeof J.yylloc>"u"&&(J.yylloc={});var fe=J.yylloc;q.push(fe);var me=J.options&&J.options.ranges;typeof se.yy.parseError=="function"?this.parseError=se.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function be(de){$.length=$.length-2*de,X.length=X.length-de,q.length=q.length-de}k(be,"popStack");function ce(){var de;return de=V.pop()||J.lex()||ge,typeof de!="number"&&(de instanceof Array&&(V=de,de=V.pop()),de=z.symbols_[de]||de),de}k(ce,"lex");for(var Ge,xe,le,ke,De={},We,qe,Ve,we;;){if(xe=$[$.length-1],this.defaultActions[xe]?le=this.defaultActions[xe]:((Ge===null||typeof Ge>"u")&&(Ge=ce()),le=Y[xe]&&Y[xe][Ge]),typeof le>"u"||!le.length||!le[0]){var Te="";we=[];for(We in Y[xe])this.terminals_[We]&&We>ne&&we.push("'"+this.terminals_[We]+"'");J.showPosition?Te="Parse error on line "+(Z+1)+`:
`+J.showPosition()+`
Expecting `+we.join(", ")+", got '"+(this.terminals_[Ge]||Ge)+"'":Te="Parse error on line "+(Z+1)+": Unexpected "+(Ge==ge?"end of input":"'"+(this.terminals_[Ge]||Ge)+"'"),this.parseError(Te,{text:J.match,token:this.terminals_[Ge]||Ge,line:J.yylineno,loc:fe,expected:we})}if(le[0]instanceof Array&&le.length>1)throw new Error("Parse Error: multiple actions possible at state: "+xe+", token: "+Ge);switch(le[0]){case 1:$.push(Ge),X.push(J.yytext),q.push(J.yylloc),$.push(le[1]),Ge=null,pe=J.yyleng,U=J.yytext,Z=J.yylineno,fe=J.yylloc;break;case 2:if(qe=this.productions_[le[1]][1],De.$=X[X.length-qe],De._$={first_line:q[q.length-(qe||1)].first_line,last_line:q[q.length-1].last_line,first_column:q[q.length-(qe||1)].first_column,last_column:q[q.length-1].last_column},me&&(De._$.range=[q[q.length-(qe||1)].range[0],q[q.length-1].range[1]]),ke=this.performAction.apply(De,[U,pe,Z,se.yy,le[1],X,q].concat(ye)),typeof ke<"u")return ke;qe&&($=$.slice(0,-1*qe*2),X=X.slice(0,-1*qe),q=q.slice(0,-1*qe)),$.push(this.productions_[le[1]][0]),X.push(De.$),q.push(De._$),Ve=Y[$[$.length-2]][$[$.length-1]],$.push(Ve);break;case 3:return!0}}return!0},"parse")},H=function(){var O={EOF:1,parseError:k(function(z,$){if(this.yy.parser)this.yy.parser.parseError(z,$);else throw new Error(z)},"parseError"),setInput:k(function(P,z){return this.yy=z||this.yy||{},this._input=P,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var P=this._input[0];this.yytext+=P,this.yyleng++,this.offset++,this.match+=P,this.matched+=P;var z=P.match(/(?:\r\n?|\n).*/g);return z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),P},"input"),unput:k(function(P){var z=P.length,$=P.split(/(?:\r\n?|\n)/g);this._input=P+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-z),this.offset-=z;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$.length-1&&(this.yylineno-=$.length-1);var X=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$?($.length===V.length?this.yylloc.first_column:0)+V[V.length-$.length].length-$[0].length:this.yylloc.first_column-z},this.options.ranges&&(this.yylloc.range=[X[0],X[0]+this.yyleng-z]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(P){this.unput(this.match.slice(P))},"less"),pastInput:k(function(){var P=this.matched.substr(0,this.matched.length-this.match.length);return(P.length>20?"...":"")+P.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var P=this.match;return P.length<20&&(P+=this._input.substr(0,20-P.length)),(P.substr(0,20)+(P.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var P=this.pastInput(),z=new Array(P.length+1).join("-");return P+this.upcomingInput()+`
`+z+"^"},"showPosition"),test_match:k(function(P,z){var $,V,X;if(this.options.backtrack_lexer&&(X={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(X.yylloc.range=this.yylloc.range.slice(0))),V=P[0].match(/(?:\r\n?|\n).*/g),V&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+P[0].length},this.yytext+=P[0],this.match+=P[0],this.matches=P,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(P[0].length),this.matched+=P[0],$=this.performAction.call(this,this.yy,this,z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$)return $;if(this._backtrack){for(var q in X)this[q]=X[q];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var P,z,$,V;this._more||(this.yytext="",this.match="");for(var X=this._currentRules(),q=0;q<X.length;q++)if($=this._input.match(this.rules[X[q]]),$&&(!z||$[0].length>z[0].length)){if(z=$,V=q,this.options.backtrack_lexer){if(P=this.test_match($,X[q]),P!==!1)return P;if(this._backtrack){z=!1;continue}else return!1}else if(!this.options.flex)break}return z?(P=this.test_match(z,X[V]),P!==!1?P:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var z=this.next();return z||this.lex()},"lex"),begin:k(function(z){this.conditionStack.push(z)},"begin"),popState:k(function(){var z=this.conditionStack.length-1;return z>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(z){return z=this.conditionStack.length-1-Math.abs(z||0),z>=0?this.conditionStack[z]:"INITIAL"},"topState"),pushState:k(function(z){this.begin(z)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:k(function(z,$,V,X){switch(V){case 0:break;case 1:break;case 2:return this.popState(),34;case 3:return this.popState(),34;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";case 17:return this.pushState("axis_data"),"Y_AXIS";case 18:return this.pushState("axis_band_data"),24;case 19:return 31;case 20:return this.pushState("data"),16;case 21:return this.pushState("data"),18;case 22:return this.pushState("data_inner"),24;case 23:return 27;case 24:return this.popState(),26;case 25:this.popState();break;case 26:this.pushState("string");break;case 27:this.popState();break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 43:break;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}};return O}();B.lexer=H;function R(){this.yy={}}return k(R,"Parser"),R.prototype=B,B.Parser=R,new R}();c9.parser=c9;var Hqe=c9;function h9(t){return t.type==="bar"}k(h9,"isBarPlot");function lI(t){return t.type==="band"}k(lI,"isBandAxisData");function o1(t){return t.type==="linear"}k(o1,"isLinearAxisData");var $1,xle=($1=class{constructor(e){this.parentGroup=e}getMaxDimension(e,r){if(!this.parentGroup)return{width:e.reduce((a,s)=>Math.max(s.length,a),0)*r,height:r};const n={width:0,height:0},i=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",r);for(const a of e){const s=GJ(i,1,a),o=s?s.width:a.length*r,l=s?s.height:r;n.width=Math.max(n.width,o),n.height=Math.max(n.height,l)}return i.remove(),n}},k($1,"TextDimensionCalculatorWithFont"),$1),gG=.7,mG=.2,z1,ble=(z1=class{constructor(e,r,n,i){this.axisConfig=e,this.title=r,this.textDimensionCalculator=n,this.axisThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}setRange(e){this.range=e,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=e[1]-e[0]:this.boundingRect.width=e[1]-e[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(e){this.axisPosition=e,this.setRange(this.range)}getTickDistance(){const e=this.getRange();return Math.abs(e[0]-e[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(e=>e.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){gG*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(gG*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(e){let r=e.height;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),i=mG*e.width;this.outerPadding=Math.min(n.width/2,i);const a=n.height+this.axisConfig.labelPadding*2;this.labelTextHeight=n.height,a<=r&&(r-=a,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=e.width,this.boundingRect.height=e.height-r}calculateSpaceIfDrawnVertical(e){let r=e.width;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),i=mG*e.height;this.outerPadding=Math.min(n.height/2,i);const a=n.width+this.axisConfig.labelPadding*2;a<=r&&(r-=a,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=e.width-r,this.boundingRect.height=e.height}calculateSpace(e){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(e):this.calculateSpaceIfDrawnHorizontally(e),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}getDrawableElementsForLeftAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${r},${this.boundingRect.y} L ${r},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(r),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){const r=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${r},${this.getScaleValue(n)} L ${r-this.axisConfig.tickLength},${this.getScaleValue(n)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForBottomAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.y+this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r} L ${this.getScaleValue(n)},${r+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForTopAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y;e.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(n)},${r+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}},k(z1,"BaseAxis"),z1),H1,Vqe=(H1=class extends ble{constructor(e,r,n,i,a){super(e,i,a,r),this.categories=n,this.scale=T_().domain(this.categories).range(this.getRange())}setRange(e){super.setRange(e)}recalculateScale(){this.scale=T_().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),Ee.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(e){return this.scale(e)??this.getRange()[0]}},k(H1,"BandAxis"),H1),V1,Uqe=(V1=class extends ble{constructor(e,r,n,i,a){super(e,i,a,r),this.domain=n,this.scale=gm().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){const e=[...this.domain];this.axisPosition==="left"&&e.reverse(),this.scale=gm().domain(e).range(this.getRange())}getScaleValue(e){return this.scale(e)}},k(V1,"LinearAxis"),V1);function f9(t,e,r,n){const i=new xle(n);return lI(t)?new Vqe(e,r,t.categories,t.title,i):new Uqe(e,r,[t.min,t.max],t.title,i)}k(f9,"getAxis");var U1,Gqe=(U1=class{constructor(e,r,n,i){this.textDimensionCalculator=e,this.chartConfig=r,this.chartData=n,this.chartThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){const r=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),n=Math.max(r.width,e.width),i=r.height+2*this.chartConfig.titlePadding;return r.width<=n&&r.height<=i&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=n,this.boundingRect.height=i,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){const e=[];return this.showChartTitle&&e.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),e}},k(U1,"ChartTitle"),U1);function wle(t,e,r,n){const i=new xle(n);return new Gqe(i,t,e,r)}k(wle,"getChartTitleComponent");var G1,Wqe=(G1=class{constructor(e,r,n,i,a){this.plotData=e,this.xAxis=r,this.yAxis=n,this.orientation=i,this.plotIndex=a}getDrawableElement(){const e=this.plotData.data.map(n=>[this.xAxis.getScaleValue(n[0]),this.yAxis.getScaleValue(n[1])]);let r;return this.orientation==="horizontal"?r=H0().y(n=>n[0]).x(n=>n[1])(e):r=H0().x(n=>n[0]).y(n=>n[1])(e),r?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:r,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}},k(G1,"LinePlot"),G1),W1,qqe=(W1=class{constructor(e,r,n,i,a,s){this.barData=e,this.boundingRect=r,this.xAxis=n,this.yAxis=i,this.orientation=a,this.plotIndex=s}getDrawableElement(){const e=this.barData.data.map(a=>[this.xAxis.getScaleValue(a[0]),this.yAxis.getScaleValue(a[1])]),n=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-.05),i=n/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(a=>({x:this.boundingRect.x,y:a[0]-i,height:n,width:a[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(a=>({x:a[0]-i,y:a[1],width:n,height:this.boundingRect.y+this.boundingRect.height-a[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},k(W1,"BarPlot"),W1),q1,Yqe=(q1=class{constructor(e,r,n){this.chartConfig=e,this.chartData=r,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0}}setAxes(e,r){this.xAxis=e,this.yAxis=r}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){return this.boundingRect.width=e.width,this.boundingRect.height=e.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");const e=[];for(const[r,n]of this.chartData.plots.entries())switch(n.type){case"line":{const i=new Wqe(n,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);e.push(...i.getDrawableElement())}break;case"bar":{const i=new qqe(n,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);e.push(...i.getDrawableElement())}break}return e}},k(q1,"BasePlot"),q1);function Sle(t,e,r){return new Yqe(t,e,r)}k(Sle,"getPlotComponent");var Y1,Xqe=(Y1=class{constructor(e,r,n,i){this.chartConfig=e,this.chartData=r,this.componentStore={title:wle(e,r,n,i),plot:Sle(e,r,n),xAxis:f9(r.xAxis,e.xAxis,{titleColor:n.xAxisTitleColor,labelColor:n.xAxisLabelColor,tickColor:n.xAxisTickColor,axisLineColor:n.xAxisLineColor},i),yAxis:f9(r.yAxis,e.yAxis,{titleColor:n.yAxisTitleColor,labelColor:n.yAxisLabelColor,tickColor:n.yAxisTickColor,axisLineColor:n.yAxisLineColor},i)}}calculateVerticalSpace(){let e=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,a=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),s=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),o=this.componentStore.plot.calculateSpace({width:a,height:s});e-=o.width,r-=o.height,o=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),i=o.height,r-=o.height,this.componentStore.xAxis.setAxisPosition("bottom"),o=this.componentStore.xAxis.calculateSpace({width:e,height:r}),r-=o.height,this.componentStore.yAxis.setAxisPosition("left"),o=this.componentStore.yAxis.calculateSpace({width:e,height:r}),n=o.width,e-=o.width,e>0&&(a+=e,e=0),r>0&&(s+=r,r=0),this.componentStore.plot.calculateSpace({width:a,height:s}),this.componentStore.plot.setBoundingBoxXY({x:n,y:i}),this.componentStore.xAxis.setRange([n,n+a]),this.componentStore.xAxis.setBoundingBoxXY({x:n,y:i+s}),this.componentStore.yAxis.setRange([i,i+s]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:i}),this.chartData.plots.some(l=>h9(l))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let e=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,a=0,s=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),o=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),l=this.componentStore.plot.calculateSpace({width:s,height:o});e-=l.width,r-=l.height,l=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),n=l.height,r-=l.height,this.componentStore.xAxis.setAxisPosition("left"),l=this.componentStore.xAxis.calculateSpace({width:e,height:r}),e-=l.width,i=l.width,this.componentStore.yAxis.setAxisPosition("top"),l=this.componentStore.yAxis.calculateSpace({width:e,height:r}),r-=l.height,a=n+l.height,e>0&&(s+=e,e=0),r>0&&(o+=r,r=0),this.componentStore.plot.calculateSpace({width:s,height:o}),this.componentStore.plot.setBoundingBoxXY({x:i,y:a}),this.componentStore.yAxis.setRange([i,i+s]),this.componentStore.yAxis.setBoundingBoxXY({x:i,y:n}),this.componentStore.xAxis.setRange([a,a+o]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:a}),this.chartData.plots.some(u=>h9(u))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();const e=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(const r of Object.values(this.componentStore))e.push(...r.getDrawableElements());return e}},k(Y1,"Orchestrator"),Y1),X1,jqe=(X1=class{static build(e,r,n,i){return new Xqe(e,r,n,i).getDrawableElement()}},k(X1,"XYChartBuilder"),X1),Ox=0,kle,Px=hI(),Fx=cI(),wn=fI(),d9=Fx.plotColorPalette.split(",").map(t=>t.trim()),BT=!1,uI=!1;function cI(){const t=lR(),e=ai();return Dh(t.xyChart,e.themeVariables.xyChart)}k(cI,"getChartDefaultThemeConfig");function hI(){const t=ai();return Dh(Zr.xyChart,t.xyChart)}k(hI,"getChartDefaultConfig");function fI(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}k(fI,"getChartDefaultData");function $T(t){const e=ai();return Dn(t.trim(),e)}k($T,"textSanitizer");function Ele(t){kle=t}k(Ele,"setTmpSVGG");function Tle(t){t==="horizontal"?Px.chartOrientation="horizontal":Px.chartOrientation="vertical"}k(Tle,"setOrientation");function Cle(t){wn.xAxis.title=$T(t.text)}k(Cle,"setXAxisTitle");function dI(t,e){wn.xAxis={type:"linear",title:wn.xAxis.title,min:t,max:e},BT=!0}k(dI,"setXAxisRangeData");function Ale(t){wn.xAxis={type:"band",title:wn.xAxis.title,categories:t.map(e=>$T(e.text))},BT=!0}k(Ale,"setXAxisBand");function _le(t){wn.yAxis.title=$T(t.text)}k(_le,"setYAxisTitle");function Lle(t,e){wn.yAxis={type:"linear",title:wn.yAxis.title,min:t,max:e},uI=!0}k(Lle,"setYAxisRangeData");function Dle(t){const e=Math.min(...t),r=Math.max(...t),n=o1(wn.yAxis)?wn.yAxis.min:1/0,i=o1(wn.yAxis)?wn.yAxis.max:-1/0;wn.yAxis={type:"linear",title:wn.yAxis.title,min:Math.min(n,e),max:Math.max(i,r)}}k(Dle,"setYAxisRangeFromPlotData");function pI(t){let e=[];if(t.length===0)return e;if(!BT){const r=o1(wn.xAxis)?wn.xAxis.min:1/0,n=o1(wn.xAxis)?wn.xAxis.max:-1/0;dI(Math.min(r,1),Math.max(n,t.length))}if(uI||Dle(t),lI(wn.xAxis)&&(e=wn.xAxis.categories.map((r,n)=>[r,t[n]])),o1(wn.xAxis)){const r=wn.xAxis.min,n=wn.xAxis.max,i=(n-r)/(t.length-1),a=[];for(let s=r;s<=n;s+=i)a.push(`${s}`);e=a.map((s,o)=>[s,t[o]])}return e}k(pI,"transformDataWithoutCategory");function gI(t){return d9[t===0?0:t%d9.length]}k(gI,"getPlotColorFromPalette");function Rle(t,e){const r=pI(e);wn.plots.push({type:"line",strokeFill:gI(Ox),strokeWidth:2,data:r}),Ox++}k(Rle,"setLineData");function Mle(t,e){const r=pI(e);wn.plots.push({type:"bar",fill:gI(Ox),data:r}),Ox++}k(Mle,"setBarData");function Nle(){if(wn.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return wn.title=Xa(),jqe.build(Px,wn,Fx,kle)}k(Nle,"getDrawableElem");function Ile(){return Fx}k(Ile,"getChartThemeConfig");function Ole(){return Px}k(Ole,"getChartConfig");var Kqe=k(function(){Ea(),Ox=0,Px=hI(),wn=fI(),Fx=cI(),d9=Fx.plotColorPalette.split(",").map(t=>t.trim()),BT=!1,uI=!1},"clear"),Qqe={getDrawableElem:Nle,clear:Kqe,setAccTitle:Ta,getAccTitle:Wa,setDiagramTitle:js,getDiagramTitle:Xa,getAccDescription:Ya,setAccDescription:qa,setOrientation:Tle,setXAxisTitle:Cle,setXAxisRangeData:dI,setXAxisBand:Ale,setYAxisTitle:_le,setYAxisRangeData:Lle,setLineData:Rle,setBarData:Mle,setTmpSVGG:Ele,getChartThemeConfig:Ile,getChartConfig:Ole},Zqe=k((t,e,r,n)=>{const i=n.db,a=i.getChartThemeConfig(),s=i.getChartConfig();function o(x){return x==="top"?"text-before-edge":"middle"}k(o,"getDominantBaseLine");function l(x){return x==="left"?"start":x==="right"?"end":"middle"}k(l,"getTextAnchor");function u(x){return`translate(${x.x}, ${x.y}) rotate(${x.rotation||0})`}k(u,"getTextTransformation"),Ee.debug(`Rendering xychart chart
`+t);const h=fd(e),f=h.append("g").attr("class","main"),d=f.append("rect").attr("width",s.width).attr("height",s.height).attr("class","background");xs(h,s.height,s.width,!0),h.attr("viewBox",`0 0 ${s.width} ${s.height}`),d.attr("fill",a.backgroundColor),i.setTmpSVGG(h.append("g").attr("class","mermaid-tmp-group"));const p=i.getDrawableElem(),m={};function v(x){let y=f,w="";for(const[S]of x.entries()){let E=f;S>0&&m[w]&&(E=m[w]),w+=x[S],y=m[w],y||(y=m[w]=E.append("g").attr("class",x[S]))}return y}k(v,"getGroup");for(const x of p){if(x.data.length===0)continue;const y=v(x.groupTexts);switch(x.type){case"rect":y.selectAll("rect").data(x.data).enter().append("rect").attr("x",w=>w.x).attr("y",w=>w.y).attr("width",w=>w.width).attr("height",w=>w.height).attr("fill",w=>w.fill).attr("stroke",w=>w.strokeFill).attr("stroke-width",w=>w.strokeWidth);break;case"text":y.selectAll("text").data(x.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",w=>w.fill).attr("font-size",w=>w.fontSize).attr("dominant-baseline",w=>o(w.verticalPos)).attr("text-anchor",w=>l(w.horizontalPos)).attr("transform",w=>u(w)).text(w=>w.text);break;case"path":y.selectAll("path").data(x.data).enter().append("path").attr("d",w=>w.path).attr("fill",w=>w.fill?w.fill:"none").attr("stroke",w=>w.strokeFill).attr("stroke-width",w=>w.strokeWidth);break}}},"draw"),Jqe={draw:Zqe},eYe={parser:Hqe,db:Qqe,renderer:Jqe};const tYe=Object.freeze(Object.defineProperty({__proto__:null,diagram:eYe},Symbol.toStringTag,{value:"Module"}));var p9=function(){var t=k(function(pe,ne,ge,ye){for(ge=ge||{},ye=pe.length;ye--;ge[pe[ye]]=ne);return ge},"o"),e=[1,3],r=[1,4],n=[1,5],i=[1,6],a=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],s=[1,18],o=[2,7],l=[1,22],u=[1,23],h=[1,24],f=[1,25],d=[1,26],p=[1,27],m=[1,20],v=[1,28],x=[1,29],y=[62,63],w=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],S=[1,47],E=[1,48],C=[1,49],L=[1,50],_=[1,51],I=[1,52],D=[1,53],F=[53,54],M=[1,64],B=[1,60],H=[1,61],R=[1,62],O=[1,63],P=[1,65],z=[1,69],$=[1,70],V=[1,67],X=[1,68],q=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],Y={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:k(function(ne,ge,ye,J,se,oe,fe){var me=oe.length-1;switch(se){case 4:this.$=oe[me].trim(),J.setAccTitle(this.$);break;case 5:case 6:this.$=oe[me].trim(),J.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:J.addRequirement(oe[me-3],oe[me-4]);break;case 14:J.setNewReqId(oe[me-2]);break;case 15:J.setNewReqText(oe[me-2]);break;case 16:J.setNewReqRisk(oe[me-2]);break;case 17:J.setNewReqVerifyMethod(oe[me-2]);break;case 20:this.$=J.RequirementType.REQUIREMENT;break;case 21:this.$=J.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=J.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=J.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=J.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=J.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=J.RiskLevel.LOW_RISK;break;case 27:this.$=J.RiskLevel.MED_RISK;break;case 28:this.$=J.RiskLevel.HIGH_RISK;break;case 29:this.$=J.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=J.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=J.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=J.VerifyType.VERIFY_TEST;break;case 33:J.addElement(oe[me-3]);break;case 34:J.setNewElementType(oe[me-2]);break;case 35:J.setNewElementDocRef(oe[me-2]);break;case 38:J.addRelationship(oe[me-2],oe[me],oe[me-4]);break;case 39:J.addRelationship(oe[me-2],oe[me-4],oe[me]);break;case 40:this.$=J.Relationships.CONTAINS;break;case 41:this.$=J.Relationships.COPIES;break;case 42:this.$=J.Relationships.DERIVES;break;case 43:this.$=J.Relationships.SATISFIES;break;case 44:this.$=J.Relationships.VERIFIES;break;case 45:this.$=J.Relationships.REFINES;break;case 46:this.$=J.Relationships.TRACES;break}},"anonymous"),table:[{3:1,4:2,6:e,9:r,11:n,13:i},{1:[3]},{3:8,4:2,5:[1,7],6:e,9:r,11:n,13:i},{5:[1,9]},{10:[1,10]},{12:[1,11]},t(a,[2,6]),{3:12,4:2,6:e,9:r,11:n,13:i},{1:[2,2]},{4:17,5:s,7:13,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:f,35:d,36:p,44:m,62:v,63:x},t(a,[2,4]),t(a,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:s,7:31,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:f,35:d,36:p,44:m,62:v,63:x},{4:17,5:s,7:32,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:f,35:d,36:p,44:m,62:v,63:x},{4:17,5:s,7:33,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:f,35:d,36:p,44:m,62:v,63:x},{4:17,5:s,7:34,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:f,35:d,36:p,44:m,62:v,63:x},{4:17,5:s,7:35,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:f,35:d,36:p,44:m,62:v,63:x},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},t(y,[2,20]),t(y,[2,21]),t(y,[2,22]),t(y,[2,23]),t(y,[2,24]),t(y,[2,25]),t(w,[2,49]),t(w,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:S,56:E,57:C,58:L,59:_,60:I,61:D},{52:54,55:S,56:E,57:C,58:L,59:_,60:I,61:D},{5:[1,55]},{5:[1,56]},{53:[1,57]},t(F,[2,40]),t(F,[2,41]),t(F,[2,42]),t(F,[2,43]),t(F,[2,44]),t(F,[2,45]),t(F,[2,46]),{54:[1,58]},{5:M,20:59,21:B,24:H,26:R,28:O,30:P},{5:z,30:$,46:66,47:V,49:X},{23:71,62:v,63:x},{23:72,62:v,63:x},t(q,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:M,20:77,21:B,24:H,26:R,28:O,30:P},t(q,[2,19]),t(q,[2,33]),{22:[1,78]},{22:[1,79]},{5:z,30:$,46:80,47:V,49:X},t(q,[2,37]),t(q,[2,38]),t(q,[2,39]),{23:81,62:v,63:x},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},t(q,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},t(q,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:M,20:106,21:B,24:H,26:R,28:O,30:P},{5:M,20:107,21:B,24:H,26:R,28:O,30:P},{5:M,20:108,21:B,24:H,26:R,28:O,30:P},{5:M,20:109,21:B,24:H,26:R,28:O,30:P},{5:z,30:$,46:110,47:V,49:X},{5:z,30:$,46:111,47:V,49:X},t(q,[2,14]),t(q,[2,15]),t(q,[2,16]),t(q,[2,17]),t(q,[2,34]),t(q,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:k(function(ne,ge){if(ge.recoverable)this.trace(ne);else{var ye=new Error(ne);throw ye.hash=ge,ye}},"parseError"),parse:k(function(ne){var ge=this,ye=[0],J=[],se=[null],oe=[],fe=this.table,me="",be=0,ce=0,Ge=2,xe=1,le=oe.slice.call(arguments,1),ke=Object.create(this.lexer),De={yy:{}};for(var We in this.yy)Object.prototype.hasOwnProperty.call(this.yy,We)&&(De.yy[We]=this.yy[We]);ke.setInput(ne,De.yy),De.yy.lexer=ke,De.yy.parser=this,typeof ke.yylloc>"u"&&(ke.yylloc={});var qe=ke.yylloc;oe.push(qe);var Ve=ke.options&&ke.options.ranges;typeof De.yy.parseError=="function"?this.parseError=De.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function we(Ie){ye.length=ye.length-2*Ie,se.length=se.length-Ie,oe.length=oe.length-Ie}k(we,"popStack");function Te(){var Ie;return Ie=J.pop()||ke.lex()||xe,typeof Ie!="number"&&(Ie instanceof Array&&(J=Ie,Ie=J.pop()),Ie=ge.symbols_[Ie]||Ie),Ie}k(Te,"lex");for(var de,W,ee,te,he={},K,_e,ae,Le;;){if(W=ye[ye.length-1],this.defaultActions[W]?ee=this.defaultActions[W]:((de===null||typeof de>"u")&&(de=Te()),ee=fe[W]&&fe[W][de]),typeof ee>"u"||!ee.length||!ee[0]){var Ne="";Le=[];for(K in fe[W])this.terminals_[K]&&K>Ge&&Le.push("'"+this.terminals_[K]+"'");ke.showPosition?Ne="Parse error on line "+(be+1)+`:
`+ke.showPosition()+`
Expecting `+Le.join(", ")+", got '"+(this.terminals_[de]||de)+"'":Ne="Parse error on line "+(be+1)+": Unexpected "+(de==xe?"end of input":"'"+(this.terminals_[de]||de)+"'"),this.parseError(Ne,{text:ke.match,token:this.terminals_[de]||de,line:ke.yylineno,loc:qe,expected:Le})}if(ee[0]instanceof Array&&ee.length>1)throw new Error("Parse Error: multiple actions possible at state: "+W+", token: "+de);switch(ee[0]){case 1:ye.push(de),se.push(ke.yytext),oe.push(ke.yylloc),ye.push(ee[1]),de=null,ce=ke.yyleng,me=ke.yytext,be=ke.yylineno,qe=ke.yylloc;break;case 2:if(_e=this.productions_[ee[1]][1],he.$=se[se.length-_e],he._$={first_line:oe[oe.length-(_e||1)].first_line,last_line:oe[oe.length-1].last_line,first_column:oe[oe.length-(_e||1)].first_column,last_column:oe[oe.length-1].last_column},Ve&&(he._$.range=[oe[oe.length-(_e||1)].range[0],oe[oe.length-1].range[1]]),te=this.performAction.apply(he,[me,ce,be,De.yy,ee[1],se,oe].concat(le)),typeof te<"u")return te;_e&&(ye=ye.slice(0,-1*_e*2),se=se.slice(0,-1*_e),oe=oe.slice(0,-1*_e)),ye.push(this.productions_[ee[1]][0]),se.push(he.$),oe.push(he._$),ae=fe[ye[ye.length-2]][ye[ye.length-1]],ye.push(ae);break;case 3:return!0}}return!0},"parse")},U=function(){var pe={EOF:1,parseError:k(function(ge,ye){if(this.yy.parser)this.yy.parser.parseError(ge,ye);else throw new Error(ge)},"parseError"),setInput:k(function(ne,ge){return this.yy=ge||this.yy||{},this._input=ne,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var ne=this._input[0];this.yytext+=ne,this.yyleng++,this.offset++,this.match+=ne,this.matched+=ne;var ge=ne.match(/(?:\r\n?|\n).*/g);return ge?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ne},"input"),unput:k(function(ne){var ge=ne.length,ye=ne.split(/(?:\r\n?|\n)/g);this._input=ne+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ge),this.offset-=ge;var J=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ye.length-1&&(this.yylineno-=ye.length-1);var se=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ye?(ye.length===J.length?this.yylloc.first_column:0)+J[J.length-ye.length].length-ye[0].length:this.yylloc.first_column-ge},this.options.ranges&&(this.yylloc.range=[se[0],se[0]+this.yyleng-ge]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(ne){this.unput(this.match.slice(ne))},"less"),pastInput:k(function(){var ne=this.matched.substr(0,this.matched.length-this.match.length);return(ne.length>20?"...":"")+ne.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var ne=this.match;return ne.length<20&&(ne+=this._input.substr(0,20-ne.length)),(ne.substr(0,20)+(ne.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var ne=this.pastInput(),ge=new Array(ne.length+1).join("-");return ne+this.upcomingInput()+`
`+ge+"^"},"showPosition"),test_match:k(function(ne,ge){var ye,J,se;if(this.options.backtrack_lexer&&(se={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(se.yylloc.range=this.yylloc.range.slice(0))),J=ne[0].match(/(?:\r\n?|\n).*/g),J&&(this.yylineno+=J.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:J?J[J.length-1].length-J[J.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ne[0].length},this.yytext+=ne[0],this.match+=ne[0],this.matches=ne,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ne[0].length),this.matched+=ne[0],ye=this.performAction.call(this,this.yy,this,ge,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ye)return ye;if(this._backtrack){for(var oe in se)this[oe]=se[oe];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ne,ge,ye,J;this._more||(this.yytext="",this.match="");for(var se=this._currentRules(),oe=0;oe<se.length;oe++)if(ye=this._input.match(this.rules[se[oe]]),ye&&(!ge||ye[0].length>ge[0].length)){if(ge=ye,J=oe,this.options.backtrack_lexer){if(ne=this.test_match(ye,se[oe]),ne!==!1)return ne;if(this._backtrack){ge=!1;continue}else return!1}else if(!this.options.flex)break}return ge?(ne=this.test_match(ge,se[J]),ne!==!1?ne:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var ge=this.next();return ge||this.lex()},"lex"),begin:k(function(ge){this.conditionStack.push(ge)},"begin"),popState:k(function(){var ge=this.conditionStack.length-1;return ge>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(ge){return ge=this.conditionStack.length-1-Math.abs(ge||0),ge>=0?this.conditionStack[ge]:"INITIAL"},"topState"),pushState:k(function(ge){this.begin(ge)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:k(function(ge,ye,J,se){switch(J){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:break;case 10:break;case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 48:this.popState();break;case 49:return"qString";case 50:return ye.yytext=ye.yytext.trim(),62}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}};return pe}();Y.lexer=U;function Z(){this.yy={}}return k(Z,"Parser"),Z.prototype=Y,Y.Parser=Z,new Z}();p9.parser=p9;var rYe=p9,mI=[],fo={},N2=new Map,If={},I2=new Map,nYe={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},iYe={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},aYe={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},sYe={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},oYe=k((t,e)=>(N2.has(t)||N2.set(t,{name:t,type:e,id:fo.id,text:fo.text,risk:fo.risk,verifyMethod:fo.verifyMethod}),fo={},N2.get(t)),"addRequirement"),lYe=k(()=>N2,"getRequirements"),uYe=k(t=>{fo!==void 0&&(fo.id=t)},"setNewReqId"),cYe=k(t=>{fo!==void 0&&(fo.text=t)},"setNewReqText"),hYe=k(t=>{fo!==void 0&&(fo.risk=t)},"setNewReqRisk"),fYe=k(t=>{fo!==void 0&&(fo.verifyMethod=t)},"setNewReqVerifyMethod"),dYe=k(t=>(I2.has(t)||(I2.set(t,{name:t,type:If.type,docRef:If.docRef}),Ee.info("Added new requirement: ",t)),If={},I2.get(t)),"addElement"),pYe=k(()=>I2,"getElements"),gYe=k(t=>{If!==void 0&&(If.type=t)},"setNewElementType"),mYe=k(t=>{If!==void 0&&(If.docRef=t)},"setNewElementDocRef"),vYe=k((t,e,r)=>{mI.push({type:t,src:e,dst:r})},"addRelationship"),yYe=k(()=>mI,"getRelationships"),xYe=k(()=>{mI=[],fo={},N2=new Map,If={},I2=new Map,Ea()},"clear"),bYe={RequirementType:nYe,RiskLevel:iYe,VerifyType:aYe,Relationships:sYe,getConfig:k(()=>Ue().req,"getConfig"),addRequirement:oYe,getRequirements:lYe,setNewReqId:uYe,setNewReqText:cYe,setNewReqRisk:hYe,setNewReqVerifyMethod:fYe,setAccTitle:Ta,getAccTitle:Wa,setAccDescription:qa,getAccDescription:Ya,addElement:dYe,getElements:pYe,setNewElementType:gYe,setNewElementDocRef:mYe,addRelationship:vYe,getRelationships:yYe,clear:xYe},wYe=k(t=>`

  marker {
    fill: ${t.relationColor};
    stroke: ${t.relationColor};
  }

  marker.cross {
    stroke: ${t.lineColor};
  }

  svg {
    font-family: ${t.fontFamily};
    font-size: ${t.fontSize};
  }

  .reqBox {
    fill: ${t.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${t.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${t.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${t.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${t.relationLabelColor};
  }

`,"getStyles"),SYe=wYe,g9={CONTAINS:"contains",ARROW:"arrow"},kYe=k((t,e)=>{let r=t.append("defs").append("marker").attr("id",g9.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");r.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",g9.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${e.line_height},${e.line_height/2}
      M${e.line_height},${e.line_height/2}
      L0,${e.line_height}`).attr("stroke-width",1)},"insertLineEndings"),Ple={ReqMarkers:g9,insertLineEndings:kYe},bi={},vG=0,Fle=k((t,e)=>t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",bi.rect_min_width+"px").attr("height",bi.rect_min_height+"px"),"newRectNode"),Ble=k((t,e,r)=>{let n=bi.rect_min_width/2,i=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",n).attr("y",bi.rect_padding).attr("dominant-baseline","hanging"),a=0;r.forEach(u=>{a==0?i.append("tspan").attr("text-anchor","middle").attr("x",bi.rect_min_width/2).attr("dy",0).text(u):i.append("tspan").attr("text-anchor","middle").attr("x",bi.rect_min_width/2).attr("dy",bi.line_height*.75).text(u),a++});let s=1.5*bi.rect_padding,o=a*bi.line_height*.75,l=s+o;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",bi.rect_min_width).attr("y1",l).attr("y2",l),{titleNode:i,y:l}},"newTitleNode"),$le=k((t,e,r,n)=>{let i=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",bi.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),a=0;const s=30;let o=[];return r.forEach(l=>{let u=l.length;for(;u>s&&a<3;){let h=l.substring(0,s);l=l.substring(s,l.length),u=l.length,o[o.length]=h,a++}if(a==3){let h=o[o.length-1];o[o.length-1]=h.substring(0,h.length-4)+"..."}else o[o.length]=l;a=0}),o.forEach(l=>{i.append("tspan").attr("x",bi.rect_padding).attr("dy",bi.line_height).text(l)}),i},"newBodyNode"),EYe=k((t,e,r,n)=>{const i=e.node().getTotalLength(),a=e.node().getPointAtLength(i*.5),s="rel"+vG;vG++;const l=t.append("text").attr("class","req relationshipLabel").attr("id",s).attr("x",a.x).attr("y",a.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();t.insert("rect","#"+s).attr("class","req reqLabelBox").attr("x",a.x-l.width/2).attr("y",a.y-l.height/2).attr("width",l.width).attr("height",l.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),TYe=k(function(t,e,r,n,i){const a=r.edge(Pm(e.src),Pm(e.dst)),s=H0().x(function(l){return l.x}).y(function(l){return l.y}),o=t.insert("path","#"+n).attr("class","er relationshipLine").attr("d",s(a.points)).attr("fill","none");e.type==i.db.Relationships.CONTAINS?o.attr("marker-start","url("+At.getUrl(bi.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(o.attr("stroke-dasharray","10,7"),o.attr("marker-end","url("+At.getUrl(bi.arrowMarkerAbsolute)+"#"+Ple.ReqMarkers.ARROW+"_line_ending)")),EYe(t,o,bi,`<<${e.type}>>`)},"drawRelationshipFromLayout"),CYe=k((t,e,r)=>{t.forEach((n,i)=>{i=Pm(i),Ee.info("Added new requirement: ",i);const a=r.append("g").attr("id",i),s="req-"+i,o=Fle(a,s);let l=[],u=Ble(a,i+"_title",[`<<${n.type}>>`,`${n.name}`]);l.push(u.titleNode);let h=$le(a,i+"_body",[`Id: ${n.id}`,`Text: ${n.text}`,`Risk: ${n.risk}`,`Verification: ${n.verifyMethod}`],u.y);l.push(h);const f=o.node().getBBox();e.setNode(i,{width:f.width,height:f.height,shape:"rect",id:i})})},"drawReqs"),AYe=k((t,e,r)=>{t.forEach((n,i)=>{const a=Pm(i),s=r.append("g").attr("id",a),o="element-"+a,l=Fle(s,o);let u=[],h=Ble(s,o+"_title",["<<Element>>",`${i}`]);u.push(h.titleNode);let f=$le(s,o+"_body",[`Type: ${n.type||"Not Specified"}`,`Doc Ref: ${n.docRef||"None"}`],h.y);u.push(f);const d=l.node().getBBox();e.setNode(a,{width:d.width,height:d.height,shape:"rect",id:a})})},"drawElements"),_Ye=k((t,e)=>(t.forEach(function(r){let n=Pm(r.src),i=Pm(r.dst);e.setEdge(n,i,{relationship:r})}),t),"addRelationships"),LYe=k(function(t,e){e.nodes().forEach(function(r){r!==void 0&&e.node(r)!==void 0&&(t.select("#"+r),t.select("#"+r).attr("transform","translate("+(e.node(r).x-e.node(r).width/2)+","+(e.node(r).y-e.node(r).height/2)+" )"))})},"adjustEntities"),Pm=k(t=>t.replace(/\s/g,"").replace(/\./g,"_"),"elementString"),DYe=k((t,e,r,n)=>{bi=Ue().requirement;const i=bi.securityLevel;let a;i==="sandbox"&&(a=bt("#i"+e));const o=bt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);Ple.insertLineEndings(o,bi);const l=new ws({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:bi.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let u=n.db.getRequirements(),h=n.db.getElements(),f=n.db.getRelationships();CYe(u,l,o),AYe(h,l,o),_Ye(f,l),mT(l),LYe(o,l),f.forEach(function(x){TYe(o,x,l,e,n)});const d=bi.rect_padding,p=o.node().getBBox(),m=p.width+d*2,v=p.height+d*2;xs(o,v,m,bi.useMaxWidth),o.attr("viewBox",`${p.x-d} ${p.y-d} ${m} ${v}`)},"draw"),RYe={draw:DYe},MYe={parser:rYe,db:bYe,renderer:RYe,styles:SYe};const NYe=Object.freeze(Object.defineProperty({__proto__:null,diagram:MYe},Symbol.toStringTag,{value:"Module"}));var m9=function(){var t=k(function(J,se,oe,fe){for(oe=oe||{},fe=J.length;fe--;oe[J[fe]]=se);return oe},"o"),e=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],o=[1,13],l=[1,14],u=[1,16],h=[1,17],f=[1,18],d=[1,24],p=[1,25],m=[1,26],v=[1,27],x=[1,28],y=[1,29],w=[1,30],S=[1,31],E=[1,32],C=[1,33],L=[1,34],_=[1,35],I=[1,36],D=[1,37],F=[1,38],M=[1,39],B=[1,41],H=[1,42],R=[1,43],O=[1,44],P=[1,45],z=[1,46],$=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],V=[4,5,16,50,52,53],X=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],q=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],Y=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],U=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],Z=[68,69,70],pe=[1,122],ne={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:k(function(se,oe,fe,me,be,ce,Ge){var xe=ce.length-1;switch(be){case 3:return me.apply(ce[xe]),ce[xe];case 4:case 9:this.$=[];break;case 5:case 10:ce[xe-1].push(ce[xe]),this.$=ce[xe-1];break;case 6:case 7:case 11:case 12:this.$=ce[xe];break;case 8:case 13:this.$=[];break;case 15:ce[xe].type="createParticipant",this.$=ce[xe];break;case 16:ce[xe-1].unshift({type:"boxStart",boxData:me.parseBoxData(ce[xe-2])}),ce[xe-1].push({type:"boxEnd",boxText:ce[xe-2]}),this.$=ce[xe-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(ce[xe-2]),sequenceIndexStep:Number(ce[xe-1]),sequenceVisible:!0,signalType:me.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(ce[xe-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:me.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:me.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:me.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:me.LINETYPE.ACTIVE_START,actor:ce[xe-1].actor};break;case 23:this.$={type:"activeEnd",signalType:me.LINETYPE.ACTIVE_END,actor:ce[xe-1].actor};break;case 29:me.setDiagramTitle(ce[xe].substring(6)),this.$=ce[xe].substring(6);break;case 30:me.setDiagramTitle(ce[xe].substring(7)),this.$=ce[xe].substring(7);break;case 31:this.$=ce[xe].trim(),me.setAccTitle(this.$);break;case 32:case 33:this.$=ce[xe].trim(),me.setAccDescription(this.$);break;case 34:ce[xe-1].unshift({type:"loopStart",loopText:me.parseMessage(ce[xe-2]),signalType:me.LINETYPE.LOOP_START}),ce[xe-1].push({type:"loopEnd",loopText:ce[xe-2],signalType:me.LINETYPE.LOOP_END}),this.$=ce[xe-1];break;case 35:ce[xe-1].unshift({type:"rectStart",color:me.parseMessage(ce[xe-2]),signalType:me.LINETYPE.RECT_START}),ce[xe-1].push({type:"rectEnd",color:me.parseMessage(ce[xe-2]),signalType:me.LINETYPE.RECT_END}),this.$=ce[xe-1];break;case 36:ce[xe-1].unshift({type:"optStart",optText:me.parseMessage(ce[xe-2]),signalType:me.LINETYPE.OPT_START}),ce[xe-1].push({type:"optEnd",optText:me.parseMessage(ce[xe-2]),signalType:me.LINETYPE.OPT_END}),this.$=ce[xe-1];break;case 37:ce[xe-1].unshift({type:"altStart",altText:me.parseMessage(ce[xe-2]),signalType:me.LINETYPE.ALT_START}),ce[xe-1].push({type:"altEnd",signalType:me.LINETYPE.ALT_END}),this.$=ce[xe-1];break;case 38:ce[xe-1].unshift({type:"parStart",parText:me.parseMessage(ce[xe-2]),signalType:me.LINETYPE.PAR_START}),ce[xe-1].push({type:"parEnd",signalType:me.LINETYPE.PAR_END}),this.$=ce[xe-1];break;case 39:ce[xe-1].unshift({type:"parStart",parText:me.parseMessage(ce[xe-2]),signalType:me.LINETYPE.PAR_OVER_START}),ce[xe-1].push({type:"parEnd",signalType:me.LINETYPE.PAR_END}),this.$=ce[xe-1];break;case 40:ce[xe-1].unshift({type:"criticalStart",criticalText:me.parseMessage(ce[xe-2]),signalType:me.LINETYPE.CRITICAL_START}),ce[xe-1].push({type:"criticalEnd",signalType:me.LINETYPE.CRITICAL_END}),this.$=ce[xe-1];break;case 41:ce[xe-1].unshift({type:"breakStart",breakText:me.parseMessage(ce[xe-2]),signalType:me.LINETYPE.BREAK_START}),ce[xe-1].push({type:"breakEnd",optText:me.parseMessage(ce[xe-2]),signalType:me.LINETYPE.BREAK_END}),this.$=ce[xe-1];break;case 43:this.$=ce[xe-3].concat([{type:"option",optionText:me.parseMessage(ce[xe-1]),signalType:me.LINETYPE.CRITICAL_OPTION},ce[xe]]);break;case 45:this.$=ce[xe-3].concat([{type:"and",parText:me.parseMessage(ce[xe-1]),signalType:me.LINETYPE.PAR_AND},ce[xe]]);break;case 47:this.$=ce[xe-3].concat([{type:"else",altText:me.parseMessage(ce[xe-1]),signalType:me.LINETYPE.ALT_ELSE},ce[xe]]);break;case 48:ce[xe-3].draw="participant",ce[xe-3].type="addParticipant",ce[xe-3].description=me.parseMessage(ce[xe-1]),this.$=ce[xe-3];break;case 49:ce[xe-1].draw="participant",ce[xe-1].type="addParticipant",this.$=ce[xe-1];break;case 50:ce[xe-3].draw="actor",ce[xe-3].type="addParticipant",ce[xe-3].description=me.parseMessage(ce[xe-1]),this.$=ce[xe-3];break;case 51:ce[xe-1].draw="actor",ce[xe-1].type="addParticipant",this.$=ce[xe-1];break;case 52:ce[xe-1].type="destroyParticipant",this.$=ce[xe-1];break;case 53:this.$=[ce[xe-1],{type:"addNote",placement:ce[xe-2],actor:ce[xe-1].actor,text:ce[xe]}];break;case 54:ce[xe-2]=[].concat(ce[xe-1],ce[xe-1]).slice(0,2),ce[xe-2][0]=ce[xe-2][0].actor,ce[xe-2][1]=ce[xe-2][1].actor,this.$=[ce[xe-1],{type:"addNote",placement:me.PLACEMENT.OVER,actor:ce[xe-2].slice(0,2),text:ce[xe]}];break;case 55:this.$=[ce[xe-1],{type:"addLinks",actor:ce[xe-1].actor,text:ce[xe]}];break;case 56:this.$=[ce[xe-1],{type:"addALink",actor:ce[xe-1].actor,text:ce[xe]}];break;case 57:this.$=[ce[xe-1],{type:"addProperties",actor:ce[xe-1].actor,text:ce[xe]}];break;case 58:this.$=[ce[xe-1],{type:"addDetails",actor:ce[xe-1].actor,text:ce[xe]}];break;case 61:this.$=[ce[xe-2],ce[xe]];break;case 62:this.$=ce[xe];break;case 63:this.$=me.PLACEMENT.LEFTOF;break;case 64:this.$=me.PLACEMENT.RIGHTOF;break;case 65:this.$=[ce[xe-4],ce[xe-1],{type:"addMessage",from:ce[xe-4].actor,to:ce[xe-1].actor,signalType:ce[xe-3],msg:ce[xe],activate:!0},{type:"activeStart",signalType:me.LINETYPE.ACTIVE_START,actor:ce[xe-1].actor}];break;case 66:this.$=[ce[xe-4],ce[xe-1],{type:"addMessage",from:ce[xe-4].actor,to:ce[xe-1].actor,signalType:ce[xe-3],msg:ce[xe]},{type:"activeEnd",signalType:me.LINETYPE.ACTIVE_END,actor:ce[xe-4].actor}];break;case 67:this.$=[ce[xe-3],ce[xe-1],{type:"addMessage",from:ce[xe-3].actor,to:ce[xe-1].actor,signalType:ce[xe-2],msg:ce[xe]}];break;case 68:this.$={type:"addParticipant",actor:ce[xe]};break;case 69:this.$=me.LINETYPE.SOLID_OPEN;break;case 70:this.$=me.LINETYPE.DOTTED_OPEN;break;case 71:this.$=me.LINETYPE.SOLID;break;case 72:this.$=me.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=me.LINETYPE.DOTTED;break;case 74:this.$=me.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=me.LINETYPE.SOLID_CROSS;break;case 76:this.$=me.LINETYPE.DOTTED_CROSS;break;case 77:this.$=me.LINETYPE.SOLID_POINT;break;case 78:this.$=me.LINETYPE.DOTTED_POINT;break;case 79:this.$=me.parseMessage(ce[xe].trim().substring(1));break}},"anonymous"),table:[{3:1,4:e,5:r,6:n},{1:[3]},{3:5,4:e,5:r,6:n},{3:6,4:e,5:r,6:n},t([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,12:12,13:o,14:l,17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:v,35:x,36:y,37:w,38:S,39:E,41:C,43:L,44:_,46:I,50:D,52:F,53:M,54:B,59:H,60:R,61:O,62:P,70:z},t($,[2,5]),{9:47,12:12,13:o,14:l,17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:v,35:x,36:y,37:w,38:S,39:E,41:C,43:L,44:_,46:I,50:D,52:F,53:M,54:B,59:H,60:R,61:O,62:P,70:z},t($,[2,7]),t($,[2,8]),t($,[2,14]),{12:48,50:D,52:F,53:M},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:z},{22:55,70:z},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},t($,[2,29]),t($,[2,30]),{32:[1,61]},{34:[1,62]},t($,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:z},{22:72,70:z},{22:73,70:z},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:z},{22:90,70:z},{22:91,70:z},{22:92,70:z},t([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),t($,[2,6]),t($,[2,15]),t(V,[2,9],{10:93}),t($,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},t($,[2,21]),{5:[1,97]},{5:[1,98]},t($,[2,24]),t($,[2,25]),t($,[2,26]),t($,[2,27]),t($,[2,28]),t($,[2,31]),t($,[2,32]),t(X,i,{7:99}),t(X,i,{7:100}),t(X,i,{7:101}),t(q,i,{40:102,7:103}),t(Y,i,{42:104,7:105}),t(Y,i,{7:105,42:106}),t(U,i,{45:107,7:108}),t(X,i,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:z},t(Z,[2,69]),t(Z,[2,70]),t(Z,[2,71]),t(Z,[2,72]),t(Z,[2,73]),t(Z,[2,74]),t(Z,[2,75]),t(Z,[2,76]),t(Z,[2,77]),t(Z,[2,78]),{22:118,70:z},{22:120,58:119,70:z},{70:[2,63]},{70:[2,64]},{56:121,81:pe},{56:123,81:pe},{56:124,81:pe},{56:125,81:pe},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:D,52:F,53:M},{5:[1,131]},t($,[2,19]),t($,[2,20]),t($,[2,22]),t($,[2,23]),{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,132],17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:v,35:x,36:y,37:w,38:S,39:E,41:C,43:L,44:_,46:I,50:D,52:F,53:M,54:B,59:H,60:R,61:O,62:P,70:z},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,133],17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:v,35:x,36:y,37:w,38:S,39:E,41:C,43:L,44:_,46:I,50:D,52:F,53:M,54:B,59:H,60:R,61:O,62:P,70:z},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,134],17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:v,35:x,36:y,37:w,38:S,39:E,41:C,43:L,44:_,46:I,50:D,52:F,53:M,54:B,59:H,60:R,61:O,62:P,70:z},{16:[1,135]},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[2,46],17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:v,35:x,36:y,37:w,38:S,39:E,41:C,43:L,44:_,46:I,49:[1,136],50:D,52:F,53:M,54:B,59:H,60:R,61:O,62:P,70:z},{16:[1,137]},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[2,44],17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:v,35:x,36:y,37:w,38:S,39:E,41:C,43:L,44:_,46:I,48:[1,138],50:D,52:F,53:M,54:B,59:H,60:R,61:O,62:P,70:z},{16:[1,139]},{16:[1,140]},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[2,42],17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:v,35:x,36:y,37:w,38:S,39:E,41:C,43:L,44:_,46:I,47:[1,141],50:D,52:F,53:M,54:B,59:H,60:R,61:O,62:P,70:z},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,142],17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:m,33:v,35:x,36:y,37:w,38:S,39:E,41:C,43:L,44:_,46:I,50:D,52:F,53:M,54:B,59:H,60:R,61:O,62:P,70:z},{15:[1,143]},t($,[2,49]),{15:[1,144]},t($,[2,51]),t($,[2,52]),{22:145,70:z},{22:146,70:z},{56:147,81:pe},{56:148,81:pe},{56:149,81:pe},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},t($,[2,16]),t(V,[2,10]),{12:151,50:D,52:F,53:M},t(V,[2,12]),t(V,[2,13]),t($,[2,18]),t($,[2,34]),t($,[2,35]),t($,[2,36]),t($,[2,37]),{15:[1,152]},t($,[2,38]),{15:[1,153]},t($,[2,39]),t($,[2,40]),{15:[1,154]},t($,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:pe},{56:158,81:pe},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:z},t(V,[2,11]),t(q,i,{7:103,40:160}),t(Y,i,{7:105,42:161}),t(U,i,{7:108,45:162}),t($,[2,48]),t($,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:k(function(se,oe){if(oe.recoverable)this.trace(se);else{var fe=new Error(se);throw fe.hash=oe,fe}},"parseError"),parse:k(function(se){var oe=this,fe=[0],me=[],be=[null],ce=[],Ge=this.table,xe="",le=0,ke=0,De=2,We=1,qe=ce.slice.call(arguments,1),Ve=Object.create(this.lexer),we={yy:{}};for(var Te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Te)&&(we.yy[Te]=this.yy[Te]);Ve.setInput(se,we.yy),we.yy.lexer=Ve,we.yy.parser=this,typeof Ve.yylloc>"u"&&(Ve.yylloc={});var de=Ve.yylloc;ce.push(de);var W=Ve.options&&Ve.options.ranges;typeof we.yy.parseError=="function"?this.parseError=we.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ee(ze){fe.length=fe.length-2*ze,be.length=be.length-ze,ce.length=ce.length-ze}k(ee,"popStack");function te(){var ze;return ze=me.pop()||Ve.lex()||We,typeof ze!="number"&&(ze instanceof Array&&(me=ze,ze=me.pop()),ze=oe.symbols_[ze]||ze),ze}k(te,"lex");for(var he,K,_e,ae,Le={},Ne,Ie,Oe,Pe;;){if(K=fe[fe.length-1],this.defaultActions[K]?_e=this.defaultActions[K]:((he===null||typeof he>"u")&&(he=te()),_e=Ge[K]&&Ge[K][he]),typeof _e>"u"||!_e.length||!_e[0]){var Me="";Pe=[];for(Ne in Ge[K])this.terminals_[Ne]&&Ne>De&&Pe.push("'"+this.terminals_[Ne]+"'");Ve.showPosition?Me="Parse error on line "+(le+1)+`:
`+Ve.showPosition()+`
Expecting `+Pe.join(", ")+", got '"+(this.terminals_[he]||he)+"'":Me="Parse error on line "+(le+1)+": Unexpected "+(he==We?"end of input":"'"+(this.terminals_[he]||he)+"'"),this.parseError(Me,{text:Ve.match,token:this.terminals_[he]||he,line:Ve.yylineno,loc:de,expected:Pe})}if(_e[0]instanceof Array&&_e.length>1)throw new Error("Parse Error: multiple actions possible at state: "+K+", token: "+he);switch(_e[0]){case 1:fe.push(he),be.push(Ve.yytext),ce.push(Ve.yylloc),fe.push(_e[1]),he=null,ke=Ve.yyleng,xe=Ve.yytext,le=Ve.yylineno,de=Ve.yylloc;break;case 2:if(Ie=this.productions_[_e[1]][1],Le.$=be[be.length-Ie],Le._$={first_line:ce[ce.length-(Ie||1)].first_line,last_line:ce[ce.length-1].last_line,first_column:ce[ce.length-(Ie||1)].first_column,last_column:ce[ce.length-1].last_column},W&&(Le._$.range=[ce[ce.length-(Ie||1)].range[0],ce[ce.length-1].range[1]]),ae=this.performAction.apply(Le,[xe,ke,le,we.yy,_e[1],be,ce].concat(qe)),typeof ae<"u")return ae;Ie&&(fe=fe.slice(0,-1*Ie*2),be=be.slice(0,-1*Ie),ce=ce.slice(0,-1*Ie)),fe.push(this.productions_[_e[1]][0]),be.push(Le.$),ce.push(Le._$),Oe=Ge[fe[fe.length-2]][fe[fe.length-1]],fe.push(Oe);break;case 3:return!0}}return!0},"parse")},ge=function(){var J={EOF:1,parseError:k(function(oe,fe){if(this.yy.parser)this.yy.parser.parseError(oe,fe);else throw new Error(oe)},"parseError"),setInput:k(function(se,oe){return this.yy=oe||this.yy||{},this._input=se,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var se=this._input[0];this.yytext+=se,this.yyleng++,this.offset++,this.match+=se,this.matched+=se;var oe=se.match(/(?:\r\n?|\n).*/g);return oe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),se},"input"),unput:k(function(se){var oe=se.length,fe=se.split(/(?:\r\n?|\n)/g);this._input=se+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-oe),this.offset-=oe;var me=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),fe.length-1&&(this.yylineno-=fe.length-1);var be=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:fe?(fe.length===me.length?this.yylloc.first_column:0)+me[me.length-fe.length].length-fe[0].length:this.yylloc.first_column-oe},this.options.ranges&&(this.yylloc.range=[be[0],be[0]+this.yyleng-oe]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(se){this.unput(this.match.slice(se))},"less"),pastInput:k(function(){var se=this.matched.substr(0,this.matched.length-this.match.length);return(se.length>20?"...":"")+se.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var se=this.match;return se.length<20&&(se+=this._input.substr(0,20-se.length)),(se.substr(0,20)+(se.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var se=this.pastInput(),oe=new Array(se.length+1).join("-");return se+this.upcomingInput()+`
`+oe+"^"},"showPosition"),test_match:k(function(se,oe){var fe,me,be;if(this.options.backtrack_lexer&&(be={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(be.yylloc.range=this.yylloc.range.slice(0))),me=se[0].match(/(?:\r\n?|\n).*/g),me&&(this.yylineno+=me.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:me?me[me.length-1].length-me[me.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+se[0].length},this.yytext+=se[0],this.match+=se[0],this.matches=se,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(se[0].length),this.matched+=se[0],fe=this.performAction.call(this,this.yy,this,oe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),fe)return fe;if(this._backtrack){for(var ce in be)this[ce]=be[ce];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var se,oe,fe,me;this._more||(this.yytext="",this.match="");for(var be=this._currentRules(),ce=0;ce<be.length;ce++)if(fe=this._input.match(this.rules[be[ce]]),fe&&(!oe||fe[0].length>oe[0].length)){if(oe=fe,me=ce,this.options.backtrack_lexer){if(se=this.test_match(fe,be[ce]),se!==!1)return se;if(this._backtrack){oe=!1;continue}else return!1}else if(!this.options.flex)break}return oe?(se=this.test_match(oe,be[me]),se!==!1?se:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var oe=this.next();return oe||this.lex()},"lex"),begin:k(function(oe){this.conditionStack.push(oe)},"begin"),popState:k(function(){var oe=this.conditionStack.length-1;return oe>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(oe){return oe=this.conditionStack.length-1-Math.abs(oe||0),oe>=0?this.conditionStack[oe]:"INITIAL"},"topState"),pushState:k(function(oe){this.begin(oe)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:k(function(oe,fe,me,be){switch(me){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;case 8:return this.begin("ID"),50;case 9:return this.begin("ID"),52;case 10:return 13;case 11:return this.begin("ID"),53;case 12:return fe.yytext=fe.yytext.trim(),this.begin("ALIAS"),70;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),36;case 16:return this.begin("LINE"),37;case 17:return this.begin("LINE"),38;case 18:return this.begin("LINE"),39;case 19:return this.begin("LINE"),49;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),43;case 22:return this.begin("LINE"),48;case 23:return this.begin("LINE"),44;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),46;case 26:return this.popState(),15;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;case 37:return this.begin("ID"),23;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;case 41:return this.popState(),"acc_title_value";case 42:return this.begin("acc_descr"),33;case 43:return this.popState(),"acc_descr_value";case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 51:return 5;case 52:return fe.yytext=fe.yytext.trim(),70;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:return 81;case 64:return 68;case 65:return 69;case 66:return 5;case 67:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};return J}();ne.lexer=ge;function ye(){this.yy={}}return k(ye,"Parser"),ye.prototype=ne,ne.Parser=ye,new ye}();m9.parser=m9;var IYe=m9,or=new SN(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),OYe=k(function(t){or.records.boxes.push({name:t.text,wrap:t.wrap??ep(),fill:t.color,actorKeys:[]}),or.records.currentBox=or.records.boxes.slice(-1)[0]},"addBox"),v9=k(function(t,e,r,n){let i=or.records.currentBox;const a=or.records.actors.get(t);if(a){if(or.records.currentBox&&a.box&&or.records.currentBox!==a.box)throw new Error(`A same participant should only be defined in one Box: ${a.name} can't be in '${a.box.name}' and in '${or.records.currentBox.name}' at the same time.`);if(i=a.box?a.box:or.records.currentBox,a.box=i,a&&e===a.name&&r==null)return}if((r==null?void 0:r.text)==null&&(r={text:e,type:n}),(n==null||r.text==null)&&(r={text:e,type:n}),or.records.actors.set(t,{box:i,name:e,description:r.text,wrap:r.wrap??ep(),prevActor:or.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:n??"participant"}),or.records.prevActor){const s=or.records.actors.get(or.records.prevActor);s&&(s.nextActor=t)}or.records.currentBox&&or.records.currentBox.actorKeys.push(t),or.records.prevActor=t},"addActor"),PYe=k(t=>{let e,r=0;if(!t)return 0;for(e=0;e<or.records.messages.length;e++)or.records.messages[e].type===Bx.ACTIVE_START&&or.records.messages[e].from===t&&r++,or.records.messages[e].type===Bx.ACTIVE_END&&or.records.messages[e].from===t&&r--;return r},"activationCount"),FYe=k(function(t,e,r,n){or.records.messages.push({from:t,to:e,message:r.text,wrap:r.wrap??ep(),answer:n})},"addMessage"),Li=k(function(t,e,r,n,i=!1){if(n===Bx.ACTIVE_END&&PYe(t??"")<1){const s=new Error("Trying to inactivate an inactive participant ("+t+")");throw s.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},s}return or.records.messages.push({from:t,to:e,message:(r==null?void 0:r.text)??"",wrap:(r==null?void 0:r.wrap)??ep(),type:n,activate:i}),!0},"addSignal"),BYe=k(function(){return or.records.boxes.length>0},"hasAtLeastOneBox"),$Ye=k(function(){return or.records.boxes.some(t=>t.name)},"hasAtLeastOneBoxWithTitle"),zYe=k(function(){return or.records.messages},"getMessages"),HYe=k(function(){return or.records.boxes},"getBoxes"),VYe=k(function(){return or.records.actors},"getActors"),UYe=k(function(){return or.records.createdActors},"getCreatedActors"),GYe=k(function(){return or.records.destroyedActors},"getDestroyedActors"),qb=k(function(t){return or.records.actors.get(t)},"getActor"),WYe=k(function(){return[...or.records.actors.keys()]},"getActorKeys"),qYe=k(function(){or.records.sequenceNumbersEnabled=!0},"enableSequenceNumbers"),YYe=k(function(){or.records.sequenceNumbersEnabled=!1},"disableSequenceNumbers"),XYe=k(()=>or.records.sequenceNumbersEnabled,"showSequenceNumbers"),jYe=k(function(t){or.records.wrapEnabled=t},"setWrap"),zle=k(t=>{if(t===void 0)return{};t=t.trim();const e=/^:?wrap:/.exec(t)!==null?!0:/^:?nowrap:/.exec(t)!==null?!1:void 0;return{cleanedText:(e===void 0?t:t.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:e}},"extractWrap"),ep=k(()=>{var t;return or.records.wrapEnabled!==void 0?or.records.wrapEnabled:((t=Ue().sequence)==null?void 0:t.wrap)??!1},"autoWrap"),KYe=k(function(){or.reset(),Ea()},"clear"),QYe=k(function(t){const e=t.trim(),{wrap:r,cleanedText:n}=zle(e),i={text:n,wrap:r};return Ee.debug(`parseMessage: ${JSON.stringify(i)}`),i},"parseMessage"),ZYe=k(function(t){const e=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(t);let r=e!=null&&e[1]?e[1].trim():"transparent",n=e!=null&&e[2]?e[2].trim():void 0;if(window!=null&&window.CSS)window.CSS.supports("color",r)||(r="transparent",n=t.trim());else{const s=new Option().style;s.color=r,s.color!==r&&(r="transparent",n=t.trim())}const{wrap:i,cleanedText:a}=zle(n);return{text:a?Dn(a,Ue()):void 0,color:r,wrap:i}},"parseBoxData"),Bx={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},JYe={FILLED:0,OPEN:1},eXe={LEFTOF:0,RIGHTOF:1,OVER:2},Hle=k(function(t,e,r){const n={actor:t,placement:e,message:r.text,wrap:r.wrap??ep()},i=[].concat(t,t);or.records.notes.push(n),or.records.messages.push({from:i[0],to:i[1],message:r.text,wrap:r.wrap??ep(),type:Bx.NOTE,placement:e})},"addNote"),Vle=k(function(t,e){const r=qb(t);try{let n=Dn(e.text,Ue());n=n.replace(/&amp;/g,"&"),n=n.replace(/&equals;/g,"=");const i=JSON.parse(n);zT(r,i)}catch(n){Ee.error("error while parsing actor link text",n)}},"addLinks"),tXe=k(function(t,e){const r=qb(t);try{const n={};let i=Dn(e.text,Ue());const a=i.indexOf("@");i=i.replace(/&amp;/g,"&"),i=i.replace(/&equals;/g,"=");const s=i.slice(0,a-1).trim(),o=i.slice(a+1).trim();n[s]=o,zT(r,n)}catch(n){Ee.error("error while parsing actor link text",n)}},"addALink");function zT(t,e){if(t.links==null)t.links=e;else for(const r in e)t.links[r]=e[r]}k(zT,"insertLinks");var Ule=k(function(t,e){const r=qb(t);try{const n=Dn(e.text,Ue()),i=JSON.parse(n);vI(r,i)}catch(n){Ee.error("error while parsing actor properties text",n)}},"addProperties");function vI(t,e){if(t.properties==null)t.properties=e;else for(const r in e)t.properties[r]=e[r]}k(vI,"insertProperties");function Gle(){or.records.currentBox=void 0}k(Gle,"boxEnd");var Wle=k(function(t,e){const r=qb(t),n=document.getElementById(e.text);try{const i=n.innerHTML,a=JSON.parse(i);a.properties&&vI(r,a.properties),a.links&&zT(r,a.links)}catch(i){Ee.error("error while parsing actor details text",i)}},"addDetails"),rXe=k(function(t,e){if((t==null?void 0:t.properties)!==void 0)return t.properties[e]},"getActorProperty"),qle=k(function(t){if(Array.isArray(t))t.forEach(function(e){qle(e)});else switch(t.type){case"sequenceIndex":or.records.messages.push({from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":v9(t.actor,t.actor,t.description,t.draw);break;case"createParticipant":if(or.records.actors.has(t.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");or.records.lastCreated=t.actor,v9(t.actor,t.actor,t.description,t.draw),or.records.createdActors.set(t.actor,or.records.messages.length);break;case"destroyParticipant":or.records.lastDestroyed=t.actor,or.records.destroyedActors.set(t.actor,or.records.messages.length);break;case"activeStart":Li(t.actor,void 0,void 0,t.signalType);break;case"activeEnd":Li(t.actor,void 0,void 0,t.signalType);break;case"addNote":Hle(t.actor,t.placement,t.text);break;case"addLinks":Vle(t.actor,t.text);break;case"addALink":tXe(t.actor,t.text);break;case"addProperties":Ule(t.actor,t.text);break;case"addDetails":Wle(t.actor,t.text);break;case"addMessage":if(or.records.lastCreated){if(t.to!==or.records.lastCreated)throw new Error("The created participant "+or.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");or.records.lastCreated=void 0}else if(or.records.lastDestroyed){if(t.to!==or.records.lastDestroyed&&t.from!==or.records.lastDestroyed)throw new Error("The destroyed participant "+or.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");or.records.lastDestroyed=void 0}Li(t.from,t.to,t.msg,t.signalType,t.activate);break;case"boxStart":OYe(t.boxData);break;case"boxEnd":Gle();break;case"loopStart":Li(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":Li(void 0,void 0,void 0,t.signalType);break;case"rectStart":Li(void 0,void 0,t.color,t.signalType);break;case"rectEnd":Li(void 0,void 0,void 0,t.signalType);break;case"optStart":Li(void 0,void 0,t.optText,t.signalType);break;case"optEnd":Li(void 0,void 0,void 0,t.signalType);break;case"altStart":Li(void 0,void 0,t.altText,t.signalType);break;case"else":Li(void 0,void 0,t.altText,t.signalType);break;case"altEnd":Li(void 0,void 0,void 0,t.signalType);break;case"setAccTitle":Ta(t.text);break;case"parStart":Li(void 0,void 0,t.parText,t.signalType);break;case"and":Li(void 0,void 0,t.parText,t.signalType);break;case"parEnd":Li(void 0,void 0,void 0,t.signalType);break;case"criticalStart":Li(void 0,void 0,t.criticalText,t.signalType);break;case"option":Li(void 0,void 0,t.optionText,t.signalType);break;case"criticalEnd":Li(void 0,void 0,void 0,t.signalType);break;case"breakStart":Li(void 0,void 0,t.breakText,t.signalType);break;case"breakEnd":Li(void 0,void 0,void 0,t.signalType);break}},"apply"),yG={addActor:v9,addMessage:FYe,addSignal:Li,addLinks:Vle,addDetails:Wle,addProperties:Ule,autoWrap:ep,setWrap:jYe,enableSequenceNumbers:qYe,disableSequenceNumbers:YYe,showSequenceNumbers:XYe,getMessages:zYe,getActors:VYe,getCreatedActors:UYe,getDestroyedActors:GYe,getActor:qb,getActorKeys:WYe,getActorProperty:rXe,getAccTitle:Wa,getBoxes:HYe,getDiagramTitle:Xa,setDiagramTitle:js,getConfig:k(()=>Ue().sequence,"getConfig"),clear:KYe,parseMessage:QYe,parseBoxData:ZYe,LINETYPE:Bx,ARROWTYPE:JYe,PLACEMENT:eXe,addNote:Hle,setAccTitle:Ta,apply:qle,setAccDescription:qa,getAccDescription:Ya,hasAtLeastOneBox:BYe,hasAtLeastOneBoxWithTitle:$Ye},nXe=k(t=>`.actor {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }

  text.actor > tspan {
    fill: ${t.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${t.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${t.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${t.signalColor};
  }

  #arrowhead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .sequenceNumber {
    fill: ${t.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${t.signalColor};
  }

  #crosshead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .messageText {
    fill: ${t.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${t.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${t.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${t.noteBorderColor};
    fill: ${t.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${t.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation1 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation2 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${t.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles"),iXe=nXe,v0=18*2,Yle="actor-top",Xle="actor-bottom",aXe="actor-box",xG="actor-man",yI=k(function(t,e){return vT(t,e)},"drawRect"),sXe=k(function(t,e,r,n,i){if(e.links===void 0||e.links===null||Object.keys(e.links).length===0)return{height:0,width:0};const a=e.links,s=e.actorCnt,o=e.rectData;var l="none";i&&(l="block !important");const u=t.append("g");u.attr("id","actor"+s+"_popup"),u.attr("class","actorPopupMenu"),u.attr("display",l);var h="";o.class!==void 0&&(h=" "+o.class);let f=o.width>r?o.width:r;const d=u.append("rect");if(d.attr("class","actorPopupMenuPanel"+h),d.attr("x",o.x),d.attr("y",o.height),d.attr("fill",o.fill),d.attr("stroke",o.stroke),d.attr("width",f),d.attr("height",o.height),d.attr("rx",o.rx),d.attr("ry",o.ry),a!=null){var p=20;for(let x in a){var m=u.append("a"),v=cd(a[x]);m.attr("xlink:href",v),m.attr("target","_blank"),kXe(n)(x,m,o.x+10,o.height+p,f,20,{class:"actor"},n),p+=30}}return d.attr("height",p),{height:o.height+p,width:f}},"drawPopup"),oXe=k(function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),ok=k(async function(t,e,r=null){let n=t.append("foreignObject");const i=await hb(e.text,ai()),s=n.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(i).node().getBoundingClientRect();if(n.attr("height",Math.round(s.height)).attr("width",Math.round(s.width)),e.class==="noteText"){const o=t.node().firstChild;o.setAttribute("height",s.height+2*e.textMargin);const l=o.getBBox();n.attr("x",Math.round(l.x+l.width/2-s.width/2)).attr("y",Math.round(l.y+l.height/2-s.height/2))}else if(r){let{startx:o,stopx:l,starty:u}=r;if(o>l){const h=o;o=l,l=h}n.attr("x",Math.round(o+Math.abs(o-l)/2-s.width/2)),e.class==="loopText"?n.attr("y",Math.round(u)):n.attr("y",Math.round(u-s.height))}return[n]},"drawKatex"),Fm=k(function(t,e){let r=0,n=0;const i=e.text.split(At.lineBreakRegex),[a,s]=hd(e.fontSize);let o=[],l=0,u=k(()=>e.y,"yfunc");if(e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0)switch(e.valign){case"top":case"start":u=k(()=>Math.round(e.y+e.textMargin),"yfunc");break;case"middle":case"center":u=k(()=>Math.round(e.y+(r+n+e.textMargin)/2),"yfunc");break;case"bottom":case"end":u=k(()=>Math.round(e.y+(r+n+2*e.textMargin)-e.textMargin),"yfunc");break}if(e.anchor!==void 0&&e.textMargin!==void 0&&e.width!==void 0)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle";break}for(let[h,f]of i.entries()){e.textMargin!==void 0&&e.textMargin===0&&a!==void 0&&(l=h*a);const d=t.append("text");d.attr("x",e.x),d.attr("y",u()),e.anchor!==void 0&&d.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),e.fontFamily!==void 0&&d.style("font-family",e.fontFamily),s!==void 0&&d.style("font-size",s),e.fontWeight!==void 0&&d.style("font-weight",e.fontWeight),e.fill!==void 0&&d.attr("fill",e.fill),e.class!==void 0&&d.attr("class",e.class),e.dy!==void 0?d.attr("dy",e.dy):l!==0&&d.attr("dy",l);const p=f||fJ;if(e.tspan){const m=d.append("tspan");m.attr("x",e.x),e.fill!==void 0&&m.attr("fill",e.fill),m.text(p)}else d.text(p);e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0&&(n+=(d._groups||d)[0][0].getBBox().height,r=n),o.push(d)}return o},"drawText"),jle=k(function(t,e){function r(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}k(r,"genPoints");const n=t.append("polygon");return n.attr("points",r(e.x,e.y,e.width,e.height,7)),n.attr("class","labelBox"),e.y=e.y+e.height/2,Fm(t,e),n},"drawLabel"),Vu=-1,Kle=k((t,e,r,n)=>{t.select&&r.forEach(i=>{const a=e.get(i),s=t.select("#actor"+a.actorCnt);!n.mirrorActors&&a.stopy?s.attr("y2",a.stopy+a.height/2):n.mirrorActors&&s.attr("y2",a.stopy)})},"fixLifeLineHeights"),lXe=k(function(t,e,r,n){var p,m;const i=n?e.stopy:e.starty,a=e.x+e.width/2,s=i+e.height,o=t.append("g").lower();var l=o;n||(Vu++,Object.keys(e.links||{}).length&&!r.forceMenus&&l.attr("onclick",oXe(`actor${Vu}_popup`)).attr("cursor","pointer"),l.append("line").attr("id","actor"+Vu).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),l=o.append("g"),e.actorCnt=Vu,e.links!=null&&l.attr("id","root-"+Vu));const u=Tp();var h="actor";(p=e.properties)!=null&&p.class?h=e.properties.class:u.fill="#eaeaea",n?h+=` ${Xle}`:h+=` ${Yle}`,u.x=e.x,u.y=i,u.width=e.width,u.height=e.height,u.class=h,u.rx=3,u.ry=3,u.name=e.name;const f=yI(l,u);if(e.rectData=u,(m=e.properties)!=null&&m.icon){const v=e.properties.icon.trim();v.charAt(0)==="@"?TOe(l,u.x+u.width-20,u.y+10,v.substr(1)):EOe(l,u.x+u.width-20,u.y+10,v)}xI(r,ms(e.description))(e.description,l,u.x,u.y,u.width,u.height,{class:`actor ${aXe}`},r);let d=e.height;if(f.node){const v=f.node().getBBox();e.height=v.height,d=v.height}return d},"drawActorTypeParticipant"),uXe=k(function(t,e,r,n){const i=n?e.stopy:e.starty,a=e.x+e.width/2,s=i+80,o=t.append("g").lower();n||(Vu++,o.append("line").attr("id","actor"+Vu).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),e.actorCnt=Vu);const l=t.append("g");let u=xG;n?u+=` ${Xle}`:u+=` ${Yle}`,l.attr("class",u),l.attr("name",e.name);const h=Tp();h.x=e.x,h.y=i,h.fill="#eaeaea",h.width=e.width,h.height=e.height,h.class="actor",h.rx=3,h.ry=3,l.append("line").attr("id","actor-man-torso"+Vu).attr("x1",a).attr("y1",i+25).attr("x2",a).attr("y2",i+45),l.append("line").attr("id","actor-man-arms"+Vu).attr("x1",a-v0/2).attr("y1",i+33).attr("x2",a+v0/2).attr("y2",i+33),l.append("line").attr("x1",a-v0/2).attr("y1",i+60).attr("x2",a).attr("y2",i+45),l.append("line").attr("x1",a).attr("y1",i+45).attr("x2",a+v0/2-2).attr("y2",i+60);const f=l.append("circle");f.attr("cx",e.x+e.width/2),f.attr("cy",i+10),f.attr("r",15),f.attr("width",e.width),f.attr("height",e.height);const d=l.node().getBBox();return e.height=d.height,xI(r,ms(e.description))(e.description,l,h.x,h.y+35,h.width,h.height,{class:`actor ${xG}`},r),e.height},"drawActorTypeActor"),cXe=k(async function(t,e,r,n){switch(e.type){case"actor":return await uXe(t,e,r,n);case"participant":return await lXe(t,e,r,n)}},"drawActor"),hXe=k(function(t,e,r){const i=t.append("g");Qle(i,e),e.name&&xI(r)(e.name,i,e.x,e.y+(e.textMaxHeight||0)/2,e.width,0,{class:"text"},r),i.lower()},"drawBox"),fXe=k(function(t){return t.append("g")},"anchorElement"),dXe=k(function(t,e,r,n,i){const a=Tp(),s=e.anchored;a.x=e.startx,a.y=e.starty,a.class="activation"+i%3,a.width=e.stopx-e.startx,a.height=r-e.starty,yI(s,a)},"drawActivation"),pXe=k(async function(t,e,r,n){const{boxMargin:i,boxTextMargin:a,labelBoxHeight:s,labelBoxWidth:o,messageFontFamily:l,messageFontSize:u,messageFontWeight:h}=n,f=t.append("g"),d=k(function(v,x,y,w){return f.append("line").attr("x1",v).attr("y1",x).attr("x2",y).attr("y2",w).attr("class","loopLine")},"drawLoopLine");d(e.startx,e.starty,e.stopx,e.starty),d(e.stopx,e.starty,e.stopx,e.stopy),d(e.startx,e.stopy,e.stopx,e.stopy),d(e.startx,e.starty,e.startx,e.stopy),e.sections!==void 0&&e.sections.forEach(function(v){d(e.startx,v.y,e.stopx,v.y).style("stroke-dasharray","3, 3")});let p=cN();p.text=r,p.x=e.startx,p.y=e.starty,p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.anchor="middle",p.valign="middle",p.tspan=!1,p.width=o||50,p.height=s||20,p.textMargin=a,p.class="labelText",jle(f,p),p=Zle(),p.text=e.title,p.x=e.startx+o/2+(e.stopx-e.startx)/2,p.y=e.starty+i+a,p.anchor="middle",p.valign="middle",p.textMargin=a,p.class="loopText",p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.wrap=!0;let m=ms(p.text)?await ok(f,p,e):Fm(f,p);if(e.sectionTitles!==void 0){for(const[v,x]of Object.entries(e.sectionTitles))if(x.message){p.text=x.message,p.x=e.startx+(e.stopx-e.startx)/2,p.y=e.sections[v].y+i+a,p.class="loopText",p.anchor="middle",p.valign="middle",p.tspan=!1,p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.wrap=e.wrap,ms(p.text)?(e.starty=e.sections[v].y,await ok(f,p,e)):Fm(f,p);let y=Math.round(m.map(w=>(w._groups||w)[0][0].getBBox().height).reduce((w,S)=>w+S));e.sections[v].height+=y-(i+a)}}return e.height=Math.round(e.stopy-e.starty),f},"drawLoop"),Qle=k(function(t,e){qie(t,e)},"drawBackgroundRect"),gXe=k(function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),mXe=k(function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),vXe=k(function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),yXe=k(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),xXe=k(function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),bXe=k(function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),wXe=k(function(t){t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),Zle=k(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),SXe=k(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),xI=function(){function t(a,s,o,l,u,h,f){const d=s.append("text").attr("x",o+u/2).attr("y",l+h/2+5).style("text-anchor","middle").text(a);i(d,f)}k(t,"byText");function e(a,s,o,l,u,h,f,d){const{actorFontSize:p,actorFontFamily:m,actorFontWeight:v}=d,[x,y]=hd(p),w=a.split(At.lineBreakRegex);for(let S=0;S<w.length;S++){const E=S*x-x*(w.length-1)/2,C=s.append("text").attr("x",o+u/2).attr("y",l).style("text-anchor","middle").style("font-size",y).style("font-weight",v).style("font-family",m);C.append("tspan").attr("x",o+u/2).attr("dy",E).text(w[S]),C.attr("y",l+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(C,f)}}k(e,"byTspan");function r(a,s,o,l,u,h,f,d){const p=s.append("switch"),v=p.append("foreignObject").attr("x",o).attr("y",l).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");v.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),e(a,p,o,l,u,h,f,d),i(v,f)}k(r,"byFo");async function n(a,s,o,l,u,h,f,d){const p=await cb(a,ai()),m=s.append("switch"),x=m.append("foreignObject").attr("x",o+u/2-p.width/2).attr("y",l+h/2-p.height/2).attr("width",p.width).attr("height",p.height).append("xhtml:div").style("height","100%").style("width","100%");x.append("div").style("text-align","center").style("vertical-align","middle").html(await hb(a,ai())),e(a,m,o,l,u,h,f,d),i(x,f)}k(n,"byKatex");function i(a,s){for(const o in s)s.hasOwnProperty(o)&&a.attr(o,s[o])}return k(i,"_setTextAttrs"),function(a,s=!1){return s?n:a.textPlacement==="fo"?r:a.textPlacement==="old"?t:e}}(),kXe=function(){function t(i,a,s,o,l,u,h){const f=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").text(i);n(f,h)}k(t,"byText");function e(i,a,s,o,l,u,h,f){const{actorFontSize:d,actorFontFamily:p,actorFontWeight:m}=f,v=i.split(At.lineBreakRegex);for(let x=0;x<v.length;x++){const y=x*d-d*(v.length-1)/2,w=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").style("font-size",d).style("font-weight",m).style("font-family",p);w.append("tspan").attr("x",s).attr("dy",y).text(v[x]),w.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(w,h)}}k(e,"byTspan");function r(i,a,s,o,l,u,h,f){const d=a.append("switch"),m=d.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,d,s,o,l,u,h,f),n(m,h)}k(r,"byFo");function n(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return k(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),Di={drawRect:yI,drawText:Fm,drawLabel:jle,drawActor:cXe,drawBox:hXe,drawPopup:sXe,anchorElement:fXe,drawActivation:dXe,drawLoop:pXe,drawBackgroundRect:Qle,insertArrowHead:yXe,insertArrowFilledHead:xXe,insertSequenceNumber:bXe,insertArrowCrossHead:wXe,insertDatabaseIcon:gXe,insertComputerIcon:mXe,insertClockIcon:vXe,getTextObj:Zle,getNoteRect:SXe,fixLifeLineHeights:Kle,sanitizeUrl:cd},Je={},xt={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:k(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(t=>t.height||0))+(this.loops.length===0?0:this.loops.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.messages.length===0?0:this.messages.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.notes.length===0?0:this.notes.map(t=>t.height||0).reduce((t,e)=>t+e))},"getHeight"),clear:k(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:k(function(t){this.boxes.push(t)},"addBox"),addActor:k(function(t){this.actors.push(t)},"addActor"),addLoop:k(function(t){this.loops.push(t)},"addLoop"),addMessage:k(function(t){this.messages.push(t)},"addMessage"),addNote:k(function(t){this.notes.push(t)},"addNote"),lastActor:k(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:k(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:k(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:k(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:k(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,tue(Ue())},"init"),updateVal:k(function(t,e,r,n){t[e]===void 0?t[e]=r:t[e]=n(r,t[e])},"updateVal"),updateBounds:k(function(t,e,r,n){const i=this;let a=0;function s(o){return k(function(u){a++;const h=i.sequenceItems.length-a+1;i.updateVal(u,"starty",e-h*Je.boxMargin,Math.min),i.updateVal(u,"stopy",n+h*Je.boxMargin,Math.max),i.updateVal(xt.data,"startx",t-h*Je.boxMargin,Math.min),i.updateVal(xt.data,"stopx",r+h*Je.boxMargin,Math.max),o!=="activation"&&(i.updateVal(u,"startx",t-h*Je.boxMargin,Math.min),i.updateVal(u,"stopx",r+h*Je.boxMargin,Math.max),i.updateVal(xt.data,"starty",e-h*Je.boxMargin,Math.min),i.updateVal(xt.data,"stopy",n+h*Je.boxMargin,Math.max))},"updateItemBounds")}k(s,"updateFn"),this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},"updateBounds"),insert:k(function(t,e,r,n){const i=At.getMin(t,r),a=At.getMax(t,r),s=At.getMin(e,n),o=At.getMax(e,n);this.updateVal(xt.data,"startx",i,Math.min),this.updateVal(xt.data,"starty",s,Math.min),this.updateVal(xt.data,"stopx",a,Math.max),this.updateVal(xt.data,"stopy",o,Math.max),this.updateBounds(i,s,a,o)},"insert"),newActivation:k(function(t,e,r){const n=r.get(t.from),i=HT(t.from).length||0,a=n.x+n.width/2+(i-1)*Je.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+Je.activationWidth,stopy:void 0,actor:t.from,anchored:Di.anchorElement(e)})},"newActivation"),endActivation:k(function(t){const e=this.activations.map(function(r){return r.actor}).lastIndexOf(t.from);return this.activations.splice(e,1)[0]},"endActivation"),createLoop:k(function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},"createLoop"),newLoop:k(function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},"newLoop"),endLoop:k(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:k(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:k(function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:xt.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},"addSectionToLoop"),saveVerticalPos:k(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:k(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:k(function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=At.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:k(function(){return this.verticalPos},"getVerticalPos"),getBounds:k(function(){return{bounds:this.data,models:this.models}},"getBounds")},EXe=k(async function(t,e){xt.bumpVerticalPos(Je.boxMargin),e.height=Je.boxMargin,e.starty=xt.getVerticalPos();const r=Tp();r.x=e.startx,r.y=e.starty,r.width=e.width||Je.width,r.class="note";const n=t.append("g"),i=Di.drawRect(n,r),a=cN();a.x=e.startx,a.y=e.starty,a.width=r.width,a.dy="1em",a.text=e.message,a.class="noteText",a.fontFamily=Je.noteFontFamily,a.fontSize=Je.noteFontSize,a.fontWeight=Je.noteFontWeight,a.anchor=Je.noteAlign,a.textMargin=Je.noteMargin,a.valign="center";const s=ms(a.text)?await ok(n,a):Fm(n,a),o=Math.round(s.map(l=>(l._groups||l)[0][0].getBBox().height).reduce((l,u)=>l+u));i.attr("height",o+2*Je.noteMargin),e.height+=o+2*Je.noteMargin,xt.bumpVerticalPos(o+2*Je.noteMargin),e.stopy=e.starty+o+2*Je.noteMargin,e.stopx=e.startx+r.width,xt.insert(e.startx,e.starty,e.stopx,e.stopy),xt.models.addNote(e)},"drawNote"),tp=k(t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),"messageFont"),xg=k(t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),"noteFont"),y9=k(t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight}),"actorFont");async function Jle(t,e){xt.bumpVerticalPos(10);const{startx:r,stopx:n,message:i}=e,a=At.splitBreaks(i).length,s=ms(i),o=s?await cb(i,Ue()):Ir.calculateTextDimensions(i,tp(Je));if(!s){const f=o.height/a;e.height+=f,xt.bumpVerticalPos(f)}let l,u=o.height-10;const h=o.width;if(r===n){l=xt.getVerticalPos()+u,Je.rightAngles||(u+=Je.boxMargin,l=xt.getVerticalPos()+u),u+=30;const f=At.getMax(h/2,Je.width/2);xt.insert(r-f,xt.getVerticalPos()-10+u,n+f,xt.getVerticalPos()+30+u)}else u+=Je.boxMargin,l=xt.getVerticalPos()+u,xt.insert(r,l-10,n,l);return xt.bumpVerticalPos(u),e.height+=u,e.stopy=e.starty+e.height,xt.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),l}k(Jle,"boundMessage");var TXe=k(async function(t,e,r,n){const{startx:i,stopx:a,starty:s,message:o,type:l,sequenceIndex:u,sequenceVisible:h}=e,f=Ir.calculateTextDimensions(o,tp(Je)),d=cN();d.x=i,d.y=s+10,d.width=a-i,d.class="messageText",d.dy="1em",d.text=o,d.fontFamily=Je.messageFontFamily,d.fontSize=Je.messageFontSize,d.fontWeight=Je.messageFontWeight,d.anchor=Je.messageAlign,d.valign="center",d.textMargin=Je.wrapPadding,d.tspan=!1,ms(d.text)?await ok(t,d,{startx:i,stopx:a,starty:r}):Fm(t,d);const p=f.width;let m;i===a?Je.rightAngles?m=t.append("path").attr("d",`M  ${i},${r} H ${i+At.getMax(Je.width/2,p/2)} V ${r+25} H ${i}`):m=t.append("path").attr("d","M "+i+","+r+" C "+(i+60)+","+(r-10)+" "+(i+60)+","+(r+30)+" "+i+","+(r+20)):(m=t.append("line"),m.attr("x1",i),m.attr("y1",r),m.attr("x2",a),m.attr("y2",r)),l===n.db.LINETYPE.DOTTED||l===n.db.LINETYPE.DOTTED_CROSS||l===n.db.LINETYPE.DOTTED_POINT||l===n.db.LINETYPE.DOTTED_OPEN||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED?(m.style("stroke-dasharray","3, 3"),m.attr("class","messageLine1")):m.attr("class","messageLine0");let v="";Je.arrowMarkerAbsolute&&(v=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,v=v.replace(/\(/g,"\\("),v=v.replace(/\)/g,"\\)")),m.attr("stroke-width",2),m.attr("stroke","none"),m.style("fill","none"),(l===n.db.LINETYPE.SOLID||l===n.db.LINETYPE.DOTTED)&&m.attr("marker-end","url("+v+"#arrowhead)"),(l===n.db.LINETYPE.BIDIRECTIONAL_SOLID||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(m.attr("marker-start","url("+v+"#arrowhead)"),m.attr("marker-end","url("+v+"#arrowhead)")),(l===n.db.LINETYPE.SOLID_POINT||l===n.db.LINETYPE.DOTTED_POINT)&&m.attr("marker-end","url("+v+"#filled-head)"),(l===n.db.LINETYPE.SOLID_CROSS||l===n.db.LINETYPE.DOTTED_CROSS)&&m.attr("marker-end","url("+v+"#crosshead)"),(h||Je.showSequenceNumbers)&&(m.attr("marker-start","url("+v+"#sequencenumber)"),t.append("text").attr("x",i).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(u))},"drawMessage"),CXe=k(function(t,e,r,n,i,a,s){let o=0,l=0,u,h=0;for(const f of n){const d=e.get(f),p=d.box;u&&u!=p&&(s||xt.models.addBox(u),l+=Je.boxMargin+u.margin),p&&p!=u&&(s||(p.x=o+l,p.y=i),l+=p.margin),d.width=d.width||Je.width,d.height=At.getMax(d.height||Je.height,Je.height),d.margin=d.margin||Je.actorMargin,h=At.getMax(h,d.height),r.get(d.name)&&(l+=d.width/2),d.x=o+l,d.starty=xt.getVerticalPos(),xt.insert(d.x,i,d.x+d.width,d.height),o+=d.width+l,d.box&&(d.box.width=o+p.margin-d.box.x),l=d.margin,u=d.box,xt.models.addActor(d)}u&&!s&&xt.models.addBox(u),xt.bumpVerticalPos(h)},"addActorRenderingData"),x9=k(async function(t,e,r,n){if(n){let i=0;xt.bumpVerticalPos(Je.boxMargin*2);for(const a of r){const s=e.get(a);s.stopy||(s.stopy=xt.getVerticalPos());const o=await Di.drawActor(t,s,Je,!0);i=At.getMax(i,o)}xt.bumpVerticalPos(i+Je.boxMargin)}else for(const i of r){const a=e.get(i);await Di.drawActor(t,a,Je,!1)}},"drawActors"),eue=k(function(t,e,r,n){let i=0,a=0;for(const s of r){const o=e.get(s),l=_Xe(o),u=Di.drawPopup(t,o,l,Je,Je.forceMenus,n);u.height>i&&(i=u.height),u.width+o.x>a&&(a=u.width+o.x)}return{maxHeight:i,maxWidth:a}},"drawActorsPopup"),tue=k(function(t){ia(Je,t),t.fontFamily&&(Je.actorFontFamily=Je.noteFontFamily=Je.messageFontFamily=t.fontFamily),t.fontSize&&(Je.actorFontSize=Je.noteFontSize=Je.messageFontSize=t.fontSize),t.fontWeight&&(Je.actorFontWeight=Je.noteFontWeight=Je.messageFontWeight=t.fontWeight)},"setConf"),HT=k(function(t){return xt.activations.filter(function(e){return e.actor===t})},"actorActivations"),bG=k(function(t,e){const r=e.get(t),n=HT(t),i=n.reduce(function(s,o){return At.getMin(s,o.startx)},r.x+r.width/2-1),a=n.reduce(function(s,o){return At.getMax(s,o.stopx)},r.x+r.width/2+1);return[i,a]},"activationBounds");function Wl(t,e,r,n,i){xt.bumpVerticalPos(r);let a=n;if(e.id&&e.message&&t[e.id]){const s=t[e.id].width,o=tp(Je);e.message=Ir.wrapLabel(`[${e.message}]`,s-2*Je.wrapPadding,o),e.width=s,e.wrap=!0;const l=Ir.calculateTextDimensions(e.message,o),u=At.getMax(l.height,Je.labelBoxHeight);a=n+u,Ee.debug(`${u} - ${e.message}`)}i(e),xt.bumpVerticalPos(a)}k(Wl,"adjustLoopHeightForWrap");function rue(t,e,r,n,i,a,s){function o(u,h){u.x<i.get(t.from).x?(xt.insert(e.stopx-h,e.starty,e.startx,e.stopy+u.height/2+Je.noteMargin),e.stopx=e.stopx+h):(xt.insert(e.startx,e.starty,e.stopx+h,e.stopy+u.height/2+Je.noteMargin),e.stopx=e.stopx-h)}k(o,"receiverAdjustment");function l(u,h){u.x<i.get(t.to).x?(xt.insert(e.startx-h,e.starty,e.stopx,e.stopy+u.height/2+Je.noteMargin),e.startx=e.startx+h):(xt.insert(e.stopx,e.starty,e.startx+h,e.stopy+u.height/2+Je.noteMargin),e.startx=e.startx-h)}if(k(l,"senderAdjustment"),a.get(t.to)==n){const u=i.get(t.to),h=u.type=="actor"?v0/2+3:u.width/2+3;o(u,h),u.starty=r-u.height/2,xt.bumpVerticalPos(u.height/2)}else if(s.get(t.from)==n){const u=i.get(t.from);if(Je.mirrorActors){const h=u.type=="actor"?v0/2:u.width/2;l(u,h)}u.stopy=r-u.height/2,xt.bumpVerticalPos(u.height/2)}else if(s.get(t.to)==n){const u=i.get(t.to);if(Je.mirrorActors){const h=u.type=="actor"?v0/2+3:u.width/2+3;o(u,h)}u.stopy=r-u.height/2,xt.bumpVerticalPos(u.height/2)}}k(rue,"adjustCreatedDestroyedData");var AXe=k(async function(t,e,r,n){const{securityLevel:i,sequence:a}=Ue();Je=a;let s;i==="sandbox"&&(s=bt("#i"+e));const o=bt(i==="sandbox"?s.nodes()[0].contentDocument.body:"body"),l=i==="sandbox"?s.nodes()[0].contentDocument:document;xt.init(),Ee.debug(n.db);const u=i==="sandbox"?o.select(`[id="${e}"]`):bt(`[id="${e}"]`),h=n.db.getActors(),f=n.db.getCreatedActors(),d=n.db.getDestroyedActors(),p=n.db.getBoxes();let m=n.db.getActorKeys();const v=n.db.getMessages(),x=n.db.getDiagramTitle(),y=n.db.hasAtLeastOneBox(),w=n.db.hasAtLeastOneBoxWithTitle(),S=await nue(h,v,n);if(Je.height=await iue(h,S,p),Di.insertComputerIcon(u),Di.insertDatabaseIcon(u),Di.insertClockIcon(u),y&&(xt.bumpVerticalPos(Je.boxMargin),w&&xt.bumpVerticalPos(p[0].textMaxHeight)),Je.hideUnusedParticipants===!0){const $=new Set;v.forEach(V=>{$.add(V.from),$.add(V.to)}),m=m.filter(V=>$.has(V))}CXe(u,h,f,m,0,v,!1);const E=await RXe(v,h,S,n);Di.insertArrowHead(u),Di.insertArrowCrossHead(u),Di.insertArrowFilledHead(u),Di.insertSequenceNumber(u);function C($,V){const X=xt.endActivation($);X.starty+18>V&&(X.starty=V-6,V+=12),Di.drawActivation(u,X,V,Je,HT($.from).length),xt.insert(X.startx,V-10,X.stopx,V)}k(C,"activeEnd");let L=1,_=1;const I=[],D=[];let F=0;for(const $ of v){let V,X,q;switch($.type){case n.db.LINETYPE.NOTE:xt.resetVerticalPos(),X=$.noteModel,await EXe(u,X);break;case n.db.LINETYPE.ACTIVE_START:xt.newActivation($,u,h);break;case n.db.LINETYPE.ACTIVE_END:C($,xt.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:Wl(E,$,Je.boxMargin,Je.boxMargin+Je.boxTextMargin,Y=>xt.newLoop(Y));break;case n.db.LINETYPE.LOOP_END:V=xt.endLoop(),await Di.drawLoop(u,V,"loop",Je),xt.bumpVerticalPos(V.stopy-xt.getVerticalPos()),xt.models.addLoop(V);break;case n.db.LINETYPE.RECT_START:Wl(E,$,Je.boxMargin,Je.boxMargin,Y=>xt.newLoop(void 0,Y.message));break;case n.db.LINETYPE.RECT_END:V=xt.endLoop(),D.push(V),xt.models.addLoop(V),xt.bumpVerticalPos(V.stopy-xt.getVerticalPos());break;case n.db.LINETYPE.OPT_START:Wl(E,$,Je.boxMargin,Je.boxMargin+Je.boxTextMargin,Y=>xt.newLoop(Y));break;case n.db.LINETYPE.OPT_END:V=xt.endLoop(),await Di.drawLoop(u,V,"opt",Je),xt.bumpVerticalPos(V.stopy-xt.getVerticalPos()),xt.models.addLoop(V);break;case n.db.LINETYPE.ALT_START:Wl(E,$,Je.boxMargin,Je.boxMargin+Je.boxTextMargin,Y=>xt.newLoop(Y));break;case n.db.LINETYPE.ALT_ELSE:Wl(E,$,Je.boxMargin+Je.boxTextMargin,Je.boxMargin,Y=>xt.addSectionToLoop(Y));break;case n.db.LINETYPE.ALT_END:V=xt.endLoop(),await Di.drawLoop(u,V,"alt",Je),xt.bumpVerticalPos(V.stopy-xt.getVerticalPos()),xt.models.addLoop(V);break;case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:Wl(E,$,Je.boxMargin,Je.boxMargin+Je.boxTextMargin,Y=>xt.newLoop(Y)),xt.saveVerticalPos();break;case n.db.LINETYPE.PAR_AND:Wl(E,$,Je.boxMargin+Je.boxTextMargin,Je.boxMargin,Y=>xt.addSectionToLoop(Y));break;case n.db.LINETYPE.PAR_END:V=xt.endLoop(),await Di.drawLoop(u,V,"par",Je),xt.bumpVerticalPos(V.stopy-xt.getVerticalPos()),xt.models.addLoop(V);break;case n.db.LINETYPE.AUTONUMBER:L=$.message.start||L,_=$.message.step||_,$.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:Wl(E,$,Je.boxMargin,Je.boxMargin+Je.boxTextMargin,Y=>xt.newLoop(Y));break;case n.db.LINETYPE.CRITICAL_OPTION:Wl(E,$,Je.boxMargin+Je.boxTextMargin,Je.boxMargin,Y=>xt.addSectionToLoop(Y));break;case n.db.LINETYPE.CRITICAL_END:V=xt.endLoop(),await Di.drawLoop(u,V,"critical",Je),xt.bumpVerticalPos(V.stopy-xt.getVerticalPos()),xt.models.addLoop(V);break;case n.db.LINETYPE.BREAK_START:Wl(E,$,Je.boxMargin,Je.boxMargin+Je.boxTextMargin,Y=>xt.newLoop(Y));break;case n.db.LINETYPE.BREAK_END:V=xt.endLoop(),await Di.drawLoop(u,V,"break",Je),xt.bumpVerticalPos(V.stopy-xt.getVerticalPos()),xt.models.addLoop(V);break;default:try{q=$.msgModel,q.starty=xt.getVerticalPos(),q.sequenceIndex=L,q.sequenceVisible=n.db.showSequenceNumbers();const Y=await Jle(u,q);rue($,q,Y,F,h,f,d),I.push({messageModel:q,lineStartY:Y}),xt.models.addMessage(q)}catch(Y){Ee.error("error while drawing message",Y)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT,n.db.LINETYPE.BIDIRECTIONAL_SOLID,n.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes($.type)&&(L=L+_),F++}Ee.debug("createdActors",f),Ee.debug("destroyedActors",d),await x9(u,h,m,!1);for(const $ of I)await TXe(u,$.messageModel,$.lineStartY,n);Je.mirrorActors&&await x9(u,h,m,!0),D.forEach($=>Di.drawBackgroundRect(u,$)),Kle(u,h,m,Je);for(const $ of xt.models.boxes)$.height=xt.getVerticalPos()-$.y,xt.insert($.x,$.y,$.x+$.width,$.height),$.startx=$.x,$.starty=$.y,$.stopx=$.startx+$.width,$.stopy=$.starty+$.height,$.stroke="rgb(0,0,0, 0.5)",Di.drawBox(u,$,Je);y&&xt.bumpVerticalPos(Je.boxMargin);const M=eue(u,h,m,l),{bounds:B}=xt.getBounds();B.startx===void 0&&(B.startx=0),B.starty===void 0&&(B.starty=0),B.stopx===void 0&&(B.stopx=0),B.stopy===void 0&&(B.stopy=0);let H=B.stopy-B.starty;H<M.maxHeight&&(H=M.maxHeight);let R=H+2*Je.diagramMarginY;Je.mirrorActors&&(R=R-Je.boxMargin+Je.bottomMarginAdj);let O=B.stopx-B.startx;O<M.maxWidth&&(O=M.maxWidth);const P=O+2*Je.diagramMarginX;x&&u.append("text").text(x).attr("x",(B.stopx-B.startx)/2-2*Je.diagramMarginX).attr("y",-25),xs(u,R,P,Je.useMaxWidth);const z=x?40:0;u.attr("viewBox",B.startx-Je.diagramMarginX+" -"+(Je.diagramMarginY+z)+" "+P+" "+(R+z)),Ee.debug("models:",xt.models)},"draw");async function nue(t,e,r){const n={};for(const i of e)if(t.get(i.to)&&t.get(i.from)){const a=t.get(i.to);if(i.placement===r.db.PLACEMENT.LEFTOF&&!a.prevActor||i.placement===r.db.PLACEMENT.RIGHTOF&&!a.nextActor)continue;const s=i.placement!==void 0,o=!s,l=s?xg(Je):tp(Je),u=i.wrap?Ir.wrapLabel(i.message,Je.width-2*Je.wrapPadding,l):i.message,f=(ms(u)?await cb(i.message,Ue()):Ir.calculateTextDimensions(u,l)).width+2*Je.wrapPadding;o&&i.from===a.nextActor?n[i.to]=At.getMax(n[i.to]||0,f):o&&i.from===a.prevActor?n[i.from]=At.getMax(n[i.from]||0,f):o&&i.from===i.to?(n[i.from]=At.getMax(n[i.from]||0,f/2),n[i.to]=At.getMax(n[i.to]||0,f/2)):i.placement===r.db.PLACEMENT.RIGHTOF?n[i.from]=At.getMax(n[i.from]||0,f):i.placement===r.db.PLACEMENT.LEFTOF?n[a.prevActor]=At.getMax(n[a.prevActor]||0,f):i.placement===r.db.PLACEMENT.OVER&&(a.prevActor&&(n[a.prevActor]=At.getMax(n[a.prevActor]||0,f/2)),a.nextActor&&(n[i.from]=At.getMax(n[i.from]||0,f/2)))}return Ee.debug("maxMessageWidthPerActor:",n),n}k(nue,"getMaxMessageWidthPerActor");var _Xe=k(function(t){let e=0;const r=y9(Je);for(const n in t.links){const a=Ir.calculateTextDimensions(n,r).width+2*Je.wrapPadding+2*Je.boxMargin;e<a&&(e=a)}return e},"getRequiredPopupWidth");async function iue(t,e,r){let n=0;for(const a of t.keys()){const s=t.get(a);s.wrap&&(s.description=Ir.wrapLabel(s.description,Je.width-2*Je.wrapPadding,y9(Je)));const o=ms(s.description)?await cb(s.description,Ue()):Ir.calculateTextDimensions(s.description,y9(Je));s.width=s.wrap?Je.width:At.getMax(Je.width,o.width+2*Je.wrapPadding),s.height=s.wrap?At.getMax(o.height,Je.height):Je.height,n=At.getMax(n,s.height)}for(const a in e){const s=t.get(a);if(!s)continue;const o=t.get(s.nextActor);if(!o){const f=e[a]+Je.actorMargin-s.width/2;s.margin=At.getMax(f,Je.actorMargin);continue}const u=e[a]+Je.actorMargin-s.width/2-o.width/2;s.margin=At.getMax(u,Je.actorMargin)}let i=0;return r.forEach(a=>{const s=tp(Je);let o=a.actorKeys.reduce((h,f)=>h+=t.get(f).width+(t.get(f).margin||0),0);o-=2*Je.boxTextMargin,a.wrap&&(a.name=Ir.wrapLabel(a.name,o-2*Je.wrapPadding,s));const l=Ir.calculateTextDimensions(a.name,s);i=At.getMax(l.height,i);const u=At.getMax(o,l.width+2*Je.wrapPadding);if(a.margin=Je.boxTextMargin,o<u){const h=(u-o)/2;a.margin+=h}}),r.forEach(a=>a.textMaxHeight=i),At.getMax(n,Je.height)}k(iue,"calculateActorMargins");var LXe=k(async function(t,e,r){const n=e.get(t.from),i=e.get(t.to),a=n.x,s=i.x,o=t.wrap&&t.message;let l=ms(t.message)?await cb(t.message,Ue()):Ir.calculateTextDimensions(o?Ir.wrapLabel(t.message,Je.width,xg(Je)):t.message,xg(Je));const u={width:o?Je.width:At.getMax(Je.width,l.width+2*Je.noteMargin),height:0,startx:n.x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===r.db.PLACEMENT.RIGHTOF?(u.width=o?At.getMax(Je.width,l.width):At.getMax(n.width/2+i.width/2,l.width+2*Je.noteMargin),u.startx=a+(n.width+Je.actorMargin)/2):t.placement===r.db.PLACEMENT.LEFTOF?(u.width=o?At.getMax(Je.width,l.width+2*Je.noteMargin):At.getMax(n.width/2+i.width/2,l.width+2*Je.noteMargin),u.startx=a-u.width+(n.width-Je.actorMargin)/2):t.to===t.from?(l=Ir.calculateTextDimensions(o?Ir.wrapLabel(t.message,At.getMax(Je.width,n.width),xg(Je)):t.message,xg(Je)),u.width=o?At.getMax(Je.width,n.width):At.getMax(n.width,Je.width,l.width+2*Je.noteMargin),u.startx=a+(n.width-u.width)/2):(u.width=Math.abs(a+n.width/2-(s+i.width/2))+Je.actorMargin,u.startx=a<s?a+n.width/2-Je.actorMargin/2:s+i.width/2-Je.actorMargin/2),o&&(u.message=Ir.wrapLabel(t.message,u.width-2*Je.wrapPadding,xg(Je))),Ee.debug(`NM:[${u.startx},${u.stopx},${u.starty},${u.stopy}:${u.width},${u.height}=${t.message}]`),u},"buildNoteModel"),DXe=k(function(t,e,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type))return{};const[n,i]=bG(t.from,e),[a,s]=bG(t.to,e),o=n<=a;let l=o?i:n,u=o?a:s;const h=Math.abs(a-s)>2,f=k(v=>o?-v:v,"adjustValue");t.from===t.to?u=l:(t.activate&&!h&&(u+=f(Je.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(t.type)||(u+=f(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type)&&(l-=f(3)));const d=[n,i,a,s],p=Math.abs(l-u);t.wrap&&t.message&&(t.message=Ir.wrapLabel(t.message,At.getMax(p+2*Je.wrapPadding,Je.width),tp(Je)));const m=Ir.calculateTextDimensions(t.message,tp(Je));return{width:At.getMax(t.wrap?0:m.width+2*Je.wrapPadding,p+2*Je.wrapPadding,Je.width),height:0,startx:l,stopx:u,starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,d),toBounds:Math.max.apply(null,d)}},"buildMessageModel"),RXe=k(async function(t,e,r,n){const i={},a=[];let s,o,l;for(const u of t){switch(u.id=Ir.random({length:10}),u.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:a.push({id:u.id,msg:u.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:u.message&&(s=a.pop(),i[s.id]=s,i[u.id]=s,a.push(s));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:s=a.pop(),i[s.id]=s;break;case n.db.LINETYPE.ACTIVE_START:{const f=e.get(u.from?u.from:u.to.actor),d=HT(u.from?u.from:u.to.actor).length,p=f.x+f.width/2+(d-1)*Je.activationWidth/2,m={startx:p,stopx:p+Je.activationWidth,actor:u.from,enabled:!0};xt.activations.push(m)}break;case n.db.LINETYPE.ACTIVE_END:{const f=xt.activations.map(d=>d.actor).lastIndexOf(u.from);xt.activations.splice(f,1).splice(0,1)}break}u.placement!==void 0?(o=await LXe(u,e,n),u.noteModel=o,a.forEach(f=>{s=f,s.from=At.getMin(s.from,o.startx),s.to=At.getMax(s.to,o.startx+o.width),s.width=At.getMax(s.width,Math.abs(s.from-s.to))-Je.labelBoxWidth})):(l=DXe(u,e,n),u.msgModel=l,l.startx&&l.stopx&&a.length>0&&a.forEach(f=>{if(s=f,l.startx===l.stopx){const d=e.get(u.from),p=e.get(u.to);s.from=At.getMin(d.x-l.width/2,d.x-d.width/2,s.from),s.to=At.getMax(p.x+l.width/2,p.x+d.width/2,s.to),s.width=At.getMax(s.width,Math.abs(s.to-s.from))-Je.labelBoxWidth}else s.from=At.getMin(l.startx,s.from),s.to=At.getMax(l.stopx,s.to),s.width=At.getMax(s.width,l.width)-Je.labelBoxWidth}))}return xt.activations=[],Ee.debug("Loop type widths:",i),i},"calculateLoopBounds"),MXe={bounds:xt,drawActors:x9,drawActorsPopup:eue,setConf:tue,draw:AXe},NXe={parser:IYe,db:yG,renderer:MXe,styles:iXe,init:k(({wrap:t})=>{yG.setWrap(t)},"init")};const IXe=Object.freeze(Object.defineProperty({__proto__:null,diagram:NXe},Symbol.toStringTag,{value:"Module"}));var b9=function(){var t=k(function(Te,de,W,ee){for(W=W||{},ee=Te.length;ee--;W[Te[ee]]=de);return W},"o"),e=[1,18],r=[1,19],n=[1,20],i=[1,41],a=[1,42],s=[1,26],o=[1,24],l=[1,25],u=[1,32],h=[1,33],f=[1,34],d=[1,45],p=[1,35],m=[1,36],v=[1,37],x=[1,38],y=[1,27],w=[1,28],S=[1,29],E=[1,30],C=[1,31],L=[1,44],_=[1,46],I=[1,43],D=[1,47],F=[1,9],M=[1,8,9],B=[1,58],H=[1,59],R=[1,60],O=[1,61],P=[1,62],z=[1,63],$=[1,64],V=[1,8,9,41],X=[1,76],q=[1,8,9,12,13,22,39,41,44,66,67,68,69,70,71,72,77,79],Y=[1,8,9,12,13,17,20,22,39,41,44,48,58,66,67,68,69,70,71,72,77,79,84,99,101,102],U=[13,58,84,99,101,102],Z=[13,58,71,72,84,99,101,102],pe=[13,58,66,67,68,69,70,84,99,101,102],ne=[1,98],ge=[1,115],ye=[1,107],J=[1,113],se=[1,108],oe=[1,109],fe=[1,110],me=[1,111],be=[1,112],ce=[1,114],Ge=[22,58,59,80,84,85,86,87,88,89],xe=[1,8,9,39,41,44],le=[1,8,9,22],ke=[1,143],De=[1,8,9,59],We=[1,8,9,22,58,59,80,84,85,86,87,88,89],qe={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,DOT:17,className:18,classLiteralName:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,ANNOTATION_START:47,ANNOTATION_END:48,MEMBER:49,SEPARATOR:50,relation:51,NOTE_FOR:52,noteText:53,NOTE:54,CLASSDEF:55,classList:56,stylesOpt:57,ALPHA:58,COMMA:59,direction_tb:60,direction_bt:61,direction_rl:62,direction_lr:63,relationType:64,lineType:65,AGGREGATION:66,EXTENSION:67,COMPOSITION:68,DEPENDENCY:69,LOLLIPOP:70,LINE:71,DOTTED_LINE:72,CALLBACK:73,LINK:74,LINK_TARGET:75,CLICK:76,CALLBACK_NAME:77,CALLBACK_ARGS:78,HREF:79,STYLE:80,CSSCLASS:81,style:82,styleComponent:83,NUM:84,COLON:85,UNIT:86,SPACE:87,BRKT:88,PCT:89,commentToken:90,textToken:91,graphCodeTokens:92,textNoTagsToken:93,TAGSTART:94,TAGEND:95,"==":96,"--":97,DEFAULT:98,MINUS:99,keywords:100,UNICODE_TEXT:101,BQUOTE_STR:102,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",17:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",47:"ANNOTATION_START",48:"ANNOTATION_END",49:"MEMBER",50:"SEPARATOR",52:"NOTE_FOR",54:"NOTE",55:"CLASSDEF",58:"ALPHA",59:"COMMA",60:"direction_tb",61:"direction_bt",62:"direction_rl",63:"direction_lr",66:"AGGREGATION",67:"EXTENSION",68:"COMPOSITION",69:"DEPENDENCY",70:"LOLLIPOP",71:"LINE",72:"DOTTED_LINE",73:"CALLBACK",74:"LINK",75:"LINK_TARGET",76:"CLICK",77:"CALLBACK_NAME",78:"CALLBACK_ARGS",79:"HREF",80:"STYLE",81:"CSSCLASS",84:"NUM",85:"COLON",86:"UNIT",87:"SPACE",88:"BRKT",89:"PCT",92:"graphCodeTokens",94:"TAGSTART",95:"TAGEND",96:"==",97:"--",98:"DEFAULT",99:"MINUS",100:"keywords",101:"UNICODE_TEXT",102:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,3],[15,2],[18,1],[18,3],[18,1],[18,2],[18,2],[18,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,6],[43,2],[43,3],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[56,1],[56,3],[32,1],[32,1],[32,1],[32,1],[51,3],[51,2],[51,2],[51,1],[64,1],[64,1],[64,1],[64,1],[64,1],[65,1],[65,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[57,1],[57,3],[82,1],[82,2],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[90,1],[90,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[93,1],[93,1],[93,1],[93,1],[16,1],[16,1],[16,1],[16,1],[19,1],[53,1]],performAction:k(function(de,W,ee,te,he,K,_e){var ae=K.length-1;switch(he){case 8:this.$=K[ae-1];break;case 9:case 12:case 14:this.$=K[ae];break;case 10:case 13:this.$=K[ae-2]+"."+K[ae];break;case 11:case 15:this.$=K[ae-1]+K[ae];break;case 16:case 17:this.$=K[ae-1]+"~"+K[ae]+"~";break;case 18:te.addRelation(K[ae]);break;case 19:K[ae-1].title=te.cleanupLabel(K[ae]),te.addRelation(K[ae-1]);break;case 30:this.$=K[ae].trim(),te.setAccTitle(this.$);break;case 31:case 32:this.$=K[ae].trim(),te.setAccDescription(this.$);break;case 33:te.addClassesToNamespace(K[ae-3],K[ae-1]);break;case 34:te.addClassesToNamespace(K[ae-4],K[ae-1]);break;case 35:this.$=K[ae],te.addNamespace(K[ae]);break;case 36:this.$=[K[ae]];break;case 37:this.$=[K[ae-1]];break;case 38:K[ae].unshift(K[ae-2]),this.$=K[ae];break;case 40:te.setCssClass(K[ae-2],K[ae]);break;case 41:te.addMembers(K[ae-3],K[ae-1]);break;case 42:te.setCssClass(K[ae-5],K[ae-3]),te.addMembers(K[ae-5],K[ae-1]);break;case 43:this.$=K[ae],te.addClass(K[ae]);break;case 44:this.$=K[ae-1],te.addClass(K[ae-1]),te.setClassLabel(K[ae-1],K[ae]);break;case 45:te.addAnnotation(K[ae],K[ae-2]);break;case 46:case 59:this.$=[K[ae]];break;case 47:K[ae].push(K[ae-1]),this.$=K[ae];break;case 48:break;case 49:te.addMember(K[ae-1],te.cleanupLabel(K[ae]));break;case 50:break;case 51:break;case 52:this.$={id1:K[ae-2],id2:K[ae],relation:K[ae-1],relationTitle1:"none",relationTitle2:"none"};break;case 53:this.$={id1:K[ae-3],id2:K[ae],relation:K[ae-1],relationTitle1:K[ae-2],relationTitle2:"none"};break;case 54:this.$={id1:K[ae-3],id2:K[ae],relation:K[ae-2],relationTitle1:"none",relationTitle2:K[ae-1]};break;case 55:this.$={id1:K[ae-4],id2:K[ae],relation:K[ae-2],relationTitle1:K[ae-3],relationTitle2:K[ae-1]};break;case 56:te.addNote(K[ae],K[ae-1]);break;case 57:te.addNote(K[ae]);break;case 58:this.$=K[ae-2],te.defineClass(K[ae-1],K[ae]);break;case 60:this.$=K[ae-2].concat([K[ae]]);break;case 61:te.setDirection("TB");break;case 62:te.setDirection("BT");break;case 63:te.setDirection("RL");break;case 64:te.setDirection("LR");break;case 65:this.$={type1:K[ae-2],type2:K[ae],lineType:K[ae-1]};break;case 66:this.$={type1:"none",type2:K[ae],lineType:K[ae-1]};break;case 67:this.$={type1:K[ae-1],type2:"none",lineType:K[ae]};break;case 68:this.$={type1:"none",type2:"none",lineType:K[ae]};break;case 69:this.$=te.relationType.AGGREGATION;break;case 70:this.$=te.relationType.EXTENSION;break;case 71:this.$=te.relationType.COMPOSITION;break;case 72:this.$=te.relationType.DEPENDENCY;break;case 73:this.$=te.relationType.LOLLIPOP;break;case 74:this.$=te.lineType.LINE;break;case 75:this.$=te.lineType.DOTTED_LINE;break;case 76:case 82:this.$=K[ae-2],te.setClickEvent(K[ae-1],K[ae]);break;case 77:case 83:this.$=K[ae-3],te.setClickEvent(K[ae-2],K[ae-1]),te.setTooltip(K[ae-2],K[ae]);break;case 78:this.$=K[ae-2],te.setLink(K[ae-1],K[ae]);break;case 79:this.$=K[ae-3],te.setLink(K[ae-2],K[ae-1],K[ae]);break;case 80:this.$=K[ae-3],te.setLink(K[ae-2],K[ae-1]),te.setTooltip(K[ae-2],K[ae]);break;case 81:this.$=K[ae-4],te.setLink(K[ae-3],K[ae-2],K[ae]),te.setTooltip(K[ae-3],K[ae-1]);break;case 84:this.$=K[ae-3],te.setClickEvent(K[ae-2],K[ae-1],K[ae]);break;case 85:this.$=K[ae-4],te.setClickEvent(K[ae-3],K[ae-2],K[ae-1]),te.setTooltip(K[ae-3],K[ae]);break;case 86:this.$=K[ae-3],te.setLink(K[ae-2],K[ae]);break;case 87:this.$=K[ae-4],te.setLink(K[ae-3],K[ae-1],K[ae]);break;case 88:this.$=K[ae-4],te.setLink(K[ae-3],K[ae-1]),te.setTooltip(K[ae-3],K[ae]);break;case 89:this.$=K[ae-5],te.setLink(K[ae-4],K[ae-2],K[ae]),te.setTooltip(K[ae-4],K[ae-1]);break;case 90:this.$=K[ae-2],te.setCssStyle(K[ae-1],K[ae]);break;case 91:te.setCssClass(K[ae-1],K[ae]);break;case 92:this.$=[K[ae]];break;case 93:K[ae-2].push(K[ae]),this.$=K[ae-2];break;case 95:this.$=K[ae-1]+K[ae];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:e,35:r,37:n,38:22,42:i,43:23,46:a,47:s,49:o,50:l,52:u,54:h,55:f,58:d,60:p,61:m,62:v,63:x,73:y,74:w,76:S,80:E,81:C,84:L,99:_,101:I,102:D},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},t(F,[2,5],{8:[1,48]}),{8:[1,49]},t(M,[2,18],{22:[1,50]}),t(M,[2,20]),t(M,[2,21]),t(M,[2,22]),t(M,[2,23]),t(M,[2,24]),t(M,[2,25]),t(M,[2,26]),t(M,[2,27]),t(M,[2,28]),t(M,[2,29]),{34:[1,51]},{36:[1,52]},t(M,[2,32]),t(M,[2,48],{51:53,64:56,65:57,13:[1,54],22:[1,55],66:B,67:H,68:R,69:O,70:P,71:z,72:$}),{39:[1,65]},t(V,[2,39],{39:[1,67],44:[1,66]}),t(M,[2,50]),t(M,[2,51]),{16:68,58:d,84:L,99:_,101:I},{16:39,18:69,19:40,58:d,84:L,99:_,101:I,102:D},{16:39,18:70,19:40,58:d,84:L,99:_,101:I,102:D},{16:39,18:71,19:40,58:d,84:L,99:_,101:I,102:D},{58:[1,72]},{13:[1,73]},{16:39,18:74,19:40,58:d,84:L,99:_,101:I,102:D},{13:X,53:75},{56:77,58:[1,78]},t(M,[2,61]),t(M,[2,62]),t(M,[2,63]),t(M,[2,64]),t(q,[2,12],{16:39,19:40,18:80,17:[1,79],20:[1,81],58:d,84:L,99:_,101:I,102:D}),t(q,[2,14],{20:[1,82]}),{15:83,16:84,58:d,84:L,99:_,101:I},{16:39,18:85,19:40,58:d,84:L,99:_,101:I,102:D},t(Y,[2,118]),t(Y,[2,119]),t(Y,[2,120]),t(Y,[2,121]),t([1,8,9,12,13,20,22,39,41,44,66,67,68,69,70,71,72,77,79],[2,122]),t(F,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,18:21,38:22,43:23,16:39,19:40,5:86,33:e,35:r,37:n,42:i,46:a,47:s,49:o,50:l,52:u,54:h,55:f,58:d,60:p,61:m,62:v,63:x,73:y,74:w,76:S,80:E,81:C,84:L,99:_,101:I,102:D}),{5:87,10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:e,35:r,37:n,38:22,42:i,43:23,46:a,47:s,49:o,50:l,52:u,54:h,55:f,58:d,60:p,61:m,62:v,63:x,73:y,74:w,76:S,80:E,81:C,84:L,99:_,101:I,102:D},t(M,[2,19]),t(M,[2,30]),t(M,[2,31]),{13:[1,89],16:39,18:88,19:40,58:d,84:L,99:_,101:I,102:D},{51:90,64:56,65:57,66:B,67:H,68:R,69:O,70:P,71:z,72:$},t(M,[2,49]),{65:91,71:z,72:$},t(U,[2,68],{64:92,66:B,67:H,68:R,69:O,70:P}),t(Z,[2,69]),t(Z,[2,70]),t(Z,[2,71]),t(Z,[2,72]),t(Z,[2,73]),t(pe,[2,74]),t(pe,[2,75]),{8:[1,94],24:95,40:93,43:23,46:a},{16:96,58:d,84:L,99:_,101:I},{45:97,49:ne},{48:[1,99]},{13:[1,100]},{13:[1,101]},{77:[1,102],79:[1,103]},{22:ge,57:104,58:ye,80:J,82:105,83:106,84:se,85:oe,86:fe,87:me,88:be,89:ce},{58:[1,116]},{13:X,53:117},t(M,[2,57]),t(M,[2,123]),{22:ge,57:118,58:ye,59:[1,119],80:J,82:105,83:106,84:se,85:oe,86:fe,87:me,88:be,89:ce},t(Ge,[2,59]),{16:39,18:120,19:40,58:d,84:L,99:_,101:I,102:D},t(q,[2,15]),t(q,[2,16]),t(q,[2,17]),{39:[2,35]},{15:122,16:84,17:[1,121],39:[2,9],58:d,84:L,99:_,101:I},t(xe,[2,43],{11:123,12:[1,124]}),t(F,[2,7]),{9:[1,125]},t(le,[2,52]),{16:39,18:126,19:40,58:d,84:L,99:_,101:I,102:D},{13:[1,128],16:39,18:127,19:40,58:d,84:L,99:_,101:I,102:D},t(U,[2,67],{64:129,66:B,67:H,68:R,69:O,70:P}),t(U,[2,66]),{41:[1,130]},{24:95,40:131,43:23,46:a},{8:[1,132],41:[2,36]},t(V,[2,40],{39:[1,133]}),{41:[1,134]},{41:[2,46],45:135,49:ne},{16:39,18:136,19:40,58:d,84:L,99:_,101:I,102:D},t(M,[2,76],{13:[1,137]}),t(M,[2,78],{13:[1,139],75:[1,138]}),t(M,[2,82],{13:[1,140],78:[1,141]}),{13:[1,142]},t(M,[2,90],{59:ke}),t(De,[2,92],{83:144,22:ge,58:ye,80:J,84:se,85:oe,86:fe,87:me,88:be,89:ce}),t(We,[2,94]),t(We,[2,96]),t(We,[2,97]),t(We,[2,98]),t(We,[2,99]),t(We,[2,100]),t(We,[2,101]),t(We,[2,102]),t(We,[2,103]),t(We,[2,104]),t(M,[2,91]),t(M,[2,56]),t(M,[2,58],{59:ke}),{58:[1,145]},t(q,[2,13]),{15:146,16:84,58:d,84:L,99:_,101:I},{39:[2,11]},t(xe,[2,44]),{13:[1,147]},{1:[2,4]},t(le,[2,54]),t(le,[2,53]),{16:39,18:148,19:40,58:d,84:L,99:_,101:I,102:D},t(U,[2,65]),t(M,[2,33]),{41:[1,149]},{24:95,40:150,41:[2,37],43:23,46:a},{45:151,49:ne},t(V,[2,41]),{41:[2,47]},t(M,[2,45]),t(M,[2,77]),t(M,[2,79]),t(M,[2,80],{75:[1,152]}),t(M,[2,83]),t(M,[2,84],{13:[1,153]}),t(M,[2,86],{13:[1,155],75:[1,154]}),{22:ge,58:ye,80:J,82:156,83:106,84:se,85:oe,86:fe,87:me,88:be,89:ce},t(We,[2,95]),t(Ge,[2,60]),{39:[2,10]},{14:[1,157]},t(le,[2,55]),t(M,[2,34]),{41:[2,38]},{41:[1,158]},t(M,[2,81]),t(M,[2,85]),t(M,[2,87]),t(M,[2,88],{75:[1,159]}),t(De,[2,93],{83:144,22:ge,58:ye,80:J,84:se,85:oe,86:fe,87:me,88:be,89:ce}),t(xe,[2,8]),t(V,[2,42]),t(M,[2,89])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,35],122:[2,11],125:[2,4],135:[2,47],146:[2,10],150:[2,38]},parseError:k(function(de,W){if(W.recoverable)this.trace(de);else{var ee=new Error(de);throw ee.hash=W,ee}},"parseError"),parse:k(function(de){var W=this,ee=[0],te=[],he=[null],K=[],_e=this.table,ae="",Le=0,Ne=0,Ie=2,Oe=1,Pe=K.slice.call(arguments,1),Me=Object.create(this.lexer),ze={yy:{}};for(var it in this.yy)Object.prototype.hasOwnProperty.call(this.yy,it)&&(ze.yy[it]=this.yy[it]);Me.setInput(de,ze.yy),ze.yy.lexer=Me,ze.yy.parser=this,typeof Me.yylloc>"u"&&(Me.yylloc={});var ut=Me.yylloc;K.push(ut);var gt=Me.options&&Me.options.ranges;typeof ze.yy.parseError=="function"?this.parseError=ze.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function wt(Ot){ee.length=ee.length-2*Ot,he.length=he.length-Ot,K.length=K.length-Ot}k(wt,"popStack");function Pt(){var Ot;return Ot=te.pop()||Me.lex()||Oe,typeof Ot!="number"&&(Ot instanceof Array&&(te=Ot,Ot=te.pop()),Ot=W.symbols_[Ot]||Ot),Ot}k(Pt,"lex");for(var ot,at,kt,ct,ft={},Jt,pt,dt,Rt;;){if(at=ee[ee.length-1],this.defaultActions[at]?kt=this.defaultActions[at]:((ot===null||typeof ot>"u")&&(ot=Pt()),kt=_e[at]&&_e[at][ot]),typeof kt>"u"||!kt.length||!kt[0]){var er="";Rt=[];for(Jt in _e[at])this.terminals_[Jt]&&Jt>Ie&&Rt.push("'"+this.terminals_[Jt]+"'");Me.showPosition?er="Parse error on line "+(Le+1)+`:
`+Me.showPosition()+`
Expecting `+Rt.join(", ")+", got '"+(this.terminals_[ot]||ot)+"'":er="Parse error on line "+(Le+1)+": Unexpected "+(ot==Oe?"end of input":"'"+(this.terminals_[ot]||ot)+"'"),this.parseError(er,{text:Me.match,token:this.terminals_[ot]||ot,line:Me.yylineno,loc:ut,expected:Rt})}if(kt[0]instanceof Array&&kt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+at+", token: "+ot);switch(kt[0]){case 1:ee.push(ot),he.push(Me.yytext),K.push(Me.yylloc),ee.push(kt[1]),ot=null,Ne=Me.yyleng,ae=Me.yytext,Le=Me.yylineno,ut=Me.yylloc;break;case 2:if(pt=this.productions_[kt[1]][1],ft.$=he[he.length-pt],ft._$={first_line:K[K.length-(pt||1)].first_line,last_line:K[K.length-1].last_line,first_column:K[K.length-(pt||1)].first_column,last_column:K[K.length-1].last_column},gt&&(ft._$.range=[K[K.length-(pt||1)].range[0],K[K.length-1].range[1]]),ct=this.performAction.apply(ft,[ae,Ne,Le,ze.yy,kt[1],he,K].concat(Pe)),typeof ct<"u")return ct;pt&&(ee=ee.slice(0,-1*pt*2),he=he.slice(0,-1*pt),K=K.slice(0,-1*pt)),ee.push(this.productions_[kt[1]][0]),he.push(ft.$),K.push(ft._$),dt=_e[ee[ee.length-2]][ee[ee.length-1]],ee.push(dt);break;case 3:return!0}}return!0},"parse")},Ve=function(){var Te={EOF:1,parseError:k(function(W,ee){if(this.yy.parser)this.yy.parser.parseError(W,ee);else throw new Error(W)},"parseError"),setInput:k(function(de,W){return this.yy=W||this.yy||{},this._input=de,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var de=this._input[0];this.yytext+=de,this.yyleng++,this.offset++,this.match+=de,this.matched+=de;var W=de.match(/(?:\r\n?|\n).*/g);return W?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),de},"input"),unput:k(function(de){var W=de.length,ee=de.split(/(?:\r\n?|\n)/g);this._input=de+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-W),this.offset-=W;var te=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ee.length-1&&(this.yylineno-=ee.length-1);var he=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ee?(ee.length===te.length?this.yylloc.first_column:0)+te[te.length-ee.length].length-ee[0].length:this.yylloc.first_column-W},this.options.ranges&&(this.yylloc.range=[he[0],he[0]+this.yyleng-W]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(de){this.unput(this.match.slice(de))},"less"),pastInput:k(function(){var de=this.matched.substr(0,this.matched.length-this.match.length);return(de.length>20?"...":"")+de.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var de=this.match;return de.length<20&&(de+=this._input.substr(0,20-de.length)),(de.substr(0,20)+(de.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var de=this.pastInput(),W=new Array(de.length+1).join("-");return de+this.upcomingInput()+`
`+W+"^"},"showPosition"),test_match:k(function(de,W){var ee,te,he;if(this.options.backtrack_lexer&&(he={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(he.yylloc.range=this.yylloc.range.slice(0))),te=de[0].match(/(?:\r\n?|\n).*/g),te&&(this.yylineno+=te.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:te?te[te.length-1].length-te[te.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+de[0].length},this.yytext+=de[0],this.match+=de[0],this.matches=de,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(de[0].length),this.matched+=de[0],ee=this.performAction.call(this,this.yy,this,W,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ee)return ee;if(this._backtrack){for(var K in he)this[K]=he[K];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var de,W,ee,te;this._more||(this.yytext="",this.match="");for(var he=this._currentRules(),K=0;K<he.length;K++)if(ee=this._input.match(this.rules[he[K]]),ee&&(!W||ee[0].length>W[0].length)){if(W=ee,te=K,this.options.backtrack_lexer){if(de=this.test_match(ee,he[K]),de!==!1)return de;if(this._backtrack){W=!1;continue}else return!1}else if(!this.options.flex)break}return W?(de=this.test_match(W,he[te]),de!==!1?de:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var W=this.next();return W||this.lex()},"lex"),begin:k(function(W){this.conditionStack.push(W)},"begin"),popState:k(function(){var W=this.conditionStack.length-1;return W>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(W){return W=this.conditionStack.length-1-Math.abs(W||0),W>=0?this.conditionStack[W]:"INITIAL"},"topState"),pushState:k(function(W){this.begin(W)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:k(function(W,ee,te,he){switch(te){case 0:return 60;case 1:return 61;case 2:return 62;case 3:return 63;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 77;case 22:this.popState();break;case 23:return 78;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 80;case 28:return 55;case 29:return this.begin("namespace"),42;case 30:return this.popState(),8;case 31:break;case 32:return this.begin("namespace-body"),39;case 33:return this.popState(),41;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;case 39:return this.popState(),8;case 40:break;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 43:return this.popState(),41;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 81;case 50:return 73;case 51:return 74;case 52:return 76;case 53:return 52;case 54:return 54;case 55:return 47;case 56:return 48;case 57:return 79;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 75;case 65:return 75;case 66:return 75;case 67:return 75;case 68:return 67;case 69:return 67;case 70:return 69;case 71:return 69;case 72:return 68;case 73:return 66;case 74:return 70;case 75:return 71;case 76:return 72;case 77:return 22;case 78:return 44;case 79:return 99;case 80:return 17;case 81:return"PLUS";case 82:return 85;case 83:return 59;case 84:return 88;case 85:return 88;case 86:return 89;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 58;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 84;case 94:return 101;case 95:return 87;case 96:return 87;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return Te}();qe.lexer=Ve;function we(){this.yy={}}return k(we,"Parser"),we.prototype=qe,qe.Parser=we,new we}();b9.parser=b9;var aue=b9,wG=["#","+","~","-",""],j1,SG=(j1=class{constructor(e,r){this.memberType=r,this.visibility="",this.classifier="",this.text="";const n=Dn(e,Ue());this.parseMember(n)}getDisplayDetails(){let e=this.visibility+Wd(this.id);this.memberType==="method"&&(e+=`(${Wd(this.parameters.trim())})`,this.returnType&&(e+=" : "+Wd(this.returnType))),e=e.trim();const r=this.parseClassifier();return{displayText:e,cssStyle:r}}parseMember(e){let r="";if(this.memberType==="method"){const a=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(e);if(a){const s=a[1]?a[1].trim():"";if(wG.includes(s)&&(this.visibility=s),this.id=a[2],this.parameters=a[3]?a[3].trim():"",r=a[4]?a[4].trim():"",this.returnType=a[5]?a[5].trim():"",r===""){const o=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(o)&&(r=o,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{const i=e.length,a=e.substring(0,1),s=e.substring(i-1);wG.includes(a)&&(this.visibility=a),/[$*]/.exec(s)&&(r=s),this.id=e.substring(this.visibility===""?0:1,r===""?i:i-1)}this.classifier=r,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();const n=`${this.visibility?"\\"+this.visibility:""}${Wd(this.id)}${this.memberType==="method"?`(${Wd(this.parameters)})${this.returnType?" : "+Wd(this.returnType):""}`:""}`;this.text=n.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},k(j1,"ClassMember"),j1),VT="classId-",UT=[],Hn=new Map,kG=new Map,$x=[],Bm=[],EG=0,xu=new Map,w9=0,zx=[],rp=k(t=>At.sanitizeText(t,Ue()),"sanitizeText"),np=k(function(t){const e=At.sanitizeText(t,Ue());let r="",n=e;if(e.indexOf("~")>0){const i=e.split("~");n=rp(i[0]),r=rp(i[1])}return{className:n,type:r}},"splitClassNameAndType"),OXe=k(function(t,e){const r=At.sanitizeText(t,Ue());e&&(e=rp(e));const{className:n}=np(r);Hn.get(n).label=e,Hn.get(n).text=`${e}${Hn.get(n).type?`<${Hn.get(n).type}>`:""}`},"setClassLabel"),$g=k(function(t){const e=At.sanitizeText(t,Ue()),{className:r,type:n}=np(e);if(Hn.has(r))return;const i=At.sanitizeText(r,Ue());Hn.set(i,{id:i,type:n,label:i,text:`${i}${n?`&lt;${n}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:VT+i+"-"+EG}),EG++},"addClass"),TG=k(function(t,e){const r={id:`interface${Bm.length}`,label:t,classId:e};Bm.push(r)},"addInterface"),sue=k(function(t){const e=At.sanitizeText(t,Ue());if(Hn.has(e))return Hn.get(e).domId;throw new Error("Class not found: "+e)},"lookUpDomId"),PXe=k(function(){UT=[],Hn=new Map,$x=[],Bm=[],zx=[],zx.push(lue),xu=new Map,w9=0,wI="TB",Ea()},"clear"),FXe=k(function(t){return Hn.get(t)},"getClass"),BXe=k(function(){return Hn},"getClasses"),$Xe=k(function(){return UT},"getRelations"),zXe=k(function(){return $x},"getNotes"),HXe=k(function(t){Ee.debug("Adding relation: "+JSON.stringify(t));const e=[tf.LOLLIPOP,tf.AGGREGATION,tf.COMPOSITION,tf.DEPENDENCY,tf.EXTENSION];t.relation.type1===tf.LOLLIPOP&&!e.includes(t.relation.type2)?($g(t.id2),TG(t.id1,t.id2),t.id1=`interface${Bm.length-1}`):t.relation.type2===tf.LOLLIPOP&&!e.includes(t.relation.type1)?($g(t.id1),TG(t.id2,t.id1),t.id2=`interface${Bm.length-1}`):($g(t.id1),$g(t.id2)),t.id1=np(t.id1).className,t.id2=np(t.id2).className,t.relationTitle1=At.sanitizeText(t.relationTitle1.trim(),Ue()),t.relationTitle2=At.sanitizeText(t.relationTitle2.trim(),Ue()),UT.push(t)},"addRelation"),VXe=k(function(t,e){const r=np(t).className;Hn.get(r).annotations.push(e)},"addAnnotation"),oue=k(function(t,e){$g(t);const r=np(t).className,n=Hn.get(r);if(typeof e=="string"){const i=e.trim();i.startsWith("<<")&&i.endsWith(">>")?n.annotations.push(rp(i.substring(2,i.length-2))):i.indexOf(")")>0?n.methods.push(new SG(i,"method")):i&&n.members.push(new SG(i,"attribute"))}},"addMember"),UXe=k(function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach(r=>oue(t,r)))},"addMembers"),GXe=k(function(t,e){const r={id:`note${$x.length}`,class:e,text:t};$x.push(r)},"addNote"),WXe=k(function(t){return t.startsWith(":")&&(t=t.substring(1)),rp(t.trim())},"cleanupLabel"),bI=k(function(t,e){t.split(",").forEach(function(r){let n=r;/\d/.exec(r[0])&&(n=VT+n);const i=Hn.get(n);i&&(i.cssClasses+=" "+e)})},"setCssClass"),qXe=k(function(t,e){for(const r of t){let n=kG.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},kG.set(r,n)),e&&e.forEach(function(i){if(/color/.exec(i)){const a=i.replace("fill","bgFill");n.textStyles.push(a)}n.styles.push(i)}),Hn.forEach(i=>{i.cssClasses.includes(r)&&i.styles.push(...e.flatMap(a=>a.split(",")))})}},"defineClass"),YXe=k(function(t,e){t.split(",").forEach(function(r){e!==void 0&&(Hn.get(r).tooltip=rp(e))})},"setTooltip"),XXe=k(function(t,e){return e&&xu.has(e)?xu.get(e).classes.get(t).tooltip:Hn.get(t).tooltip},"getTooltip"),jXe=k(function(t,e,r){const n=Ue();t.split(",").forEach(function(i){let a=i;/\d/.exec(i[0])&&(a=VT+a);const s=Hn.get(a);s&&(s.link=Ir.formatUrl(e,n),n.securityLevel==="sandbox"?s.linkTarget="_top":typeof r=="string"?s.linkTarget=rp(r):s.linkTarget="_blank")}),bI(t,"clickable")},"setLink"),KXe=k(function(t,e,r){t.split(",").forEach(function(n){QXe(n,e,r),Hn.get(n).haveCallback=!0}),bI(t,"clickable")},"setClickEvent"),QXe=k(function(t,e,r){const n=At.sanitizeText(t,Ue());if(Ue().securityLevel!=="loose"||e===void 0)return;const a=n;if(Hn.has(a)){const s=sue(a);let o=[];if(typeof r=="string"){o=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let l=0;l<o.length;l++){let u=o[l].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),o[l]=u}}o.length===0&&o.push(s),zx.push(function(){const l=document.querySelector(`[id="${s}"]`);l!==null&&l.addEventListener("click",function(){Ir.runFunc(e,...o)},!1)})}},"setClickFunc"),ZXe=k(function(t){zx.forEach(function(e){e(t)})},"bindFunctions"),JXe={LINE:0,DOTTED_LINE:1},tf={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},lue=k(function(t){let e=bt(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=bt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),bt(t).select("svg").selectAll("g.node").on("mouseover",function(){const i=bt(this);if(i.attr("title")===null)return;const s=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(i.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),bt(this).classed("hover",!1)})},"setupToolTips");zx.push(lue);var wI="TB",uue=k(()=>wI,"getDirection"),eje=k(t=>{wI=t},"setDirection"),tje=k(function(t){xu.has(t)||(xu.set(t,{id:t,classes:new Map,children:{},domId:VT+t+"-"+w9}),w9++)},"addNamespace"),rje=k(function(t){return xu.get(t)},"getNamespace"),nje=k(function(){return xu},"getNamespaces"),ije=k(function(t,e){if(xu.has(t))for(const r of e){const{className:n}=np(r);Hn.get(n).parent=t,xu.get(t).classes.set(n,Hn.get(n))}},"addClassesToNamespace"),aje=k(function(t,e){const r=Hn.get(t);if(!(!e||!r))for(const n of e)n.includes(",")?r.styles.push(...n.split(",")):r.styles.push(n)},"setCssStyle");function S9(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}k(S9,"getArrowMarker");var sje=k(()=>{var i;const t=[],e=[],r=Ue();for(const a of xu.keys()){const s=xu.get(a);if(s){const o={id:s.id,label:s.id,isGroup:!0,padding:r.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:r.look};t.push(o)}}for(const a of Hn.keys()){const s=Hn.get(a);if(s){const o=s;o.parentId=s.parent,o.look=r.look,t.push(o)}}let n=0;for(const a of $x){n++;const s={id:a.id,label:a.text,isGroup:!1,shape:"note",padding:r.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${r.themeVariables.noteBkgColor}`,`stroke: ${r.themeVariables.noteBorderColor}`],look:r.look};t.push(s);const o=((i=Hn.get(a.class))==null?void 0:i.id)??"";if(o){const l={id:`edgeNote${n}`,start:a.id,end:o,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:r.look};e.push(l)}}for(const a of Bm){const s={id:a.id,label:a.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:r.look};t.push(s)}n=0;for(const a of UT){n++;const s={id:SJ(a.id1,a.id2,{prefix:"id",counter:n}),start:a.id1,end:a.id2,type:"normal",label:a.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:S9(a.relation.type1),arrowTypeEnd:S9(a.relation.type2),startLabelRight:a.relationTitle1==="none"?"":a.relationTitle1,endLabelLeft:a.relationTitle2==="none"?"":a.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:a.style||"",pattern:a.relation.lineType==1?"dashed":"solid",look:r.look};e.push(s)}return{nodes:t,edges:e,other:{},config:r,direction:uue()}},"getData"),lk={setAccTitle:Ta,getAccTitle:Wa,getAccDescription:Ya,setAccDescription:qa,getConfig:k(()=>Ue().class,"getConfig"),addClass:$g,bindFunctions:ZXe,clear:PXe,getClass:FXe,getClasses:BXe,getNotes:zXe,addAnnotation:VXe,addNote:GXe,getRelations:$Xe,addRelation:HXe,getDirection:uue,setDirection:eje,addMember:oue,addMembers:UXe,cleanupLabel:WXe,lineType:JXe,relationType:tf,setClickEvent:KXe,setCssClass:bI,defineClass:qXe,setLink:jXe,getTooltip:XXe,setTooltip:YXe,lookUpDomId:sue,setDiagramTitle:js,getDiagramTitle:Xa,setClassLabel:OXe,addNamespace:tje,addClassesToNamespace:ije,getNamespace:rje,getNamespaces:nje,setCssStyle:aje,getData:sje},oje=k(t=>`g.classGroup text {
  fill: ${t.nodeBorder||t.classText};
  stroke: none;
  font-family: ${t.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${t.classText};
}
.edgeLabel .label rect {
  fill: ${t.mainBkg};
}
.label text {
  fill: ${t.classText};
}

.labelBkg {
  background: ${t.mainBkg};
}
.edgeLabel .label span {
  background: ${t.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.classGroup line {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${t.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${t.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,"getStyles"),cue=oje,lje=k((t,e="TB")=>{if(!t.doc)return e;let r=e;for(const n of t.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),uje=k(function(t,e){return e.db.getClasses()},"getClasses"),cje=k(async function(t,e,r,n){Ee.info("REF0:"),Ee.info("Drawing class diagram (v3)",e);const{securityLevel:i,state:a,layout:s}=Ue(),o=n.db.getData(),l=gN(e,i);o.type=n.type,o.layoutAlgorithm=kte(s),o.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,o.rankSpacing=(a==null?void 0:a.rankSpacing)||50,o.markers=["aggregation","extension","composition","dependency","lollipop"],o.diagramId=e,await oM(o,l);const u=8;Ir.insertTitle(l,"classDiagramTitleText",(a==null?void 0:a.titleTopMargin)??25,n.db.getDiagramTitle()),mN(l,u,"classDiagram",(a==null?void 0:a.useMaxWidth)??!0)},"draw"),hue={getClasses:uje,draw:cje,getDir:lje},hje={parser:aue,db:lk,renderer:hue,styles:cue,init:k(t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,lk.clear()},"init")};const fje=Object.freeze(Object.defineProperty({__proto__:null,diagram:hje},Symbol.toStringTag,{value:"Module"}));var dje={parser:aue,db:lk,renderer:hue,styles:cue,init:k(t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,lk.clear()},"init")};const pje=Object.freeze(Object.defineProperty({__proto__:null,diagram:dje},Symbol.toStringTag,{value:"Module"}));var k9=function(){var t=k(function($,V,X,q){for(X=X||{},q=$.length;q--;X[$[q]]=V);return X},"o"),e=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],o=[1,16],l=[1,17],u=[1,18],h=[1,19],f=[1,32],d=[1,20],p=[1,21],m=[1,22],v=[1,23],x=[1,24],y=[1,26],w=[1,27],S=[1,28],E=[1,29],C=[1,30],L=[1,31],_=[1,34],I=[1,35],D=[1,36],F=[1,37],M=[1,33],B=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],H=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],R=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],O={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,style:42,STYLE_IDS:43,STYLEDEF_STYLEOPTS:44,class:45,CLASSENTITY_IDS:46,STYLECLASS:47,direction_tb:48,direction_bt:49,direction_rl:50,direction_lr:51,eol:52,";":53,EDGE_STATE:54,STYLE_SEPARATOR:55,left_of:56,right_of:57,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"style",43:"STYLE_IDS",44:"STYLEDEF_STYLEOPTS",45:"class",46:"CLASSENTITY_IDS",47:"STYLECLASS",48:"direction_tb",49:"direction_bt",50:"direction_rl",51:"direction_lr",53:";",54:"EDGE_STATE",55:"STYLE_SEPARATOR",56:"left_of",57:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[52,1],[52,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:k(function(V,X,q,Y,U,Z,pe){var ne=Z.length-1;switch(U){case 3:return Y.setRootDoc(Z[ne]),Z[ne];case 4:this.$=[];break;case 5:Z[ne]!="nl"&&(Z[ne-1].push(Z[ne]),this.$=Z[ne-1]);break;case 6:case 7:this.$=Z[ne];break;case 8:this.$="nl";break;case 12:this.$=Z[ne];break;case 13:const se=Z[ne-1];se.description=Y.trimColon(Z[ne]),this.$=se;break;case 14:this.$={stmt:"relation",state1:Z[ne-2],state2:Z[ne]};break;case 15:const oe=Y.trimColon(Z[ne]);this.$={stmt:"relation",state1:Z[ne-3],state2:Z[ne-1],description:oe};break;case 19:this.$={stmt:"state",id:Z[ne-3],type:"default",description:"",doc:Z[ne-1]};break;case 20:var ge=Z[ne],ye=Z[ne-2].trim();if(Z[ne].match(":")){var J=Z[ne].split(":");ge=J[0],ye=[ye,J[1]]}this.$={stmt:"state",id:ge,type:"default",description:ye};break;case 21:this.$={stmt:"state",id:Z[ne-3],type:"default",description:Z[ne-5],doc:Z[ne-1]};break;case 22:this.$={stmt:"state",id:Z[ne],type:"fork"};break;case 23:this.$={stmt:"state",id:Z[ne],type:"join"};break;case 24:this.$={stmt:"state",id:Z[ne],type:"choice"};break;case 25:this.$={stmt:"state",id:Y.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:Z[ne-1].trim(),note:{position:Z[ne-2].trim(),text:Z[ne].trim()}};break;case 29:this.$=Z[ne].trim(),Y.setAccTitle(this.$);break;case 30:case 31:this.$=Z[ne].trim(),Y.setAccDescription(this.$);break;case 32:case 33:this.$={stmt:"classDef",id:Z[ne-1].trim(),classes:Z[ne].trim()};break;case 34:this.$={stmt:"style",id:Z[ne-1].trim(),styleClass:Z[ne].trim()};break;case 35:this.$={stmt:"applyClass",id:Z[ne-1].trim(),styleClass:Z[ne].trim()};break;case 36:Y.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 37:Y.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 38:Y.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 39:Y.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 42:case 43:this.$={stmt:"state",id:Z[ne].trim(),type:"default",description:""};break;case 44:this.$={stmt:"state",id:Z[ne-2].trim(),classes:[Z[ne].trim()],type:"default",description:""};break;case 45:this.$={stmt:"state",id:Z[ne-2].trim(),classes:[Z[ne].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:e,5:r,6:n},{1:[3]},{3:5,4:e,5:r,6:n},{3:6,4:e,5:r,6:n},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,22:h,24:f,25:d,26:p,27:m,28:v,29:x,32:25,33:y,35:w,37:S,38:E,42:C,45:L,48:_,49:I,50:D,51:F,54:M},t(B,[2,5]),{9:38,10:12,11:13,12:14,13:15,16:o,17:l,19:u,22:h,24:f,25:d,26:p,27:m,28:v,29:x,32:25,33:y,35:w,37:S,38:E,42:C,45:L,48:_,49:I,50:D,51:F,54:M},t(B,[2,7]),t(B,[2,8]),t(B,[2,9]),t(B,[2,10]),t(B,[2,11]),t(B,[2,12],{14:[1,39],15:[1,40]}),t(B,[2,16]),{18:[1,41]},t(B,[2,18],{20:[1,42]}),{23:[1,43]},t(B,[2,22]),t(B,[2,23]),t(B,[2,24]),t(B,[2,25]),{30:44,31:[1,45],56:[1,46],57:[1,47]},t(B,[2,28]),{34:[1,48]},{36:[1,49]},t(B,[2,31]),{39:[1,50],41:[1,51]},{43:[1,52]},{46:[1,53]},t(H,[2,42],{55:[1,54]}),t(H,[2,43],{55:[1,55]}),t(B,[2,36]),t(B,[2,37]),t(B,[2,38]),t(B,[2,39]),t(B,[2,6]),t(B,[2,13]),{13:56,24:f,54:M},t(B,[2,17]),t(R,i,{7:57}),{24:[1,58]},{24:[1,59]},{23:[1,60]},{24:[2,46]},{24:[2,47]},t(B,[2,29]),t(B,[2,30]),{40:[1,61]},{40:[1,62]},{44:[1,63]},{47:[1,64]},{24:[1,65]},{24:[1,66]},t(B,[2,14],{14:[1,67]}),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,21:[1,68],22:h,24:f,25:d,26:p,27:m,28:v,29:x,32:25,33:y,35:w,37:S,38:E,42:C,45:L,48:_,49:I,50:D,51:F,54:M},t(B,[2,20],{20:[1,69]}),{31:[1,70]},{24:[1,71]},t(B,[2,32]),t(B,[2,33]),t(B,[2,34]),t(B,[2,35]),t(H,[2,44]),t(H,[2,45]),t(B,[2,15]),t(B,[2,19]),t(R,i,{7:72}),t(B,[2,26]),t(B,[2,27]),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,21:[1,73],22:h,24:f,25:d,26:p,27:m,28:v,29:x,32:25,33:y,35:w,37:S,38:E,42:C,45:L,48:_,49:I,50:D,51:F,54:M},t(B,[2,21])],defaultActions:{5:[2,1],6:[2,2],46:[2,46],47:[2,47]},parseError:k(function(V,X){if(X.recoverable)this.trace(V);else{var q=new Error(V);throw q.hash=X,q}},"parseError"),parse:k(function(V){var X=this,q=[0],Y=[],U=[null],Z=[],pe=this.table,ne="",ge=0,ye=0,J=2,se=1,oe=Z.slice.call(arguments,1),fe=Object.create(this.lexer),me={yy:{}};for(var be in this.yy)Object.prototype.hasOwnProperty.call(this.yy,be)&&(me.yy[be]=this.yy[be]);fe.setInput(V,me.yy),me.yy.lexer=fe,me.yy.parser=this,typeof fe.yylloc>"u"&&(fe.yylloc={});var ce=fe.yylloc;Z.push(ce);var Ge=fe.options&&fe.options.ranges;typeof me.yy.parseError=="function"?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function xe(te){q.length=q.length-2*te,U.length=U.length-te,Z.length=Z.length-te}k(xe,"popStack");function le(){var te;return te=Y.pop()||fe.lex()||se,typeof te!="number"&&(te instanceof Array&&(Y=te,te=Y.pop()),te=X.symbols_[te]||te),te}k(le,"lex");for(var ke,De,We,qe,Ve={},we,Te,de,W;;){if(De=q[q.length-1],this.defaultActions[De]?We=this.defaultActions[De]:((ke===null||typeof ke>"u")&&(ke=le()),We=pe[De]&&pe[De][ke]),typeof We>"u"||!We.length||!We[0]){var ee="";W=[];for(we in pe[De])this.terminals_[we]&&we>J&&W.push("'"+this.terminals_[we]+"'");fe.showPosition?ee="Parse error on line "+(ge+1)+`:
`+fe.showPosition()+`
Expecting `+W.join(", ")+", got '"+(this.terminals_[ke]||ke)+"'":ee="Parse error on line "+(ge+1)+": Unexpected "+(ke==se?"end of input":"'"+(this.terminals_[ke]||ke)+"'"),this.parseError(ee,{text:fe.match,token:this.terminals_[ke]||ke,line:fe.yylineno,loc:ce,expected:W})}if(We[0]instanceof Array&&We.length>1)throw new Error("Parse Error: multiple actions possible at state: "+De+", token: "+ke);switch(We[0]){case 1:q.push(ke),U.push(fe.yytext),Z.push(fe.yylloc),q.push(We[1]),ke=null,ye=fe.yyleng,ne=fe.yytext,ge=fe.yylineno,ce=fe.yylloc;break;case 2:if(Te=this.productions_[We[1]][1],Ve.$=U[U.length-Te],Ve._$={first_line:Z[Z.length-(Te||1)].first_line,last_line:Z[Z.length-1].last_line,first_column:Z[Z.length-(Te||1)].first_column,last_column:Z[Z.length-1].last_column},Ge&&(Ve._$.range=[Z[Z.length-(Te||1)].range[0],Z[Z.length-1].range[1]]),qe=this.performAction.apply(Ve,[ne,ye,ge,me.yy,We[1],U,Z].concat(oe)),typeof qe<"u")return qe;Te&&(q=q.slice(0,-1*Te*2),U=U.slice(0,-1*Te),Z=Z.slice(0,-1*Te)),q.push(this.productions_[We[1]][0]),U.push(Ve.$),Z.push(Ve._$),de=pe[q[q.length-2]][q[q.length-1]],q.push(de);break;case 3:return!0}}return!0},"parse")},P=function(){var $={EOF:1,parseError:k(function(X,q){if(this.yy.parser)this.yy.parser.parseError(X,q);else throw new Error(X)},"parseError"),setInput:k(function(V,X){return this.yy=X||this.yy||{},this._input=V,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var V=this._input[0];this.yytext+=V,this.yyleng++,this.offset++,this.match+=V,this.matched+=V;var X=V.match(/(?:\r\n?|\n).*/g);return X?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),V},"input"),unput:k(function(V){var X=V.length,q=V.split(/(?:\r\n?|\n)/g);this._input=V+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-X),this.offset-=X;var Y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),q.length-1&&(this.yylineno-=q.length-1);var U=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:q?(q.length===Y.length?this.yylloc.first_column:0)+Y[Y.length-q.length].length-q[0].length:this.yylloc.first_column-X},this.options.ranges&&(this.yylloc.range=[U[0],U[0]+this.yyleng-X]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(V){this.unput(this.match.slice(V))},"less"),pastInput:k(function(){var V=this.matched.substr(0,this.matched.length-this.match.length);return(V.length>20?"...":"")+V.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var V=this.match;return V.length<20&&(V+=this._input.substr(0,20-V.length)),(V.substr(0,20)+(V.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var V=this.pastInput(),X=new Array(V.length+1).join("-");return V+this.upcomingInput()+`
`+X+"^"},"showPosition"),test_match:k(function(V,X){var q,Y,U;if(this.options.backtrack_lexer&&(U={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(U.yylloc.range=this.yylloc.range.slice(0))),Y=V[0].match(/(?:\r\n?|\n).*/g),Y&&(this.yylineno+=Y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Y?Y[Y.length-1].length-Y[Y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+V[0].length},this.yytext+=V[0],this.match+=V[0],this.matches=V,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(V[0].length),this.matched+=V[0],q=this.performAction.call(this,this.yy,this,X,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),q)return q;if(this._backtrack){for(var Z in U)this[Z]=U[Z];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var V,X,q,Y;this._more||(this.yytext="",this.match="");for(var U=this._currentRules(),Z=0;Z<U.length;Z++)if(q=this._input.match(this.rules[U[Z]]),q&&(!X||q[0].length>X[0].length)){if(X=q,Y=Z,this.options.backtrack_lexer){if(V=this.test_match(q,U[Z]),V!==!1)return V;if(this._backtrack){X=!1;continue}else return!1}else if(!this.options.flex)break}return X?(V=this.test_match(X,U[Y]),V!==!1?V:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var X=this.next();return X||this.lex()},"lex"),begin:k(function(X){this.conditionStack.push(X)},"begin"),popState:k(function(){var X=this.conditionStack.length-1;return X>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(X){return X=this.conditionStack.length-1-Math.abs(X||0),X>=0?this.conditionStack[X]:"INITIAL"},"topState"),pushState:k(function(X){this.begin(X)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:k(function(X,q,Y,U){switch(Y){case 0:return 41;case 1:return 48;case 2:return 49;case 3:return 50;case 4:return 51;case 5:break;case 6:break;case 7:return 5;case 8:break;case 9:break;case 10:break;case 11:break;case 12:return this.pushState("SCALE"),17;case 13:return 18;case 14:this.popState();break;case 15:return this.begin("acc_title"),33;case 16:return this.popState(),"acc_title_value";case 17:return this.begin("acc_descr"),35;case 18:return this.popState(),"acc_descr_value";case 19:this.begin("acc_descr_multiline");break;case 20:this.popState();break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),38;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 24:return this.popState(),this.pushState("CLASSDEFID"),39;case 25:return this.popState(),40;case 26:return this.pushState("CLASS"),45;case 27:return this.popState(),this.pushState("CLASS_STYLE"),46;case 28:return this.popState(),47;case 29:return this.pushState("STYLE"),42;case 30:return this.popState(),this.pushState("STYLEDEF_STYLES"),43;case 31:return this.popState(),44;case 32:return this.pushState("SCALE"),17;case 33:return 18;case 34:this.popState();break;case 35:this.pushState("STATE");break;case 36:return this.popState(),q.yytext=q.yytext.slice(0,-8).trim(),25;case 37:return this.popState(),q.yytext=q.yytext.slice(0,-8).trim(),26;case 38:return this.popState(),q.yytext=q.yytext.slice(0,-10).trim(),27;case 39:return this.popState(),q.yytext=q.yytext.slice(0,-8).trim(),25;case 40:return this.popState(),q.yytext=q.yytext.slice(0,-8).trim(),26;case 41:return this.popState(),q.yytext=q.yytext.slice(0,-10).trim(),27;case 42:return 48;case 43:return 49;case 44:return 50;case 45:return 51;case 46:this.pushState("STATE_STRING");break;case 47:return this.pushState("STATE_ID"),"AS";case 48:return this.popState(),"ID";case 49:this.popState();break;case 50:return"STATE_DESCR";case 51:return 19;case 52:this.popState();break;case 53:return this.popState(),this.pushState("struct"),20;case 54:break;case 55:return this.popState(),21;case 56:break;case 57:return this.begin("NOTE"),29;case 58:return this.popState(),this.pushState("NOTE_ID"),56;case 59:return this.popState(),this.pushState("NOTE_ID"),57;case 60:this.popState(),this.pushState("FLOATING_NOTE");break;case 61:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 62:break;case 63:return"NOTE_TEXT";case 64:return this.popState(),"ID";case 65:return this.popState(),this.pushState("NOTE_TEXT"),24;case 66:return this.popState(),q.yytext=q.yytext.substr(2).trim(),31;case 67:return this.popState(),q.yytext=q.yytext.slice(0,-8).trim(),31;case 68:return 6;case 69:return 6;case 70:return 16;case 71:return 54;case 72:return 24;case 73:return q.yytext=q.yytext.trim(),14;case 74:return 15;case 75:return 28;case 76:return 55;case 77:return 5;case 78:return"INVALID"}},"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,29,35,42,43,44,45,54,55,56,57,71,72,73,74,75],inclusive:!1},FLOATING_NOTE_ID:{rules:[64],inclusive:!1},FLOATING_NOTE:{rules:[61,62,63],inclusive:!1},NOTE_TEXT:{rules:[66,67],inclusive:!1},NOTE_ID:{rules:[65],inclusive:!1},NOTE:{rules:[58,59,60],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[31],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[30],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,33,34],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[48],inclusive:!1},STATE_STRING:{rules:[49,50],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,36,37,38,39,40,41,46,47,51,52,53],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,35,53,57,68,69,70,71,72,73,74,76,77,78],inclusive:!0}}};return $}();O.lexer=P;function z(){this.yy={}}return k(z,"Parser"),z.prototype=O,O.Parser=z,new z}();k9.parser=k9;var fue=k9,gje="LR",due="TB",uk="state",SI="relation",mje="classDef",vje="style",yje="applyClass",Yb="default",pue="divider",gue="fill:none",mue="fill: #333",vue="c",yue="text",xue="normal",k8="rect",E8="rectWithTitle",xje="stateStart",bje="stateEnd",CG="divider",AG="roundedWithTitle",wje="note",Sje="noteGroup",Xb="statediagram",kje="state",Eje=`${Xb}-${kje}`,bue="transition",Tje="note",Cje="note-edge",Aje=`${bue} ${Cje}`,_je=`${Xb}-${Tje}`,Lje="cluster",Dje=`${Xb}-${Lje}`,Rje="cluster-alt",Mje=`${Xb}-${Rje}`,wue="parent",Sue="note",Nje="state",kI="----",Ije=`${kI}${Sue}`,_G=`${kI}${wue}`,kue=k((t,e=due)=>{if(!t.doc)return e;let r=e;for(const n of t.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),Oje=k(function(t,e){return e.db.extract(e.db.getRootDocV2()),e.db.getClasses()},"getClasses"),Pje=k(async function(t,e,r,n){Ee.info("REF0:"),Ee.info("Drawing state diagram (v2)",e);const{securityLevel:i,state:a,layout:s}=Ue();n.db.extract(n.db.getRootDocV2());const o=n.db.getData(),l=gN(e,i);o.type=n.type,o.layoutAlgorithm=s,o.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,o.rankSpacing=(a==null?void 0:a.rankSpacing)||50,o.markers=["barb"],o.diagramId=e,await oM(o,l);const u=8;Ir.insertTitle(l,"statediagramTitleText",(a==null?void 0:a.titleTopMargin)??25,n.db.getDiagramTitle()),mN(l,u,Xb,(a==null?void 0:a.useMaxWidth)??!0)},"draw"),Fje={getClasses:Oje,draw:Pje,getDir:kue},B3=new Map,df=0;function $3(t="",e=0,r="",n=kI){const i=r!==null&&r.length>0?`${n}${r}`:"";return`${Nje}-${t}${i}-${e}`}k($3,"stateDomId");var Bje=k((t,e,r,n,i,a,s,o)=>{Ee.trace("items",e),e.forEach(l=>{switch(l.stmt){case uk:a2(t,l,r,n,i,a,s,o);break;case Yb:a2(t,l,r,n,i,a,s,o);break;case SI:{a2(t,l.state1,r,n,i,a,s,o),a2(t,l.state2,r,n,i,a,s,o);const u={id:"edge"+df,start:l.state1.id,end:l.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:gue,labelStyle:"",label:At.sanitizeText(l.description,Ue()),arrowheadStyle:mue,labelpos:vue,labelType:yue,thickness:xue,classes:bue,look:s};i.push(u),df++}break}})},"setupDoc"),LG=k((t,e=due)=>{let r=e;if(t.doc)for(const n of t.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir");function i2(t,e,r){if(!e.id||e.id==="</join></fork>"||e.id==="</choice>")return;e.cssClasses&&(Array.isArray(e.cssCompiledStyles)||(e.cssCompiledStyles=[]),e.cssClasses.split(" ").forEach(i=>{if(r.get(i)){const a=r.get(i);e.cssCompiledStyles=[...e.cssCompiledStyles,...a.styles]}}));const n=t.find(i=>i.id===e.id);n?Object.assign(n,e):t.push(e)}k(i2,"insertOrUpdateNode");function Eue(t){var e;return((e=t==null?void 0:t.classes)==null?void 0:e.join(" "))??""}k(Eue,"getClassesFromDbInfo");function Tue(t){return(t==null?void 0:t.styles)??[]}k(Tue,"getStylesFromDbInfo");var a2=k((t,e,r,n,i,a,s,o)=>{var d,p;const l=e.id,u=r.get(l),h=Eue(u),f=Tue(u);if(Ee.info("dataFetcher parsedItem",e,u,f),l!=="root"){let m=k8;e.start===!0?m=xje:e.start===!1&&(m=bje),e.type!==Yb&&(m=e.type),B3.get(l)||B3.set(l,{id:l,shape:m,description:At.sanitizeText(l,Ue()),cssClasses:`${h} ${Eje}`,cssStyles:f});const v=B3.get(l);e.description&&(Array.isArray(v.description)?(v.shape=E8,v.description.push(e.description)):((d=v.description)==null?void 0:d.length)>0?(v.shape=E8,v.description===l?v.description=[e.description]:v.description=[v.description,e.description]):(v.shape=k8,v.description=e.description),v.description=At.sanitizeTextOrArray(v.description,Ue())),((p=v.description)==null?void 0:p.length)===1&&v.shape===E8&&(v.type==="group"?v.shape=AG:v.shape=k8),!v.type&&e.doc&&(Ee.info("Setting cluster for XCX",l,LG(e)),v.type="group",v.isGroup=!0,v.dir=LG(e),v.shape=e.type===pue?CG:AG,v.cssClasses=`${v.cssClasses} ${Dje} ${a?Mje:""}`);const x={labelStyle:"",shape:v.shape,label:v.description,cssClasses:v.cssClasses,cssCompiledStyles:[],cssStyles:v.cssStyles,id:l,dir:v.dir,domId:$3(l,df),type:v.type,isGroup:v.type==="group",padding:8,rx:10,ry:10,look:s};if(x.shape===CG&&(x.label=""),t&&t.id!=="root"&&(Ee.trace("Setting node ",l," to be child of its parent ",t.id),x.parentId=t.id),x.centerLabel=!0,e.note){const y={labelStyle:"",shape:wje,label:e.note.text,cssClasses:_je,cssStyles:[],cssCompilesStyles:[],id:l+Ije+"-"+df,domId:$3(l,df,Sue),type:v.type,isGroup:v.type==="group",padding:Ue().flowchart.padding,look:s,position:e.note.position},w=l+_G,S={labelStyle:"",shape:Sje,label:e.note.text,cssClasses:v.cssClasses,cssStyles:[],id:l+_G,domId:$3(l,df,wue),type:"group",isGroup:!0,padding:16,look:s,position:e.note.position};df++,S.id=w,y.parentId=w,i2(n,S,o),i2(n,y,o),i2(n,x,o);let E=l,C=y.id;e.note.position==="left of"&&(E=y.id,C=l),i.push({id:E+"-"+C,start:E,end:C,arrowhead:"none",arrowTypeEnd:"",style:gue,labelStyle:"",classes:Aje,arrowheadStyle:mue,labelpos:vue,labelType:yue,thickness:xue,look:s})}else i2(n,x,o)}e.doc&&(Ee.trace("Adding nodes children "),Bje(e,e.doc,r,n,i,!a,s,o))},"dataFetcher"),$je=k(()=>{B3.clear(),df=0},"reset"),EI="[*]",Cue="start",Aue=EI,_ue="end",DG="color",RG="fill",zje="bgFill",Hje=",";function TI(){return new Map}k(TI,"newClassesList");var ck=[],CI=[],Lue=gje,hk=[],l1=TI(),Due=k(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),fk={root:Due()},ao=fk.root,Hx=0,MG=0,Vje={LINE:0,DOTTED_LINE:1},Uje={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},Rw=k(t=>JSON.parse(JSON.stringify(t)),"clone"),Gje=k(t=>{Ee.info("Setting root doc",t),hk=t},"setRootDoc"),Wje=k(()=>hk,"getRootDoc"),z3=k((t,e,r)=>{if(e.stmt===SI)z3(t,e.state1,!0),z3(t,e.state2,!1);else if(e.stmt===uk&&(e.id==="[*]"?(e.id=r?t.id+"_start":t.id+"_end",e.start=r):e.id=e.id.trim()),e.doc){const n=[];let i=[],a;for(a=0;a<e.doc.length;a++)if(e.doc[a].type===pue){const s=Rw(e.doc[a]);s.doc=Rw(i),n.push(s),i=[]}else i.push(e.doc[a]);if(n.length>0&&i.length>0){const s={stmt:uk,id:yJ(),type:"divider",doc:Rw(i)};n.push(Rw(s)),e.doc=n}e.doc.forEach(s=>z3(e,s,!0))}},"docTranslator"),AI=k(()=>(z3({id:"root"},{id:"root",doc:hk},!0),{id:"root",doc:hk}),"getRootDocV2"),qje=k(t=>{let e;t.doc?e=t.doc:e=t,Ee.info(e),Rue(!0),Ee.info("Extract initial document:",e),e.forEach(a=>{switch(Ee.warn("Statement",a.stmt),a.stmt){case uk:Jf(a.id.trim(),a.type,a.doc,a.description,a.note,a.classes,a.styles,a.textStyles);break;case SI:Pue(a.state1,a.state2,a.description);break;case mje:Fue(a.id.trim(),a.classes);break;case vje:{const s=a.id.trim().split(","),o=a.styleClass.split(",");s.forEach(l=>{let u=ip(l);if(u===void 0){const h=l.trim();Jf(h),u=ip(h)}u.styles=o.map(h=>{var f;return(f=h.replace(/;/g,""))==null?void 0:f.trim()})})}break;case yje:_I(a.id.trim(),a.styleClass);break}});const r=Mue(),i=Ue().look;$je(),a2(void 0,AI(),r,ck,CI,!0,i,l1),ck.forEach(a=>{if(Array.isArray(a.label)){if(a.description=a.label.slice(1),a.isGroup&&a.description.length>0)throw new Error("Group nodes can only have label. Remove the additional description for node ["+a.id+"]");a.label=a.label[0]}})},"extract"),Jf=k(function(t,e=Yb,r=null,n=null,i=null,a=null,s=null,o=null){const l=t==null?void 0:t.trim();if(ao.states.has(l)?(ao.states.get(l).doc||(ao.states.get(l).doc=r),ao.states.get(l).type||(ao.states.get(l).type=e)):(Ee.info("Adding state ",l,n),ao.states.set(l,{id:l,descriptions:[],type:e,doc:r,note:i,classes:[],styles:[],textStyles:[]})),n&&(Ee.info("Setting state description",l,n),typeof n=="string"&&E9(l,n.trim()),typeof n=="object"&&n.forEach(u=>E9(l,u.trim()))),i){const u=ao.states.get(l);u.note=i,u.note.text=At.sanitizeText(u.note.text,Ue())}a&&(Ee.info("Setting state classes",l,a),(typeof a=="string"?[a]:a).forEach(h=>_I(l,h.trim()))),s&&(Ee.info("Setting state styles",l,s),(typeof s=="string"?[s]:s).forEach(h=>Zje(l,h.trim()))),o&&(Ee.info("Setting state styles",l,s),(typeof o=="string"?[o]:o).forEach(h=>Jje(l,h.trim())))},"addState"),Rue=k(function(t){ck=[],CI=[],fk={root:Due()},ao=fk.root,Hx=0,l1=TI(),t||Ea()},"clear"),ip=k(function(t){return ao.states.get(t)},"getState"),Mue=k(function(){return ao.states},"getStates"),Yje=k(function(){Ee.info("Documents = ",fk)},"logDocuments"),Xje=k(function(){return ao.relations},"getRelations");function dk(t=""){let e=t;return t===EI&&(Hx++,e=`${Cue}${Hx}`),e}k(dk,"startIdIfNeeded");function pk(t="",e=Yb){return t===EI?Cue:e}k(pk,"startTypeIfNeeded");function Nue(t=""){let e=t;return t===Aue&&(Hx++,e=`${_ue}${Hx}`),e}k(Nue,"endIdIfNeeded");function Iue(t="",e=Yb){return t===Aue?_ue:e}k(Iue,"endTypeIfNeeded");function Oue(t,e,r){let n=dk(t.id.trim()),i=pk(t.id.trim(),t.type),a=dk(e.id.trim()),s=pk(e.id.trim(),e.type);Jf(n,i,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),Jf(a,s,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),ao.relations.push({id1:n,id2:a,relationTitle:At.sanitizeText(r,Ue())})}k(Oue,"addRelationObjs");var Pue=k(function(t,e,r){if(typeof t=="object")Oue(t,e,r);else{const n=dk(t.trim()),i=pk(t),a=Nue(e.trim()),s=Iue(e);Jf(n,i),Jf(a,s),ao.relations.push({id1:n,id2:a,title:At.sanitizeText(r,Ue())})}},"addRelation"),E9=k(function(t,e){const r=ao.states.get(t),n=e.startsWith(":")?e.replace(":","").trim():e;r.descriptions.push(At.sanitizeText(n,Ue()))},"addDescription"),jje=k(function(t){return t.substring(0,1)===":"?t.substr(2).trim():t.trim()},"cleanupLabel"),Kje=k(()=>(MG++,"divider-id-"+MG),"getDividerId"),Fue=k(function(t,e=""){l1.has(t)||l1.set(t,{id:t,styles:[],textStyles:[]});const r=l1.get(t);e!=null&&e.split(Hje).forEach(n=>{const i=n.replace(/([^;]*);/,"$1").trim();if(RegExp(DG).exec(n)){const s=i.replace(RG,zje).replace(DG,RG);r.textStyles.push(s)}r.styles.push(i)})},"addStyleClass"),Qje=k(function(){return l1},"getClasses"),_I=k(function(t,e){t.split(",").forEach(function(r){let n=ip(r);if(n===void 0){const i=r.trim();Jf(i),n=ip(i)}n.classes.push(e)})},"setCssClass"),Zje=k(function(t,e){const r=ip(t);r!==void 0&&r.styles.push(e)},"setStyle"),Jje=k(function(t,e){const r=ip(t);r!==void 0&&r.textStyles.push(e)},"setTextStyle"),eKe=k(()=>Lue,"getDirection"),tKe=k(t=>{Lue=t},"setDirection"),rKe=k(t=>t&&t[0]===":"?t.substr(1).trim():t.trim(),"trimColon"),nKe=k(()=>{const t=Ue();return{nodes:ck,edges:CI,other:{},config:t,direction:kue(AI())}},"getData"),Uc={getConfig:k(()=>Ue().state,"getConfig"),getData:nKe,addState:Jf,clear:Rue,getState:ip,getStates:Mue,getRelations:Xje,getClasses:Qje,getDirection:eKe,addRelation:Pue,getDividerId:Kje,setDirection:tKe,cleanupLabel:jje,lineType:Vje,relationType:Uje,logDocuments:Yje,getRootDoc:Wje,setRootDoc:Gje,getRootDocV2:AI,extract:qje,trimColon:rKe,getAccTitle:Wa,setAccTitle:Ta,getAccDescription:Ya,setAccDescription:qa,addStyleClass:Fue,setCssClass:_I,addDescription:E9,setDiagramTitle:js,getDiagramTitle:Xa},iKe=k(t=>`
defs #statediagram-barbEnd {
    fill: ${t.transitionColor};
    stroke: ${t.transitionColor};
  }
g.stateGroup text {
  fill: ${t.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.stateGroup line {
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t.noteBorderColor};
  fill: ${t.noteBkgColor};

  text {
    fill: ${t.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${t.edgeLabelBackground};
  p {
    background-color: ${t.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${t.edgeLabelBackground};
    fill: ${t.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${t.transitionLabelColor||t.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t.transitionLabelColor||t.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node .fork-join {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node circle.state-end {
  fill: ${t.innerEndBackground};
  stroke: ${t.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t.compositeBackground||t.background};
  // stroke: ${t.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t.stateBkg||t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t.lineColor};
}

.statediagram-cluster rect {
  fill: ${t.compositeTitleBackground};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t.stateBorder||t.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t.compositeBackground||t.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t.lineColor};
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,"getStyles"),Bue=iKe,LI={},aKe=k((t,e)=>{LI[t]=e},"set"),sKe=k(t=>LI[t],"get"),$ue=k(()=>Object.keys(LI),"keys"),oKe=k(()=>$ue().length,"size"),lKe={get:sKe,set:aKe,keys:$ue,size:oKe},uKe=k(t=>t.append("circle").attr("class","start-state").attr("r",Ue().state.sizeUnit).attr("cx",Ue().state.padding+Ue().state.sizeUnit).attr("cy",Ue().state.padding+Ue().state.sizeUnit),"drawStartState"),cKe=k(t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",Ue().state.textHeight).attr("class","divider").attr("x2",Ue().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),hKe=k((t,e)=>{const r=t.append("text").attr("x",2*Ue().state.padding).attr("y",Ue().state.textHeight+2*Ue().state.padding).attr("font-size",Ue().state.fontSize).attr("class","state-title").text(e.id),n=r.node().getBBox();return t.insert("rect",":first-child").attr("x",Ue().state.padding).attr("y",Ue().state.padding).attr("width",n.width+2*Ue().state.padding).attr("height",n.height+2*Ue().state.padding).attr("rx",Ue().state.radius),r},"drawSimpleState"),fKe=k((t,e)=>{const r=k(function(d,p,m){const v=d.append("tspan").attr("x",2*Ue().state.padding).text(p);m||v.attr("dy",Ue().state.textHeight)},"addTspan"),i=t.append("text").attr("x",2*Ue().state.padding).attr("y",Ue().state.textHeight+1.3*Ue().state.padding).attr("font-size",Ue().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),a=i.height,s=t.append("text").attr("x",Ue().state.padding).attr("y",a+Ue().state.padding*.4+Ue().state.dividerMargin+Ue().state.textHeight).attr("class","state-description");let o=!0,l=!0;e.descriptions.forEach(function(d){o||(r(s,d,l),l=!1),o=!1});const u=t.append("line").attr("x1",Ue().state.padding).attr("y1",Ue().state.padding+a+Ue().state.dividerMargin/2).attr("y2",Ue().state.padding+a+Ue().state.dividerMargin/2).attr("class","descr-divider"),h=s.node().getBBox(),f=Math.max(h.width,i.width);return u.attr("x2",f+3*Ue().state.padding),t.insert("rect",":first-child").attr("x",Ue().state.padding).attr("y",Ue().state.padding).attr("width",f+2*Ue().state.padding).attr("height",h.height+a+2*Ue().state.padding).attr("rx",Ue().state.radius),t},"drawDescrState"),dKe=k((t,e,r)=>{const n=Ue().state.padding,i=2*Ue().state.padding,a=t.node().getBBox(),s=a.width,o=a.x,l=t.append("text").attr("x",0).attr("y",Ue().state.titleShift).attr("font-size",Ue().state.fontSize).attr("class","state-title").text(e.id),h=l.node().getBBox().width+i;let f=Math.max(h,s);f===s&&(f=f+i);let d;const p=t.node().getBBox();e.doc,d=o-n,h>s&&(d=(s-f)/2+n),Math.abs(o-p.x)<n&&h>s&&(d=o-(h-s)/2);const m=1-Ue().state.textHeight;return t.insert("rect",":first-child").attr("x",d).attr("y",m).attr("class",r?"alt-composit":"composit").attr("width",f).attr("height",p.height+Ue().state.textHeight+Ue().state.titleShift+1).attr("rx","0"),l.attr("x",d+n),h<=s&&l.attr("x",o+(f-i)/2-h/2+n),t.insert("rect",":first-child").attr("x",d).attr("y",Ue().state.titleShift-Ue().state.textHeight-Ue().state.padding).attr("width",f).attr("height",Ue().state.textHeight*3).attr("rx",Ue().state.radius),t.insert("rect",":first-child").attr("x",d).attr("y",Ue().state.titleShift-Ue().state.textHeight-Ue().state.padding).attr("width",f).attr("height",p.height+3+2*Ue().state.textHeight).attr("rx",Ue().state.radius),t},"addTitleAndBox"),pKe=k(t=>(t.append("circle").attr("class","end-state-outer").attr("r",Ue().state.sizeUnit+Ue().state.miniPadding).attr("cx",Ue().state.padding+Ue().state.sizeUnit+Ue().state.miniPadding).attr("cy",Ue().state.padding+Ue().state.sizeUnit+Ue().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",Ue().state.sizeUnit).attr("cx",Ue().state.padding+Ue().state.sizeUnit+2).attr("cy",Ue().state.padding+Ue().state.sizeUnit+2)),"drawEndState"),gKe=k((t,e)=>{let r=Ue().state.forkWidth,n=Ue().state.forkHeight;if(e.parentId){let i=r;r=n,n=i}return t.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",Ue().state.padding).attr("y",Ue().state.padding)},"drawForkJoinState"),mKe=k((t,e,r,n)=>{let i=0;const a=n.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let s=t.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");const o=s.split(At.lineBreakRegex);let l=1.25*Ue().state.noteMargin;for(const u of o){const h=u.trim();if(h.length>0){const f=a.append("tspan");if(f.text(h),l===0){const d=f.node().getBBox();l+=d.height}i+=l,f.attr("x",e+Ue().state.noteMargin),f.attr("y",r+i+1.25*Ue().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:i}},"_drawLongText"),vKe=k((t,e)=>{e.attr("class","state-note");const r=e.append("rect").attr("x",0).attr("y",Ue().state.padding),n=e.append("g"),{textWidth:i,textHeight:a}=mKe(t,0,0,n);return r.attr("height",a+2*Ue().state.noteMargin),r.attr("width",i+Ue().state.noteMargin*2),r},"drawNote"),NG=k(function(t,e){const r=e.id,n={id:r,label:e.id,width:0,height:0},i=t.append("g").attr("id",r).attr("class","stateGroup");e.type==="start"&&uKe(i),e.type==="end"&&pKe(i),(e.type==="fork"||e.type==="join")&&gKe(i,e),e.type==="note"&&vKe(e.note.text,i),e.type==="divider"&&cKe(i),e.type==="default"&&e.descriptions.length===0&&hKe(i,e),e.type==="default"&&e.descriptions.length>0&&fKe(i,e);const a=i.node().getBBox();return n.width=a.width+2*Ue().state.padding,n.height=a.height+2*Ue().state.padding,lKe.set(r,n),n},"drawState"),IG=0,yKe=k(function(t,e,r){const n=k(function(l){switch(l){case Uc.relationType.AGGREGATION:return"aggregation";case Uc.relationType.EXTENSION:return"extension";case Uc.relationType.COMPOSITION:return"composition";case Uc.relationType.DEPENDENCY:return"dependency"}},"getRelationType");e.points=e.points.filter(l=>!Number.isNaN(l.y));const i=e.points,a=H0().x(function(l){return l.x}).y(function(l){return l.y}).curve(vb),s=t.append("path").attr("d",a(i)).attr("id","edge"+IG).attr("class","transition");let o="";if(Ue().state.arrowMarkerAbsolute&&(o=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,o=o.replace(/\(/g,"\\("),o=o.replace(/\)/g,"\\)")),s.attr("marker-end","url("+o+"#"+n(Uc.relationType.DEPENDENCY)+"End)"),r.title!==void 0){const l=t.append("g").attr("class","stateLabel"),{x:u,y:h}=Ir.calcLabelPosition(e.points),f=At.getRows(r.title);let d=0;const p=[];let m=0,v=0;for(let w=0;w<=f.length;w++){const S=l.append("text").attr("text-anchor","middle").text(f[w]).attr("x",u).attr("y",h+d),E=S.node().getBBox();m=Math.max(m,E.width),v=Math.min(v,E.x),Ee.info(E.x,u,h+d),d===0&&(d=S.node().getBBox().height,Ee.info("Title height",d,h)),p.push(S)}let x=d*f.length;if(f.length>1){const w=(f.length-1)*d*.5;p.forEach((S,E)=>S.attr("y",h+E*d-w)),x=d*f.length}const y=l.node().getBBox();l.insert("rect",":first-child").attr("class","box").attr("x",u-m/2-Ue().state.padding/2).attr("y",h-x/2-Ue().state.padding/2-3.5).attr("width",m+Ue().state.padding).attr("height",x+Ue().state.padding),Ee.info(y)}IG++},"drawEdge"),Po,T8={},xKe=k(function(){},"setConf"),bKe=k(function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),wKe=k(function(t,e,r,n){Po=Ue().state;const i=Ue().securityLevel;let a;i==="sandbox"&&(a=bt("#i"+e));const s=bt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body"),o=i==="sandbox"?a.nodes()[0].contentDocument:document;Ee.debug("Rendering diagram "+t);const l=s.select(`[id='${e}']`);bKe(l);const u=n.db.getRootDoc();zue(u,l,void 0,!1,s,o,n);const h=Po.padding,f=l.node().getBBox(),d=f.width+h*2,p=f.height+h*2,m=d*1.75;xs(l,p,m,Po.useMaxWidth),l.attr("viewBox",`${f.x-Po.padding}  ${f.y-Po.padding} `+d+" "+p)},"draw"),SKe=k(t=>t?t.length*Po.fontSizeFactor:1,"getLabelWidth"),zue=k((t,e,r,n,i,a,s)=>{const o=new ws({compound:!0,multigraph:!0});let l,u=!0;for(l=0;l<t.length;l++)if(t[l].stmt==="relation"){u=!1;break}r?o.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:u?1:Po.edgeLengthFactor,nodeSep:u?1:50,isMultiGraph:!0}):o.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:u?1:Po.edgeLengthFactor,nodeSep:u?1:50,ranker:"tight-tree",isMultiGraph:!0}),o.setDefaultEdgeLabel(function(){return{}}),s.db.extract(t);const h=s.db.getStates(),f=s.db.getRelations(),d=Object.keys(h);for(const y of d){const w=h[y];r&&(w.parentId=r);let S;if(w.doc){let E=e.append("g").attr("id",w.id).attr("class","stateGroup");S=zue(w.doc,E,w.id,!n,i,a,s);{E=dKe(E,w,n);let C=E.node().getBBox();S.width=C.width,S.height=C.height+Po.padding/2,T8[w.id]={y:Po.compositTitleSize}}}else S=NG(e,w,o);if(w.note){const E={descriptions:[],id:w.id+"-note",note:w.note,type:"note"},C=NG(e,E,o);w.note.position==="left of"?(o.setNode(S.id+"-note",C),o.setNode(S.id,S)):(o.setNode(S.id,S),o.setNode(S.id+"-note",C)),o.setParent(S.id,S.id+"-group"),o.setParent(S.id+"-note",S.id+"-group")}else o.setNode(S.id,S)}Ee.debug("Count=",o.nodeCount(),o);let p=0;f.forEach(function(y){p++,Ee.debug("Setting edge",y),o.setEdge(y.id1,y.id2,{relation:y,width:SKe(y.title),height:Po.labelHeight*At.getRows(y.title).length,labelpos:"c"},"id"+p)}),mT(o),Ee.debug("Graph after layout",o.nodes());const m=e.node();o.nodes().forEach(function(y){y!==void 0&&o.node(y)!==void 0?(Ee.warn("Node "+y+": "+JSON.stringify(o.node(y))),i.select("#"+m.id+" #"+y).attr("transform","translate("+(o.node(y).x-o.node(y).width/2)+","+(o.node(y).y+(T8[y]?T8[y].y:0)-o.node(y).height/2)+" )"),i.select("#"+m.id+" #"+y).attr("data-x-shift",o.node(y).x-o.node(y).width/2),a.querySelectorAll("#"+m.id+" #"+y+" .divider").forEach(S=>{const E=S.parentElement;let C=0,L=0;E&&(E.parentElement&&(C=E.parentElement.getBBox().width),L=parseInt(E.getAttribute("data-x-shift"),10),Number.isNaN(L)&&(L=0)),S.setAttribute("x1",0-L+8),S.setAttribute("x2",C-L-8)})):Ee.debug("No Node "+y+": "+JSON.stringify(o.node(y)))});let v=m.getBBox();o.edges().forEach(function(y){y!==void 0&&o.edge(y)!==void 0&&(Ee.debug("Edge "+y.v+" -> "+y.w+": "+JSON.stringify(o.edge(y))),yKe(e,o.edge(y),o.edge(y).relation))}),v=m.getBBox();const x={id:r||"root",label:r||"root",width:0,height:0};return x.width=v.width+2*Po.padding,x.height=v.height+2*Po.padding,Ee.debug("Doc rendered",x,o),x},"renderDoc"),kKe={setConf:xKe,draw:wKe},EKe={parser:fue,db:Uc,renderer:kKe,styles:Bue,init:k(t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Uc.clear()},"init")};const TKe=Object.freeze(Object.defineProperty({__proto__:null,diagram:EKe},Symbol.toStringTag,{value:"Module"}));var CKe={parser:fue,db:Uc,renderer:Fje,styles:Bue,init:k(t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Uc.clear()},"init")};const AKe=Object.freeze(Object.defineProperty({__proto__:null,diagram:CKe},Symbol.toStringTag,{value:"Module"}));var T9=function(){var t=k(function(f,d,p,m){for(p=p||{},m=f.length;m--;p[f[m]]=d);return p},"o"),e=[6,8,10,11,12,14,16,17,18],r=[1,9],n=[1,10],i=[1,11],a=[1,12],s=[1,13],o=[1,14],l={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:k(function(d,p,m,v,x,y,w){var S=y.length-1;switch(x){case 1:return y[S-1];case 2:this.$=[];break;case 3:y[S-1].push(y[S]),this.$=y[S-1];break;case 4:case 5:this.$=y[S];break;case 6:case 7:this.$=[];break;case 8:v.setDiagramTitle(y[S].substr(6)),this.$=y[S].substr(6);break;case 9:this.$=y[S].trim(),v.setAccTitle(this.$);break;case 10:case 11:this.$=y[S].trim(),v.setAccDescription(this.$);break;case 12:v.addSection(y[S].substr(8)),this.$=y[S].substr(8);break;case 13:v.addTask(y[S-1],y[S]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:a,17:s,18:o},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:15,11:r,12:n,14:i,16:a,17:s,18:o},t(e,[2,5]),t(e,[2,6]),t(e,[2,8]),{13:[1,16]},{15:[1,17]},t(e,[2,11]),t(e,[2,12]),{19:[1,18]},t(e,[2,4]),t(e,[2,9]),t(e,[2,10]),t(e,[2,13])],defaultActions:{},parseError:k(function(d,p){if(p.recoverable)this.trace(d);else{var m=new Error(d);throw m.hash=p,m}},"parseError"),parse:k(function(d){var p=this,m=[0],v=[],x=[null],y=[],w=this.table,S="",E=0,C=0,L=2,_=1,I=y.slice.call(arguments,1),D=Object.create(this.lexer),F={yy:{}};for(var M in this.yy)Object.prototype.hasOwnProperty.call(this.yy,M)&&(F.yy[M]=this.yy[M]);D.setInput(d,F.yy),F.yy.lexer=D,F.yy.parser=this,typeof D.yylloc>"u"&&(D.yylloc={});var B=D.yylloc;y.push(B);var H=D.options&&D.options.ranges;typeof F.yy.parseError=="function"?this.parseError=F.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function R(ne){m.length=m.length-2*ne,x.length=x.length-ne,y.length=y.length-ne}k(R,"popStack");function O(){var ne;return ne=v.pop()||D.lex()||_,typeof ne!="number"&&(ne instanceof Array&&(v=ne,ne=v.pop()),ne=p.symbols_[ne]||ne),ne}k(O,"lex");for(var P,z,$,V,X={},q,Y,U,Z;;){if(z=m[m.length-1],this.defaultActions[z]?$=this.defaultActions[z]:((P===null||typeof P>"u")&&(P=O()),$=w[z]&&w[z][P]),typeof $>"u"||!$.length||!$[0]){var pe="";Z=[];for(q in w[z])this.terminals_[q]&&q>L&&Z.push("'"+this.terminals_[q]+"'");D.showPosition?pe="Parse error on line "+(E+1)+`:
`+D.showPosition()+`
Expecting `+Z.join(", ")+", got '"+(this.terminals_[P]||P)+"'":pe="Parse error on line "+(E+1)+": Unexpected "+(P==_?"end of input":"'"+(this.terminals_[P]||P)+"'"),this.parseError(pe,{text:D.match,token:this.terminals_[P]||P,line:D.yylineno,loc:B,expected:Z})}if($[0]instanceof Array&&$.length>1)throw new Error("Parse Error: multiple actions possible at state: "+z+", token: "+P);switch($[0]){case 1:m.push(P),x.push(D.yytext),y.push(D.yylloc),m.push($[1]),P=null,C=D.yyleng,S=D.yytext,E=D.yylineno,B=D.yylloc;break;case 2:if(Y=this.productions_[$[1]][1],X.$=x[x.length-Y],X._$={first_line:y[y.length-(Y||1)].first_line,last_line:y[y.length-1].last_line,first_column:y[y.length-(Y||1)].first_column,last_column:y[y.length-1].last_column},H&&(X._$.range=[y[y.length-(Y||1)].range[0],y[y.length-1].range[1]]),V=this.performAction.apply(X,[S,C,E,F.yy,$[1],x,y].concat(I)),typeof V<"u")return V;Y&&(m=m.slice(0,-1*Y*2),x=x.slice(0,-1*Y),y=y.slice(0,-1*Y)),m.push(this.productions_[$[1]][0]),x.push(X.$),y.push(X._$),U=w[m[m.length-2]][m[m.length-1]],m.push(U);break;case 3:return!0}}return!0},"parse")},u=function(){var f={EOF:1,parseError:k(function(p,m){if(this.yy.parser)this.yy.parser.parseError(p,m);else throw new Error(p)},"parseError"),setInput:k(function(d,p){return this.yy=p||this.yy||{},this._input=d,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var d=this._input[0];this.yytext+=d,this.yyleng++,this.offset++,this.match+=d,this.matched+=d;var p=d.match(/(?:\r\n?|\n).*/g);return p?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),d},"input"),unput:k(function(d){var p=d.length,m=d.split(/(?:\r\n?|\n)/g);this._input=d+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-p),this.offset-=p;var v=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var x=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===v.length?this.yylloc.first_column:0)+v[v.length-m.length].length-m[0].length:this.yylloc.first_column-p},this.options.ranges&&(this.yylloc.range=[x[0],x[0]+this.yyleng-p]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(d){this.unput(this.match.slice(d))},"less"),pastInput:k(function(){var d=this.matched.substr(0,this.matched.length-this.match.length);return(d.length>20?"...":"")+d.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var d=this.match;return d.length<20&&(d+=this._input.substr(0,20-d.length)),(d.substr(0,20)+(d.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var d=this.pastInput(),p=new Array(d.length+1).join("-");return d+this.upcomingInput()+`
`+p+"^"},"showPosition"),test_match:k(function(d,p){var m,v,x;if(this.options.backtrack_lexer&&(x={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(x.yylloc.range=this.yylloc.range.slice(0))),v=d[0].match(/(?:\r\n?|\n).*/g),v&&(this.yylineno+=v.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:v?v[v.length-1].length-v[v.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+d[0].length},this.yytext+=d[0],this.match+=d[0],this.matches=d,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(d[0].length),this.matched+=d[0],m=this.performAction.call(this,this.yy,this,p,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var y in x)this[y]=x[y];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var d,p,m,v;this._more||(this.yytext="",this.match="");for(var x=this._currentRules(),y=0;y<x.length;y++)if(m=this._input.match(this.rules[x[y]]),m&&(!p||m[0].length>p[0].length)){if(p=m,v=y,this.options.backtrack_lexer){if(d=this.test_match(m,x[y]),d!==!1)return d;if(this._backtrack){p=!1;continue}else return!1}else if(!this.options.flex)break}return p?(d=this.test_match(p,x[v]),d!==!1?d:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var p=this.next();return p||this.lex()},"lex"),begin:k(function(p){this.conditionStack.push(p)},"begin"),popState:k(function(){var p=this.conditionStack.length-1;return p>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(p){return p=this.conditionStack.length-1-Math.abs(p||0),p>=0?this.conditionStack[p]:"INITIAL"},"topState"),pushState:k(function(p){this.begin(p)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:k(function(p,m,v,x){switch(v){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return f}();l.lexer=u;function h(){this.yy={}}return k(h,"Parser"),h.prototype=l,l.Parser=h,new h}();T9.parser=T9;var _Ke=T9,$m="",DI=[],Vx=[],Ux=[],LKe=k(function(){DI.length=0,Vx.length=0,$m="",Ux.length=0,Ea()},"clear"),DKe=k(function(t){$m=t,DI.push(t)},"addSection"),RKe=k(function(){return DI},"getSections"),MKe=k(function(){let t=OG();const e=100;let r=0;for(;!t&&r<e;)t=OG(),r++;return Vx.push(...Ux),Vx},"getTasks"),NKe=k(function(){const t=[];return Vx.forEach(r=>{r.people&&t.push(...r.people)}),[...new Set(t)].sort()},"updateActors"),IKe=k(function(t,e){const r=e.substr(1).split(":");let n=0,i=[];r.length===1?(n=Number(r[0]),i=[]):(n=Number(r[0]),i=r[1].split(","));const a=i.map(o=>o.trim()),s={section:$m,type:$m,people:a,task:t,score:n};Ux.push(s)},"addTask"),OKe=k(function(t){const e={section:$m,type:$m,description:t,task:t,classes:[]};Vx.push(e)},"addTaskOrg"),OG=k(function(){const t=k(function(r){return Ux[r].processed},"compileTask");let e=!0;for(const[r,n]of Ux.entries())t(r),e=e&&n.processed;return e},"compileTasks"),PKe=k(function(){return NKe()},"getActors"),PG={getConfig:k(()=>Ue().journey,"getConfig"),clear:LKe,setDiagramTitle:js,getDiagramTitle:Xa,setAccTitle:Ta,getAccTitle:Wa,setAccDescription:qa,getAccDescription:Ya,addSection:DKe,getSections:RKe,getTasks:MKe,addTask:IKe,addTaskOrg:OKe,getActors:PKe},FKe=k(t=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${t.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${t.textColor}
  }

  .legend {
    fill: ${t.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${t.textColor}
  }

  .face {
    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${t.fillType0?`fill: ${t.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${t.fillType0?`fill: ${t.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${t.fillType0?`fill: ${t.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${t.fillType0?`fill: ${t.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${t.fillType0?`fill: ${t.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${t.fillType0?`fill: ${t.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${t.fillType0?`fill: ${t.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${t.fillType0?`fill: ${t.fillType7}`:""};
  }

  .actor-0 {
    ${t.actor0?`fill: ${t.actor0}`:""};
  }
  .actor-1 {
    ${t.actor1?`fill: ${t.actor1}`:""};
  }
  .actor-2 {
    ${t.actor2?`fill: ${t.actor2}`:""};
  }
  .actor-3 {
    ${t.actor3?`fill: ${t.actor3}`:""};
  }
  .actor-4 {
    ${t.actor4?`fill: ${t.actor4}`:""};
  }
  .actor-5 {
    ${t.actor5?`fill: ${t.actor5}`:""};
  }
`,"getStyles"),BKe=FKe,RI=k(function(t,e){return vT(t,e)},"drawRect"),$Ke=k(function(t,e){const n=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");i.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function a(l){const u=ym().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}k(a,"smile");function s(l){const u=ym().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}k(s,"sad");function o(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return k(o,"ambivalent"),e.score>3?a(i):e.score<3?s(i):o(i),n},"drawFace"),Hue=k(function(t,e){const r=t.append("circle");return r.attr("cx",e.cx),r.attr("cy",e.cy),r.attr("class","actor-"+e.pos),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("r",e.r),r.class!==void 0&&r.attr("class",r.class),e.title!==void 0&&r.append("title").text(e.title),r},"drawCircle"),Vue=k(function(t,e){return kOe(t,e)},"drawText"),zKe=k(function(t,e){function r(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}k(r,"genPoints");const n=t.append("polygon");n.attr("points",r(e.x,e.y,50,20,7)),n.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,Vue(t,e)},"drawLabel"),HKe=k(function(t,e,r){const n=t.append("g"),i=Tp();i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=r.width*e.taskCount+r.diagramMarginX*(e.taskCount-1),i.height=r.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,RI(n,i),Uue(r)(e.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},r,e.colour)},"drawSection"),FG=-1,VKe=k(function(t,e,r){const n=e.x+r.width/2,i=t.append("g");FG++;const a=300+5*30;i.append("line").attr("id","task"+FG).attr("x1",n).attr("y1",e.y).attr("x2",n).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),$Ke(i,{cx:n,cy:300+(5-e.score)*30,score:e.score});const s=Tp();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=r.width,s.height=r.height,s.class="task task-type-"+e.num,s.rx=3,s.ry=3,RI(i,s);let o=e.x+14;e.people.forEach(l=>{const u=e.actors[l].color,h={cx:o,cy:e.y,r:7,fill:u,stroke:"#000",title:l,pos:e.actors[l].position};Hue(i,h),o+=10}),Uue(r)(e.task,i,s.x,s.y,s.width,s.height,{class:"task"},r,e.colour)},"drawTask"),UKe=k(function(t,e){qie(t,e)},"drawBackgroundRect"),Uue=function(){function t(i,a,s,o,l,u,h,f){const d=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("font-color",f).style("text-anchor","middle").text(i);n(d,h)}k(t,"byText");function e(i,a,s,o,l,u,h,f,d){const{taskFontSize:p,taskFontFamily:m}=f,v=i.split(/<br\s*\/?>/gi);for(let x=0;x<v.length;x++){const y=x*p-p*(v.length-1)/2,w=a.append("text").attr("x",s+l/2).attr("y",o).attr("fill",d).style("text-anchor","middle").style("font-size",p).style("font-family",m);w.append("tspan").attr("x",s+l/2).attr("dy",y).text(v[x]),w.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(w,h)}}k(e,"byTspan");function r(i,a,s,o,l,u,h,f){const d=a.append("switch"),m=d.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,d,s,o,l,u,h,f),n(m,h)}k(r,"byFo");function n(i,a){for(const s in a)s in a&&i.attr(s,a[s])}return k(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),GKe=k(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),Gx={drawRect:RI,drawCircle:Hue,drawSection:HKe,drawText:Vue,drawLabel:zKe,drawTask:VKe,drawBackgroundRect:UKe,initGraphics:GKe},WKe=k(function(t){Object.keys(t).forEach(function(r){GT[r]=t[r]})},"setConf"),Kc={};function Gue(t){const e=Ue().journey;let r=60;Object.keys(Kc).forEach(n=>{const i=Kc[n].color,a={cx:20,cy:r,r:7,fill:i,stroke:"#000",pos:Kc[n].position};Gx.drawCircle(t,a);const s={x:40,y:r+7,fill:"#666",text:n,textMargin:e.boxTextMargin|5};Gx.drawText(t,s),r+=20})}k(Gue,"drawActorLegend");var GT=Ue().journey,t0=GT.leftMargin,qKe=k(function(t,e,r,n){const i=Ue().journey,a=Ue().securityLevel;let s;a==="sandbox"&&(s=bt("#i"+e));const o=bt(a==="sandbox"?s.nodes()[0].contentDocument.body:"body");ol.init();const l=o.select("#"+e);Gx.initGraphics(l);const u=n.db.getTasks(),h=n.db.getDiagramTitle(),f=n.db.getActors();for(const y in Kc)delete Kc[y];let d=0;f.forEach(y=>{Kc[y]={color:i.actorColours[d%i.actorColours.length],position:d},d++}),Gue(l),ol.insert(0,0,t0,Object.keys(Kc).length*50),YKe(l,u,0);const p=ol.getBounds();h&&l.append("text").text(h).attr("x",t0).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const m=p.stopy-p.starty+2*i.diagramMarginY,v=t0+p.stopx+2*i.diagramMarginX;xs(l,m,v,i.useMaxWidth),l.append("line").attr("x1",t0).attr("y1",i.height*4).attr("x2",v-t0-4).attr("y2",i.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const x=h?70:0;l.attr("viewBox",`${p.startx} -25 ${v} ${m+x}`),l.attr("preserveAspectRatio","xMinYMin meet"),l.attr("height",m+x+25)},"draw"),ol={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:k(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:k(function(t,e,r,n){t[e]===void 0?t[e]=r:t[e]=n(r,t[e])},"updateVal"),updateBounds:k(function(t,e,r,n){const i=Ue().journey,a=this;let s=0;function o(l){return k(function(h){s++;const f=a.sequenceItems.length-s+1;a.updateVal(h,"starty",e-f*i.boxMargin,Math.min),a.updateVal(h,"stopy",n+f*i.boxMargin,Math.max),a.updateVal(ol.data,"startx",t-f*i.boxMargin,Math.min),a.updateVal(ol.data,"stopx",r+f*i.boxMargin,Math.max),l!=="activation"&&(a.updateVal(h,"startx",t-f*i.boxMargin,Math.min),a.updateVal(h,"stopx",r+f*i.boxMargin,Math.max),a.updateVal(ol.data,"starty",e-f*i.boxMargin,Math.min),a.updateVal(ol.data,"stopy",n+f*i.boxMargin,Math.max))},"updateItemBounds")}k(o,"updateFn"),this.sequenceItems.forEach(o())},"updateBounds"),insert:k(function(t,e,r,n){const i=Math.min(t,r),a=Math.max(t,r),s=Math.min(e,n),o=Math.max(e,n);this.updateVal(ol.data,"startx",i,Math.min),this.updateVal(ol.data,"starty",s,Math.min),this.updateVal(ol.data,"stopx",a,Math.max),this.updateVal(ol.data,"stopy",o,Math.max),this.updateBounds(i,s,a,o)},"insert"),bumpVerticalPos:k(function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:k(function(){return this.verticalPos},"getVerticalPos"),getBounds:k(function(){return this.data},"getBounds")},C8=GT.sectionFills,BG=GT.sectionColours,YKe=k(function(t,e,r){const n=Ue().journey;let i="";const a=n.height*2+n.diagramMarginY,s=r+a;let o=0,l="#CCC",u="black",h=0;for(const[f,d]of e.entries()){if(i!==d.section){l=C8[o%C8.length],h=o%C8.length,u=BG[o%BG.length];let m=0;const v=d.section;for(let y=f;y<e.length&&e[y].section==v;y++)m=m+1;const x={x:f*n.taskMargin+f*n.width+t0,y:50,text:d.section,fill:l,num:h,colour:u,taskCount:m};Gx.drawSection(t,x,n),i=d.section,o++}const p=d.people.reduce((m,v)=>(Kc[v]&&(m[v]=Kc[v]),m),{});d.x=f*n.taskMargin+f*n.width+t0,d.y=s,d.width=n.diagramMarginX,d.height=n.diagramMarginY,d.colour=u,d.fill=l,d.num=h,d.actors=p,Gx.drawTask(t,d,n),ol.insert(d.x,d.y,d.x+d.width+n.taskMargin,300+5*30)}},"drawTasks"),$G={setConf:WKe,draw:qKe},XKe={parser:_Ke,db:PG,renderer:$G,styles:BKe,init:k(t=>{$G.setConf(t.journey),PG.clear()},"init")};const jKe=Object.freeze(Object.defineProperty({__proto__:null,diagram:XKe},Symbol.toStringTag,{value:"Module"}));var C9=function(){var t=k(function(d,p,m,v){for(m=m||{},v=d.length;v--;m[d[v]]=p);return m},"o"),e=[6,8,10,11,12,14,16,17,20,21],r=[1,9],n=[1,10],i=[1,11],a=[1,12],s=[1,13],o=[1,16],l=[1,17],u={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:k(function(p,m,v,x,y,w,S){var E=w.length-1;switch(y){case 1:return w[E-1];case 2:this.$=[];break;case 3:w[E-1].push(w[E]),this.$=w[E-1];break;case 4:case 5:this.$=w[E];break;case 6:case 7:this.$=[];break;case 8:x.getCommonDb().setDiagramTitle(w[E].substr(6)),this.$=w[E].substr(6);break;case 9:this.$=w[E].trim(),x.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=w[E].trim(),x.getCommonDb().setAccDescription(this.$);break;case 12:x.addSection(w[E].substr(8)),this.$=w[E].substr(8);break;case 15:x.addTask(w[E],0,""),this.$=w[E];break;case 16:x.addEvent(w[E].substr(2)),this.$=w[E];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:a,17:s,18:14,19:15,20:o,21:l},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:18,11:r,12:n,14:i,16:a,17:s,18:14,19:15,20:o,21:l},t(e,[2,5]),t(e,[2,6]),t(e,[2,8]),{13:[1,19]},{15:[1,20]},t(e,[2,11]),t(e,[2,12]),t(e,[2,13]),t(e,[2,14]),t(e,[2,15]),t(e,[2,16]),t(e,[2,4]),t(e,[2,9]),t(e,[2,10])],defaultActions:{},parseError:k(function(p,m){if(m.recoverable)this.trace(p);else{var v=new Error(p);throw v.hash=m,v}},"parseError"),parse:k(function(p){var m=this,v=[0],x=[],y=[null],w=[],S=this.table,E="",C=0,L=0,_=2,I=1,D=w.slice.call(arguments,1),F=Object.create(this.lexer),M={yy:{}};for(var B in this.yy)Object.prototype.hasOwnProperty.call(this.yy,B)&&(M.yy[B]=this.yy[B]);F.setInput(p,M.yy),M.yy.lexer=F,M.yy.parser=this,typeof F.yylloc>"u"&&(F.yylloc={});var H=F.yylloc;w.push(H);var R=F.options&&F.options.ranges;typeof M.yy.parseError=="function"?this.parseError=M.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function O(ge){v.length=v.length-2*ge,y.length=y.length-ge,w.length=w.length-ge}k(O,"popStack");function P(){var ge;return ge=x.pop()||F.lex()||I,typeof ge!="number"&&(ge instanceof Array&&(x=ge,ge=x.pop()),ge=m.symbols_[ge]||ge),ge}k(P,"lex");for(var z,$,V,X,q={},Y,U,Z,pe;;){if($=v[v.length-1],this.defaultActions[$]?V=this.defaultActions[$]:((z===null||typeof z>"u")&&(z=P()),V=S[$]&&S[$][z]),typeof V>"u"||!V.length||!V[0]){var ne="";pe=[];for(Y in S[$])this.terminals_[Y]&&Y>_&&pe.push("'"+this.terminals_[Y]+"'");F.showPosition?ne="Parse error on line "+(C+1)+`:
`+F.showPosition()+`
Expecting `+pe.join(", ")+", got '"+(this.terminals_[z]||z)+"'":ne="Parse error on line "+(C+1)+": Unexpected "+(z==I?"end of input":"'"+(this.terminals_[z]||z)+"'"),this.parseError(ne,{text:F.match,token:this.terminals_[z]||z,line:F.yylineno,loc:H,expected:pe})}if(V[0]instanceof Array&&V.length>1)throw new Error("Parse Error: multiple actions possible at state: "+$+", token: "+z);switch(V[0]){case 1:v.push(z),y.push(F.yytext),w.push(F.yylloc),v.push(V[1]),z=null,L=F.yyleng,E=F.yytext,C=F.yylineno,H=F.yylloc;break;case 2:if(U=this.productions_[V[1]][1],q.$=y[y.length-U],q._$={first_line:w[w.length-(U||1)].first_line,last_line:w[w.length-1].last_line,first_column:w[w.length-(U||1)].first_column,last_column:w[w.length-1].last_column},R&&(q._$.range=[w[w.length-(U||1)].range[0],w[w.length-1].range[1]]),X=this.performAction.apply(q,[E,L,C,M.yy,V[1],y,w].concat(D)),typeof X<"u")return X;U&&(v=v.slice(0,-1*U*2),y=y.slice(0,-1*U),w=w.slice(0,-1*U)),v.push(this.productions_[V[1]][0]),y.push(q.$),w.push(q._$),Z=S[v[v.length-2]][v[v.length-1]],v.push(Z);break;case 3:return!0}}return!0},"parse")},h=function(){var d={EOF:1,parseError:k(function(m,v){if(this.yy.parser)this.yy.parser.parseError(m,v);else throw new Error(m)},"parseError"),setInput:k(function(p,m){return this.yy=m||this.yy||{},this._input=p,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var p=this._input[0];this.yytext+=p,this.yyleng++,this.offset++,this.match+=p,this.matched+=p;var m=p.match(/(?:\r\n?|\n).*/g);return m?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),p},"input"),unput:k(function(p){var m=p.length,v=p.split(/(?:\r\n?|\n)/g);this._input=p+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-m),this.offset-=m;var x=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),v.length-1&&(this.yylineno-=v.length-1);var y=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:v?(v.length===x.length?this.yylloc.first_column:0)+x[x.length-v.length].length-v[0].length:this.yylloc.first_column-m},this.options.ranges&&(this.yylloc.range=[y[0],y[0]+this.yyleng-m]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(p){this.unput(this.match.slice(p))},"less"),pastInput:k(function(){var p=this.matched.substr(0,this.matched.length-this.match.length);return(p.length>20?"...":"")+p.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var p=this.match;return p.length<20&&(p+=this._input.substr(0,20-p.length)),(p.substr(0,20)+(p.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var p=this.pastInput(),m=new Array(p.length+1).join("-");return p+this.upcomingInput()+`
`+m+"^"},"showPosition"),test_match:k(function(p,m){var v,x,y;if(this.options.backtrack_lexer&&(y={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(y.yylloc.range=this.yylloc.range.slice(0))),x=p[0].match(/(?:\r\n?|\n).*/g),x&&(this.yylineno+=x.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:x?x[x.length-1].length-x[x.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+p[0].length},this.yytext+=p[0],this.match+=p[0],this.matches=p,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(p[0].length),this.matched+=p[0],v=this.performAction.call(this,this.yy,this,m,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),v)return v;if(this._backtrack){for(var w in y)this[w]=y[w];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var p,m,v,x;this._more||(this.yytext="",this.match="");for(var y=this._currentRules(),w=0;w<y.length;w++)if(v=this._input.match(this.rules[y[w]]),v&&(!m||v[0].length>m[0].length)){if(m=v,x=w,this.options.backtrack_lexer){if(p=this.test_match(v,y[w]),p!==!1)return p;if(this._backtrack){m=!1;continue}else return!1}else if(!this.options.flex)break}return m?(p=this.test_match(m,y[x]),p!==!1?p:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var m=this.next();return m||this.lex()},"lex"),begin:k(function(m){this.conditionStack.push(m)},"begin"),popState:k(function(){var m=this.conditionStack.length-1;return m>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(m){return m=this.conditionStack.length-1-Math.abs(m||0),m>=0?this.conditionStack[m]:"INITIAL"},"topState"),pushState:k(function(m){this.begin(m)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:k(function(m,v,x,y){switch(x){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s[^:\n]+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return d}();u.lexer=h;function f(){this.yy={}}return k(f,"Parser"),f.prototype=u,u.Parser=f,new f}();C9.parser=C9;var KKe=C9,Wue={};Ij(Wue,{addEvent:()=>Jue,addSection:()=>jue,addTask:()=>Zue,addTaskOrg:()=>ece,clear:()=>Xue,default:()=>QKe,getCommonDb:()=>Yue,getSections:()=>Kue,getTasks:()=>Que});var zm="",que=0,MI=[],gk=[],Hm=[],Yue=k(()=>uR,"getCommonDb"),Xue=k(function(){MI.length=0,gk.length=0,zm="",Hm.length=0,Ea()},"clear"),jue=k(function(t){zm=t,MI.push(t)},"addSection"),Kue=k(function(){return MI},"getSections"),Que=k(function(){let t=zG();const e=100;let r=0;for(;!t&&r<e;)t=zG(),r++;return gk.push(...Hm),gk},"getTasks"),Zue=k(function(t,e,r){const n={id:que++,section:zm,type:zm,task:t,score:e||0,events:r?[r]:[]};Hm.push(n)},"addTask"),Jue=k(function(t){Hm.find(r=>r.id===que-1).events.push(t)},"addEvent"),ece=k(function(t){const e={section:zm,type:zm,description:t,task:t,classes:[]};gk.push(e)},"addTaskOrg"),zG=k(function(){const t=k(function(r){return Hm[r].processed},"compileTask");let e=!0;for(const[r,n]of Hm.entries())t(r),e=e&&n.processed;return e},"compileTasks"),QKe={clear:Xue,getCommonDb:Yue,addSection:jue,getSections:Kue,getTasks:Que,addTask:Zue,addTaskOrg:ece,addEvent:Jue},ZKe=12,WT=k(function(t,e){const r=t.append("rect");return r.attr("x",e.x),r.attr("y",e.y),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("width",e.width),r.attr("height",e.height),r.attr("rx",e.rx),r.attr("ry",e.ry),e.class!==void 0&&r.attr("class",e.class),r},"drawRect"),JKe=k(function(t,e){const n=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");i.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function a(l){const u=ym().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}k(a,"smile");function s(l){const u=ym().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}k(s,"sad");function o(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return k(o,"ambivalent"),e.score>3?a(i):e.score<3?s(i):o(i),n},"drawFace"),eQe=k(function(t,e){const r=t.append("circle");return r.attr("cx",e.cx),r.attr("cy",e.cy),r.attr("class","actor-"+e.pos),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("r",e.r),r.class!==void 0&&r.attr("class",r.class),e.title!==void 0&&r.append("title").text(e.title),r},"drawCircle"),tce=k(function(t,e){const r=e.text.replace(/<br\s*\/?>/gi," "),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.attr("class","legend"),n.style("text-anchor",e.anchor),e.class!==void 0&&n.attr("class",e.class);const i=n.append("tspan");return i.attr("x",e.x+e.textMargin*2),i.text(r),n},"drawText"),tQe=k(function(t,e){function r(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}k(r,"genPoints");const n=t.append("polygon");n.attr("points",r(e.x,e.y,50,20,7)),n.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,tce(t,e)},"drawLabel"),rQe=k(function(t,e,r){const n=t.append("g"),i=NI();i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=r.width,i.height=r.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,WT(n,i),rce(r)(e.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},r,e.colour)},"drawSection"),HG=-1,nQe=k(function(t,e,r){const n=e.x+r.width/2,i=t.append("g");HG++;const a=300+5*30;i.append("line").attr("id","task"+HG).attr("x1",n).attr("y1",e.y).attr("x2",n).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),JKe(i,{cx:n,cy:300+(5-e.score)*30,score:e.score});const s=NI();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=r.width,s.height=r.height,s.class="task task-type-"+e.num,s.rx=3,s.ry=3,WT(i,s),rce(r)(e.task,i,s.x,s.y,s.width,s.height,{class:"task"},r,e.colour)},"drawTask"),iQe=k(function(t,e){WT(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},"drawBackgroundRect"),aQe=k(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),NI=k(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),rce=function(){function t(i,a,s,o,l,u,h,f){const d=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("font-color",f).style("text-anchor","middle").text(i);n(d,h)}k(t,"byText");function e(i,a,s,o,l,u,h,f,d){const{taskFontSize:p,taskFontFamily:m}=f,v=i.split(/<br\s*\/?>/gi);for(let x=0;x<v.length;x++){const y=x*p-p*(v.length-1)/2,w=a.append("text").attr("x",s+l/2).attr("y",o).attr("fill",d).style("text-anchor","middle").style("font-size",p).style("font-family",m);w.append("tspan").attr("x",s+l/2).attr("dy",y).text(v[x]),w.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(w,h)}}k(e,"byTspan");function r(i,a,s,o,l,u,h,f){const d=a.append("switch"),m=d.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,d,s,o,l,u,h,f),n(m,h)}k(r,"byFo");function n(i,a){for(const s in a)s in a&&i.attr(s,a[s])}return k(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),sQe=k(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");function II(t,e){t.each(function(){var r=bt(this),n=r.text().split(/(\s+|<br>)/).reverse(),i,a=[],s=1.1,o=r.attr("y"),l=parseFloat(r.attr("dy")),u=r.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",l+"em");for(let h=0;h<n.length;h++)i=n[n.length-1-h],a.push(i),u.text(a.join(" ").trim()),(u.node().getComputedTextLength()>e||i==="<br>")&&(a.pop(),u.text(a.join(" ").trim()),i==="<br>"?a=[""]:a=[i],u=r.append("tspan").attr("x",0).attr("y",o).attr("dy",s+"em").text(i))})}k(II,"wrap");var oQe=k(function(t,e,r,n){var f;const i=r%ZKe-1,a=t.append("g");e.section=i,a.attr("class",(e.class?e.class+" ":"")+"timeline-node "+("section-"+i));const s=a.append("g"),o=a.append("g"),u=o.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(II,e.width).node().getBBox(),h=(f=n.fontSize)!=null&&f.replace?n.fontSize.replace("px",""):n.fontSize;return e.height=u.height+h*1.1*.5+e.padding,e.height=Math.max(e.height,e.maxHeight),e.width=e.width+2*e.padding,o.attr("transform","translate("+e.width/2+", "+e.padding/2+")"),uQe(s,e,i,n),e},"drawNode"),lQe=k(function(t,e,r){var o;const n=t.append("g"),a=n.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(II,e.width).node().getBBox(),s=(o=r.fontSize)!=null&&o.replace?r.fontSize.replace("px",""):r.fontSize;return n.remove(),a.height+s*1.1*.5+e.padding},"getVirtualNodeHeight"),uQe=k(function(t,e,r){t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("d",`M0 ${e.height-5} v${-e.height+2*5} q0,-5 5,-5 h${e.width-2*5} q5,0 5,5 v${e.height-5} H0 Z`),t.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",e.height).attr("x2",e.width).attr("y2",e.height)},"defaultBkg"),r0={drawRect:WT,drawCircle:eQe,drawSection:rQe,drawText:tce,drawLabel:tQe,drawTask:nQe,drawBackgroundRect:iQe,getTextObj:aQe,getNoteRect:NI,initGraphics:sQe,drawNode:oQe,getVirtualNodeHeight:lQe},cQe=k(function(t,e,r,n){var D,F;const i=Ue(),a=i.leftMargin??50;Ee.debug("timeline",n.db);const s=i.securityLevel;let o;s==="sandbox"&&(o=bt("#i"+e));const u=bt(s==="sandbox"?o.nodes()[0].contentDocument.body:"body").select("#"+e);u.append("g");const h=n.db.getTasks(),f=n.db.getCommonDb().getDiagramTitle();Ee.debug("task",h),r0.initGraphics(u);const d=n.db.getSections();Ee.debug("sections",d);let p=0,m=0,v=0,x=0,y=50+a,w=50;x=50;let S=0,E=!0;d.forEach(function(M){const B={number:S,descr:M,section:S,width:150,padding:20,maxHeight:p},H=r0.getVirtualNodeHeight(u,B,i);Ee.debug("sectionHeight before draw",H),p=Math.max(p,H+20)});let C=0,L=0;Ee.debug("tasks.length",h.length);for(const[M,B]of h.entries()){const H={number:M,descr:B,section:B.section,width:150,padding:20,maxHeight:m},R=r0.getVirtualNodeHeight(u,H,i);Ee.debug("taskHeight before draw",R),m=Math.max(m,R+20),C=Math.max(C,B.events.length);let O=0;for(const P of B.events){const z={descr:P,section:B.section,number:B.section,width:150,padding:20,maxHeight:50};O+=r0.getVirtualNodeHeight(u,z,i)}L=Math.max(L,O)}Ee.debug("maxSectionHeight before draw",p),Ee.debug("maxTaskHeight before draw",m),d&&d.length>0?d.forEach(M=>{const B=h.filter(P=>P.section===M),H={number:S,descr:M,section:S,width:200*Math.max(B.length,1)-50,padding:20,maxHeight:p};Ee.debug("sectionNode",H);const R=u.append("g"),O=r0.drawNode(R,H,S,i);Ee.debug("sectionNode output",O),R.attr("transform",`translate(${y}, ${x})`),w+=p+50,B.length>0&&VG(u,B,S,y,w,m,i,C,L,p,!1),y+=200*Math.max(B.length,1),w=x,S++}):(E=!1,VG(u,h,S,y,w,m,i,C,L,p,!0));const _=u.node().getBBox();Ee.debug("bounds",_),f&&u.append("text").text(f).attr("x",_.width/2-a).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),v=E?p+m+150:m+100,u.append("g").attr("class","lineWrapper").append("line").attr("x1",a).attr("y1",v).attr("x2",_.width+3*a).attr("y2",v).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),Km(void 0,u,((D=i.timeline)==null?void 0:D.padding)??50,((F=i.timeline)==null?void 0:F.useMaxWidth)??!1)},"draw"),VG=k(function(t,e,r,n,i,a,s,o,l,u,h){var f;for(const d of e){const p={descr:d.task,section:r,number:r,width:150,padding:20,maxHeight:a};Ee.debug("taskNode",p);const m=t.append("g").attr("class","taskWrapper"),x=r0.drawNode(m,p,r,s).height;if(Ee.debug("taskHeight after draw",x),m.attr("transform",`translate(${n}, ${i})`),a=Math.max(a,x),d.events){const y=t.append("g").attr("class","lineWrapper");let w=a;i+=100,w=w+hQe(t,d.events,r,n,i,s),i-=100,y.append("line").attr("x1",n+190/2).attr("y1",i+a).attr("x2",n+190/2).attr("y2",i+a+(h?a:u)+l+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}n=n+200,h&&!((f=s.timeline)!=null&&f.disableMulticolor)&&r++}i=i-10},"drawTasks"),hQe=k(function(t,e,r,n,i,a){let s=0;const o=i;i=i+100;for(const l of e){const u={descr:l,section:r,number:r,width:150,padding:20,maxHeight:50};Ee.debug("eventNode",u);const h=t.append("g").attr("class","eventWrapper"),d=r0.drawNode(h,u,r,a).height;s=s+d,h.attr("transform",`translate(${n}, ${i})`),i=i+10+d}return i=o,s},"drawEvents"),fQe={setConf:k(()=>{},"setConf"),draw:cQe},dQe=k(t=>{let e="";for(let r=0;r<t.THEME_COLOR_LIMIT;r++)t["lineColor"+r]=t["lineColor"+r]||t["cScaleInv"+r],ud(t["lineColor"+r])?t["lineColor"+r]=ar(t["lineColor"+r],20):t["lineColor"+r]=dr(t["lineColor"+r],20);for(let r=0;r<t.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);e+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${t["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${t["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${t["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${t["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${t["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return e},"genSections"),pQe=k(t=>`
  .edge {
    stroke-width: 3;
  }
  ${dQe(t)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),gQe=pQe,mQe={db:Wue,renderer:fQe,parser:KKe,styles:gQe};const vQe=Object.freeze(Object.defineProperty({__proto__:null,diagram:mQe},Symbol.toStringTag,{value:"Module"}));function ha(t){"@babel/helpers - typeof";return ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(t)}function OI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yQe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function PI(t,e,r){return e&&yQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nce(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xl(t,e){return xQe(t)||bQe(t,e)||ice(t,e)||wQe()}function xQe(t){if(Array.isArray(t))return t}function bQe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,o;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw o}}return n}}function ice(t,e){if(t){if(typeof t=="string")return UG(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UG(t,e)}}function UG(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ace(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ice(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){s=!0,o=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(s)throw o}}}}var Zi=typeof window>"u"?null:window,GG=Zi?Zi.navigator:null;Zi&&Zi.document;var SQe=ha(""),sce=ha({}),kQe=ha(function(){}),EQe=typeof HTMLElement>"u"?"undefined":ha(HTMLElement),jb=function(e){return e&&e.instanceString&&gi(e.instanceString)?e.instanceString():null},pr=function(e){return e!=null&&ha(e)==SQe},gi=function(e){return e!=null&&ha(e)===kQe},In=function(e){return!Ho(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},en=function(e){return e!=null&&ha(e)===sce&&!In(e)&&e.constructor===Object},TQe=function(e){return e!=null&&ha(e)===sce},$t=function(e){return e!=null&&ha(e)===ha(1)&&!isNaN(e)},CQe=function(e){return $t(e)&&Math.floor(e)===e},mk=function(e){if(EQe!=="undefined")return e!=null&&e instanceof HTMLElement},Ho=function(e){return Kb(e)||oce(e)},Kb=function(e){return jb(e)==="collection"&&e._private.single},oce=function(e){return jb(e)==="collection"&&!e._private.single},FI=function(e){return jb(e)==="core"},lce=function(e){return jb(e)==="stylesheet"},AQe=function(e){return jb(e)==="event"},ed=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},_Qe=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},LQe=function(e){return en(e)&&$t(e.x1)&&$t(e.x2)&&$t(e.y1)&&$t(e.y2)},DQe=function(e){return TQe(e)&&gi(e.then)},RQe=function(){return GG&&GG.userAgent.match(/msie|trident|edge/i)},Wx=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],s=0;s<arguments.length;s++)a.push(arguments[s]);return a.join("$")});var n=function i(){var a=this,s=arguments,o,l=r.apply(a,s),u=i.cache;return(o=u[l])||(o=u[l]=e.apply(a,s)),o};return n.cache={},n},BI=Wx(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),qT=Wx(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),uce=Wx(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),WG=function(e){return ed(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},oa="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",MQe="rgb[a]?\\(("+oa+"[%]?)\\s*,\\s*("+oa+"[%]?)\\s*,\\s*("+oa+"[%]?)(?:\\s*,\\s*("+oa+"))?\\)",NQe="rgb[a]?\\((?:"+oa+"[%]?)\\s*,\\s*(?:"+oa+"[%]?)\\s*,\\s*(?:"+oa+"[%]?)(?:\\s*,\\s*(?:"+oa+"))?\\)",IQe="hsl[a]?\\(("+oa+")\\s*,\\s*("+oa+"[%])\\s*,\\s*("+oa+"[%])(?:\\s*,\\s*("+oa+"))?\\)",OQe="hsl[a]?\\((?:"+oa+")\\s*,\\s*(?:"+oa+"[%])\\s*,\\s*(?:"+oa+"[%])(?:\\s*,\\s*(?:"+oa+"))?\\)",PQe="\\#[0-9a-fA-F]{3}",FQe="\\#[0-9a-fA-F]{6}",cce=function(e,r){return e<r?-1:e>r?1:0},BQe=function(e,r){return-1*cce(e,r)},kr=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var s=i[a];t[s]=n[s]}}return t},$Qe=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,i,a,s=16;return r?(n=parseInt(e[1]+e[1],s),i=parseInt(e[2]+e[2],s),a=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),i=parseInt(e[3]+e[4],s),a=parseInt(e[5]+e[6],s)),[n,i,a]}},zQe=function(e){var r,n,i,a,s,o,l,u;function h(m,v,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?m+(v-m)*6*x:x<1/2?v:x<2/3?m+(v-m)*(2/3-x)*6:m}var f=new RegExp("^"+IQe+"$").exec(e);if(f){if(n=parseInt(f[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(f[2]),i<0||i>100||(i=i/100,a=parseFloat(f[3]),a<0||a>100)||(a=a/100,s=f[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(i===0)o=l=u=Math.round(a*255);else{var d=a<.5?a*(1+i):a+i-a*i,p=2*a-d;o=Math.round(255*h(p,d,n+1/3)),l=Math.round(255*h(p,d,n)),u=Math.round(255*h(p,d,n-1/3))}r=[o,l,u,s]}return r},HQe=function(e){var r,n=new RegExp("^"+MQe+"$").exec(e);if(n){r=[];for(var i=[],a=1;a<=3;a++){var s=n[a];if(s[s.length-1]==="%"&&(i[a]=!0),s=parseFloat(s),i[a]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var o=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(o&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},VQe=function(e){return GQe[e.toLowerCase()]},UQe=function(e){return(In(e)?e:null)||VQe(e)||$Qe(e)||HQe(e)||zQe(e)},GQe={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},hce=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var s=n[a];if(en(s))throw Error("Tried to set map with object key");a<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},fce=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var s=n[a];if(en(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r};function WQe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ap=WQe,s2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qQe(t,e){return e={exports:{}},t(e,e.exports),e.exports}var YQe=typeof s2=="object"&&s2&&s2.Object===Object&&s2,XQe=YQe,jQe=typeof self=="object"&&self&&self.Object===Object&&self,KQe=XQe||jQe||Function("return this")(),YT=KQe,QQe=function(){return YT.Date.now()},A8=QQe,ZQe=/\s/;function JQe(t){for(var e=t.length;e--&&ZQe.test(t.charAt(e)););return e}var eZe=JQe,tZe=/^\s+/;function rZe(t){return t&&t.slice(0,eZe(t)+1).replace(tZe,"")}var nZe=rZe,iZe=YT.Symbol,Vm=iZe,dce=Object.prototype,aZe=dce.hasOwnProperty,sZe=dce.toString,My=Vm?Vm.toStringTag:void 0;function oZe(t){var e=aZe.call(t,My),r=t[My];try{t[My]=void 0;var n=!0}catch{}var i=sZe.call(t);return n&&(e?t[My]=r:delete t[My]),i}var lZe=oZe,uZe=Object.prototype,cZe=uZe.toString;function hZe(t){return cZe.call(t)}var fZe=hZe,dZe="[object Null]",pZe="[object Undefined]",qG=Vm?Vm.toStringTag:void 0;function gZe(t){return t==null?t===void 0?pZe:dZe:qG&&qG in Object(t)?lZe(t):fZe(t)}var pce=gZe;function mZe(t){return t!=null&&typeof t=="object"}var vZe=mZe,yZe="[object Symbol]";function xZe(t){return typeof t=="symbol"||vZe(t)&&pce(t)==yZe}var Qb=xZe,YG=NaN,bZe=/^[-+]0x[0-9a-f]+$/i,wZe=/^0b[01]+$/i,SZe=/^0o[0-7]+$/i,kZe=parseInt;function EZe(t){if(typeof t=="number")return t;if(Qb(t))return YG;if(ap(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ap(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=nZe(t);var r=wZe.test(t);return r||SZe.test(t)?kZe(t.slice(2),r?2:8):bZe.test(t)?YG:+t}var XG=EZe,TZe="Expected a function",CZe=Math.max,AZe=Math.min;function _Ze(t,e,r){var n,i,a,s,o,l,u=0,h=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(TZe);e=XG(e)||0,ap(r)&&(h=!!r.leading,f="maxWait"in r,a=f?CZe(XG(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(L){var _=n,I=i;return n=i=void 0,u=L,s=t.apply(I,_),s}function m(L){return u=L,o=setTimeout(y,e),h?p(L):s}function v(L){var _=L-l,I=L-u,D=e-_;return f?AZe(D,a-I):D}function x(L){var _=L-l,I=L-u;return l===void 0||_>=e||_<0||f&&I>=a}function y(){var L=A8();if(x(L))return w(L);o=setTimeout(y,v(L))}function w(L){return o=void 0,d&&n?p(L):(n=i=void 0,s)}function S(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function E(){return o===void 0?s:w(A8())}function C(){var L=A8(),_=x(L);if(n=arguments,i=this,l=L,_){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(y,e),p(l)}return o===void 0&&(o=setTimeout(y,e)),s}return C.cancel=S,C.flush=E,C}var XT=_Ze,_8=Zi?Zi.performance:null,gce=_8&&_8.now?function(){return _8.now()}:function(){return Date.now()},LZe=function(){if(Zi){if(Zi.requestAnimationFrame)return function(t){Zi.requestAnimationFrame(t)};if(Zi.mozRequestAnimationFrame)return function(t){Zi.mozRequestAnimationFrame(t)};if(Zi.webkitRequestAnimationFrame)return function(t){Zi.webkitRequestAnimationFrame(t)};if(Zi.msRequestAnimationFrame)return function(t){Zi.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(gce())},1e3/60)}}(),vk=function(e){return LZe(e)},wh=gce,zg=9261,mce=65599,o2=5381,vce=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zg,n=r,i;i=e.next(),!i.done;)n=n*mce+i.value|0;return n},qx=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zg;return r*mce+e|0},Yx=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o2;return(r<<5)+r+e|0},DZe=function(e,r){return e*2097152+r},Qh=function(e){return e[0]*2097152+e[1]},Mw=function(e,r){return[qx(e[0],r[0]),Yx(e[1],r[1])]},RZe=function(e,r){var n={value:0,done:!1},i=0,a=e.length,s={next:function(){return i<a?n.value=e[i++]:n.done=!0,n}};return vce(s,r)},sp=function(e,r){var n={value:0,done:!1},i=0,a=e.length,s={next:function(){return i<a?n.value=e.charCodeAt(i++):n.done=!0,n}};return vce(s,r)},yce=function(){return MZe(arguments)},MZe=function(e){for(var r,n=0;n<e.length;n++){var i=e[n];n===0?r=sp(i):r=sp(i,r)}return r},jG=!0,NZe=console.warn!=null,IZe=console.trace!=null,$I=Number.MAX_SAFE_INTEGER||9007199254740991,xce=function(){return!0},yk=function(){return!1},KG=function(){return 0},zI=function(){},Ei=function(e){throw new Error(e)},bce=function(e){if(e!==void 0)jG=!!e;else return jG},vn=function(e){bce()&&(NZe?console.warn(e):(console.log(e),IZe&&console.trace()))},OZe=function(e){return kr({},e)},Ku=function(e){return e==null?e:In(e)?e.slice():en(e)?OZe(e):e},PZe=function(e){return e.slice()},wce=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},FZe={},Sce=function(){return FZe},ja=function(e){var r=Object.keys(e);return function(n){for(var i={},a=0;a<r.length;a++){var s=r[a],o=n==null?void 0:n[s];i[s]=o===void 0?e[s]:o}return i}},td=function(e,r,n){for(var i=e.length-1;i>=0;i--)e[i]===r&&e.splice(i,1)},HI=function(e){e.splice(0,e.length)},BZe=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}},eu=function(e,r,n){return n&&(r=uce(n,r)),e[r]},pf=function(e,r,n,i){n&&(r=uce(n,r)),e[r]=i},$Ze=function(){function t(){OI(this,t),this._obj={}}return PI(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),Qu=typeof Map<"u"?Map:$Ze,zZe="undefined",HZe=function(){function t(e){if(OI(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return PI(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),mv=(typeof Set>"u"?"undefined":ha(Set))!==zZe?Set:HZe,jT=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!FI(e)){Ei("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){Ei("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new mv,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),r.renderedPosition){var s=r.renderedPosition,o=e.pan(),l=e.zoom();a.position={x:(s.x-o.x)/l,y:(s.y-o.y)/l}}var u=[];In(r.classes)?u=r.classes:pr(r.classes)&&(u=r.classes.split(/\s+/));for(var h=0,f=u.length;h<f;h++){var d=u[h];!d||d===""||a.classes.add(d)}this.createEmitter();var p=r.style||r.css;p&&(vn("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(p)),(n===void 0||n)&&this.restore()},QG=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,a){var s;en(n)&&!Ho(n)&&(s=n,n=s.roots||s.root,i=s.visit,a=s.directed),a=arguments.length===2&&!gi(i)?i:a,i=gi(i)?i:function(){};for(var o=this._private.cy,l=n=pr(n)?this.filter(n):n,u=[],h=[],f={},d={},p={},m=0,v,x=this.byGroup(),y=x.nodes,w=x.edges,S=0;S<l.length;S++){var E=l[S],C=E.id();E.isNode()&&(u.unshift(E),e.bfs&&(p[C]=!0,h.push(E)),d[C]=0)}for(var L=function(){var H=e.bfs?u.shift():u.pop(),R=H.id();if(e.dfs){if(p[R])return"continue";p[R]=!0,h.push(H)}var O=d[R],P=f[R],z=P!=null?P.source():null,$=P!=null?P.target():null,V=P==null?void 0:H.same(z)?$[0]:z[0],X=void 0;if(X=i(H,P,V,m++,O),X===!0)return v=H,"break";if(X===!1)return"break";for(var q=H.connectedEdges().filter(function(ne){return(!a||ne.source().same(H))&&w.has(ne)}),Y=0;Y<q.length;Y++){var U=q[Y],Z=U.connectedNodes().filter(function(ne){return!ne.same(H)&&y.has(ne)}),pe=Z.id();Z.length!==0&&!p[pe]&&(Z=Z[0],u.push(Z),e.bfs&&(p[pe]=!0,h.push(Z)),f[pe]=U,d[pe]=d[R]+1)}};u.length!==0;){var _=L();if(_!=="continue"&&_==="break")break}for(var I=o.collection(),D=0;D<h.length;D++){var F=h[D],M=f[F.id()];M!=null&&I.push(M),I.push(F)}return{path:o.collection(I),found:o.collection(v)}}},Xx={breadthFirstSearch:QG({bfs:!0}),depthFirstSearch:QG({dfs:!0})};Xx.bfs=Xx.breadthFirstSearch;Xx.dfs=Xx.depthFirstSearch;var VZe=qQe(function(t,e){(function(){var r,n,i,a,s,o,l,u,h,f,d,p,m,v,x;i=Math.floor,f=Math.min,n=function(y,w){return y<w?-1:y>w?1:0},h=function(y,w,S,E,C){var L;if(S==null&&(S=0),C==null&&(C=n),S<0)throw new Error("lo must be non-negative");for(E==null&&(E=y.length);S<E;)L=i((S+E)/2),C(w,y[L])<0?E=L:S=L+1;return[].splice.apply(y,[S,S-S].concat(w)),w},o=function(y,w,S){return S==null&&(S=n),y.push(w),v(y,0,y.length-1,S)},s=function(y,w){var S,E;return w==null&&(w=n),S=y.pop(),y.length?(E=y[0],y[0]=S,x(y,0,w)):E=S,E},u=function(y,w,S){var E;return S==null&&(S=n),E=y[0],y[0]=w,x(y,0,S),E},l=function(y,w,S){var E;return S==null&&(S=n),y.length&&S(y[0],w)<0&&(E=[y[0],w],w=E[0],y[0]=E[1],x(y,0,S)),w},a=function(y,w){var S,E,C,L,_,I;for(w==null&&(w=n),L=(function(){I=[];for(var D=0,F=i(y.length/2);0<=F?D<F:D>F;0<=F?D++:D--)I.push(D);return I}).apply(this).reverse(),_=[],E=0,C=L.length;E<C;E++)S=L[E],_.push(x(y,S,w));return _},m=function(y,w,S){var E;if(S==null&&(S=n),E=y.indexOf(w),E!==-1)return v(y,0,E,S),x(y,E,S)},d=function(y,w,S){var E,C,L,_,I;if(S==null&&(S=n),C=y.slice(0,w),!C.length)return C;for(a(C,S),I=y.slice(w),L=0,_=I.length;L<_;L++)E=I[L],l(C,E,S);return C.sort(S).reverse()},p=function(y,w,S){var E,C,L,_,I,D,F,M,B;if(S==null&&(S=n),w*10<=y.length){if(L=y.slice(0,w).sort(S),!L.length)return L;for(C=L[L.length-1],F=y.slice(w),_=0,D=F.length;_<D;_++)E=F[_],S(E,C)<0&&(h(L,E,0,null,S),L.pop(),C=L[L.length-1]);return L}for(a(y,S),B=[],I=0,M=f(w,y.length);0<=M?I<M:I>M;0<=M?++I:--I)B.push(s(y,S));return B},v=function(y,w,S,E){var C,L,_;for(E==null&&(E=n),C=y[S];S>w;){if(_=S-1>>1,L=y[_],E(C,L)<0){y[S]=L,S=_;continue}break}return y[S]=C},x=function(y,w,S){var E,C,L,_,I;for(S==null&&(S=n),C=y.length,I=w,L=y[w],E=2*w+1;E<C;)_=E+1,_<C&&!(S(y[E],y[_])<0)&&(E=_),y[w]=y[E],w=E,E=2*w+1;return y[w]=L,v(y,I,w,S)},r=function(){y.push=o,y.pop=s,y.replace=u,y.pushpop=l,y.heapify=a,y.updateItem=m,y.nlargest=d,y.nsmallest=p;function y(w){this.cmp=w??n,this.nodes=[]}return y.prototype.push=function(w){return o(this.nodes,w,this.cmp)},y.prototype.pop=function(){return s(this.nodes,this.cmp)},y.prototype.peek=function(){return this.nodes[0]},y.prototype.contains=function(w){return this.nodes.indexOf(w)!==-1},y.prototype.replace=function(w){return u(this.nodes,w,this.cmp)},y.prototype.pushpop=function(w){return l(this.nodes,w,this.cmp)},y.prototype.heapify=function(){return a(this.nodes,this.cmp)},y.prototype.updateItem=function(w){return m(this.nodes,w,this.cmp)},y.prototype.clear=function(){return this.nodes=[]},y.prototype.empty=function(){return this.nodes.length===0},y.prototype.size=function(){return this.nodes.length},y.prototype.clone=function(){var w;return w=new y,w.nodes=this.nodes.slice(0),w},y.prototype.toArray=function(){return this.nodes.slice(0)},y.prototype.insert=y.prototype.push,y.prototype.top=y.prototype.peek,y.prototype.front=y.prototype.peek,y.prototype.has=y.prototype.contains,y.prototype.copy=y.prototype.clone,y}(),function(y,w){return t.exports=w()}(this,function(){return r})}).call(s2)}),Zb=VZe,UZe=ja({root:null,weight:function(e){return 1},directed:!1}),GZe={dijkstra:function(e){if(!en(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=UZe(e),i=n.root,a=n.weight,s=n.directed,o=this,l=a,u=pr(i)?this.filter(i)[0]:i[0],h={},f={},d={},p=this.byGroup(),m=p.nodes,v=p.edges;v.unmergeBy(function(O){return O.isLoop()});for(var x=function(P){return h[P.id()]},y=function(P,z){h[P.id()]=z,w.updateItem(P)},w=new Zb(function(O,P){return x(O)-x(P)}),S=0;S<m.length;S++){var E=m[S];h[E.id()]=E.same(u)?0:1/0,w.push(E)}for(var C=function(P,z){for(var $=(s?P.edgesTo(z):P.edgesWith(z)).intersect(v),V=1/0,X,q=0;q<$.length;q++){var Y=$[q],U=l(Y);(U<V||!X)&&(V=U,X=Y)}return{edge:X,dist:V}};w.size()>0;){var L=w.pop(),_=x(L),I=L.id();if(d[I]=_,_!==1/0)for(var D=L.neighborhood().intersect(m),F=0;F<D.length;F++){var M=D[F],B=M.id(),H=C(L,M),R=_+H.dist;R<x(M)&&(y(M,R),f[B]={node:L,edge:H.edge})}}return{distanceTo:function(P){var z=pr(P)?m.filter(P)[0]:P[0];return d[z.id()]},pathTo:function(P){var z=pr(P)?m.filter(P)[0]:P[0],$=[],V=z,X=V.id();if(z.length>0)for($.unshift(z);f[X];){var q=f[X];$.unshift(q.edge),$.unshift(q.node),V=q.node,X=V.id()}return o.spawn($)}}}},WZe={kruskal:function(e){e=e||function(S){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,a=n.length,s=new Array(a),o=n,l=function(E){for(var C=0;C<s.length;C++){var L=s[C];if(L.has(E))return C}},u=0;u<a;u++)s[u]=this.spawn(n[u]);for(var h=i.sort(function(S,E){return e(S)-e(E)}),f=0;f<h.length;f++){var d=h[f],p=d.source()[0],m=d.target()[0],v=l(p),x=l(m),y=s[v],w=s[x];v!==x&&(o.merge(d),y.merge(w),s.splice(x,1))}return o}},qZe=ja({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),YZe={aStar:function(e){var r=this.cy(),n=qZe(e),i=n.root,a=n.goal,s=n.heuristic,o=n.directed,l=n.weight;i=r.collection(i)[0],a=r.collection(a)[0];var u=i.id(),h=a.id(),f={},d={},p={},m=new Zb(function(X,q){return d[X.id()]-d[q.id()]}),v=new mv,x={},y={},w=function(q,Y){m.push(q),v.add(Y)},S,E,C=function(){S=m.pop(),E=S.id(),v.delete(E)},L=function(q){return v.has(q)};w(i,u),f[u]=0,d[u]=s(i);for(var _=0;m.size()>0;){if(C(),_++,E===h){for(var I=[],D=a,F=h,M=y[F];I.unshift(D),M!=null&&I.unshift(M),D=x[F],D!=null;)F=D.id(),M=y[F];return{found:!0,distance:f[E],path:this.spawn(I),steps:_}}p[E]=!0;for(var B=S._private.edges,H=0;H<B.length;H++){var R=B[H];if(this.hasElementWithId(R.id())&&!(o&&R.data("source")!==E)){var O=R.source(),P=R.target(),z=O.id()!==E?O:P,$=z.id();if(this.hasElementWithId($)&&!p[$]){var V=f[E]+l(R);if(!L($)){f[$]=V,d[$]=V+s(z),w(z,$),x[$]=S,y[$]=R;continue}V<f[$]&&(f[$]=V,d[$]=V+s(z),x[$]=S,y[$]=R)}}}}return{found:!1,distance:void 0,path:void 0,steps:_}}},XZe=ja({weight:function(e){return 1},directed:!1}),jZe={floydWarshall:function(e){for(var r=this.cy(),n=XZe(e),i=n.weight,a=n.directed,s=i,o=this.byGroup(),l=o.nodes,u=o.edges,h=l.length,f=h*h,d=function(U){return l.indexOf(U)},p=function(U){return l[U]},m=new Array(f),v=0;v<f;v++){var x=v%h,y=(v-x)/h;y===x?m[v]=0:m[v]=1/0}for(var w=new Array(f),S=new Array(f),E=0;E<u.length;E++){var C=u[E],L=C.source()[0],_=C.target()[0];if(L!==_){var I=d(L),D=d(_),F=I*h+D,M=s(C);if(m[F]>M&&(m[F]=M,w[F]=D,S[F]=C),!a){var B=D*h+I;!a&&m[B]>M&&(m[B]=M,w[B]=I,S[B]=C)}}}for(var H=0;H<h;H++)for(var R=0;R<h;R++)for(var O=R*h+H,P=0;P<h;P++){var z=R*h+P,$=H*h+P;m[O]+m[$]<m[z]&&(m[z]=m[O]+m[$],w[z]=w[O])}var V=function(U){return(pr(U)?r.filter(U):U)[0]},X=function(U){return d(V(U))},q={distance:function(U,Z){var pe=X(U),ne=X(Z);return m[pe*h+ne]},path:function(U,Z){var pe=X(U),ne=X(Z),ge=p(pe);if(pe===ne)return ge.collection();if(w[pe*h+ne]==null)return r.collection();var ye=r.collection(),J=pe,se;for(ye.merge(ge);pe!==ne;)J=pe,pe=w[pe*h+ne],se=S[J*h+pe],ye.merge(se),ye.merge(p(pe));return ye}};return q}},KZe=ja({weight:function(e){return 1},directed:!1,root:null}),QZe={bellmanFord:function(e){var r=this,n=KZe(e),i=n.weight,a=n.directed,s=n.root,o=i,l=this,u=this.cy(),h=this.byGroup(),f=h.edges,d=h.nodes,p=d.length,m=new Qu,v=!1,x=[];s=u.collection(s)[0],f.unmergeBy(function(xe){return xe.isLoop()});for(var y=f.length,w=function(le){var ke=m.get(le.id());return ke||(ke={},m.set(le.id(),ke)),ke},S=function(le){return(pr(le)?u.$(le):le)[0]},E=function(le){return w(S(le)).dist},C=function(le){for(var ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,De=S(le),We=[],qe=De;;){if(qe==null)return r.spawn();var Ve=w(qe),we=Ve.edge,Te=Ve.pred;if(We.unshift(qe[0]),qe.same(ke)&&We.length>0)break;we!=null&&We.unshift(we),qe=Te}return l.spawn(We)},L=0;L<p;L++){var _=d[L],I=w(_);_.same(s)?I.dist=0:I.dist=1/0,I.pred=null,I.edge=null}for(var D=!1,F=function(le,ke,De,We,qe,Ve){var we=We.dist+Ve;we<qe.dist&&!De.same(We.edge)&&(qe.dist=we,qe.pred=le,qe.edge=De,D=!0)},M=1;M<p;M++){D=!1;for(var B=0;B<y;B++){var H=f[B],R=H.source(),O=H.target(),P=o(H),z=w(R),$=w(O);F(R,O,H,z,$,P),a||F(O,R,H,$,z,P)}if(!D)break}if(D)for(var V=[],X=0;X<y;X++){var q=f[X],Y=q.source(),U=q.target(),Z=o(q),pe=w(Y).dist,ne=w(U).dist;if(pe+Z<ne||!a&&ne+Z<pe)if(v||(vn("Graph contains a negative weight cycle for Bellman-Ford"),v=!0),e.findNegativeWeightCycles!==!1){var ge=[];pe+Z<ne&&ge.push(Y),!a&&ne+Z<pe&&ge.push(U);for(var ye=ge.length,J=0;J<ye;J++){var se=ge[J],oe=[se];oe.push(w(se).edge);for(var fe=w(se).pred;oe.indexOf(fe)===-1;)oe.push(fe),oe.push(w(fe).edge),fe=w(fe).pred;oe=oe.slice(oe.indexOf(fe));for(var me=oe[0].id(),be=0,ce=2;ce<oe.length;ce+=2)oe[ce].id()<me&&(me=oe[ce].id(),be=ce);oe=oe.slice(be).concat(oe.slice(0,be)),oe.push(oe[0]);var Ge=oe.map(function(xe){return xe.id()}).join(",");V.indexOf(Ge)===-1&&(x.push(l.spawn(oe)),V.push(Ge))}}else break}return{distanceTo:E,pathTo:C,hasNegativeWeightCycle:v,negativeWeightCycles:x}}},ZZe=Math.sqrt(2),JZe=function(e,r,n){n.length===0&&Ei("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],a=i[1],s=i[2],o=r[a],l=r[s],u=n,h=u.length-1;h>=0;h--){var f=u[h],d=f[1],p=f[2];(r[d]===o&&r[p]===l||r[d]===l&&r[p]===o)&&u.splice(h,1)}for(var m=0;m<u.length;m++){var v=u[m];v[1]===l?(u[m]=v.slice(),u[m][1]=o):v[2]===l&&(u[m]=v.slice(),u[m][2]=o)}for(var x=0;x<r.length;x++)r[x]===l&&(r[x]=o);return u},L8=function(e,r,n,i){for(;n>i;){var a=Math.floor(Math.random()*r.length);r=JZe(a,e,r),n--}return r},eJe={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function($){return $.isLoop()});var a=n.length,s=i.length,o=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/ZZe);if(a<2){Ei("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],h=0;h<s;h++){var f=i[h];u.push([h,n.indexOf(f.source()),n.indexOf(f.target())])}for(var d=1/0,p=[],m=new Array(a),v=new Array(a),x=new Array(a),y=function(V,X){for(var q=0;q<a;q++)X[q]=V[q]},w=0;w<=o;w++){for(var S=0;S<a;S++)v[S]=S;var E=L8(v,u.slice(),a,l),C=E.slice();y(v,x);var L=L8(v,E,l,2),_=L8(x,C,l,2);L.length<=_.length&&L.length<d?(d=L.length,p=L,y(v,m)):_.length<=L.length&&_.length<d&&(d=_.length,p=_,y(x,m))}for(var I=this.spawn(p.map(function($){return i[$[0]]})),D=this.spawn(),F=this.spawn(),M=m[0],B=0;B<m.length;B++){var H=m[B],R=n[B];H===M?D.merge(R):F.merge(R)}var O=function(V){var X=e.spawn();return V.forEach(function(q){X.merge(q),q.connectedEdges().forEach(function(Y){e.contains(Y)&&!I.contains(Y)&&X.merge(Y)})}),X},P=[O(D),O(F)],z={cut:I,components:P,partition1:D,partition2:F};return z}},tJe=function(e){return{x:e.x,y:e.y}},KT=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},kce=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},Hg=function(e){return{x:e[0],y:e[1]}},rJe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,a=r;a<n;a++){var s=e[a];isFinite(s)&&(i=Math.min(s,i))}return i},nJe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,a=r;a<n;a++){var s=e[a];isFinite(s)&&(i=Math.max(s,i))}return i},iJe=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,a=0,s=r;s<n;s++){var o=e[s];isFinite(o)&&(i+=o,a++)}return i/a},aJe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var o=0,l=e.length-1;l>=0;l--){var u=e[l];s?isFinite(u)||(e[l]=-1/0,o++):e.splice(l,1)}a&&e.sort(function(d,p){return d-p});var h=e.length,f=Math.floor(h/2);return h%2!==0?e[f+1+o]:(e[f-1+o]+e[f+o])/2},sJe=function(e){return Math.PI*e/180},Nw=function(e,r){return Math.atan2(r,e)-Math.PI/2},VI=Math.log2||function(t){return Math.log(t)/Math.log(2)},Ece=function(e){return e>0?1:e<0?-1:0},op=function(e,r){return Math.sqrt(Xd(e,r))},Xd=function(e,r){var n=r.x-e.x,i=r.y-e.y;return n*n+i*i},oJe=function(e){for(var r=e.length,n=0,i=0;i<r;i++)n+=e[i];for(var a=0;a<r;a++)e[a]=e[a]/n;return e},ga=function(e,r,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*r+i*i*n},u1=function(e,r,n,i){return{x:ga(e.x,r.x,n.x,i),y:ga(e.y,r.y,n.y,i)}},lJe=function(e,r,n,i){var a={x:r.x-e.x,y:r.y-e.y},s=op(e,r),o={x:a.x/s,y:a.y/s};return n=n??0,i=i??n*s,{x:e.x+o.x*i,y:e.y+o.y*i}},jx=function(e,r,n){return Math.max(e,Math.min(n,r))},Eo=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},uJe=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},cJe=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},hJe=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},Tce=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},fJe=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},H3=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},V3=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,a,s;if(r.length===1)n=i=a=s=r[0];else if(r.length===2)n=a=r[0],s=i=r[1];else if(r.length===4){var o=Xl(r,4);n=o[0],i=o[1],a=o[2],s=o[3]}return e.x1-=s,e.x2+=i,e.y1-=n,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},ZG=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},UI=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Um=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},dJe=function(e,r){return Um(e,r.x,r.y)},Cce=function(e,r){return Um(e,r.x1,r.y1)&&Um(e,r.x2,r.y2)},Ace=function(e,r,n,i,a,s,o){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?lp(a,s):l,h=a/2,f=s/2;u=Math.min(u,h,f);var d=u!==h,p=u!==f,m;if(d){var v=n-h+u-o,x=i-f-o,y=n+h-u+o,w=x;if(m=kf(e,r,n,i,v,x,y,w,!1),m.length>0)return m}if(p){var S=n+h+o,E=i-f+u-o,C=S,L=i+f-u+o;if(m=kf(e,r,n,i,S,E,C,L,!1),m.length>0)return m}if(d){var _=n-h+u-o,I=i+f+o,D=n+h-u+o,F=I;if(m=kf(e,r,n,i,_,I,D,F,!1),m.length>0)return m}if(p){var M=n-h-o,B=i-f+u-o,H=M,R=i+f-u+o;if(m=kf(e,r,n,i,M,B,H,R,!1),m.length>0)return m}var O;{var P=n-h+u,z=i-f+u;if(O=l2(e,r,n,i,P,z,u+o),O.length>0&&O[0]<=P&&O[1]<=z)return[O[0],O[1]]}{var $=n+h-u,V=i-f+u;if(O=l2(e,r,n,i,$,V,u+o),O.length>0&&O[0]>=$&&O[1]<=V)return[O[0],O[1]]}{var X=n+h-u,q=i+f-u;if(O=l2(e,r,n,i,X,q,u+o),O.length>0&&O[0]>=X&&O[1]>=q)return[O[0],O[1]]}{var Y=n-h+u,U=i+f-u;if(O=l2(e,r,n,i,Y,U,u+o),O.length>0&&O[0]<=Y&&O[1]>=U)return[O[0],O[1]]}return[]},pJe=function(e,r,n,i,a,s,o){var l=o,u=Math.min(n,a),h=Math.max(n,a),f=Math.min(i,s),d=Math.max(i,s);return u-l<=e&&e<=h+l&&f-l<=r&&r<=d+l},gJe=function(e,r,n,i,a,s,o,l,u){var h={x1:Math.min(n,o,a)-u,x2:Math.max(n,o,a)+u,y1:Math.min(i,l,s)-u,y2:Math.max(i,l,s)+u};return!(e<h.x1||e>h.x2||r<h.y1||r>h.y2)},mJe=function(e,r,n,i){n-=i;var a=r*r-4*e*n;if(a<0)return[];var s=Math.sqrt(a),o=2*e,l=(-r+s)/o,u=(-r-s)/o;return[l,u]},vJe=function(e,r,n,i,a){var s=1e-5;e===0&&(e=s),r/=e,n/=e,i/=e;var o,l,u,h,f,d,p,m;if(l=(3*n-r*r)/9,u=-(27*i)+r*(9*n-2*(r*r)),u/=54,o=l*l*l+u*u,a[1]=0,p=r/3,o>0){f=u+Math.sqrt(o),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),d=u-Math.sqrt(o),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),a[0]=-p+f+d,p+=(f+d)/2,a[4]=a[2]=-p,p=Math.sqrt(3)*(-d+f)/2,a[3]=p,a[5]=-p;return}if(a[5]=a[3]=0,o===0){m=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),a[0]=-p+2*m,a[4]=a[2]=-(m+p);return}l=-l,h=l*l*l,h=Math.acos(u/Math.sqrt(h)),m=2*Math.sqrt(l),a[0]=-p+m*Math.cos(h/3),a[2]=-p+m*Math.cos((h+2*Math.PI)/3),a[4]=-p+m*Math.cos((h+4*Math.PI)/3)},yJe=function(e,r,n,i,a,s,o,l){var u=1*n*n-4*n*a+2*n*o+4*a*a-4*a*o+o*o+i*i-4*i*s+2*i*l+4*s*s-4*s*l+l*l,h=1*9*n*a-3*n*n-3*n*o-6*a*a+3*a*o+9*i*s-3*i*i-3*i*l-6*s*s+3*s*l,f=1*3*n*n-6*n*a+n*o-n*e+2*a*a+2*a*e-o*e+3*i*i-6*i*s+i*l-i*r+2*s*s+2*s*r-l*r,d=1*n*a-n*n+n*e-a*e+i*s-i*i+i*r-s*r,p=[];vJe(u,h,f,d,p);for(var m=1e-7,v=[],x=0;x<6;x+=2)Math.abs(p[x+1])<m&&p[x]>=0&&p[x]<=1&&v.push(p[x]);v.push(1),v.push(0);for(var y=-1,w,S,E,C=0;C<v.length;C++)w=Math.pow(1-v[C],2)*n+2*(1-v[C])*v[C]*a+v[C]*v[C]*o,S=Math.pow(1-v[C],2)*i+2*(1-v[C])*v[C]*s+v[C]*v[C]*l,E=Math.pow(w-e,2)+Math.pow(S-r,2),y>=0?E<y&&(y=E):y=E;return y},xJe=function(e,r,n,i,a,s){var o=[e-n,r-i],l=[a-n,s-i],u=l[0]*l[0]+l[1]*l[1],h=o[0]*o[0]+o[1]*o[1],f=o[0]*l[0]+o[1]*l[1],d=f*f/u;return f<0?h:d>u?(e-a)*(e-a)+(r-s)*(r-s):h-d},uo=function(e,r,n){for(var i,a,s,o,l,u=0,h=0;h<n.length/2;h++)if(i=n[h*2],a=n[h*2+1],h+1<n.length/2?(s=n[(h+1)*2],o=n[(h+1)*2+1]):(s=n[(h+1-n.length/2)*2],o=n[(h+1-n.length/2)*2+1]),!(i==e&&s==e))if(i>=e&&e>=s||i<=e&&e<=s)l=(e-i)/(s-i)*(o-a)+a,l>r&&u++;else continue;return u%2!==0},Sh=function(e,r,n,i,a,s,o,l,u){var h=new Array(n.length),f;l[0]!=null?(f=Math.atan(l[1]/l[0]),l[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=l;for(var d=Math.cos(-f),p=Math.sin(-f),m=0;m<h.length/2;m++)h[m*2]=s/2*(n[m*2]*d-n[m*2+1]*p),h[m*2+1]=o/2*(n[m*2+1]*d+n[m*2]*p),h[m*2]+=i,h[m*2+1]+=a;var v;if(u>0){var x=bk(h,-u);v=xk(x)}else v=h;return uo(e,r,v)},bJe=function(e,r,n,i,a,s,o,l){for(var u=new Array(n.length*2),h=0;h<l.length;h++){var f=l[h];u[h*4+0]=f.startX,u[h*4+1]=f.startY,u[h*4+2]=f.stopX,u[h*4+3]=f.stopY;var d=Math.pow(f.cx-e,2)+Math.pow(f.cy-r,2);if(d<=Math.pow(f.radius,2))return!0}return uo(e,r,u)},xk=function(e){for(var r=new Array(e.length/2),n,i,a,s,o,l,u,h,f=0;f<e.length/4;f++){n=e[f*4],i=e[f*4+1],a=e[f*4+2],s=e[f*4+3],f<e.length/4-1?(o=e[(f+1)*4],l=e[(f+1)*4+1],u=e[(f+1)*4+2],h=e[(f+1)*4+3]):(o=e[0],l=e[1],u=e[2],h=e[3]);var d=kf(n,i,a,s,o,l,u,h,!0);r[f*2]=d[0],r[f*2+1]=d[1]}return r},bk=function(e,r){for(var n=new Array(e.length*2),i,a,s,o,l=0;l<e.length/2;l++){i=e[l*2],a=e[l*2+1],l<e.length/2-1?(s=e[(l+1)*2],o=e[(l+1)*2+1]):(s=e[0],o=e[1]);var u=o-a,h=-(s-i),f=Math.sqrt(u*u+h*h),d=u/f,p=h/f;n[l*4]=i+d*r,n[l*4+1]=a+p*r,n[l*4+2]=s+d*r,n[l*4+3]=o+p*r}return n},wJe=function(e,r,n,i,a,s){var o=n-e,l=i-r;o/=a,l/=s;var u=Math.sqrt(o*o+l*l),h=u-1;if(h<0)return[];var f=h/u;return[(n-e)*f+e,(i-r)*f+r]},y0=function(e,r,n,i,a,s,o){return e-=a,r-=s,e/=n/2+o,r/=i/2+o,e*e+r*r<=1},l2=function(e,r,n,i,a,s,o){var l=[n-e,i-r],u=[e-a,r-s],h=l[0]*l[0]+l[1]*l[1],f=2*(u[0]*l[0]+u[1]*l[1]),d=u[0]*u[0]+u[1]*u[1]-o*o,p=f*f-4*h*d;if(p<0)return[];var m=(-f+Math.sqrt(p))/(2*h),v=(-f-Math.sqrt(p))/(2*h),x=Math.min(m,v),y=Math.max(m,v),w=[];if(x>=0&&x<=1&&w.push(x),y>=0&&y<=1&&w.push(y),w.length===0)return[];var S=w[0]*l[0]+e,E=w[0]*l[1]+r;if(w.length>1){if(w[0]==w[1])return[S,E];var C=w[1]*l[0]+e,L=w[1]*l[1]+r;return[S,E,C,L]}else return[S,E]},D8=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},kf=function(e,r,n,i,a,s,o,l,u){var h=e-a,f=n-e,d=o-a,p=r-s,m=i-r,v=l-s,x=d*p-v*h,y=f*p-m*h,w=v*f-d*m;if(w!==0){var S=x/w,E=y/w,C=.001,L=0-C,_=1+C;return L<=S&&S<=_&&L<=E&&E<=_?[e+S*f,r+S*m]:u?[e+S*f,r+S*m]:[]}else return x===0||y===0?D8(e,n,o)===o?[o,l]:D8(e,n,a)===a?[a,s]:D8(a,o,n)===n?[n,i]:[]:[]},Kx=function(e,r,n,i,a,s,o,l){var u=[],h,f=new Array(n.length),d=!0;s==null&&(d=!1);var p;if(d){for(var m=0;m<f.length/2;m++)f[m*2]=n[m*2]*s+i,f[m*2+1]=n[m*2+1]*o+a;if(l>0){var v=bk(f,-l);p=xk(v)}else p=f}else p=n;for(var x,y,w,S,E=0;E<p.length/2;E++)x=p[E*2],y=p[E*2+1],E<p.length/2-1?(w=p[(E+1)*2],S=p[(E+1)*2+1]):(w=p[0],S=p[1]),h=kf(e,r,i,a,x,y,w,S),h.length!==0&&u.push(h[0],h[1]);return u},SJe=function(e,r,n,i,a,s,o,l,u){var h=[],f,d=new Array(n.length*2);u.forEach(function(w,S){S===0?(d[d.length-2]=w.startX,d[d.length-1]=w.startY):(d[S*4-2]=w.startX,d[S*4-1]=w.startY),d[S*4]=w.stopX,d[S*4+1]=w.stopY,f=l2(e,r,i,a,w.cx,w.cy,w.radius),f.length!==0&&h.push(f[0],f[1])});for(var p=0;p<d.length/4;p++)f=kf(e,r,i,a,d[p*4],d[p*4+1],d[p*4+2],d[p*4+3],!1),f.length!==0&&h.push(f[0],f[1]);if(h.length>2){for(var m=[h[0],h[1]],v=Math.pow(m[0]-e,2)+Math.pow(m[1]-r,2),x=1;x<h.length/2;x++){var y=Math.pow(h[x*2]-e,2)+Math.pow(h[x*2+1]-r,2);y<=v&&(m[0]=h[x*2],m[1]=h[x*2+1],v=y)}return m}return h},Iw=function(e,r,n){var i=[e[0]-r[0],e[1]-r[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=(a-n)/a;return s<0&&(s=1e-5),[r[0]+s*i[0],r[1]+s*i[1]]},Ns=function(e,r){var n=A9(e,r);return n=_ce(n),n},_ce=function(e){for(var r,n,i=e.length/2,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<i;u++)r=e[2*u],n=e[2*u+1],a=Math.min(a,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);for(var h=2/(o-a),f=2/(l-s),d=0;d<i;d++)r=e[2*d]=e[2*d]*h,n=e[2*d+1]=e[2*d+1]*f,a=Math.min(a,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);if(s<-1)for(var p=0;p<i;p++)n=e[2*p+1]=e[2*p+1]+(-1-s);return e},A9=function(e,r){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var a=new Array(e*2),s,o=0;o<e;o++)s=o*n+i,a[2*o]=Math.cos(s),a[2*o+1]=Math.sin(-s);return a},lp=function(e,r){return Math.min(e/4,r/4,8)},Lce=function(e,r){return Math.min(e/10,r/10,8)},GI=function(){return 8},kJe=function(e,r,n){return[e-2*r+n,2*(r-e),e]},_9=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},EJe=ja({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),TJe={pageRank:function(e){for(var r=EJe(e),n=r.dampingFactor,i=r.precision,a=r.iterations,s=r.weight,o=this._private.cy,l=this.byGroup(),u=l.nodes,h=l.edges,f=u.length,d=f*f,p=h.length,m=new Array(d),v=new Array(f),x=(1-n)/f,y=0;y<f;y++){for(var w=0;w<f;w++){var S=y*f+w;m[S]=0}v[y]=0}for(var E=0;E<p;E++){var C=h[E],L=C.data("source"),_=C.data("target");if(L!==_){var I=u.indexOfId(L),D=u.indexOfId(_),F=s(C),M=D*f+I;m[M]+=F,v[I]+=F}}for(var B=1/f+x,H=0;H<f;H++)if(v[H]===0)for(var R=0;R<f;R++){var O=R*f+H;m[O]=B}else for(var P=0;P<f;P++){var z=P*f+H;m[z]=m[z]/v[H]+x}for(var $=new Array(f),V=new Array(f),X,q=0;q<f;q++)$[q]=1;for(var Y=0;Y<a;Y++){for(var U=0;U<f;U++)V[U]=0;for(var Z=0;Z<f;Z++)for(var pe=0;pe<f;pe++){var ne=Z*f+pe;V[Z]+=m[ne]*$[pe]}oJe(V),X=$,$=V,V=X;for(var ge=0,ye=0;ye<f;ye++){var J=X[ye]-$[ye];ge+=J*J}if(ge<i)break}var se={rank:function(fe){return fe=o.collection(fe)[0],$[u.indexOf(fe)]}};return se}},JG=ja({root:null,weight:function(e){return 1},directed:!1,alpha:0}),c1={degreeCentralityNormalized:function(e){e=JG(e);var r=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var h={},f={},d=0,p=0,m=0;m<i;m++){var v=n[m],x=v.id();e.root=v;var y=this.degreeCentrality(e);d<y.indegree&&(d=y.indegree),p<y.outdegree&&(p=y.outdegree),h[x]=y.indegree,f[x]=y.outdegree}return{indegree:function(S){return d==0?0:(pr(S)&&(S=r.filter(S)),h[S.id()]/d)},outdegree:function(S){return p===0?0:(pr(S)&&(S=r.filter(S)),f[S.id()]/p)}}}else{for(var a={},s=0,o=0;o<i;o++){var l=n[o];e.root=l;var u=this.degreeCentrality(e);s<u.degree&&(s=u.degree),a[l.id()]=u.degree}return{degree:function(S){return s===0?0:(pr(S)&&(S=r.filter(S)),a[S.id()]/s)}}}},degreeCentrality:function(e){e=JG(e);var r=this.cy(),n=this,i=e,a=i.root,s=i.weight,o=i.directed,l=i.alpha;if(a=r.collection(a)[0],o){for(var p=a.connectedEdges(),m=p.filter(function(L){return L.target().same(a)&&n.has(L)}),v=p.filter(function(L){return L.source().same(a)&&n.has(L)}),x=m.length,y=v.length,w=0,S=0,E=0;E<m.length;E++)w+=s(m[E]);for(var C=0;C<v.length;C++)S+=s(v[C]);return{indegree:Math.pow(x,1-l)*Math.pow(w,l),outdegree:Math.pow(y,1-l)*Math.pow(S,l)}}else{for(var u=a.connectedEdges().intersection(n),h=u.length,f=0,d=0;d<u.length;d++)f+=s(u[d]);return{degree:Math.pow(h,1-l)*Math.pow(f,l)}}}};c1.dc=c1.degreeCentrality;c1.dcn=c1.degreeCentralityNormalised=c1.degreeCentralityNormalized;var eW=ja({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),h1={closenessCentralityNormalized:function(e){for(var r=eW(e),n=r.harmonic,i=r.weight,a=r.directed,s=this.cy(),o={},l=0,u=this.nodes(),h=this.floydWarshall({weight:i,directed:a}),f=0;f<u.length;f++){for(var d=0,p=u[f],m=0;m<u.length;m++)if(f!==m){var v=h.distance(p,u[m]);n?d+=1/v:d+=v}n||(d=1/d),l<d&&(l=d),o[p.id()]=d}return{closeness:function(y){return l==0?0:(pr(y)?y=s.filter(y)[0].id():y=y.id(),o[y]/l)}}},closenessCentrality:function(e){var r=eW(e),n=r.root,i=r.weight,a=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:i,directed:a}),l=0,u=this.nodes(),h=0;h<u.length;h++){var f=u[h];if(!f.same(n)){var d=o.distanceTo(f);s?l+=1/d:l+=d}}return s?l:1/l}};h1.cc=h1.closenessCentrality;h1.ccn=h1.closenessCentralityNormalised=h1.closenessCentralityNormalized;var CJe=ja({weight:null,directed:!1}),L9={betweennessCentrality:function(e){for(var r=CJe(e),n=r.directed,i=r.weight,a=i!=null,s=this.cy(),o=this.nodes(),l={},u={},h=0,f={set:function(S,E){u[S]=E,E>h&&(h=E)},get:function(S){return u[S]}},d=0;d<o.length;d++){var p=o[d],m=p.id();n?l[m]=p.outgoers().nodes():l[m]=p.openNeighborhood().nodes(),f.set(m,0)}for(var v=function(S){for(var E=o[S].id(),C=[],L={},_={},I={},D=new Zb(function(pe,ne){return I[pe]-I[ne]}),F=0;F<o.length;F++){var M=o[F].id();L[M]=[],_[M]=0,I[M]=1/0}for(_[E]=1,I[E]=0,D.push(E);!D.empty();){var B=D.pop();if(C.push(B),a)for(var H=0;H<l[B].length;H++){var R=l[B][H],O=s.getElementById(B),P=void 0;O.edgesTo(R).length>0?P=O.edgesTo(R)[0]:P=R.edgesTo(O)[0];var z=i(P);R=R.id(),I[R]>I[B]+z&&(I[R]=I[B]+z,D.nodes.indexOf(R)<0?D.push(R):D.updateItem(R),_[R]=0,L[R]=[]),I[R]==I[B]+z&&(_[R]=_[R]+_[B],L[R].push(B))}else for(var $=0;$<l[B].length;$++){var V=l[B][$].id();I[V]==1/0&&(D.push(V),I[V]=I[B]+1),I[V]==I[B]+1&&(_[V]=_[V]+_[B],L[V].push(B))}}for(var X={},q=0;q<o.length;q++)X[o[q].id()]=0;for(;C.length>0;){for(var Y=C.pop(),U=0;U<L[Y].length;U++){var Z=L[Y][U];X[Z]=X[Z]+_[Z]/_[Y]*(1+X[Y])}Y!=o[S].id()&&f.set(Y,f.get(Y)+X[Y])}},x=0;x<o.length;x++)v(x);var y={betweenness:function(S){var E=s.collection(S).id();return f.get(E)},betweennessNormalized:function(S){if(h==0)return 0;var E=s.collection(S).id();return f.get(E)/h}};return y.betweennessNormalised=y.betweennessNormalized,y}};L9.bc=L9.betweennessCentrality;var AJe=ja({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),_Je=function(e){return AJe(e)},LJe=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](e);return n},DJe=function(e,r,n){for(var i=0;i<r;i++)e[i*r+i]=n},Dce=function(e,r){for(var n,i=0;i<r;i++){n=0;for(var a=0;a<r;a++)n+=e[a*r+i];for(var s=0;s<r;s++)e[s*r+i]=e[s*r+i]/n}},RJe=function(e,r,n){for(var i=new Array(n*n),a=0;a<n;a++){for(var s=0;s<n;s++)i[a*n+s]=0;for(var o=0;o<n;o++)for(var l=0;l<n;l++)i[a*n+l]+=e[a*n+o]*r[o*n+l]}return i},MJe=function(e,r,n){for(var i=e.slice(0),a=1;a<n;a++)e=RJe(e,i,r);return e},NJe=function(e,r,n){for(var i=new Array(r*r),a=0;a<r*r;a++)i[a]=Math.pow(e[a],n);return Dce(i,r),i},IJe=function(e,r,n,i){for(var a=0;a<n;a++){var s=Math.round(e[a]*Math.pow(10,i))/Math.pow(10,i),o=Math.round(r[a]*Math.pow(10,i))/Math.pow(10,i);if(s!==o)return!1}return!0},OJe=function(e,r,n,i){for(var a=[],s=0;s<r;s++){for(var o=[],l=0;l<r;l++)Math.round(e[s*r+l]*1e3)/1e3>0&&o.push(n[l]);o.length!==0&&a.push(i.collection(o))}return a},PJe=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},FJe=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&PJe(e[r],e[n])&&e.splice(n,1);return e},tW=function(e){for(var r=this.nodes(),n=this.edges(),i=this.cy(),a=_Je(e),s={},o=0;o<r.length;o++)s[r[o].id()]=o;for(var l=r.length,u=l*l,h=new Array(u),f,d=0;d<u;d++)h[d]=0;for(var p=0;p<n.length;p++){var m=n[p],v=s[m.source().id()],x=s[m.target().id()],y=LJe(m,a.attributes);h[v*l+x]+=y,h[x*l+v]+=y}DJe(h,l,a.multFactor),Dce(h,l);for(var w=!0,S=0;w&&S<a.maxIterations;)w=!1,f=MJe(h,l,a.expandFactor),h=NJe(f,l,a.inflateFactor),IJe(h,f,u,4)||(w=!0),S++;var E=OJe(h,l,r,i);return E=FJe(E),E},BJe={markovClustering:tW,mcl:tW},$Je=function(e){return e},Rce=function(e,r){return Math.abs(r-e)},rW=function(e,r,n){return e+Rce(r,n)},nW=function(e,r,n){return e+Math.pow(n-r,2)},zJe=function(e){return Math.sqrt(e)},HJe=function(e,r,n){return Math.max(e,Rce(r,n))},Ny=function(e,r,n,i,a){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:$Je,o=i,l,u,h=0;h<e;h++)l=r(h),u=n(h),o=a(o,l,u);return s(o)},Gm={euclidean:function(e,r,n){return e>=2?Ny(e,r,n,0,nW,zJe):Ny(e,r,n,0,rW)},squaredEuclidean:function(e,r,n){return Ny(e,r,n,0,nW)},manhattan:function(e,r,n){return Ny(e,r,n,0,rW)},max:function(e,r,n){return Ny(e,r,n,-1/0,HJe)}};Gm["squared-euclidean"]=Gm.squaredEuclidean;Gm.squaredeuclidean=Gm.squaredEuclidean;function QT(t,e,r,n,i,a){var s;return gi(t)?s=t:s=Gm[t]||Gm.euclidean,e===0&&gi(t)?s(i,a):s(e,r,n,i,a)}var VJe=ja({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),WI=function(e){return VJe(e)},wk=function(e,r,n,i,a){var s=a!=="kMedoids",o=s?function(f){return n[f]}:function(f){return i[f](n)},l=function(d){return i[d](r)},u=n,h=r;return QT(e,i.length,o,l,u,h)},R8=function(e,r,n){for(var i=n.length,a=new Array(i),s=new Array(i),o=new Array(r),l=null,u=0;u<i;u++)a[u]=e.min(n[u]).value,s[u]=e.max(n[u]).value;for(var h=0;h<r;h++){l=[];for(var f=0;f<i;f++)l[f]=Math.random()*(s[f]-a[f])+a[f];o[h]=l}return o},Mce=function(e,r,n,i,a){for(var s=1/0,o=0,l=0;l<r.length;l++){var u=wk(n,e,r[l],i,a);u<s&&(s=u,o=l)}return o},Nce=function(e,r,n){for(var i=[],a=null,s=0;s<r.length;s++)a=r[s],n[a.id()]===e&&i.push(a);return i},UJe=function(e,r,n){return Math.abs(r-e)<=n},GJe=function(e,r,n){for(var i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++){var s=Math.abs(e[i][a]-r[i][a]);if(s>n)return!1}return!0},WJe=function(e,r,n){for(var i=0;i<n;i++)if(e===r[i])return!0;return!1},iW=function(e,r){var n=new Array(r);if(e.length<50)for(var i=0;i<r;i++){for(var a=e[Math.floor(Math.random()*e.length)];WJe(a,n,i);)a=e[Math.floor(Math.random()*e.length)];n[i]=a}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},aW=function(e,r,n){for(var i=0,a=0;a<r.length;a++)i+=wk("manhattan",r[a],e,n,"kMedoids");return i},qJe=function(e){var r=this.cy(),n=this.nodes(),i=null,a=WI(e),s=new Array(a.k),o={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=R8(n,a.k,a.attributes)):ha(a.testCentroids)==="object"?l=a.testCentroids:l=R8(n,a.k,a.attributes):l=R8(n,a.k,a.attributes);for(var u=!0,h=0;u&&h<a.maxIterations;){for(var f=0;f<n.length;f++)i=n[f],o[i.id()]=Mce(i,l,a.distance,a.attributes,"kMeans");u=!1;for(var d=0;d<a.k;d++){var p=Nce(d,n,o);if(p.length!==0){for(var m=a.attributes.length,v=l[d],x=new Array(m),y=new Array(m),w=0;w<m;w++){y[w]=0;for(var S=0;S<p.length;S++)i=p[S],y[w]+=a.attributes[w](i);x[w]=y[w]/p.length,UJe(x[w],v[w],a.sensitivityThreshold)||(u=!0)}l[d]=x,s[d]=r.collection(p)}}h++}return s},YJe=function(e){var r=this.cy(),n=this.nodes(),i=null,a=WI(e),s=new Array(a.k),o,l={},u,h=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(ha(a.testCentroids)==="object"?o=a.testCentroids:o=iW(n,a.k)):o=iW(n,a.k);for(var f=!0,d=0;f&&d<a.maxIterations;){for(var p=0;p<n.length;p++)i=n[p],l[i.id()]=Mce(i,o,a.distance,a.attributes,"kMedoids");f=!1;for(var m=0;m<o.length;m++){var v=Nce(m,n,l);if(v.length!==0){h[m]=aW(o[m],v,a.attributes);for(var x=0;x<v.length;x++)u=aW(v[x],v,a.attributes),u<h[m]&&(h[m]=u,o[m]=v[x],f=!0);s[m]=r.collection(v)}}d++}return s},XJe=function(e,r,n,i,a){for(var s,o,l=0;l<r.length;l++)for(var u=0;u<e.length;u++)i[l][u]=Math.pow(n[l][u],a.m);for(var h=0;h<e.length;h++)for(var f=0;f<a.attributes.length;f++){s=0,o=0;for(var d=0;d<r.length;d++)s+=i[d][h]*a.attributes[f](r[d]),o+=i[d][h];e[h][f]=s/o}},jJe=function(e,r,n,i,a){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var o,l,u,h=2/(a.m-1),f=0;f<n.length;f++)for(var d=0;d<i.length;d++){o=0;for(var p=0;p<n.length;p++)l=wk(a.distance,i[d],n[f],a.attributes,"cmeans"),u=wk(a.distance,i[d],n[p],a.attributes,"cmeans"),o+=Math.pow(l/u,h);e[d][f]=1/o}},KJe=function(e,r,n,i){for(var a=new Array(n.k),s=0;s<a.length;s++)a[s]=[];for(var o,l,u=0;u<r.length;u++){o=-1/0,l=-1;for(var h=0;h<r[0].length;h++)r[u][h]>o&&(o=r[u][h],l=h);a[l].push(e[u])}for(var f=0;f<a.length;f++)a[f]=i.collection(a[f]);return a},sW=function(e){var r=this.cy(),n=this.nodes(),i=WI(e),a,s,o,l,u;l=new Array(n.length);for(var h=0;h<n.length;h++)l[h]=new Array(i.k);o=new Array(n.length);for(var f=0;f<n.length;f++)o[f]=new Array(i.k);for(var d=0;d<n.length;d++){for(var p=0,m=0;m<i.k;m++)o[d][m]=Math.random(),p+=o[d][m];for(var v=0;v<i.k;v++)o[d][v]=o[d][v]/p}s=new Array(i.k);for(var x=0;x<i.k;x++)s[x]=new Array(i.attributes.length);u=new Array(n.length);for(var y=0;y<n.length;y++)u[y]=new Array(i.k);for(var w=!0,S=0;w&&S<i.maxIterations;)w=!1,XJe(s,n,o,u,i),jJe(o,l,s,n,i),GJe(o,l,i.sensitivityThreshold)||(w=!0),S++;return a=KJe(n,o,i,r),{clusters:a,degreeOfMembership:o}},QJe={kMeans:qJe,kMedoids:YJe,fuzzyCMeans:sW,fcm:sW},ZJe=ja({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),JJe={single:"min",complete:"max"},eet=function(e){var r=ZJe(e),n=JJe[r.linkage];return n!=null&&(r.linkage=n),r},oW=function(e,r,n,i,a){for(var s=0,o=1/0,l,u=a.attributes,h=function(D,F){return QT(a.distance,u.length,function(M){return u[M](D)},function(M){return u[M](F)},D,F)},f=0;f<e.length;f++){var d=e[f].key,p=n[d][i[d]];p<o&&(s=d,o=p)}if(a.mode==="threshold"&&o>=a.threshold||a.mode==="dendrogram"&&e.length===1)return!1;var m=r[s],v=r[i[s]],x;a.mode==="dendrogram"?x={left:m,right:v,key:m.key}:x={value:m.value.concat(v.value),key:m.key},e[m.index]=x,e.splice(v.index,1),r[m.key]=x;for(var y=0;y<e.length;y++){var w=e[y];m.key===w.key?l=1/0:a.linkage==="min"?(l=n[m.key][w.key],n[m.key][w.key]>n[v.key][w.key]&&(l=n[v.key][w.key])):a.linkage==="max"?(l=n[m.key][w.key],n[m.key][w.key]<n[v.key][w.key]&&(l=n[v.key][w.key])):a.linkage==="mean"?l=(n[m.key][w.key]*m.size+n[v.key][w.key]*v.size)/(m.size+v.size):a.mode==="dendrogram"?l=h(w.value,m.value):l=h(w.value[0],m.value[0]),n[m.key][w.key]=n[w.key][m.key]=l}for(var S=0;S<e.length;S++){var E=e[S].key;if(i[E]===m.key||i[E]===v.key){for(var C=E,L=0;L<e.length;L++){var _=e[L].key;n[E][_]<n[E][C]&&(C=_)}i[E]=C}e[S].index=S}return m.key=v.key=m.index=v.index=null,!0},Ow=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},tet=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),i=t(e.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(e.value)return e.value.id()},ret=function t(e,r,n){if(!e)return[];var i=[],a=[],s=[];return r===0?(e.left&&Ow(e.left,i),e.right&&Ow(e.right,a),s=i.concat(a),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&Ow(e.left,i),e.right&&Ow(e.right,a),[n.collection(i),n.collection(a)]):e.value?[n.collection(e.value)]:(e.left&&(i=t(e.left,r-1,n)),e.right&&(a=t(e.right,r-1,n)),i.concat(a))},lW=function(e){for(var r=this.cy(),n=this.nodes(),i=eet(e),a=i.attributes,s=function(S,E){return QT(i.distance,a.length,function(C){return a[C](S)},function(C){return a[C](E)},S,E)},o=[],l=[],u=[],h=[],f=0;f<n.length;f++){var d={value:i.mode==="dendrogram"?n[f]:[n[f]],key:f,index:f};o[f]=d,h[f]=d,l[f]=[],u[f]=0}for(var p=0;p<o.length;p++)for(var m=0;m<=p;m++){var v=void 0;i.mode==="dendrogram"?v=p===m?1/0:s(o[p].value,o[m].value):v=p===m?1/0:s(o[p].value[0],o[m].value[0]),l[p][m]=v,l[m][p]=v,v<l[p][u[p]]&&(u[p]=m)}for(var x=oW(o,h,l,u,i);x;)x=oW(o,h,l,u,i);var y;return i.mode==="dendrogram"?(y=ret(o[0],i.dendrogramDepth,r),i.addDendrogram&&tet(o[0],r)):(y=new Array(o.length),o.forEach(function(w,S){w.key=w.index=null,y[S]=r.collection(w.value)})),y},net={hierarchicalClustering:lW,hca:lW},iet=ja({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),aet=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||Ei("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(a){return a===n})||$t(n)||Ei("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(n)),iet(e)},set=function(e,r,n,i){var a=function(o,l){return i[l](o)};return-QT(e,i.length,function(s){return a(r,s)},function(s){return a(n,s)},r,n)},oet=function(e,r){var n=null;return r==="median"?n=aJe(e):r==="mean"?n=iJe(e):r==="min"?n=rJe(e):r==="max"?n=nJe(e):n=r,n},uet=function(e,r,n){for(var i=[],a=0;a<e;a++)r[a*e+a]+n[a*e+a]>0&&i.push(a);return i},uW=function(e,r,n){for(var i=[],a=0;a<e;a++){for(var s=-1,o=-1/0,l=0;l<n.length;l++){var u=n[l];r[a*e+u]>o&&(s=u,o=r[a*e+u])}s>0&&i.push(s)}for(var h=0;h<n.length;h++)i[n[h]]=n[h];return i},cet=function(e,r,n){for(var i=uW(e,r,n),a=0;a<n.length;a++){for(var s=[],o=0;o<i.length;o++)i[o]===n[a]&&s.push(o);for(var l=-1,u=-1/0,h=0;h<s.length;h++){for(var f=0,d=0;d<s.length;d++)f+=r[s[d]*e+s[h]];f>u&&(l=h,u=f)}n[a]=s[l]}return i=uW(e,r,n),i},cW=function(e){for(var r=this.cy(),n=this.nodes(),i=aet(e),a={},s=0;s<n.length;s++)a[n[s].id()]=s;var o,l,u,h,f,d;o=n.length,l=o*o,u=new Array(l);for(var p=0;p<l;p++)u[p]=-1/0;for(var m=0;m<o;m++)for(var v=0;v<o;v++)m!==v&&(u[m*o+v]=set(i.distance,n[m],n[v],i.attributes));h=oet(u,i.preference);for(var x=0;x<o;x++)u[x*o+x]=h;f=new Array(l);for(var y=0;y<l;y++)f[y]=0;d=new Array(l);for(var w=0;w<l;w++)d[w]=0;for(var S=new Array(o),E=new Array(o),C=new Array(o),L=0;L<o;L++)S[L]=0,E[L]=0,C[L]=0;for(var _=new Array(o*i.minIterations),I=0;I<_.length;I++)_[I]=0;var D;for(D=0;D<i.maxIterations;D++){for(var F=0;F<o;F++){for(var M=-1/0,B=-1/0,H=-1,R=0,O=0;O<o;O++)S[O]=f[F*o+O],R=d[F*o+O]+u[F*o+O],R>=M?(B=M,M=R,H=O):R>B&&(B=R);for(var P=0;P<o;P++)f[F*o+P]=(1-i.damping)*(u[F*o+P]-M)+i.damping*S[P];f[F*o+H]=(1-i.damping)*(u[F*o+H]-B)+i.damping*S[H]}for(var z=0;z<o;z++){for(var $=0,V=0;V<o;V++)S[V]=d[V*o+z],E[V]=Math.max(0,f[V*o+z]),$+=E[V];$-=E[z],E[z]=f[z*o+z],$+=E[z];for(var X=0;X<o;X++)d[X*o+z]=(1-i.damping)*Math.min(0,$-E[X])+i.damping*S[X];d[z*o+z]=(1-i.damping)*($-E[z])+i.damping*S[z]}for(var q=0,Y=0;Y<o;Y++){var U=d[Y*o+Y]+f[Y*o+Y]>0?1:0;_[D%i.minIterations*o+Y]=U,q+=U}if(q>0&&(D>=i.minIterations-1||D==i.maxIterations-1)){for(var Z=0,pe=0;pe<o;pe++){C[pe]=0;for(var ne=0;ne<i.minIterations;ne++)C[pe]+=_[ne*o+pe];(C[pe]===0||C[pe]===i.minIterations)&&Z++}if(Z===o)break}}for(var ge=uet(o,f,d),ye=cet(o,u,ge),J={},se=0;se<ge.length;se++)J[ge[se]]=[];for(var oe=0;oe<n.length;oe++){var fe=a[n[oe].id()],me=ye[fe];me!=null&&J[me].push(n[oe])}for(var be=new Array(ge.length),ce=0;ce<ge.length;ce++)be[ce]=r.collection(J[ge[ce]]);return be},het={affinityPropagation:cW,ap:cW},fet=ja({root:void 0,directed:!1}),det={hierholzer:function(e){if(!en(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=fet(e),i=n.root,a=n.directed,s=this,o=!1,l,u,h;i&&(h=pr(i)?this.filter(i)[0].id():i[0].id());var f={},d={};a?s.forEach(function(w){var S=w.id();if(w.isNode()){var E=w.indegree(!0),C=w.outdegree(!0),L=E-C,_=C-E;L==1?l?o=!0:l=S:_==1?u?o=!0:u=S:(_>1||L>1)&&(o=!0),f[S]=[],w.outgoers().forEach(function(I){I.isEdge()&&f[S].push(I.id())})}else d[S]=[void 0,w.target().id()]}):s.forEach(function(w){var S=w.id();if(w.isNode()){var E=w.degree(!0);E%2&&(l?u?o=!0:u=S:l=S),f[S]=[],w.connectedEdges().forEach(function(C){return f[S].push(C.id())})}else d[S]=[w.source().id(),w.target().id()]});var p={found:!1,trail:void 0};if(o)return p;if(u&&l)if(a){if(h&&u!=h)return p;h=u}else{if(h&&u!=h&&l!=h)return p;h||(h=u)}else h||(h=s[0].id());var m=function(S){for(var E=S,C=[S],L,_,I;f[E].length;)L=f[E].shift(),_=d[L][0],I=d[L][1],E!=I?(f[I]=f[I].filter(function(D){return D!=L}),E=I):!a&&E!=_&&(f[_]=f[_].filter(function(D){return D!=L}),E=_),C.unshift(L),C.unshift(E);return C},v=[],x=[];for(x=m(h);x.length!=1;)f[x[0]].length==0?(v.unshift(s.getElementById(x.shift())),v.unshift(s.getElementById(x.shift()))):x=m(x.shift()).concat(x);v.unshift(s.getElementById(x.shift()));for(var y in f)if(f[y].length)return p;return p.found=!0,p.trail=this.spawn(v,!0),p}},Pw=function(){var e=this,r={},n=0,i=0,a=[],s=[],o={},l=function(d,p){for(var m=s.length-1,v=[],x=e.spawn();s[m].x!=d||s[m].y!=p;)v.push(s.pop().edge),m--;v.push(s.pop().edge),v.forEach(function(y){var w=y.connectedNodes().intersection(e);x.merge(y),w.forEach(function(S){var E=S.id(),C=S.connectedEdges().intersection(e);x.merge(S),r[E].cutVertex?x.merge(C.filter(function(L){return L.isLoop()})):x.merge(C)})}),a.push(x)},u=function f(d,p,m){d===m&&(i+=1),r[p]={id:n,low:n++,cutVertex:!1};var v=e.getElementById(p).connectedEdges().intersection(e);if(v.size()===0)a.push(e.spawn(e.getElementById(p)));else{var x,y,w,S;v.forEach(function(E){x=E.source().id(),y=E.target().id(),w=x===p?y:x,w!==m&&(S=E.id(),o[S]||(o[S]=!0,s.push({x:p,y:w,edge:E})),w in r?r[p].low=Math.min(r[p].low,r[w].id):(f(d,w,p),r[p].low=Math.min(r[p].low,r[w].low),r[p].id<=r[w].low&&(r[p].cutVertex=!0,l(p,w))))})}};e.forEach(function(f){if(f.isNode()){var d=f.id();d in r||(i=0,u(d,d),r[d].cutVertex=i>1)}});var h=Object.keys(r).filter(function(f){return r[f].cutVertex}).map(function(f){return e.getElementById(f)});return{cut:e.spawn(h),components:a}},pet={hopcroftTarjanBiconnected:Pw,htbc:Pw,htb:Pw,hopcroftTarjanBiconnectedComponents:Pw},Fw=function(){var e=this,r={},n=0,i=[],a=[],s=e.spawn(e),o=function l(u){a.push(u),r[u]={index:n,low:n++,explored:!1};var h=e.getElementById(u).connectedEdges().intersection(e);if(h.forEach(function(v){var x=v.target().id();x!==u&&(x in r||l(x),r[x].explored||(r[u].low=Math.min(r[u].low,r[x].low)))}),r[u].index===r[u].low){for(var f=e.spawn();;){var d=a.pop();if(f.merge(e.getElementById(d)),r[d].low=r[u].index,r[d].explored=!0,d===u)break}var p=f.edgesWith(f),m=f.merge(p);i.push(m),s=s.difference(m)}};return e.forEach(function(l){if(l.isNode()){var u=l.id();u in r||o(u)}}),{cut:s,components:i}},get={tarjanStronglyConnected:Fw,tsc:Fw,tscc:Fw,tarjanStronglyConnectedComponents:Fw},Ice={};[Xx,GZe,WZe,YZe,jZe,QZe,eJe,TJe,c1,h1,L9,BJe,QJe,net,het,det,pet,get].forEach(function(t){kr(Ice,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Oce=0,Pce=1,Fce=2,kh=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=Oce,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};kh.prototype={fulfill:function(e){return hW(this,Pce,"fulfillValue",e)},reject:function(e){return hW(this,Fce,"rejectReason",e)},then:function(e,r){var n=this,i=new kh;return n.onFulfilled.push(dW(e,i,"fulfill")),n.onRejected.push(dW(r,i,"reject")),Bce(n),i.proxy}};var hW=function(e,r,n,i){return e.state===Oce&&(e.state=r,e[n]=i,Bce(e)),e},Bce=function(e){e.state===Pce?fW(e,"onFulfilled",e.fulfillValue):e.state===Fce&&fW(e,"onRejected",e.rejectReason)},fW=function(e,r,n){if(e[r].length!==0){var i=e[r];e[r]=[];var a=function(){for(var o=0;o<i.length;o++)i[o](n)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},dW=function(e,r,n){return function(i){if(typeof e!="function")r[n].call(r,i);else{var a;try{a=e(i)}catch(s){r.reject(s);return}met(r,a)}}},met=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(ha(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(a){e.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(a){i||(i=!0,a===r?e.reject(new TypeError("circular thenable chain")):t(e,a))},function(a){i||(i=!0,e.reject(a))})}catch(a){i||e.reject(a)}return}e.fulfill(r)};kh.all=function(t){return new kh(function(e,r){for(var n=new Array(t.length),i=0,a=function(l,u){n[l]=u,i++,i===t.length&&e(n)},s=0;s<t.length;s++)(function(o){var l=t[o],u=l!=null&&l.then!=null;if(u)l.then(function(f){a(o,f)},function(f){r(f)});else{var h=l;a(o,h)}})(s)})};kh.resolve=function(t){return new kh(function(e,r){e(t)})};kh.reject=function(t){return new kh(function(e,r){r(t)})};var vv=typeof Promise<"u"?Promise:kh,D9=function(e,r,n){var i=FI(e),a=!i,s=this._private=kr({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&gi(s.complete)&&s.completes.push(s.complete),a){var o=e.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(i){var l=e.pan();s.startPan={x:l.x,y:l.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},up=D9.prototype;kr(up,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Ho(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(u,h){var f=e[u];f!=null&&(e[u]=e[h],e[h]=f)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var a=e.style[i],s=a.name,o=e.startStyle[s];e.startStyle[s]=a,e.style[i]=o}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new vv(function(i,a){n.push(function(){i()})})}});up.complete=up.completed;up.run=up.play;up.running=up.playing;var vet={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return!1;var s=i[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var s=0;s<i.length;s++){var o=i[s];o._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this,l=!a,u=!l;if(!o.styleEnabled())return this;var h=o.style();r=kr({},r,n);var f=Object.keys(r).length===0;if(f)return new D9(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=h.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var d=r.renderedPosition,p=o.pan(),m=o.zoom();r.position=kce(d,m,p)}if(l&&r.panBy!=null){var v=r.panBy,x=o.pan();r.pan={x:x.x+v.x,y:x.y+v.y}}var y=r.center||r.centre;if(l&&y!=null){var w=o.getCenterPan(y.eles,r.zoom);w!=null&&(r.pan=w)}if(l&&r.fit!=null){var S=r.fit,E=o.getFitViewport(S.eles||S.boundingBox,S.padding);E!=null&&(r.pan=E.pan,r.zoom=E.zoom)}if(l&&en(r.zoom)){var C=o.getZoomedViewport(r.zoom);C!=null?(C.zoomed&&(r.zoom=C.zoom),C.panned&&(r.pan=C.pan)):r.zoom=null}return new D9(s[0],r)}},animate:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this;if(!o.styleEnabled())return this;n&&(r=kr({},r,n));for(var l=0;l<s.length;l++){var u=s[l],h=u.animated()&&(r.queue===void 0||r.queue),f=u.animation(r,h?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<s.length;l++){for(var u=s[l],h=u._private,f=h.animation.current,d=0;d<f.length;d++){var p=f[d],m=p._private;n&&(m.duration=0)}r&&(h.animation.queue=[]),n||(h.animation.current=[])}return o.notify("draw"),this}}},yet=Array.isArray,ZT=yet,xet=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bet=/^\w*$/;function wet(t,e){if(ZT(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Qb(t)?!0:bet.test(t)||!xet.test(t)||e!=null&&t in Object(e)}var ket=wet,Eet="[object AsyncFunction]",Tet="[object Function]",Cet="[object GeneratorFunction]",Aet="[object Proxy]";function _et(t){if(!ap(t))return!1;var e=pce(t);return e==Tet||e==Cet||e==Eet||e==Aet}var Let=_et,Det=YT["__core-js_shared__"],M8=Det,pW=function(){var t=/[^.]+$/.exec(M8&&M8.keys&&M8.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ret(t){return!!pW&&pW in t}var Met=Ret,Net=Function.prototype,Iet=Net.toString;function Oet(t){if(t!=null){try{return Iet.call(t)}catch{}try{return t+""}catch{}}return""}var Pet=Oet,Fet=/[\\^$.*+?()[\]{}|]/g,Bet=/^\[object .+?Constructor\]$/,$et=Function.prototype,zet=Object.prototype,Het=$et.toString,Vet=zet.hasOwnProperty,Uet=RegExp("^"+Het.call(Vet).replace(Fet,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Get(t){if(!ap(t)||Met(t))return!1;var e=Let(t)?Uet:Bet;return e.test(Pet(t))}var Wet=Get;function qet(t,e){return t==null?void 0:t[e]}var Yet=qet;function Xet(t,e){var r=Yet(t,e);return Wet(r)?r:void 0}var qI=Xet,jet=qI(Object,"create"),Qx=jet;function Ket(){this.__data__=Qx?Qx(null):{},this.size=0}var Qet=Ket;function Zet(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Jet=Zet,ett="__lodash_hash_undefined__",ttt=Object.prototype,rtt=ttt.hasOwnProperty;function ntt(t){var e=this.__data__;if(Qx){var r=e[t];return r===ett?void 0:r}return rtt.call(e,t)?e[t]:void 0}var itt=ntt,att=Object.prototype,stt=att.hasOwnProperty;function ott(t){var e=this.__data__;return Qx?e[t]!==void 0:stt.call(e,t)}var ltt=ott,utt="__lodash_hash_undefined__";function ctt(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Qx&&e===void 0?utt:e,this}var htt=ctt;function yv(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}yv.prototype.clear=Qet;yv.prototype.delete=Jet;yv.prototype.get=itt;yv.prototype.has=ltt;yv.prototype.set=htt;var gW=yv;function ftt(){this.__data__=[],this.size=0}var dtt=ftt;function ptt(t,e){return t===e||t!==t&&e!==e}var $ce=ptt;function gtt(t,e){for(var r=t.length;r--;)if($ce(t[r][0],e))return r;return-1}var JT=gtt,mtt=Array.prototype,vtt=mtt.splice;function ytt(t){var e=this.__data__,r=JT(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():vtt.call(e,r,1),--this.size,!0}var xtt=ytt;function btt(t){var e=this.__data__,r=JT(e,t);return r<0?void 0:e[r][1]}var wtt=btt;function Stt(t){return JT(this.__data__,t)>-1}var ktt=Stt;function Ett(t,e){var r=this.__data__,n=JT(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Ttt=Ett;function xv(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xv.prototype.clear=dtt;xv.prototype.delete=xtt;xv.prototype.get=wtt;xv.prototype.has=ktt;xv.prototype.set=Ttt;var Ctt=xv,Att=qI(YT,"Map"),_tt=Att;function Ltt(){this.size=0,this.__data__={hash:new gW,map:new(_tt||Ctt),string:new gW}}var Dtt=Ltt;function Rtt(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Mtt=Rtt;function Ntt(t,e){var r=t.__data__;return Mtt(e)?r[typeof e=="string"?"string":"hash"]:r.map}var eC=Ntt;function Itt(t){var e=eC(this,t).delete(t);return this.size-=e?1:0,e}var Ott=Itt;function Ptt(t){return eC(this,t).get(t)}var Ftt=Ptt;function Btt(t){return eC(this,t).has(t)}var $tt=Btt;function ztt(t,e){var r=eC(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Htt=ztt;function bv(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}bv.prototype.clear=Dtt;bv.prototype.delete=Ott;bv.prototype.get=Ftt;bv.prototype.has=$tt;bv.prototype.set=Htt;var zce=bv,Vtt="Expected a function";function YI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Vtt);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(YI.Cache||zce),r}YI.Cache=zce;var Utt=YI,Gtt=500;function Wtt(t){var e=Utt(t,function(n){return r.size===Gtt&&r.clear(),n}),r=e.cache;return e}var qtt=Wtt,Ytt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xtt=/\\(\\)?/g,jtt=qtt(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ytt,function(r,n,i,a){e.push(i?a.replace(Xtt,"$1"):n||r)}),e}),Hce=jtt;function Ktt(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Vce=Ktt,Qtt=1/0,mW=Vm?Vm.prototype:void 0,vW=mW?mW.toString:void 0;function Uce(t){if(typeof t=="string")return t;if(ZT(t))return Vce(t,Uce)+"";if(Qb(t))return vW?vW.call(t):"";var e=t+"";return e=="0"&&1/t==-Qtt?"-0":e}var Ztt=Uce;function Jtt(t){return t==null?"":Ztt(t)}var Gce=Jtt;function ert(t,e){return ZT(t)?t:ket(t,e)?[t]:Hce(Gce(t))}var Wce=ert,trt=1/0;function rrt(t){if(typeof t=="string"||Qb(t))return t;var e=t+"";return e=="0"&&1/t==-trt?"-0":e}var XI=rrt;function nrt(t,e){e=Wce(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[XI(e[r++])];return r&&r==n?t:void 0}var irt=nrt;function art(t,e,r){var n=t==null?void 0:irt(t,e);return n===void 0?r:n}var srt=art,ort=function(){try{var t=qI(Object,"defineProperty");return t({},"",{}),t}catch{}}(),yW=ort;function lrt(t,e,r){e=="__proto__"&&yW?yW(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var urt=lrt,crt=Object.prototype,hrt=crt.hasOwnProperty;function frt(t,e,r){var n=t[e];(!(hrt.call(t,e)&&$ce(n,r))||r===void 0&&!(e in t))&&urt(t,e,r)}var drt=frt,prt=9007199254740991,grt=/^(?:0|[1-9]\d*)$/;function mrt(t,e){var r=typeof t;return e=e??prt,!!e&&(r=="number"||r!="symbol"&&grt.test(t))&&t>-1&&t%1==0&&t<e}var vrt=mrt;function yrt(t,e,r,n){if(!ap(t))return t;e=Wce(e,t);for(var i=-1,a=e.length,s=a-1,o=t;o!=null&&++i<a;){var l=XI(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=s){var h=o[l];u=n?n(h,l,o):void 0,u===void 0&&(u=ap(h)?h:vrt(e[i+1])?[]:{})}drt(o,l,u),o=o[l]}return t}var xrt=yrt;function brt(t,e,r){return t==null?t:xrt(t,e,r)}var wrt=brt;function Srt(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var krt=Srt;function Ert(t){return ZT(t)?Vce(t,XI):Qb(t)?[t]:krt(Hce(Gce(t)))}var Trt=Ert,Crt={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return e=kr({},r,e),function(i,a){var s=e,o=this,l=o.length!==void 0,u=l?o:[o],h=l?o[0]:o;if(pr(i)){var f=i.indexOf(".")!==-1,d=f&&Trt(i);if(s.allowGetting&&a===void 0){var p;return h&&(s.beforeGet(h),d&&h._private[s.field][i]===void 0?p=srt(h._private[s.field],d):p=h._private[s.field][i]),p}else if(s.allowSetting&&a!==void 0){var m=!s.immutableKeys[i];if(m){var v=nce({},i,a);s.beforeSet(o,v);for(var x=0,y=u.length;x<y;x++){var w=u[x];s.canSet(w)&&(d&&h._private[s.field][i]===void 0?wrt(w._private[s.field],d,a):w._private[s.field][i]=a)}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&en(i)){var S=i,E,C,L=Object.keys(S);s.beforeSet(o,S);for(var _=0;_<L.length;_++){E=L[_],C=S[E];var I=!s.immutableKeys[E];if(I)for(var D=0;D<u.length;D++){var F=u[D];s.canSet(F)&&(F._private[s.field][E]=C)}}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&gi(i)){var M=i;o.on(s.bindingEvent,M)}else if(s.allowGetting&&i===void 0){var B;return h&&(s.beforeGet(h),B=h._private[s.field]),B}return o}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=kr({},r,e),function(i){var a=e,s=this,o=s.length!==void 0,l=o?s:[s];if(pr(i)){for(var u=i.split(/\s+/),h=u.length,f=0;f<h;f++){var d=u[f];if(!ed(d)){var p=!a.immutableKeys[d];if(p)for(var m=0,v=l.length;m<v;m++)l[m]._private[a.field][d]=void 0}}a.triggerEvent&&s[a.triggerFnName](a.event)}else if(i===void 0){for(var x=0,y=l.length;x<y;x++)for(var w=l[x]._private[a.field],S=Object.keys(w),E=0;E<S.length;E++){var C=S[E],L=!a.immutableKeys[C];L&&(w[C]=void 0)}a.triggerEvent&&s[a.triggerFnName](a.event)}return s}}},Art={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var a=this,s=Array.prototype.slice.call(arguments,0);return new vv(function(o,l){var u=function(p){a.off.apply(a,f),o(p)},h=s.concat([u]),f=h.concat([]);a.on.apply(a,h)})}}},pn={};[vet,Crt,Art].forEach(function(t){kr(pn,t)});var _rt={animate:pn.animate(),animation:pn.animation(),animated:pn.animated(),clearQueue:pn.clearQueue(),delay:pn.delay(),delayAnimation:pn.delayAnimation(),stop:pn.stop()},U3={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(m){return n.push(m)}),n}else In(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],a=new mv(e),s=0;s<r.length;s++){for(var o=r[s],l=o._private,u=l.classes,h=!1,f=0;f<e.length;f++){var d=e[f],p=u.has(d);if(!p){h=!0;break}}h||(h=u.size!==e.length),h&&(l.classes=a,i.push(o))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){In(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=r===void 0,a=[],s=0,o=n.length;s<o;s++)for(var l=n[s],u=l._private.classes,h=!1,f=0;f<e.length;f++){var d=e[f],p=u.has(d),m=!1;r||i&&!p?(u.add(d),m=!0):(!r||i&&p)&&(u.delete(d),m=!0),!h&&m&&(a.push(l),h=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};U3.className=U3.classNames=U3.classes;var Qr={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:oa,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Qr.variable="(?:[\\w-.]|(?:\\\\"+Qr.metaChar+"))+";Qr.className="(?:[\\w-]|(?:\\\\"+Qr.metaChar+"))+";Qr.value=Qr.string+"|"+Qr.number;Qr.id=Qr.variable;(function(){var t,e,r;for(t=Qr.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Qr.comparatorOp+="|@"+e;for(t=Qr.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(Qr.comparatorOp+="|\\!"+e)})();var _n=function(){return{checks:[]}},Zt={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},R9=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return BQe(t.selector,e.selector)}),Lrt=function(){for(var t={},e,r=0;r<R9.length;r++)e=R9[r],t[e.selector]=e.matches;return t}(),Drt=function(e,r){return Lrt[e](r)},Rrt="("+R9.map(function(t){return t.selector}).join("|")+")",cg=function(e){return e.replace(new RegExp("\\\\("+Qr.metaChar+")","g"),function(r,n){return n})},Zh=function(e,r,n){e[e.length-1]=n},M9=[{name:"group",query:!0,regex:"("+Qr.group+")",populate:function(e,r,n){var i=Xl(n,1),a=i[0];r.checks.push({type:Zt.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:Rrt,populate:function(e,r,n){var i=Xl(n,1),a=i[0];r.checks.push({type:Zt.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+Qr.id+")",populate:function(e,r,n){var i=Xl(n,1),a=i[0];r.checks.push({type:Zt.ID,value:cg(a)})}},{name:"className",query:!0,regex:"\\.("+Qr.className+")",populate:function(e,r,n){var i=Xl(n,1),a=i[0];r.checks.push({type:Zt.CLASS,value:cg(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Qr.variable+")\\s*\\]",populate:function(e,r,n){var i=Xl(n,1),a=i[0];r.checks.push({type:Zt.DATA_EXIST,field:cg(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Qr.variable+")\\s*("+Qr.comparatorOp+")\\s*("+Qr.value+")\\s*\\]",populate:function(e,r,n){var i=Xl(n,3),a=i[0],s=i[1],o=i[2],l=new RegExp("^"+Qr.string+"$").exec(o)!=null;l?o=o.substring(1,o.length-1):o=parseFloat(o),r.checks.push({type:Zt.DATA_COMPARE,field:cg(a),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Qr.boolOp+")\\s*("+Qr.variable+")\\s*\\]",populate:function(e,r,n){var i=Xl(n,2),a=i[0],s=i[1];r.checks.push({type:Zt.DATA_BOOL,field:cg(s),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Qr.meta+")\\s*("+Qr.comparatorOp+")\\s*("+Qr.number+")\\s*\\]\\]",populate:function(e,r,n){var i=Xl(n,3),a=i[0],s=i[1],o=i[2];r.checks.push({type:Zt.META_COMPARE,field:cg(a),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:Qr.separator,populate:function(e,r){var n=e.currentSubject,i=e.edgeCount,a=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=i,s.compoundCount=a,e.edgeCount=0,e.compoundCount=0;var o=e[e.length++]=_n();return o}},{name:"directedEdge",separator:!0,regex:Qr.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=_n(),i=r,a=_n();return n.checks.push({type:Zt.DIRECTED_EDGE,source:i,target:a}),Zh(e,r,n),e.edgeCount++,a}else{var s=_n(),o=r,l=_n();return s.checks.push({type:Zt.NODE_SOURCE,source:o,target:l}),Zh(e,r,s),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:Qr.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=_n(),i=r,a=_n();return n.checks.push({type:Zt.UNDIRECTED_EDGE,nodes:[i,a]}),Zh(e,r,n),e.edgeCount++,a}else{var s=_n(),o=r,l=_n();return s.checks.push({type:Zt.NODE_NEIGHBOR,node:o,neighbor:l}),Zh(e,r,s),l}}},{name:"child",separator:!0,regex:Qr.child,populate:function(e,r){if(e.currentSubject==null){var n=_n(),i=_n(),a=e[e.length-1];return n.checks.push({type:Zt.CHILD,parent:a,child:i}),Zh(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=_n(),o=e[e.length-1],l=_n(),u=_n(),h=_n(),f=_n();return s.checks.push({type:Zt.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:Zt.TRUE}],f.checks.push({type:Zt.TRUE}),l.checks.push({type:Zt.PARENT,parent:f,child:h}),Zh(e,o,s),e.currentSubject=u,e.compoundCount++,h}else{var d=_n(),p=_n(),m=[{type:Zt.PARENT,parent:d,child:p}];return d.checks=r.checks,r.checks=m,e.compoundCount++,p}}},{name:"descendant",separator:!0,regex:Qr.descendant,populate:function(e,r){if(e.currentSubject==null){var n=_n(),i=_n(),a=e[e.length-1];return n.checks.push({type:Zt.DESCENDANT,ancestor:a,descendant:i}),Zh(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=_n(),o=e[e.length-1],l=_n(),u=_n(),h=_n(),f=_n();return s.checks.push({type:Zt.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:Zt.TRUE}],f.checks.push({type:Zt.TRUE}),l.checks.push({type:Zt.ANCESTOR,ancestor:f,descendant:h}),Zh(e,o,s),e.currentSubject=u,e.compoundCount++,h}else{var d=_n(),p=_n(),m=[{type:Zt.ANCESTOR,ancestor:d,descendant:p}];return d.checks=r.checks,r.checks=m,e.compoundCount++,p}}},{name:"subject",modifier:!0,regex:Qr.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return vn("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],i=n.checks[0],a=i==null?null:i.type;a===Zt.DIRECTED_EDGE?i.type=Zt.NODE_TARGET:a===Zt.UNDIRECTED_EDGE&&(i.type=Zt.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];M9.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var Mrt=function(e){for(var r,n,i,a=0;a<M9.length;a++){var s=M9[a],o=s.name,l=e.match(s.regexObj);if(l!=null){n=l,r=s,i=o;var u=l[0];e=e.substring(u.length);break}}return{expr:r,match:n,name:i,remaining:e}},Nrt=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},Irt=function(e){var r=this,n=r.inputText=e,i=r[0]=_n();for(r.length=1,n=Nrt(n);;){var a=Mrt(n);if(a.expr==null)return vn("The selector `"+e+"`is invalid"),!1;var s=a.match.slice(1),o=a.expr.populate(r,i,s);if(o===!1)return!1;if(o!=null&&(i=o),n=a.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var h=r[u];if(h.compoundCount>0&&h.edgeCount>0)return vn("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(h.edgeCount>1)return vn("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;h.edgeCount===1&&vn("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},Ort=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(h){return h??""},r=function(h){return pr(h)?'"'+h+'"':e(h)},n=function(h){return" "+h+" "},i=function(h,f){var d=h.type,p=h.value;switch(d){case Zt.GROUP:{var m=e(p);return m.substring(0,m.length-1)}case Zt.DATA_COMPARE:{var v=h.field,x=h.operator;return"["+v+n(e(x))+r(p)+"]"}case Zt.DATA_BOOL:{var y=h.operator,w=h.field;return"["+e(y)+w+"]"}case Zt.DATA_EXIST:{var S=h.field;return"["+S+"]"}case Zt.META_COMPARE:{var E=h.operator,C=h.field;return"[["+C+n(e(E))+r(p)+"]]"}case Zt.STATE:return p;case Zt.ID:return"#"+p;case Zt.CLASS:return"."+p;case Zt.PARENT:case Zt.CHILD:return a(h.parent,f)+n(">")+a(h.child,f);case Zt.ANCESTOR:case Zt.DESCENDANT:return a(h.ancestor,f)+" "+a(h.descendant,f);case Zt.COMPOUND_SPLIT:{var L=a(h.left,f),_=a(h.subject,f),I=a(h.right,f);return L+(L.length>0?" ":"")+_+I}case Zt.TRUE:return""}},a=function(h,f){return h.checks.reduce(function(d,p,m){return d+(f===h&&m===0?"$":"")+i(p,f)},"")},s="",o=0;o<this.length;o++){var l=this[o];s+=a(l,l.subject),this.length>1&&o<this.length-1&&(s+=", ")}return this.toStringCache=s,s},Prt={parse:Irt,toString:Ort},qce=function(e,r,n){var i,a=pr(e),s=$t(e),o=pr(n),l,u,h=!1,f=!1,d=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),f=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),h=!0),(a||o||h)&&(l=!a&&!s?"":""+e,u=""+n),h&&(e=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":i=l.indexOf(u)>=0;break;case"$=":i=l.indexOf(u,l.length-u.length)>=0;break;case"^=":i=l.indexOf(u)===0;break;case"=":i=e===n;break;case">":d=!0,i=e>n;break;case">=":d=!0,i=e>=n;break;case"<":d=!0,i=e<n;break;case"<=":d=!0,i=e<=n;break;default:i=!1;break}return f&&(e!=null||!d)&&(i=!i),i},Frt=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},Brt=function(e){return e!==void 0},jI=function(e,r){return e.data(r)},$rt=function(e,r){return e[r]()},Ti=[],Qn=function(e,r){return e.checks.every(function(n){return Ti[n.type](n,r)})};Ti[Zt.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};Ti[Zt.STATE]=function(t,e){var r=t.value;return Drt(r,e)};Ti[Zt.ID]=function(t,e){var r=t.value;return e.id()===r};Ti[Zt.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};Ti[Zt.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return qce($rt(e,r),n,i)};Ti[Zt.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return qce(jI(e,r),n,i)};Ti[Zt.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return Frt(jI(e,r),n)};Ti[Zt.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,Brt(jI(e,r))};Ti[Zt.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),a=e.target();return Qn(r,i)&&Qn(n,a)||Qn(n,i)&&Qn(r,a)};Ti[Zt.NODE_NEIGHBOR]=function(t,e){return Qn(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Qn(t.neighbor,r)})};Ti[Zt.DIRECTED_EDGE]=function(t,e){return Qn(t.source,e.source())&&Qn(t.target,e.target())};Ti[Zt.NODE_SOURCE]=function(t,e){return Qn(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Qn(t.target,r)})};Ti[Zt.NODE_TARGET]=function(t,e){return Qn(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Qn(t.source,r)})};Ti[Zt.CHILD]=function(t,e){return Qn(t.child,e)&&Qn(t.parent,e.parent())};Ti[Zt.PARENT]=function(t,e){return Qn(t.parent,e)&&e.children().some(function(r){return Qn(t.child,r)})};Ti[Zt.DESCENDANT]=function(t,e){return Qn(t.descendant,e)&&e.ancestors().some(function(r){return Qn(t.ancestor,r)})};Ti[Zt.ANCESTOR]=function(t,e){return Qn(t.ancestor,e)&&e.descendants().some(function(r){return Qn(t.descendant,r)})};Ti[Zt.COMPOUND_SPLIT]=function(t,e){return Qn(t.subject,e)&&Qn(t.left,e)&&Qn(t.right,e)};Ti[Zt.TRUE]=function(){return!0};Ti[Zt.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};Ti[Zt.FILTER]=function(t,e){var r=t.value;return r(e)};var zrt=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Zt.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(a){for(var s=0;s<r.length;s++){var o=r[s];if(Qn(o,a))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},Hrt=function(e){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(Qn(i,e))return!0}return!1},Vrt={matches:Hrt,filter:zrt},rd=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||pr(e)&&e.match(/^\s*$/)||(Ho(e)?this.addQuery({checks:[{type:Zt.COLLECTION,value:e.collection()}]}):gi(e)?this.addQuery({checks:[{type:Zt.FILTER,value:e}]}):pr(e)?this.parse(e)||(this.invalid=!0):Ei("A selector must be created from a string; found "))},nd=rd.prototype;[Prt,Vrt].forEach(function(t){return kr(nd,t)});nd.text=function(){return this.inputText};nd.size=function(){return this.length};nd.eq=function(t){return this[t]};nd.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};nd.addQuery=function(t){this[this.length++]=t};nd.selector=nd.toString;var Of={allAre:function(e){var r=new rd(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new rd(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};Of.allAreNeighbours=Of.allAreNeighbors;Of.has=Of.contains;Of.equal=Of.equals=Of.same;var wl=function(e,r){return function(i,a,s,o){var l=i,u=this,h;if(l==null?h="":Ho(l)&&l.length===1&&(h=l.id()),u.length===1&&h){var f=u[0]._private,d=f.traversalCache=f.traversalCache||{},p=d[r]=d[r]||[],m=sp(h),v=p[m];return v||(p[m]=e.call(u,i,a,s,o))}else return e.call(u,i,a,s,o)}},Wm={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var a=this[i],s=a._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];r.push(a)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n],a=i.parents();r=r||a,r=r.intersect(a)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:wl(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,a=0;a<i.length;a++)e.push(i[a]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(i){for(var a=0;a<i.length;a++){var s=i[a];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function KI(t,e,r,n){for(var i=[],a=new mv,s=t.cy(),o=s.hasCompoundNodes(),l=0;l<t.length;l++){var u=t[l];r?i.push(u):o&&n(i,a,u)}for(;i.length>0;){var h=i.shift();e(h),a.add(h.id()),o&&n(i,a,h)}return t}function Yce(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];e.has(a.id())||t.push(a)}}Wm.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return KI(this,t,e,Yce)};function Xce(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}Wm.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return KI(this,t,e,Xce)};function Urt(t,e,r){Xce(t,e,r),Yce(t,e,r)}Wm.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return KI(this,t,e,Urt)};Wm.ancestors=Wm.parents;var Zx,jce;Zx=jce={data:pn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:pn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:pn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:pn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:pn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:pn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Zx.attr=Zx.data;Zx.removeAttr=Zx.removeData;var Grt=jce,tC={};function N8(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,s=0;s<a.length;s++){var o=a[s];!e&&o.isLoop()||(n+=t(i,o))}return n}else return}}kr(tC,{degree:N8(function(t,e){return e.source().same(e.target())?2:1}),indegree:N8(function(t,e){return e.target().same(t)?1:0}),outdegree:N8(function(t,e){return e.source().same(t)?1:0})});function hg(t,e){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var s=i[a],o=s[t](r);o!==void 0&&(n===void 0||e(o,n))&&(n=o)}return n}}kr(tC,{minDegree:hg("degree",function(t,e){return t<e}),maxDegree:hg("degree",function(t,e){return t>e}),minIndegree:hg("indegree",function(t,e){return t<e}),maxIndegree:hg("indegree",function(t,e){return t>e}),minOutdegree:hg("outdegree",function(t,e){return t<e}),maxOutdegree:hg("outdegree",function(t,e){return t>e})});kr(tC,{totalDegree:function(e){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(e);return r}});var fu,Kce,Qce=function(e,r,n){for(var i=0;i<e.length;i++){var a=e[i];if(!a.locked()){var s=a._private.position,o={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};a.isParent()&&!(o.x===0&&o.y===0)&&a.children().shift(o,n),a.dirtyBoundingBoxCache()}}},xW={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Qce(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};fu=Kce={position:pn.data(xW),silentPosition:pn.data(kr({},xW,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Qce(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(en(e))r?this.silentPosition(e):this.position(e);else if(gi(e)){var n=e,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var s=this[a],o=void 0;(o=n(s,a))&&(r?s.silentPosition(o):s.position(o))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var i;if(en(e)?(i={x:$t(e.x)?e.x:0,y:$t(e.y)?e.y:0},n=r):pr(e)&&$t(r)&&(i={x:0,y:0},i[e]=r),i!=null){var a=this.cy();a.startBatch();for(var s=0;s<this.length;s++){var o=this[s];if(!(a.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var l=o.position(),u={x:l.x+i.x,y:l.y+i.y};n?o.silentPosition(u):o.position(u)}}a.endBatch()}return this},silentShift:function(e,r){return en(e)?this.shift(e,!0):pr(e)&&$t(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],i=this.cy(),a=i.zoom(),s=i.pan(),o=en(e)?e:void 0,l=o!==void 0||r!==void 0&&pr(e);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var h=this[u];r!==void 0?h.position(e,(r-s[e])/a):o!==void 0&&h.position(kce(o,a,s))}else{var f=n.position();return o=KT(f,a,s),e===void 0?o:o[e]}else if(!l)return;return this},relativePosition:function(e,r){var n=this[0],i=this.cy(),a=en(e)?e:void 0,s=a!==void 0||r!==void 0&&pr(e),o=i.hasCompoundNodes();if(n&&n.isNode())if(s)for(var l=0;l<this.length;l++){var u=this[l],h=o?u.parent():null,f=h&&h.length>0,d=f;f&&(h=h[0]);var p=d?h.position():{x:0,y:0};r!==void 0?u.position(e,r+p[e]):a!==void 0&&u.position({x:a.x+p.x,y:a.y+p.y})}else{var m=n.position(),v=o?n.parent():null,x=v&&v.length>0,y=x;x&&(v=v[0]);var w=y?v.position():{x:0,y:0};return a={x:m.x-w.x,y:m.y-w.y},e===void 0?a:a[e]}else if(!s)return;return this}};fu.modelPosition=fu.point=fu.position;fu.modelPositions=fu.points=fu.positions;fu.renderedPoint=fu.renderedPosition;fu.relativePoint=fu.relativePosition;var Wrt=Kce,f1,xd;f1=xd={};xd.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),a=e.x1*n+i.x,s=e.x2*n+i.x,o=e.y1*n+i.y,l=e.y2*n+i.y;return{x1:a,x2:s,y1:o,y2:l,w:s-a,h:l-o}};xd.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};xd.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,l=s.children(),u=s.pstyle("compound-sizing-wrt-labels").value==="include",h={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},f=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),d=o.position;(f.w===0||f.h===0)&&(f={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},f.x1=d.x-f.w/2,f.x2=d.x+f.w/2,f.y1=d.y-f.h/2,f.y2=d.y+f.h/2);function p(D,F,M){var B=0,H=0,R=F+M;return D>0&&R>0&&(B=F/R*D,H=M/R*D),{biasDiff:B,biasComplementDiff:H}}function m(D,F,M,B){if(M.units==="%")switch(B){case"width":return D>0?M.pfValue*D:0;case"height":return F>0?M.pfValue*F:0;case"average":return D>0&&F>0?M.pfValue*(D+F)/2:0;case"min":return D>0&&F>0?D>F?M.pfValue*F:M.pfValue*D:0;case"max":return D>0&&F>0?D>F?M.pfValue*D:M.pfValue*F:0;default:return 0}else return M.units==="px"?M.pfValue:0}var v=h.width.left.value;h.width.left.units==="px"&&h.width.val>0&&(v=v*100/h.width.val);var x=h.width.right.value;h.width.right.units==="px"&&h.width.val>0&&(x=x*100/h.width.val);var y=h.height.top.value;h.height.top.units==="px"&&h.height.val>0&&(y=y*100/h.height.val);var w=h.height.bottom.value;h.height.bottom.units==="px"&&h.height.val>0&&(w=w*100/h.height.val);var S=p(h.width.val-f.w,v,x),E=S.biasDiff,C=S.biasComplementDiff,L=p(h.height.val-f.h,y,w),_=L.biasDiff,I=L.biasComplementDiff;o.autoPadding=m(f.w,f.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(f.w,h.width.val),d.x=(-E+f.x1+f.x2+C)/2,o.autoHeight=Math.max(f.h,h.height.val),d.y=(-_+f.y1+f.y2+I)/2}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||t)&&(r(i),e.batching()||(a.compoundBoundsClean=!0))}return this};var dl=function(e){return e===1/0||e===-1/0?0:e},Ql=function(e,r,n,i,a){i-r===0||a-n===0||r==null||n==null||i==null||a==null||(e.x1=r<e.x1?r:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},jd=function(e,r){return r==null?e:Ql(e,r.x1,r.y1,r.x2,r.y2)},Iy=function(e,r,n){return eu(e,r,n)},Bw=function(e,r,n){if(!r.cy().headless()){var i=r._private,a=i.rstyle,s=a.arrowWidth/2,o=r.pstyle(n+"-arrow-shape").value,l,u;if(o!=="none"){n==="source"?(l=a.srcX,u=a.srcY):n==="target"?(l=a.tgtX,u=a.tgtY):(l=a.midX,u=a.midY);var h=i.arrowBounds=i.arrowBounds||{},f=h[n]=h[n]||{};f.x1=l-s,f.y1=u-s,f.x2=l+s,f.y2=u+s,f.w=f.x2-f.x1,f.h=f.y2-f.y1,H3(f,1),Ql(e,f.x1,f.y1,f.x2,f.y2)}}},I8=function(e,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var a=r._private,s=a.rstyle,o=r.pstyle(i+"label").strValue;if(o){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),h=Iy(s,"labelWidth",n),f=Iy(s,"labelHeight",n),d=Iy(s,"labelX",n),p=Iy(s,"labelY",n),m=r.pstyle(i+"text-margin-x").pfValue,v=r.pstyle(i+"text-margin-y").pfValue,x=r.isEdge(),y=r.pstyle(i+"text-rotation"),w=r.pstyle("text-outline-width").pfValue,S=r.pstyle("text-border-width").pfValue,E=S/2,C=r.pstyle("text-background-padding").pfValue,L=2,_=f,I=h,D=I/2,F=_/2,M,B,H,R;if(x)M=d-D,B=d+D,H=p-F,R=p+F;else{switch(l.value){case"left":M=d-I,B=d;break;case"center":M=d-D,B=d+D;break;case"right":M=d,B=d+I;break}switch(u.value){case"top":H=p-_,R=p;break;case"center":H=p-F,R=p+F;break;case"bottom":H=p,R=p+_;break}}var O=m-Math.max(w,E)-C-L,P=m+Math.max(w,E)+C+L,z=v-Math.max(w,E)-C-L,$=v+Math.max(w,E)+C+L;M+=O,B+=P,H+=z,R+=$;var V=n||"main",X=a.labelBounds,q=X[V]=X[V]||{};q.x1=M,q.y1=H,q.x2=B,q.y2=R,q.w=B-M,q.h=R-H,q.leftPad=O,q.rightPad=P,q.topPad=z,q.botPad=$;var Y=x&&y.strValue==="autorotate",U=y.pfValue!=null&&y.pfValue!==0;if(Y||U){var Z=Y?Iy(a.rstyle,"labelAngle",n):y.pfValue,pe=Math.cos(Z),ne=Math.sin(Z),ge=(M+B)/2,ye=(H+R)/2;if(!x){switch(l.value){case"left":ge=B;break;case"right":ge=M;break}switch(u.value){case"top":ye=R;break;case"bottom":ye=H;break}}var J=function(xe,le){return xe=xe-ge,le=le-ye,{x:xe*pe-le*ne+ge,y:xe*ne+le*pe+ye}},se=J(M,H),oe=J(M,R),fe=J(B,H),me=J(B,R);M=Math.min(se.x,oe.x,fe.x,me.x),B=Math.max(se.x,oe.x,fe.x,me.x),H=Math.min(se.y,oe.y,fe.y,me.y),R=Math.max(se.y,oe.y,fe.y,me.y)}var be=V+"Rot",ce=X[be]=X[be]||{};ce.x1=M,ce.y1=H,ce.x2=B,ce.y2=R,ce.w=B-M,ce.h=R-H,Ql(e,M,H,B,R),Ql(a.labelBounds.all,M,H,B,R)}return e}},qrt=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,i=r.pstyle("outline-width").value;if(n>0&&i>0){var a=r.pstyle("outline-offset").value,s=r.pstyle("shape").value,o=i+a,l=(e.w+o*2)/e.w,u=(e.h+o*2)/e.h,h=0,f=0;["diamond","pentagon","round-triangle"].includes(s)?(l=(e.w+o*2.4)/e.w,f=-o/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(s)?l=(e.w+o*2.4)/e.w:s==="star"?(l=(e.w+o*2.8)/e.w,u=(e.h+o*2.6)/e.h,f=-o/3.8):s==="triangle"?(l=(e.w+o*2.8)/e.w,u=(e.h+o*2.4)/e.h,f=-o/1.4):s==="vee"&&(l=(e.w+o*4.4)/e.w,u=(e.h+o*3.8)/e.h,f=-o*.5);var d=e.h*u-e.h,p=e.w*l-e.w;if(V3(e,[Math.ceil(d/2),Math.ceil(p/2)]),h!=0||f!==0){var m=hJe(e,h,f);Tce(e,m)}}}},Yrt=function(e,r){var n=e._private.cy,i=n.styleEnabled(),a=n.headless(),s=Eo(),o=e._private,l=e.isNode(),u=e.isEdge(),h,f,d,p,m,v,x=o.rstyle,y=l&&i?e.pstyle("bounds-expansion").pfValue:[0],w=function(Ge){return Ge.pstyle("display").value!=="none"},S=!i||w(e)&&(!u||w(e.source())&&w(e.target()));if(S){var E=0,C=0;i&&r.includeOverlays&&(E=e.pstyle("overlay-opacity").value,E!==0&&(C=e.pstyle("overlay-padding").value));var L=0,_=0;i&&r.includeUnderlays&&(L=e.pstyle("underlay-opacity").value,L!==0&&(_=e.pstyle("underlay-padding").value));var I=Math.max(C,_),D=0,F=0;if(i&&(D=e.pstyle("width").pfValue,F=D/2),l&&r.includeNodes){var M=e.position();m=M.x,v=M.y;var B=e.outerWidth(),H=B/2,R=e.outerHeight(),O=R/2;h=m-H,f=m+H,d=v-O,p=v+O,Ql(s,h,d,f,p),i&&r.includeOutlines&&qrt(s,e)}else if(u&&r.includeEdges)if(i&&!a){var P=e.pstyle("curve-style").strValue;if(h=Math.min(x.srcX,x.midX,x.tgtX),f=Math.max(x.srcX,x.midX,x.tgtX),d=Math.min(x.srcY,x.midY,x.tgtY),p=Math.max(x.srcY,x.midY,x.tgtY),h-=F,f+=F,d-=F,p+=F,Ql(s,h,d,f,p),P==="haystack"){var z=x.haystackPts;if(z&&z.length===2){if(h=z[0].x,d=z[0].y,f=z[1].x,p=z[1].y,h>f){var $=h;h=f,f=$}if(d>p){var V=d;d=p,p=V}Ql(s,h-F,d-F,f+F,p+F)}}else if(P==="bezier"||P==="unbundled-bezier"||P.endsWith("segments")||P.endsWith("taxi")){var X;switch(P){case"bezier":case"unbundled-bezier":X=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":X=x.linePts;break}if(X!=null)for(var q=0;q<X.length;q++){var Y=X[q];h=Y.x-F,f=Y.x+F,d=Y.y-F,p=Y.y+F,Ql(s,h,d,f,p)}}}else{var U=e.source(),Z=U.position(),pe=e.target(),ne=pe.position();if(h=Z.x,f=ne.x,d=Z.y,p=ne.y,h>f){var ge=h;h=f,f=ge}if(d>p){var ye=d;d=p,p=ye}h-=F,f+=F,d-=F,p+=F,Ql(s,h,d,f,p)}if(i&&r.includeEdges&&u&&(Bw(s,e,"mid-source"),Bw(s,e,"mid-target"),Bw(s,e,"source"),Bw(s,e,"target")),i){var J=e.pstyle("ghost").value==="yes";if(J){var se=e.pstyle("ghost-offset-x").pfValue,oe=e.pstyle("ghost-offset-y").pfValue;Ql(s,s.x1+se,s.y1+oe,s.x2+se,s.y2+oe)}}var fe=o.bodyBounds=o.bodyBounds||{};ZG(fe,s),V3(fe,y),H3(fe,1),i&&(h=s.x1,f=s.x2,d=s.y1,p=s.y2,Ql(s,h-I,d-I,f+I,p+I));var me=o.overlayBounds=o.overlayBounds||{};ZG(me,s),V3(me,y),H3(me,1);var be=o.labelBounds=o.labelBounds||{};be.all!=null?cJe(be.all):be.all=Eo(),i&&r.includeLabels&&(r.includeMainLabels&&I8(s,e,null),u&&(r.includeSourceLabels&&I8(s,e,"source"),r.includeTargetLabels&&I8(s,e,"target")))}return s.x1=dl(s.x1),s.y1=dl(s.y1),s.x2=dl(s.x2),s.y2=dl(s.y2),s.w=dl(s.x2-s.x1),s.h=dl(s.y2-s.y1),s.w>0&&s.h>0&&S&&(V3(s,y),H3(s,1)),s},Zce=function(e){var r=0,n=function(s){return(s?1:0)<<r++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},Jce=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),i=function(s){return Math.round(s)};return RZe([i(r.x),i(r.y),i(n.x),i(n.y)])}else return 0},bW=function(e,r){var n=e._private,i,a=e.isEdge(),s=r==null?wW:Zce(r),o=s===wW,l=Jce(e),u=n.bbCachePosKey===l,h=r.useCache&&u,f=function(v){return v._private.bbCache==null||v._private.styleDirty},d=!h||f(e)||a&&(f(e.source())||f(e.target()));if(d?(u||e.recalculateRenderedStyle(h),i=Yrt(e,Jx),n.bbCache=i,n.bbCachePosKey=l):i=n.bbCache,!o){var p=e.isNode();i=Eo(),(r.includeNodes&&p||r.includeEdges&&!p)&&(r.includeOverlays?jd(i,n.overlayBounds):jd(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!a||r.includeSourceLabels&&r.includeTargetLabels)?jd(i,n.labelBounds.all):(r.includeMainLabels&&jd(i,n.labelBounds.mainRot),r.includeSourceLabels&&jd(i,n.labelBounds.sourceRot),r.includeTargetLabels&&jd(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Jx={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},wW=Zce(Jx),SW=ja(Jx);xd.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=Jx:t=SW(t),e=bW(this[0],t);else{e=Eo(),t=t||Jx;var r=SW(t),n=this,i=n.cy(),a=i.styleEnabled();if(a)for(var s=0;s<n.length;s++){var o=n[s],l=o._private,u=Jce(o),h=l.bbCachePosKey===u,f=r.useCache&&h&&!l.styleDirty;o.recalculateRenderedStyle(f)}this.updateCompoundBounds(!t.useCache);for(var d=0;d<n.length;d++){var p=n[d];jd(e,bW(p,r))}}return e.x1=dl(e.x1),e.y1=dl(e.y1),e.x2=dl(e.x2),e.y2=dl(e.y2),e.w=dl(e.x2-e.x1),e.h=dl(e.y2-e.y1),e};xd.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};xd.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(u){return u.isParent()}),e=e.not(i)),en(t)){var a=t;t=function(){return a}}var s=function(h,f){return h._private.bbAtOldPos=t(h,f)},o=function(h){return h._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var l=uJe(this.boundingBox({useCache:!1}));return e.silentPositions(o),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),l};f1.boundingbox=f1.bb=f1.boundingBox;f1.renderedBoundingbox=f1.renderedBoundingBox;var Xrt=xd,u2,Jb;u2=Jb={};var ehe=function(e){e.uppercaseName=WG(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=WG(e.outerName),u2[e.name]=function(){var n=this[0],i=n._private,a=i.cy,s=a._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var o=n.pstyle(e.name);switch(o.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return o.pfValue}}else return 1},u2["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,a=i.cy,s=a._private.styleEnabled;if(n)if(s){var o=n[e.name](),l=n.pstyle("border-width").pfValue,u=2*n.padding();return o+l+u}else return 1},u2["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},u2["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};ehe({name:"width"});ehe({name:"height"});Jb.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};Jb.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};Jb.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var jrt=Jb,Krt=function(e,r){if(e.isEdge())return r(e)},Qrt=function(e,r){if(e.isEdge()){var n=e.cy();return KT(r(e),n.zoom(),n.pan())}},Zrt=function(e,r){if(e.isEdge()){var n=e.cy(),i=n.pan(),a=n.zoom();return r(e).map(function(s){return KT(s,a,i)})}},Jrt=function(e){return e.renderer().getControlPoints(e)},ent=function(e){return e.renderer().getSegmentPoints(e)},tnt=function(e){return e.renderer().getSourceEndpoint(e)},rnt=function(e){return e.renderer().getTargetEndpoint(e)},nnt=function(e){return e.renderer().getEdgeMidpoint(e)},kW={controlPoints:{get:Jrt,mult:!0},segmentPoints:{get:ent,mult:!0},sourceEndpoint:{get:tnt},targetEndpoint:{get:rnt},midpoint:{get:nnt}},int=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},ant=Object.keys(kW).reduce(function(t,e){var r=kW[e],n=int(e);return t[e]=function(){return Krt(this,r.get)},r.mult?t[n]=function(){return Zrt(this,r.get)}:t[n]=function(){return Qrt(this,r.get)},t},{}),snt=kr({},Wrt,Xrt,jrt,ant);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var the=function(e,r){this.recycle(e,r)};function Oy(){return!1}function $w(){return!0}the.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Oy,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?$w:Oy):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*i+a.x,y:n.y*i+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=$w;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=$w;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=$w,this.stopPropagation()},isDefaultPrevented:Oy,isPropagationStopped:Oy,isImmediatePropagationStopped:Oy};var rhe=/^([^.]+)(\.(?:[^.]+))?$/,ont=".*",nhe={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},EW=Object.keys(nhe),lnt={};function rC(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lnt,e=arguments.length>1?arguments[1]:void 0,r=0;r<EW.length;r++){var n=EW[r];this[n]=t[n]||nhe[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var id=rC.prototype,ihe=function(e,r,n,i,a,s,o){gi(i)&&(a=i,i=null),o&&(s==null?s=o:s=kr({},s,o));for(var l=In(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var h=l[u];if(!ed(h)){var f=h.match(rhe);if(f){var d=f[1],p=f[2]?f[2]:null,m=r(e,h,d,p,i,a,s);if(m===!1)break}}}},TW=function(e,r){return e.addEventFields(e.context,r),new the(r.type,r)},unt=function(e,r,n){if(AQe(n)){r(e,n);return}else if(en(n)){r(e,TW(e,n));return}for(var i=In(n)?n:n.split(/\s+/),a=0;a<i.length;a++){var s=i[a];if(!ed(s)){var o=s.match(rhe);if(o){var l=o[1],u=o[2]?o[2]:null,h=TW(e,{type:l,namespace:u,target:e.context});r(e,h)}}}};id.on=id.addListener=function(t,e,r,n,i){return ihe(this,function(a,s,o,l,u,h,f){gi(h)&&a.listeners.push({event:s,callback:h,type:o,namespace:l,qualifier:u,conf:f})},t,e,r,n,i),this};id.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};id.removeListener=id.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=PZe(this.listeners));for(var a=this.listeners,s=function(u){var h=a[u];ihe(i,function(f,d,p,m,v,x){if((h.type===p||t==="*")&&(!m&&h.namespace!==".*"||h.namespace===m)&&(!v||f.qualifierCompare(h.qualifier,v))&&(!x||h.callback===x))return a.splice(u,1),!1},t,e,r,n)},o=a.length-1;o>=0;o--)s(o);return this};id.removeAllListeners=function(){return this.removeListener("*")};id.emit=id.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,In(e)||(e=[e]),unt(this,function(a,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],i=n.length);for(var o=function(h){var f=n[h];if(f.type===s.type&&(!f.namespace||f.namespace===s.namespace||f.namespace===ont)&&a.eventMatches(a.context,f,s)){var d=[s];e!=null&&BZe(d,e),a.beforeEmit(a.context,f,s),f.conf&&f.conf.one&&(a.listeners=a.listeners.filter(function(v){return v!==f}));var p=a.callbackContext(a.context,f,s),m=f.callback.apply(p,d);a.afterEmit(a.context,f,s),m===!1&&(s.stopPropagation(),s.preventDefault())}},l=0;l<i;l++)o(l);a.bubble(a.context)&&!s.isPropagationStopped()&&a.parent(a.context).emit(s,e)},t),this.emitting--,this};var cnt={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&Kb(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},zw=function(e){return pr(e)?new rd(e):e},ahe={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new rC(cnt,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var i=zw(r),a=0;a<this.length;a++){var s=this[a];s.emitter().on(e,i,n)}return this},removeListener:function(e,r,n){for(var i=zw(r),a=0;a<this.length;a++){var s=this[a];s.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var i=zw(r),a=0;a<this.length;a++){var s=this[a];s.emitter().one(e,i,n)}return this},once:function(e,r,n){for(var i=zw(r),a=0;a<this.length;a++){var s=this[a];s.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};pn.eventAliasesOn(ahe);var she={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):r.push(i)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(pr(e)||Ho(e))return new rd(e).filter(this);if(gi(e)){for(var n=this.spawn(),i=this,a=0;a<i.length;a++){var s=i[a],o=r?e.apply(r,[s,a,i]):e(s,a,i);o&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){pr(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],a=e.has(i);a||r.push(i)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(pr(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),i=this,a=e,s=this.length<e.length,o=s?i:a,l=s?a:i,u=0;u<o.length;u++){var h=o[u];l.has(h)&&n.push(h)}return n},xor:function(e){var r=this._private.cy;pr(e)&&(e=r.$(e));var n=this.spawn(),i=this,a=e,s=function(l,u){for(var h=0;h<l.length;h++){var f=l[h],d=f._private.data.id,p=u.hasElementWithId(d);p||n.push(f)}};return s(i,a),s(a,i),n},diff:function(e){var r=this._private.cy;pr(e)&&(e=r.$(e));var n=this.spawn(),i=this.spawn(),a=this.spawn(),s=this,o=e,l=function(h,f,d){for(var p=0;p<h.length;p++){var m=h[p],v=m._private.data.id,x=f.hasElementWithId(v);x?a.merge(m):d.push(m)}};return l(s,o,n),l(o,s,i),{left:n,right:i,both:a}},add:function(e){var r=this._private.cy;if(!e)return this;if(pr(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),a=0;a<e.length;a++){var s=e[a],o=!this.has(s);o&&i.push(s)}return i},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&pr(e)){var i=e;e=n.mutableElements().filter(i)}for(var a=r.map,s=0;s<e.length;s++){var o=e[s],l=o._private.data.id,u=!a.has(l);if(u){var h=this.length++;this[h]=o,a.set(l,{ele:o,index:h})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),i=this._private,a=i.map;this[e]=void 0,a.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var o=this.length-1,l=this[o],u=l._private.data.id;this[o]=void 0,this[e]=l,a.set(u,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,i=r.map,a=i.get(n);if(!a)return this;var s=a.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&pr(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],i=this,a=0;a<i.length;a++){var s=i[a],o=r?e.apply(r,[s,a,i]):e(s,a,i);n.push(o)}return n},reduce:function(e,r){for(var n=r,i=this,a=0;a<i.length;a++)n=e(n,i[a],a,i);return n},max:function(e,r){for(var n=-1/0,i,a=this,s=0;s<a.length;s++){var o=a[s],l=r?e.apply(r,[o,s,a]):e(o,s,a);l>n&&(n=l,i=o)}return{value:n,ele:i}},min:function(e,r){for(var n=1/0,i,a=this,s=0;s<a.length;s++){var o=a[s],l=r?e.apply(r,[o,s,a]):e(o,s,a);l<n&&(n=l,i=o)}return{value:n,ele:i}}},an=she;an.u=an["|"]=an["+"]=an.union=an.or=an.add;an["\\"]=an["!"]=an["-"]=an.difference=an.relativeComplement=an.subtract=an.not;an.n=an["&"]=an["."]=an.and=an.intersection=an.intersect;an["^"]=an["(+)"]=an["(-)"]=an.symmetricDifference=an.symdiff=an.xor;an.fnFilter=an.filterFn=an.stdFilter=an.filter;an.complement=an.abscomp=an.absoluteComplement;var hnt={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},ohe=function(e,r){var n=e.cy(),i=n.hasCompoundNodes();function a(h){var f=h.pstyle("z-compound-depth");return f.value==="auto"?i?h.zDepth():0:f.value==="bottom"?-1:f.value==="top"?$I:0}var s=a(e)-a(r);if(s!==0)return s;function o(h){var f=h.pstyle("z-index-compare");return f.value==="auto"&&h.isNode()?1:0}var l=o(e)-o(r);if(l!==0)return l;var u=e.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:e.poolIndex()-r.poolIndex()},Sk={forEach:function(e,r){if(gi(e))for(var n=this.length,i=0;i<n;i++){var a=this[i],s=r?e.apply(r,[a,i,this]):e(a,i,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],i=this.length;r==null&&(r=i),e==null&&(e=0),e<0&&(e=i+e),r<0&&(r=i+r);for(var a=e;a>=0&&a<r&&a<i;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!gi(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(ohe)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var i=r.data.parent?e.parents().size():0;return e.isParent()?i:$I-1}else{var a=r.source,s=r.target,o=a.zDepth(),l=s.zDepth();return Math.max(o,l,0)}}}};Sk.each=Sk.forEach;var fnt=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":ha(Symbol))!=e&&ha(Symbol.iterator)!=e;r&&(Sk[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},a=0,s=this.length;return nce({next:function(){return a<s?i.value=n[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};fnt();var dnt=ja({nodeDimensionsIncludeLabels:!1}),G3={layoutDimensions:function(e){e=dnt(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var i=this.nodes().filter(function(C){return!C.isParent()}),a=this.cy(),s=r.eles,o=function(L){return L.id()},l=Wx(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=function(L,_,I){var D={x:_.x1+_.w/2,y:_.y1+_.h/2},F={x:(I.x-D.x)*L,y:(I.y-D.y)*L};return{x:D.x+F.x,y:D.y+F.y}},h=r.spacingFactor&&r.spacingFactor!==1,f=function(){if(!h)return null;for(var L=Eo(),_=0;_<i.length;_++){var I=i[_],D=l(I,_);fJe(L,D.x,D.y)}return L},d=f(),p=Wx(function(C,L){var _=l(C,L);if(h){var I=Math.abs(r.spacingFactor);_=u(I,d,_)}return r.transform!=null&&(_=r.transform(C,_)),_},o);if(r.animate){for(var m=0;m<i.length;m++){var v=i[m],x=p(v,m),y=r.animateFilter==null||r.animateFilter(v,m);if(y){var w=v.animation({position:x,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(w)}else v.position(x)}if(r.fit){var S=a.animation({fit:{boundingBox:s.boundingBoxAt(p),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(S)}else if(r.zoom!==void 0&&r.pan!==void 0){var E=a.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(E)}e.animations.forEach(function(C){return C.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),vv.all(e.animations.map(function(C){return C.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(p),r.fit&&a.fit(r.eles,r.padding),r.zoom!=null&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(kr({},e,{eles:this}))}};G3.createLayout=G3.makeLayout=G3.layout;function lhe(t,e,r){var n=r._private,i=n.styleCache=n.styleCache||[],a;return(a=i[t])!=null||(a=i[t]=e(r)),a}function nC(t,e){return t=sp(t),function(n){return lhe(t,e,n)}}function iC(t,e){t=sp(t);var r=function(i){return e.call(i)};return function(){var i=this[0];if(i)return lhe(t,r,i)}}var Va={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(a){return a._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),a=this;e=!!(e||e===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=a;return e?s.emitAndNotify("style"):s.emit("style"),a.forEach(function(o){return o._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){this.cleanStyle();var a=n._private.style[e];return a??(r?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(en(e)){var s=e;a.applyBypass(this,s,i),this.emitAndNotify("style")}else if(pr(e))if(r===void 0){var o=this[0];return o?a.getStylePropertyValue(o,e):void 0}else a.applyBypass(this,e,r,i),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),a=this;if(e===void 0)for(var s=0;s<a.length;s++){var o=a[s];i.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var l=0;l<a.length;l++){var u=a[l];i.removeBypasses(u,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,a=n.pstyle("opacity").value;if(!r)return a;var s=i.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++){var l=s[o],u=l.pstyle("opacity").value;a=u*a}return a}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function O8(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!e(a))return!1}return!0}function QI(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],s=i.hasCompoundNodes();if(a){var o=a._private;if(!e(a))return!1;if(a.isNode())return!s||O8(a,n);var l=o.source,u=o.target;return r(l)&&(!s||O8(l,r))&&(l===u||r(u)&&(!s||O8(u,r)))}}}var wv=nC("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Va.takesUpSpace=iC("takesUpSpace",QI({ok:wv}));var pnt=nC("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&wv(t)}),gnt=nC("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&wv(t)});Va.interactive=iC("interactive",QI({ok:pnt,parentOk:gnt,edgeOkViaNode:wv}));Va.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var mnt=nC("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&wv(t)}),vnt=wv;Va.visible=iC("visible",QI({ok:mnt,edgeOkViaNode:vnt}));Va.hidden=function(){var t=this[0];if(t)return!t.visible()};Va.isBundledBezier=iC("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Va.bypass=Va.css=Va.style;Va.renderedCss=Va.renderedStyle;Va.removeBypass=Va.removeCss=Va.removeStyle;Va.pstyle=Va.parsedStyle;var Pf={};function CW(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&gi(e[0])){var a=e[0];this.on(t.event,a)}else if(e.length===0||e.length===1&&In(e[0])){for(var s=e.length===1?e[0]:null,o=0;o<this.length;o++){var l=this[o],u=!t.ableField||l._private[t.ableField],h=l._private[t.field]!=t.value;if(t.overrideAble){var f=t.overrideAble(l);if(f!==void 0&&(u=f,!f))return this}u&&(l._private[t.field]=t.value,h&&r.push(l))}var d=this.spawn(r);d.updateStyle(),d.emit(t.event),s&&d.emit(s)}return this}}function Sv(t){Pf[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},Pf[t.on]=CW({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Pf[t.off]=CW({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Sv({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Sv({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Sv({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Sv({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Pf.deselect=Pf.unselect;Pf.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Sv({field:"active",on:"activate",off:"unactivate"});Sv({field:"pannable",on:"panify",off:"unpanify"});Pf.inactive=function(){var t=this[0];if(t)return!t._private.active};var vs={},AW=function(e){return function(n){for(var i=this,a=[],s=0;s<i.length;s++){var o=i[s];if(o.isNode()){for(var l=!1,u=o.connectedEdges(),h=0;h<u.length;h++){var f=u[h],d=f.source(),p=f.target();if(e.noIncomingEdges&&p===o&&d!==o||e.noOutgoingEdges&&d===o&&p!==o){l=!0;break}}l||a.push(o)}}return this.spawn(a,!0).filter(n)}},_W=function(e){return function(r){for(var n=this,i=[],a=0;a<n.length;a++){var s=n[a];if(s.isNode())for(var o=s.connectedEdges(),l=0;l<o.length;l++){var u=o[l],h=u.source(),f=u.target();e.outgoing&&h===s?(i.push(u),i.push(f)):e.incoming&&f===s&&(i.push(u),i.push(h))}}return this.spawn(i,!0).filter(r)}},LW=function(e){return function(r){for(var n=this,i=[],a={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var o=!1,l=0;l<s.length;l++){var u=s[l],h=u.id();a[h]||(a[h]=!0,i.push(u),o=!0)}if(!o)break;n=s}return this.spawn(i,!0).filter(r)}};vs.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};kr(vs,{roots:AW({noIncomingEdges:!0}),leaves:AW({noOutgoingEdges:!0}),outgoers:wl(_W({outgoing:!0}),"outgoers"),successors:LW({outgoing:!0}),incomers:wl(_W({incoming:!0}),"incomers"),predecessors:LW({incoming:!0})});kr(vs,{neighborhood:wl(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),s=0;s<a.length;s++){var o=a[s],l=o.source(),u=o.target(),h=i===l?u:l;h.length>0&&e.push(h[0]),e.push(o[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});vs.neighbourhood=vs.neighborhood;vs.closedNeighbourhood=vs.closedNeighborhood;vs.openNeighbourhood=vs.openNeighborhood;kr(vs,{source:wl(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:wl(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:DW({attr:"source"}),targets:DW({attr:"target"})});function DW(t){return function(r){for(var n=[],i=0;i<this.length;i++){var a=this[i],s=a._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}kr(vs,{edgesWith:wl(RW(),"edgesWith"),edgesTo:wl(RW({thisIsSrc:!0}),"edgesTo")});function RW(t){return function(r){var n=[],i=this._private.cy,a=t||{};pr(r)&&(r=i.$(r));for(var s=0;s<r.length;s++)for(var o=r[s]._private.edges,l=0;l<o.length;l++){var u=o[l],h=u._private.data,f=this.hasElementWithId(h.source)&&r.hasElementWithId(h.target),d=r.hasElementWithId(h.source)&&this.hasElementWithId(h.target),p=f||d;p&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!f||a.thisIsTgt&&!d)||n.push(u))}return this.spawn(n,!0)}}kr(vs,{connectedEdges:wl(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,s=0;s<a.length;s++){var o=a[s];e.push(o)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:wl(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:wl(MW(),"parallelEdges"),codirectedEdges:wl(MW({codirected:!0}),"codirectedEdges")});function MW(t){var e={codirected:!1};return t=kr({},e,t),function(n){for(var i=[],a=this.edges(),s=t,o=0;o<a.length;o++)for(var l=a[o],u=l._private,h=u.source,f=h._private.data.id,d=u.data.target,p=h._private.edges,m=0;m<p.length;m++){var v=p[m],x=v._private.data,y=x.target,w=x.source,S=y===d&&w===f,E=f===y&&d===w;(s.codirected&&S||!s.codirected&&(S||E))&&i.push(v)}return this.spawn(i,!0).filter(n)}}kr(vs,{components:function(e){var r=this,n=r.cy(),i=n.collection(),a=e==null?r.nodes():e.nodes(),s=[];e!=null&&a.empty()&&(a=e.sources());var o=function(h,f){i.merge(h),a.unmerge(h),f.merge(h)};if(a.empty())return r.spawn();var l=function(){var h=n.collection();s.push(h);var f=a[0];o(f,h),r.bfs({directed:!1,roots:f,visit:function(p){return o(p,h)}}),h.forEach(function(d){d.connectedEdges().forEach(function(p){r.has(p)&&h.has(p.source())&&h.has(p.target())&&h.merge(p)})})};do l();while(a.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});vs.componentsOf=vs.components;var Ua=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Ei("A collection must have a reference to the core");return}var a=new Qu,s=!1;if(!r)r=[];else if(r.length>0&&en(r[0])&&!Kb(r[0])){s=!0;for(var o=[],l=new mv,u=0,h=r.length;u<h;u++){var f=r[u];f.data==null&&(f.data={});var d=f.data;if(d.id==null)d.id=wce();else if(e.hasElementWithId(d.id)||l.has(d.id))continue;var p=new jT(e,f,!1);o.push(p),l.add(d.id)}r=o}this.length=0;for(var m=0,v=r.length;m<v;m++){var x=r[m][0];if(x!=null){var y=x._private.data.id;(!n||!a.has(y))&&(n&&a.set(y,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(w){this.lazyMap=w},rebuildMap:function(){for(var S=this.lazyMap=new Qu,E=this.eles,C=0;C<E.length;C++){var L=E[C];S.set(L.id(),{index:C,ele:L})}}},n&&(this._private.map=a),s&&!i&&this.restore()},Un=jT.prototype=Ua.prototype=Object.create(Array.prototype);Un.instanceString=function(){return"collection"};Un.spawn=function(t,e){return new Ua(this.cy(),t,e)};Un.spawnSelf=function(){return this.spawn(this)};Un.cy=function(){return this._private.cy};Un.renderer=function(){return this._private.cy.renderer()};Un.element=function(){return this[0]};Un.collection=function(){return oce(this)?this:new Ua(this._private.cy,[this])};Un.unique=function(){return new Ua(this._private.cy,this,!0)};Un.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};Un.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Ua(e)};Un.$id=Un.getElementById;Un.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};Un.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};Un.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};Un.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(en(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var a=!1,s={},o=t.data.source,l=t.data.target;o!=null&&o!=i.source&&(s.source=""+o,a=!0),l!=null&&l!=i.target&&(s.target=""+l,a=!0),a&&(e=e.move(s))}else{var u="parent"in t.data,h=t.data.parent;u&&(h!=null||i.parent!=null)&&h!=i.parent&&(h===void 0&&(h=null),h!=null&&(h=""+h),e=e.move({parent:h}))}}t.position&&e.position(t.position);var f=function(v,x,y){var w=t[v];w!=null&&w!==n[v]&&(w?e[x]():e[y]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var d={data:Ku(n.data),position:Ku(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};d.classes="";var p=0;return n.classes.forEach(function(m){return d.classes+=p++===0?m:" "+m}),d}}};Un.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};Un.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),a=new jT(t,i,!1);e.push(a)}return new Ua(t,e)};Un.copy=Un.clone;Un.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,a=[],s=[],o,l=0,u=r.length;l<u;l++){var h=r[l];e&&!h.removed()||(h.isNode()?a.push(h):s.push(h))}o=a.concat(s);var f,d=function(){o.splice(f,1),f--};for(f=0;f<o.length;f++){var p=o[f],m=p._private,v=m.data;if(p.clearTraversalCache(),!(!e&&!m.removed)){if(v.id===void 0)v.id=wce();else if($t(v.id))v.id=""+v.id;else if(ed(v.id)||!pr(v.id)){Ei("Can not create element with invalid string ID `"+v.id+"`"),d();continue}else if(n.hasElementWithId(v.id)){Ei("Can not create second element with ID `"+v.id+"`"),d();continue}}var x=v.id;if(p.isNode()){var y=m.position;y.x==null&&(y.x=0),y.y==null&&(y.y=0)}if(p.isEdge()){for(var w=p,S=["source","target"],E=S.length,C=!1,L=0;L<E;L++){var _=S[L],I=v[_];$t(I)&&(I=v[_]=""+v[_]),I==null||I===""?(Ei("Can not create edge `"+x+"` with unspecified "+_),C=!0):n.hasElementWithId(I)||(Ei("Can not create edge `"+x+"` with nonexistant "+_+" `"+I+"`"),C=!0)}if(C){d();continue}var D=n.getElementById(v.source),F=n.getElementById(v.target);D.same(F)?D._private.edges.push(w):(D._private.edges.push(w),F._private.edges.push(w)),w._private.source=D,w._private.target=F}m.map=new Qu,m.map.set(x,{ele:p,index:0}),m.removed=!1,e&&n.addToPool(p)}for(var M=0;M<a.length;M++){var B=a[M],H=B._private.data;$t(H.parent)&&(H.parent=""+H.parent);var R=H.parent,O=R!=null;if(O||B._private.parent){var P=B._private.parent?n.collection().merge(B._private.parent):n.getElementById(R);if(P.empty())H.parent=void 0;else if(P[0].removed())vn("Node added with missing parent, reference to parent removed"),H.parent=void 0,B._private.parent=null;else{for(var z=!1,$=P;!$.empty();){if(B.same($)){z=!0,H.parent=void 0;break}$=$.parent()}z||(P[0]._private.children.push(B),B._private.parent=P[0],i.hasCompoundNodes=!0)}}}if(o.length>0){for(var V=o.length===r.length?r:new Ua(n,o),X=0;X<V.length;X++){var q=V[X];q.isNode()||(q.parallelEdges().clearTraversalCache(),q.source().clearTraversalCache(),q.target().clearTraversalCache())}var Y;i.hasCompoundNodes?Y=n.collection().merge(V).merge(V.connectedNodes()).merge(V.parent()):Y=V,Y.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?V.emitAndNotify("add"):e&&V.emit("add")}return r};Un.removed=function(){var t=this[0];return t&&t._private.removed};Un.inside=function(){var t=this[0];return t&&!t._private.removed};Un.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},a=r._private.cy;function s(R){for(var O=R._private.edges,P=0;P<O.length;P++)l(O[P])}function o(R){for(var O=R._private.children,P=0;P<O.length;P++)l(O[P])}function l(R){var O=i[R.id()];e&&R.removed()||O||(i[R.id()]=!0,R.isNode()?(n.push(R),s(R),o(R)):n.unshift(R))}for(var u=0,h=r.length;u<h;u++){var f=r[u];l(f)}function d(R,O){var P=R._private.edges;td(P,O),R.clearTraversalCache()}function p(R){R.clearTraversalCache()}var m=[];m.ids={};function v(R,O){O=O[0],R=R[0];var P=R._private.children,z=R.id();td(P,O),O._private.parent=null,m.ids[z]||(m.ids[z]=!0,m.push(R))}r.dirtyCompoundBoundsCache(),e&&a.removeFromPool(n);for(var x=0;x<n.length;x++){var y=n[x];if(y.isEdge()){var w=y.source()[0],S=y.target()[0];d(w,y),d(S,y);for(var E=y.parallelEdges(),C=0;C<E.length;C++){var L=E[C];p(L),L.isBundledBezier()&&L.dirtyBoundingBoxCache()}}else{var _=y.parent();_.length!==0&&v(_,y)}e&&(y._private.removed=!0)}var I=a._private.elements;a._private.hasCompoundNodes=!1;for(var D=0;D<I.length;D++){var F=I[D];if(F.isParent()){a._private.hasCompoundNodes=!0;break}}var M=new Ua(this.cy(),n);M.size()>0&&(t?M.emitAndNotify("remove"):e&&M.emit("remove"));for(var B=0;B<m.length;B++){var H=m[B];(!e||!H.removed())&&H.updateStyle()}return M};Un.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,a=function(m){return m==null?m:""+m};if(t.source!==void 0||t.target!==void 0){var s=a(t.source),o=a(t.target),l=s!=null&&e.hasElementWithId(s),u=o!=null&&e.hasElementWithId(o);(l||u)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var p=0;p<r.length;p++){var m=r[p],v=m._private.data;m.isEdge()&&(l&&(v.source=s),u&&(v.target=o))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var h=a(t.parent),f=h===null||e.hasElementWithId(h);if(f){var d=h===null?void 0:h;e.batch(function(){var p=r.remove(n,i);p.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var v=r[m],x=v._private.data;v.isNode()&&(x.parent=d)}p.restore(n,i)}),r.emitAndNotify("move")}}return this};[Ice,_rt,U3,Of,Wm,Grt,tC,snt,ahe,she,hnt,Sk,G3,Va,Pf,vs].forEach(function(t){kr(Un,t)});var ynt={add:function(e){var r,n=this;if(Ho(e)){var i=e;if(i._private.cy===n)r=i.restore();else{for(var a=[],s=0;s<i.length;s++){var o=i[s];a.push(o.json())}r=new Ua(n,a)}}else if(In(e)){var l=e;r=new Ua(n,l)}else if(en(e)&&(In(e.nodes)||In(e.edges))){for(var u=e,h=[],f=["nodes","edges"],d=0,p=f.length;d<p;d++){var m=f[d],v=u[m];if(In(v))for(var x=0,y=v.length;x<y;x++){var w=kr({group:m},v[x]);h.push(w)}}r=new Ua(n,h)}else{var S=e;r=new jT(n,S).collection()}return r},remove:function(e){if(!Ho(e)){if(pr(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function xnt(t,e,r,n){var i=4,a=.001,s=1e-7,o=10,l=11,u=1/(l-1),h=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var d=h?new Float32Array(l):new Array(l);function p(F,M){return 1-3*M+3*F}function m(F,M){return 3*M-6*F}function v(F){return 3*F}function x(F,M,B){return((p(M,B)*F+m(M,B))*F+v(M))*F}function y(F,M,B){return 3*p(M,B)*F*F+2*m(M,B)*F+v(M)}function w(F,M){for(var B=0;B<i;++B){var H=y(M,t,r);if(H===0)return M;var R=x(M,t,r)-F;M-=R/H}return M}function S(){for(var F=0;F<l;++F)d[F]=x(F*u,t,r)}function E(F,M,B){var H,R,O=0;do R=M+(B-M)/2,H=x(R,t,r)-F,H>0?B=R:M=R;while(Math.abs(H)>s&&++O<o);return R}function C(F){for(var M=0,B=1,H=l-1;B!==H&&d[B]<=F;++B)M+=u;--B;var R=(F-d[B])/(d[B+1]-d[B]),O=M+R*u,P=y(O,t,r);return P>=a?w(F,O):P===0?O:E(F,M,M+u)}var L=!1;function _(){L=!0,(t!==e||r!==n)&&S()}var I=function(M){return L||_(),t===e&&r===n?M:M===0?0:M===1?1:x(C(M),e,n)};I.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var D="generateBezier("+[t,e,r,n]+")";return I.toString=function(){return D},I}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var bnt=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,a){var s={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,i){var a={dx:n.v,dv:t(n)},s=e(n,i*.5,a),o=e(n,i*.5,s),l=e(n,i,o),u=1/6*(a.dx+2*(s.dx+o.dx)+l.dx),h=1/6*(a.dv+2*(s.dv+o.dv)+l.dv);return n.x=n.x+u*i,n.v=n.v+h*i,n}return function n(i,a,s){var o={x:-1,v:0,tension:null,friction:null},l=[0],u=0,h=1/1e4,f=16/1e3,d,p,m;for(i=parseFloat(i)||500,a=parseFloat(a)||20,s=s||null,o.tension=i,o.friction=a,d=s!==null,d?(u=n(i,a),p=u/s*f):p=f;m=r(m||o,p),l.push(1+m.x),u+=16,Math.abs(m.x)>h&&Math.abs(m.v)>h;);return d?function(v){return l[v*(l.length-1)|0]}:u}}(),Pn=function(e,r,n,i){var a=xnt(e,r,n,i);return function(s,o,l){return s+(o-s)*a(l)}},W3={linear:function(e,r,n){return e+(r-e)*n},ease:Pn(.25,.1,.25,1),"ease-in":Pn(.42,0,1,1),"ease-out":Pn(0,0,.58,1),"ease-in-out":Pn(.42,0,.58,1),"ease-in-sine":Pn(.47,0,.745,.715),"ease-out-sine":Pn(.39,.575,.565,1),"ease-in-out-sine":Pn(.445,.05,.55,.95),"ease-in-quad":Pn(.55,.085,.68,.53),"ease-out-quad":Pn(.25,.46,.45,.94),"ease-in-out-quad":Pn(.455,.03,.515,.955),"ease-in-cubic":Pn(.55,.055,.675,.19),"ease-out-cubic":Pn(.215,.61,.355,1),"ease-in-out-cubic":Pn(.645,.045,.355,1),"ease-in-quart":Pn(.895,.03,.685,.22),"ease-out-quart":Pn(.165,.84,.44,1),"ease-in-out-quart":Pn(.77,0,.175,1),"ease-in-quint":Pn(.755,.05,.855,.06),"ease-out-quint":Pn(.23,1,.32,1),"ease-in-out-quint":Pn(.86,0,.07,1),"ease-in-expo":Pn(.95,.05,.795,.035),"ease-out-expo":Pn(.19,1,.22,1),"ease-in-out-expo":Pn(1,0,0,1),"ease-in-circ":Pn(.6,.04,.98,.335),"ease-out-circ":Pn(.075,.82,.165,1),"ease-in-out-circ":Pn(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return W3.linear;var i=bnt(e,r,n);return function(a,s,o){return a+(s-a)*i(o)}},"cubic-bezier":Pn};function NW(t,e,r,n,i){if(n===1||e===r)return r;var a=i(e,r,n);return t==null||((t.roundValue||t.color)&&(a=Math.round(a)),t.min!==void 0&&(a=Math.max(a,t.min)),t.max!==void 0&&(a=Math.min(a,t.max))),a}function IW(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function fg(t,e,r,n,i){var a=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var s=IW(t,i),o=IW(e,i);if($t(s)&&$t(o))return NW(a,s,o,r,n);if(In(s)&&In(o)){for(var l=[],u=0;u<o.length;u++){var h=s[u],f=o[u];if(h!=null&&f!=null){var d=NW(a,h,f,r,n);l.push(d)}else l.push(f)}return l}}function wnt(t,e,r,n){var i=!n,a=t._private,s=e._private,o=s.easing,l=s.startTime,u=n?t:t.cy(),h=u.style();if(!s.easingImpl)if(o==null)s.easingImpl=W3.linear;else{var f;if(pr(o)){var d=h.parse("transition-timing-function",o);f=d.value}else f=o;var p,m;pr(f)?(p=f,m=[]):(p=f[1],m=f.slice(2).map(function(V){return+V})),m.length>0?(p==="spring"&&m.push(s.duration),s.easingImpl=W3[p].apply(null,m)):s.easingImpl=W3[p]}var v=s.easingImpl,x;if(s.duration===0?x=1:x=(r-l)/s.duration,s.applying&&(x=s.progress),x<0?x=0:x>1&&(x=1),s.delay==null){var y=s.startPosition,w=s.position;if(w&&i&&!t.locked()){var S={};Py(y.x,w.x)&&(S.x=fg(y.x,w.x,x,v)),Py(y.y,w.y)&&(S.y=fg(y.y,w.y,x,v)),t.position(S)}var E=s.startPan,C=s.pan,L=a.pan,_=C!=null&&n;_&&(Py(E.x,C.x)&&(L.x=fg(E.x,C.x,x,v)),Py(E.y,C.y)&&(L.y=fg(E.y,C.y,x,v)),t.emit("pan"));var I=s.startZoom,D=s.zoom,F=D!=null&&n;F&&(Py(I,D)&&(a.zoom=jx(a.minZoom,fg(I,D,x,v),a.maxZoom)),t.emit("zoom")),(_||F)&&t.emit("viewport");var M=s.style;if(M&&M.length>0&&i){for(var B=0;B<M.length;B++){var H=M[B],R=H.name,O=H,P=s.startStyle[R],z=h.properties[P.name],$=fg(P,O,x,v,z);h.overrideBypass(t,R,$)}t.emit("style")}}return s.progress=x,x}function Py(t,e){return t==null||e==null?!1:$t(t)&&$t(e)?!0:!!(t&&e)}function Snt(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function OW(t,e){var r=e._private.aniEles,n=[];function i(h,f){var d=h._private,p=d.animation.current,m=d.animation.queue,v=!1;if(p.length===0){var x=m.shift();x&&p.push(x)}for(var y=function(L){for(var _=L.length-1;_>=0;_--){var I=L[_];I()}L.splice(0,L.length)},w=p.length-1;w>=0;w--){var S=p[w],E=S._private;if(E.stopped){p.splice(w,1),E.hooked=!1,E.playing=!1,E.started=!1,y(E.frames);continue}!E.playing&&!E.applying||(E.playing&&E.applying&&(E.applying=!1),E.started||Snt(h,S,t),wnt(h,S,t,f),E.applying&&(E.applying=!1),y(E.frames),E.step!=null&&E.step(t),S.completed()&&(p.splice(w,1),E.hooked=!1,E.playing=!1,E.started=!1,y(E.completes)),v=!0)}return!f&&p.length===0&&m.length===0&&n.push(h),v}for(var a=!1,s=0;s<r.length;s++){var o=r[s],l=i(o);a=a||l}var u=i(e,!0);(a||u)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var knt={animate:pn.animate(),animation:pn.animation(),animated:pn.animated(),clearQueue:pn.clearQueue(),delay:pn.delay(),delayAnimation:pn.delayAnimation(),stop:pn.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&vk(function(a){OW(a,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(a,s){OW(s,e)},n.beforeRenderPriorities.animations):r()}},Ent={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&Kb(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Hw=function(e){return pr(e)?new rd(e):e},uhe={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new rC(Ent,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Hw(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Hw(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Hw(r),n),this},once:function(e,r,n){return this.emitter().one(e,Hw(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};pn.eventAliasesOn(uhe);var N9={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};N9.jpeg=N9.jpg;var q3={layout:function(e){var r=this;if(e==null){Ei("Layout options must be specified to make a layout");return}if(e.name==null){Ei("A `name` must be specified to make a layout");return}var n=e.name,i=r.extension("layout",n);if(i==null){Ei("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;pr(e.eles)?a=r.$(e.eles):a=e.eles!=null?e.eles:r.$();var s=new i(kr({},e,{cy:r,eles:a}));return s}};q3.createLayout=q3.makeLayout=q3.layout;var Tnt={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var a=n[i],s=e[a],o=r.getElementById(a);o.data(s)}})}},Cnt=ja({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),I9={renderTo:function(e,r,n,i){var a=this._private.renderer;return a.renderTo(e,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){Ei("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&vn("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=Cnt(e);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};I9.invalidateDimensions=I9.resize;var Y3={collection:function(e,r){return pr(e)?this.$(e):Ho(e)?e.collection():In(e)?(r||(r={}),new Ua(this,e,r.unique,r.removed)):new Ua(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Y3.elements=Y3.filter=Y3.$;var Ss={},O2="t",Ant="f";Ss.apply=function(t){for(var e=this,r=e._private,n=r.cy,i=n.collection(),a=0;a<t.length;a++){var s=t[a],o=e.getContextMeta(s);if(!o.empty){var l=e.getContextStyle(o),u=e.applyContextStyle(o,l,s);s._private.appliedInitStyle?e.updateTransitions(s,u.diffProps):s._private.appliedInitStyle=!0;var h=e.updateStyleHints(s);h&&i.push(s)}}return i};Ss.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,a=n[i];if(a)return a;for(var s=[],o={},l=0;l<r.length;l++){var u=r[l],h=t[l]===O2,f=e[l]===O2,d=h!==f,p=u.mappedProperties.length>0;if(d||f&&p){var m=void 0;d&&p||d?m=u.properties:p&&(m=u.mappedProperties);for(var v=0;v<m.length;v++){for(var x=m[v],y=x.name,w=!1,S=l+1;S<r.length;S++){var E=r[S],C=e[S]===O2;if(C&&(w=E.properties[x.name]!=null,w))break}!o[y]&&!w&&(o[y]=!0,s.push(y))}}}return n[i]=s,s};Ss.getContextMeta=function(t){for(var e=this,r="",n,i=t._private.styleCxtKey||"",a=0;a<e.length;a++){var s=e[a],o=s.selector&&s.selector.matches(t);o?r+=O2:r+=Ant}return n=e.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Ss.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},a=0;a<r.length;a++){var s=r[a],o=e[a]===O2;if(o)for(var l=0;l<s.properties.length;l++){var u=s.properties[l];i[u.name]=u}}return n[e]=i,i};Ss.applyContextStyle=function(t,e,r){for(var n=this,i=t.diffPropNames,a={},s=n.types,o=0;o<i.length;o++){var l=i[o],u=e[l],h=r.pstyle(l);if(!u)if(h)h.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(h!==u){if(u.mapped===s.fn&&h!=null&&h.mapping!=null&&h.mapping.value===u.value){var f=h.mapping,d=f.fnValue=u.value(r);if(d===f.prevFnValue)continue}var p=a[l]={prev:h};n.applyParsedProperty(r,u),p.next=r.pstyle(l),p.next&&p.next.bypass&&(p.next=p.next.bypassed)}}return{diffProps:a}};Ss.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=function(oe,fe,me){return r.getPropertiesHash(oe,fe,me)},s=e.styleKey;if(t.removed())return!1;var o=e.group==="nodes",l=t._private.style;n=Object.keys(l);for(var u=0;u<i.length;u++){var h=i[u];e.styleKeys[h]=[zg,o2]}for(var f=function(oe,fe){return e.styleKeys[fe][0]=qx(oe,e.styleKeys[fe][0])},d=function(oe,fe){return e.styleKeys[fe][1]=Yx(oe,e.styleKeys[fe][1])},p=function(oe,fe){f(oe,fe),d(oe,fe)},m=function(oe,fe){for(var me=0;me<oe.length;me++){var be=oe.charCodeAt(me);f(be,fe),d(be,fe)}},v=2e9,x=function(oe){return-128<oe&&oe<128&&Math.floor(oe)!==oe?v-(oe*1024|0):oe},y=0;y<n.length;y++){var w=n[y],S=l[w];if(S!=null){var E=this.properties[w],C=E.type,L=E.groupKey,_=void 0;E.hashOverride!=null?_=E.hashOverride(t,S):S.pfValue!=null&&(_=S.pfValue);var I=E.enums==null?S.value:null,D=_!=null,F=I!=null,M=D||F,B=S.units;if(C.number&&M&&!C.multiple){var H=D?_:I;p(x(H),L),!D&&B!=null&&m(B,L)}else m(S.strValue,L)}}for(var R=[zg,o2],O=0;O<i.length;O++){var P=i[O],z=e.styleKeys[P];R[0]=qx(z[0],R[0]),R[1]=Yx(z[1],R[1])}e.styleKey=DZe(R[0],R[1]);var $=e.styleKeys;e.labelDimsKey=Qh($.labelDimensions);var V=a(t,["label"],$.labelDimensions);if(e.labelKey=Qh(V),e.labelStyleKey=Qh(Mw($.commonLabel,V)),!o){var X=a(t,["source-label"],$.labelDimensions);e.sourceLabelKey=Qh(X),e.sourceLabelStyleKey=Qh(Mw($.commonLabel,X));var q=a(t,["target-label"],$.labelDimensions);e.targetLabelKey=Qh(q),e.targetLabelStyleKey=Qh(Mw($.commonLabel,q))}if(o){var Y=e.styleKeys,U=Y.nodeBody,Z=Y.nodeBorder,pe=Y.nodeOutline,ne=Y.backgroundImage,ge=Y.compound,ye=Y.pie,J=[U,Z,pe,ne,ge,ye].filter(function(se){return se!=null}).reduce(Mw,[zg,o2]);e.nodeKey=Qh(J),e.hasPie=ye!=null&&ye[0]!==zg&&ye[1]!==o2}return s!==e.styleKey};Ss.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};Ss.applyParsedProperty=function(t,e){var r=this,n=e,i=t._private.style,a,s=r.types,o=r.properties[n.name].type,l=n.bypass,u=i[n.name],h=u&&u.bypass,f=t._private,d="mapping",p=function(U){return U==null?null:U.pfValue!=null?U.pfValue:U.value},m=function(){var U=p(u),Z=p(n);r.checkTriggers(t,n.name,U,Z)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",l)),n.delete)return i[n.name]=void 0,m(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,m(),!0):!1:(m(),!0);if(n.deleteBypass)return u?u.bypass?(i[n.name]=u.bypassed,m(),!0):!1:(m(),!0);var v=function(){vn("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var x=n.field.split("."),y=f.data,w=0;w<x.length&&y;w++){var S=x[w];y=y[S]}if(y==null)return v(),!1;var E;if($t(y)){var C=n.fieldMax-n.fieldMin;C===0?E=0:E=(y-n.fieldMin)/C}else return vn("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+y+"` for `"+t.id()+"` is non-numeric)"),!1;if(E<0?E=0:E>1&&(E=1),o.color){var L=n.valueMin[0],_=n.valueMax[0],I=n.valueMin[1],D=n.valueMax[1],F=n.valueMin[2],M=n.valueMax[2],B=n.valueMin[3]==null?1:n.valueMin[3],H=n.valueMax[3]==null?1:n.valueMax[3],R=[Math.round(L+(_-L)*E),Math.round(I+(D-I)*E),Math.round(F+(M-F)*E),Math.round(B+(H-B)*E)];a={bypass:n.bypass,name:n.name,value:R,strValue:"rgb("+R[0]+", "+R[1]+", "+R[2]+")"}}else if(o.number){var O=n.valueMin+(n.valueMax-n.valueMin)*E;a=this.parse(n.name,O,n.bypass,d)}else return!1;if(!a)return v(),!1;a.mapping=n,n=a;break}case s.data:{for(var P=n.field.split("."),z=f.data,$=0;$<P.length&&z;$++){var V=P[$];z=z[V]}if(z!=null&&(a=this.parse(n.name,z,n.bypass,d)),!a)return v(),!1;a.mapping=n,n=a;break}case s.fn:{var X=n.value,q=n.fnValue!=null?n.fnValue:X(t);if(n.prevFnValue=q,q==null)return vn("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(a=this.parse(n.name,q,n.bypass,d),!a)return vn("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;a.mapping=Ku(n),n=a;break}case void 0:break;default:return!1}return l?(h?n.bypassed=u.bypassed:n.bypassed=u,i[n.name]=n):h?u.bypassed=n:i[n.name]=n,m(),!0};Ss.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),s=0;s<a.length;s++){var o=a[s],l=i[o];l!=null&&(l.bypass?l.bypassed=null:i[o]=null)}}};Ss.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Ss.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,a=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var o={},l=!1,u=0;u<i.length;u++){var h=i[u],f=t.pstyle(h),d=e[h];if(d){var p=d.prev,m=p,v=d.next!=null?d.next:f,x=!1,y=void 0,w=1e-6;m&&($t(m.pfValue)&&$t(v.pfValue)?(x=v.pfValue-m.pfValue,y=m.pfValue+w*x):$t(m.value)&&$t(v.value)?(x=v.value-m.value,y=m.value+w*x):In(m.value)&&In(v.value)&&(x=m.value[0]!==v.value[0]||m.value[1]!==v.value[1]||m.value[2]!==v.value[2],y=m.strValue),x&&(o[h]=v.strValue,this.applyBypass(t,h,y),l=!0))}}if(!l)return;n.transitioning=!0,new vv(function(S){s>0?t.delayAnimation(s).play().promise().then(S):S()}).then(function(){return t.animation({style:o,duration:a,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)};Ss.checkTrigger=function(t,e,r,n,i,a){var s=this.properties[e],o=i(s);o!=null&&o(r,n)&&a(s)};Ss.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};Ss.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(r==="bezier"||n==="bezier")&&t.parallelEdges().forEach(function(a){a.isBundledBezier()&&a.dirtyBoundingBoxCache()}),i.triggersBoundsOfConnectedEdges&&e==="display"&&(r==="none"||n==="none")&&t.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};Ss.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var e4={};e4.applyBypass=function(t,e,r,n){var i=this,a=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var o=0;o<i.properties.length;o++){var l=i.properties[o],u=l.name,h=this.parse(u,r,!0);h&&a.push(h)}}else if(pr(e)){var f=this.parse(e,r,!0);f&&a.push(f)}else if(en(e)){var d=e;n=r;for(var p=Object.keys(d),m=0;m<p.length;m++){var v=p[m],x=d[v];if(x===void 0&&(x=d[qT(v)]),x!==void 0){var y=this.parse(v,x,!0);y&&a.push(y)}}}else return!1;if(a.length===0)return!1;for(var w=!1,S=0;S<t.length;S++){for(var E=t[S],C={},L=void 0,_=0;_<a.length;_++){var I=a[_];if(n){var D=E.pstyle(I.name);L=C[I.name]={prev:D}}w=this.applyParsedProperty(E,Ku(I))||w,n&&(L.next=E.pstyle(I.name))}w&&this.updateStyleHints(E),n&&this.updateTransitions(E,C,s)}return w};e4.overrideBypass=function(t,e,r){e=BI(e);for(var n=0;n<t.length;n++){var i=t[n],a=i._private.style[e],s=this.properties[e].type,o=s.color,l=s.mutiple,u=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,e,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),o?a.strValue="rgb("+r.join(",")+")":l?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,e,u,r)}};e4.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};e4.removeBypasses=function(t,e,r){for(var n=!0,i=0;i<t.length;i++){for(var a=t[i],s={},o=0;o<e.length;o++){var l=e[o],u=this.properties[l],h=a.pstyle(u.name);if(!(!h||!h.bypass)){var f="",d=this.parse(l,f,!0),p=s[u.name]={prev:h};this.applyParsedProperty(a,d),p.next=a.pstyle(u.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,s,n)}};var ZI={};ZI.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};ZI.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var sc={};sc.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};sc.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],s=r.getStylePropertyValue(t,a.name,e);s!=null&&(n[a.name]=s,n[qT(a.name)]=s)}return n}};sc.getIndexedStyle=function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]};sc.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var i=n.properties[e];i.alias&&(i=i.pointsTo);var a=i.type,s=t.pstyle(i.name);if(s){var o=s.value,l=s.units,u=s.strValue;if(r&&a.number&&o!=null&&$t(o)){var h=t.cy().zoom(),f=function(x){return x*h},d=function(x,y){return f(x)+y},p=In(o),m=p?l.every(function(v){return v!=null}):l!=null;return m?p?o.map(function(v,x){return d(v,l[x])}).join(" "):d(o,l):p?o.map(function(v){return pr(v)?v:""+f(v)}).join(" "):""+f(o)}else if(u!=null)return u}return null}};sc.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=i.name,s=t.pstyle(a);s!==void 0&&(en(s)?s=this.parse(a,s.strValue):s=this.parse(a,s)),s&&(r[a]=s)}return r};sc.getPropsList=function(t){var e=this,r=[],n=t,i=e.properties;if(n)for(var a=Object.keys(n),s=0;s<a.length;s++){var o=a[s],l=n[o],u=i[o]||i[BI(o)],h=this.parse(u.name,l);h&&r.push(h)}return r};sc.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),i,a,s,o,l,u;for(l=0;l<e.length;l++)if(i=e[l],a=t.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=qx(o,n[0]),n[1]=Yx(o,n[1]);else for(s=a.strValue,u=0;u<s.length;u++)o=s.charCodeAt(u),n[0]=qx(o,n[0]),n[1]=Yx(o,n[1]);return n};sc.getPropertiesHash=sc.getNonDefaultPropertiesHash;var aC={};aC.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,a=n.style||n.css,s=Object.keys(a);e.selector(i);for(var o=0;o<s.length;o++){var l=s[o],u=a[l];e.css(l,u)}}return e};aC.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};aC.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,a={},s=0;s<i.length;s++){var o=i[s];a[o.name]=o.strValue}t.push({selector:n?n.toString():"core",style:a})}return t};var JI={};JI.appendFromString=function(t){var e=this,r=this,n=""+t,i,a,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){n.length>i.length?n=n.substr(i.length):n=""}function l(){a.length>s.length?a=a.substr(s.length):a=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var h=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!h){vn("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=h[0];var f=h[1];if(f!=="core"){var d=new rd(f);if(d.invalid){vn("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),o();continue}}var p=h[2],m=!1;a=p;for(var v=[];;){var x=a.match(/^\s*$/);if(x)break;var y=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!y){vn("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),m=!0;break}s=y[0];var w=y[1],S=y[2],E=e.properties[w];if(!E){vn("Skipping property: Invalid property name in: "+s),l();continue}var C=r.parse(w,S);if(!C){vn("Skipping property: Invalid property definition in: "+s),l();continue}v.push({name:w,val:S}),l()}if(m){o();break}r.selector(f);for(var L=0;L<v.length;L++){var _=v[L];r.css(_.name,_.val)}o()}return r};JI.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Pa={};(function(){var t=oa,e=NQe,r=OQe,n=PQe,i=FQe,a=function(J){return"^"+J+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(J){var se=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+i;return"^"+J+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+se+")\\s*\\,\\s*("+se+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Pa.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(J,se){switch(J.length){case 2:return se[0]!=="deg"&&se[0]!=="rad"&&se[1]!=="deg"&&se[1]!=="rad";case 1:return pr(J[0])||se[0]==="deg"||se[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(J){var se=J.length;return se===1||se===2||se===4}}};var l={zeroNonZero:function(J,se){return(J==null||se==null)&&J!==se||J==0&&se!=0?!0:J!=0&&se==0},any:function(J,se){return J!=se},emptyNonEmpty:function(J,se){var oe=ed(J),fe=ed(se);return oe&&!fe||!oe&&fe}},u=Pa.types,h=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],f=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],d=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],p=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],m=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification}],v=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any}],x=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],y=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],w=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],S=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],E=function(J,se){return se.value==="label"?-J.poolIndex():se.pfValue},C=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:E},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:E},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],L=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],_=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],I=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],D=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],F=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],M=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],B=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],H=[];Pa.pieBackgroundN=16,H.push({name:"pie-size",type:u.sizeMaybePercent});for(var R=1;R<=Pa.pieBackgroundN;R++)H.push({name:"pie-"+R+"-background-color",type:u.color}),H.push({name:"pie-"+R+"-background-size",type:u.percent}),H.push({name:"pie-"+R+"-background-opacity",type:u.zeroOneNumber});var O=[],P=Pa.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(ye){P.forEach(function(J){var se=J+"-"+ye.name,oe=ye.type,fe=ye.triggersBounds;O.push({name:se,type:oe,triggersBounds:fe})})},{});var z=Pa.properties=[].concat(v,S,x,y,w,M,m,p,h,f,d,C,L,_,I,H,D,F,O,B),$=Pa.propertyGroups={behavior:v,transition:S,visibility:x,overlay:y,underlay:w,ghost:M,commonLabel:m,labelDimensions:p,mainLabel:h,sourceLabel:f,targetLabel:d,nodeBody:C,nodeBorder:L,nodeOutline:_,backgroundImage:I,pie:H,compound:D,edgeLine:F,edgeArrow:O,core:B},V=Pa.propertyGroupNames={},X=Pa.propertyGroupKeys=Object.keys($);X.forEach(function(ye){V[ye]=$[ye].map(function(J){return J.name}),$[ye].forEach(function(J){return J.groupKey=ye})});var q=Pa.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Pa.propertyNames=z.map(function(ye){return ye.name});for(var Y=0;Y<z.length;Y++){var U=z[Y];z[U.name]=U}for(var Z=0;Z<q.length;Z++){var pe=q[Z],ne=z[pe.pointsTo],ge={name:pe.name,alias:!0,pointsTo:ne};z.push(ge),z[pe.name]=ge}})();Pa.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Pa.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=kr({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var h=1;h<=Pa.pieBackgroundN;h++){var f=u.name.replace("{{i}}",h),d=u.value;l[f]=d}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return Pa.arrowPrefixes.forEach(function(h){var f=h+"-"+u.name,d=u.value;l[f]=d}),l},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,s=e[a],o=this.parse(a,s);r[a]=o}}return t.defaultProperties=r,t.defaultProperties};Pa.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var sC={};sC.parse=function(t,e,r,n){var i=this;if(gi(e))return i.parseImplWarn(t,e,r,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",o=""+e,l=yce(t,o,s,a),u=i.propCache=i.propCache||[],h;return(h=u[l])||(h=u[l]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(h=Ku(h),h&&(h.value=Ku(h.value))),h};sC.parseImplWarn=function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return!i&&e!=null&&vn("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&vn("The style value of `label` is deprecated for `"+i.name+"`"),i};sC.parseImpl=function(t,e,r,n){var i=this;t=BI(t);var a=i.properties[t],s=e,o=i.types;if(!a||e===void 0)return null;a.alias&&(a=a.pointsTo,t=a.name);var l=pr(e);l&&(e=e.trim());var u=a.type;if(!u)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(gi(e))return{name:t,value:e,strValue:"fn",mapped:o.fn,bypass:r};var h,f;if(!(!l||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(h=new RegExp(o.data.regex).exec(e))){if(r)return!1;var d=o.data;return{name:t,value:h,strValue:""+e,mapped:d,field:h[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(f=new RegExp(o.mapData.regex).exec(e))){if(r||u.multiple)return!1;var p=o.mapData;if(!(u.color||u.number))return!1;var m=this.parse(t,f[4]);if(!m||m.mapped)return!1;var v=this.parse(t,f[5]);if(!v||v.mapped)return!1;if(m.pfValue===v.pfValue||m.strValue===v.strValue)return vn("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+m.strValue+"`"),this.parse(t,m.strValue);if(u.color){var x=m.value,y=v.value,w=x[0]===y[0]&&x[1]===y[1]&&x[2]===y[2]&&(x[3]===y[3]||(x[3]==null||x[3]===1)&&(y[3]==null||y[3]===1));if(w)return!1}return{name:t,value:f,strValue:""+e,mapped:p,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:m.value,valueMax:v.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var S;if(l?S=e.split(/\s+/):In(e)?S=e:S=[e],u.evenMultiple&&S.length%2!==0)return null;for(var E=[],C=[],L=[],_="",I=!1,D=0;D<S.length;D++){var F=i.parse(t,S[D],r,"multiple");I=I||pr(F.value),E.push(F.value),L.push(F.pfValue!=null?F.pfValue:F.value),C.push(F.units),_+=(D>0?" ":"")+F.strValue}return u.validate&&!u.validate(E,C)?null:u.singleEnum&&I?E.length===1&&pr(E[0])?{name:t,value:E[0],strValue:E[0],bypass:r}:null:{name:t,value:E,pfValue:L,strValue:_,bypass:r,units:C}}var M=function(){for(var J=0;J<u.enums.length;J++){var se=u.enums[J];if(se===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(u.number){var B,H="px";if(u.units&&(B=u.units),u.implicitUnits&&(H=u.implicitUnits),!u.unitless)if(l){var R="px|em"+(u.allowPercent?"|\\%":"");B&&(R=B);var O=e.match("^("+oa+")("+R+")?$");O&&(e=O[1],B=O[2]||H)}else(!B||u.implicitUnits)&&(B=H);if(e=parseFloat(e),isNaN(e)&&u.enums===void 0)return null;if(isNaN(e)&&u.enums!==void 0)return e=s,M();if(u.integer&&!CQe(e)||u.min!==void 0&&(e<u.min||u.strictMin&&e===u.min)||u.max!==void 0&&(e>u.max||u.strictMax&&e===u.max))return null;var P={name:t,value:e,strValue:""+e+(B||""),units:B,bypass:r};return u.unitless||B!=="px"&&B!=="em"?P.pfValue=e:P.pfValue=B==="px"||!B?e:this.getEmSizeInPixels()*e,(B==="ms"||B==="s")&&(P.pfValue=B==="ms"?e:1e3*e),(B==="deg"||B==="rad")&&(P.pfValue=B==="rad"?e:sJe(e)),B==="%"&&(P.pfValue=e/100),P}else if(u.propList){var z=[],$=""+e;if($!=="none"){for(var V=$.split(/\s*,\s*|\s+/),X=0;X<V.length;X++){var q=V[X].trim();i.properties[q]?z.push(q):vn("`"+q+"` is not a valid property name")}if(z.length===0)return null}return{name:t,value:z,strValue:z.length===0?"none":z.join(" "),bypass:r}}else if(u.color){var Y=UQe(e);return Y?{name:t,value:Y,pfValue:Y,strValue:"rgb("+Y[0]+","+Y[1]+","+Y[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var U=M();if(U)return U}for(var Z=u.regexes?u.regexes:[u.regex],pe=0;pe<Z.length;pe++){var ne=new RegExp(Z[pe]),ge=ne.exec(e);if(ge)return{name:t,value:u.singleRegexMatchValue?ge[1]:ge,strValue:""+e,bypass:r}}return null}else return u.string?{name:t,value:""+e,strValue:""+e,bypass:r}:u.enums?M():null};var ps=function t(e){if(!(this instanceof t))return new t(e);if(!FI(e)){Ei("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},ys=ps.prototype;ys.instanceString=function(){return"style"};ys.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};ys.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};ys.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};ys.selector=function(t){var e=t==="core"?null:new rd(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};ys.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],a=r[i.name];a===void 0&&(a=r[qT(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else e.length===2&&this.cssRule(e[0],e[1]);return this};ys.style=ys.css;ys.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};ys.append=function(t){return lce(t)?t.appendToStyle(this):In(t)?this.appendFromJson(t):pr(t)&&this.appendFromString(t),this};ps.fromJson=function(t,e){var r=new ps(t);return r.fromJson(e),r};ps.fromString=function(t,e){return new ps(t).fromString(e)};[Ss,e4,ZI,sc,aC,JI,Pa,sC].forEach(function(t){kr(ys,t)});ps.types=ys.types;ps.properties=ys.properties;ps.propertyGroups=ys.propertyGroups;ps.propertyGroupNames=ys.propertyGroupNames;ps.propertyGroupKeys=ys.propertyGroupKeys;var _nt={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return lce(e)?r.style=e.generateStyle(this):In(e)?r.style=ps.fromJson(this,e):pr(e)?r.style=ps.fromString(this,e):r.style=ps(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},Lnt="single",cp={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=Lnt),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,i,a,s,o;switch(e.length){case 0:return r;case 1:if(pr(e[0]))return n=e[0],r[n];if(en(e[0])){if(!this._private.panningEnabled)return this;a=e[0],s=a.x,o=a.y,$t(s)&&(r.x=s),$t(o)&&(r.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&$t(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,i=this._private.pan,a,s,o,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:en(e)&&(o=n[0],l=o.x,u=o.y,$t(l)&&(i.x+=l),$t(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:a=e,s=r,(a==="x"||a==="y")&&$t(s)&&(i[a]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if($t(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(pr(e)){var i=e;e=this.$(i)}else if(LQe(e)){var a=e;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Ho(e)||(e=this.mutableElements());if(!(Ho(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),o=this.height(),l;if(r=$t(r)?r:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((s-2*r)/n.w,(o-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(s-l*(n.x1+n.x2))/2,y:(o-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var i=e;e=i.min,r=i.max}return $t(e)&&$t(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):$t(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:$t(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,i=r.zoom,a,s,o=!1;if(r.zoomingEnabled||(o=!0),$t(e)?s=e:en(e)&&(s=e.level,e.position!=null?a=KT(e.position,i,n):e.renderedPosition!=null&&(a=e.renderedPosition),a!=null&&!r.panningEnabled&&(o=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,o||!$t(s)||s===i||a!=null&&(!$t(a.x)||!$t(a.y)))return null;if(a!=null){var l=n,u=i,h=s,f={x:-h/u*(a.x-l.x)+a.x,y:-h/u*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:h,pan:f}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,i=!0,a=[],s=!1,o=!1;if(!e)return this;if($t(e.zoom)||(n=!1),en(e.pan)||(i=!1),!n&&!i)return this;if(n){var l=e.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=l,a.push("zoom"))}if(i&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var u=e.pan;$t(u.x)&&(r.pan.x=u.x,o=!1),$t(u.y)&&(r.pan.y=u.y,o=!1),o||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(pr(e)){var n=e;e=this.mutableElements().filter(n)}else Ho(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),a=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var o={x:(a-r*(i.x1+i.x2))/2,y:(s-r*(i.y1+i.y2))/2};return o}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var i=n.window().getComputedStyle(r),a=function(o){return parseFloat(i.getPropertyValue(o))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};cp.centre=cp.center;cp.autolockNodes=cp.autolock;cp.autoungrabifyNodes=cp.autoungrabify;var eb={data:pn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:pn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:pn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:pn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};eb.attr=eb.data;eb.removeAttr=eb.removeData;var tb=function(e){var r=this;e=kr({},e);var n=e.container;n&&!mk(n)&&mk(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var s=Zi!==void 0&&n!==void 0&&!e.headless,o=e;o.layout=kr({name:s?"grid":"null"},o.layout),o.renderer=kr({name:s?"canvas":"null"},o.renderer);var l=function(m,v,x){return v!==void 0?v:x!==void 0?x:m},u=this._private={container:n,ready:!1,options:o,elements:new Ua(this),listeners:[],aniEles:new Ua(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,o.zoomingEnabled),userZoomingEnabled:l(!0,o.userZoomingEnabled),panningEnabled:l(!0,o.panningEnabled),userPanningEnabled:l(!0,o.userPanningEnabled),boxSelectionEnabled:l(!0,o.boxSelectionEnabled),autolock:l(!1,o.autolock,o.autolockNodes),autoungrabify:l(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:l(!1,o.autounselectify),styleEnabled:o.styleEnabled===void 0?s:o.styleEnabled,zoom:$t(o.zoom)?o.zoom:1,pan:{x:en(o.pan)&&$t(o.pan.x)?o.pan.x:0,y:en(o.pan)&&$t(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});var h=function(m,v){var x=m.some(DQe);if(x)return vv.all(m).then(v);v(m)};u.styleEnabled&&r.setStyle([]);var f=kr({},o,o.renderer);r.initRenderer(f);var d=function(m,v,x){r.notifications(!1);var y=r.mutableElements();y.length>0&&y.remove(),m!=null&&(en(m)||In(m))&&r.add(m),r.one("layoutready",function(S){r.notifications(!0),r.emit(S),r.one("load",v),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",x),r.emit("done")});var w=kr({},r._private.options.layout);w.eles=r.elements(),r.layout(w).run()};h([o.style,o.elements],function(p){var m=p[0],v=p[1];u.styleEnabled&&r.style().append(m),d(v,function(){r.startAnimationLoop(),u.ready=!0,gi(o.ready)&&r.on("ready",o.ready);for(var x=0;x<a.length;x++){var y=a[x];r.on("ready",y)}i&&(i.readies=[]),r.emit("ready")},o.done)})},kk=tb.prototype;kr(kk,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Zi;var r=this._private.container.ownerDocument;return r===void 0||r==null?Zi:r.defaultView||Zi},mount:function(e){if(e!=null){var r=this,n=r._private,i=n.options;return!mk(e)&&mk(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(kr({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Ku(this._private.options)},json:function(e){var r=this,n=r._private,i=r.mutableElements(),a=function(E){return r.getElementById(E.id())};if(en(e)){if(r.startBatch(),e.elements){var s={},o=function(E,C){for(var L=[],_=[],I=0;I<E.length;I++){var D=E[I];if(!D.data.id){vn("cy.json() cannot handle elements without an ID attribute");continue}var F=""+D.data.id,M=r.getElementById(F);s[F]=!0,M.length!==0?_.push({ele:M,json:D}):(C&&(D.group=C),L.push(D))}r.add(L);for(var B=0;B<_.length;B++){var H=_[B],R=H.ele,O=H.json;R.json(O)}};if(In(e.elements))o(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var h=l[u],f=e.elements[h];In(f)&&o(f,h)}var d=r.collection();i.filter(function(S){return!s[S.id()]}).forEach(function(S){S.isParent()?d.merge(S):S.remove()}),d.forEach(function(S){return S.children().move({parent:null})}),d.forEach(function(S){return a(S).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var p=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],m=0;m<p.length;m++){var v=p[m];e[v]!=null&&r[v](e[v])}return r.endBatch(),this}else{var x=!!e,y={};x?y.elements=this.elements().map(function(S){return S.json()}):(y.elements={},i.forEach(function(S){var E=S.group();y.elements[E]||(y.elements[E]=[]),y.elements[E].push(S.json())})),this._private.styleEnabled&&(y.style=r.style().json()),y.data=Ku(r.data());var w=n.options;return y.zoomingEnabled=n.zoomingEnabled,y.userZoomingEnabled=n.userZoomingEnabled,y.zoom=n.zoom,y.minZoom=n.minZoom,y.maxZoom=n.maxZoom,y.panningEnabled=n.panningEnabled,y.userPanningEnabled=n.userPanningEnabled,y.pan=Ku(n.pan),y.boxSelectionEnabled=n.boxSelectionEnabled,y.renderer=Ku(w.renderer),y.hideEdgesOnViewport=w.hideEdgesOnViewport,y.textureOnViewport=w.textureOnViewport,y.wheelSensitivity=w.wheelSensitivity,y.motionBlur=w.motionBlur,y.multiClickDebounceTime=w.multiClickDebounceTime,y}}});kk.$id=kk.getElementById;[ynt,knt,uhe,N9,q3,Tnt,I9,Y3,_nt,cp,eb].forEach(function(t){kr(kk,t)});var Dnt={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},Rnt={maximal:!1,acyclic:!1},dg=function(e){return e.scratch("breadthfirst")},PW=function(e,r){return e.scratch("breadthfirst",r)};function che(t){this.options=kr({},Dnt,Rnt,t)}che.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().filter(function(be){return!be.isParent()}),a=n,s=e.directed,o=e.acyclic||e.maximal||e.maximalAdjustments>0,l=Eo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u;if(Ho(e.roots))u=e.roots;else if(In(e.roots)){for(var h=[],f=0;f<e.roots.length;f++){var d=e.roots[f],p=r.getElementById(d);h.push(p)}u=r.collection(h)}else if(pr(e.roots))u=r.$(e.roots);else if(s)u=i.roots();else{var m=n.components();u=r.collection();for(var v=function(ce){var Ge=m[ce],xe=Ge.maxDegree(!1),le=Ge.filter(function(ke){return ke.degree(!1)===xe});u=u.add(le)},x=0;x<m.length;x++)v(x)}var y=[],w={},S=function(ce,Ge){y[Ge]==null&&(y[Ge]=[]);var xe=y[Ge].length;y[Ge].push(ce),PW(ce,{index:xe,depth:Ge})},E=function(ce,Ge){var xe=dg(ce),le=xe.depth,ke=xe.index;y[le][ke]=null,S(ce,Ge)};a.bfs({roots:u,directed:e.directed,visit:function(ce,Ge,xe,le,ke){var De=ce[0],We=De.id();S(De,ke),w[We]=!0}});for(var C=[],L=0;L<i.length;L++){var _=i[L];w[_.id()]||C.push(_)}var I=function(ce){for(var Ge=y[ce],xe=0;xe<Ge.length;xe++){var le=Ge[xe];if(le==null){Ge.splice(xe,1),xe--;continue}PW(le,{depth:ce,index:xe})}},D=function(){for(var ce=0;ce<y.length;ce++)I(ce)},F=function(ce,Ge){for(var xe=dg(ce),le=ce.incomers().filter(function(Te){return Te.isNode()&&n.has(Te)}),ke=-1,De=ce.id(),We=0;We<le.length;We++){var qe=le[We],Ve=dg(qe);ke=Math.max(ke,Ve.depth)}if(xe.depth<=ke){if(!e.acyclic&&Ge[De])return null;var we=ke+1;return E(ce,we),Ge[De]=we,!0}return!1};if(s&&o){var M=[],B={},H=function(ce){return M.push(ce)},R=function(){return M.shift()};for(i.forEach(function(be){return M.push(be)});M.length>0;){var O=R(),P=F(O,B);if(P)O.outgoers().filter(function(be){return be.isNode()&&n.has(be)}).forEach(H);else if(P===null){vn("Detected double maximal shift for node `"+O.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}D();var z=0;if(e.avoidOverlap)for(var $=0;$<i.length;$++){var V=i[$],X=V.layoutDimensions(e),q=X.w,Y=X.h;z=Math.max(z,q,Y)}var U={},Z=function(ce){if(U[ce.id()])return U[ce.id()];for(var Ge=dg(ce).depth,xe=ce.neighborhood(),le=0,ke=0,De=0;De<xe.length;De++){var We=xe[De];if(!(We.isEdge()||We.isParent()||!i.has(We))){var qe=dg(We);if(qe!=null){var Ve=qe.index,we=qe.depth;if(!(Ve==null||we==null)){var Te=y[we].length;we<Ge&&(le+=Ve/Te,ke++)}}}}return ke=Math.max(1,ke),le=le/ke,ke===0&&(le=0),U[ce.id()]=le,le},pe=function(ce,Ge){var xe=Z(ce),le=Z(Ge),ke=xe-le;return ke===0?cce(ce.id(),Ge.id()):ke};e.depthSort!==void 0&&(pe=e.depthSort);for(var ne=0;ne<y.length;ne++)y[ne].sort(pe),I(ne);for(var ge=[],ye=0;ye<C.length;ye++)ge.push(C[ye]);y.unshift(ge),D();for(var J=0,se=0;se<y.length;se++)J=Math.max(y[se].length,J);var oe={x:l.x1+l.w/2,y:l.x1+l.h/2},fe=y.reduce(function(be,ce){return Math.max(be,ce.length)},0),me=function(ce){var Ge=dg(ce),xe=Ge.depth,le=Ge.index,ke=y[xe].length,De=Math.max(l.w/((e.grid?fe:ke)+1),z),We=Math.max(l.h/(y.length+1),z),qe=Math.min(l.w/2/y.length,l.h/2/y.length);if(qe=Math.max(qe,z),e.circle){var we=qe*xe+qe-(y.length>0&&y[0].length<=3?qe/2:0),Te=2*Math.PI/y[xe].length*le;return xe===0&&y[0].length===1&&(we=1),{x:oe.x+we*Math.cos(Te),y:oe.y+we*Math.sin(Te)}}else{var Ve={x:oe.x+(le+1-(ke+1)/2)*De,y:(xe+1)*We};return Ve}};return n.nodes().layoutPositions(this,e,me),this};var Mnt={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function hhe(t){this.options=kr({},Mnt,t)}hhe.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));for(var s=Eo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/a.length:e.sweep,u=l/Math.max(1,a.length-1),h,f=0,d=0;d<a.length;d++){var p=a[d],m=p.layoutDimensions(e),v=m.w,x=m.h;f=Math.max(f,v,x)}if($t(e.radius)?h=e.radius:a.length<=1?h=0:h=Math.min(s.h,s.w)/2-f,a.length>1&&e.avoidOverlap){f*=1.75;var y=Math.cos(u)-Math.cos(0),w=Math.sin(u)-Math.sin(0),S=Math.sqrt(f*f/(y*y+w*w));h=Math.max(S,h)}var E=function(L,_){var I=e.startAngle+_*u*(i?1:-1),D=h*Math.cos(I),F=h*Math.sin(I),M={x:o.x+D,y:o.y+F};return M};return n.nodes().layoutPositions(this,e,E),this};var Nnt={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function fhe(t){this.options=kr({},Nnt,t)}fhe.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,a=i.nodes().not(":parent"),s=Eo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=[],u=0,h=0;h<a.length;h++){var f=a[h],d=void 0;d=e.concentric(f),l.push({value:d,node:f}),f._private.scratch.concentric=d}a.updateStyle();for(var p=0;p<a.length;p++){var m=a[p],v=m.layoutDimensions(e);u=Math.max(u,v.w,v.h)}l.sort(function(be,ce){return ce.value-be.value});for(var x=e.levelWidth(a),y=[[]],w=y[0],S=0;S<l.length;S++){var E=l[S];if(w.length>0){var C=Math.abs(w[0].value-E.value);C>=x&&(w=[],y.push(w))}w.push(E)}var L=u+e.minNodeSpacing;if(!e.avoidOverlap){var _=y.length>0&&y[0].length>1,I=Math.min(s.w,s.h)/2-L,D=I/(y.length+_?1:0);L=Math.min(L,D)}for(var F=0,M=0;M<y.length;M++){var B=y[M],H=e.sweep===void 0?2*Math.PI-2*Math.PI/B.length:e.sweep,R=B.dTheta=H/Math.max(1,B.length-1);if(B.length>1&&e.avoidOverlap){var O=Math.cos(R)-Math.cos(0),P=Math.sin(R)-Math.sin(0),z=Math.sqrt(L*L/(O*O+P*P));F=Math.max(z,F)}B.r=F,F+=L}if(e.equidistant){for(var $=0,V=0,X=0;X<y.length;X++){var q=y[X],Y=q.r-V;$=Math.max($,Y)}V=0;for(var U=0;U<y.length;U++){var Z=y[U];U===0&&(V=Z.r),Z.r=V,V+=$}}for(var pe={},ne=0;ne<y.length;ne++)for(var ge=y[ne],ye=ge.dTheta,J=ge.r,se=0;se<ge.length;se++){var oe=ge[se],fe=e.startAngle+(r?1:-1)*ye*se,me={x:o.x+J*Math.cos(fe),y:o.y+J*Math.sin(fe)};pe[oe.node.id()]=me}return i.nodes().layoutPositions(this,e,function(be){var ce=be.id();return pe[ce]}),this};var P8,Int={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function oC(t){this.options=kr({},Int,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var a=i.source().data("id"),s=i.target().data("id"),o=e.some(function(u){return u.data("id")===a}),l=e.some(function(u){return u.data("id")===s});return!o||!l});this.options.eles=this.options.eles.not(n)}oC.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?P8=!0:P8=!1;var n=Ont(e,r,t);P8&&Bnt(n),t.randomize&&$nt(n);var i=wh(),a=function(){znt(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(d){return!(r.stopped||d>=t.numIter||(Hnt(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},o=function(){if(t.animate===!0||t.animate===!1)a(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var d=t.eles.nodes(),p=dhe(n,t,d);d.layoutPositions(r,t,p)}},l=0,u=!0;if(t.animate===!0){var h=function f(){for(var d=0;u&&d<t.refresh;)u=s(l),l++,d++;if(!u)BW(n,t),o();else{var p=wh();p-i>=t.animationThreshold&&a(),vk(f)}};h()}else{for(;u;)u=s(l),l++;BW(n,t),o()}return this};oC.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};oC.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Ont=function(e,r,n){for(var i=n.eles.edges(),a=n.eles.nodes(),s=Eo(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},l=n.eles.components(),u={},h=0;h<l.length;h++)for(var f=l[h],d=0;d<f.length;d++){var p=f[d];u[p.id()]=h}for(var h=0;h<o.nodeSize;h++){var m=a[h],v=m.layoutDimensions(n),x={};x.isLocked=m.locked(),x.id=m.data("id"),x.parentId=m.data("parent"),x.cmptId=u[m.id()],x.children=[],x.positionX=m.position("x"),x.positionY=m.position("y"),x.offsetX=0,x.offsetY=0,x.height=v.w,x.width=v.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(m.style("padding")),x.padRight=parseFloat(m.style("padding")),x.padTop=parseFloat(m.style("padding")),x.padBottom=parseFloat(m.style("padding")),x.nodeRepulsion=gi(n.nodeRepulsion)?n.nodeRepulsion(m):n.nodeRepulsion,o.layoutNodes.push(x),o.idToIndex[x.id]=h}for(var y=[],w=0,S=-1,E=[],h=0;h<o.nodeSize;h++){var m=o.layoutNodes[h],C=m.parentId;C!=null?o.layoutNodes[o.idToIndex[C]].children.push(m.id):(y[++S]=m.id,E.push(m.id))}for(o.graphSet.push(E);w<=S;){var L=y[w++],_=o.idToIndex[L],p=o.layoutNodes[_],I=p.children;if(I.length>0){o.graphSet.push(I);for(var h=0;h<I.length;h++)y[++S]=I[h]}}for(var h=0;h<o.graphSet.length;h++)for(var D=o.graphSet[h],d=0;d<D.length;d++){var F=o.idToIndex[D[d]];o.indexToGraph[F]=h}for(var h=0;h<o.edgeSize;h++){var M=i[h],B={};B.id=M.data("id"),B.sourceId=M.data("source"),B.targetId=M.data("target");var H=gi(n.idealEdgeLength)?n.idealEdgeLength(M):n.idealEdgeLength,R=gi(n.edgeElasticity)?n.edgeElasticity(M):n.edgeElasticity,O=o.idToIndex[B.sourceId],P=o.idToIndex[B.targetId],z=o.indexToGraph[O],$=o.indexToGraph[P];if(z!=$){for(var V=Pnt(B.sourceId,B.targetId,o),X=o.graphSet[V],q=0,x=o.layoutNodes[O];X.indexOf(x.id)===-1;)x=o.layoutNodes[o.idToIndex[x.parentId]],q++;for(x=o.layoutNodes[P];X.indexOf(x.id)===-1;)x=o.layoutNodes[o.idToIndex[x.parentId]],q++;H*=q*n.nestingFactor}B.idealLength=H,B.elasticity=R,o.layoutEdges.push(B)}return o},Pnt=function(e,r,n){var i=Fnt(e,r,0,n);return 2>i.count?0:i.graph},Fnt=function t(e,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(e)&&-1<a.indexOf(r))return{count:2,graph:n};for(var s=0,o=0;o<a.length;o++){var l=a[o],u=i.idToIndex[l],h=i.layoutNodes[u].children;if(h.length!==0){var f=i.indexToGraph[i.idToIndex[h[0]]],d=t(e,r,f,i);if(d.count!==0)if(d.count===1){if(s++,s===2)break}else return d}}return{count:s,graph:n}},Bnt,$nt=function(e,r){for(var n=e.clientWidth,i=e.clientHeight,a=0;a<e.nodeSize;a++){var s=e.layoutNodes[a];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*i)}},dhe=function(e,r,n){var i=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var o=e.layoutNodes[e.idToIndex[s.data("id")]];a.x1=Math.min(a.x1,o.positionX),a.x2=Math.max(a.x2,o.positionX),a.y1=Math.min(a.y1,o.positionY),a.y2=Math.max(a.y2,o.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(s,o){var l=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var u=(l.positionX-a.x1)/a.w,h=(l.positionY-a.y1)/a.h;return{x:i.x1+u*i.w,y:i.y1+h*i.h}}else return{x:l.positionX,y:l.positionY}}},znt=function(e,r,n){var i=n.layout,a=n.eles.nodes(),s=dhe(e,n,a);a.positions(s),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},Hnt=function(e,r,n){Vnt(e,r),Wnt(e),qnt(e,r),Ynt(e),Xnt(e)},Vnt=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],a=i.length,s=0;s<a;s++)for(var o=e.layoutNodes[e.idToIndex[i[s]]],l=s+1;l<a;l++){var u=e.layoutNodes[e.idToIndex[i[l]]];Unt(o,u,e,r)}},FW=function(e){return-e+2*e*Math.random()},Unt=function(e,r,n,i){var a=e.cmptId,s=r.cmptId;if(!(a!==s&&!n.isCompound)){var o=r.positionX-e.positionX,l=r.positionY-e.positionY,u=1;o===0&&l===0&&(o=FW(u),l=FW(u));var h=Gnt(e,r,o,l);if(h>0)var f=i.nodeOverlap*h,d=Math.sqrt(o*o+l*l),p=f*o/d,m=f*l/d;else var v=Ek(e,o,l),x=Ek(r,-1*o,-1*l),y=x.x-v.x,w=x.y-v.y,S=y*y+w*w,d=Math.sqrt(S),f=(e.nodeRepulsion+r.nodeRepulsion)/S,p=f*y/d,m=f*w/d;e.isLocked||(e.offsetX-=p,e.offsetY-=m),r.isLocked||(r.offsetX+=p,r.offsetY+=m)}},Gnt=function(e,r,n,i){if(n>0)var a=e.maxX-r.minX;else var a=r.maxX-e.minX;if(i>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return a>=0&&s>=0?Math.sqrt(a*a+s*s):0},Ek=function(e,r,n){var i=e.positionX,a=e.positionY,s=e.height||1,o=e.width||1,l=n/r,u=s/o,h={};return r===0&&0<n||r===0&&0>n?(h.x=i,h.y=a+s/2,h):0<r&&-1*u<=l&&l<=u?(h.x=i+o/2,h.y=a+o*n/2/r,h):0>r&&-1*u<=l&&l<=u?(h.x=i-o/2,h.y=a-o*n/2/r,h):0<n&&(l<=-1*u||l>=u)?(h.x=i+s*r/2/n,h.y=a+s/2,h):(0>n&&(l<=-1*u||l>=u)&&(h.x=i-s*r/2/n,h.y=a-s/2),h)},Wnt=function(e,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],a=e.idToIndex[i.sourceId],s=e.layoutNodes[a],o=e.idToIndex[i.targetId],l=e.layoutNodes[o],u=l.positionX-s.positionX,h=l.positionY-s.positionY;if(!(u===0&&h===0)){var f=Ek(s,u,h),d=Ek(l,-1*u,-1*h),p=d.x-f.x,m=d.y-f.y,v=Math.sqrt(p*p+m*m),x=Math.pow(i.idealLength-v,2)/i.elasticity;if(v!==0)var y=x*p/v,w=x*m/v;else var y=0,w=0;s.isLocked||(s.offsetX+=y,s.offsetY+=w),l.isLocked||(l.offsetX-=y,l.offsetY-=w)}}},qnt=function(e,r){if(r.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var a=e.graphSet[i],s=a.length;if(i===0)var o=e.clientHeight/2,l=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[a[0]]],h=e.layoutNodes[e.idToIndex[u.parentId]],o=h.positionX,l=h.positionY;for(var f=0;f<s;f++){var d=e.layoutNodes[e.idToIndex[a[f]]];if(!d.isLocked){var p=o-d.positionX,m=l-d.positionY,v=Math.sqrt(p*p+m*m);if(v>n){var x=r.gravity*p/v,y=r.gravity*m/v;d.offsetX+=x,d.offsetY+=y}}}}},Ynt=function(e,r){var n=[],i=0,a=-1;for(n.push.apply(n,e.graphSet[0]),a+=e.graphSet[0].length;i<=a;){var s=n[i++],o=e.idToIndex[s],l=e.layoutNodes[o],u=l.children;if(0<u.length&&!l.isLocked){for(var h=l.offsetX,f=l.offsetY,d=0;d<u.length;d++){var p=e.layoutNodes[e.idToIndex[u[d]]];p.offsetX+=h,p.offsetY+=f,n[++a]=u[d]}l.offsetX=0,l.offsetY=0}}},Xnt=function(e,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var a=jnt(i.offsetX,i.offsetY,e.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,Knt(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},jnt=function(e,r,n){var i=Math.sqrt(e*e+r*r);if(i>n)var a={x:n*e/i,y:n*r/i};else var a={x:e,y:r};return a},Knt=function t(e,r){var n=e.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],a=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,a=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,a=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,a=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,a=!0),a)return t(i,r)}},BW=function(e,r){for(var n=e.layoutNodes,i=[],a=0;a<n.length;a++){var s=n[a],o=s.cmptId,l=i[o]=i[o]||[];l.push(s)}for(var u=0,a=0;a<i.length;a++){var h=i[a];if(h){h.x1=1/0,h.x2=-1/0,h.y1=1/0,h.y2=-1/0;for(var f=0;f<h.length;f++){var d=h[f];h.x1=Math.min(h.x1,d.positionX-d.width/2),h.x2=Math.max(h.x2,d.positionX+d.width/2),h.y1=Math.min(h.y1,d.positionY-d.height/2),h.y2=Math.max(h.y2,d.positionY+d.height/2)}h.w=h.x2-h.x1,h.h=h.y2-h.y1,u+=h.w*h.h}}i.sort(function(w,S){return S.w*S.h-w.w*w.h});for(var p=0,m=0,v=0,x=0,y=Math.sqrt(u)*e.clientWidth/e.clientHeight,a=0;a<i.length;a++){var h=i[a];if(h){for(var f=0;f<h.length;f++){var d=h[f];d.isLocked||(d.positionX+=p-h.x1,d.positionY+=m-h.y1)}p+=h.w+r.componentSpacing,v+=h.w+r.componentSpacing,x=Math.max(x,h.h),v>y&&(m+=x+r.componentSpacing,p=0,v=0,x=0)}}},Qnt={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function phe(t){this.options=kr({},Qnt,t)}phe.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var a=Eo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,e,function(U){return{x:a.x1,y:a.y1}});else{var s=i.size(),o=Math.sqrt(s*a.h/a.w),l=Math.round(o),u=Math.round(a.w/a.h*o),h=function(Z){if(Z==null)return Math.min(l,u);var pe=Math.min(l,u);pe==l?l=Z:u=Z},f=function(Z){if(Z==null)return Math.max(l,u);var pe=Math.max(l,u);pe==l?l=Z:u=Z},d=e.rows,p=e.cols!=null?e.cols:e.columns;if(d!=null&&p!=null)l=d,u=p;else if(d!=null&&p==null)l=d,u=Math.ceil(s/l);else if(d==null&&p!=null)u=p,l=Math.ceil(s/u);else if(u*l>s){var m=h(),v=f();(m-1)*v>=s?h(m-1):(v-1)*m>=s&&f(v-1)}else for(;u*l<s;){var x=h(),y=f();(y+1)*x>=s?f(y+1):h(x+1)}var w=a.w/u,S=a.h/l;if(e.condense&&(w=0,S=0),e.avoidOverlap)for(var E=0;E<i.length;E++){var C=i[E],L=C._private.position;(L.x==null||L.y==null)&&(L.x=0,L.y=0);var _=C.layoutDimensions(e),I=e.avoidOverlapPadding,D=_.w+I,F=_.h+I;w=Math.max(w,D),S=Math.max(S,F)}for(var M={},B=function(Z,pe){return!!M["c-"+Z+"-"+pe]},H=function(Z,pe){M["c-"+Z+"-"+pe]=!0},R=0,O=0,P=function(){O++,O>=u&&(O=0,R++)},z={},$=0;$<i.length;$++){var V=i[$],X=e.position(V);if(X&&(X.row!==void 0||X.col!==void 0)){var q={row:X.row,col:X.col};if(q.col===void 0)for(q.col=0;B(q.row,q.col);)q.col++;else if(q.row===void 0)for(q.row=0;B(q.row,q.col);)q.row++;z[V.id()]=q,H(q.row,q.col)}}var Y=function(Z,pe){var ne,ge;if(Z.locked()||Z.isParent())return!1;var ye=z[Z.id()];if(ye)ne=ye.col*w+w/2+a.x1,ge=ye.row*S+S/2+a.y1;else{for(;B(R,O);)P();ne=O*w+w/2+a.x1,ge=R*S+S/2+a.y1,H(R,O),P()}return{x:ne,y:ge}};i.layoutPositions(this,e,Y)}return this};var Znt={ready:function(){},stop:function(){}};function eO(t){this.options=kr({},Znt,t)}eO.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};eO.prototype.stop=function(){return this};var Jnt={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function ghe(t){this.options=kr({},Jnt,t)}ghe.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=gi(t.positions);function i(a){if(t.positions==null)return tJe(a.position());if(n)return t.positions(a);var s=t.positions[a._private.data.id];return s??null}return r.layoutPositions(this,t,function(a,s){var o=i(a);return a.locked()||o==null?!1:o}),this};var eit={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function mhe(t){this.options=kr({},eit,t)}mhe.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=Eo(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(s,o){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,i),this};var tit=[{name:"breadthfirst",impl:che},{name:"circle",impl:hhe},{name:"concentric",impl:fhe},{name:"cose",impl:oC},{name:"grid",impl:phe},{name:"null",impl:eO},{name:"preset",impl:ghe},{name:"random",impl:mhe}];function vhe(t){this.options=t,this.notifications=0}var $W=function(){},zW=function(){throw new Error("A headless instance can not render images")};vhe.prototype={recalculateRenderedStyle:$W,notify:function(){this.notifications++},init:$W,isHeadless:function(){return!0},png:zW,jpg:zW};var tO={};tO.arrowShapeWidth=.3;tO.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(u,h,f,d,p,m,v){var x=p.x-f/2-v,y=p.x+f/2+v,w=p.y-f/2-v,S=p.y+f/2+v,E=x<=u&&u<=y&&w<=h&&h<=S;return E},n=function(u,h,f,d,p){var m=u*Math.cos(d)-h*Math.sin(d),v=u*Math.sin(d)+h*Math.cos(d),x=m*f,y=v*f,w=x+p.x,S=y+p.y;return{x:w,y:S}},i=function(u,h,f,d){for(var p=[],m=0;m<u.length;m+=2){var v=u[m],x=u[m+1];p.push(n(v,x,h,f,d))}return p},a=function(u){for(var h=[],f=0;f<u.length;f++){var d=u[f];h.push(d.x,d.y)}return h},s=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},o=function(u,h){pr(h)&&(h=t[h]),t[u]=kr({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(d,p,m,v,x,y){var w=a(i(this.points,m+2*y,v,x)),S=uo(d,p,w);return S},roughCollide:r,draw:function(d,p,m,v){var x=i(this.points,p,m,v);e.arrowShapeImpl("polygon")(d,x)},spacing:function(d){return 0},gap:s},h)};o("none",{collide:yk,roughCollide:yk,draw:zI,spacing:KG,gap:KG}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,h,f,d,p){var m=i(this.points,h,f,d),v=this.controlPoint,x=n(v[0],v[1],h,f,d);e.arrowShapeImpl(this.name)(u,m,x)},gap:function(u){return s(u)*.8}}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,h,f,d,p,m,v){var x=a(i(this.points,f+2*v,d,p)),y=a(i(this.pointsTee,f+2*v,d,p)),w=uo(u,h,x)||uo(u,h,y);return w},draw:function(u,h,f,d,p){var m=i(this.points,h,f,d),v=i(this.pointsTee,h,f,d);e.arrowShapeImpl(this.name)(u,m,v)}}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,h,f,d,p,m,v){var x=p,y=Math.pow(x.x-u,2)+Math.pow(x.y-h,2)<=Math.pow((f+2*v)*this.radius,2),w=a(i(this.points,f+2*v,d,p));return uo(u,h,w)||y},draw:function(u,h,f,d,p){var m=i(this.pointsTr,h,f,d);e.arrowShapeImpl(this.name)(u,m,d.x,d.y,this.radius*h)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,h){var f=this.baseCrossLinePts.slice(),d=h/u,p=3,m=5;return f[p]=f[p]-d,f[m]=f[m]-d,f},collide:function(u,h,f,d,p,m,v){var x=a(i(this.points,f+2*v,d,p)),y=a(i(this.crossLinePts(f,m),f+2*v,d,p)),w=uo(u,h,x)||uo(u,h,y);return w},draw:function(u,h,f,d,p){var m=i(this.points,h,f,d),v=i(this.crossLinePts(h,p),h,f,d);e.arrowShapeImpl(this.name)(u,m,v)}}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return s(u)*.525}}),o("circle",{radius:.15,collide:function(u,h,f,d,p,m,v){var x=p,y=Math.pow(x.x-u,2)+Math.pow(x.y-h,2)<=Math.pow((f+2*v)*this.radius,2);return y},draw:function(u,h,f,d,p){e.arrowShapeImpl(this.name)(u,d.x,d.y,this.radius*h)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var Dp={};Dp.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],s=n[4],o=r.pan(),l=r.zoom(),u=((t-i)/s-o.x)/l,h=((e-a)/s-o.y)/l;return[u,h]};Dp.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(y){return parseFloat(r.getPropertyValue(y))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,o=t.clientHeight,l=i.left+i.right,u=i.top+i.bottom,h=a.left+a.right,f=e.width/(s+h),d=s-l,p=o-u,m=e.left+i.left+a.left,v=e.top+i.top+a.top;return this.containerBB=[m,v,d,p,f]};Dp.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Dp.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Dp.findNearestElements=function(t,e,r,n){var i=this,a=this,s=a.getCachedZSortedEles(),o=[],l=a.cy.zoom(),u=a.cy.hasCompoundNodes(),h=(n?24:8)/l,f=(n?8:2)/l,d=(n?8:2)/l,p=1/0,m,v;r&&(s=s.interactive);function x(_,I){if(_.isNode()){if(v)return;v=_,o.push(_)}if(_.isEdge()&&(I==null||I<p))if(m){if(m.pstyle("z-compound-depth").value===_.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===_.pstyle("z-compound-depth").value){for(var D=0;D<o.length;D++)if(o[D].isEdge()){o[D]=_,m=_,p=I??p;break}}}else o.push(_),m=_,p=I??p}function y(_){var I=_.outerWidth()+2*f,D=_.outerHeight()+2*f,F=I/2,M=D/2,B=_.position(),H=_.pstyle("corner-radius").value==="auto"?"auto":_.pstyle("corner-radius").pfValue,R=_._private.rscratch;if(B.x-F<=t&&t<=B.x+F&&B.y-M<=e&&e<=B.y+M){var O=a.nodeShapes[i.getNodeShape(_)];if(O.checkPoint(t,e,0,I,D,B.x,B.y,H,R))return x(_,0),!0}}function w(_){var I=_._private,D=I.rscratch,F=_.pstyle("width").pfValue,M=_.pstyle("arrow-scale").value,B=F/2+h,H=B*B,R=B*2,$=I.source,V=I.target,O;if(D.edgeType==="segments"||D.edgeType==="straight"||D.edgeType==="haystack"){for(var P=D.allpts,z=0;z+3<P.length;z+=2)if(pJe(t,e,P[z],P[z+1],P[z+2],P[z+3],R)&&H>(O=xJe(t,e,P[z],P[z+1],P[z+2],P[z+3])))return x(_,O),!0}else if(D.edgeType==="bezier"||D.edgeType==="multibezier"||D.edgeType==="self"||D.edgeType==="compound"){for(var P=D.allpts,z=0;z+5<D.allpts.length;z+=4)if(gJe(t,e,P[z],P[z+1],P[z+2],P[z+3],P[z+4],P[z+5],R)&&H>(O=yJe(t,e,P[z],P[z+1],P[z+2],P[z+3],P[z+4],P[z+5])))return x(_,O),!0}for(var $=$||I.source,V=V||I.target,X=i.getArrowWidth(F,M),q=[{name:"source",x:D.arrowStartX,y:D.arrowStartY,angle:D.srcArrowAngle},{name:"target",x:D.arrowEndX,y:D.arrowEndY,angle:D.tgtArrowAngle},{name:"mid-source",x:D.midX,y:D.midY,angle:D.midsrcArrowAngle},{name:"mid-target",x:D.midX,y:D.midY,angle:D.midtgtArrowAngle}],z=0;z<q.length;z++){var Y=q[z],U=a.arrowShapes[_.pstyle(Y.name+"-arrow-shape").value],Z=_.pstyle("width").pfValue;if(U.roughCollide(t,e,X,Y.angle,{x:Y.x,y:Y.y},Z,h)&&U.collide(t,e,X,Y.angle,{x:Y.x,y:Y.y},Z,h))return x(_),!0}u&&o.length>0&&(y($),y(V))}function S(_,I,D){return eu(_,I,D)}function E(_,I){var D=_._private,F=d,M;I?M=I+"-":M="",_.boundingBox();var B=D.labelBounds[I||"main"],H=_.pstyle(M+"label").value,R=_.pstyle("text-events").strValue==="yes";if(!(!R||!H)){var O=S(D.rscratch,"labelX",I),P=S(D.rscratch,"labelY",I),z=S(D.rscratch,"labelAngle",I),$=_.pstyle(M+"text-margin-x").pfValue,V=_.pstyle(M+"text-margin-y").pfValue,X=B.x1-F-$,q=B.x2+F-$,Y=B.y1-F-V,U=B.y2+F-V;if(z){var Z=Math.cos(z),pe=Math.sin(z),ne=function(me,be){return me=me-O,be=be-P,{x:me*Z-be*pe+O,y:me*pe+be*Z+P}},ge=ne(X,Y),ye=ne(X,U),J=ne(q,Y),se=ne(q,U),oe=[ge.x+$,ge.y+V,J.x+$,J.y+V,se.x+$,se.y+V,ye.x+$,ye.y+V];if(uo(t,e,oe))return x(_),!0}else if(Um(B,t,e))return x(_),!0}}for(var C=s.length-1;C>=0;C--){var L=s[C];L.isNode()?y(L)||E(L):w(L)||E(L)||E(L,"source")||E(L,"target")}return o};Dp.getAllInBox=function(t,e,r,n){var i=this.getCachedZSortedEles().interactive,a=[],s=Math.min(t,r),o=Math.max(t,r),l=Math.min(e,n),u=Math.max(e,n);t=s,r=o,e=l,n=u;for(var h=Eo({x1:t,y1:e,x2:r,y2:n}),f=0;f<i.length;f++){var d=i[f];if(d.isNode()){var p=d,m=p.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});UI(h,m)&&!Cce(m,h)&&a.push(p)}else{var v=d,x=v._private,y=x.rscratch;if(y.startX!=null&&y.startY!=null&&!Um(h,y.startX,y.startY)||y.endX!=null&&y.endY!=null&&!Um(h,y.endX,y.endY))continue;if(y.edgeType==="bezier"||y.edgeType==="multibezier"||y.edgeType==="self"||y.edgeType==="compound"||y.edgeType==="segments"||y.edgeType==="haystack"){for(var w=x.rstyle.bezierPts||x.rstyle.linePts||x.rstyle.haystackPts,S=!0,E=0;E<w.length;E++)if(!dJe(h,w[E])){S=!1;break}S&&a.push(v)}else(y.edgeType==="haystack"||y.edgeType==="straight")&&a.push(v)}}return a};var Tk={};Tk.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",a=e.edgeType==="segments",s=e.edgeType==="compound",o=e.edgeType==="self",l,u,h,f,d,p,y,w;if(r?(h=e.haystackPts[0],f=e.haystackPts[1],d=e.haystackPts[2],p=e.haystackPts[3]):(h=e.arrowStartX,f=e.arrowStartY,d=e.arrowEndX,p=e.arrowEndY),y=e.midX,w=e.midY,a)l=h-e.segpts[0],u=f-e.segpts[1];else if(i||s||o||n){var m=e.allpts,v=ga(m[0],m[2],m[4],.1),x=ga(m[1],m[3],m[5],.1);l=h-v,u=f-x}else l=h-y,u=f-w;e.srcArrowAngle=Nw(l,u);var y=e.midX,w=e.midY;if(r&&(y=(h+d)/2,w=(f+p)/2),l=d-h,u=p-f,a){var m=e.allpts;if(m.length/2%2===0){var S=m.length/2,E=S-2;l=m[S]-m[E],u=m[S+1]-m[E+1]}else if(e.isRound)l=e.midVector[1],u=-e.midVector[0];else{var S=m.length/2-1,E=S-2;l=m[S]-m[E],u=m[S+1]-m[E+1]}}else if(i||s||o){var m=e.allpts,C=e.ctrlpts,L,_,I,D;if(C.length/2%2===0){var F=m.length/2-1,M=F+2,B=M+2;L=ga(m[F],m[M],m[B],0),_=ga(m[F+1],m[M+1],m[B+1],0),I=ga(m[F],m[M],m[B],1e-4),D=ga(m[F+1],m[M+1],m[B+1],1e-4)}else{var M=m.length/2-1,F=M-2,B=M+2;L=ga(m[F],m[M],m[B],.4999),_=ga(m[F+1],m[M+1],m[B+1],.4999),I=ga(m[F],m[M],m[B],.5),D=ga(m[F+1],m[M+1],m[B+1],.5)}l=I-L,u=D-_}if(e.midtgtArrowAngle=Nw(l,u),e.midDispX=l,e.midDispY=u,l*=-1,u*=-1,a){var m=e.allpts;if(m.length/2%2!==0){if(!e.isRound){var S=m.length/2-1,H=S+2;l=-(m[H]-m[S]),u=-(m[H+1]-m[S+1])}}}if(e.midsrcArrowAngle=Nw(l,u),a)l=d-e.segpts[e.segpts.length-2],u=p-e.segpts[e.segpts.length-1];else if(i||s||o||n){var m=e.allpts,R=m.length,v=ga(m[R-6],m[R-4],m[R-2],.9),x=ga(m[R-5],m[R-3],m[R-1],.9);l=d-v,u=p-x}else l=d-y,u=p-w;e.tgtArrowAngle=Nw(l,u)};Tk.getArrowWidth=Tk.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var O9,P9,Mu={},sl={},HW,VW,n0,X3,Mc,Hd,Kd,Ru,pg,Vw,yhe,xhe,F9,B9,UW,GW=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},rit=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},nit=function(e,r,n,i,a){if(e!==UW?GW(r,e,Mu):rit(sl,Mu),GW(r,n,sl),HW=Mu.nx*sl.ny-Mu.ny*sl.nx,VW=Mu.nx*sl.nx-Mu.ny*-sl.ny,Mc=Math.asin(Math.max(-1,Math.min(1,HW))),Math.abs(Mc)<1e-6){O9=r.x,P9=r.y,Kd=pg=0;return}n0=1,X3=!1,VW<0?Mc<0?Mc=Math.PI+Mc:(Mc=Math.PI-Mc,n0=-1,X3=!0):Mc>0&&(n0=-1,X3=!0),r.radius!==void 0?pg=r.radius:pg=i,Hd=Mc/2,Vw=Math.min(Mu.len/2,sl.len/2),a?(Ru=Math.abs(Math.cos(Hd)*pg/Math.sin(Hd)),Ru>Vw?(Ru=Vw,Kd=Math.abs(Ru*Math.sin(Hd)/Math.cos(Hd))):Kd=pg):(Ru=Math.min(Vw,pg),Kd=Math.abs(Ru*Math.sin(Hd)/Math.cos(Hd))),F9=r.x+sl.nx*Ru,B9=r.y+sl.ny*Ru,O9=F9-sl.ny*Kd*n0,P9=B9+sl.nx*Kd*n0,yhe=r.x+Mu.nx*Ru,xhe=r.y+Mu.ny*Ru,UW=r};function bhe(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function rO(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(nit(t,e,r,n,i),{cx:O9,cy:P9,radius:Kd,startX:yhe,startY:xhe,stopX:F9,stopY:B9,startAngle:Mu.ang+Math.PI/2*n0,endAngle:sl.ang-Math.PI/2*n0,counterClockwise:X3})}var ks={};ks.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,a,s=t.pstyle("source-endpoint"),o=t.pstyle("target-endpoint"),l=s.units!=null&&o.units!=null,u=function(C,L,_,I){var D=I-L,F=_-C,M=Math.sqrt(F*F+D*D);return{x:-D/M,y:F/M}},h=t.pstyle("edge-distances").value;switch(h){case"node-position":a=r;break;case"intersection":a=n;break;case"endpoints":{if(l){var f=this.manualEndptToPx(t.source()[0],s),d=Xl(f,2),p=d[0],m=d[1],v=this.manualEndptToPx(t.target()[0],o),x=Xl(v,2),y=x[0],w=x[1],S={x1:p,y1:m,x2:y,y2:w};i=u(p,m,y,w),a=S}else vn("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}};ks.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var s=n.source,o=n.target,l=s.position(),u=o.position(),h=s.width(),f=o.width(),d=s.height(),p=o.height(),m=r.pstyle("haystack-radius").value,v=m/2;i.haystackPts=i.allpts=[i.source.x*h*v+l.x,i.source.y*d*v+l.y,i.target.x*f*v+u.x,i.target.y*p*v+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};ks.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),a=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),o=Math.min(n.pfValue.length,i.pfValue.length),l=a.pfValue[a.pfValue.length-1],u=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var h=0;h<o;h++){var f=n.pfValue[h],d=i.pfValue[h],p=1-f,m=f,v=this.findMidptPtsEtc(t,e),x=v.midptPts,y=v.vectorNormInverse,w={x:x.x1*p+x.x2*m,y:x.y1*p+x.y2*m};r.segpts.push(w.x+y.x*d,w.y+y.y*d),r.radii.push(a.pfValue[h]!==void 0?a.pfValue[h]:l),r.isArcRadius.push((s.pfValue[h]!==void 0?s.pfValue[h]:u)==="arc-radius")}};ks.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,a=e.dirCounts,s=e.srcPos,o=t.pstyle("control-point-distances"),l=o?o.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,h=t.pstyle("loop-sweep").pfValue,f=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var d=r,p=f;n&&(d=0,p=l);var m=u-Math.PI/2,v=m-h/2,x=m+h/2,y=u+"_"+h;d=a[y]===void 0?a[y]=0:++a[y],i.ctrlpts=[s.x+Math.cos(v)*1.4*p*(d/3+1),s.y+Math.sin(v)*1.4*p*(d/3+1),s.x+Math.cos(x)*1.4*p*(d/3+1),s.y+Math.sin(x)*1.4*p*(d/3+1)]};ks.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var a=e.srcPos,s=e.tgtPos,o=e.srcW,l=e.srcH,u=e.tgtW,h=e.tgtH,f=t.pstyle("control-point-step-size").pfValue,d=t.pstyle("control-point-distances"),p=d?d.pfValue[0]:void 0,m=r,v=f;n&&(m=0,v=p);var x=50,y={x:a.x-o/2,y:a.y-l/2},w={x:s.x-u/2,y:s.y-h/2},S={x:Math.min(y.x,w.x),y:Math.min(y.y,w.y)},E=.5,C=Math.max(E,Math.log(o*.01)),L=Math.max(E,Math.log(u*.01));i.ctrlpts=[S.x,S.y-(1+Math.pow(x,1.12)/100)*v*(m/3+1)*C,S.x-(1+Math.pow(x,1.12)/100)*v*(m/3+1)*L,S.y]};ks.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};ks.findBezierPoints=function(t,e,r,n,i){var a=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,o=t.pstyle("control-point-distances"),l=t.pstyle("control-point-weights"),u=o&&l?Math.min(o.value.length,l.value.length):1,h=o?o.pfValue[0]:void 0,f=l.value[0],d=n;a.edgeType=d?"multibezier":"bezier",a.ctrlpts=[];for(var p=0;p<u;p++){var m=(.5-e.eles.length/2+r)*s*(i?-1:1),v=void 0,x=Ece(m);d&&(h=o?o.pfValue[p]:s,f=l.value[p]),n?v=h:v=h!==void 0?x*h:void 0;var y=v!==void 0?v:m,w=1-f,S=f,E=this.findMidptPtsEtc(t,e),C=E.midptPts,L=E.vectorNormInverse,_={x:C.x1*w+C.x2*S,y:C.y1*w+C.y2*S};a.ctrlpts.push(_.x+L.x*y,_.y+L.y*y)}};ks.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",s="rightward",o="downward",l="upward",u="auto",h=e.posPts,f=e.srcW,d=e.srcH,p=e.tgtW,m=e.tgtH,v=t.pstyle("edge-distances").value,x=v!=="node-position",y=t.pstyle("taxi-direction").value,w=y,S=t.pstyle("taxi-turn"),E=S.units==="%",C=S.pfValue,L=C<0,_=t.pstyle("taxi-turn-min-distance").pfValue,I=x?(f+p)/2:0,D=x?(d+m)/2:0,F=h.x2-h.x1,M=h.y2-h.y1,B=function(ae,Le){return ae>0?Math.max(ae-Le,0):Math.min(ae+Le,0)},H=B(F,I),R=B(M,D),O=!1;w===u?y=Math.abs(H)>Math.abs(R)?i:n:w===l||w===o?(y=n,O=!0):(w===a||w===s)&&(y=i,O=!0);var P=y===n,z=P?R:H,$=P?M:F,V=Ece($),X=!1;!(O&&(E||L))&&(w===o&&$<0||w===l&&$>0||w===a&&$>0||w===s&&$<0)&&(V*=-1,z=V*Math.abs(z),X=!0);var q;if(E){var Y=C<0?1+C:C;q=Y*z}else{var U=C<0?z:0;q=U+C*V}var Z=function(ae){return Math.abs(ae)<_||Math.abs(ae)>=Math.abs(z)},pe=Z(q),ne=Z(Math.abs(z)-Math.abs(q)),ge=pe||ne;if(ge&&!X)if(P){var ye=Math.abs($)<=d/2,J=Math.abs(F)<=p/2;if(ye){var se=(h.x1+h.x2)/2,oe=h.y1,fe=h.y2;r.segpts=[se,oe,se,fe]}else if(J){var me=(h.y1+h.y2)/2,be=h.x1,ce=h.x2;r.segpts=[be,me,ce,me]}else r.segpts=[h.x1,h.y2]}else{var Ge=Math.abs($)<=f/2,xe=Math.abs(M)<=m/2;if(Ge){var le=(h.y1+h.y2)/2,ke=h.x1,De=h.x2;r.segpts=[ke,le,De,le]}else if(xe){var We=(h.x1+h.x2)/2,qe=h.y1,Ve=h.y2;r.segpts=[We,qe,We,Ve]}else r.segpts=[h.x2,h.y1]}else if(P){var we=h.y1+q+(x?d/2*V:0),Te=h.x1,de=h.x2;r.segpts=[Te,we,de,we]}else{var W=h.x1+q+(x?f/2*V:0),ee=h.y1,te=h.y2;r.segpts=[W,ee,W,te]}if(r.isRound){var he=t.pstyle("taxi-radius").value,K=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(he),r.isArcRadius=new Array(r.segpts.length/2).fill(K)}};ks.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,a=e.srcW,s=e.srcH,o=e.tgtW,l=e.tgtH,u=e.srcShape,h=e.tgtShape,f=e.srcCornerRadius,d=e.tgtCornerRadius,p=e.srcRs,m=e.tgtRs,v=!$t(r.startX)||!$t(r.startY),x=!$t(r.arrowStartX)||!$t(r.arrowStartY),y=!$t(r.endX)||!$t(r.endY),w=!$t(r.arrowEndX)||!$t(r.arrowEndY),S=3,E=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,C=S*E,L=op({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),_=L<C,I=op({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),D=I<C,F=!1;if(v||x||_){F=!0;var M={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},B=Math.sqrt(M.x*M.x+M.y*M.y),H={x:M.x/B,y:M.y/B},R=Math.max(a,s),O={x:r.ctrlpts[0]+H.x*2*R,y:r.ctrlpts[1]+H.y*2*R},P=u.intersectLine(n.x,n.y,a,s,O.x,O.y,0,f,p);_?(r.ctrlpts[0]=r.ctrlpts[0]+H.x*(C-L),r.ctrlpts[1]=r.ctrlpts[1]+H.y*(C-L)):(r.ctrlpts[0]=P[0]+H.x*C,r.ctrlpts[1]=P[1]+H.y*C)}if(y||w||D){F=!0;var z={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},$=Math.sqrt(z.x*z.x+z.y*z.y),V={x:z.x/$,y:z.y/$},X=Math.max(a,s),q={x:r.ctrlpts[0]+V.x*2*X,y:r.ctrlpts[1]+V.y*2*X},Y=h.intersectLine(i.x,i.y,o,l,q.x,q.y,0,d,m);D?(r.ctrlpts[0]=r.ctrlpts[0]+V.x*(C-I),r.ctrlpts[1]=r.ctrlpts[1]+V.y*(C-I)):(r.ctrlpts[0]=Y[0]+V.x*C,r.ctrlpts[1]=Y[1]+V.y*C)}F&&this.findEndpoints(t)}};ks.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=ga(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=ga(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var a=2;a+3<e.allpts.length;a+=2){var s=e.radii[a/2-1],o=e.isArcRadius[a/2-1];e.roundCorners.push(rO({x:e.allpts[a-2],y:e.allpts[a-1]},{x:e.allpts[a],y:e.allpts[a+1],radius:s},{x:e.allpts[a+2],y:e.allpts[a+3]},s,o))}}if(e.segpts.length%4===0){var l=e.segpts.length/2,u=l-2;e.midX=(e.segpts[u]+e.segpts[l])/2,e.midY=(e.segpts[u+1]+e.segpts[l+1])/2}else{var h=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[h],e.midY=e.segpts[h+1];else{var f={x:e.segpts[h],y:e.segpts[h+1]},d=e.roundCorners[h/2],p=[f.x-d.cx,f.y-d.cy],m=d.radius/Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2));p=p.map(function(v){return v*m}),e.midX=d.cx+p[0],e.midY=d.cy+p[1],e.midVector=p}}}};ks.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||$t(e.startX)&&$t(e.startY)&&$t(e.endX)&&$t(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,vn("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};ks.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),a={map:new Qu,get:function(_){var I=this.map.get(_[0]);return I!=null?I.get(_[1]):null},set:function(_,I){var D=this.map.get(_[0]);D==null&&(D=new Qu,this.map.set(_[0],D)),D.set(_[1],I)}},s=[],o=[],l=0;l<t.length;l++){var u=t[l],h=u._private,f=u.pstyle("curve-style").value;if(!(u.removed()||!u.takesUpSpace())){if(f==="haystack"){o.push(u);continue}var d=f==="unbundled-bezier"||f.endsWith("segments")||f==="straight"||f==="straight-triangle"||f.endsWith("taxi"),p=f==="unbundled-bezier"||f==="bezier",m=h.source,v=h.target,x=m.poolIndex(),y=v.poolIndex(),w=[x,y].sort(),S=a.get(w);S==null&&(S={eles:[]},a.set(w,S),s.push(w)),S.eles.push(u),d&&(S.hasUnbundled=!0),p&&(S.hasBezier=!0)}}for(var E=function(_){var I=s[_],D=a.get(I),F=void 0;if(!D.hasUnbundled){var M=D.eles[0].parallelEdges().filter(function(W){return W.isBundledBezier()});HI(D.eles),M.forEach(function(W){return D.eles.push(W)}),D.eles.sort(function(W,ee){return W.poolIndex()-ee.poolIndex()})}var B=D.eles[0],H=B.source(),R=B.target();if(H.poolIndex()>R.poolIndex()){var O=H;H=R,R=O}var P=D.srcPos=H.position(),z=D.tgtPos=R.position(),$=D.srcW=H.outerWidth(),V=D.srcH=H.outerHeight(),X=D.tgtW=R.outerWidth(),q=D.tgtH=R.outerHeight(),Y=D.srcShape=r.nodeShapes[e.getNodeShape(H)],U=D.tgtShape=r.nodeShapes[e.getNodeShape(R)],Z=D.srcCornerRadius=H.pstyle("corner-radius").value==="auto"?"auto":H.pstyle("corner-radius").pfValue,pe=D.tgtCornerRadius=R.pstyle("corner-radius").value==="auto"?"auto":R.pstyle("corner-radius").pfValue,ne=D.tgtRs=R._private.rscratch,ge=D.srcRs=H._private.rscratch;D.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ye=0;ye<D.eles.length;ye++){var J=D.eles[ye],se=J[0]._private.rscratch,oe=J.pstyle("curve-style").value,fe=oe==="unbundled-bezier"||oe.endsWith("segments")||oe.endsWith("taxi"),me=!H.same(J.source());if(!D.calculatedIntersection&&H!==R&&(D.hasBezier||D.hasUnbundled)){D.calculatedIntersection=!0;var be=Y.intersectLine(P.x,P.y,$,V,z.x,z.y,0,Z,ge),ce=D.srcIntn=be,Ge=U.intersectLine(z.x,z.y,X,q,P.x,P.y,0,pe,ne),xe=D.tgtIntn=Ge,le=D.intersectionPts={x1:be[0],x2:Ge[0],y1:be[1],y2:Ge[1]},ke=D.posPts={x1:P.x,x2:z.x,y1:P.y,y2:z.y},De=Ge[1]-be[1],We=Ge[0]-be[0],qe=Math.sqrt(We*We+De*De),Ve=D.vector={x:We,y:De},we=D.vectorNorm={x:Ve.x/qe,y:Ve.y/qe},Te={x:-we.y,y:we.x};D.nodesOverlap=!$t(qe)||U.checkPoint(be[0],be[1],0,X,q,z.x,z.y,pe,ne)||Y.checkPoint(Ge[0],Ge[1],0,$,V,P.x,P.y,Z,ge),D.vectorNormInverse=Te,F={nodesOverlap:D.nodesOverlap,dirCounts:D.dirCounts,calculatedIntersection:!0,hasBezier:D.hasBezier,hasUnbundled:D.hasUnbundled,eles:D.eles,srcPos:z,srcRs:ne,tgtPos:P,tgtRs:ge,srcW:X,srcH:q,tgtW:$,tgtH:V,srcIntn:xe,tgtIntn:ce,srcShape:U,tgtShape:Y,posPts:{x1:ke.x2,y1:ke.y2,x2:ke.x1,y2:ke.y1},intersectionPts:{x1:le.x2,y1:le.y2,x2:le.x1,y2:le.y1},vector:{x:-Ve.x,y:-Ve.y},vectorNorm:{x:-we.x,y:-we.y},vectorNormInverse:{x:-Te.x,y:-Te.y}}}var de=me?F:D;se.nodesOverlap=de.nodesOverlap,se.srcIntn=de.srcIntn,se.tgtIntn=de.tgtIntn,se.isRound=oe.startsWith("round"),i&&(H.isParent()||H.isChild()||R.isParent()||R.isChild())&&(H.parents().anySame(R)||R.parents().anySame(H)||H.same(R)&&H.isParent())?e.findCompoundLoopPoints(J,de,ye,fe):H===R?e.findLoopPoints(J,de,ye,fe):oe.endsWith("segments")?e.findSegmentsPoints(J,de):oe.endsWith("taxi")?e.findTaxiPoints(J,de):oe==="straight"||!fe&&D.eles.length%2===1&&ye===Math.floor(D.eles.length/2)?e.findStraightEdgePoints(J):e.findBezierPoints(J,de,ye,fe,me),e.findEndpoints(J),e.tryToCorrectInvalidPoints(J,de),e.checkForInvalidEdgeWarning(J),e.storeAllpts(J),e.storeEdgeProjections(J),e.calculateArrowAngles(J),e.recalculateEdgeLabelProjections(J),e.calculateLabelAngles(J)}},C=0;C<s.length;C++)E(C);this.findHaystackPoints(o)}};function whe(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}ks.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return whe(e.segpts)};ks.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return whe(e.ctrlpts)};ks.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var t4={};t4.manualEndptToPx=function(t,e){var r=this,n=t.position(),i=t.outerWidth(),a=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*i),e.units[1]==="%"&&(o[1]=o[1]*a),o[0]+=n.x,o[1]+=n.y,o}else{var l=e.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(i,a),h=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,a,h[0],h[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};t4.findEndpoints=function(t){var e=this,r,n=t.source()[0],i=t.target()[0],a=n.position(),s=i.position(),o=t.pstyle("target-arrow-shape").value,l=t.pstyle("source-arrow-shape").value,u=t.pstyle("target-distance-from-node").pfValue,h=t.pstyle("source-distance-from-node").pfValue,f=n._private.rscratch,d=i._private.rscratch,p=t.pstyle("curve-style").value,m=t._private.rscratch,v=m.edgeType,x=p==="taxi",y=v==="self"||v==="compound",w=v==="bezier"||v==="multibezier"||y,S=v!=="bezier",E=v==="straight"||v==="segments",C=v==="segments",L=w||S||E,_=y||x,I=t.pstyle("source-endpoint"),D=_?"outside-to-node":I.value,F=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,M=t.pstyle("target-endpoint"),B=_?"outside-to-node":M.value,H=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;m.srcManEndpt=I,m.tgtManEndpt=M;var R,O,P,z;if(w){var $=[m.ctrlpts[0],m.ctrlpts[1]],V=S?[m.ctrlpts[m.ctrlpts.length-2],m.ctrlpts[m.ctrlpts.length-1]]:$;R=V,O=$}else if(E){var X=C?m.segpts.slice(0,2):[s.x,s.y],q=C?m.segpts.slice(m.segpts.length-2):[a.x,a.y];R=q,O=X}if(B==="inside-to-node")r=[s.x,s.y];else if(M.units)r=this.manualEndptToPx(i,M);else if(B==="outside-to-line")r=m.tgtIntn;else if(B==="outside-to-node"||B==="outside-to-node-or-label"?P=R:(B==="outside-to-line"||B==="outside-to-line-or-label")&&(P=[a.x,a.y]),r=e.nodeShapes[this.getNodeShape(i)].intersectLine(s.x,s.y,i.outerWidth(),i.outerHeight(),P[0],P[1],0,H,d),B==="outside-to-node-or-label"||B==="outside-to-line-or-label"){var Y=i._private.rscratch,U=Y.labelWidth,Z=Y.labelHeight,pe=Y.labelX,ne=Y.labelY,ge=U/2,ye=Z/2,J=i.pstyle("text-valign").value;J==="top"?ne-=ye:J==="bottom"&&(ne+=ye);var se=i.pstyle("text-halign").value;se==="left"?pe-=ge:se==="right"&&(pe+=ge);var oe=Kx(P[0],P[1],[pe-ge,ne-ye,pe+ge,ne-ye,pe+ge,ne+ye,pe-ge,ne+ye],s.x,s.y);if(oe.length>0){var fe=a,me=Xd(fe,Hg(r)),be=Xd(fe,Hg(oe)),ce=me;if(be<me&&(r=oe,ce=be),oe.length>2){var Ge=Xd(fe,{x:oe[2],y:oe[3]});Ge<ce&&(r=[oe[2],oe[3]])}}}var xe=Iw(r,R,e.arrowShapes[o].spacing(t)+u),le=Iw(r,R,e.arrowShapes[o].gap(t)+u);if(m.endX=le[0],m.endY=le[1],m.arrowEndX=xe[0],m.arrowEndY=xe[1],D==="inside-to-node")r=[a.x,a.y];else if(I.units)r=this.manualEndptToPx(n,I);else if(D==="outside-to-line")r=m.srcIntn;else if(D==="outside-to-node"||D==="outside-to-node-or-label"?z=O:(D==="outside-to-line"||D==="outside-to-line-or-label")&&(z=[s.x,s.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(a.x,a.y,n.outerWidth(),n.outerHeight(),z[0],z[1],0,F,f),D==="outside-to-node-or-label"||D==="outside-to-line-or-label"){var ke=n._private.rscratch,De=ke.labelWidth,We=ke.labelHeight,qe=ke.labelX,Ve=ke.labelY,we=De/2,Te=We/2,de=n.pstyle("text-valign").value;de==="top"?Ve-=Te:de==="bottom"&&(Ve+=Te);var W=n.pstyle("text-halign").value;W==="left"?qe-=we:W==="right"&&(qe+=we);var ee=Kx(z[0],z[1],[qe-we,Ve-Te,qe+we,Ve-Te,qe+we,Ve+Te,qe-we,Ve+Te],a.x,a.y);if(ee.length>0){var te=s,he=Xd(te,Hg(r)),K=Xd(te,Hg(ee)),_e=he;if(K<he&&(r=[ee[0],ee[1]],_e=K),ee.length>2){var ae=Xd(te,{x:ee[2],y:ee[3]});ae<_e&&(r=[ee[2],ee[3]])}}}var Le=Iw(r,O,e.arrowShapes[l].spacing(t)+h),Ne=Iw(r,O,e.arrowShapes[l].gap(t)+h);m.startX=Ne[0],m.startY=Ne[1],m.arrowStartX=Le[0],m.arrowStartY=Le[1],L&&(!$t(m.startX)||!$t(m.startY)||!$t(m.endX)||!$t(m.endY)?m.badLine=!0:m.badLine=!1)};t4.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};t4.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var nO={};function iit(t,e,r){for(var n=function(u,h,f,d){return ga(u,h,f,d)},i=e._private,a=i.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var o=t.bezierProjPcts[s];a.push({x:n(r[0],r[2],r[4],o),y:n(r[1],r[3],r[5],o)})}}nO.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)iit(this,t,r.allpts.slice(i,i+6))}else if(n==="segments")for(var a=e.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};nO.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var vc={};vc.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!ed(e)){var r,n,i=t._private,a=t.width(),s=t.height(),o=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,h=t.pstyle("text-valign").strValue,f=i.rscratch,d=i.rstyle;switch(u){case"left":r=l.x-a/2-o;break;case"right":r=l.x+a/2+o;break;default:r=l.x}switch(h){case"top":n=l.y-s/2-o;break;case"bottom":n=l.y+s/2+o;break;default:n=l.y}f.labelX=r,f.labelY=n,d.labelX=r,d.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var She=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},khe=function(e,r){var n=r.x-e.x,i=r.y-e.y;return She(n,i)},ait=function(e,r,n,i){var a=jx(0,i-.001,1),s=jx(0,i+.001,1),o=u1(e,r,n,a),l=u1(e,r,n,s);return khe(o,l)};vc.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,a={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(a.mid||a.source||a.target){e={x:n.midX,y:n.midY};var s=function(f,d,p){pf(r.rscratch,f,d,p),pf(r.rstyle,f,d,p)};s("labelX",null,e.x),s("labelY",null,e.y);var o=She(n.midDispX,n.midDispY);s("labelAutoAngle",null,o);var l=function h(){if(h.cache)return h.cache;for(var f=[],d=0;d+5<n.allpts.length;d+=4){var p={x:n.allpts[d],y:n.allpts[d+1]},m={x:n.allpts[d+2],y:n.allpts[d+3]},v={x:n.allpts[d+4],y:n.allpts[d+5]};f.push({p0:p,p1:m,p2:v,startDist:0,length:0,segments:[]})}var x=r.rstyle.bezierPts,y=i.bezierProjPcts.length;function w(_,I,D,F,M){var B=op(I,D),H=_.segments[_.segments.length-1],R={p0:I,p1:D,t0:F,t1:M,startDist:H?H.startDist+H.length:0,length:B};_.segments.push(R),_.length+=B}for(var S=0;S<f.length;S++){var E=f[S],C=f[S-1];C&&(E.startDist=C.startDist+C.length),w(E,E.p0,x[S*y],0,i.bezierProjPcts[0]);for(var L=0;L<y-1;L++)w(E,x[S*y+L],x[S*y+L+1],i.bezierProjPcts[L],i.bezierProjPcts[L+1]);w(E,x[S*y+y-1],E.p2,i.bezierProjPcts[y-1],1)}return h.cache=f},u=function(f){var d,p=f==="source";if(a[f]){var m=t.pstyle(f+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var v=l(),x,y=0,w=0,S=0;S<v.length;S++){for(var E=v[p?S:v.length-1-S],C=0;C<E.segments.length;C++){var L=E.segments[p?C:E.segments.length-1-C],_=S===v.length-1&&C===E.segments.length-1;if(y=w,w+=L.length,w>=m||_){x={cp:E,segment:L};break}}if(x)break}var I=x.cp,D=x.segment,F=(m-y)/D.length,M=D.t1-D.t0,B=p?D.t0+M*F:D.t1-M*F;B=jx(0,B,1),e=u1(I.p0,I.p1,I.p2,B),d=ait(I.p0,I.p1,I.p2,B);break}case"straight":case"segments":case"haystack":{for(var H=0,R,O,P,z,$=n.allpts.length,V=0;V+3<$&&(p?(P={x:n.allpts[V],y:n.allpts[V+1]},z={x:n.allpts[V+2],y:n.allpts[V+3]}):(P={x:n.allpts[$-2-V],y:n.allpts[$-1-V]},z={x:n.allpts[$-4-V],y:n.allpts[$-3-V]}),R=op(P,z),O=H,H+=R,!(H>=m));V+=2);var X=m-O,q=X/R;q=jx(0,q,1),e=lJe(P,z,q),d=khe(P,z);break}}s("labelX",f,e.x),s("labelY",f,e.y),s("labelAutoAngle",f,d)}};u("source"),u("target"),this.applyLabelDimensions(t)}};vc.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};vc.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,n),a=t.pstyle("line-height").pfValue,s=t.pstyle("text-wrap").strValue,o=eu(r.rscratch,"labelWrapCachedLines",e)||[],l=s!=="wrap"?1:Math.max(o.length,1),u=i.height/l,h=u*a,f=i.width,d=i.height+(l-1)*(a-1)*u;pf(r.rstyle,"labelWidth",e,f),pf(r.rscratch,"labelWidth",e,f),pf(r.rstyle,"labelHeight",e,d),pf(r.rscratch,"labelHeight",e,d),pf(r.rscratch,"labelLineHeight",e,h)};vc.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,a=t.pstyle("text-transform").value,s=function(U,Z){return Z?(pf(r.rscratch,U,e,Z),Z):eu(r.rscratch,U,e)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var o=t.pstyle("text-wrap").value;if(o==="wrap"){var l=s("labelKey");if(l!=null&&s("labelWrapKey")===l)return s("labelWrapCachedText");for(var u="​",h=i.split(`
`),f=t.pstyle("text-max-width").pfValue,d=t.pstyle("text-overflow-wrap").value,p=d==="anywhere",m=[],v=/[\s\u200b]+|$/g,x=0;x<h.length;x++){var y=h[x],w=this.calculateLabelDimensions(t,y),S=w.width;if(p){var E=y.split("").join(u);y=E}if(S>f){var C=y.matchAll(v),L="",_=0,I=ace(C),D;try{for(I.s();!(D=I.n()).done;){var F=D.value,M=F[0],B=y.substring(_,F.index);_=F.index+M.length;var H=L.length===0?B:L+B+M,R=this.calculateLabelDimensions(t,H),O=R.width;O<=f?L+=B+M:(L&&m.push(L),L=B+M)}}catch(Y){I.e(Y)}finally{I.f()}L.match(/^[\s\u200b]+$/)||m.push(L)}else m.push(y)}s("labelWrapCachedLines",m),i=s("labelWrapCachedText",m.join(`
`)),s("labelWrapKey",l)}else if(o==="ellipsis"){var P=t.pstyle("text-max-width").pfValue,z="",$="…",V=!1;if(this.calculateLabelDimensions(t,i).width<P)return i;for(var X=0;X<i.length;X++){var q=this.calculateLabelDimensions(t,z+i[X]+$).width;if(q>P)break;z+=i[X],X===i.length-1&&(V=!0)}return V||(z+=$),z}return i};vc.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};vc.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),i=n.document,a=sp(e,t._private.labelDimsKey),s=r.labelDimCache||(r.labelDimCache=[]),o=s[a];if(o!=null)return o;var l=0,u=t.pstyle("font-style").strValue,h=t.pstyle("font-size").pfValue,f=t.pstyle("font-family").strValue,d=t.pstyle("font-weight").strValue,p=this.labelCalcCanvas,m=this.labelCalcCanvasContext;if(!p){p=this.labelCalcCanvas=i.createElement("canvas"),m=this.labelCalcCanvasContext=p.getContext("2d");var v=p.style;v.position="absolute",v.left="-9999px",v.top="-9999px",v.zIndex="-1",v.visibility="hidden",v.pointerEvents="none"}m.font="".concat(u," ").concat(d," ").concat(h,"px ").concat(f);for(var x=0,y=0,w=e.split(`
`),S=0;S<w.length;S++){var E=w[S],C=m.measureText(E),L=Math.ceil(C.width),_=h;x=Math.max(L,x),y+=_}return x+=l,y+=l,s[a]={width:x,height:y}};vc.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,i=t.isEdge(),a=e?e+"-":"",s=t.pstyle(a+"text-rotation"),o=s.strValue;return o==="none"?0:i&&o==="autorotate"?n.labelAutoAngle:o==="autorotate"?0:s.pfValue};vc.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(t),r&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var Ehe={},WW=28,qW=!1;Ehe.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<WW||t.height()<WW))return qW||(vn("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),qW=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var lC={};lC.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),o)for(var l=0;l<s.length;l++){var u=s[l],h=u._private,f=h.rstyle;f.clean=!1,f.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var o=s.target;n(o)}).on("style.* background.*",function(s){var o=s.target;n(o,!1)});var i=function(s){if(s){var o=r.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var u=e[l],h=u._private.rstyle;u.isNode()&&!h.cleanConnected&&(n(u.connectedEdges()),h.cleanConnected=!0)}if(o)for(var f=0;f<o.length;f++){var d=o[f];d(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};lC.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};lC.recalculateRenderedStyle=function(t,e){var r=function(E){return E._private.rstyle.cleanConnected},n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var a=0;a<t.length;a++){var s=t[a],o=s._private,l=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(l.clean=!1),!(e&&l.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?i.push(s):n.push(s),l.clean=!0)}for(var u=0;u<i.length;u++){var h=i[u],f=h._private,d=f.rstyle,p=h.position();this.recalculateNodeLabelProjection(h),d.nodeX=p.x,d.nodeY=p.y,d.nodeW=h.pstyle("width").pfValue,d.nodeH=h.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var m=0;m<n.length;m++){var v=n[m],x=v._private,y=x.rstyle,w=x.rscratch;y.srcX=w.arrowStartX,y.srcY=w.arrowStartY,y.tgtX=w.arrowEndX,y.tgtY=w.arrowEndY,y.midX=w.midX,y.midY=w.midY,y.labelAngle=w.labelAngle,y.sourceLabelAngle=w.sourceLabelAngle,y.targetLabelAngle=w.targetLabelAngle}}};var uC={};uC.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};uC.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};uC.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(ohe),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var The={};[Dp,Tk,ks,t4,nO,vc,Ehe,lC,uC].forEach(function(t){kr(The,t)});var Che={};Che.getCachedImage=function(t,e,r){var n=this,i=n.imageCache=n.imageCache||{},a=i[t];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=i[t]=i[t]||{};var s=a.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",l=t.substring(0,o.length).toLowerCase()===o;return l||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var kv={};kv.registerBinding=function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var a=[],s=0;s<t.length;s++){var o=t[s];if(o!==void 0){var l=this.binder(o);a.push(l.on.apply(l,i))}}return a}var l=this.binder(t);return l.on.apply(l,i)};kv.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||_Qe(t);if(e.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=i}var s=function(l,u,h){var f=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(f[2]={capture:h??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:f}),(t.addEventListener||t.on).apply(t,f),this};return{on:s,addEventListener:s,addListener:s,bind:s}};kv.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};kv.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};kv.load=function(){var t=this,e=t.cy.window(),r=function(W){return W.selected()},n=function(W){var ee=W.getRootNode();if(ee&&ee.nodeType===11&&ee.host!==void 0)return ee},i=function(W,ee,te,he){W==null&&(W=t.cy);for(var K=0;K<ee.length;K++){var _e=ee[K];W.emit({originalEvent:te,type:_e,position:he})}},a=function(W){return W.shiftKey||W.metaKey||W.ctrlKey},s=function(W,ee){var te=!0;if(t.cy.hasCompoundNodes()&&W&&W.pannable())for(var he=0;ee&&he<ee.length;he++){var W=ee[he];if(W.isNode()&&W.isParent()&&!W.pannable()){te=!1;break}}else te=!0;return te},o=function(W){W[0]._private.grabbed=!0},l=function(W){W[0]._private.grabbed=!1},u=function(W){W[0]._private.rscratch.inDragLayer=!0},h=function(W){W[0]._private.rscratch.inDragLayer=!1},f=function(W){W[0]._private.rscratch.isGrabTarget=!0},d=function(W){W[0]._private.rscratch.isGrabTarget=!1},p=function(W,ee){var te=ee.addToList,he=te.has(W);!he&&W.grabbable()&&!W.locked()&&(te.merge(W),o(W))},m=function(W,ee){if(W.cy().hasCompoundNodes()&&!(ee.inDragLayer==null&&ee.addToList==null)){var te=W.descendants();ee.inDragLayer&&(te.forEach(u),te.connectedEdges().forEach(u)),ee.addToList&&p(te,ee)}},v=function(W,ee){ee=ee||{};var te=W.cy().hasCompoundNodes();ee.inDragLayer&&(W.forEach(u),W.neighborhood().stdFilter(function(he){return!te||he.isEdge()}).forEach(u)),ee.addToList&&W.forEach(function(he){p(he,ee)}),m(W,ee),w(W,{inDragLayer:ee.inDragLayer}),t.updateCachedGrabbedEles()},x=v,y=function(W){W&&(t.getCachedZSortedEles().forEach(function(ee){l(ee),h(ee),d(ee)}),t.updateCachedGrabbedEles())},w=function(W,ee){if(!(ee.inDragLayer==null&&ee.addToList==null)&&W.cy().hasCompoundNodes()){var te=W.ancestors().orphans();if(!te.same(W)){var he=te.descendants().spawnSelf().merge(te).unmerge(W).unmerge(W.descendants()),K=he.connectedEdges();ee.inDragLayer&&(K.forEach(u),he.forEach(u)),ee.addToList&&he.forEach(function(_e){p(_e,ee)})}}},S=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},E=typeof MutationObserver<"u",C=typeof ResizeObserver<"u";E?(t.removeObserver=new MutationObserver(function(de){for(var W=0;W<de.length;W++){var ee=de[W],te=ee.removedNodes;if(te)for(var he=0;he<te.length;he++){var K=te[he];if(K===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(de){t.destroy()});var L=XT(function(){t.cy.resize()},100);E&&(t.styleObserver=new MutationObserver(L),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",L),C&&(t.resizeObserver=new ResizeObserver(L),t.resizeObserver.observe(t.container));var _=function(W,ee){for(;W!=null;)ee(W),W=W.parentNode},I=function(){t.invalidateContainerClientCoordsCache()};_(t.container,function(de){t.registerBinding(de,"transitionend",I),t.registerBinding(de,"animationend",I),t.registerBinding(de,"scroll",I)}),t.registerBinding(t.container,"contextmenu",function(de){de.preventDefault()});var D=function(){return t.selection[4]!==0},F=function(W){for(var ee=t.findContainerClientCoords(),te=ee[0],he=ee[1],K=ee[2],_e=ee[3],ae=W.touches?W.touches:[W],Le=!1,Ne=0;Ne<ae.length;Ne++){var Ie=ae[Ne];if(te<=Ie.clientX&&Ie.clientX<=te+K&&he<=Ie.clientY&&Ie.clientY<=he+_e){Le=!0;break}}if(!Le)return!1;for(var Oe=t.container,Pe=W.target,Me=Pe.parentNode,ze=!1;Me;){if(Me===Oe){ze=!0;break}Me=Me.parentNode}return!!ze};t.registerBinding(t.container,"mousedown",function(W){if(F(W)&&!(t.hoverData.which===1&&W.which!==1)){W.preventDefault(),S(),t.hoverData.capture=!0,t.hoverData.which=W.which;var ee=t.cy,te=[W.clientX,W.clientY],he=t.projectIntoViewport(te[0],te[1]),K=t.selection,_e=t.findNearestElements(he[0],he[1],!0,!1),ae=_e[0],Le=t.dragData.possibleDragElements;t.hoverData.mdownPos=he,t.hoverData.mdownGPos=te;var Ne=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var it=t.hoverData.down;it?it.emit({originalEvent:W,type:"taphold",position:{x:he[0],y:he[1]}}):ee.emit({originalEvent:W,type:"taphold",position:{x:he[0],y:he[1]}})}},t.tapholdDuration)};if(W.which==3){t.hoverData.cxtStarted=!0;var Ie={originalEvent:W,type:"cxttapstart",position:{x:he[0],y:he[1]}};ae?(ae.activate(),ae.emit(Ie),t.hoverData.down=ae):ee.emit(Ie),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(W.which==1){ae&&ae.activate();{if(ae!=null&&t.nodeIsGrabbable(ae)){var Oe=function(it){return{originalEvent:W,type:it,position:{x:he[0],y:he[1]}}},Pe=function(it){it.emit(Oe("grab"))};if(f(ae),!ae.selected())Le=t.dragData.possibleDragElements=ee.collection(),x(ae,{addToList:Le}),ae.emit(Oe("grabon")).emit(Oe("grab"));else{Le=t.dragData.possibleDragElements=ee.collection();var Me=ee.$(function(ze){return ze.isNode()&&ze.selected()&&t.nodeIsGrabbable(ze)});v(Me,{addToList:Le}),ae.emit(Oe("grabon")),Me.forEach(Pe)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=ae,t.hoverData.downs=_e,t.hoverData.downTime=new Date().getTime()}i(ae,["mousedown","tapstart","vmousedown"],W,{x:he[0],y:he[1]}),ae==null?(K[4]=1,t.data.bgActivePosistion={x:he[0],y:he[1]},t.redrawHint("select",!0),t.redraw()):ae.pannable()&&(K[4]=1),Ne()}K[0]=K[2]=he[0],K[1]=K[3]=he[1]}},!1);var M=n(t.container);t.registerBinding([e,M],"mousemove",function(W){var ee=t.hoverData.capture;if(!(!ee&&!F(W))){var te=!1,he=t.cy,K=he.zoom(),_e=[W.clientX,W.clientY],ae=t.projectIntoViewport(_e[0],_e[1]),Le=t.hoverData.mdownPos,Ne=t.hoverData.mdownGPos,Ie=t.selection,Oe=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Oe=t.findNearestElement(ae[0],ae[1],!0,!1));var Pe=t.hoverData.last,Me=t.hoverData.down,ze=[ae[0]-Ie[2],ae[1]-Ie[3]],it=t.dragData.possibleDragElements,ut;if(Ne){var gt=_e[0]-Ne[0],wt=gt*gt,Pt=_e[1]-Ne[1],ot=Pt*Pt,at=wt+ot;t.hoverData.isOverThresholdDrag=ut=at>=t.desktopTapThreshold2}var kt=a(W);ut&&(t.hoverData.tapholdCancelled=!0);var ct=function(){var Er=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Er.length===0?(Er.push(ze[0]),Er.push(ze[1])):(Er[0]+=ze[0],Er[1]+=ze[1])};te=!0,i(Oe,["mousemove","vmousemove","tapdrag"],W,{x:ae[0],y:ae[1]});var ft=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||he.emit({originalEvent:W,type:"boxstart",position:{x:ae[0],y:ae[1]}}),Ie[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(ut){var Jt={originalEvent:W,type:"cxtdrag",position:{x:ae[0],y:ae[1]}};Me?Me.emit(Jt):he.emit(Jt),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Oe!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:W,type:"cxtdragout",position:{x:ae[0],y:ae[1]}}),t.hoverData.cxtOver=Oe,Oe&&Oe.emit({originalEvent:W,type:"cxtdragover",position:{x:ae[0],y:ae[1]}}))}}else if(t.hoverData.dragging){if(te=!0,he.panningEnabled()&&he.userPanningEnabled()){var pt;if(t.hoverData.justStartedPan){var dt=t.hoverData.mdownPos;pt={x:(ae[0]-dt[0])*K,y:(ae[1]-dt[1])*K},t.hoverData.justStartedPan=!1}else pt={x:ze[0]*K,y:ze[1]*K};he.panBy(pt),he.emit("dragpan"),t.hoverData.dragged=!0}ae=t.projectIntoViewport(W.clientX,W.clientY)}else if(Ie[4]==1&&(Me==null||Me.pannable())){if(ut){if(!t.hoverData.dragging&&he.boxSelectionEnabled()&&(kt||!he.panningEnabled()||!he.userPanningEnabled()))ft();else if(!t.hoverData.selecting&&he.panningEnabled()&&he.userPanningEnabled()){var Rt=s(Me,t.hoverData.downs);Rt&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Ie[4]=0,t.data.bgActivePosistion=Hg(Le),t.redrawHint("select",!0),t.redraw())}Me&&Me.pannable()&&Me.active()&&Me.unactivate()}}else{if(Me&&Me.pannable()&&Me.active()&&Me.unactivate(),(!Me||!Me.grabbed())&&Oe!=Pe&&(Pe&&i(Pe,["mouseout","tapdragout"],W,{x:ae[0],y:ae[1]}),Oe&&i(Oe,["mouseover","tapdragover"],W,{x:ae[0],y:ae[1]}),t.hoverData.last=Oe),Me)if(ut){if(he.boxSelectionEnabled()&&kt)Me&&Me.grabbed()&&(y(it),Me.emit("freeon"),it.emit("free"),t.dragData.didDrag&&(Me.emit("dragfreeon"),it.emit("dragfree"))),ft();else if(Me&&Me.grabbed()&&t.nodeIsDraggable(Me)){var er=!t.dragData.didDrag;er&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||v(it,{inDragLayer:!0});var Ot={x:0,y:0};if($t(ze[0])&&$t(ze[1])&&(Ot.x+=ze[0],Ot.y+=ze[1],er)){var wr=t.hoverData.dragDelta;wr&&$t(wr[0])&&$t(wr[1])&&(Ot.x+=wr[0],Ot.y+=wr[1])}t.hoverData.draggingEles=!0,it.silentShift(Ot).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else ct();te=!0}if(Ie[2]=ae[0],Ie[3]=ae[1],te)return W.stopPropagation&&W.stopPropagation(),W.preventDefault&&W.preventDefault(),!1}},!1);var B,H,R;t.registerBinding(e,"mouseup",function(W){if(!(t.hoverData.which===1&&W.which!==1&&t.hoverData.capture)){var ee=t.hoverData.capture;if(ee){t.hoverData.capture=!1;var te=t.cy,he=t.projectIntoViewport(W.clientX,W.clientY),K=t.selection,_e=t.findNearestElement(he[0],he[1],!0,!1),ae=t.dragData.possibleDragElements,Le=t.hoverData.down,Ne=a(W);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Le&&Le.unactivate(),t.hoverData.which===3){var Ie={originalEvent:W,type:"cxttapend",position:{x:he[0],y:he[1]}};if(Le?Le.emit(Ie):te.emit(Ie),!t.hoverData.cxtDragged){var Oe={originalEvent:W,type:"cxttap",position:{x:he[0],y:he[1]}};Le?Le.emit(Oe):te.emit(Oe)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(_e,["mouseup","tapend","vmouseup"],W,{x:he[0],y:he[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(Le,["click","tap","vclick"],W,{x:he[0],y:he[1]}),H=!1,W.timeStamp-R<=te.multiClickDebounceTime()?(B&&clearTimeout(B),H=!0,R=null,i(Le,["dblclick","dbltap","vdblclick"],W,{x:he[0],y:he[1]})):(B=setTimeout(function(){H||i(Le,["oneclick","onetap","voneclick"],W,{x:he[0],y:he[1]})},te.multiClickDebounceTime()),R=W.timeStamp)),Le==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!a(W)&&(te.$(r).unselect(["tapunselect"]),ae.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=ae=te.collection()),_e==Le&&!t.dragData.didDrag&&!t.hoverData.selecting&&_e!=null&&_e._private.selectable&&(t.hoverData.dragging||(te.selectionType()==="additive"||Ne?_e.selected()?_e.unselect(["tapunselect"]):_e.select(["tapselect"]):Ne||(te.$(r).unmerge(_e).unselect(["tapunselect"]),_e.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Pe=te.collection(t.getAllInBox(K[0],K[1],K[2],K[3]));t.redrawHint("select",!0),Pe.length>0&&t.redrawHint("eles",!0),te.emit({type:"boxend",originalEvent:W,position:{x:he[0],y:he[1]}});var Me=function(ut){return ut.selectable()&&!ut.selected()};te.selectionType()==="additive"||Ne||te.$(r).unmerge(Pe).unselect(),Pe.emit("box").stdFilter(Me).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!K[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var ze=Le&&Le.grabbed();y(ae),ze&&(Le.emit("freeon"),ae.emit("free"),t.dragData.didDrag&&(Le.emit("dragfreeon"),ae.emit("dragfree")))}}K[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var O=function(W){if(!t.scrollingPage){var ee=t.cy,te=ee.zoom(),he=ee.pan(),K=t.projectIntoViewport(W.clientX,W.clientY),_e=[K[0]*te+he.x,K[1]*te+he.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||D()){W.preventDefault();return}if(ee.panningEnabled()&&ee.userPanningEnabled()&&ee.zoomingEnabled()&&ee.userZoomingEnabled()){W.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var ae;W.deltaY!=null?ae=W.deltaY/-250:W.wheelDeltaY!=null?ae=W.wheelDeltaY/1e3:ae=W.wheelDelta/1e3,ae=ae*t.wheelSensitivity;var Le=W.deltaMode===1;Le&&(ae*=33);var Ne=ee.zoom()*Math.pow(10,ae);W.type==="gesturechange"&&(Ne=t.gestureStartZoom*W.scale),ee.zoom({level:Ne,renderedPosition:{x:_e[0],y:_e[1]}}),ee.emit(W.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",O,!0),t.registerBinding(e,"scroll",function(W){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(W){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||W.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(de){t.hasTouchStarted||O(de)},!0),t.registerBinding(t.container,"mouseout",function(W){var ee=t.projectIntoViewport(W.clientX,W.clientY);t.cy.emit({originalEvent:W,type:"mouseout",position:{x:ee[0],y:ee[1]}})},!1),t.registerBinding(t.container,"mouseover",function(W){var ee=t.projectIntoViewport(W.clientX,W.clientY);t.cy.emit({originalEvent:W,type:"mouseover",position:{x:ee[0],y:ee[1]}})},!1);var P,z,$,V,X,q,Y,U,Z,pe,ne,ge,ye,J=function(W,ee,te,he){return Math.sqrt((te-W)*(te-W)+(he-ee)*(he-ee))},se=function(W,ee,te,he){return(te-W)*(te-W)+(he-ee)*(he-ee)},oe;t.registerBinding(t.container,"touchstart",oe=function(W){if(t.hasTouchStarted=!0,!!F(W)){S(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var ee=t.cy,te=t.touchData.now,he=t.touchData.earlier;if(W.touches[0]){var K=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);te[0]=K[0],te[1]=K[1]}if(W.touches[1]){var K=t.projectIntoViewport(W.touches[1].clientX,W.touches[1].clientY);te[2]=K[0],te[3]=K[1]}if(W.touches[2]){var K=t.projectIntoViewport(W.touches[2].clientX,W.touches[2].clientY);te[4]=K[0],te[5]=K[1]}if(W.touches[1]){t.touchData.singleTouchMoved=!0,y(t.dragData.touchDragEles);var _e=t.findContainerClientCoords();Z=_e[0],pe=_e[1],ne=_e[2],ge=_e[3],P=W.touches[0].clientX-Z,z=W.touches[0].clientY-pe,$=W.touches[1].clientX-Z,V=W.touches[1].clientY-pe,ye=0<=P&&P<=ne&&0<=$&&$<=ne&&0<=z&&z<=ge&&0<=V&&V<=ge;var ae=ee.pan(),Le=ee.zoom();X=J(P,z,$,V),q=se(P,z,$,V),Y=[(P+$)/2,(z+V)/2],U=[(Y[0]-ae.x)/Le,(Y[1]-ae.y)/Le];var Ne=200,Ie=Ne*Ne;if(q<Ie&&!W.touches[2]){var Oe=t.findNearestElement(te[0],te[1],!0,!0),Pe=t.findNearestElement(te[2],te[3],!0,!0);Oe&&Oe.isNode()?(Oe.activate().emit({originalEvent:W,type:"cxttapstart",position:{x:te[0],y:te[1]}}),t.touchData.start=Oe):Pe&&Pe.isNode()?(Pe.activate().emit({originalEvent:W,type:"cxttapstart",position:{x:te[0],y:te[1]}}),t.touchData.start=Pe):ee.emit({originalEvent:W,type:"cxttapstart",position:{x:te[0],y:te[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(W.touches[2])ee.boxSelectionEnabled()&&W.preventDefault();else if(!W.touches[1]){if(W.touches[0]){var Me=t.findNearestElements(te[0],te[1],!0,!0),ze=Me[0];if(ze!=null&&(ze.activate(),t.touchData.start=ze,t.touchData.starts=Me,t.nodeIsGrabbable(ze))){var it=t.dragData.touchDragEles=ee.collection(),ut=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),ze.selected()?(ut=ee.$(function(at){return at.selected()&&t.nodeIsGrabbable(at)}),v(ut,{addToList:it})):x(ze,{addToList:it}),f(ze);var gt=function(kt){return{originalEvent:W,type:kt,position:{x:te[0],y:te[1]}}};ze.emit(gt("grabon")),ut?ut.forEach(function(at){at.emit(gt("grab"))}):ze.emit(gt("grab"))}i(ze,["touchstart","tapstart","vmousedown"],W,{x:te[0],y:te[1]}),ze==null&&(t.data.bgActivePosistion={x:K[0],y:K[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],W,{x:te[0],y:te[1]})},t.tapholdDuration)}}if(W.touches.length>=1){for(var wt=t.touchData.startPosition=[null,null,null,null,null,null],Pt=0;Pt<te.length;Pt++)wt[Pt]=he[Pt]=te[Pt];var ot=W.touches[0];t.touchData.startGPosition=[ot.clientX,ot.clientY]}}},!1);var fe;t.registerBinding(e,"touchmove",fe=function(W){var ee=t.touchData.capture;if(!(!ee&&!F(W))){var te=t.selection,he=t.cy,K=t.touchData.now,_e=t.touchData.earlier,ae=he.zoom();if(W.touches[0]){var Le=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);K[0]=Le[0],K[1]=Le[1]}if(W.touches[1]){var Le=t.projectIntoViewport(W.touches[1].clientX,W.touches[1].clientY);K[2]=Le[0],K[3]=Le[1]}if(W.touches[2]){var Le=t.projectIntoViewport(W.touches[2].clientX,W.touches[2].clientY);K[4]=Le[0],K[5]=Le[1]}var Ne=t.touchData.startGPosition,Ie;if(ee&&W.touches[0]&&Ne){for(var Oe=[],Pe=0;Pe<K.length;Pe++)Oe[Pe]=K[Pe]-_e[Pe];var Me=W.touches[0].clientX-Ne[0],ze=Me*Me,it=W.touches[0].clientY-Ne[1],ut=it*it,gt=ze+ut;Ie=gt>=t.touchTapThreshold2}if(ee&&t.touchData.cxt){W.preventDefault();var wt=W.touches[0].clientX-Z,Pt=W.touches[0].clientY-pe,ot=W.touches[1].clientX-Z,at=W.touches[1].clientY-pe,kt=se(wt,Pt,ot,at),ct=kt/q,ft=150,Jt=ft*ft,pt=1.5,dt=pt*pt;if(ct>=dt||kt>=Jt){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Rt={originalEvent:W,type:"cxttapend",position:{x:K[0],y:K[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(Rt),t.touchData.start=null):he.emit(Rt)}}if(ee&&t.touchData.cxt){var Rt={originalEvent:W,type:"cxtdrag",position:{x:K[0],y:K[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Rt):he.emit(Rt),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var er=t.findNearestElement(K[0],K[1],!0,!0);(!t.touchData.cxtOver||er!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:W,type:"cxtdragout",position:{x:K[0],y:K[1]}}),t.touchData.cxtOver=er,er&&er.emit({originalEvent:W,type:"cxtdragover",position:{x:K[0],y:K[1]}}))}else if(ee&&W.touches[2]&&he.boxSelectionEnabled())W.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||he.emit({originalEvent:W,type:"boxstart",position:{x:K[0],y:K[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,te[4]=1,!te||te.length===0||te[0]===void 0?(te[0]=(K[0]+K[2]+K[4])/3,te[1]=(K[1]+K[3]+K[5])/3,te[2]=(K[0]+K[2]+K[4])/3+1,te[3]=(K[1]+K[3]+K[5])/3+1):(te[2]=(K[0]+K[2]+K[4])/3,te[3]=(K[1]+K[3]+K[5])/3),t.redrawHint("select",!0),t.redraw();else if(ee&&W.touches[1]&&!t.touchData.didSelect&&he.zoomingEnabled()&&he.panningEnabled()&&he.userZoomingEnabled()&&he.userPanningEnabled()){W.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ot=t.dragData.touchDragEles;if(Ot){t.redrawHint("drag",!0);for(var wr=0;wr<Ot.length;wr++){var Wr=Ot[wr]._private;Wr.grabbed=!1,Wr.rscratch.inDragLayer=!1}}var Er=t.touchData.start,wt=W.touches[0].clientX-Z,Pt=W.touches[0].clientY-pe,ot=W.touches[1].clientX-Z,at=W.touches[1].clientY-pe,Jn=J(wt,Pt,ot,at),ln=Jn/X;if(ye){var Mn=wt-P,zr=Pt-z,En=ot-$,Ut=at-V,Ye=(Mn+En)/2,vt=(zr+Ut)/2,Vt=he.zoom(),yr=Vt*ln,cn=he.pan(),Yr=U[0]*Vt+cn.x,Tn=U[1]*Vt+cn.y,Cn={x:-yr/Vt*(Yr-cn.x-Ye)+Yr,y:-yr/Vt*(Tn-cn.y-vt)+Tn};if(Er&&Er.active()){var Ot=t.dragData.touchDragEles;y(Ot),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Er.unactivate().emit("freeon"),Ot.emit("free"),t.dragData.didDrag&&(Er.emit("dragfreeon"),Ot.emit("dragfree"))}he.viewport({zoom:yr,pan:Cn,cancelOnFailedZoom:!0}),he.emit("pinchzoom"),X=Jn,P=wt,z=Pt,$=ot,V=at,t.pinching=!0}if(W.touches[0]){var Le=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);K[0]=Le[0],K[1]=Le[1]}if(W.touches[1]){var Le=t.projectIntoViewport(W.touches[1].clientX,W.touches[1].clientY);K[2]=Le[0],K[3]=Le[1]}if(W.touches[2]){var Le=t.projectIntoViewport(W.touches[2].clientX,W.touches[2].clientY);K[4]=Le[0],K[5]=Le[1]}}else if(W.touches[0]&&!t.touchData.didSelect){var Et=t.touchData.start,lt=t.touchData.last,er;if(!t.hoverData.draggingEles&&!t.swipePanning&&(er=t.findNearestElement(K[0],K[1],!0,!0)),ee&&Et!=null&&W.preventDefault(),ee&&Et!=null&&t.nodeIsDraggable(Et))if(Ie){var Ot=t.dragData.touchDragEles,tr=!t.dragData.didDrag;tr&&v(Ot,{inDragLayer:!0}),t.dragData.didDrag=!0;var Tt={x:0,y:0};if($t(Oe[0])&&$t(Oe[1])&&(Tt.x+=Oe[0],Tt.y+=Oe[1],tr)){t.redrawHint("eles",!0);var Kt=t.touchData.dragDelta;Kt&&$t(Kt[0])&&$t(Kt[1])&&(Tt.x+=Kt[0],Tt.y+=Kt[1])}t.hoverData.draggingEles=!0,Ot.silentShift(Tt).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==_e[0]&&t.touchData.startPosition[1]==_e[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Kt=t.touchData.dragDelta=t.touchData.dragDelta||[];Kt.length===0?(Kt.push(Oe[0]),Kt.push(Oe[1])):(Kt[0]+=Oe[0],Kt[1]+=Oe[1])}if(i(Et||er,["touchmove","tapdrag","vmousemove"],W,{x:K[0],y:K[1]}),(!Et||!Et.grabbed())&&er!=lt&&(lt&&lt.emit({originalEvent:W,type:"tapdragout",position:{x:K[0],y:K[1]}}),er&&er.emit({originalEvent:W,type:"tapdragover",position:{x:K[0],y:K[1]}})),t.touchData.last=er,ee)for(var wr=0;wr<K.length;wr++)K[wr]&&t.touchData.startPosition[wr]&&Ie&&(t.touchData.singleTouchMoved=!0);if(ee&&(Et==null||Et.pannable())&&he.panningEnabled()&&he.userPanningEnabled()){var Ce=s(Et,t.touchData.starts);Ce&&(W.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Hg(t.touchData.startPosition)),t.swipePanning?(he.panBy({x:Oe[0]*ae,y:Oe[1]*ae}),he.emit("dragpan")):Ie&&(t.swipePanning=!0,he.panBy({x:Me*ae,y:it*ae}),he.emit("dragpan"),Et&&(Et.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Le=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);K[0]=Le[0],K[1]=Le[1]}}for(var Pe=0;Pe<K.length;Pe++)_e[Pe]=K[Pe];ee&&W.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var me;t.registerBinding(e,"touchcancel",me=function(W){var ee=t.touchData.start;t.touchData.capture=!1,ee&&ee.unactivate()});var be,ce,Ge,xe;if(t.registerBinding(e,"touchend",be=function(W){var ee=t.touchData.start,te=t.touchData.capture;if(te)W.touches.length===0&&(t.touchData.capture=!1),W.preventDefault();else return;var he=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var K=t.cy,_e=K.zoom(),ae=t.touchData.now,Le=t.touchData.earlier;if(W.touches[0]){var Ne=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);ae[0]=Ne[0],ae[1]=Ne[1]}if(W.touches[1]){var Ne=t.projectIntoViewport(W.touches[1].clientX,W.touches[1].clientY);ae[2]=Ne[0],ae[3]=Ne[1]}if(W.touches[2]){var Ne=t.projectIntoViewport(W.touches[2].clientX,W.touches[2].clientY);ae[4]=Ne[0],ae[5]=Ne[1]}ee&&ee.unactivate();var Ie;if(t.touchData.cxt){if(Ie={originalEvent:W,type:"cxttapend",position:{x:ae[0],y:ae[1]}},ee?ee.emit(Ie):K.emit(Ie),!t.touchData.cxtDragged){var Oe={originalEvent:W,type:"cxttap",position:{x:ae[0],y:ae[1]}};ee?ee.emit(Oe):K.emit(Oe)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!W.touches[2]&&K.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Pe=K.collection(t.getAllInBox(he[0],he[1],he[2],he[3]));he[0]=void 0,he[1]=void 0,he[2]=void 0,he[3]=void 0,he[4]=0,t.redrawHint("select",!0),K.emit({type:"boxend",originalEvent:W,position:{x:ae[0],y:ae[1]}});var Me=function(Jt){return Jt.selectable()&&!Jt.selected()};Pe.emit("box").stdFilter(Me).select().emit("boxselect"),Pe.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(ee!=null&&ee.unactivate(),W.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!W.touches[1]){if(!W.touches[0]){if(!W.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var ze=t.dragData.touchDragEles;if(ee!=null){var it=ee._private.grabbed;y(ze),t.redrawHint("drag",!0),t.redrawHint("eles",!0),it&&(ee.emit("freeon"),ze.emit("free"),t.dragData.didDrag&&(ee.emit("dragfreeon"),ze.emit("dragfree"))),i(ee,["touchend","tapend","vmouseup","tapdragout"],W,{x:ae[0],y:ae[1]}),ee.unactivate(),t.touchData.start=null}else{var ut=t.findNearestElement(ae[0],ae[1],!0,!0);i(ut,["touchend","tapend","vmouseup","tapdragout"],W,{x:ae[0],y:ae[1]})}var gt=t.touchData.startPosition[0]-ae[0],wt=gt*gt,Pt=t.touchData.startPosition[1]-ae[1],ot=Pt*Pt,at=wt+ot,kt=at*_e*_e;t.touchData.singleTouchMoved||(ee||K.$(":selected").unselect(["tapunselect"]),i(ee,["tap","vclick"],W,{x:ae[0],y:ae[1]}),ce=!1,W.timeStamp-xe<=K.multiClickDebounceTime()?(Ge&&clearTimeout(Ge),ce=!0,xe=null,i(ee,["dbltap","vdblclick"],W,{x:ae[0],y:ae[1]})):(Ge=setTimeout(function(){ce||i(ee,["onetap","voneclick"],W,{x:ae[0],y:ae[1]})},K.multiClickDebounceTime()),xe=W.timeStamp)),ee!=null&&!t.dragData.didDrag&&ee._private.selectable&&kt<t.touchTapThreshold2&&!t.pinching&&(K.selectionType()==="single"?(K.$(r).unmerge(ee).unselect(["tapunselect"]),ee.select(["tapselect"])):ee.selected()?ee.unselect(["tapunselect"]):ee.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var ct=0;ct<ae.length;ct++)Le[ct]=ae[ct];t.dragData.didDrag=!1,W.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),W.touches.length<2&&(W.touches.length===1&&(t.touchData.startGPosition=[W.touches[0].clientX,W.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var le=[],ke=function(W){return{clientX:W.clientX,clientY:W.clientY,force:1,identifier:W.pointerId,pageX:W.pageX,pageY:W.pageY,radiusX:W.width/2,radiusY:W.height/2,screenX:W.screenX,screenY:W.screenY,target:W.target}},De=function(W){return{event:W,touch:ke(W)}},We=function(W){le.push(De(W))},qe=function(W){for(var ee=0;ee<le.length;ee++){var te=le[ee];if(te.event.pointerId===W.pointerId){le.splice(ee,1);return}}},Ve=function(W){var ee=le.filter(function(te){return te.event.pointerId===W.pointerId})[0];ee.event=W,ee.touch=ke(W)},we=function(W){W.touches=le.map(function(ee){return ee.touch})},Te=function(W){return W.pointerType==="mouse"||W.pointerType===4};t.registerBinding(t.container,"pointerdown",function(de){Te(de)||(de.preventDefault(),We(de),we(de),oe(de))}),t.registerBinding(t.container,"pointerup",function(de){Te(de)||(qe(de),we(de),be(de))}),t.registerBinding(t.container,"pointercancel",function(de){Te(de)||(qe(de),we(de),me(de))}),t.registerBinding(t.container,"pointermove",function(de){Te(de)||(de.preventDefault(),Ve(de),we(de),fe(de))})}};var Ih={};Ih.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,i,a,s,o,l){this.renderer.nodeShapeImpl("polygon",n,i,a,s,o,this.points)},intersectLine:function(n,i,a,s,o,l,u,h){return Kx(o,l,this.points,n,i,a/2,s/2,u)},checkPoint:function(n,i,a,s,o,l,u,h){return Sh(n,i,this.points,l,u,s,o,[0,-1],a)}}};Ih.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,s,o,l){return wJe(a,s,e,r,n/2+o,i/2+o)},checkPoint:function(e,r,n,i,a,s,o,l){return y0(e,r,i,a,s,o,n)}}};Ih.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,i,a,s,o,l,u){if(l[u]!==void 0&&l[u+"-cx"]===n&&l[u+"-cy"]===i)return l[u];l[u]=new Array(e.length/2),l[u+"-cx"]=n,l[u+"-cy"]=i;var h=a/2,f=s/2;o=o==="auto"?Lce(a,s):o;for(var d=new Array(e.length/2),p=0;p<e.length/2;p++)d[p]={x:n+h*e[p*2],y:i+f*e[p*2+1]};var m,v,x,y,w=d.length;for(v=d[w-1],m=0;m<w;m++)x=d[m%w],y=d[(m+1)%w],l[u][m]=rO(v,x,y,o),v=x,x=y;return l[u]},draw:function(n,i,a,s,o,l,u){this.renderer.nodeShapeImpl("round-polygon",n,i,a,s,o,this.points,this.getOrCreateCorners(i,a,s,o,l,u,"drawCorners"))},intersectLine:function(n,i,a,s,o,l,u,h,f){return SJe(o,l,this.points,n,i,a,s,u,this.getOrCreateCorners(n,i,a,s,h,f,"corners"))},checkPoint:function(n,i,a,s,o,l,u,h,f){return bJe(n,i,this.points,l,u,s,o,this.getOrCreateCorners(l,u,s,o,h,f,"corners"))}}};Ih.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Ns(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,this.points,s)},intersectLine:function(e,r,n,i,a,s,o,l){return Ace(a,s,e,r,n,i,o,l)},checkPoint:function(e,r,n,i,a,s,o,l){var u=i/2,h=a/2;l=l==="auto"?lp(i,a):l,l=Math.min(u,h,l);var f=l*2;return!!(Sh(e,r,this.points,s,o,i,a-f,[0,-1],n)||Sh(e,r,this.points,s,o,i-f,a,[0,-1],n)||y0(e,r,f,f,s-u+l,o-h+l,n)||y0(e,r,f,f,s+u-l,o-h+l,n)||y0(e,r,f,f,s+u-l,o+h-l,n)||y0(e,r,f,f,s-u+l,o+h-l,n))}}};Ih.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:GI(),points:Ns(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,null,s)},generateCutTrianglePts:function(e,r,n,i,a){var s=a==="auto"?this.cornerLength:a,o=r/2,l=e/2,u=n-l,h=n+l,f=i-o,d=i+o;return{topLeft:[u,f+s,u+s,f,u+s,f+s],topRight:[h-s,f,h,f+s,h-s,f+s],bottomRight:[h,d-s,h-s,d,h-s,d-s],bottomLeft:[u+s,d,u,d-s,u+s,d-s]}},intersectLine:function(e,r,n,i,a,s,o,l){var u=this.generateCutTrianglePts(n+2*o,i+2*o,e,r,l),h=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return Kx(a,s,h,e,r)},checkPoint:function(e,r,n,i,a,s,o,l){var u=l==="auto"?this.cornerLength:l;if(Sh(e,r,this.points,s,o,i,a-2*u,[0,-1],n)||Sh(e,r,this.points,s,o,i-2*u,a,[0,-1],n))return!0;var h=this.generateCutTrianglePts(i,a,s,o);return uo(e,r,h.topLeft)||uo(e,r,h.topRight)||uo(e,r,h.bottomRight)||uo(e,r,h.bottomLeft)}}};Ih.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Ns(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,s,o,l){var u=.15,h=.5,f=.85,d=this.generateBarrelBezierPts(n+2*o,i+2*o,e,r),p=function(x){var y=u1({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},u),w=u1({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},h),S=u1({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},f);return[x[0],x[1],y.x,y.y,w.x,w.y,S.x,S.y,x[4],x[5]]},m=[].concat(p(d.topLeft),p(d.topRight),p(d.bottomRight),p(d.bottomLeft));return Kx(a,s,m,e,r)},generateBarrelBezierPts:function(e,r,n,i){var a=r/2,s=e/2,o=n-s,l=n+s,u=i-a,h=i+a,f=_9(e,r),d=f.heightOffset,p=f.widthOffset,m=f.ctrlPtOffsetPct*e,v={topLeft:[o,u+d,o+m,u,o+p,u],topRight:[l-p,u,l-m,u,l,u+d],bottomRight:[l,h-d,l-m,h,l-p,h],bottomLeft:[o+p,h,o+m,h,o,h-d]};return v.topLeft.isTop=!0,v.topRight.isTop=!0,v.bottomLeft.isBottom=!0,v.bottomRight.isBottom=!0,v},checkPoint:function(e,r,n,i,a,s,o,l){var u=_9(i,a),h=u.heightOffset,f=u.widthOffset;if(Sh(e,r,this.points,s,o,i,a-2*h,[0,-1],n)||Sh(e,r,this.points,s,o,i-2*f,a,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(i,a,s,o),p=function(I,D,F){var M=F[4],B=F[2],H=F[0],R=F[5],O=F[1],P=Math.min(M,H),z=Math.max(M,H),$=Math.min(R,O),V=Math.max(R,O);if(P<=I&&I<=z&&$<=D&&D<=V){var X=kJe(M,B,H),q=mJe(X[0],X[1],X[2],I),Y=q.filter(function(U){return 0<=U&&U<=1});if(Y.length>0)return Y[0]}return null},m=Object.keys(d),v=0;v<m.length;v++){var x=m[v],y=d[x],w=p(e,r,y);if(w!=null){var S=y[5],E=y[3],C=y[1],L=ga(S,E,C,w);if(y.isTop&&L<=r||y.isBottom&&r<=L)return!0}}return!1}}};Ih.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Ns(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,this.points,s)},intersectLine:function(e,r,n,i,a,s,o,l){var u=e-(n/2+o),h=r-(i/2+o),f=h,d=e+(n/2+o),p=kf(a,s,e,r,u,h,d,f,!1);return p.length>0?p:Ace(a,s,e,r,n,i,o,l)},checkPoint:function(e,r,n,i,a,s,o,l){l=l==="auto"?lp(i,a):l;var u=2*l;if(Sh(e,r,this.points,s,o,i,a-u,[0,-1],n)||Sh(e,r,this.points,s,o,i-u,a,[0,-1],n))return!0;var h=i/2+2*n,f=a/2+2*n,d=[s-h,o-f,s-h,o,s+h,o,s+h,o-f];return!!(uo(e,r,d)||y0(e,r,u,u,s+i/2-l,o+a/2-l,n)||y0(e,r,u,u,s-i/2+l,o+a/2-l,n))}}};Ih.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Ns(3,0)),this.generateRoundPolygon("round-triangle",Ns(3,0)),this.generatePolygon("rectangle",Ns(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Ns(5,0)),this.generateRoundPolygon("round-pentagon",Ns(5,0)),this.generatePolygon("hexagon",Ns(6,0)),this.generateRoundPolygon("round-hexagon",Ns(6,0)),this.generatePolygon("heptagon",Ns(7,0)),this.generateRoundPolygon("round-heptagon",Ns(7,0)),this.generatePolygon("octagon",Ns(8,0)),this.generateRoundPolygon("round-octagon",Ns(8,0));var n=new Array(20);{var i=A9(5,0),a=A9(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<a.length/2;o++)a[o*2]*=s,a[o*2+1]*=s;for(var o=0;o<20/4;o++)n[o*4]=i[o*2],n[o*4+1]=i[o*2+1],n[o*4+2]=a[o*2],n[o*4+3]=a[o*2+1]}n=_ce(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}t.makePolygon=function(u){var h=u.join("$"),f="polygon-"+h,d;return(d=this[f])?d:e.generatePolygon(f,u)}};var r4={};r4.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};r4.redraw=function(t){t=t||Sce();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};r4.beforeRender=function(t,e){if(!this.destroyed){e==null&&Ei("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}};var YW=function(e,r,n){for(var i=e.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(r,n)};r4.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){YW(t,!0,i);var a=wh();t.render(t.renderOptions);var s=t.lastDrawTime=wh();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-a),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var o=s-a;t.redrawTotalTime+=o,t.lastRedrawTime=o,t.averageRedrawTime=t.averageRedrawTime/2+o/2,t.requestedFrame=!1}else YW(t,!1,i);t.skipFrame=!1,vk(n)}};vk(r)}};var sit=function(e){this.init(e)},Ahe=sit,Ev=Ahe.prototype;Ev.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Ev.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var i=n.document,a=i.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",l=i.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!l){var u=i.createElement("style");u.id=s,u.textContent="."+o+" { position: relative; }",a.insertBefore(u,a.children[0])}var h=n.getComputedStyle(r),f=h.getPropertyValue("position");f==="static"&&vn("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=$t(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Ev.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Ev.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};Ev.isHeadless=function(){return!1};[tO,The,Che,kv,Ih,r4].forEach(function(t){kr(Ev,t)});var F8=1e3/60,_he={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var a=XT(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),s=function(u,h){var f=wh(),d=i.averageRedrawTime,p=i.lastRedrawTime,m=[],v=i.cy.extent(),x=i.getPixelRatio();for(u||i.flushRenderedStyleQueue();;){var y=wh(),w=y-f,S=y-h;if(p<F8){var E=F8-(u?d:0);if(S>=e.deqFastCost*E)break}else if(u){if(w>=e.deqCost*p||w>=e.deqAvgCost*d)break}else if(S>=e.deqNoDrawCost*F8)break;var C=e.deq(n,x,v);if(C.length>0)for(var L=0;L<C.length;L++)m.push(C[L]);else break}m.length>0&&(e.onDeqd(n,m),!u&&e.shouldRedraw(n,m,x,v)&&a())},o=e.priority||zI;i.beforeRender(s,o(n))}}}},oit=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yk;OI(this,t),this.idsByKey=new Qu,this.keyForId=new Qu,this.cachesByLvl=new Qu,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return PI(t,[{key:"getIdsFor",value:function(r){r==null&&Ei("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new mv,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(a,n),this.keyForId.set(n,a)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);return i!==a}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,a=n.get(r);return a||(a=new Qu,n.set(r,a),i.push(r)),a}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),a=this.getCache(i,n);return a!=null&&this.updateKeyMappingFor(r),a}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),a=this.getCache(i,n);return a}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var a=this.getKey(r);this.setCache(a,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var a=this.doesEleInvalidateKey(r);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}]),t}(),XW=25,Uw=50,j3=-4,$9=3,lit=7.99,uit=8,cit=1024,hit=1024,fit=1024,dit=.2,pit=.8,git=10,mit=.15,vit=.1,yit=.9,xit=.9,bit=100,wit=1,Vg={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Sit=ja({getKey:null,doesEleInvalidateKey:yk,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:xce,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),c2=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var i=Sit(r);kr(n,i),n.lookup=new oit(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},da=c2.prototype;da.reasons=Vg;da.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};da.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};da.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Zb(function(r,n){return n.reqs-r.reqs});return e};da.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};da.getElement=function(t,e,r,n,i){var a=this,s=this.renderer,o=s.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!a.allowEdgeTxrCaching&&t.isEdge()||!a.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(VI(o*r))),n<j3)n=j3;else if(o>=lit||n>$9)return null;var u=Math.pow(2,n),h=e.h*u,f=e.w*u,d=s.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,d))return null;var p=l.get(t,n);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;var m;if(h<=XW?m=XW:h<=Uw?m=Uw:m=Math.ceil(h/Uw)*Uw,h>fit||f>hit)return null;var v=a.getTextureQueue(m),x=v[v.length-2],y=function(){return a.recycleTexture(m,f)||a.addTexture(m,f)};x||(x=v[v.length-1]),x||(x=y()),x.width-x.usedWidth<f&&(x=y());for(var w=function(P){return P&&P.scaledLabelShown===d},S=i&&i===Vg.dequeue,E=i&&i===Vg.highQuality,C=i&&i===Vg.downscale,L,_=n+1;_<=$9;_++){var I=l.get(t,_);if(I){L=I;break}}var D=L&&L.level===n+1?L:null,F=function(){x.context.drawImage(D.texture.canvas,D.x,0,D.width,D.height,x.usedWidth,0,f,h)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,f,m),w(D))F();else if(w(L))if(E){for(var M=L.level;M>n;M--)D=a.getElement(t,e,r,M,Vg.downscale);F()}else return a.queueElement(t,L.level-1),L;else{var B;if(!S&&!E&&!C)for(var H=n-1;H>=j3;H--){var R=l.get(t,H);if(R){B=R;break}}if(w(B))return a.queueElement(t,n),B;x.context.translate(x.usedWidth,0),x.context.scale(u,u),this.drawElement(x.context,t,e,d,!1),x.context.scale(1/u,1/u),x.context.translate(-x.usedWidth,0)}return p={x:x.usedWidth,texture:x,level:n,scale:u,width:f,height:h,scaledLabelShown:d},x.usedWidth+=Math.ceil(f+uit),x.eleCaches.push(p),l.set(t,n,p),a.checkTextureFullness(x),p};da.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};da.invalidateElement=function(t){var e=this,r=e.lookup,n=[],i=r.isInvalid(t);if(i){for(var a=j3;a<=$9;a++){var s=r.getForCachedKey(t,a);s&&n.push(s)}var o=r.invalidate(t);if(o)for(var l=0;l<n.length;l++){var u=n[l],h=u.texture;h.invalidatedWidth+=u.width,u.invalidated=!0,e.checkTextureUtility(h)}e.removeFromQueue(t)}};da.checkTextureUtility=function(t){t.invalidatedWidth>=dit*t.width&&this.retireTexture(t)};da.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>pit&&t.fullnessChecks>=git?td(r,t):t.fullnessChecks++};da.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),i=this.lookup;td(n,t),t.retired=!0;for(var a=t.eleCaches,s=0;s<a.length;s++){var o=a[s];i.deleteCache(o.key,o.level)}HI(a);var l=e.getRetiredTextureQueue(r);l.push(t)};da.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),i={};return n.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(cit,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};da.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),i=r.getRetiredTextureQueue(t),a=0;a<i.length;a++){var s=i[a];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,HI(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),td(i,s),n.push(s),s}};da.queueElement=function(t,e){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),a=this.getKey(t),s=i[a];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var o={eles:t.spawn().merge(t),level:e,reqs:1,key:a};n.push(o),i[a]=o}};da.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],a=e.lookup,s=0;s<wit&&r.size()>0;s++){var o=r.pop(),l=o.key,u=o.eles[0],h=a.hasCache(u,o.level);if(n[l]=null,h)continue;i.push(o);var f=e.getBoundingBox(u);e.getElement(u,f,t,o.level,Vg.dequeue)}return i};da.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(t),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=$I,r.updateItem(a),r.pop(),n[i]=null):a.eles.unmerge(t))};da.onDequeue=function(t){this.onDequeues.push(t)};da.offDequeue=function(t){td(this.onDequeues,t)};da.setupDequeueing=_he.setupDequeueing({deqRedrawThreshold:bit,deqCost:mit,deqAvgCost:vit,deqNoDrawCost:yit,deqFastCost:xit,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(r)}},shouldRedraw:function(e,r,n,i){for(var a=0;a<r.length;a++)for(var s=r[a].eles,o=0;o<s.length;o++){var l=s[o].boundingBox();if(UI(l,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var kit=1,P2=-4,Ck=2,Eit=3.99,Tit=50,Cit=50,Ait=.15,_it=.1,Lit=.9,Dit=.9,Rit=1,jW=250,Mit=4e3*4e3,KW=32767,Nit=!0,Lhe=function(e){var r=this,n=r.renderer=e,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=wh()-2*jW,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=XT(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},Cit),n.beforeRender(function(s,o){o-r.lastInvalidationTime<=jW?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var a=function(o,l){return l.reqs-o.reqs};r.layersQueue=new Zb(a),r.setupDequeueing()},Ka=Lhe.prototype,QW=0,Iit=Math.pow(2,53)-1;Ka.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),a=this.renderer.makeOffscreenCanvas(n,i),s={id:QW=++QW%Iit,bb:t,level:e,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,l=-s.bb.x1,u=-s.bb.y1;return o.scale(r,r),o.translate(l,u),s};Ka.getLayers=function(t,e,r){var n=this,i=n.renderer,a=i.cy,s=a.zoom(),o=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(VI(s*e)),r<P2)r=P2;else if(s>=Eit||r>Ck)return null}n.validateLayersElesOrdering(r,t);var l=n.layersByLevel,u=Math.pow(2,r),h=l[r]=l[r]||[],f,d=n.levelIsComplete(r,t),p,m=function(){var F=function(O){if(n.validateLayersElesOrdering(O,t),n.levelIsComplete(O,t))return p=l[O],!0},M=function(O){if(!p)for(var P=r+O;P2<=P&&P<=Ck&&!F(P);P+=O);};M(1),M(-1);for(var B=h.length-1;B>=0;B--){var H=h[B];H.invalid&&td(h,H)}};if(!d)m();else return h;var v=function(){if(!f){f=Eo();for(var F=0;F<t.length;F++)Tce(f,t[F].boundingBox())}return f},x=function(F){F=F||{};var M=F.after;v();var B=Math.ceil(f.w*u),H=Math.ceil(f.h*u);if(B>KW||H>KW)return null;var R=B*H;if(R>Mit)return null;var O=n.makeLayer(f,r);if(M!=null){var P=h.indexOf(M)+1;h.splice(P,0,O)}else(F.insert===void 0||F.insert)&&h.unshift(O);return O};if(n.skipping&&!o)return null;for(var y=null,w=t.length/kit,S=!o,E=0;E<t.length;E++){var C=t[E],L=C._private.rscratch,_=L.imgLayerCaches=L.imgLayerCaches||{},I=_[r];if(I){y=I;continue}if((!y||y.eles.length>=w||!Cce(y.bb,C.boundingBox()))&&(y=x({insert:!0,after:y}),!y))return null;p||S?n.queueLayer(y,C):n.drawEleInLayer(y,C,r,e),y.eles.push(C),_[r]=y}return p||(S?null:h)};Ka.getEleLevelForLayerLevel=function(t,e){return t};Ka.drawEleInLayer=function(t,e,r,n){var i=this,a=this.renderer,s=t.context,o=e.boundingBox();o.w===0||o.h===0||!e.visible()||(r=i.getEleLevelForLayerLevel(r,n),a.setImgSmoothing(s,!1),a.drawCachedElement(s,e,null,null,r,Nit),a.setImgSmoothing(s,!0))};Ka.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var s=n[a];if(s.reqs>0||s.invalid)return!1;i+=s.eles.length}return i===e.length};Ka.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,s=0;s<e.length;s++)if(i.eles[0]===e[s]){a=s;break}if(a<0){this.invalidateLayer(i);continue}for(var o=a,s=0;s<i.eles.length;s++)if(i.eles[s]!==e[o+s]){this.invalidateLayer(i);break}}};Ka.updateElementsInLayers=function(t,e){for(var r=this,n=Kb(t[0]),i=0;i<t.length;i++)for(var a=n?null:t[i],s=n?t[i]:t[i].ele,o=s._private.rscratch,l=o.imgLayerCaches=o.imgLayerCaches||{},u=P2;u<=Ck;u++){var h=l[u];h&&(a&&r.getEleLevelForLayerLevel(h.level)!==a.level||e(h,s,a))}};Ka.haveLayers=function(){for(var t=this,e=!1,r=P2;r<=Ck;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Ka.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=wh(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,i,a){e.invalidateLayer(n)}))};Ka.invalidateLayer=function(t){if(this.lastInvalidationTime=wh(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];td(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}};Ka.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,i,a){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var o=0;o<s.eles.length;o++)e.queueLayer(s,s.eles[o])})};Ka.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Ka.queueLayer=function(t,e){var r=this,n=r.layersQueue,i=t.elesQueue,a=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(a[e.id()])return;i.push(e),a[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Ka.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<Rit&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var s=a.elesQueue.shift();s&&(e.drawEleInLayer(a,s,a.level,t),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&e.applyLayerReplacement(a),e.requestRedraw())}return n};Ka.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=t;for(var a=0;a<t.eles.length;a++){var s=t.eles[a]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[t.level]=t)}e.requestRedraw()}};Ka.requestRedraw=XT(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Ka.setupDequeueing=_he.setupDequeueing({deqRedrawThreshold:Tit,deqCost:Ait,deqAvgCost:_it,deqNoDrawCost:Lit,deqFastCost:Dit,deq:function(e,r){return e.dequeue(r)},onDeqd:zI,shouldRedraw:xce,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Dhe={},ZW;function Oit(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function Pit(t,e,r){for(var n,i=0;i<e.length;i++){var a=e[i];i===0&&(n=a),t.lineTo(a.x,a.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function JW(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var a=n[i];t.lineTo(a.x,a.y)}var s=r,o=r[0];t.moveTo(o.x,o.y);for(var i=1;i<s.length;i++){var a=s[i];t.lineTo(a.x,a.y)}t.closePath&&t.closePath()}function Fit(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,Math.PI*2,!1);var a=e,s=a[0];t.moveTo(s.x,s.y);for(var o=0;o<a.length;o++){var l=a[o];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function Bit(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}Dhe.arrowShapeImpl=function(t){return(ZW||(ZW={polygon:Oit,"triangle-backcurve":Pit,"triangle-tee":JW,"circle-triangle":Fit,"triangle-cross":JW,circle:Bit}))[t]};var yc={};yc.drawElement=function(t,e,r,n,i,a){var s=this;e.isNode()?s.drawNode(t,e,r,n,i,a):s.drawEdge(t,e,r,n,i,a)};yc.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};yc.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};yc.drawCachedElementPortion=function(t,e,r,n,i,a,s,o){var l=this,u=r.getBoundingBox(e);if(!(u.w===0||u.h===0)){var h=r.getElement(e,u,n,i,a);if(h!=null){var f=o(l,e);if(f===0)return;var d=s(l,e),p=u.x1,m=u.y1,v=u.w,x=u.h,y,w,S,E,C;if(d!==0){var L=r.getRotationPoint(e);S=L.x,E=L.y,t.translate(S,E),t.rotate(d),C=l.getImgSmoothing(t),C||l.setImgSmoothing(t,!0);var _=r.getRotationOffset(e);y=_.x,w=_.y}else y=p,w=m;var I;f!==1&&(I=t.globalAlpha,t.globalAlpha=I*f),t.drawImage(h.texture.canvas,h.x,0,h.width,h.height,y,w,v,x),f!==1&&(t.globalAlpha=I),d!==0&&(t.rotate(-d),t.translate(-S,-E),C||l.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var $it=function(){return 0},zit=function(e,r){return e.getTextAngle(r,null)},Hit=function(e,r){return e.getTextAngle(r,"source")},Vit=function(e,r){return e.getTextAngle(r,"target")},Uit=function(e,r){return r.effectiveOpacity()},B8=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};yc.drawCachedElement=function(t,e,r,n,i,a){var s=this,o=s.data,l=o.eleTxrCache,u=o.lblTxrCache,h=o.slbTxrCache,f=o.tlbTxrCache,d=e.boundingBox(),p=a===!0?l.reasons.highQuality:null;if(!(d.w===0||d.h===0||!e.visible())&&(!n||UI(d,n))){var m=e.isEdge(),v=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,l,r,i,p,$it,Uit),(!m||!v)&&s.drawCachedElementPortion(t,e,u,r,i,p,zit,B8),m&&!v&&(s.drawCachedElementPortion(t,e,h,r,i,p,Hit,B8),s.drawCachedElementPortion(t,e,f,r,i,p,Vit,B8)),s.drawElementOverlay(t,e)}};yc.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var i=e[n];r.drawElement(t,i)}};yc.drawCachedElements=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var s=e[a];i.drawCachedElement(t,s,r,n)}};yc.drawCachedNodes=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var s=e[a];s.isNode()&&i.drawCachedElement(t,s,r,n)}};yc.drawLayeredElements=function(t,e,r,n){var i=this,a=i.data.lyrTxrCache.getLayers(e,r);if(a)for(var s=0;s<a.length;s++){var o=a[s],l=o.bb;l.w===0||l.h===0||t.drawImage(o.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(t,e,r,n)};var Oh={};Oh.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=e._private.rscratch;if(!(a&&!e.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var l;r&&(l=r,t.translate(-l.x1,-l.y1));var u=a?e.pstyle("opacity").value:1,h=a?e.pstyle("line-opacity").value:1,f=e.pstyle("curve-style").value,d=e.pstyle("line-style").value,p=e.pstyle("width").pfValue,m=e.pstyle("line-cap").value,v=e.pstyle("line-outline-width").value,x=e.pstyle("line-outline-color").value,y=u*h,w=u*h,S=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;f==="straight-triangle"?(s.eleStrokeStyle(t,e,O),s.drawEdgeTrianglePath(e,t,o.allpts)):(t.lineWidth=p,t.lineCap=m,s.eleStrokeStyle(t,e,O),s.drawEdgePath(e,t,o.allpts,d),t.lineCap="butt")},E=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;if(t.lineWidth=p+v,t.lineCap=m,v>0)s.colorStrokeStyle(t,x[0],x[1],x[2],O);else{t.lineCap="butt";return}f==="straight-triangle"?s.drawEdgeTrianglePath(e,t,o.allpts):(s.drawEdgePath(e,t,o.allpts,d),t.lineCap="butt")},C=function(){i&&s.drawEdgeOverlay(t,e)},L=function(){i&&s.drawEdgeUnderlay(t,e)},_=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;s.drawArrowheads(t,e,O)},I=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var D=e.pstyle("ghost").value==="yes";if(D){var F=e.pstyle("ghost-offset-x").pfValue,M=e.pstyle("ghost-offset-y").pfValue,B=e.pstyle("ghost-opacity").value,H=y*B;t.translate(F,M),S(H),_(H),t.translate(-F,-M)}else E();L(),S(),_(),C(),I(),r&&t.translate(l.x1,l.y1)}};var Rhe=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var a=this,s=a.usePaths(),o=n._private.rscratch,l=n.pstyle("".concat(e,"-padding")).pfValue,u=2*l,h=n.pstyle("".concat(e,"-color")).value;r.lineWidth=u,o.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",a.colorStrokeStyle(r,h[0],h[1],h[2],i),a.drawEdgePath(n,r,o.allpts,"solid")}}}};Oh.drawEdgeOverlay=Rhe("overlay");Oh.drawEdgeUnderlay=Rhe("underlay");Oh.drawEdgePath=function(t,e,r,n){var i=t._private.rscratch,a=e,s,o=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,h=t.pstyle("line-dash-offset").pfValue;if(l){var f=r.join("$"),d=i.pathCacheKey&&i.pathCacheKey===f;d?(s=e=i.pathCache,o=!0):(s=e=new Path2D,i.pathCacheKey=f,i.pathCache=s)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=h;break;case"solid":a.setLineDash([]);break}if(!o&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<r.length;p+=4)e.quadraticCurveTo(r[p],r[p+1],r[p+2],r[p+3]);break;case"straight":case"haystack":for(var m=2;m+1<r.length;m+=2)e.lineTo(r[m],r[m+1]);break;case"segments":if(i.isRound){var v=ace(i.roundCorners),x;try{for(v.s();!(x=v.n()).done;){var y=x.value;bhe(e,y)}}catch(S){v.e(S)}finally{v.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var w=2;w+1<r.length;w+=2)e.lineTo(r[w],r[w+1]);break}e=a,l?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};Oh.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=[a[1]/s,-a[0]/s],l=[o[0]*n/2,o[1]*n/2];e.beginPath(),e.moveTo(r[i]-l[0],r[i+1]-l[1]),e.lineTo(r[i]+l[0],r[i+1]+l[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}};Oh.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Oh.drawArrowhead=function(t,e,r,n,i,a,s){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var o=this,l=e.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",h=e.pstyle(r+"-arrow-fill").value,f=e.pstyle("width").pfValue,d=e.pstyle(r+"-arrow-width"),p=d.value==="match-line"?f:d.pfValue;d.units==="%"&&(p*=f);var m=e.pstyle("opacity").value;s===void 0&&(s=m);var v=t.globalCompositeOperation;(s!==1||h==="hollow")&&(t.globalCompositeOperation="destination-out",o.colorFillStyle(t,255,255,255,1),o.colorStrokeStyle(t,255,255,255,1),o.drawArrowShape(e,t,u,f,l,p,n,i,a),t.globalCompositeOperation=v);var x=e.pstyle(r+"-arrow-color").value;o.colorFillStyle(t,x[0],x[1],x[2],s),o.colorStrokeStyle(t,x[0],x[1],x[2],s),o.drawArrowShape(e,t,h,f,l,p,n,i,a)}}};Oh.drawArrowShape=function(t,e,r,n,i,a,s,o,l){var u=this,h=this.usePaths()&&i!=="triangle-cross",f=!1,d,p=e,m={x:s,y:o},v=t.pstyle("arrow-scale").value,x=this.getArrowWidth(n,v),y=u.arrowShapes[i];if(h){var w=u.arrowPathCache=u.arrowPathCache||[],S=sp(i),E=w[S];E!=null?(d=e=E,f=!0):(d=e=new Path2D,w[S]=d)}f||(e.beginPath&&e.beginPath(),h?y.draw(e,1,0,{x:0,y:0},1):y.draw(e,x,l,m,n),e.closePath&&e.closePath()),e=p,h&&(e.translate(s,o),e.rotate(l),e.scale(x,x)),(r==="filled"||r==="both")&&(h?e.fill(d):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=a/(h?x:1),e.lineJoin="miter",h?e.stroke(d):e.stroke()),h&&(e.scale(1/x,1/x),e.rotate(-l),e.translate(-s,-o))};var iO={};iO.safeDrawImage=function(t,e,r,n,i,a,s,o,l,u){if(!(i<=0||a<=0||l<=0||u<=0))try{t.drawImage(e,r,n,i,a,s,o,l,u)}catch(h){vn(h)}};iO.drawInscribedImage=function(t,e,r,n,i){var a=this,s=r.position(),o=s.x,l=s.y,u=r.cy().style(),h=u.getIndexedStyle.bind(u),f=h(r,"background-fit","value",n),d=h(r,"background-repeat","value",n),p=r.width(),m=r.height(),v=r.padding()*2,x=p+(h(r,"background-width-relative-to","value",n)==="inner"?0:v),y=m+(h(r,"background-height-relative-to","value",n)==="inner"?0:v),w=r._private.rscratch,S=h(r,"background-clip","value",n),E=S==="node",C=h(r,"background-image-opacity","value",n)*i,L=h(r,"background-image-smoothing","value",n),_=r.pstyle("corner-radius").value;_!=="auto"&&(_=r.pstyle("corner-radius").pfValue);var I=e.width||e.cachedW,D=e.height||e.cachedH;(I==null||D==null)&&(document.body.appendChild(e),I=e.cachedW=e.width||e.offsetWidth,D=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var F=I,M=D;if(h(r,"background-width","value",n)!=="auto"&&(h(r,"background-width","units",n)==="%"?F=h(r,"background-width","pfValue",n)*x:F=h(r,"background-width","pfValue",n)),h(r,"background-height","value",n)!=="auto"&&(h(r,"background-height","units",n)==="%"?M=h(r,"background-height","pfValue",n)*y:M=h(r,"background-height","pfValue",n)),!(F===0||M===0)){if(f==="contain"){var B=Math.min(x/F,y/M);F*=B,M*=B}else if(f==="cover"){var B=Math.max(x/F,y/M);F*=B,M*=B}var H=o-x/2,R=h(r,"background-position-x","units",n),O=h(r,"background-position-x","pfValue",n);R==="%"?H+=(x-F)*O:H+=O;var P=h(r,"background-offset-x","units",n),z=h(r,"background-offset-x","pfValue",n);P==="%"?H+=(x-F)*z:H+=z;var $=l-y/2,V=h(r,"background-position-y","units",n),X=h(r,"background-position-y","pfValue",n);V==="%"?$+=(y-M)*X:$+=X;var q=h(r,"background-offset-y","units",n),Y=h(r,"background-offset-y","pfValue",n);q==="%"?$+=(y-M)*Y:$+=Y,w.pathCache&&(H-=o,$-=l,o=0,l=0);var U=t.globalAlpha;t.globalAlpha=C;var Z=a.getImgSmoothing(t),pe=!1;if(L==="no"&&Z?(a.setImgSmoothing(t,!1),pe=!0):L==="yes"&&!Z&&(a.setImgSmoothing(t,!0),pe=!0),d==="no-repeat")E&&(t.save(),w.pathCache?t.clip(w.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(t,o,l,x,y,_,w),t.clip())),a.safeDrawImage(t,e,0,0,I,D,H,$,F,M),E&&t.restore();else{var ne=t.createPattern(e,d);t.fillStyle=ne,a.nodeShapes[a.getNodeShape(r)].draw(t,o,l,x,y,_,w),t.translate(H,$),t.fill(),t.translate(-H,-$)}t.globalAlpha=U,pe&&a.setImgSmoothing(t,Z)}};var Rp={};Rp.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(VI(r*n));e=Math.pow(2,i)}var a=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(a<s)};Rp.drawElementText=function(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(a&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var o=e.pstyle("label");if(!o||!o.value)return;var l=s.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,h=e.pstyle("label"),f=e.pstyle("source-label"),d=e.pstyle("target-label");if(u||(!h||!h.value)&&(!f||!f.value)&&(!d||!d.value))return;t.textAlign="center",t.textBaseline="bottom"}var p=!r,m;r&&(m=r,t.translate(-m.x1,-m.y1)),i==null?(s.drawText(t,e,null,p,a),e.isEdge()&&(s.drawText(t,e,"source",p,a),s.drawText(t,e,"target",p,a))):s.drawText(t,e,i,p,a),r&&t.translate(m.x1,m.y1)};Rp.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Rp.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",a=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,o=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*o,u=e.pstyle("color").value,h=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+i+" "+a,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],o),this.colorStrokeStyle(t,h[0],h[1],h[2],l)};function $8(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+a,r),t.lineTo(e+n-a,r),t.quadraticCurveTo(e+n,r,e+n,r+a),t.lineTo(e+n,r+i-a),t.quadraticCurveTo(e+n,r+i,e+n-a,r+i),t.lineTo(e+a,r+i),t.quadraticCurveTo(e,r+i,e,r+i-a),t.lineTo(e,r+a),t.quadraticCurveTo(e,r,e+a,r),t.closePath(),s?t.stroke():t.fill()}Rp.getTextAngle=function(t,e){var r,n=t._private,i=n.rscratch,a=e?e+"-":"",s=t.pstyle(a+"text-rotation"),o=eu(i,"labelAngle",e);return s.strValue==="autorotate"?r=t.isEdge()?o:0:s.strValue==="none"?r=0:r=s.pfValue,r};Rp.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=e._private,s=a.rscratch,o=i?e.effectiveOpacity():1;if(!(i&&(o===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=eu(s,"labelX",r),u=eu(s,"labelY",r),h,f,d=this.getLabelText(e,r);if(d!=null&&d!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(t,e,i);var p=r?r+"-":"",m=eu(s,"labelWidth",r),v=eu(s,"labelHeight",r),x=e.pstyle(p+"text-margin-x").pfValue,y=e.pstyle(p+"text-margin-y").pfValue,w=e.isEdge(),S=e.pstyle("text-halign").value,E=e.pstyle("text-valign").value;w&&(S="center",E="center"),l+=x,u+=y;var C;switch(n?C=this.getTextAngle(e,r):C=0,C!==0&&(h=l,f=u,t.translate(h,f),t.rotate(C),l=0,u=0),E){case"top":break;case"center":u+=v/2;break;case"bottom":u+=v;break}var L=e.pstyle("text-background-opacity").value,_=e.pstyle("text-border-opacity").value,I=e.pstyle("text-border-width").pfValue,D=e.pstyle("text-background-padding").pfValue,F=e.pstyle("text-background-shape").strValue,M=F.indexOf("round")===0,B=2;if(L>0||I>0&&_>0){var H=l-D;switch(S){case"left":H-=m;break;case"center":H-=m/2;break}var R=u-v-D,O=m+2*D,P=v+2*D;if(L>0){var z=t.fillStyle,$=e.pstyle("text-background-color").value;t.fillStyle="rgba("+$[0]+","+$[1]+","+$[2]+","+L*o+")",M?$8(t,H,R,O,P,B):t.fillRect(H,R,O,P),t.fillStyle=z}if(I>0&&_>0){var V=t.strokeStyle,X=t.lineWidth,q=e.pstyle("text-border-color").value,Y=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+q[0]+","+q[1]+","+q[2]+","+_*o+")",t.lineWidth=I,t.setLineDash)switch(Y){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=I/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(M?$8(t,H,R,O,P,B,"stroke"):t.strokeRect(H,R,O,P),Y==="double"){var U=I/2;M?$8(t,H+U,R+U,O-U*2,P-U*2,B,"stroke"):t.strokeRect(H+U,R+U,O-U*2,P-U*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=X,t.strokeStyle=V}}var Z=2*e.pstyle("text-outline-width").pfValue;if(Z>0&&(t.lineWidth=Z),e.pstyle("text-wrap").value==="wrap"){var pe=eu(s,"labelWrapCachedLines",r),ne=eu(s,"labelLineHeight",r),ge=m/2,ye=this.getLabelJustification(e);switch(ye==="auto"||(S==="left"?ye==="left"?l+=-m:ye==="center"&&(l+=-ge):S==="center"?ye==="left"?l+=-ge:ye==="right"&&(l+=ge):S==="right"&&(ye==="center"?l+=ge:ye==="right"&&(l+=m))),E){case"top":u-=(pe.length-1)*ne;break;case"center":case"bottom":u-=(pe.length-1)*ne;break}for(var J=0;J<pe.length;J++)Z>0&&t.strokeText(pe[J],l,u),t.fillText(pe[J],l,u),u+=ne}else Z>0&&t.strokeText(d,l,u),t.fillText(d,l,u);C!==0&&(t.rotate(-C),t.translate(-h,-f))}}};var Tv={};Tv.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,l,u=e._private,h=u.rscratch,f=e.position();if(!(!$t(f.x)||!$t(f.y))&&!(a&&!e.visible())){var d=a?e.effectiveOpacity():1,p=s.usePaths(),m,v=!1,x=e.padding();o=e.width()+2*x,l=e.height()+2*x;var y;r&&(y=r,t.translate(-y.x1,-y.y1));for(var w=e.pstyle("background-image"),S=w.value,E=new Array(S.length),C=new Array(S.length),L=0,_=0;_<S.length;_++){var I=S[_],D=E[_]=I!=null&&I!=="none";if(D){var F=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",_);L++,C[_]=s.getCachedImage(I,F,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var M=e.pstyle("background-blacken").value,B=e.pstyle("border-width").pfValue,H=e.pstyle("background-opacity").value*d,R=e.pstyle("border-color").value,O=e.pstyle("border-style").value,P=e.pstyle("border-join").value,z=e.pstyle("border-cap").value,$=e.pstyle("border-position").value,V=e.pstyle("border-dash-pattern").pfValue,X=e.pstyle("border-dash-offset").pfValue,q=e.pstyle("border-opacity").value*d,Y=e.pstyle("outline-width").pfValue,U=e.pstyle("outline-color").value,Z=e.pstyle("outline-style").value,pe=e.pstyle("outline-opacity").value*d,ne=e.pstyle("outline-offset").value,ge=e.pstyle("corner-radius").value;ge!=="auto"&&(ge=e.pstyle("corner-radius").pfValue);var ye=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H;s.eleFillStyle(t,e,he)},J=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q;s.colorStrokeStyle(t,R[0],R[1],R[2],he)},se=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pe;s.colorStrokeStyle(t,U[0],U[1],U[2],he)},oe=function(he,K,_e,ae){var Le=s.nodePathCache=s.nodePathCache||[],Ne=yce(_e==="polygon"?_e+","+ae.join(","):_e,""+K,""+he,""+ge),Ie=Le[Ne],Oe,Pe=!1;return Ie!=null?(Oe=Ie,Pe=!0,h.pathCache=Oe):(Oe=new Path2D,Le[Ne]=h.pathCache=Oe),{path:Oe,cacheHit:Pe}},fe=e.pstyle("shape").strValue,me=e.pstyle("shape-polygon-points").pfValue;if(p){t.translate(f.x,f.y);var be=oe(o,l,fe,me);m=be.path,v=be.cacheHit}var ce=function(){if(!v){var he=f;p&&(he={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(m||t,he.x,he.y,o,l,ge,h)}p?t.fill(m):t.fill()},Ge=function(){for(var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_e=u.backgrounding,ae=0,Le=0;Le<C.length;Le++){var Ne=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Le);if(K&&Ne==="over"||!K&&Ne==="inside"){ae++;continue}E[Le]&&C[Le].complete&&!C[Le].error&&(ae++,s.drawInscribedImage(t,C[Le],e,Le,he))}u.backgrounding=ae!==L,_e!==u.backgrounding&&e.updateStyle(!1)},xe=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;s.hasPie(e)&&(s.drawPie(t,e,K),he&&(p||s.nodeShapes[s.getNodeShape(e)].draw(t,f.x,f.y,o,l,ge,h)))},le=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,K=(M>0?M:-M)*he,_e=M>0?0:255;M!==0&&(s.colorFillStyle(t,_e,_e,_e,K),p?t.fill(m):t.fill())},ke=function(){if(B>0){if(t.lineWidth=B,t.lineCap=z,t.lineJoin=P,t.setLineDash)switch(O){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(V),t.lineDashOffset=X;break;case"solid":case"double":t.setLineDash([]);break}if($!=="center"){if(t.save(),t.lineWidth*=2,$==="inside")p?t.clip(m):t.clip();else{var he=new Path2D;he.rect(-o/2-B,-l/2-B,o+2*B,l+2*B),he.addPath(m),t.clip(he,"evenodd")}p?t.stroke(m):t.stroke(),t.restore()}else p?t.stroke(m):t.stroke();if(O==="double"){t.lineWidth=B/3;var K=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",p?t.stroke(m):t.stroke(),t.globalCompositeOperation=K}t.setLineDash&&t.setLineDash([])}},De=function(){if(Y>0){if(t.lineWidth=Y,t.lineCap="butt",t.setLineDash)switch(Z){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var he=f;p&&(he={x:0,y:0});var K=s.getNodeShape(e),_e=B;$==="inside"&&(_e=0),$==="outside"&&(_e*=2);var ae=(o+_e+(Y+ne))/o,Le=(l+_e+(Y+ne))/l,Ne=o*ae,Ie=l*Le,Oe=s.nodeShapes[K].points,Pe;if(p){var Me=oe(Ne,Ie,K,Oe);Pe=Me.path}if(K==="ellipse")s.drawEllipsePath(Pe||t,he.x,he.y,Ne,Ie);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(K)){var ze=0,it=0,ut=0;K==="round-diamond"?ze=(_e+ne+Y)*1.4:K==="round-heptagon"?(ze=(_e+ne+Y)*1.075,ut=-(_e/2+ne+Y)/35):K==="round-hexagon"?ze=(_e+ne+Y)*1.12:K==="round-pentagon"?(ze=(_e+ne+Y)*1.13,ut=-(_e/2+ne+Y)/15):K==="round-tag"?(ze=(_e+ne+Y)*1.12,it=(_e/2+Y+ne)*.07):K==="round-triangle"&&(ze=(_e+ne+Y)*(Math.PI/2),ut=-(_e+ne/2+Y)/Math.PI),ze!==0&&(ae=(o+ze)/o,Ne=o*ae,["round-hexagon","round-tag"].includes(K)||(Le=(l+ze)/l,Ie=l*Le)),ge=ge==="auto"?Lce(Ne,Ie):ge;for(var gt=Ne/2,wt=Ie/2,Pt=ge+(_e+Y+ne)/2,ot=new Array(Oe.length/2),at=new Array(Oe.length/2),kt=0;kt<Oe.length/2;kt++)ot[kt]={x:he.x+it+gt*Oe[kt*2],y:he.y+ut+wt*Oe[kt*2+1]};var ct,ft,Jt,pt,dt=ot.length;for(ft=ot[dt-1],ct=0;ct<dt;ct++)Jt=ot[ct%dt],pt=ot[(ct+1)%dt],at[ct]=rO(ft,Jt,pt,Pt),ft=Jt,Jt=pt;s.drawRoundPolygonPath(Pe||t,he.x+it,he.y+ut,o*ae,l*Le,Oe,at)}else if(["roundrectangle","round-rectangle"].includes(K))ge=ge==="auto"?lp(Ne,Ie):ge,s.drawRoundRectanglePath(Pe||t,he.x,he.y,Ne,Ie,ge+(_e+Y+ne)/2);else if(["cutrectangle","cut-rectangle"].includes(K))ge=ge==="auto"?GI():ge,s.drawCutRectanglePath(Pe||t,he.x,he.y,Ne,Ie,null,ge+(_e+Y+ne)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(K))ge=ge==="auto"?lp(Ne,Ie):ge,s.drawBottomRoundRectanglePath(Pe||t,he.x,he.y,Ne,Ie,ge+(_e+Y+ne)/2);else if(K==="barrel")s.drawBarrelPath(Pe||t,he.x,he.y,Ne,Ie);else if(K.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(K)){var Rt=(_e+Y+ne)/o;Oe=xk(bk(Oe,Rt)),s.drawPolygonPath(Pe||t,he.x,he.y,o,l,Oe)}else{var er=(_e+Y+ne)/o;Oe=xk(bk(Oe,-er)),s.drawPolygonPath(Pe||t,he.x,he.y,o,l,Oe)}if(p?t.stroke(Pe):t.stroke(),Z==="double"){t.lineWidth=_e/3;var Ot=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",p?t.stroke(Pe):t.stroke(),t.globalCompositeOperation=Ot}t.setLineDash&&t.setLineDash([])}},We=function(){i&&s.drawNodeOverlay(t,e,f,o,l)},qe=function(){i&&s.drawNodeUnderlay(t,e,f,o,l)},Ve=function(){s.drawElementText(t,e,null,n)},we=e.pstyle("ghost").value==="yes";if(we){var Te=e.pstyle("ghost-offset-x").pfValue,de=e.pstyle("ghost-offset-y").pfValue,W=e.pstyle("ghost-opacity").value,ee=W*d;t.translate(Te,de),se(),De(),ye(W*H),ce(),Ge(ee,!0),J(W*q),ke(),xe(M!==0||B!==0),Ge(ee,!1),le(ee),t.translate(-Te,-de)}p&&t.translate(-f.x,-f.y),qe(),p&&t.translate(f.x,f.y),se(),De(),ye(),ce(),Ge(d,!0),J(),ke(),xe(M!==0||B!==0),Ge(d,!1),le(),p&&t.translate(-f.x,-f.y),Ve(),We(),r&&t.translate(y.x1,y.y1)}};var Mhe=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,i,a,s){var o=this;if(n.visible()){var l=n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-opacity")).value,h=n.pstyle("".concat(e,"-color")).value,f=n.pstyle("".concat(e,"-shape")).value,d=n.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(i=i||n.position(),a==null||s==null){var p=n.padding();a=n.width()+2*p,s=n.height()+2*p}o.colorFillStyle(r,h[0],h[1],h[2],u),o.nodeShapes[f].draw(r,i.x,i.y,a+l*2,s+l*2,d),r.fill()}}}};Tv.drawNodeOverlay=Mhe("overlay");Tv.drawNodeUnderlay=Mhe("underlay");Tv.hasPie=function(t){return t=t[0],t._private.hasPie};Tv.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),a=e.pstyle("pie-size"),s=n.x,o=n.y,l=e.width(),u=e.height(),h=Math.min(l,u)/2,f=0,d=this.usePaths();d&&(s=0,o=0),a.units==="%"?h=h*a.pfValue:a.pfValue!==void 0&&(h=a.pfValue/2);for(var p=1;p<=i.pieBackgroundN;p++){var m=e.pstyle("pie-"+p+"-background-size").value,v=e.pstyle("pie-"+p+"-background-color").value,x=e.pstyle("pie-"+p+"-background-opacity").value*r,y=m/100;y+f>1&&(y=1-f);var w=1.5*Math.PI+2*Math.PI*f,S=2*Math.PI*y,E=w+S;m===0||f>=1||f+y>1||(t.beginPath(),t.moveTo(s,o),t.arc(s,o,h,w,E),t.closePath(),this.colorFillStyle(t,v[0],v[1],v[2],x),t.fill(),f+=y)}};var Jo={},Git=100;Jo.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};Jo.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};Jo.createGradientStyleFor=function(t,e,r,n,i){var a,s=this.usePaths(),o=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),h=r.targetEndpoint(),f=r.midpoint(),d=op(u,f),p=op(h,f);a=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(d,p))}else{var m=s?{x:0,y:0}:r.position(),v=r.paddedWidth(),x=r.paddedHeight();a=t.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(v,x))}else if(r.isEdge()){var y=r.sourceEndpoint(),w=r.targetEndpoint();a=t.createLinearGradient(y.x,y.y,w.x,w.y)}else{var S=s?{x:0,y:0}:r.position(),E=r.paddedWidth(),C=r.paddedHeight(),L=E/2,_=C/2,I=r.pstyle("background-gradient-direction").value;switch(I){case"to-bottom":a=t.createLinearGradient(S.x,S.y-_,S.x,S.y+_);break;case"to-top":a=t.createLinearGradient(S.x,S.y+_,S.x,S.y-_);break;case"to-left":a=t.createLinearGradient(S.x+L,S.y,S.x-L,S.y);break;case"to-right":a=t.createLinearGradient(S.x-L,S.y,S.x+L,S.y);break;case"to-bottom-right":case"to-right-bottom":a=t.createLinearGradient(S.x-L,S.y-_,S.x+L,S.y+_);break;case"to-top-right":case"to-right-top":a=t.createLinearGradient(S.x-L,S.y+_,S.x+L,S.y-_);break;case"to-bottom-left":case"to-left-bottom":a=t.createLinearGradient(S.x+L,S.y-_,S.x-L,S.y+_);break;case"to-top-left":case"to-left-top":a=t.createLinearGradient(S.x+L,S.y+_,S.x-L,S.y-_);break}}if(!a)return null;for(var D=l.length===o.length,F=o.length,M=0;M<F;M++)a.addColorStop(D?l[M]:M/(F-1),"rgba("+o[M][0]+","+o[M][1]+","+o[M][2]+","+i+")");return a};Jo.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i};Jo.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"};Jo.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}};Jo.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i};Jo.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"};Jo.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}};Jo.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],a=n[3],s=e.getPixelRatio(),o=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var l=i*s,u=a*s,h;if(!(l===e.canvasWidth&&u===e.canvasHeight)){e.fontCaches=null;var f=r.canvasContainer;f.style.width=i+"px",f.style.height=a+"px";for(var d=0;d<e.CANVAS_LAYERS;d++)h=r.canvases[d],h.width=l,h.height=u,h.style.width=i+"px",h.style.height=a+"px";for(var d=0;d<e.BUFFER_COUNT;d++)h=r.bufferCanvases[d],h.width=l,h.height=u,h.style.width=i+"px",h.style.height=a+"px";e.textureMult=1,s<=1&&(h=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,h.width=l*e.textureMult,h.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u}};Jo.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Jo.render=function(t){t=t||Sce();var e=t.forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,i=t.forcedZoom,a=t.forcedPan,s=this,o=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,l=s.cy,u=s.data,h=u.canvasNeedsRedraw,f=s.textureOnViewport&&!e&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),d=t.motionBlur!==void 0?t.motionBlur:s.motionBlur,p=s.motionBlurPxRatio,m=l.hasCompoundNodes(),v=s.hoverData.draggingEles,x=!!(s.hoverData.selecting||s.touchData.selecting);d=d&&!e&&s.motionBlurEnabled&&!x;var y=d;e||(s.prevPxRatio!==o&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=o),!e&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),d&&(s.mbFrames==null&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(y=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!f&&(h[s.NODE]=!0,h[s.SELECT_BOX]=!0);var w=l.style(),S=l.zoom(),E=i!==void 0?i:S,C=l.pan(),L={x:C.x,y:C.y},_={zoom:S,pan:{x:C.x,y:C.y}},I=s.prevViewport,D=I===void 0||_.zoom!==I.zoom||_.pan.x!==I.pan.x||_.pan.y!==I.pan.y;!D&&!(v&&!m)&&(s.motionBlurPxRatio=1),a&&(L=a),E*=o,L.x*=o,L.y*=o;var F=s.getCachedZSortedEles();function M(be,ce,Ge,xe,le){var ke=be.globalCompositeOperation;be.globalCompositeOperation="destination-out",s.colorFillStyle(be,255,255,255,s.motionBlurTransparency),be.fillRect(ce,Ge,xe,le),be.globalCompositeOperation=ke}function B(be,ce){var Ge,xe,le,ke;!s.clearingMotionBlur&&(be===u.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]||be===u.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG])?(Ge={x:C.x*p,y:C.y*p},xe=S*p,le=s.canvasWidth*p,ke=s.canvasHeight*p):(Ge=L,xe=E,le=s.canvasWidth,ke=s.canvasHeight),be.setTransform(1,0,0,1,0,0),ce==="motionBlur"?M(be,0,0,le,ke):!e&&(ce===void 0||ce)&&be.clearRect(0,0,le,ke),r||(be.translate(Ge.x,Ge.y),be.scale(xe,xe)),a&&be.translate(a.x,a.y),i&&be.scale(i,i)}if(f||(s.textureDrawLastFrame=!1),f){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=l.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var H=s.data.bufferContexts[s.TEXTURE_BUFFER];H.setTransform(1,0,0,1,0,0),H.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:H,drawOnlyNodeLayer:!0,forcedPxRatio:o*s.textureMult});var _=s.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:s.canvasWidth,height:s.canvasHeight};_.mpan={x:(0-_.pan.x)/_.zoom,y:(0-_.pan.y)/_.zoom}}h[s.DRAG]=!1,h[s.NODE]=!1;var R=u.contexts[s.NODE],O=s.textureCache.texture,_=s.textureCache.viewport;R.setTransform(1,0,0,1,0,0),d?M(R,0,0,_.width,_.height):R.clearRect(0,0,_.width,_.height);var P=w.core("outside-texture-bg-color").value,z=w.core("outside-texture-bg-opacity").value;s.colorFillStyle(R,P[0],P[1],P[2],z),R.fillRect(0,0,_.width,_.height);var S=l.zoom();B(R,!1),R.clearRect(_.mpan.x,_.mpan.y,_.width/_.zoom/o,_.height/_.zoom/o),R.drawImage(O,_.mpan.x,_.mpan.y,_.width/_.zoom/o,_.height/_.zoom/o)}else s.textureOnViewport&&!e&&(s.textureCache=null);var $=l.extent(),V=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles||s.cy.animated(),X=s.hideEdgesOnViewport&&V,q=[];if(q[s.NODE]=!h[s.NODE]&&d&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,q[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),q[s.DRAG]=!h[s.DRAG]&&d&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,q[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),h[s.NODE]||r||n||q[s.NODE]){var Y=d&&!q[s.NODE]&&p!==1,R=e||(Y?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:u.contexts[s.NODE]),U=d&&!Y?"motionBlur":void 0;B(R,U),X?s.drawCachedNodes(R,F.nondrag,o,$):s.drawLayeredElements(R,F.nondrag,o,$),s.debug&&s.drawDebugPoints(R,F.nondrag),!r&&!d&&(h[s.NODE]=!1)}if(!n&&(h[s.DRAG]||r||q[s.DRAG])){var Y=d&&!q[s.DRAG]&&p!==1,R=e||(Y?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:u.contexts[s.DRAG]);B(R,d&&!Y?"motionBlur":void 0),X?s.drawCachedNodes(R,F.drag,o,$):s.drawCachedElements(R,F.drag,o,$),s.debug&&s.drawDebugPoints(R,F.drag),!r&&!d&&(h[s.DRAG]=!1)}if(s.showFps||!n&&h[s.SELECT_BOX]&&!r){var R=e||u.contexts[s.SELECT_BOX];if(B(R),s.selection[4]==1&&(s.hoverData.selecting||s.touchData.selecting)){var S=s.cy.zoom(),Z=w.core("selection-box-border-width").value/S;R.lineWidth=Z,R.fillStyle="rgba("+w.core("selection-box-color").value[0]+","+w.core("selection-box-color").value[1]+","+w.core("selection-box-color").value[2]+","+w.core("selection-box-opacity").value+")",R.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),Z>0&&(R.strokeStyle="rgba("+w.core("selection-box-border-color").value[0]+","+w.core("selection-box-border-color").value[1]+","+w.core("selection-box-border-color").value[2]+","+w.core("selection-box-opacity").value+")",R.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(u.bgActivePosistion&&!s.hoverData.selecting){var S=s.cy.zoom(),pe=u.bgActivePosistion;R.fillStyle="rgba("+w.core("active-bg-color").value[0]+","+w.core("active-bg-color").value[1]+","+w.core("active-bg-color").value[2]+","+w.core("active-bg-opacity").value+")",R.beginPath(),R.arc(pe.x,pe.y,w.core("active-bg-size").pfValue/S,0,2*Math.PI),R.fill()}var ne=s.lastRedrawTime;if(s.showFps&&ne){ne=Math.round(ne);var ge=Math.round(1e3/ne);R.setTransform(1,0,0,1,0,0),R.fillStyle="rgba(255, 0, 0, 0.75)",R.strokeStyle="rgba(255, 0, 0, 0.75)",R.lineWidth=1,R.fillText("1 frame = "+ne+" ms = "+ge+" fps",0,20);var ye=60;R.strokeRect(0,30,250,20),R.fillRect(0,30,250*Math.min(ge/ye,1),20)}r||(h[s.SELECT_BOX]=!1)}if(d&&p!==1){var J=u.contexts[s.NODE],se=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],oe=u.contexts[s.DRAG],fe=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],me=function(ce,Ge,xe){ce.setTransform(1,0,0,1,0,0),xe||!y?ce.clearRect(0,0,s.canvasWidth,s.canvasHeight):M(ce,0,0,s.canvasWidth,s.canvasHeight);var le=p;ce.drawImage(Ge,0,0,s.canvasWidth*le,s.canvasHeight*le,0,0,s.canvasWidth,s.canvasHeight)};(h[s.NODE]||q[s.NODE])&&(me(J,se,q[s.NODE]),h[s.NODE]=!1),(h[s.DRAG]||q[s.DRAG])&&(me(oe,fe,q[s.DRAG]),h[s.DRAG]=!1)}s.prevViewport=_,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),d&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!f,s.mbFrames=0,h[s.NODE]=!0,h[s.DRAG]=!0,s.redraw()},Git)),e||l.emit("render")};var bd={};bd.drawPolygonPath=function(t,e,r,n,i,a){var s=n/2,o=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*a[0],r+o*a[1]);for(var l=1;l<a.length/2;l++)t.lineTo(e+s*a[l*2],r+o*a[l*2+1]);t.closePath()};bd.drawRoundPolygonPath=function(t,e,r,n,i,a,s){s.forEach(function(o){return bhe(t,o)}),t.closePath()};bd.drawRoundRectanglePath=function(t,e,r,n,i,a){var s=n/2,o=i/2,l=a==="auto"?lp(n,i):Math.min(a,o,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+s,r-o,e+s,r,l),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.arcTo(e-s,r-o,e,r-o,l),t.lineTo(e,r-o),t.closePath()};bd.drawBottomRoundRectanglePath=function(t,e,r,n,i,a){var s=n/2,o=i/2,l=a==="auto"?lp(n,i):a;t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+s,r-o),t.lineTo(e+s,r),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.lineTo(e-s,r-o),t.lineTo(e,r-o),t.closePath()};bd.drawCutRectanglePath=function(t,e,r,n,i,a,s){var o=n/2,l=i/2,u=s==="auto"?GI():s;t.beginPath&&t.beginPath(),t.moveTo(e-o+u,r-l),t.lineTo(e+o-u,r-l),t.lineTo(e+o,r-l+u),t.lineTo(e+o,r+l-u),t.lineTo(e+o-u,r+l),t.lineTo(e-o+u,r+l),t.lineTo(e-o,r+l-u),t.lineTo(e-o,r-l+u),t.closePath()};bd.drawBarrelPath=function(t,e,r,n,i){var a=n/2,s=i/2,o=e-a,l=e+a,u=r-s,h=r+s,f=_9(n,i),d=f.widthOffset,p=f.heightOffset,m=f.ctrlPtOffsetPct*d;t.beginPath&&t.beginPath(),t.moveTo(o,u+p),t.lineTo(o,h-p),t.quadraticCurveTo(o+m,h,o+d,h),t.lineTo(l-d,h),t.quadraticCurveTo(l-m,h,l,h-p),t.lineTo(l,u+p),t.quadraticCurveTo(l-m,u,l-d,u),t.lineTo(o+d,u),t.quadraticCurveTo(o+m,u,o,u+p),t.closePath()};var eq=Math.sin(0),tq=Math.cos(0),z9={},H9={},Nhe=Math.PI/40;for(var gg=0*Math.PI;gg<2*Math.PI;gg+=Nhe)z9[gg]=Math.sin(gg),H9[gg]=Math.cos(gg);bd.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var a,s,o=n/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=Nhe)a=e-o*z9[u]*eq+o*H9[u]*tq,s=r+l*H9[u]*eq+l*z9[u]*tq,u===0?t.moveTo(a,s):t.lineTo(a,s);t.closePath()};var n4={};n4.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};n4.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),a=t.full?Math.ceil(n.w):i[2],s=t.full?Math.ceil(n.h):i[3],o=$t(t.maxWidth)||$t(t.maxHeight),l=this.getPixelRatio(),u=1;if(t.scale!==void 0)a*=t.scale,s*=t.scale,u=t.scale;else if(o){var h=1/0,f=1/0;$t(t.maxWidth)&&(h=u*t.maxWidth/a),$t(t.maxHeight)&&(f=u*t.maxHeight/s),u=Math.min(h,f),a*=u,s*=u}o||(a*=l,s*=l,u*=l);var d=document.createElement("canvas");d.width=a,d.height=s,d.style.width=a+"px",d.style.height=s+"px";var p=d.getContext("2d");if(a>0&&s>0){p.clearRect(0,0,a,s),p.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(t.full)p.translate(-n.x1*u,-n.y1*u),p.scale(u,u),this.drawElements(p,m),p.scale(1/u,1/u),p.translate(n.x1*u,n.y1*u);else{var v=e.pan(),x={x:v.x*u,y:v.y*u};u*=e.zoom(),p.translate(x.x,x.y),p.scale(u,u),this.drawElements(p,m),p.scale(1/u,1/u),p.translate(-x.x,-x.y)}t.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=t.bg,p.rect(0,0,a,s),p.fill())}return d};function Wit(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:e})}function rq(t){var e=t.indexOf(",");return t.substr(e+1)}function Ihe(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new vv(function(i,a){try{e.toBlob(function(s){s!=null?i(s):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){a(s)}});case"blob":return Wit(rq(n()),r);case"base64":return rq(n());case"base64uri":default:return n()}}n4.png=function(t){return Ihe(t,this.bufferCanvasImage(t),"image/png")};n4.jpg=function(t){return Ihe(t,this.bufferCanvasImage(t),"image/jpeg")};var Ohe={};Ohe.nodeShapeImpl=function(t,e,r,n,i,a,s,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,a);case"polygon":return this.drawPolygonPath(e,r,n,i,a,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,a,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,a,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,a,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,a,o);case"barrel":return this.drawBarrelPath(e,r,n,i,a)}};var qit=Phe,nn=Phe.prototype;nn.CANVAS_LAYERS=3;nn.SELECT_BOX=0;nn.DRAG=1;nn.NODE=2;nn.BUFFER_COUNT=3;nn.TEXTURE_BUFFER=0;nn.MOTIONBLUR_BUFFER_NODE=1;nn.MOTIONBLUR_BUFFER_DRAG=2;function Phe(t){var e=this,r=e.cy.window(),n=r.document;e.data={canvases:new Array(nn.CANVAS_LAYERS),contexts:new Array(nn.CANVAS_LAYERS),canvasNeedsRedraw:new Array(nn.CANVAS_LAYERS),bufferCanvases:new Array(nn.BUFFER_COUNT),bufferContexts:new Array(nn.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=a,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[i]=a;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};RQe()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<nn.CANVAS_LAYERS;u++){var h=e.data.canvases[u]=n.createElement("canvas");e.data.contexts[u]=h.getContext("2d"),Object.keys(l).forEach(function(ye){h.style[ye]=l[ye]}),h.style.position="absolute",h.setAttribute("data-id","layer"+u),h.style.zIndex=String(nn.CANVAS_LAYERS-u),e.data.canvasContainer.appendChild(h),e.data.canvasNeedsRedraw[u]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[nn.NODE].setAttribute("data-id","layer"+nn.NODE+"-node"),e.data.canvases[nn.SELECT_BOX].setAttribute("data-id","layer"+nn.SELECT_BOX+"-selectbox"),e.data.canvases[nn.DRAG].setAttribute("data-id","layer"+nn.DRAG+"-drag");for(var u=0;u<nn.BUFFER_COUNT;u++)e.data.bufferCanvases[u]=n.createElement("canvas"),e.data.bufferContexts[u]=e.data.bufferCanvases[u].getContext("2d"),e.data.bufferCanvases[u].style.position="absolute",e.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),e.data.bufferCanvases[u].style.zIndex=String(-u-1),e.data.bufferCanvases[u].style.visibility="hidden";e.pathsEnabled=!0;var f=Eo(),d=function(J){return{x:(J.x1+J.x2)/2,y:(J.y1+J.y2)/2}},p=function(J){return{x:-J.w/2,y:-J.h/2}},m=function(J){var se=J[0]._private,oe=se.oldBackgroundTimestamp===se.backgroundTimestamp;return!oe},v=function(J){return J[0]._private.nodeKey},x=function(J){return J[0]._private.labelStyleKey},y=function(J){return J[0]._private.sourceLabelStyleKey},w=function(J){return J[0]._private.targetLabelStyleKey},S=function(J,se,oe,fe,me){return e.drawElement(J,se,oe,!1,!1,me)},E=function(J,se,oe,fe,me){return e.drawElementText(J,se,oe,fe,"main",me)},C=function(J,se,oe,fe,me){return e.drawElementText(J,se,oe,fe,"source",me)},L=function(J,se,oe,fe,me){return e.drawElementText(J,se,oe,fe,"target",me)},_=function(J){return J.boundingBox(),J[0]._private.bodyBounds},I=function(J){return J.boundingBox(),J[0]._private.labelBounds.main||f},D=function(J){return J.boundingBox(),J[0]._private.labelBounds.source||f},F=function(J){return J.boundingBox(),J[0]._private.labelBounds.target||f},M=function(J,se){return se},B=function(J){return d(_(J))},H=function(J,se,oe){var fe=J?J+"-":"";return{x:se.x+oe.pstyle(fe+"text-margin-x").pfValue,y:se.y+oe.pstyle(fe+"text-margin-y").pfValue}},R=function(J,se,oe){var fe=J[0]._private.rscratch;return{x:fe[se],y:fe[oe]}},O=function(J){return H("",R(J,"labelX","labelY"),J)},P=function(J){return H("source",R(J,"sourceLabelX","sourceLabelY"),J)},z=function(J){return H("target",R(J,"targetLabelX","targetLabelY"),J)},$=function(J){return p(_(J))},V=function(J){return p(D(J))},X=function(J){return p(F(J))},q=function(J){var se=I(J),oe=p(I(J));if(J.isNode()){switch(J.pstyle("text-halign").value){case"left":oe.x=-se.w-(se.leftPad||0);break;case"right":oe.x=-(se.rightPad||0);break}switch(J.pstyle("text-valign").value){case"top":oe.y=-se.h-(se.topPad||0);break;case"bottom":oe.y=-(se.botPad||0);break}}return oe},Y=e.data.eleTxrCache=new c2(e,{getKey:v,doesEleInvalidateKey:m,drawElement:S,getBoundingBox:_,getRotationPoint:B,getRotationOffset:$,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),U=e.data.lblTxrCache=new c2(e,{getKey:x,drawElement:E,getBoundingBox:I,getRotationPoint:O,getRotationOffset:q,isVisible:M}),Z=e.data.slbTxrCache=new c2(e,{getKey:y,drawElement:C,getBoundingBox:D,getRotationPoint:P,getRotationOffset:V,isVisible:M}),pe=e.data.tlbTxrCache=new c2(e,{getKey:w,drawElement:L,getBoundingBox:F,getRotationPoint:z,getRotationOffset:X,isVisible:M}),ne=e.data.lyrTxrCache=new Lhe(e);e.onUpdateEleCalcs(function(J,se){Y.invalidateElements(se),U.invalidateElements(se),Z.invalidateElements(se),pe.invalidateElements(se),ne.invalidateElements(se);for(var oe=0;oe<se.length;oe++){var fe=se[oe]._private;fe.oldBackgroundTimestamp=fe.backgroundTimestamp}});var ge=function(J){for(var se=0;se<J.length;se++)ne.enqueueElementRefinement(J[se].ele)};Y.onDequeue(ge),U.onDequeue(ge),Z.onDequeue(ge),pe.onDequeue(ge)}nn.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[nn.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[nn.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[nn.SELECT_BOX]=e;break}};var Yit=typeof Path2D<"u";nn.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};nn.usePaths=function(){return Yit&&this.pathsEnabled};nn.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};nn.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};nn.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":ha(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=t,r.height=e}return r};[Dhe,yc,Oh,iO,Rp,Tv,Jo,bd,n4,Ohe].forEach(function(t){kr(nn,t)});var Xit=[{name:"null",impl:vhe},{name:"base",impl:Ahe},{name:"canvas",impl:qit}],jit=[{type:"layout",extensions:tit},{type:"renderer",extensions:Xit}],Fhe={},Bhe={};function $he(t,e,r){var n=r,i=function(I){vn("Can not register `"+e+"` for `"+t+"` since `"+I+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(tb.prototype[e])return i(e);tb.prototype[e]=r}else if(t==="collection"){if(Ua.prototype[e])return i(e);Ua.prototype[e]=r}else if(t==="layout"){for(var a=function(I){this.options=I,r.call(this,I),en(this._private)||(this._private={}),this._private.cy=I.cy,this._private.listeners=[],this.createEmitter()},s=a.prototype=Object.create(r.prototype),o=[],l=0;l<o.length;l++){var u=o[l];s[u]=s[u]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var h=r.prototype.stop;s.stop=function(){var _=this.options;if(_&&_.animate){var I=this.animations;if(I)for(var D=0;D<I.length;D++)I[D].stop()}return h?h.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var f=function(I){return I._private.cy},d={addEventFields:function(I,D){D.layout=I,D.cy=f(I),D.target=I},bubble:function(){return!0},parent:function(I){return f(I)}};kr(s,{createEmitter:function(){return this._private.emitter=new rC(d,this),this},emitter:function(){return this._private.emitter},on:function(I,D){return this.emitter().on(I,D),this},one:function(I,D){return this.emitter().one(I,D),this},once:function(I,D){return this.emitter().one(I,D),this},removeListener:function(I,D){return this.emitter().removeListener(I,D),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(I,D){return this.emitter().emit(I,D),this}}),pn.eventAliasesOn(s),n=a}else if(t==="renderer"&&e!=="null"&&e!=="base"){var p=zhe("renderer","base"),m=p.prototype,v=r,x=r.prototype,y=function(){p.apply(this,arguments),v.apply(this,arguments)},w=y.prototype;for(var S in m){var E=m[S],C=x[S]!=null;if(C)return i(S);w[S]=E}for(var L in x)w[L]=x[L];m.clientFunctions.forEach(function(_){w[_]=w[_]||function(){Ei("Renderer does not implement `renderer."+_+"()` on its prototype")}}),n=y}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Ei(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return hce({map:Fhe,keys:[t,e],value:n})}function zhe(t,e){return fce({map:Fhe,keys:[t,e]})}function Kit(t,e,r,n,i){return hce({map:Bhe,keys:[t,e,r,n],value:i})}function Qit(t,e,r,n){return fce({map:Bhe,keys:[t,e,r,n]})}var V9=function(){if(arguments.length===2)return zhe.apply(null,arguments);if(arguments.length===3)return $he.apply(null,arguments);if(arguments.length===4)return Qit.apply(null,arguments);if(arguments.length===5)return Kit.apply(null,arguments);Ei("Invalid extension access syntax")};tb.prototype.extension=V9;jit.forEach(function(t){t.extensions.forEach(function(e){$he(t.type,e.name,e.impl)})});var Hhe=function t(){if(!(this instanceof t))return new t;this.length=0},hp=Hhe.prototype;hp.instanceString=function(){return"stylesheet"};hp.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};hp.css=function(t,e){var r=this.length-1;if(pr(t))this[r].properties.push({name:t,value:e});else if(en(t))for(var n=t,i=Object.keys(n),a=0;a<i.length;a++){var s=i[a],o=n[s];if(o!=null){var l=ps.properties[s]||ps.properties[qT(s)];if(l!=null){var u=l.name,h=o;this[r].properties.push({name:u,value:h})}}}return this};hp.style=hp.css;hp.generateStyle=function(t){var e=new ps(t);return this.appendToStyle(e)};hp.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var a=0;a<i.length;a++){var s=i[a];t.css(s.name,s.value)}}return t};var Zit="3.30.3",oc=function(e){if(e===void 0&&(e={}),en(e))return new tb(e);if(pr(e))return V9.apply(V9,arguments)};oc.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(oc),t.apply(null,e),this};oc.warnings=function(t){return bce(t)};oc.version=Zit;oc.stylesheet=oc.Stylesheet=Hhe;var Vhe={exports:{}},z8={exports:{}},H8={exports:{}},nq;function Jit(){return nq||(nq=1,function(t,e){(function(n,i){t.exports=i()})(Pl,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=26)}([function(r,n,i){function a(){}a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){var a=i(2),s=i(8),o=i(9);function l(h,f,d){a.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=h,this.target=f}l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(h){if(this.source===h)return this.target;if(this.target===h)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(h,f){for(var d=this.getOtherEnd(h),p=f.getGraphManager().getRoot();;){if(d.getOwner()==f)return d;if(d.getOwner()==p)break;d=d.getOwner().getParent()}return null},l.prototype.updateLength=function(){var h=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),h),this.isOverlapingSourceAndTarget||(this.lengthX=h[0]-h[2],this.lengthY=h[1]-h[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,i){function a(s){this.vGraphObject=s}r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(13),l=i(0),u=i(16),h=i(4);function f(p,m,v,x){v==null&&x==null&&(x=m),a.call(this,x),p.graphManager!=null&&(p=p.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=x,this.edges=[],this.graphManager=p,v!=null&&m!=null?this.rect=new o(m.x,m.y,v.width,v.height):this.rect=new o}f.prototype=Object.create(a.prototype);for(var d in a)f[d]=a[d];f.prototype.getEdges=function(){return this.edges},f.prototype.getChild=function(){return this.child},f.prototype.getOwner=function(){return this.owner},f.prototype.getWidth=function(){return this.rect.width},f.prototype.setWidth=function(p){this.rect.width=p},f.prototype.getHeight=function(){return this.rect.height},f.prototype.setHeight=function(p){this.rect.height=p},f.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},f.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},f.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},f.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},f.prototype.getRect=function(){return this.rect},f.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},f.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},f.prototype.setRect=function(p,m){this.rect.x=p.x,this.rect.y=p.y,this.rect.width=m.width,this.rect.height=m.height},f.prototype.setCenter=function(p,m){this.rect.x=p-this.rect.width/2,this.rect.y=m-this.rect.height/2},f.prototype.setLocation=function(p,m){this.rect.x=p,this.rect.y=m},f.prototype.moveBy=function(p,m){this.rect.x+=p,this.rect.y+=m},f.prototype.getEdgeListToNode=function(p){var m=[],v=this;return v.edges.forEach(function(x){if(x.target==p){if(x.source!=v)throw"Incorrect edge source!";m.push(x)}}),m},f.prototype.getEdgesBetween=function(p){var m=[],v=this;return v.edges.forEach(function(x){if(!(x.source==v||x.target==v))throw"Incorrect edge source and/or target";(x.target==p||x.source==p)&&m.push(x)}),m},f.prototype.getNeighborsList=function(){var p=new Set,m=this;return m.edges.forEach(function(v){if(v.source==m)p.add(v.target);else{if(v.target!=m)throw"Incorrect incidency!";p.add(v.source)}}),p},f.prototype.withChildren=function(){var p=new Set,m,v;if(p.add(this),this.child!=null)for(var x=this.child.getNodes(),y=0;y<x.length;y++)m=x[y],v=m.withChildren(),v.forEach(function(w){p.add(w)});return p},f.prototype.getNoOfChildren=function(){var p=0,m;if(this.child==null)p=1;else for(var v=this.child.getNodes(),x=0;x<v.length;x++)m=v[x],p+=m.getNoOfChildren();return p==0&&(p=1),p},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},f.prototype.scatter=function(){var p,m,v=-l.INITIAL_WORLD_BOUNDARY,x=l.INITIAL_WORLD_BOUNDARY;p=l.WORLD_CENTER_X+u.nextDouble()*(x-v)+v;var y=-l.INITIAL_WORLD_BOUNDARY,w=l.INITIAL_WORLD_BOUNDARY;m=l.WORLD_CENTER_Y+u.nextDouble()*(w-y)+y,this.rect.x=p,this.rect.y=m},f.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var p=this.getChild();if(p.updateBounds(!0),this.rect.x=p.getLeft(),this.rect.y=p.getTop(),this.setWidth(p.getRight()-p.getLeft()),this.setHeight(p.getBottom()-p.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var m=p.getRight()-p.getLeft(),v=p.getBottom()-p.getTop();this.labelWidth>m&&(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)),this.labelHeight>v&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-v)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-v),this.setHeight(this.labelHeight))}}},f.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},f.prototype.transform=function(p){var m=this.rect.x;m>l.WORLD_BOUNDARY?m=l.WORLD_BOUNDARY:m<-l.WORLD_BOUNDARY&&(m=-l.WORLD_BOUNDARY);var v=this.rect.y;v>l.WORLD_BOUNDARY?v=l.WORLD_BOUNDARY:v<-l.WORLD_BOUNDARY&&(v=-l.WORLD_BOUNDARY);var x=new h(m,v),y=p.inverseTransformPoint(x);this.setLocation(y.x,y.y)},f.prototype.getLeft=function(){return this.rect.x},f.prototype.getRight=function(){return this.rect.x+this.rect.width},f.prototype.getTop=function(){return this.rect.y},f.prototype.getBottom=function(){return this.rect.y+this.rect.height},f.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=f},function(r,n,i){function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(0),l=i(6),u=i(3),h=i(1),f=i(13),d=i(12),p=i(11);function m(x,y,w){a.call(this,w),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=x,y!=null&&y instanceof l?this.graphManager=y:y!=null&&y instanceof Layout&&(this.graphManager=y.graphManager)}m.prototype=Object.create(a.prototype);for(var v in a)m[v]=a[v];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(x,y,w){if(y==null&&w==null){var S=x;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(S)>-1)throw"Node already in graph!";return S.owner=this,this.getNodes().push(S),S}else{var E=x;if(!(this.getNodes().indexOf(y)>-1&&this.getNodes().indexOf(w)>-1))throw"Source or target not in graph!";if(!(y.owner==w.owner&&y.owner==this))throw"Both owners must be this graph!";return y.owner!=w.owner?null:(E.source=y,E.target=w,E.isInterGraph=!1,this.getEdges().push(E),y.edges.push(E),w!=y&&w.edges.push(E),E)}},m.prototype.remove=function(x){var y=x;if(x instanceof u){if(y==null)throw"Node is null!";if(!(y.owner!=null&&y.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var w=y.edges.slice(),S,E=w.length,C=0;C<E;C++)S=w[C],S.isInterGraph?this.graphManager.remove(S):S.source.owner.remove(S);var L=this.nodes.indexOf(y);if(L==-1)throw"Node not in owner node list!";this.nodes.splice(L,1)}else if(x instanceof h){var S=x;if(S==null)throw"Edge is null!";if(!(S.source!=null&&S.target!=null))throw"Source and/or target is null!";if(!(S.source.owner!=null&&S.target.owner!=null&&S.source.owner==this&&S.target.owner==this))throw"Source and/or target owner is invalid!";var _=S.source.edges.indexOf(S),I=S.target.edges.indexOf(S);if(!(_>-1&&I>-1))throw"Source and/or target doesn't know this edge!";S.source.edges.splice(_,1),S.target!=S.source&&S.target.edges.splice(I,1);var L=S.source.owner.getEdges().indexOf(S);if(L==-1)throw"Not in owner's edge list!";S.source.owner.getEdges().splice(L,1)}},m.prototype.updateLeftTop=function(){for(var x=s.MAX_VALUE,y=s.MAX_VALUE,w,S,E,C=this.getNodes(),L=C.length,_=0;_<L;_++){var I=C[_];w=I.getTop(),S=I.getLeft(),x>w&&(x=w),y>S&&(y=S)}return x==s.MAX_VALUE?null:(C[0].getParent().paddingLeft!=null?E=C[0].getParent().paddingLeft:E=this.margin,this.left=y-E,this.top=x-E,new d(this.left,this.top))},m.prototype.updateBounds=function(x){for(var y=s.MAX_VALUE,w=-s.MAX_VALUE,S=s.MAX_VALUE,E=-s.MAX_VALUE,C,L,_,I,D,F=this.nodes,M=F.length,B=0;B<M;B++){var H=F[B];x&&H.child!=null&&H.updateBounds(),C=H.getLeft(),L=H.getRight(),_=H.getTop(),I=H.getBottom(),y>C&&(y=C),w<L&&(w=L),S>_&&(S=_),E<I&&(E=I)}var R=new f(y,S,w-y,E-S);y==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),F[0].getParent().paddingLeft!=null?D=F[0].getParent().paddingLeft:D=this.margin,this.left=R.x-D,this.right=R.x+R.width+D,this.top=R.y-D,this.bottom=R.y+R.height+D},m.calculateBounds=function(x){for(var y=s.MAX_VALUE,w=-s.MAX_VALUE,S=s.MAX_VALUE,E=-s.MAX_VALUE,C,L,_,I,D=x.length,F=0;F<D;F++){var M=x[F];C=M.getLeft(),L=M.getRight(),_=M.getTop(),I=M.getBottom(),y>C&&(y=C),w<L&&(w=L),S>_&&(S=_),E<I&&(E=I)}var B=new f(y,S,w-y,E-S);return B},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var x=0,y=this.nodes,w=y.length,S=0;S<w;S++){var E=y[S];x+=E.calcEstimatedSize()}return x==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=x/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var x=this;if(this.nodes.length==0){this.isConnected=!0;return}var y=new p,w=new Set,S=this.nodes[0],E,C,L=S.withChildren();for(L.forEach(function(B){y.push(B),w.add(B)});y.length!==0;){S=y.shift(),E=S.getEdges();for(var _=E.length,I=0;I<_;I++){var D=E[I];if(C=D.getOtherEndInGraph(S,this),C!=null&&!w.has(C)){var F=C.withChildren();F.forEach(function(B){y.push(B),w.add(B)})}}}if(this.isConnected=!1,w.size>=this.nodes.length){var M=0;w.forEach(function(B){B.owner==x&&M++}),M==this.nodes.length&&(this.isConnected=!0)}},r.exports=m},function(r,n,i){var a,s=i(1);function o(l){a=i(5),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),u=this.layout.newNode(null),h=this.add(l,u);return this.setRootGraph(h),this.rootGraph},o.prototype.add=function(l,u,h,f,d){if(h==null&&f==null&&d==null){if(l==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return l.parent=u,u.child=l,l}else{d=h,f=u,h=l;var p=f.getOwner(),m=d.getOwner();if(!(p!=null&&p.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(p==m)return h.isInterGraph=!1,p.add(h,f,d);if(h.isInterGraph=!0,h.source=f,h.target=d,this.edges.indexOf(h)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(h),!(h.source!=null&&h.target!=null))throw"Edge source and/or target is null!";if(!(h.source.edges.indexOf(h)==-1&&h.target.edges.indexOf(h)==-1))throw"Edge already in source and/or target incidency list!";return h.source.edges.push(h),h.target.edges.push(h),h}},o.prototype.remove=function(l){if(l instanceof a){var u=l;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var h=[];h=h.concat(u.getEdges());for(var f,d=h.length,p=0;p<d;p++)f=h[p],u.remove(f);var m=[];m=m.concat(u.getNodes());var v;d=m.length;for(var p=0;p<d;p++)v=m[p],u.remove(v);u==this.rootGraph&&this.setRootGraph(null);var x=this.graphs.indexOf(u);this.graphs.splice(x,1),u.parent=null}else if(l instanceof s){if(f=l,f==null)throw"Edge is null!";if(!f.isInterGraph)throw"Not an inter-graph edge!";if(!(f.source!=null&&f.target!=null))throw"Source and/or target is null!";if(!(f.source.edges.indexOf(f)!=-1&&f.target.edges.indexOf(f)!=-1))throw"Source and/or target doesn't know this edge!";var x=f.source.edges.indexOf(f);if(f.source.edges.splice(x,1),x=f.target.edges.indexOf(f),f.target.edges.splice(x,1),!(f.source.owner!=null&&f.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(f.source.owner.getGraphManager().edges.indexOf(f)==-1)throw"Not in owner graph manager's edge list!";var x=f.source.owner.getGraphManager().edges.indexOf(f);f.source.owner.getGraphManager().edges.splice(x,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],u=this.getGraphs(),h=u.length,f=0;f<h;f++)l=l.concat(u[f].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],u=this.getGraphs();u.length;for(var h=0;h<u.length;h++)l=l.concat(u[h].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,u){if(!(l!=null&&u!=null))throw"assert failed";if(l==u)return!0;var h=l.getOwner(),f;do{if(f=h.getParent(),f==null)break;if(f==u)return!0;if(h=f.getOwner(),h==null)break}while(!0);h=u.getOwner();do{if(f=h.getParent(),f==null)break;if(f==l)return!0;if(h=f.getOwner(),h==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,u,h,f,d,p=this.getAllEdges(),m=p.length,v=0;v<m;v++){if(l=p[v],u=l.source,h=l.target,l.lca=null,l.sourceInLca=u,l.targetInLca=h,u==h){l.lca=u.getOwner();continue}for(f=u.getOwner();l.lca==null;){for(l.targetInLca=h,d=h.getOwner();l.lca==null;){if(d==f){l.lca=d;break}if(d==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=d.getParent(),d=l.targetInLca.getOwner()}if(f==this.rootGraph)break;l.lca==null&&(l.sourceInLca=f.getParent(),f=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,u){if(l==u)return l.getOwner();var h=l.getOwner();do{if(h==null)break;var f=u.getOwner();do{if(f==null)break;if(f==h)return f;f=f.getParent().getOwner()}while(!0);h=h.getParent().getOwner()}while(!0);return h},o.prototype.calcInclusionTreeDepths=function(l,u){l==null&&u==null&&(l=this.rootGraph,u=1);for(var h,f=l.getNodes(),d=f.length,p=0;p<d;p++)h=f[p],h.inclusionTreeDepth=u,h.child!=null&&this.calcInclusionTreeDepths(h.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var l,u=this.edges.length,h=0;h<u;h++)if(l=this.edges[h],this.isOneAncestorOfOther(l.source,l.target))return!0;return!1},r.exports=o},function(r,n,i){var a=i(0);function s(){}for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){var a=i(12);function s(){}s.calcSeparationAmount=function(o,l,u,h){if(!o.intersects(l))throw"assert failed";var f=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,f),u[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),u[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?u[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?u[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var d=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(d=1);var p=d*u[0],m=u[1]/d;u[0]<m?m=u[0]:p=u[1],u[0]=-1*f[0]*(m/2+h),u[1]=-1*f[1]*(p/2+h)},s.decideDirectionsForOverlappingNodes=function(o,l,u){o.getCenterX()<l.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<l.getCenterY()?u[1]=-1:u[1]=1},s.getIntersection2=function(o,l,u){var h=o.getCenterX(),f=o.getCenterY(),d=l.getCenterX(),p=l.getCenterY();if(o.intersects(l))return u[0]=h,u[1]=f,u[2]=d,u[3]=p,!0;var m=o.getX(),v=o.getY(),x=o.getRight(),y=o.getX(),w=o.getBottom(),S=o.getRight(),E=o.getWidthHalf(),C=o.getHeightHalf(),L=l.getX(),_=l.getY(),I=l.getRight(),D=l.getX(),F=l.getBottom(),M=l.getRight(),B=l.getWidthHalf(),H=l.getHeightHalf(),R=!1,O=!1;if(h===d){if(f>p)return u[0]=h,u[1]=v,u[2]=d,u[3]=F,!1;if(f<p)return u[0]=h,u[1]=w,u[2]=d,u[3]=_,!1}else if(f===p){if(h>d)return u[0]=m,u[1]=f,u[2]=I,u[3]=p,!1;if(h<d)return u[0]=x,u[1]=f,u[2]=L,u[3]=p,!1}else{var P=o.height/o.width,z=l.height/l.width,$=(p-f)/(d-h),V=void 0,X=void 0,q=void 0,Y=void 0,U=void 0,Z=void 0;if(-P===$?h>d?(u[0]=y,u[1]=w,R=!0):(u[0]=x,u[1]=v,R=!0):P===$&&(h>d?(u[0]=m,u[1]=v,R=!0):(u[0]=S,u[1]=w,R=!0)),-z===$?d>h?(u[2]=D,u[3]=F,O=!0):(u[2]=I,u[3]=_,O=!0):z===$&&(d>h?(u[2]=L,u[3]=_,O=!0):(u[2]=M,u[3]=F,O=!0)),R&&O)return!1;if(h>d?f>p?(V=this.getCardinalDirection(P,$,4),X=this.getCardinalDirection(z,$,2)):(V=this.getCardinalDirection(-P,$,3),X=this.getCardinalDirection(-z,$,1)):f>p?(V=this.getCardinalDirection(-P,$,1),X=this.getCardinalDirection(-z,$,3)):(V=this.getCardinalDirection(P,$,2),X=this.getCardinalDirection(z,$,4)),!R)switch(V){case 1:Y=v,q=h+-C/$,u[0]=q,u[1]=Y;break;case 2:q=S,Y=f+E*$,u[0]=q,u[1]=Y;break;case 3:Y=w,q=h+C/$,u[0]=q,u[1]=Y;break;case 4:q=y,Y=f+-E*$,u[0]=q,u[1]=Y;break}if(!O)switch(X){case 1:Z=_,U=d+-H/$,u[2]=U,u[3]=Z;break;case 2:U=M,Z=p+B*$,u[2]=U,u[3]=Z;break;case 3:Z=F,U=d+H/$,u[2]=U,u[3]=Z;break;case 4:U=D,Z=p+-B*$,u[2]=U,u[3]=Z;break}}return!1},s.getCardinalDirection=function(o,l,u){return o>l?u:1+u%4},s.getIntersection=function(o,l,u,h){if(h==null)return this.getIntersection2(o,l,u);var f=o.x,d=o.y,p=l.x,m=l.y,v=u.x,x=u.y,y=h.x,w=h.y,S=void 0,E=void 0,C=void 0,L=void 0,_=void 0,I=void 0,D=void 0,F=void 0,M=void 0;return C=m-d,_=f-p,D=p*d-f*m,L=w-x,I=v-y,F=y*x-v*w,M=C*I-L*_,M===0?null:(S=(_*F-I*D)/M,E=(L*D-C*F)/M,new a(S,E))},s.angleOfVector=function(o,l,u,h){var f=void 0;return o!==u?(f=Math.atan((h-l)/(u-o)),u<o?f+=Math.PI:h<l&&(f+=this.TWO_PI)):h<l?f=this.ONE_AND_HALF_PI:f=this.HALF_PI,f},s.doIntersect=function(o,l,u,h){var f=o.x,d=o.y,p=l.x,m=l.y,v=u.x,x=u.y,y=h.x,w=h.y,S=(p-f)*(w-x)-(y-v)*(m-d);if(S===0)return!1;var E=((w-x)*(y-f)+(v-y)*(w-d))/S,C=((d-m)*(y-f)+(p-f)*(w-d))/S;return 0<E&&E<1&&0<C&&C<1},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){function a(){}a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){function a(){}a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){var a=function(){function f(d,p){for(var m=0;m<p.length;m++){var v=p[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}return function(d,p,m){return p&&f(d.prototype,p),m&&f(d,m),d}}();function s(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d){return{value:d,next:null,prev:null}},l=function(d,p,m,v){return d!==null?d.next=p:v.head=p,m!==null?m.prev=p:v.tail=p,p.prev=d,p.next=m,v.length++,p},u=function(d,p){var m=d.prev,v=d.next;return m!==null?m.next=v:p.head=v,v!==null?v.prev=m:p.tail=m,d.prev=d.next=null,p.length--,d},h=function(){function f(d){var p=this;s(this,f),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(m){return p.push(m)})}return a(f,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(p,m){return l(m.prev,o(p),m,this)}},{key:"insertAfter",value:function(p,m){return l(m,o(p),m.next,this)}},{key:"insertNodeBefore",value:function(p,m){return l(m.prev,p,m,this)}},{key:"insertNodeAfter",value:function(p,m){return l(m,p,m.next,this)}},{key:"push",value:function(p){return l(this.tail,o(p),null,this)}},{key:"unshift",value:function(p){return l(null,o(p),this.head,this)}},{key:"remove",value:function(p){return u(p,this)}},{key:"pop",value:function(){return u(this.tail,this).value}},{key:"popNode",value:function(){return u(this.tail,this)}},{key:"shift",value:function(){return u(this.head,this).value}},{key:"shiftNode",value:function(){return u(this.head,this)}},{key:"get_object_at",value:function(p){if(p<=this.length()){for(var m=1,v=this.head;m<p;)v=v.next,m++;return v.value}}},{key:"set_object_at",value:function(p,m){if(p<=this.length()){for(var v=1,x=this.head;v<p;)x=x.next,v++;x.value=m}}}]),f}();r.exports=h},function(r,n,i){function a(s,o,l){this.x=null,this.y=null,s==null&&o==null&&l==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&l==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&l==null&&(l=s,this.x=l.x,this.y=l.y)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,l){s.constructor.name=="Point"&&o==null&&l==null?(l=s,this.setLocation(l.x,l.y)):typeof s=="number"&&typeof o=="number"&&l==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){function a(s,o,l,u){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&l!=null&&u!=null&&(this.x=s,this.y=o,this.width=l,this.height=u)}a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var l=typeof o>"u"?"undefined":a(o);return o==null||l!="object"&&l!="function"},r.exports=s},function(r,n,i){function a(v){if(Array.isArray(v)){for(var x=0,y=Array(v.length);x<v.length;x++)y[x]=v[x];return y}else return Array.from(v)}var s=i(0),o=i(6),l=i(3),u=i(1),h=i(5),f=i(4),d=i(17),p=i(27);function m(v){p.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,v!=null&&(this.isRemoteUse=v)}m.RANDOM_SEED=1,m.prototype=Object.create(p.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var v=new o(this);return this.graphManager=v,v},m.prototype.newGraph=function(v){return new h(null,this.graphManager,v)},m.prototype.newNode=function(v){return new l(this.graphManager,v)},m.prototype.newEdge=function(v){return new u(null,null,v)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var v;return this.checkLayoutSuccess()?v=!1:v=this.layout(),s.ANIMATE==="during"?!1:(v&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,v)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var v=this.graphManager.getAllEdges(),x=0;x<v.length;x++)v[x];for(var y=this.graphManager.getRoot().getNodes(),x=0;x<y.length;x++)y[x];this.update(this.graphManager.getRoot())}},m.prototype.update=function(v){if(v==null)this.update2();else if(v instanceof l){var x=v;if(x.getChild()!=null)for(var y=x.getChild().getNodes(),w=0;w<y.length;w++)update(y[w]);if(x.vGraphObject!=null){var S=x.vGraphObject;S.update(x)}}else if(v instanceof u){var E=v;if(E.vGraphObject!=null){var C=E.vGraphObject;C.update(E)}}else if(v instanceof h){var L=v;if(L.vGraphObject!=null){var _=L.vGraphObject;_.update(L)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(v){if(v==null)this.transform(new f(0,0));else{var x=new d,y=this.graphManager.getRoot().updateLeftTop();if(y!=null){x.setWorldOrgX(v.x),x.setWorldOrgY(v.y),x.setDeviceOrgX(y.x),x.setDeviceOrgY(y.y);for(var w=this.getAllNodes(),S,E=0;E<w.length;E++)S=w[E],S.transform(x)}}},m.prototype.positionNodesRandomly=function(v){if(v==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var x,y,w=v.getNodes(),S=0;S<w.length;S++)x=w[S],y=x.getChild(),y==null||y.getNodes().length==0?x.scatter():(this.positionNodesRandomly(y),x.updateBounds())},m.prototype.getFlatForest=function(){for(var v=[],x=!0,y=this.graphManager.getRoot().getNodes(),w=!0,S=0;S<y.length;S++)y[S].getChild()!=null&&(w=!1);if(!w)return v;var E=new Set,C=[],L=new Map,_=[];for(_=_.concat(y);_.length>0&&x;){for(C.push(_[0]);C.length>0&&x;){var I=C[0];C.splice(0,1),E.add(I);for(var D=I.getEdges(),S=0;S<D.length;S++){var F=D[S].getOtherEnd(I);if(L.get(I)!=F)if(!E.has(F))C.push(F),L.set(F,I);else{x=!1;break}}}if(!x)v=[];else{var M=[].concat(a(E));v.push(M);for(var S=0;S<M.length;S++){var B=M[S],H=_.indexOf(B);H>-1&&_.splice(H,1)}E=new Set,L=new Map}}return v},m.prototype.createDummyNodesForBendpoints=function(v){for(var x=[],y=v.source,w=this.graphManager.calcLowestCommonAncestor(v.source,v.target),S=0;S<v.bendpoints.length;S++){var E=this.newNode(null);E.setRect(new Point(0,0),new Dimension(1,1)),w.add(E);var C=this.newEdge(null);this.graphManager.add(C,y,E),x.add(E),y=E}var C=this.newEdge(null);return this.graphManager.add(C,y,v.target),this.edgeToDummyNodes.set(v,x),v.isInterGraph()?this.graphManager.remove(v):w.remove(v),x},m.prototype.createBendpointsFromDummyNodes=function(){var v=[];v=v.concat(this.graphManager.getAllEdges()),v=[].concat(a(this.edgeToDummyNodes.keys())).concat(v);for(var x=0;x<v.length;x++){var y=v[x];if(y.bendpoints.length>0){for(var w=this.edgeToDummyNodes.get(y),S=0;S<w.length;S++){var E=w[S],C=new f(E.getCenterX(),E.getCenterY()),L=y.bendpoints.get(S);L.x=C.x,L.y=C.y,E.getOwner().remove(E)}this.graphManager.add(y,y.source,y.target)}}},m.transform=function(v,x,y,w){if(y!=null&&w!=null){var S=x;if(v<=50){var E=x/y;S-=(x-E)/50*(50-v)}else{var C=x*w;S+=(C-x)/50*(v-50)}return S}else{var L,_;return v<=50?(L=9*x/500,_=x/10):(L=9*x/50,_=-8*x),L*v+_}},m.findCenterOfTree=function(v){var x=[];x=x.concat(v);var y=[],w=new Map,S=!1,E=null;(x.length==1||x.length==2)&&(S=!0,E=x[0]);for(var C=0;C<x.length;C++){var L=x[C],_=L.getNeighborsList().size;w.set(L,L.getNeighborsList().size),_==1&&y.push(L)}var I=[];for(I=I.concat(y);!S;){var D=[];D=D.concat(I),I=[];for(var C=0;C<x.length;C++){var L=x[C],F=x.indexOf(L);F>=0&&x.splice(F,1);var M=L.getNeighborsList();M.forEach(function(R){if(y.indexOf(R)<0){var O=w.get(R),P=O-1;P==1&&I.push(R),w.set(R,P)}})}y=y.concat(I),(x.length==1||x.length==2)&&(S=!0,E=x[0])}return E},m.prototype.setGraphManager=function(v){this.graphManager=v},r.exports=m},function(r,n,i){function a(){}a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){var a=i(4);function s(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var l=0,u=this.lworldExtX;return u!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),l},s.prototype.transformY=function(o){var l=0,u=this.lworldExtY;return u!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),l},s.prototype.inverseTransformX=function(o){var l=0,u=this.ldeviceExtX;return u!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),l},s.prototype.inverseTransformY=function(o){var l=0,u=this.ldeviceExtY;return u!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),l},s.prototype.inverseTransformPoint=function(o){var l=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=s},function(r,n,i){function a(p){if(Array.isArray(p)){for(var m=0,v=Array(p.length);m<p.length;m++)v[m]=p[m];return v}else return Array.from(p)}var s=i(15),o=i(7),l=i(0),u=i(8),h=i(9);function f(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}f.prototype=Object.create(s.prototype);for(var d in s)f[d]=s[d];f.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},f.prototype.calcIdealEdgeLengths=function(){for(var p,m,v,x,y,w,S=this.getGraphManager().getAllEdges(),E=0;E<S.length;E++)p=S[E],p.idealLength=this.idealEdgeLength,p.isInterGraph&&(v=p.getSource(),x=p.getTarget(),y=p.getSourceInLca().getEstimatedSize(),w=p.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(p.idealLength+=y+w-2*l.SIMPLE_NODE_SIZE),m=p.getLca().getInclusionTreeDepth(),p.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(v.getInclusionTreeDepth()+x.getInclusionTreeDepth()-2*m))},f.prototype.initSpringEmbedder=function(){var p=this.getAllNodes().length;this.incremental?(p>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(p>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},f.prototype.calcSpringForces=function(){for(var p=this.getAllEdges(),m,v=0;v<p.length;v++)m=p[v],this.calcSpringForce(m,m.idealLength)},f.prototype.calcRepulsionForces=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v,x,y,w,S=this.getAllNodes(),E;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&p&&this.updateGrid(),E=new Set,v=0;v<S.length;v++)y=S[v],this.calculateRepulsionForceOfANode(y,E,p,m),E.add(y);else for(v=0;v<S.length;v++)for(y=S[v],x=v+1;x<S.length;x++)w=S[x],y.getOwner()==w.getOwner()&&this.calcRepulsionForce(y,w)},f.prototype.calcGravitationalForces=function(){for(var p,m=this.getAllNodesToApplyGravitation(),v=0;v<m.length;v++)p=m[v],this.calcGravitationalForce(p)},f.prototype.moveNodes=function(){for(var p=this.getAllNodes(),m,v=0;v<p.length;v++)m=p[v],m.move()},f.prototype.calcSpringForce=function(p,m){var v=p.getSource(),x=p.getTarget(),y,w,S,E;if(this.uniformLeafNodeSizes&&v.getChild()==null&&x.getChild()==null)p.updateLengthSimple();else if(p.updateLength(),p.isOverlapingSourceAndTarget)return;y=p.getLength(),y!=0&&(w=this.springConstant*(y-m),S=w*(p.lengthX/y),E=w*(p.lengthY/y),v.springForceX+=S,v.springForceY+=E,x.springForceX-=S,x.springForceY-=E)},f.prototype.calcRepulsionForce=function(p,m){var v=p.getRect(),x=m.getRect(),y=new Array(2),w=new Array(4),S,E,C,L,_,I,D;if(v.intersects(x)){u.calcSeparationAmount(v,x,y,o.DEFAULT_EDGE_LENGTH/2),I=2*y[0],D=2*y[1];var F=p.noOfChildren*m.noOfChildren/(p.noOfChildren+m.noOfChildren);p.repulsionForceX-=F*I,p.repulsionForceY-=F*D,m.repulsionForceX+=F*I,m.repulsionForceY+=F*D}else this.uniformLeafNodeSizes&&p.getChild()==null&&m.getChild()==null?(S=x.getCenterX()-v.getCenterX(),E=x.getCenterY()-v.getCenterY()):(u.getIntersection(v,x,w),S=w[2]-w[0],E=w[3]-w[1]),Math.abs(S)<o.MIN_REPULSION_DIST&&(S=h.sign(S)*o.MIN_REPULSION_DIST),Math.abs(E)<o.MIN_REPULSION_DIST&&(E=h.sign(E)*o.MIN_REPULSION_DIST),C=S*S+E*E,L=Math.sqrt(C),_=this.repulsionConstant*p.noOfChildren*m.noOfChildren/C,I=_*S/L,D=_*E/L,p.repulsionForceX-=I,p.repulsionForceY-=D,m.repulsionForceX+=I,m.repulsionForceY+=D},f.prototype.calcGravitationalForce=function(p){var m,v,x,y,w,S,E,C;m=p.getOwner(),v=(m.getRight()+m.getLeft())/2,x=(m.getTop()+m.getBottom())/2,y=p.getCenterX()-v,w=p.getCenterY()-x,S=Math.abs(y)+p.getWidth()/2,E=Math.abs(w)+p.getHeight()/2,p.getOwner()==this.graphManager.getRoot()?(C=m.getEstimatedSize()*this.gravityRangeFactor,(S>C||E>C)&&(p.gravitationForceX=-this.gravityConstant*y,p.gravitationForceY=-this.gravityConstant*w)):(C=m.getEstimatedSize()*this.compoundGravityRangeFactor,(S>C||E>C)&&(p.gravitationForceX=-this.gravityConstant*y*this.compoundGravityConstant,p.gravitationForceY=-this.gravityConstant*w*this.compoundGravityConstant))},f.prototype.isConverged=function(){var p,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),p=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,p||m},f.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},f.prototype.calcNoOfChildrenForAllNodes=function(){for(var p,m=this.graphManager.getAllNodes(),v=0;v<m.length;v++)p=m[v],p.noOfChildren=p.getNoOfChildren()},f.prototype.calcGrid=function(p){var m=0,v=0;m=parseInt(Math.ceil((p.getRight()-p.getLeft())/this.repulsionRange)),v=parseInt(Math.ceil((p.getBottom()-p.getTop())/this.repulsionRange));for(var x=new Array(m),y=0;y<m;y++)x[y]=new Array(v);for(var y=0;y<m;y++)for(var w=0;w<v;w++)x[y][w]=new Array;return x},f.prototype.addNodeToGrid=function(p,m,v){var x=0,y=0,w=0,S=0;x=parseInt(Math.floor((p.getRect().x-m)/this.repulsionRange)),y=parseInt(Math.floor((p.getRect().width+p.getRect().x-m)/this.repulsionRange)),w=parseInt(Math.floor((p.getRect().y-v)/this.repulsionRange)),S=parseInt(Math.floor((p.getRect().height+p.getRect().y-v)/this.repulsionRange));for(var E=x;E<=y;E++)for(var C=w;C<=S;C++)this.grid[E][C].push(p),p.setGridCoordinates(x,y,w,S)},f.prototype.updateGrid=function(){var p,m,v=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),p=0;p<v.length;p++)m=v[p],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},f.prototype.calculateRepulsionForceOfANode=function(p,m,v,x){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&v||x){var y=new Set;p.surrounding=new Array;for(var w,S=this.grid,E=p.startX-1;E<p.finishX+2;E++)for(var C=p.startY-1;C<p.finishY+2;C++)if(!(E<0||C<0||E>=S.length||C>=S[0].length)){for(var L=0;L<S[E][C].length;L++)if(w=S[E][C][L],!(p.getOwner()!=w.getOwner()||p==w)&&!m.has(w)&&!y.has(w)){var _=Math.abs(p.getCenterX()-w.getCenterX())-(p.getWidth()/2+w.getWidth()/2),I=Math.abs(p.getCenterY()-w.getCenterY())-(p.getHeight()/2+w.getHeight()/2);_<=this.repulsionRange&&I<=this.repulsionRange&&y.add(w)}}p.surrounding=[].concat(a(y))}for(E=0;E<p.surrounding.length;E++)this.calcRepulsionForce(p,p.surrounding[E])},f.prototype.calcRepulsionRange=function(){return 0},r.exports=f},function(r,n,i){var a=i(1),s=i(7);function o(u,h,f){a.call(this,u,h,f),this.idealLength=s.DEFAULT_EDGE_LENGTH}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];r.exports=o},function(r,n,i){var a=i(3);function s(l,u,h,f){a.call(this,l,u,h,f),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}s.prototype=Object.create(a.prototype);for(var o in a)s[o]=a[o];s.prototype.setGridCoordinates=function(l,u,h,f){this.startX=l,this.finishX=u,this.startY=h,this.finishY=f},r.exports=s},function(r,n,i){function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){var a=i(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(o,l){var u=a.createID(o);this.contains(u)||(this.map[u]=l,this.keys.push(o))},s.prototype.contains=function(o){return a.createID(o),this.map[o]!=null},s.prototype.get=function(o){var l=a.createID(o);return this.map[l]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){var a=i(14);function s(){this.set={}}s.prototype.add=function(o){var l=a.createID(o);this.contains(l)||(this.set[l]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),u=l.length,h=0;h<u;h++)o.push(this.set[l[h]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var l=o.length,u=0;u<l;u++){var h=o[u];this.add(h)}},r.exports=s},function(r,n,i){var a=function(){function u(h,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,f,d){return f&&u(h.prototype,f),d&&u(h,d),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var o=i(11),l=function(){function u(h,f){s(this,u),(f!==null||f!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;h instanceof o?d=h.size():d=h.length,this._quicksort(h,0,d-1)}return a(u,[{key:"_quicksort",value:function(f,d,p){if(d<p){var m=this._partition(f,d,p);this._quicksort(f,d,m),this._quicksort(f,m+1,p)}}},{key:"_partition",value:function(f,d,p){for(var m=this._get(f,d),v=d,x=p;;){for(;this.compareFunction(m,this._get(f,x));)x--;for(;this.compareFunction(this._get(f,v),m);)v++;if(v<x)this._swap(f,v,x),v++,x--;else return x}}},{key:"_get",value:function(f,d){return f instanceof o?f.get_object_at(d):f[d]}},{key:"_set",value:function(f,d,p){f instanceof o?f.set_object_at(d,p):f[d]=p}},{key:"_swap",value:function(f,d,p){var m=this._get(f,d);this._set(f,d,this._get(f,p)),this._set(f,p,m)}},{key:"_defaultCompareFunction",value:function(f,d){return d>f}}]),u}();r.exports=l},function(r,n,i){var a=function(){function l(u,h){for(var f=0;f<h.length;f++){var d=h[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u,h){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,l),this.sequence1=u,this.sequence2=h,this.match_score=f,this.mismatch_penalty=d,this.gap_penalty=p,this.iMax=u.length+1,this.jMax=h.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.grid[m][v]=0}this.tracebackGrid=new Array(this.iMax);for(var x=0;x<this.iMax;x++){this.tracebackGrid[x]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.tracebackGrid[x][y]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var f=1;f<this.iMax;f++)this.grid[f][0]=this.grid[f-1][0]+this.gap_penalty,this.tracebackGrid[f][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var p=1;p<this.jMax;p++){var m=void 0;this.sequence1[d-1]===this.sequence2[p-1]?m=this.grid[d-1][p-1]+this.match_score:m=this.grid[d-1][p-1]+this.mismatch_penalty;var v=this.grid[d-1][p]+this.gap_penalty,x=this.grid[d][p-1]+this.gap_penalty,y=[m,v,x],w=this.arrayAllMaxIndexes(y);this.grid[d][p]=y[w[0]],this.tracebackGrid[d][p]=[w.includes(0),w.includes(1),w.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var f=h[0],d=this.tracebackGrid[f.pos[0]][f.pos[1]];d[0]&&h.push({pos:[f.pos[0]-1,f.pos[1]-1],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),d[1]&&h.push({pos:[f.pos[0]-1,f.pos[1]],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:"-"+f.seq2}),d[2]&&h.push({pos:[f.pos[0],f.pos[1]-1],seq1:"-"+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),f.pos[0]===0&&f.pos[1]===0&&this.alignments.push({sequence1:f.seq1,sequence2:f.seq2}),h.shift()}return this.alignments}},{key:"getAllIndexes",value:function(h,f){for(var d=[],p=-1;(p=h.indexOf(f,p+1))!==-1;)d.push(p);return d}},{key:"arrayAllMaxIndexes",value:function(h){return this.getAllIndexes(h,Math.max.apply(null,h))}}]),l}();r.exports=o},function(r,n,i){var a=function(){};a.FDLayout=i(18),a.FDLayoutConstants=i(7),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(4),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(24),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(5),a.LEdge=i(1),a.LGraphManager=i(6),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(25),r.exports=a},function(r,n,i){function a(){this.listeners=[]}var s=a.prototype;s.addListener=function(o,l){this.listeners.push({event:o,callback:l})},s.removeListener=function(o,l){for(var u=this.listeners.length;u>=0;u--){var h=this.listeners[u];h.event===o&&h.callback===l&&this.listeners.splice(u,1)}},s.emit=function(o,l){for(var u=0;u<this.listeners.length;u++){var h=this.listeners[u];o===h.event&&h.callback(l)}},r.exports=a}])})}(H8)),H8.exports}var iq;function eat(){return iq||(iq=1,function(t,e){(function(n,i){t.exports=i(Jit())})(Pl,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=7)}([function(n,i){n.exports=r},function(n,i,a){var s=a(0).FDLayoutConstants;function o(){}for(var l in s)o[l]=s[l];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=s.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=o},function(n,i,a){var s=a(0).FDLayoutEdge;function o(u,h,f){s.call(this,u,h,f)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];n.exports=o},function(n,i,a){var s=a(0).LGraph;function o(u,h,f){s.call(this,u,h,f)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];n.exports=o},function(n,i,a){var s=a(0).LGraphManager;function o(u){s.call(this,u)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];n.exports=o},function(n,i,a){var s=a(0).FDLayoutNode,o=a(0).IMath;function l(h,f,d,p){s.call(this,h,f,d,p)}l.prototype=Object.create(s.prototype);for(var u in s)l[u]=s[u];l.prototype.move=function(){var h=this.graphManager.getLayout();this.displacementX=h.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=h.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>h.coolingFactor*h.maxNodeDisplacement&&(this.displacementX=h.coolingFactor*h.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>h.coolingFactor*h.maxNodeDisplacement&&(this.displacementY=h.coolingFactor*h.maxNodeDisplacement*o.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),h.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},l.prototype.propogateDisplacementToChildren=function(h,f){for(var d=this.getChild().getNodes(),p,m=0;m<d.length;m++)p=d[m],p.getChild()==null?(p.moveBy(h,f),p.displacementX+=h,p.displacementY+=f):p.propogateDisplacementToChildren(h,f)},l.prototype.setPred1=function(h){this.pred1=h},l.prototype.getPred1=function(){return pred1},l.prototype.getPred2=function(){return pred2},l.prototype.setNext=function(h){this.next=h},l.prototype.getNext=function(){return next},l.prototype.setProcessed=function(h){this.processed=h},l.prototype.isProcessed=function(){return processed},n.exports=l},function(n,i,a){var s=a(0).FDLayout,o=a(4),l=a(3),u=a(5),h=a(2),f=a(1),d=a(0).FDLayoutConstants,p=a(0).LayoutConstants,m=a(0).Point,v=a(0).PointD,x=a(0).Layout,y=a(0).Integer,w=a(0).IGeometry,S=a(0).LGraph,E=a(0).Transform;function C(){s.call(this),this.toBeTiled={}}C.prototype=Object.create(s.prototype);for(var L in s)C[L]=s[L];C.prototype.newGraphManager=function(){var _=new o(this);return this.graphManager=_,_},C.prototype.newGraph=function(_){return new l(null,this.graphManager,_)},C.prototype.newNode=function(_){return new u(this.graphManager,_)},C.prototype.newEdge=function(_){return new h(null,null,_)},C.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.isSubLayout||(f.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=f.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=f.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=d.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=d.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=d.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=d.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=d.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=d.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/d.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=d.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},C.prototype.layout=function(){var _=p.DEFAULT_CREATE_BENDS_AS_NEEDED;return _&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},C.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(f.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var I=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(B){return I.has(B)});this.graphManager.setAllNodesToApplyGravitation(D)}}else{var _=this.getFlatForest();if(_.length>0)this.positionNodesRadially(_);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var I=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(F){return I.has(F)});this.graphManager.setAllNodesToApplyGravitation(D),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},C.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%d.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),I=this.nodesWithGravity.filter(function(M){return _.has(M)});this.graphManager.setAllNodesToApplyGravitation(I),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var D=!this.isTreeGrowing&&!this.isGrowthFinished,F=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(D,F),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},C.prototype.getPositionsData=function(){for(var _=this.graphManager.getAllNodes(),I={},D=0;D<_.length;D++){var F=_[D].rect,M=_[D].id;I[M]={id:M,x:F.getCenterX(),y:F.getCenterY(),w:F.width,h:F.height}}return I},C.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var _=!1;if(d.ANIMATE==="during")this.emit("layoutstarted");else{for(;!_;)_=this.tick();this.graphManager.updateBounds()}},C.prototype.calculateNodesToApplyGravitationTo=function(){var _=[],I,D=this.graphManager.getGraphs(),F=D.length,M;for(M=0;M<F;M++)I=D[M],I.updateConnected(),I.isConnected||(_=_.concat(I.getNodes()));return _},C.prototype.createBendpoints=function(){var _=[];_=_.concat(this.graphManager.getAllEdges());var I=new Set,D;for(D=0;D<_.length;D++){var F=_[D];if(!I.has(F)){var M=F.getSource(),B=F.getTarget();if(M==B)F.getBendpoints().push(new v),F.getBendpoints().push(new v),this.createDummyNodesForBendpoints(F),I.add(F);else{var H=[];if(H=H.concat(M.getEdgeListToNode(B)),H=H.concat(B.getEdgeListToNode(M)),!I.has(H[0])){if(H.length>1){var R;for(R=0;R<H.length;R++){var O=H[R];O.getBendpoints().push(new v),this.createDummyNodesForBendpoints(O)}}H.forEach(function(P){I.add(P)})}}}if(I.size==_.length)break}},C.prototype.positionNodesRadially=function(_){for(var I=new m(0,0),D=Math.ceil(Math.sqrt(_.length)),F=0,M=0,B=0,H=new v(0,0),R=0;R<_.length;R++){R%D==0&&(B=0,M=F,R!=0&&(M+=f.DEFAULT_COMPONENT_SEPERATION),F=0);var O=_[R],P=x.findCenterOfTree(O);I.x=B,I.y=M,H=C.radialLayout(O,P,I),H.y>F&&(F=Math.floor(H.y)),B=Math.floor(H.x+f.DEFAULT_COMPONENT_SEPERATION)}this.transform(new v(p.WORLD_CENTER_X-H.x/2,p.WORLD_CENTER_Y-H.y/2))},C.radialLayout=function(_,I,D){var F=Math.max(this.maxDiagonalInTree(_),f.DEFAULT_RADIAL_SEPARATION);C.branchRadialLayout(I,null,0,359,0,F);var M=S.calculateBounds(_),B=new E;B.setDeviceOrgX(M.getMinX()),B.setDeviceOrgY(M.getMinY()),B.setWorldOrgX(D.x),B.setWorldOrgY(D.y);for(var H=0;H<_.length;H++){var R=_[H];R.transform(B)}var O=new v(M.getMaxX(),M.getMaxY());return B.inverseTransformPoint(O)},C.branchRadialLayout=function(_,I,D,F,M,B){var H=(F-D+1)/2;H<0&&(H+=180);var R=(H+D)%360,O=R*w.TWO_PI/360,P=M*Math.cos(O),z=M*Math.sin(O);_.setCenter(P,z);var $=[];$=$.concat(_.getEdges());var V=$.length;I!=null&&V--;for(var X=0,q=$.length,Y,U=_.getEdgesBetween(I);U.length>1;){var Z=U[0];U.splice(0,1);var pe=$.indexOf(Z);pe>=0&&$.splice(pe,1),q--,V--}I!=null?Y=($.indexOf(U[0])+1)%q:Y=0;for(var ne=Math.abs(F-D)/V,ge=Y;X!=V;ge=++ge%q){var ye=$[ge].getOtherEnd(_);if(ye!=I){var J=(D+X*ne)%360,se=(J+ne)%360;C.branchRadialLayout(ye,_,J,se,M+B,B),X++}}},C.maxDiagonalInTree=function(_){for(var I=y.MIN_VALUE,D=0;D<_.length;D++){var F=_[D],M=F.getDiagonal();M>I&&(I=M)}return I},C.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},C.prototype.groupZeroDegreeMembers=function(){var _=this,I={};this.memberGroups={},this.idToDummyNode={};for(var D=[],F=this.graphManager.getAllNodes(),M=0;M<F.length;M++){var B=F[M],H=B.getParent();this.getNodeDegreeWithChildren(B)===0&&(H.id==null||!this.getToBeTiled(H))&&D.push(B)}for(var M=0;M<D.length;M++){var B=D[M],R=B.getParent().id;typeof I[R]>"u"&&(I[R]=[]),I[R]=I[R].concat(B)}Object.keys(I).forEach(function(O){if(I[O].length>1){var P="DummyCompound_"+O;_.memberGroups[P]=I[O];var z=I[O][0].getParent(),$=new u(_.graphManager);$.id=P,$.paddingLeft=z.paddingLeft||0,$.paddingRight=z.paddingRight||0,$.paddingBottom=z.paddingBottom||0,$.paddingTop=z.paddingTop||0,_.idToDummyNode[P]=$;var V=_.getGraphManager().add(_.newGraph(),$),X=z.getChild();X.add($);for(var q=0;q<I[O].length;q++){var Y=I[O][q];X.remove(Y),V.add(Y)}}})},C.prototype.clearCompounds=function(){var _={},I={};this.performDFSOnCompounds();for(var D=0;D<this.compoundOrder.length;D++)I[this.compoundOrder[D].id]=this.compoundOrder[D],_[this.compoundOrder[D].id]=[].concat(this.compoundOrder[D].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[D].getChild()),this.compoundOrder[D].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(_,I)},C.prototype.clearZeroDegreeMembers=function(){var _=this,I=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(D){var F=_.idToDummyNode[D];I[D]=_.tileNodes(_.memberGroups[D],F.paddingLeft+F.paddingRight),F.rect.width=I[D].width,F.rect.height=I[D].height})},C.prototype.repopulateCompounds=function(){for(var _=this.compoundOrder.length-1;_>=0;_--){var I=this.compoundOrder[_],D=I.id,F=I.paddingLeft,M=I.paddingTop;this.adjustLocations(this.tiledMemberPack[D],I.rect.x,I.rect.y,F,M)}},C.prototype.repopulateZeroDegreeMembers=function(){var _=this,I=this.tiledZeroDegreePack;Object.keys(I).forEach(function(D){var F=_.idToDummyNode[D],M=F.paddingLeft,B=F.paddingTop;_.adjustLocations(I[D],F.rect.x,F.rect.y,M,B)})},C.prototype.getToBeTiled=function(_){var I=_.id;if(this.toBeTiled[I]!=null)return this.toBeTiled[I];var D=_.getChild();if(D==null)return this.toBeTiled[I]=!1,!1;for(var F=D.getNodes(),M=0;M<F.length;M++){var B=F[M];if(this.getNodeDegree(B)>0)return this.toBeTiled[I]=!1,!1;if(B.getChild()==null){this.toBeTiled[B.id]=!1;continue}if(!this.getToBeTiled(B))return this.toBeTiled[I]=!1,!1}return this.toBeTiled[I]=!0,!0},C.prototype.getNodeDegree=function(_){_.id;for(var I=_.getEdges(),D=0,F=0;F<I.length;F++){var M=I[F];M.getSource().id!==M.getTarget().id&&(D=D+1)}return D},C.prototype.getNodeDegreeWithChildren=function(_){var I=this.getNodeDegree(_);if(_.getChild()==null)return I;for(var D=_.getChild().getNodes(),F=0;F<D.length;F++){var M=D[F];I+=this.getNodeDegreeWithChildren(M)}return I},C.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},C.prototype.fillCompexOrderByDFS=function(_){for(var I=0;I<_.length;I++){var D=_[I];D.getChild()!=null&&this.fillCompexOrderByDFS(D.getChild().getNodes()),this.getToBeTiled(D)&&this.compoundOrder.push(D)}},C.prototype.adjustLocations=function(_,I,D,F,M){I+=F,D+=M;for(var B=I,H=0;H<_.rows.length;H++){var R=_.rows[H];I=B;for(var O=0,P=0;P<R.length;P++){var z=R[P];z.rect.x=I,z.rect.y=D,I+=z.rect.width+_.horizontalPadding,z.rect.height>O&&(O=z.rect.height)}D+=O+_.verticalPadding}},C.prototype.tileCompoundMembers=function(_,I){var D=this;this.tiledMemberPack=[],Object.keys(_).forEach(function(F){var M=I[F];D.tiledMemberPack[F]=D.tileNodes(_[F],M.paddingLeft+M.paddingRight),M.rect.width=D.tiledMemberPack[F].width,M.rect.height=D.tiledMemberPack[F].height})},C.prototype.tileNodes=function(_,I){var D=f.TILING_PADDING_VERTICAL,F=f.TILING_PADDING_HORIZONTAL,M={rows:[],rowWidth:[],rowHeight:[],width:0,height:I,verticalPadding:D,horizontalPadding:F};_.sort(function(R,O){return R.rect.width*R.rect.height>O.rect.width*O.rect.height?-1:R.rect.width*R.rect.height<O.rect.width*O.rect.height?1:0});for(var B=0;B<_.length;B++){var H=_[B];M.rows.length==0?this.insertNodeToRow(M,H,0,I):this.canAddHorizontal(M,H.rect.width,H.rect.height)?this.insertNodeToRow(M,H,this.getShortestRowIndex(M),I):this.insertNodeToRow(M,H,M.rows.length,I),this.shiftToLastRow(M)}return M},C.prototype.insertNodeToRow=function(_,I,D,F){var M=F;if(D==_.rows.length){var B=[];_.rows.push(B),_.rowWidth.push(M),_.rowHeight.push(0)}var H=_.rowWidth[D]+I.rect.width;_.rows[D].length>0&&(H+=_.horizontalPadding),_.rowWidth[D]=H,_.width<H&&(_.width=H);var R=I.rect.height;D>0&&(R+=_.verticalPadding);var O=0;R>_.rowHeight[D]&&(O=_.rowHeight[D],_.rowHeight[D]=R,O=_.rowHeight[D]-O),_.height+=O,_.rows[D].push(I)},C.prototype.getShortestRowIndex=function(_){for(var I=-1,D=Number.MAX_VALUE,F=0;F<_.rows.length;F++)_.rowWidth[F]<D&&(I=F,D=_.rowWidth[F]);return I},C.prototype.getLongestRowIndex=function(_){for(var I=-1,D=Number.MIN_VALUE,F=0;F<_.rows.length;F++)_.rowWidth[F]>D&&(I=F,D=_.rowWidth[F]);return I},C.prototype.canAddHorizontal=function(_,I,D){var F=this.getShortestRowIndex(_);if(F<0)return!0;var M=_.rowWidth[F];if(M+_.horizontalPadding+I<=_.width)return!0;var B=0;_.rowHeight[F]<D&&F>0&&(B=D+_.verticalPadding-_.rowHeight[F]);var H;_.width-M>=I+_.horizontalPadding?H=(_.height+B)/(M+I+_.horizontalPadding):H=(_.height+B)/_.width,B=D+_.verticalPadding;var R;return _.width<I?R=(_.height+B)/I:R=(_.height+B)/_.width,R<1&&(R=1/R),H<1&&(H=1/H),H<R},C.prototype.shiftToLastRow=function(_){var I=this.getLongestRowIndex(_),D=_.rowWidth.length-1,F=_.rows[I],M=F[F.length-1],B=M.width+_.horizontalPadding;if(_.width-_.rowWidth[D]>B&&I!=D){F.splice(-1,1),_.rows[D].push(M),_.rowWidth[I]=_.rowWidth[I]-B,_.rowWidth[D]=_.rowWidth[D]+B,_.width=_.rowWidth[instance.getLongestRowIndex(_)];for(var H=Number.MIN_VALUE,R=0;R<F.length;R++)F[R].height>H&&(H=F[R].height);I>0&&(H+=_.verticalPadding);var O=_.rowHeight[I]+_.rowHeight[D];_.rowHeight[I]=H,_.rowHeight[D]<M.height+_.verticalPadding&&(_.rowHeight[D]=M.height+_.verticalPadding);var P=_.rowHeight[I]+_.rowHeight[D];_.height+=P-O,this.shiftToLastRow(_)}},C.prototype.tilingPreLayout=function(){f.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},C.prototype.tilingPostLayout=function(){f.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},C.prototype.reduceTrees=function(){for(var _=[],I=!0,D;I;){var F=this.graphManager.getAllNodes(),M=[];I=!1;for(var B=0;B<F.length;B++)D=F[B],D.getEdges().length==1&&!D.getEdges()[0].isInterGraph&&D.getChild()==null&&(M.push([D,D.getEdges()[0],D.getOwner()]),I=!0);if(I==!0){for(var H=[],R=0;R<M.length;R++)M[R][0].getEdges().length==1&&(H.push(M[R]),M[R][0].getOwner().remove(M[R][0]));_.push(H),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=_},C.prototype.growTree=function(_){for(var I=_.length,D=_[I-1],F,M=0;M<D.length;M++)F=D[M],this.findPlaceforPrunedNode(F),F[2].add(F[0]),F[2].add(F[1],F[1].source,F[1].target);_.splice(_.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},C.prototype.findPlaceforPrunedNode=function(_){var I,D,F=_[0];F==_[1].source?D=_[1].target:D=_[1].source;var M=D.startX,B=D.finishX,H=D.startY,R=D.finishY,O=0,P=0,z=0,$=0,V=[O,z,P,$];if(H>0)for(var X=M;X<=B;X++)V[0]+=this.grid[X][H-1].length+this.grid[X][H].length-1;if(B<this.grid.length-1)for(var X=H;X<=R;X++)V[1]+=this.grid[B+1][X].length+this.grid[B][X].length-1;if(R<this.grid[0].length-1)for(var X=M;X<=B;X++)V[2]+=this.grid[X][R+1].length+this.grid[X][R].length-1;if(M>0)for(var X=H;X<=R;X++)V[3]+=this.grid[M-1][X].length+this.grid[M][X].length-1;for(var q=y.MAX_VALUE,Y,U,Z=0;Z<V.length;Z++)V[Z]<q?(q=V[Z],Y=1,U=Z):V[Z]==q&&Y++;if(Y==3&&q==0)V[0]==0&&V[1]==0&&V[2]==0?I=1:V[0]==0&&V[1]==0&&V[3]==0?I=0:V[0]==0&&V[2]==0&&V[3]==0?I=3:V[1]==0&&V[2]==0&&V[3]==0&&(I=2);else if(Y==2&&q==0){var pe=Math.floor(Math.random()*2);V[0]==0&&V[1]==0?pe==0?I=0:I=1:V[0]==0&&V[2]==0?pe==0?I=0:I=2:V[0]==0&&V[3]==0?pe==0?I=0:I=3:V[1]==0&&V[2]==0?pe==0?I=1:I=2:V[1]==0&&V[3]==0?pe==0?I=1:I=3:pe==0?I=2:I=3}else if(Y==4&&q==0){var pe=Math.floor(Math.random()*4);I=pe}else I=U;I==0?F.setCenter(D.getCenterX(),D.getCenterY()-D.getHeight()/2-d.DEFAULT_EDGE_LENGTH-F.getHeight()/2):I==1?F.setCenter(D.getCenterX()+D.getWidth()/2+d.DEFAULT_EDGE_LENGTH+F.getWidth()/2,D.getCenterY()):I==2?F.setCenter(D.getCenterX(),D.getCenterY()+D.getHeight()/2+d.DEFAULT_EDGE_LENGTH+F.getHeight()/2):F.setCenter(D.getCenterX()-D.getWidth()/2-d.DEFAULT_EDGE_LENGTH-F.getWidth()/2,D.getCenterY())},n.exports=C},function(n,i,a){var s={};s.layoutBase=a(0),s.CoSEConstants=a(1),s.CoSEEdge=a(2),s.CoSEGraph=a(3),s.CoSEGraphManager=a(4),s.CoSELayout=a(6),s.CoSENode=a(5),n.exports=s}])})}(z8)),z8.exports}(function(t,e){(function(n,i){t.exports=i(eat())})(Pl,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=1)}([function(n,i){n.exports=r},function(n,i,a){var s=a(0).layoutBase.LayoutConstants,o=a(0).layoutBase.FDLayoutConstants,l=a(0).CoSEConstants,u=a(0).CoSELayout,h=a(0).CoSENode,f=a(0).layoutBase.PointD,d=a(0).layoutBase.DimensionD,p={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function m(w,S){var E={};for(var C in w)E[C]=w[C];for(var C in S)E[C]=S[C];return E}function v(w){this.options=m(p,w),x(this.options)}var x=function(S){S.nodeRepulsion!=null&&(l.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=S.nodeRepulsion),S.idealEdgeLength!=null&&(l.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=S.idealEdgeLength),S.edgeElasticity!=null&&(l.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=S.edgeElasticity),S.nestingFactor!=null&&(l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=S.nestingFactor),S.gravity!=null&&(l.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=S.gravity),S.numIter!=null&&(l.MAX_ITERATIONS=o.MAX_ITERATIONS=S.numIter),S.gravityRange!=null&&(l.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=S.gravityRange),S.gravityCompound!=null&&(l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=S.gravityCompound),S.gravityRangeCompound!=null&&(l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=S.gravityRangeCompound),S.initialEnergyOnIncremental!=null&&(l.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=S.initialEnergyOnIncremental),S.quality=="draft"?s.QUALITY=0:S.quality=="proof"?s.QUALITY=2:s.QUALITY=1,l.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=S.nodeDimensionsIncludeLabels,l.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=!S.randomize,l.ANIMATE=o.ANIMATE=s.ANIMATE=S.animate,l.TILE=S.tile,l.TILING_PADDING_VERTICAL=typeof S.tilingPaddingVertical=="function"?S.tilingPaddingVertical.call():S.tilingPaddingVertical,l.TILING_PADDING_HORIZONTAL=typeof S.tilingPaddingHorizontal=="function"?S.tilingPaddingHorizontal.call():S.tilingPaddingHorizontal};v.prototype.run=function(){var w,S,E=this.options;this.idToLNode={};var C=this.layout=new u,L=this;L.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var _=C.newGraphManager();this.gm=_;var I=this.options.eles.nodes(),D=this.options.eles.edges();this.root=_.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(I),C);for(var F=0;F<D.length;F++){var M=D[F],B=this.idToLNode[M.data("source")],H=this.idToLNode[M.data("target")];if(B!==H&&B.getEdgesBetween(H).length==0){var R=_.add(C.newEdge(),B,H);R.id=M.id()}}var O=function($,V){typeof $=="number"&&($=V);var X=$.data("id"),q=L.idToLNode[X];return{x:q.getRect().getCenterX(),y:q.getRect().getCenterY()}},P=function z(){for(var $=function(){E.fit&&E.cy.fit(E.eles,E.padding),w||(w=!0,L.cy.one("layoutready",E.ready),L.cy.trigger({type:"layoutready",layout:L}))},V=L.options.refresh,X,q=0;q<V&&!X;q++)X=L.stopped||L.layout.tick();if(X){C.checkLayoutSuccess()&&!C.isSubLayout&&C.doPostLayout(),C.tilingPostLayout&&C.tilingPostLayout(),C.isLayoutFinished=!0,L.options.eles.nodes().positions(O),$(),L.cy.one("layoutstop",L.options.stop),L.cy.trigger({type:"layoutstop",layout:L}),S&&cancelAnimationFrame(S),w=!1;return}var Y=L.layout.getPositionsData();E.eles.nodes().positions(function(U,Z){if(typeof U=="number"&&(U=Z),!U.isParent()){for(var pe=U.id(),ne=Y[pe],ge=U;ne==null&&(ne=Y[ge.data("parent")]||Y["DummyCompound_"+ge.data("parent")],Y[pe]=ne,ge=ge.parent()[0],ge!=null););return ne!=null?{x:ne.x,y:ne.y}:{x:U.position("x"),y:U.position("y")}}}),$(),S=requestAnimationFrame(z)};return C.addListener("layoutstarted",function(){L.options.animate==="during"&&(S=requestAnimationFrame(P))}),C.runLayout(),this.options.animate!=="during"&&(L.options.eles.nodes().not(":parent").layoutPositions(L,L.options,O),w=!1),this},v.prototype.getTopMostNodes=function(w){for(var S={},E=0;E<w.length;E++)S[w[E].id()]=!0;var C=w.filter(function(L,_){typeof L=="number"&&(L=_);for(var I=L.parent()[0];I!=null;){if(S[I.id()])return!1;I=I.parent()[0]}return!0});return C},v.prototype.processChildrenList=function(w,S,E){for(var C=S.length,L=0;L<C;L++){var _=S[L],I=_.children(),D,F=_.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(_.outerWidth()!=null&&_.outerHeight()!=null?D=w.add(new h(E.graphManager,new f(_.position("x")-F.w/2,_.position("y")-F.h/2),new d(parseFloat(F.w),parseFloat(F.h)))):D=w.add(new h(this.graphManager)),D.id=_.data("id"),D.paddingLeft=parseInt(_.css("padding")),D.paddingTop=parseInt(_.css("padding")),D.paddingRight=parseInt(_.css("padding")),D.paddingBottom=parseInt(_.css("padding")),this.options.nodeDimensionsIncludeLabels&&_.isParent()){var M=_.boundingBox({includeLabels:!0,includeNodes:!1}).w,B=_.boundingBox({includeLabels:!0,includeNodes:!1}).h,H=_.css("text-halign");D.labelWidth=M,D.labelHeight=B,D.labelPos=H}if(this.idToLNode[_.data("id")]=D,isNaN(D.rect.x)&&(D.rect.x=0),isNaN(D.rect.y)&&(D.rect.y=0),I!=null&&I.length>0){var R;R=E.getGraphManager().add(E.newGraph(),D),this.processChildrenList(R,I,E)}}},v.prototype.stop=function(){return this.stopped=!0,this};var y=function(S){S("layout","cose-bilkent",v)};typeof cytoscape<"u"&&y(cytoscape),n.exports=y}])})})(Vhe);var tat=Vhe.exports;const rat=Th(tat);var U9=function(){var t=k(function(E,C,L,_){for(L=L||{},_=E.length;_--;L[E[_]]=C);return L},"o"),e=[1,4],r=[1,13],n=[1,12],i=[1,15],a=[1,16],s=[1,20],o=[1,19],l=[6,7,8],u=[1,26],h=[1,24],f=[1,25],d=[6,7,11],p=[1,6,13,15,16,19,22],m=[1,33],v=[1,34],x=[1,6,7,11,13,15,16,19,22],y={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:k(function(C,L,_,I,D,F,M){var B=F.length-1;switch(D){case 6:case 7:return I;case 8:I.getLogger().trace("Stop NL ");break;case 9:I.getLogger().trace("Stop EOF ");break;case 11:I.getLogger().trace("Stop NL2 ");break;case 12:I.getLogger().trace("Stop EOF2 ");break;case 15:I.getLogger().info("Node: ",F[B].id),I.addNode(F[B-1].length,F[B].id,F[B].descr,F[B].type);break;case 16:I.getLogger().trace("Icon: ",F[B]),I.decorateNode({icon:F[B]});break;case 17:case 21:I.decorateNode({class:F[B]});break;case 18:I.getLogger().trace("SPACELIST");break;case 19:I.getLogger().trace("Node: ",F[B].id),I.addNode(0,F[B].id,F[B].descr,F[B].type);break;case 20:I.decorateNode({icon:F[B]});break;case 25:I.getLogger().trace("node found ..",F[B-2]),this.$={id:F[B-1],descr:F[B-1],type:I.getType(F[B-2],F[B])};break;case 26:this.$={id:F[B],descr:F[B],type:I.nodeType.DEFAULT};break;case 27:I.getLogger().trace("node found ..",F[B-3]),this.$={id:F[B-3],descr:F[B-1],type:I.getType(F[B-2],F[B])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:e},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:e},{6:r,7:[1,10],9:9,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},t(l,[2,3]),{1:[2,2]},t(l,[2,4]),t(l,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},{6:r,9:22,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},{6:u,7:h,10:23,11:f},t(d,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:o}),t(d,[2,18]),t(d,[2,19]),t(d,[2,20]),t(d,[2,21]),t(d,[2,23]),t(d,[2,24]),t(d,[2,26],{19:[1,30]}),{20:[1,31]},{6:u,7:h,10:32,11:f},{1:[2,7],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},t(p,[2,14],{7:m,11:v}),t(x,[2,8]),t(x,[2,9]),t(x,[2,10]),t(d,[2,15]),t(d,[2,16]),t(d,[2,17]),{20:[1,35]},{21:[1,36]},t(p,[2,13],{7:m,11:v}),t(x,[2,11]),t(x,[2,12]),{21:[1,37]},t(d,[2,25]),t(d,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:k(function(C,L){if(L.recoverable)this.trace(C);else{var _=new Error(C);throw _.hash=L,_}},"parseError"),parse:k(function(C){var L=this,_=[0],I=[],D=[null],F=[],M=this.table,B="",H=0,R=0,O=2,P=1,z=F.slice.call(arguments,1),$=Object.create(this.lexer),V={yy:{}};for(var X in this.yy)Object.prototype.hasOwnProperty.call(this.yy,X)&&(V.yy[X]=this.yy[X]);$.setInput(C,V.yy),V.yy.lexer=$,V.yy.parser=this,typeof $.yylloc>"u"&&($.yylloc={});var q=$.yylloc;F.push(q);var Y=$.options&&$.options.ranges;typeof V.yy.parseError=="function"?this.parseError=V.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function U(ce){_.length=_.length-2*ce,D.length=D.length-ce,F.length=F.length-ce}k(U,"popStack");function Z(){var ce;return ce=I.pop()||$.lex()||P,typeof ce!="number"&&(ce instanceof Array&&(I=ce,ce=I.pop()),ce=L.symbols_[ce]||ce),ce}k(Z,"lex");for(var pe,ne,ge,ye,J={},se,oe,fe,me;;){if(ne=_[_.length-1],this.defaultActions[ne]?ge=this.defaultActions[ne]:((pe===null||typeof pe>"u")&&(pe=Z()),ge=M[ne]&&M[ne][pe]),typeof ge>"u"||!ge.length||!ge[0]){var be="";me=[];for(se in M[ne])this.terminals_[se]&&se>O&&me.push("'"+this.terminals_[se]+"'");$.showPosition?be="Parse error on line "+(H+1)+`:
`+$.showPosition()+`
Expecting `+me.join(", ")+", got '"+(this.terminals_[pe]||pe)+"'":be="Parse error on line "+(H+1)+": Unexpected "+(pe==P?"end of input":"'"+(this.terminals_[pe]||pe)+"'"),this.parseError(be,{text:$.match,token:this.terminals_[pe]||pe,line:$.yylineno,loc:q,expected:me})}if(ge[0]instanceof Array&&ge.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ne+", token: "+pe);switch(ge[0]){case 1:_.push(pe),D.push($.yytext),F.push($.yylloc),_.push(ge[1]),pe=null,R=$.yyleng,B=$.yytext,H=$.yylineno,q=$.yylloc;break;case 2:if(oe=this.productions_[ge[1]][1],J.$=D[D.length-oe],J._$={first_line:F[F.length-(oe||1)].first_line,last_line:F[F.length-1].last_line,first_column:F[F.length-(oe||1)].first_column,last_column:F[F.length-1].last_column},Y&&(J._$.range=[F[F.length-(oe||1)].range[0],F[F.length-1].range[1]]),ye=this.performAction.apply(J,[B,R,H,V.yy,ge[1],D,F].concat(z)),typeof ye<"u")return ye;oe&&(_=_.slice(0,-1*oe*2),D=D.slice(0,-1*oe),F=F.slice(0,-1*oe)),_.push(this.productions_[ge[1]][0]),D.push(J.$),F.push(J._$),fe=M[_[_.length-2]][_[_.length-1]],_.push(fe);break;case 3:return!0}}return!0},"parse")},w=function(){var E={EOF:1,parseError:k(function(L,_){if(this.yy.parser)this.yy.parser.parseError(L,_);else throw new Error(L)},"parseError"),setInput:k(function(C,L){return this.yy=L||this.yy||{},this._input=C,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var C=this._input[0];this.yytext+=C,this.yyleng++,this.offset++,this.match+=C,this.matched+=C;var L=C.match(/(?:\r\n?|\n).*/g);return L?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),C},"input"),unput:k(function(C){var L=C.length,_=C.split(/(?:\r\n?|\n)/g);this._input=C+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-L),this.offset-=L;var I=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),_.length-1&&(this.yylineno-=_.length-1);var D=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:_?(_.length===I.length?this.yylloc.first_column:0)+I[I.length-_.length].length-_[0].length:this.yylloc.first_column-L},this.options.ranges&&(this.yylloc.range=[D[0],D[0]+this.yyleng-L]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(C){this.unput(this.match.slice(C))},"less"),pastInput:k(function(){var C=this.matched.substr(0,this.matched.length-this.match.length);return(C.length>20?"...":"")+C.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var C=this.match;return C.length<20&&(C+=this._input.substr(0,20-C.length)),(C.substr(0,20)+(C.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var C=this.pastInput(),L=new Array(C.length+1).join("-");return C+this.upcomingInput()+`
`+L+"^"},"showPosition"),test_match:k(function(C,L){var _,I,D;if(this.options.backtrack_lexer&&(D={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(D.yylloc.range=this.yylloc.range.slice(0))),I=C[0].match(/(?:\r\n?|\n).*/g),I&&(this.yylineno+=I.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:I?I[I.length-1].length-I[I.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+C[0].length},this.yytext+=C[0],this.match+=C[0],this.matches=C,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(C[0].length),this.matched+=C[0],_=this.performAction.call(this,this.yy,this,L,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),_)return _;if(this._backtrack){for(var F in D)this[F]=D[F];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var C,L,_,I;this._more||(this.yytext="",this.match="");for(var D=this._currentRules(),F=0;F<D.length;F++)if(_=this._input.match(this.rules[D[F]]),_&&(!L||_[0].length>L[0].length)){if(L=_,I=F,this.options.backtrack_lexer){if(C=this.test_match(_,D[F]),C!==!1)return C;if(this._backtrack){L=!1;continue}else return!1}else if(!this.options.flex)break}return L?(C=this.test_match(L,D[I]),C!==!1?C:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var L=this.next();return L||this.lex()},"lex"),begin:k(function(L){this.conditionStack.push(L)},"begin"),popState:k(function(){var L=this.conditionStack.length-1;return L>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(L){return L=this.conditionStack.length-1-Math.abs(L||0),L>=0?this.conditionStack[L]:"INITIAL"},"topState"),pushState:k(function(L){this.begin(L)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:k(function(L,_,I,D){switch(I){case 0:return L.getLogger().trace("Found comment",_.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:this.popState();break;case 5:L.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return L.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:L.getLogger().trace("end icon"),this.popState();break;case 10:return L.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return L.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return L.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return L.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:return this.begin("NODE"),19;case 15:return this.begin("NODE"),19;case 16:return this.begin("NODE"),19;case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:L.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return L.getLogger().trace("description:",_.yytext),"NODE_DESCR";case 26:this.popState();break;case 27:return this.popState(),L.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),L.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),L.getLogger().trace("node end ...",_.yytext),"NODE_DEND";case 30:return this.popState(),L.getLogger().trace("node end (("),"NODE_DEND";case 31:return this.popState(),L.getLogger().trace("node end (-"),"NODE_DEND";case 32:return this.popState(),L.getLogger().trace("node end (-"),"NODE_DEND";case 33:return this.popState(),L.getLogger().trace("node end (("),"NODE_DEND";case 34:return this.popState(),L.getLogger().trace("node end (("),"NODE_DEND";case 35:return L.getLogger().trace("Long description:",_.yytext),20;case 36:return L.getLogger().trace("Long description:",_.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return E}();y.lexer=w;function S(){this.yy={}}return k(S,"Parser"),S.prototype=y,y.Parser=S,new S}();U9.parser=U9;var nat=U9,du=[],Uhe=0,aO={},iat=k(()=>{du=[],Uhe=0,aO={}},"clear"),aat=k(function(t){for(let e=du.length-1;e>=0;e--)if(du[e].level<t)return du[e];return null},"getParent"),sat=k(()=>du.length>0?du[0]:null,"getMindmap"),oat=k((t,e,r,n)=>{var l,u;Ee.info("addNode",t,e,r,n);const i=Ue();let a=((l=i.mindmap)==null?void 0:l.padding)??Zr.mindmap.padding;switch(n){case ta.ROUNDED_RECT:case ta.RECT:case ta.HEXAGON:a*=2}const s={id:Uhe++,nodeId:Dn(e,i),level:t,descr:Dn(r,i),type:n,children:[],width:((u=i.mindmap)==null?void 0:u.maxNodeWidth)??Zr.mindmap.maxNodeWidth,padding:a},o=aat(t);if(o)o.children.push(s),du.push(s);else if(du.length===0)du.push(s);else throw new Error('There can be only one root. No parent could be found for ("'+s.descr+'")')},"addNode"),ta={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},lat=k((t,e)=>{switch(Ee.debug("In get type",t,e),t){case"[":return ta.RECT;case"(":return e===")"?ta.ROUNDED_RECT:ta.CLOUD;case"((":return ta.CIRCLE;case")":return ta.CLOUD;case"))":return ta.BANG;case"{{":return ta.HEXAGON;default:return ta.DEFAULT}},"getType"),uat=k((t,e)=>{aO[t]=e},"setElementForId"),cat=k(t=>{if(!t)return;const e=Ue(),r=du[du.length-1];t.icon&&(r.icon=Dn(t.icon,e)),t.class&&(r.class=Dn(t.class,e))},"decorateNode"),hat=k(t=>{switch(t){case ta.DEFAULT:return"no-border";case ta.RECT:return"rect";case ta.ROUNDED_RECT:return"rounded-rect";case ta.CIRCLE:return"circle";case ta.CLOUD:return"cloud";case ta.BANG:return"bang";case ta.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),fat=k(()=>Ee,"getLogger"),dat=k(t=>aO[t],"getElementById"),pat={clear:iat,addNode:oat,getMindmap:sat,nodeType:ta,getType:lat,setElementForId:uat,decorateNode:cat,type2Str:hat,getLogger:fat,getElementById:dat},gat=pat,mat=12,vat=k(function(t,e,r,n){e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 ${r.height-5} v${-r.height+2*5} q0,-5 5,-5 h${r.width-2*5} q5,0 5,5 v${r.height-5} H0 Z`),e.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",r.height).attr("x2",r.width).attr("y2",r.height)},"defaultBkg"),yat=k(function(t,e,r){e.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("height",r.height).attr("width",r.width)},"rectBkg"),xat=k(function(t,e,r){const n=r.width,i=r.height,a=.15*n,s=.25*n,o=.35*n,l=.2*n;e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 0 0,1 ${n*.25},${-1*n*.1}
      a${o},${o} 1 0,1 ${n*.4},${-1*n*.1}
      a${s},${s} 1 0,1 ${n*.35},${1*n*.2}

      a${a},${a} 1 0,1 ${n*.15},${1*i*.35}
      a${l},${l} 1 0,1 ${-1*n*.15},${1*i*.65}

      a${s},${a} 1 0,1 ${-1*n*.25},${n*.15}
      a${o},${o} 1 0,1 ${-1*n*.5},0
      a${a},${a} 1 0,1 ${-1*n*.25},${-1*n*.15}

      a${a},${a} 1 0,1 ${-1*n*.1},${-1*i*.35}
      a${l},${l} 1 0,1 ${n*.1},${-1*i*.65}

    H0 V0 Z`)},"cloudBkg"),bat=k(function(t,e,r){const n=r.width,i=r.height,a=.15*n;e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 1 0,0 ${n*.25},${-1*i*.1}
      a${a},${a} 1 0,0 ${n*.25},0
      a${a},${a} 1 0,0 ${n*.25},0
      a${a},${a} 1 0,0 ${n*.25},${1*i*.1}

      a${a},${a} 1 0,0 ${n*.15},${1*i*.33}
      a${a*.8},${a*.8} 1 0,0 0,${1*i*.34}
      a${a},${a} 1 0,0 ${-1*n*.15},${1*i*.33}

      a${a},${a} 1 0,0 ${-1*n*.25},${i*.15}
      a${a},${a} 1 0,0 ${-1*n*.25},0
      a${a},${a} 1 0,0 ${-1*n*.25},0
      a${a},${a} 1 0,0 ${-1*n*.25},${-1*i*.15}

      a${a},${a} 1 0,0 ${-1*n*.1},${-1*i*.33}
      a${a*.8},${a*.8} 1 0,0 0,${-1*i*.34}
      a${a},${a} 1 0,0 ${n*.1},${-1*i*.33}

    H0 V0 Z`)},"bangBkg"),wat=k(function(t,e,r){e.append("circle").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("r",r.width/2)},"circleBkg");function Ghe(t,e,r,n,i){return t.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("transform","translate("+(i.width-e)/2+", "+r+")")}k(Ghe,"insertPolygonShape");var Sat=k(function(t,e,r){const n=r.height,a=n/4,s=r.width-r.padding+2*a,o=[{x:a,y:0},{x:s-a,y:0},{x:s,y:-n/2},{x:s-a,y:-n},{x:a,y:-n},{x:0,y:-n/2}];Ghe(e,s,n,o,r)},"hexagonBkg"),kat=k(function(t,e,r){e.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("height",r.height).attr("rx",r.padding).attr("ry",r.padding).attr("width",r.width)},"roundedRectBkg"),Eat=k(async function(t,e,r,n,i){const a=i.htmlLabels,s=n%(mat-1),o=e.append("g");r.section=s;let l="section-"+s;s<0&&(l+=" section-root"),o.attr("class",(r.class?r.class+" ":"")+"mindmap-node "+l);const u=o.append("g"),h=o.append("g"),f=r.descr.replace(/(<br\/*>)/g,`
`);await Fl(h,f,{useHtmlLabels:a,width:r.width,classes:"mindmap-node-label"},i),a||h.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");const d=h.node().getBBox(),[p]=hd(i.fontSize);if(r.height=d.height+p*1.1*.5+r.padding,r.width=d.width+2*r.padding,r.icon)if(r.type===t.nodeType.CIRCLE)r.height+=50,r.width+=50,o.append("foreignObject").attr("height","50px").attr("width",r.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+r.icon),h.attr("transform","translate("+r.width/2+", "+(r.height/2-1.5*r.padding)+")");else{r.width+=50;const m=r.height;r.height=Math.max(m,60);const v=Math.abs(r.height-m);o.append("foreignObject").attr("width","60px").attr("height",r.height).attr("style","text-align: center;margin-top:"+v/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+r.icon),h.attr("transform","translate("+(25+r.width/2)+", "+(v/2+r.padding/2)+")")}else if(a){const m=(r.width-d.width)/2,v=(r.height-d.height)/2;h.attr("transform","translate("+m+", "+v+")")}else{const m=r.width/2,v=r.padding/2;h.attr("transform","translate("+m+", "+v+")")}switch(r.type){case t.nodeType.DEFAULT:vat(t,u,r,s);break;case t.nodeType.ROUNDED_RECT:kat(t,u,r,s);break;case t.nodeType.RECT:yat(t,u,r,s);break;case t.nodeType.CIRCLE:u.attr("transform","translate("+r.width/2+", "+ +r.height/2+")"),wat(t,u,r,s);break;case t.nodeType.CLOUD:xat(t,u,r,s);break;case t.nodeType.BANG:bat(t,u,r,s);break;case t.nodeType.HEXAGON:Sat(t,u,r,s);break}return t.setElementForId(r.id,o),r.height},"drawNode"),Tat=k(function(t,e){const r=t.getElementById(e.id),n=e.x||0,i=e.y||0;r.attr("transform","translate("+n+","+i+")")},"positionNode");oc.use(rat);async function sO(t,e,r,n,i){await Eat(t,e,r,n,i),r.children&&await Promise.all(r.children.map((a,s)=>sO(t,e,a,n<0?s:n,i)))}k(sO,"drawNodes");function Whe(t,e){e.edges().map((r,n)=>{const i=r.data();if(r[0]._private.bodyBounds){const a=r[0]._private.rscratch;Ee.trace("Edge: ",n,i),t.insert("path").attr("d",`M ${a.startX},${a.startY} L ${a.midX},${a.midY} L${a.endX},${a.endY} `).attr("class","edge section-edge-"+i.section+" edge-depth-"+i.depth)}})}k(Whe,"drawEdges");function oO(t,e,r,n){e.add({group:"nodes",data:{id:t.id.toString(),labelText:t.descr,height:t.height,width:t.width,level:n,nodeId:t.id,padding:t.padding,type:t.type},position:{x:t.x,y:t.y}}),t.children&&t.children.forEach(i=>{oO(i,e,r,n+1),e.add({group:"edges",data:{id:`${t.id}_${i.id}`,source:t.id,target:i.id,depth:n,section:i.section}})})}k(oO,"addNodes");function qhe(t,e){return new Promise(r=>{const n=bt("body").append("div").attr("id","cy").attr("style","display:none"),i=oc({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});n.remove(),oO(t,i,e,0),i.nodes().forEach(function(a){a.layoutDimensions=()=>{const s=a.data();return{w:s.width,h:s.height}}}),i.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),i.ready(a=>{Ee.info("Ready",a),r(i)})})}k(qhe,"layoutMindmap");function Yhe(t,e){e.nodes().map((r,n)=>{const i=r.data();i.x=r.position().x,i.y=r.position().y,Tat(t,i);const a=t.getElementById(i.nodeId);Ee.info("Id:",n,"Position: (",r.position().x,", ",r.position().y,")",i),a.attr("transform",`translate(${r.position().x-i.width/2}, ${r.position().y-i.height/2})`),a.attr("attr",`apa-${n})`)})}k(Yhe,"positionNodes");var Cat=k(async(t,e,r,n)=>{var f,d;Ee.debug(`Rendering mindmap diagram
`+t);const i=n.db,a=i.getMindmap();if(!a)return;const s=Ue();s.htmlLabels=!1;const o=fd(e),l=o.append("g");l.attr("class","mindmap-edges");const u=o.append("g");u.attr("class","mindmap-nodes"),await sO(i,u,a,-1,s);const h=await qhe(a,s);Whe(l,h),Yhe(i,h),Km(void 0,o,((f=s.mindmap)==null?void 0:f.padding)??Zr.mindmap.padding,((d=s.mindmap)==null?void 0:d.useMaxWidth)??Zr.mindmap.useMaxWidth)},"draw"),Aat={draw:Cat},_at=k(t=>{let e="";for(let r=0;r<t.THEME_COLOR_LIMIT;r++)t["lineColor"+r]=t["lineColor"+r]||t["cScaleInv"+r],ud(t["lineColor"+r])?t["lineColor"+r]=ar(t["lineColor"+r],20):t["lineColor"+r]=dr(t["lineColor"+r],20);for(let r=0;r<t.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);e+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${t["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${t["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${t["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${t["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return e},"genSections"),Lat=k(t=>`
  .edge {
    stroke-width: 3;
  }
  ${_at(t)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),Dat=Lat,Rat={db:gat,renderer:Aat,parser:nat,styles:Dat};const Mat=Object.freeze(Object.defineProperty({__proto__:null,diagram:Rat},Symbol.toStringTag,{value:"Module"}));var G9=function(){var t=k(function(_,I,D,F){for(D=D||{},F=_.length;F--;D[_[F]]=I);return D},"o"),e=[1,4],r=[1,13],n=[1,12],i=[1,15],a=[1,16],s=[1,20],o=[1,19],l=[6,7,8],u=[1,26],h=[1,24],f=[1,25],d=[6,7,11],p=[1,31],m=[6,7,11,24],v=[1,6,13,16,17,20,23],x=[1,35],y=[1,36],w=[1,6,7,11,13,16,17,20,23],S=[1,38],E={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:k(function(I,D,F,M,B,H,R){var O=H.length-1;switch(B){case 6:case 7:return M;case 8:M.getLogger().trace("Stop NL ");break;case 9:M.getLogger().trace("Stop EOF ");break;case 11:M.getLogger().trace("Stop NL2 ");break;case 12:M.getLogger().trace("Stop EOF2 ");break;case 15:M.getLogger().info("Node: ",H[O-1].id),M.addNode(H[O-2].length,H[O-1].id,H[O-1].descr,H[O-1].type,H[O]);break;case 16:M.getLogger().info("Node: ",H[O].id),M.addNode(H[O-1].length,H[O].id,H[O].descr,H[O].type);break;case 17:M.getLogger().trace("Icon: ",H[O]),M.decorateNode({icon:H[O]});break;case 18:case 23:M.decorateNode({class:H[O]});break;case 19:M.getLogger().trace("SPACELIST");break;case 20:M.getLogger().trace("Node: ",H[O-1].id),M.addNode(0,H[O-1].id,H[O-1].descr,H[O-1].type,H[O]);break;case 21:M.getLogger().trace("Node: ",H[O].id),M.addNode(0,H[O].id,H[O].descr,H[O].type);break;case 22:M.decorateNode({icon:H[O]});break;case 27:M.getLogger().trace("node found ..",H[O-2]),this.$={id:H[O-1],descr:H[O-1],type:M.getType(H[O-2],H[O])};break;case 28:this.$={id:H[O],descr:H[O],type:0};break;case 29:M.getLogger().trace("node found ..",H[O-3]),this.$={id:H[O-3],descr:H[O-1],type:M.getType(H[O-2],H[O])};break;case 30:this.$=H[O-1]+H[O];break;case 31:this.$=H[O];break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:e},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:e},{6:r,7:[1,10],9:9,12:11,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:o},t(l,[2,3]),{1:[2,2]},t(l,[2,4]),t(l,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:o},{6:r,9:22,12:11,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:o},{6:u,7:h,10:23,11:f},t(d,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:s,23:o}),t(d,[2,19]),t(d,[2,21],{15:30,24:p}),t(d,[2,22]),t(d,[2,23]),t(m,[2,25]),t(m,[2,26]),t(m,[2,28],{20:[1,32]}),{21:[1,33]},{6:u,7:h,10:34,11:f},{1:[2,7],6:r,12:21,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:o},t(v,[2,14],{7:x,11:y}),t(w,[2,8]),t(w,[2,9]),t(w,[2,10]),t(d,[2,16],{15:37,24:p}),t(d,[2,17]),t(d,[2,18]),t(d,[2,20],{24:S}),t(m,[2,31]),{21:[1,39]},{22:[1,40]},t(v,[2,13],{7:x,11:y}),t(w,[2,11]),t(w,[2,12]),t(d,[2,15],{24:S}),t(m,[2,30]),{22:[1,41]},t(m,[2,27]),t(m,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:k(function(I,D){if(D.recoverable)this.trace(I);else{var F=new Error(I);throw F.hash=D,F}},"parseError"),parse:k(function(I){var D=this,F=[0],M=[],B=[null],H=[],R=this.table,O="",P=0,z=0,$=2,V=1,X=H.slice.call(arguments,1),q=Object.create(this.lexer),Y={yy:{}};for(var U in this.yy)Object.prototype.hasOwnProperty.call(this.yy,U)&&(Y.yy[U]=this.yy[U]);q.setInput(I,Y.yy),Y.yy.lexer=q,Y.yy.parser=this,typeof q.yylloc>"u"&&(q.yylloc={});var Z=q.yylloc;H.push(Z);var pe=q.options&&q.options.ranges;typeof Y.yy.parseError=="function"?this.parseError=Y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ne(le){F.length=F.length-2*le,B.length=B.length-le,H.length=H.length-le}k(ne,"popStack");function ge(){var le;return le=M.pop()||q.lex()||V,typeof le!="number"&&(le instanceof Array&&(M=le,le=M.pop()),le=D.symbols_[le]||le),le}k(ge,"lex");for(var ye,J,se,oe,fe={},me,be,ce,Ge;;){if(J=F[F.length-1],this.defaultActions[J]?se=this.defaultActions[J]:((ye===null||typeof ye>"u")&&(ye=ge()),se=R[J]&&R[J][ye]),typeof se>"u"||!se.length||!se[0]){var xe="";Ge=[];for(me in R[J])this.terminals_[me]&&me>$&&Ge.push("'"+this.terminals_[me]+"'");q.showPosition?xe="Parse error on line "+(P+1)+`:
`+q.showPosition()+`
Expecting `+Ge.join(", ")+", got '"+(this.terminals_[ye]||ye)+"'":xe="Parse error on line "+(P+1)+": Unexpected "+(ye==V?"end of input":"'"+(this.terminals_[ye]||ye)+"'"),this.parseError(xe,{text:q.match,token:this.terminals_[ye]||ye,line:q.yylineno,loc:Z,expected:Ge})}if(se[0]instanceof Array&&se.length>1)throw new Error("Parse Error: multiple actions possible at state: "+J+", token: "+ye);switch(se[0]){case 1:F.push(ye),B.push(q.yytext),H.push(q.yylloc),F.push(se[1]),ye=null,z=q.yyleng,O=q.yytext,P=q.yylineno,Z=q.yylloc;break;case 2:if(be=this.productions_[se[1]][1],fe.$=B[B.length-be],fe._$={first_line:H[H.length-(be||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(be||1)].first_column,last_column:H[H.length-1].last_column},pe&&(fe._$.range=[H[H.length-(be||1)].range[0],H[H.length-1].range[1]]),oe=this.performAction.apply(fe,[O,z,P,Y.yy,se[1],B,H].concat(X)),typeof oe<"u")return oe;be&&(F=F.slice(0,-1*be*2),B=B.slice(0,-1*be),H=H.slice(0,-1*be)),F.push(this.productions_[se[1]][0]),B.push(fe.$),H.push(fe._$),ce=R[F[F.length-2]][F[F.length-1]],F.push(ce);break;case 3:return!0}}return!0},"parse")},C=function(){var _={EOF:1,parseError:k(function(D,F){if(this.yy.parser)this.yy.parser.parseError(D,F);else throw new Error(D)},"parseError"),setInput:k(function(I,D){return this.yy=D||this.yy||{},this._input=I,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var I=this._input[0];this.yytext+=I,this.yyleng++,this.offset++,this.match+=I,this.matched+=I;var D=I.match(/(?:\r\n?|\n).*/g);return D?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),I},"input"),unput:k(function(I){var D=I.length,F=I.split(/(?:\r\n?|\n)/g);this._input=I+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-D),this.offset-=D;var M=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),F.length-1&&(this.yylineno-=F.length-1);var B=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:F?(F.length===M.length?this.yylloc.first_column:0)+M[M.length-F.length].length-F[0].length:this.yylloc.first_column-D},this.options.ranges&&(this.yylloc.range=[B[0],B[0]+this.yyleng-D]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(I){this.unput(this.match.slice(I))},"less"),pastInput:k(function(){var I=this.matched.substr(0,this.matched.length-this.match.length);return(I.length>20?"...":"")+I.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var I=this.match;return I.length<20&&(I+=this._input.substr(0,20-I.length)),(I.substr(0,20)+(I.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var I=this.pastInput(),D=new Array(I.length+1).join("-");return I+this.upcomingInput()+`
`+D+"^"},"showPosition"),test_match:k(function(I,D){var F,M,B;if(this.options.backtrack_lexer&&(B={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(B.yylloc.range=this.yylloc.range.slice(0))),M=I[0].match(/(?:\r\n?|\n).*/g),M&&(this.yylineno+=M.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:M?M[M.length-1].length-M[M.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+I[0].length},this.yytext+=I[0],this.match+=I[0],this.matches=I,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(I[0].length),this.matched+=I[0],F=this.performAction.call(this,this.yy,this,D,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),F)return F;if(this._backtrack){for(var H in B)this[H]=B[H];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var I,D,F,M;this._more||(this.yytext="",this.match="");for(var B=this._currentRules(),H=0;H<B.length;H++)if(F=this._input.match(this.rules[B[H]]),F&&(!D||F[0].length>D[0].length)){if(D=F,M=H,this.options.backtrack_lexer){if(I=this.test_match(F,B[H]),I!==!1)return I;if(this._backtrack){D=!1;continue}else return!1}else if(!this.options.flex)break}return D?(I=this.test_match(D,B[M]),I!==!1?I:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var D=this.next();return D||this.lex()},"lex"),begin:k(function(D){this.conditionStack.push(D)},"begin"),popState:k(function(){var D=this.conditionStack.length-1;return D>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(D){return D=this.conditionStack.length-1-Math.abs(D||0),D>=0?this.conditionStack[D]:"INITIAL"},"topState"),pushState:k(function(D){this.begin(D)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:k(function(D,F,M,B){switch(M){case 0:return this.pushState("shapeData"),F.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:const H=/\n\s*/g;return F.yytext=F.yytext.replace(H,"<br/>"),24;case 4:return 24;case 5:this.popState();break;case 6:return D.getLogger().trace("Found comment",F.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 10:this.popState();break;case 11:D.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return D.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:D.getLogger().trace("end icon"),this.popState();break;case 16:return D.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return D.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return D.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return D.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:return this.begin("NODE"),20;case 21:return this.begin("NODE"),20;case 22:return this.begin("NODE"),20;case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:D.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return D.getLogger().trace("description:",F.yytext),"NODE_DESCR";case 32:this.popState();break;case 33:return this.popState(),D.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),D.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),D.getLogger().trace("node end ...",F.yytext),"NODE_DEND";case 36:return this.popState(),D.getLogger().trace("node end (("),"NODE_DEND";case 37:return this.popState(),D.getLogger().trace("node end (-"),"NODE_DEND";case 38:return this.popState(),D.getLogger().trace("node end (-"),"NODE_DEND";case 39:return this.popState(),D.getLogger().trace("node end (("),"NODE_DEND";case 40:return this.popState(),D.getLogger().trace("node end (("),"NODE_DEND";case 41:return D.getLogger().trace("Long description:",F.yytext),21;case 42:return D.getLogger().trace("Long description:",F.yytext),21}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return _}();E.lexer=C;function L(){this.yy={}}return k(L,"Parser"),L.prototype=E,E.Parser=L,new L}();G9.parser=G9;var Nat=G9,ll=[],lO=[],W9=0,uO={},Iat=k(()=>{ll=[],lO=[],W9=0,uO={}},"clear"),Oat=k(t=>{if(ll.length===0)return null;const e=ll[0].level;let r=null;for(let n=ll.length-1;n>=0;n--)if(ll[n].level===e&&!r&&(r=ll[n]),ll[n].level<e)throw new Error('Items without section detected, found section ("'+ll[n].label+'")');return t===(r==null?void 0:r.level)?null:r},"getSection"),Xhe=k(function(){return lO},"getSections"),Pat=k(function(){const t=[],e=[],r=Xhe(),n=Ue();for(const i of r){const a={id:i.id,label:Dn(i.label??"",n),isGroup:!0,ticket:i.ticket,shape:"kanbanSection",level:i.level,look:n.look};e.push(a);const s=ll.filter(o=>o.parentId===i.id);for(const o of s){const l={id:o.id,parentId:i.id,label:Dn(o.label??"",n),isGroup:!1,ticket:o==null?void 0:o.ticket,priority:o==null?void 0:o.priority,assigned:o==null?void 0:o.assigned,icon:o==null?void 0:o.icon,shape:"kanbanItem",level:o.level,rx:5,ry:5,cssStyles:["text-align: left"]};e.push(l)}}return{nodes:e,edges:t,other:{},config:Ue()}},"getData"),Fat=k((t,e,r,n,i)=>{var u,h;const a=Ue();let s=((u=a.mindmap)==null?void 0:u.padding)??Zr.mindmap.padding;switch(n){case ra.ROUNDED_RECT:case ra.RECT:case ra.HEXAGON:s*=2}const o={id:Dn(e,a)||"kbn"+W9++,level:t,label:Dn(r,a),width:((h=a.mindmap)==null?void 0:h.maxNodeWidth)??Zr.mindmap.maxNodeWidth,padding:s,isGroup:!1};if(i!==void 0){let f;i.includes(`
`)?f=i+`
`:f=`{
`+i+`
}`;const d=SR(f,{schema:wR});if(d.shape&&(d.shape!==d.shape.toLowerCase()||d.shape.includes("_")))throw new Error(`No such shape: ${d.shape}. Shape names should be lowercase.`);d!=null&&d.shape&&d.shape==="kanbanItem"&&(o.shape=d==null?void 0:d.shape),d!=null&&d.label&&(o.label=d==null?void 0:d.label),d!=null&&d.icon&&(o.icon=d==null?void 0:d.icon),d!=null&&d.assigned&&(o.assigned=d==null?void 0:d.assigned),d!=null&&d.ticket&&(o.ticket=d==null?void 0:d.ticket),d!=null&&d.priority&&(o.priority=d==null?void 0:d.priority)}const l=Oat(t);l?o.parentId=l.id||"kbn"+W9++:lO.push(o),ll.push(o)},"addNode"),ra={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},Bat=k((t,e)=>{switch(Ee.debug("In get type",t,e),t){case"[":return ra.RECT;case"(":return e===")"?ra.ROUNDED_RECT:ra.CLOUD;case"((":return ra.CIRCLE;case")":return ra.CLOUD;case"))":return ra.BANG;case"{{":return ra.HEXAGON;default:return ra.DEFAULT}},"getType"),$at=k((t,e)=>{uO[t]=e},"setElementForId"),zat=k(t=>{if(!t)return;const e=Ue(),r=ll[ll.length-1];t.icon&&(r.icon=Dn(t.icon,e)),t.class&&(r.cssClasses=Dn(t.class,e))},"decorateNode"),Hat=k(t=>{switch(t){case ra.DEFAULT:return"no-border";case ra.RECT:return"rect";case ra.ROUNDED_RECT:return"rounded-rect";case ra.CIRCLE:return"circle";case ra.CLOUD:return"cloud";case ra.BANG:return"bang";case ra.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),Vat=k(()=>Ee,"getLogger"),Uat=k(t=>uO[t],"getElementById"),Gat={clear:Iat,addNode:Fat,getSections:Xhe,getData:Pat,nodeType:ra,getType:Bat,setElementForId:$at,decorateNode:zat,type2Str:Hat,getLogger:Vat,getElementById:Uat},Wat=Gat,qat=k(async(t,e,r,n)=>{var x,y,w,S,E;Ee.debug(`Rendering kanban diagram
`+t);const a=n.db.getData(),s=Ue();s.htmlLabels=!1;const o=fd(e),l=o.append("g");l.attr("class","sections");const u=o.append("g");u.attr("class","items");const h=a.nodes.filter(C=>C.isGroup);let f=0;const d=10,p=[];let m=25;for(const C of h){const L=((x=s==null?void 0:s.kanban)==null?void 0:x.sectionWidth)||200;f=f+1,C.x=L*f+(f-1)*d/2,C.width=L,C.y=0,C.height=L*3,C.rx=5,C.ry=5,C.cssClasses=C.cssClasses+" section-"+f;const _=await sM(l,C);m=Math.max(m,(y=_==null?void 0:_.labelBBox)==null?void 0:y.height),p.push(_)}let v=0;for(const C of h){const L=p[v];v=v+1;const _=((w=s==null?void 0:s.kanban)==null?void 0:w.sectionWidth)||200,I=-_*3/2+m;let D=I;const F=a.nodes.filter(H=>H.parentId===C.id);for(const H of F){if(H.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");H.x=C.x,H.width=_-1.5*d;const O=(await EE(u,H,{config:s})).node().getBBox();H.y=D+O.height/2,await F_(H),D=H.y+O.height/2+d/2}const M=L.cluster.select("rect"),B=Math.max(D-I+3*d,50)+(m-25);M.attr("height",B)}Km(void 0,o,((S=s.mindmap)==null?void 0:S.padding)??Zr.kanban.padding,((E=s.mindmap)==null?void 0:E.useMaxWidth)??Zr.kanban.useMaxWidth)},"draw"),Yat={draw:qat},Xat=k(t=>{let e="";for(let n=0;n<t.THEME_COLOR_LIMIT;n++)t["lineColor"+n]=t["lineColor"+n]||t["cScaleInv"+n],ud(t["lineColor"+n])?t["lineColor"+n]=ar(t["lineColor"+n],20):t["lineColor"+n]=dr(t["lineColor"+n],20);const r=k((n,i)=>t.darkMode?dr(n,i):ar(n,i),"adjuster");for(let n=0;n<t.THEME_COLOR_LIMIT;n++){const i=""+(17-3*n);e+=`
    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {
      fill: ${r(t["cScale"+n],10)};
      stroke: ${r(t["cScale"+n],10)};

    }
    .section-${n-1} text {
     fill: ${t["cScaleLabel"+n]};
    }
    .node-icon-${n-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+n]};
    }
    .section-edge-${n-1}{
      stroke: ${t["cScale"+n]};
    }
    .edge-depth-${n-1}{
      stroke-width: ${i};
    }
    .section-${n-1} line {
      stroke: ${t["cScaleInv"+n]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.background};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${t.background};
    stroke: ${t.nodeBorder};
    text-decoration: underline;
  }
    `}return e},"genSections"),jat=k(t=>`
  .edge {
    stroke-width: 3;
  }
  ${Xat(t)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${t.textColor};
    fill: ${t.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),Kat=jat,Qat={db:Wat,renderer:Yat,parser:Nat,styles:Kat};const Zat=Object.freeze(Object.defineProperty({__proto__:null,diagram:Qat},Symbol.toStringTag,{value:"Module"}));function aq(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function jhe(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function V8(t,e){let r=0;if(e===void 0)for(let n of t)(n=+n)&&(r+=n);else{let n=-1;for(let i of t)(i=+e(i,++n,t))&&(r+=i)}return r}function Jat(t){return t.target.depth}function est(t){return t.depth}function tst(t,e){return e-1-t.height}function Khe(t,e){return t.sourceLinks.length?t.depth:e-1}function rst(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?jhe(t.sourceLinks,Jat)-1:0}function Gw(t){return function(){return t}}function sq(t,e){return Ak(t.source,e.source)||t.index-e.index}function oq(t,e){return Ak(t.target,e.target)||t.index-e.index}function Ak(t,e){return t.y0-e.y0}function U8(t){return t.value}function nst(t){return t.index}function ist(t){return t.nodes}function ast(t){return t.links}function lq(t,e){const r=t.get(e);if(!r)throw new Error("missing: "+e);return r}function uq({nodes:t}){for(const e of t){let r=e.y0,n=r;for(const i of e.sourceLinks)i.y0=r+i.width/2,r+=i.width;for(const i of e.targetLinks)i.y1=n+i.width/2,n+=i.width}}function sst(){let t=0,e=0,r=1,n=1,i=24,a=8,s,o=nst,l=Khe,u,h,f=ist,d=ast,p=6;function m(){const O={nodes:f.apply(null,arguments),links:d.apply(null,arguments)};return v(O),x(O),y(O),w(O),C(O),uq(O),O}m.update=function(O){return uq(O),O},m.nodeId=function(O){return arguments.length?(o=typeof O=="function"?O:Gw(O),m):o},m.nodeAlign=function(O){return arguments.length?(l=typeof O=="function"?O:Gw(O),m):l},m.nodeSort=function(O){return arguments.length?(u=O,m):u},m.nodeWidth=function(O){return arguments.length?(i=+O,m):i},m.nodePadding=function(O){return arguments.length?(a=s=+O,m):a},m.nodes=function(O){return arguments.length?(f=typeof O=="function"?O:Gw(O),m):f},m.links=function(O){return arguments.length?(d=typeof O=="function"?O:Gw(O),m):d},m.linkSort=function(O){return arguments.length?(h=O,m):h},m.size=function(O){return arguments.length?(t=e=0,r=+O[0],n=+O[1],m):[r-t,n-e]},m.extent=function(O){return arguments.length?(t=+O[0][0],r=+O[1][0],e=+O[0][1],n=+O[1][1],m):[[t,e],[r,n]]},m.iterations=function(O){return arguments.length?(p=+O,m):p};function v({nodes:O,links:P}){for(const[$,V]of O.entries())V.index=$,V.sourceLinks=[],V.targetLinks=[];const z=new Map(O.map(($,V)=>[o($,V,O),$]));for(const[$,V]of P.entries()){V.index=$;let{source:X,target:q}=V;typeof X!="object"&&(X=V.source=lq(z,X)),typeof q!="object"&&(q=V.target=lq(z,q)),X.sourceLinks.push(V),q.targetLinks.push(V)}if(h!=null)for(const{sourceLinks:$,targetLinks:V}of O)$.sort(h),V.sort(h)}function x({nodes:O}){for(const P of O)P.value=P.fixedValue===void 0?Math.max(V8(P.sourceLinks,U8),V8(P.targetLinks,U8)):P.fixedValue}function y({nodes:O}){const P=O.length;let z=new Set(O),$=new Set,V=0;for(;z.size;){for(const X of z){X.depth=V;for(const{target:q}of X.sourceLinks)$.add(q)}if(++V>P)throw new Error("circular link");z=$,$=new Set}}function w({nodes:O}){const P=O.length;let z=new Set(O),$=new Set,V=0;for(;z.size;){for(const X of z){X.height=V;for(const{source:q}of X.targetLinks)$.add(q)}if(++V>P)throw new Error("circular link");z=$,$=new Set}}function S({nodes:O}){const P=aq(O,V=>V.depth)+1,z=(r-t-i)/(P-1),$=new Array(P);for(const V of O){const X=Math.max(0,Math.min(P-1,Math.floor(l.call(null,V,P))));V.layer=X,V.x0=t+X*z,V.x1=V.x0+i,$[X]?$[X].push(V):$[X]=[V]}if(u)for(const V of $)V.sort(u);return $}function E(O){const P=jhe(O,z=>(n-e-(z.length-1)*s)/V8(z,U8));for(const z of O){let $=e;for(const V of z){V.y0=$,V.y1=$+V.value*P,$=V.y1+s;for(const X of V.sourceLinks)X.width=X.value*P}$=(n-$+s)/(z.length+1);for(let V=0;V<z.length;++V){const X=z[V];X.y0+=$*(V+1),X.y1+=$*(V+1)}B(z)}}function C(O){const P=S(O);s=Math.min(a,(n-e)/(aq(P,z=>z.length)-1)),E(P);for(let z=0;z<p;++z){const $=Math.pow(.99,z),V=Math.max(1-$,(z+1)/p);_(P,$,V),L(P,$,V)}}function L(O,P,z){for(let $=1,V=O.length;$<V;++$){const X=O[$];for(const q of X){let Y=0,U=0;for(const{source:pe,value:ne}of q.targetLinks){let ge=ne*(q.layer-pe.layer);Y+=H(pe,q)*ge,U+=ge}if(!(U>0))continue;let Z=(Y/U-q.y0)*P;q.y0+=Z,q.y1+=Z,M(q)}u===void 0&&X.sort(Ak),I(X,z)}}function _(O,P,z){for(let $=O.length,V=$-2;V>=0;--V){const X=O[V];for(const q of X){let Y=0,U=0;for(const{target:pe,value:ne}of q.sourceLinks){let ge=ne*(pe.layer-q.layer);Y+=R(q,pe)*ge,U+=ge}if(!(U>0))continue;let Z=(Y/U-q.y0)*P;q.y0+=Z,q.y1+=Z,M(q)}u===void 0&&X.sort(Ak),I(X,z)}}function I(O,P){const z=O.length>>1,$=O[z];F(O,$.y0-s,z-1,P),D(O,$.y1+s,z+1,P),F(O,n,O.length-1,P),D(O,e,0,P)}function D(O,P,z,$){for(;z<O.length;++z){const V=O[z],X=(P-V.y0)*$;X>1e-6&&(V.y0+=X,V.y1+=X),P=V.y1+s}}function F(O,P,z,$){for(;z>=0;--z){const V=O[z],X=(V.y1-P)*$;X>1e-6&&(V.y0-=X,V.y1-=X),P=V.y0-s}}function M({sourceLinks:O,targetLinks:P}){if(h===void 0){for(const{source:{sourceLinks:z}}of P)z.sort(oq);for(const{target:{targetLinks:z}}of O)z.sort(sq)}}function B(O){if(h===void 0)for(const{sourceLinks:P,targetLinks:z}of O)P.sort(oq),z.sort(sq)}function H(O,P){let z=O.y0-(O.sourceLinks.length-1)*s/2;for(const{target:$,width:V}of O.sourceLinks){if($===P)break;z+=V+s}for(const{source:$,width:V}of P.targetLinks){if($===O)break;z-=V}return z}function R(O,P){let z=P.y0-(P.targetLinks.length-1)*s/2;for(const{source:$,width:V}of P.targetLinks){if($===O)break;z+=V+s}for(const{target:$,width:V}of O.sourceLinks){if($===P)break;z-=V}return z}return m}var q9=Math.PI,Y9=2*q9,Qd=1e-6,ost=Y9-Qd;function X9(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Qhe(){return new X9}X9.prototype=Qhe.prototype={constructor:X9,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,r,n){this._+="Q"+ +t+","+ +e+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(t,e,r,n,i,a){this._+="C"+ +t+","+ +e+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,r,n,i){t=+t,e=+e,r=+r,n=+n,i=+i;var a=this._x1,s=this._y1,o=r-t,l=n-e,u=a-t,h=s-e,f=u*u+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Qd)if(!(Math.abs(h*o-l*u)>Qd)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var d=r-a,p=n-s,m=o*o+l*l,v=d*d+p*p,x=Math.sqrt(m),y=Math.sqrt(f),w=i*Math.tan((q9-Math.acos((m+f-v)/(2*x*y)))/2),S=w/y,E=w/x;Math.abs(S-1)>Qd&&(this._+="L"+(t+S*u)+","+(e+S*h)),this._+="A"+i+","+i+",0,0,"+ +(h*d>u*p)+","+(this._x1=t+E*o)+","+(this._y1=e+E*l)}},arc:function(t,e,r,n,i,a){t=+t,e=+e,r=+r,a=!!a;var s=r*Math.cos(n),o=r*Math.sin(n),l=t+s,u=e+o,h=1^a,f=a?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>Qd||Math.abs(this._y1-u)>Qd)&&(this._+="L"+l+","+u),r&&(f<0&&(f=f%Y9+Y9),f>ost?this._+="A"+r+","+r+",0,1,"+h+","+(t-s)+","+(e-o)+"A"+r+","+r+",0,1,"+h+","+(this._x1=l)+","+(this._y1=u):f>Qd&&(this._+="A"+r+","+r+",0,"+ +(f>=q9)+","+h+","+(this._x1=t+r*Math.cos(i))+","+(this._y1=e+r*Math.sin(i))))},rect:function(t,e,r,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};function cq(t){return function(){return t}}function lst(t){return t[0]}function ust(t){return t[1]}var cst=Array.prototype.slice;function hst(t){return t.source}function fst(t){return t.target}function dst(t){var e=hst,r=fst,n=lst,i=ust,a=null;function s(){var o,l=cst.call(arguments),u=e.apply(this,l),h=r.apply(this,l);if(a||(a=o=Qhe()),t(a,+n.apply(this,(l[0]=u,l)),+i.apply(this,l),+n.apply(this,(l[0]=h,l)),+i.apply(this,l)),o)return a=null,o+""||null}return s.source=function(o){return arguments.length?(e=o,s):e},s.target=function(o){return arguments.length?(r=o,s):r},s.x=function(o){return arguments.length?(n=typeof o=="function"?o:cq(+o),s):n},s.y=function(o){return arguments.length?(i=typeof o=="function"?o:cq(+o),s):i},s.context=function(o){return arguments.length?(a=o??null,s):a},s}function pst(t,e,r,n,i){t.moveTo(e,r),t.bezierCurveTo(e=(e+n)/2,r,e,i,n,i)}function gst(){return dst(pst)}function mst(t){return[t.source.x1,t.y0]}function vst(t){return[t.target.x0,t.y1]}function yst(){return gst().source(mst).target(vst)}var j9=function(){var t=k(function(o,l,u,h){for(u=u||{},h=o.length;h--;u[o[h]]=l);return u},"o"),e=[1,9],r=[1,10],n=[1,5,10,12],i={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:k(function(l,u,h,f,d,p,m){var v=p.length-1;switch(d){case 7:const x=f.findOrCreateNode(p[v-4].trim().replaceAll('""','"')),y=f.findOrCreateNode(p[v-2].trim().replaceAll('""','"')),w=parseFloat(p[v].trim());f.addLink(x,y,w);break;case 8:case 9:case 11:this.$=p[v];break;case 10:this.$=p[v-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:e,20:r},{1:[2,6],7:11,10:[1,12]},t(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},t(n,[2,8]),t(n,[2,9]),{19:[1,16]},t(n,[2,11]),{1:[2,1]},{1:[2,5]},t(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:e,20:r},{15:18,16:7,17:8,18:e,20:r},{18:[1,19]},t(r,[2,3]),{12:[1,20]},t(n,[2,10]),{15:21,16:7,17:8,18:e,20:r},t([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:k(function(l,u){if(u.recoverable)this.trace(l);else{var h=new Error(l);throw h.hash=u,h}},"parseError"),parse:k(function(l){var u=this,h=[0],f=[],d=[null],p=[],m=this.table,v="",x=0,y=0,w=2,S=1,E=p.slice.call(arguments,1),C=Object.create(this.lexer),L={yy:{}};for(var _ in this.yy)Object.prototype.hasOwnProperty.call(this.yy,_)&&(L.yy[_]=this.yy[_]);C.setInput(l,L.yy),L.yy.lexer=C,L.yy.parser=this,typeof C.yylloc>"u"&&(C.yylloc={});var I=C.yylloc;p.push(I);var D=C.options&&C.options.ranges;typeof L.yy.parseError=="function"?this.parseError=L.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function F(Y){h.length=h.length-2*Y,d.length=d.length-Y,p.length=p.length-Y}k(F,"popStack");function M(){var Y;return Y=f.pop()||C.lex()||S,typeof Y!="number"&&(Y instanceof Array&&(f=Y,Y=f.pop()),Y=u.symbols_[Y]||Y),Y}k(M,"lex");for(var B,H,R,O,P={},z,$,V,X;;){if(H=h[h.length-1],this.defaultActions[H]?R=this.defaultActions[H]:((B===null||typeof B>"u")&&(B=M()),R=m[H]&&m[H][B]),typeof R>"u"||!R.length||!R[0]){var q="";X=[];for(z in m[H])this.terminals_[z]&&z>w&&X.push("'"+this.terminals_[z]+"'");C.showPosition?q="Parse error on line "+(x+1)+`:
`+C.showPosition()+`
Expecting `+X.join(", ")+", got '"+(this.terminals_[B]||B)+"'":q="Parse error on line "+(x+1)+": Unexpected "+(B==S?"end of input":"'"+(this.terminals_[B]||B)+"'"),this.parseError(q,{text:C.match,token:this.terminals_[B]||B,line:C.yylineno,loc:I,expected:X})}if(R[0]instanceof Array&&R.length>1)throw new Error("Parse Error: multiple actions possible at state: "+H+", token: "+B);switch(R[0]){case 1:h.push(B),d.push(C.yytext),p.push(C.yylloc),h.push(R[1]),B=null,y=C.yyleng,v=C.yytext,x=C.yylineno,I=C.yylloc;break;case 2:if($=this.productions_[R[1]][1],P.$=d[d.length-$],P._$={first_line:p[p.length-($||1)].first_line,last_line:p[p.length-1].last_line,first_column:p[p.length-($||1)].first_column,last_column:p[p.length-1].last_column},D&&(P._$.range=[p[p.length-($||1)].range[0],p[p.length-1].range[1]]),O=this.performAction.apply(P,[v,y,x,L.yy,R[1],d,p].concat(E)),typeof O<"u")return O;$&&(h=h.slice(0,-1*$*2),d=d.slice(0,-1*$),p=p.slice(0,-1*$)),h.push(this.productions_[R[1]][0]),d.push(P.$),p.push(P._$),V=m[h[h.length-2]][h[h.length-1]],h.push(V);break;case 3:return!0}}return!0},"parse")},a=function(){var o={EOF:1,parseError:k(function(u,h){if(this.yy.parser)this.yy.parser.parseError(u,h);else throw new Error(u)},"parseError"),setInput:k(function(l,u){return this.yy=u||this.yy||{},this._input=l,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var u=l.match(/(?:\r\n?|\n).*/g);return u?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),l},"input"),unput:k(function(l){var u=l.length,h=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-u),this.offset-=u;var f=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),h.length-1&&(this.yylineno-=h.length-1);var d=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:h?(h.length===f.length?this.yylloc.first_column:0)+f[f.length-h.length].length-h[0].length:this.yylloc.first_column-u},this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-u]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(l){this.unput(this.match.slice(l))},"less"),pastInput:k(function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var l=this.match;return l.length<20&&(l+=this._input.substr(0,20-l.length)),(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var l=this.pastInput(),u=new Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+u+"^"},"showPosition"),test_match:k(function(l,u){var h,f,d;if(this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0))),f=l[0].match(/(?:\r\n?|\n).*/g),f&&(this.yylineno+=f.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:f?f[f.length-1].length-f[f.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+l[0].length},this.yytext+=l[0],this.match+=l[0],this.matches=l,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(l[0].length),this.matched+=l[0],h=this.performAction.call(this,this.yy,this,u,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),h)return h;if(this._backtrack){for(var p in d)this[p]=d[p];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var l,u,h,f;this._more||(this.yytext="",this.match="");for(var d=this._currentRules(),p=0;p<d.length;p++)if(h=this._input.match(this.rules[d[p]]),h&&(!u||h[0].length>u[0].length)){if(u=h,f=p,this.options.backtrack_lexer){if(l=this.test_match(h,d[p]),l!==!1)return l;if(this._backtrack){u=!1;continue}else return!1}else if(!this.options.flex)break}return u?(l=this.test_match(u,d[f]),l!==!1?l:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var u=this.next();return u||this.lex()},"lex"),begin:k(function(u){this.conditionStack.push(u)},"begin"),popState:k(function(){var u=this.conditionStack.length-1;return u>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(u){return u=this.conditionStack.length-1-Math.abs(u||0),u>=0?this.conditionStack[u]:"INITIAL"},"topState"),pushState:k(function(u){this.begin(u)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:k(function(u,h,f,d){switch(f){case 0:return this.pushState("csv"),4;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;case 5:return 20;case 6:return this.popState("escaped_text"),18;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};return o}();i.lexer=a;function s(){this.yy={}}return k(s,"Parser"),s.prototype=i,i.Parser=s,new s}();j9.parser=j9;var _k=j9,cC=[],hC=[],Lk=new Map,xst=k(()=>{cC=[],hC=[],Lk=new Map,Ea()},"clear"),K1,bst=(K1=class{constructor(e,r,n=0){this.source=e,this.target=r,this.value=n}},k(K1,"SankeyLink"),K1),wst=k((t,e,r)=>{cC.push(new bst(t,e,r))},"addLink"),Q1,Sst=(Q1=class{constructor(e){this.ID=e}},k(Q1,"SankeyNode"),Q1),kst=k(t=>{t=At.sanitizeText(t,Ue());let e=Lk.get(t);return e===void 0&&(e=new Sst(t),Lk.set(t,e),hC.push(e)),e},"findOrCreateNode"),Est=k(()=>hC,"getNodes"),Tst=k(()=>cC,"getLinks"),Cst=k(()=>({nodes:hC.map(t=>({id:t.ID})),links:cC.map(t=>({source:t.source.ID,target:t.target.ID,value:t.value}))}),"getGraph"),Ast={nodesMap:Lk,getConfig:k(()=>Ue().sankey,"getConfig"),getNodes:Est,getLinks:Tst,getGraph:Cst,addLink:wst,findOrCreateNode:kst,getAccTitle:Wa,setAccTitle:Ta,getAccDescription:Ya,setAccDescription:qa,getDiagramTitle:Xa,setDiagramTitle:js,clear:xst},Qc,hq=(Qc=class{static next(e){return new Qc(e+ ++Qc.count)}constructor(e){this.id=e,this.href=`#${e}`}toString(){return"url("+this.href+")"}},k(Qc,"Uid"),Qc.count=0,Qc),_st={left:est,right:tst,center:rst,justify:Khe},Lst=k(function(t,e,r,n){const{securityLevel:i,sankey:a}=Ue(),s=jj.sankey;let o;i==="sandbox"&&(o=bt("#i"+e));const l=bt(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?l.select(`[id="${e}"]`):bt(`[id="${e}"]`),h=(a==null?void 0:a.width)??s.width,f=(a==null?void 0:a.height)??s.width,d=(a==null?void 0:a.useMaxWidth)??s.useMaxWidth,p=(a==null?void 0:a.nodeAlignment)??s.nodeAlignment,m=(a==null?void 0:a.prefix)??s.prefix,v=(a==null?void 0:a.suffix)??s.suffix,x=(a==null?void 0:a.showValues)??s.showValues,y=n.db.getGraph(),w=_st[p];sst().nodeId(F=>F.id).nodeWidth(10).nodePadding(10+(x?15:0)).nodeAlign(w).extent([[0,0],[h,f]])(y);const C=hE(j3e);u.append("g").attr("class","nodes").selectAll(".node").data(y.nodes).join("g").attr("class","node").attr("id",F=>(F.uid=hq.next("node-")).id).attr("transform",function(F){return"translate("+F.x0+","+F.y0+")"}).attr("x",F=>F.x0).attr("y",F=>F.y0).append("rect").attr("height",F=>F.y1-F.y0).attr("width",F=>F.x1-F.x0).attr("fill",F=>C(F.id));const L=k(({id:F,value:M})=>x?`${F}
${m}${Math.round(M*100)/100}${v}`:F,"getText");u.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(y.nodes).join("text").attr("x",F=>F.x0<h/2?F.x1+6:F.x0-6).attr("y",F=>(F.y1+F.y0)/2).attr("dy",`${x?"0":"0.35"}em`).attr("text-anchor",F=>F.x0<h/2?"start":"end").text(L);const _=u.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(y.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),I=(a==null?void 0:a.linkColor)??"gradient";if(I==="gradient"){const F=_.append("linearGradient").attr("id",M=>(M.uid=hq.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",M=>M.source.x1).attr("x2",M=>M.target.x0);F.append("stop").attr("offset","0%").attr("stop-color",M=>C(M.source.id)),F.append("stop").attr("offset","100%").attr("stop-color",M=>C(M.target.id))}let D;switch(I){case"gradient":D=k(F=>F.uid,"coloring");break;case"source":D=k(F=>C(F.source.id),"coloring");break;case"target":D=k(F=>C(F.target.id),"coloring");break;default:D=I}_.append("path").attr("d",yst()).attr("stroke",D).attr("stroke-width",F=>Math.max(1,F.width)),Km(void 0,u,0,d)},"draw"),Dst={draw:Lst},Rst=k(t=>t.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing"),Mst=_k.parse.bind(_k);_k.parse=t=>Mst(Rst(t));var Nst={parser:_k,db:Ast,renderer:Dst};const Ist=Object.freeze(Object.defineProperty({__proto__:null,diagram:Nst},Symbol.toStringTag,{value:"Module"}));var Zhe={packet:[]},cO=structuredClone(Zhe),Ost=Zr.packet,Pst=k(()=>{const t=Dh({...Ost,...ai().packet});return t.showBits&&(t.paddingY+=10),t},"getConfig"),Fst=k(()=>cO.packet,"getPacket"),Bst=k(t=>{t.length>0&&cO.packet.push(t)},"pushWord"),$st=k(()=>{Ea(),cO=structuredClone(Zhe)},"clear"),bg={pushWord:Bst,getPacket:Fst,getConfig:Pst,clear:$st,setAccTitle:Ta,getAccTitle:Wa,setDiagramTitle:js,getDiagramTitle:Xa,getAccDescription:Ya,setAccDescription:qa},zst=1e4,Hst=k(t=>{Ib(t,bg);let e=-1,r=[],n=1;const{bitsPerRow:i}=bg.getConfig();for(let{start:a,end:s,label:o}of t.blocks){if(s&&s<a)throw new Error(`Packet block ${a} - ${s} is invalid. End must be greater than start.`);if(a!==e+1)throw new Error(`Packet block ${a} - ${s??a} is not contiguous. It should start from ${e+1}.`);for(e=s??a,Ee.debug(`Packet block ${a} - ${e} with label ${o}`);r.length<=i+1&&bg.getPacket().length<zst;){const[l,u]=Vst({start:a,end:s,label:o},n,i);if(r.push(l),l.end+1===n*i&&(bg.pushWord(r),r=[],n++),!u)break;({start:a,end:s,label:o}=u)}}bg.pushWord(r)},"populate"),Vst=k((t,e,r)=>{if(t.end===void 0&&(t.end=t.start),t.start>t.end)throw new Error(`Block start ${t.start} is greater than block end ${t.end}.`);return t.end+1<=e*r?[t,void 0]:[{start:t.start,end:e*r-1,label:t.label},{start:e*r,end:t.end,label:t.label}]},"getNextFittingBlock"),Ust={parse:k(async t=>{const e=await gv("packet",t);Ee.debug(e),Hst(e)},"parse")},Gst=k((t,e,r,n)=>{const i=n.db,a=i.getConfig(),{rowHeight:s,paddingY:o,bitWidth:l,bitsPerRow:u}=a,h=i.getPacket(),f=i.getDiagramTitle(),d=s+o,p=d*(h.length+1)-(f?0:s),m=l*u+2,v=fd(e);v.attr("viewbox",`0 0 ${m} ${p}`),xs(v,p,m,a.useMaxWidth);for(const[x,y]of h.entries())Wst(v,y,x,a);v.append("text").text(f).attr("x",m/2).attr("y",p-d/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),Wst=k((t,e,r,{rowHeight:n,paddingX:i,paddingY:a,bitWidth:s,bitsPerRow:o,showBits:l})=>{const u=t.append("g"),h=r*(n+a)+a;for(const f of e){const d=f.start%o*s+1,p=(f.end-f.start+1)*s-i;if(u.append("rect").attr("x",d).attr("y",h).attr("width",p).attr("height",n).attr("class","packetBlock"),u.append("text").attr("x",d+p/2).attr("y",h+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(f.label),!l)continue;const m=f.end===f.start,v=h-2;u.append("text").attr("x",d+(m?p/2:0)).attr("y",v).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",m?"middle":"start").text(f.start),m||u.append("text").attr("x",d+p).attr("y",v).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(f.end)}},"drawWord"),qst={draw:Gst},Yst={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},Xst=k(({packet:t}={})=>{const e=Dh(Yst,t);return`
	.packetByte {
		font-size: ${e.byteFontSize};
	}
	.packetByte.start {
		fill: ${e.startByteColor};
	}
	.packetByte.end {
		fill: ${e.endByteColor};
	}
	.packetLabel {
		fill: ${e.labelColor};
		font-size: ${e.labelFontSize};
	}
	.packetTitle {
		fill: ${e.titleColor};
		font-size: ${e.titleFontSize};
	}
	.packetBlock {
		stroke: ${e.blockStrokeColor};
		stroke-width: ${e.blockStrokeWidth};
		fill: ${e.blockFillColor};
	}
	`},"styles"),jst={parser:Ust,db:bg,renderer:qst,styles:Xst};const Kst=Object.freeze(Object.defineProperty({__proto__:null,diagram:jst},Symbol.toStringTag,{value:"Module"}));var K9=function(){var t=k(function(S,E,C,L){for(C=C||{},L=S.length;L--;C[S[L]]=E);return C},"o"),e=[1,7],r=[1,13],n=[1,14],i=[1,15],a=[1,19],s=[1,16],o=[1,17],l=[1,18],u=[8,30],h=[8,21,28,29,30,31,32,40,44,47],f=[1,23],d=[1,24],p=[8,15,16,21,28,29,30,31,32,40,44,47],m=[8,15,16,21,27,28,29,30,31,32,40,44,47],v=[1,49],x={trace:k(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:k(function(E,C,L,_,I,D,F){var M=D.length-1;switch(I){case 4:_.getLogger().debug("Rule: separator (NL) ");break;case 5:_.getLogger().debug("Rule: separator (Space) ");break;case 6:_.getLogger().debug("Rule: separator (EOF) ");break;case 7:_.getLogger().debug("Rule: hierarchy: ",D[M-1]),_.setHierarchy(D[M-1]);break;case 8:_.getLogger().debug("Stop NL ");break;case 9:_.getLogger().debug("Stop EOF ");break;case 10:_.getLogger().debug("Stop NL2 ");break;case 11:_.getLogger().debug("Stop EOF2 ");break;case 12:_.getLogger().debug("Rule: statement: ",D[M]),typeof D[M].length=="number"?this.$=D[M]:this.$=[D[M]];break;case 13:_.getLogger().debug("Rule: statement #2: ",D[M-1]),this.$=[D[M-1]].concat(D[M]);break;case 14:_.getLogger().debug("Rule: link: ",D[M],E),this.$={edgeTypeStr:D[M],label:""};break;case 15:_.getLogger().debug("Rule: LABEL link: ",D[M-3],D[M-1],D[M]),this.$={edgeTypeStr:D[M],label:D[M-1]};break;case 18:const B=parseInt(D[M]),H=_.generateId();this.$={id:H,type:"space",label:"",width:B,children:[]};break;case 23:_.getLogger().debug("Rule: (nodeStatement link node) ",D[M-2],D[M-1],D[M]," typestr: ",D[M-1].edgeTypeStr);const R=_.edgeStrToEdgeData(D[M-1].edgeTypeStr);this.$=[{id:D[M-2].id,label:D[M-2].label,type:D[M-2].type,directions:D[M-2].directions},{id:D[M-2].id+"-"+D[M].id,start:D[M-2].id,end:D[M].id,label:D[M-1].label,type:"edge",directions:D[M].directions,arrowTypeEnd:R,arrowTypeStart:"arrow_open"},{id:D[M].id,label:D[M].label,type:_.typeStr2Type(D[M].typeStr),directions:D[M].directions}];break;case 24:_.getLogger().debug("Rule: nodeStatement (abc88 node size) ",D[M-1],D[M]),this.$={id:D[M-1].id,label:D[M-1].label,type:_.typeStr2Type(D[M-1].typeStr),directions:D[M-1].directions,widthInColumns:parseInt(D[M],10)};break;case 25:_.getLogger().debug("Rule: nodeStatement (node) ",D[M]),this.$={id:D[M].id,label:D[M].label,type:_.typeStr2Type(D[M].typeStr),directions:D[M].directions,widthInColumns:1};break;case 26:_.getLogger().debug("APA123",this?this:"na"),_.getLogger().debug("COLUMNS: ",D[M]),this.$={type:"column-setting",columns:D[M]==="auto"?-1:parseInt(D[M])};break;case 27:_.getLogger().debug("Rule: id-block statement : ",D[M-2],D[M-1]),_.generateId(),this.$={...D[M-2],type:"composite",children:D[M-1]};break;case 28:_.getLogger().debug("Rule: blockStatement : ",D[M-2],D[M-1],D[M]);const O=_.generateId();this.$={id:O,type:"composite",label:"",children:D[M-1]};break;case 29:_.getLogger().debug("Rule: node (NODE_ID separator): ",D[M]),this.$={id:D[M]};break;case 30:_.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",D[M-1],D[M]),this.$={id:D[M-1],label:D[M].label,typeStr:D[M].typeStr,directions:D[M].directions};break;case 31:_.getLogger().debug("Rule: dirList: ",D[M]),this.$=[D[M]];break;case 32:_.getLogger().debug("Rule: dirList: ",D[M-1],D[M]),this.$=[D[M-1]].concat(D[M]);break;case 33:_.getLogger().debug("Rule: nodeShapeNLabel: ",D[M-2],D[M-1],D[M]),this.$={typeStr:D[M-2]+D[M],label:D[M-1]};break;case 34:_.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",D[M-3],D[M-2]," #3:",D[M-1],D[M]),this.$={typeStr:D[M-3]+D[M],label:D[M-2],directions:D[M-1]};break;case 35:case 36:this.$={type:"classDef",id:D[M-1].trim(),css:D[M].trim()};break;case 37:this.$={type:"applyClass",id:D[M-1].trim(),styleClass:D[M].trim()};break;case 38:this.$={type:"applyStyles",id:D[M-1].trim(),stylesStr:D[M].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:l},{8:[1,20]},t(u,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:e,28:r,29:n,31:i,32:a,40:s,44:o,47:l}),t(h,[2,16],{14:22,15:f,16:d}),t(h,[2,17]),t(h,[2,18]),t(h,[2,19]),t(h,[2,20]),t(h,[2,21]),t(h,[2,22]),t(p,[2,25],{27:[1,25]}),t(h,[2,26]),{19:26,26:12,32:a},{11:27,13:4,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:l},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},t(m,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},t(u,[2,13]),{26:35,32:a},{32:[2,14]},{17:[1,36]},t(p,[2,24]),{11:37,13:4,14:22,15:f,16:d,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:l},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},t(m,[2,30]),{18:[1,43]},{18:[1,44]},t(p,[2,23]),{18:[1,45]},{30:[1,46]},t(h,[2,28]),t(h,[2,35]),t(h,[2,36]),t(h,[2,37]),t(h,[2,38]),{37:[1,47]},{34:48,35:v},{15:[1,50]},t(h,[2,27]),t(m,[2,33]),{39:[1,51]},{34:52,35:v,39:[2,31]},{32:[2,15]},t(m,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:k(function(E,C){if(C.recoverable)this.trace(E);else{var L=new Error(E);throw L.hash=C,L}},"parseError"),parse:k(function(E){var C=this,L=[0],_=[],I=[null],D=[],F=this.table,M="",B=0,H=0,R=2,O=1,P=D.slice.call(arguments,1),z=Object.create(this.lexer),$={yy:{}};for(var V in this.yy)Object.prototype.hasOwnProperty.call(this.yy,V)&&($.yy[V]=this.yy[V]);z.setInput(E,$.yy),$.yy.lexer=z,$.yy.parser=this,typeof z.yylloc>"u"&&(z.yylloc={});var X=z.yylloc;D.push(X);var q=z.options&&z.options.ranges;typeof $.yy.parseError=="function"?this.parseError=$.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Y(be){L.length=L.length-2*be,I.length=I.length-be,D.length=D.length-be}k(Y,"popStack");function U(){var be;return be=_.pop()||z.lex()||O,typeof be!="number"&&(be instanceof Array&&(_=be,be=_.pop()),be=C.symbols_[be]||be),be}k(U,"lex");for(var Z,pe,ne,ge,ye={},J,se,oe,fe;;){if(pe=L[L.length-1],this.defaultActions[pe]?ne=this.defaultActions[pe]:((Z===null||typeof Z>"u")&&(Z=U()),ne=F[pe]&&F[pe][Z]),typeof ne>"u"||!ne.length||!ne[0]){var me="";fe=[];for(J in F[pe])this.terminals_[J]&&J>R&&fe.push("'"+this.terminals_[J]+"'");z.showPosition?me="Parse error on line "+(B+1)+`:
`+z.showPosition()+`
Expecting `+fe.join(", ")+", got '"+(this.terminals_[Z]||Z)+"'":me="Parse error on line "+(B+1)+": Unexpected "+(Z==O?"end of input":"'"+(this.terminals_[Z]||Z)+"'"),this.parseError(me,{text:z.match,token:this.terminals_[Z]||Z,line:z.yylineno,loc:X,expected:fe})}if(ne[0]instanceof Array&&ne.length>1)throw new Error("Parse Error: multiple actions possible at state: "+pe+", token: "+Z);switch(ne[0]){case 1:L.push(Z),I.push(z.yytext),D.push(z.yylloc),L.push(ne[1]),Z=null,H=z.yyleng,M=z.yytext,B=z.yylineno,X=z.yylloc;break;case 2:if(se=this.productions_[ne[1]][1],ye.$=I[I.length-se],ye._$={first_line:D[D.length-(se||1)].first_line,last_line:D[D.length-1].last_line,first_column:D[D.length-(se||1)].first_column,last_column:D[D.length-1].last_column},q&&(ye._$.range=[D[D.length-(se||1)].range[0],D[D.length-1].range[1]]),ge=this.performAction.apply(ye,[M,H,B,$.yy,ne[1],I,D].concat(P)),typeof ge<"u")return ge;se&&(L=L.slice(0,-1*se*2),I=I.slice(0,-1*se),D=D.slice(0,-1*se)),L.push(this.productions_[ne[1]][0]),I.push(ye.$),D.push(ye._$),oe=F[L[L.length-2]][L[L.length-1]],L.push(oe);break;case 3:return!0}}return!0},"parse")},y=function(){var S={EOF:1,parseError:k(function(C,L){if(this.yy.parser)this.yy.parser.parseError(C,L);else throw new Error(C)},"parseError"),setInput:k(function(E,C){return this.yy=C||this.yy||{},this._input=E,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:k(function(){var E=this._input[0];this.yytext+=E,this.yyleng++,this.offset++,this.match+=E,this.matched+=E;var C=E.match(/(?:\r\n?|\n).*/g);return C?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),E},"input"),unput:k(function(E){var C=E.length,L=E.split(/(?:\r\n?|\n)/g);this._input=E+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-C),this.offset-=C;var _=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),L.length-1&&(this.yylineno-=L.length-1);var I=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:L?(L.length===_.length?this.yylloc.first_column:0)+_[_.length-L.length].length-L[0].length:this.yylloc.first_column-C},this.options.ranges&&(this.yylloc.range=[I[0],I[0]+this.yyleng-C]),this.yyleng=this.yytext.length,this},"unput"),more:k(function(){return this._more=!0,this},"more"),reject:k(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:k(function(E){this.unput(this.match.slice(E))},"less"),pastInput:k(function(){var E=this.matched.substr(0,this.matched.length-this.match.length);return(E.length>20?"...":"")+E.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:k(function(){var E=this.match;return E.length<20&&(E+=this._input.substr(0,20-E.length)),(E.substr(0,20)+(E.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:k(function(){var E=this.pastInput(),C=new Array(E.length+1).join("-");return E+this.upcomingInput()+`
`+C+"^"},"showPosition"),test_match:k(function(E,C){var L,_,I;if(this.options.backtrack_lexer&&(I={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(I.yylloc.range=this.yylloc.range.slice(0))),_=E[0].match(/(?:\r\n?|\n).*/g),_&&(this.yylineno+=_.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:_?_[_.length-1].length-_[_.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+E[0].length},this.yytext+=E[0],this.match+=E[0],this.matches=E,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(E[0].length),this.matched+=E[0],L=this.performAction.call(this,this.yy,this,C,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),L)return L;if(this._backtrack){for(var D in I)this[D]=I[D];return!1}return!1},"test_match"),next:k(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var E,C,L,_;this._more||(this.yytext="",this.match="");for(var I=this._currentRules(),D=0;D<I.length;D++)if(L=this._input.match(this.rules[I[D]]),L&&(!C||L[0].length>C[0].length)){if(C=L,_=D,this.options.backtrack_lexer){if(E=this.test_match(L,I[D]),E!==!1)return E;if(this._backtrack){C=!1;continue}else return!1}else if(!this.options.flex)break}return C?(E=this.test_match(C,I[_]),E!==!1?E:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:k(function(){var C=this.next();return C||this.lex()},"lex"),begin:k(function(C){this.conditionStack.push(C)},"begin"),popState:k(function(){var C=this.conditionStack.length-1;return C>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:k(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:k(function(C){return C=this.conditionStack.length-1-Math.abs(C||0),C>=0?this.conditionStack[C]:"INITIAL"},"topState"),pushState:k(function(C){this.begin(C)},"pushState"),stateStackSize:k(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:k(function(C,L,_,I){switch(_){case 0:return 10;case 1:return C.getLogger().debug("Found space-block"),31;case 2:return C.getLogger().debug("Found nl-block"),31;case 3:return C.getLogger().debug("Found space-block"),29;case 4:C.getLogger().debug(".",L.yytext);break;case 5:C.getLogger().debug("_",L.yytext);break;case 6:return 5;case 7:return L.yytext=-1,28;case 8:return L.yytext=L.yytext.replace(/columns\s+/,""),C.getLogger().debug("COLUMNS (LEX)",L.yytext),28;case 9:this.pushState("md_string");break;case 10:return"MD_STR";case 11:this.popState();break;case 12:this.pushState("string");break;case 13:C.getLogger().debug("LEX: POPPING STR:",L.yytext),this.popState();break;case 14:return C.getLogger().debug("LEX: STR end:",L.yytext),"STR";case 15:return L.yytext=L.yytext.replace(/space\:/,""),C.getLogger().debug("SPACE NUM (LEX)",L.yytext),21;case 16:return L.yytext="1",C.getLogger().debug("COLUMNS (LEX)",L.yytext),21;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 22:return this.popState(),this.pushState("CLASSDEFID"),41;case 23:return this.popState(),42;case 24:return this.pushState("CLASS"),44;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;case 26:return this.popState(),46;case 27:return this.pushState("STYLE_STMNT"),47;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;case 29:return this.popState(),49;case 30:return this.pushState("acc_title"),"acc_title";case 31:return this.popState(),"acc_title_value";case 32:return this.pushState("acc_descr"),"acc_descr";case 33:return this.popState(),"acc_descr_value";case 34:this.pushState("acc_descr_multiline");break;case 35:this.popState();break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";case 39:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";case 40:return this.popState(),C.getLogger().debug("Lex: ))"),"NODE_DEND";case 41:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";case 42:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";case 43:return this.popState(),C.getLogger().debug("Lex: (-"),"NODE_DEND";case 44:return this.popState(),C.getLogger().debug("Lex: -)"),"NODE_DEND";case 45:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";case 46:return this.popState(),C.getLogger().debug("Lex: ]]"),"NODE_DEND";case 47:return this.popState(),C.getLogger().debug("Lex: ("),"NODE_DEND";case 48:return this.popState(),C.getLogger().debug("Lex: ])"),"NODE_DEND";case 49:return this.popState(),C.getLogger().debug("Lex: /]"),"NODE_DEND";case 50:return this.popState(),C.getLogger().debug("Lex: /]"),"NODE_DEND";case 51:return this.popState(),C.getLogger().debug("Lex: )]"),"NODE_DEND";case 52:return this.popState(),C.getLogger().debug("Lex: )"),"NODE_DEND";case 53:return this.popState(),C.getLogger().debug("Lex: ]>"),"NODE_DEND";case 54:return this.popState(),C.getLogger().debug("Lex: ]"),"NODE_DEND";case 55:return C.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;case 56:return C.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;case 57:return C.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;case 58:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 59:return C.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;case 60:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 61:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 62:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 63:return C.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;case 64:return C.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;case 65:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 66:return this.pushState("NODE"),36;case 67:return this.pushState("NODE"),36;case 68:return this.pushState("NODE"),36;case 69:return this.pushState("NODE"),36;case 70:return this.pushState("NODE"),36;case 71:return this.pushState("NODE"),36;case 72:return this.pushState("NODE"),36;case 73:return C.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;case 74:return this.pushState("BLOCK_ARROW"),C.getLogger().debug("LEX ARR START"),38;case 75:return C.getLogger().debug("Lex: NODE_ID",L.yytext),32;case 76:return C.getLogger().debug("Lex: EOF",L.yytext),8;case 77:this.pushState("md_string");break;case 78:this.pushState("md_string");break;case 79:return"NODE_DESCR";case 80:this.popState();break;case 81:C.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:C.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return C.getLogger().debug("LEX: NODE_DESCR:",L.yytext),"NODE_DESCR";case 84:C.getLogger().debug("LEX POPPING"),this.popState();break;case 85:C.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return L.yytext=L.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (right): dir:",L.yytext),"DIR";case 87:return L.yytext=L.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (left):",L.yytext),"DIR";case 88:return L.yytext=L.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (x):",L.yytext),"DIR";case 89:return L.yytext=L.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (y):",L.yytext),"DIR";case 90:return L.yytext=L.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (up):",L.yytext),"DIR";case 91:return L.yytext=L.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (down):",L.yytext),"DIR";case 92:return L.yytext="]>",C.getLogger().debug("Lex (ARROW_DIR end):",L.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 93:return C.getLogger().debug("Lex: LINK","#"+L.yytext+"#"),15;case 94:return C.getLogger().debug("Lex: LINK",L.yytext),15;case 95:return C.getLogger().debug("Lex: LINK",L.yytext),15;case 96:return C.getLogger().debug("Lex: LINK",L.yytext),15;case 97:return C.getLogger().debug("Lex: START_LINK",L.yytext),this.pushState("LLABEL"),16;case 98:return C.getLogger().debug("Lex: START_LINK",L.yytext),this.pushState("LLABEL"),16;case 99:return C.getLogger().debug("Lex: START_LINK",L.yytext),this.pushState("LLABEL"),16;case 100:this.pushState("md_string");break;case 101:return C.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 102:return this.popState(),C.getLogger().debug("Lex: LINK","#"+L.yytext+"#"),15;case 103:return this.popState(),C.getLogger().debug("Lex: LINK",L.yytext),15;case 104:return this.popState(),C.getLogger().debug("Lex: LINK",L.yytext),15;case 105:return C.getLogger().debug("Lex: COLON",L.yytext),L.yytext=L.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}};return S}();x.lexer=y;function w(){this.yy={}}return k(w,"Parser"),w.prototype=x,x.Parser=w,new w}();K9.parser=K9;var Qst=K9,pu=new Map,hO=[],Q9=new Map,fq="color",dq="fill",Zst="bgFill",Jhe=",",Jst=Ue(),Dk=new Map,eot=k(t=>At.sanitizeText(t,Jst),"sanitizeText"),tot=k(function(t,e=""){let r=Dk.get(t);r||(r={id:t,styles:[],textStyles:[]},Dk.set(t,r)),e!=null&&e.split(Jhe).forEach(n=>{const i=n.replace(/([^;]*);/,"$1").trim();if(RegExp(fq).exec(n)){const s=i.replace(dq,Zst).replace(fq,dq);r.textStyles.push(s)}r.styles.push(i)})},"addStyleClass"),rot=k(function(t,e=""){const r=pu.get(t);e!=null&&(r.styles=e.split(Jhe))},"addStyle2Node"),not=k(function(t,e){t.split(",").forEach(function(r){let n=pu.get(r);if(n===void 0){const i=r.trim();n={id:i,type:"na",children:[]},pu.set(i,n)}n.classes||(n.classes=[]),n.classes.push(e)})},"setCssClass"),efe=k((t,e)=>{const r=t.flat(),n=[];for(const i of r){if(i.label&&(i.label=eot(i.label)),i.type==="classDef"){tot(i.id,i.css);continue}if(i.type==="applyClass"){not(i.id,(i==null?void 0:i.styleClass)??"");continue}if(i.type==="applyStyles"){i!=null&&i.stylesStr&&rot(i.id,i==null?void 0:i.stylesStr);continue}if(i.type==="column-setting")e.columns=i.columns??-1;else if(i.type==="edge"){const a=(Q9.get(i.id)??0)+1;Q9.set(i.id,a),i.id=a+"-"+i.id,hO.push(i)}else{i.label||(i.type==="composite"?i.label="":i.label=i.id);const a=pu.get(i.id);if(a===void 0?pu.set(i.id,i):(i.type!=="na"&&(a.type=i.type),i.label!==i.id&&(a.label=i.label)),i.children&&efe(i.children,i),i.type==="space"){const s=i.width??1;for(let o=0;o<s;o++){const l=ca(i);l.id=l.id+"-"+o,pu.set(l.id,l),n.push(l)}}else a===void 0&&n.push(i)}}e.children=n},"populateBlockDatabase"),fO=[],F2={id:"root",type:"composite",children:[],columns:-1},iot=k(()=>{Ee.debug("Clear called"),Ea(),F2={id:"root",type:"composite",children:[],columns:-1},pu=new Map([["root",F2]]),fO=[],Dk=new Map,hO=[],Q9=new Map},"clear");function tfe(t){switch(Ee.debug("typeStr2Type",t),t){case"[]":return"square";case"()":return Ee.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}k(tfe,"typeStr2Type");function rfe(t){switch(Ee.debug("typeStr2Type",t),t){case"==":return"thick";default:return"normal"}}k(rfe,"edgeTypeStr2Type");function nfe(t){switch(t.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}k(nfe,"edgeStrToEdgeData");var pq=0,aot=k(()=>(pq++,"id-"+Math.random().toString(36).substr(2,12)+"-"+pq),"generateId"),sot=k(t=>{F2.children=t,efe(t,F2),fO=F2.children},"setHierarchy"),oot=k(t=>{const e=pu.get(t);return e?e.columns?e.columns:e.children?e.children.length:-1:-1},"getColumns"),lot=k(()=>[...pu.values()],"getBlocksFlat"),uot=k(()=>fO||[],"getBlocks"),cot=k(()=>hO,"getEdges"),hot=k(t=>pu.get(t),"getBlock"),fot=k(t=>{pu.set(t.id,t)},"setBlock"),dot=k(()=>console,"getLogger"),pot=k(function(){return Dk},"getClasses"),got={getConfig:k(()=>ai().block,"getConfig"),typeStr2Type:tfe,edgeTypeStr2Type:rfe,edgeStrToEdgeData:nfe,getLogger:dot,getBlocksFlat:lot,getBlocks:uot,getEdges:cot,setHierarchy:sot,getBlock:hot,setBlock:fot,getColumns:oot,getClasses:pot,clear:iot,generateId:aot},mot=got,Ww=k((t,e)=>{const r=Cj,n=r(t,"r"),i=r(t,"g"),a=r(t,"b");return k0(n,i,a,e)},"fade"),vot=k(t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span,p {
    color: ${t.titleColor};
  }



  .label text,span,p {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${Ww(t.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${Ww(t.mainBkg,.5)};
    fill: ${Ww(t.clusterBkg,.5)};
    stroke: ${Ww(t.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span,p {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,"getStyles"),yot=vot,xot=k((t,e,r,n)=>{e.forEach(i=>{Lot[i](t,r,n)})},"insertMarkers"),bot=k((t,e,r)=>{Ee.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),wot=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Sot=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),kot=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),Eot=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),Tot=k((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),Cot=k((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),Aot=k((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),_ot=k((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),Lot={extension:bot,composition:wot,aggregation:Sot,dependency:kot,lollipop:Eot,point:Tot,circle:Cot,cross:Aot,barb:_ot},Dot=xot,Cq,Aq,Ri=((Aq=(Cq=Ue())==null?void 0:Cq.block)==null?void 0:Aq.padding)??8;function ife(t,e){if(t===0||!Number.isInteger(t))throw new Error("Columns must be an integer !== 0.");if(e<0||!Number.isInteger(e))throw new Error("Position must be a non-negative integer."+e);if(t<0)return{px:e,py:0};if(t===1)return{px:0,py:e};const r=e%t,n=Math.floor(e/t);return{px:r,py:n}}k(ife,"calculateBlockPosition");var Rot=k(t=>{let e=0,r=0;for(const n of t.children){const{width:i,height:a,x:s,y:o}=n.size??{width:0,height:0,x:0,y:0};Ee.debug("getMaxChildSize abc95 child:",n.id,"width:",i,"height:",a,"x:",s,"y:",o,n.type),n.type!=="space"&&(i>e&&(e=i/(t.widthInColumns??1)),a>r&&(r=a))}return{width:e,height:r}},"getMaxChildSize");function Rk(t,e,r=0,n=0){var s,o,l,u,h,f,d,p,m,v,x;Ee.debug("setBlockSizes abc95 (start)",t.id,(s=t==null?void 0:t.size)==null?void 0:s.x,"block width =",t==null?void 0:t.size,"sieblingWidth",r),(o=t==null?void 0:t.size)!=null&&o.width||(t.size={width:r,height:n,x:0,y:0});let i=0,a=0;if(((l=t.children)==null?void 0:l.length)>0){for(const I of t.children)Rk(I,e);const y=Rot(t);i=y.width,a=y.height,Ee.debug("setBlockSizes abc95 maxWidth of",t.id,":s children is ",i,a);for(const I of t.children)I.size&&(Ee.debug(`abc95 Setting size of children of ${t.id} id=${I.id} ${i} ${a} ${JSON.stringify(I.size)}`),I.size.width=i*(I.widthInColumns??1)+Ri*((I.widthInColumns??1)-1),I.size.height=a,I.size.x=0,I.size.y=0,Ee.debug(`abc95 updating size of ${t.id} children child:${I.id} maxWidth:${i} maxHeight:${a}`));for(const I of t.children)Rk(I,e,i,a);const w=t.columns??-1;let S=0;for(const I of t.children)S+=I.widthInColumns??1;let E=t.children.length;w>0&&w<S&&(E=w);const C=Math.ceil(S/E);let L=E*(i+Ri)+Ri,_=C*(a+Ri)+Ri;if(L<r){Ee.debug(`Detected to small siebling: abc95 ${t.id} sieblingWidth ${r} sieblingHeight ${n} width ${L}`),L=r,_=n;const I=(r-E*Ri-Ri)/E,D=(n-C*Ri-Ri)/C;Ee.debug("Size indata abc88",t.id,"childWidth",I,"maxWidth",i),Ee.debug("Size indata abc88",t.id,"childHeight",D,"maxHeight",a),Ee.debug("Size indata abc88 xSize",E,"padding",Ri);for(const F of t.children)F.size&&(F.size.width=I,F.size.height=D,F.size.x=0,F.size.y=0)}if(Ee.debug(`abc95 (finale calc) ${t.id} xSize ${E} ySize ${C} columns ${w}${t.children.length} width=${Math.max(L,((u=t.size)==null?void 0:u.width)||0)}`),L<(((h=t==null?void 0:t.size)==null?void 0:h.width)||0)){L=((f=t==null?void 0:t.size)==null?void 0:f.width)||0;const I=w>0?Math.min(t.children.length,w):t.children.length;if(I>0){const D=(L-I*Ri-Ri)/I;Ee.debug("abc95 (growing to fit) width",t.id,L,(d=t.size)==null?void 0:d.width,D);for(const F of t.children)F.size&&(F.size.width=D)}}t.size={width:L,height:_,x:0,y:0}}Ee.debug("setBlockSizes abc94 (done)",t.id,(p=t==null?void 0:t.size)==null?void 0:p.x,(m=t==null?void 0:t.size)==null?void 0:m.width,(v=t==null?void 0:t.size)==null?void 0:v.y,(x=t==null?void 0:t.size)==null?void 0:x.height)}k(Rk,"setBlockSizes");function dO(t,e){var n,i,a,s,o,l,u,h,f,d,p,m,v,x,y,w,S;Ee.debug(`abc85 layout blocks (=>layoutBlocks) ${t.id} x: ${(n=t==null?void 0:t.size)==null?void 0:n.x} y: ${(i=t==null?void 0:t.size)==null?void 0:i.y} width: ${(a=t==null?void 0:t.size)==null?void 0:a.width}`);const r=t.columns??-1;if(Ee.debug("layoutBlocks columns abc95",t.id,"=>",r,t),t.children&&t.children.length>0){const E=((o=(s=t==null?void 0:t.children[0])==null?void 0:s.size)==null?void 0:o.width)??0,C=t.children.length*E+(t.children.length-1)*Ri;Ee.debug("widthOfChildren 88",C,"posX");let L=0;Ee.debug("abc91 block?.size?.x",t.id,(l=t==null?void 0:t.size)==null?void 0:l.x);let _=(u=t==null?void 0:t.size)!=null&&u.x?((h=t==null?void 0:t.size)==null?void 0:h.x)+(-((f=t==null?void 0:t.size)==null?void 0:f.width)/2||0):-Ri,I=0;for(const D of t.children){const F=t;if(!D.size)continue;const{width:M,height:B}=D.size,{px:H,py:R}=ife(r,L);if(R!=I&&(I=R,_=(d=t==null?void 0:t.size)!=null&&d.x?((p=t==null?void 0:t.size)==null?void 0:p.x)+(-((m=t==null?void 0:t.size)==null?void 0:m.width)/2||0):-Ri,Ee.debug("New row in layout for block",t.id," and child ",D.id,I)),Ee.debug(`abc89 layout blocks (child) id: ${D.id} Pos: ${L} (px, py) ${H},${R} (${(v=F==null?void 0:F.size)==null?void 0:v.x},${(x=F==null?void 0:F.size)==null?void 0:x.y}) parent: ${F.id} width: ${M}${Ri}`),F.size){const O=M/2;D.size.x=_+Ri+O,Ee.debug(`abc91 layout blocks (calc) px, pyid:${D.id} startingPos=X${_} new startingPosX${D.size.x} ${O} padding=${Ri} width=${M} halfWidth=${O} => x:${D.size.x} y:${D.size.y} ${D.widthInColumns} (width * (child?.w || 1)) / 2 ${M*((D==null?void 0:D.widthInColumns)??1)/2}`),_=D.size.x+O,D.size.y=F.size.y-F.size.height/2+R*(B+Ri)+B/2+Ri,Ee.debug(`abc88 layout blocks (calc) px, pyid:${D.id}startingPosX${_}${Ri}${O}=>x:${D.size.x}y:${D.size.y}${D.widthInColumns}(width * (child?.w || 1)) / 2${M*((D==null?void 0:D.widthInColumns)??1)/2}`)}D.children&&dO(D),L+=(D==null?void 0:D.widthInColumns)??1,Ee.debug("abc88 columnsPos",D,L)}}Ee.debug(`layout blocks (<==layoutBlocks) ${t.id} x: ${(y=t==null?void 0:t.size)==null?void 0:y.x} y: ${(w=t==null?void 0:t.size)==null?void 0:w.y} width: ${(S=t==null?void 0:t.size)==null?void 0:S.width}`)}k(dO,"layoutBlocks");function pO(t,{minX:e,minY:r,maxX:n,maxY:i}={minX:0,minY:0,maxX:0,maxY:0}){if(t.size&&t.id!=="root"){const{x:a,y:s,width:o,height:l}=t.size;a-o/2<e&&(e=a-o/2),s-l/2<r&&(r=s-l/2),a+o/2>n&&(n=a+o/2),s+l/2>i&&(i=s+l/2)}if(t.children)for(const a of t.children)({minX:e,minY:r,maxX:n,maxY:i}=pO(a,{minX:e,minY:r,maxX:n,maxY:i}));return{minX:e,minY:r,maxX:n,maxY:i}}k(pO,"findBounds");function afe(t){const e=t.getBlock("root");if(!e)return;Rk(e,t,0,0),dO(e),Ee.debug("getBlocks",JSON.stringify(e,null,2));const{minX:r,minY:n,maxX:i,maxY:a}=pO(e),s=a-n,o=i-r;return{x:r,y:n,width:o,height:s}}k(afe,"layout");function Z9(t,e){e&&t.attr("style",e)}k(Z9,"applyStyle");function sfe(t){const e=bt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div"),n=t.label,i=t.isNode?"nodeLabel":"edgeLabel",a=r.append("span");return a.html(n),Z9(a,t.labelStyle),a.attr("class",i),Z9(r,t.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}k(sfe,"addHtmlLabel");var Mot=k((t,e,r,n)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),Nn(Ue().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),Ee.debug("vertexText"+i);const a={isNode:n,label:rM(dh(i)),labelStyle:e.replace("fill:","color:")};return sfe(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(const o of s){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),a.appendChild(l)}return a}},"createLabel"),ml=Mot,Not=k((t,e,r,n,i)=>{e.arrowTypeStart&&gq(t,"start",e.arrowTypeStart,r,n,i),e.arrowTypeEnd&&gq(t,"end",e.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),Iot={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},gq=k((t,e,r,n,i,a)=>{const s=Iot[r];if(!s){Ee.warn(`Unknown arrow type: ${r}`);return}const o=e==="start"?"Start":"End";t.attr(`marker-${e}`,`url(${n}#${i}_${a}-${s}${o})`)},"addEdgeMarker"),J9={},os={},Oot=k((t,e)=>{const r=Ue(),n=Nn(r.flowchart.htmlLabels),i=e.labelType==="markdown"?Fl(t,e.label,{style:e.labelStyle,useHtmlLabels:n,addSvgBackground:!0},r):ml(e.label,e.labelStyle),a=t.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label");s.node().appendChild(i);let o=i.getBBox();if(n){const u=i.children[0],h=bt(i);o=u.getBoundingClientRect(),h.attr("width",o.width),h.attr("height",o.height)}s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),J9[e.id]=a,e.width=o.width,e.height=o.height;let l;if(e.startLabelLeft){const u=ml(e.startLabelLeft,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");l=f.node().appendChild(u);const d=u.getBBox();f.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),os[e.id]||(os[e.id]={}),os[e.id].startLeft=h,h2(l,e.startLabelLeft)}if(e.startLabelRight){const u=ml(e.startLabelRight,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");l=h.node().appendChild(u),f.node().appendChild(u);const d=u.getBBox();f.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),os[e.id]||(os[e.id]={}),os[e.id].startRight=h,h2(l,e.startLabelRight)}if(e.endLabelLeft){const u=ml(e.endLabelLeft,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");l=f.node().appendChild(u);const d=u.getBBox();f.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),h.node().appendChild(u),os[e.id]||(os[e.id]={}),os[e.id].endLeft=h,h2(l,e.endLabelLeft)}if(e.endLabelRight){const u=ml(e.endLabelRight,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");l=f.node().appendChild(u);const d=u.getBBox();f.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),h.node().appendChild(u),os[e.id]||(os[e.id]={}),os[e.id].endRight=h,h2(l,e.endLabelRight)}return i},"insertEdgeLabel");function h2(t,e){Ue().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}k(h2,"setTerminalWidth");var Pot=k((t,e)=>{Ee.debug("Moving label abc88 ",t.id,t.label,J9[t.id],e);let r=e.updatedPath?e.updatedPath:e.originalPath;const n=Ue(),{subGraphTitleTotalMargin:i}=db(n);if(t.label){const a=J9[t.id];let s=t.x,o=t.y;if(r){const l=Ir.calcLabelPosition(r);Ee.debug("Moving label "+t.label+" from (",s,",",o,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(s=l.x,o=l.y)}a.attr("transform",`translate(${s}, ${o+i/2})`)}if(t.startLabelLeft){const a=os[t.id].startLeft;let s=t.x,o=t.y;if(r){const l=Ir.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.startLabelRight){const a=os[t.id].startRight;let s=t.x,o=t.y;if(r){const l=Ir.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelLeft){const a=os[t.id].endLeft;let s=t.x,o=t.y;if(r){const l=Ir.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelRight){const a=os[t.id].endRight;let s=t.x,o=t.y;if(r){const l=Ir.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),Fot=k((t,e)=>{const r=t.x,n=t.y,i=Math.abs(e.x-r),a=Math.abs(e.y-n),s=t.width/2,o=t.height/2;return i>=s||a>=o},"outsideNode"),Bot=k((t,e,r)=>{Ee.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const n=t.x,i=t.y,a=Math.abs(n-r.x),s=t.width/2;let o=r.x<e.x?s-a:s+a;const l=t.height/2,u=Math.abs(e.y-r.y),h=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*s>Math.abs(n-e.x)*l){let f=r.y<e.y?e.y-l-i:i-l-e.y;o=h*f/u;const d={x:r.x<e.x?r.x+o:r.x-h+o,y:r.y<e.y?r.y+u-f:r.y-u+f};return o===0&&(d.x=e.x,d.y=e.y),h===0&&(d.x=e.x),u===0&&(d.y=e.y),Ee.debug(`abc89 topp/bott calc, Q ${u}, q ${f}, R ${h}, r ${o}`,d),d}else{r.x<e.x?o=e.x-s-n:o=n-s-e.x;let f=u*o/h,d=r.x<e.x?r.x+h-o:r.x-h+o,p=r.y<e.y?r.y+f:r.y-f;return Ee.debug(`sides calc abc89, Q ${u}, q ${f}, R ${h}, r ${o}`,{_x:d,_y:p}),o===0&&(d=e.x,p=e.y),h===0&&(d=e.x),u===0&&(p=e.y),{x:d,y:p}}},"intersection"),mq=k((t,e)=>{Ee.debug("abc88 cutPathAtIntersect",t,e);let r=[],n=t[0],i=!1;return t.forEach(a=>{if(!Fot(e,a)&&!i){const s=Bot(e,n,a);let o=!1;r.forEach(l=>{o=o||l.x===s.x&&l.y===s.y}),r.some(l=>l.x===s.x&&l.y===s.y)||r.push(s),i=!0}else n=a,i||r.push(a)}),r},"cutPathAtIntersect"),$ot=k(function(t,e,r,n,i,a,s){let o=r.points;Ee.debug("abc88 InsertEdge: edge=",r,"e=",e);let l=!1;const u=a.node(e.v);var h=a.node(e.w);h!=null&&h.intersect&&(u!=null&&u.intersect)&&(o=o.slice(1,r.points.length-1),o.unshift(u.intersect(o[0])),o.push(h.intersect(o[o.length-1]))),r.toCluster&&(Ee.debug("to cluster abc88",n[r.toCluster]),o=mq(r.points,n[r.toCluster].node),l=!0),r.fromCluster&&(Ee.debug("from cluster abc88",n[r.fromCluster]),o=mq(o.reverse(),n[r.fromCluster].node).reverse(),l=!0);const f=o.filter(E=>!Number.isNaN(E.y));let d=vb;r.curve&&(i==="graph"||i==="flowchart")&&(d=r.curve);const{x:p,y:m}=mte(r),v=H0().x(p).y(m).curve(d);let x;switch(r.thickness){case"normal":x="edge-thickness-normal";break;case"thick":x="edge-thickness-thick";break;case"invisible":x="edge-thickness-thick";break;default:x=""}switch(r.pattern){case"solid":x+=" edge-pattern-solid";break;case"dotted":x+=" edge-pattern-dotted";break;case"dashed":x+=" edge-pattern-dashed";break}const y=t.append("path").attr("d",v(f)).attr("id",r.id).attr("class"," "+x+(r.classes?" "+r.classes:"")).attr("style",r.style);let w="";(Ue().flowchart.arrowMarkerAbsolute||Ue().state.arrowMarkerAbsolute)&&(w=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,w=w.replace(/\(/g,"\\("),w=w.replace(/\)/g,"\\)")),Not(y,r,w,s,i);let S={};return l&&(S.updatedPath=o),S.originalPath=r.points,S},"insertEdge"),zot=k(t=>{const e=new Set;for(const r of t)switch(r){case"x":e.add("right"),e.add("left");break;case"y":e.add("up"),e.add("down");break;default:e.add(r);break}return e},"expandAndDeduplicateDirections"),Hot=k((t,e,r)=>{const n=zot(t),i=2,a=e.height+2*r.padding,s=a/i,o=e.width+2*s+r.padding,l=r.padding/2;return n.has("right")&&n.has("left")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:s,y:0},{x:o/2,y:2*l},{x:o-s,y:0},{x:o,y:0},{x:o,y:-a/3},{x:o+2*l,y:-a/2},{x:o,y:-2*a/3},{x:o,y:-a},{x:o-s,y:-a},{x:o/2,y:-a-2*l},{x:s,y:-a},{x:0,y:-a},{x:0,y:-2*a/3},{x:-2*l,y:-a/2},{x:0,y:-a/3}]:n.has("right")&&n.has("left")&&n.has("up")?[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}]:n.has("right")&&n.has("left")&&n.has("down")?[{x:0,y:0},{x:s,y:-a},{x:o-s,y:-a},{x:o,y:0}]:n.has("right")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:o,y:-s},{x:o,y:-a+s},{x:0,y:-a}]:n.has("left")&&n.has("up")&&n.has("down")?[{x:o,y:0},{x:0,y:-s},{x:0,y:-a+s},{x:o,y:-a}]:n.has("right")&&n.has("left")?[{x:s,y:0},{x:s,y:-l},{x:o-s,y:-l},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:o-s,y:-a+l},{x:s,y:-a+l},{x:s,y:-a},{x:0,y:-a/2}]:n.has("up")&&n.has("down")?[{x:o/2,y:0},{x:0,y:-l},{x:s,y:-l},{x:s,y:-a+l},{x:0,y:-a+l},{x:o/2,y:-a},{x:o,y:-a+l},{x:o-s,y:-a+l},{x:o-s,y:-l},{x:o,y:-l}]:n.has("right")&&n.has("up")?[{x:0,y:0},{x:o,y:-s},{x:0,y:-a}]:n.has("right")&&n.has("down")?[{x:0,y:0},{x:o,y:0},{x:0,y:-a}]:n.has("left")&&n.has("up")?[{x:o,y:0},{x:0,y:-s},{x:o,y:-a}]:n.has("left")&&n.has("down")?[{x:o,y:0},{x:0,y:0},{x:o,y:-a}]:n.has("right")?[{x:s,y:-l},{x:s,y:-l},{x:o-s,y:-l},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:o-s,y:-a+l},{x:s,y:-a+l},{x:s,y:-a+l}]:n.has("left")?[{x:s,y:0},{x:s,y:-l},{x:o-s,y:-l},{x:o-s,y:-a+l},{x:s,y:-a+l},{x:s,y:-a},{x:0,y:-a/2}]:n.has("up")?[{x:s,y:-l},{x:s,y:-a+l},{x:0,y:-a+l},{x:o/2,y:-a},{x:o,y:-a+l},{x:o-s,y:-a+l},{x:o-s,y:-l}]:n.has("down")?[{x:o/2,y:0},{x:0,y:-l},{x:s,y:-l},{x:s,y:-a+l},{x:o-s,y:-a+l},{x:o-s,y:-l},{x:o,y:-l}]:[{x:0,y:0}]},"getArrowPoints");function ofe(t,e){return t.intersect(e)}k(ofe,"intersectNode");var Vot=ofe;function lfe(t,e,r,n){var i=t.x,a=t.y,s=i-n.x,o=a-n.y,l=Math.sqrt(e*e*o*o+r*r*s*s),u=Math.abs(e*r*s/l);n.x<i&&(u=-u);var h=Math.abs(e*r*o/l);return n.y<a&&(h=-h),{x:i+u,y:a+h}}k(lfe,"intersectEllipse");var ufe=lfe;function cfe(t,e,r){return ufe(t,e,e,r)}k(cfe,"intersectCircle");var Uot=cfe;function hfe(t,e,r,n){var i,a,s,o,l,u,h,f,d,p,m,v,x,y,w;if(i=e.y-t.y,s=t.x-e.x,l=e.x*t.y-t.x*e.y,d=i*r.x+s*r.y+l,p=i*n.x+s*n.y+l,!(d!==0&&p!==0&&eD(d,p))&&(a=n.y-r.y,o=r.x-n.x,u=n.x*r.y-r.x*n.y,h=a*t.x+o*t.y+u,f=a*e.x+o*e.y+u,!(h!==0&&f!==0&&eD(h,f))&&(m=i*o-a*s,m!==0)))return v=Math.abs(m/2),x=s*u-o*l,y=x<0?(x-v)/m:(x+v)/m,x=a*l-i*u,w=x<0?(x-v)/m:(x+v)/m,{x:y,y:w}}k(hfe,"intersectLine");function eD(t,e){return t*e>0}k(eD,"sameSign");var Got=hfe,Wot=ffe;function ffe(t,e,r){var n=t.x,i=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(m){s=Math.min(s,m.x),o=Math.min(o,m.y)}):(s=Math.min(s,e.x),o=Math.min(o,e.y));for(var l=n-t.width/2-s,u=i-t.height/2-o,h=0;h<e.length;h++){var f=e[h],d=e[h<e.length-1?h+1:0],p=Got(t,r,{x:l+f.x,y:u+f.y},{x:l+d.x,y:u+d.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort(function(m,v){var x=m.x-r.x,y=m.y-r.y,w=Math.sqrt(x*x+y*y),S=v.x-r.x,E=v.y-r.y,C=Math.sqrt(S*S+E*E);return w<C?-1:w===C?0:1}),a[0]):t}k(ffe,"intersectPolygon");var qot=k((t,e)=>{var r=t.x,n=t.y,i=e.x-r,a=e.y-n,s=t.width/2,o=t.height/2,l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=a===0?0:o*i/a,u=o):(i<0&&(s=-s),l=s,u=i===0?0:s*a/i),{x:r+l,y:n+u}},"intersectRect"),Yot=qot,oi={node:Vot,circle:Uot,ellipse:ufe,polygon:Wot,rect:Yot},_a=k(async(t,e,r,n)=>{const i=Ue();let a;const s=e.useHtmlLabels||Nn(i.flowchart.htmlLabels);r?a=r:a="node default";const o=t.insert("g").attr("class",a).attr("id",e.domId||e.id),l=o.insert("g").attr("class","label").attr("style",e.labelStyle);let u;e.labelText===void 0?u="":u=typeof e.labelText=="string"?e.labelText:e.labelText[0];const h=l.node();let f;e.labelType==="markdown"?f=Fl(l,Dn(dh(u),i),{useHtmlLabels:s,width:e.width||i.flowchart.wrappingWidth,classes:"markdown-node-label"},i):f=h.appendChild(ml(Dn(dh(u),i),e.labelStyle,!1,n));let d=f.getBBox();const p=e.padding/2;if(Nn(i.flowchart.htmlLabels)){const m=f.children[0],v=bt(f),x=m.getElementsByTagName("img");if(x){const y=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...x].map(w=>new Promise(S=>{function E(){if(w.style.display="flex",w.style.flexDirection="column",y){const C=i.fontSize?i.fontSize:window.getComputedStyle(document.body).fontSize,_=parseInt(C,10)*5+"px";w.style.minWidth=_,w.style.maxWidth=_}else w.style.width="100%";S(w)}k(E,"setupImage"),setTimeout(()=>{w.complete&&E()}),w.addEventListener("error",E),w.addEventListener("load",E)})))}d=m.getBoundingClientRect(),v.attr("width",d.width),v.attr("height",d.height)}return s?l.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"):l.attr("transform","translate(0, "+-d.height/2+")"),e.centerLabel&&l.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:o,bbox:d,halfPadding:p,label:l}},"labelHelper"),Ci=k((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds");function ku(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}k(ku,"insertPolygonShape");var Xot=k(async(t,e)=>{e.useHtmlLabels||Ue().flowchart.htmlLabels||(e.centerLabel=!0);const{shapeSvg:n,bbox:i,halfPadding:a}=await _a(t,e,"node "+e.classes,!0);Ee.info("Classes = ",e.classes);const s=n.insert("rect",":first-child");return s.attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-a).attr("y",-i.height/2-a).attr("width",i.width+e.padding).attr("height",i.height+e.padding),Ci(e,s),e.intersect=function(o){return oi.rect(e,o)},n},"note"),jot=Xot,vq=k(t=>t?" "+t:"","formatClass"),el=k((t,e)=>`${e||"node default"}${vq(t.classes)} ${vq(t.class)}`,"getClassesFromNode"),yq=k(async(t,e)=>{const{shapeSvg:r,bbox:n}=await _a(t,e,el(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=i+a,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];Ee.info("Question main (Circle)");const l=ku(r,s,s,o);return l.attr("style",e.style),Ci(e,l),e.intersect=function(u){return Ee.warn("Intersect called"),oi.polygon(e,o,u)},r},"question"),Kot=k((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=28,i=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return r.insert("polygon",":first-child").attr("points",i.map(function(s){return s.x+","+s.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(s){return oi.circle(e,14,s)},r},"choice"),Qot=k(async(t,e)=>{const{shapeSvg:r,bbox:n}=await _a(t,e,el(e,void 0),!0),i=4,a=n.height+e.padding,s=a/i,o=n.width+2*s+e.padding,l=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}],u=ku(r,o,a,l);return u.attr("style",e.style),Ci(e,u),e.intersect=function(h){return oi.polygon(e,l,h)},r},"hexagon"),Zot=k(async(t,e)=>{const{shapeSvg:r,bbox:n}=await _a(t,e,void 0,!0),i=2,a=n.height+2*e.padding,s=a/i,o=n.width+2*s+e.padding,l=Hot(e.directions,n,e),u=ku(r,o,a,l);return u.attr("style",e.style),Ci(e,u),e.intersect=function(h){return oi.polygon(e,l,h)},r},"block_arrow"),Jot=k(async(t,e)=>{const{shapeSvg:r,bbox:n}=await _a(t,e,el(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:-a/2,y:0},{x:i,y:0},{x:i,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return ku(r,i,a,s).attr("style",e.style),e.width=i+a,e.height=a,e.intersect=function(l){return oi.polygon(e,s,l)},r},"rect_left_inv_arrow"),elt=k(async(t,e)=>{const{shapeSvg:r,bbox:n}=await _a(t,e,el(e),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:-2*a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:a/6,y:-a}],o=ku(r,i,a,s);return o.attr("style",e.style),Ci(e,o),e.intersect=function(l){return oi.polygon(e,s,l)},r},"lean_right"),tlt=k(async(t,e)=>{const{shapeSvg:r,bbox:n}=await _a(t,e,el(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:2*a/6,y:0},{x:i+a/6,y:0},{x:i-2*a/6,y:-a},{x:-a/6,y:-a}],o=ku(r,i,a,s);return o.attr("style",e.style),Ci(e,o),e.intersect=function(l){return oi.polygon(e,s,l)},r},"lean_left"),rlt=k(async(t,e)=>{const{shapeSvg:r,bbox:n}=await _a(t,e,el(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:-2*a/6,y:0},{x:i+2*a/6,y:0},{x:i-a/6,y:-a},{x:a/6,y:-a}],o=ku(r,i,a,s);return o.attr("style",e.style),Ci(e,o),e.intersect=function(l){return oi.polygon(e,s,l)},r},"trapezoid"),nlt=k(async(t,e)=>{const{shapeSvg:r,bbox:n}=await _a(t,e,el(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:-2*a/6,y:-a}],o=ku(r,i,a,s);return o.attr("style",e.style),Ci(e,o),e.intersect=function(l){return oi.polygon(e,s,l)},r},"inv_trapezoid"),ilt=k(async(t,e)=>{const{shapeSvg:r,bbox:n}=await _a(t,e,el(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:0,y:0},{x:i+a/2,y:0},{x:i,y:-a/2},{x:i+a/2,y:-a},{x:0,y:-a}],o=ku(r,i,a,s);return o.attr("style",e.style),Ci(e,o),e.intersect=function(l){return oi.polygon(e,s,l)},r},"rect_right_inv_arrow"),alt=k(async(t,e)=>{const{shapeSvg:r,bbox:n}=await _a(t,e,el(e,void 0),!0),i=n.width+e.padding,a=i/2,s=a/(2.5+i/50),o=n.height+s+e.padding,l="M 0,"+s+" a "+a+","+s+" 0,0,0 "+i+" 0 a "+a+","+s+" 0,0,0 "+-i+" 0 l 0,"+o+" a "+a+","+s+" 0,0,0 "+i+" 0 l 0,"+-o,u=r.attr("label-offset-y",s).insert("path",":first-child").attr("style",e.style).attr("d",l).attr("transform","translate("+-i/2+","+-(o/2+s)+")");return Ci(e,u),e.intersect=function(h){const f=oi.rect(e,h),d=f.x-e.x;if(a!=0&&(Math.abs(d)<e.width/2||Math.abs(d)==e.width/2&&Math.abs(f.y-e.y)>e.height/2-s)){let p=s*s*(1-d*d/(a*a));p!=0&&(p=Math.sqrt(p)),p=s-p,h.y-e.y>0&&(p=-p),f.y+=p}return f},r},"cylinder"),slt=k(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await _a(t,e,"node "+e.classes+" "+e.class,!0),a=r.insert("rect",":first-child"),s=e.positioned?e.width:n.width+e.padding,o=e.positioned?e.height:n.height+e.padding,l=e.positioned?-s/2:-n.width/2-i,u=e.positioned?-o/2:-n.height/2-i;if(a.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",l).attr("y",u).attr("width",s).attr("height",o),e.props){const h=new Set(Object.keys(e.props));e.props.borders&&(fC(a,e.props.borders,s,o),h.delete("borders")),h.forEach(f=>{Ee.warn(`Unknown node property ${f}`)})}return Ci(e,a),e.intersect=function(h){return oi.rect(e,h)},r},"rect"),olt=k(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await _a(t,e,"node "+e.classes,!0),a=r.insert("rect",":first-child"),s=e.positioned?e.width:n.width+e.padding,o=e.positioned?e.height:n.height+e.padding,l=e.positioned?-s/2:-n.width/2-i,u=e.positioned?-o/2:-n.height/2-i;if(a.attr("class","basic cluster composite label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",l).attr("y",u).attr("width",s).attr("height",o),e.props){const h=new Set(Object.keys(e.props));e.props.borders&&(fC(a,e.props.borders,s,o),h.delete("borders")),h.forEach(f=>{Ee.warn(`Unknown node property ${f}`)})}return Ci(e,a),e.intersect=function(h){return oi.rect(e,h)},r},"composite"),llt=k(async(t,e)=>{const{shapeSvg:r}=await _a(t,e,"label",!0);Ee.trace("Classes = ",e.class);const n=r.insert("rect",":first-child"),i=0,a=0;if(n.attr("width",i).attr("height",a),r.attr("class","label edgeLabel"),e.props){const s=new Set(Object.keys(e.props));e.props.borders&&(fC(n,e.props.borders,i,a),s.delete("borders")),s.forEach(o=>{Ee.warn(`Unknown node property ${o}`)})}return Ci(e,n),e.intersect=function(s){return oi.rect(e,s)},r},"labelRect");function fC(t,e,r,n){const i=[],a=k(o=>{i.push(o,0)},"addBorder"),s=k(o=>{i.push(0,o)},"skipBorder");e.includes("t")?(Ee.debug("add top border"),a(r)):s(r),e.includes("r")?(Ee.debug("add right border"),a(n)):s(n),e.includes("b")?(Ee.debug("add bottom border"),a(r)):s(r),e.includes("l")?(Ee.debug("add left border"),a(n)):s(n),t.attr("stroke-dasharray",i.join(" "))}k(fC,"applyNodePropertyBorders");var ult=k((t,e)=>{let r;e.classes?r="node "+e.classes:r="node default";const n=t.insert("g").attr("class",r).attr("id",e.domId||e.id),i=n.insert("rect",":first-child"),a=n.insert("line"),s=n.insert("g").attr("class","label"),o=e.labelText.flat?e.labelText.flat():e.labelText;let l="";typeof o=="object"?l=o[0]:l=o,Ee.info("Label text abc79",l,o,typeof o=="object");const u=s.node().appendChild(ml(l,e.labelStyle,!0,!0));let h={width:0,height:0};if(Nn(Ue().flowchart.htmlLabels)){const v=u.children[0],x=bt(u);h=v.getBoundingClientRect(),x.attr("width",h.width),x.attr("height",h.height)}Ee.info("Text 2",o);const f=o.slice(1,o.length);let d=u.getBBox();const p=s.node().appendChild(ml(f.join?f.join("<br/>"):f,e.labelStyle,!0,!0));if(Nn(Ue().flowchart.htmlLabels)){const v=p.children[0],x=bt(p);h=v.getBoundingClientRect(),x.attr("width",h.width),x.attr("height",h.height)}const m=e.padding/2;return bt(p).attr("transform","translate( "+(h.width>d.width?0:(d.width-h.width)/2)+", "+(d.height+m+5)+")"),bt(u).attr("transform","translate( "+(h.width<d.width?0:-(d.width-h.width)/2)+", 0)"),h=s.node().getBBox(),s.attr("transform","translate("+-h.width/2+", "+(-h.height/2-m+3)+")"),i.attr("class","outer title-state").attr("x",-h.width/2-m).attr("y",-h.height/2-m).attr("width",h.width+e.padding).attr("height",h.height+e.padding),a.attr("class","divider").attr("x1",-h.width/2-m).attr("x2",h.width/2+m).attr("y1",-h.height/2-m+d.height+m).attr("y2",-h.height/2-m+d.height+m),Ci(e,i),e.intersect=function(v){return oi.rect(e,v)},n},"rectWithTitle"),clt=k(async(t,e)=>{const{shapeSvg:r,bbox:n}=await _a(t,e,el(e,void 0),!0),i=n.height+e.padding,a=n.width+i/4+e.padding,s=r.insert("rect",":first-child").attr("style",e.style).attr("rx",i/2).attr("ry",i/2).attr("x",-a/2).attr("y",-i/2).attr("width",a).attr("height",i);return Ci(e,s),e.intersect=function(o){return oi.rect(e,o)},r},"stadium"),hlt=k(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await _a(t,e,el(e,void 0),!0),a=r.insert("circle",":first-child");return a.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i).attr("width",n.width+e.padding).attr("height",n.height+e.padding),Ee.info("Circle main"),Ci(e,a),e.intersect=function(s){return Ee.info("Circle intersect",e,n.width/2+i,s),oi.circle(e,n.width/2+i,s)},r},"circle"),flt=k(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await _a(t,e,el(e,void 0),!0),a=5,s=r.insert("g",":first-child"),o=s.insert("circle"),l=s.insert("circle");return s.attr("class",e.class),o.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i+a).attr("width",n.width+e.padding+a*2).attr("height",n.height+e.padding+a*2),l.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i).attr("width",n.width+e.padding).attr("height",n.height+e.padding),Ee.info("DoubleCircle main"),Ci(e,o),e.intersect=function(u){return Ee.info("DoubleCircle intersect",e,n.width/2+i+a,u),oi.circle(e,n.width/2+i+a,u)},r},"doublecircle"),dlt=k(async(t,e)=>{const{shapeSvg:r,bbox:n}=await _a(t,e,el(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:0,y:0},{x:i,y:0},{x:i,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],o=ku(r,i,a,s);return o.attr("style",e.style),Ci(e,o),e.intersect=function(l){return oi.polygon(e,s,l)},r},"subroutine"),plt=k((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Ci(e,n),e.intersect=function(i){return oi.circle(e,7,i)},r},"start"),xq=k((t,e,r)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let i=70,a=10;r==="LR"&&(i=10,a=70);const s=n.append("rect").attr("x",-1*i/2).attr("y",-1*a/2).attr("width",i).attr("height",a).attr("class","fork-join");return Ci(e,s),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(o){return oi.rect(e,o)},n},"forkJoin"),glt=k((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=r.insert("circle",":first-child"),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Ci(e,i),e.intersect=function(a){return oi.circle(e,7,a)},r},"end"),mlt=k((t,e)=>{var I;const r=e.padding/2,n=4,i=8;let a;e.classes?a="node "+e.classes:a="node default";const s=t.insert("g").attr("class",a).attr("id",e.domId||e.id),o=s.insert("rect",":first-child"),l=s.insert("line"),u=s.insert("line");let h=0,f=n;const d=s.insert("g").attr("class","label");let p=0;const m=(I=e.classData.annotations)==null?void 0:I[0],v=e.classData.annotations[0]?"«"+e.classData.annotations[0]+"»":"",x=d.node().appendChild(ml(v,e.labelStyle,!0,!0));let y=x.getBBox();if(Nn(Ue().flowchart.htmlLabels)){const D=x.children[0],F=bt(x);y=D.getBoundingClientRect(),F.attr("width",y.width),F.attr("height",y.height)}e.classData.annotations[0]&&(f+=y.height+n,h+=y.width);let w=e.classData.label;e.classData.type!==void 0&&e.classData.type!==""&&(Ue().flowchart.htmlLabels?w+="&lt;"+e.classData.type+"&gt;":w+="<"+e.classData.type+">");const S=d.node().appendChild(ml(w,e.labelStyle,!0,!0));bt(S).attr("class","classTitle");let E=S.getBBox();if(Nn(Ue().flowchart.htmlLabels)){const D=S.children[0],F=bt(S);E=D.getBoundingClientRect(),F.attr("width",E.width),F.attr("height",E.height)}f+=E.height+n,E.width>h&&(h=E.width);const C=[];e.classData.members.forEach(D=>{const F=D.getDisplayDetails();let M=F.displayText;Ue().flowchart.htmlLabels&&(M=M.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const B=d.node().appendChild(ml(M,F.cssStyle?F.cssStyle:e.labelStyle,!0,!0));let H=B.getBBox();if(Nn(Ue().flowchart.htmlLabels)){const R=B.children[0],O=bt(B);H=R.getBoundingClientRect(),O.attr("width",H.width),O.attr("height",H.height)}H.width>h&&(h=H.width),f+=H.height+n,C.push(B)}),f+=i;const L=[];if(e.classData.methods.forEach(D=>{const F=D.getDisplayDetails();let M=F.displayText;Ue().flowchart.htmlLabels&&(M=M.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const B=d.node().appendChild(ml(M,F.cssStyle?F.cssStyle:e.labelStyle,!0,!0));let H=B.getBBox();if(Nn(Ue().flowchart.htmlLabels)){const R=B.children[0],O=bt(B);H=R.getBoundingClientRect(),O.attr("width",H.width),O.attr("height",H.height)}H.width>h&&(h=H.width),f+=H.height+n,L.push(B)}),f+=i,m){let D=(h-y.width)/2;bt(x).attr("transform","translate( "+(-1*h/2+D)+", "+-1*f/2+")"),p=y.height+n}let _=(h-E.width)/2;return bt(S).attr("transform","translate( "+(-1*h/2+_)+", "+(-1*f/2+p)+")"),p+=E.height+n,l.attr("class","divider").attr("x1",-h/2-r).attr("x2",h/2+r).attr("y1",-f/2-r+i+p).attr("y2",-f/2-r+i+p),p+=i,C.forEach(D=>{bt(D).attr("transform","translate( "+-h/2+", "+(-1*f/2+p+i/2)+")");const F=D==null?void 0:D.getBBox();p+=((F==null?void 0:F.height)??0)+n}),p+=i,u.attr("class","divider").attr("x1",-h/2-r).attr("x2",h/2+r).attr("y1",-f/2-r+i+p).attr("y2",-f/2-r+i+p),p+=i,L.forEach(D=>{bt(D).attr("transform","translate( "+-h/2+", "+(-1*f/2+p)+")");const F=D==null?void 0:D.getBBox();p+=((F==null?void 0:F.height)??0)+n}),o.attr("style",e.style).attr("class","outer title-state").attr("x",-h/2-r).attr("y",-(f/2)-r).attr("width",h+e.padding).attr("height",f+e.padding),Ci(e,o),e.intersect=function(D){return oi.rect(e,D)},s},"class_box"),bq={rhombus:yq,composite:olt,question:yq,rect:slt,labelRect:llt,rectWithTitle:ult,choice:Kot,circle:hlt,doublecircle:flt,stadium:clt,hexagon:Qot,block_arrow:Zot,rect_left_inv_arrow:Jot,lean_right:elt,lean_left:tlt,trapezoid:rlt,inv_trapezoid:nlt,rect_right_inv_arrow:ilt,cylinder:alt,start:plt,end:glt,note:jot,subroutine:dlt,fork:xq,join:xq,class_box:mlt},K3={},dfe=k(async(t,e,r)=>{let n,i;if(e.link){let a;Ue().securityLevel==="sandbox"?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),n=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a),i=await bq[e.shape](n,e,r)}else i=await bq[e.shape](t,e,r),n=i;return e.tooltip&&i.attr("title",e.tooltip),e.class&&i.attr("class","node default "+e.class),K3[e.id]=n,e.haveCallback&&K3[e.id].attr("class",K3[e.id].attr("class")+" clickable"),n},"insertNode"),vlt=k(t=>{const e=K3[t.id];Ee.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=8,n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},"positionNode");function gO(t,e,r=!1){var d,p,m;const n=t;let i="default";(((d=n==null?void 0:n.classes)==null?void 0:d.length)||0)>0&&(i=((n==null?void 0:n.classes)??[]).join(" ")),i=i+" flowchart-label";let a=0,s="",o;switch(n.type){case"round":a=5,s="rect";break;case"composite":a=0,s="composite",o=0;break;case"square":s="rect";break;case"diamond":s="question";break;case"hexagon":s="hexagon";break;case"block_arrow":s="block_arrow";break;case"odd":s="rect_left_inv_arrow";break;case"lean_right":s="lean_right";break;case"lean_left":s="lean_left";break;case"trapezoid":s="trapezoid";break;case"inv_trapezoid":s="inv_trapezoid";break;case"rect_left_inv_arrow":s="rect_left_inv_arrow";break;case"circle":s="circle";break;case"ellipse":s="ellipse";break;case"stadium":s="stadium";break;case"subroutine":s="subroutine";break;case"cylinder":s="cylinder";break;case"group":s="rect";break;case"doublecircle":s="doublecircle";break;default:s="rect"}const l=WR((n==null?void 0:n.styles)??[]),u=n.label,h=n.size??{width:0,height:0,x:0,y:0};return{labelStyle:l.labelStyle,shape:s,labelText:u,rx:a,ry:a,class:i,style:l.style,id:n.id,directions:n.directions,width:h.width,height:h.height,x:h.x,y:h.y,positioned:r,intersect:void 0,type:n.type,padding:o??((m=(p=ai())==null?void 0:p.block)==null?void 0:m.padding)??0}}k(gO,"getNodeFromBlock");async function pfe(t,e,r){const n=gO(e,r,!1);if(n.type==="group")return;const i=ai(),a=await dfe(t,n,{config:i}),s=a.node().getBBox(),o=r.getBlock(n.id);o.size={width:s.width,height:s.height,x:0,y:0,node:a},r.setBlock(o),a.remove()}k(pfe,"calculateBlockSize");async function gfe(t,e,r){const n=gO(e,r,!0);if(r.getBlock(n.id).type!=="space"){const a=ai();await dfe(t,n,{config:a}),e.intersect=n==null?void 0:n.intersect,vlt(n)}}k(gfe,"insertBlockPositioned");async function dC(t,e,r,n){for(const i of e)await n(t,i,r),i.children&&await dC(t,i.children,r,n)}k(dC,"performOperations");async function mfe(t,e,r){await dC(t,e,r,pfe)}k(mfe,"calculateBlockSizes");async function vfe(t,e,r){await dC(t,e,r,gfe)}k(vfe,"insertBlocks");async function yfe(t,e,r,n,i){const a=new ws({multigraph:!0,compound:!0});a.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(const s of r)s.size&&a.setNode(s.id,{width:s.size.width,height:s.size.height,intersect:s.intersect});for(const s of e)if(s.start&&s.end){const o=n.getBlock(s.start),l=n.getBlock(s.end);if(o!=null&&o.size&&(l!=null&&l.size)){const u=o.size,h=l.size,f=[{x:u.x,y:u.y},{x:u.x+(h.x-u.x)/2,y:u.y+(h.y-u.y)/2},{x:h.x,y:h.y}];$ot(t,{v:s.start,w:s.end,name:s.id},{...s,arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:f,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",a,i),s.label&&(await Oot(t,{...s,label:s.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:f,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),Pot({...s,x:f[1].x,y:f[1].y},{originalPath:f}))}}}k(yfe,"insertEdges");var ylt=k(function(t,e){return e.db.getClasses()},"getClasses"),xlt=k(async function(t,e,r,n){const{securityLevel:i,block:a}=ai(),s=n.db;let o;i==="sandbox"&&(o=bt("#i"+e));const l=bt(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?l.select(`[id="${e}"]`):bt(`[id="${e}"]`);Dot(u,["point","circle","cross"],n.type,e);const f=s.getBlocks(),d=s.getBlocksFlat(),p=s.getEdges(),m=u.insert("g").attr("class","block");await mfe(m,f,s);const v=afe(s);if(await vfe(m,f,s),await yfe(m,p,d,s,e),v){const x=v,y=Math.max(1,Math.round(.125*(x.width/x.height))),w=x.height+y+10,S=x.width+10,{useMaxWidth:E}=a;xs(u,w,S,!!E),Ee.debug("Here Bounds",v,x),u.attr("viewBox",`${x.x-5} ${x.y-5} ${x.width+10} ${x.height+10}`)}},"draw"),blt={draw:xlt,getClasses:ylt},wlt={parser:Qst,db:mot,renderer:blt,styles:yot};const Slt=Object.freeze(Object.defineProperty({__proto__:null,diagram:wlt},Symbol.toStringTag,{value:"Module"}));var xfe={exports:{}},G8={exports:{}},W8={exports:{}},wq;function klt(){return wq||(wq=1,function(t,e){(function(n,i){t.exports=i()})(Pl,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=28)}([function(r,n,i){function a(){}a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){var a=i(2),s=i(8),o=i(9);function l(h,f,d){a.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=h,this.target=f}l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(h){if(this.source===h)return this.target;if(this.target===h)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(h,f){for(var d=this.getOtherEnd(h),p=f.getGraphManager().getRoot();;){if(d.getOwner()==f)return d;if(d.getOwner()==p)break;d=d.getOwner().getParent()}return null},l.prototype.updateLength=function(){var h=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),h),this.isOverlapingSourceAndTarget||(this.lengthX=h[0]-h[2],this.lengthY=h[1]-h[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,i){function a(s){this.vGraphObject=s}r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(13),l=i(0),u=i(16),h=i(5);function f(p,m,v,x){v==null&&x==null&&(x=m),a.call(this,x),p.graphManager!=null&&(p=p.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=x,this.edges=[],this.graphManager=p,v!=null&&m!=null?this.rect=new o(m.x,m.y,v.width,v.height):this.rect=new o}f.prototype=Object.create(a.prototype);for(var d in a)f[d]=a[d];f.prototype.getEdges=function(){return this.edges},f.prototype.getChild=function(){return this.child},f.prototype.getOwner=function(){return this.owner},f.prototype.getWidth=function(){return this.rect.width},f.prototype.setWidth=function(p){this.rect.width=p},f.prototype.getHeight=function(){return this.rect.height},f.prototype.setHeight=function(p){this.rect.height=p},f.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},f.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},f.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},f.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},f.prototype.getRect=function(){return this.rect},f.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},f.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},f.prototype.setRect=function(p,m){this.rect.x=p.x,this.rect.y=p.y,this.rect.width=m.width,this.rect.height=m.height},f.prototype.setCenter=function(p,m){this.rect.x=p-this.rect.width/2,this.rect.y=m-this.rect.height/2},f.prototype.setLocation=function(p,m){this.rect.x=p,this.rect.y=m},f.prototype.moveBy=function(p,m){this.rect.x+=p,this.rect.y+=m},f.prototype.getEdgeListToNode=function(p){var m=[],v=this;return v.edges.forEach(function(x){if(x.target==p){if(x.source!=v)throw"Incorrect edge source!";m.push(x)}}),m},f.prototype.getEdgesBetween=function(p){var m=[],v=this;return v.edges.forEach(function(x){if(!(x.source==v||x.target==v))throw"Incorrect edge source and/or target";(x.target==p||x.source==p)&&m.push(x)}),m},f.prototype.getNeighborsList=function(){var p=new Set,m=this;return m.edges.forEach(function(v){if(v.source==m)p.add(v.target);else{if(v.target!=m)throw"Incorrect incidency!";p.add(v.source)}}),p},f.prototype.withChildren=function(){var p=new Set,m,v;if(p.add(this),this.child!=null)for(var x=this.child.getNodes(),y=0;y<x.length;y++)m=x[y],v=m.withChildren(),v.forEach(function(w){p.add(w)});return p},f.prototype.getNoOfChildren=function(){var p=0,m;if(this.child==null)p=1;else for(var v=this.child.getNodes(),x=0;x<v.length;x++)m=v[x],p+=m.getNoOfChildren();return p==0&&(p=1),p},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},f.prototype.scatter=function(){var p,m,v=-l.INITIAL_WORLD_BOUNDARY,x=l.INITIAL_WORLD_BOUNDARY;p=l.WORLD_CENTER_X+u.nextDouble()*(x-v)+v;var y=-l.INITIAL_WORLD_BOUNDARY,w=l.INITIAL_WORLD_BOUNDARY;m=l.WORLD_CENTER_Y+u.nextDouble()*(w-y)+y,this.rect.x=p,this.rect.y=m},f.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var p=this.getChild();if(p.updateBounds(!0),this.rect.x=p.getLeft(),this.rect.y=p.getTop(),this.setWidth(p.getRight()-p.getLeft()),this.setHeight(p.getBottom()-p.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var m=p.getRight()-p.getLeft(),v=p.getBottom()-p.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(m+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>m?(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(m+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(v+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>v?(this.rect.y-=(this.labelHeight-v)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(v+this.labelHeight))}}},f.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},f.prototype.transform=function(p){var m=this.rect.x;m>l.WORLD_BOUNDARY?m=l.WORLD_BOUNDARY:m<-l.WORLD_BOUNDARY&&(m=-l.WORLD_BOUNDARY);var v=this.rect.y;v>l.WORLD_BOUNDARY?v=l.WORLD_BOUNDARY:v<-l.WORLD_BOUNDARY&&(v=-l.WORLD_BOUNDARY);var x=new h(m,v),y=p.inverseTransformPoint(x);this.setLocation(y.x,y.y)},f.prototype.getLeft=function(){return this.rect.x},f.prototype.getRight=function(){return this.rect.x+this.rect.width},f.prototype.getTop=function(){return this.rect.y},f.prototype.getBottom=function(){return this.rect.y+this.rect.height},f.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=f},function(r,n,i){var a=i(0);function s(){}for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(0),l=i(7),u=i(3),h=i(1),f=i(13),d=i(12),p=i(11);function m(x,y,w){a.call(this,w),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=x,y!=null&&y instanceof l?this.graphManager=y:y!=null&&y instanceof Layout&&(this.graphManager=y.graphManager)}m.prototype=Object.create(a.prototype);for(var v in a)m[v]=a[v];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(x,y,w){if(y==null&&w==null){var S=x;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(S)>-1)throw"Node already in graph!";return S.owner=this,this.getNodes().push(S),S}else{var E=x;if(!(this.getNodes().indexOf(y)>-1&&this.getNodes().indexOf(w)>-1))throw"Source or target not in graph!";if(!(y.owner==w.owner&&y.owner==this))throw"Both owners must be this graph!";return y.owner!=w.owner?null:(E.source=y,E.target=w,E.isInterGraph=!1,this.getEdges().push(E),y.edges.push(E),w!=y&&w.edges.push(E),E)}},m.prototype.remove=function(x){var y=x;if(x instanceof u){if(y==null)throw"Node is null!";if(!(y.owner!=null&&y.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var w=y.edges.slice(),S,E=w.length,C=0;C<E;C++)S=w[C],S.isInterGraph?this.graphManager.remove(S):S.source.owner.remove(S);var L=this.nodes.indexOf(y);if(L==-1)throw"Node not in owner node list!";this.nodes.splice(L,1)}else if(x instanceof h){var S=x;if(S==null)throw"Edge is null!";if(!(S.source!=null&&S.target!=null))throw"Source and/or target is null!";if(!(S.source.owner!=null&&S.target.owner!=null&&S.source.owner==this&&S.target.owner==this))throw"Source and/or target owner is invalid!";var _=S.source.edges.indexOf(S),I=S.target.edges.indexOf(S);if(!(_>-1&&I>-1))throw"Source and/or target doesn't know this edge!";S.source.edges.splice(_,1),S.target!=S.source&&S.target.edges.splice(I,1);var L=S.source.owner.getEdges().indexOf(S);if(L==-1)throw"Not in owner's edge list!";S.source.owner.getEdges().splice(L,1)}},m.prototype.updateLeftTop=function(){for(var x=s.MAX_VALUE,y=s.MAX_VALUE,w,S,E,C=this.getNodes(),L=C.length,_=0;_<L;_++){var I=C[_];w=I.getTop(),S=I.getLeft(),x>w&&(x=w),y>S&&(y=S)}return x==s.MAX_VALUE?null:(C[0].getParent().paddingLeft!=null?E=C[0].getParent().paddingLeft:E=this.margin,this.left=y-E,this.top=x-E,new d(this.left,this.top))},m.prototype.updateBounds=function(x){for(var y=s.MAX_VALUE,w=-s.MAX_VALUE,S=s.MAX_VALUE,E=-s.MAX_VALUE,C,L,_,I,D,F=this.nodes,M=F.length,B=0;B<M;B++){var H=F[B];x&&H.child!=null&&H.updateBounds(),C=H.getLeft(),L=H.getRight(),_=H.getTop(),I=H.getBottom(),y>C&&(y=C),w<L&&(w=L),S>_&&(S=_),E<I&&(E=I)}var R=new f(y,S,w-y,E-S);y==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),F[0].getParent().paddingLeft!=null?D=F[0].getParent().paddingLeft:D=this.margin,this.left=R.x-D,this.right=R.x+R.width+D,this.top=R.y-D,this.bottom=R.y+R.height+D},m.calculateBounds=function(x){for(var y=s.MAX_VALUE,w=-s.MAX_VALUE,S=s.MAX_VALUE,E=-s.MAX_VALUE,C,L,_,I,D=x.length,F=0;F<D;F++){var M=x[F];C=M.getLeft(),L=M.getRight(),_=M.getTop(),I=M.getBottom(),y>C&&(y=C),w<L&&(w=L),S>_&&(S=_),E<I&&(E=I)}var B=new f(y,S,w-y,E-S);return B},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var x=0,y=this.nodes,w=y.length,S=0;S<w;S++){var E=y[S];x+=E.calcEstimatedSize()}return x==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=x/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var x=this;if(this.nodes.length==0){this.isConnected=!0;return}var y=new p,w=new Set,S=this.nodes[0],E,C,L=S.withChildren();for(L.forEach(function(B){y.push(B),w.add(B)});y.length!==0;){S=y.shift(),E=S.getEdges();for(var _=E.length,I=0;I<_;I++){var D=E[I];if(C=D.getOtherEndInGraph(S,this),C!=null&&!w.has(C)){var F=C.withChildren();F.forEach(function(B){y.push(B),w.add(B)})}}}if(this.isConnected=!1,w.size>=this.nodes.length){var M=0;w.forEach(function(B){B.owner==x&&M++}),M==this.nodes.length&&(this.isConnected=!0)}},r.exports=m},function(r,n,i){var a,s=i(1);function o(l){a=i(6),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),u=this.layout.newNode(null),h=this.add(l,u);return this.setRootGraph(h),this.rootGraph},o.prototype.add=function(l,u,h,f,d){if(h==null&&f==null&&d==null){if(l==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return l.parent=u,u.child=l,l}else{d=h,f=u,h=l;var p=f.getOwner(),m=d.getOwner();if(!(p!=null&&p.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(p==m)return h.isInterGraph=!1,p.add(h,f,d);if(h.isInterGraph=!0,h.source=f,h.target=d,this.edges.indexOf(h)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(h),!(h.source!=null&&h.target!=null))throw"Edge source and/or target is null!";if(!(h.source.edges.indexOf(h)==-1&&h.target.edges.indexOf(h)==-1))throw"Edge already in source and/or target incidency list!";return h.source.edges.push(h),h.target.edges.push(h),h}},o.prototype.remove=function(l){if(l instanceof a){var u=l;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var h=[];h=h.concat(u.getEdges());for(var f,d=h.length,p=0;p<d;p++)f=h[p],u.remove(f);var m=[];m=m.concat(u.getNodes());var v;d=m.length;for(var p=0;p<d;p++)v=m[p],u.remove(v);u==this.rootGraph&&this.setRootGraph(null);var x=this.graphs.indexOf(u);this.graphs.splice(x,1),u.parent=null}else if(l instanceof s){if(f=l,f==null)throw"Edge is null!";if(!f.isInterGraph)throw"Not an inter-graph edge!";if(!(f.source!=null&&f.target!=null))throw"Source and/or target is null!";if(!(f.source.edges.indexOf(f)!=-1&&f.target.edges.indexOf(f)!=-1))throw"Source and/or target doesn't know this edge!";var x=f.source.edges.indexOf(f);if(f.source.edges.splice(x,1),x=f.target.edges.indexOf(f),f.target.edges.splice(x,1),!(f.source.owner!=null&&f.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(f.source.owner.getGraphManager().edges.indexOf(f)==-1)throw"Not in owner graph manager's edge list!";var x=f.source.owner.getGraphManager().edges.indexOf(f);f.source.owner.getGraphManager().edges.splice(x,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],u=this.getGraphs(),h=u.length,f=0;f<h;f++)l=l.concat(u[f].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],u=this.getGraphs();u.length;for(var h=0;h<u.length;h++)l=l.concat(u[h].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,u){if(!(l!=null&&u!=null))throw"assert failed";if(l==u)return!0;var h=l.getOwner(),f;do{if(f=h.getParent(),f==null)break;if(f==u)return!0;if(h=f.getOwner(),h==null)break}while(!0);h=u.getOwner();do{if(f=h.getParent(),f==null)break;if(f==l)return!0;if(h=f.getOwner(),h==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,u,h,f,d,p=this.getAllEdges(),m=p.length,v=0;v<m;v++){if(l=p[v],u=l.source,h=l.target,l.lca=null,l.sourceInLca=u,l.targetInLca=h,u==h){l.lca=u.getOwner();continue}for(f=u.getOwner();l.lca==null;){for(l.targetInLca=h,d=h.getOwner();l.lca==null;){if(d==f){l.lca=d;break}if(d==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=d.getParent(),d=l.targetInLca.getOwner()}if(f==this.rootGraph)break;l.lca==null&&(l.sourceInLca=f.getParent(),f=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,u){if(l==u)return l.getOwner();var h=l.getOwner();do{if(h==null)break;var f=u.getOwner();do{if(f==null)break;if(f==h)return f;f=f.getParent().getOwner()}while(!0);h=h.getParent().getOwner()}while(!0);return h},o.prototype.calcInclusionTreeDepths=function(l,u){l==null&&u==null&&(l=this.rootGraph,u=1);for(var h,f=l.getNodes(),d=f.length,p=0;p<d;p++)h=f[p],h.inclusionTreeDepth=u,h.child!=null&&this.calcInclusionTreeDepths(h.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var l,u=[],h=this.edges.length,f=0;f<h;f++)l=this.edges[f],this.isOneAncestorOfOther(l.source,l.target)&&u.push(l);for(var f=0;f<u.length;f++)this.remove(u[f]);return!1},r.exports=o},function(r,n,i){var a=i(12);function s(){}s.calcSeparationAmount=function(o,l,u,h){if(!o.intersects(l))throw"assert failed";var f=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,f),u[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),u[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?u[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?u[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var d=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(d=1);var p=d*u[0],m=u[1]/d;u[0]<m?m=u[0]:p=u[1],u[0]=-1*f[0]*(m/2+h),u[1]=-1*f[1]*(p/2+h)},s.decideDirectionsForOverlappingNodes=function(o,l,u){o.getCenterX()<l.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<l.getCenterY()?u[1]=-1:u[1]=1},s.getIntersection2=function(o,l,u){var h=o.getCenterX(),f=o.getCenterY(),d=l.getCenterX(),p=l.getCenterY();if(o.intersects(l))return u[0]=h,u[1]=f,u[2]=d,u[3]=p,!0;var m=o.getX(),v=o.getY(),x=o.getRight(),y=o.getX(),w=o.getBottom(),S=o.getRight(),E=o.getWidthHalf(),C=o.getHeightHalf(),L=l.getX(),_=l.getY(),I=l.getRight(),D=l.getX(),F=l.getBottom(),M=l.getRight(),B=l.getWidthHalf(),H=l.getHeightHalf(),R=!1,O=!1;if(h===d){if(f>p)return u[0]=h,u[1]=v,u[2]=d,u[3]=F,!1;if(f<p)return u[0]=h,u[1]=w,u[2]=d,u[3]=_,!1}else if(f===p){if(h>d)return u[0]=m,u[1]=f,u[2]=I,u[3]=p,!1;if(h<d)return u[0]=x,u[1]=f,u[2]=L,u[3]=p,!1}else{var P=o.height/o.width,z=l.height/l.width,$=(p-f)/(d-h),V=void 0,X=void 0,q=void 0,Y=void 0,U=void 0,Z=void 0;if(-P===$?h>d?(u[0]=y,u[1]=w,R=!0):(u[0]=x,u[1]=v,R=!0):P===$&&(h>d?(u[0]=m,u[1]=v,R=!0):(u[0]=S,u[1]=w,R=!0)),-z===$?d>h?(u[2]=D,u[3]=F,O=!0):(u[2]=I,u[3]=_,O=!0):z===$&&(d>h?(u[2]=L,u[3]=_,O=!0):(u[2]=M,u[3]=F,O=!0)),R&&O)return!1;if(h>d?f>p?(V=this.getCardinalDirection(P,$,4),X=this.getCardinalDirection(z,$,2)):(V=this.getCardinalDirection(-P,$,3),X=this.getCardinalDirection(-z,$,1)):f>p?(V=this.getCardinalDirection(-P,$,1),X=this.getCardinalDirection(-z,$,3)):(V=this.getCardinalDirection(P,$,2),X=this.getCardinalDirection(z,$,4)),!R)switch(V){case 1:Y=v,q=h+-C/$,u[0]=q,u[1]=Y;break;case 2:q=S,Y=f+E*$,u[0]=q,u[1]=Y;break;case 3:Y=w,q=h+C/$,u[0]=q,u[1]=Y;break;case 4:q=y,Y=f+-E*$,u[0]=q,u[1]=Y;break}if(!O)switch(X){case 1:Z=_,U=d+-H/$,u[2]=U,u[3]=Z;break;case 2:U=M,Z=p+B*$,u[2]=U,u[3]=Z;break;case 3:Z=F,U=d+H/$,u[2]=U,u[3]=Z;break;case 4:U=D,Z=p+-B*$,u[2]=U,u[3]=Z;break}}return!1},s.getCardinalDirection=function(o,l,u){return o>l?u:1+u%4},s.getIntersection=function(o,l,u,h){if(h==null)return this.getIntersection2(o,l,u);var f=o.x,d=o.y,p=l.x,m=l.y,v=u.x,x=u.y,y=h.x,w=h.y,S=void 0,E=void 0,C=void 0,L=void 0,_=void 0,I=void 0,D=void 0,F=void 0,M=void 0;return C=m-d,_=f-p,D=p*d-f*m,L=w-x,I=v-y,F=y*x-v*w,M=C*I-L*_,M===0?null:(S=(_*F-I*D)/M,E=(L*D-C*F)/M,new a(S,E))},s.angleOfVector=function(o,l,u,h){var f=void 0;return o!==u?(f=Math.atan((h-l)/(u-o)),u<o?f+=Math.PI:h<l&&(f+=this.TWO_PI)):h<l?f=this.ONE_AND_HALF_PI:f=this.HALF_PI,f},s.doIntersect=function(o,l,u,h){var f=o.x,d=o.y,p=l.x,m=l.y,v=u.x,x=u.y,y=h.x,w=h.y,S=(p-f)*(w-x)-(y-v)*(m-d);if(S===0)return!1;var E=((w-x)*(y-f)+(v-y)*(w-d))/S,C=((d-m)*(y-f)+(p-f)*(w-d))/S;return 0<E&&E<1&&0<C&&C<1},s.findCircleLineIntersections=function(o,l,u,h,f,d,p){var m=(u-o)*(u-o)+(h-l)*(h-l),v=2*((o-f)*(u-o)+(l-d)*(h-l)),x=(o-f)*(o-f)+(l-d)*(l-d)-p*p,y=v*v-4*m*x;if(y>=0){var w=(-v+Math.sqrt(v*v-4*m*x))/(2*m),S=(-v-Math.sqrt(v*v-4*m*x))/(2*m),E=null;return w>=0&&w<=1?[w]:S>=0&&S<=1?[S]:E}else return null},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){function a(){}a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){function a(){}a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){var a=function(){function f(d,p){for(var m=0;m<p.length;m++){var v=p[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}return function(d,p,m){return p&&f(d.prototype,p),m&&f(d,m),d}}();function s(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d){return{value:d,next:null,prev:null}},l=function(d,p,m,v){return d!==null?d.next=p:v.head=p,m!==null?m.prev=p:v.tail=p,p.prev=d,p.next=m,v.length++,p},u=function(d,p){var m=d.prev,v=d.next;return m!==null?m.next=v:p.head=v,v!==null?v.prev=m:p.tail=m,d.prev=d.next=null,p.length--,d},h=function(){function f(d){var p=this;s(this,f),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(m){return p.push(m)})}return a(f,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(p,m){return l(m.prev,o(p),m,this)}},{key:"insertAfter",value:function(p,m){return l(m,o(p),m.next,this)}},{key:"insertNodeBefore",value:function(p,m){return l(m.prev,p,m,this)}},{key:"insertNodeAfter",value:function(p,m){return l(m,p,m.next,this)}},{key:"push",value:function(p){return l(this.tail,o(p),null,this)}},{key:"unshift",value:function(p){return l(null,o(p),this.head,this)}},{key:"remove",value:function(p){return u(p,this)}},{key:"pop",value:function(){return u(this.tail,this).value}},{key:"popNode",value:function(){return u(this.tail,this)}},{key:"shift",value:function(){return u(this.head,this).value}},{key:"shiftNode",value:function(){return u(this.head,this)}},{key:"get_object_at",value:function(p){if(p<=this.length()){for(var m=1,v=this.head;m<p;)v=v.next,m++;return v.value}}},{key:"set_object_at",value:function(p,m){if(p<=this.length()){for(var v=1,x=this.head;v<p;)x=x.next,v++;x.value=m}}}]),f}();r.exports=h},function(r,n,i){function a(s,o,l){this.x=null,this.y=null,s==null&&o==null&&l==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&l==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&l==null&&(l=s,this.x=l.x,this.y=l.y)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,l){s.constructor.name=="Point"&&o==null&&l==null?(l=s,this.setLocation(l.x,l.y)):typeof s=="number"&&typeof o=="number"&&l==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){function a(s,o,l,u){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&l!=null&&u!=null&&(this.x=s,this.y=o,this.width=l,this.height=u)}a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var l=typeof o>"u"?"undefined":a(o);return o==null||l!="object"&&l!="function"},r.exports=s},function(r,n,i){function a(v){if(Array.isArray(v)){for(var x=0,y=Array(v.length);x<v.length;x++)y[x]=v[x];return y}else return Array.from(v)}var s=i(0),o=i(7),l=i(3),u=i(1),h=i(6),f=i(5),d=i(17),p=i(29);function m(v){p.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,v!=null&&(this.isRemoteUse=v)}m.RANDOM_SEED=1,m.prototype=Object.create(p.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var v=new o(this);return this.graphManager=v,v},m.prototype.newGraph=function(v){return new h(null,this.graphManager,v)},m.prototype.newNode=function(v){return new l(this.graphManager,v)},m.prototype.newEdge=function(v){return new u(null,null,v)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var v;return this.checkLayoutSuccess()?v=!1:v=this.layout(),s.ANIMATE==="during"?!1:(v&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,v)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var v=this.graphManager.getAllEdges(),x=0;x<v.length;x++)v[x];for(var y=this.graphManager.getRoot().getNodes(),x=0;x<y.length;x++)y[x];this.update(this.graphManager.getRoot())}},m.prototype.update=function(v){if(v==null)this.update2();else if(v instanceof l){var x=v;if(x.getChild()!=null)for(var y=x.getChild().getNodes(),w=0;w<y.length;w++)update(y[w]);if(x.vGraphObject!=null){var S=x.vGraphObject;S.update(x)}}else if(v instanceof u){var E=v;if(E.vGraphObject!=null){var C=E.vGraphObject;C.update(E)}}else if(v instanceof h){var L=v;if(L.vGraphObject!=null){var _=L.vGraphObject;_.update(L)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(v){if(v==null)this.transform(new f(0,0));else{var x=new d,y=this.graphManager.getRoot().updateLeftTop();if(y!=null){x.setWorldOrgX(v.x),x.setWorldOrgY(v.y),x.setDeviceOrgX(y.x),x.setDeviceOrgY(y.y);for(var w=this.getAllNodes(),S,E=0;E<w.length;E++)S=w[E],S.transform(x)}}},m.prototype.positionNodesRandomly=function(v){if(v==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var x,y,w=v.getNodes(),S=0;S<w.length;S++)x=w[S],y=x.getChild(),y==null||y.getNodes().length==0?x.scatter():(this.positionNodesRandomly(y),x.updateBounds())},m.prototype.getFlatForest=function(){for(var v=[],x=!0,y=this.graphManager.getRoot().getNodes(),w=!0,S=0;S<y.length;S++)y[S].getChild()!=null&&(w=!1);if(!w)return v;var E=new Set,C=[],L=new Map,_=[];for(_=_.concat(y);_.length>0&&x;){for(C.push(_[0]);C.length>0&&x;){var I=C[0];C.splice(0,1),E.add(I);for(var D=I.getEdges(),S=0;S<D.length;S++){var F=D[S].getOtherEnd(I);if(L.get(I)!=F)if(!E.has(F))C.push(F),L.set(F,I);else{x=!1;break}}}if(!x)v=[];else{var M=[].concat(a(E));v.push(M);for(var S=0;S<M.length;S++){var B=M[S],H=_.indexOf(B);H>-1&&_.splice(H,1)}E=new Set,L=new Map}}return v},m.prototype.createDummyNodesForBendpoints=function(v){for(var x=[],y=v.source,w=this.graphManager.calcLowestCommonAncestor(v.source,v.target),S=0;S<v.bendpoints.length;S++){var E=this.newNode(null);E.setRect(new Point(0,0),new Dimension(1,1)),w.add(E);var C=this.newEdge(null);this.graphManager.add(C,y,E),x.add(E),y=E}var C=this.newEdge(null);return this.graphManager.add(C,y,v.target),this.edgeToDummyNodes.set(v,x),v.isInterGraph()?this.graphManager.remove(v):w.remove(v),x},m.prototype.createBendpointsFromDummyNodes=function(){var v=[];v=v.concat(this.graphManager.getAllEdges()),v=[].concat(a(this.edgeToDummyNodes.keys())).concat(v);for(var x=0;x<v.length;x++){var y=v[x];if(y.bendpoints.length>0){for(var w=this.edgeToDummyNodes.get(y),S=0;S<w.length;S++){var E=w[S],C=new f(E.getCenterX(),E.getCenterY()),L=y.bendpoints.get(S);L.x=C.x,L.y=C.y,E.getOwner().remove(E)}this.graphManager.add(y,y.source,y.target)}}},m.transform=function(v,x,y,w){if(y!=null&&w!=null){var S=x;if(v<=50){var E=x/y;S-=(x-E)/50*(50-v)}else{var C=x*w;S+=(C-x)/50*(v-50)}return S}else{var L,_;return v<=50?(L=9*x/500,_=x/10):(L=9*x/50,_=-8*x),L*v+_}},m.findCenterOfTree=function(v){var x=[];x=x.concat(v);var y=[],w=new Map,S=!1,E=null;(x.length==1||x.length==2)&&(S=!0,E=x[0]);for(var C=0;C<x.length;C++){var L=x[C],_=L.getNeighborsList().size;w.set(L,L.getNeighborsList().size),_==1&&y.push(L)}var I=[];for(I=I.concat(y);!S;){var D=[];D=D.concat(I),I=[];for(var C=0;C<x.length;C++){var L=x[C],F=x.indexOf(L);F>=0&&x.splice(F,1);var M=L.getNeighborsList();M.forEach(function(R){if(y.indexOf(R)<0){var O=w.get(R),P=O-1;P==1&&I.push(R),w.set(R,P)}})}y=y.concat(I),(x.length==1||x.length==2)&&(S=!0,E=x[0])}return E},m.prototype.setGraphManager=function(v){this.graphManager=v},r.exports=m},function(r,n,i){function a(){}a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){var a=i(5);function s(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var l=0,u=this.lworldExtX;return u!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),l},s.prototype.transformY=function(o){var l=0,u=this.lworldExtY;return u!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),l},s.prototype.inverseTransformX=function(o){var l=0,u=this.ldeviceExtX;return u!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),l},s.prototype.inverseTransformY=function(o){var l=0,u=this.ldeviceExtY;return u!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),l},s.prototype.inverseTransformPoint=function(o){var l=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=s},function(r,n,i){function a(p){if(Array.isArray(p)){for(var m=0,v=Array(p.length);m<p.length;m++)v[m]=p[m];return v}else return Array.from(p)}var s=i(15),o=i(4),l=i(0),u=i(8),h=i(9);function f(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}f.prototype=Object.create(s.prototype);for(var d in s)f[d]=s[d];f.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},f.prototype.calcIdealEdgeLengths=function(){for(var p,m,v,x,y,w,S,E=this.getGraphManager().getAllEdges(),C=0;C<E.length;C++)p=E[C],m=p.idealLength,p.isInterGraph&&(x=p.getSource(),y=p.getTarget(),w=p.getSourceInLca().getEstimatedSize(),S=p.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(p.idealLength+=w+S-2*l.SIMPLE_NODE_SIZE),v=p.getLca().getInclusionTreeDepth(),p.idealLength+=m*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(x.getInclusionTreeDepth()+y.getInclusionTreeDepth()-2*v))},f.prototype.initSpringEmbedder=function(){var p=this.getAllNodes().length;this.incremental?(p>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(p>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},f.prototype.calcSpringForces=function(){for(var p=this.getAllEdges(),m,v=0;v<p.length;v++)m=p[v],this.calcSpringForce(m,m.idealLength)},f.prototype.calcRepulsionForces=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v,x,y,w,S=this.getAllNodes(),E;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&p&&this.updateGrid(),E=new Set,v=0;v<S.length;v++)y=S[v],this.calculateRepulsionForceOfANode(y,E,p,m),E.add(y);else for(v=0;v<S.length;v++)for(y=S[v],x=v+1;x<S.length;x++)w=S[x],y.getOwner()==w.getOwner()&&this.calcRepulsionForce(y,w)},f.prototype.calcGravitationalForces=function(){for(var p,m=this.getAllNodesToApplyGravitation(),v=0;v<m.length;v++)p=m[v],this.calcGravitationalForce(p)},f.prototype.moveNodes=function(){for(var p=this.getAllNodes(),m,v=0;v<p.length;v++)m=p[v],m.move()},f.prototype.calcSpringForce=function(p,m){var v=p.getSource(),x=p.getTarget(),y,w,S,E;if(this.uniformLeafNodeSizes&&v.getChild()==null&&x.getChild()==null)p.updateLengthSimple();else if(p.updateLength(),p.isOverlapingSourceAndTarget)return;y=p.getLength(),y!=0&&(w=p.edgeElasticity*(y-m),S=w*(p.lengthX/y),E=w*(p.lengthY/y),v.springForceX+=S,v.springForceY+=E,x.springForceX-=S,x.springForceY-=E)},f.prototype.calcRepulsionForce=function(p,m){var v=p.getRect(),x=m.getRect(),y=new Array(2),w=new Array(4),S,E,C,L,_,I,D;if(v.intersects(x)){u.calcSeparationAmount(v,x,y,o.DEFAULT_EDGE_LENGTH/2),I=2*y[0],D=2*y[1];var F=p.noOfChildren*m.noOfChildren/(p.noOfChildren+m.noOfChildren);p.repulsionForceX-=F*I,p.repulsionForceY-=F*D,m.repulsionForceX+=F*I,m.repulsionForceY+=F*D}else this.uniformLeafNodeSizes&&p.getChild()==null&&m.getChild()==null?(S=x.getCenterX()-v.getCenterX(),E=x.getCenterY()-v.getCenterY()):(u.getIntersection(v,x,w),S=w[2]-w[0],E=w[3]-w[1]),Math.abs(S)<o.MIN_REPULSION_DIST&&(S=h.sign(S)*o.MIN_REPULSION_DIST),Math.abs(E)<o.MIN_REPULSION_DIST&&(E=h.sign(E)*o.MIN_REPULSION_DIST),C=S*S+E*E,L=Math.sqrt(C),_=(p.nodeRepulsion/2+m.nodeRepulsion/2)*p.noOfChildren*m.noOfChildren/C,I=_*S/L,D=_*E/L,p.repulsionForceX-=I,p.repulsionForceY-=D,m.repulsionForceX+=I,m.repulsionForceY+=D},f.prototype.calcGravitationalForce=function(p){var m,v,x,y,w,S,E,C;m=p.getOwner(),v=(m.getRight()+m.getLeft())/2,x=(m.getTop()+m.getBottom())/2,y=p.getCenterX()-v,w=p.getCenterY()-x,S=Math.abs(y)+p.getWidth()/2,E=Math.abs(w)+p.getHeight()/2,p.getOwner()==this.graphManager.getRoot()?(C=m.getEstimatedSize()*this.gravityRangeFactor,(S>C||E>C)&&(p.gravitationForceX=-this.gravityConstant*y,p.gravitationForceY=-this.gravityConstant*w)):(C=m.getEstimatedSize()*this.compoundGravityRangeFactor,(S>C||E>C)&&(p.gravitationForceX=-this.gravityConstant*y*this.compoundGravityConstant,p.gravitationForceY=-this.gravityConstant*w*this.compoundGravityConstant))},f.prototype.isConverged=function(){var p,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),p=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,p||m},f.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},f.prototype.calcNoOfChildrenForAllNodes=function(){for(var p,m=this.graphManager.getAllNodes(),v=0;v<m.length;v++)p=m[v],p.noOfChildren=p.getNoOfChildren()},f.prototype.calcGrid=function(p){var m=0,v=0;m=parseInt(Math.ceil((p.getRight()-p.getLeft())/this.repulsionRange)),v=parseInt(Math.ceil((p.getBottom()-p.getTop())/this.repulsionRange));for(var x=new Array(m),y=0;y<m;y++)x[y]=new Array(v);for(var y=0;y<m;y++)for(var w=0;w<v;w++)x[y][w]=new Array;return x},f.prototype.addNodeToGrid=function(p,m,v){var x=0,y=0,w=0,S=0;x=parseInt(Math.floor((p.getRect().x-m)/this.repulsionRange)),y=parseInt(Math.floor((p.getRect().width+p.getRect().x-m)/this.repulsionRange)),w=parseInt(Math.floor((p.getRect().y-v)/this.repulsionRange)),S=parseInt(Math.floor((p.getRect().height+p.getRect().y-v)/this.repulsionRange));for(var E=x;E<=y;E++)for(var C=w;C<=S;C++)this.grid[E][C].push(p),p.setGridCoordinates(x,y,w,S)},f.prototype.updateGrid=function(){var p,m,v=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),p=0;p<v.length;p++)m=v[p],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},f.prototype.calculateRepulsionForceOfANode=function(p,m,v,x){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&v||x){var y=new Set;p.surrounding=new Array;for(var w,S=this.grid,E=p.startX-1;E<p.finishX+2;E++)for(var C=p.startY-1;C<p.finishY+2;C++)if(!(E<0||C<0||E>=S.length||C>=S[0].length)){for(var L=0;L<S[E][C].length;L++)if(w=S[E][C][L],!(p.getOwner()!=w.getOwner()||p==w)&&!m.has(w)&&!y.has(w)){var _=Math.abs(p.getCenterX()-w.getCenterX())-(p.getWidth()/2+w.getWidth()/2),I=Math.abs(p.getCenterY()-w.getCenterY())-(p.getHeight()/2+w.getHeight()/2);_<=this.repulsionRange&&I<=this.repulsionRange&&y.add(w)}}p.surrounding=[].concat(a(y))}for(E=0;E<p.surrounding.length;E++)this.calcRepulsionForce(p,p.surrounding[E])},f.prototype.calcRepulsionRange=function(){return 0},r.exports=f},function(r,n,i){var a=i(1),s=i(4);function o(u,h,f){a.call(this,u,h,f),this.idealLength=s.DEFAULT_EDGE_LENGTH,this.edgeElasticity=s.DEFAULT_SPRING_STRENGTH}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];r.exports=o},function(r,n,i){var a=i(3),s=i(4);function o(u,h,f,d){a.call(this,u,h,f,d),this.nodeRepulsion=s.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];o.prototype.setGridCoordinates=function(u,h,f,d){this.startX=u,this.finishX=h,this.startY=f,this.finishY=d},r.exports=o},function(r,n,i){function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){var a=i(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(o,l){var u=a.createID(o);this.contains(u)||(this.map[u]=l,this.keys.push(o))},s.prototype.contains=function(o){return a.createID(o),this.map[o]!=null},s.prototype.get=function(o){var l=a.createID(o);return this.map[l]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){var a=i(14);function s(){this.set={}}s.prototype.add=function(o){var l=a.createID(o);this.contains(l)||(this.set[l]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),u=l.length,h=0;h<u;h++)o.push(this.set[l[h]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var l=o.length,u=0;u<l;u++){var h=o[u];this.add(h)}},r.exports=s},function(r,n,i){function a(){}a.multMat=function(s,o){for(var l=[],u=0;u<s.length;u++){l[u]=[];for(var h=0;h<o[0].length;h++){l[u][h]=0;for(var f=0;f<s[0].length;f++)l[u][h]+=s[u][f]*o[f][h]}}return l},a.transpose=function(s){for(var o=[],l=0;l<s[0].length;l++){o[l]=[];for(var u=0;u<s.length;u++)o[l][u]=s[u][l]}return o},a.multCons=function(s,o){for(var l=[],u=0;u<s.length;u++)l[u]=s[u]*o;return l},a.minusOp=function(s,o){for(var l=[],u=0;u<s.length;u++)l[u]=s[u]-o[u];return l},a.dotProduct=function(s,o){for(var l=0,u=0;u<s.length;u++)l+=s[u]*o[u];return l},a.mag=function(s){return Math.sqrt(this.dotProduct(s,s))},a.normalize=function(s){for(var o=[],l=this.mag(s),u=0;u<s.length;u++)o[u]=s[u]/l;return o},a.multGamma=function(s){for(var o=[],l=0,u=0;u<s.length;u++)l+=s[u];l*=-1/s.length;for(var h=0;h<s.length;h++)o[h]=l+s[h];return o},a.multL=function(s,o,l){for(var u=[],h=[],f=[],d=0;d<o[0].length;d++){for(var p=0,m=0;m<o.length;m++)p+=-.5*o[m][d]*s[m];h[d]=p}for(var v=0;v<l.length;v++){for(var x=0,y=0;y<l.length;y++)x+=l[v][y]*h[y];f[v]=x}for(var w=0;w<o.length;w++){for(var S=0,E=0;E<o[0].length;E++)S+=o[w][E]*f[E];u[w]=S}return u},r.exports=a},function(r,n,i){var a=function(){function u(h,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,f,d){return f&&u(h.prototype,f),d&&u(h,d),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var o=i(11),l=function(){function u(h,f){s(this,u),(f!==null||f!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;h instanceof o?d=h.size():d=h.length,this._quicksort(h,0,d-1)}return a(u,[{key:"_quicksort",value:function(f,d,p){if(d<p){var m=this._partition(f,d,p);this._quicksort(f,d,m),this._quicksort(f,m+1,p)}}},{key:"_partition",value:function(f,d,p){for(var m=this._get(f,d),v=d,x=p;;){for(;this.compareFunction(m,this._get(f,x));)x--;for(;this.compareFunction(this._get(f,v),m);)v++;if(v<x)this._swap(f,v,x),v++,x--;else return x}}},{key:"_get",value:function(f,d){return f instanceof o?f.get_object_at(d):f[d]}},{key:"_set",value:function(f,d,p){f instanceof o?f.set_object_at(d,p):f[d]=p}},{key:"_swap",value:function(f,d,p){var m=this._get(f,d);this._set(f,d,this._get(f,p)),this._set(f,p,m)}},{key:"_defaultCompareFunction",value:function(f,d){return d>f}}]),u}();r.exports=l},function(r,n,i){function a(){}a.svd=function(s){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=s.length,this.n=s[0].length;var o=Math.min(this.m,this.n);this.s=function(pt){for(var dt=[];pt-- >0;)dt.push(0);return dt}(Math.min(this.m+1,this.n)),this.U=function(pt){var dt=function Rt(er){if(er.length==0)return 0;for(var Ot=[],wr=0;wr<er[0];wr++)Ot.push(Rt(er.slice(1)));return Ot};return dt(pt)}([this.m,o]),this.V=function(pt){var dt=function Rt(er){if(er.length==0)return 0;for(var Ot=[],wr=0;wr<er[0];wr++)Ot.push(Rt(er.slice(1)));return Ot};return dt(pt)}([this.n,this.n]);for(var l=function(pt){for(var dt=[];pt-- >0;)dt.push(0);return dt}(this.n),u=function(pt){for(var dt=[];pt-- >0;)dt.push(0);return dt}(this.m),h=!0,f=Math.min(this.m-1,this.n),d=Math.max(0,Math.min(this.n-2,this.m)),p=0;p<Math.max(f,d);p++){if(p<f){this.s[p]=0;for(var m=p;m<this.m;m++)this.s[p]=a.hypot(this.s[p],s[m][p]);if(this.s[p]!==0){s[p][p]<0&&(this.s[p]=-this.s[p]);for(var v=p;v<this.m;v++)s[v][p]/=this.s[p];s[p][p]+=1}this.s[p]=-this.s[p]}for(var x=p+1;x<this.n;x++){if(function(pt,dt){return pt&&dt}(p<f,this.s[p]!==0)){for(var y=0,w=p;w<this.m;w++)y+=s[w][p]*s[w][x];y=-y/s[p][p];for(var S=p;S<this.m;S++)s[S][x]+=y*s[S][p]}l[x]=s[p][x]}if(function(pt,dt){return dt}(h,p<f))for(var E=p;E<this.m;E++)this.U[E][p]=s[E][p];if(p<d){l[p]=0;for(var C=p+1;C<this.n;C++)l[p]=a.hypot(l[p],l[C]);if(l[p]!==0){l[p+1]<0&&(l[p]=-l[p]);for(var L=p+1;L<this.n;L++)l[L]/=l[p];l[p+1]+=1}if(l[p]=-l[p],function(pt,dt){return pt&&dt}(p+1<this.m,l[p]!==0)){for(var _=p+1;_<this.m;_++)u[_]=0;for(var I=p+1;I<this.n;I++)for(var D=p+1;D<this.m;D++)u[D]+=l[I]*s[D][I];for(var F=p+1;F<this.n;F++)for(var M=-l[F]/l[p+1],B=p+1;B<this.m;B++)s[B][F]+=M*u[B]}for(var H=p+1;H<this.n;H++)this.V[H][p]=l[H]}}var R=Math.min(this.n,this.m+1);f<this.n&&(this.s[f]=s[f][f]),this.m<R&&(this.s[R-1]=0),d+1<R&&(l[d]=s[d][R-1]),l[R-1]=0;{for(var O=f;O<o;O++){for(var P=0;P<this.m;P++)this.U[P][O]=0;this.U[O][O]=1}for(var z=f-1;z>=0;z--)if(this.s[z]!==0){for(var $=z+1;$<o;$++){for(var V=0,X=z;X<this.m;X++)V+=this.U[X][z]*this.U[X][$];V=-V/this.U[z][z];for(var q=z;q<this.m;q++)this.U[q][$]+=V*this.U[q][z]}for(var Y=z;Y<this.m;Y++)this.U[Y][z]=-this.U[Y][z];this.U[z][z]=1+this.U[z][z];for(var U=0;U<z-1;U++)this.U[U][z]=0}else{for(var Z=0;Z<this.m;Z++)this.U[Z][z]=0;this.U[z][z]=1}}for(var pe=this.n-1;pe>=0;pe--){if(function(pt,dt){return pt&&dt}(pe<d,l[pe]!==0))for(var ne=pe+1;ne<o;ne++){for(var ge=0,ye=pe+1;ye<this.n;ye++)ge+=this.V[ye][pe]*this.V[ye][ne];ge=-ge/this.V[pe+1][pe];for(var J=pe+1;J<this.n;J++)this.V[J][ne]+=ge*this.V[J][pe]}for(var se=0;se<this.n;se++)this.V[se][pe]=0;this.V[pe][pe]=1}for(var oe=R-1,fe=Math.pow(2,-52),me=Math.pow(2,-966);R>0;){var be=void 0,ce=void 0;for(be=R-2;be>=-1&&be!==-1;be--)if(Math.abs(l[be])<=me+fe*(Math.abs(this.s[be])+Math.abs(this.s[be+1]))){l[be]=0;break}if(be===R-2)ce=4;else{var Ge=void 0;for(Ge=R-1;Ge>=be&&Ge!==be;Ge--){var xe=(Ge!==R?Math.abs(l[Ge]):0)+(Ge!==be+1?Math.abs(l[Ge-1]):0);if(Math.abs(this.s[Ge])<=me+fe*xe){this.s[Ge]=0;break}}Ge===be?ce=3:Ge===R-1?ce=1:(ce=2,be=Ge)}switch(be++,ce){case 1:{var le=l[R-2];l[R-2]=0;for(var ke=R-2;ke>=be;ke--){var De=a.hypot(this.s[ke],le),We=this.s[ke]/De,qe=le/De;this.s[ke]=De,ke!==be&&(le=-qe*l[ke-1],l[ke-1]=We*l[ke-1]);for(var Ve=0;Ve<this.n;Ve++)De=We*this.V[Ve][ke]+qe*this.V[Ve][R-1],this.V[Ve][R-1]=-qe*this.V[Ve][ke]+We*this.V[Ve][R-1],this.V[Ve][ke]=De}}break;case 2:{var we=l[be-1];l[be-1]=0;for(var Te=be;Te<R;Te++){var de=a.hypot(this.s[Te],we),W=this.s[Te]/de,ee=we/de;this.s[Te]=de,we=-ee*l[Te],l[Te]=W*l[Te];for(var te=0;te<this.m;te++)de=W*this.U[te][Te]+ee*this.U[te][be-1],this.U[te][be-1]=-ee*this.U[te][Te]+W*this.U[te][be-1],this.U[te][Te]=de}}break;case 3:{var he=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[R-1]),Math.abs(this.s[R-2])),Math.abs(l[R-2])),Math.abs(this.s[be])),Math.abs(l[be])),K=this.s[R-1]/he,_e=this.s[R-2]/he,ae=l[R-2]/he,Le=this.s[be]/he,Ne=l[be]/he,Ie=((_e+K)*(_e-K)+ae*ae)/2,Oe=K*ae*(K*ae),Pe=0;(function(pt,dt){return pt||dt})(Ie!==0,Oe!==0)&&(Pe=Math.sqrt(Ie*Ie+Oe),Ie<0&&(Pe=-Pe),Pe=Oe/(Ie+Pe));for(var Me=(Le+K)*(Le-K)+Pe,ze=Le*Ne,it=be;it<R-1;it++){var ut=a.hypot(Me,ze),gt=Me/ut,wt=ze/ut;it!==be&&(l[it-1]=ut),Me=gt*this.s[it]+wt*l[it],l[it]=gt*l[it]-wt*this.s[it],ze=wt*this.s[it+1],this.s[it+1]=gt*this.s[it+1];for(var Pt=0;Pt<this.n;Pt++)ut=gt*this.V[Pt][it]+wt*this.V[Pt][it+1],this.V[Pt][it+1]=-wt*this.V[Pt][it]+gt*this.V[Pt][it+1],this.V[Pt][it]=ut;if(ut=a.hypot(Me,ze),gt=Me/ut,wt=ze/ut,this.s[it]=ut,Me=gt*l[it]+wt*this.s[it+1],this.s[it+1]=-wt*l[it]+gt*this.s[it+1],ze=wt*l[it+1],l[it+1]=gt*l[it+1],it<this.m-1)for(var ot=0;ot<this.m;ot++)ut=gt*this.U[ot][it]+wt*this.U[ot][it+1],this.U[ot][it+1]=-wt*this.U[ot][it]+gt*this.U[ot][it+1],this.U[ot][it]=ut}l[R-2]=Me}break;case 4:{if(this.s[be]<=0){this.s[be]=this.s[be]<0?-this.s[be]:0;for(var at=0;at<=oe;at++)this.V[at][be]=-this.V[at][be]}for(;be<oe&&!(this.s[be]>=this.s[be+1]);){var kt=this.s[be];if(this.s[be]=this.s[be+1],this.s[be+1]=kt,be<this.n-1)for(var ct=0;ct<this.n;ct++)kt=this.V[ct][be+1],this.V[ct][be+1]=this.V[ct][be],this.V[ct][be]=kt;if(be<this.m-1)for(var ft=0;ft<this.m;ft++)kt=this.U[ft][be+1],this.U[ft][be+1]=this.U[ft][be],this.U[ft][be]=kt;be++}R--}break}}var Jt={U:this.U,V:this.V,S:this.s};return Jt},a.hypot=function(s,o){var l=void 0;return Math.abs(s)>Math.abs(o)?(l=o/s,l=Math.abs(s)*Math.sqrt(1+l*l)):o!=0?(l=s/o,l=Math.abs(o)*Math.sqrt(1+l*l)):l=0,l},r.exports=a},function(r,n,i){var a=function(){function l(u,h){for(var f=0;f<h.length;f++){var d=h[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u,h){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,l),this.sequence1=u,this.sequence2=h,this.match_score=f,this.mismatch_penalty=d,this.gap_penalty=p,this.iMax=u.length+1,this.jMax=h.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.grid[m][v]=0}this.tracebackGrid=new Array(this.iMax);for(var x=0;x<this.iMax;x++){this.tracebackGrid[x]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.tracebackGrid[x][y]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var f=1;f<this.iMax;f++)this.grid[f][0]=this.grid[f-1][0]+this.gap_penalty,this.tracebackGrid[f][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var p=1;p<this.jMax;p++){var m=void 0;this.sequence1[d-1]===this.sequence2[p-1]?m=this.grid[d-1][p-1]+this.match_score:m=this.grid[d-1][p-1]+this.mismatch_penalty;var v=this.grid[d-1][p]+this.gap_penalty,x=this.grid[d][p-1]+this.gap_penalty,y=[m,v,x],w=this.arrayAllMaxIndexes(y);this.grid[d][p]=y[w[0]],this.tracebackGrid[d][p]=[w.includes(0),w.includes(1),w.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var f=h[0],d=this.tracebackGrid[f.pos[0]][f.pos[1]];d[0]&&h.push({pos:[f.pos[0]-1,f.pos[1]-1],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),d[1]&&h.push({pos:[f.pos[0]-1,f.pos[1]],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:"-"+f.seq2}),d[2]&&h.push({pos:[f.pos[0],f.pos[1]-1],seq1:"-"+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),f.pos[0]===0&&f.pos[1]===0&&this.alignments.push({sequence1:f.seq1,sequence2:f.seq2}),h.shift()}return this.alignments}},{key:"getAllIndexes",value:function(h,f){for(var d=[],p=-1;(p=h.indexOf(f,p+1))!==-1;)d.push(p);return d}},{key:"arrayAllMaxIndexes",value:function(h){return this.getAllIndexes(h,Math.max.apply(null,h))}}]),l}();r.exports=o},function(r,n,i){var a=function(){};a.FDLayout=i(18),a.FDLayoutConstants=i(4),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(5),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(25),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(6),a.LEdge=i(1),a.LGraphManager=i(7),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(27),a.Matrix=i(24),a.SVD=i(26),r.exports=a},function(r,n,i){function a(){this.listeners=[]}var s=a.prototype;s.addListener=function(o,l){this.listeners.push({event:o,callback:l})},s.removeListener=function(o,l){for(var u=this.listeners.length;u>=0;u--){var h=this.listeners[u];h.event===o&&h.callback===l&&this.listeners.splice(u,1)}},s.emit=function(o,l){for(var u=0;u<this.listeners.length;u++){var h=this.listeners[u];o===h.event&&h.callback(l)}},r.exports=a}])})}(W8)),W8.exports}var Sq;function Elt(){return Sq||(Sq=1,function(t,e){(function(n,i){t.exports=i(klt())})(Pl,function(r){return(()=>{var n={45:(o,l,u)=>{var h={};h.layoutBase=u(551),h.CoSEConstants=u(806),h.CoSEEdge=u(767),h.CoSEGraph=u(880),h.CoSEGraphManager=u(578),h.CoSELayout=u(765),h.CoSENode=u(991),h.ConstraintHandler=u(902),o.exports=h},806:(o,l,u)=>{var h=u(551).FDLayoutConstants;function f(){}for(var d in h)f[d]=h[d];f.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,f.DEFAULT_RADIAL_SEPARATION=h.DEFAULT_EDGE_LENGTH,f.DEFAULT_COMPONENT_SEPERATION=60,f.TILE=!0,f.TILING_PADDING_VERTICAL=10,f.TILING_PADDING_HORIZONTAL=10,f.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,f.ENFORCE_CONSTRAINTS=!0,f.APPLY_LAYOUT=!0,f.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,f.TREE_REDUCTION_ON_INCREMENTAL=!0,f.PURE_INCREMENTAL=f.DEFAULT_INCREMENTAL,o.exports=f},767:(o,l,u)=>{var h=u(551).FDLayoutEdge;function f(p,m,v){h.call(this,p,m,v)}f.prototype=Object.create(h.prototype);for(var d in h)f[d]=h[d];o.exports=f},880:(o,l,u)=>{var h=u(551).LGraph;function f(p,m,v){h.call(this,p,m,v)}f.prototype=Object.create(h.prototype);for(var d in h)f[d]=h[d];o.exports=f},578:(o,l,u)=>{var h=u(551).LGraphManager;function f(p){h.call(this,p)}f.prototype=Object.create(h.prototype);for(var d in h)f[d]=h[d];o.exports=f},765:(o,l,u)=>{var h=u(551).FDLayout,f=u(578),d=u(880),p=u(991),m=u(767),v=u(806),x=u(902),y=u(551).FDLayoutConstants,w=u(551).LayoutConstants,S=u(551).Point,E=u(551).PointD,C=u(551).DimensionD,L=u(551).Layout,_=u(551).Integer,I=u(551).IGeometry,D=u(551).LGraph,F=u(551).Transform,M=u(551).LinkedList;function B(){h.call(this),this.toBeTiled={},this.constraints={}}B.prototype=Object.create(h.prototype);for(var H in h)B[H]=h[H];B.prototype.newGraphManager=function(){var R=new f(this);return this.graphManager=R,R},B.prototype.newGraph=function(R){return new d(null,this.graphManager,R)},B.prototype.newNode=function(R){return new p(this.graphManager,R)},B.prototype.newEdge=function(R){return new m(null,null,R)},B.prototype.initParameters=function(){h.prototype.initParameters.call(this,arguments),this.isSubLayout||(v.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=v.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=v.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=y.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=y.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=y.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=y.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},B.prototype.initSpringEmbedder=function(){h.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/y.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},B.prototype.layout=function(){var R=w.DEFAULT_CREATE_BENDS_AS_NEEDED;return R&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},B.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(v.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var O=new Set(this.getAllNodes()),P=this.nodesWithGravity.filter(function(V){return O.has(V)});this.graphManager.setAllNodesToApplyGravitation(P)}}else{var R=this.getFlatForest();if(R.length>0)this.positionNodesRadially(R);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var O=new Set(this.getAllNodes()),P=this.nodesWithGravity.filter(function(z){return O.has(z)});this.graphManager.setAllNodesToApplyGravitation(P),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(x.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),v.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},B.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%y.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var R=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function($){return R.has($)});this.graphManager.setAllNodesToApplyGravitation(O),this.graphManager.updateBounds(),this.updateGrid(),v.PURE_INCREMENTAL?this.coolingFactor=y.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=y.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),v.PURE_INCREMENTAL?this.coolingFactor=y.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=y.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var P=!this.isTreeGrowing&&!this.isGrowthFinished,z=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(P,z),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},B.prototype.getPositionsData=function(){for(var R=this.graphManager.getAllNodes(),O={},P=0;P<R.length;P++){var z=R[P].rect,$=R[P].id;O[$]={id:$,x:z.getCenterX(),y:z.getCenterY(),w:z.width,h:z.height}}return O},B.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var R=!1;if(y.ANIMATE==="during")this.emit("layoutstarted");else{for(;!R;)R=this.tick();this.graphManager.updateBounds()}},B.prototype.moveNodes=function(){for(var R=this.getAllNodes(),O,P=0;P<R.length;P++)O=R[P],O.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var P=0;P<R.length;P++)O=R[P],O.move()},B.prototype.initConstraintVariables=function(){var R=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var O=this.graphManager.getAllNodes(),P=0;P<O.length;P++){var z=O[P];this.idToNodeMap.set(z.id,z)}var $=function J(se){for(var oe=se.getChild().getNodes(),fe,me=0,be=0;be<oe.length;be++)fe=oe[be],fe.getChild()==null?R.fixedNodeSet.has(fe.id)&&(me+=100):me+=J(fe);return me};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(oe){R.fixedNodeSet.add(oe.nodeId)});for(var O=this.graphManager.getAllNodes(),z,P=0;P<O.length;P++)if(z=O[P],z.getChild()!=null){var V=$(z);V>0&&(z.fixedNodeWeight=V)}}if(this.constraints.relativePlacementConstraint){var X=new Map,q=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(J){R.fixedNodesOnHorizontal.add(J),R.fixedNodesOnVertical.add(J)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var Y=this.constraints.alignmentConstraint.vertical,P=0;P<Y.length;P++)this.dummyToNodeForVerticalAlignment.set("dummy"+P,[]),Y[P].forEach(function(se){X.set(se,"dummy"+P),R.dummyToNodeForVerticalAlignment.get("dummy"+P).push(se),R.fixedNodeSet.has(se)&&R.fixedNodesOnHorizontal.add("dummy"+P)});if(this.constraints.alignmentConstraint.horizontal)for(var U=this.constraints.alignmentConstraint.horizontal,P=0;P<U.length;P++)this.dummyToNodeForHorizontalAlignment.set("dummy"+P,[]),U[P].forEach(function(se){q.set(se,"dummy"+P),R.dummyToNodeForHorizontalAlignment.get("dummy"+P).push(se),R.fixedNodeSet.has(se)&&R.fixedNodesOnVertical.add("dummy"+P)})}if(v.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(J){var se,oe,fe;for(fe=J.length-1;fe>=2*J.length/3;fe--)se=Math.floor(Math.random()*(fe+1)),oe=J[fe],J[fe]=J[se],J[se]=oe;return J},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(J){if(J.left){var se=X.has(J.left)?X.get(J.left):J.left,oe=X.has(J.right)?X.get(J.right):J.right;R.nodesInRelativeHorizontal.includes(se)||(R.nodesInRelativeHorizontal.push(se),R.nodeToRelativeConstraintMapHorizontal.set(se,[]),R.dummyToNodeForVerticalAlignment.has(se)?R.nodeToTempPositionMapHorizontal.set(se,R.idToNodeMap.get(R.dummyToNodeForVerticalAlignment.get(se)[0]).getCenterX()):R.nodeToTempPositionMapHorizontal.set(se,R.idToNodeMap.get(se).getCenterX())),R.nodesInRelativeHorizontal.includes(oe)||(R.nodesInRelativeHorizontal.push(oe),R.nodeToRelativeConstraintMapHorizontal.set(oe,[]),R.dummyToNodeForVerticalAlignment.has(oe)?R.nodeToTempPositionMapHorizontal.set(oe,R.idToNodeMap.get(R.dummyToNodeForVerticalAlignment.get(oe)[0]).getCenterX()):R.nodeToTempPositionMapHorizontal.set(oe,R.idToNodeMap.get(oe).getCenterX())),R.nodeToRelativeConstraintMapHorizontal.get(se).push({right:oe,gap:J.gap}),R.nodeToRelativeConstraintMapHorizontal.get(oe).push({left:se,gap:J.gap})}else{var fe=q.has(J.top)?q.get(J.top):J.top,me=q.has(J.bottom)?q.get(J.bottom):J.bottom;R.nodesInRelativeVertical.includes(fe)||(R.nodesInRelativeVertical.push(fe),R.nodeToRelativeConstraintMapVertical.set(fe,[]),R.dummyToNodeForHorizontalAlignment.has(fe)?R.nodeToTempPositionMapVertical.set(fe,R.idToNodeMap.get(R.dummyToNodeForHorizontalAlignment.get(fe)[0]).getCenterY()):R.nodeToTempPositionMapVertical.set(fe,R.idToNodeMap.get(fe).getCenterY())),R.nodesInRelativeVertical.includes(me)||(R.nodesInRelativeVertical.push(me),R.nodeToRelativeConstraintMapVertical.set(me,[]),R.dummyToNodeForHorizontalAlignment.has(me)?R.nodeToTempPositionMapVertical.set(me,R.idToNodeMap.get(R.dummyToNodeForHorizontalAlignment.get(me)[0]).getCenterY()):R.nodeToTempPositionMapVertical.set(me,R.idToNodeMap.get(me).getCenterY())),R.nodeToRelativeConstraintMapVertical.get(fe).push({bottom:me,gap:J.gap}),R.nodeToRelativeConstraintMapVertical.get(me).push({top:fe,gap:J.gap})}});else{var Z=new Map,pe=new Map;this.constraints.relativePlacementConstraint.forEach(function(J){if(J.left){var se=X.has(J.left)?X.get(J.left):J.left,oe=X.has(J.right)?X.get(J.right):J.right;Z.has(se)?Z.get(se).push(oe):Z.set(se,[oe]),Z.has(oe)?Z.get(oe).push(se):Z.set(oe,[se])}else{var fe=q.has(J.top)?q.get(J.top):J.top,me=q.has(J.bottom)?q.get(J.bottom):J.bottom;pe.has(fe)?pe.get(fe).push(me):pe.set(fe,[me]),pe.has(me)?pe.get(me).push(fe):pe.set(me,[fe])}});var ne=function(se,oe){var fe=[],me=[],be=new M,ce=new Set,Ge=0;return se.forEach(function(xe,le){if(!ce.has(le)){fe[Ge]=[],me[Ge]=!1;var ke=le;for(be.push(ke),ce.add(ke),fe[Ge].push(ke);be.length!=0;){ke=be.shift(),oe.has(ke)&&(me[Ge]=!0);var De=se.get(ke);De.forEach(function(We){ce.has(We)||(be.push(We),ce.add(We),fe[Ge].push(We))})}Ge++}}),{components:fe,isFixed:me}},ge=ne(Z,R.fixedNodesOnHorizontal);this.componentsOnHorizontal=ge.components,this.fixedComponentsOnHorizontal=ge.isFixed;var ye=ne(pe,R.fixedNodesOnVertical);this.componentsOnVertical=ye.components,this.fixedComponentsOnVertical=ye.isFixed}}},B.prototype.updateDisplacements=function(){var R=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(ye){var J=R.idToNodeMap.get(ye.nodeId);J.displacementX=0,J.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var O=this.constraints.alignmentConstraint.vertical,P=0;P<O.length;P++){for(var z=0,$=0;$<O[P].length;$++){if(this.fixedNodeSet.has(O[P][$])){z=0;break}z+=this.idToNodeMap.get(O[P][$]).displacementX}for(var V=z/O[P].length,$=0;$<O[P].length;$++)this.idToNodeMap.get(O[P][$]).displacementX=V}if(this.constraints.alignmentConstraint.horizontal)for(var X=this.constraints.alignmentConstraint.horizontal,P=0;P<X.length;P++){for(var q=0,$=0;$<X[P].length;$++){if(this.fixedNodeSet.has(X[P][$])){q=0;break}q+=this.idToNodeMap.get(X[P][$]).displacementY}for(var Y=q/X[P].length,$=0;$<X[P].length;$++)this.idToNodeMap.get(X[P][$]).displacementY=Y}}if(this.constraints.relativePlacementConstraint)if(v.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(ye){if(!R.fixedNodesOnHorizontal.has(ye)){var J=0;R.dummyToNodeForVerticalAlignment.has(ye)?J=R.idToNodeMap.get(R.dummyToNodeForVerticalAlignment.get(ye)[0]).displacementX:J=R.idToNodeMap.get(ye).displacementX,R.nodeToRelativeConstraintMapHorizontal.get(ye).forEach(function(se){if(se.right){var oe=R.nodeToTempPositionMapHorizontal.get(se.right)-R.nodeToTempPositionMapHorizontal.get(ye)-J;oe<se.gap&&(J-=se.gap-oe)}else{var oe=R.nodeToTempPositionMapHorizontal.get(ye)-R.nodeToTempPositionMapHorizontal.get(se.left)+J;oe<se.gap&&(J+=se.gap-oe)}}),R.nodeToTempPositionMapHorizontal.set(ye,R.nodeToTempPositionMapHorizontal.get(ye)+J),R.dummyToNodeForVerticalAlignment.has(ye)?R.dummyToNodeForVerticalAlignment.get(ye).forEach(function(se){R.idToNodeMap.get(se).displacementX=J}):R.idToNodeMap.get(ye).displacementX=J}}),this.nodesInRelativeVertical.forEach(function(ye){if(!R.fixedNodesOnHorizontal.has(ye)){var J=0;R.dummyToNodeForHorizontalAlignment.has(ye)?J=R.idToNodeMap.get(R.dummyToNodeForHorizontalAlignment.get(ye)[0]).displacementY:J=R.idToNodeMap.get(ye).displacementY,R.nodeToRelativeConstraintMapVertical.get(ye).forEach(function(se){if(se.bottom){var oe=R.nodeToTempPositionMapVertical.get(se.bottom)-R.nodeToTempPositionMapVertical.get(ye)-J;oe<se.gap&&(J-=se.gap-oe)}else{var oe=R.nodeToTempPositionMapVertical.get(ye)-R.nodeToTempPositionMapVertical.get(se.top)+J;oe<se.gap&&(J+=se.gap-oe)}}),R.nodeToTempPositionMapVertical.set(ye,R.nodeToTempPositionMapVertical.get(ye)+J),R.dummyToNodeForHorizontalAlignment.has(ye)?R.dummyToNodeForHorizontalAlignment.get(ye).forEach(function(se){R.idToNodeMap.get(se).displacementY=J}):R.idToNodeMap.get(ye).displacementY=J}});else{for(var P=0;P<this.componentsOnHorizontal.length;P++){var U=this.componentsOnHorizontal[P];if(this.fixedComponentsOnHorizontal[P])for(var $=0;$<U.length;$++)this.dummyToNodeForVerticalAlignment.has(U[$])?this.dummyToNodeForVerticalAlignment.get(U[$]).forEach(function(se){R.idToNodeMap.get(se).displacementX=0}):this.idToNodeMap.get(U[$]).displacementX=0;else{for(var Z=0,pe=0,$=0;$<U.length;$++)if(this.dummyToNodeForVerticalAlignment.has(U[$])){var ne=this.dummyToNodeForVerticalAlignment.get(U[$]);Z+=ne.length*this.idToNodeMap.get(ne[0]).displacementX,pe+=ne.length}else Z+=this.idToNodeMap.get(U[$]).displacementX,pe++;for(var ge=Z/pe,$=0;$<U.length;$++)this.dummyToNodeForVerticalAlignment.has(U[$])?this.dummyToNodeForVerticalAlignment.get(U[$]).forEach(function(se){R.idToNodeMap.get(se).displacementX=ge}):this.idToNodeMap.get(U[$]).displacementX=ge}}for(var P=0;P<this.componentsOnVertical.length;P++){var U=this.componentsOnVertical[P];if(this.fixedComponentsOnVertical[P])for(var $=0;$<U.length;$++)this.dummyToNodeForHorizontalAlignment.has(U[$])?this.dummyToNodeForHorizontalAlignment.get(U[$]).forEach(function(oe){R.idToNodeMap.get(oe).displacementY=0}):this.idToNodeMap.get(U[$]).displacementY=0;else{for(var Z=0,pe=0,$=0;$<U.length;$++)if(this.dummyToNodeForHorizontalAlignment.has(U[$])){var ne=this.dummyToNodeForHorizontalAlignment.get(U[$]);Z+=ne.length*this.idToNodeMap.get(ne[0]).displacementY,pe+=ne.length}else Z+=this.idToNodeMap.get(U[$]).displacementY,pe++;for(var ge=Z/pe,$=0;$<U.length;$++)this.dummyToNodeForHorizontalAlignment.has(U[$])?this.dummyToNodeForHorizontalAlignment.get(U[$]).forEach(function(be){R.idToNodeMap.get(be).displacementY=ge}):this.idToNodeMap.get(U[$]).displacementY=ge}}}},B.prototype.calculateNodesToApplyGravitationTo=function(){var R=[],O,P=this.graphManager.getGraphs(),z=P.length,$;for($=0;$<z;$++)O=P[$],O.updateConnected(),O.isConnected||(R=R.concat(O.getNodes()));return R},B.prototype.createBendpoints=function(){var R=[];R=R.concat(this.graphManager.getAllEdges());var O=new Set,P;for(P=0;P<R.length;P++){var z=R[P];if(!O.has(z)){var $=z.getSource(),V=z.getTarget();if($==V)z.getBendpoints().push(new E),z.getBendpoints().push(new E),this.createDummyNodesForBendpoints(z),O.add(z);else{var X=[];if(X=X.concat($.getEdgeListToNode(V)),X=X.concat(V.getEdgeListToNode($)),!O.has(X[0])){if(X.length>1){var q;for(q=0;q<X.length;q++){var Y=X[q];Y.getBendpoints().push(new E),this.createDummyNodesForBendpoints(Y)}}X.forEach(function(U){O.add(U)})}}}if(O.size==R.length)break}},B.prototype.positionNodesRadially=function(R){for(var O=new S(0,0),P=Math.ceil(Math.sqrt(R.length)),z=0,$=0,V=0,X=new E(0,0),q=0;q<R.length;q++){q%P==0&&(V=0,$=z,q!=0&&($+=v.DEFAULT_COMPONENT_SEPERATION),z=0);var Y=R[q],U=L.findCenterOfTree(Y);O.x=V,O.y=$,X=B.radialLayout(Y,U,O),X.y>z&&(z=Math.floor(X.y)),V=Math.floor(X.x+v.DEFAULT_COMPONENT_SEPERATION)}this.transform(new E(w.WORLD_CENTER_X-X.x/2,w.WORLD_CENTER_Y-X.y/2))},B.radialLayout=function(R,O,P){var z=Math.max(this.maxDiagonalInTree(R),v.DEFAULT_RADIAL_SEPARATION);B.branchRadialLayout(O,null,0,359,0,z);var $=D.calculateBounds(R),V=new F;V.setDeviceOrgX($.getMinX()),V.setDeviceOrgY($.getMinY()),V.setWorldOrgX(P.x),V.setWorldOrgY(P.y);for(var X=0;X<R.length;X++){var q=R[X];q.transform(V)}var Y=new E($.getMaxX(),$.getMaxY());return V.inverseTransformPoint(Y)},B.branchRadialLayout=function(R,O,P,z,$,V){var X=(z-P+1)/2;X<0&&(X+=180);var q=(X+P)%360,Y=q*I.TWO_PI/360,U=$*Math.cos(Y),Z=$*Math.sin(Y);R.setCenter(U,Z);var pe=[];pe=pe.concat(R.getEdges());var ne=pe.length;O!=null&&ne--;for(var ge=0,ye=pe.length,J,se=R.getEdgesBetween(O);se.length>1;){var oe=se[0];se.splice(0,1);var fe=pe.indexOf(oe);fe>=0&&pe.splice(fe,1),ye--,ne--}O!=null?J=(pe.indexOf(se[0])+1)%ye:J=0;for(var me=Math.abs(z-P)/ne,be=J;ge!=ne;be=++be%ye){var ce=pe[be].getOtherEnd(R);if(ce!=O){var Ge=(P+ge*me)%360,xe=(Ge+me)%360;B.branchRadialLayout(ce,R,Ge,xe,$+V,V),ge++}}},B.maxDiagonalInTree=function(R){for(var O=_.MIN_VALUE,P=0;P<R.length;P++){var z=R[P],$=z.getDiagonal();$>O&&(O=$)}return O},B.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},B.prototype.groupZeroDegreeMembers=function(){var R=this,O={};this.memberGroups={},this.idToDummyNode={};for(var P=[],z=this.graphManager.getAllNodes(),$=0;$<z.length;$++){var V=z[$],X=V.getParent();this.getNodeDegreeWithChildren(V)===0&&(X.id==null||!this.getToBeTiled(X))&&P.push(V)}for(var $=0;$<P.length;$++){var V=P[$],q=V.getParent().id;typeof O[q]>"u"&&(O[q]=[]),O[q]=O[q].concat(V)}Object.keys(O).forEach(function(Y){if(O[Y].length>1){var U="DummyCompound_"+Y;R.memberGroups[U]=O[Y];var Z=O[Y][0].getParent(),pe=new p(R.graphManager);pe.id=U,pe.paddingLeft=Z.paddingLeft||0,pe.paddingRight=Z.paddingRight||0,pe.paddingBottom=Z.paddingBottom||0,pe.paddingTop=Z.paddingTop||0,R.idToDummyNode[U]=pe;var ne=R.getGraphManager().add(R.newGraph(),pe),ge=Z.getChild();ge.add(pe);for(var ye=0;ye<O[Y].length;ye++){var J=O[Y][ye];ge.remove(J),ne.add(J)}}})},B.prototype.clearCompounds=function(){var R={},O={};this.performDFSOnCompounds();for(var P=0;P<this.compoundOrder.length;P++)O[this.compoundOrder[P].id]=this.compoundOrder[P],R[this.compoundOrder[P].id]=[].concat(this.compoundOrder[P].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[P].getChild()),this.compoundOrder[P].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(R,O)},B.prototype.clearZeroDegreeMembers=function(){var R=this,O=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(P){var z=R.idToDummyNode[P];if(O[P]=R.tileNodes(R.memberGroups[P],z.paddingLeft+z.paddingRight),z.rect.width=O[P].width,z.rect.height=O[P].height,z.setCenter(O[P].centerX,O[P].centerY),z.labelMarginLeft=0,z.labelMarginTop=0,v.NODE_DIMENSIONS_INCLUDE_LABELS){var $=z.rect.width,V=z.rect.height;z.labelWidth&&(z.labelPosHorizontal=="left"?(z.rect.x-=z.labelWidth,z.setWidth($+z.labelWidth),z.labelMarginLeft=z.labelWidth):z.labelPosHorizontal=="center"&&z.labelWidth>$?(z.rect.x-=(z.labelWidth-$)/2,z.setWidth(z.labelWidth),z.labelMarginLeft=(z.labelWidth-$)/2):z.labelPosHorizontal=="right"&&z.setWidth($+z.labelWidth)),z.labelHeight&&(z.labelPosVertical=="top"?(z.rect.y-=z.labelHeight,z.setHeight(V+z.labelHeight),z.labelMarginTop=z.labelHeight):z.labelPosVertical=="center"&&z.labelHeight>V?(z.rect.y-=(z.labelHeight-V)/2,z.setHeight(z.labelHeight),z.labelMarginTop=(z.labelHeight-V)/2):z.labelPosVertical=="bottom"&&z.setHeight(V+z.labelHeight))}})},B.prototype.repopulateCompounds=function(){for(var R=this.compoundOrder.length-1;R>=0;R--){var O=this.compoundOrder[R],P=O.id,z=O.paddingLeft,$=O.paddingTop,V=O.labelMarginLeft,X=O.labelMarginTop;this.adjustLocations(this.tiledMemberPack[P],O.rect.x,O.rect.y,z,$,V,X)}},B.prototype.repopulateZeroDegreeMembers=function(){var R=this,O=this.tiledZeroDegreePack;Object.keys(O).forEach(function(P){var z=R.idToDummyNode[P],$=z.paddingLeft,V=z.paddingTop,X=z.labelMarginLeft,q=z.labelMarginTop;R.adjustLocations(O[P],z.rect.x,z.rect.y,$,V,X,q)})},B.prototype.getToBeTiled=function(R){var O=R.id;if(this.toBeTiled[O]!=null)return this.toBeTiled[O];var P=R.getChild();if(P==null)return this.toBeTiled[O]=!1,!1;for(var z=P.getNodes(),$=0;$<z.length;$++){var V=z[$];if(this.getNodeDegree(V)>0)return this.toBeTiled[O]=!1,!1;if(V.getChild()==null){this.toBeTiled[V.id]=!1;continue}if(!this.getToBeTiled(V))return this.toBeTiled[O]=!1,!1}return this.toBeTiled[O]=!0,!0},B.prototype.getNodeDegree=function(R){R.id;for(var O=R.getEdges(),P=0,z=0;z<O.length;z++){var $=O[z];$.getSource().id!==$.getTarget().id&&(P=P+1)}return P},B.prototype.getNodeDegreeWithChildren=function(R){var O=this.getNodeDegree(R);if(R.getChild()==null)return O;for(var P=R.getChild().getNodes(),z=0;z<P.length;z++){var $=P[z];O+=this.getNodeDegreeWithChildren($)}return O},B.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},B.prototype.fillCompexOrderByDFS=function(R){for(var O=0;O<R.length;O++){var P=R[O];P.getChild()!=null&&this.fillCompexOrderByDFS(P.getChild().getNodes()),this.getToBeTiled(P)&&this.compoundOrder.push(P)}},B.prototype.adjustLocations=function(R,O,P,z,$,V,X){O+=z+V,P+=$+X;for(var q=O,Y=0;Y<R.rows.length;Y++){var U=R.rows[Y];O=q;for(var Z=0,pe=0;pe<U.length;pe++){var ne=U[pe];ne.rect.x=O,ne.rect.y=P,O+=ne.rect.width+R.horizontalPadding,ne.rect.height>Z&&(Z=ne.rect.height)}P+=Z+R.verticalPadding}},B.prototype.tileCompoundMembers=function(R,O){var P=this;this.tiledMemberPack=[],Object.keys(R).forEach(function(z){var $=O[z];if(P.tiledMemberPack[z]=P.tileNodes(R[z],$.paddingLeft+$.paddingRight),$.rect.width=P.tiledMemberPack[z].width,$.rect.height=P.tiledMemberPack[z].height,$.setCenter(P.tiledMemberPack[z].centerX,P.tiledMemberPack[z].centerY),$.labelMarginLeft=0,$.labelMarginTop=0,v.NODE_DIMENSIONS_INCLUDE_LABELS){var V=$.rect.width,X=$.rect.height;$.labelWidth&&($.labelPosHorizontal=="left"?($.rect.x-=$.labelWidth,$.setWidth(V+$.labelWidth),$.labelMarginLeft=$.labelWidth):$.labelPosHorizontal=="center"&&$.labelWidth>V?($.rect.x-=($.labelWidth-V)/2,$.setWidth($.labelWidth),$.labelMarginLeft=($.labelWidth-V)/2):$.labelPosHorizontal=="right"&&$.setWidth(V+$.labelWidth)),$.labelHeight&&($.labelPosVertical=="top"?($.rect.y-=$.labelHeight,$.setHeight(X+$.labelHeight),$.labelMarginTop=$.labelHeight):$.labelPosVertical=="center"&&$.labelHeight>X?($.rect.y-=($.labelHeight-X)/2,$.setHeight($.labelHeight),$.labelMarginTop=($.labelHeight-X)/2):$.labelPosVertical=="bottom"&&$.setHeight(X+$.labelHeight))}})},B.prototype.tileNodes=function(R,O){var P=this.tileNodesByFavoringDim(R,O,!0),z=this.tileNodesByFavoringDim(R,O,!1),$=this.getOrgRatio(P),V=this.getOrgRatio(z),X;return V<$?X=z:X=P,X},B.prototype.getOrgRatio=function(R){var O=R.width,P=R.height,z=O/P;return z<1&&(z=1/z),z},B.prototype.calcIdealRowWidth=function(R,O){var P=v.TILING_PADDING_VERTICAL,z=v.TILING_PADDING_HORIZONTAL,$=R.length,V=0,X=0,q=0;R.forEach(function(ye){V+=ye.getWidth(),X+=ye.getHeight(),ye.getWidth()>q&&(q=ye.getWidth())});var Y=V/$,U=X/$,Z=Math.pow(P-z,2)+4*(Y+z)*(U+P)*$,pe=(z-P+Math.sqrt(Z))/(2*(Y+z)),ne;O?(ne=Math.ceil(pe),ne==pe&&ne++):ne=Math.floor(pe);var ge=ne*(Y+z)-z;return q>ge&&(ge=q),ge+=z*2,ge},B.prototype.tileNodesByFavoringDim=function(R,O,P){var z=v.TILING_PADDING_VERTICAL,$=v.TILING_PADDING_HORIZONTAL,V=v.TILING_COMPARE_BY,X={rows:[],rowWidth:[],rowHeight:[],width:0,height:O,verticalPadding:z,horizontalPadding:$,centerX:0,centerY:0};V&&(X.idealRowWidth=this.calcIdealRowWidth(R,P));var q=function(J){return J.rect.width*J.rect.height},Y=function(J,se){return q(se)-q(J)};R.sort(function(ye,J){var se=Y;return X.idealRowWidth?(se=V,se(ye.id,J.id)):se(ye,J)});for(var U=0,Z=0,pe=0;pe<R.length;pe++){var ne=R[pe];U+=ne.getCenterX(),Z+=ne.getCenterY()}X.centerX=U/R.length,X.centerY=Z/R.length;for(var pe=0;pe<R.length;pe++){var ne=R[pe];if(X.rows.length==0)this.insertNodeToRow(X,ne,0,O);else if(this.canAddHorizontal(X,ne.rect.width,ne.rect.height)){var ge=X.rows.length-1;X.idealRowWidth||(ge=this.getShortestRowIndex(X)),this.insertNodeToRow(X,ne,ge,O)}else this.insertNodeToRow(X,ne,X.rows.length,O);this.shiftToLastRow(X)}return X},B.prototype.insertNodeToRow=function(R,O,P,z){var $=z;if(P==R.rows.length){var V=[];R.rows.push(V),R.rowWidth.push($),R.rowHeight.push(0)}var X=R.rowWidth[P]+O.rect.width;R.rows[P].length>0&&(X+=R.horizontalPadding),R.rowWidth[P]=X,R.width<X&&(R.width=X);var q=O.rect.height;P>0&&(q+=R.verticalPadding);var Y=0;q>R.rowHeight[P]&&(Y=R.rowHeight[P],R.rowHeight[P]=q,Y=R.rowHeight[P]-Y),R.height+=Y,R.rows[P].push(O)},B.prototype.getShortestRowIndex=function(R){for(var O=-1,P=Number.MAX_VALUE,z=0;z<R.rows.length;z++)R.rowWidth[z]<P&&(O=z,P=R.rowWidth[z]);return O},B.prototype.getLongestRowIndex=function(R){for(var O=-1,P=Number.MIN_VALUE,z=0;z<R.rows.length;z++)R.rowWidth[z]>P&&(O=z,P=R.rowWidth[z]);return O},B.prototype.canAddHorizontal=function(R,O,P){if(R.idealRowWidth){var z=R.rows.length-1,$=R.rowWidth[z];return $+O+R.horizontalPadding<=R.idealRowWidth}var V=this.getShortestRowIndex(R);if(V<0)return!0;var X=R.rowWidth[V];if(X+R.horizontalPadding+O<=R.width)return!0;var q=0;R.rowHeight[V]<P&&V>0&&(q=P+R.verticalPadding-R.rowHeight[V]);var Y;R.width-X>=O+R.horizontalPadding?Y=(R.height+q)/(X+O+R.horizontalPadding):Y=(R.height+q)/R.width,q=P+R.verticalPadding;var U;return R.width<O?U=(R.height+q)/O:U=(R.height+q)/R.width,U<1&&(U=1/U),Y<1&&(Y=1/Y),Y<U},B.prototype.shiftToLastRow=function(R){var O=this.getLongestRowIndex(R),P=R.rowWidth.length-1,z=R.rows[O],$=z[z.length-1],V=$.width+R.horizontalPadding;if(R.width-R.rowWidth[P]>V&&O!=P){z.splice(-1,1),R.rows[P].push($),R.rowWidth[O]=R.rowWidth[O]-V,R.rowWidth[P]=R.rowWidth[P]+V,R.width=R.rowWidth[instance.getLongestRowIndex(R)];for(var X=Number.MIN_VALUE,q=0;q<z.length;q++)z[q].height>X&&(X=z[q].height);O>0&&(X+=R.verticalPadding);var Y=R.rowHeight[O]+R.rowHeight[P];R.rowHeight[O]=X,R.rowHeight[P]<$.height+R.verticalPadding&&(R.rowHeight[P]=$.height+R.verticalPadding);var U=R.rowHeight[O]+R.rowHeight[P];R.height+=U-Y,this.shiftToLastRow(R)}},B.prototype.tilingPreLayout=function(){v.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},B.prototype.tilingPostLayout=function(){v.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},B.prototype.reduceTrees=function(){for(var R=[],O=!0,P;O;){var z=this.graphManager.getAllNodes(),$=[];O=!1;for(var V=0;V<z.length;V++)if(P=z[V],P.getEdges().length==1&&!P.getEdges()[0].isInterGraph&&P.getChild()==null){if(v.PURE_INCREMENTAL){var X=P.getEdges()[0].getOtherEnd(P),q=new C(P.getCenterX()-X.getCenterX(),P.getCenterY()-X.getCenterY());$.push([P,P.getEdges()[0],P.getOwner(),q])}else $.push([P,P.getEdges()[0],P.getOwner()]);O=!0}if(O==!0){for(var Y=[],U=0;U<$.length;U++)$[U][0].getEdges().length==1&&(Y.push($[U]),$[U][0].getOwner().remove($[U][0]));R.push(Y),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=R},B.prototype.growTree=function(R){for(var O=R.length,P=R[O-1],z,$=0;$<P.length;$++)z=P[$],this.findPlaceforPrunedNode(z),z[2].add(z[0]),z[2].add(z[1],z[1].source,z[1].target);R.splice(R.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},B.prototype.findPlaceforPrunedNode=function(R){var O,P,z=R[0];if(z==R[1].source?P=R[1].target:P=R[1].source,v.PURE_INCREMENTAL)z.setCenter(P.getCenterX()+R[3].getWidth(),P.getCenterY()+R[3].getHeight());else{var $=P.startX,V=P.finishX,X=P.startY,q=P.finishY,Y=0,U=0,Z=0,pe=0,ne=[Y,Z,U,pe];if(X>0)for(var ge=$;ge<=V;ge++)ne[0]+=this.grid[ge][X-1].length+this.grid[ge][X].length-1;if(V<this.grid.length-1)for(var ge=X;ge<=q;ge++)ne[1]+=this.grid[V+1][ge].length+this.grid[V][ge].length-1;if(q<this.grid[0].length-1)for(var ge=$;ge<=V;ge++)ne[2]+=this.grid[ge][q+1].length+this.grid[ge][q].length-1;if($>0)for(var ge=X;ge<=q;ge++)ne[3]+=this.grid[$-1][ge].length+this.grid[$][ge].length-1;for(var ye=_.MAX_VALUE,J,se,oe=0;oe<ne.length;oe++)ne[oe]<ye?(ye=ne[oe],J=1,se=oe):ne[oe]==ye&&J++;if(J==3&&ye==0)ne[0]==0&&ne[1]==0&&ne[2]==0?O=1:ne[0]==0&&ne[1]==0&&ne[3]==0?O=0:ne[0]==0&&ne[2]==0&&ne[3]==0?O=3:ne[1]==0&&ne[2]==0&&ne[3]==0&&(O=2);else if(J==2&&ye==0){var fe=Math.floor(Math.random()*2);ne[0]==0&&ne[1]==0?fe==0?O=0:O=1:ne[0]==0&&ne[2]==0?fe==0?O=0:O=2:ne[0]==0&&ne[3]==0?fe==0?O=0:O=3:ne[1]==0&&ne[2]==0?fe==0?O=1:O=2:ne[1]==0&&ne[3]==0?fe==0?O=1:O=3:fe==0?O=2:O=3}else if(J==4&&ye==0){var fe=Math.floor(Math.random()*4);O=fe}else O=se;O==0?z.setCenter(P.getCenterX(),P.getCenterY()-P.getHeight()/2-y.DEFAULT_EDGE_LENGTH-z.getHeight()/2):O==1?z.setCenter(P.getCenterX()+P.getWidth()/2+y.DEFAULT_EDGE_LENGTH+z.getWidth()/2,P.getCenterY()):O==2?z.setCenter(P.getCenterX(),P.getCenterY()+P.getHeight()/2+y.DEFAULT_EDGE_LENGTH+z.getHeight()/2):z.setCenter(P.getCenterX()-P.getWidth()/2-y.DEFAULT_EDGE_LENGTH-z.getWidth()/2,P.getCenterY())}},o.exports=B},991:(o,l,u)=>{var h=u(551).FDLayoutNode,f=u(551).IMath;function d(m,v,x,y){h.call(this,m,v,x,y)}d.prototype=Object.create(h.prototype);for(var p in h)d[p]=h[p];d.prototype.calculateDisplacement=function(){var m=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=m.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=m.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=m.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=m.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>m.coolingFactor*m.maxNodeDisplacement&&(this.displacementX=m.coolingFactor*m.maxNodeDisplacement*f.sign(this.displacementX)),Math.abs(this.displacementY)>m.coolingFactor*m.maxNodeDisplacement&&(this.displacementY=m.coolingFactor*m.maxNodeDisplacement*f.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},d.prototype.propogateDisplacementToChildren=function(m,v){for(var x=this.getChild().getNodes(),y,w=0;w<x.length;w++)y=x[w],y.getChild()==null?(y.displacementX+=m,y.displacementY+=v):y.propogateDisplacementToChildren(m,v)},d.prototype.move=function(){var m=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),m.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},d.prototype.setPred1=function(m){this.pred1=m},d.prototype.getPred1=function(){return pred1},d.prototype.getPred2=function(){return pred2},d.prototype.setNext=function(m){this.next=m},d.prototype.getNext=function(){return next},d.prototype.setProcessed=function(m){this.processed=m},d.prototype.isProcessed=function(){return processed},o.exports=d},902:(o,l,u)=>{function h(x){if(Array.isArray(x)){for(var y=0,w=Array(x.length);y<x.length;y++)w[y]=x[y];return w}else return Array.from(x)}var f=u(806),d=u(551).LinkedList,p=u(551).Matrix,m=u(551).SVD;function v(){}v.handleConstraints=function(x){var y={};y.fixedNodeConstraint=x.constraints.fixedNodeConstraint,y.alignmentConstraint=x.constraints.alignmentConstraint,y.relativePlacementConstraint=x.constraints.relativePlacementConstraint;for(var w=new Map,S=new Map,E=[],C=[],L=x.getAllNodes(),_=0,I=0;I<L.length;I++){var D=L[I];D.getChild()==null&&(S.set(D.id,_++),E.push(D.getCenterX()),C.push(D.getCenterY()),w.set(D.id,D))}y.relativePlacementConstraint&&y.relativePlacementConstraint.forEach(function(_e){!_e.gap&&_e.gap!=0&&(_e.left?_e.gap=f.DEFAULT_EDGE_LENGTH+w.get(_e.left).getWidth()/2+w.get(_e.right).getWidth()/2:_e.gap=f.DEFAULT_EDGE_LENGTH+w.get(_e.top).getHeight()/2+w.get(_e.bottom).getHeight()/2)});var F=function(ae,Le){return{x:ae.x-Le.x,y:ae.y-Le.y}},M=function(ae){var Le=0,Ne=0;return ae.forEach(function(Ie){Le+=E[S.get(Ie)],Ne+=C[S.get(Ie)]}),{x:Le/ae.size,y:Ne/ae.size}},B=function(ae,Le,Ne,Ie,Oe){function Pe(ot,at){var kt=new Set(ot),ct=!0,ft=!1,Jt=void 0;try{for(var pt=at[Symbol.iterator](),dt;!(ct=(dt=pt.next()).done);ct=!0){var Rt=dt.value;kt.add(Rt)}}catch(er){ft=!0,Jt=er}finally{try{!ct&&pt.return&&pt.return()}finally{if(ft)throw Jt}}return kt}var Me=new Map;ae.forEach(function(ot,at){Me.set(at,0)}),ae.forEach(function(ot,at){ot.forEach(function(kt){Me.set(kt.id,Me.get(kt.id)+1)})});var ze=new Map,it=new Map,ut=new d;Me.forEach(function(ot,at){ot==0?(ut.push(at),Ne||(Le=="horizontal"?ze.set(at,S.has(at)?E[S.get(at)]:Ie.get(at)):ze.set(at,S.has(at)?C[S.get(at)]:Ie.get(at)))):ze.set(at,Number.NEGATIVE_INFINITY),Ne&&it.set(at,new Set([at]))}),Ne&&Oe.forEach(function(ot){var at=[];if(ot.forEach(function(ft){Ne.has(ft)&&at.push(ft)}),at.length>0){var kt=0;at.forEach(function(ft){Le=="horizontal"?(ze.set(ft,S.has(ft)?E[S.get(ft)]:Ie.get(ft)),kt+=ze.get(ft)):(ze.set(ft,S.has(ft)?C[S.get(ft)]:Ie.get(ft)),kt+=ze.get(ft))}),kt=kt/at.length,ot.forEach(function(ft){Ne.has(ft)||ze.set(ft,kt)})}else{var ct=0;ot.forEach(function(ft){Le=="horizontal"?ct+=S.has(ft)?E[S.get(ft)]:Ie.get(ft):ct+=S.has(ft)?C[S.get(ft)]:Ie.get(ft)}),ct=ct/ot.length,ot.forEach(function(ft){ze.set(ft,ct)})}});for(var gt=function(){var at=ut.shift(),kt=ae.get(at);kt.forEach(function(ct){if(ze.get(ct.id)<ze.get(at)+ct.gap)if(Ne&&Ne.has(ct.id)){var ft=void 0;if(Le=="horizontal"?ft=S.has(ct.id)?E[S.get(ct.id)]:Ie.get(ct.id):ft=S.has(ct.id)?C[S.get(ct.id)]:Ie.get(ct.id),ze.set(ct.id,ft),ft<ze.get(at)+ct.gap){var Jt=ze.get(at)+ct.gap-ft;it.get(at).forEach(function(pt){ze.set(pt,ze.get(pt)-Jt)})}}else ze.set(ct.id,ze.get(at)+ct.gap);Me.set(ct.id,Me.get(ct.id)-1),Me.get(ct.id)==0&&ut.push(ct.id),Ne&&it.set(ct.id,Pe(it.get(at),it.get(ct.id)))})};ut.length!=0;)gt();if(Ne){var wt=new Set;ae.forEach(function(ot,at){ot.length==0&&wt.add(at)});var Pt=[];it.forEach(function(ot,at){if(wt.has(at)){var kt=!1,ct=!0,ft=!1,Jt=void 0;try{for(var pt=ot[Symbol.iterator](),dt;!(ct=(dt=pt.next()).done);ct=!0){var Rt=dt.value;Ne.has(Rt)&&(kt=!0)}}catch(wr){ft=!0,Jt=wr}finally{try{!ct&&pt.return&&pt.return()}finally{if(ft)throw Jt}}if(!kt){var er=!1,Ot=void 0;Pt.forEach(function(wr,Wr){wr.has([].concat(h(ot))[0])&&(er=!0,Ot=Wr)}),er?ot.forEach(function(wr){Pt[Ot].add(wr)}):Pt.push(new Set(ot))}}}),Pt.forEach(function(ot,at){var kt=Number.POSITIVE_INFINITY,ct=Number.POSITIVE_INFINITY,ft=Number.NEGATIVE_INFINITY,Jt=Number.NEGATIVE_INFINITY,pt=!0,dt=!1,Rt=void 0;try{for(var er=ot[Symbol.iterator](),Ot;!(pt=(Ot=er.next()).done);pt=!0){var wr=Ot.value,Wr=void 0;Le=="horizontal"?Wr=S.has(wr)?E[S.get(wr)]:Ie.get(wr):Wr=S.has(wr)?C[S.get(wr)]:Ie.get(wr);var Er=ze.get(wr);Wr<kt&&(kt=Wr),Wr>ft&&(ft=Wr),Er<ct&&(ct=Er),Er>Jt&&(Jt=Er)}}catch(vt){dt=!0,Rt=vt}finally{try{!pt&&er.return&&er.return()}finally{if(dt)throw Rt}}var Jn=(kt+ft)/2-(ct+Jt)/2,ln=!0,Mn=!1,zr=void 0;try{for(var En=ot[Symbol.iterator](),Ut;!(ln=(Ut=En.next()).done);ln=!0){var Ye=Ut.value;ze.set(Ye,ze.get(Ye)+Jn)}}catch(vt){Mn=!0,zr=vt}finally{try{!ln&&En.return&&En.return()}finally{if(Mn)throw zr}}})}return ze},H=function(ae){var Le=0,Ne=0,Ie=0,Oe=0;if(ae.forEach(function(it){it.left?E[S.get(it.left)]-E[S.get(it.right)]>=0?Le++:Ne++:C[S.get(it.top)]-C[S.get(it.bottom)]>=0?Ie++:Oe++}),Le>Ne&&Ie>Oe)for(var Pe=0;Pe<S.size;Pe++)E[Pe]=-1*E[Pe],C[Pe]=-1*C[Pe];else if(Le>Ne)for(var Me=0;Me<S.size;Me++)E[Me]=-1*E[Me];else if(Ie>Oe)for(var ze=0;ze<S.size;ze++)C[ze]=-1*C[ze]},R=function(ae){var Le=[],Ne=new d,Ie=new Set,Oe=0;return ae.forEach(function(Pe,Me){if(!Ie.has(Me)){Le[Oe]=[];var ze=Me;for(Ne.push(ze),Ie.add(ze),Le[Oe].push(ze);Ne.length!=0;){ze=Ne.shift();var it=ae.get(ze);it.forEach(function(ut){Ie.has(ut.id)||(Ne.push(ut.id),Ie.add(ut.id),Le[Oe].push(ut.id))})}Oe++}}),Le},O=function(ae){var Le=new Map;return ae.forEach(function(Ne,Ie){Le.set(Ie,[])}),ae.forEach(function(Ne,Ie){Ne.forEach(function(Oe){Le.get(Ie).push(Oe),Le.get(Oe.id).push({id:Ie,gap:Oe.gap,direction:Oe.direction})})}),Le},P=function(ae){var Le=new Map;return ae.forEach(function(Ne,Ie){Le.set(Ie,[])}),ae.forEach(function(Ne,Ie){Ne.forEach(function(Oe){Le.get(Oe.id).push({id:Ie,gap:Oe.gap,direction:Oe.direction})})}),Le},z=[],$=[],V=!1,X=!1,q=new Set,Y=new Map,U=new Map,Z=[];if(y.fixedNodeConstraint&&y.fixedNodeConstraint.forEach(function(_e){q.add(_e.nodeId)}),y.relativePlacementConstraint&&(y.relativePlacementConstraint.forEach(function(_e){_e.left?(Y.has(_e.left)?Y.get(_e.left).push({id:_e.right,gap:_e.gap,direction:"horizontal"}):Y.set(_e.left,[{id:_e.right,gap:_e.gap,direction:"horizontal"}]),Y.has(_e.right)||Y.set(_e.right,[])):(Y.has(_e.top)?Y.get(_e.top).push({id:_e.bottom,gap:_e.gap,direction:"vertical"}):Y.set(_e.top,[{id:_e.bottom,gap:_e.gap,direction:"vertical"}]),Y.has(_e.bottom)||Y.set(_e.bottom,[]))}),U=O(Y),Z=R(U)),f.TRANSFORM_ON_CONSTRAINT_HANDLING){if(y.fixedNodeConstraint&&y.fixedNodeConstraint.length>1)y.fixedNodeConstraint.forEach(function(_e,ae){z[ae]=[_e.position.x,_e.position.y],$[ae]=[E[S.get(_e.nodeId)],C[S.get(_e.nodeId)]]}),V=!0;else if(y.alignmentConstraint)(function(){var _e=0;if(y.alignmentConstraint.vertical){for(var ae=y.alignmentConstraint.vertical,Le=function(ze){var it=new Set;ae[ze].forEach(function(wt){it.add(wt)});var ut=new Set([].concat(h(it)).filter(function(wt){return q.has(wt)})),gt=void 0;ut.size>0?gt=E[S.get(ut.values().next().value)]:gt=M(it).x,ae[ze].forEach(function(wt){z[_e]=[gt,C[S.get(wt)]],$[_e]=[E[S.get(wt)],C[S.get(wt)]],_e++})},Ne=0;Ne<ae.length;Ne++)Le(Ne);V=!0}if(y.alignmentConstraint.horizontal){for(var Ie=y.alignmentConstraint.horizontal,Oe=function(ze){var it=new Set;Ie[ze].forEach(function(wt){it.add(wt)});var ut=new Set([].concat(h(it)).filter(function(wt){return q.has(wt)})),gt=void 0;ut.size>0?gt=E[S.get(ut.values().next().value)]:gt=M(it).y,Ie[ze].forEach(function(wt){z[_e]=[E[S.get(wt)],gt],$[_e]=[E[S.get(wt)],C[S.get(wt)]],_e++})},Pe=0;Pe<Ie.length;Pe++)Oe(Pe);V=!0}y.relativePlacementConstraint&&(X=!0)})();else if(y.relativePlacementConstraint){for(var pe=0,ne=0,ge=0;ge<Z.length;ge++)Z[ge].length>pe&&(pe=Z[ge].length,ne=ge);if(pe<U.size/2)H(y.relativePlacementConstraint),V=!1,X=!1;else{var ye=new Map,J=new Map,se=[];Z[ne].forEach(function(_e){Y.get(_e).forEach(function(ae){ae.direction=="horizontal"?(ye.has(_e)?ye.get(_e).push(ae):ye.set(_e,[ae]),ye.has(ae.id)||ye.set(ae.id,[]),se.push({left:_e,right:ae.id})):(J.has(_e)?J.get(_e).push(ae):J.set(_e,[ae]),J.has(ae.id)||J.set(ae.id,[]),se.push({top:_e,bottom:ae.id}))})}),H(se),X=!1;var oe=B(ye,"horizontal"),fe=B(J,"vertical");Z[ne].forEach(function(_e,ae){$[ae]=[E[S.get(_e)],C[S.get(_e)]],z[ae]=[],oe.has(_e)?z[ae][0]=oe.get(_e):z[ae][0]=E[S.get(_e)],fe.has(_e)?z[ae][1]=fe.get(_e):z[ae][1]=C[S.get(_e)]}),V=!0}}if(V){for(var me=void 0,be=p.transpose(z),ce=p.transpose($),Ge=0;Ge<be.length;Ge++)be[Ge]=p.multGamma(be[Ge]),ce[Ge]=p.multGamma(ce[Ge]);var xe=p.multMat(be,p.transpose(ce)),le=m.svd(xe);me=p.multMat(le.V,p.transpose(le.U));for(var ke=0;ke<S.size;ke++){var De=[E[ke],C[ke]],We=[me[0][0],me[1][0]],qe=[me[0][1],me[1][1]];E[ke]=p.dotProduct(De,We),C[ke]=p.dotProduct(De,qe)}X&&H(y.relativePlacementConstraint)}}if(f.ENFORCE_CONSTRAINTS){if(y.fixedNodeConstraint&&y.fixedNodeConstraint.length>0){var Ve={x:0,y:0};y.fixedNodeConstraint.forEach(function(_e,ae){var Le={x:E[S.get(_e.nodeId)],y:C[S.get(_e.nodeId)]},Ne=_e.position,Ie=F(Ne,Le);Ve.x+=Ie.x,Ve.y+=Ie.y}),Ve.x/=y.fixedNodeConstraint.length,Ve.y/=y.fixedNodeConstraint.length,E.forEach(function(_e,ae){E[ae]+=Ve.x}),C.forEach(function(_e,ae){C[ae]+=Ve.y}),y.fixedNodeConstraint.forEach(function(_e){E[S.get(_e.nodeId)]=_e.position.x,C[S.get(_e.nodeId)]=_e.position.y})}if(y.alignmentConstraint){if(y.alignmentConstraint.vertical)for(var we=y.alignmentConstraint.vertical,Te=function(ae){var Le=new Set;we[ae].forEach(function(Oe){Le.add(Oe)});var Ne=new Set([].concat(h(Le)).filter(function(Oe){return q.has(Oe)})),Ie=void 0;Ne.size>0?Ie=E[S.get(Ne.values().next().value)]:Ie=M(Le).x,Le.forEach(function(Oe){q.has(Oe)||(E[S.get(Oe)]=Ie)})},de=0;de<we.length;de++)Te(de);if(y.alignmentConstraint.horizontal)for(var W=y.alignmentConstraint.horizontal,ee=function(ae){var Le=new Set;W[ae].forEach(function(Oe){Le.add(Oe)});var Ne=new Set([].concat(h(Le)).filter(function(Oe){return q.has(Oe)})),Ie=void 0;Ne.size>0?Ie=C[S.get(Ne.values().next().value)]:Ie=M(Le).y,Le.forEach(function(Oe){q.has(Oe)||(C[S.get(Oe)]=Ie)})},te=0;te<W.length;te++)ee(te)}y.relativePlacementConstraint&&function(){var _e=new Map,ae=new Map,Le=new Map,Ne=new Map,Ie=new Map,Oe=new Map,Pe=new Set,Me=new Set;if(q.forEach(function(Kt){Pe.add(Kt),Me.add(Kt)}),y.alignmentConstraint){if(y.alignmentConstraint.vertical)for(var ze=y.alignmentConstraint.vertical,it=function(Ce){Le.set("dummy"+Ce,[]),ze[Ce].forEach(function(Or){_e.set(Or,"dummy"+Ce),Le.get("dummy"+Ce).push(Or),q.has(Or)&&Pe.add("dummy"+Ce)}),Ie.set("dummy"+Ce,E[S.get(ze[Ce][0])])},ut=0;ut<ze.length;ut++)it(ut);if(y.alignmentConstraint.horizontal)for(var gt=y.alignmentConstraint.horizontal,wt=function(Ce){Ne.set("dummy"+Ce,[]),gt[Ce].forEach(function(Or){ae.set(Or,"dummy"+Ce),Ne.get("dummy"+Ce).push(Or),q.has(Or)&&Me.add("dummy"+Ce)}),Oe.set("dummy"+Ce,C[S.get(gt[Ce][0])])},Pt=0;Pt<gt.length;Pt++)wt(Pt)}var ot=new Map,at=new Map,kt=function(Ce){Y.get(Ce).forEach(function(Or){var Be=void 0,xn=void 0;Or.direction=="horizontal"?(Be=_e.get(Ce)?_e.get(Ce):Ce,_e.get(Or.id)?xn={id:_e.get(Or.id),gap:Or.gap,direction:Or.direction}:xn=Or,ot.has(Be)?ot.get(Be).push(xn):ot.set(Be,[xn]),ot.has(xn.id)||ot.set(xn.id,[])):(Be=ae.get(Ce)?ae.get(Ce):Ce,ae.get(Or.id)?xn={id:ae.get(Or.id),gap:Or.gap,direction:Or.direction}:xn=Or,at.has(Be)?at.get(Be).push(xn):at.set(Be,[xn]),at.has(xn.id)||at.set(xn.id,[]))})},ct=!0,ft=!1,Jt=void 0;try{for(var pt=Y.keys()[Symbol.iterator](),dt;!(ct=(dt=pt.next()).done);ct=!0){var Rt=dt.value;kt(Rt)}}catch(Kt){ft=!0,Jt=Kt}finally{try{!ct&&pt.return&&pt.return()}finally{if(ft)throw Jt}}var er=O(ot),Ot=O(at),wr=R(er),Wr=R(Ot),Er=P(ot),Jn=P(at),ln=[],Mn=[];wr.forEach(function(Kt,Ce){ln[Ce]=[],Kt.forEach(function(Or){Er.get(Or).length==0&&ln[Ce].push(Or)})}),Wr.forEach(function(Kt,Ce){Mn[Ce]=[],Kt.forEach(function(Or){Jn.get(Or).length==0&&Mn[Ce].push(Or)})});var zr=B(ot,"horizontal",Pe,Ie,ln),En=B(at,"vertical",Me,Oe,Mn),Ut=function(Ce){Le.get(Ce)?Le.get(Ce).forEach(function(Or){E[S.get(Or)]=zr.get(Ce)}):E[S.get(Ce)]=zr.get(Ce)},Ye=!0,vt=!1,Vt=void 0;try{for(var yr=zr.keys()[Symbol.iterator](),cn;!(Ye=(cn=yr.next()).done);Ye=!0){var Yr=cn.value;Ut(Yr)}}catch(Kt){vt=!0,Vt=Kt}finally{try{!Ye&&yr.return&&yr.return()}finally{if(vt)throw Vt}}var Tn=function(Ce){Ne.get(Ce)?Ne.get(Ce).forEach(function(Or){C[S.get(Or)]=En.get(Ce)}):C[S.get(Ce)]=En.get(Ce)},Cn=!0,Et=!1,lt=void 0;try{for(var tr=En.keys()[Symbol.iterator](),Tt;!(Cn=(Tt=tr.next()).done);Cn=!0){var Yr=Tt.value;Tn(Yr)}}catch(Kt){Et=!0,lt=Kt}finally{try{!Cn&&tr.return&&tr.return()}finally{if(Et)throw lt}}}()}for(var he=0;he<L.length;he++){var K=L[he];K.getChild()==null&&K.setCenter(E[S.get(K.id)],C[S.get(K.id)])}},o.exports=v},551:o=>{o.exports=r}},i={};function a(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={exports:{}};return n[o](u,u.exports,a),u.exports}var s=a(45);return s})()})}(G8)),G8.exports}(function(t,e){(function(n,i){t.exports=i(Elt())})(Pl,function(r){return(()=>{var n={658:o=>{o.exports=Object.assign!=null?Object.assign.bind(Object):function(l){for(var u=arguments.length,h=Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return h.forEach(function(d){Object.keys(d).forEach(function(p){return l[p]=d[p]})}),l}},548:(o,l,u)=>{var h=function(){function p(m,v){var x=[],y=!0,w=!1,S=void 0;try{for(var E=m[Symbol.iterator](),C;!(y=(C=E.next()).done)&&(x.push(C.value),!(v&&x.length===v));y=!0);}catch(L){w=!0,S=L}finally{try{!y&&E.return&&E.return()}finally{if(w)throw S}}return x}return function(m,v){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return p(m,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=u(140).layoutBase.LinkedList,d={};d.getTopMostNodes=function(p){for(var m={},v=0;v<p.length;v++)m[p[v].id()]=!0;var x=p.filter(function(y,w){typeof y=="number"&&(y=w);for(var S=y.parent()[0];S!=null;){if(m[S.id()])return!1;S=S.parent()[0]}return!0});return x},d.connectComponents=function(p,m,v,x){var y=new f,w=new Set,S=[],E=void 0,C=void 0,L=void 0,_=!1,I=1,D=[],F=[],M=function(){var H=p.collection();F.push(H);var R=v[0],O=p.collection();O.merge(R).merge(R.descendants().intersection(m)),S.push(R),O.forEach(function($){y.push($),w.add($),H.merge($)});for(var P=function(){R=y.shift();var V=p.collection();R.neighborhood().nodes().forEach(function(U){m.intersection(R.edgesWith(U)).length>0&&V.merge(U)});for(var X=0;X<V.length;X++){var q=V[X];if(E=v.intersection(q.union(q.ancestors())),E!=null&&!w.has(E[0])){var Y=E.union(E.descendants());Y.forEach(function(U){y.push(U),w.add(U),H.merge(U),v.has(U)&&S.push(U)})}}};y.length!=0;)P();if(H.forEach(function($){m.intersection($.connectedEdges()).forEach(function(V){H.has(V.source())&&H.has(V.target())&&H.merge(V)})}),S.length==v.length&&(_=!0),!_||_&&I>1){C=S[0],L=C.connectedEdges().length,S.forEach(function($){$.connectedEdges().length<L&&(L=$.connectedEdges().length,C=$)}),D.push(C.id());var z=p.collection();z.merge(S[0]),S.forEach(function($){z.merge($)}),S=[],v=v.difference(z),I++}};do M();while(!_);return x&&D.length>0&&x.set("dummy"+(x.size+1),D),F},d.relocateComponent=function(p,m,v){if(!v.fixedNodeConstraint){var x=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,w=Number.POSITIVE_INFINITY,S=Number.NEGATIVE_INFINITY;if(v.quality=="draft"){var E=!0,C=!1,L=void 0;try{for(var _=m.nodeIndexes[Symbol.iterator](),I;!(E=(I=_.next()).done);E=!0){var D=I.value,F=h(D,2),M=F[0],B=F[1],H=v.cy.getElementById(M);if(H){var R=H.boundingBox(),O=m.xCoords[B]-R.w/2,P=m.xCoords[B]+R.w/2,z=m.yCoords[B]-R.h/2,$=m.yCoords[B]+R.h/2;O<x&&(x=O),P>y&&(y=P),z<w&&(w=z),$>S&&(S=$)}}}catch(U){C=!0,L=U}finally{try{!E&&_.return&&_.return()}finally{if(C)throw L}}var V=p.x-(y+x)/2,X=p.y-(S+w)/2;m.xCoords=m.xCoords.map(function(U){return U+V}),m.yCoords=m.yCoords.map(function(U){return U+X})}else{Object.keys(m).forEach(function(U){var Z=m[U],pe=Z.getRect().x,ne=Z.getRect().x+Z.getRect().width,ge=Z.getRect().y,ye=Z.getRect().y+Z.getRect().height;pe<x&&(x=pe),ne>y&&(y=ne),ge<w&&(w=ge),ye>S&&(S=ye)});var q=p.x-(y+x)/2,Y=p.y-(S+w)/2;Object.keys(m).forEach(function(U){var Z=m[U];Z.setCenter(Z.getCenterX()+q,Z.getCenterY()+Y)})}}},d.calcBoundingBox=function(p,m,v,x){for(var y=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,S=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,C=void 0,L=void 0,_=void 0,I=void 0,D=p.descendants().not(":parent"),F=D.length,M=0;M<F;M++){var B=D[M];C=m[x.get(B.id())]-B.width()/2,L=m[x.get(B.id())]+B.width()/2,_=v[x.get(B.id())]-B.height()/2,I=v[x.get(B.id())]+B.height()/2,y>C&&(y=C),w<L&&(w=L),S>_&&(S=_),E<I&&(E=I)}var H={};return H.topLeftX=y,H.topLeftY=S,H.width=w-y,H.height=E-S,H},d.calcParentsWithoutChildren=function(p,m){var v=p.collection();return m.nodes(":parent").forEach(function(x){var y=!1;x.children().forEach(function(w){w.css("display")!="none"&&(y=!0)}),y||v.merge(x)}),v},o.exports=d},816:(o,l,u)=>{var h=u(548),f=u(140).CoSELayout,d=u(140).CoSENode,p=u(140).layoutBase.PointD,m=u(140).layoutBase.DimensionD,v=u(140).layoutBase.LayoutConstants,x=u(140).layoutBase.FDLayoutConstants,y=u(140).CoSEConstants,w=function(E,C){var L=E.cy,_=E.eles,I=_.nodes(),D=_.edges(),F=void 0,M=void 0,B=void 0,H={};E.randomize&&(F=C.nodeIndexes,M=C.xCoords,B=C.yCoords);var R=function(U){return typeof U=="function"},O=function(U,Z){return R(U)?U(Z):U},P=h.calcParentsWithoutChildren(L,_),z=function Y(U,Z,pe,ne){for(var ge=Z.length,ye=0;ye<ge;ye++){var J=Z[ye],se=null;J.intersection(P).length==0&&(se=J.children());var oe=void 0,fe=J.layoutDimensions({nodeDimensionsIncludeLabels:ne.nodeDimensionsIncludeLabels});if(J.outerWidth()!=null&&J.outerHeight()!=null)if(ne.randomize)if(!J.isParent())oe=U.add(new d(pe.graphManager,new p(M[F.get(J.id())]-fe.w/2,B[F.get(J.id())]-fe.h/2),new m(parseFloat(fe.w),parseFloat(fe.h))));else{var me=h.calcBoundingBox(J,M,B,F);J.intersection(P).length==0?oe=U.add(new d(pe.graphManager,new p(me.topLeftX,me.topLeftY),new m(me.width,me.height))):oe=U.add(new d(pe.graphManager,new p(me.topLeftX,me.topLeftY),new m(parseFloat(fe.w),parseFloat(fe.h))))}else oe=U.add(new d(pe.graphManager,new p(J.position("x")-fe.w/2,J.position("y")-fe.h/2),new m(parseFloat(fe.w),parseFloat(fe.h))));else oe=U.add(new d(this.graphManager));if(oe.id=J.data("id"),oe.nodeRepulsion=O(ne.nodeRepulsion,J),oe.paddingLeft=parseInt(J.css("padding")),oe.paddingTop=parseInt(J.css("padding")),oe.paddingRight=parseInt(J.css("padding")),oe.paddingBottom=parseInt(J.css("padding")),ne.nodeDimensionsIncludeLabels&&(oe.labelWidth=J.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,oe.labelHeight=J.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,oe.labelPosVertical=J.css("text-valign"),oe.labelPosHorizontal=J.css("text-halign")),H[J.data("id")]=oe,isNaN(oe.rect.x)&&(oe.rect.x=0),isNaN(oe.rect.y)&&(oe.rect.y=0),se!=null&&se.length>0){var be=void 0;be=pe.getGraphManager().add(pe.newGraph(),oe),Y(be,se,pe,ne)}}},$=function(U,Z,pe){for(var ne=0,ge=0,ye=0;ye<pe.length;ye++){var J=pe[ye],se=H[J.data("source")],oe=H[J.data("target")];if(se&&oe&&se!==oe&&se.getEdgesBetween(oe).length==0){var fe=Z.add(U.newEdge(),se,oe);fe.id=J.id(),fe.idealLength=O(E.idealEdgeLength,J),fe.edgeElasticity=O(E.edgeElasticity,J),ne+=fe.idealLength,ge++}}E.idealEdgeLength!=null&&(ge>0?y.DEFAULT_EDGE_LENGTH=x.DEFAULT_EDGE_LENGTH=ne/ge:R(E.idealEdgeLength)?y.DEFAULT_EDGE_LENGTH=x.DEFAULT_EDGE_LENGTH=50:y.DEFAULT_EDGE_LENGTH=x.DEFAULT_EDGE_LENGTH=E.idealEdgeLength,y.MIN_REPULSION_DIST=x.MIN_REPULSION_DIST=x.DEFAULT_EDGE_LENGTH/10,y.DEFAULT_RADIAL_SEPARATION=x.DEFAULT_EDGE_LENGTH)},V=function(U,Z){Z.fixedNodeConstraint&&(U.constraints.fixedNodeConstraint=Z.fixedNodeConstraint),Z.alignmentConstraint&&(U.constraints.alignmentConstraint=Z.alignmentConstraint),Z.relativePlacementConstraint&&(U.constraints.relativePlacementConstraint=Z.relativePlacementConstraint)};E.nestingFactor!=null&&(y.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=x.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=E.nestingFactor),E.gravity!=null&&(y.DEFAULT_GRAVITY_STRENGTH=x.DEFAULT_GRAVITY_STRENGTH=E.gravity),E.numIter!=null&&(y.MAX_ITERATIONS=x.MAX_ITERATIONS=E.numIter),E.gravityRange!=null&&(y.DEFAULT_GRAVITY_RANGE_FACTOR=x.DEFAULT_GRAVITY_RANGE_FACTOR=E.gravityRange),E.gravityCompound!=null&&(y.DEFAULT_COMPOUND_GRAVITY_STRENGTH=x.DEFAULT_COMPOUND_GRAVITY_STRENGTH=E.gravityCompound),E.gravityRangeCompound!=null&&(y.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=x.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=E.gravityRangeCompound),E.initialEnergyOnIncremental!=null&&(y.DEFAULT_COOLING_FACTOR_INCREMENTAL=x.DEFAULT_COOLING_FACTOR_INCREMENTAL=E.initialEnergyOnIncremental),E.tilingCompareBy!=null&&(y.TILING_COMPARE_BY=E.tilingCompareBy),E.quality=="proof"?v.QUALITY=2:v.QUALITY=0,y.NODE_DIMENSIONS_INCLUDE_LABELS=x.NODE_DIMENSIONS_INCLUDE_LABELS=v.NODE_DIMENSIONS_INCLUDE_LABELS=E.nodeDimensionsIncludeLabels,y.DEFAULT_INCREMENTAL=x.DEFAULT_INCREMENTAL=v.DEFAULT_INCREMENTAL=!E.randomize,y.ANIMATE=x.ANIMATE=v.ANIMATE=E.animate,y.TILE=E.tile,y.TILING_PADDING_VERTICAL=typeof E.tilingPaddingVertical=="function"?E.tilingPaddingVertical.call():E.tilingPaddingVertical,y.TILING_PADDING_HORIZONTAL=typeof E.tilingPaddingHorizontal=="function"?E.tilingPaddingHorizontal.call():E.tilingPaddingHorizontal,y.DEFAULT_INCREMENTAL=x.DEFAULT_INCREMENTAL=v.DEFAULT_INCREMENTAL=!0,y.PURE_INCREMENTAL=!E.randomize,v.DEFAULT_UNIFORM_LEAF_NODE_SIZES=E.uniformNodeDimensions,E.step=="transformed"&&(y.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,y.ENFORCE_CONSTRAINTS=!1,y.APPLY_LAYOUT=!1),E.step=="enforced"&&(y.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,y.ENFORCE_CONSTRAINTS=!0,y.APPLY_LAYOUT=!1),E.step=="cose"&&(y.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,y.ENFORCE_CONSTRAINTS=!1,y.APPLY_LAYOUT=!0),E.step=="all"&&(E.randomize?y.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:y.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,y.ENFORCE_CONSTRAINTS=!0,y.APPLY_LAYOUT=!0),E.fixedNodeConstraint||E.alignmentConstraint||E.relativePlacementConstraint?y.TREE_REDUCTION_ON_INCREMENTAL=!1:y.TREE_REDUCTION_ON_INCREMENTAL=!0;var X=new f,q=X.newGraphManager();return z(q.addRoot(),h.getTopMostNodes(I),X,E),$(X,q,D),V(X,E),X.runLayout(),H};o.exports={coseLayout:w}},212:(o,l,u)=>{var h=function(){function E(C,L){for(var _=0;_<L.length;_++){var I=L[_];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(C,I.key,I)}}return function(C,L,_){return L&&E(C.prototype,L),_&&E(C,_),C}}();function f(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}var d=u(658),p=u(548),m=u(657),v=m.spectralLayout,x=u(816),y=x.coseLayout,w=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(C){return 4500},idealEdgeLength:function(C){return 50},edgeElasticity:function(C){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),S=function(){function E(C){f(this,E),this.options=d({},w,C)}return h(E,[{key:"run",value:function(){var L=this,_=this.options,I=_.cy,D=_.eles,F=[],M=[],B=void 0,H=[];_.fixedNodeConstraint&&(!Array.isArray(_.fixedNodeConstraint)||_.fixedNodeConstraint.length==0)&&(_.fixedNodeConstraint=void 0),_.alignmentConstraint&&(_.alignmentConstraint.vertical&&(!Array.isArray(_.alignmentConstraint.vertical)||_.alignmentConstraint.vertical.length==0)&&(_.alignmentConstraint.vertical=void 0),_.alignmentConstraint.horizontal&&(!Array.isArray(_.alignmentConstraint.horizontal)||_.alignmentConstraint.horizontal.length==0)&&(_.alignmentConstraint.horizontal=void 0)),_.relativePlacementConstraint&&(!Array.isArray(_.relativePlacementConstraint)||_.relativePlacementConstraint.length==0)&&(_.relativePlacementConstraint=void 0);var R=_.fixedNodeConstraint||_.alignmentConstraint||_.relativePlacementConstraint;R&&(_.tile=!1,_.packComponents=!1);var O=void 0,P=!1;if(I.layoutUtilities&&_.packComponents&&(O=I.layoutUtilities("get"),O||(O=I.layoutUtilities()),P=!0),D.nodes().length>0)if(P){var V=p.getTopMostNodes(_.eles.nodes());if(B=p.connectComponents(I,_.eles,V),B.forEach(function(xe){var le=xe.boundingBox();H.push({x:le.x1+le.w/2,y:le.y1+le.h/2})}),_.randomize&&B.forEach(function(xe){_.eles=xe,F.push(v(_))}),_.quality=="default"||_.quality=="proof"){var X=I.collection();if(_.tile){var q=new Map,Y=[],U=[],Z=0,pe={nodeIndexes:q,xCoords:Y,yCoords:U},ne=[];if(B.forEach(function(xe,le){xe.edges().length==0&&(xe.nodes().forEach(function(ke,De){X.merge(xe.nodes()[De]),ke.isParent()||(pe.nodeIndexes.set(xe.nodes()[De].id(),Z++),pe.xCoords.push(xe.nodes()[0].position().x),pe.yCoords.push(xe.nodes()[0].position().y))}),ne.push(le))}),X.length>1){var ge=X.boundingBox();H.push({x:ge.x1+ge.w/2,y:ge.y1+ge.h/2}),B.push(X),F.push(pe);for(var ye=ne.length-1;ye>=0;ye--)B.splice(ne[ye],1),F.splice(ne[ye],1),H.splice(ne[ye],1)}}B.forEach(function(xe,le){_.eles=xe,M.push(y(_,F[le])),p.relocateComponent(H[le],M[le],_)})}else B.forEach(function(xe,le){p.relocateComponent(H[le],F[le],_)});var J=new Set;if(B.length>1){var se=[],oe=D.filter(function(xe){return xe.css("display")=="none"});B.forEach(function(xe,le){var ke=void 0;if(_.quality=="draft"&&(ke=F[le].nodeIndexes),xe.nodes().not(oe).length>0){var De={};De.edges=[],De.nodes=[];var We=void 0;xe.nodes().not(oe).forEach(function(qe){if(_.quality=="draft")if(!qe.isParent())We=ke.get(qe.id()),De.nodes.push({x:F[le].xCoords[We]-qe.boundingbox().w/2,y:F[le].yCoords[We]-qe.boundingbox().h/2,width:qe.boundingbox().w,height:qe.boundingbox().h});else{var Ve=p.calcBoundingBox(qe,F[le].xCoords,F[le].yCoords,ke);De.nodes.push({x:Ve.topLeftX,y:Ve.topLeftY,width:Ve.width,height:Ve.height})}else M[le][qe.id()]&&De.nodes.push({x:M[le][qe.id()].getLeft(),y:M[le][qe.id()].getTop(),width:M[le][qe.id()].getWidth(),height:M[le][qe.id()].getHeight()})}),xe.edges().forEach(function(qe){var Ve=qe.source(),we=qe.target();if(Ve.css("display")!="none"&&we.css("display")!="none")if(_.quality=="draft"){var Te=ke.get(Ve.id()),de=ke.get(we.id()),W=[],ee=[];if(Ve.isParent()){var te=p.calcBoundingBox(Ve,F[le].xCoords,F[le].yCoords,ke);W.push(te.topLeftX+te.width/2),W.push(te.topLeftY+te.height/2)}else W.push(F[le].xCoords[Te]),W.push(F[le].yCoords[Te]);if(we.isParent()){var he=p.calcBoundingBox(we,F[le].xCoords,F[le].yCoords,ke);ee.push(he.topLeftX+he.width/2),ee.push(he.topLeftY+he.height/2)}else ee.push(F[le].xCoords[de]),ee.push(F[le].yCoords[de]);De.edges.push({startX:W[0],startY:W[1],endX:ee[0],endY:ee[1]})}else M[le][Ve.id()]&&M[le][we.id()]&&De.edges.push({startX:M[le][Ve.id()].getCenterX(),startY:M[le][Ve.id()].getCenterY(),endX:M[le][we.id()].getCenterX(),endY:M[le][we.id()].getCenterY()})}),De.nodes.length>0&&(se.push(De),J.add(le))}});var fe=O.packComponents(se,_.randomize).shifts;if(_.quality=="draft")F.forEach(function(xe,le){var ke=xe.xCoords.map(function(We){return We+fe[le].dx}),De=xe.yCoords.map(function(We){return We+fe[le].dy});xe.xCoords=ke,xe.yCoords=De});else{var me=0;J.forEach(function(xe){Object.keys(M[xe]).forEach(function(le){var ke=M[xe][le];ke.setCenter(ke.getCenterX()+fe[me].dx,ke.getCenterY()+fe[me].dy)}),me++})}}}else{var z=_.eles.boundingBox();if(H.push({x:z.x1+z.w/2,y:z.y1+z.h/2}),_.randomize){var $=v(_);F.push($)}_.quality=="default"||_.quality=="proof"?(M.push(y(_,F[0])),p.relocateComponent(H[0],M[0],_)):p.relocateComponent(H[0],F[0],_)}var be=function(le,ke){if(_.quality=="default"||_.quality=="proof"){typeof le=="number"&&(le=ke);var De=void 0,We=void 0,qe=le.data("id");return M.forEach(function(we){qe in we&&(De={x:we[qe].getRect().getCenterX(),y:we[qe].getRect().getCenterY()},We=we[qe])}),_.nodeDimensionsIncludeLabels&&(We.labelWidth&&(We.labelPosHorizontal=="left"?De.x+=We.labelWidth/2:We.labelPosHorizontal=="right"&&(De.x-=We.labelWidth/2)),We.labelHeight&&(We.labelPosVertical=="top"?De.y+=We.labelHeight/2:We.labelPosVertical=="bottom"&&(De.y-=We.labelHeight/2))),De==null&&(De={x:le.position("x"),y:le.position("y")}),{x:De.x,y:De.y}}else{var Ve=void 0;return F.forEach(function(we){var Te=we.nodeIndexes.get(le.id());Te!=null&&(Ve={x:we.xCoords[Te],y:we.yCoords[Te]})}),Ve==null&&(Ve={x:le.position("x"),y:le.position("y")}),{x:Ve.x,y:Ve.y}}};if(_.quality=="default"||_.quality=="proof"||_.randomize){var ce=p.calcParentsWithoutChildren(I,D),Ge=D.filter(function(xe){return xe.css("display")=="none"});_.eles=D.not(Ge),D.nodes().not(":parent").not(Ge).layoutPositions(L,_,be),ce.length>0&&ce.forEach(function(xe){xe.position(be(xe))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),E}();o.exports=S},657:(o,l,u)=>{var h=u(548),f=u(140).layoutBase.Matrix,d=u(140).layoutBase.SVD,p=function(v){var x=v.cy,y=v.eles,w=y.nodes(),S=y.nodes(":parent"),E=new Map,C=new Map,L=new Map,_=[],I=[],D=[],F=[],M=[],B=[],H=[],R=[],O=void 0,P=1e8,z=1e-9,$=v.piTol,V=v.samplingType,X=v.nodeSeparation,q=void 0,Y=function(){for(var ae=0,Le=0,Ne=!1;Le<q;){ae=Math.floor(Math.random()*O),Ne=!1;for(var Ie=0;Ie<Le;Ie++)if(F[Ie]==ae){Ne=!0;break}if(!Ne)F[Le]=ae,Le++;else continue}},U=function(ae,Le,Ne){for(var Ie=[],Oe=0,Pe=0,Me=0,ze=void 0,it=[],ut=0,gt=1,wt=0;wt<O;wt++)it[wt]=P;for(Ie[Pe]=ae,it[ae]=0;Pe>=Oe;){Me=Ie[Oe++];for(var Pt=_[Me],ot=0;ot<Pt.length;ot++)ze=C.get(Pt[ot]),it[ze]==P&&(it[ze]=it[Me]+1,Ie[++Pe]=ze);B[Me][Le]=it[Me]*X}if(Ne){for(var at=0;at<O;at++)B[at][Le]<M[at]&&(M[at]=B[at][Le]);for(var kt=0;kt<O;kt++)M[kt]>ut&&(ut=M[kt],gt=kt)}return gt},Z=function(ae){var Le=void 0;if(ae){Le=Math.floor(Math.random()*O);for(var Ie=0;Ie<O;Ie++)M[Ie]=P;for(var Oe=0;Oe<q;Oe++)F[Oe]=Le,Le=U(Le,Oe,ae)}else{Y();for(var Ne=0;Ne<q;Ne++)U(F[Ne],Ne,ae)}for(var Pe=0;Pe<O;Pe++)for(var Me=0;Me<q;Me++)B[Pe][Me]*=B[Pe][Me];for(var ze=0;ze<q;ze++)H[ze]=[];for(var it=0;it<q;it++)for(var ut=0;ut<q;ut++)H[it][ut]=B[F[ut]][it]},pe=function(){for(var ae=d.svd(H),Le=ae.S,Ne=ae.U,Ie=ae.V,Oe=Le[0]*Le[0]*Le[0],Pe=[],Me=0;Me<q;Me++){Pe[Me]=[];for(var ze=0;ze<q;ze++)Pe[Me][ze]=0,Me==ze&&(Pe[Me][ze]=Le[Me]/(Le[Me]*Le[Me]+Oe/(Le[Me]*Le[Me])))}R=f.multMat(f.multMat(Ie,Pe),f.transpose(Ne))},ne=function(){for(var ae=void 0,Le=void 0,Ne=[],Ie=[],Oe=[],Pe=[],Me=0;Me<O;Me++)Ne[Me]=Math.random(),Ie[Me]=Math.random();Ne=f.normalize(Ne),Ie=f.normalize(Ie);for(var ze=z,it=z,ut=void 0;;){for(var gt=0;gt<O;gt++)Oe[gt]=Ne[gt];if(Ne=f.multGamma(f.multL(f.multGamma(Oe),B,R)),ae=f.dotProduct(Oe,Ne),Ne=f.normalize(Ne),ze=f.dotProduct(Oe,Ne),ut=Math.abs(ze/it),ut<=1+$&&ut>=1)break;it=ze}for(var wt=0;wt<O;wt++)Oe[wt]=Ne[wt];for(it=z;;){for(var Pt=0;Pt<O;Pt++)Pe[Pt]=Ie[Pt];if(Pe=f.minusOp(Pe,f.multCons(Oe,f.dotProduct(Oe,Pe))),Ie=f.multGamma(f.multL(f.multGamma(Pe),B,R)),Le=f.dotProduct(Pe,Ie),Ie=f.normalize(Ie),ze=f.dotProduct(Pe,Ie),ut=Math.abs(ze/it),ut<=1+$&&ut>=1)break;it=ze}for(var ot=0;ot<O;ot++)Pe[ot]=Ie[ot];I=f.multCons(Oe,Math.sqrt(Math.abs(ae))),D=f.multCons(Pe,Math.sqrt(Math.abs(Le)))};h.connectComponents(x,y,h.getTopMostNodes(w),E),S.forEach(function(_e){h.connectComponents(x,y,h.getTopMostNodes(_e.descendants().intersection(y)),E)});for(var ge=0,ye=0;ye<w.length;ye++)w[ye].isParent()||C.set(w[ye].id(),ge++);var J=!0,se=!1,oe=void 0;try{for(var fe=E.keys()[Symbol.iterator](),me;!(J=(me=fe.next()).done);J=!0){var be=me.value;C.set(be,ge++)}}catch(_e){se=!0,oe=_e}finally{try{!J&&fe.return&&fe.return()}finally{if(se)throw oe}}for(var ce=0;ce<C.size;ce++)_[ce]=[];S.forEach(function(_e){for(var ae=_e.children().intersection(y);ae.nodes(":childless").length==0;)ae=ae.nodes()[0].children().intersection(y);var Le=0,Ne=ae.nodes(":childless")[0].connectedEdges().length;ae.nodes(":childless").forEach(function(Ie,Oe){Ie.connectedEdges().length<Ne&&(Ne=Ie.connectedEdges().length,Le=Oe)}),L.set(_e.id(),ae.nodes(":childless")[Le].id())}),w.forEach(function(_e){var ae=void 0;_e.isParent()?ae=C.get(L.get(_e.id())):ae=C.get(_e.id()),_e.neighborhood().nodes().forEach(function(Le){y.intersection(_e.edgesWith(Le)).length>0&&(Le.isParent()?_[ae].push(L.get(Le.id())):_[ae].push(Le.id()))})});var Ge=function(ae){var Le=C.get(ae),Ne=void 0;E.get(ae).forEach(function(Ie){x.getElementById(Ie).isParent()?Ne=L.get(Ie):Ne=Ie,_[Le].push(Ne),_[C.get(Ne)].push(ae)})},xe=!0,le=!1,ke=void 0;try{for(var De=E.keys()[Symbol.iterator](),We;!(xe=(We=De.next()).done);xe=!0){var qe=We.value;Ge(qe)}}catch(_e){le=!0,ke=_e}finally{try{!xe&&De.return&&De.return()}finally{if(le)throw ke}}O=C.size;var Ve=void 0;if(O>2){q=O<v.sampleSize?O:v.sampleSize;for(var we=0;we<O;we++)B[we]=[];for(var Te=0;Te<q;Te++)R[Te]=[];return v.quality=="draft"||v.step=="all"?(Z(V),pe(),ne(),Ve={nodeIndexes:C,xCoords:I,yCoords:D}):(C.forEach(function(_e,ae){I.push(x.getElementById(ae).position("x")),D.push(x.getElementById(ae).position("y"))}),Ve={nodeIndexes:C,xCoords:I,yCoords:D}),Ve}else{var de=C.keys(),W=x.getElementById(de.next().value),ee=W.position(),te=W.outerWidth();if(I.push(ee.x),D.push(ee.y),O==2){var he=x.getElementById(de.next().value),K=he.outerWidth();I.push(ee.x+te/2+K/2+v.idealEdgeLength),D.push(ee.y)}return Ve={nodeIndexes:C,xCoords:I,yCoords:D},Ve}};o.exports={spectralLayout:p}},579:(o,l,u)=>{var h=u(212),f=function(p){p&&p("layout","fcose",h)};typeof cytoscape<"u"&&f(cytoscape),o.exports=f},140:o=>{o.exports=r}},i={};function a(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={exports:{}};return n[o](u,u.exports,a),u.exports}var s=a(579);return s})()})})(xfe);var Tlt=xfe.exports;const Clt=Th(Tlt);var kq={L:"left",R:"right",T:"top",B:"bottom"},Eq={L:k(t=>`${t},${t/2} 0,${t} 0,0`,"L"),R:k(t=>`0,${t/2} ${t},0 ${t},${t}`,"R"),T:k(t=>`0,0 ${t},0 ${t/2},${t}`,"T"),B:k(t=>`${t/2},0 ${t},${t} 0,${t}`,"B")},qw={L:k((t,e)=>t-e+2,"L"),R:k((t,e)=>t-2,"R"),T:k((t,e)=>t-e+2,"T"),B:k((t,e)=>t-2,"B")},Alt=k(function(t){return so(t)?t==="L"?"R":"L":t==="T"?"B":"T"},"getOppositeArchitectureDirection"),Tq=k(function(t){const e=t;return e==="L"||e==="R"||e==="T"||e==="B"},"isArchitectureDirection"),so=k(function(t){const e=t;return e==="L"||e==="R"},"isArchitectureDirectionX"),ad=k(function(t){const e=t;return e==="T"||e==="B"},"isArchitectureDirectionY"),bfe=k(function(t,e){const r=so(t)&&ad(e),n=ad(t)&&so(e);return r||n},"isArchitectureDirectionXY"),_lt=k(function(t){const e=t[0],r=t[1],n=so(e)&&ad(r),i=ad(e)&&so(r);return n||i},"isArchitecturePairXY"),Llt=k(function(t){return t!=="LL"&&t!=="RR"&&t!=="TT"&&t!=="BB"},"isValidArchitectureDirectionPair"),tD=k(function(t,e){const r=`${t}${e}`;return Llt(r)?r:void 0},"getArchitectureDirectionPair"),Dlt=k(function([t,e],r){const n=r[0],i=r[1];return so(n)?ad(i)?[t+(n==="L"?-1:1),e+(i==="T"?1:-1)]:[t+(n==="L"?-1:1),e]:so(i)?[t+(i==="L"?1:-1),e+(n==="T"?1:-1)]:[t,e+(n==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),Rlt=k(function(t){return t==="LT"||t==="TL"?[1,1]:t==="BL"||t==="LB"?[1,-1]:t==="BR"||t==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),Mlt=k(function(t){return t.type==="service"},"isArchitectureService"),Nlt=k(function(t){return t.type==="junction"},"isArchitectureJunction"),wfe=k(t=>t.data(),"edgeData"),Ug=k(t=>t.data(),"nodeData"),Sfe=Zr.architecture,Fr=new SN(()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:Sfe,dataStructures:void 0,elements:{}})),Ilt=k(()=>{Fr.reset(),Ea()},"clear"),Olt=k(function({id:t,icon:e,in:r,title:n,iconText:i}){if(Fr.records.registeredIds[t]!==void 0)throw new Error(`The service id [${t}] is already in use by another ${Fr.records.registeredIds[t]}`);if(r!==void 0){if(t===r)throw new Error(`The service [${t}] cannot be placed within itself`);if(Fr.records.registeredIds[r]===void 0)throw new Error(`The service [${t}]'s parent does not exist. Please make sure the parent is created before this service`);if(Fr.records.registeredIds[r]==="node")throw new Error(`The service [${t}]'s parent is not a group`)}Fr.records.registeredIds[t]="node",Fr.records.nodes[t]={id:t,type:"service",icon:e,iconText:i,title:n,edges:[],in:r}},"addService"),Plt=k(()=>Object.values(Fr.records.nodes).filter(Mlt),"getServices"),Flt=k(function({id:t,in:e}){Fr.records.registeredIds[t]="node",Fr.records.nodes[t]={id:t,type:"junction",edges:[],in:e}},"addJunction"),Blt=k(()=>Object.values(Fr.records.nodes).filter(Nlt),"getJunctions"),$lt=k(()=>Object.values(Fr.records.nodes),"getNodes"),zlt=k(t=>Fr.records.nodes[t],"getNode"),Hlt=k(function({id:t,icon:e,in:r,title:n}){if(Fr.records.registeredIds[t]!==void 0)throw new Error(`The group id [${t}] is already in use by another ${Fr.records.registeredIds[t]}`);if(r!==void 0){if(t===r)throw new Error(`The group [${t}] cannot be placed within itself`);if(Fr.records.registeredIds[r]===void 0)throw new Error(`The group [${t}]'s parent does not exist. Please make sure the parent is created before this group`);if(Fr.records.registeredIds[r]==="node")throw new Error(`The group [${t}]'s parent is not a group`)}Fr.records.registeredIds[t]="group",Fr.records.groups[t]={id:t,icon:e,title:n,in:r}},"addGroup"),Vlt=k(()=>Object.values(Fr.records.groups),"getGroups"),Ult=k(function({lhsId:t,rhsId:e,lhsDir:r,rhsDir:n,lhsInto:i,rhsInto:a,lhsGroup:s,rhsGroup:o,title:l}){if(!Tq(r))throw new Error(`Invalid direction given for left hand side of edge ${t}--${e}. Expected (L,R,T,B) got ${r}`);if(!Tq(n))throw new Error(`Invalid direction given for right hand side of edge ${t}--${e}. Expected (L,R,T,B) got ${n}`);if(Fr.records.nodes[t]===void 0&&Fr.records.groups[t]===void 0)throw new Error(`The left-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(Fr.records.nodes[e]===void 0&&Fr.records.groups[t]===void 0)throw new Error(`The right-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);const u=Fr.records.nodes[t].in,h=Fr.records.nodes[e].in;if(s&&u&&h&&u==h)throw new Error(`The left-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(o&&u&&h&&u==h)throw new Error(`The right-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);const f={lhsId:t,lhsDir:r,lhsInto:i,lhsGroup:s,rhsId:e,rhsDir:n,rhsInto:a,rhsGroup:o,title:l};Fr.records.edges.push(f),Fr.records.nodes[t]&&Fr.records.nodes[e]&&(Fr.records.nodes[t].edges.push(Fr.records.edges[Fr.records.edges.length-1]),Fr.records.nodes[e].edges.push(Fr.records.edges[Fr.records.edges.length-1]))},"addEdge"),Glt=k(()=>Fr.records.edges,"getEdges"),Wlt=k(()=>{if(Fr.records.dataStructures===void 0){const t=Object.entries(Fr.records.nodes).reduce((s,[o,l])=>(s[o]=l.edges.reduce((u,h)=>{if(h.lhsId===o){const f=tD(h.lhsDir,h.rhsDir);f&&(u[f]=h.rhsId)}else{const f=tD(h.rhsDir,h.lhsDir);f&&(u[f]=h.lhsId)}return u},{}),s),{}),e=Object.keys(t)[0],r={[e]:1},n=Object.keys(t).reduce((s,o)=>o===e?s:{...s,[o]:1},{}),i=k(s=>{const o={[s]:[0,0]},l=[s];for(;l.length>0;){const u=l.shift();if(u){r[u]=1,delete n[u];const h=t[u],[f,d]=o[u];Object.entries(h).forEach(([p,m])=>{r[m]||(o[m]=Dlt([f,d],p),l.push(m))})}}return o},"BFS"),a=[i(e)];for(;Object.keys(n).length>0;)a.push(i(Object.keys(n)[0]));Fr.records.dataStructures={adjList:t,spatialMaps:a}}return Fr.records.dataStructures},"getDataStructures"),qlt=k((t,e)=>{Fr.records.elements[t]=e},"setElementForId"),Ylt=k(t=>Fr.records.elements[t],"getElementById"),Mk={clear:Ilt,setDiagramTitle:js,getDiagramTitle:Xa,setAccTitle:Ta,getAccTitle:Wa,setAccDescription:qa,getAccDescription:Ya,addService:Olt,getServices:Plt,addJunction:Flt,getJunctions:Blt,getNodes:$lt,getNode:zlt,addGroup:Hlt,getGroups:Vlt,addEdge:Ult,getEdges:Glt,setElementForId:qlt,getElementById:Ylt,getDataStructures:Wlt};function la(t){const e=Ue().architecture;return e!=null&&e[t]?e[t]:Sfe[t]}k(la,"getConfigField");var Xlt=k((t,e)=>{Ib(t,e),t.groups.map(e.addGroup),t.services.map(r=>e.addService({...r,type:"service"})),t.junctions.map(r=>e.addJunction({...r,type:"junction"})),t.edges.map(e.addEdge)},"populateDb"),jlt={parse:k(async t=>{const e=await gv("architecture",t);Ee.debug(e),Xlt(e,Mk)},"parse")},Klt=k(t=>`
  .edge {
    stroke-width: ${t.archEdgeWidth};
    stroke: ${t.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${t.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${t.archGroupBorderColor};
    stroke-width: ${t.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),Qlt=Klt,mg=k(t=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${t}</g>`,"wrapIcon"),rb={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:mg('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:mg('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:mg('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:mg('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:mg('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:OQ,blank:{body:mg("")}}},Zlt=k(async function(t,e){const r=la("padding"),n=la("iconSize"),i=n/2,a=n/6,s=a/2;await Promise.all(e.edges().map(async o=>{var I,D;const{source:l,sourceDir:u,sourceArrow:h,sourceGroup:f,target:d,targetDir:p,targetArrow:m,targetGroup:v,label:x}=wfe(o);let{x:y,y:w}=o[0].sourceEndpoint();const{x:S,y:E}=o[0].midpoint();let{x:C,y:L}=o[0].targetEndpoint();const _=r+4;if(f&&(so(u)?y+=u==="L"?-_:_:w+=u==="T"?-_:_+18),v&&(so(p)?C+=p==="L"?-_:_:L+=p==="T"?-_:_+18),!f&&((I=Mk.getNode(l))==null?void 0:I.type)==="junction"&&(so(u)?y+=u==="L"?i:-i:w+=u==="T"?i:-i),!v&&((D=Mk.getNode(d))==null?void 0:D.type)==="junction"&&(so(p)?C+=p==="L"?i:-i:L+=p==="T"?i:-i),o[0]._private.rscratch){const F=t.insert("g");if(F.insert("path").attr("d",`M ${y},${w} L ${S},${E} L${C},${L} `).attr("class","edge"),h){const M=so(u)?qw[u](y,a):y-s,B=ad(u)?qw[u](w,a):w-s;F.insert("polygon").attr("points",Eq[u](a)).attr("transform",`translate(${M},${B})`).attr("class","arrow")}if(m){const M=so(p)?qw[p](C,a):C-s,B=ad(p)?qw[p](L,a):L-s;F.insert("polygon").attr("points",Eq[p](a)).attr("transform",`translate(${M},${B})`).attr("class","arrow")}if(x){const M=bfe(u,p)?"XY":so(u)?"X":"Y";let B=0;M==="X"?B=Math.abs(y-C):M==="Y"?B=Math.abs(w-L)/1.5:B=Math.abs(y-C)/2;const H=F.append("g");if(await Fl(H,x,{useHtmlLabels:!1,width:B,classes:"architecture-service-label"},Ue()),H.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),M==="X")H.attr("transform","translate("+S+", "+E+")");else if(M==="Y")H.attr("transform","translate("+S+", "+E+") rotate(-90)");else if(M==="XY"){const R=tD(u,p);if(R&&_lt(R)){const O=H.node().getBoundingClientRect(),[P,z]=Rlt(R);H.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*P*z*45})`);const $=H.node().getBoundingClientRect();H.attr("transform",`
                translate(${S}, ${E-O.height/2})
                translate(${P*$.width/2}, ${z*$.height/2})
                rotate(${-1*P*z*45}, 0, ${O.height/2})
              `)}}}}}))},"drawEdges"),Jlt=k(async function(t,e){const n=la("padding")*.75,i=la("fontSize"),s=la("iconSize")/2;await Promise.all(e.nodes().map(async o=>{const l=Ug(o);if(l.type==="group"){const{h:u,w:h,x1:f,y1:d}=o.boundingBox();t.append("rect").attr("x",f+s).attr("y",d+s).attr("width",h).attr("height",u).attr("class","node-bkg");const p=t.append("g");let m=f,v=d;if(l.icon){const x=p.append("g");x.html(`<g>${await O0(l.icon,{height:n,width:n,fallbackPrefix:rb.prefix})}</g>`),x.attr("transform","translate("+(m+s+1)+", "+(v+s+1)+")"),m+=n,v+=i/2-1-2}if(l.label){const x=p.append("g");await Fl(x,l.label,{useHtmlLabels:!1,width:h,classes:"architecture-service-label"},Ue()),x.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),x.attr("transform","translate("+(m+s+4)+", "+(v+s+2)+")")}}}))},"drawGroups"),eut=k(async function(t,e,r){for(const n of r){const i=e.append("g"),a=la("iconSize");if(n.title){const u=i.append("g");await Fl(u,n.title,{useHtmlLabels:!1,width:a*1.5,classes:"architecture-service-label"},Ue()),u.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),u.attr("transform","translate("+a/2+", "+a+")")}const s=i.append("g");if(n.icon)s.html(`<g>${await O0(n.icon,{height:a,width:a,fallbackPrefix:rb.prefix})}</g>`);else if(n.iconText){s.html(`<g>${await O0("blank",{height:a,width:a,fallbackPrefix:rb.prefix})}</g>`);const f=s.append("g").append("foreignObject").attr("width",a).attr("height",a).append("div").attr("class","node-icon-text").attr("style",`height: ${a}px;`).append("div").html(n.iconText),d=parseInt(window.getComputedStyle(f.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;f.attr("style",`-webkit-line-clamp: ${Math.floor((a-2)/d)};`)}else s.append("path").attr("class","node-bkg").attr("id","node-"+n.id).attr("d",`M0 ${a} v${-a} q0,-5 5,-5 h${a} q5,0 5,5 v${a} H0 Z`);i.attr("class","architecture-service");const{width:o,height:l}=i._groups[0][0].getBBox();n.width=o,n.height=l,t.setElementForId(n.id,i)}return 0},"drawServices"),tut=k(function(t,e,r){r.forEach(n=>{const i=e.append("g"),a=la("iconSize");i.append("g").append("rect").attr("id","node-"+n.id).attr("fill-opacity","0").attr("width",a).attr("height",a),i.attr("class","architecture-junction");const{width:o,height:l}=i._groups[0][0].getBBox();i.width=o,i.height=l,t.setElementForId(n.id,i)})},"drawJunctions");FQ([{name:rb.prefix,icons:rb}]);oc.use(Clt);function kfe(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"service",id:r.id,icon:r.icon,label:r.title,parent:r.in,width:la("iconSize"),height:la("iconSize")},classes:"node-service"})})}k(kfe,"addServices");function Efe(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"junction",id:r.id,parent:r.in,width:la("iconSize"),height:la("iconSize")},classes:"node-junction"})})}k(Efe,"addJunctions");function Tfe(t,e){e.nodes().map(r=>{const n=Ug(r);if(n.type==="group")return;n.x=r.position().x,n.y=r.position().y,t.getElementById(n.id).attr("transform","translate("+(n.x||0)+","+(n.y||0)+")")})}k(Tfe,"positionNodes");function Cfe(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"group",id:r.id,icon:r.icon,label:r.title,parent:r.in},classes:"node-group"})})}k(Cfe,"addGroups");function Afe(t,e){t.forEach(r=>{const{lhsId:n,rhsId:i,lhsInto:a,lhsGroup:s,rhsInto:o,lhsDir:l,rhsDir:u,rhsGroup:h,title:f}=r,d=bfe(r.lhsDir,r.rhsDir)?"segments":"straight",p={id:`${n}-${i}`,label:f,source:n,sourceDir:l,sourceArrow:a,sourceGroup:s,sourceEndpoint:l==="L"?"0 50%":l==="R"?"100% 50%":l==="T"?"50% 0":"50% 100%",target:i,targetDir:u,targetArrow:o,targetGroup:h,targetEndpoint:u==="L"?"0 50%":u==="R"?"100% 50%":u==="T"?"50% 0":"50% 100%"};e.add({group:"edges",data:p,classes:d})})}k(Afe,"addEdges");function _fe(t){const e=t.map(i=>{const a={},s={};return Object.entries(i).forEach(([o,[l,u]])=>{a[u]||(a[u]=[]),s[l]||(s[l]=[]),a[u].push(o),s[l].push(o)}),{horiz:Object.values(a).filter(o=>o.length>1),vert:Object.values(s).filter(o=>o.length>1)}}),[r,n]=e.reduce(([i,a],{horiz:s,vert:o})=>[[...i,...s],[...a,...o]],[[],[]]);return{horizontal:r,vertical:n}}k(_fe,"getAlignments");function Lfe(t){const e=[],r=k(i=>`${i[0]},${i[1]}`,"posToStr"),n=k(i=>i.split(",").map(a=>parseInt(a)),"strToPos");return t.forEach(i=>{const a=Object.fromEntries(Object.entries(i).map(([u,h])=>[r(h),u])),s=[r([0,0])],o={},l={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;s.length>0;){const u=s.shift();if(u){o[u]=1;const h=a[u];if(h){const f=n(u);Object.entries(l).forEach(([d,p])=>{const m=r([f[0]+p[0],f[1]+p[1]]),v=a[m];v&&!o[m]&&(s.push(m),e.push({[kq[d]]:v,[kq[Alt(d)]]:h,gap:1.5*la("iconSize")}))})}}}}),e}k(Lfe,"getRelativeConstraints");function Dfe(t,e,r,n,{spatialMaps:i}){return new Promise(a=>{const s=bt("body").append("div").attr("id","cy").attr("style","display:none"),o=oc({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${la("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${la("padding")}px`}}]});s.remove(),Cfe(r,o),kfe(t,o),Efe(e,o),Afe(n,o);const l=_fe(i),u=Lfe(i),h=o.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(f){const[d,p]=f.connectedNodes(),{parent:m}=Ug(d),{parent:v}=Ug(p);return m===v?1.5*la("iconSize"):.5*la("iconSize")},edgeElasticity(f){const[d,p]=f.connectedNodes(),{parent:m}=Ug(d),{parent:v}=Ug(p);return m===v?.45:.001},alignmentConstraint:l,relativePlacementConstraint:u});h.one("layoutstop",()=>{var d;function f(p,m,v,x){let y,w;const{x:S,y:E}=p,{x:C,y:L}=m;w=(x-E+(S-v)*(E-L)/(S-C))/Math.sqrt(1+Math.pow((E-L)/(S-C),2)),y=Math.sqrt(Math.pow(x-E,2)+Math.pow(v-S,2)-Math.pow(w,2));const _=Math.sqrt(Math.pow(C-S,2)+Math.pow(L-E,2));y=y/_;let I=(C-S)*(x-E)-(L-E)*(v-S);switch(!0){case I>=0:I=1;break;case I<0:I=-1;break}let D=(C-S)*(v-S)+(L-E)*(x-E);switch(!0){case D>=0:D=1;break;case D<0:D=-1;break}return w=Math.abs(w)*I,y=y*D,{distances:w,weights:y}}k(f,"getSegmentWeights"),o.startBatch();for(const p of Object.values(o.edges()))if((d=p.data)!=null&&d.call(p)){const{x:m,y:v}=p.source().position(),{x,y}=p.target().position();if(m!==x&&v!==y){const w=p.sourceEndpoint(),S=p.targetEndpoint(),{sourceDir:E}=wfe(p),[C,L]=ad(E)?[w.x,S.y]:[S.x,w.y],{weights:_,distances:I}=f(w,S,C,L);p.style("segment-distances",I),p.style("segment-weights",_)}}o.endBatch(),h.run()}),h.run(),o.ready(f=>{Ee.info("Ready",f),a(o)})})}k(Dfe,"layoutArchitecture");var rut=k(async(t,e,r,n)=>{const i=n.db,a=i.getServices(),s=i.getJunctions(),o=i.getGroups(),l=i.getEdges(),u=i.getDataStructures(),h=fd(e),f=h.append("g");f.attr("class","architecture-edges");const d=h.append("g");d.attr("class","architecture-services");const p=h.append("g");p.attr("class","architecture-groups"),await eut(i,d,a),tut(i,d,s);const m=await Dfe(a,s,o,l,u);await Zlt(f,m),await Jlt(p,m),Tfe(i,m),Km(void 0,h,la("padding"),la("useMaxWidth"))},"draw"),nut={draw:rut},iut={parser:jlt,db:Mk,renderer:nut,styles:Qlt};const aut=Object.freeze(Object.defineProperty({__proto__:null,diagram:iut},Symbol.toStringTag,{value:"Module"})),sut=Object.freeze(Object.defineProperty({__proto__:null,InfoModule:Roe,createInfoServices:Moe},Symbol.toStringTag,{value:"Module"})),out=Object.freeze(Object.defineProperty({__proto__:null,PacketModule:Noe,createPacketServices:Ioe},Symbol.toStringTag,{value:"Module"})),lut=Object.freeze(Object.defineProperty({__proto__:null,PieModule:Ooe,createPieServices:Poe},Symbol.toStringTag,{value:"Module"})),uut=Object.freeze(Object.defineProperty({__proto__:null,ArchitectureModule:Foe,createArchitectureServices:Boe},Symbol.toStringTag,{value:"Module"})),cut=Object.freeze(Object.defineProperty({__proto__:null,GitGraphModule:Loe,createGitGraphServices:Doe},Symbol.toStringTag,{value:"Module"}));</script>
  <style rel="stylesheet" crossorigin>html{width:100%;height:100%;margin:0;padding:0}body{width:100%;height:100%;margin:0;padding:0;-moz-osx-font-smoothing:grayscale}#root{width:100%;height:100%}.page-content-root{display:flex;height:100%;flex-direction:column;justify-content:flex-start;overflow:auto}.ellipsis-ex{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}input:-moz-read-only,textarea:-moz-read-only{background-color:transparent}input:read-only,textarea:read-only{background-color:transparent}.border-color-0{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.border-color-0:is(.dark *){--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity, 1))}.border-color-1{--tw-border-opacity: 1;border-color:rgb(250 250 250 / var(--tw-border-opacity, 1))}.border-color-1:is(.dark *){--tw-border-opacity: 1;border-color:rgb(10 10 10 / var(--tw-border-opacity, 1))}.border-color-2{--tw-border-opacity: 1;border-color:rgb(245 245 245 / var(--tw-border-opacity, 1))}.border-color-2:is(.dark *){--tw-border-opacity: 1;border-color:rgb(23 23 23 / var(--tw-border-opacity, 1))}.border-color-3{--tw-border-opacity: 1;border-color:rgb(229 229 229 / var(--tw-border-opacity, 1))}.border-color-3:is(.dark *){--tw-border-opacity: 1;border-color:rgb(38 38 38 / var(--tw-border-opacity, 1))}.border-color-4{--tw-border-opacity: 1;border-color:rgb(212 212 212 / var(--tw-border-opacity, 1))}.border-color-4:is(.dark *){--tw-border-opacity: 1;border-color:rgb(64 64 64 / var(--tw-border-opacity, 1))}.border-color-5{--tw-border-opacity: 1;border-color:rgb(163 163 163 / var(--tw-border-opacity, 1))}.border-color-5:is(.dark *){--tw-border-opacity: 1;border-color:rgb(82 82 82 / var(--tw-border-opacity, 1))}.border-color-6{--tw-border-opacity: 1;border-color:rgb(115 115 115 / var(--tw-border-opacity, 1))}.border-color-6:is(.dark *){--tw-border-opacity: 1;border-color:rgb(115 115 115 / var(--tw-border-opacity, 1))}.border-color-7{--tw-border-opacity: 1;border-color:rgb(82 82 82 / var(--tw-border-opacity, 1))}.border-color-7:is(.dark *){--tw-border-opacity: 1;border-color:rgb(163 163 163 / var(--tw-border-opacity, 1))}.border-color-8{--tw-border-opacity: 1;border-color:rgb(64 64 64 / var(--tw-border-opacity, 1))}.border-color-8:is(.dark *){--tw-border-opacity: 1;border-color:rgb(212 212 212 / var(--tw-border-opacity, 1))}.border-color-9{--tw-border-opacity: 1;border-color:rgb(38 38 38 / var(--tw-border-opacity, 1))}.border-color-9:is(.dark *){--tw-border-opacity: 1;border-color:rgb(229 229 229 / var(--tw-border-opacity, 1))}.border-color-10{--tw-border-opacity: 1;border-color:rgb(23 23 23 / var(--tw-border-opacity, 1))}.border-color-10:is(.dark *){--tw-border-opacity: 1;border-color:rgb(245 245 245 / var(--tw-border-opacity, 1))}.border-color-11{--tw-border-opacity: 1;border-color:rgb(10 10 10 / var(--tw-border-opacity, 1))}.border-color-11:is(.dark *){--tw-border-opacity: 1;border-color:rgb(250 250 250 / var(--tw-border-opacity, 1))}.border-color-12{--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity, 1))}.border-color-12:is(.dark *){--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.text-color-0{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-color-0:is(.dark *){--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.text-color-1{--tw-text-opacity: 1;color:rgb(250 250 250 / var(--tw-text-opacity, 1))}.text-color-1:is(.dark *){--tw-text-opacity: 1;color:rgb(10 10 10 / var(--tw-text-opacity, 1))}.text-color-2{--tw-text-opacity: 1;color:rgb(245 245 245 / var(--tw-text-opacity, 1))}.text-color-2:is(.dark *){--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity, 1))}.text-color-3{--tw-text-opacity: 1;color:rgb(229 229 229 / var(--tw-text-opacity, 1))}.text-color-3:is(.dark *){--tw-text-opacity: 1;color:rgb(38 38 38 / var(--tw-text-opacity, 1))}.text-color-4{--tw-text-opacity: 1;color:rgb(212 212 212 / var(--tw-text-opacity, 1))}.text-color-4:is(.dark *){--tw-text-opacity: 1;color:rgb(64 64 64 / var(--tw-text-opacity, 1))}.text-color-5{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.text-color-5:is(.dark *){--tw-text-opacity: 1;color:rgb(82 82 82 / var(--tw-text-opacity, 1))}.text-color-6{--tw-text-opacity: 1;color:rgb(115 115 115 / var(--tw-text-opacity, 1))}.text-color-6:is(.dark *){--tw-text-opacity: 1;color:rgb(115 115 115 / var(--tw-text-opacity, 1))}.text-color-7{--tw-text-opacity: 1;color:rgb(82 82 82 / var(--tw-text-opacity, 1))}.text-color-7:is(.dark *){--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.text-color-8{--tw-text-opacity: 1;color:rgb(64 64 64 / var(--tw-text-opacity, 1))}.text-color-8:is(.dark *){--tw-text-opacity: 1;color:rgb(212 212 212 / var(--tw-text-opacity, 1))}.text-color-9{--tw-text-opacity: 1;color:rgb(38 38 38 / var(--tw-text-opacity, 1))}.text-color-9:is(.dark *){--tw-text-opacity: 1;color:rgb(229 229 229 / var(--tw-text-opacity, 1))}.text-color-10{--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity, 1))}.text-color-10:is(.dark *){--tw-text-opacity: 1;color:rgb(245 245 245 / var(--tw-text-opacity, 1))}.text-color-11{--tw-text-opacity: 1;color:rgb(10 10 10 / var(--tw-text-opacity, 1))}.text-color-11:is(.dark *){--tw-text-opacity: 1;color:rgb(250 250 250 / var(--tw-text-opacity, 1))}.text-color-12{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.text-color-12:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.bg-color-0{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-color-0:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-color-1{--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1))}.bg-color-1:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(10 10 10 / var(--tw-bg-opacity, 1))}.bg-color-2{--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity, 1))}.bg-color-2:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity, 1))}.bg-color-3{--tw-bg-opacity: 1;background-color:rgb(229 229 229 / var(--tw-bg-opacity, 1))}.bg-color-3:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(38 38 38 / var(--tw-bg-opacity, 1))}.bg-color-4{--tw-bg-opacity: 1;background-color:rgb(212 212 212 / var(--tw-bg-opacity, 1))}.bg-color-4:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(64 64 64 / var(--tw-bg-opacity, 1))}.bg-color-5{--tw-bg-opacity: 1;background-color:rgb(163 163 163 / var(--tw-bg-opacity, 1))}.bg-color-5:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(82 82 82 / var(--tw-bg-opacity, 1))}.bg-color-6{--tw-bg-opacity: 1;background-color:rgb(115 115 115 / var(--tw-bg-opacity, 1))}.bg-color-6:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(115 115 115 / var(--tw-bg-opacity, 1))}.bg-color-7{--tw-bg-opacity: 1;background-color:rgb(82 82 82 / var(--tw-bg-opacity, 1))}.bg-color-7:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(163 163 163 / var(--tw-bg-opacity, 1))}.bg-color-8{--tw-bg-opacity: 1;background-color:rgb(64 64 64 / var(--tw-bg-opacity, 1))}.bg-color-8:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(212 212 212 / var(--tw-bg-opacity, 1))}.bg-color-9{--tw-bg-opacity: 1;background-color:rgb(38 38 38 / var(--tw-bg-opacity, 1))}.bg-color-9:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(229 229 229 / var(--tw-bg-opacity, 1))}.bg-color-10{--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity, 1))}.bg-color-10:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity, 1))}.bg-color-11{--tw-bg-opacity: 1;background-color:rgb(10 10 10 / var(--tw-bg-opacity, 1))}.bg-color-11:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1))}.bg-color-12{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-color-12:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-color-base{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-color-base:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(38 38 38 / var(--tw-bg-opacity, 1))}.bg-color-ridge{--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1))}.bg-color-ridge:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(51 51 51 / var(--tw-bg-opacity, 1))}.bg-color-gutter{--tw-bg-opacity: 1;background-color:rgb(229 229 229 / var(--tw-bg-opacity, 1))}.bg-color-gutter:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(10 10 10 / var(--tw-bg-opacity, 1))}.button-style-fill,button[type=button].button-style-fill,button[type=submit].button-style-fill,button[type=reset].button-style-fill{--tw-bg-opacity: 1;background-color:rgb(14 116 144 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(236 254 255 / var(--tw-text-opacity, 1))}.button-style-fill:is(.dark *),button[type=button].button-style-fill:is(.dark *),button[type=submit].button-style-fill:is(.dark *),button[type=reset].button-style-fill:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(103 232 249 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(8 51 68 / var(--tw-text-opacity, 1))}.button-style-fill-loading,button[type=button].button-style-fill-loading,button[type=submit].button-style-fill-loading,button[type=reset].button-style-fill-loading{--tw-bg-opacity: 1;background-color:rgb(165 243 252 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(236 254 255 / var(--tw-text-opacity, 1))}.button-style-fill-loading:is(.dark *),button[type=button].button-style-fill-loading:is(.dark *),button[type=submit].button-style-fill-loading:is(.dark *),button[type=reset].button-style-fill-loading:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(14 116 144 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(8 51 68 / var(--tw-text-opacity, 1))}.button-style-outline,button[type=button].button-style-outline,button[type=submit].button-style-outline,button[type=reset].button-style-outline{border-width:1px;--tw-border-opacity: 1;border-color:rgb(8 145 178 / var(--tw-border-opacity, 1));--tw-text-opacity: 1;color:rgb(8 145 178 / var(--tw-text-opacity, 1))}.button-style-outline:is(.dark *),button[type=button].button-style-outline:is(.dark *),button[type=submit].button-style-outline:is(.dark *),button[type=reset].button-style-outline:is(.dark *){--tw-border-opacity: 1;border-color:rgb(103 232 249 / var(--tw-border-opacity, 1));--tw-text-opacity: 1;color:rgb(103 232 249 / var(--tw-text-opacity, 1))}.button-style-outline-loading,button[type=button].button-style-outline-loading,button[type=submit].button-style-outline-loading,button[type=reset].button-style-outline-loading{border-width:1px;--tw-border-opacity: 1;border-color:rgb(165 243 252 / var(--tw-border-opacity, 1));--tw-text-opacity: 1;color:rgb(165 243 252 / var(--tw-text-opacity, 1))}.button-style-outline-loading:is(.dark *),button[type=button].button-style-outline-loading:is(.dark *),button[type=submit].button-style-outline-loading:is(.dark *),button[type=reset].button-style-outline-loading:is(.dark *){--tw-border-opacity: 1;border-color:rgb(103 232 249 / var(--tw-border-opacity, 1));--tw-text-opacity: 1;color:rgb(103 232 249 / var(--tw-text-opacity, 1))}.button-style-link,button[type=button].button-style-link,button[type=submit].button-style-link,button[type=reset].button-style-link{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(8 145 178 / var(--tw-border-opacity, 1));--tw-text-opacity: 1;color:rgb(8 145 178 / var(--tw-text-opacity, 1))}.button-style-link-loading,button[type=button].button-style-link-loading,button[type=submit].button-style-link-loading,button[type=reset].button-style-link-loading{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(103 232 249 / var(--tw-border-opacity, 1));--tw-text-opacity: 1;color:rgb(103 232 249 / var(--tw-text-opacity, 1))}.button-style-text,button[type=button].button-style-link,button[type=submit].button-style-link,button[type=reset].button-style-link{--tw-text-opacity: 1;color:rgb(8 145 178 / var(--tw-text-opacity, 1))}.button-style-text:is(.dark *),button[type=button].button-style-link:is(.dark *),button[type=submit].button-style-link:is(.dark *),button[type=reset].button-style-link:is(.dark *){--tw-text-opacity: 1;color:rgb(103 232 249 / var(--tw-text-opacity, 1))}.button-style-text-loading,button[type=button].button-style-link-loading,button[type=submit].button-style-link-loading,button[type=reset].button-style-link-loading{--tw-text-opacity: 1;color:rgb(103 232 249 / var(--tw-text-opacity, 1))}.button-style-text-loading:is(.dark *),button[type=button].button-style-link-loading:is(.dark *),button[type=submit].button-style-link-loading:is(.dark *),button[type=reset].button-style-link-loading:is(.dark *){--tw-text-opacity: 1;color:rgb(103 232 249 / var(--tw-text-opacity, 1))}.text-color-link{--tw-text-opacity: 1;color:rgb(2 132 199 / var(--tw-text-opacity, 1));text-decoration-line:underline}.text-color-link:is(.dark *){--tw-text-opacity: 1;color:rgb(125 211 252 / var(--tw-text-opacity, 1))}.text-color-error{--tw-text-opacity: 1;color:rgb(225 29 72 / var(--tw-text-opacity, 1))}.text-color-error:is(.dark *){--tw-text-opacity: 1;color:rgb(253 164 175 / var(--tw-text-opacity, 1))}.bg-color-selected{background-color:rgb(14 165 233 / var(--tw-bg-opacity, 1));--tw-bg-opacity: .25}.bg-color-selected-svg{fill:#000;opacity:.25}.bg-color-selected-svg:is(.dark *){fill:#fff}.border-vform{box-shadow:0 0 0 1px #d4d4d4}.dark .border-vform{box-shadow:0 0 0 1px #404040}.EasyMDEContainer .CodeMirror{padding:0}.dark .EasyMDEContainer .CodeMirror{filter:invert(1)}/**
* easymde v2.18.0
* Copyright Jeroen Akkerman
* @link https://github.com/ionaru/easy-markdown-editor
* @license MIT
*/.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:0 0}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:0 0}.cm-fat-cursor{caret-color:transparent}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:#ff96004d}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:0;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none;outline:0}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:0 0!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{border-radius:0;border-width:0;background:0 0;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-code{outline:0}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:0 0}.EasyMDEContainer{display:block}.CodeMirror-rtl pre{direction:rtl}.EasyMDEContainer.sided--no-fullscreen{display:flex;flex-direction:row;flex-wrap:wrap}.EasyMDEContainer .CodeMirror{box-sizing:border-box;height:auto;border:1px solid #ced4da;border-bottom-left-radius:4px;border-bottom-right-radius:4px;padding:10px;font:inherit;z-index:0;word-wrap:break-word}.EasyMDEContainer .CodeMirror-scroll{cursor:text}.EasyMDEContainer .CodeMirror-fullscreen{background:#fff;position:fixed!important;top:50px;left:0;right:0;bottom:0;height:auto;z-index:8;border-right:none!important;border-bottom-right-radius:0!important}.EasyMDEContainer .CodeMirror-sided{width:50%!important}.EasyMDEContainer.sided--no-fullscreen .CodeMirror-sided{border-right:none!important;border-bottom-right-radius:0;position:relative;flex:1 1 auto}.EasyMDEContainer .CodeMirror-placeholder{opacity:.5}.EasyMDEContainer .CodeMirror-focused .CodeMirror-selected{background:#d9d9d9}.editor-toolbar{position:relative;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none;padding:9px 10px;border-top:1px solid #ced4da;border-left:1px solid #ced4da;border-right:1px solid #ced4da;border-top-left-radius:4px;border-top-right-radius:4px}.editor-toolbar.fullscreen{width:100%;height:50px;padding-top:10px;padding-bottom:10px;box-sizing:border-box;background:#fff;border:0;position:fixed;top:0;left:0;opacity:1;z-index:9}.editor-toolbar.fullscreen:before{width:20px;height:50px;background:linear-gradient(to right,#fff 0,#fff0);position:fixed;top:0;left:0;margin:0;padding:0}.editor-toolbar.fullscreen:after{width:20px;height:50px;background:linear-gradient(to right,#fff0 0,#fff);position:fixed;top:0;right:0;margin:0;padding:0}.EasyMDEContainer.sided--no-fullscreen .editor-toolbar{width:100%}.editor-toolbar .easymde-dropdown,.editor-toolbar button{background:0 0;display:inline-block;text-align:center;text-decoration:none!important;height:30px;margin:0;padding:0;border:1px solid transparent;border-radius:3px;cursor:pointer}.editor-toolbar button{font-weight:700;min-width:30px;padding:0 6px;white-space:nowrap}.editor-toolbar button.active,.editor-toolbar button:hover{background:#fcfcfc;border-color:#95a5a6}.editor-toolbar i.separator{display:inline-block;width:0;border-left:1px solid #d9d9d9;border-right:1px solid #fff;color:transparent;text-indent:-10px;margin:0 6px}.editor-toolbar button:after{font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:65%;vertical-align:text-bottom;position:relative;top:2px}.editor-toolbar button.heading-1:after{content:"1"}.editor-toolbar button.heading-2:after{content:"2"}.editor-toolbar button.heading-3:after{content:"3"}.editor-toolbar button.heading-bigger:after{content:"▲"}.editor-toolbar button.heading-smaller:after{content:"▼"}.editor-toolbar.disabled-for-preview button:not(.no-disable){opacity:.6;pointer-events:none}@media only screen and (max-width:700px){.editor-toolbar i.no-mobile{display:none}}.editor-statusbar{padding:8px 10px;font-size:12px;color:#959694;text-align:right}.EasyMDEContainer.sided--no-fullscreen .editor-statusbar{width:100%}.editor-statusbar span{display:inline-block;min-width:4em;margin-left:1em}.editor-statusbar .lines:before{content:"lines: "}.editor-statusbar .words:before{content:"words: "}.editor-statusbar .characters:before{content:"characters: "}.editor-preview-full{position:absolute;width:100%;height:100%;top:0;left:0;z-index:7;overflow:auto;display:none;box-sizing:border-box}.editor-preview-side{position:fixed;bottom:0;width:50%;top:50px;right:0;z-index:9;overflow:auto;display:none;box-sizing:border-box;border:1px solid #ddd;word-wrap:break-word}.editor-preview-active-side{display:block}.EasyMDEContainer.sided--no-fullscreen .editor-preview-active-side{flex:1 1 auto;height:auto;position:static}.editor-preview-active{display:block}.editor-preview{padding:10px;background:#fafafa}.editor-preview>p{margin-top:0}.editor-preview pre{background:#eee;margin-bottom:10px}.editor-preview table td,.editor-preview table th{border:1px solid #ddd;padding:5px}.cm-s-easymde .cm-tag{color:#63a35c}.cm-s-easymde .cm-attribute{color:#795da3}.cm-s-easymde .cm-string{color:#183691}.cm-s-easymde .cm-header-1{font-size:calc(1.375rem + 1.5vw)}.cm-s-easymde .cm-header-2{font-size:calc(1.325rem + .9vw)}.cm-s-easymde .cm-header-3{font-size:calc(1.3rem + .6vw)}.cm-s-easymde .cm-header-4{font-size:calc(1.275rem + .3vw)}.cm-s-easymde .cm-header-5{font-size:1.25rem}.cm-s-easymde .cm-header-6{font-size:1rem}.cm-s-easymde .cm-header-1,.cm-s-easymde .cm-header-2,.cm-s-easymde .cm-header-3,.cm-s-easymde .cm-header-4,.cm-s-easymde .cm-header-5,.cm-s-easymde .cm-header-6{margin-bottom:.5rem;line-height:1.2}.cm-s-easymde .cm-comment{background:#0000000d;border-radius:2px}.cm-s-easymde .cm-link{color:#7f8c8d}.cm-s-easymde .cm-url{color:#aab2b3}.cm-s-easymde .cm-quote{color:#7f8c8d;font-style:italic}.editor-toolbar .easymde-dropdown{position:relative;background:linear-gradient(to bottom right,#fff 0,#fff 84%,#333 50%,#333);border-radius:0;border:1px solid #fff}.editor-toolbar .easymde-dropdown:hover{background:linear-gradient(to bottom right,#fff 0,#fff 84%,#333 50%,#333)}.easymde-dropdown-content{display:block;visibility:hidden;position:absolute;background-color:#f9f9f9;box-shadow:0 8px 16px #0003;padding:8px;z-index:2;top:30px}.easymde-dropdown:active .easymde-dropdown-content,.easymde-dropdown:focus .easymde-dropdown-content,.easymde-dropdown:focus-within .easymde-dropdown-content{visibility:visible}.easymde-dropdown-content button{display:block}span[data-img-src]:after{content:"";background-image:var(--bg-image);display:block;max-height:100%;max-width:100%;background-size:contain;height:0;padding-top:var(--height);width:var(--width);background-repeat:no-repeat}.CodeMirror .cm-spell-error:not(.cm-url):not(.cm-comment):not(.cm-tag):not(.cm-word){background:#ff000026}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.inset-16{top:4rem;right:4rem;bottom:4rem;left:4rem}.bottom-0{bottom:0}.bottom-12{bottom:3rem}.left-0{left:0}.left-4{left:1rem}.right-0{right:0}.top-0{top:0}.z-0{z-index:0}.z-10{z-index:10}.z-\[300\]{z-index:300}.col-\[1\/-1\]{grid-column:1/-1}.col-\[1\/1\]{grid-column:1/1}.col-\[2\/-1\]{grid-column:2/-1}.col-span-2{grid-column:span 2 / span 2}.col-span-full{grid-column:1 / -1}.m-1{margin:.25rem}.m-auto{margin:auto}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-px{margin-left:1px;margin-right:1px}.my-px{margin-top:1px;margin-bottom:1px}.ml-1{margin-left:.25rem}.ml-\[2rem\]{margin-left:2rem}.mr-1{margin-right:.25rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.contents{display:contents}.hidden{display:none}.h-2{height:.5rem}.h-24{height:6rem}.h-3{height:.75rem}.h-4{height:1rem}.h-6{height:1.5rem}.h-\[calc\(100\%-4rem\)\]{height:calc(100% - 4rem)}.h-full{height:100%}.h-screen{height:100vh}.max-h-36{max-height:9rem}.max-h-64{max-height:16rem}.min-h-0{min-height:0px}.min-h-4{min-height:1rem}.w-1{width:.25rem}.w-2{width:.5rem}.w-3{width:.75rem}.w-4{width:1rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-\[2rem\]{width:2rem}.w-full{width:100%}.w-screen{width:100vw}.min-w-0{min-width:0px}.min-w-4{min-width:1rem}.min-w-full{min-width:100%}.max-w-full{max-width:100%}.max-w-min{max-width:-moz-min-content;max-width:min-content}.flex-1{flex:1 1 0%}.flex-none{flex:none}.basis-1{flex-basis:.25rem}.basis-10{flex-basis:2.5rem}.basis-2{flex-basis:.5rem}.basis-32{flex-basis:8rem}.border-separate{border-collapse:separate}.border-spacing-0{--tw-border-spacing-x: 0px;--tw-border-spacing-y: 0px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y)}.translate-x-\[calc\(-100\%-1rem\)\]{--tw-translate-x: calc(-100% - 1rem) ;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-\[-45deg\]{--tw-rotate: -45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes slideIn{0%{transform:translate(-100%)}to{transform:translate(0)}}.animate-slideIn{animation:slideIn .2s ease-out}@keyframes slideOut{0%{transform:translate(0)}to{transform:translate(-100%)}}.animate-slideOut{animation:slideOut .2s ease-out}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-default{cursor:default}.cursor-ew-resize{cursor:ew-resize}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-cols-\[18rem\,1fr\]{grid-template-columns:18rem 1fr}.grid-cols-\[subgrid\]{grid-template-columns:subgrid}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.gap-1{gap:.25rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.gap-px{gap:1px}.gap-x-1{-moz-column-gap:.25rem;column-gap:.25rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.gap-y-1{row-gap:.25rem}.gap-y-px{row-gap:1px}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.self-end{align-self:flex-end}.self-stretch{align-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-scroll{overflow-y:scroll}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-wrap{white-space:pre-wrap}.text-nowrap{text-wrap:nowrap}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.rounded-\[50\%\]{border-radius:50%}.rounded-full{border-radius:9999px}.rounded-md{border-radius:.375rem}.rounded-sm{border-radius:.125rem}.border{border-width:1px}.border-2{border-width:2px}.border-4{border-width:4px}.border-\[3px\]{border-width:3px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-t-2{border-top-width:2px}.border-amber-200{--tw-border-opacity: 1;border-color:rgb(253 230 138 / var(--tw-border-opacity, 1))}.border-amber-500{--tw-border-opacity: 1;border-color:rgb(245 158 11 / var(--tw-border-opacity, 1))}.border-amber-900{--tw-border-opacity: 1;border-color:rgb(120 53 15 / var(--tw-border-opacity, 1))}.border-rose-200{--tw-border-opacity: 1;border-color:rgb(254 205 211 / var(--tw-border-opacity, 1))}.border-rose-500{--tw-border-opacity: 1;border-color:rgb(244 63 94 / var(--tw-border-opacity, 1))}.border-rose-900{--tw-border-opacity: 1;border-color:rgb(136 19 55 / var(--tw-border-opacity, 1))}.border-sky-200{--tw-border-opacity: 1;border-color:rgb(186 230 253 / var(--tw-border-opacity, 1))}.border-sky-300{--tw-border-opacity: 1;border-color:rgb(125 211 252 / var(--tw-border-opacity, 1))}.border-sky-50{--tw-border-opacity: 1;border-color:rgb(240 249 255 / var(--tw-border-opacity, 1))}.border-sky-500{--tw-border-opacity: 1;border-color:rgb(14 165 233 / var(--tw-border-opacity, 1))}.border-sky-600{--tw-border-opacity: 1;border-color:rgb(2 132 199 / var(--tw-border-opacity, 1))}.border-sky-900{--tw-border-opacity: 1;border-color:rgb(12 74 110 / var(--tw-border-opacity, 1))}.border-transparent{border-color:transparent}.border-t-transparent{border-top-color:transparent}.bg-amber-100{--tw-bg-opacity: 1;background-color:rgb(254 243 199 / var(--tw-bg-opacity, 1))}.bg-amber-200{--tw-bg-opacity: 1;background-color:rgb(253 230 138 / var(--tw-bg-opacity, 1))}.bg-amber-800{--tw-bg-opacity: 1;background-color:rgb(146 64 14 / var(--tw-bg-opacity, 1))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-emerald-500{--tw-bg-opacity: 1;background-color:rgb(16 185 129 / var(--tw-bg-opacity, 1))}.bg-orange-100{--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1))}.bg-rose-100{--tw-bg-opacity: 1;background-color:rgb(255 228 230 / var(--tw-bg-opacity, 1))}.bg-rose-200{--tw-bg-opacity: 1;background-color:rgb(254 205 211 / var(--tw-bg-opacity, 1))}.bg-rose-500{--tw-bg-opacity: 1;background-color:rgb(244 63 94 / var(--tw-bg-opacity, 1))}.bg-rose-800{--tw-bg-opacity: 1;background-color:rgb(159 18 57 / var(--tw-bg-opacity, 1))}.bg-rose-900{--tw-bg-opacity: 1;background-color:rgb(136 19 55 / var(--tw-bg-opacity, 1))}.bg-sky-100{--tw-bg-opacity: 1;background-color:rgb(224 242 254 / var(--tw-bg-opacity, 1))}.bg-sky-200{--tw-bg-opacity: 1;background-color:rgb(186 230 253 / var(--tw-bg-opacity, 1))}.bg-sky-500{--tw-bg-opacity: 1;background-color:rgb(14 165 233 / var(--tw-bg-opacity, 1))}.bg-sky-800{--tw-bg-opacity: 1;background-color:rgb(7 89 133 / var(--tw-bg-opacity, 1))}.bg-transparent{background-color:transparent}.p-0{padding:0}.p-1{padding:.25rem}.p-px{padding:1px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-px{padding-top:1px;padding-bottom:1px}.pr-1{padding-right:.25rem}.pr-2{padding-right:.5rem}.pt-1{padding-top:.25rem}.text-right{text-align:right}.text-start{text-align:start}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.leading-none{line-height:1}.leading-tight{line-height:1.25}.text-amber-200{--tw-text-opacity: 1;color:rgb(253 230 138 / var(--tw-text-opacity, 1))}.text-amber-50{--tw-text-opacity: 1;color:rgb(255 251 235 / var(--tw-text-opacity, 1))}.text-amber-700{--tw-text-opacity: 1;color:rgb(180 83 9 / var(--tw-text-opacity, 1))}.text-amber-900{--tw-text-opacity: 1;color:rgb(120 53 15 / var(--tw-text-opacity, 1))}.text-emerald-500{--tw-text-opacity: 1;color:rgb(16 185 129 / var(--tw-text-opacity, 1))}.text-orange-600{--tw-text-opacity: 1;color:rgb(234 88 12 / var(--tw-text-opacity, 1))}.text-rose-200{--tw-text-opacity: 1;color:rgb(254 205 211 / var(--tw-text-opacity, 1))}.text-rose-50{--tw-text-opacity: 1;color:rgb(255 241 242 / var(--tw-text-opacity, 1))}.text-rose-500{--tw-text-opacity: 1;color:rgb(244 63 94 / var(--tw-text-opacity, 1))}.text-rose-600{--tw-text-opacity: 1;color:rgb(225 29 72 / var(--tw-text-opacity, 1))}.text-rose-900{--tw-text-opacity: 1;color:rgb(136 19 55 / var(--tw-text-opacity, 1))}.text-sky-200{--tw-text-opacity: 1;color:rgb(186 230 253 / var(--tw-text-opacity, 1))}.text-sky-300{--tw-text-opacity: 1;color:rgb(125 211 252 / var(--tw-text-opacity, 1))}.text-sky-50{--tw-text-opacity: 1;color:rgb(240 249 255 / var(--tw-text-opacity, 1))}.text-sky-500{--tw-text-opacity: 1;color:rgb(14 165 233 / var(--tw-text-opacity, 1))}.text-sky-600{--tw-text-opacity: 1;color:rgb(2 132 199 / var(--tw-text-opacity, 1))}.text-sky-700{--tw-text-opacity: 1;color:rgb(3 105 161 / var(--tw-text-opacity, 1))}.text-sky-900{--tw-text-opacity: 1;color:rgb(12 74 110 / var(--tw-text-opacity, 1))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.opacity-25{opacity:.25}.opacity-40{opacity:.4}.opacity-70{opacity:.7}.opacity-75{opacity:.75}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-1{outline-width:1px}.outline-2{outline-width:2px}.outline-offset-\[-2px\]{outline-offset:-2px}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.focus-within\:outline:focus-within{outline-style:solid}.hover\:opacity-25:hover{opacity:.25}</style>
</head>

<body>
  <div id="root"></div>
</body>

</html>