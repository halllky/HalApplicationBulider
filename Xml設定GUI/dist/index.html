<!doctype html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vite + React + TS</title>
  <script type="module" crossorigin>
var Jde=Object.defineProperty;var e0e=(t,e,r)=>e in t?Jde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var t0e=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Kr=(t,e,r)=>(e0e(t,typeof e!="symbol"?e+"":e,r),r),r0e=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var x4=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)};var rm=(t,e,r)=>(r0e(t,e,"access private method"),r);var Mut=t0e((No,Io)=>{function n0e(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i0e(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Yq={exports:{}},qS={},Xq={exports:{}},Wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx=Symbol.for("react.element"),a0e=Symbol.for("react.portal"),s0e=Symbol.for("react.fragment"),o0e=Symbol.for("react.strict_mode"),l0e=Symbol.for("react.profiler"),u0e=Symbol.for("react.provider"),c0e=Symbol.for("react.context"),h0e=Symbol.for("react.forward_ref"),f0e=Symbol.for("react.suspense"),d0e=Symbol.for("react.memo"),p0e=Symbol.for("react.lazy"),kP=Symbol.iterator;function g0e(t){return t===null||typeof t!="object"?null:(t=kP&&t[kP]||t["@@iterator"],typeof t=="function"?t:null)}var jq={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kq=Object.assign,Qq={};function U1(t,e,r){this.props=t,this.context=e,this.refs=Qq,this.updater=r||jq}U1.prototype.isReactComponent={};U1.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};U1.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zq(){}Zq.prototype=U1.prototype;function _D(t,e,r){this.props=t,this.context=e,this.refs=Qq,this.updater=r||jq}var LD=_D.prototype=new Zq;LD.constructor=_D;Kq(LD,U1.prototype);LD.isPureReactComponent=!0;var SP=Array.isArray,Jq=Object.prototype.hasOwnProperty,DD={current:null},eY={key:!0,ref:!0,__self:!0,__source:!0};function tY(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)Jq.call(e,n)&&!eY.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Vx,type:t,key:a,ref:s,props:i,_owner:DD.current}}function v0e(t,e){return{$$typeof:Vx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function RD(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vx}function m0e(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var EP=/\/+/g;function hC(t,e){return typeof t=="object"&&t!==null&&t.key!=null?m0e(""+t.key):e.toString(36)}function Y3(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Vx:case a0e:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+hC(s,0):n,SP(i)?(r="",t!=null&&(r=t.replace(EP,"$&/")+"/"),Y3(i,e,r,"",function(u){return u})):i!=null&&(RD(i)&&(i=v0e(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(EP,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",SP(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+hC(a,o);s+=Y3(a,e,r,l,i)}else if(l=g0e(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+hC(a,o++),s+=Y3(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function b4(t,e,r){if(t==null)return t;var n=[],i=0;return Y3(t,n,"","",function(a){return e.call(r,a,i++)}),n}function y0e(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hs={current:null},X3={transition:null},x0e={ReactCurrentDispatcher:Hs,ReactCurrentBatchConfig:X3,ReactCurrentOwner:DD};Wr.Children={map:b4,forEach:function(t,e,r){b4(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return b4(t,function(){e++}),e},toArray:function(t){return b4(t,function(e){return e})||[]},only:function(t){if(!RD(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wr.Component=U1;Wr.Fragment=s0e;Wr.Profiler=l0e;Wr.PureComponent=_D;Wr.StrictMode=o0e;Wr.Suspense=f0e;Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x0e;Wr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Kq({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=DD.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Jq.call(e,l)&&!eY.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Vx,type:t.type,key:i,ref:a,props:n,_owner:s}};Wr.createContext=function(t){return t={$$typeof:c0e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:u0e,_context:t},t.Consumer=t};Wr.createElement=tY;Wr.createFactory=function(t){var e=tY.bind(null,t);return e.type=t,e};Wr.createRef=function(){return{current:null}};Wr.forwardRef=function(t){return{$$typeof:h0e,render:t}};Wr.isValidElement=RD;Wr.lazy=function(t){return{$$typeof:p0e,_payload:{_status:-1,_result:t},_init:y0e}};Wr.memo=function(t,e){return{$$typeof:d0e,type:t,compare:e===void 0?null:e}};Wr.startTransition=function(t){var e=X3.transition;X3.transition={};try{t()}finally{X3.transition=e}};Wr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Wr.useCallback=function(t,e){return Hs.current.useCallback(t,e)};Wr.useContext=function(t){return Hs.current.useContext(t)};Wr.useDebugValue=function(){};Wr.useDeferredValue=function(t){return Hs.current.useDeferredValue(t)};Wr.useEffect=function(t,e){return Hs.current.useEffect(t,e)};Wr.useId=function(){return Hs.current.useId()};Wr.useImperativeHandle=function(t,e,r){return Hs.current.useImperativeHandle(t,e,r)};Wr.useInsertionEffect=function(t,e){return Hs.current.useInsertionEffect(t,e)};Wr.useLayoutEffect=function(t,e){return Hs.current.useLayoutEffect(t,e)};Wr.useMemo=function(t,e){return Hs.current.useMemo(t,e)};Wr.useReducer=function(t,e,r){return Hs.current.useReducer(t,e,r)};Wr.useRef=function(t){return Hs.current.useRef(t)};Wr.useState=function(t){return Hs.current.useState(t)};Wr.useSyncExternalStore=function(t,e,r){return Hs.current.useSyncExternalStore(t,e,r)};Wr.useTransition=function(){return Hs.current.useTransition()};Wr.version="18.2.0";Xq.exports=Wr;var Xe=Xq.exports;const Ct=fh(Xe),rY=n0e({__proto__:null,default:Ct},[Xe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0e=Xe,w0e=Symbol.for("react.element"),k0e=Symbol.for("react.fragment"),S0e=Object.prototype.hasOwnProperty,E0e=b0e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T0e={key:!0,ref:!0,__self:!0,__source:!0};function nY(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)S0e.call(e,n)&&!T0e.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:w0e,type:t,key:a,ref:s,props:i,_owner:E0e.current}}qS.Fragment=k0e;qS.jsx=nY;qS.jsxs=nY;Yq.exports=qS;var Qe=Yq.exports,mA={},iY={exports:{}},Go={},aY={exports:{}},sY={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,H){var X=B.length;B.push(H);e:for(;0<X;){var q=X-1>>>1,Y=B[q];if(0<i(Y,H))B[q]=H,B[X]=Y,X=q;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var H=B[0],X=B.pop();if(X!==H){B[0]=X;e:for(var q=0,Y=B.length,U=Y>>>1;q<U;){var J=2*(q+1)-1,ce=B[J],re=J+1,ve=B[re];if(0>i(ce,X))re<Y&&0>i(ve,ce)?(B[q]=ve,B[re]=X,q=re):(B[q]=ce,B[J]=X,q=J);else if(re<Y&&0>i(ve,X))B[q]=ve,B[re]=X,q=re;else break e}}return H}function i(B,H){var X=B.sortIndex-H.sortIndex;return X!==0?X:B.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(B){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=B)n(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=r(u)}}function E(B){if(m=!1,k(B),!v)if(r(l)!==null)v=!0,P(C);else{var H=r(u);H!==null&&$(E,H.startTime-B)}}function C(B,H){v=!1,m&&(m=!1,y(I),I=-1),p=!0;var X=d;try{for(k(H),f=r(l);f!==null&&(!(f.expirationTime>H)||B&&!N());){var q=f.callback;if(typeof q=="function"){f.callback=null,d=f.priorityLevel;var Y=q(f.expirationTime<=H);H=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(l)&&n(l),k(H)}else n(l);f=r(l)}if(f!==null)var U=!0;else{var J=r(u);J!==null&&$(E,J.startTime-H),U=!1}return U}finally{f=null,d=X,p=!1}}var L=!1,_=null,I=-1,M=5,F=-1;function N(){return!(t.unstable_now()-F<M)}function z(){if(_!==null){var B=t.unstable_now();F=B;var H=!0;try{H=_(!0,B)}finally{H?V():(L=!1,_=null)}}else L=!1}var V;if(typeof w=="function")V=function(){w(z)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,O=D.port2;D.port1.onmessage=z,V=function(){O.postMessage(null)}}else V=function(){x(z,0)};function P(B){_=B,L||(L=!0,V())}function $(B,H){I=x(function(){B(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(C))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var X=d;d=H;try{return B()}finally{d=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=d;d=B;try{return H()}finally{d=X}},t.unstable_scheduleCallback=function(B,H,X){var q=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?q+X:q):X=q,B){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=X+Y,B={id:h++,callback:H,priorityLevel:B,startTime:X,expirationTime:Y,sortIndex:-1},X>q?(B.sortIndex=X,e(u,B),r(l)===null&&B===r(u)&&(m?(y(I),I=-1):m=!0,$(E,X-q))):(B.sortIndex=Y,e(l,B),v||p||(v=!0,P(C))),B},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(B){var H=d;return function(){var X=d;d=H;try{return B.apply(this,arguments)}finally{d=X}}}})(sY);aY.exports=sY;var C0e=aY.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oY=Xe,$o=C0e;function Dt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lY=new Set,Hy={};function Y0(t,e){Yg(t,e),Yg(t+"Capture",e)}function Yg(t,e){for(Hy[t]=e,t=0;t<e.length;t++)lY.add(e[t])}var Yc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yA=Object.prototype.hasOwnProperty,A0e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TP={},CP={};function _0e(t){return yA.call(CP,t)?!0:yA.call(TP,t)?!1:A0e.test(t)?CP[t]=!0:(TP[t]=!0,!1)}function L0e(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function D0e(t,e,r,n){if(e===null||typeof e>"u"||L0e(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vs(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Ua={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ua[t]=new Vs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ua[e]=new Vs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ua[t]=new Vs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ua[t]=new Vs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ua[t]=new Vs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ua[t]=new Vs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ua[t]=new Vs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ua[t]=new Vs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ua[t]=new Vs(t,5,!1,t.toLowerCase(),null,!1,!1)});var MD=/[\-:]([a-z])/g;function ND(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(MD,ND);Ua[e]=new Vs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(MD,ND);Ua[e]=new Vs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(MD,ND);Ua[e]=new Vs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ua[t]=new Vs(t,1,!1,t.toLowerCase(),null,!1,!1)});Ua.xlinkHref=new Vs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ua[t]=new Vs(t,1,!1,t.toLowerCase(),null,!0,!0)});function ID(t,e,r,n){var i=Ua.hasOwnProperty(e)?Ua[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(D0e(e,r,i,n)&&(r=null),n||i===null?_0e(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var dh=oY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w4=Symbol.for("react.element"),ng=Symbol.for("react.portal"),ig=Symbol.for("react.fragment"),OD=Symbol.for("react.strict_mode"),xA=Symbol.for("react.profiler"),uY=Symbol.for("react.provider"),cY=Symbol.for("react.context"),FD=Symbol.for("react.forward_ref"),bA=Symbol.for("react.suspense"),wA=Symbol.for("react.suspense_list"),PD=Symbol.for("react.memo"),Uh=Symbol.for("react.lazy"),hY=Symbol.for("react.offscreen"),AP=Symbol.iterator;function nm(t){return t===null||typeof t!="object"?null:(t=AP&&t[AP]||t["@@iterator"],typeof t=="function"?t:null)}var hi=Object.assign,fC;function Vm(t){if(fC===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);fC=e&&e[1]||""}return`
`+fC+t}var dC=!1;function pC(t,e){if(!t||dC)return"";dC=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{dC=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Vm(t):""}function R0e(t){switch(t.tag){case 5:return Vm(t.type);case 16:return Vm("Lazy");case 13:return Vm("Suspense");case 19:return Vm("SuspenseList");case 0:case 2:case 15:return t=pC(t.type,!1),t;case 11:return t=pC(t.type.render,!1),t;case 1:return t=pC(t.type,!0),t;default:return""}}function kA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ig:return"Fragment";case ng:return"Portal";case xA:return"Profiler";case OD:return"StrictMode";case bA:return"Suspense";case wA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cY:return(t.displayName||"Context")+".Consumer";case uY:return(t._context.displayName||"Context")+".Provider";case FD:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case PD:return e=t.displayName||null,e!==null?e:kA(t.type)||"Memo";case Uh:e=t._payload,t=t._init;try{return kA(t(e))}catch{}}return null}function M0e(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kA(e);case 8:return e===OD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fY(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function N0e(t){var e=fY(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function k4(t){t._valueTracker||(t._valueTracker=N0e(t))}function dY(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=fY(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function e5(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function SA(t,e){var r=e.checked;return hi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function _P(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Tf(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pY(t,e){e=e.checked,e!=null&&ID(t,"checked",e,!1)}function EA(t,e){pY(t,e);var r=Tf(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?TA(t,e.type,r):e.hasOwnProperty("defaultValue")&&TA(t,e.type,Tf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function LP(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function TA(t,e,r){(e!=="number"||e5(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Um=Array.isArray;function Tg(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Tf(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function CA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Dt(91));return hi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function DP(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Dt(92));if(Um(r)){if(1<r.length)throw Error(Dt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Tf(r)}}function gY(t,e){var r=Tf(e.value),n=Tf(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function RP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vY(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function AA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vY(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var S4,mY=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(S4=S4||document.createElement("div"),S4.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=S4.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vy(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var gy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I0e=["Webkit","ms","Moz","O"];Object.keys(gy).forEach(function(t){I0e.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gy[e]=gy[t]})});function yY(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||gy.hasOwnProperty(t)&&gy[t]?(""+e).trim():e+"px"}function xY(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=yY(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var O0e=hi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _A(t,e){if(e){if(O0e[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Dt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Dt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Dt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Dt(62))}}function LA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DA=null;function BD(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var RA=null,Cg=null,Ag=null;function MP(t){if(t=Wx(t)){if(typeof RA!="function")throw Error(Dt(280));var e=t.stateNode;e&&(e=QS(e),RA(t.stateNode,t.type,e))}}function bY(t){Cg?Ag?Ag.push(t):Ag=[t]:Cg=t}function wY(){if(Cg){var t=Cg,e=Ag;if(Ag=Cg=null,MP(t),e)for(t=0;t<e.length;t++)MP(e[t])}}function kY(t,e){return t(e)}function SY(){}var gC=!1;function EY(t,e,r){if(gC)return t(e,r);gC=!0;try{return kY(t,e,r)}finally{gC=!1,(Cg!==null||Ag!==null)&&(SY(),wY())}}function Uy(t,e){var r=t.stateNode;if(r===null)return null;var n=QS(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Dt(231,e,typeof r));return r}var MA=!1;if(Yc)try{var im={};Object.defineProperty(im,"passive",{get:function(){MA=!0}}),window.addEventListener("test",im,im),window.removeEventListener("test",im,im)}catch{MA=!1}function F0e(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var vy=!1,t5=null,r5=!1,NA=null,P0e={onError:function(t){vy=!0,t5=t}};function B0e(t,e,r,n,i,a,s,o,l){vy=!1,t5=null,F0e.apply(P0e,arguments)}function $0e(t,e,r,n,i,a,s,o,l){if(B0e.apply(this,arguments),vy){if(vy){var u=t5;vy=!1,t5=null}else throw Error(Dt(198));r5||(r5=!0,NA=u)}}function X0(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function TY(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function NP(t){if(X0(t)!==t)throw Error(Dt(188))}function z0e(t){var e=t.alternate;if(!e){if(e=X0(t),e===null)throw Error(Dt(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return NP(i),t;if(a===n)return NP(i),e;a=a.sibling}throw Error(Dt(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Dt(189))}}if(r.alternate!==n)throw Error(Dt(190))}if(r.tag!==3)throw Error(Dt(188));return r.stateNode.current===r?t:e}function CY(t){return t=z0e(t),t!==null?AY(t):null}function AY(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AY(t);if(e!==null)return e;t=t.sibling}return null}var _Y=$o.unstable_scheduleCallback,IP=$o.unstable_cancelCallback,H0e=$o.unstable_shouldYield,V0e=$o.unstable_requestPaint,Li=$o.unstable_now,U0e=$o.unstable_getCurrentPriorityLevel,$D=$o.unstable_ImmediatePriority,LY=$o.unstable_UserBlockingPriority,n5=$o.unstable_NormalPriority,G0e=$o.unstable_LowPriority,DY=$o.unstable_IdlePriority,YS=null,Vu=null;function W0e(t){if(Vu&&typeof Vu.onCommitFiberRoot=="function")try{Vu.onCommitFiberRoot(YS,t,void 0,(t.current.flags&128)===128)}catch{}}var jl=Math.clz32?Math.clz32:X0e,q0e=Math.log,Y0e=Math.LN2;function X0e(t){return t>>>=0,t===0?32:31-(q0e(t)/Y0e|0)|0}var E4=64,T4=4194304;function Gm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function i5(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Gm(o):(a&=s,a!==0&&(n=Gm(a)))}else s=r&~i,s!==0?n=Gm(s):a!==0&&(n=Gm(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-jl(e),i=1<<r,n|=t[r],e&=~i;return n}function j0e(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K0e(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-jl(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=j0e(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function IA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RY(){var t=E4;return E4<<=1,!(E4&4194240)&&(E4=64),t}function vC(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ux(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jl(e),t[e]=r}function Q0e(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-jl(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function zD(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-jl(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var wn=0;function MY(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NY,HD,IY,OY,FY,OA=!1,C4=[],hf=null,ff=null,df=null,Gy=new Map,Wy=new Map,Yh=[],Z0e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OP(t,e){switch(t){case"focusin":case"focusout":hf=null;break;case"dragenter":case"dragleave":ff=null;break;case"mouseover":case"mouseout":df=null;break;case"pointerover":case"pointerout":Gy.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wy.delete(e.pointerId)}}function am(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Wx(e),e!==null&&HD(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function J0e(t,e,r,n,i){switch(e){case"focusin":return hf=am(hf,t,e,r,n,i),!0;case"dragenter":return ff=am(ff,t,e,r,n,i),!0;case"mouseover":return df=am(df,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Gy.set(a,am(Gy.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Wy.set(a,am(Wy.get(a)||null,t,e,r,n,i)),!0}return!1}function PY(t){var e=Ud(t.target);if(e!==null){var r=X0(e);if(r!==null){if(e=r.tag,e===13){if(e=TY(r),e!==null){t.blockedOn=e,FY(t.priority,function(){IY(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function j3(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=FA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);DA=n,r.target.dispatchEvent(n),DA=null}else return e=Wx(r),e!==null&&HD(e),t.blockedOn=r,!1;e.shift()}return!0}function FP(t,e,r){j3(t)&&r.delete(e)}function epe(){OA=!1,hf!==null&&j3(hf)&&(hf=null),ff!==null&&j3(ff)&&(ff=null),df!==null&&j3(df)&&(df=null),Gy.forEach(FP),Wy.forEach(FP)}function sm(t,e){t.blockedOn===e&&(t.blockedOn=null,OA||(OA=!0,$o.unstable_scheduleCallback($o.unstable_NormalPriority,epe)))}function qy(t){function e(i){return sm(i,t)}if(0<C4.length){sm(C4[0],t);for(var r=1;r<C4.length;r++){var n=C4[r];n.blockedOn===t&&(n.blockedOn=null)}}for(hf!==null&&sm(hf,t),ff!==null&&sm(ff,t),df!==null&&sm(df,t),Gy.forEach(e),Wy.forEach(e),r=0;r<Yh.length;r++)n=Yh[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Yh.length&&(r=Yh[0],r.blockedOn===null);)PY(r),r.blockedOn===null&&Yh.shift()}var _g=dh.ReactCurrentBatchConfig,a5=!0;function tpe(t,e,r,n){var i=wn,a=_g.transition;_g.transition=null;try{wn=1,VD(t,e,r,n)}finally{wn=i,_g.transition=a}}function rpe(t,e,r,n){var i=wn,a=_g.transition;_g.transition=null;try{wn=4,VD(t,e,r,n)}finally{wn=i,_g.transition=a}}function VD(t,e,r,n){if(a5){var i=FA(t,e,r,n);if(i===null)CC(t,e,n,s5,r),OP(t,n);else if(J0e(i,t,e,r,n))n.stopPropagation();else if(OP(t,n),e&4&&-1<Z0e.indexOf(t)){for(;i!==null;){var a=Wx(i);if(a!==null&&NY(a),a=FA(t,e,r,n),a===null&&CC(t,e,n,s5,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else CC(t,e,n,null,r)}}var s5=null;function FA(t,e,r,n){if(s5=null,t=BD(n),t=Ud(t),t!==null)if(e=X0(t),e===null)t=null;else if(r=e.tag,r===13){if(t=TY(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return s5=t,null}function BY(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U0e()){case $D:return 1;case LY:return 4;case n5:case G0e:return 16;case DY:return 536870912;default:return 16}default:return 16}}var Jh=null,UD=null,K3=null;function $Y(){if(K3)return K3;var t,e=UD,r=e.length,n,i="value"in Jh?Jh.value:Jh.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return K3=i.slice(t,1<n?1-n:void 0)}function Q3(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function A4(){return!0}function PP(){return!1}function Wo(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?A4:PP,this.isPropagationStopped=PP,this}return hi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=A4)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=A4)},persist:function(){},isPersistent:A4}),e}var G1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},GD=Wo(G1),Gx=hi({},G1,{view:0,detail:0}),npe=Wo(Gx),mC,yC,om,XS=hi({},Gx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WD,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==om&&(om&&t.type==="mousemove"?(mC=t.screenX-om.screenX,yC=t.screenY-om.screenY):yC=mC=0,om=t),mC)},movementY:function(t){return"movementY"in t?t.movementY:yC}}),BP=Wo(XS),ipe=hi({},XS,{dataTransfer:0}),ape=Wo(ipe),spe=hi({},Gx,{relatedTarget:0}),xC=Wo(spe),ope=hi({},G1,{animationName:0,elapsedTime:0,pseudoElement:0}),lpe=Wo(ope),upe=hi({},G1,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cpe=Wo(upe),hpe=hi({},G1,{data:0}),$P=Wo(hpe),fpe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dpe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ppe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gpe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ppe[t])?!!e[t]:!1}function WD(){return gpe}var vpe=hi({},Gx,{key:function(t){if(t.key){var e=fpe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Q3(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dpe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WD,charCode:function(t){return t.type==="keypress"?Q3(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Q3(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mpe=Wo(vpe),ype=hi({},XS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zP=Wo(ype),xpe=hi({},Gx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WD}),bpe=Wo(xpe),wpe=hi({},G1,{propertyName:0,elapsedTime:0,pseudoElement:0}),kpe=Wo(wpe),Spe=hi({},XS,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Epe=Wo(Spe),Tpe=[9,13,27,32],qD=Yc&&"CompositionEvent"in window,my=null;Yc&&"documentMode"in document&&(my=document.documentMode);var Cpe=Yc&&"TextEvent"in window&&!my,zY=Yc&&(!qD||my&&8<my&&11>=my),HP=String.fromCharCode(32),VP=!1;function HY(t,e){switch(t){case"keyup":return Tpe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VY(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ag=!1;function Ape(t,e){switch(t){case"compositionend":return VY(e);case"keypress":return e.which!==32?null:(VP=!0,HP);case"textInput":return t=e.data,t===HP&&VP?null:t;default:return null}}function _pe(t,e){if(ag)return t==="compositionend"||!qD&&HY(t,e)?(t=$Y(),K3=UD=Jh=null,ag=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zY&&e.locale!=="ko"?null:e.data;default:return null}}var Lpe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Lpe[t.type]:e==="textarea"}function UY(t,e,r,n){bY(n),e=o5(e,"onChange"),0<e.length&&(r=new GD("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var yy=null,Yy=null;function Dpe(t){eX(t,0)}function jS(t){var e=lg(t);if(dY(e))return t}function Rpe(t,e){if(t==="change")return e}var GY=!1;if(Yc){var bC;if(Yc){var wC="oninput"in document;if(!wC){var GP=document.createElement("div");GP.setAttribute("oninput","return;"),wC=typeof GP.oninput=="function"}bC=wC}else bC=!1;GY=bC&&(!document.documentMode||9<document.documentMode)}function WP(){yy&&(yy.detachEvent("onpropertychange",WY),Yy=yy=null)}function WY(t){if(t.propertyName==="value"&&jS(Yy)){var e=[];UY(e,Yy,t,BD(t)),EY(Dpe,e)}}function Mpe(t,e,r){t==="focusin"?(WP(),yy=e,Yy=r,yy.attachEvent("onpropertychange",WY)):t==="focusout"&&WP()}function Npe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jS(Yy)}function Ipe(t,e){if(t==="click")return jS(e)}function Ope(t,e){if(t==="input"||t==="change")return jS(e)}function Fpe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lu=typeof Object.is=="function"?Object.is:Fpe;function Xy(t,e){if(lu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!yA.call(e,i)||!lu(t[i],e[i]))return!1}return!0}function qP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function YP(t,e){var r=qP(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qP(r)}}function qY(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qY(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YY(){for(var t=window,e=e5();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=e5(t.document)}return e}function YD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ppe(t){var e=YY(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&qY(r.ownerDocument.documentElement,r)){if(n!==null&&YD(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=YP(r,a);var s=YP(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Bpe=Yc&&"documentMode"in document&&11>=document.documentMode,sg=null,PA=null,xy=null,BA=!1;function XP(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;BA||sg==null||sg!==e5(n)||(n=sg,"selectionStart"in n&&YD(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xy&&Xy(xy,n)||(xy=n,n=o5(PA,"onSelect"),0<n.length&&(e=new GD("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=sg)))}function _4(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var og={animationend:_4("Animation","AnimationEnd"),animationiteration:_4("Animation","AnimationIteration"),animationstart:_4("Animation","AnimationStart"),transitionend:_4("Transition","TransitionEnd")},kC={},XY={};Yc&&(XY=document.createElement("div").style,"AnimationEvent"in window||(delete og.animationend.animation,delete og.animationiteration.animation,delete og.animationstart.animation),"TransitionEvent"in window||delete og.transitionend.transition);function KS(t){if(kC[t])return kC[t];if(!og[t])return t;var e=og[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in XY)return kC[t]=e[r];return t}var jY=KS("animationend"),KY=KS("animationiteration"),QY=KS("animationstart"),ZY=KS("transitionend"),JY=new Map,jP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jf(t,e){JY.set(t,e),Y0(e,[t])}for(var SC=0;SC<jP.length;SC++){var EC=jP[SC],$pe=EC.toLowerCase(),zpe=EC[0].toUpperCase()+EC.slice(1);jf($pe,"on"+zpe)}jf(jY,"onAnimationEnd");jf(KY,"onAnimationIteration");jf(QY,"onAnimationStart");jf("dblclick","onDoubleClick");jf("focusin","onFocus");jf("focusout","onBlur");jf(ZY,"onTransitionEnd");Yg("onMouseEnter",["mouseout","mouseover"]);Yg("onMouseLeave",["mouseout","mouseover"]);Yg("onPointerEnter",["pointerout","pointerover"]);Yg("onPointerLeave",["pointerout","pointerover"]);Y0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Y0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Y0("onBeforeInput",["compositionend","keypress","textInput","paste"]);Y0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Y0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Y0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hpe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wm));function KP(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,$0e(n,e,void 0,t),t.currentTarget=null}function eX(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;KP(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;KP(i,o,u),a=l}}}if(r5)throw t=NA,r5=!1,NA=null,t}function Vn(t,e){var r=e[UA];r===void 0&&(r=e[UA]=new Set);var n=t+"__bubble";r.has(n)||(tX(e,t,2,!1),r.add(n))}function TC(t,e,r){var n=0;e&&(n|=4),tX(r,t,n,e)}var L4="_reactListening"+Math.random().toString(36).slice(2);function jy(t){if(!t[L4]){t[L4]=!0,lY.forEach(function(r){r!=="selectionchange"&&(Hpe.has(r)||TC(r,!1,t),TC(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[L4]||(e[L4]=!0,TC("selectionchange",!1,e))}}function tX(t,e,r,n){switch(BY(e)){case 1:var i=tpe;break;case 4:i=rpe;break;default:i=VD}r=i.bind(null,e,r,t),i=void 0,!MA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function CC(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Ud(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}EY(function(){var u=a,h=BD(r),f=[];e:{var d=JY.get(t);if(d!==void 0){var p=GD,v=t;switch(t){case"keypress":if(Q3(r)===0)break e;case"keydown":case"keyup":p=mpe;break;case"focusin":v="focus",p=xC;break;case"focusout":v="blur",p=xC;break;case"beforeblur":case"afterblur":p=xC;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=BP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ape;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=bpe;break;case jY:case KY:case QY:p=lpe;break;case ZY:p=kpe;break;case"scroll":p=npe;break;case"wheel":p=Epe;break;case"copy":case"cut":case"paste":p=cpe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zP}var m=(e&4)!==0,x=!m&&t==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var w=u,k;w!==null;){k=w;var E=k.stateNode;if(k.tag===5&&E!==null&&(k=E,y!==null&&(E=Uy(w,y),E!=null&&m.push(Ky(w,E,k)))),x)break;w=w.return}0<m.length&&(d=new p(d,v,null,r,h),f.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&r!==DA&&(v=r.relatedTarget||r.fromElement)&&(Ud(v)||v[Xc]))break e;if((p||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?Ud(v):null,v!==null&&(x=X0(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=BP,E="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=zP,E="onPointerLeave",y="onPointerEnter",w="pointer"),x=p==null?d:lg(p),k=v==null?d:lg(v),d=new m(E,w+"leave",p,r,h),d.target=x,d.relatedTarget=k,E=null,Ud(h)===u&&(m=new m(y,w+"enter",v,r,h),m.target=k,m.relatedTarget=x,E=m),x=E,p&&v)t:{for(m=p,y=v,w=0,k=m;k;k=$p(k))w++;for(k=0,E=y;E;E=$p(E))k++;for(;0<w-k;)m=$p(m),w--;for(;0<k-w;)y=$p(y),k--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=$p(m),y=$p(y)}m=null}else m=null;p!==null&&QP(f,d,p,m,!1),v!==null&&x!==null&&QP(f,x,v,m,!0)}}e:{if(d=u?lg(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=Rpe;else if(UP(d))if(GY)C=Ope;else{C=Npe;var L=Mpe}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=Ipe);if(C&&(C=C(t,u))){UY(f,C,r,h);break e}L&&L(t,d,u),t==="focusout"&&(L=d._wrapperState)&&L.controlled&&d.type==="number"&&TA(d,"number",d.value)}switch(L=u?lg(u):window,t){case"focusin":(UP(L)||L.contentEditable==="true")&&(sg=L,PA=u,xy=null);break;case"focusout":xy=PA=sg=null;break;case"mousedown":BA=!0;break;case"contextmenu":case"mouseup":case"dragend":BA=!1,XP(f,r,h);break;case"selectionchange":if(Bpe)break;case"keydown":case"keyup":XP(f,r,h)}var _;if(qD)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ag?HY(t,r)&&(I="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(zY&&r.locale!=="ko"&&(ag||I!=="onCompositionStart"?I==="onCompositionEnd"&&ag&&(_=$Y()):(Jh=h,UD="value"in Jh?Jh.value:Jh.textContent,ag=!0)),L=o5(u,I),0<L.length&&(I=new $P(I,t,null,r,h),f.push({event:I,listeners:L}),_?I.data=_:(_=VY(r),_!==null&&(I.data=_)))),(_=Cpe?Ape(t,r):_pe(t,r))&&(u=o5(u,"onBeforeInput"),0<u.length&&(h=new $P("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=_))}eX(f,e)})}function Ky(t,e,r){return{instance:t,listener:e,currentTarget:r}}function o5(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Uy(t,r),a!=null&&n.unshift(Ky(t,a,i)),a=Uy(t,e),a!=null&&n.push(Ky(t,a,i))),t=t.return}return n}function $p(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function QP(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Uy(r,a),l!=null&&s.unshift(Ky(r,l,o))):i||(l=Uy(r,a),l!=null&&s.push(Ky(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var Vpe=/\r\n?/g,Upe=/\u0000|\uFFFD/g;function ZP(t){return(typeof t=="string"?t:""+t).replace(Vpe,`
`).replace(Upe,"")}function D4(t,e,r){if(e=ZP(e),ZP(t)!==e&&r)throw Error(Dt(425))}function l5(){}var $A=null,zA=null;function HA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var VA=typeof setTimeout=="function"?setTimeout:void 0,Gpe=typeof clearTimeout=="function"?clearTimeout:void 0,JP=typeof Promise=="function"?Promise:void 0,Wpe=typeof queueMicrotask=="function"?queueMicrotask:typeof JP<"u"?function(t){return JP.resolve(null).then(t).catch(qpe)}:VA;function qpe(t){setTimeout(function(){throw t})}function AC(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),qy(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);qy(e)}function pf(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eB(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var W1=Math.random().toString(36).slice(2),Mu="__reactFiber$"+W1,Qy="__reactProps$"+W1,Xc="__reactContainer$"+W1,UA="__reactEvents$"+W1,Ype="__reactListeners$"+W1,Xpe="__reactHandles$"+W1;function Ud(t){var e=t[Mu];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Xc]||r[Mu]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=eB(t);t!==null;){if(r=t[Mu])return r;t=eB(t)}return e}t=r,r=t.parentNode}return null}function Wx(t){return t=t[Mu]||t[Xc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Dt(33))}function QS(t){return t[Qy]||null}var GA=[],ug=-1;function Kf(t){return{current:t}}function qn(t){0>ug||(t.current=GA[ug],GA[ug]=null,ug--)}function Fn(t,e){ug++,GA[ug]=t.current,t.current=e}var Cf={},ds=Kf(Cf),lo=Kf(!1),l0=Cf;function Xg(t,e){var r=t.type.contextTypes;if(!r)return Cf;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function uo(t){return t=t.childContextTypes,t!=null}function u5(){qn(lo),qn(ds)}function tB(t,e,r){if(ds.current!==Cf)throw Error(Dt(168));Fn(ds,e),Fn(lo,r)}function rX(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Dt(108,M0e(t)||"Unknown",i));return hi({},r,n)}function c5(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cf,l0=ds.current,Fn(ds,t),Fn(lo,lo.current),!0}function rB(t,e,r){var n=t.stateNode;if(!n)throw Error(Dt(169));r?(t=rX(t,e,l0),n.__reactInternalMemoizedMergedChildContext=t,qn(lo),qn(ds),Fn(ds,t)):qn(lo),Fn(lo,r)}var Ac=null,ZS=!1,_C=!1;function nX(t){Ac===null?Ac=[t]:Ac.push(t)}function jpe(t){ZS=!0,nX(t)}function Qf(){if(!_C&&Ac!==null){_C=!0;var t=0,e=wn;try{var r=Ac;for(wn=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ac=null,ZS=!1}catch(i){throw Ac!==null&&(Ac=Ac.slice(t+1)),_Y($D,Qf),i}finally{wn=e,_C=!1}}return null}var cg=[],hg=0,h5=null,f5=0,al=[],sl=0,u0=null,Mc=1,Nc="";function Ad(t,e){cg[hg++]=f5,cg[hg++]=h5,h5=t,f5=e}function iX(t,e,r){al[sl++]=Mc,al[sl++]=Nc,al[sl++]=u0,u0=t;var n=Mc;t=Nc;var i=32-jl(n)-1;n&=~(1<<i),r+=1;var a=32-jl(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Mc=1<<32-jl(e)+i|r<<i|n,Nc=a+t}else Mc=1<<a|r<<i|n,Nc=t}function XD(t){t.return!==null&&(Ad(t,1),iX(t,1,0))}function jD(t){for(;t===h5;)h5=cg[--hg],cg[hg]=null,f5=cg[--hg],cg[hg]=null;for(;t===u0;)u0=al[--sl],al[sl]=null,Nc=al[--sl],al[sl]=null,Mc=al[--sl],al[sl]=null}var Oo=null,Ro=null,ei=!1,Gl=null;function aX(t,e){var r=hl(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function nB(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oo=t,Ro=pf(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oo=t,Ro=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=u0!==null?{id:Mc,overflow:Nc}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=hl(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Oo=t,Ro=null,!0):!1;default:return!1}}function WA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qA(t){if(ei){var e=Ro;if(e){var r=e;if(!nB(t,e)){if(WA(t))throw Error(Dt(418));e=pf(r.nextSibling);var n=Oo;e&&nB(t,e)?aX(n,r):(t.flags=t.flags&-4097|2,ei=!1,Oo=t)}}else{if(WA(t))throw Error(Dt(418));t.flags=t.flags&-4097|2,ei=!1,Oo=t}}}function iB(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oo=t}function R4(t){if(t!==Oo)return!1;if(!ei)return iB(t),ei=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!HA(t.type,t.memoizedProps)),e&&(e=Ro)){if(WA(t))throw sX(),Error(Dt(418));for(;e;)aX(t,e),e=pf(e.nextSibling)}if(iB(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Dt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ro=pf(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ro=null}}else Ro=Oo?pf(t.stateNode.nextSibling):null;return!0}function sX(){for(var t=Ro;t;)t=pf(t.nextSibling)}function jg(){Ro=Oo=null,ei=!1}function KD(t){Gl===null?Gl=[t]:Gl.push(t)}var Kpe=dh.ReactCurrentBatchConfig;function $l(t,e){if(t&&t.defaultProps){e=hi({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var d5=Kf(null),p5=null,fg=null,QD=null;function ZD(){QD=fg=p5=null}function JD(t){var e=d5.current;qn(d5),t._currentValue=e}function YA(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Lg(t,e){p5=t,QD=fg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(oo=!0),t.firstContext=null)}function yl(t){var e=t._currentValue;if(QD!==t)if(t={context:t,memoizedValue:e,next:null},fg===null){if(p5===null)throw Error(Dt(308));fg=t,p5.dependencies={lanes:0,firstContext:t}}else fg=fg.next=t;return e}var Gd=null;function eR(t){Gd===null?Gd=[t]:Gd.push(t)}function oX(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,eR(e)):(r.next=i.next,i.next=r),e.interleaved=r,jc(t,n)}function jc(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Gh=!1;function tR(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lX(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $c(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gf(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Zr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,jc(t,r)}return i=n.interleaved,i===null?(e.next=e,eR(n)):(e.next=i.next,i.next=e),n.interleaved=e,jc(t,r)}function Z3(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zD(t,r)}}function aB(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function g5(t,e,r,n){var i=t.updateQueue;Gh=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,h=u=l=null,o=a;do{var d=o.lane,p=o.eventTime;if((n&d)===d){h!==null&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,m=o;switch(d=e,p=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(p,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,d=typeof v=="function"?v.call(p,f,d):v,d==null)break e;f=hi({},f,d);break e;case 2:Gh=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=p,l=f):h=h.next=p,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);h0|=s,t.lanes=s,t.memoizedState=f}}function sB(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Dt(191,i));i.call(n)}}}var uX=new oY.Component().refs;function XA(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:hi({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var JS={isMounted:function(t){return(t=t._reactInternals)?X0(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Os(),i=mf(t),a=$c(n,i);a.payload=e,r!=null&&(a.callback=r),e=gf(t,a,i),e!==null&&(Kl(e,t,i,n),Z3(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Os(),i=mf(t),a=$c(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=gf(t,a,i),e!==null&&(Kl(e,t,i,n),Z3(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Os(),n=mf(t),i=$c(r,n);i.tag=2,e!=null&&(i.callback=e),e=gf(t,i,n),e!==null&&(Kl(e,t,n,r),Z3(e,t,n))}};function oB(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!Xy(r,n)||!Xy(i,a):!0}function cX(t,e,r){var n=!1,i=Cf,a=e.contextType;return typeof a=="object"&&a!==null?a=yl(a):(i=uo(e)?l0:ds.current,n=e.contextTypes,a=(n=n!=null)?Xg(t,i):Cf),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=JS,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function lB(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&JS.enqueueReplaceState(e,e.state,null)}function jA(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=uX,tR(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=yl(a):(a=uo(e)?l0:ds.current,i.context=Xg(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(XA(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&JS.enqueueReplaceState(i,i.state,null),g5(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function lm(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Dt(309));var n=r.stateNode}if(!n)throw Error(Dt(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;o===uX&&(o=i.refs={}),s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Dt(284));if(!r._owner)throw Error(Dt(290,t))}return t}function M4(t,e){throw t=Object.prototype.toString.call(e),Error(Dt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uB(t){var e=t._init;return e(t._payload)}function hX(t){function e(y,w){if(t){var k=y.deletions;k===null?(y.deletions=[w],y.flags|=16):k.push(w)}}function r(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=yf(y,w),y.index=0,y.sibling=null,y}function a(y,w,k){return y.index=k,t?(k=y.alternate,k!==null?(k=k.index,k<w?(y.flags|=2,w):k):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,k,E){return w===null||w.tag!==6?(w=OC(k,y.mode,E),w.return=y,w):(w=i(w,k),w.return=y,w)}function l(y,w,k,E){var C=k.type;return C===ig?h(y,w,k.props.children,E,k.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Uh&&uB(C)===w.type)?(E=i(w,k.props),E.ref=lm(y,w,k),E.return=y,E):(E=iw(k.type,k.key,k.props,null,y.mode,E),E.ref=lm(y,w,k),E.return=y,E)}function u(y,w,k,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=FC(k,y.mode,E),w.return=y,w):(w=i(w,k.children||[]),w.return=y,w)}function h(y,w,k,E,C){return w===null||w.tag!==7?(w=i0(k,y.mode,E,C),w.return=y,w):(w=i(w,k),w.return=y,w)}function f(y,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=OC(""+w,y.mode,k),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case w4:return k=iw(w.type,w.key,w.props,null,y.mode,k),k.ref=lm(y,null,w),k.return=y,k;case ng:return w=FC(w,y.mode,k),w.return=y,w;case Uh:var E=w._init;return f(y,E(w._payload),k)}if(Um(w)||nm(w))return w=i0(w,y.mode,k,null),w.return=y,w;M4(y,w)}return null}function d(y,w,k,E){var C=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return C!==null?null:o(y,w,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w4:return k.key===C?l(y,w,k,E):null;case ng:return k.key===C?u(y,w,k,E):null;case Uh:return C=k._init,d(y,w,C(k._payload),E)}if(Um(k)||nm(k))return C!==null?null:h(y,w,k,E,null);M4(y,k)}return null}function p(y,w,k,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(k)||null,o(w,y,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case w4:return y=y.get(E.key===null?k:E.key)||null,l(w,y,E,C);case ng:return y=y.get(E.key===null?k:E.key)||null,u(w,y,E,C);case Uh:var L=E._init;return p(y,w,k,L(E._payload),C)}if(Um(E)||nm(E))return y=y.get(k)||null,h(w,y,E,C,null);M4(w,E)}return null}function v(y,w,k,E){for(var C=null,L=null,_=w,I=w=0,M=null;_!==null&&I<k.length;I++){_.index>I?(M=_,_=null):M=_.sibling;var F=d(y,_,k[I],E);if(F===null){_===null&&(_=M);break}t&&_&&F.alternate===null&&e(y,_),w=a(F,w,I),L===null?C=F:L.sibling=F,L=F,_=M}if(I===k.length)return r(y,_),ei&&Ad(y,I),C;if(_===null){for(;I<k.length;I++)_=f(y,k[I],E),_!==null&&(w=a(_,w,I),L===null?C=_:L.sibling=_,L=_);return ei&&Ad(y,I),C}for(_=n(y,_);I<k.length;I++)M=p(_,y,I,k[I],E),M!==null&&(t&&M.alternate!==null&&_.delete(M.key===null?I:M.key),w=a(M,w,I),L===null?C=M:L.sibling=M,L=M);return t&&_.forEach(function(N){return e(y,N)}),ei&&Ad(y,I),C}function m(y,w,k,E){var C=nm(k);if(typeof C!="function")throw Error(Dt(150));if(k=C.call(k),k==null)throw Error(Dt(151));for(var L=C=null,_=w,I=w=0,M=null,F=k.next();_!==null&&!F.done;I++,F=k.next()){_.index>I?(M=_,_=null):M=_.sibling;var N=d(y,_,F.value,E);if(N===null){_===null&&(_=M);break}t&&_&&N.alternate===null&&e(y,_),w=a(N,w,I),L===null?C=N:L.sibling=N,L=N,_=M}if(F.done)return r(y,_),ei&&Ad(y,I),C;if(_===null){for(;!F.done;I++,F=k.next())F=f(y,F.value,E),F!==null&&(w=a(F,w,I),L===null?C=F:L.sibling=F,L=F);return ei&&Ad(y,I),C}for(_=n(y,_);!F.done;I++,F=k.next())F=p(_,y,I,F.value,E),F!==null&&(t&&F.alternate!==null&&_.delete(F.key===null?I:F.key),w=a(F,w,I),L===null?C=F:L.sibling=F,L=F);return t&&_.forEach(function(z){return e(y,z)}),ei&&Ad(y,I),C}function x(y,w,k,E){if(typeof k=="object"&&k!==null&&k.type===ig&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case w4:e:{for(var C=k.key,L=w;L!==null;){if(L.key===C){if(C=k.type,C===ig){if(L.tag===7){r(y,L.sibling),w=i(L,k.props.children),w.return=y,y=w;break e}}else if(L.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Uh&&uB(C)===L.type){r(y,L.sibling),w=i(L,k.props),w.ref=lm(y,L,k),w.return=y,y=w;break e}r(y,L);break}else e(y,L);L=L.sibling}k.type===ig?(w=i0(k.props.children,y.mode,E,k.key),w.return=y,y=w):(E=iw(k.type,k.key,k.props,null,y.mode,E),E.ref=lm(y,w,k),E.return=y,y=E)}return s(y);case ng:e:{for(L=k.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){r(y,w.sibling),w=i(w,k.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else e(y,w);w=w.sibling}w=FC(k,y.mode,E),w.return=y,y=w}return s(y);case Uh:return L=k._init,x(y,w,L(k._payload),E)}if(Um(k))return v(y,w,k,E);if(nm(k))return m(y,w,k,E);M4(y,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,k),w.return=y,y=w):(r(y,w),w=OC(k,y.mode,E),w.return=y,y=w),s(y)):r(y,w)}return x}var Kg=hX(!0),fX=hX(!1),qx={},Uu=Kf(qx),Zy=Kf(qx),Jy=Kf(qx);function Wd(t){if(t===qx)throw Error(Dt(174));return t}function rR(t,e){switch(Fn(Jy,e),Fn(Zy,t),Fn(Uu,qx),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:AA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=AA(e,t)}qn(Uu),Fn(Uu,e)}function Qg(){qn(Uu),qn(Zy),qn(Jy)}function dX(t){Wd(Jy.current);var e=Wd(Uu.current),r=AA(e,t.type);e!==r&&(Fn(Zy,t),Fn(Uu,r))}function nR(t){Zy.current===t&&(qn(Uu),qn(Zy))}var si=Kf(0);function v5(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var LC=[];function iR(){for(var t=0;t<LC.length;t++)LC[t]._workInProgressVersionPrimary=null;LC.length=0}var J3=dh.ReactCurrentDispatcher,DC=dh.ReactCurrentBatchConfig,c0=0,ui=null,ji=null,ga=null,m5=!1,by=!1,e2=0,Qpe=0;function es(){throw Error(Dt(321))}function aR(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!lu(t[r],e[r]))return!1;return!0}function sR(t,e,r,n,i,a){if(c0=a,ui=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,J3.current=t===null||t.memoizedState===null?tge:rge,t=r(n,i),by){a=0;do{if(by=!1,e2=0,25<=a)throw Error(Dt(301));a+=1,ga=ji=null,e.updateQueue=null,J3.current=nge,t=r(n,i)}while(by)}if(J3.current=y5,e=ji!==null&&ji.next!==null,c0=0,ga=ji=ui=null,m5=!1,e)throw Error(Dt(300));return t}function oR(){var t=e2!==0;return e2=0,t}function Cu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ga===null?ui.memoizedState=ga=t:ga=ga.next=t,ga}function xl(){if(ji===null){var t=ui.alternate;t=t!==null?t.memoizedState:null}else t=ji.next;var e=ga===null?ui.memoizedState:ga.next;if(e!==null)ga=e,ji=t;else{if(t===null)throw Error(Dt(310));ji=t,t={memoizedState:ji.memoizedState,baseState:ji.baseState,baseQueue:ji.baseQueue,queue:ji.queue,next:null},ga===null?ui.memoizedState=ga=t:ga=ga.next=t}return ga}function t2(t,e){return typeof e=="function"?e(t):e}function RC(t){var e=xl(),r=e.queue;if(r===null)throw Error(Dt(311));r.lastRenderedReducer=t;var n=ji,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var h=u.lane;if((c0&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,ui.lanes|=h,h0|=h}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,lu(n,e.memoizedState)||(oo=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,ui.lanes|=a,h0|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function MC(t){var e=xl(),r=e.queue;if(r===null)throw Error(Dt(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);lu(a,e.memoizedState)||(oo=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function pX(){}function gX(t,e){var r=ui,n=xl(),i=e(),a=!lu(n.memoizedState,i);if(a&&(n.memoizedState=i,oo=!0),n=n.queue,lR(yX.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||ga!==null&&ga.memoizedState.tag&1){if(r.flags|=2048,r2(9,mX.bind(null,r,n,i,e),void 0,null),ya===null)throw Error(Dt(349));c0&30||vX(r,e,i)}return i}function vX(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ui.updateQueue,e===null?(e={lastEffect:null,stores:null},ui.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function mX(t,e,r,n){e.value=r,e.getSnapshot=n,xX(e)&&bX(t)}function yX(t,e,r){return r(function(){xX(e)&&bX(t)})}function xX(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!lu(t,r)}catch{return!0}}function bX(t){var e=jc(t,1);e!==null&&Kl(e,t,1,-1)}function cB(t){var e=Cu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t2,lastRenderedState:t},e.queue=t,t=t.dispatch=ege.bind(null,ui,t),[e.memoizedState,t]}function r2(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ui.updateQueue,e===null?(e={lastEffect:null,stores:null},ui.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function wX(){return xl().memoizedState}function ew(t,e,r,n){var i=Cu();ui.flags|=t,i.memoizedState=r2(1|e,r,void 0,n===void 0?null:n)}function eE(t,e,r,n){var i=xl();n=n===void 0?null:n;var a=void 0;if(ji!==null){var s=ji.memoizedState;if(a=s.destroy,n!==null&&aR(n,s.deps)){i.memoizedState=r2(e,r,a,n);return}}ui.flags|=t,i.memoizedState=r2(1|e,r,a,n)}function hB(t,e){return ew(8390656,8,t,e)}function lR(t,e){return eE(2048,8,t,e)}function kX(t,e){return eE(4,2,t,e)}function SX(t,e){return eE(4,4,t,e)}function EX(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TX(t,e,r){return r=r!=null?r.concat([t]):null,eE(4,4,EX.bind(null,e,t),r)}function uR(){}function CX(t,e){var r=xl();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&aR(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function AX(t,e){var r=xl();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&aR(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function _X(t,e,r){return c0&21?(lu(r,e)||(r=RY(),ui.lanes|=r,h0|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,oo=!0),t.memoizedState=r)}function Zpe(t,e){var r=wn;wn=r!==0&&4>r?r:4,t(!0);var n=DC.transition;DC.transition={};try{t(!1),e()}finally{wn=r,DC.transition=n}}function LX(){return xl().memoizedState}function Jpe(t,e,r){var n=mf(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},DX(t))RX(e,r);else if(r=oX(t,e,r,n),r!==null){var i=Os();Kl(r,t,n,i),MX(r,e,n)}}function ege(t,e,r){var n=mf(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(DX(t))RX(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,lu(o,s)){var l=e.interleaved;l===null?(i.next=i,eR(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=oX(t,e,i,n),r!==null&&(i=Os(),Kl(r,t,n,i),MX(r,e,n))}}function DX(t){var e=t.alternate;return t===ui||e!==null&&e===ui}function RX(t,e){by=m5=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function MX(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zD(t,r)}}var y5={readContext:yl,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useInsertionEffect:es,useLayoutEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useMutableSource:es,useSyncExternalStore:es,useId:es,unstable_isNewReconciler:!1},tge={readContext:yl,useCallback:function(t,e){return Cu().memoizedState=[t,e===void 0?null:e],t},useContext:yl,useEffect:hB,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ew(4194308,4,EX.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ew(4194308,4,t,e)},useInsertionEffect:function(t,e){return ew(4,2,t,e)},useMemo:function(t,e){var r=Cu();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Cu();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Jpe.bind(null,ui,t),[n.memoizedState,t]},useRef:function(t){var e=Cu();return t={current:t},e.memoizedState=t},useState:cB,useDebugValue:uR,useDeferredValue:function(t){return Cu().memoizedState=t},useTransition:function(){var t=cB(!1),e=t[0];return t=Zpe.bind(null,t[1]),Cu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ui,i=Cu();if(ei){if(r===void 0)throw Error(Dt(407));r=r()}else{if(r=e(),ya===null)throw Error(Dt(349));c0&30||vX(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,hB(yX.bind(null,n,a,t),[t]),n.flags|=2048,r2(9,mX.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Cu(),e=ya.identifierPrefix;if(ei){var r=Nc,n=Mc;r=(n&~(1<<32-jl(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=e2++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Qpe++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rge={readContext:yl,useCallback:CX,useContext:yl,useEffect:lR,useImperativeHandle:TX,useInsertionEffect:kX,useLayoutEffect:SX,useMemo:AX,useReducer:RC,useRef:wX,useState:function(){return RC(t2)},useDebugValue:uR,useDeferredValue:function(t){var e=xl();return _X(e,ji.memoizedState,t)},useTransition:function(){var t=RC(t2)[0],e=xl().memoizedState;return[t,e]},useMutableSource:pX,useSyncExternalStore:gX,useId:LX,unstable_isNewReconciler:!1},nge={readContext:yl,useCallback:CX,useContext:yl,useEffect:lR,useImperativeHandle:TX,useInsertionEffect:kX,useLayoutEffect:SX,useMemo:AX,useReducer:MC,useRef:wX,useState:function(){return MC(t2)},useDebugValue:uR,useDeferredValue:function(t){var e=xl();return ji===null?e.memoizedState=t:_X(e,ji.memoizedState,t)},useTransition:function(){var t=MC(t2)[0],e=xl().memoizedState;return[t,e]},useMutableSource:pX,useSyncExternalStore:gX,useId:LX,unstable_isNewReconciler:!1};function Zg(t,e){try{var r="",n=e;do r+=R0e(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function NC(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function KA(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ige=typeof WeakMap=="function"?WeakMap:Map;function NX(t,e,r){r=$c(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){b5||(b5=!0,s_=n),KA(t,e)},r}function IX(t,e,r){r=$c(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){KA(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){KA(t,e),typeof n!="function"&&(vf===null?vf=new Set([this]):vf.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function fB(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ige;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=yge.bind(null,t,e,r),e.then(t,t))}function dB(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pB(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=$c(-1,1),e.tag=2,gf(r,e,1))),r.lanes|=1),t)}var age=dh.ReactCurrentOwner,oo=!1;function Ds(t,e,r,n){e.child=t===null?fX(e,null,r,n):Kg(e,t.child,r,n)}function gB(t,e,r,n,i){r=r.render;var a=e.ref;return Lg(e,i),n=sR(t,e,r,n,a,i),r=oR(),t!==null&&!oo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kc(t,e,i)):(ei&&r&&XD(e),e.flags|=1,Ds(t,e,n,i),e.child)}function vB(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!mR(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,OX(t,e,a,n,i)):(t=iw(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Xy,r(s,n)&&t.ref===e.ref)return Kc(t,e,i)}return e.flags|=1,t=yf(a,n),t.ref=e.ref,t.return=e,e.child=t}function OX(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Xy(a,n)&&t.ref===e.ref)if(oo=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(oo=!0);else return e.lanes=t.lanes,Kc(t,e,i)}return QA(t,e,r,n,i)}function FX(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fn(pg,To),To|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fn(pg,To),To|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Fn(pg,To),To|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Fn(pg,To),To|=n;return Ds(t,e,i,r),e.child}function PX(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function QA(t,e,r,n,i){var a=uo(r)?l0:ds.current;return a=Xg(e,a),Lg(e,i),r=sR(t,e,r,n,a,i),n=oR(),t!==null&&!oo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kc(t,e,i)):(ei&&n&&XD(e),e.flags|=1,Ds(t,e,r,i),e.child)}function mB(t,e,r,n,i){if(uo(r)){var a=!0;c5(e)}else a=!1;if(Lg(e,i),e.stateNode===null)tw(t,e),cX(e,r,n),jA(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=yl(u):(u=uo(r)?l0:ds.current,u=Xg(e,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&lB(e,s,n,u),Gh=!1;var d=e.memoizedState;s.state=d,g5(e,n,s,i),l=e.memoizedState,o!==n||d!==l||lo.current||Gh?(typeof h=="function"&&(XA(e,r,h,n),l=e.memoizedState),(o=Gh||oB(e,r,o,n,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,lX(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:$l(e.type,o),s.props=u,f=e.pendingProps,d=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=yl(l):(l=uo(r)?l0:ds.current,l=Xg(e,l));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==l)&&lB(e,s,n,l),Gh=!1,d=e.memoizedState,s.state=d,g5(e,n,s,i);var v=e.memoizedState;o!==f||d!==v||lo.current||Gh?(typeof p=="function"&&(XA(e,r,p,n),v=e.memoizedState),(u=Gh||oB(e,r,u,n,d,v,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),s.props=n,s.state=v,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return ZA(t,e,r,n,a,i)}function ZA(t,e,r,n,i,a){PX(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&rB(e,r,!1),Kc(t,e,a);n=e.stateNode,age.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Kg(e,t.child,null,a),e.child=Kg(e,null,o,a)):Ds(t,e,o,a),e.memoizedState=n.state,i&&rB(e,r,!0),e.child}function BX(t){var e=t.stateNode;e.pendingContext?tB(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tB(t,e.context,!1),rR(t,e.containerInfo)}function yB(t,e,r,n,i){return jg(),KD(i),e.flags|=256,Ds(t,e,r,n),e.child}var JA={dehydrated:null,treeContext:null,retryLane:0};function e_(t){return{baseLanes:t,cachePool:null,transitions:null}}function $X(t,e,r){var n=e.pendingProps,i=si.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fn(si,i&1),t===null)return qA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=nE(s,n,0,null),t=i0(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=e_(r),e.memoizedState=JA,t):cR(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return sge(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=yf(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=yf(o,a):(a=i0(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?e_(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=JA,n}return a=t.child,t=a.sibling,n=yf(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function cR(t,e){return e=nE({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function N4(t,e,r,n){return n!==null&&KD(n),Kg(e,t.child,null,r),t=cR(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sge(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=NC(Error(Dt(422))),N4(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=nE({mode:"visible",children:n.children},i,0,null),a=i0(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Kg(e,t.child,null,s),e.child.memoizedState=e_(s),e.memoizedState=JA,a);if(!(e.mode&1))return N4(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Dt(419)),n=NC(a,n,void 0),N4(t,e,s,n)}if(o=(s&t.childLanes)!==0,oo||o){if(n=ya,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,jc(t,i),Kl(n,t,i,-1))}return vR(),n=NC(Error(Dt(421))),N4(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xge.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ro=pf(i.nextSibling),Oo=e,ei=!0,Gl=null,t!==null&&(al[sl++]=Mc,al[sl++]=Nc,al[sl++]=u0,Mc=t.id,Nc=t.overflow,u0=e),e=cR(e,n.children),e.flags|=4096,e)}function xB(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),YA(t.return,e,r)}function IC(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function zX(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Ds(t,e,n.children,r),n=si.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xB(t,r,e);else if(t.tag===19)xB(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Fn(si,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&v5(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),IC(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&v5(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}IC(e,!0,r,null,a);break;case"together":IC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tw(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kc(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),h0|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Dt(153));if(e.child!==null){for(t=e.child,r=yf(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=yf(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function oge(t,e,r){switch(e.tag){case 3:BX(e),jg();break;case 5:dX(e);break;case 1:uo(e.type)&&c5(e);break;case 4:rR(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Fn(d5,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Fn(si,si.current&1),e.flags|=128,null):r&e.child.childLanes?$X(t,e,r):(Fn(si,si.current&1),t=Kc(t,e,r),t!==null?t.sibling:null);Fn(si,si.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return zX(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fn(si,si.current),n)break;return null;case 22:case 23:return e.lanes=0,FX(t,e,r)}return Kc(t,e,r)}var HX,t_,VX,UX;HX=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};t_=function(){};VX=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Wd(Uu.current);var a=null;switch(r){case"input":i=SA(t,i),n=SA(t,n),a=[];break;case"select":i=hi({},i,{value:void 0}),n=hi({},n,{value:void 0}),a=[];break;case"textarea":i=CA(t,i),n=CA(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=l5)}_A(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hy.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hy.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Vn("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};UX=function(t,e,r,n){r!==n&&(e.flags|=4)};function um(t,e){if(!ei)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ts(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function lge(t,e,r){var n=e.pendingProps;switch(jD(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ts(e),null;case 1:return uo(e.type)&&u5(),ts(e),null;case 3:return n=e.stateNode,Qg(),qn(lo),qn(ds),iR(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(R4(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gl!==null&&(u_(Gl),Gl=null))),t_(t,e),ts(e),null;case 5:nR(e);var i=Wd(Jy.current);if(r=e.type,t!==null&&e.stateNode!=null)VX(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Dt(166));return ts(e),null}if(t=Wd(Uu.current),R4(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Mu]=e,n[Qy]=a,t=(e.mode&1)!==0,r){case"dialog":Vn("cancel",n),Vn("close",n);break;case"iframe":case"object":case"embed":Vn("load",n);break;case"video":case"audio":for(i=0;i<Wm.length;i++)Vn(Wm[i],n);break;case"source":Vn("error",n);break;case"img":case"image":case"link":Vn("error",n),Vn("load",n);break;case"details":Vn("toggle",n);break;case"input":_P(n,a),Vn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Vn("invalid",n);break;case"textarea":DP(n,a),Vn("invalid",n)}_A(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&D4(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&D4(n.textContent,o,t),i=["children",""+o]):Hy.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Vn("scroll",n)}switch(r){case"input":k4(n),LP(n,a,!0);break;case"textarea":k4(n),RP(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=l5)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vY(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Mu]=e,t[Qy]=n,HX(t,e,!1,!1),e.stateNode=t;e:{switch(s=LA(r,n),r){case"dialog":Vn("cancel",t),Vn("close",t),i=n;break;case"iframe":case"object":case"embed":Vn("load",t),i=n;break;case"video":case"audio":for(i=0;i<Wm.length;i++)Vn(Wm[i],t);i=n;break;case"source":Vn("error",t),i=n;break;case"img":case"image":case"link":Vn("error",t),Vn("load",t),i=n;break;case"details":Vn("toggle",t),i=n;break;case"input":_P(t,n),i=SA(t,n),Vn("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=hi({},n,{value:void 0}),Vn("invalid",t);break;case"textarea":DP(t,n),i=CA(t,n),Vn("invalid",t);break;default:i=n}_A(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?xY(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mY(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Vy(t,l):typeof l=="number"&&Vy(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Hy.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Vn("scroll",t):l!=null&&ID(t,a,l,s))}switch(r){case"input":k4(t),LP(t,n,!1);break;case"textarea":k4(t),RP(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Tf(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Tg(t,!!n.multiple,a,!1):n.defaultValue!=null&&Tg(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=l5)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ts(e),null;case 6:if(t&&e.stateNode!=null)UX(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Dt(166));if(r=Wd(Jy.current),Wd(Uu.current),R4(e)){if(n=e.stateNode,r=e.memoizedProps,n[Mu]=e,(a=n.nodeValue!==r)&&(t=Oo,t!==null))switch(t.tag){case 3:D4(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&D4(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mu]=e,e.stateNode=n}return ts(e),null;case 13:if(qn(si),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ei&&Ro!==null&&e.mode&1&&!(e.flags&128))sX(),jg(),e.flags|=98560,a=!1;else if(a=R4(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Dt(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Dt(317));a[Mu]=e}else jg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ts(e),a=!1}else Gl!==null&&(u_(Gl),Gl=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||si.current&1?ta===0&&(ta=3):vR())),e.updateQueue!==null&&(e.flags|=4),ts(e),null);case 4:return Qg(),t_(t,e),t===null&&jy(e.stateNode.containerInfo),ts(e),null;case 10:return JD(e.type._context),ts(e),null;case 17:return uo(e.type)&&u5(),ts(e),null;case 19:if(qn(si),a=e.memoizedState,a===null)return ts(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)um(a,!1);else{if(ta!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=v5(t),s!==null){for(e.flags|=128,um(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Fn(si,si.current&1|2),e.child}t=t.sibling}a.tail!==null&&Li()>Jg&&(e.flags|=128,n=!0,um(a,!1),e.lanes=4194304)}else{if(!n)if(t=v5(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),um(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ei)return ts(e),null}else 2*Li()-a.renderingStartTime>Jg&&r!==1073741824&&(e.flags|=128,n=!0,um(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Li(),e.sibling=null,r=si.current,Fn(si,n?r&1|2:r&1),e):(ts(e),null);case 22:case 23:return gR(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?To&1073741824&&(ts(e),e.subtreeFlags&6&&(e.flags|=8192)):ts(e),null;case 24:return null;case 25:return null}throw Error(Dt(156,e.tag))}function uge(t,e){switch(jD(e),e.tag){case 1:return uo(e.type)&&u5(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qg(),qn(lo),qn(ds),iR(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nR(e),null;case 13:if(qn(si),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Dt(340));jg()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qn(si),null;case 4:return Qg(),null;case 10:return JD(e.type._context),null;case 22:case 23:return gR(),null;case 24:return null;default:return null}}var I4=!1,ls=!1,cge=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function dg(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gi(t,e,n)}else r.current=null}function r_(t,e,r){try{r()}catch(n){gi(t,e,n)}}var bB=!1;function hge(t,e){if($A=a5,t=YY(),YD(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,h=0,f=t,d=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===r&&++u===i&&(o=s),d===a&&++h===n&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(zA={focusedElem:t,selectionRange:r},a5=!1,Kt=e;Kt!==null;)if(e=Kt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Kt=t;else for(;Kt!==null;){e=Kt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,x=v.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:$l(e.type,m),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Dt(163))}}catch(E){gi(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Kt=t;break}Kt=e.return}return v=bB,bB=!1,v}function wy(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&r_(e,r,a)}i=i.next}while(i!==n)}}function tE(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function n_(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function GX(t){var e=t.alternate;e!==null&&(t.alternate=null,GX(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mu],delete e[Qy],delete e[UA],delete e[Ype],delete e[Xpe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WX(t){return t.tag===5||t.tag===3||t.tag===4}function wB(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WX(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function i_(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=l5));else if(n!==4&&(t=t.child,t!==null))for(i_(t,e,r),t=t.sibling;t!==null;)i_(t,e,r),t=t.sibling}function a_(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(a_(t,e,r),t=t.sibling;t!==null;)a_(t,e,r),t=t.sibling}var Ma=null,Hl=!1;function Rh(t,e,r){for(r=r.child;r!==null;)qX(t,e,r),r=r.sibling}function qX(t,e,r){if(Vu&&typeof Vu.onCommitFiberUnmount=="function")try{Vu.onCommitFiberUnmount(YS,r)}catch{}switch(r.tag){case 5:ls||dg(r,e);case 6:var n=Ma,i=Hl;Ma=null,Rh(t,e,r),Ma=n,Hl=i,Ma!==null&&(Hl?(t=Ma,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ma.removeChild(r.stateNode));break;case 18:Ma!==null&&(Hl?(t=Ma,r=r.stateNode,t.nodeType===8?AC(t.parentNode,r):t.nodeType===1&&AC(t,r),qy(t)):AC(Ma,r.stateNode));break;case 4:n=Ma,i=Hl,Ma=r.stateNode.containerInfo,Hl=!0,Rh(t,e,r),Ma=n,Hl=i;break;case 0:case 11:case 14:case 15:if(!ls&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&r_(r,e,s),i=i.next}while(i!==n)}Rh(t,e,r);break;case 1:if(!ls&&(dg(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){gi(r,e,o)}Rh(t,e,r);break;case 21:Rh(t,e,r);break;case 22:r.mode&1?(ls=(n=ls)||r.memoizedState!==null,Rh(t,e,r),ls=n):Rh(t,e,r);break;default:Rh(t,e,r)}}function kB(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new cge),e.forEach(function(n){var i=bge.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Il(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ma=o.stateNode,Hl=!1;break e;case 3:Ma=o.stateNode.containerInfo,Hl=!0;break e;case 4:Ma=o.stateNode.containerInfo,Hl=!0;break e}o=o.return}if(Ma===null)throw Error(Dt(160));qX(a,s,i),Ma=null,Hl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){gi(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YX(e,t),e=e.sibling}function YX(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Il(e,t),ku(t),n&4){try{wy(3,t,t.return),tE(3,t)}catch(m){gi(t,t.return,m)}try{wy(5,t,t.return)}catch(m){gi(t,t.return,m)}}break;case 1:Il(e,t),ku(t),n&512&&r!==null&&dg(r,r.return);break;case 5:if(Il(e,t),ku(t),n&512&&r!==null&&dg(r,r.return),t.flags&32){var i=t.stateNode;try{Vy(i,"")}catch(m){gi(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&pY(i,a),LA(o,s);var u=LA(o,a);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];h==="style"?xY(i,f):h==="dangerouslySetInnerHTML"?mY(i,f):h==="children"?Vy(i,f):ID(i,h,f,u)}switch(o){case"input":EA(i,a);break;case"textarea":gY(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Tg(i,!!a.multiple,p,!1):d!==!!a.multiple&&(a.defaultValue!=null?Tg(i,!!a.multiple,a.defaultValue,!0):Tg(i,!!a.multiple,a.multiple?[]:"",!1))}i[Qy]=a}catch(m){gi(t,t.return,m)}}break;case 6:if(Il(e,t),ku(t),n&4){if(t.stateNode===null)throw Error(Dt(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){gi(t,t.return,m)}}break;case 3:if(Il(e,t),ku(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qy(e.containerInfo)}catch(m){gi(t,t.return,m)}break;case 4:Il(e,t),ku(t);break;case 13:Il(e,t),ku(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(dR=Li())),n&4&&kB(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(ls=(u=ls)||h,Il(e,t),ls=u):Il(e,t),ku(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Kt=t,h=t.child;h!==null;){for(f=Kt=h;Kt!==null;){switch(d=Kt,p=d.child,d.tag){case 0:case 11:case 14:case 15:wy(4,d,d.return);break;case 1:dg(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){gi(n,r,m)}}break;case 5:dg(d,d.return);break;case 22:if(d.memoizedState!==null){EB(f);continue}}p!==null?(p.return=d,Kt=p):EB(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=yY("display",s))}catch(m){gi(t,t.return,m)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){gi(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Il(e,t),ku(t),n&4&&kB(t);break;case 21:break;default:Il(e,t),ku(t)}}function ku(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(WX(r)){var n=r;break e}r=r.return}throw Error(Dt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Vy(i,""),n.flags&=-33);var a=wB(t);a_(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=wB(t);i_(t,o,s);break;default:throw Error(Dt(161))}}catch(l){gi(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fge(t,e,r){Kt=t,XX(t)}function XX(t,e,r){for(var n=(t.mode&1)!==0;Kt!==null;){var i=Kt,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||I4;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ls;o=I4;var u=ls;if(I4=s,(ls=l)&&!u)for(Kt=i;Kt!==null;)s=Kt,l=s.child,s.tag===22&&s.memoizedState!==null?TB(i):l!==null?(l.return=s,Kt=l):TB(i);for(;a!==null;)Kt=a,XX(a),a=a.sibling;Kt=i,I4=o,ls=u}SB(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Kt=a):SB(t)}}function SB(t){for(;Kt!==null;){var e=Kt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ls||tE(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ls)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:$l(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&sB(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}sB(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&qy(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Dt(163))}ls||e.flags&512&&n_(e)}catch(d){gi(e,e.return,d)}}if(e===t){Kt=null;break}if(r=e.sibling,r!==null){r.return=e.return,Kt=r;break}Kt=e.return}}function EB(t){for(;Kt!==null;){var e=Kt;if(e===t){Kt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Kt=r;break}Kt=e.return}}function TB(t){for(;Kt!==null;){var e=Kt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{tE(4,e)}catch(l){gi(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){gi(e,i,l)}}var a=e.return;try{n_(e)}catch(l){gi(e,a,l)}break;case 5:var s=e.return;try{n_(e)}catch(l){gi(e,s,l)}}}catch(l){gi(e,e.return,l)}if(e===t){Kt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Kt=o;break}Kt=e.return}}var dge=Math.ceil,x5=dh.ReactCurrentDispatcher,hR=dh.ReactCurrentOwner,vl=dh.ReactCurrentBatchConfig,Zr=0,ya=null,Pi=null,$a=0,To=0,pg=Kf(0),ta=0,n2=null,h0=0,rE=0,fR=0,ky=null,eo=null,dR=0,Jg=1/0,Tc=null,b5=!1,s_=null,vf=null,O4=!1,ef=null,w5=0,Sy=0,o_=null,rw=-1,nw=0;function Os(){return Zr&6?Li():rw!==-1?rw:rw=Li()}function mf(t){return t.mode&1?Zr&2&&$a!==0?$a&-$a:Kpe.transition!==null?(nw===0&&(nw=RY()),nw):(t=wn,t!==0||(t=window.event,t=t===void 0?16:BY(t.type)),t):1}function Kl(t,e,r,n){if(50<Sy)throw Sy=0,o_=null,Error(Dt(185));Ux(t,r,n),(!(Zr&2)||t!==ya)&&(t===ya&&(!(Zr&2)&&(rE|=r),ta===4&&Xh(t,$a)),co(t,n),r===1&&Zr===0&&!(e.mode&1)&&(Jg=Li()+500,ZS&&Qf()))}function co(t,e){var r=t.callbackNode;K0e(t,e);var n=i5(t,t===ya?$a:0);if(n===0)r!==null&&IP(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&IP(r),e===1)t.tag===0?jpe(CB.bind(null,t)):nX(CB.bind(null,t)),Wpe(function(){!(Zr&6)&&Qf()}),r=null;else{switch(MY(n)){case 1:r=$D;break;case 4:r=LY;break;case 16:r=n5;break;case 536870912:r=DY;break;default:r=n5}r=rj(r,jX.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function jX(t,e){if(rw=-1,nw=0,Zr&6)throw Error(Dt(327));var r=t.callbackNode;if(Dg()&&t.callbackNode!==r)return null;var n=i5(t,t===ya?$a:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=k5(t,n);else{e=n;var i=Zr;Zr|=2;var a=QX();(ya!==t||$a!==e)&&(Tc=null,Jg=Li()+500,n0(t,e));do try{vge();break}catch(o){KX(t,o)}while(1);ZD(),x5.current=a,Zr=i,Pi!==null?e=0:(ya=null,$a=0,e=ta)}if(e!==0){if(e===2&&(i=IA(t),i!==0&&(n=i,e=l_(t,i))),e===1)throw r=n2,n0(t,0),Xh(t,n),co(t,Li()),r;if(e===6)Xh(t,n);else{if(i=t.current.alternate,!(n&30)&&!pge(i)&&(e=k5(t,n),e===2&&(a=IA(t),a!==0&&(n=a,e=l_(t,a))),e===1))throw r=n2,n0(t,0),Xh(t,n),co(t,Li()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Dt(345));case 2:_d(t,eo,Tc);break;case 3:if(Xh(t,n),(n&130023424)===n&&(e=dR+500-Li(),10<e)){if(i5(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Os(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=VA(_d.bind(null,t,eo,Tc),e);break}_d(t,eo,Tc);break;case 4:if(Xh(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-jl(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=Li()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*dge(n/1960))-n,10<n){t.timeoutHandle=VA(_d.bind(null,t,eo,Tc),n);break}_d(t,eo,Tc);break;case 5:_d(t,eo,Tc);break;default:throw Error(Dt(329))}}}return co(t,Li()),t.callbackNode===r?jX.bind(null,t):null}function l_(t,e){var r=ky;return t.current.memoizedState.isDehydrated&&(n0(t,e).flags|=256),t=k5(t,e),t!==2&&(e=eo,eo=r,e!==null&&u_(e)),t}function u_(t){eo===null?eo=t:eo.push.apply(eo,t)}function pge(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!lu(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xh(t,e){for(e&=~fR,e&=~rE,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-jl(e),n=1<<r;t[r]=-1,e&=~n}}function CB(t){if(Zr&6)throw Error(Dt(327));Dg();var e=i5(t,0);if(!(e&1))return co(t,Li()),null;var r=k5(t,e);if(t.tag!==0&&r===2){var n=IA(t);n!==0&&(e=n,r=l_(t,n))}if(r===1)throw r=n2,n0(t,0),Xh(t,e),co(t,Li()),r;if(r===6)throw Error(Dt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_d(t,eo,Tc),co(t,Li()),null}function pR(t,e){var r=Zr;Zr|=1;try{return t(e)}finally{Zr=r,Zr===0&&(Jg=Li()+500,ZS&&Qf())}}function f0(t){ef!==null&&ef.tag===0&&!(Zr&6)&&Dg();var e=Zr;Zr|=1;var r=vl.transition,n=wn;try{if(vl.transition=null,wn=1,t)return t()}finally{wn=n,vl.transition=r,Zr=e,!(Zr&6)&&Qf()}}function gR(){To=pg.current,qn(pg)}function n0(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Gpe(r)),Pi!==null)for(r=Pi.return;r!==null;){var n=r;switch(jD(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&u5();break;case 3:Qg(),qn(lo),qn(ds),iR();break;case 5:nR(n);break;case 4:Qg();break;case 13:qn(si);break;case 19:qn(si);break;case 10:JD(n.type._context);break;case 22:case 23:gR()}r=r.return}if(ya=t,Pi=t=yf(t.current,null),$a=To=e,ta=0,n2=null,fR=rE=h0=0,eo=ky=null,Gd!==null){for(e=0;e<Gd.length;e++)if(r=Gd[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Gd=null}return t}function KX(t,e){do{var r=Pi;try{if(ZD(),J3.current=y5,m5){for(var n=ui.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}m5=!1}if(c0=0,ga=ji=ui=null,by=!1,e2=0,hR.current=null,r===null||r.return===null){ta=1,n2=e,Pi=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=$a,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=dB(s);if(p!==null){p.flags&=-257,pB(p,s,o,a,e),p.mode&1&&fB(a,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){fB(a,u,e),vR();break e}l=Error(Dt(426))}}else if(ei&&o.mode&1){var x=dB(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),pB(x,s,o,a,e),KD(Zg(l,o));break e}}a=l=Zg(l,o),ta!==4&&(ta=2),ky===null?ky=[a]:ky.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=NX(a,l,e);aB(a,y);break e;case 1:o=l;var w=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(vf===null||!vf.has(k)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=IX(a,o,e);aB(a,E);break e}}a=a.return}while(a!==null)}JX(r)}catch(C){e=C,Pi===r&&r!==null&&(Pi=r=r.return);continue}break}while(1)}function QX(){var t=x5.current;return x5.current=y5,t===null?y5:t}function vR(){(ta===0||ta===3||ta===2)&&(ta=4),ya===null||!(h0&268435455)&&!(rE&268435455)||Xh(ya,$a)}function k5(t,e){var r=Zr;Zr|=2;var n=QX();(ya!==t||$a!==e)&&(Tc=null,n0(t,e));do try{gge();break}catch(i){KX(t,i)}while(1);if(ZD(),Zr=r,x5.current=n,Pi!==null)throw Error(Dt(261));return ya=null,$a=0,ta}function gge(){for(;Pi!==null;)ZX(Pi)}function vge(){for(;Pi!==null&&!H0e();)ZX(Pi)}function ZX(t){var e=tj(t.alternate,t,To);t.memoizedProps=t.pendingProps,e===null?JX(t):Pi=e,hR.current=null}function JX(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=uge(r,e),r!==null){r.flags&=32767,Pi=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ta=6,Pi=null;return}}else if(r=lge(r,e,To),r!==null){Pi=r;return}if(e=e.sibling,e!==null){Pi=e;return}Pi=e=t}while(e!==null);ta===0&&(ta=5)}function _d(t,e,r){var n=wn,i=vl.transition;try{vl.transition=null,wn=1,mge(t,e,r,n)}finally{vl.transition=i,wn=n}return null}function mge(t,e,r,n){do Dg();while(ef!==null);if(Zr&6)throw Error(Dt(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Dt(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Q0e(t,a),t===ya&&(Pi=ya=null,$a=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||O4||(O4=!0,rj(n5,function(){return Dg(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=vl.transition,vl.transition=null;var s=wn;wn=1;var o=Zr;Zr|=4,hR.current=null,hge(t,r),YX(r,t),Ppe(zA),a5=!!$A,zA=$A=null,t.current=r,fge(r),V0e(),Zr=o,wn=s,vl.transition=a}else t.current=r;if(O4&&(O4=!1,ef=t,w5=i),a=t.pendingLanes,a===0&&(vf=null),W0e(r.stateNode),co(t,Li()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(b5)throw b5=!1,t=s_,s_=null,t;return w5&1&&t.tag!==0&&Dg(),a=t.pendingLanes,a&1?t===o_?Sy++:(Sy=0,o_=t):Sy=0,Qf(),null}function Dg(){if(ef!==null){var t=MY(w5),e=vl.transition,r=wn;try{if(vl.transition=null,wn=16>t?16:t,ef===null)var n=!1;else{if(t=ef,ef=null,w5=0,Zr&6)throw Error(Dt(331));var i=Zr;for(Zr|=4,Kt=t.current;Kt!==null;){var a=Kt,s=a.child;if(Kt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Kt=u;Kt!==null;){var h=Kt;switch(h.tag){case 0:case 11:case 15:wy(8,h,a)}var f=h.child;if(f!==null)f.return=h,Kt=f;else for(;Kt!==null;){h=Kt;var d=h.sibling,p=h.return;if(GX(h),h===u){Kt=null;break}if(d!==null){d.return=p,Kt=d;break}Kt=p}}}var v=a.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}Kt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Kt=s;else e:for(;Kt!==null;){if(a=Kt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:wy(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Kt=y;break e}Kt=a.return}}var w=t.current;for(Kt=w;Kt!==null;){s=Kt;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,Kt=k;else e:for(s=w;Kt!==null;){if(o=Kt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:tE(9,o)}}catch(C){gi(o,o.return,C)}if(o===s){Kt=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Kt=E;break e}Kt=o.return}}if(Zr=i,Qf(),Vu&&typeof Vu.onPostCommitFiberRoot=="function")try{Vu.onPostCommitFiberRoot(YS,t)}catch{}n=!0}return n}finally{wn=r,vl.transition=e}}return!1}function AB(t,e,r){e=Zg(r,e),e=NX(t,e,1),t=gf(t,e,1),e=Os(),t!==null&&(Ux(t,1,e),co(t,e))}function gi(t,e,r){if(t.tag===3)AB(t,t,r);else for(;e!==null;){if(e.tag===3){AB(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vf===null||!vf.has(n))){t=Zg(r,t),t=IX(e,t,1),e=gf(e,t,1),t=Os(),e!==null&&(Ux(e,1,t),co(e,t));break}}e=e.return}}function yge(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Os(),t.pingedLanes|=t.suspendedLanes&r,ya===t&&($a&r)===r&&(ta===4||ta===3&&($a&130023424)===$a&&500>Li()-dR?n0(t,0):fR|=r),co(t,e)}function ej(t,e){e===0&&(t.mode&1?(e=T4,T4<<=1,!(T4&130023424)&&(T4=4194304)):e=1);var r=Os();t=jc(t,e),t!==null&&(Ux(t,e,r),co(t,r))}function xge(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ej(t,r)}function bge(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Dt(314))}n!==null&&n.delete(e),ej(t,r)}var tj;tj=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||lo.current)oo=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return oo=!1,oge(t,e,r);oo=!!(t.flags&131072)}else oo=!1,ei&&e.flags&1048576&&iX(e,f5,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;tw(t,e),t=e.pendingProps;var i=Xg(e,ds.current);Lg(e,r),i=sR(null,e,n,t,i,r);var a=oR();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,uo(n)?(a=!0,c5(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tR(e),i.updater=JS,e.stateNode=i,i._reactInternals=e,jA(e,n,t,r),e=ZA(null,e,n,!0,a,r)):(e.tag=0,ei&&a&&XD(e),Ds(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(tw(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=kge(n),t=$l(n,t),i){case 0:e=QA(null,e,n,t,r);break e;case 1:e=mB(null,e,n,t,r);break e;case 11:e=gB(null,e,n,t,r);break e;case 14:e=vB(null,e,n,$l(n.type,t),r);break e}throw Error(Dt(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$l(n,i),QA(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$l(n,i),mB(t,e,n,i,r);case 3:e:{if(BX(e),t===null)throw Error(Dt(387));n=e.pendingProps,a=e.memoizedState,i=a.element,lX(t,e),g5(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Zg(Error(Dt(423)),e),e=yB(t,e,n,r,i);break e}else if(n!==i){i=Zg(Error(Dt(424)),e),e=yB(t,e,n,r,i);break e}else for(Ro=pf(e.stateNode.containerInfo.firstChild),Oo=e,ei=!0,Gl=null,r=fX(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jg(),n===i){e=Kc(t,e,r);break e}Ds(t,e,n,r)}e=e.child}return e;case 5:return dX(e),t===null&&qA(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,HA(n,i)?s=null:a!==null&&HA(n,a)&&(e.flags|=32),PX(t,e),Ds(t,e,s,r),e.child;case 6:return t===null&&qA(e),null;case 13:return $X(t,e,r);case 4:return rR(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Kg(e,null,n,r):Ds(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$l(n,i),gB(t,e,n,i,r);case 7:return Ds(t,e,e.pendingProps,r),e.child;case 8:return Ds(t,e,e.pendingProps.children,r),e.child;case 12:return Ds(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Fn(d5,n._currentValue),n._currentValue=s,a!==null)if(lu(a.value,s)){if(a.children===i.children&&!lo.current){e=Kc(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=$c(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),YA(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Dt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),YA(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ds(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Lg(e,r),i=yl(i),n=n(i),e.flags|=1,Ds(t,e,n,r),e.child;case 14:return n=e.type,i=$l(n,e.pendingProps),i=$l(n.type,i),vB(t,e,n,i,r);case 15:return OX(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$l(n,i),tw(t,e),e.tag=1,uo(n)?(t=!0,c5(e)):t=!1,Lg(e,r),cX(e,n,i),jA(e,n,i,r),ZA(null,e,n,!0,t,r);case 19:return zX(t,e,r);case 22:return FX(t,e,r)}throw Error(Dt(156,e.tag))};function rj(t,e){return _Y(t,e)}function wge(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hl(t,e,r,n){return new wge(t,e,r,n)}function mR(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kge(t){if(typeof t=="function")return mR(t)?1:0;if(t!=null){if(t=t.$$typeof,t===FD)return 11;if(t===PD)return 14}return 2}function yf(t,e){var r=t.alternate;return r===null?(r=hl(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function iw(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")mR(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ig:return i0(r.children,i,a,e);case OD:s=8,i|=8;break;case xA:return t=hl(12,r,e,i|2),t.elementType=xA,t.lanes=a,t;case bA:return t=hl(13,r,e,i),t.elementType=bA,t.lanes=a,t;case wA:return t=hl(19,r,e,i),t.elementType=wA,t.lanes=a,t;case hY:return nE(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uY:s=10;break e;case cY:s=9;break e;case FD:s=11;break e;case PD:s=14;break e;case Uh:s=16,n=null;break e}throw Error(Dt(130,t==null?t:typeof t,""))}return e=hl(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function i0(t,e,r,n){return t=hl(7,t,n,e),t.lanes=r,t}function nE(t,e,r,n){return t=hl(22,t,n,e),t.elementType=hY,t.lanes=r,t.stateNode={isHidden:!1},t}function OC(t,e,r){return t=hl(6,t,null,e),t.lanes=r,t}function FC(t,e,r){return e=hl(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sge(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vC(0),this.expirationTimes=vC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vC(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yR(t,e,r,n,i,a,s,o,l){return t=new Sge(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=hl(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},tR(a),t}function Ege(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ng,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function nj(t){if(!t)return Cf;t=t._reactInternals;e:{if(X0(t)!==t||t.tag!==1)throw Error(Dt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(uo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Dt(171))}if(t.tag===1){var r=t.type;if(uo(r))return rX(t,r,e)}return e}function ij(t,e,r,n,i,a,s,o,l){return t=yR(r,n,!0,t,i,a,s,o,l),t.context=nj(null),r=t.current,n=Os(),i=mf(r),a=$c(n,i),a.callback=e??null,gf(r,a,i),t.current.lanes=i,Ux(t,i,n),co(t,n),t}function iE(t,e,r,n){var i=e.current,a=Os(),s=mf(i);return r=nj(r),e.context===null?e.context=r:e.pendingContext=r,e=$c(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=gf(i,e,s),t!==null&&(Kl(t,i,s,a),Z3(t,i,s)),s}function S5(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _B(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function xR(t,e){_B(t,e),(t=t.alternate)&&_B(t,e)}function Tge(){return null}var aj=typeof reportError=="function"?reportError:function(t){console.error(t)};function bR(t){this._internalRoot=t}aE.prototype.render=bR.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Dt(409));iE(t,e,null,null)};aE.prototype.unmount=bR.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;f0(function(){iE(null,t,null,null)}),e[Xc]=null}};function aE(t){this._internalRoot=t}aE.prototype.unstable_scheduleHydration=function(t){if(t){var e=OY();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Yh.length&&e!==0&&e<Yh[r].priority;r++);Yh.splice(r,0,t),r===0&&PY(t)}};function wR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LB(){}function Cge(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=S5(s);a.call(u)}}var s=ij(e,n,t,0,null,!1,!1,"",LB);return t._reactRootContainer=s,t[Xc]=s.current,jy(t.nodeType===8?t.parentNode:t),f0(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=S5(l);o.call(u)}}var l=yR(t,0,!1,null,null,!1,!1,"",LB);return t._reactRootContainer=l,t[Xc]=l.current,jy(t.nodeType===8?t.parentNode:t),f0(function(){iE(e,l,r,n)}),l}function oE(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=S5(s);o.call(l)}}iE(e,s,t,i)}else s=Cge(r,e,t,i,n);return S5(s)}NY=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Gm(e.pendingLanes);r!==0&&(zD(e,r|1),co(e,Li()),!(Zr&6)&&(Jg=Li()+500,Qf()))}break;case 13:f0(function(){var n=jc(t,1);if(n!==null){var i=Os();Kl(n,t,1,i)}}),xR(t,1)}};HD=function(t){if(t.tag===13){var e=jc(t,134217728);if(e!==null){var r=Os();Kl(e,t,134217728,r)}xR(t,134217728)}};IY=function(t){if(t.tag===13){var e=mf(t),r=jc(t,e);if(r!==null){var n=Os();Kl(r,t,e,n)}xR(t,e)}};OY=function(){return wn};FY=function(t,e){var r=wn;try{return wn=t,e()}finally{wn=r}};RA=function(t,e,r){switch(e){case"input":if(EA(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=QS(n);if(!i)throw Error(Dt(90));dY(n),EA(n,i)}}}break;case"textarea":gY(t,r);break;case"select":e=r.value,e!=null&&Tg(t,!!r.multiple,e,!1)}};kY=pR;SY=f0;var Age={usingClientEntryPoint:!1,Events:[Wx,lg,QS,bY,wY,pR]},cm={findFiberByHostInstance:Ud,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_ge={bundleType:cm.bundleType,version:cm.version,rendererPackageName:cm.rendererPackageName,rendererConfig:cm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dh.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CY(t),t===null?null:t.stateNode},findFiberByHostInstance:cm.findFiberByHostInstance||Tge,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var F4=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!F4.isDisabled&&F4.supportsFiber)try{YS=F4.inject(_ge),Vu=F4}catch{}}Go.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Age;Go.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wR(e))throw Error(Dt(200));return Ege(t,e,null,r)};Go.createRoot=function(t,e){if(!wR(t))throw Error(Dt(299));var r=!1,n="",i=aj;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yR(t,1,!1,null,null,r,!1,n,i),t[Xc]=e.current,jy(t.nodeType===8?t.parentNode:t),new bR(e)};Go.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Dt(188)):(t=Object.keys(t).join(","),Error(Dt(268,t)));return t=CY(e),t=t===null?null:t.stateNode,t};Go.flushSync=function(t){return f0(t)};Go.hydrate=function(t,e,r){if(!sE(e))throw Error(Dt(200));return oE(null,t,e,!0,r)};Go.hydrateRoot=function(t,e,r){if(!wR(t))throw Error(Dt(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=aj;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=ij(e,null,t,1,r??null,i,!1,a,s),t[Xc]=e.current,jy(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new aE(e)};Go.render=function(t,e,r){if(!sE(e))throw Error(Dt(200));return oE(null,t,e,!1,r)};Go.unmountComponentAtNode=function(t){if(!sE(t))throw Error(Dt(40));return t._reactRootContainer?(f0(function(){oE(null,null,t,!1,function(){t._reactRootContainer=null,t[Xc]=null})}),!0):!1};Go.unstable_batchedUpdates=pR;Go.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!sE(r))throw Error(Dt(200));if(t==null||t._reactInternals===void 0)throw Error(Dt(38));return oE(t,e,r,!1,n)};Go.version="18.2.0-next-9e3b772b8-20220608";function sj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sj)}catch(t){console.error(t)}}sj(),iY.exports=Go;var oj=iY.exports;const Lge=fh(oj);var DB=oj;mA.createRoot=DB.createRoot,mA.hydrateRoot=DB.hydrateRoot;const Dge=typeof window<"u"?Ct.useInsertionEffect||Ct.useLayoutEffect:()=>{};function Jt(t){const e=Ct.useRef(Rge);Dge(()=>{e.current=t},[t]);const r=Ct.useRef(null);return r.current||(r.current=function(){return e.current.apply(this,arguments)}),r.current}function Rge(){throw new Error("INVALID_USEEVENT_INVOCATION: the callback from useEvent cannot be invoked before the component has mounted.")}var Yx=t=>t.type==="checkbox",gg=t=>t instanceof Date,Rs=t=>t==null;const lj=t=>typeof t=="object";var ia=t=>!Rs(t)&&!Array.isArray(t)&&lj(t)&&!gg(t),Mge=t=>ia(t)&&t.target?Yx(t.target)?t.target.checked:t.target.value:t,Nge=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Ige=(t,e)=>t.has(Nge(e)),Oge=t=>{const e=t.constructor&&t.constructor.prototype;return ia(e)&&e.hasOwnProperty("isPrototypeOf")},kR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ks(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(kR&&(t instanceof Blob||t instanceof FileList))&&(r||ia(t)))if(e=r?[]:{},!r&&!Oge(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Ks(t[n]));else return t;return e}var q1=t=>Array.isArray(t)?t.filter(Boolean):[],Jn=t=>t===void 0,er=(t,e,r)=>{if(!e||!ia(t))return r;const n=q1(e.split(/[,[\].]+?/)).reduce((i,a)=>Rs(i)?i:i[a],t);return Jn(n)||n===t?Jn(t[e])?r:t[e]:n};const RB={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ul={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},gc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Fge=Ct.createContext(null),uj=()=>Ct.useContext(Fge);var Pge=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==ul.all&&(e._proxyFormState[s]=!n||ul.all),r&&(r[s]=!0),t[s]}});return i},Co=t=>ia(t)&&!Object.keys(t).length,Bge=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Co(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!n||ul.all))},Mo=t=>Array.isArray(t)?t:[t],$ge=(t,e,r)=>r&&e?t===e:!t||!e||t===e||Mo(t).some(n=>n&&(n.startsWith(e)||e.startsWith(n)));function SR(t){const e=Ct.useRef(t);e.current=t,Ct.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var Iu=t=>typeof t=="string",cj=(t,e,r,n,i)=>Iu(t)?(n&&e.watch.add(t),er(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),er(r,a))):(n&&(e.watchAll=!0),r);function PC(t){const e=uj(),{control:r=e.control,name:n,defaultValue:i,disabled:a,exact:s}=t||{},o=Ct.useRef(n);o.current=n,SR({disabled:a,subject:r._subjects.values,next:h=>{$ge(o.current,h.name,s)&&u(Ks(cj(o.current,r._names,h.values||r._formValues,!1,i)))}});const[l,u]=Ct.useState(r._getWatch(n,i));return Ct.useEffect(()=>r._removeUnmounted()),l}var ER=t=>/^\w*$/.test(t),hj=t=>q1(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Un(t,e,r){let n=-1;const i=ER(e)?[e]:hj(e),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let l=r;if(n!==s){const u=t[o];l=ia(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}t[o]=l,t=t[o]}return t}var zge=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{};const E5=(t,e,r)=>{for(const n of r||Object.keys(t)){const i=er(t,n);if(i){const{_f:a,...s}=i;if(a&&e(a.name)){if(a.ref.focus){a.ref.focus();break}else if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else ia(s)&&E5(s,e)}}};var Mh=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},BC=(t,e,r={})=>r.shouldFocus||Jn(r.shouldFocus)?r.focusName||`${t}.${Jn(r.focusIndex)?e:r.focusIndex}.`:"",c_=t=>({isOnSubmit:!t||t===ul.onSubmit,isOnBlur:t===ul.onBlur,isOnChange:t===ul.onChange,isOnAll:t===ul.all,isOnTouch:t===ul.onTouched}),h_=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length)))),fj=(t,e,r)=>{const n=q1(er(t,r));return Un(n,"root",e[r]),Un(t,r,n),t},Rg=t=>typeof t=="boolean",TR=t=>t.type==="file",tf=t=>typeof t=="function",T5=t=>{if(!kR)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},aw=t=>Iu(t),CR=t=>t.type==="radio",C5=t=>t instanceof RegExp;const MB={value:!1,isValid:!1},NB={value:!0,isValid:!0};var dj=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Jn(t[0].attributes.value)?Jn(t[0].value)||t[0].value===""?NB:{value:t[0].value,isValid:!0}:NB:MB}return MB};const IB={isValid:!1,value:null};var pj=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,IB):IB;function OB(t,e,r="validate"){if(aw(t)||Array.isArray(t)&&t.every(aw)||Rg(t)&&!t)return{type:r,message:aw(t)?t:"",ref:e}}var zp=t=>ia(t)&&!C5(t)?t:{value:t,message:""},f_=async(t,e,r,n,i)=>{const{ref:a,refs:s,required:o,maxLength:l,minLength:u,min:h,max:f,pattern:d,validate:p,name:v,valueAsNumber:m,mount:x,disabled:y}=t._f,w=er(e,v);if(!x||y)return{};const k=s?s[0]:a,E=z=>{n&&k.reportValidity&&(k.setCustomValidity(Rg(z)?"":z||""),k.reportValidity())},C={},L=CR(a),_=Yx(a),I=L||_,M=(m||TR(a))&&Jn(a.value)&&Jn(w)||T5(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,F=zge.bind(null,v,r,C),N=(z,V,D,O=gc.maxLength,P=gc.minLength)=>{const $=z?V:D;C[v]={type:z?O:P,message:$,ref:a,...F(z?O:P,$)}};if(i?!Array.isArray(w)||!w.length:o&&(!I&&(M||Rs(w))||Rg(w)&&!w||_&&!dj(s).isValid||L&&!pj(s).isValid)){const{value:z,message:V}=aw(o)?{value:!!o,message:o}:zp(o);if(z&&(C[v]={type:gc.required,message:V,ref:k,...F(gc.required,V)},!r))return E(V),C}if(!M&&(!Rs(h)||!Rs(f))){let z,V;const D=zp(f),O=zp(h);if(!Rs(w)&&!isNaN(w)){const P=a.valueAsNumber||w&&+w;Rs(D.value)||(z=P>D.value),Rs(O.value)||(V=P<O.value)}else{const P=a.valueAsDate||new Date(w),$=X=>new Date(new Date().toDateString()+" "+X),B=a.type=="time",H=a.type=="week";Iu(D.value)&&w&&(z=B?$(w)>$(D.value):H?w>D.value:P>new Date(D.value)),Iu(O.value)&&w&&(V=B?$(w)<$(O.value):H?w<O.value:P<new Date(O.value))}if((z||V)&&(N(!!z,D.message,O.message,gc.max,gc.min),!r))return E(C[v].message),C}if((l||u)&&!M&&(Iu(w)||i&&Array.isArray(w))){const z=zp(l),V=zp(u),D=!Rs(z.value)&&w.length>+z.value,O=!Rs(V.value)&&w.length<+V.value;if((D||O)&&(N(D,z.message,V.message),!r))return E(C[v].message),C}if(d&&!M&&Iu(w)){const{value:z,message:V}=zp(d);if(C5(z)&&!w.match(z)&&(C[v]={type:gc.pattern,message:V,ref:a,...F(gc.pattern,V)},!r))return E(V),C}if(p){if(tf(p)){const z=await p(w,e),V=OB(z,k);if(V&&(C[v]={...V,...F(gc.validate,V.message)},!r))return E(V.message),C}else if(ia(p)){let z={};for(const V in p){if(!Co(z)&&!r)break;const D=OB(await p[V](w,e),k,V);D&&(z={...D,...F(V,D.message)},E(D.message),r&&(C[v]=z))}if(!Co(z)&&(C[v]={ref:k,...z},!r))return C}}return E(!0),C};function $C(t,e){return[...t,...Mo(e)]}var zC=t=>Array.isArray(t)?t.map(()=>{}):void 0;function HC(t,e,r){return[...t.slice(0,e),...Mo(r),...t.slice(e)]}var VC=(t,e,r)=>Array.isArray(t)?(Jn(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[];function UC(t,e){return[...Mo(e),...Mo(t)]}function Hge(t,e){let r=0;const n=[...t];for(const i of e)n.splice(i-r,1),r++;return q1(n).length?n:[]}var GC=(t,e)=>Jn(e)?[]:Hge(t,Mo(e).sort((r,n)=>r-n)),WC=(t,e,r)=>{t[e]=[t[r],t[r]=t[e]][0]};function Vge(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Jn(t)?n++:t[e[n++]];return t}function Uge(t){for(const e in t)if(t.hasOwnProperty(e)&&!Jn(t[e]))return!1;return!0}function da(t,e){const r=Array.isArray(e)?e:ER(e)?[e]:hj(e),n=r.length===1?t:Vge(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(ia(n)&&Co(n)||Array.isArray(n)&&Uge(n))&&da(t,r.slice(0,-1)),t}var FB=(t,e,r)=>(t[e]=r,t);function Gge(t){const e=uj(),{control:r=e.control,name:n,keyName:i="id",shouldUnregister:a}=t,[s,o]=Ct.useState(r._getFieldArray(n)),l=Ct.useRef(r._getFieldArray(n).map(Mh)),u=Ct.useRef(s),h=Ct.useRef(n),f=Ct.useRef(!1);h.current=n,u.current=s,r._names.array.add(n),t.rules&&r.register(n,t.rules),SR({next:({values:C,name:L})=>{if(L===h.current||!L){const _=er(C,h.current);Array.isArray(_)&&(o(_),l.current=_.map(Mh))}},subject:r._subjects.array});const d=Ct.useCallback(C=>{f.current=!0,r._updateFieldArray(n,C)},[r,n]),p=(C,L)=>{const _=Mo(Ks(C)),I=$C(r._getFieldArray(n),_);r._names.focus=BC(n,I.length-1,L),l.current=$C(l.current,_.map(Mh)),d(I),o(I),r._updateFieldArray(n,I,$C,{argA:zC(C)})},v=(C,L)=>{const _=Mo(Ks(C)),I=UC(r._getFieldArray(n),_);r._names.focus=BC(n,0,L),l.current=UC(l.current,_.map(Mh)),d(I),o(I),r._updateFieldArray(n,I,UC,{argA:zC(C)})},m=C=>{const L=GC(r._getFieldArray(n),C);l.current=GC(l.current,C),d(L),o(L),r._updateFieldArray(n,L,GC,{argA:C})},x=(C,L,_)=>{const I=Mo(Ks(L)),M=HC(r._getFieldArray(n),C,I);r._names.focus=BC(n,C,_),l.current=HC(l.current,C,I.map(Mh)),d(M),o(M),r._updateFieldArray(n,M,HC,{argA:C,argB:zC(L)})},y=(C,L)=>{const _=r._getFieldArray(n);WC(_,C,L),WC(l.current,C,L),d(_),o(_),r._updateFieldArray(n,_,WC,{argA:C,argB:L},!1)},w=(C,L)=>{const _=r._getFieldArray(n);VC(_,C,L),VC(l.current,C,L),d(_),o(_),r._updateFieldArray(n,_,VC,{argA:C,argB:L},!1)},k=(C,L)=>{const _=Ks(L),I=FB(r._getFieldArray(n),C,_);l.current=[...I].map((M,F)=>!M||F===C?Mh():l.current[F]),d(I),o([...I]),r._updateFieldArray(n,I,FB,{argA:C,argB:_},!0,!1)},E=C=>{const L=Mo(Ks(C));l.current=L.map(Mh),d([...L]),o([...L]),r._updateFieldArray(n,[...L],_=>_,{},!0,!1)};return Ct.useEffect(()=>{if(r._state.action=!1,h_(n,r._names)&&r._subjects.state.next({...r._formState}),f.current&&(!c_(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then(C=>{const L=er(C.errors,n),_=er(r._formState.errors,n);(_?!L&&_.type||L&&(_.type!==L.type||_.message!==L.message):L&&L.type)&&(L?Un(r._formState.errors,n,L):da(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const C=er(r._fields,n);C&&C._f&&f_(C,r._formValues,r._options.criteriaMode===ul.all,r._options.shouldUseNativeValidation,!0).then(L=>!Co(L)&&r._subjects.state.next({errors:fj(r._formState.errors,L,n)}))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&E5(r._fields,C=>!!C&&C.startsWith(r._names.focus||"")),r._names.focus="",r._updateValid(),f.current=!1},[s,n,r]),Ct.useEffect(()=>(!er(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||a)&&r.unregister(n)}),[n,r,i,a]),{swap:Ct.useCallback(y,[d,n,r]),move:Ct.useCallback(w,[d,n,r]),prepend:Ct.useCallback(v,[d,n,r]),append:Ct.useCallback(p,[d,n,r]),remove:Ct.useCallback(m,[d,n,r]),insert:Ct.useCallback(x,[d,n,r]),update:Ct.useCallback(k,[d,n,r]),replace:Ct.useCallback(E,[d,n,r]),fields:Ct.useMemo(()=>s.map((C,L)=>({...C,[i]:l.current[L]||Mh()})),[s,i])}}function qC(){let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}}var A5=t=>Rs(t)||!lj(t);function qd(t,e){if(A5(t)||A5(e))return t===e;if(gg(t)&&gg(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const s=e[i];if(gg(a)&&gg(s)||ia(a)&&ia(s)||Array.isArray(a)&&Array.isArray(s)?!qd(a,s):a!==s)return!1}}return!0}var gj=t=>t.type==="select-multiple",Wge=t=>CR(t)||Yx(t),YC=t=>T5(t)&&t.isConnected,vj=t=>{for(const e in t)if(tf(t[e]))return!0;return!1};function _5(t,e={}){const r=Array.isArray(t);if(ia(t)||r)for(const n in t)Array.isArray(t[n])||ia(t[n])&&!vj(t[n])?(e[n]=Array.isArray(t[n])?[]:{},_5(t[n],e[n])):Rs(t[n])||(e[n]=!0);return e}function mj(t,e,r){const n=Array.isArray(t);if(ia(t)||n)for(const i in t)Array.isArray(t[i])||ia(t[i])&&!vj(t[i])?Jn(e)||A5(r[i])?r[i]=Array.isArray(t[i])?_5(t[i],[]):{..._5(t[i])}:mj(t[i],Rs(e)?{}:e[i],r[i]):r[i]=!qd(t[i],e[i]);return r}var XC=(t,e)=>mj(t,e,_5(e)),yj=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Jn(t)?t:e?t===""?NaN:t&&+t:r&&Iu(t)?new Date(t):n?n(t):t;function jC(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return TR(e)?e.files:CR(e)?pj(t.refs).value:gj(e)?[...e.selectedOptions].map(({value:r})=>r):Yx(e)?dj(t.refs).value:yj(Jn(e.value)?t.ref.value:e.value,t)}var qge=(t,e,r,n)=>{const i={};for(const a of t){const s=er(e,a);s&&Un(i,a,s._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},hm=t=>Jn(t)?t:C5(t)?t.source:ia(t)?C5(t.value)?t.value.source:t.value:t,Yge=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function PB(t,e,r){const n=er(t,r);if(n||ER(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=er(e,a),o=er(t,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};i.pop()}return{name:r}}var Xge=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,jge=(t,e)=>!q1(er(t,e)).length&&da(t,e);const Kge={mode:ul.onSubmit,reValidateMode:ul.onChange,shouldFocusError:!0};function Qge(t={},e){let r={...Kge,...t},n={submitCount:0,isDirty:!1,isLoading:tf(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},a=ia(r.defaultValues)||ia(r.values)?Ks(r.defaultValues||r.values)||{}:{},s=r.shouldUnregister?{}:Ks(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,h=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:qC(),array:qC(),state:qC()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,v=c_(r.mode),m=c_(r.reValidateMode),x=r.criteriaMode===ul.all,y=be=>oe=>{clearTimeout(h),h=setTimeout(be,oe)},w=async be=>{if(f.isValid||be){const oe=r.resolver?Co((await M()).errors):await N(i,!0);oe!==n.isValid&&d.state.next({isValid:oe})}},k=be=>f.isValidating&&d.state.next({isValidating:be}),E=(be,oe=[],we,Re,Pe=!0,Ge=!0)=>{if(Re&&we){if(o.action=!0,Ge&&Array.isArray(er(i,be))){const je=we(er(i,be),Re.argA,Re.argB);Pe&&Un(i,be,je)}if(Ge&&Array.isArray(er(n.errors,be))){const je=we(er(n.errors,be),Re.argA,Re.argB);Pe&&Un(n.errors,be,je),jge(n.errors,be)}if(f.touchedFields&&Ge&&Array.isArray(er(n.touchedFields,be))){const je=we(er(n.touchedFields,be),Re.argA,Re.argB);Pe&&Un(n.touchedFields,be,je)}f.dirtyFields&&(n.dirtyFields=XC(a,s)),d.state.next({name:be,isDirty:V(be,oe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Un(s,be,oe)},C=(be,oe)=>{Un(n.errors,be,oe),d.state.next({errors:n.errors})},L=(be,oe,we,Re)=>{const Pe=er(i,be);if(Pe){const Ge=er(s,be,Jn(we)?er(a,be):we);Jn(Ge)||Re&&Re.defaultChecked||oe?Un(s,be,oe?Ge:jC(Pe._f)):P(be,Ge),o.mount&&w()}},_=(be,oe,we,Re,Pe)=>{let Ge=!1,je=!1;const We={name:be};if(!we||Re){f.isDirty&&(je=n.isDirty,n.isDirty=We.isDirty=V(),Ge=je!==We.isDirty);const me=qd(er(a,be),oe);je=er(n.dirtyFields,be),me?da(n.dirtyFields,be):Un(n.dirtyFields,be,!0),We.dirtyFields=n.dirtyFields,Ge=Ge||f.dirtyFields&&je!==!me}if(we){const me=er(n.touchedFields,be);me||(Un(n.touchedFields,be,we),We.touchedFields=n.touchedFields,Ge=Ge||f.touchedFields&&me!==we)}return Ge&&Pe&&d.state.next(We),Ge?We:{}},I=(be,oe,we,Re)=>{const Pe=er(n.errors,be),Ge=f.isValid&&Rg(oe)&&n.isValid!==oe;if(t.delayError&&we?(u=y(()=>C(be,we)),u(t.delayError)):(clearTimeout(h),u=null,we?Un(n.errors,be,we):da(n.errors,be)),(we?!qd(Pe,we):Pe)||!Co(Re)||Ge){const je={...Re,...Ge&&Rg(oe)?{isValid:oe}:{},errors:n.errors,name:be};n={...n,...je},d.state.next(je)}k(!1)},M=async be=>r.resolver(s,r.context,qge(be||l.mount,i,r.criteriaMode,r.shouldUseNativeValidation)),F=async be=>{const{errors:oe}=await M();if(be)for(const we of be){const Re=er(oe,we);Re?Un(n.errors,we,Re):da(n.errors,we)}else n.errors=oe;return oe},N=async(be,oe,we={valid:!0})=>{for(const Re in be){const Pe=be[Re];if(Pe){const{_f:Ge,...je}=Pe;if(Ge){const We=l.array.has(Ge.name),me=await f_(Pe,s,x,r.shouldUseNativeValidation&&!oe,We);if(me[Ge.name]&&(we.valid=!1,oe))break;!oe&&(er(me,Ge.name)?We?fj(n.errors,me,Ge.name):Un(n.errors,Ge.name,me[Ge.name]):da(n.errors,Ge.name))}je&&await N(je,oe,we)}}return we.valid},z=()=>{for(const be of l.unMount){const oe=er(i,be);oe&&(oe._f.refs?oe._f.refs.every(we=>!YC(we)):!YC(oe._f.ref))&&re(be)}l.unMount=new Set},V=(be,oe)=>(be&&oe&&Un(s,be,oe),!qd(q(),a)),D=(be,oe,we)=>cj(be,l,{...o.mount?s:Jn(oe)?a:Iu(be)?{[be]:oe}:oe},we,oe),O=be=>q1(er(o.mount?s:a,be,t.shouldUnregister?er(a,be,[]):[])),P=(be,oe,we={})=>{const Re=er(i,be);let Pe=oe;if(Re){const Ge=Re._f;Ge&&(!Ge.disabled&&Un(s,be,yj(oe,Ge)),Pe=T5(Ge.ref)&&Rs(oe)?"":oe,gj(Ge.ref)?[...Ge.ref.options].forEach(je=>je.selected=Pe.includes(je.value)):Ge.refs?Yx(Ge.ref)?Ge.refs.length>1?Ge.refs.forEach(je=>(!je.defaultChecked||!je.disabled)&&(je.checked=Array.isArray(Pe)?!!Pe.find(We=>We===je.value):Pe===je.value)):Ge.refs[0]&&(Ge.refs[0].checked=!!Pe):Ge.refs.forEach(je=>je.checked=je.value===Pe):TR(Ge.ref)?Ge.ref.value="":(Ge.ref.value=Pe,Ge.ref.type||d.values.next({name:be,values:{...s}})))}(we.shouldDirty||we.shouldTouch)&&_(be,Pe,we.shouldTouch,we.shouldDirty,!0),we.shouldValidate&&X(be)},$=(be,oe,we)=>{for(const Re in oe){const Pe=oe[Re],Ge=`${be}.${Re}`,je=er(i,Ge);(l.array.has(be)||!A5(Pe)||je&&!je._f)&&!gg(Pe)?$(Ge,Pe,we):P(Ge,Pe,we)}},B=(be,oe,we={})=>{const Re=er(i,be),Pe=l.array.has(be),Ge=Ks(oe);Un(s,be,Ge),Pe?(d.array.next({name:be,values:{...s}}),(f.isDirty||f.dirtyFields)&&we.shouldDirty&&d.state.next({name:be,dirtyFields:XC(a,s),isDirty:V(be,Ge)})):Re&&!Re._f&&!Rs(Ge)?$(be,Ge,we):P(be,Ge,we),h_(be,l)&&d.state.next({...n}),d.values.next({name:be,values:{...s}}),!o.mount&&e()},H=async be=>{const oe=be.target;let we=oe.name,Re=!0;const Pe=er(i,we),Ge=()=>oe.type?jC(Pe._f):Mge(be);if(Pe){let je,We;const me=Ge(),Te=be.type===RB.BLUR||be.type===RB.FOCUS_OUT,fe=!Yge(Pe._f)&&!r.resolver&&!er(n.errors,we)&&!Pe._f.deps||Xge(Te,er(n.touchedFields,we),n.isSubmitted,m,v),W=h_(we,l,Te);Un(s,we,me),Te?(Pe._f.onBlur&&Pe._f.onBlur(be),u&&u(0)):Pe._f.onChange&&Pe._f.onChange(be);const j=_(we,me,Te,!1),ie=!Co(j)||W;if(!Te&&d.values.next({name:we,type:be.type,values:{...s}}),fe)return f.isValid&&w(),ie&&d.state.next({name:we,...W?{}:j});if(!Te&&W&&d.state.next({...n}),k(!0),r.resolver){const{errors:ee}=await M([we]),le=PB(n.errors,i,we),_e=PB(ee,i,le.name||we);je=_e.error,we=_e.name,We=Co(ee)}else je=(await f_(Pe,s,x,r.shouldUseNativeValidation))[we],Re=isNaN(me)||me===er(s,we,me),Re&&(je?We=!1:f.isValid&&(We=await N(i,!0)));Re&&(Pe._f.deps&&X(Pe._f.deps),I(we,We,je,j))}},X=async(be,oe={})=>{let we,Re;const Pe=Mo(be);if(k(!0),r.resolver){const Ge=await F(Jn(be)?be:Pe);we=Co(Ge),Re=be?!Pe.some(je=>er(Ge,je)):we}else be?(Re=(await Promise.all(Pe.map(async Ge=>{const je=er(i,Ge);return await N(je&&je._f?{[Ge]:je}:je)}))).every(Boolean),!(!Re&&!n.isValid)&&w()):Re=we=await N(i);return d.state.next({...!Iu(be)||f.isValid&&we!==n.isValid?{}:{name:be},...r.resolver||!be?{isValid:we}:{},errors:n.errors,isValidating:!1}),oe.shouldFocus&&!Re&&E5(i,Ge=>Ge&&er(n.errors,Ge),be?Pe:l.mount),Re},q=be=>{const oe={...a,...o.mount?s:{}};return Jn(be)?oe:Iu(be)?er(oe,be):be.map(we=>er(oe,we))},Y=(be,oe)=>({invalid:!!er((oe||n).errors,be),isDirty:!!er((oe||n).dirtyFields,be),isTouched:!!er((oe||n).touchedFields,be),error:er((oe||n).errors,be)}),U=be=>{be&&Mo(be).forEach(oe=>da(n.errors,oe)),d.state.next({errors:be?n.errors:{}})},J=(be,oe,we)=>{const Re=(er(i,be,{_f:{}})._f||{}).ref;Un(n.errors,be,{...oe,ref:Re}),d.state.next({name:be,errors:n.errors,isValid:!1}),we&&we.shouldFocus&&Re&&Re.focus&&Re.focus()},ce=(be,oe)=>tf(be)?d.values.subscribe({next:we=>be(D(void 0,oe),we)}):D(be,oe,!0),re=(be,oe={})=>{for(const we of be?Mo(be):l.mount)l.mount.delete(we),l.array.delete(we),oe.keepValue||(da(i,we),da(s,we)),!oe.keepError&&da(n.errors,we),!oe.keepDirty&&da(n.dirtyFields,we),!oe.keepTouched&&da(n.touchedFields,we),!r.shouldUnregister&&!oe.keepDefaultValue&&da(a,we);d.values.next({values:{...s}}),d.state.next({...n,...oe.keepDirty?{isDirty:V()}:{}}),!oe.keepIsValid&&w()},ve=(be,oe={})=>{let we=er(i,be);const Re=Rg(oe.disabled);return Un(i,be,{...we||{},_f:{...we&&we._f?we._f:{ref:{name:be}},name:be,mount:!0,...oe}}),l.mount.add(be),we?Re&&Un(s,be,oe.disabled?void 0:er(s,be,jC(we._f))):L(be,!0,oe.value),{...Re?{disabled:oe.disabled}:{},...r.progressive?{required:!!oe.required,min:hm(oe.min),max:hm(oe.max),minLength:hm(oe.minLength),maxLength:hm(oe.maxLength),pattern:hm(oe.pattern)}:{},name:be,onChange:H,onBlur:H,ref:Pe=>{if(Pe){ve(be,oe),we=er(i,be);const Ge=Jn(Pe.value)&&Pe.querySelectorAll&&Pe.querySelectorAll("input,select,textarea")[0]||Pe,je=Wge(Ge),We=we._f.refs||[];if(je?We.find(me=>me===Ge):Ge===we._f.ref)return;Un(i,be,{_f:{...we._f,...je?{refs:[...We.filter(YC),Ge,...Array.isArray(er(a,be))?[{}]:[]],ref:{type:Ge.type,name:be}}:{ref:Ge}}}),L(be,!1,void 0,Ge)}else we=er(i,be,{}),we._f&&(we._f.mount=!1),(r.shouldUnregister||oe.shouldUnregister)&&!(Ige(l.array,be)&&o.action)&&l.unMount.add(be)}}},ye=()=>r.shouldFocusError&&E5(i,be=>be&&er(n.errors,be),l.mount),Z=(be,oe)=>async we=>{we&&(we.preventDefault&&we.preventDefault(),we.persist&&we.persist());let Re=Ks(s);if(d.state.next({isSubmitting:!0}),r.resolver){const{errors:Pe,values:Ge}=await M();n.errors=Pe,Re=Ge}else await N(i);da(n.errors,"root"),Co(n.errors)?(d.state.next({errors:{}}),await be(Re,we)):(oe&&await oe({...n.errors},we),ye(),setTimeout(ye)),d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Co(n.errors),submitCount:n.submitCount+1,errors:n.errors})},ue=(be,oe={})=>{er(i,be)&&(Jn(oe.defaultValue)?B(be,er(a,be)):(B(be,oe.defaultValue),Un(a,be,oe.defaultValue)),oe.keepTouched||da(n.touchedFields,be),oe.keepDirty||(da(n.dirtyFields,be),n.isDirty=oe.defaultValue?V(be,er(a,be)):V()),oe.keepError||(da(n.errors,be),f.isValid&&w()),d.state.next({...n}))},ae=(be,oe={})=>{const we=be||a,Re=Ks(we),Pe=be&&!Co(be)?Re:a;if(oe.keepDefaultValues||(a=we),!oe.keepValues){if(oe.keepDirtyValues||p)for(const Ge of l.mount)er(n.dirtyFields,Ge)?Un(Pe,Ge,er(s,Ge)):B(Ge,er(Pe,Ge));else{if(kR&&Jn(be))for(const Ge of l.mount){const je=er(i,Ge);if(je&&je._f){const We=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(T5(We)){const me=We.closest("form");if(me){me.reset();break}}}}i={}}s=t.shouldUnregister?oe.keepDefaultValues?Ks(a):{}:Ks(Pe),d.array.next({values:{...Pe}}),d.values.next({values:{...Pe}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!o.mount&&e(),o.mount=!f.isValid||!!oe.keepIsValid,o.watch=!!t.shouldUnregister,d.state.next({submitCount:oe.keepSubmitCount?n.submitCount:0,isDirty:oe.keepDirty?n.isDirty:!!(oe.keepDefaultValues&&!qd(be,a)),isSubmitted:oe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:oe.keepDirtyValues?n.dirtyFields:oe.keepDefaultValues&&be?XC(a,be):{},touchedFields:oe.keepTouched?n.touchedFields:{},errors:oe.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},pe=(be,oe)=>ae(tf(be)?be(s):be,oe);return{control:{register:ve,unregister:re,getFieldState:Y,handleSubmit:Z,setError:J,_executeSchema:M,_getWatch:D,_getDirty:V,_updateValid:w,_removeUnmounted:z,_updateFieldArray:E,_getFieldArray:O,_reset:ae,_resetDefaultValues:()=>tf(r.defaultValues)&&r.defaultValues().then(be=>{pe(be,r.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:be=>{n={...n,...be}},_subjects:d,_proxyFormState:f,get _fields(){return i},get _formValues(){return s},get _state(){return o},set _state(be){o=be},get _defaultValues(){return a},get _names(){return l},set _names(be){l=be},get _formState(){return n},set _formState(be){n=be},get _options(){return r},set _options(be){r={...r,...be}}},trigger:X,register:ve,handleSubmit:Z,watch:ce,setValue:B,getValues:q,reset:pe,resetField:ue,clearErrors:U,unregister:re,setError:J,setFocus:(be,oe={})=>{const we=er(i,be),Re=we&&we._f;if(Re){const Pe=Re.refs?Re.refs[0]:Re.ref;Pe.focus&&(Pe.focus(),oe.shouldSelect&&Pe.select())}},getFieldState:Y}}function Zge(t={}){const e=Ct.useRef(),r=Ct.useRef(),[n,i]=Ct.useState({isDirty:!1,isValidating:!1,isLoading:tf(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:tf(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Qge(t,()=>i(s=>({...s}))),formState:n});const a=e.current.control;return a._options=t,SR({subject:a._subjects.state,next:s=>{Bge(s,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),Ct.useEffect(()=>{t.values&&!qd(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values):a._resetDefaultValues()},[t.values,a]),Ct.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=Pge(n,a),e.current}function Jge({title:t,titleId:e,...r},n){return Xe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},r),t?Xe.createElement("title",{id:e},t):null,Xe.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-3.183a.75.75 0 100 1.5h4.992a.75.75 0 00.75-.75V4.356a.75.75 0 00-1.5 0v3.18l-1.9-1.9A9 9 0 003.306 9.67a.75.75 0 101.45.388zm15.408 3.352a.75.75 0 00-.919.53 7.5 7.5 0 01-12.548 3.364l-1.902-1.903h3.183a.75.75 0 000-1.5H2.984a.75.75 0 00-.75.75v4.992a.75.75 0 001.5 0v-3.18l1.9 1.9a9 9 0 0015.059-4.035.75.75 0 00-.53-.918z",clipRule:"evenodd"}))}const e1e=Xe.forwardRef(Jge),t1e=e1e;function r1e({title:t,titleId:e,...r},n){return Xe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},r),t?Xe.createElement("title",{id:e},t):null,Xe.createElement("path",{fillRule:"evenodd",d:"M6 3a3 3 0 00-3 3v12a3 3 0 003 3h12a3 3 0 003-3V6a3 3 0 00-3-3H6zm1.5 1.5a.75.75 0 00-.75.75V16.5a.75.75 0 001.085.67L12 15.089l4.165 2.083a.75.75 0 001.085-.671V5.25a.75.75 0 00-.75-.75h-9z",clipRule:"evenodd"}))}const n1e=Xe.forwardRef(r1e),i1e=n1e;function a1e({title:t,titleId:e,...r},n){return Xe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},r),t?Xe.createElement("title",{id:e},t):null,Xe.createElement("path",{fillRule:"evenodd",d:"M20.03 4.72a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 11.69l6.97-6.97a.75.75 0 011.06 0zm0 6a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 111.06-1.06L12 17.69l6.97-6.97a.75.75 0 011.06 0z",clipRule:"evenodd"}))}const s1e=Xe.forwardRef(a1e),o1e=s1e;function l1e({title:t,titleId:e,...r},n){return Xe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},r),t?Xe.createElement("title",{id:e},t):null,Xe.createElement("path",{fillRule:"evenodd",d:"M13.28 3.97a.75.75 0 010 1.06L6.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0zm6 0a.75.75 0 010 1.06L12.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z",clipRule:"evenodd"}))}const u1e=Xe.forwardRef(l1e),xj=u1e;function c1e({title:t,titleId:e,...r},n){return Xe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},r),t?Xe.createElement("title",{id:e},t):null,Xe.createElement("path",{fillRule:"evenodd",d:"M4.72 3.97a.75.75 0 011.06 0l7.5 7.5a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L11.69 12 4.72 5.03a.75.75 0 010-1.06zm6 0a.75.75 0 011.06 0l7.5 7.5a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 11-1.06-1.06L17.69 12l-6.97-6.97a.75.75 0 010-1.06z",clipRule:"evenodd"}))}const h1e=Xe.forwardRef(c1e),bj=h1e;function f1e({title:t,titleId:e,...r},n){return Xe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},r),t?Xe.createElement("title",{id:e},t):null,Xe.createElement("path",{fillRule:"evenodd",d:"M11.47 4.72a.75.75 0 011.06 0l7.5 7.5a.75.75 0 11-1.06 1.06L12 6.31l-6.97 6.97a.75.75 0 01-1.06-1.06l7.5-7.5zm.53 7.59l-6.97 6.97a.75.75 0 01-1.06-1.06l7.5-7.5a.75.75 0 011.06 0l7.5 7.5a.75.75 0 11-1.06 1.06L12 12.31z",clipRule:"evenodd"}))}const d1e=Xe.forwardRef(f1e),p1e=d1e;function g1e({title:t,titleId:e,...r},n){return Xe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},r),t?Xe.createElement("title",{id:e},t):null,Xe.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 14.69l6.97-6.97a.75.75 0 111.06 1.06l-7.5 7.5z",clipRule:"evenodd"}))}const v1e=Xe.forwardRef(g1e),m1e=v1e;function y1e({title:t,titleId:e,...r},n){return Xe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},r),t?Xe.createElement("title",{id:e},t):null,Xe.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z",clipRule:"evenodd"}))}const x1e=Xe.forwardRef(y1e),b1e=x1e;function w1e({title:t,titleId:e,...r},n){return Xe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},r),t?Xe.createElement("title",{id:e},t):null,Xe.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z",clipRule:"evenodd"}))}const k1e=Xe.forwardRef(w1e),wj=k1e;function S1e({title:t,titleId:e,...r},n){return Xe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},r),t?Xe.createElement("title",{id:e},t):null,Xe.createElement("path",{fillRule:"evenodd",d:"M11.47 4.72a.75.75 0 011.06 0l3.75 3.75a.75.75 0 01-1.06 1.06L12 6.31 8.78 9.53a.75.75 0 01-1.06-1.06l3.75-3.75zm-3.75 9.75a.75.75 0 011.06 0L12 17.69l3.22-3.22a.75.75 0 111.06 1.06l-3.75 3.75a.75.75 0 01-1.06 0l-3.75-3.75a.75.75 0 010-1.06z",clipRule:"evenodd"}))}const E1e=Xe.forwardRef(S1e),T1e=E1e;function C1e({title:t,titleId:e,...r},n){return Xe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},r),t?Xe.createElement("title",{id:e},t):null,Xe.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 00-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 00-2.282.819l-.922 1.597a1.875 1.875 0 00.432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 000 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 00-.432 2.385l.922 1.597a1.875 1.875 0 002.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 002.28-.819l.923-1.597a1.875 1.875 0 00-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 000-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 00-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 00-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 00-1.85-1.567h-1.843zM12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z",clipRule:"evenodd"}))}const A1e=Xe.forwardRef(C1e),_1e=A1e;function L1e({title:t,titleId:e,...r},n){return Xe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},r),t?Xe.createElement("title",{id:e},t):null,Xe.createElement("path",{fillRule:"evenodd",d:"M15.75 4.5a3 3 0 11.825 2.066l-8.421 4.679a3.002 3.002 0 010 1.51l8.421 4.679a3 3 0 11-.729 1.31l-8.421-4.678a3 3 0 110-4.132l8.421-4.679a3 3 0 01-.096-.755z",clipRule:"evenodd"}))}const D1e=Xe.forwardRef(L1e),R1e=D1e,{createElement:e1,createContext:M1e,forwardRef:kj,useCallback:zh,useContext:Sj,useEffect:zc,useImperativeHandle:Ej,useLayoutEffect:N1e,useMemo:I1e,useRef:Ao,useState:Ey}=rY,BB=rY["useId".toString()],L5=N1e,O1e=typeof BB=="function"?BB:()=>null;let F1e=0;function AR(t=null){const e=O1e(),r=Ao(t||e||null);return r.current===null&&(r.current=""+F1e++),r.current}const lE=M1e(null);lE.displayName="PanelGroupContext";function Tj({children:t=null,className:e="",collapsedSize:r=0,collapsible:n=!1,defaultSize:i=null,forwardedRef:a,id:s=null,maxSize:o=100,minSize:l=10,onCollapse:u=null,onResize:h=null,order:f=null,style:d={},tagName:p="div"}){const v=Sj(lE);if(v===null)throw Error("Panel components must be rendered within a PanelGroup container");const m=AR(s),{collapsePanel:x,expandPanel:y,getPanelStyle:w,registerPanel:k,resizePanel:E,unregisterPanel:C}=v,L=Ao({onCollapse:u,onResize:h});if(zc(()=>{L.current.onCollapse=u,L.current.onResize=h}),l<0||l>100)throw Error(`Panel minSize must be between 0 and 100, but was ${l}`);if(o<0||o>100)throw Error(`Panel maxSize must be between 0 and 100, but was ${o}`);if(i!==null){if(i<0||i>100)throw Error(`Panel defaultSize must be between 0 and 100, but was ${i}`);l>i&&!n&&(console.error(`Panel minSize ${l} cannot be greater than defaultSize ${i}`),i=l)}const _=w(m,i),I=Ao({size:$B(_)}),M=Ao({callbacksRef:L,collapsedSize:r,collapsible:n,defaultSize:i,id:m,idWasAutoGenerated:s==null,maxSize:o,minSize:l,order:f});return L5(()=>{I.current.size=$B(_),M.current.callbacksRef=L,M.current.collapsedSize=r,M.current.collapsible=n,M.current.defaultSize=i,M.current.id=m,M.current.idWasAutoGenerated=s==null,M.current.maxSize=o,M.current.minSize=l,M.current.order=f}),L5(()=>(k(m,M),()=>{C(m)}),[f,m,k,C]),Ej(a,()=>({collapse:()=>x(m),expand:()=>y(m),getCollapsed(){return I.current.size===0},getSize(){return I.current.size},resize:F=>E(m,F)}),[x,y,m,E]),e1(p,{children:t,className:e,"data-panel":"","data-panel-collapsible":n||void 0,"data-panel-id":m,"data-panel-size":parseFloat(""+_.flexGrow).toFixed(1),id:`data-panel-id-${m}`,style:{..._,...d}})}const d_=kj((t,e)=>e1(Tj,{...t,forwardedRef:e}));Tj.displayName="Panel";d_.displayName="forwardRef(Panel)";function $B(t){const{flexGrow:e}=t;return typeof e=="string"?parseFloat(e):e}const d0=10;function qm(t,e,r,n,i,a,s,o){const{sizes:l}=o||{},u=l||a;if(i===0)return u;const h=nl(e),f=u.concat();let d=0;{const m=i<0?n:r,x=h.findIndex(E=>E.current.id===m),y=h[x],w=u[x],k=zB(y,Math.abs(i),w,t);if(w===k)return u;k===0&&w>0&&s.set(m,w),i=i<0?w-k:k-w}let p=i<0?r:n,v=h.findIndex(m=>m.current.id===p);for(;;){const m=h[v],x=u[v],y=Math.abs(i)-Math.abs(d),w=zB(m,0-y,x,t);if(x!==w&&(w===0&&x>0&&s.set(m.current.id,x),d+=x-w,f[v]=w,d.toPrecision(d0).localeCompare(Math.abs(i).toPrecision(d0),void 0,{numeric:!0})>=0))break;if(i<0){if(--v<0)break}else if(++v>=h.length)break}return d===0?u:(p=i<0?n:r,v=h.findIndex(m=>m.current.id===p),f[v]=u[v]+d,f)}function Hp(t,e,r){e.forEach((n,i)=>{const a=t[i];if(!a)return;const{callbacksRef:s,collapsedSize:o,collapsible:l,id:u}=a.current,h=r[u];if(h!==n){r[u]=n;const{onCollapse:f,onResize:d}=s.current;d&&d(n,h),l&&f&&((h==null||h===o)&&n!==o?f(!1):h!==o&&n===o&&f(!0))}})}function KC(t,e){if(e.length<2)return[null,null];const r=e.findIndex(s=>s.current.id===t);if(r<0)return[null,null];const n=r===e.length-1,i=n?e[r-1].current.id:t,a=n?t:e[r+1].current.id;return[i,a]}function Cj(t,e,r){if(t.size===1)return"100";const i=nl(t).findIndex(s=>s.current.id===e),a=r[i];return a==null?"0":a.toPrecision(d0)}function P1e(t){const e=document.querySelector(`[data-panel-id="${t}"]`);return e||null}function _R(t){const e=document.querySelector(`[data-panel-group-id="${t}"]`);return e||null}function uE(t){const e=document.querySelector(`[data-panel-resize-handle-id="${t}"]`);return e||null}function B1e(t){return Aj().findIndex(n=>n.getAttribute("data-panel-resize-handle-id")===t)??null}function Aj(){return Array.from(document.querySelectorAll("[data-panel-resize-handle-id]"))}function _j(t){return Array.from(document.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`))}function LR(t,e,r){var l,u,h,f;const n=uE(e),i=_j(t),a=n?i.indexOf(n):-1,s=((u=(l=r[a])==null?void 0:l.current)==null?void 0:u.id)??null,o=((f=(h=r[a+1])==null?void 0:h.current)==null?void 0:f.id)??null;return[s,o]}function nl(t){return Array.from(t.values()).sort((e,r)=>{const n=e.current.order,i=r.current.order;return n==null&&i==null?0:n==null?-1:i==null?1:n-i})}function zB(t,e,r,n){var h;const i=r+e,{collapsedSize:a,collapsible:s,maxSize:o,minSize:l}=t.current;if(s){if(r>a){if(i<=l/2+a)return a}else if(!((h=n==null?void 0:n.type)==null?void 0:h.startsWith("key"))&&i<l)return a}return Math.min(o,Math.max(l,i))}function Lj(t,e="Assertion failed!"){if(!t)throw console.error(e),Error(e)}function $1e({committedValuesRef:t,groupId:e,panels:r,setSizes:n,sizes:i,panelSizeBeforeCollapse:a}){zc(()=>{const{direction:s,panels:o}=t.current,l=_R(e),{height:u,width:h}=l.getBoundingClientRect(),d=_j(e).map(p=>{const v=p.getAttribute("data-panel-resize-handle-id"),m=nl(o),[x,y]=LR(e,v,m);if(x==null||y==null)return()=>{};let w=0,k=100,E=0,C=0;m.forEach(N=>{N.current.id===x?(k=N.current.maxSize,w=N.current.minSize):(E+=N.current.minSize,C+=N.current.maxSize)});const L=Math.min(k,100-E),_=Math.max(w,(m.length-1)*100-C),I=Cj(o,x,i);p.setAttribute("aria-valuemax",""+Math.round(L)),p.setAttribute("aria-valuemin",""+Math.round(_)),p.setAttribute("aria-valuenow",""+Math.round(parseInt(I)));const M=N=>{if(!N.defaultPrevented)switch(N.key){case"Enter":{N.preventDefault();const z=m.findIndex(V=>V.current.id===x);if(z>=0){const V=m[z],D=i[z];if(D!=null){let O=0;D.toPrecision(d0)<=V.current.minSize.toPrecision(d0)?O=s==="horizontal"?h:u:O=-(s==="horizontal"?h:u);const P=qm(N,o,x,y,O,i,a.current,null);i!==P&&n(P)}}break}}};p.addEventListener("keydown",M);const F=P1e(x);return F!=null&&p.setAttribute("aria-controls",F.id),()=>{p.removeAttribute("aria-valuemax"),p.removeAttribute("aria-valuemin"),p.removeAttribute("aria-valuenow"),p.removeEventListener("keydown",M),F!=null&&p.removeAttribute("aria-controls")}});return()=>{d.forEach(p=>p())}},[t,e,r,a,n,i])}function z1e({disabled:t,handleId:e,resizeHandler:r}){zc(()=>{if(t||r==null)return;const n=uE(e);if(n==null)return;const i=a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{a.preventDefault(),r(a);break}case"F6":{a.preventDefault();const s=Aj(),o=B1e(e);Lj(o!==null);const l=a.shiftKey?o>0?o-1:s.length-1:o+1<s.length?o+1:0;s[l].focus();break}}};return n.addEventListener("keydown",i),()=>{n.removeEventListener("keydown",i)}},[t,e,r])}function H1e(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Dj(t,e,r,n=0,i=null){const a=r==="horizontal";let s=0;if(p_(t))s=a?t.clientX:t.clientY;else if(g_(t)){const h=t.touches[0];s=a?h.screenX:h.screenY}else return 0;const o=uE(e),l=i||o.getBoundingClientRect(),u=a?l.left:l.top;return s-u-n}function V1e(t,e,r,n,i,a,s){const{dragOffset:o=0,dragHandleRect:l,sizes:u}=s||{},h=u||a;if(U1e(t)){const f=i==="horizontal",p=_R(e).getBoundingClientRect(),v=f?p.width:p.height,m=t.shiftKey?10:100,x=v/m;let y=0;switch(t.key){case"ArrowDown":y=f?0:x;break;case"ArrowLeft":y=f?-x:0;break;case"ArrowRight":y=f?x:0;break;case"ArrowUp":y=f?0:-x;break;case"End":y=v;break;case"Home":y=-v;break}const[w,k]=LR(e,r,n),E=y<0?w:k,C=n.findIndex(_=>_.current.id===E),L=n[C];if(L.current.collapsible){const _=h[C];(_===0||_.toPrecision(d0)===L.current.minSize.toPrecision(d0))&&(y=y<0?-L.current.minSize*v:L.current.minSize*v)}return y}else return Dj(t,r,i,o,l)}function U1e(t){return t.type==="keydown"}function p_(t){return t.type.startsWith("mouse")}function g_(t){return t.type.startsWith("touch")}let v_=null,Yd=null;function Rj(t){switch(t){case"horizontal":return"ew-resize";case"horizontal-max":return"w-resize";case"horizontal-min":return"e-resize";case"vertical":return"ns-resize";case"vertical-max":return"n-resize";case"vertical-min":return"s-resize"}}function G1e(){Yd!==null&&(document.head.removeChild(Yd),v_=null,Yd=null)}function QC(t){if(v_===t)return;v_=t;const e=Rj(t);Yd===null&&(Yd=document.createElement("style"),document.head.appendChild(Yd)),Yd.innerHTML=`*{cursor: ${e}!important;}`}function W1e(t,e=10){let r=null;return(...i)=>{r!==null&&clearTimeout(r),r=setTimeout(()=>{t(...i)},e)}}function Mj(t){return t.map(e=>{const{minSize:r,order:n}=e.current;return n?`${n}:${r}`:`${r}`}).sort((e,r)=>e.localeCompare(r)).join(",")}function Nj(t,e){try{const r=e.getItem(`PanelGroup:sizes:${t}`);if(r){const n=JSON.parse(r);if(typeof n=="object"&&n!=null)return n}}catch{}return null}function q1e(t,e,r){const n=Nj(t,r);if(n){const i=Mj(e);return n[i]??null}return null}function Y1e(t,e,r,n){const i=Mj(e),a=Nj(t,n)||{};a[i]=r;try{n.setItem(`PanelGroup:sizes:${t}`,JSON.stringify(a))}catch(s){console.error(s)}}const ZC={};function HB(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,r)=>{localStorage.setItem(e,r)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}const Ym={getItem:t=>(HB(Ym),Ym.getItem(t)),setItem:(t,e)=>{HB(Ym),Ym.setItem(t,e)}};function Ij({autoSaveId:t,children:e=null,className:r="",direction:n,disablePointerEventsDuringResize:i=!1,forwardedRef:a,id:s=null,onLayout:o,storage:l=Ym,style:u={},tagName:h="div"}){const f=AR(s),[d,p]=Ey(null),[v,m]=Ey(new Map),x=Ao(null);Ao({didLogDefaultSizeWarning:!1,didLogIdAndOrderWarning:!1,prevPanelIds:[]});const y=Ao({onLayout:o});zc(()=>{y.current.onLayout=o});const w=Ao({}),[k,E]=Ey([]),C=Ao(new Map),L=Ao(0),_=Ao({direction:n,panels:v,sizes:k});Ej(a,()=>({getLayout:()=>{const{sizes:$}=_.current;return $},setLayout:$=>{const B=$.reduce((Y,U)=>Y+U,0);Lj(B===100,"Panel sizes must add up to 100%");const{panels:H}=_.current,X=w.current,q=nl(H);E($),Hp(q,$,X)}}),[]),L5(()=>{_.current.direction=n,_.current.panels=v,_.current.sizes=k}),$1e({committedValuesRef:_,groupId:f,panels:v,setSizes:E,sizes:k,panelSizeBeforeCollapse:C}),zc(()=>{const{onLayout:$}=y.current,{panels:B,sizes:H}=_.current;if(H.length>0){$&&$(H);const X=w.current,q=nl(B);Hp(q,H,X)}},[k]),L5(()=>{if(_.current.sizes.length===v.size)return;let B=null;if(t){const H=nl(v);B=q1e(t,H,l)}if(B!=null)E(B);else{const H=nl(v);let X=0,q=0,Y=0;if(H.forEach(U=>{Y+=U.current.minSize,U.current.defaultSize===null?X++:q+=U.current.defaultSize}),q>100)throw new Error("Default panel sizes cannot exceed 100%");if(H.length>1&&X===0&&q!==100)throw new Error("Invalid default sizes specified for panels");if(Y>100)throw new Error("Minimum panel sizes cannot exceed 100%");E(H.map(U=>U.current.defaultSize===null?(100-q)/X:U.current.defaultSize))}},[t,v,l]),zc(()=>{if(t){if(k.length===0||k.length!==v.size)return;const $=nl(v);ZC[t]||(ZC[t]=W1e(Y1e,100)),ZC[t](t,$,k,l)}},[t,v,k,l]);const I=zh(($,B)=>{const{panels:H}=_.current;return H.size===0?{flexBasis:0,flexGrow:B??void 0,flexShrink:1,overflow:"hidden"}:{flexBasis:0,flexGrow:Cj(H,$,k),flexShrink:1,overflow:"hidden",pointerEvents:i&&d!==null?"none":void 0}},[d,i,k]),M=zh(($,B)=>{m(H=>{if(H.has($))return H;const X=new Map(H);return X.set($,B),X})},[]),F=zh($=>H=>{H.preventDefault();const{direction:X,panels:q,sizes:Y}=_.current,U=nl(q),[J,ce]=LR(f,$,U);if(J==null||ce==null)return;let re=V1e(H,f,$,U,X,Y,x.current);if(re===0)return;const ye=_R(f).getBoundingClientRect(),Z=X==="horizontal";document.dir==="rtl"&&Z&&(re=-re);const ue=Z?ye.width:ye.height,ae=re/ue*100,pe=qm(H,q,J,ce,ae,Y,C.current,x.current),Ee=!H1e(Y,pe);if((p_(H)||g_(H))&&L.current!=ae&&QC(Ee?Z?"horizontal":"vertical":Z?re<0?"horizontal-min":"horizontal-max":re<0?"vertical-min":"vertical-max"),Ee){const Se=w.current;E(pe),Hp(U,pe,Se)}L.current=ae},[f]),N=zh($=>{m(B=>{if(!B.has($))return B;const H=new Map(B);return H.delete($),H})},[]),z=zh($=>{const{panels:B,sizes:H}=_.current,X=B.get($);if(X==null)return;const{collapsedSize:q,collapsible:Y}=X.current;if(!Y)return;const U=nl(B),J=U.indexOf(X);if(J<0)return;const ce=H[J];if(ce===q)return;C.current.set($,ce);const[re,ve]=KC($,U);if(re==null||ve==null)return;const Z=J===U.length-1?ce:q-ce,ue=qm(null,B,re,ve,Z,H,C.current,null);if(H!==ue){const ae=w.current;E(ue),Hp(U,ue,ae)}},[]),V=zh($=>{const{panels:B,sizes:H}=_.current,X=B.get($);if(X==null)return;const{collapsedSize:q,minSize:Y}=X.current,U=C.current.get($)||Y;if(!U)return;const J=nl(B),ce=J.indexOf(X);if(ce<0||H[ce]!==q)return;const[ve,ye]=KC($,J);if(ve==null||ye==null)return;const ue=ce===J.length-1?q-U:U,ae=qm(null,B,ve,ye,ue,H,C.current,null);if(H!==ae){const pe=w.current;E(ae),Hp(J,ae,pe)}},[]),D=zh(($,B)=>{const{panels:H,sizes:X}=_.current,q=H.get($);if(q==null)return;const{collapsedSize:Y,collapsible:U,maxSize:J,minSize:ce}=q.current,re=nl(H),ve=re.indexOf(q);if(ve<0)return;const ye=X[ve];if(ye===B)return;U&&B===Y||(B=Math.min(J,Math.max(ce,B)));const[Z,ue]=KC($,re);if(Z==null||ue==null)return;const pe=ve===re.length-1?ye-B:B-ye,Ee=qm(null,H,Z,ue,pe,X,C.current,null);if(X!==Ee){const Se=w.current;E(Ee),Hp(re,Ee,Se)}},[]),O=I1e(()=>({activeHandleId:d,collapsePanel:z,direction:n,expandPanel:V,getPanelStyle:I,groupId:f,registerPanel:M,registerResizeHandle:F,resizePanel:D,startDragging:($,B)=>{if(p($),p_(B)||g_(B)){const H=uE($);x.current={dragHandleRect:H.getBoundingClientRect(),dragOffset:Dj(B,$,n),sizes:_.current.sizes}}},stopDragging:()=>{G1e(),p(null),x.current=null},unregisterPanel:N}),[d,z,n,V,I,f,M,F,D,N]),P={display:"flex",flexDirection:n==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return e1(lE.Provider,{children:e1(h,{children:e,className:r,"data-panel-group":"","data-panel-group-direction":n,"data-panel-group-id":f,style:{...P,...u}}),value:O})}const Oj=kj((t,e)=>e1(Ij,{...t,forwardedRef:e}));Ij.displayName="PanelGroup";Oj.displayName="forwardRef(PanelGroup)";function Fj({children:t=null,className:e="",disabled:r=!1,id:n=null,onDragging:i,style:a={},tagName:s="div"}){const o=Ao(null),l=Ao({onDragging:i});zc(()=>{l.current.onDragging=i});const u=Sj(lE);if(u===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{activeHandleId:h,direction:f,groupId:d,registerResizeHandle:p,startDragging:v,stopDragging:m}=u,x=AR(n),y=h===x,[w,k]=Ey(!1),[E,C]=Ey(null),L=zh(()=>{o.current.blur(),m();const{onDragging:M}=l.current;M&&M(!1)},[m]);zc(()=>{if(r)C(null);else{const I=p(x);C(()=>I)}},[r,x,p]),zc(()=>{if(r||E==null||!y)return;const I=z=>{E(z)},M=z=>{E(z)},N=o.current.ownerDocument;return N.body.addEventListener("contextmenu",L),N.body.addEventListener("mousemove",I),N.body.addEventListener("touchmove",I),N.body.addEventListener("mouseleave",M),window.addEventListener("mouseup",L),window.addEventListener("touchend",L),()=>{N.body.removeEventListener("contextmenu",L),N.body.removeEventListener("mousemove",I),N.body.removeEventListener("touchmove",I),N.body.removeEventListener("mouseleave",M),window.removeEventListener("mouseup",L),window.removeEventListener("touchend",L)}},[f,r,y,E,L]),z1e({disabled:r,handleId:x,resizeHandler:E});const _={cursor:Rj(f),touchAction:"none",userSelect:"none"};return e1(s,{children:t,className:e,"data-resize-handle-active":y?"pointer":w?"keyboard":void 0,"data-panel-group-direction":f,"data-panel-group-id":d,"data-panel-resize-handle-enabled":!r,"data-panel-resize-handle-id":x,onBlur:()=>k(!1),onFocus:()=>k(!0),onMouseDown:I=>{v(x,I.nativeEvent);const{onDragging:M}=l.current;M&&M(!0)},onMouseUp:L,onTouchCancel:L,onTouchEnd:L,onTouchStart:I=>{v(x,I.nativeEvent);const{onDragging:M}=l.current;M&&M(!0)},ref:o,role:"separator",style:{..._,...a},tabIndex:0})}Fj.displayName="PanelResizeHandle";const X1e="modulepreload",j1e=function(t){return"/"+t},VB={},on=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=j1e(a),a in VB)return;VB[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":X1e,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})};var Pj={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ll,function(){var r=1e3,n=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",u="day",h="week",f="month",d="quarter",p="year",v="date",m="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(D){var O=["th","st","nd","rd"],P=D%100;return"["+D+(O[(P-20)%10]||O[P]||O[0])+"]"}},k=function(D,O,P){var $=String(D);return!$||$.length>=O?D:""+Array(O+1-$.length).join(P)+D},E={s:k,z:function(D){var O=-D.utcOffset(),P=Math.abs(O),$=Math.floor(P/60),B=P%60;return(O<=0?"+":"-")+k($,2,"0")+":"+k(B,2,"0")},m:function D(O,P){if(O.date()<P.date())return-D(P,O);var $=12*(P.year()-O.year())+(P.month()-O.month()),B=O.clone().add($,f),H=P-B<0,X=O.clone().add($+(H?-1:1),f);return+(-($+(P-B)/(H?B-X:X-B))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:f,y:p,w:h,d:u,D:v,h:l,m:o,s,ms:a,Q:d}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},C="en",L={};L[C]=w;var _="$isDayjsObject",I=function(D){return D instanceof z||!(!D||!D[_])},M=function D(O,P,$){var B;if(!O)return C;if(typeof O=="string"){var H=O.toLowerCase();L[H]&&(B=H),P&&(L[H]=P,B=H);var X=O.split("-");if(!B&&X.length>1)return D(X[0])}else{var q=O.name;L[q]=O,B=q}return!$&&B&&(C=B),B||!$&&C},F=function(D,O){if(I(D))return D.clone();var P=typeof O=="object"?O:{};return P.date=D,P.args=arguments,new z(P)},N=E;N.l=M,N.i=I,N.w=function(D,O){return F(D,{locale:O.$L,utc:O.$u,x:O.$x,$offset:O.$offset})};var z=function(){function D(P){this.$L=M(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[_]=!0}var O=D.prototype;return O.parse=function(P){this.$d=function($){var B=$.date,H=$.utc;if(B===null)return new Date(NaN);if(N.u(B))return new Date;if(B instanceof Date)return new Date(B);if(typeof B=="string"&&!/Z$/i.test(B)){var X=B.match(x);if(X){var q=X[2]-1||0,Y=(X[7]||"0").substring(0,3);return H?new Date(Date.UTC(X[1],q,X[3]||1,X[4]||0,X[5]||0,X[6]||0,Y)):new Date(X[1],q,X[3]||1,X[4]||0,X[5]||0,X[6]||0,Y)}}return new Date(B)}(P),this.init()},O.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},O.$utils=function(){return N},O.isValid=function(){return this.$d.toString()!==m},O.isSame=function(P,$){var B=F(P);return this.startOf($)<=B&&B<=this.endOf($)},O.isAfter=function(P,$){return F(P)<this.startOf($)},O.isBefore=function(P,$){return this.endOf($)<F(P)},O.$g=function(P,$,B){return N.u(P)?this[$]:this.set(B,P)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function(P,$){var B=this,H=!!N.u($)||$,X=N.p(P),q=function(Z,ue){var ae=N.w(B.$u?Date.UTC(B.$y,ue,Z):new Date(B.$y,ue,Z),B);return H?ae:ae.endOf(u)},Y=function(Z,ue){return N.w(B.toDate()[Z].apply(B.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(ue)),B)},U=this.$W,J=this.$M,ce=this.$D,re="set"+(this.$u?"UTC":"");switch(X){case p:return H?q(1,0):q(31,11);case f:return H?q(1,J):q(0,J+1);case h:var ve=this.$locale().weekStart||0,ye=(U<ve?U+7:U)-ve;return q(H?ce-ye:ce+(6-ye),J);case u:case v:return Y(re+"Hours",0);case l:return Y(re+"Minutes",1);case o:return Y(re+"Seconds",2);case s:return Y(re+"Milliseconds",3);default:return this.clone()}},O.endOf=function(P){return this.startOf(P,!1)},O.$set=function(P,$){var B,H=N.p(P),X="set"+(this.$u?"UTC":""),q=(B={},B[u]=X+"Date",B[v]=X+"Date",B[f]=X+"Month",B[p]=X+"FullYear",B[l]=X+"Hours",B[o]=X+"Minutes",B[s]=X+"Seconds",B[a]=X+"Milliseconds",B)[H],Y=H===u?this.$D+($-this.$W):$;if(H===f||H===p){var U=this.clone().set(v,1);U.$d[q](Y),U.init(),this.$d=U.set(v,Math.min(this.$D,U.daysInMonth())).$d}else q&&this.$d[q](Y);return this.init(),this},O.set=function(P,$){return this.clone().$set(P,$)},O.get=function(P){return this[N.p(P)]()},O.add=function(P,$){var B,H=this;P=Number(P);var X=N.p($),q=function(J){var ce=F(H);return N.w(ce.date(ce.date()+Math.round(J*P)),H)};if(X===f)return this.set(f,this.$M+P);if(X===p)return this.set(p,this.$y+P);if(X===u)return q(1);if(X===h)return q(7);var Y=(B={},B[o]=n,B[l]=i,B[s]=r,B)[X]||1,U=this.$d.getTime()+P*Y;return N.w(U,this)},O.subtract=function(P,$){return this.add(-1*P,$)},O.format=function(P){var $=this,B=this.$locale();if(!this.isValid())return B.invalidDate||m;var H=P||"YYYY-MM-DDTHH:mm:ssZ",X=N.z(this),q=this.$H,Y=this.$m,U=this.$M,J=B.weekdays,ce=B.months,re=B.meridiem,ve=function(ue,ae,pe,Ee){return ue&&(ue[ae]||ue($,H))||pe[ae].slice(0,Ee)},ye=function(ue){return N.s(q%12||12,ue,"0")},Z=re||function(ue,ae,pe){var Ee=ue<12?"AM":"PM";return pe?Ee.toLowerCase():Ee};return H.replace(y,function(ue,ae){return ae||function(pe){switch(pe){case"YY":return String($.$y).slice(-2);case"YYYY":return N.s($.$y,4,"0");case"M":return U+1;case"MM":return N.s(U+1,2,"0");case"MMM":return ve(B.monthsShort,U,ce,3);case"MMMM":return ve(ce,U);case"D":return $.$D;case"DD":return N.s($.$D,2,"0");case"d":return String($.$W);case"dd":return ve(B.weekdaysMin,$.$W,J,2);case"ddd":return ve(B.weekdaysShort,$.$W,J,3);case"dddd":return J[$.$W];case"H":return String(q);case"HH":return N.s(q,2,"0");case"h":return ye(1);case"hh":return ye(2);case"a":return Z(q,Y,!0);case"A":return Z(q,Y,!1);case"m":return String(Y);case"mm":return N.s(Y,2,"0");case"s":return String($.$s);case"ss":return N.s($.$s,2,"0");case"SSS":return N.s($.$ms,3,"0");case"Z":return X}return null}(ue)||X.replace(":","")})},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function(P,$,B){var H,X=this,q=N.p($),Y=F(P),U=(Y.utcOffset()-this.utcOffset())*n,J=this-Y,ce=function(){return N.m(X,Y)};switch(q){case p:H=ce()/12;break;case f:H=ce();break;case d:H=ce()/3;break;case h:H=(J-U)/6048e5;break;case u:H=(J-U)/864e5;break;case l:H=J/i;break;case o:H=J/n;break;case s:H=J/r;break;default:H=J}return B?H:N.a(H)},O.daysInMonth=function(){return this.endOf(f).$D},O.$locale=function(){return L[this.$L]},O.locale=function(P,$){if(!P)return this.$L;var B=this.clone(),H=M(P,$,!0);return H&&(B.$L=H),B},O.clone=function(){return N.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},D}(),V=z.prototype;return F.prototype=V,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",u],["$M",f],["$y",p],["$D",v]].forEach(function(D){V[D[1]]=function(O){return this.$g(O,D[0],D[1])}}),F.extend=function(D,O){return D.$i||(D(O,z,F),D.$i=!0),F},F.locale=M,F.isDayjs=I,F.unix=function(D){return F(1e3*D)},F.en=L[C],F.Ls=L,F.p={},F})})(Pj);var Bj=Pj.exports;const ma=fh(Bj),sw={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t),hsl2rgb:({h:t,s:e,l:r},n)=>{if(!e)return r*2.55;t/=360,e/=100,r/=100;const i=r<.5?r*(1+e):r+e-r*e,a=2*r-i;switch(n){case"r":return sw.hue2rgb(a,i,t+1/3)*255;case"g":return sw.hue2rgb(a,i,t)*255;case"b":return sw.hue2rgb(a,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:r},n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),a=Math.min(t,e,r),s=(i+a)/2;if(n==="l")return s*100;if(i===a)return 0;const o=i-a,l=s>.5?o/(2-i-a):o/(i+a);if(n==="s")return l*100;switch(i){case t:return((e-r)/o+(e<r?6:0))*60;case e:return((r-t)/o+2)*60;case r:return((t-e)/o+4)*60;default:return-1}}},K1e=sw,Q1e={clamp:(t,e,r)=>e>r?Math.min(e,Math.max(r,t)):Math.min(r,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},Z1e=Q1e,J1e={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},eve=J1e,tve={channel:K1e,lang:Z1e,unit:eve},Lr=tve,Hh={};for(let t=0;t<=255;t++)Hh[t]=Lr.unit.dec2hex(t);const ns={ALL:0,RGB:1,HSL:2};let rve=class{constructor(){this.type=ns.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=ns.ALL}is(e){return this.type===e}};const nve=rve;class ive{constructor(e,r){this.color=r,this.changed=!1,this.data=e,this.type=new nve}set(e,r){return this.color=r,this.changed=!1,this.data=e,this.type.type=ns.ALL,this}_ensureHSL(){const e=this.data,{h:r,s:n,l:i}=e;r===void 0&&(e.h=Lr.channel.rgb2hsl(e,"h")),n===void 0&&(e.s=Lr.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=Lr.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r,g:n,b:i}=e;r===void 0&&(e.r=Lr.channel.hsl2rgb(e,"r")),n===void 0&&(e.g=Lr.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=Lr.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,r=e.r;return!this.type.is(ns.HSL)&&r!==void 0?r:(this._ensureHSL(),Lr.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,r=e.g;return!this.type.is(ns.HSL)&&r!==void 0?r:(this._ensureHSL(),Lr.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,r=e.b;return!this.type.is(ns.HSL)&&r!==void 0?r:(this._ensureHSL(),Lr.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,r=e.h;return!this.type.is(ns.RGB)&&r!==void 0?r:(this._ensureRGB(),Lr.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,r=e.s;return!this.type.is(ns.RGB)&&r!==void 0?r:(this._ensureRGB(),Lr.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,r=e.l;return!this.type.is(ns.RGB)&&r!==void 0?r:(this._ensureRGB(),Lr.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(ns.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(ns.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(ns.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(ns.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(ns.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(ns.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const ave=ive,sve=new ave({r:0,g:0,b:0,a:0},"transparent"),cE=sve,$j={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match($j.re);if(!e)return;const r=e[1],n=parseInt(r,16),i=r.length,a=i%4===0,s=i>4,o=s?1:17,l=s?8:4,u=a?0:-1,h=s?255:15;return cE.set({r:(n>>l*(u+3)&h)*o,g:(n>>l*(u+2)&h)*o,b:(n>>l*(u+1)&h)*o,a:a?(n&h)*o/255:1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`#${Hh[Math.round(e)]}${Hh[Math.round(r)]}${Hh[Math.round(n)]}${Hh[Math.round(i*255)]}`:`#${Hh[Math.round(e)]}${Hh[Math.round(r)]}${Hh[Math.round(n)]}`}},Ty=$j,ow={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(ow.hueRe);if(e){const[,r,n]=e;switch(n){case"grad":return Lr.channel.clamp.h(parseFloat(r)*.9);case"rad":return Lr.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Lr.channel.clamp.h(parseFloat(r)*360)}}return Lr.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const r=t.match(ow.re);if(!r)return;const[,n,i,a,s,o]=r;return cE.set({h:ow._hue2deg(n),s:Lr.channel.clamp.s(parseFloat(i)),l:Lr.channel.clamp.l(parseFloat(a)),a:s?Lr.channel.clamp.a(o?parseFloat(s)/100:parseFloat(s)):1},t)},stringify:t=>{const{h:e,s:r,l:n,a:i}=t;return i<1?`hsla(${Lr.lang.round(e)}, ${Lr.lang.round(r)}%, ${Lr.lang.round(n)}%, ${i})`:`hsl(${Lr.lang.round(e)}, ${Lr.lang.round(r)}%, ${Lr.lang.round(n)}%)`}},P4=ow,lw={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=lw.colors[t];if(e)return Ty.parse(e)},stringify:t=>{const e=Ty.stringify(t);for(const r in lw.colors)if(lw.colors[r]===e)return r}},UB=lw,zj={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const r=t.match(zj.re);if(!r)return;const[,n,i,a,s,o,l,u,h]=r;return cE.set({r:Lr.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:Lr.channel.clamp.g(s?parseFloat(a)*2.55:parseFloat(a)),b:Lr.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:u?Lr.channel.clamp.a(h?parseFloat(u)/100:parseFloat(u)):1},t)},stringify:t=>{const{r:e,g:r,b:n,a:i}=t;return i<1?`rgba(${Lr.lang.round(e)}, ${Lr.lang.round(r)}, ${Lr.lang.round(n)}, ${Lr.lang.round(i)})`:`rgb(${Lr.lang.round(e)}, ${Lr.lang.round(r)}, ${Lr.lang.round(n)})`}},B4=zj,ove={format:{keyword:UB,hex:Ty,rgb:B4,rgba:B4,hsl:P4,hsla:P4},parse:t=>{if(typeof t!="string")return t;const e=Ty.parse(t)||B4.parse(t)||P4.parse(t)||UB.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(ns.HSL)||t.data.r===void 0?P4.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?B4.stringify(t):Ty.stringify(t)},uu=ove,lve=(t,e)=>{const r=uu.parse(t);for(const n in e)r[n]=Lr.channel.clamp[n](e[n]);return uu.stringify(r)},Hj=lve,uve=(t,e,r=0,n=1)=>{if(typeof t!="number")return Hj(t,{a:e});const i=cE.set({r:Lr.channel.clamp.r(t),g:Lr.channel.clamp.g(e),b:Lr.channel.clamp.b(r),a:Lr.channel.clamp.a(n)});return uu.stringify(i)},a0=uve,cve=(t,e)=>Lr.lang.round(uu.parse(t)[e]),Vj=cve,hve=t=>{const{r:e,g:r,b:n}=uu.parse(t),i=.2126*Lr.channel.toLinear(e)+.7152*Lr.channel.toLinear(r)+.0722*Lr.channel.toLinear(n);return Lr.lang.round(i)},fve=hve,dve=t=>fve(t)>=.5,pve=dve,gve=t=>!pve(t),j0=gve,vve=(t,e,r)=>{const n=uu.parse(t),i=n[e],a=Lr.channel.clamp[e](i+r);return i!==a&&(n[e]=a),uu.stringify(n)},Uj=vve,mve=(t,e)=>Uj(t,"l",e),lr=mve,yve=(t,e)=>Uj(t,"l",-e),gr=yve,xve=(t,e)=>{const r=uu.parse(t),n={};for(const i in e)e[i]&&(n[i]=r[i]+e[i]);return Hj(t,n)},et=xve,bve=(t,e,r=50)=>{const{r:n,g:i,b:a,a:s}=uu.parse(t),{r:o,g:l,b:u,a:h}=uu.parse(e),f=r/100,d=f*2-1,p=s-h,m=((d*p===-1?d:(d+p)/(1+d*p))+1)/2,x=1-m,y=n*m+o*x,w=i*m+l*x,k=a*m+u*x,E=s*f+h*(1-f);return a0(y,w,k,E)},wve=bve,kve=(t,e=100)=>{const r=uu.parse(t);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,wve(r,t,e)},Ht=kve;/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */const{entries:Gj,setPrototypeOf:GB,isFrozen:Sve,getPrototypeOf:Eve,getOwnPropertyDescriptor:Tve}=Object;let{freeze:Ps,seal:bl,create:Wj}=Object,{apply:m_,construct:y_}=typeof Reflect<"u"&&Reflect;Ps||(Ps=function(e){return e});bl||(bl=function(e){return e});m_||(m_=function(e,r,n){return e.apply(r,n)});y_||(y_=function(e,r){return new e(...r)});const $4=zo(Array.prototype.forEach),WB=zo(Array.prototype.pop),fm=zo(Array.prototype.push),uw=zo(String.prototype.toLowerCase),JC=zo(String.prototype.toString),qB=zo(String.prototype.match),dm=zo(String.prototype.replace),Cve=zo(String.prototype.indexOf),Ave=zo(String.prototype.trim),Bl=zo(Object.prototype.hasOwnProperty),Ts=zo(RegExp.prototype.test),pm=_ve(TypeError);function zo(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return m_(t,e,n)}}function _ve(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return y_(t,r)}}function Vr(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uw;GB&&GB(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const a=r(i);a!==i&&(Sve(e)||(e[n]=a),i=a)}t[i]=!0}return t}function Lve(t){for(let e=0;e<t.length;e++)Bl(t,e)||(t[e]=null);return t}function Ld(t){const e=Wj(null);for(const[r,n]of Gj(t))Bl(t,r)&&(Array.isArray(n)?e[r]=Lve(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Ld(n):e[r]=n);return e}function gm(t,e){for(;t!==null;){const n=Tve(t,e);if(n){if(n.get)return zo(n.get);if(typeof n.value=="function")return zo(n.value)}t=Eve(t)}function r(){return null}return r}const YB=Ps(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),e7=Ps(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),t7=Ps(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Dve=Ps(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),r7=Ps(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Rve=Ps(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),XB=Ps(["#text"]),jB=Ps(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),n7=Ps(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),KB=Ps(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z4=Ps(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Mve=bl(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Nve=bl(/<%[\w\W]*|[\w\W]*%>/gm),Ive=bl(/\${[\w\W]*}/gm),Ove=bl(/^data-[\-\w.\u00B7-\uFFFF]/),Fve=bl(/^aria-[\-\w]+$/),qj=bl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Pve=bl(/^(?:\w+script|data):/i),Bve=bl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Yj=bl(/^html$/i),$ve=bl(/^[a-z][.\w]*(-[.\w]+)+$/i);var QB=Object.freeze({__proto__:null,MUSTACHE_EXPR:Mve,ERB_EXPR:Nve,TMPLIT_EXPR:Ive,DATA_ATTR:Ove,ARIA_ATTR:Fve,IS_ALLOWED_URI:qj,IS_SCRIPT_OR_DATA:Pve,ATTR_WHITESPACE:Bve,DOCTYPE_NAME:Yj,CUSTOM_ELEMENT:$ve});const vm={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},zve=function(){return typeof window>"u"?null:window},Hve=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function Xj(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zve();const e=Ut=>Xj(Ut);if(e.version="3.1.6",e.removed=[],!t||!t.document||t.document.nodeType!==vm.document)return e.isSupported=!1,e;let{document:r}=t;const n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:o,Element:l,NodeFilter:u,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:p}=t,v=l.prototype,m=gm(v,"cloneNode"),x=gm(v,"remove"),y=gm(v,"nextSibling"),w=gm(v,"childNodes"),k=gm(v,"parentNode");if(typeof s=="function"){const Ut=r.createElement("template");Ut.content&&Ut.content.ownerDocument&&(r=Ut.content.ownerDocument)}let E,C="";const{implementation:L,createNodeIterator:_,createDocumentFragment:I,getElementsByTagName:M}=r,{importNode:F}=n;let N={};e.isSupported=typeof Gj=="function"&&typeof k=="function"&&L&&L.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:z,ERB_EXPR:V,TMPLIT_EXPR:D,DATA_ATTR:O,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:$,ATTR_WHITESPACE:B,CUSTOM_ELEMENT:H}=QB;let{IS_ALLOWED_URI:X}=QB,q=null;const Y=Vr({},[...YB,...e7,...t7,...r7,...XB]);let U=null;const J=Vr({},[...jB,...n7,...KB,...z4]);let ce=Object.seal(Wj(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),re=null,ve=null,ye=!0,Z=!0,ue=!1,ae=!0,pe=!1,Ee=!0,Se=!1,de=!1,be=!1,oe=!1,we=!1,Re=!1,Pe=!0,Ge=!1;const je="user-content-";let We=!0,me=!1,Te={},fe=null;const W=Vr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let j=null;const ie=Vr({},["audio","video","img","source","image","track"]);let ee=null;const le=Vr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_e="http://www.w3.org/1998/Math/MathML",ke="http://www.w3.org/2000/svg",Le="http://www.w3.org/1999/xhtml";let Oe=Le,Me=!1,Ie=null;const Fe=Vr({},[_e,ke,Le],JC);let Ne=null;const He=["application/xhtml+xml","text/html"],it="text/html";let lt=null,ft=null;const gt=r.createElement("form"),_t=function(qe){return qe instanceof RegExp||qe instanceof Function},ct=function(){let qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ft&&ft===qe)){if((!qe||typeof qe!="object")&&(qe={}),qe=Ld(qe),Ne=He.indexOf(qe.PARSER_MEDIA_TYPE)===-1?it:qe.PARSER_MEDIA_TYPE,lt=Ne==="application/xhtml+xml"?JC:uw,q=Bl(qe,"ALLOWED_TAGS")?Vr({},qe.ALLOWED_TAGS,lt):Y,U=Bl(qe,"ALLOWED_ATTR")?Vr({},qe.ALLOWED_ATTR,lt):J,Ie=Bl(qe,"ALLOWED_NAMESPACES")?Vr({},qe.ALLOWED_NAMESPACES,JC):Fe,ee=Bl(qe,"ADD_URI_SAFE_ATTR")?Vr(Ld(le),qe.ADD_URI_SAFE_ATTR,lt):le,j=Bl(qe,"ADD_DATA_URI_TAGS")?Vr(Ld(ie),qe.ADD_DATA_URI_TAGS,lt):ie,fe=Bl(qe,"FORBID_CONTENTS")?Vr({},qe.FORBID_CONTENTS,lt):W,re=Bl(qe,"FORBID_TAGS")?Vr({},qe.FORBID_TAGS,lt):{},ve=Bl(qe,"FORBID_ATTR")?Vr({},qe.FORBID_ATTR,lt):{},Te=Bl(qe,"USE_PROFILES")?qe.USE_PROFILES:!1,ye=qe.ALLOW_ARIA_ATTR!==!1,Z=qe.ALLOW_DATA_ATTR!==!1,ue=qe.ALLOW_UNKNOWN_PROTOCOLS||!1,ae=qe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,pe=qe.SAFE_FOR_TEMPLATES||!1,Ee=qe.SAFE_FOR_XML!==!1,Se=qe.WHOLE_DOCUMENT||!1,oe=qe.RETURN_DOM||!1,we=qe.RETURN_DOM_FRAGMENT||!1,Re=qe.RETURN_TRUSTED_TYPE||!1,be=qe.FORCE_BODY||!1,Pe=qe.SANITIZE_DOM!==!1,Ge=qe.SANITIZE_NAMED_PROPS||!1,We=qe.KEEP_CONTENT!==!1,me=qe.IN_PLACE||!1,X=qe.ALLOWED_URI_REGEXP||qj,Oe=qe.NAMESPACE||Le,ce=qe.CUSTOM_ELEMENT_HANDLING||{},qe.CUSTOM_ELEMENT_HANDLING&&_t(qe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=qe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),qe.CUSTOM_ELEMENT_HANDLING&&_t(qe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=qe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),qe.CUSTOM_ELEMENT_HANDLING&&typeof qe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=qe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pe&&(Z=!1),we&&(oe=!0),Te&&(q=Vr({},XB),U=[],Te.html===!0&&(Vr(q,YB),Vr(U,jB)),Te.svg===!0&&(Vr(q,e7),Vr(U,n7),Vr(U,z4)),Te.svgFilters===!0&&(Vr(q,t7),Vr(U,n7),Vr(U,z4)),Te.mathMl===!0&&(Vr(q,r7),Vr(U,KB),Vr(U,z4))),qe.ADD_TAGS&&(q===Y&&(q=Ld(q)),Vr(q,qe.ADD_TAGS,lt)),qe.ADD_ATTR&&(U===J&&(U=Ld(U)),Vr(U,qe.ADD_ATTR,lt)),qe.ADD_URI_SAFE_ATTR&&Vr(ee,qe.ADD_URI_SAFE_ATTR,lt),qe.FORBID_CONTENTS&&(fe===W&&(fe=Ld(fe)),Vr(fe,qe.FORBID_CONTENTS,lt)),We&&(q["#text"]=!0),Se&&Vr(q,["html","head","body"]),q.table&&(Vr(q,["tbody"]),delete re.tbody),qe.TRUSTED_TYPES_POLICY){if(typeof qe.TRUSTED_TYPES_POLICY.createHTML!="function")throw pm('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof qe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pm('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=qe.TRUSTED_TYPES_POLICY,C=E.createHTML("")}else E===void 0&&(E=Hve(p,i)),E!==null&&typeof C=="string"&&(C=E.createHTML(""));Ps&&Ps(qe),ft=qe}},at=Vr({},["mi","mo","mn","ms","mtext"]),Lt=Vr({},["foreignobject","annotation-xml"]),ut=Vr({},["title","style","font","a","script"]),pt=Vr({},[...e7,...t7,...Dve]),Zt=Vr({},[...r7,...Rve]),xt=function(qe){let vt=k(qe);(!vt||!vt.tagName)&&(vt={namespaceURI:Oe,tagName:"template"});const Vt=uw(qe.tagName),yr=uw(vt.tagName);return Ie[qe.namespaceURI]?qe.namespaceURI===ke?vt.namespaceURI===Le?Vt==="svg":vt.namespaceURI===_e?Vt==="svg"&&(yr==="annotation-xml"||at[yr]):!!pt[Vt]:qe.namespaceURI===_e?vt.namespaceURI===Le?Vt==="math":vt.namespaceURI===ke?Vt==="math"&&Lt[yr]:!!Zt[Vt]:qe.namespaceURI===Le?vt.namespaceURI===ke&&!Lt[yr]||vt.namespaceURI===_e&&!at[yr]?!1:!Zt[Vt]&&(ut[Vt]||!pt[Vt]):!!(Ne==="application/xhtml+xml"&&Ie[qe.namespaceURI]):!1},ht=function(qe){fm(e.removed,{element:qe});try{k(qe).removeChild(qe)}catch{x(qe)}},Mt=function(qe,vt){try{fm(e.removed,{attribute:vt.getAttributeNode(qe),from:vt})}catch{fm(e.removed,{attribute:null,from:vt})}if(vt.removeAttribute(qe),qe==="is"&&!U[qe])if(oe||we)try{ht(vt)}catch{}else try{vt.setAttribute(qe,"")}catch{}},nr=function(qe){let vt=null,Vt=null;if(be)qe="<remove></remove>"+qe;else{const Yr=qB(qe,/^[\r\n\t ]+/);Vt=Yr&&Yr[0]}Ne==="application/xhtml+xml"&&Oe===Le&&(qe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+qe+"</body></html>");const yr=E?E.createHTML(qe):qe;if(Oe===Le)try{vt=new d().parseFromString(yr,Ne)}catch{}if(!vt||!vt.documentElement){vt=L.createDocument(Oe,"template",null);try{vt.documentElement.innerHTML=Me?C:yr}catch{}}const un=vt.body||vt.documentElement;return qe&&Vt&&un.insertBefore(r.createTextNode(Vt),un.childNodes[0]||null),Oe===Le?M.call(vt,Se?"html":"body")[0]:Se?vt.documentElement:un},Yt=function(qe){return _.call(qe.ownerDocument||qe,qe,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},wr=function(qe){return qe instanceof f&&(typeof qe.nodeName!="string"||typeof qe.textContent!="string"||typeof qe.removeChild!="function"||!(qe.attributes instanceof h)||typeof qe.removeAttribute!="function"||typeof qe.setAttribute!="function"||typeof qe.namespaceURI!="string"||typeof qe.insertBefore!="function"||typeof qe.hasChildNodes!="function")},Gr=function(qe){return typeof o=="function"&&qe instanceof o},Tr=function(qe,vt,Vt){N[qe]&&$4(N[qe],yr=>{yr.call(e,vt,Vt,ft)})},jn=function(qe){let vt=null;if(Tr("beforeSanitizeElements",qe,null),wr(qe))return ht(qe),!0;const Vt=lt(qe.nodeName);if(Tr("uponSanitizeElement",qe,{tagName:Vt,allowedTags:q}),qe.hasChildNodes()&&!Gr(qe.firstElementChild)&&Ts(/<[/\w]/g,qe.innerHTML)&&Ts(/<[/\w]/g,qe.textContent)||qe.nodeType===vm.progressingInstruction||Ee&&qe.nodeType===vm.comment&&Ts(/<[/\w]/g,qe.data))return ht(qe),!0;if(!q[Vt]||re[Vt]){if(!re[Vt]&&Dn(Vt)&&(ce.tagNameCheck instanceof RegExp&&Ts(ce.tagNameCheck,Vt)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(Vt)))return!1;if(We&&!fe[Vt]){const yr=k(qe)||qe.parentNode,un=w(qe)||qe.childNodes;if(un&&yr){const Yr=un.length;for(let Sn=Yr-1;Sn>=0;--Sn){const En=m(un[Sn],!0);En.__removalCount=(qe.__removalCount||0)+1,yr.insertBefore(En,y(qe))}}}return ht(qe),!0}return qe instanceof l&&!xt(qe)||(Vt==="noscript"||Vt==="noembed"||Vt==="noframes")&&Ts(/<\/no(script|embed|frames)/i,qe.innerHTML)?(ht(qe),!0):(pe&&qe.nodeType===vm.text&&(vt=qe.textContent,$4([z,V,D],yr=>{vt=dm(vt,yr," ")}),qe.textContent!==vt&&(fm(e.removed,{element:qe.cloneNode()}),qe.textContent=vt)),Tr("afterSanitizeElements",qe,null),!1)},sn=function(qe,vt,Vt){if(Pe&&(vt==="id"||vt==="name")&&(Vt in r||Vt in gt))return!1;if(!(Z&&!ve[vt]&&Ts(O,vt))){if(!(ye&&Ts(P,vt))){if(!U[vt]||ve[vt]){if(!(Dn(qe)&&(ce.tagNameCheck instanceof RegExp&&Ts(ce.tagNameCheck,qe)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(qe))&&(ce.attributeNameCheck instanceof RegExp&&Ts(ce.attributeNameCheck,vt)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(vt))||vt==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&Ts(ce.tagNameCheck,Vt)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(Vt))))return!1}else if(!ee[vt]){if(!Ts(X,dm(Vt,B,""))){if(!((vt==="src"||vt==="xlink:href"||vt==="href")&&qe!=="script"&&Cve(Vt,"data:")===0&&j[qe])){if(!(ue&&!Ts($,dm(Vt,B,"")))){if(Vt)return!1}}}}}}return!0},Dn=function(qe){return qe!=="annotation-xml"&&qB(qe,H)},$r=function(qe){Tr("beforeSanitizeAttributes",qe,null);const{attributes:vt}=qe;if(!vt)return;const Vt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};let yr=vt.length;for(;yr--;){const un=vt[yr],{name:Yr,namespaceURI:Sn,value:En}=un,kt=lt(Yr);let ot=Yr==="value"?En:Ave(En);if(Vt.attrName=kt,Vt.attrValue=ot,Vt.keepAttr=!0,Vt.forceKeepAttr=void 0,Tr("uponSanitizeAttribute",qe,Vt),ot=Vt.attrValue,Ee&&Ts(/((--!?|])>)|<\/(style|title)/i,ot)){Mt(Yr,qe);continue}if(Vt.forceKeepAttr||(Mt(Yr,qe),!Vt.keepAttr))continue;if(!ae&&Ts(/\/>/i,ot)){Mt(Yr,qe);continue}pe&&$4([z,V,D],St=>{ot=dm(ot,St," ")});const tr=lt(qe.nodeName);if(sn(tr,kt,ot)){if(Ge&&(kt==="id"||kt==="name")&&(Mt(Yr,qe),ot=je+ot),E&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Sn)switch(p.getAttributeType(tr,kt)){case"TrustedHTML":{ot=E.createHTML(ot);break}case"TrustedScriptURL":{ot=E.createScriptURL(ot);break}}try{Sn?qe.setAttributeNS(Sn,Yr,ot):qe.setAttribute(Yr,ot),wr(qe)?ht(qe):WB(e.removed)}catch{}}}Tr("afterSanitizeAttributes",qe,null)},kn=function Ut(qe){let vt=null;const Vt=Yt(qe);for(Tr("beforeSanitizeShadowDOM",qe,null);vt=Vt.nextNode();)Tr("uponSanitizeShadowNode",vt,null),!jn(vt)&&(vt.content instanceof a&&Ut(vt.content),$r(vt));Tr("afterSanitizeShadowDOM",qe,null)};return e.sanitize=function(Ut){let qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},vt=null,Vt=null,yr=null,un=null;if(Me=!Ut,Me&&(Ut="<!-->"),typeof Ut!="string"&&!Gr(Ut))if(typeof Ut.toString=="function"){if(Ut=Ut.toString(),typeof Ut!="string")throw pm("dirty is not a string, aborting")}else throw pm("toString is not a function");if(!e.isSupported)return Ut;if(de||ct(qe),e.removed=[],typeof Ut=="string"&&(me=!1),me){if(Ut.nodeName){const En=lt(Ut.nodeName);if(!q[En]||re[En])throw pm("root node is forbidden and cannot be sanitized in-place")}}else if(Ut instanceof o)vt=nr("<!---->"),Vt=vt.ownerDocument.importNode(Ut,!0),Vt.nodeType===vm.element&&Vt.nodeName==="BODY"||Vt.nodeName==="HTML"?vt=Vt:vt.appendChild(Vt);else{if(!oe&&!pe&&!Se&&Ut.indexOf("<")===-1)return E&&Re?E.createHTML(Ut):Ut;if(vt=nr(Ut),!vt)return oe?null:Re?C:""}vt&&be&&ht(vt.firstChild);const Yr=Yt(me?Ut:vt);for(;yr=Yr.nextNode();)jn(yr)||(yr.content instanceof a&&kn(yr.content),$r(yr));if(me)return Ut;if(oe){if(we)for(un=I.call(vt.ownerDocument);vt.firstChild;)un.appendChild(vt.firstChild);else un=vt;return(U.shadowroot||U.shadowrootmode)&&(un=F.call(n,un,!0)),un}let Sn=Se?vt.outerHTML:vt.innerHTML;return Se&&q["!doctype"]&&vt.ownerDocument&&vt.ownerDocument.doctype&&vt.ownerDocument.doctype.name&&Ts(Yj,vt.ownerDocument.doctype.name)&&(Sn="<!DOCTYPE "+vt.ownerDocument.doctype.name+`>
`+Sn),pe&&$4([z,V,D],En=>{Sn=dm(Sn,En," ")}),E&&Re?E.createHTML(Sn):Sn},e.setConfig=function(){let Ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ct(Ut),de=!0},e.clearConfig=function(){ft=null,de=!1},e.isValidAttribute=function(Ut,qe,vt){ft||ct({});const Vt=lt(Ut),yr=lt(qe);return sn(Vt,yr,vt)},e.addHook=function(Ut,qe){typeof qe=="function"&&(N[Ut]=N[Ut]||[],fm(N[Ut],qe))},e.removeHook=function(Ut){if(N[Ut])return WB(N[Ut])},e.removeHooks=function(Ut){N[Ut]&&(N[Ut]=[])},e.removeAllHooks=function(){N={}},e}var t1=Xj(),jj=Object.defineProperty,S=(t,e)=>jj(t,"name",{value:e,configurable:!0}),Kj=(t,e)=>{for(var r in e)jj(t,r,{get:e[r],enumerable:!0})},vc={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},he={trace:S((...t)=>{},"trace"),debug:S((...t)=>{},"debug"),info:S((...t)=>{},"info"),warn:S((...t)=>{},"warn"),error:S((...t)=>{},"error"),fatal:S((...t)=>{},"fatal")},DR=S(function(t="fatal"){let e=vc.fatal;typeof t=="string"?t.toLowerCase()in vc&&(e=vc[t]):typeof t=="number"&&(e=t),he.trace=()=>{},he.debug=()=>{},he.info=()=>{},he.warn=()=>{},he.error=()=>{},he.fatal=()=>{},e<=vc.fatal&&(he.fatal=console.error?console.error.bind(console,Jo("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Jo("FATAL"))),e<=vc.error&&(he.error=console.error?console.error.bind(console,Jo("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Jo("ERROR"))),e<=vc.warn&&(he.warn=console.warn?console.warn.bind(console,Jo("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Jo("WARN"))),e<=vc.info&&(he.info=console.info?console.info.bind(console,Jo("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Jo("INFO"))),e<=vc.debug&&(he.debug=console.debug?console.debug.bind(console,Jo("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Jo("DEBUG"))),e<=vc.trace&&(he.trace=console.debug?console.debug.bind(console,Jo("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Jo("TRACE")))},"setLogLevel"),Jo=S(t=>`%c${ma().format("ss.SSS")} : ${t} : `,"format"),Qj=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Cy=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Vve=/\s*%%.*\n/gm,rx,Zj=(rx=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},S(rx,"UnknownDiagramError"),rx),r1={},RR=S(function(t,e){t=t.replace(Qj,"").replace(Cy,"").replace(Vve,`
`);for(const[r,{detector:n}]of Object.entries(r1))if(n(t,e))return r;throw new Zj(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),Jj=S((...t)=>{for(const{id:e,detector:r,loader:n}of t)eK(e,r,n)},"registerLazyLoadedDiagrams"),eK=S((t,e,r)=>{r1[t]&&he.warn(`Detector with key ${t} already exists. Overwriting.`),r1[t]={detector:e,loader:r},he.debug(`Detector with key ${t} added${r?" with loader":""}`)},"addDetector"),Uve=S(t=>r1[t].loader,"getDiagramLoader"),x_=S((t,e,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(a=>x_(t,a,i)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(a=>{t.includes(a)||t.push(a)}),t):t===void 0||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(a=>{typeof e[a]=="object"&&(t[a]===void 0||typeof t[a]=="object")?(t[a]===void 0&&(t[a]=Array.isArray(e[a])?[]:{}),t[a]=x_(t[a],e[a],{depth:r-1,clobber:n})):(n||typeof t[a]!="object"&&typeof e[a]!="object")&&(t[a]=e[a])}),t)},"assignWithDepth"),Ji=x_,hE="#ffffff",fE="#f2f2f2",Ms=S((t,e)=>e?et(t,{s:-40,l:10}):et(t,{s:-40,l:-10}),"mkBorder"),nx,Gve=(nx=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,n,i,a,s,o,l,u,h,f,d;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||et(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||et(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Ms(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Ms(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Ms(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Ms(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Ht(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Ht(this.tertiaryColor),this.lineColor=this.lineColor||Ht(this.background),this.arrowheadColor=this.arrowheadColor||Ht(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?gr(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||gr(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Ht(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lr(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||et(this.primaryColor,{h:30}),this.cScale4=this.cScale4||et(this.primaryColor,{h:60}),this.cScale5=this.cScale5||et(this.primaryColor,{h:90}),this.cScale6=this.cScale6||et(this.primaryColor,{h:120}),this.cScale7=this.cScale7||et(this.primaryColor,{h:150}),this.cScale8=this.cScale8||et(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||et(this.primaryColor,{h:270}),this.cScale10=this.cScale10||et(this.primaryColor,{h:300}),this.cScale11=this.cScale11||et(this.primaryColor,{h:330}),this.darkMode)for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=gr(this["cScale"+p],75);else for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=gr(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Ht(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this.darkMode?this["cScalePeer"+p]=this["cScalePeer"+p]||lr(this["cScale"+p],10):this["cScalePeer"+p]=this["cScalePeer"+p]||gr(this["cScale"+p],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||et(this.mainBkg,{h:180,s:-15,l:e*(5+p*3)}),this["surfacePeer"+p]=this["surfacePeer"+p]||et(this.mainBkg,{h:180,s:-15,l:e*(8+p*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||et(this.primaryColor,{h:64}),this.fillType3=this.fillType3||et(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||et(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||et(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||et(this.primaryColor,{h:128}),this.fillType7=this.fillType7||et(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||et(this.primaryColor,{l:-10}),this.pie5=this.pie5||et(this.secondaryColor,{l:-10}),this.pie6=this.pie6||et(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||et(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||et(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||et(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||et(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||et(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||et(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||et(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||et(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||et(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||et(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||et(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||et(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||j0(this.quadrant1Fill)?lr(this.quadrant1Fill):gr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((r=this.xyChart)==null?void 0:r.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((l=this.xyChart)==null?void 0:l.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?gr(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||et(this.primaryColor,{h:-30}),this.git4=this.git4||et(this.primaryColor,{h:-60}),this.git5=this.git5||et(this.primaryColor,{h:-90}),this.git6=this.git6||et(this.primaryColor,{h:60}),this.git7=this.git7||et(this.primaryColor,{h:120}),this.darkMode?(this.git0=lr(this.git0,25),this.git1=lr(this.git1,25),this.git2=lr(this.git2,25),this.git3=lr(this.git3,25),this.git4=lr(this.git4,25),this.git5=lr(this.git5,25),this.git6=lr(this.git6,25),this.git7=lr(this.git7,25)):(this.git0=gr(this.git0,25),this.git1=gr(this.git1,25),this.git2=gr(this.git2,25),this.git3=gr(this.git3,25),this.git4=gr(this.git4,25),this.git5=gr(this.git5,25),this.git6=gr(this.git6,25),this.git7=gr(this.git7,25)),this.gitInv0=this.gitInv0||Ht(this.git0),this.gitInv1=this.gitInv1||Ht(this.git1),this.gitInv2=this.gitInv2||Ht(this.git2),this.gitInv3=this.gitInv3||Ht(this.git3),this.gitInv4=this.gitInv4||Ht(this.git4),this.gitInv5=this.gitInv5||Ht(this.git5),this.gitInv6=this.gitInv6||Ht(this.git6),this.gitInv7=this.gitInv7||Ht(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||hE,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||fE}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},S(nx,"Theme"),nx),Wve=S(t=>{const e=new Gve;return e.calculate(t),e},"getThemeVariables"),ix,qve=(ix=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lr(this.primaryColor,16),this.tertiaryColor=et(this.primaryColor,{h:-160}),this.primaryBorderColor=Ht(this.background),this.secondaryBorderColor=Ms(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ms(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ht(this.primaryColor),this.secondaryTextColor=Ht(this.secondaryColor),this.tertiaryTextColor=Ht(this.tertiaryColor),this.lineColor=Ht(this.background),this.textColor=Ht(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lr(Ht("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=a0(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=gr("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=gr(this.sectionBkgColor,10),this.taskBorderColor=a0(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=a0(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,r,n,i,a,s,o,l,u,h,f;this.secondBkg=lr(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lr(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lr(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=et(this.primaryColor,{h:64}),this.fillType3=et(this.secondaryColor,{h:64}),this.fillType4=et(this.primaryColor,{h:-64}),this.fillType5=et(this.secondaryColor,{h:-64}),this.fillType6=et(this.primaryColor,{h:128}),this.fillType7=et(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||et(this.primaryColor,{h:30}),this.cScale4=this.cScale4||et(this.primaryColor,{h:60}),this.cScale5=this.cScale5||et(this.primaryColor,{h:90}),this.cScale6=this.cScale6||et(this.primaryColor,{h:120}),this.cScale7=this.cScale7||et(this.primaryColor,{h:150}),this.cScale8=this.cScale8||et(this.primaryColor,{h:210}),this.cScale9=this.cScale9||et(this.primaryColor,{h:270}),this.cScale10=this.cScale10||et(this.primaryColor,{h:300}),this.cScale11=this.cScale11||et(this.primaryColor,{h:330});for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||Ht(this["cScale"+d]);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScalePeer"+d]=this["cScalePeer"+d]||lr(this["cScale"+d],10);for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||et(this.mainBkg,{h:30,s:-30,l:-(-10+d*4)}),this["surfacePeer"+d]=this["surfacePeer"+d]||et(this.mainBkg,{h:30,s:-30,l:-(-7+d*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["pie"+d]=this["cScale"+d];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||et(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||et(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||et(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||et(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||et(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||et(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||j0(this.quadrant1Fill)?lr(this.quadrant1Fill):gr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?gr(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lr(this.secondaryColor,20),this.git1=lr(this.pie2||this.secondaryColor,20),this.git2=lr(this.pie3||this.tertiaryColor,20),this.git3=lr(this.pie4||et(this.primaryColor,{h:-30}),20),this.git4=lr(this.pie5||et(this.primaryColor,{h:-60}),20),this.git5=lr(this.pie6||et(this.primaryColor,{h:-90}),10),this.git6=lr(this.pie7||et(this.primaryColor,{h:60}),10),this.git7=lr(this.pie8||et(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Ht(this.git0),this.gitInv1=this.gitInv1||Ht(this.git1),this.gitInv2=this.gitInv2||Ht(this.git2),this.gitInv3=this.gitInv3||Ht(this.git3),this.gitInv4=this.gitInv4||Ht(this.git4),this.gitInv5=this.gitInv5||Ht(this.git5),this.gitInv6=this.gitInv6||Ht(this.git6),this.gitInv7=this.gitInv7||Ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lr(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lr(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},S(ix,"Theme"),ix),Yve=S(t=>{const e=new qve;return e.calculate(t),e},"getThemeVariables"),ax,Xve=(ax=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=et(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=et(this.primaryColor,{h:-160}),this.primaryBorderColor=Ms(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ms(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ms(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ht(this.primaryColor),this.secondaryTextColor=Ht(this.secondaryColor),this.tertiaryTextColor=Ht(this.tertiaryColor),this.lineColor=Ht(this.background),this.textColor=Ht(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=a0(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,r,n,i,a,s,o,l,u,h,f;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||et(this.primaryColor,{h:30}),this.cScale4=this.cScale4||et(this.primaryColor,{h:60}),this.cScale5=this.cScale5||et(this.primaryColor,{h:90}),this.cScale6=this.cScale6||et(this.primaryColor,{h:120}),this.cScale7=this.cScale7||et(this.primaryColor,{h:150}),this.cScale8=this.cScale8||et(this.primaryColor,{h:210}),this.cScale9=this.cScale9||et(this.primaryColor,{h:270}),this.cScale10=this.cScale10||et(this.primaryColor,{h:300}),this.cScale11=this.cScale11||et(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||gr(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||gr(this.tertiaryColor,40);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScale"+d]=gr(this["cScale"+d],10),this["cScalePeer"+d]=this["cScalePeer"+d]||gr(this["cScale"+d],25);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||et(this["cScale"+d],{h:180});for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||et(this.mainBkg,{h:30,l:-(5+d*5)}),this["surfacePeer"+d]=this["surfacePeer"+d]||et(this.mainBkg,{h:30,l:-(7+d*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Ht(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Ht(this.labelTextColor);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lr(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=et(this.primaryColor,{h:64}),this.fillType3=et(this.secondaryColor,{h:64}),this.fillType4=et(this.primaryColor,{h:-64}),this.fillType5=et(this.secondaryColor,{h:-64}),this.fillType6=et(this.primaryColor,{h:128}),this.fillType7=et(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||et(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||et(this.primaryColor,{l:-10}),this.pie5=this.pie5||et(this.secondaryColor,{l:-30}),this.pie6=this.pie6||et(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||et(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||et(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||et(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||et(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||et(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||et(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||et(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||et(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||et(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||et(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||et(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||et(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||j0(this.quadrant1Fill)?lr(this.quadrant1Fill):gr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||et(this.primaryColor,{h:-30}),this.git4=this.git4||et(this.primaryColor,{h:-60}),this.git5=this.git5||et(this.primaryColor,{h:-90}),this.git6=this.git6||et(this.primaryColor,{h:60}),this.git7=this.git7||et(this.primaryColor,{h:120}),this.darkMode?(this.git0=lr(this.git0,25),this.git1=lr(this.git1,25),this.git2=lr(this.git2,25),this.git3=lr(this.git3,25),this.git4=lr(this.git4,25),this.git5=lr(this.git5,25),this.git6=lr(this.git6,25),this.git7=lr(this.git7,25)):(this.git0=gr(this.git0,25),this.git1=gr(this.git1,25),this.git2=gr(this.git2,25),this.git3=gr(this.git3,25),this.git4=gr(this.git4,25),this.git5=gr(this.git5,25),this.git6=gr(this.git6,25),this.git7=gr(this.git7,25)),this.gitInv0=this.gitInv0||gr(Ht(this.git0),25),this.gitInv1=this.gitInv1||Ht(this.git1),this.gitInv2=this.gitInv2||Ht(this.git2),this.gitInv3=this.gitInv3||Ht(this.git3),this.gitInv4=this.gitInv4||Ht(this.git4),this.gitInv5=this.gitInv5||Ht(this.git5),this.gitInv6=this.gitInv6||Ht(this.git6),this.gitInv7=this.gitInv7||Ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||hE,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||fE}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},S(ax,"Theme"),ax),MR=S(t=>{const e=new Xve;return e.calculate(t),e},"getThemeVariables"),sx,jve=(sx=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lr("#cde498",10),this.primaryBorderColor=Ms(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ms(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ms(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ht(this.primaryColor),this.secondaryTextColor=Ht(this.secondaryColor),this.tertiaryTextColor=Ht(this.primaryColor),this.lineColor=Ht(this.background),this.textColor=Ht(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,i,a,s,o,l,u,h,f;this.actorBorder=gr(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||et(this.primaryColor,{h:30}),this.cScale4=this.cScale4||et(this.primaryColor,{h:60}),this.cScale5=this.cScale5||et(this.primaryColor,{h:90}),this.cScale6=this.cScale6||et(this.primaryColor,{h:120}),this.cScale7=this.cScale7||et(this.primaryColor,{h:150}),this.cScale8=this.cScale8||et(this.primaryColor,{h:210}),this.cScale9=this.cScale9||et(this.primaryColor,{h:270}),this.cScale10=this.cScale10||et(this.primaryColor,{h:300}),this.cScale11=this.cScale11||et(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||gr(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||gr(this.tertiaryColor,40);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScale"+d]=gr(this["cScale"+d],10),this["cScalePeer"+d]=this["cScalePeer"+d]||gr(this["cScale"+d],25);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||et(this["cScale"+d],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||et(this.mainBkg,{h:30,s:-30,l:-(5+d*5)}),this["surfacePeer"+d]=this["surfacePeer"+d]||et(this.mainBkg,{h:30,s:-30,l:-(8+d*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=et(this.primaryColor,{h:64}),this.fillType3=et(this.secondaryColor,{h:64}),this.fillType4=et(this.primaryColor,{h:-64}),this.fillType5=et(this.secondaryColor,{h:-64}),this.fillType6=et(this.primaryColor,{h:128}),this.fillType7=et(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||et(this.primaryColor,{l:-30}),this.pie5=this.pie5||et(this.secondaryColor,{l:-30}),this.pie6=this.pie6||et(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||et(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||et(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||et(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||et(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||et(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||et(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||et(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||et(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||et(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||et(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||et(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||et(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||j0(this.quadrant1Fill)?lr(this.quadrant1Fill):gr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||et(this.primaryColor,{h:-30}),this.git4=this.git4||et(this.primaryColor,{h:-60}),this.git5=this.git5||et(this.primaryColor,{h:-90}),this.git6=this.git6||et(this.primaryColor,{h:60}),this.git7=this.git7||et(this.primaryColor,{h:120}),this.darkMode?(this.git0=lr(this.git0,25),this.git1=lr(this.git1,25),this.git2=lr(this.git2,25),this.git3=lr(this.git3,25),this.git4=lr(this.git4,25),this.git5=lr(this.git5,25),this.git6=lr(this.git6,25),this.git7=lr(this.git7,25)):(this.git0=gr(this.git0,25),this.git1=gr(this.git1,25),this.git2=gr(this.git2,25),this.git3=gr(this.git3,25),this.git4=gr(this.git4,25),this.git5=gr(this.git5,25),this.git6=gr(this.git6,25),this.git7=gr(this.git7,25)),this.gitInv0=this.gitInv0||Ht(this.git0),this.gitInv1=this.gitInv1||Ht(this.git1),this.gitInv2=this.gitInv2||Ht(this.git2),this.gitInv3=this.gitInv3||Ht(this.git3),this.gitInv4=this.gitInv4||Ht(this.git4),this.gitInv5=this.gitInv5||Ht(this.git5),this.gitInv6=this.gitInv6||Ht(this.git6),this.gitInv7=this.gitInv7||Ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||hE,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||fE}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},S(sx,"Theme"),sx),Kve=S(t=>{const e=new jve;return e.calculate(t),e},"getThemeVariables"),ox,Qve=(ox=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lr(this.contrast,55),this.background="#ffffff",this.tertiaryColor=et(this.primaryColor,{h:-160}),this.primaryBorderColor=Ms(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ms(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ms(this.tertiaryColor,this.darkMode),this.primaryTextColor=Ht(this.primaryColor),this.secondaryTextColor=Ht(this.secondaryColor),this.tertiaryTextColor=Ht(this.tertiaryColor),this.lineColor=Ht(this.background),this.textColor=Ht(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,i,a,s,o,l,u,h,f;this.secondBkg=lr(this.contrast,55),this.border2=this.contrast,this.actorBorder=lr(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||Ht(this["cScale"+d]);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this.darkMode?this["cScalePeer"+d]=this["cScalePeer"+d]||lr(this["cScale"+d],10):this["cScalePeer"+d]=this["cScalePeer"+d]||gr(this["cScale"+d],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||et(this.mainBkg,{l:-(5+d*5)}),this["surfacePeer"+d]=this["surfacePeer"+d]||et(this.mainBkg,{l:-(8+d*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=lr(this.contrast,30),this.sectionBkgColor2=lr(this.contrast,30),this.taskBorderColor=gr(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lr(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=gr(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=et(this.primaryColor,{h:64}),this.fillType3=et(this.secondaryColor,{h:64}),this.fillType4=et(this.primaryColor,{h:-64}),this.fillType5=et(this.secondaryColor,{h:-64}),this.fillType6=et(this.primaryColor,{h:128}),this.fillType7=et(this.secondaryColor,{h:128});for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["pie"+d]=this["cScale"+d];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||et(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||et(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||et(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||et(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||et(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||et(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||j0(this.quadrant1Fill)?lr(this.quadrant1Fill):gr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=gr(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||et(this.primaryColor,{h:-30}),this.git4=this.pie5||et(this.primaryColor,{h:-60}),this.git5=this.pie6||et(this.primaryColor,{h:-90}),this.git6=this.pie7||et(this.primaryColor,{h:60}),this.git7=this.pie8||et(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Ht(this.git0),this.gitInv1=this.gitInv1||Ht(this.git1),this.gitInv2=this.gitInv2||Ht(this.git2),this.gitInv3=this.gitInv3||Ht(this.git3),this.gitInv4=this.gitInv4||Ht(this.git4),this.gitInv5=this.gitInv5||Ht(this.git5),this.gitInv6=this.gitInv6||Ht(this.git6),this.gitInv7=this.gitInv7||Ht(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||hE,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||fE}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},S(ox,"Theme"),ox),Zve=S(t=>{const e=new Qve;return e.calculate(t),e},"getThemeVariables"),Hc={base:{getThemeVariables:Wve},dark:{getThemeVariables:Yve},default:{getThemeVariables:MR},forest:{getThemeVariables:Kve},neutral:{getThemeVariables:Zve}},Nh={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},tK={...Nh,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:Hc.default.getThemeVariables(),sequence:{...Nh.sequence,messageFont:S(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:S(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:S(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},gantt:{...Nh.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Nh.c4,useWidth:void 0,personFont:S(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:S(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:S(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:S(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:S(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:S(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:S(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:S(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:S(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:S(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:S(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:S(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:S(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:S(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:S(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:S(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:S(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:S(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:S(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:S(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:S(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:S(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Nh.pie,useWidth:984},xyChart:{...Nh.xyChart,useWidth:void 0},requirement:{...Nh.requirement,useWidth:void 0},packet:{...Nh.packet}},rK=S((t,e="")=>Object.keys(t).reduce((r,n)=>Array.isArray(t[n])?r:typeof t[n]=="object"&&t[n]!==null?[...r,e+n,...rK(t[n],"")]:[...r,e+n],[]),"keyify"),Jve=new Set(rK(tK,"")),An=tK,D5=S(t=>{if(he.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>D5(e));return}for(const e of Object.keys(t)){if(he.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!Jve.has(e)||t[e]==null){he.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){he.debug("sanitizing object",e),D5(t[e]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)e.includes(n)&&(he.debug("sanitizing css option",e),t[e]=eme(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const r=t.themeVariables[e];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}he.debug("After sanitization",t)}},"sanitizeDirective"),eme=S(t=>{let e=0,r=0;for(const n of t){if(e<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?e++:n==="}"&&r++}return e!==r?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),n1=Object.freeze(An),to=Ji({},n1),nK,i1=[],Ay=Ji({},n1),dE=S((t,e)=>{let r=Ji({},t),n={};for(const i of e)sK(i),n=Ji(n,i);if(r=Ji(r,n),n.theme&&n.theme in Hc){const i=Ji({},nK),a=Ji(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Hc&&(r.themeVariables=Hc[r.theme].getThemeVariables(a))}return Ay=r,oK(Ay),Ay},"updateCurrentConfig"),tme=S(t=>(to=Ji({},n1),to=Ji(to,t),t.theme&&Hc[t.theme]&&(to.themeVariables=Hc[t.theme].getThemeVariables(t.themeVariables)),dE(to,i1),to),"setSiteConfig"),rme=S(t=>{nK=Ji({},t)},"saveConfigFromInitialize"),nme=S(t=>(to=Ji(to,t),dE(to,i1),to),"updateSiteConfig"),iK=S(()=>Ji({},to),"getSiteConfig"),aK=S(t=>(oK(t),Ji(Ay,t),wi()),"setConfig"),wi=S(()=>Ji({},Ay),"getConfig"),sK=S(t=>{t&&(["secure",...to.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(he.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&sK(t[e])}))},"sanitize"),ime=S(t=>{var e;D5(t),t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),i1.push(t),dE(to,i1)},"addDirective"),R5=S((t=to)=>{i1=[],dE(t,i1)},"reset"),ame={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},ZB={},sme=S(t=>{ZB[t]||(he.warn(ame[t]),ZB[t]=!0)},"issueWarning"),oK=S(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&sme("LAZY_LOAD_DEPRECATED")},"checkConfig"),Y1=/<br\s*\/?>/gi,ome=S(t=>t?cK(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),lme=(()=>{let t=!1;return()=>{t||(lK(),t=!0)}})();function lK(){const t="data-temp-href-target";t1.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),t1.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}S(lK,"setupDompurifyHooks");var uK=S(t=>(lme(),t1.sanitize(t)),"removeScript"),JB=S((t,e)=>{var r;if(((r=e.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=e.securityLevel;n==="antiscript"||n==="strict"?t=uK(t):n!=="loose"&&(t=cK(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=fme(t))}return t},"sanitizeMore"),Mi=S((t,e)=>t&&(e.dompurifyConfig?t=t1.sanitize(JB(t,e),e.dompurifyConfig).toString():t=t1.sanitize(JB(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),ume=S((t,e)=>typeof t=="string"?Mi(t,e):t.flat().map(r=>Mi(r,e)),"sanitizeTextOrArray"),cme=S(t=>Y1.test(t),"hasBreaks"),hme=S(t=>t.split(Y1),"splitBreaks"),fme=S(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),cK=S(t=>t.replace(Y1,"#br#"),"breakToPlaceholder"),dme=S(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},"getUrl"),Pn=S(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),pme=S(function(...t){const e=t.filter(r=>!isNaN(r));return Math.max(...e)},"getMax"),gme=S(function(...t){const e=t.filter(r=>!isNaN(r));return Math.min(...e)},"getMin"),_y=S(function(t){const e=t.split(/(,)/),r=[];for(let n=0;n<e.length;n++){let i=e[n];if(i===","&&n>0&&n+1<e.length){const a=e[n-1],s=e[n+1];vme(a,s)&&(i=a+","+s,n++,r.pop())}r.push(mme(i))}return r.join("")},"parseGenericTypes"),b_=S((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),vme=S((t,e)=>{const r=b_(t,"~"),n=b_(e,"~");return r===1&&n===1},"shouldCombineSets"),mme=S(t=>{const e=b_(t,"~");let r=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),r=!0);const n=[...t];let i=n.indexOf("~"),a=n.lastIndexOf("~");for(;i!==-1&&a!==-1&&i!==a;)n[i]="<",n[a]=">",i=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),e$=S(()=>window.MathMLElement!==void 0,"isMathMLSupported"),w_=/\$\$(.*)\$\$/g,Bs=S(t=>{var e;return(((e=t.match(w_))==null?void 0:e.length)??0)>0},"hasKatex"),Xx=S(async(t,e)=>{t=await jx(t,e);const r=document.createElement("div");r.innerHTML=t,r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),jx=S(async(t,e)=>{if(!Bs(t))return t;if(!(e$()||e.legacyMathML||e.forceLegacyMathML))return t.replace(w_,"MathML is unsupported in this environment.");const{default:r}=await on(()=>Promise.resolve().then(()=>aDe),void 0),n=e.forceLegacyMathML||!e$()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(Y1).map(i=>Bs(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(w_,(i,a)=>r.renderToString(a,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),Et={getRows:ome,sanitizeText:Mi,sanitizeTextOrArray:ume,hasBreaks:cme,splitBreaks:hme,lineBreakRegex:Y1,removeScript:uK,getUrl:dme,evaluate:Pn,getMax:pme,getMin:gme},yme=S(function(t,e){for(let r of e)t.attr(r[0],r[1])},"d3Attrs"),xme=S(function(t,e,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${e}px;`)):(n.set("height",t),n.set("width",e)),n},"calculateSvgSizeAttrs"),Ga=S(function(t,e,r,n){const i=xme(e,r,n);yme(t,i)},"configureSvgSize"),X1=S(function(t,e,r,n){const i=e.node().getBBox(),a=i.width,s=i.height;he.info(`SVG bounds: ${a}x${s}`,i);let o=0,l=0;he.info(`Graph bounds: ${o}x${l}`,t),o=a+r*2,l=s+r*2,he.info(`Calculated bounds: ${o}x${l}`),Ga(e,l,o,n);const u=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;e.attr("viewBox",u)},"setupGraphViewbox"),cw={},bme=S((t,e,r)=>{let n="";return t in cw&&cw[t]?n=cw[t](r):he.warn(`No theme found for ${t}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${e}
`},"getStyles"),wme=S((t,e)=>{e!==void 0&&(cw[t]=e)},"addStylesForDiagram"),kme=bme,NR={};Kj(NR,{clear:()=>ka,getAccDescription:()=>Ya,getAccTitle:()=>Wa,getDiagramTitle:()=>Xa,setAccDescription:()=>qa,setAccTitle:()=>Sa,setDiagramTitle:()=>Us});var IR="",OR="",FR="",PR=S(t=>Mi(t,wi()),"sanitizeText"),ka=S(()=>{IR="",FR="",OR=""},"clear"),Sa=S(t=>{IR=PR(t).replace(/^\s+/g,"")},"setAccTitle"),Wa=S(()=>IR,"getAccTitle"),qa=S(t=>{FR=PR(t).replace(/\n\s+/g,`
`)},"setAccDescription"),Ya=S(()=>FR,"getAccDescription"),Us=S(t=>{OR=PR(t)},"setDiagramTitle"),Xa=S(()=>OR,"getDiagramTitle"),t$=he,Sme=DR,Ve=wi,r$=aK,hK=n1,Eme=S(t=>Mi(t,Ve()),"sanitizeText"),fK=X1,Tme=S(()=>NR,"getCommonDb"),M5={},N5=S((t,e,r)=>{var n;M5[t]&&t$.warn(`Diagram with id ${t} already registered. Overwriting.`),M5[t]=e,r&&eK(t,r),wme(t,e.styles),(n=e.injectUtils)==null||n.call(e,t$,Sme,Ve,Eme,fK,Tme(),()=>{})},"registerDiagram"),k_=S(t=>{if(t in M5)return M5[t];throw new Cme(t)},"getDiagram"),lx,Cme=(lx=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},S(lx,"DiagramNotFoundError"),lx);function BR(t){return typeof t>"u"||t===null}S(BR,"isNothing");function dK(t){return typeof t=="object"&&t!==null}S(dK,"isObject");function pK(t){return Array.isArray(t)?t:BR(t)?[]:[t]}S(pK,"toArray");function gK(t,e){var r,n,i,a;if(e)for(a=Object.keys(e),r=0,n=a.length;r<n;r+=1)i=a[r],t[i]=e[i];return t}S(gK,"extend");function vK(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}S(vK,"repeat");function mK(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}S(mK,"isNegativeZero");var Ame=BR,_me=dK,Lme=pK,Dme=vK,Rme=mK,Mme=gK,ea={isNothing:Ame,isObject:_me,toArray:Lme,repeat:Dme,isNegativeZero:Rme,extend:Mme};function $R(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}S($R,"formatError");function a1(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=$R(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}S(a1,"YAMLException$1");a1.prototype=Object.create(Error.prototype);a1.prototype.constructor=a1;a1.prototype.toString=S(function(e){return this.name+": "+$R(this,e)},"toString");var no=a1;function hw(t,e,r,n,i){var a="",s="",o=Math.floor(i/2)-1;return n-e>o&&(a=" ... ",e=n-o+a.length),r-n>o&&(s=" ...",r=n+o-s.length),{str:a+t.slice(e,r).replace(/\t/g,"→")+s,pos:n-e+a.length}}S(hw,"getLine");function fw(t,e){return ea.repeat(" ",e-t.length)+t}S(fw,"padStart");function yK(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],a,s=-1;a=r.exec(t.buffer);)i.push(a.index),n.push(a.index+a[0].length),t.position<=a.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var o="",l,u,h=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+h+3);for(l=1;l<=e.linesBefore&&!(s-l<0);l++)u=hw(t.buffer,n[s-l],i[s-l],t.position-(n[s]-n[s-l]),f),o=ea.repeat(" ",e.indent)+fw((t.line-l+1).toString(),h)+" | "+u.str+`
`+o;for(u=hw(t.buffer,n[s],i[s],t.position,f),o+=ea.repeat(" ",e.indent)+fw((t.line+1).toString(),h)+" | "+u.str+`
`,o+=ea.repeat("-",e.indent+h+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(s+l>=i.length);l++)u=hw(t.buffer,n[s+l],i[s+l],t.position-(n[s]-n[s+l]),f),o+=ea.repeat(" ",e.indent)+fw((t.line+l+1).toString(),h)+" | "+u.str+`
`;return o.replace(/\n$/,"")}S(yK,"makeSnippet");var Nme=yK,Ime=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Ome=["scalar","sequence","mapping"];function xK(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}S(xK,"compileStyleAliases");function bK(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(Ime.indexOf(r)===-1)throw new no('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=xK(e.styleAliases||null),Ome.indexOf(this.kind)===-1)throw new no('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}S(bK,"Type$1");var hs=bK;function S_(t,e){var r=[];return t[e].forEach(function(n){var i=r.length;r.forEach(function(a,s){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(i=s)}),r[i]=n}),r}S(S_,"compileList");function wK(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function n(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(S(n,"collectType"),e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}S(wK,"compileMap");function I5(t){return this.extend(t)}S(I5,"Schema$1");I5.prototype.extend=S(function(e){var r=[],n=[];if(e instanceof hs)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new no("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(a){if(!(a instanceof hs))throw new no("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new no("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new no("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(a){if(!(a instanceof hs))throw new no("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(I5.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=S_(i,"implicit"),i.compiledExplicit=S_(i,"explicit"),i.compiledTypeMap=wK(i.compiledImplicit,i.compiledExplicit),i},"extend");var Fme=I5,Pme=new hs("tag:yaml.org,2002:str",{kind:"scalar",construct:S(function(t){return t!==null?t:""},"construct")}),Bme=new hs("tag:yaml.org,2002:seq",{kind:"sequence",construct:S(function(t){return t!==null?t:[]},"construct")}),$me=new hs("tag:yaml.org,2002:map",{kind:"mapping",construct:S(function(t){return t!==null?t:{}},"construct")}),zme=new Fme({explicit:[Pme,Bme,$me]});function kK(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}S(kK,"resolveYamlNull");function SK(){return null}S(SK,"constructYamlNull");function EK(t){return t===null}S(EK,"isNull");var Hme=new hs("tag:yaml.org,2002:null",{kind:"scalar",resolve:kK,construct:SK,predicate:EK,represent:{canonical:S(function(){return"~"},"canonical"),lowercase:S(function(){return"null"},"lowercase"),uppercase:S(function(){return"NULL"},"uppercase"),camelcase:S(function(){return"Null"},"camelcase"),empty:S(function(){return""},"empty")},defaultStyle:"lowercase"});function TK(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}S(TK,"resolveYamlBoolean");function CK(t){return t==="true"||t==="True"||t==="TRUE"}S(CK,"constructYamlBoolean");function AK(t){return Object.prototype.toString.call(t)==="[object Boolean]"}S(AK,"isBoolean");var Vme=new hs("tag:yaml.org,2002:bool",{kind:"scalar",resolve:TK,construct:CK,predicate:AK,represent:{lowercase:S(function(t){return t?"true":"false"},"lowercase"),uppercase:S(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:S(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function _K(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}S(_K,"isHexCode");function LK(t){return 48<=t&&t<=55}S(LK,"isOctCode");function DK(t){return 48<=t&&t<=57}S(DK,"isDecCode");function RK(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!_K(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!LK(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(!DK(t.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}S(RK,"resolveYamlInteger");function MK(t){var e=t,r=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}S(MK,"constructYamlInteger");function NK(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!ea.isNegativeZero(t)}S(NK,"isInteger");var Ume=new hs("tag:yaml.org,2002:int",{kind:"scalar",resolve:RK,construct:MK,predicate:NK,represent:{binary:S(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:S(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:S(function(t){return t.toString(10)},"decimal"),hexadecimal:S(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Gme=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function IK(t){return!(t===null||!Gme.test(t)||t[t.length-1]==="_")}S(IK,"resolveYamlFloat");function OK(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}S(OK,"constructYamlFloat");var Wme=/^[-+]?[0-9]+e/;function FK(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ea.isNegativeZero(t))return"-0.0";return r=t.toString(10),Wme.test(r)?r.replace("e",".e"):r}S(FK,"representYamlFloat");function PK(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||ea.isNegativeZero(t))}S(PK,"isFloat");var qme=new hs("tag:yaml.org,2002:float",{kind:"scalar",resolve:IK,construct:OK,predicate:PK,represent:FK,defaultStyle:"lowercase"}),BK=zme.extend({implicit:[Hme,Vme,Ume,qme]}),Yme=BK,$K=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),zK=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function HK(t){return t===null?!1:$K.exec(t)!==null||zK.exec(t)!==null}S(HK,"resolveYamlTimestamp");function VK(t){var e,r,n,i,a,s,o,l=0,u=null,h,f,d;if(e=$K.exec(t),e===null&&(e=zK.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(a=+e[4],s=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(h=+e[10],f=+(e[11]||0),u=(h*60+f)*6e4,e[9]==="-"&&(u=-u)),d=new Date(Date.UTC(r,n,i,a,s,o,l)),u&&d.setTime(d.getTime()-u),d}S(VK,"constructYamlTimestamp");function UK(t){return t.toISOString()}S(UK,"representYamlTimestamp");var Xme=new hs("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:HK,construct:VK,instanceOf:Date,represent:UK});function GK(t){return t==="<<"||t===null}S(GK,"resolveYamlMerge");var jme=new hs("tag:yaml.org,2002:merge",{kind:"scalar",resolve:GK}),zR=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function WK(t){if(t===null)return!1;var e,r,n=0,i=t.length,a=zR;for(r=0;r<i;r++)if(e=a.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}S(WK,"resolveYamlBinary");function qK(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,a=zR,s=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)),s=s<<6|a.indexOf(n.charAt(e));return r=i%4*6,r===0?(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)):r===18?(o.push(s>>10&255),o.push(s>>2&255)):r===12&&o.push(s>>4&255),new Uint8Array(o)}S(qK,"constructYamlBinary");function YK(t){var e="",r=0,n,i,a=t.length,s=zR;for(n=0;n<a;n++)n%3===0&&n&&(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]),r=(r<<8)+t[n];return i=a%3,i===0?(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]):i===2?(e+=s[r>>10&63],e+=s[r>>4&63],e+=s[r<<2&63],e+=s[64]):i===1&&(e+=s[r>>2&63],e+=s[r<<4&63],e+=s[64],e+=s[64]),e}S(YK,"representYamlBinary");function XK(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}S(XK,"isBinary");var Kme=new hs("tag:yaml.org,2002:binary",{kind:"scalar",resolve:WK,construct:qK,predicate:XK,represent:YK}),Qme=Object.prototype.hasOwnProperty,Zme=Object.prototype.toString;function jK(t){if(t===null)return!0;var e=[],r,n,i,a,s,o=t;for(r=0,n=o.length;r<n;r+=1){if(i=o[r],s=!1,Zme.call(i)!=="[object Object]")return!1;for(a in i)if(Qme.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(a)===-1)e.push(a);else return!1}return!0}S(jK,"resolveYamlOmap");function KK(t){return t!==null?t:[]}S(KK,"constructYamlOmap");var Jme=new hs("tag:yaml.org,2002:omap",{kind:"sequence",resolve:jK,construct:KK}),eye=Object.prototype.toString;function QK(t){if(t===null)return!0;var e,r,n,i,a,s=t;for(a=new Array(s.length),e=0,r=s.length;e<r;e+=1){if(n=s[e],eye.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;a[e]=[i[0],n[i[0]]]}return!0}S(QK,"resolveYamlPairs");function ZK(t){if(t===null)return[];var e,r,n,i,a,s=t;for(a=new Array(s.length),e=0,r=s.length;e<r;e+=1)n=s[e],i=Object.keys(n),a[e]=[i[0],n[i[0]]];return a}S(ZK,"constructYamlPairs");var tye=new hs("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:QK,construct:ZK}),rye=Object.prototype.hasOwnProperty;function JK(t){if(t===null)return!0;var e,r=t;for(e in r)if(rye.call(r,e)&&r[e]!==null)return!1;return!0}S(JK,"resolveYamlSet");function eQ(t){return t!==null?t:{}}S(eQ,"constructYamlSet");var nye=new hs("tag:yaml.org,2002:set",{kind:"mapping",resolve:JK,construct:eQ}),tQ=Yme.extend({implicit:[Xme,jme],explicit:[Kme,Jme,tye,nye]}),Af=Object.prototype.hasOwnProperty,O5=1,rQ=2,nQ=3,F5=4,i7=1,iye=2,n$=3,aye=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,sye=/[\x85\u2028\u2029]/,oye=/[,\[\]\{\}]/,iQ=/^(?:!|!!|![a-z\-]+!)$/i,aQ=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function E_(t){return Object.prototype.toString.call(t)}S(E_,"_class");function Ql(t){return t===10||t===13}S(Ql,"is_EOL");function xf(t){return t===9||t===32}S(xf,"is_WHITE_SPACE");function Ns(t){return t===9||t===32||t===10||t===13}S(Ns,"is_WS_OR_EOL");function Xd(t){return t===44||t===91||t===93||t===123||t===125}S(Xd,"is_FLOW_INDICATOR");function sQ(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}S(sQ,"fromHexCode");function oQ(t){return t===120?2:t===117?4:t===85?8:0}S(oQ,"escapedHexLen");function lQ(t){return 48<=t&&t<=57?t-48:-1}S(lQ,"fromDecimalCode");function T_(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}S(T_,"simpleEscapeSequence");function uQ(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}S(uQ,"charFromCodepoint");var cQ=new Array(256),hQ=new Array(256);for(bd=0;bd<256;bd++)cQ[bd]=T_(bd)?1:0,hQ[bd]=T_(bd);var bd;function fQ(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||tQ,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}S(fQ,"State$1");function HR(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=Nme(r),new no(e,r)}S(HR,"generateError");function cr(t,e){throw HR(t,e)}S(cr,"throwError");function i2(t,e){t.onWarning&&t.onWarning.call(null,HR(t,e))}S(i2,"throwWarning");var i$={YAML:S(function(e,r,n){var i,a,s;e.version!==null&&cr(e,"duplication of %YAML directive"),n.length!==1&&cr(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&cr(e,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),s=parseInt(i[2],10),a!==1&&cr(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=s<2,s!==1&&s!==2&&i2(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:S(function(e,r,n){var i,a;n.length!==2&&cr(e,"TAG directive accepts exactly two arguments"),i=n[0],a=n[1],iQ.test(i)||cr(e,"ill-formed tag handle (first argument) of the TAG directive"),Af.call(e.tagMap,i)&&cr(e,'there is a previously declared suffix for "'+i+'" tag handle'),aQ.test(a)||cr(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{cr(e,"tag prefix is malformed: "+a)}e.tagMap[i]=a},"handleTagDirective")};function Vc(t,e,r,n){var i,a,s,o;if(e<r){if(o=t.input.slice(e,r),n)for(i=0,a=o.length;i<a;i+=1)s=o.charCodeAt(i),s===9||32<=s&&s<=1114111||cr(t,"expected valid JSON character");else aye.test(o)&&cr(t,"the stream contains non-printable characters");t.result+=o}}S(Vc,"captureSegment");function C_(t,e,r,n){var i,a,s,o;for(ea.isObject(r)||cr(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,o=i.length;s<o;s+=1)a=i[s],Af.call(e,a)||(e[a]=r[a],n[a]=!0)}S(C_,"mergeMappings");function jd(t,e,r,n,i,a,s,o,l){var u,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,h=i.length;u<h;u+=1)Array.isArray(i[u])&&cr(t,"nested arrays are not supported inside keys"),typeof i=="object"&&E_(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&E_(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(u=0,h=a.length;u<h;u+=1)C_(t,e,a[u],r);else C_(t,e,a,r);else!t.json&&!Af.call(r,i)&&Af.call(e,i)&&(t.line=s||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,cr(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):e[i]=a,delete r[i];return e}S(jd,"storeMappingPair");function pE(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):cr(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}S(pE,"readLineBreak");function Di(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;xf(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(Ql(i))for(pE(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&i2(t,"deficient indentation"),n}S(Di,"skipSeparationSpace");function Kx(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||Ns(r)))}S(Kx,"testDocumentSeparator");function gE(t,e){e===1?t.result+=" ":e>1&&(t.result+=ea.repeat(`
`,e-1))}S(gE,"writeFoldedLines");function dQ(t,e,r){var n,i,a,s,o,l,u,h,f=t.kind,d=t.result,p;if(p=t.input.charCodeAt(t.position),Ns(p)||Xd(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),Ns(i)||r&&Xd(i)))return!1;for(t.kind="scalar",t.result="",a=s=t.position,o=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),Ns(i)||r&&Xd(i))break}else if(p===35){if(n=t.input.charCodeAt(t.position-1),Ns(n))break}else{if(t.position===t.lineStart&&Kx(t)||r&&Xd(p))break;if(Ql(p))if(l=t.line,u=t.lineStart,h=t.lineIndent,Di(t,!1,-1),t.lineIndent>=e){o=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=s,t.line=l,t.lineStart=u,t.lineIndent=h;break}}o&&(Vc(t,a,s,!1),gE(t,t.line-l),a=s=t.position,o=!1),xf(p)||(s=t.position+1),p=t.input.charCodeAt(++t.position)}return Vc(t,a,s,!1),t.result?!0:(t.kind=f,t.result=d,!1)}S(dQ,"readPlainScalar");function pQ(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(Vc(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else Ql(r)?(Vc(t,n,i,!0),gE(t,Di(t,!1,e)),n=i=t.position):t.position===t.lineStart&&Kx(t)?cr(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);cr(t,"unexpected end of the stream within a single quoted scalar")}S(pQ,"readSingleQuotedScalar");function gQ(t,e){var r,n,i,a,s,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return Vc(t,r,t.position,!0),t.position++,!0;if(o===92){if(Vc(t,r,t.position,!0),o=t.input.charCodeAt(++t.position),Ql(o))Di(t,!1,e);else if(o<256&&cQ[o])t.result+=hQ[o],t.position++;else if((s=oQ(o))>0){for(i=s,a=0;i>0;i--)o=t.input.charCodeAt(++t.position),(s=sQ(o))>=0?a=(a<<4)+s:cr(t,"expected hexadecimal character");t.result+=uQ(a),t.position++}else cr(t,"unknown escape sequence");r=n=t.position}else Ql(o)?(Vc(t,r,n,!0),gE(t,Di(t,!1,e)),r=n=t.position):t.position===t.lineStart&&Kx(t)?cr(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}cr(t,"unexpected end of the stream within a double quoted scalar")}S(gQ,"readDoubleQuotedScalar");function vQ(t,e){var r=!0,n,i,a,s=t.tag,o,l=t.anchor,u,h,f,d,p,v=Object.create(null),m,x,y,w;if(w=t.input.charCodeAt(t.position),w===91)h=93,p=!1,o=[];else if(w===123)h=125,p=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),w=t.input.charCodeAt(++t.position);w!==0;){if(Di(t,!0,e),w=t.input.charCodeAt(t.position),w===h)return t.position++,t.tag=s,t.anchor=l,t.kind=p?"mapping":"sequence",t.result=o,!0;r?w===44&&cr(t,"expected the node content, but found ','"):cr(t,"missed comma between flow collection entries"),x=m=y=null,f=d=!1,w===63&&(u=t.input.charCodeAt(t.position+1),Ns(u)&&(f=d=!0,t.position++,Di(t,!0,e))),n=t.line,i=t.lineStart,a=t.position,p0(t,e,O5,!1,!0),x=t.tag,m=t.result,Di(t,!0,e),w=t.input.charCodeAt(t.position),(d||t.line===n)&&w===58&&(f=!0,w=t.input.charCodeAt(++t.position),Di(t,!0,e),p0(t,e,O5,!1,!0),y=t.result),p?jd(t,o,v,x,m,y,n,i,a):f?o.push(jd(t,null,v,x,m,y,n,i,a)):o.push(m),Di(t,!0,e),w=t.input.charCodeAt(t.position),w===44?(r=!0,w=t.input.charCodeAt(++t.position)):r=!1}cr(t,"unexpected end of the stream within a flow collection")}S(vQ,"readFlowCollection");function mQ(t,e){var r,n,i=i7,a=!1,s=!1,o=e,l=0,u=!1,h,f;if(f=t.input.charCodeAt(t.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)i7===i?i=f===43?n$:iye:cr(t,"repeat of a chomping mode identifier");else if((h=lQ(f))>=0)h===0?cr(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?cr(t,"repeat of an indentation width identifier"):(o=e+h-1,s=!0);else break;if(xf(f)){do f=t.input.charCodeAt(++t.position);while(xf(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!Ql(f)&&f!==0)}for(;f!==0;){for(pE(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!s||t.lineIndent<o)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>o&&(o=t.lineIndent),Ql(f)){l++;continue}if(t.lineIndent<o){i===n$?t.result+=ea.repeat(`
`,a?1+l:l):i===i7&&a&&(t.result+=`
`);break}for(n?xf(f)?(u=!0,t.result+=ea.repeat(`
`,a?1+l:l)):u?(u=!1,t.result+=ea.repeat(`
`,l+1)):l===0?a&&(t.result+=" "):t.result+=ea.repeat(`
`,l):t.result+=ea.repeat(`
`,a?1+l:l),a=!0,s=!0,l=0,r=t.position;!Ql(f)&&f!==0;)f=t.input.charCodeAt(++t.position);Vc(t,r,t.position,!1)}return!0}S(mQ,"readBlockScalar");function A_(t,e){var r,n=t.tag,i=t.anchor,a=[],s,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,cr(t,"tab characters must not be used in indentation")),!(l!==45||(s=t.input.charCodeAt(t.position+1),!Ns(s))));){if(o=!0,t.position++,Di(t,!0,-1)&&t.lineIndent<=e){a.push(null),l=t.input.charCodeAt(t.position);continue}if(r=t.line,p0(t,e,nQ,!1,!0),a.push(t.result),Di(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&l!==0)cr(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=a,!0):!1}S(A_,"readBlockSequence");function yQ(t,e,r){var n,i,a,s,o,l,u=t.tag,h=t.anchor,f={},d=Object.create(null),p=null,v=null,m=null,x=!1,y=!1,w;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),w=t.input.charCodeAt(t.position);w!==0;){if(!x&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,cr(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),a=t.line,(w===63||w===58)&&Ns(n))w===63?(x&&(jd(t,f,d,p,v,null,s,o,l),p=v=m=null),y=!0,x=!0,i=!0):x?(x=!1,i=!0):cr(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,w=n;else{if(s=t.line,o=t.lineStart,l=t.position,!p0(t,r,rQ,!1,!0))break;if(t.line===a){for(w=t.input.charCodeAt(t.position);xf(w);)w=t.input.charCodeAt(++t.position);if(w===58)w=t.input.charCodeAt(++t.position),Ns(w)||cr(t,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(jd(t,f,d,p,v,null,s,o,l),p=v=m=null),y=!0,x=!1,i=!1,p=t.tag,v=t.result;else if(y)cr(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=h,!0}else if(y)cr(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=h,!0}if((t.line===a||t.lineIndent>e)&&(x&&(s=t.line,o=t.lineStart,l=t.position),p0(t,e,F5,!0,i)&&(x?v=t.result:m=t.result),x||(jd(t,f,d,p,v,m,s,o,l),p=v=m=null),Di(t,!0,-1),w=t.input.charCodeAt(t.position)),(t.line===a||t.lineIndent>e)&&w!==0)cr(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return x&&jd(t,f,d,p,v,null,s,o,l),y&&(t.tag=u,t.anchor=h,t.kind="mapping",t.result=f),y}S(yQ,"readBlockMapping");function xQ(t){var e,r=!1,n=!1,i,a,s;if(s=t.input.charCodeAt(t.position),s!==33)return!1;if(t.tag!==null&&cr(t,"duplication of a tag property"),s=t.input.charCodeAt(++t.position),s===60?(r=!0,s=t.input.charCodeAt(++t.position)):s===33?(n=!0,i="!!",s=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do s=t.input.charCodeAt(++t.position);while(s!==0&&s!==62);t.position<t.length?(a=t.input.slice(e,t.position),s=t.input.charCodeAt(++t.position)):cr(t,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Ns(s);)s===33&&(n?cr(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),iQ.test(i)||cr(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),s=t.input.charCodeAt(++t.position);a=t.input.slice(e,t.position),oye.test(a)&&cr(t,"tag suffix cannot contain flow indicator characters")}a&&!aQ.test(a)&&cr(t,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{cr(t,"tag name is malformed: "+a)}return r?t.tag=a:Af.call(t.tagMap,i)?t.tag=t.tagMap[i]+a:i==="!"?t.tag="!"+a:i==="!!"?t.tag="tag:yaml.org,2002:"+a:cr(t,'undeclared tag handle "'+i+'"'),!0}S(xQ,"readTagProperty");function bQ(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&cr(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Ns(r)&&!Xd(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&cr(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}S(bQ,"readAnchorProperty");function wQ(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Ns(n)&&!Xd(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&cr(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),Af.call(t.anchorMap,r)||cr(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],Di(t,!0,-1),!0}S(wQ,"readAlias");function p0(t,e,r,n,i){var a,s,o,l=1,u=!1,h=!1,f,d,p,v,m,x;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,a=s=o=F5===r||nQ===r,n&&Di(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;xQ(t)||bQ(t);)Di(t,!0,-1)?(u=!0,o=a,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=u||i),(l===1||F5===r)&&(O5===r||rQ===r?m=e:m=e+1,x=t.position-t.lineStart,l===1?o&&(A_(t,x)||yQ(t,x,m))||vQ(t,m)?h=!0:(s&&mQ(t,m)||pQ(t,m)||gQ(t,m)?h=!0:wQ(t)?(h=!0,(t.tag!==null||t.anchor!==null)&&cr(t,"alias node should not have any properties")):dQ(t,m,O5===r)&&(h=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(h=o&&A_(t,x))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&cr(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,d=t.implicitTypes.length;f<d;f+=1)if(v=t.implicitTypes[f],v.resolve(t.result)){t.result=v.construct(t.result),t.tag=v.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Af.call(t.typeMap[t.kind||"fallback"],t.tag))v=t.typeMap[t.kind||"fallback"][t.tag];else for(v=null,p=t.typeMap.multi[t.kind||"fallback"],f=0,d=p.length;f<d;f+=1)if(t.tag.slice(0,p[f].tag.length)===p[f].tag){v=p[f];break}v||cr(t,"unknown tag !<"+t.tag+">"),t.result!==null&&v.kind!==t.kind&&cr(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+v.kind+'", not "'+t.kind+'"'),v.resolve(t.result,t.tag)?(t.result=v.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):cr(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||h}S(p0,"composeNode");function kQ(t){var e=t.position,r,n,i,a=!1,s;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(s=t.input.charCodeAt(t.position))!==0&&(Di(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||s!==37));){for(a=!0,s=t.input.charCodeAt(++t.position),r=t.position;s!==0&&!Ns(s);)s=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&cr(t,"directive name must not be less than one character in length");s!==0;){for(;xf(s);)s=t.input.charCodeAt(++t.position);if(s===35){do s=t.input.charCodeAt(++t.position);while(s!==0&&!Ql(s));break}if(Ql(s))break;for(r=t.position;s!==0&&!Ns(s);)s=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}s!==0&&pE(t),Af.call(i$,n)?i$[n](t,n,i):i2(t,'unknown document directive "'+n+'"')}if(Di(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Di(t,!0,-1)):a&&cr(t,"directives end mark is expected"),p0(t,t.lineIndent-1,F5,!1,!0),Di(t,!0,-1),t.checkLineBreaks&&sye.test(t.input.slice(e,t.position))&&i2(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Kx(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Di(t,!0,-1));return}if(t.position<t.length-1)cr(t,"end of the stream or a document separator is expected");else return}S(kQ,"readDocument");function VR(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new fQ(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,cr(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)kQ(r);return r.documents}S(VR,"loadDocuments");function SQ(t,e,r){e!==null&&typeof e=="object"&&typeof r>"u"&&(r=e,e=null);var n=VR(t,r);if(typeof e!="function")return n;for(var i=0,a=n.length;i<a;i+=1)e(n[i])}S(SQ,"loadAll$1");function EQ(t,e){var r=VR(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new no("expected a single document in the stream, but found more")}}S(EQ,"load$1");var lye=SQ,uye=EQ,cye={loadAll:lye,load:uye},TQ=Object.prototype.toString,CQ=Object.prototype.hasOwnProperty,UR=65279,hye=9,a2=10,fye=13,dye=32,pye=33,gye=34,__=35,vye=37,mye=38,yye=39,xye=42,AQ=44,bye=45,P5=58,wye=61,kye=62,Sye=63,Eye=64,_Q=91,LQ=93,Tye=96,DQ=123,Cye=124,RQ=125,vs={};vs[0]="\\0";vs[7]="\\a";vs[8]="\\b";vs[9]="\\t";vs[10]="\\n";vs[11]="\\v";vs[12]="\\f";vs[13]="\\r";vs[27]="\\e";vs[34]='\\"';vs[92]="\\\\";vs[133]="\\N";vs[160]="\\_";vs[8232]="\\L";vs[8233]="\\P";var Aye=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],_ye=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function MQ(t,e){var r,n,i,a,s,o,l;if(e===null)return{};for(r={},n=Object.keys(e),i=0,a=n.length;i<a;i+=1)s=n[i],o=String(e[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),l=t.compiledTypeMap.fallback[s],l&&CQ.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[s]=o;return r}S(MQ,"compileStyleMap");function NQ(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new no("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ea.repeat("0",n-e.length)+e}S(NQ,"encodeHex");var Lye=1,s2=2;function IQ(t){this.schema=t.schema||tQ,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=ea.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=MQ(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?s2:Lye,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}S(IQ,"State");function L_(t,e){for(var r=ea.repeat(" ",e),n=0,i=-1,a="",s,o=t.length;n<o;)i=t.indexOf(`
`,n),i===-1?(s=t.slice(n),n=o):(s=t.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(a+=r),a+=s;return a}S(L_,"indentString");function B5(t,e){return`
`+ea.repeat(" ",t.indent*e)}S(B5,"generateNextLine");function OQ(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}S(OQ,"testImplicitResolving");function o2(t){return t===dye||t===hye}S(o2,"isWhitespace");function s1(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==UR||65536<=t&&t<=1114111}S(s1,"isPrintable");function D_(t){return s1(t)&&t!==UR&&t!==fye&&t!==a2}S(D_,"isNsCharOrWhitespace");function R_(t,e,r){var n=D_(t),i=n&&!o2(t);return(r?n:n&&t!==AQ&&t!==_Q&&t!==LQ&&t!==DQ&&t!==RQ)&&t!==__&&!(e===P5&&!i)||D_(e)&&!o2(e)&&t===__||e===P5&&i}S(R_,"isPlainSafe");function FQ(t){return s1(t)&&t!==UR&&!o2(t)&&t!==bye&&t!==Sye&&t!==P5&&t!==AQ&&t!==_Q&&t!==LQ&&t!==DQ&&t!==RQ&&t!==__&&t!==mye&&t!==xye&&t!==pye&&t!==Cye&&t!==wye&&t!==kye&&t!==yye&&t!==gye&&t!==vye&&t!==Eye&&t!==Tye}S(FQ,"isPlainSafeFirst");function PQ(t){return!o2(t)&&t!==P5}S(PQ,"isPlainSafeLast");function vg(t,e){var r=t.charCodeAt(e),n;return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}S(vg,"codePointAt");function GR(t){var e=/^\n* /;return e.test(t)}S(GR,"needIndentIndicator");var BQ=1,M_=2,$Q=3,zQ=4,eg=5;function HQ(t,e,r,n,i,a,s,o){var l,u=0,h=null,f=!1,d=!1,p=n!==-1,v=-1,m=FQ(vg(t,0))&&PQ(vg(t,t.length-1));if(e||s)for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=vg(t,l),!s1(u))return eg;m=m&&R_(u,h,o),h=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(u=vg(t,l),u===a2)f=!0,p&&(d=d||l-v-1>n&&t[v+1]!==" ",v=l);else if(!s1(u))return eg;m=m&&R_(u,h,o),h=u}d=d||p&&l-v-1>n&&t[v+1]!==" "}return!f&&!d?m&&!s&&!i(t)?BQ:a===s2?eg:M_:r>9&&GR(t)?eg:s?a===s2?eg:M_:d?zQ:$Q}S(HQ,"chooseScalarStyle");function VQ(t,e,r,n,i){t.dump=function(){if(e.length===0)return t.quotingType===s2?'""':"''";if(!t.noCompatMode&&(Aye.indexOf(e)!==-1||_ye.test(e)))return t.quotingType===s2?'"'+e+'"':"'"+e+"'";var a=t.indent*Math.max(1,r),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-a),o=n||t.flowLevel>-1&&r>=t.flowLevel;function l(u){return OQ(t,u)}switch(S(l,"testAmbiguity"),HQ(e,o,t.indent,s,l,t.quotingType,t.forceQuotes&&!n,i)){case BQ:return e;case M_:return"'"+e.replace(/'/g,"''")+"'";case $Q:return"|"+N_(e,t.indent)+I_(L_(e,a));case zQ:return">"+N_(e,t.indent)+I_(L_(UQ(e,s),a));case eg:return'"'+GQ(e)+'"';default:throw new no("impossible error: invalid scalar style")}}()}S(VQ,"writeScalar");function N_(t,e){var r=GR(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),a=i?"+":n?"":"-";return r+a+`
`}S(N_,"blockHeader");function I_(t){return t[t.length-1]===`
`?t.slice(0,-1):t}S(I_,"dropEndingNewline");function UQ(t,e){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,r.lastIndex=u,O_(t.slice(0,u),e)}(),i=t[0]===`
`||t[0]===" ",a,s;s=r.exec(t);){var o=s[1],l=s[2];a=l[0]===" ",n+=o+(!i&&!a&&l!==""?`
`:"")+O_(l,e),i=a}return n}S(UQ,"foldString");function O_(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,a,s=0,o=0,l="";n=r.exec(t);)o=n.index,o-i>e&&(a=s>i?s:o,l+=`
`+t.slice(i,a),i=a+1),s=o;return l+=`
`,t.length-i>e&&s>i?l+=t.slice(i,s)+`
`+t.slice(s+1):l+=t.slice(i),l.slice(1)}S(O_,"foldLine");function GQ(t){for(var e="",r=0,n,i=0;i<t.length;r>=65536?i+=2:i++)r=vg(t,i),n=vs[r],!n&&s1(r)?(e+=t[i],r>=65536&&(e+=t[i+1])):e+=n||NQ(r);return e}S(GQ,"escapeString");function WQ(t,e,r){var n="",i=t.tag,a,s,o;for(a=0,s=r.length;a<s;a+=1)o=r[a],t.replacer&&(o=t.replacer.call(r,String(a),o)),(qu(t,e,o,!1,!1)||typeof o>"u"&&qu(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}S(WQ,"writeFlowSequence");function F_(t,e,r,n){var i="",a=t.tag,s,o,l;for(s=0,o=r.length;s<o;s+=1)l=r[s],t.replacer&&(l=t.replacer.call(r,String(s),l)),(qu(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&qu(t,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=B5(t,e)),t.dump&&a2===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=a,t.dump=i||"[]"}S(F_,"writeBlockSequence");function qQ(t,e,r){var n="",i=t.tag,a=Object.keys(r),s,o,l,u,h;for(s=0,o=a.length;s<o;s+=1)h="",n!==""&&(h+=", "),t.condenseFlow&&(h+='"'),l=a[s],u=r[l],t.replacer&&(u=t.replacer.call(r,l,u)),qu(t,e,l,!1,!1)&&(t.dump.length>1024&&(h+="? "),h+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),qu(t,e,u,!1,!1)&&(h+=t.dump,n+=h));t.tag=i,t.dump="{"+n+"}"}S(qQ,"writeFlowMapping");function YQ(t,e,r,n){var i="",a=t.tag,s=Object.keys(r),o,l,u,h,f,d;if(t.sortKeys===!0)s.sort();else if(typeof t.sortKeys=="function")s.sort(t.sortKeys);else if(t.sortKeys)throw new no("sortKeys must be a boolean or a function");for(o=0,l=s.length;o<l;o+=1)d="",(!n||i!=="")&&(d+=B5(t,e)),u=s[o],h=r[u],t.replacer&&(h=t.replacer.call(r,u,h)),qu(t,e+1,u,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&a2===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,f&&(d+=B5(t,e)),qu(t,e+1,h,!0,f)&&(t.dump&&a2===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,i+=d));t.tag=a,t.dump=i||"{}"}S(YQ,"writeBlockMapping");function P_(t,e,r){var n,i,a,s,o,l;for(i=r?t.explicitTypes:t.implicitTypes,a=0,s=i.length;a<s;a+=1)if(o=i[a],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(r?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,TQ.call(o.represent)==="[object Function]")n=o.represent(e,l);else if(CQ.call(o.represent,l))n=o.represent[l](e,l);else throw new no("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=n}return!0}return!1}S(P_,"detectType");function qu(t,e,r,n,i,a,s){t.tag=null,t.dump=r,P_(t,r,!1)||P_(t,r,!0);var o=TQ.call(t.dump),l=n,u;n&&(n=t.flowLevel<0||t.flowLevel>e);var h=o==="[object Object]"||o==="[object Array]",f,d;if(h&&(f=t.duplicates.indexOf(r),d=f!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(i=!1),d&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(h&&d&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),o==="[object Object]")n&&Object.keys(t.dump).length!==0?(YQ(t,e,t.dump,i),d&&(t.dump="&ref_"+f+t.dump)):(qQ(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!s&&e>0?F_(t,e-1,t.dump,i):F_(t,e,t.dump,i),d&&(t.dump="&ref_"+f+t.dump)):(WQ(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&VQ(t,t.dump,e,a,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new no("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}S(qu,"writeNode");function XQ(t,e){var r=[],n=[],i,a;for($5(t,r,n),i=0,a=n.length;i<a;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(a)}S(XQ,"getDuplicateReferences");function $5(t,e,r){var n,i,a;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,a=t.length;i<a;i+=1)$5(t[i],e,r);else for(n=Object.keys(t),i=0,a=n.length;i<a;i+=1)$5(t[n[i]],e,r)}S($5,"inspectNode");function Dye(t,e){e=e||{};var r=new IQ(e);r.noRefs||XQ(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),qu(r,0,n,!0,!0)?r.dump+`
`:""}S(Dye,"dump$1");function Rye(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}S(Rye,"renamed");var jQ=BK,KQ=cye.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/const Mye=Object.freeze({left:0,top:0,width:16,height:16}),z5=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),QQ=Object.freeze({...Mye,...z5}),Nye=Object.freeze({...QQ,body:"",hidden:!1}),Iye=Object.freeze({width:null,height:null}),Oye=Object.freeze({...Iye,...z5}),a7=/^[a-z0-9]+(-[a-z0-9]+)*$/,Fye=(t,e,r,n="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:n,prefix:l,name:o};return e&&!s7(u)?null:u}const a=i[0],s=a.split("-");if(s.length>1){const o={provider:n,prefix:s.shift(),name:s.join("-")};return e&&!s7(o)?null:o}if(r&&n===""){const o={provider:n,prefix:"",name:a};return e&&!s7(o,r)?null:o}return null},s7=(t,e)=>t?!!((t.provider===""||t.provider.match(a7))&&(e&&t.prefix===""||t.prefix.match(a7))&&t.name.match(a7)):!1;function Pye(t,e){const r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(r.rotate=n),r}function a$(t,e){const r=Pye(t,e);for(const n in Nye)n in z5?n in t&&!(n in r)&&(r[n]=z5[n]):n in e?r[n]=e[n]:n in t&&(r[n]=t[n]);return r}function Bye(t,e){const r=t.icons,n=t.aliases||Object.create(null),i=Object.create(null);function a(s){if(r[s])return i[s]=[];if(!(s in i)){i[s]=null;const o=n[s]&&n[s].parent,l=o&&a(o);l&&(i[s]=[o].concat(l))}return i[s]}return(e||Object.keys(r).concat(Object.keys(n))).forEach(a),i}function s$(t,e,r){const n=t.icons,i=t.aliases||Object.create(null);let a={};function s(o){a=a$(n[o]||i[o],a)}return s(e),r.forEach(s),a$(t,a)}function $ye(t,e){if(t.icons[e])return s$(t,e,[]);const r=Bye(t,[e])[e];return r?s$(t,e,r):null}const zye=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Hye=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function o$(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;const n=t.split(zye);if(n===null||!n.length)return t;const i=[];let a=n.shift(),s=Hye.test(a);for(;;){if(s){const o=parseFloat(a);isNaN(o)?i.push(a):i.push(Math.ceil(o*e*r)/r)}else i.push(a);if(a=n.shift(),a===void 0)return i.join("");s=!s}}function Vye(t,e="defs"){let r="";const n=t.indexOf("<"+e);for(;n>=0;){const i=t.indexOf(">",n),a=t.indexOf("</"+e);if(i===-1||a===-1)break;const s=t.indexOf(">",a);if(s===-1)break;r+=t.slice(i+1,a).trim(),t=t.slice(0,n).trim()+t.slice(s+1)}return{defs:r,content:t}}function Uye(t,e){return t?"<defs>"+t+"</defs>"+e:e}function Gye(t,e,r){const n=Vye(t);return Uye(n.defs,e+n.content+r)}const Wye=t=>t==="unset"||t==="undefined"||t==="none";function qye(t,e){const r={...QQ,...t},n={...Oye,...e},i={left:r.left,top:r.top,width:r.width,height:r.height};let a=r.body;[r,n].forEach(m=>{const x=[],y=m.hFlip,w=m.vFlip;let k=m.rotate;y?w?k+=2:(x.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),x.push("scale(-1 1)"),i.top=i.left=0):w&&(x.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),x.push("scale(1 -1)"),i.top=i.left=0);let E;switch(k<0&&(k-=Math.floor(k/4)*4),k=k%4,k){case 1:E=i.height/2+i.top,x.unshift("rotate(90 "+E.toString()+" "+E.toString()+")");break;case 2:x.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:E=i.width/2+i.left,x.unshift("rotate(-90 "+E.toString()+" "+E.toString()+")");break}k%2===1&&(i.left!==i.top&&(E=i.left,i.left=i.top,i.top=E),i.width!==i.height&&(E=i.width,i.width=i.height,i.height=E)),x.length&&(a=Gye(a,'<g transform="'+x.join(" ")+'">',"</g>"))});const s=n.width,o=n.height,l=i.width,u=i.height;let h,f;s===null?(f=o===null?"1em":o==="auto"?u:o,h=o$(f,l/u)):(h=s==="auto"?l:s,f=o===null?o$(h,u/l):o==="auto"?u:o);const d={},p=(m,x)=>{Wye(x)||(d[m]=x.toString())};p("width",h),p("height",f);const v=[i.left,i.top,l,u];return d.viewBox=v.join(" "),{attributes:d,viewBox:v,body:a}}const Yye=/\sid="(\S+)"/g,Xye="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let jye=0;function Kye(t,e=Xye){const r=[];let n;for(;n=Yye.exec(t);)r.push(n[1]);if(!r.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(a=>{const s=typeof e=="function"?e(a):e+(jye++).toString(),o=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}function Qye(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)r+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}var ZQ={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},B_=new Map,JQ=new Map,eZ=S(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(he.debug("Registering icon pack:",e.name),"loader"in e)JQ.set(e.name,e.loader);else if("icons"in e)B_.set(e.name,e.icons);else throw he.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),Zye=S(async(t,e)=>{const r=Fye(t,!0,e!==void 0);if(!r)throw new Error(`Invalid icon name: ${t}`);const n=r.prefix||e;if(!n)throw new Error(`Icon name must contain a prefix: ${t}`);let i=B_.get(n);if(!i){const s=JQ.get(n);if(!s)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await s(),prefix:n},B_.set(n,i)}catch(o){throw he.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}const a=$ye(i,r.name);if(!a)throw new Error(`Icon not found: ${t}`);return a},"getRegisteredIconData"),g0=S(async(t,e)=>{let r;try{r=await Zye(t,e==null?void 0:e.fallbackPrefix)}catch(a){he.error(a),r=ZQ}const n=qye(r,e);return Qye(Kye(n.body),n.attributes)},"getIconSVG"),K0=S(({flowchart:t})=>{var i,a;const e=((i=t==null?void 0:t.subGraphTitleMargin)==null?void 0:i.top)??0,r=((a=t==null?void 0:t.subGraphTitleMargin)==null?void 0:a.bottom)??0,n=e+r;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),Ih={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function Xm(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=H5(t),e=H5(e);const[r,n]=[t.x,t.y],[i,a]=[e.x,e.y],s=i-r,o=a-n;return{angle:Math.atan(o/s),deltaX:s,deltaY:o}}S(Xm,"calculateDeltaAndAngle");var H5=S(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),tZ=S(t=>({x:S(function(e,r,n){let i=0;if(r===0&&Object.hasOwn(Ih,t.arrowTypeStart)){const{angle:a,deltaX:s}=Xm(n[0],n[1]);i=Ih[t.arrowTypeStart]*Math.cos(a)*(s>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Ih,t.arrowTypeEnd)){const{angle:a,deltaX:s}=Xm(n[n.length-1],n[n.length-2]);i=Ih[t.arrowTypeEnd]*Math.cos(a)*(s>=0?1:-1)}return H5(e).x+i},"x"),y:S(function(e,r,n){let i=0;if(r===0&&Object.hasOwn(Ih,t.arrowTypeStart)){const{angle:a,deltaY:s}=Xm(n[0],n[1]);i=Ih[t.arrowTypeStart]*Math.abs(Math.sin(a))*(s>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Ih,t.arrowTypeEnd)){const{angle:a,deltaY:s}=Xm(n[n.length-1],n[n.length-2]);i=Ih[t.arrowTypeEnd]*Math.abs(Math.sin(a))*(s>=0?1:-1)}return H5(e).y+i},"y")}),"getLineFunctionsWithOffset"),WR={},va={};Object.defineProperty(va,"__esModule",{value:!0});va.BLANK_URL=va.relativeFirstCharacters=va.whitespaceEscapeCharsRegex=va.urlSchemeRegex=va.ctrlCharactersRegex=va.htmlCtrlEntityRegex=va.htmlEntitiesRegex=va.invalidProtocolRegex=void 0;va.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;va.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;va.htmlCtrlEntityRegex=/&(newline|tab);/gi;va.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;va.urlSchemeRegex=/^.+(:|&colon;)/gim;va.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;va.relativeFirstCharacters=[".","/"];va.BLANK_URL="about:blank";Object.defineProperty(WR,"__esModule",{value:!0});var Zf=WR.sanitizeUrl=void 0,is=va;function Jye(t){return is.relativeFirstCharacters.indexOf(t[0])>-1}function e2e(t){var e=t.replace(is.ctrlCharactersRegex,"");return e.replace(is.htmlEntitiesRegex,function(r,n){return String.fromCharCode(n)})}function t2e(t){return URL.canParse(t)}function l$(t){try{return decodeURIComponent(t)}catch{return t}}function r2e(t){if(!t)return is.BLANK_URL;var e,r=l$(t.trim());do r=e2e(r).replace(is.htmlCtrlEntityRegex,"").replace(is.ctrlCharactersRegex,"").replace(is.whitespaceEscapeCharsRegex,"").trim(),r=l$(r),e=r.match(is.ctrlCharactersRegex)||r.match(is.htmlEntitiesRegex)||r.match(is.htmlCtrlEntityRegex)||r.match(is.whitespaceEscapeCharsRegex);while(e&&e.length>0);var n=r;if(!n)return is.BLANK_URL;if(Jye(n))return n;var i=n.trimStart(),a=i.match(is.urlSchemeRegex);if(!a)return n;var s=a[0].toLowerCase().trim();if(is.invalidProtocolRegex.test(s))return is.BLANK_URL;var o=i.replace(/\\/g,"/");if(s==="mailto:"||s.includes("://"))return o;if(s==="http:"||s==="https:"){if(!t2e(o))return is.BLANK_URL;var l=new URL(o);return l.protocol=l.protocol.toLowerCase(),l.hostname=l.hostname.toLowerCase(),l.toString()}return o}Zf=WR.sanitizeUrl=r2e;function dw(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function n2e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qR(t){let e,r,n;t.length!==2?(e=dw,r=(o,l)=>dw(t(o),l),n=(o,l)=>t(o)-l):(e=t===dw||t===n2e?t:i2e,r=t,n=t);function i(o,l,u=0,h=o.length){if(u<h){if(e(l,l)!==0)return h;do{const f=u+h>>>1;r(o[f],l)<0?u=f+1:h=f}while(u<h)}return u}function a(o,l,u=0,h=o.length){if(u<h){if(e(l,l)!==0)return h;do{const f=u+h>>>1;r(o[f],l)<=0?u=f+1:h=f}while(u<h)}return u}function s(o,l,u=0,h=o.length){const f=i(o,l,u,h-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function i2e(){return 0}function a2e(t){return t===null?NaN:+t}const s2e=qR(dw),o2e=s2e.right;qR(a2e).center;const l2e=o2e;class u$ extends Map{constructor(e,r=h2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(c$(this,e))}has(e){return super.has(c$(this,e))}set(e,r){return super.set(u2e(this,e),r)}delete(e){return super.delete(c2e(this,e))}}function c$({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function u2e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function c2e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function h2e(t){return t!==null&&typeof t=="object"?t.valueOf():t}const f2e=Math.sqrt(50),d2e=Math.sqrt(10),p2e=Math.sqrt(2);function V5(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=f2e?10:a>=d2e?5:a>=p2e?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?V5(t,e,r*2):[o,l,u]}function g2e(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?V5(e,t,r):V5(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function $_(t,e,r){return e=+e,t=+t,r=+r,V5(t,e,r)[2]}function z_(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?$_(e,t,r):$_(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function v2e(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function m2e(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function y2e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function x2e(t){return t}var pw=1,o7=2,H_=3,H4=4,h$=1e-6;function b2e(t){return"translate("+t+",0)"}function w2e(t){return"translate(0,"+t+")"}function k2e(t){return e=>+t(e)}function S2e(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function E2e(){return!this.__axis}function rZ(t,e){var r=[],n=null,i=null,a=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===pw||t===H4?-1:1,h=t===H4||t===o7?"x":"y",f=t===pw||t===H_?b2e:w2e;function d(p){var v=n??(e.ticks?e.ticks.apply(e,r):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,r):x2e),x=Math.max(a,0)+o,y=e.range(),w=+y[0]+l,k=+y[y.length-1]+l,E=(e.bandwidth?S2e:k2e)(e.copy(),l),C=p.selection?p.selection():p,L=C.selectAll(".domain").data([null]),_=C.selectAll(".tick").data(v,e).order(),I=_.exit(),M=_.enter().append("g").attr("class","tick"),F=_.select("line"),N=_.select("text");L=L.merge(L.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(M),F=F.merge(M.append("line").attr("stroke","currentColor").attr(h+"2",u*a)),N=N.merge(M.append("text").attr("fill","currentColor").attr(h,u*x).attr("dy",t===pw?"0em":t===H_?"0.71em":"0.32em")),p!==C&&(L=L.transition(p),_=_.transition(p),F=F.transition(p),N=N.transition(p),I=I.transition(p).attr("opacity",h$).attr("transform",function(z){return isFinite(z=E(z))?f(z+l):this.getAttribute("transform")}),M.attr("opacity",h$).attr("transform",function(z){var V=this.parentNode.__axis;return f((V&&isFinite(V=V(z))?V:E(z))+l)})),I.remove(),L.attr("d",t===H4||t===o7?s?"M"+u*s+","+w+"H"+l+"V"+k+"H"+u*s:"M"+l+","+w+"V"+k:s?"M"+w+","+u*s+"V"+l+"H"+k+"V"+u*s:"M"+w+","+l+"H"+k),_.attr("opacity",1).attr("transform",function(z){return f(E(z)+l)}),F.attr(h+"2",u*a),N.attr(h,u*x).text(m),C.filter(E2e).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===o7?"start":t===H4?"end":"middle"),C.each(function(){this.__axis=E})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return r=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),d):r.slice()},d.tickValues=function(p){return arguments.length?(n=p==null?null:Array.from(p),d):n&&n.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(a=s=+p,d):a},d.tickSizeInner=function(p){return arguments.length?(a=+p,d):a},d.tickSizeOuter=function(p){return arguments.length?(s=+p,d):s},d.tickPadding=function(p){return arguments.length?(o=+p,d):o},d.offset=function(p){return arguments.length?(l=+p,d):l},d}function T2e(t){return rZ(pw,t)}function C2e(t){return rZ(H_,t)}var A2e={value:()=>{}};function nZ(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new gw(r)}function gw(t){this._=t}function _2e(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}gw.prototype=nZ.prototype={constructor:gw,on:function(t,e){var r=this._,n=_2e(t+"",r),i,a=-1,s=n.length;if(arguments.length<2){for(;++a<s;)if((i=(t=n[a]).type)&&(i=L2e(r[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=n[a]).type)r[i]=f$(r[i],t.name,e);else if(e==null)for(i in r)r[i]=f$(r[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new gw(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],n=0,i=a.length;n<i;++n)a[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,a=n.length;i<a;++i)n[i].value.apply(e,r)}};function L2e(t,e){for(var r=0,n=t.length,i;r<n;++r)if((i=t[r]).name===e)return i.value}function f$(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=A2e,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var V_="http://www.w3.org/1999/xhtml";const d$={svg:"http://www.w3.org/2000/svg",xhtml:V_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vE(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),d$.hasOwnProperty(e)?{space:d$[e],local:t}:t}function D2e(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===V_&&e.documentElement.namespaceURI===V_?e.createElement(t):e.createElementNS(r,t)}}function R2e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function iZ(t){var e=vE(t);return(e.local?R2e:D2e)(e)}function M2e(){}function YR(t){return t==null?M2e:function(){return this.querySelector(t)}}function N2e(t){typeof t!="function"&&(t=YR(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=new Array(s),l,u,h=0;h<s;++h)(l=a[h])&&(u=t.call(l,l.__data__,h,a))&&("__data__"in l&&(u.__data__=l.__data__),o[h]=u);return new Ho(n,this._parents)}function I2e(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function O2e(){return[]}function aZ(t){return t==null?O2e:function(){return this.querySelectorAll(t)}}function F2e(t){return function(){return I2e(t.apply(this,arguments))}}function P2e(t){typeof t=="function"?t=F2e(t):t=aZ(t);for(var e=this._groups,r=e.length,n=[],i=[],a=0;a<r;++a)for(var s=e[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(n.push(t.call(l,l.__data__,u,s)),i.push(l));return new Ho(n,i)}function sZ(t){return function(){return this.matches(t)}}function oZ(t){return function(e){return e.matches(t)}}var B2e=Array.prototype.find;function $2e(t){return function(){return B2e.call(this.children,t)}}function z2e(){return this.firstElementChild}function H2e(t){return this.select(t==null?z2e:$2e(typeof t=="function"?t:oZ(t)))}var V2e=Array.prototype.filter;function U2e(){return Array.from(this.children)}function G2e(t){return function(){return V2e.call(this.children,t)}}function W2e(t){return this.selectAll(t==null?U2e:G2e(typeof t=="function"?t:oZ(t)))}function q2e(t){typeof t!="function"&&(t=sZ(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new Ho(n,this._parents)}function lZ(t){return new Array(t.length)}function Y2e(){return new Ho(this._enter||this._groups.map(lZ),this._parents)}function U5(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}U5.prototype={constructor:U5,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function X2e(t){return function(){return t}}function j2e(t,e,r,n,i,a){for(var s=0,o,l=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],n[s]=o):r[s]=new U5(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function K2e(t,e,r,n,i,a,s){var o,l,u=new Map,h=e.length,f=a.length,d=new Array(h),p;for(o=0;o<h;++o)(l=e[o])&&(d[o]=p=s.call(l,l.__data__,o,e)+"",u.has(p)?i[o]=l:u.set(p,l));for(o=0;o<f;++o)p=s.call(t,a[o],o,a)+"",(l=u.get(p))?(n[o]=l,l.__data__=a[o],u.delete(p)):r[o]=new U5(t,a[o]);for(o=0;o<h;++o)(l=e[o])&&u.get(d[o])===l&&(i[o]=l)}function Q2e(t){return t.__data__}function Z2e(t,e){if(!arguments.length)return Array.from(this,Q2e);var r=e?K2e:j2e,n=this._parents,i=this._groups;typeof t!="function"&&(t=X2e(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var h=n[u],f=i[u],d=f.length,p=J2e(t.call(h,h&&h.__data__,u,n)),v=p.length,m=o[u]=new Array(v),x=s[u]=new Array(v),y=l[u]=new Array(d);r(h,f,m,x,y,p,e);for(var w=0,k=0,E,C;w<v;++w)if(E=m[w]){for(w>=k&&(k=w+1);!(C=x[k])&&++k<v;);E._next=C||null}}return s=new Ho(s,n),s._enter=o,s._exit=l,s}function J2e(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function exe(){return new Ho(this._exit||this._groups.map(lZ),this._parents)}function txe(t,e,r){var n=this.enter(),i=this,a=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function rxe(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,a=n.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var u=r[l],h=n[l],f=u.length,d=o[l]=new Array(f),p,v=0;v<f;++v)(p=u[v]||h[v])&&(d[v]=p);for(;l<i;++l)o[l]=r[l];return new Ho(o,this._parents)}function nxe(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],i=n.length-1,a=n[i],s;--i>=0;)(s=n[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function ixe(t){t||(t=axe);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var s=r[a],o=s.length,l=i[a]=new Array(o),u,h=0;h<o;++h)(u=s[h])&&(l[h]=u);l.sort(e)}return new Ho(i,this._parents).order()}function axe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function sxe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function oxe(){return Array.from(this)}function lxe(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,a=n.length;i<a;++i){var s=n[i];if(s)return s}return null}function uxe(){let t=0;for(const e of this)++t;return t}function cxe(){return!this.node()}function hxe(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function fxe(t){return function(){this.removeAttribute(t)}}function dxe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pxe(t,e){return function(){this.setAttribute(t,e)}}function gxe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function vxe(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function mxe(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function yxe(t,e){var r=vE(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?dxe:fxe:typeof e=="function"?r.local?mxe:vxe:r.local?gxe:pxe)(r,e))}function uZ(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xxe(t){return function(){this.style.removeProperty(t)}}function bxe(t,e,r){return function(){this.style.setProperty(t,e,r)}}function wxe(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function kxe(t,e,r){return arguments.length>1?this.each((e==null?xxe:typeof e=="function"?wxe:bxe)(t,e,r??"")):o1(this.node(),t)}function o1(t,e){return t.style.getPropertyValue(e)||uZ(t).getComputedStyle(t,null).getPropertyValue(e)}function Sxe(t){return function(){delete this[t]}}function Exe(t,e){return function(){this[t]=e}}function Txe(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function Cxe(t,e){return arguments.length>1?this.each((e==null?Sxe:typeof e=="function"?Txe:Exe)(t,e)):this.node()[t]}function cZ(t){return t.trim().split(/^|\s+/)}function XR(t){return t.classList||new hZ(t)}function hZ(t){this._node=t,this._names=cZ(t.getAttribute("class")||"")}hZ.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function fZ(t,e){for(var r=XR(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function dZ(t,e){for(var r=XR(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function Axe(t){return function(){fZ(this,t)}}function _xe(t){return function(){dZ(this,t)}}function Lxe(t,e){return function(){(e.apply(this,arguments)?fZ:dZ)(this,t)}}function Dxe(t,e){var r=cZ(t+"");if(arguments.length<2){for(var n=XR(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof e=="function"?Lxe:e?Axe:_xe)(r,e))}function Rxe(){this.textContent=""}function Mxe(t){return function(){this.textContent=t}}function Nxe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ixe(t){return arguments.length?this.each(t==null?Rxe:(typeof t=="function"?Nxe:Mxe)(t)):this.node().textContent}function Oxe(){this.innerHTML=""}function Fxe(t){return function(){this.innerHTML=t}}function Pxe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Bxe(t){return arguments.length?this.each(t==null?Oxe:(typeof t=="function"?Pxe:Fxe)(t)):this.node().innerHTML}function $xe(){this.nextSibling&&this.parentNode.appendChild(this)}function zxe(){return this.each($xe)}function Hxe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Vxe(){return this.each(Hxe)}function Uxe(t){var e=typeof t=="function"?t:iZ(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Gxe(){return null}function Wxe(t,e){var r=typeof t=="function"?t:iZ(t),n=e==null?Gxe:typeof e=="function"?e:YR(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function qxe(){var t=this.parentNode;t&&t.removeChild(this)}function Yxe(){return this.each(qxe)}function Xxe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function jxe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Kxe(t){return this.select(t?jxe:Xxe)}function Qxe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Zxe(t){return function(e){t.call(this,e,this.__data__)}}function Jxe(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function ebe(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,i=e.length,a;r<i;++r)a=e[r],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++n]=a;++n?e.length=n:delete this.__on}}}function tbe(t,e,r){return function(){var n=this.__on,i,a=Zxe(e);if(n){for(var s=0,o=n.length;s<o;++s)if((i=n[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=e;return}}this.addEventListener(t.type,a,r),i={type:t.type,name:t.name,value:e,listener:a,options:r},n?n.push(i):this.__on=[i]}}function rbe(t,e,r){var n=Jxe(t+""),i,a=n.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,h;l<u;++l)for(i=0,h=o[l];i<a;++i)if((s=n[i]).type===h.type&&s.name===h.name)return h.value}return}for(o=e?tbe:ebe,i=0;i<a;++i)this.each(o(n[i],e,r));return this}function pZ(t,e,r){var n=uZ(t),i=n.CustomEvent;typeof i=="function"?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function nbe(t,e){return function(){return pZ(this,t,e)}}function ibe(t,e){return function(){return pZ(this,t,e.apply(this,arguments))}}function abe(t,e){return this.each((typeof e=="function"?ibe:nbe)(t,e))}function*sbe(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,a=n.length,s;i<a;++i)(s=n[i])&&(yield s)}var gZ=[null];function Ho(t,e){this._groups=t,this._parents=e}function Qx(){return new Ho([[document.documentElement]],gZ)}function obe(){return this}Ho.prototype=Qx.prototype={constructor:Ho,select:N2e,selectAll:P2e,selectChild:H2e,selectChildren:W2e,filter:q2e,data:Z2e,enter:Y2e,exit:exe,join:txe,merge:rxe,selection:obe,order:nxe,sort:ixe,call:sxe,nodes:oxe,node:lxe,size:uxe,empty:cxe,each:hxe,attr:yxe,style:kxe,property:Cxe,classed:Dxe,text:Ixe,html:Bxe,raise:zxe,lower:Vxe,append:Uxe,insert:Wxe,remove:Yxe,clone:Kxe,datum:Qxe,on:rbe,dispatch:abe,[Symbol.iterator]:sbe};function yt(t){return typeof t=="string"?new Ho([[document.querySelector(t)]],[document.documentElement]):new Ho([[t]],gZ)}function Zx(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function mE(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Q0(){}var l2=.7,G5=1/l2,Mg="\\s*([+-]?\\d+)\\s*",u2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lbe=/^#([0-9a-f]{3,8})$/,ube=new RegExp(`^rgb\\(${Mg},${Mg},${Mg}\\)$`),cbe=new RegExp(`^rgb\\(${Gu},${Gu},${Gu}\\)$`),hbe=new RegExp(`^rgba\\(${Mg},${Mg},${Mg},${u2}\\)$`),fbe=new RegExp(`^rgba\\(${Gu},${Gu},${Gu},${u2}\\)$`),dbe=new RegExp(`^hsl\\(${u2},${Gu},${Gu}\\)$`),pbe=new RegExp(`^hsla\\(${u2},${Gu},${Gu},${u2}\\)$`),p$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zx(Q0,v0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:g$,formatHex:g$,formatHex8:gbe,formatHsl:vbe,formatRgb:v$,toString:v$});function g$(){return this.rgb().formatHex()}function gbe(){return this.rgb().formatHex8()}function vbe(){return mZ(this).formatHsl()}function v$(){return this.rgb().formatRgb()}function v0(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=lbe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?m$(e):r===3?new us(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?V4(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?V4(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ube.exec(t))?new us(e[1],e[2],e[3],1):(e=cbe.exec(t))?new us(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hbe.exec(t))?V4(e[1],e[2],e[3],e[4]):(e=fbe.exec(t))?V4(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dbe.exec(t))?b$(e[1],e[2]/100,e[3]/100,1):(e=pbe.exec(t))?b$(e[1],e[2]/100,e[3]/100,e[4]):p$.hasOwnProperty(t)?m$(p$[t]):t==="transparent"?new us(NaN,NaN,NaN,0):null}function m$(t){return new us(t>>16&255,t>>8&255,t&255,1)}function V4(t,e,r,n){return n<=0&&(t=e=r=NaN),new us(t,e,r,n)}function vZ(t){return t instanceof Q0||(t=v0(t)),t?(t=t.rgb(),new us(t.r,t.g,t.b,t.opacity)):new us}function U_(t,e,r,n){return arguments.length===1?vZ(t):new us(t,e,r,n??1)}function us(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Zx(us,U_,mE(Q0,{brighter(t){return t=t==null?G5:Math.pow(G5,t),new us(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?l2:Math.pow(l2,t),new us(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new us(s0(this.r),s0(this.g),s0(this.b),W5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y$,formatHex:y$,formatHex8:mbe,formatRgb:x$,toString:x$}));function y$(){return`#${Kd(this.r)}${Kd(this.g)}${Kd(this.b)}`}function mbe(){return`#${Kd(this.r)}${Kd(this.g)}${Kd(this.b)}${Kd((isNaN(this.opacity)?1:this.opacity)*255)}`}function x$(){const t=W5(this.opacity);return`${t===1?"rgb(":"rgba("}${s0(this.r)}, ${s0(this.g)}, ${s0(this.b)}${t===1?")":`, ${t})`}`}function W5(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function s0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Kd(t){return t=s0(t),(t<16?"0":"")+t.toString(16)}function b$(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Yl(t,e,r,n)}function mZ(t){if(t instanceof Yl)return new Yl(t.h,t.s,t.l,t.opacity);if(t instanceof Q0||(t=v0(t)),!t)return new Yl;if(t instanceof Yl)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Yl(s,o,l,t.opacity)}function ybe(t,e,r,n){return arguments.length===1?mZ(t):new Yl(t,e,r,n??1)}function Yl(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Zx(Yl,ybe,mE(Q0,{brighter(t){return t=t==null?G5:Math.pow(G5,t),new Yl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?l2:Math.pow(l2,t),new Yl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new us(l7(t>=240?t-240:t+120,i,n),l7(t,i,n),l7(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Yl(w$(this.h),U4(this.s),U4(this.l),W5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=W5(this.opacity);return`${t===1?"hsl(":"hsla("}${w$(this.h)}, ${U4(this.s)*100}%, ${U4(this.l)*100}%${t===1?")":`, ${t})`}`}}));function w$(t){return t=(t||0)%360,t<0?t+360:t}function U4(t){return Math.max(0,Math.min(1,t||0))}function l7(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const xbe=Math.PI/180,bbe=180/Math.PI,q5=18,yZ=.96422,xZ=1,bZ=.82521,wZ=4/29,Ng=6/29,kZ=3*Ng*Ng,wbe=Ng*Ng*Ng;function SZ(t){if(t instanceof Wu)return new Wu(t.l,t.a,t.b,t.opacity);if(t instanceof Ic)return EZ(t);t instanceof us||(t=vZ(t));var e=f7(t.r),r=f7(t.g),n=f7(t.b),i=u7((.2225045*e+.7168786*r+.0606169*n)/xZ),a,s;return e===r&&r===n?a=s=i:(a=u7((.4360747*e+.3850649*r+.1430804*n)/yZ),s=u7((.0139322*e+.0971045*r+.7141733*n)/bZ)),new Wu(116*i-16,500*(a-i),200*(i-s),t.opacity)}function kbe(t,e,r,n){return arguments.length===1?SZ(t):new Wu(t,e,r,n??1)}function Wu(t,e,r,n){this.l=+t,this.a=+e,this.b=+r,this.opacity=+n}Zx(Wu,kbe,mE(Q0,{brighter(t){return new Wu(this.l+q5*(t??1),this.a,this.b,this.opacity)},darker(t){return new Wu(this.l-q5*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return e=yZ*c7(e),t=xZ*c7(t),r=bZ*c7(r),new us(h7(3.1338561*e-1.6168667*t-.4906146*r),h7(-.9787684*e+1.9161415*t+.033454*r),h7(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}}));function u7(t){return t>wbe?Math.pow(t,1/3):t/kZ+wZ}function c7(t){return t>Ng?t*t*t:kZ*(t-wZ)}function h7(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function f7(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Sbe(t){if(t instanceof Ic)return new Ic(t.h,t.c,t.l,t.opacity);if(t instanceof Wu||(t=SZ(t)),t.a===0&&t.b===0)return new Ic(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*bbe;return new Ic(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function G_(t,e,r,n){return arguments.length===1?Sbe(t):new Ic(t,e,r,n??1)}function Ic(t,e,r,n){this.h=+t,this.c=+e,this.l=+r,this.opacity=+n}function EZ(t){if(isNaN(t.h))return new Wu(t.l,0,0,t.opacity);var e=t.h*xbe;return new Wu(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Zx(Ic,G_,mE(Q0,{brighter(t){return new Ic(this.h,this.c,this.l+q5*(t??1),this.opacity)},darker(t){return new Ic(this.h,this.c,this.l-q5*(t??1),this.opacity)},rgb(){return EZ(this).rgb()}}));const yE=t=>()=>t;function TZ(t,e){return function(r){return t+r*e}}function Ebe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Tbe(t,e){var r=e-t;return r?TZ(t,r>180||r<-180?r-360*Math.round(r/360):r):yE(isNaN(t)?e:t)}function Cbe(t){return(t=+t)==1?Ly:function(e,r){return r-e?Ebe(e,r,t):yE(isNaN(e)?r:e)}}function Ly(t,e){var r=e-t;return r?TZ(t,r):yE(isNaN(t)?e:t)}const Y5=function t(e){var r=Cbe(e);function n(i,a){var s=r((i=U_(i)).r,(a=U_(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=Ly(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=o(h),i.b=l(h),i.opacity=u(h),i+""}}return n.gamma=t,n}(1);function Abe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function _be(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Lbe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=jR(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Dbe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Wl(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Rbe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=jR(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var W_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d7=new RegExp(W_.source,"g");function Mbe(t){return function(){return t}}function Nbe(t){return function(e){return t(e)+""}}function CZ(t,e){var r=W_.lastIndex=d7.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=W_.exec(t))&&(i=d7.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Wl(n,i)})),r=d7.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Nbe(l[0].x):Mbe(e):(e=l.length,function(u){for(var h=0,f;h<e;++h)o[(f=l[h]).i]=f.x(u);return o.join("")})}function jR(t,e){var r=typeof e,n;return e==null||r==="boolean"?yE(e):(r==="number"?Wl:r==="string"?(n=v0(e))?(e=n,Y5):CZ:e instanceof v0?Y5:e instanceof Date?Dbe:_be(e)?Abe:Array.isArray(e)?Lbe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Rbe:Wl)(t,e)}function Ibe(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var k$=180/Math.PI,q_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function AZ(t,e,r,n,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),t*n<e*r&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*k$,skewX:Math.atan(l)*k$,scaleX:s,scaleY:o}}var G4;function Obe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?q_:AZ(e.a,e.b,e.c,e.d,e.e,e.f)}function Fbe(t){return t==null||(G4||(G4=document.createElementNS("http://www.w3.org/2000/svg","g")),G4.setAttribute("transform",t),!(t=G4.transform.baseVal.consolidate()))?q_:(t=t.matrix,AZ(t.a,t.b,t.c,t.d,t.e,t.f))}function _Z(t,e,r,n){function i(u){return u.length?u.pop()+" ":""}function a(u,h,f,d,p,v){if(u!==f||h!==d){var m=p.push("translate(",null,e,null,r);v.push({i:m-4,x:Wl(u,f)},{i:m-2,x:Wl(h,d)})}else(f||d)&&p.push("translate("+f+e+d+r)}function s(u,h,f,d){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,n)-2,x:Wl(u,h)})):h&&f.push(i(f)+"rotate("+h+n)}function o(u,h,f,d){u!==h?d.push({i:f.push(i(f)+"skewX(",null,n)-2,x:Wl(u,h)}):h&&f.push(i(f)+"skewX("+h+n)}function l(u,h,f,d,p,v){if(u!==f||h!==d){var m=p.push(i(p)+"scale(",null,",",null,")");v.push({i:m-4,x:Wl(u,f)},{i:m-2,x:Wl(h,d)})}else(f!==1||d!==1)&&p.push(i(p)+"scale("+f+","+d+")")}return function(u,h){var f=[],d=[];return u=t(u),h=t(h),a(u.translateX,u.translateY,h.translateX,h.translateY,f,d),s(u.rotate,h.rotate,f,d),o(u.skewX,h.skewX,f,d),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,f,d),u=h=null,function(p){for(var v=-1,m=d.length,x;++v<m;)f[(x=d[v]).i]=x.x(p);return f.join("")}}}var Pbe=_Z(Obe,"px, ","px)","deg)"),Bbe=_Z(Fbe,", ",")",")");function $be(t){return function(e,r){var n=t((e=G_(e)).h,(r=G_(r)).h),i=Ly(e.c,r.c),a=Ly(e.l,r.l),s=Ly(e.opacity,r.opacity);return function(o){return e.h=n(o),e.c=i(o),e.l=a(o),e.opacity=s(o),e+""}}}const zbe=$be(Tbe);var l1=0,jm=0,mm=0,LZ=1e3,X5,Km,j5=0,m0=0,xE=0,c2=typeof performance=="object"&&performance.now?performance:Date,DZ=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function KR(){return m0||(DZ(Hbe),m0=c2.now()+xE)}function Hbe(){m0=0}function K5(){this._call=this._time=this._next=null}K5.prototype=RZ.prototype={constructor:K5,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?KR():+r)+(e==null?0:+e),!this._next&&Km!==this&&(Km?Km._next=this:X5=this,Km=this),this._call=t,this._time=r,Y_()},stop:function(){this._call&&(this._call=null,this._time=1/0,Y_())}};function RZ(t,e,r){var n=new K5;return n.restart(t,e,r),n}function Vbe(){KR(),++l1;for(var t=X5,e;t;)(e=m0-t._time)>=0&&t._call.call(void 0,e),t=t._next;--l1}function S$(){m0=(j5=c2.now())+xE,l1=jm=0;try{Vbe()}finally{l1=0,Gbe(),m0=0}}function Ube(){var t=c2.now(),e=t-j5;e>LZ&&(xE-=e,j5=t)}function Gbe(){for(var t,e=X5,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:X5=r);Km=t,Y_(n)}function Y_(t){if(!l1){jm&&(jm=clearTimeout(jm));var e=t-m0;e>24?(t<1/0&&(jm=setTimeout(S$,t-c2.now()-xE)),mm&&(mm=clearInterval(mm))):(mm||(j5=c2.now(),mm=setInterval(Ube,LZ)),l1=1,DZ(S$))}}function E$(t,e,r){var n=new K5;return e=e==null?0:+e,n.restart(i=>{n.stop(),t(i+e)},e,r),n}var Wbe=nZ("start","end","cancel","interrupt"),qbe=[],MZ=0,T$=1,X_=2,vw=3,C$=4,j_=5,mw=6;function bE(t,e,r,n,i,a){var s=t.__transition;if(!s)t.__transition={};else if(r in s)return;Ybe(t,r,{name:e,index:n,group:i,on:Wbe,tween:qbe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:MZ})}function QR(t,e){var r=fu(t,e);if(r.state>MZ)throw new Error("too late; already scheduled");return r}function Zu(t,e){var r=fu(t,e);if(r.state>vw)throw new Error("too late; already running");return r}function fu(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Ybe(t,e,r){var n=t.__transition,i;n[e]=r,r.timer=RZ(a,0,r.time);function a(u){r.state=T$,r.timer.restart(s,r.delay,r.time),r.delay<=u&&s(u-r.delay)}function s(u){var h,f,d,p;if(r.state!==T$)return l();for(h in n)if(p=n[h],p.name===r.name){if(p.state===vw)return E$(s);p.state===C$?(p.state=mw,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete n[h]):+h<e&&(p.state=mw,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete n[h])}if(E$(function(){r.state===vw&&(r.state=C$,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=X_,r.on.call("start",t,t.__data__,r.index,r.group),r.state===X_){for(r.state=vw,i=new Array(d=r.tween.length),h=0,f=-1;h<d;++h)(p=r.tween[h].value.call(t,t.__data__,r.index,r.group))&&(i[++f]=p);i.length=f+1}}function o(u){for(var h=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=j_,1),f=-1,d=i.length;++f<d;)i[f].call(t,h);r.state===j_&&(r.on.call("end",t,t.__data__,r.index,r.group),l())}function l(){r.state=mw,r.timer.stop(),delete n[e];for(var u in n)return;delete t.__transition}}function Xbe(t,e){var r=t.__transition,n,i,a=!0,s;if(r){e=e==null?null:e+"";for(s in r){if((n=r[s]).name!==e){a=!1;continue}i=n.state>X_&&n.state<j_,n.state=mw,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[s]}a&&delete t.__transition}}function jbe(t){return this.each(function(){Xbe(this,t)})}function Kbe(t,e){var r,n;return function(){var i=Zu(this,t),a=i.tween;if(a!==r){n=r=a;for(var s=0,o=n.length;s<o;++s)if(n[s].name===e){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function Qbe(t,e,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=Zu(this,t),s=a.tween;if(s!==n){i=(n=s).slice();for(var o={name:e,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function Zbe(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=fu(this.node(),r).tween,i=0,a=n.length,s;i<a;++i)if((s=n[i]).name===t)return s.value;return null}return this.each((e==null?Kbe:Qbe)(r,t,e))}function ZR(t,e,r){var n=t._id;return t.each(function(){var i=Zu(this,n);(i.value||(i.value={}))[e]=r.apply(this,arguments)}),function(i){return fu(i,n).value[e]}}function NZ(t,e){var r;return(typeof e=="number"?Wl:e instanceof v0?Y5:(r=v0(e))?(e=r,Y5):CZ)(t,e)}function Jbe(t){return function(){this.removeAttribute(t)}}function e4e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function t4e(t,e,r){var n,i=r+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===n?a:a=e(n=s,r)}}function r4e(t,e,r){var n,i=r+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===n?a:a=e(n=s,r)}}function n4e(t,e,r){var n,i,a;return function(){var s,o=r(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o)))}}function i4e(t,e,r){var n,i,a;return function(){var s,o=r(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o)))}}function a4e(t,e){var r=vE(t),n=r==="transform"?Bbe:NZ;return this.attrTween(t,typeof e=="function"?(r.local?i4e:n4e)(r,n,ZR(this,"attr."+t,e)):e==null?(r.local?e4e:Jbe)(r):(r.local?r4e:t4e)(r,n,e))}function s4e(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function o4e(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function l4e(t,e){var r,n;function i(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&o4e(t,a)),r}return i._value=e,i}function u4e(t,e){var r,n;function i(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&s4e(t,a)),r}return i._value=e,i}function c4e(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=vE(t);return this.tween(r,(n.local?l4e:u4e)(n,e))}function h4e(t,e){return function(){QR(this,t).delay=+e.apply(this,arguments)}}function f4e(t,e){return e=+e,function(){QR(this,t).delay=e}}function d4e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?h4e:f4e)(e,t)):fu(this.node(),e).delay}function p4e(t,e){return function(){Zu(this,t).duration=+e.apply(this,arguments)}}function g4e(t,e){return e=+e,function(){Zu(this,t).duration=e}}function v4e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?p4e:g4e)(e,t)):fu(this.node(),e).duration}function m4e(t,e){if(typeof e!="function")throw new Error;return function(){Zu(this,t).ease=e}}function y4e(t){var e=this._id;return arguments.length?this.each(m4e(e,t)):fu(this.node(),e).ease}function x4e(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Zu(this,t).ease=r}}function b4e(t){if(typeof t!="function")throw new Error;return this.each(x4e(this._id,t))}function w4e(t){typeof t!="function"&&(t=sZ(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var a=e[i],s=a.length,o=n[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new Qc(n,this._parents,this._name,this._id)}function k4e(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,i=r.length,a=Math.min(n,i),s=new Array(n),o=0;o<a;++o)for(var l=e[o],u=r[o],h=l.length,f=s[o]=new Array(h),d,p=0;p<h;++p)(d=l[p]||u[p])&&(f[p]=d);for(;o<n;++o)s[o]=e[o];return new Qc(s,this._parents,this._name,this._id)}function S4e(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function E4e(t,e,r){var n,i,a=S4e(e)?QR:Zu;return function(){var s=a(this,t),o=s.on;o!==n&&(i=(n=o).copy()).on(e,r),s.on=i}}function T4e(t,e){var r=this._id;return arguments.length<2?fu(this.node(),r).on.on(t):this.each(E4e(r,t,e))}function C4e(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function A4e(){return this.on("end.remove",C4e(this._id))}function _4e(t){var e=this._name,r=this._id;typeof t!="function"&&(t=YR(t));for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s)for(var o=n[s],l=o.length,u=a[s]=new Array(l),h,f,d=0;d<l;++d)(h=o[d])&&(f=t.call(h,h.__data__,d,o))&&("__data__"in h&&(f.__data__=h.__data__),u[d]=f,bE(u[d],e,r,d,u,fu(h,r)));return new Qc(a,this._parents,e,r)}function L4e(t){var e=this._name,r=this._id;typeof t!="function"&&(t=aZ(t));for(var n=this._groups,i=n.length,a=[],s=[],o=0;o<i;++o)for(var l=n[o],u=l.length,h,f=0;f<u;++f)if(h=l[f]){for(var d=t.call(h,h.__data__,f,l),p,v=fu(h,r),m=0,x=d.length;m<x;++m)(p=d[m])&&bE(p,e,r,m,d,v);a.push(d),s.push(h)}return new Qc(a,s,e,r)}var D4e=Qx.prototype.constructor;function R4e(){return new D4e(this._groups,this._parents)}function M4e(t,e){var r,n,i;return function(){var a=o1(this,t),s=(this.style.removeProperty(t),o1(this,t));return a===s?null:a===r&&s===n?i:i=e(r=a,n=s)}}function IZ(t){return function(){this.style.removeProperty(t)}}function N4e(t,e,r){var n,i=r+"",a;return function(){var s=o1(this,t);return s===i?null:s===n?a:a=e(n=s,r)}}function I4e(t,e,r){var n,i,a;return function(){var s=o1(this,t),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),o1(this,t))),s===l?null:s===n&&l===i?a:(i=l,a=e(n=s,o))}}function O4e(t,e){var r,n,i,a="style."+e,s="end."+a,o;return function(){var l=Zu(this,t),u=l.on,h=l.value[a]==null?o||(o=IZ(e)):void 0;(u!==r||i!==h)&&(n=(r=u).copy()).on(s,i=h),l.on=n}}function F4e(t,e,r){var n=(t+="")=="transform"?Pbe:NZ;return e==null?this.styleTween(t,M4e(t,n)).on("end.style."+t,IZ(t)):typeof e=="function"?this.styleTween(t,I4e(t,n,ZR(this,"style."+t,e))).each(O4e(this._id,t)):this.styleTween(t,N4e(t,n,e),r).on("end.style."+t,null)}function P4e(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function B4e(t,e,r){var n,i;function a(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&P4e(t,s,r)),n}return a._value=e,a}function $4e(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,B4e(t,e,r??""))}function z4e(t){return function(){this.textContent=t}}function H4e(t){return function(){var e=t(this);this.textContent=e??""}}function V4e(t){return this.tween("text",typeof t=="function"?H4e(ZR(this,"text",t)):z4e(t==null?"":t+""))}function U4e(t){return function(e){this.textContent=t.call(this,e)}}function G4e(t){var e,r;function n(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&U4e(i)),e}return n._value=t,n}function W4e(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,G4e(t))}function q4e(){for(var t=this._name,e=this._id,r=OZ(),n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var h=fu(l,e);bE(l,t,r,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Qc(n,this._parents,t,r)}function Y4e(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};r.each(function(){var u=Zu(this,n),h=u.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e}),i===0&&a()})}var X4e=0;function Qc(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function OZ(){return++X4e}var mc=Qx.prototype;Qc.prototype={constructor:Qc,select:_4e,selectAll:L4e,selectChild:mc.selectChild,selectChildren:mc.selectChildren,filter:w4e,merge:k4e,selection:R4e,transition:q4e,call:mc.call,nodes:mc.nodes,node:mc.node,size:mc.size,empty:mc.empty,each:mc.each,on:T4e,attr:a4e,attrTween:c4e,style:F4e,styleTween:$4e,text:V4e,textTween:W4e,remove:A4e,tween:Zbe,delay:d4e,duration:v4e,ease:y4e,easeVarying:b4e,end:Y4e,[Symbol.iterator]:mc[Symbol.iterator]};function j4e(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var K4e={time:null,delay:0,duration:250,ease:j4e};function Q4e(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function Z4e(t){var e,r;t instanceof Qc?(e=t._id,t=t._name):(e=OZ(),(r=K4e).time=KR(),t=t==null?null:t+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&bE(l,t,e,u,s,r||Q4e(l,e));return new Qc(n,this._parents,t,e)}Qx.prototype.interrupt=jbe;Qx.prototype.transition=Z4e;const K_=Math.PI,Q_=2*K_,Dd=1e-6,J4e=Q_-Dd;function FZ(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function e3e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return FZ;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}let t3e=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?FZ:e3e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,u=i-r,h=s-e,f=o-r,d=h*h+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(d>Dd)if(!(Math.abs(f*l-u*h)>Dd)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,v=i-o,m=l*l+u*u,x=p*p+v*v,y=Math.sqrt(m),w=Math.sqrt(d),k=a*Math.tan((K_-Math.acos((m+d-x)/(2*y*w)))/2),E=k/w,C=k/y;Math.abs(E-1)>Dd&&this._append`L${e+E*h},${r+E*f}`,this._append`A${a},${a},0,0,${+(f*p>h*v)},${this._x1=e+C*l},${this._y1=r+C*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,h=r+l,f=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Dd||Math.abs(this._y1-h)>Dd)&&this._append`L${u},${h}`,n&&(d<0&&(d=d%Q_+Q_),d>J4e?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=h}`:d>Dd&&this._append`A${n},${n},0,${+(d>=K_)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function r3e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Q5(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function u1(t){return t=Q5(Math.abs(t)),t?t[1]:NaN}function n3e(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function i3e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var a3e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Z5(t){if(!(e=a3e.exec(t)))throw new Error("invalid format: "+t);var e;return new JR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Z5.prototype=JR.prototype;function JR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}JR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s3e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var PZ;function o3e(t,e){var r=Q5(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(PZ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Q5(t,Math.max(0,e+a-1))[0]}function A$(t,e){var r=Q5(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const _$={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:r3e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>A$(t*100,e),r:A$,s:o3e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function L$(t){return t}var D$=Array.prototype.map,R$=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function l3e(t){var e=t.grouping===void 0||t.thousands===void 0?L$:n3e(D$.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?L$:i3e(D$.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Z5(f);var d=f.fill,p=f.align,v=f.sign,m=f.symbol,x=f.zero,y=f.width,w=f.comma,k=f.precision,E=f.trim,C=f.type;C==="n"?(w=!0,C="g"):_$[C]||(k===void 0&&(k=12),E=!0,C="g"),(x||d==="0"&&p==="=")&&(x=!0,d="0",p="=");var L=m==="$"?r:m==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",_=m==="$"?n:/[%p]/.test(C)?s:"",I=_$[C],M=/[defgprs%]/.test(C);k=k===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function F(N){var z=L,V=_,D,O,P;if(C==="c")V=I(N)+V,N="";else{N=+N;var $=N<0||1/N<0;if(N=isNaN(N)?l:I(Math.abs(N),k),E&&(N=s3e(N)),$&&+N==0&&v!=="+"&&($=!1),z=($?v==="("?v:o:v==="-"||v==="("?"":v)+z,V=(C==="s"?R$[8+PZ/3]:"")+V+($&&v==="("?")":""),M){for(D=-1,O=N.length;++D<O;)if(P=N.charCodeAt(D),48>P||P>57){V=(P===46?i+N.slice(D+1):N.slice(D))+V,N=N.slice(0,D);break}}}w&&!x&&(N=e(N,1/0));var B=z.length+N.length+V.length,H=B<y?new Array(y-B+1).join(d):"";switch(w&&x&&(N=e(H+N,H.length?y-V.length:1/0),H=""),p){case"<":N=z+N+V+H;break;case"=":N=z+H+N+V;break;case"^":N=H.slice(0,B=H.length>>1)+z+N+V+H.slice(B);break;default:N=H+z+N+V;break}return a(N)}return F.toString=function(){return f+""},F}function h(f,d){var p=u((f=Z5(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(u1(d)/3)))*3,m=Math.pow(10,-v),x=R$[8+v/3];return function(y){return p(m*y)+x}}return{format:u,formatPrefix:h}}var W4,BZ,$Z;u3e({thousands:",",grouping:[3],currency:["$",""]});function u3e(t){return W4=l3e(t),BZ=W4.format,$Z=W4.formatPrefix,W4}function c3e(t){return Math.max(0,-u1(Math.abs(t)))}function h3e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(u1(e)/3)))*3-u1(Math.abs(t)))}function f3e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,u1(e)-u1(t))+1}function wE(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const M$=Symbol("implicit");function kE(){var t=new u$,e=[],r=[],n=M$;function i(a){let s=t.get(a);if(s===void 0){if(n!==M$)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new u$;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return kE(e,r).unknown(n)},wE.apply(i,arguments),i}function Z_(){var t=kE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,u=0,h=.5;delete t.unknown;function f(){var d=e().length,p=i<n,v=p?i:n,m=p?n:i;a=(m-v)/Math.max(1,d-l+u*2),o&&(a=Math.floor(a)),v+=(m-v-a*(d-l))*h,s=a*(1-l),o&&(v=Math.round(v),s=Math.round(s));var x=y2e(d).map(function(y){return v+a*y});return r(p?x.reverse():x)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(d){return arguments.length?(o=!!d,f()):o},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(h=Math.max(0,Math.min(1,d)),f()):h},t.copy=function(){return Z_(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(h)},wE.apply(f(),arguments)}function d3e(t){return function(){return t}}function p3e(t){return+t}var N$=[0,1];function mg(t){return t}function J_(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:d3e(isNaN(e)?NaN:.5)}function g3e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function v3e(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=J_(i,n),a=r(s,a)):(n=J_(n,i),a=r(a,s)),function(o){return a(n(o))}}function m3e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=J_(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=l2e(t,o,1,n)-1;return a[l](i[l](o))}}function zZ(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function y3e(){var t=N$,e=N$,r=jR,n,i,a,s=mg,o,l,u;function h(){var d=Math.min(t.length,e.length);return s!==mg&&(s=g3e(t[0],t[d-1])),o=d>2?m3e:v3e,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=o(t.map(n),e,r)))(n(s(d)))}return f.invert=function(d){return s(i((u||(u=o(e,t.map(n),Wl)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,p3e),h()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),h()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),r=Ibe,h()},f.clamp=function(d){return arguments.length?(s=d?!0:mg,h()):s!==mg},f.interpolate=function(d){return arguments.length?(r=d,h()):r},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,p){return n=d,i=p,h()}}function HZ(){return y3e()(mg,mg)}function x3e(t,e,r,n){var i=z_(t,e,r),a;switch(n=Z5(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=h3e(i,s))&&(n.precision=a),$Z(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=f3e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=c3e(i))&&(n.precision=a-(n.type==="%")*2);break}}return BZ(n)}function b3e(t){var e=t.domain;return t.ticks=function(r){var n=e();return g2e(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return x3e(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,h=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);h-- >0;){if(u=$_(s,o,r),u===l)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function c1(){var t=HZ();return t.copy=function(){return zZ(t,c1())},wE.apply(t,arguments),b3e(t)}function w3e(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}const p7=new Date,g7=new Date;function ua(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>ua(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(p7.setTime(+a),g7.setTime(+s),t(p7),t(g7),Math.floor(r(p7,g7))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const h1=ua(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);h1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ua(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):h1);h1.range;const Oc=1e3,fl=Oc*60,Fc=fl*60,Zc=Fc*24,eM=Zc*7,I$=Zc*30,v7=Zc*365,rf=ua(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Oc)},(t,e)=>(e-t)/Oc,t=>t.getUTCSeconds());rf.range;const h2=ua(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oc)},(t,e)=>{t.setTime(+t+e*fl)},(t,e)=>(e-t)/fl,t=>t.getMinutes());h2.range;const k3e=ua(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fl)},(t,e)=>(e-t)/fl,t=>t.getUTCMinutes());k3e.range;const f2=ua(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oc-t.getMinutes()*fl)},(t,e)=>{t.setTime(+t+e*Fc)},(t,e)=>(e-t)/Fc,t=>t.getHours());f2.range;const S3e=ua(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Fc)},(t,e)=>(e-t)/Fc,t=>t.getUTCHours());S3e.range;const y0=ua(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fl)/Zc,t=>t.getDate()-1);y0.range;const tM=ua(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zc,t=>t.getUTCDate()-1);tM.range;const E3e=ua(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zc,t=>Math.floor(t/Zc));E3e.range;function Z0(t){return ua(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*fl)/eM)}const Jx=Z0(0),d2=Z0(1),VZ=Z0(2),UZ=Z0(3),x0=Z0(4),GZ=Z0(5),WZ=Z0(6);Jx.range;d2.range;VZ.range;UZ.range;x0.range;GZ.range;WZ.range;function J0(t){return ua(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/eM)}const qZ=J0(0),J5=J0(1),T3e=J0(2),C3e=J0(3),f1=J0(4),A3e=J0(5),_3e=J0(6);qZ.range;J5.range;T3e.range;C3e.range;f1.range;A3e.range;_3e.range;const p2=ua(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());p2.range;const L3e=ua(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());L3e.range;const Jc=ua(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Jc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ua(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Jc.range;const b0=ua(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());b0.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ua(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});b0.range;function D3e(t,e,r,n,i,a){const s=[[rf,1,Oc],[rf,5,5*Oc],[rf,15,15*Oc],[rf,30,30*Oc],[a,1,fl],[a,5,5*fl],[a,15,15*fl],[a,30,30*fl],[i,1,Fc],[i,3,3*Fc],[i,6,6*Fc],[i,12,12*Fc],[n,1,Zc],[n,2,2*Zc],[r,1,eM],[e,1,I$],[e,3,3*I$],[t,1,v7]];function o(u,h,f){const d=h<u;d&&([u,h]=[h,u]);const p=f&&typeof f.range=="function"?f:l(u,h,f),v=p?p.range(u,+h+1):[];return d?v.reverse():v}function l(u,h,f){const d=Math.abs(h-u)/f,p=qR(([,,x])=>x).right(s,d);if(p===s.length)return t.every(z_(u/v7,h/v7,f));if(p===0)return h1.every(Math.max(z_(u,h,f),1));const[v,m]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return v.every(m)}return[o,l]}const[R3e,M3e]=D3e(Jc,p2,Jx,y0,f2,h2);function m7(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function y7(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ym(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function N3e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=xm(i),h=bm(i),f=xm(a),d=bm(a),p=xm(s),v=bm(s),m=xm(o),x=bm(o),y=xm(l),w=bm(l),k={a:$,A:B,b:H,B:X,c:null,d:z$,e:z$,f:rwe,g:fwe,G:pwe,H:J3e,I:ewe,j:twe,L:YZ,m:nwe,M:iwe,p:q,q:Y,Q:U$,s:G$,S:awe,u:swe,U:owe,V:lwe,w:uwe,W:cwe,x:null,X:null,y:hwe,Y:dwe,Z:gwe,"%":V$},E={a:U,A:J,b:ce,B:re,c:null,d:H$,e:H$,f:xwe,g:Lwe,G:Rwe,H:vwe,I:mwe,j:ywe,L:jZ,m:bwe,M:wwe,p:ve,q:ye,Q:U$,s:G$,S:kwe,u:Swe,U:Ewe,V:Twe,w:Cwe,W:Awe,x:null,X:null,y:_we,Y:Dwe,Z:Mwe,"%":V$},C={a:F,A:N,b:z,B:V,c:D,d:B$,e:B$,f:j3e,g:P$,G:F$,H:$$,I:$$,j:W3e,L:X3e,m:G3e,M:q3e,p:M,q:U3e,Q:Q3e,s:Z3e,S:Y3e,u:B3e,U:$3e,V:z3e,w:P3e,W:H3e,x:O,X:P,y:P$,Y:F$,Z:V3e,"%":K3e};k.x=L(r,k),k.X=L(n,k),k.c=L(e,k),E.x=L(r,E),E.X=L(n,E),E.c=L(e,E);function L(Z,ue){return function(ae){var pe=[],Ee=-1,Se=0,de=Z.length,be,oe,we;for(ae instanceof Date||(ae=new Date(+ae));++Ee<de;)Z.charCodeAt(Ee)===37&&(pe.push(Z.slice(Se,Ee)),(oe=O$[be=Z.charAt(++Ee)])!=null?be=Z.charAt(++Ee):oe=be==="e"?" ":"0",(we=ue[be])&&(be=we(ae,oe)),pe.push(be),Se=Ee+1);return pe.push(Z.slice(Se,Ee)),pe.join("")}}function _(Z,ue){return function(ae){var pe=ym(1900,void 0,1),Ee=I(pe,Z,ae+="",0),Se,de;if(Ee!=ae.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(ue&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(Se=y7(ym(pe.y,0,1)),de=Se.getUTCDay(),Se=de>4||de===0?J5.ceil(Se):J5(Se),Se=tM.offset(Se,(pe.V-1)*7),pe.y=Se.getUTCFullYear(),pe.m=Se.getUTCMonth(),pe.d=Se.getUTCDate()+(pe.w+6)%7):(Se=m7(ym(pe.y,0,1)),de=Se.getDay(),Se=de>4||de===0?d2.ceil(Se):d2(Se),Se=y0.offset(Se,(pe.V-1)*7),pe.y=Se.getFullYear(),pe.m=Se.getMonth(),pe.d=Se.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),de="Z"in pe?y7(ym(pe.y,0,1)).getUTCDay():m7(ym(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(de+5)%7:pe.w+pe.U*7-(de+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,y7(pe)):m7(pe)}}function I(Z,ue,ae,pe){for(var Ee=0,Se=ue.length,de=ae.length,be,oe;Ee<Se;){if(pe>=de)return-1;if(be=ue.charCodeAt(Ee++),be===37){if(be=ue.charAt(Ee++),oe=C[be in O$?ue.charAt(Ee++):be],!oe||(pe=oe(Z,ae,pe))<0)return-1}else if(be!=ae.charCodeAt(pe++))return-1}return pe}function M(Z,ue,ae){var pe=u.exec(ue.slice(ae));return pe?(Z.p=h.get(pe[0].toLowerCase()),ae+pe[0].length):-1}function F(Z,ue,ae){var pe=p.exec(ue.slice(ae));return pe?(Z.w=v.get(pe[0].toLowerCase()),ae+pe[0].length):-1}function N(Z,ue,ae){var pe=f.exec(ue.slice(ae));return pe?(Z.w=d.get(pe[0].toLowerCase()),ae+pe[0].length):-1}function z(Z,ue,ae){var pe=y.exec(ue.slice(ae));return pe?(Z.m=w.get(pe[0].toLowerCase()),ae+pe[0].length):-1}function V(Z,ue,ae){var pe=m.exec(ue.slice(ae));return pe?(Z.m=x.get(pe[0].toLowerCase()),ae+pe[0].length):-1}function D(Z,ue,ae){return I(Z,e,ue,ae)}function O(Z,ue,ae){return I(Z,r,ue,ae)}function P(Z,ue,ae){return I(Z,n,ue,ae)}function $(Z){return s[Z.getDay()]}function B(Z){return a[Z.getDay()]}function H(Z){return l[Z.getMonth()]}function X(Z){return o[Z.getMonth()]}function q(Z){return i[+(Z.getHours()>=12)]}function Y(Z){return 1+~~(Z.getMonth()/3)}function U(Z){return s[Z.getUTCDay()]}function J(Z){return a[Z.getUTCDay()]}function ce(Z){return l[Z.getUTCMonth()]}function re(Z){return o[Z.getUTCMonth()]}function ve(Z){return i[+(Z.getUTCHours()>=12)]}function ye(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ue=L(Z+="",k);return ue.toString=function(){return Z},ue},parse:function(Z){var ue=_(Z+="",!1);return ue.toString=function(){return Z},ue},utcFormat:function(Z){var ue=L(Z+="",E);return ue.toString=function(){return Z},ue},utcParse:function(Z){var ue=_(Z+="",!0);return ue.toString=function(){return Z},ue}}}var O$={"-":"",_:" ",0:"0"},Ea=/^\s*\d+/,I3e=/^%/,O3e=/[\\^$*+?|[\]().{}]/g;function an(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function F3e(t){return t.replace(O3e,"\\$&")}function xm(t){return new RegExp("^(?:"+t.map(F3e).join("|")+")","i")}function bm(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function P3e(t,e,r){var n=Ea.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function B3e(t,e,r){var n=Ea.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function $3e(t,e,r){var n=Ea.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function z3e(t,e,r){var n=Ea.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function H3e(t,e,r){var n=Ea.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function F$(t,e,r){var n=Ea.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function P$(t,e,r){var n=Ea.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function V3e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function U3e(t,e,r){var n=Ea.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function G3e(t,e,r){var n=Ea.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function B$(t,e,r){var n=Ea.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function W3e(t,e,r){var n=Ea.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function $$(t,e,r){var n=Ea.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function q3e(t,e,r){var n=Ea.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Y3e(t,e,r){var n=Ea.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function X3e(t,e,r){var n=Ea.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function j3e(t,e,r){var n=Ea.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function K3e(t,e,r){var n=I3e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Q3e(t,e,r){var n=Ea.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Z3e(t,e,r){var n=Ea.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function z$(t,e){return an(t.getDate(),e,2)}function J3e(t,e){return an(t.getHours(),e,2)}function ewe(t,e){return an(t.getHours()%12||12,e,2)}function twe(t,e){return an(1+y0.count(Jc(t),t),e,3)}function YZ(t,e){return an(t.getMilliseconds(),e,3)}function rwe(t,e){return YZ(t,e)+"000"}function nwe(t,e){return an(t.getMonth()+1,e,2)}function iwe(t,e){return an(t.getMinutes(),e,2)}function awe(t,e){return an(t.getSeconds(),e,2)}function swe(t){var e=t.getDay();return e===0?7:e}function owe(t,e){return an(Jx.count(Jc(t)-1,t),e,2)}function XZ(t){var e=t.getDay();return e>=4||e===0?x0(t):x0.ceil(t)}function lwe(t,e){return t=XZ(t),an(x0.count(Jc(t),t)+(Jc(t).getDay()===4),e,2)}function uwe(t){return t.getDay()}function cwe(t,e){return an(d2.count(Jc(t)-1,t),e,2)}function hwe(t,e){return an(t.getFullYear()%100,e,2)}function fwe(t,e){return t=XZ(t),an(t.getFullYear()%100,e,2)}function dwe(t,e){return an(t.getFullYear()%1e4,e,4)}function pwe(t,e){var r=t.getDay();return t=r>=4||r===0?x0(t):x0.ceil(t),an(t.getFullYear()%1e4,e,4)}function gwe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+an(e/60|0,"0",2)+an(e%60,"0",2)}function H$(t,e){return an(t.getUTCDate(),e,2)}function vwe(t,e){return an(t.getUTCHours(),e,2)}function mwe(t,e){return an(t.getUTCHours()%12||12,e,2)}function ywe(t,e){return an(1+tM.count(b0(t),t),e,3)}function jZ(t,e){return an(t.getUTCMilliseconds(),e,3)}function xwe(t,e){return jZ(t,e)+"000"}function bwe(t,e){return an(t.getUTCMonth()+1,e,2)}function wwe(t,e){return an(t.getUTCMinutes(),e,2)}function kwe(t,e){return an(t.getUTCSeconds(),e,2)}function Swe(t){var e=t.getUTCDay();return e===0?7:e}function Ewe(t,e){return an(qZ.count(b0(t)-1,t),e,2)}function KZ(t){var e=t.getUTCDay();return e>=4||e===0?f1(t):f1.ceil(t)}function Twe(t,e){return t=KZ(t),an(f1.count(b0(t),t)+(b0(t).getUTCDay()===4),e,2)}function Cwe(t){return t.getUTCDay()}function Awe(t,e){return an(J5.count(b0(t)-1,t),e,2)}function _we(t,e){return an(t.getUTCFullYear()%100,e,2)}function Lwe(t,e){return t=KZ(t),an(t.getUTCFullYear()%100,e,2)}function Dwe(t,e){return an(t.getUTCFullYear()%1e4,e,4)}function Rwe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?f1(t):f1.ceil(t),an(t.getUTCFullYear()%1e4,e,4)}function Mwe(){return"+0000"}function V$(){return"%"}function U$(t){return+t}function G$(t){return Math.floor(+t/1e3)}var Vp,ek;Nwe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Nwe(t){return Vp=N3e(t),ek=Vp.format,Vp.parse,Vp.utcFormat,Vp.utcParse,Vp}function Iwe(t){return new Date(t)}function Owe(t){return t instanceof Date?+t:+new Date(+t)}function QZ(t,e,r,n,i,a,s,o,l,u){var h=HZ(),f=h.invert,d=h.domain,p=u(".%L"),v=u(":%S"),m=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),w=u("%b %d"),k=u("%B"),E=u("%Y");function C(L){return(l(L)<L?p:o(L)<L?v:s(L)<L?m:a(L)<L?x:n(L)<L?i(L)<L?y:w:r(L)<L?k:E)(L)}return h.invert=function(L){return new Date(f(L))},h.domain=function(L){return arguments.length?d(Array.from(L,Owe)):d().map(Iwe)},h.ticks=function(L){var _=d();return t(_[0],_[_.length-1],L??10)},h.tickFormat=function(L,_){return _==null?C:u(_)},h.nice=function(L){var _=d();return(!L||typeof L.range!="function")&&(L=e(_[0],_[_.length-1],L??10)),L?d(w3e(_,L)):h},h.copy=function(){return zZ(h,QZ(t,e,r,n,i,a,s,o,l,u))},h}function Fwe(){return wE.apply(QZ(R3e,M3e,Jc,p2,Jx,y0,f2,h2,rf,ek).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Pwe(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(n*6,++n*6);return r}const Bwe=Pwe("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function _i(t){return function(){return t}}const W$=Math.abs,rs=Math.atan2,wd=Math.cos,$we=Math.max,x7=Math.min,Su=Math.sin,yg=Math.sqrt,as=1e-12,g2=Math.PI,tk=g2/2,yw=2*g2;function zwe(t){return t>1?0:t<-1?g2:Math.acos(t)}function q$(t){return t>=1?tk:t<=-1?-tk:Math.asin(t)}function ZZ(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new t3e(e)}function Hwe(t){return t.innerRadius}function Vwe(t){return t.outerRadius}function Uwe(t){return t.startAngle}function Gwe(t){return t.endAngle}function Wwe(t){return t&&t.padAngle}function qwe(t,e,r,n,i,a,s,o){var l=r-t,u=n-e,h=s-i,f=o-a,d=f*l-h*u;if(!(d*d<as))return d=(h*(e-a)-f*(t-i))/d,[t+d*l,e+d*u]}function q4(t,e,r,n,i,a,s){var o=t-r,l=e-n,u=(s?a:-a)/yg(o*o+l*l),h=u*l,f=-u*o,d=t+h,p=e+f,v=r+h,m=n+f,x=(d+v)/2,y=(p+m)/2,w=v-d,k=m-p,E=w*w+k*k,C=i-a,L=d*m-v*p,_=(k<0?-1:1)*yg($we(0,C*C*E-L*L)),I=(L*k-w*_)/E,M=(-L*w-k*_)/E,F=(L*k+w*_)/E,N=(-L*w+k*_)/E,z=I-x,V=M-y,D=F-x,O=N-y;return z*z+V*V>D*D+O*O&&(I=F,M=N),{cx:I,cy:M,x01:-h,y01:-f,x11:I*(i/C-1),y11:M*(i/C-1)}}function d1(){var t=Hwe,e=Vwe,r=_i(0),n=null,i=Uwe,a=Gwe,s=Wwe,o=null,l=ZZ(u);function u(){var h,f,d=+t.apply(this,arguments),p=+e.apply(this,arguments),v=i.apply(this,arguments)-tk,m=a.apply(this,arguments)-tk,x=W$(m-v),y=m>v;if(o||(o=h=l()),p<d&&(f=p,p=d,d=f),!(p>as))o.moveTo(0,0);else if(x>yw-as)o.moveTo(p*wd(v),p*Su(v)),o.arc(0,0,p,v,m,!y),d>as&&(o.moveTo(d*wd(m),d*Su(m)),o.arc(0,0,d,m,v,y));else{var w=v,k=m,E=v,C=m,L=x,_=x,I=s.apply(this,arguments)/2,M=I>as&&(n?+n.apply(this,arguments):yg(d*d+p*p)),F=x7(W$(p-d)/2,+r.apply(this,arguments)),N=F,z=F,V,D;if(M>as){var O=q$(M/d*Su(I)),P=q$(M/p*Su(I));(L-=O*2)>as?(O*=y?1:-1,E+=O,C-=O):(L=0,E=C=(v+m)/2),(_-=P*2)>as?(P*=y?1:-1,w+=P,k-=P):(_=0,w=k=(v+m)/2)}var $=p*wd(w),B=p*Su(w),H=d*wd(C),X=d*Su(C);if(F>as){var q=p*wd(k),Y=p*Su(k),U=d*wd(E),J=d*Su(E),ce;if(x<g2)if(ce=qwe($,B,U,J,q,Y,H,X)){var re=$-ce[0],ve=B-ce[1],ye=q-ce[0],Z=Y-ce[1],ue=1/Su(zwe((re*ye+ve*Z)/(yg(re*re+ve*ve)*yg(ye*ye+Z*Z)))/2),ae=yg(ce[0]*ce[0]+ce[1]*ce[1]);N=x7(F,(d-ae)/(ue-1)),z=x7(F,(p-ae)/(ue+1))}else N=z=0}_>as?z>as?(V=q4(U,J,$,B,p,z,y),D=q4(q,Y,H,X,p,z,y),o.moveTo(V.cx+V.x01,V.cy+V.y01),z<F?o.arc(V.cx,V.cy,z,rs(V.y01,V.x01),rs(D.y01,D.x01),!y):(o.arc(V.cx,V.cy,z,rs(V.y01,V.x01),rs(V.y11,V.x11),!y),o.arc(0,0,p,rs(V.cy+V.y11,V.cx+V.x11),rs(D.cy+D.y11,D.cx+D.x11),!y),o.arc(D.cx,D.cy,z,rs(D.y11,D.x11),rs(D.y01,D.x01),!y))):(o.moveTo($,B),o.arc(0,0,p,w,k,!y)):o.moveTo($,B),!(d>as)||!(L>as)?o.lineTo(H,X):N>as?(V=q4(H,X,q,Y,d,-N,y),D=q4($,B,U,J,d,-N,y),o.lineTo(V.cx+V.x01,V.cy+V.y01),N<F?o.arc(V.cx,V.cy,N,rs(V.y01,V.x01),rs(D.y01,D.x01),!y):(o.arc(V.cx,V.cy,N,rs(V.y01,V.x01),rs(V.y11,V.x11),!y),o.arc(0,0,d,rs(V.cy+V.y11,V.cx+V.x11),rs(D.cy+D.y11,D.cx+D.x11),y),o.arc(D.cx,D.cy,N,rs(D.y11,D.x11),rs(D.y01,D.x01),!y))):o.arc(0,0,d,C,E,y)}if(o.closePath(),h)return o=null,h+""||null}return u.centroid=function(){var h=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-g2/2;return[wd(f)*h,Su(f)*h]},u.innerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:_i(+h),u):t},u.outerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:_i(+h),u):e},u.cornerRadius=function(h){return arguments.length?(r=typeof h=="function"?h:_i(+h),u):r},u.padRadius=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:_i(+h),u):n},u.startAngle=function(h){return arguments.length?(i=typeof h=="function"?h:_i(+h),u):i},u.endAngle=function(h){return arguments.length?(a=typeof h=="function"?h:_i(+h),u):a},u.padAngle=function(h){return arguments.length?(s=typeof h=="function"?h:_i(+h),u):s},u.context=function(h){return arguments.length?(o=h??null,u):o},u}function JZ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function eJ(t){this._context=t}eJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function SE(t){return new eJ(t)}function Ywe(t){return t[0]}function Xwe(t){return t[1]}function _f(t,e){var r=_i(!0),n=null,i=SE,a=null,s=ZZ(o);t=typeof t=="function"?t:t===void 0?Ywe:_i(t),e=typeof e=="function"?e:e===void 0?Xwe:_i(e);function o(l){var u,h=(l=JZ(l)).length,f,d=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=h;++u)!(u<h&&r(f=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:_i(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:_i(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:_i(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function jwe(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Kwe(t){return t}function Qwe(){var t=Kwe,e=jwe,r=null,n=_i(0),i=_i(yw),a=_i(0);function s(o){var l,u=(o=JZ(o)).length,h,f,d=0,p=new Array(u),v=new Array(u),m=+n.apply(this,arguments),x=Math.min(yw,Math.max(-yw,i.apply(this,arguments)-m)),y,w=Math.min(Math.abs(x)/u,a.apply(this,arguments)),k=w*(x<0?-1:1),E;for(l=0;l<u;++l)(E=v[p[l]=l]=+t(o[l],l,o))>0&&(d+=E);for(e!=null?p.sort(function(C,L){return e(v[C],v[L])}):r!=null&&p.sort(function(C,L){return r(o[C],o[L])}),l=0,f=d?(x-u*k)/d:0;l<u;++l,m=y)h=p[l],E=v[h],y=m+(E>0?E*f:0)+k,v[h]={data:o[h],index:l,value:E,startAngle:m,endAngle:y,padAngle:w};return v}return s.value=function(o){return arguments.length?(t=typeof o=="function"?o:_i(+o),s):t},s.sortValues=function(o){return arguments.length?(e=o,r=null,s):e},s.sort=function(o){return arguments.length?(r=o,e=null,s):r},s.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:_i(+o),s):n},s.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:_i(+o),s):i},s.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:_i(+o),s):a},s}class tJ{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Zwe(t){return new tJ(t,!0)}function Jwe(t){return new tJ(t,!1)}function Lf(){}function rk(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function EE(t){this._context=t}EE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rk(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rk(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function j1(t){return new EE(t)}function rJ(t){this._context=t}rJ.prototype={areaStart:Lf,areaEnd:Lf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rk(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e5e(t){return new rJ(t)}function nJ(t){this._context=t}nJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:rk(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t5e(t){return new nJ(t)}function iJ(t,e){this._basis=new EE(t),this._beta=e}iJ.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var n=t[0],i=e[0],a=t[r]-n,s=e[r]-i,o=-1,l;++o<=r;)l=o/r,this._basis.point(this._beta*t[o]+(1-this._beta)*(n+l*a),this._beta*e[o]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const r5e=function t(e){function r(n){return e===1?new EE(n):new iJ(n,e)}return r.beta=function(n){return t(+n)},r}(.85);function nk(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function rM(t,e){this._context=t,this._k=(1-e)/6}rM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:nk(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:nk(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const n5e=function t(e){function r(n){return new rM(n,e)}return r.tension=function(n){return t(+n)},r}(0);function nM(t,e){this._context=t,this._k=(1-e)/6}nM.prototype={areaStart:Lf,areaEnd:Lf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:nk(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const i5e=function t(e){function r(n){return new nM(n,e)}return r.tension=function(n){return t(+n)},r}(0);function iM(t,e){this._context=t,this._k=(1-e)/6}iM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:nk(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const a5e=function t(e){function r(n){return new iM(n,e)}return r.tension=function(n){return t(+n)},r}(0);function aM(t,e,r){var n=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>as){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>as){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*u+t._y1*t._l23_2a-r*t._l12_2a)/h}t._context.bezierCurveTo(n,i,a,s,t._x2,t._y2)}function aJ(t,e){this._context=t,this._alpha=e}aJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:aM(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const s5e=function t(e){function r(n){return e?new aJ(n,e):new rM(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function sJ(t,e){this._context=t,this._alpha=e}sJ.prototype={areaStart:Lf,areaEnd:Lf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:aM(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const o5e=function t(e){function r(n){return e?new sJ(n,e):new nM(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function oJ(t,e){this._context=t,this._alpha=e}oJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:aM(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const l5e=function t(e){function r(n){return e?new oJ(n,e):new iM(n,0)}return r.alpha=function(n){return t(+n)},r}(.5);function lJ(t){this._context=t}lJ.prototype={areaStart:Lf,areaEnd:Lf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function u5e(t){return new lJ(t)}function Y$(t){return t<0?-1:1}function X$(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(Y$(a)+Y$(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function j$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function b7(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function ik(t){this._context=t}ik.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:b7(this,this._t0,j$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,b7(this,j$(this,r=X$(this,t,e)),r);break;default:b7(this,this._t0,r=X$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function uJ(t){this._context=new cJ(t)}(uJ.prototype=Object.create(ik.prototype)).point=function(t,e){ik.prototype.point.call(this,e,t)};function cJ(t){this._context=t}cJ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function c5e(t){return new ik(t)}function h5e(t){return new uJ(t)}function hJ(t){this._context=t}hJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=K$(t),i=K$(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function K$(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function f5e(t){return new hJ(t)}function TE(t,e){this._context=t,this._t=e}TE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function d5e(t){return new TE(t,.5)}function p5e(t){return new TE(t,0)}function g5e(t){return new TE(t,1)}function Qm(t,e,r){this.k=t,this.x=e,this.y=r}Qm.prototype={constructor:Qm,scale:function(t){return t===1?this:new Qm(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Qm(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Qm.prototype;var v5e=typeof global=="object"&&global&&global.Object===Object&&global;const fJ=v5e;var m5e=typeof self=="object"&&self&&self.Object===Object&&self,y5e=fJ||m5e||Function("return this")();const du=y5e;var x5e=du.Symbol;const wl=x5e;var dJ=Object.prototype,b5e=dJ.hasOwnProperty,w5e=dJ.toString,wm=wl?wl.toStringTag:void 0;function k5e(t){var e=b5e.call(t,wm),r=t[wm];try{t[wm]=void 0;var n=!0}catch{}var i=w5e.call(t);return n&&(e?t[wm]=r:delete t[wm]),i}var S5e=Object.prototype,E5e=S5e.toString;function T5e(t){return E5e.call(t)}var C5e="[object Null]",A5e="[object Undefined]",Q$=wl?wl.toStringTag:void 0;function ph(t){return t==null?t===void 0?A5e:C5e:Q$&&Q$ in Object(t)?k5e(t):T5e(t)}function po(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var _5e="[object AsyncFunction]",L5e="[object Function]",D5e="[object GeneratorFunction]",R5e="[object Proxy]";function kl(t){if(!po(t))return!1;var e=ph(t);return e==L5e||e==D5e||e==_5e||e==R5e}var M5e=du["__core-js_shared__"];const w7=M5e;var Z$=function(){var t=/[^.]+$/.exec(w7&&w7.keys&&w7.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function N5e(t){return!!Z$&&Z$ in t}var I5e=Function.prototype,O5e=I5e.toString;function ep(t){if(t!=null){try{return O5e.call(t)}catch{}try{return t+""}catch{}}return""}var F5e=/[\\^$.*+?()[\]{}|]/g,P5e=/^\[object .+?Constructor\]$/,B5e=Function.prototype,$5e=Object.prototype,z5e=B5e.toString,H5e=$5e.hasOwnProperty,V5e=RegExp("^"+z5e.call(H5e).replace(F5e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function U5e(t){if(!po(t)||N5e(t))return!1;var e=kl(t)?V5e:P5e;return e.test(ep(t))}function G5e(t,e){return t==null?void 0:t[e]}function tp(t,e){var r=G5e(t,e);return U5e(r)?r:void 0}var W5e=tp(Object,"create");const v2=W5e;function q5e(){this.__data__=v2?v2(null):{},this.size=0}function Y5e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var X5e="__lodash_hash_undefined__",j5e=Object.prototype,K5e=j5e.hasOwnProperty;function Q5e(t){var e=this.__data__;if(v2){var r=e[t];return r===X5e?void 0:r}return K5e.call(e,t)?e[t]:void 0}var Z5e=Object.prototype,J5e=Z5e.hasOwnProperty;function eke(t){var e=this.__data__;return v2?e[t]!==void 0:J5e.call(e,t)}var tke="__lodash_hash_undefined__";function rke(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=v2&&e===void 0?tke:e,this}function w0(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}w0.prototype.clear=q5e;w0.prototype.delete=Y5e;w0.prototype.get=Q5e;w0.prototype.has=eke;w0.prototype.set=rke;function nke(){this.__data__=[],this.size=0}function K1(t,e){return t===e||t!==t&&e!==e}function CE(t,e){for(var r=t.length;r--;)if(K1(t[r][0],e))return r;return-1}var ike=Array.prototype,ake=ike.splice;function ske(t){var e=this.__data__,r=CE(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():ake.call(e,r,1),--this.size,!0}function oke(t){var e=this.__data__,r=CE(e,t);return r<0?void 0:e[r][1]}function lke(t){return CE(this.__data__,t)>-1}function uke(t,e){var r=this.__data__,n=CE(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function gh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}gh.prototype.clear=nke;gh.prototype.delete=ske;gh.prototype.get=oke;gh.prototype.has=lke;gh.prototype.set=uke;var cke=tp(du,"Map");const m2=cke;function hke(){this.size=0,this.__data__={hash:new w0,map:new(m2||gh),string:new w0}}function fke(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function AE(t,e){var r=t.__data__;return fke(e)?r[typeof e=="string"?"string":"hash"]:r.map}function dke(t){var e=AE(this,t).delete(t);return this.size-=e?1:0,e}function pke(t){return AE(this,t).get(t)}function gke(t){return AE(this,t).has(t)}function vke(t,e){var r=AE(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function vh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}vh.prototype.clear=hke;vh.prototype.delete=dke;vh.prototype.get=pke;vh.prototype.has=gke;vh.prototype.set=vke;var mke="Expected a function";function Q1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(mke);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(Q1.Cache||vh),r}Q1.Cache=vh;function yke(){this.__data__=new gh,this.size=0}function xke(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function bke(t){return this.__data__.get(t)}function wke(t){return this.__data__.has(t)}var kke=200;function Ske(t,e){var r=this.__data__;if(r instanceof gh){var n=r.__data__;if(!m2||n.length<kke-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new vh(n)}return r.set(t,e),this.size=r.size,this}function Zl(t){var e=this.__data__=new gh(t);this.size=e.size}Zl.prototype.clear=yke;Zl.prototype.delete=xke;Zl.prototype.get=bke;Zl.prototype.has=wke;Zl.prototype.set=Ske;var Eke=function(){try{var t=tp(Object,"defineProperty");return t({},"",{}),t}catch{}}();const ak=Eke;function eb(t,e,r){e=="__proto__"&&ak?ak(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function e9(t,e,r){(r!==void 0&&!K1(t[e],r)||r===void 0&&!(e in t))&&eb(t,e,r)}function Tke(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var Cke=Tke();const sM=Cke;var pJ=typeof No=="object"&&No&&!No.nodeType&&No,J$=pJ&&typeof Io=="object"&&Io&&!Io.nodeType&&Io,Ake=J$&&J$.exports===pJ,ez=Ake?du.Buffer:void 0,tz=ez?ez.allocUnsafe:void 0;function gJ(t,e){if(e)return t.slice();var r=t.length,n=tz?tz(r):new t.constructor(r);return t.copy(n),n}var _ke=du.Uint8Array;const sk=_ke;function oM(t){var e=new t.constructor(t.byteLength);return new sk(e).set(new sk(t)),e}function vJ(t,e){var r=e?oM(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function mJ(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var rz=Object.create,Lke=function(){function t(){}return function(e){if(!po(e))return{};if(rz)return rz(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const Dke=Lke;function yJ(t,e){return function(r){return t(e(r))}}var Rke=yJ(Object.getPrototypeOf,Object);const lM=Rke;var Mke=Object.prototype;function tb(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Mke;return t===r}function xJ(t){return typeof t.constructor=="function"&&!tb(t)?Dke(lM(t)):{}}function Sl(t){return t!=null&&typeof t=="object"}var Nke="[object Arguments]";function nz(t){return Sl(t)&&ph(t)==Nke}var bJ=Object.prototype,Ike=bJ.hasOwnProperty,Oke=bJ.propertyIsEnumerable,Fke=nz(function(){return arguments}())?nz:function(t){return Sl(t)&&Ike.call(t,"callee")&&!Oke.call(t,"callee")};const p1=Fke;var Pke=Array.isArray;const Ur=Pke;var Bke=9007199254740991;function uM(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Bke}function Ju(t){return t!=null&&uM(t.length)&&!kl(t)}function ok(t){return Sl(t)&&Ju(t)}function $ke(){return!1}var wJ=typeof No=="object"&&No&&!No.nodeType&&No,iz=wJ&&typeof Io=="object"&&Io&&!Io.nodeType&&Io,zke=iz&&iz.exports===wJ,az=zke?du.Buffer:void 0,Hke=az?az.isBuffer:void 0,Vke=Hke||$ke;const g1=Vke;var Uke="[object Object]",Gke=Function.prototype,Wke=Object.prototype,kJ=Gke.toString,qke=Wke.hasOwnProperty,Yke=kJ.call(Object);function Xke(t){if(!Sl(t)||ph(t)!=Uke)return!1;var e=lM(t);if(e===null)return!0;var r=qke.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&kJ.call(r)==Yke}var jke="[object Arguments]",Kke="[object Array]",Qke="[object Boolean]",Zke="[object Date]",Jke="[object Error]",eSe="[object Function]",tSe="[object Map]",rSe="[object Number]",nSe="[object Object]",iSe="[object RegExp]",aSe="[object Set]",sSe="[object String]",oSe="[object WeakMap]",lSe="[object ArrayBuffer]",uSe="[object DataView]",cSe="[object Float32Array]",hSe="[object Float64Array]",fSe="[object Int8Array]",dSe="[object Int16Array]",pSe="[object Int32Array]",gSe="[object Uint8Array]",vSe="[object Uint8ClampedArray]",mSe="[object Uint16Array]",ySe="[object Uint32Array]",Wn={};Wn[cSe]=Wn[hSe]=Wn[fSe]=Wn[dSe]=Wn[pSe]=Wn[gSe]=Wn[vSe]=Wn[mSe]=Wn[ySe]=!0;Wn[jke]=Wn[Kke]=Wn[lSe]=Wn[Qke]=Wn[uSe]=Wn[Zke]=Wn[Jke]=Wn[eSe]=Wn[tSe]=Wn[rSe]=Wn[nSe]=Wn[iSe]=Wn[aSe]=Wn[sSe]=Wn[oSe]=!1;function xSe(t){return Sl(t)&&uM(t.length)&&!!Wn[ph(t)]}function Z1(t){return function(e){return t(e)}}var SJ=typeof No=="object"&&No&&!No.nodeType&&No,Dy=SJ&&typeof Io=="object"&&Io&&!Io.nodeType&&Io,bSe=Dy&&Dy.exports===SJ,k7=bSe&&fJ.process,wSe=function(){try{var t=Dy&&Dy.require&&Dy.require("util").types;return t||k7&&k7.binding&&k7.binding("util")}catch{}}();const Df=wSe;var sz=Df&&Df.isTypedArray,kSe=sz?Z1(sz):xSe;const _E=kSe;function t9(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var SSe=Object.prototype,ESe=SSe.hasOwnProperty;function rb(t,e,r){var n=t[e];(!(ESe.call(t,e)&&K1(n,r))||r===void 0&&!(e in t))&&eb(t,e,r)}function J1(t,e,r,n){var i=!r;r||(r={});for(var a=-1,s=e.length;++a<s;){var o=e[a],l=n?n(r[o],t[o],o,r,t):void 0;l===void 0&&(l=t[o]),i?eb(r,o,l):rb(r,o,l)}return r}function TSe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var CSe=9007199254740991,ASe=/^(?:0|[1-9]\d*)$/;function LE(t,e){var r=typeof t;return e=e??CSe,!!e&&(r=="number"||r!="symbol"&&ASe.test(t))&&t>-1&&t%1==0&&t<e}var _Se=Object.prototype,LSe=_Se.hasOwnProperty;function EJ(t,e){var r=Ur(t),n=!r&&p1(t),i=!r&&!n&&g1(t),a=!r&&!n&&!i&&_E(t),s=r||n||i||a,o=s?TSe(t.length,String):[],l=o.length;for(var u in t)(e||LSe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||LE(u,l)))&&o.push(u);return o}function DSe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var RSe=Object.prototype,MSe=RSe.hasOwnProperty;function NSe(t){if(!po(t))return DSe(t);var e=tb(t),r=[];for(var n in t)n=="constructor"&&(e||!MSe.call(t,n))||r.push(n);return r}function rp(t){return Ju(t)?EJ(t,!0):NSe(t)}function ISe(t){return J1(t,rp(t))}function OSe(t,e,r,n,i,a,s){var o=t9(t,r),l=t9(e,r),u=s.get(l);if(u){e9(t,r,u);return}var h=a?a(o,l,r+"",t,e,s):void 0,f=h===void 0;if(f){var d=Ur(l),p=!d&&g1(l),v=!d&&!p&&_E(l);h=l,d||p||v?Ur(o)?h=o:ok(o)?h=mJ(o):p?(f=!1,h=gJ(l,!0)):v?(f=!1,h=vJ(l,!0)):h=[]:Xke(l)||p1(l)?(h=o,p1(o)?h=ISe(o):(!po(o)||kl(o))&&(h=xJ(l))):f=!1}f&&(s.set(l,h),i(h,l,n,a,s),s.delete(l)),e9(t,r,h)}function TJ(t,e,r,n,i){t!==e&&sM(e,function(a,s){if(i||(i=new Zl),po(a))OSe(t,e,s,r,TJ,n,i);else{var o=n?n(t9(t,s),a,s+"",t,e,i):void 0;o===void 0&&(o=a),e9(t,s,o)}},rp)}function eh(t){return t}function FSe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var oz=Math.max;function CJ(t,e,r){return e=oz(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=oz(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),FSe(t,this,o)}}function xg(t){return function(){return t}}var PSe=ak?function(t,e){return ak(t,"toString",{configurable:!0,enumerable:!1,value:xg(e),writable:!0})}:eh;const BSe=PSe;var $Se=800,zSe=16,HSe=Date.now;function VSe(t){var e=0,r=0;return function(){var n=HSe(),i=zSe-(n-r);if(r=n,i>0){if(++e>=$Se)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var USe=VSe(BSe);const AJ=USe;function nb(t,e){return AJ(CJ(t,e,eh),t+"")}function k0(t,e,r){if(!po(r))return!1;var n=typeof e;return(n=="number"?Ju(r)&&LE(e,r.length):n=="string"&&e in r)?K1(r[e],t):!1}function _J(t){return nb(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,s&&k0(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var o=r[n];o&&t(e,o,n,a)}return e})}var GSe=_J(function(t,e,r){TJ(t,e,r)});const lk=GSe;var LJ="​",WSe={curveBasis:j1,curveBasisClosed:e5e,curveBasisOpen:t5e,curveBumpX:Zwe,curveBumpY:Jwe,curveBundle:r5e,curveCardinalClosed:i5e,curveCardinalOpen:a5e,curveCardinal:n5e,curveCatmullRomClosed:o5e,curveCatmullRomOpen:l5e,curveCatmullRom:s5e,curveLinear:SE,curveLinearClosed:u5e,curveMonotoneX:c5e,curveMonotoneY:h5e,curveNatural:f5e,curveStep:d5e,curveStepAfter:g5e,curveStepBefore:p5e},qSe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,YSe=S(function(t,e){const r=DJ(t,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const s=r.map(o=>o.args);D5(s),n=Ji(n,[...s])}else n=r.args;if(!n)return;let i=RR(t,e);const a="config";return n[a]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[a],delete n[a]),n},"detectInit"),DJ=S(function(t,e=null){var r,n;try{const i=new RegExp(`[%]{2}(?![{]${qSe.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(i,"").replace(/'/gm,'"'),he.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let a;const s=[];for(;(a=Cy.exec(t))!==null;)if(a.index===Cy.lastIndex&&Cy.lastIndex++,a&&!e||e&&((r=a[1])!=null&&r.match(e))||e&&((n=a[2])!=null&&n.match(e))){const o=a[1]?a[1]:a[2],l=a[3]?a[3].trim():a[4]?JSON.parse(a[4].trim()):null;s.push({type:o,args:l})}return s.length===0?{type:t,args:null}:s.length===1?s[0]:s}catch(i){return he.error(`ERROR: ${i.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),XSe=S(function(t){return t.replace(Cy,"")},"removeDirectives"),jSe=S(function(t,e){for(const[r,n]of e.entries())if(n.match(t))return r;return-1},"isSubstringInArray");function ib(t,e){if(!t)return e;const r=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return WSe[r]??e}S(ib,"interpolateToCurve");function RJ(t,e){const r=t.trim();if(r)return e.securityLevel!=="loose"?Zf(r):r}S(RJ,"formatUrl");var KSe=S((t,...e)=>{const r=t.split("."),n=r.length-1,i=r[n];let a=window;for(let s=0;s<n;s++)if(a=a[r[s]],!a){he.error(`Function name: ${t} not found in window`);return}a[i](...e)},"runFunc");function cM(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}S(cM,"distance");function MJ(t){let e,r=0;t.forEach(i=>{r+=cM(i,e),e=i});const n=r/2;return hM(t,n)}S(MJ,"traverseEdge");function NJ(t){return t.length===1?t[0]:MJ(t)}S(NJ,"calcLabelPosition");var lz=S((t,e=2)=>{const r=Math.pow(10,e);return Math.round(t*r)/r},"roundNumber"),hM=S((t,e)=>{let r,n=e;for(const i of t){if(r){const a=cM(i,r);if(a<n)n-=a;else{const s=n/a;if(s<=0)return r;if(s>=1)return{x:i.x,y:i.y};if(s>0&&s<1)return{x:lz((1-s)*r.x+s*i.x,5),y:lz((1-s)*r.y+s*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),QSe=S((t,e,r)=>{he.info(`our points ${JSON.stringify(e)}`),e[0]!==r&&(e=e.reverse());const i=hM(e,25),a=t?10:5,s=Math.atan2(e[0].y-i.y,e[0].x-i.x),o={x:0,y:0};return o.x=Math.sin(s)*a+(e[0].x+i.x)/2,o.y=-Math.cos(s)*a+(e[0].y+i.y)/2,o},"calcCardinalityPosition");function IJ(t,e,r){const n=structuredClone(r);he.info("our points",n),e!=="start_left"&&e!=="start_right"&&n.reverse();const i=25+t,a=hM(n,i),s=10+t*.5,o=Math.atan2(n[0].y-a.y,n[0].x-a.x),l={x:0,y:0};return e==="start_left"?(l.x=Math.sin(o+Math.PI)*s+(n[0].x+a.x)/2,l.y=-Math.cos(o+Math.PI)*s+(n[0].y+a.y)/2):e==="end_right"?(l.x=Math.sin(o-Math.PI)*s+(n[0].x+a.x)/2-5,l.y=-Math.cos(o-Math.PI)*s+(n[0].y+a.y)/2-5):e==="end_left"?(l.x=Math.sin(o)*s+(n[0].x+a.x)/2-5,l.y=-Math.cos(o)*s+(n[0].y+a.y)/2-5):(l.x=Math.sin(o)*s+(n[0].x+a.x)/2,l.y=-Math.cos(o)*s+(n[0].y+a.y)/2),l}S(IJ,"calcTerminalLabelPosition");function ab(t){let e="",r="";for(const n of t)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":e=e+n+";");return{style:e,labelStyle:r}}S(ab,"getStylesFromArray");var uz=0,OJ=S(()=>(uz++,"id-"+Math.random().toString(36).substr(2,12)+"-"+uz),"generateId");function FJ(t){let e="";const r="0123456789abcdef",n=r.length;for(let i=0;i<t;i++)e+=r.charAt(Math.floor(Math.random()*n));return e}S(FJ,"makeRandomHex");var PJ=S(t=>FJ(t.length),"random"),ZSe=S(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),JSe=S(function(t,e){const r=e.text.replace(Et.lineBreakRegex," "),[,n]=np(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",n),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const a=i.append("tspan");return a.attr("x",e.x+e.textMargin*2),a.attr("fill",e.fill),a.text(r),i},"drawSimpleText"),BJ=Q1((t,e,r)=>{if(!t||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Et.lineBreakRegex.test(t)))return t;const n=t.split(" ").filter(Boolean),i=[];let a="";return n.forEach((s,o)=>{const l=Jl(`${s} `,r),u=Jl(a,r);if(l>e){const{hyphenatedStrings:d,remainingWord:p}=eEe(s,e,"-",r);i.push(a,...d),a=p}else u+l>=e?(i.push(a),a=s):a=[a,s].filter(Boolean).join(" ");o+1===n.length&&i.push(a)}),i.filter(s=>s!=="").join(r.joinWith)},(t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),eEe=Q1((t,e,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...t],a=[];let s="";return i.forEach((o,l)=>{const u=`${s}${o}`;if(Jl(u,n)>=e){const f=l+1,d=i.length===f,p=`${u}${r}`;a.push(d?u:p),s=""}else s=u}),{hyphenatedStrings:a,remainingWord:s}},(t,e,r="-",n)=>`${t}${e}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function uk(t,e){return fM(t,e).height}S(uk,"calculateTextHeight");function Jl(t,e){return fM(t,e).width}S(Jl,"calculateTextWidth");var fM=Q1((t,e)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};const[,a]=np(r),s=["sans-serif",n],o=t.split(Et.lineBreakRegex),l=[],u=yt("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const h=u.append("svg");for(const d of s){let p=0;const v={width:0,height:0,lineHeight:0};for(const m of o){const x=ZSe();x.text=m||LJ;const y=JSe(h,x).style("font-size",a).style("font-weight",i).style("font-family",d),w=(y._groups||y)[0][0].getBBox();if(w.width===0&&w.height===0)throw new Error("svg element not in render tree");v.width=Math.round(Math.max(v.width,w.width)),p=Math.round(w.height),v.height+=p,v.lineHeight=Math.round(Math.max(v.lineHeight,p))}l.push(v)}h.remove();const f=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[f]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),ux,tEe=(ux=class{constructor(e=!1,r){this.count=0,this.count=r?r.length:0,this.next=e?()=>this.count++:()=>Date.now()}},S(ux,"InitIDGenerator"),ux),Y4,rEe=S(function(t){return Y4=Y4||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Y4.innerHTML=t,unescape(Y4.textContent)},"entityDecode");function dM(t){return"str"in t}S(dM,"isDetailedError");var nEe=S((t,e,r,n)=>{var a;if(!n)return;const i=(a=t.node())==null?void 0:a.getBBox();i&&t.append("text").text(n).attr("x",i.x+i.width/2).attr("y",-r).attr("class",e)},"insertTitle"),np=S(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function mh(t,e){return lk({},t,e)}S(mh,"cleanAndMerge");var Dr={assignWithDepth:Ji,wrapLabel:BJ,calculateTextHeight:uk,calculateTextWidth:Jl,calculateTextDimensions:fM,cleanAndMerge:mh,detectInit:YSe,detectDirective:DJ,isSubstringInArray:jSe,interpolateToCurve:ib,calcLabelPosition:NJ,calcCardinalityPosition:QSe,calcTerminalLabelPosition:IJ,formatUrl:RJ,getStylesFromArray:ab,generateId:OJ,random:PJ,runFunc:KSe,entityDecode:rEe,insertTitle:nEe,parseFontSize:np,InitIDGenerator:tEe},iEe=S(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"ﬂ°°"+n+"¶ß":"ﬂ°"+n+"¶ß"}),e},"encodeEntities"),S0=S(function(t){return t.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),$J=S((t,e,{counter:r=0,prefix:n,suffix:i})=>`${n?`${n}_`:""}${t}_${e}_${r}${i?`_${i}`:""}`,"getEdgeId");function pM(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let ip=pM();function zJ(t){ip=t}const HJ=/[&<>"']/,aEe=new RegExp(HJ.source,"g"),VJ=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,sEe=new RegExp(VJ.source,"g"),oEe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cz=t=>oEe[t];function _o(t,e){if(e){if(HJ.test(t))return t.replace(aEe,cz)}else if(VJ.test(t))return t.replace(sEe,cz);return t}const lEe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function uEe(t){return t.replace(lEe,(e,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const cEe=/(^|[^\[])\^/g;function Ln(t,e){let r=typeof t=="string"?t:t.source;e=e||"";const n={replace:(i,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(cEe,"$1"),r=r.replace(i,s),n},getRegex:()=>new RegExp(r,e)};return n}function hz(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Ry={exec:()=>null};function fz(t,e){const r=t.replace(/\|/g,(a,s,o)=>{let l=!1,u=s;for(;--u>=0&&o[u]==="\\";)l=!l;return l?"|":" |"}),n=r.split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function km(t,e,r){const n=t.length;if(n===0)return"";let i=0;for(;i<n;){const a=t.charAt(n-i-1);if(a===e&&!r)i++;else if(a!==e&&r)i++;else break}return t.slice(0,n-i)}function hEe(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return-1}function dz(t,e,r,n){const i=e.href,a=e.title?_o(e.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:r,href:i,title:a,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,o}return{type:"image",raw:r,href:i,title:a,text:_o(s)}}function fEe(t,e){const r=t.match(/^(\s+)(?:```)/);if(r===null)return e;const n=r[1];return e.split(`
`).map(i=>{const a=i.match(/^\s+/);if(a===null)return i;const[s]=a;return s.length>=n.length?i.slice(n.length):i}).join(`
`)}class ck{constructor(e){Kr(this,"options");Kr(this,"rules");Kr(this,"lexer");this.options=e||ip}space(e){const r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){const r=this.rules.block.code.exec(e);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:km(n,`
`)}}}fences(e){const r=this.rules.block.fences.exec(e);if(r){const n=r[0],i=fEe(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(e){const r=this.rules.block.heading.exec(e);if(r){let n=r[2].trim();if(/#$/.test(n)){const i=km(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:km(r[0],`
`)}}blockquote(e){const r=this.rules.block.blockquote.exec(e);if(r){let n=km(r[0],`
`).split(`
`),i="",a="";const s=[];for(;n.length>0;){let o=!1;const l=[];let u;for(u=0;u<n.length;u++)if(/^ {0,3}>/.test(n[u]))l.push(n[u]),o=!0;else if(!o)l.push(n[u]);else break;n=n.slice(u);const h=l.join(`
`),f=h.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");i=i?`${i}
${h}`:h,a=a?`${a}
${f}`:f;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,s,!0),this.lexer.state.top=d,n.length===0)break;const p=s[s.length-1];if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){const v=p,m=v.raw+`
`+n.join(`
`),x=this.blockquote(m);s[s.length-1]=x,i=i.substring(0,i.length-v.raw.length)+x.raw,a=a.substring(0,a.length-v.text.length)+x.text;break}else if((p==null?void 0:p.type)==="list"){const v=p,m=v.raw+`
`+n.join(`
`),x=this.list(m);s[s.length-1]=x,i=i.substring(0,i.length-p.raw.length)+x.raw,a=a.substring(0,a.length-v.raw.length)+x.raw,n=m.substring(s[s.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:a}}}list(e){let r=this.rules.block.list.exec(e);if(r){let n=r[1].trim();const i=n.length>1,a={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let o=!1;for(;e;){let l=!1,u="",h="";if(!(r=s.exec(e))||this.rules.block.hr.test(e))break;u=r[0],e=e.substring(u.length);let f=r[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),d=e.split(`
`,1)[0],p=!f.trim(),v=0;if(this.options.pedantic?(v=2,h=f.trimStart()):p?v=r[1].length+1:(v=r[2].search(/[^ ]/),v=v>4?1:v,h=f.slice(v),v+=r[1].length),p&&/^ *$/.test(d)&&(u+=d+`
`,e=e.substring(d.length+1),l=!0),!l){const y=new RegExp(`^ {0,${Math.min(3,v-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),w=new RegExp(`^ {0,${Math.min(3,v-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),k=new RegExp(`^ {0,${Math.min(3,v-1)}}(?:\`\`\`|~~~)`),E=new RegExp(`^ {0,${Math.min(3,v-1)}}#`);for(;e;){const C=e.split(`
`,1)[0];if(d=C,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),k.test(d)||E.test(d)||y.test(d)||w.test(e))break;if(d.search(/[^ ]/)>=v||!d.trim())h+=`
`+d.slice(v);else{if(p||f.search(/[^ ]/)>=4||k.test(f)||E.test(f)||w.test(f))break;h+=`
`+d}!p&&!d.trim()&&(p=!0),u+=C+`
`,e=e.substring(C.length+1),f=d.slice(v)}}a.loose||(o?a.loose=!0:/\n *\n *$/.test(u)&&(o=!0));let m=null,x;this.options.gfm&&(m=/^\[[ xX]\] /.exec(h),m&&(x=m[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:u,task:!!m,checked:x,loose:!1,text:h,tokens:[]}),a.raw+=u}a.items[a.items.length-1].raw=a.items[a.items.length-1].raw.trimEnd(),a.items[a.items.length-1].text=a.items[a.items.length-1].text.trimEnd(),a.raw=a.raw.trimEnd();for(let l=0;l<a.items.length;l++)if(this.lexer.state.top=!1,a.items[l].tokens=this.lexer.blockTokens(a.items[l].text,[]),!a.loose){const u=a.items[l].tokens.filter(f=>f.type==="space"),h=u.length>0&&u.some(f=>/\n.*\n/.test(f.raw));a.loose=h}if(a.loose)for(let l=0;l<a.items.length;l++)a.items[l].loose=!0;return a}}html(e){const r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){const r=this.rules.block.def.exec(e);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),i=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:a}}}table(e){const r=this.rules.block.table.exec(e);if(!r||!/[:|]/.test(r[2]))return;const n=fz(r[1]),i=r[2].replace(/^\||\| *$/g,"").split("|"),a=r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const o of i)/^ *-+: *$/.test(o)?s.align.push("right"):/^ *:-+: *$/.test(o)?s.align.push("center"):/^ *:-+ *$/.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<n.length;o++)s.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:s.align[o]});for(const o of a)s.rows.push(fz(o,s.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[u]})));return s}}lheading(e){const r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){const r=this.rules.block.paragraph.exec(e);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){const r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:_o(r[1])}}tag(e){const r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){const r=this.rules.inline.link.exec(e);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=km(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=hEe(r[2],"()");if(s>-1){const l=(r[0].indexOf("!")===0?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let i=r[2],a="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);s&&(i=s[1],a=s[3])}else a=r[3]?r[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),dz(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer)}}reflink(e,r){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const i=(n[2]||n[1]).replace(/\s+/g," "),a=r[i.toLowerCase()];if(!a){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return dz(n,a,n[0],this.lexer)}}emStrong(e,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=[...i[0]].length-1;let o,l,u=s,h=0;const f=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,r=r.slice(-1*e.length+s);(i=f.exec(r))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(l=[...o].length,i[3]||i[4]){u+=l;continue}else if((i[5]||i[6])&&s%3&&!((s+l)%3)){h+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+h);const d=[...i[0]][0].length,p=e.slice(0,s+i.index+d+l);if(Math.min(s,l)%2){const m=p.slice(1,-1);return{type:"em",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}const v=p.slice(2,-2);return{type:"strong",raw:p,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){const r=this.rules.inline.code.exec(e);if(r){let n=r[2].replace(/\n/g," ");const i=/[^ ]/.test(n),a=/^ /.test(n)&&/ $/.test(n);return i&&a&&(n=n.substring(1,n.length-1)),n=_o(n,!0),{type:"codespan",raw:r[0],text:n}}}br(e){const r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){const r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){const r=this.rules.inline.autolink.exec(e);if(r){let n,i;return r[2]==="@"?(n=_o(r[1]),i="mailto:"+n):(n=_o(r[1]),i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let r;if(r=this.rules.inline.url.exec(e)){let i,a;if(r[2]==="@")i=_o(r[0]),a="mailto:"+i;else{let s;do s=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(s!==r[0]);i=_o(r[0]),r[1]==="www."?a="http://"+r[0]:a=r[0]}return{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const r=this.rules.inline.text.exec(e);if(r){let n;return this.lexer.state.inRawBlock?n=r[0]:n=_o(r[0]),{type:"text",raw:r[0],text:n}}}}const dEe=/^(?: *(?:\n|$))+/,pEe=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,gEe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,sb=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,vEe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,UJ=/(?:[*+-]|\d{1,9}[.)])/,GJ=Ln(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,UJ).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),gM=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,mEe=/^[^\n]+/,vM=/(?!\s*\])(?:\\.|[^\[\]\\])+/,yEe=Ln(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",vM).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),xEe=Ln(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,UJ).getRegex(),DE="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",mM=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,bEe=Ln("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",mM).replace("tag",DE).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),WJ=Ln(gM).replace("hr",sb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",DE).getRegex(),wEe=Ln(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",WJ).getRegex(),yM={blockquote:wEe,code:pEe,def:yEe,fences:gEe,heading:vEe,hr:sb,html:bEe,lheading:GJ,list:xEe,newline:dEe,paragraph:WJ,table:Ry,text:mEe},pz=Ln("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",sb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",DE).getRegex(),kEe={...yM,table:pz,paragraph:Ln(gM).replace("hr",sb).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",pz).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",DE).getRegex()},SEe={...yM,html:Ln(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",mM).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ry,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ln(gM).replace("hr",sb).replace("heading",` *#{1,6} *[^
]`).replace("lheading",GJ).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},qJ=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,EEe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,YJ=/^( {2,}|\\)\n(?!\s*$)/,TEe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ob="\\p{P}\\p{S}",CEe=Ln(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,ob).getRegex(),AEe=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,_Ee=Ln(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,ob).getRegex(),LEe=Ln("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,ob).getRegex(),DEe=Ln("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,ob).getRegex(),REe=Ln(/\\([punct])/,"gu").replace(/punct/g,ob).getRegex(),MEe=Ln(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),NEe=Ln(mM).replace("(?:-->|$)","-->").getRegex(),IEe=Ln("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",NEe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),hk=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,OEe=Ln(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",hk).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),XJ=Ln(/^!?\[(label)\]\[(ref)\]/).replace("label",hk).replace("ref",vM).getRegex(),jJ=Ln(/^!?\[(ref)\](?:\[\])?/).replace("ref",vM).getRegex(),FEe=Ln("reflink|nolink(?!\\()","g").replace("reflink",XJ).replace("nolink",jJ).getRegex(),xM={_backpedal:Ry,anyPunctuation:REe,autolink:MEe,blockSkip:AEe,br:YJ,code:EEe,del:Ry,emStrongLDelim:_Ee,emStrongRDelimAst:LEe,emStrongRDelimUnd:DEe,escape:qJ,link:OEe,nolink:jJ,punctuation:CEe,reflink:XJ,reflinkSearch:FEe,tag:IEe,text:TEe,url:Ry},PEe={...xM,link:Ln(/^!?\[(label)\]\((.*?)\)/).replace("label",hk).getRegex(),reflink:Ln(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",hk).getRegex()},r9={...xM,escape:Ln(qJ).replace("])","~|])").getRegex(),url:Ln(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},BEe={...r9,br:Ln(YJ).replace("{2,}","*").getRegex(),text:Ln(r9.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},X4={normal:yM,gfm:kEe,pedantic:SEe},Sm={normal:xM,gfm:r9,breaks:BEe,pedantic:PEe};class Ou{constructor(e){Kr(this,"tokens");Kr(this,"options");Kr(this,"state");Kr(this,"tokenizer");Kr(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ip,this.options.tokenizer=this.options.tokenizer||new ck,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:X4.normal,inline:Sm.normal};this.options.pedantic?(r.block=X4.pedantic,r.inline=Sm.pedantic):this.options.gfm&&(r.block=X4.gfm,this.options.breaks?r.inline=Sm.breaks:r.inline=Sm.gfm),this.tokenizer.rules=r}static get rules(){return{block:X4,inline:Sm}}static lex(e,r){return new Ou(r).lex(e)}static lexInline(e,r){return new Ou(r).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,l,u)=>l+"    ".repeat(u.length));let i,a,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(i=o.call({lexer:this},e,r))?(e=e.substring(i.raw.length),r.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),r.push(i);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},l),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){a=r[r.length-1],n&&(a==null?void 0:a.type)==="paragraph"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i),n=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),a=r[r.length-1],a&&a.type==="text"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let n,i,a,s=e,o,l,u;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)h.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,o.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(n=h.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(e,s,u)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),r.push(n);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const f=e.slice(1);let d;this.options.extensions.startInline.forEach(p=>{d=p.call({lexer:this},f),typeof d=="number"&&d>=0&&(h=Math.min(h,d))}),h<1/0&&h>=0&&(a=e.substring(0,h+1))}if(n=this.tokenizer.inlineText(a)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),l=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return r}}class fk{constructor(e){Kr(this,"options");Kr(this,"parser");this.options=e||ip}space(e){return""}code({text:e,lang:r,escaped:n}){var s;const i=(s=(r||"").match(/^\S*/))==null?void 0:s[0],a=e.replace(/\n$/,"")+`
`;return i?'<pre><code class="language-'+_o(i)+'">'+(n?a:_o(a,!0))+`</code></pre>
`:"<pre><code>"+(n?a:_o(a,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:r}){return`<h${r}>${this.parser.parseInline(e)}</h${r}>
`}hr(e){return`<hr>
`}list(e){const r=e.ordered,n=e.start;let i="";for(let o=0;o<e.items.length;o++){const l=e.items[o];i+=this.listitem(l)}const a=r?"ol":"ul",s=r&&n!==1?' start="'+n+'"':"";return"<"+a+s+`>
`+i+"</"+a+`>
`}listitem(e){let r="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):r+=n+" "}return r+=this.parser.parse(e.tokens,!!e.loose),`<li>${r}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let r="",n="";for(let a=0;a<e.header.length;a++)n+=this.tablecell(e.header[a]);r+=this.tablerow({text:n});let i="";for(let a=0;a<e.rows.length;a++){const s=e.rows[a];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const r=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:r,tokens:n}){const i=this.parser.parseInline(n),a=hz(e);if(a===null)return i;e=a;let s='<a href="'+e+'"';return r&&(s+=' title="'+r+'"'),s+=">"+i+"</a>",s}image({href:e,title:r,text:n}){const i=hz(e);if(i===null)return n;e=i;let a=`<img src="${e}" alt="${n}"`;return r&&(a+=` title="${r}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class bM{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Fu{constructor(e){Kr(this,"options");Kr(this,"renderer");Kr(this,"textRenderer");this.options=e||ip,this.options.renderer=this.options.renderer||new fk,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new bM}static parse(e,r){return new Fu(r).parse(e)}static parseInline(e,r){return new Fu(r).parseInline(e)}parse(e,r=!0){let n="";for(let i=0;i<e.length;i++){const a=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=a,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){n+=l||"";continue}}const s=a;switch(s.type){case"space":{n+=this.renderer.space(s);continue}case"hr":{n+=this.renderer.hr(s);continue}case"heading":{n+=this.renderer.heading(s);continue}case"code":{n+=this.renderer.code(s);continue}case"table":{n+=this.renderer.table(s);continue}case"blockquote":{n+=this.renderer.blockquote(s);continue}case"list":{n+=this.renderer.list(s);continue}case"html":{n+=this.renderer.html(s);continue}case"paragraph":{n+=this.renderer.paragraph(s);continue}case"text":{let o=s,l=this.renderer.text(o);for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],l+=`
`+this.renderer.text(o);r?n+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l}]}):n+=l;continue}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,r){r=r||this.renderer;let n="";for(let i=0;i<e.length;i++){const a=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){n+=o||"";continue}}const s=a;switch(s.type){case"escape":{n+=r.text(s);break}case"html":{n+=r.html(s);break}case"link":{n+=r.link(s);break}case"image":{n+=r.image(s);break}case"strong":{n+=r.strong(s);break}case"em":{n+=r.em(s);break}case"codespan":{n+=r.codespan(s);break}case"br":{n+=r.br(s);break}case"del":{n+=r.del(s);break}case"text":{n+=r.text(s);break}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}}class My{constructor(e){Kr(this,"options");this.options=e||ip}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}Kr(My,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var GS,KJ,cx,n9,WS,QJ;class $Ee{constructor(...e){x4(this,GS);x4(this,cx);x4(this,WS);Kr(this,"defaults",pM());Kr(this,"options",this.setOptions);Kr(this,"parse",rm(this,cx,n9).call(this,Ou.lex,Fu.parse));Kr(this,"parseInline",rm(this,cx,n9).call(this,Ou.lexInline,Fu.parseInline));Kr(this,"Parser",Fu);Kr(this,"Renderer",fk);Kr(this,"TextRenderer",bM);Kr(this,"Lexer",Ou);Kr(this,"Tokenizer",ck);Kr(this,"Hooks",My);this.use(...e)}walkTokens(e,r){var i,a;let n=[];for(const s of e)switch(n=n.concat(r.call(this,s)),s.type){case"table":{const o=s;for(const l of o.header)n=n.concat(this.walkTokens(l.tokens,r));for(const l of o.rows)for(const u of l)n=n.concat(this.walkTokens(u.tokens,r));break}case"list":{const o=s;n=n.concat(this.walkTokens(o.items,r));break}default:{const o=s;(a=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&a[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{const u=o[l].flat(1/0);n=n.concat(this.walkTokens(u,r))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,r)))}}return n}use(...e){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const s=r.renderers[a.name];s?r.renderers[a.name]=function(...o){let l=a.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:r.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=r[a.level];s?s.unshift(a.tokenizer):r[a.level]=[a.tokenizer],a.start&&(a.level==="block"?r.startBlock?r.startBlock.push(a.start):r.startBlock=[a.start]:a.level==="inline"&&(r.startInline?r.startInline.push(a.start):r.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(r.childTokens[a.name]=a.childTokens)}),i.extensions=r),n.renderer){const a=this.defaults.renderer||new fk(this.defaults);for(const s in n.renderer){if(!(s in a))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const o=s;let l=n.renderer[o];n.useNewRenderer||(l=rm(this,GS,KJ).call(this,l,o,a));const u=a[o];a[o]=(...h)=>{let f=l.apply(a,h);return f===!1&&(f=u.apply(a,h)),f||""}}i.renderer=a}if(n.tokenizer){const a=this.defaults.tokenizer||new ck(this.defaults);for(const s in n.tokenizer){if(!(s in a))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const o=s,l=n.tokenizer[o],u=a[o];a[o]=(...h)=>{let f=l.apply(a,h);return f===!1&&(f=u.apply(a,h)),f}}i.tokenizer=a}if(n.hooks){const a=this.defaults.hooks||new My;for(const s in n.hooks){if(!(s in a))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const o=s,l=n.hooks[o],u=a[o];My.passThroughHooks.has(s)?a[o]=h=>{if(this.defaults.async)return Promise.resolve(l.call(a,h)).then(d=>u.call(a,d));const f=l.call(a,h);return u.call(a,f)}:a[o]=(...h)=>{let f=l.apply(a,h);return f===!1&&(f=u.apply(a,h)),f}}i.hooks=a}if(n.walkTokens){const a=this.defaults.walkTokens,s=n.walkTokens;i.walkTokens=function(o){let l=[];return l.push(s.call(this,o)),a&&(l=l.concat(a.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return Ou.lex(e,r??this.defaults)}parser(e,r){return Fu.parse(e,r??this.defaults)}}GS=new WeakSet,KJ=function(e,r,n){switch(r){case"heading":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,n.parser.parseInline(i.tokens),i.depth,uEe(n.parser.parseInline(i.tokens,n.parser.textRenderer)))};case"code":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text,i.lang,!!i.escaped)};case"table":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);let a="",s="";for(let l=0;l<i.header.length;l++)s+=this.tablecell({text:i.header[l].text,tokens:i.header[l].tokens,header:!0,align:i.align[l]});a+=this.tablerow({text:s});let o="";for(let l=0;l<i.rows.length;l++){const u=i.rows[l];s="";for(let h=0;h<u.length;h++)s+=this.tablecell({text:u[h].text,tokens:u[h].tokens,header:!1,align:i.align[h]});o+=this.tablerow({text:s})}return e.call(this,a,o)};case"blockquote":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);const a=this.parser.parse(i.tokens);return e.call(this,a)};case"list":return function(i){if(!i.type||i.type!==r)return e.apply(this,arguments);const a=i.ordered,s=i.start,o=i.loose;let l="";for(let u=0;u<i.items.length;u++){const h=i.items[u],f=h.checked,d=h.task;let p="";if(h.task){const v=this.checkbox({checked:!!f});o?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=v+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=v+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:v+" "}):p+=v+" "}p+=this.parser.parse(h.tokens,o),l+=this.listitem({type:"list_item",raw:p,text:p,task:d,checked:!!f,loose:o,tokens:h.tokens})}return e.call(this,l,a,s)};case"html":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text,i.block)};case"paragraph":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"escape":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text)};case"link":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.href,i.title,this.parser.parseInline(i.tokens))};case"image":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.href,i.title,i.text)};case"strong":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"em":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"codespan":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text)};case"del":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"text":return function(i){return!i.type||i.type!==r?e.apply(this,arguments):e.call(this,i.text)}}return e},cx=new WeakSet,n9=function(e,r){return(n,i)=>{const a={...i},s={...this.defaults,...a};this.defaults.async===!0&&a.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const o=rm(this,WS,QJ).call(this,!!s.silent,!!s.async);if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(l=>e(l,s)).then(l=>s.hooks?s.hooks.processAllTokens(l):l).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>r(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let l=e(n,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let u=r(l,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(l){return o(l)}}},WS=new WeakSet,QJ=function(e,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+_o(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}};const E0=new $Ee;function dn(t,e){return E0.parse(t,e)}dn.options=dn.setOptions=function(t){return E0.setOptions(t),dn.defaults=E0.defaults,zJ(dn.defaults),dn};dn.getDefaults=pM;dn.defaults=ip;dn.use=function(...t){return E0.use(...t),dn.defaults=E0.defaults,zJ(dn.defaults),dn};dn.walkTokens=function(t,e){return E0.walkTokens(t,e)};dn.parseInline=E0.parseInline;dn.Parser=Fu;dn.parser=Fu.parse;dn.Renderer=fk;dn.TextRenderer=bM;dn.Lexer=Ou;dn.lexer=Ou.lex;dn.Tokenizer=ck;dn.Hooks=My;dn.parse=dn;dn.options;dn.setOptions;dn.use;dn.walkTokens;dn.parseInline;Fu.parse;Ou.lex;function ZJ(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Array.from(typeof t=="string"?[t]:t);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(o,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?o.concat(u.map(function(h){var f,d;return(d=(f=h.match(/[\t ]/g))===null||f===void 0?void 0:f.length)!==null&&d!==void 0?d:0})):o},[]);if(i.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(o){return o.replace(a,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var s=n[0];return e.forEach(function(o,l){var u=s.match(/(?:^|\n)( *)$/),h=u?u[1]:"",f=o;typeof o=="string"&&o.includes(`
`)&&(f=String(o).split(`
`).map(function(d,p){return p===0?d:""+h+d}).join(`
`)),s+=f+n[l+1]}),s}function JJ(t,{markdownAutoWrap:e}){const n=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=ZJ(n);return e===!1?i.replace(/ /g,"&nbsp;"):i}S(JJ,"preprocessMarkdown");function eee(t,e={}){const r=JJ(t,e),n=dn.lexer(r),i=[[]];let a=0;function s(o,l="normal"){o.type==="text"?o.text.split(`
`).forEach((h,f)=>{f!==0&&(a++,i.push([])),h.split(" ").forEach(d=>{d&&i[a].push({content:d,type:l})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(u=>{s(u,o.type)}):o.type==="html"&&i[a].push({content:o.text,type:"normal"})}return S(s,"processNode"),n.forEach(o=>{var l;o.type==="paragraph"?(l=o.tokens)==null||l.forEach(u=>{s(u)}):o.type==="html"&&i[a].push({content:o.text,type:"normal"})}),i}S(eee,"markdownToLines");function tee(t,{markdownAutoWrap:e}={}){const r=dn.lexer(t);function n(i){var a,s,o;return i.type==="text"?e===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${(a=i.tokens)==null?void 0:a.map(n).join("")}</strong>`:i.type==="em"?`<em>${(s=i.tokens)==null?void 0:s.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${(o=i.tokens)==null?void 0:o.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:`Unsupported markdown: ${i.type}`}return S(n,"output"),r.map(n).join("")}S(tee,"markdownToHTML");function ree(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}S(ree,"splitTextToChars");function nee(t,e){const r=ree(e.content);return wM(t,[],r,e.type)}S(nee,"splitWordToFitWidth");function wM(t,e,r,n){if(r.length===0)return[{content:e.join(""),type:n},{content:"",type:n}];const[i,...a]=r,s=[...e,i];return t([{content:s.join(""),type:n}])?wM(t,s,a,n):(e.length===0&&i&&(e.push(i),r.shift()),[{content:e.join(""),type:n},{content:r.join(""),type:n}])}S(wM,"splitWordToFitWidthRecursion");function iee(t,e){if(t.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return dk(t,e)}S(iee,"splitLineToFitWidth");function dk(t,e,r=[],n=[]){if(t.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";t[0].content===" "&&(i=" ",t.shift());const a=t.shift()??{content:" ",type:"normal"},s=[...n];if(i!==""&&s.push({content:i,type:"normal"}),s.push(a),e(s))return dk(t,e,r,s);if(n.length>0)r.push(n),t.unshift(a);else if(a.content){const[o,l]=nee(e,a);r.push([o]),l.content&&t.unshift(l)}return dk(t,e,r)}S(dk,"splitLineToFitWidthRecursion");function i9(t,e){e&&t.attr("style",e)}S(i9,"applyStyle");async function aee(t,e,r,n,i=!1){const a=t.append("foreignObject");a.attr("width",`${10*r}px`),a.attr("height",`${10*r}px`);const s=a.append("xhtml:div");let o=e.label;e.label&&Bs(e.label)&&(o=await jx(e.label.replace(Et.lineBreakRegex,`
`),Ve()));const l=e.isNode?"nodeLabel":"edgeLabel",u=s.append("span");u.html(o),i9(u,e.labelStyle),u.attr("class",`${l} ${n}`),i9(s,e.labelStyle),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("line-height","1.5"),s.style("max-width",r+"px"),s.style("text-align","center"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&s.attr("class","labelBkg");let h=s.node().getBoundingClientRect();return h.width===r&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",r+"px"),h=s.node().getBoundingClientRect()),a.node()}S(aee,"addHtmlSpan");function RE(t,e,r){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*r-.1+"em").attr("dy",r+"em")}S(RE,"createTspan");function see(t,e,r){const n=t.append("text"),i=RE(n,1,e);ME(i,r);const a=i.node().getComputedTextLength();return n.remove(),a}S(see,"computeWidthOfText");function oee(t,e,r){var s;const n=t.append("text"),i=RE(n,1,e);ME(i,[{content:r,type:"normal"}]);const a=(s=i.node())==null?void 0:s.getBoundingClientRect();return a&&n.remove(),a}S(oee,"computeDimensionOfText");function lee(t,e,r,n=!1){const a=e.append("g"),s=a.insert("rect").attr("class","background").attr("style","stroke: none"),o=a.append("text").attr("y","-10.1");let l=0;for(const u of r){const h=S(d=>see(a,1.1,d)<=t,"checkWidth"),f=h(u)?[u]:iee(u,h);for(const d of f){const p=RE(o,l,1.1);ME(p,d),l++}}if(n){const u=o.node().getBBox(),h=2;return s.attr("x",u.x-h).attr("y",u.y-h).attr("width",u.width+2*h).attr("height",u.height+2*h),a.node()}else return o.node()}S(lee,"createFormattedText");function ME(t,e){t.text(""),e.forEach((r,n)=>{const i=t.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}S(ME,"updateTextContentAndStyles");function kM(t){return t.replace(/fa[bklrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`)}S(kM,"replaceIconSubstring");var ec=S(async(t,e="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:a=!0,isNode:s=!0,width:o=200,addSvgBackground:l=!1}={},u)=>{if(he.debug("XYZ createText",e,r,n,i,a,s,"addSvgBackground: ",l),a){const h=tee(e,u),f=kM(S0(h)),d=e.replace(/\\\\/g,"\\"),p={isNode:s,label:Bs(e)?d:f,labelStyle:r.replace("fill:","color:")};return await aee(t,p,o,i,l)}else{const h=e.replace(/<br\s*\/?>/g,"<br/>"),f=eee(h.replace("<br>","<br/>"),u),d=lee(o,t,f,e?l:!1);if(s){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");yt(d).attr("style",p)}else{const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");yt(d).select("rect").attr("style",p.replace(/background:/g,"fill:"));const v=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");yt(d).select("text").attr("style",v)}return d}},"createText");function S7(t,e,r){if(t&&t.length){const[n,i]=e,a=Math.PI/180*r,s=Math.cos(a),o=Math.sin(a);for(const l of t){const[u,h]=l;l[0]=(u-n)*s-(h-i)*o+n,l[1]=(u-n)*o+(h-i)*s+i}}}function zEe(t,e){return t[0]===e[0]&&t[1]===e[1]}function HEe(t,e,r,n=1){const i=r,a=Math.max(e,.1),s=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,o=[0,0];if(i)for(const u of s)S7(u,o,i);const l=function(u,h,f){const d=[];for(const w of u){const k=[...w];zEe(k[0],k[k.length-1])||k.push([k[0][0],k[0][1]]),k.length>2&&d.push(k)}const p=[];h=Math.max(h,.1);const v=[];for(const w of d)for(let k=0;k<w.length-1;k++){const E=w[k],C=w[k+1];if(E[1]!==C[1]){const L=Math.min(E[1],C[1]);v.push({ymin:L,ymax:Math.max(E[1],C[1]),x:L===E[1]?E[0]:C[0],islope:(C[0]-E[0])/(C[1]-E[1])})}}if(v.sort((w,k)=>w.ymin<k.ymin?-1:w.ymin>k.ymin?1:w.x<k.x?-1:w.x>k.x?1:w.ymax===k.ymax?0:(w.ymax-k.ymax)/Math.abs(w.ymax-k.ymax)),!v.length)return p;let m=[],x=v[0].ymin,y=0;for(;m.length||v.length;){if(v.length){let w=-1;for(let k=0;k<v.length&&!(v[k].ymin>x);k++)w=k;v.splice(0,w+1).forEach(k=>{m.push({s:x,edge:k})})}if(m=m.filter(w=>!(w.edge.ymax<=x)),m.sort((w,k)=>w.edge.x===k.edge.x?0:(w.edge.x-k.edge.x)/Math.abs(w.edge.x-k.edge.x)),(f!==1||y%h==0)&&m.length>1)for(let w=0;w<m.length;w+=2){const k=w+1;if(k>=m.length)break;const E=m[w].edge,C=m[k].edge;p.push([[Math.round(E.x),x],[Math.round(C.x),x]])}x+=f,m.forEach(w=>{w.edge.x=w.edge.x+f*w.edge.islope}),y++}return p}(s,a,n);if(i){for(const u of s)S7(u,o,-i);(function(u,h,f){const d=[];u.forEach(p=>d.push(...p)),S7(d,h,f)})(l,o,-i)}return l}function lb(t,e){var r;const n=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let a=1;return e.roughness>=1&&(((r=e.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(a=i),HEe(t,i,n,a||1)}class SM{constructor(e){this.helper=e}fillPolygons(e,r){return this._fillPolygons(e,r)}_fillPolygons(e,r){const n=lb(e,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(e,r){const n=[];for(const i of e)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function NE(t){const e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}class VEe extends SM{fillPolygons(e,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=lb(e,Object.assign({},r,{hachureGap:n})),a=Math.PI/180*r.hachureAngle,s=[],o=.5*n*Math.cos(a),l=.5*n*Math.sin(a);for(const[u,h]of i)NE([u,h])&&s.push([[u[0]-o,u[1]+l],[...h]],[[u[0]+o,u[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(s,r)}}}class UEe extends SM{fillPolygons(e,r){const n=this._fillPolygons(e,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),a=this._fillPolygons(e,i);return n.ops=n.ops.concat(a.ops),n}}let GEe=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=lb(e,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(e,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let a=r.fillWeight;a<0&&(a=r.strokeWidth/2);const s=i/4;for(const o of e){const l=NE(o),u=l/i,h=Math.ceil(u)-1,f=l-h*i,d=(o[0][0]+o[1][0])/2-i/4,p=Math.min(o[0][1],o[1][1]);for(let v=0;v<h;v++){const m=p+f+v*i,x=d-s+2*Math.random()*s,y=m-s+2*Math.random()*s,w=this.helper.ellipse(x,y,a,a,r);n.push(...w.ops)}}return{type:"fillSketch",ops:n}}},WEe=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=lb(e,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(e,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,a=[];return e.forEach(s=>{const o=NE(s),l=Math.floor(o/(n+i)),u=(o+i-l*(n+i))/2;let h=s[0],f=s[1];h[0]>f[0]&&(h=s[1],f=s[0]);const d=Math.atan((f[1]-h[1])/(f[0]-h[0]));for(let p=0;p<l;p++){const v=p*(n+i),m=v+n,x=[h[0]+v*Math.cos(d)+u*Math.cos(d),h[1]+v*Math.sin(d)+u*Math.sin(d)],y=[h[0]+m*Math.cos(d)+u*Math.cos(d),h[1]+m*Math.sin(d)+u*Math.sin(d)];a.push(...this.helper.doubleLineOps(x[0],x[1],y[0],y[1],r))}}),a}};class qEe{constructor(e){this.helper=e}fillPolygons(e,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,a=lb(e,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(a,i,r)}}zigzagLines(e,r,n){const i=[];return e.forEach(a=>{const s=NE(a),o=Math.round(s/(2*r));let l=a[0],u=a[1];l[0]>u[0]&&(l=a[1],u=a[0]);const h=Math.atan((u[1]-l[1])/(u[0]-l[0]));for(let f=0;f<o;f++){const d=2*f*r,p=2*(f+1)*r,v=Math.sqrt(2*Math.pow(r,2)),m=[l[0]+d*Math.cos(h),l[1]+d*Math.sin(h)],x=[l[0]+p*Math.cos(h),l[1]+p*Math.sin(h)],y=[m[0]+v*Math.cos(h+Math.PI/4),m[1]+v*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(m[0],m[1],y[0],y[1],n),...this.helper.doubleLineOps(y[0],y[1],x[0],x[1],n))}}),i}}const Xs={};let YEe=class{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const XEe=0,E7=1,gz=2,j4={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function T7(t,e){return t.type===e}function EM(t){const e=[],r=function(s){const o=new Array;for(;s!=="";)if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:XEe,text:RegExp.$1},s=s.substr(RegExp.$1.length);else{if(!s.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:E7,text:`${parseFloat(RegExp.$1)}`},s=s.substr(RegExp.$1.length)}return o[o.length]={type:gz,text:""},o}(t);let n="BOD",i=0,a=r[i];for(;!T7(a,gz);){let s=0;const o=[];if(n==="BOD"){if(a.text!=="M"&&a.text!=="m")return EM("M0,0"+t);i++,s=j4[a.text],n=a.text}else T7(a,E7)?s=j4[n]:(i++,s=j4[a.text],n=a.text);if(!(i+s<r.length))throw new Error("Path data ended short");for(let l=i;l<i+s;l++){const u=r[l];if(!T7(u,E7))throw new Error("Param not a number: "+n+","+u.text);o[o.length]=+u.text}if(typeof j4[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:o};e.push(l),i+=s,a=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return e}function uee(t){let e=0,r=0,n=0,i=0;const a=[];for(const{key:s,data:o}of t)switch(s){case"M":a.push({key:"M",data:[...o]}),[e,r]=o,[n,i]=o;break;case"m":e+=o[0],r+=o[1],a.push({key:"M",data:[e,r]}),n=e,i=r;break;case"L":a.push({key:"L",data:[...o]}),[e,r]=o;break;case"l":e+=o[0],r+=o[1],a.push({key:"L",data:[e,r]});break;case"C":a.push({key:"C",data:[...o]}),e=o[4],r=o[5];break;case"c":{const l=o.map((u,h)=>h%2?u+r:u+e);a.push({key:"C",data:l}),e=l[4],r=l[5];break}case"Q":a.push({key:"Q",data:[...o]}),e=o[2],r=o[3];break;case"q":{const l=o.map((u,h)=>h%2?u+r:u+e);a.push({key:"Q",data:l}),e=l[2],r=l[3];break}case"A":a.push({key:"A",data:[...o]}),e=o[5],r=o[6];break;case"a":e+=o[5],r+=o[6],a.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],e,r]});break;case"H":a.push({key:"H",data:[...o]}),e=o[0];break;case"h":e+=o[0],a.push({key:"H",data:[e]});break;case"V":a.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...o]}),e=o[2],r=o[3];break;case"s":{const l=o.map((u,h)=>h%2?u+r:u+e);a.push({key:"S",data:l}),e=l[2],r=l[3];break}case"T":a.push({key:"T",data:[...o]}),e=o[0],r=o[1];break;case"t":e+=o[0],r+=o[1],a.push({key:"T",data:[e,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),e=n,r=i}return a}function cee(t){const e=[];let r="",n=0,i=0,a=0,s=0,o=0,l=0;for(const{key:u,data:h}of t){switch(u){case"M":e.push({key:"M",data:[...h]}),[n,i]=h,[a,s]=h;break;case"C":e.push({key:"C",data:[...h]}),n=h[4],i=h[5],o=h[2],l=h[3];break;case"L":e.push({key:"L",data:[...h]}),[n,i]=h;break;case"H":n=h[0],e.push({key:"L",data:[n,i]});break;case"V":i=h[0],e.push({key:"L",data:[n,i]});break;case"S":{let f=0,d=0;r==="C"||r==="S"?(f=n+(n-o),d=i+(i-l)):(f=n,d=i),e.push({key:"C",data:[f,d,...h]}),o=h[0],l=h[1],n=h[2],i=h[3];break}case"T":{const[f,d]=h;let p=0,v=0;r==="Q"||r==="T"?(p=n+(n-o),v=i+(i-l)):(p=n,v=i);const m=n+2*(p-n)/3,x=i+2*(v-i)/3,y=f+2*(p-f)/3,w=d+2*(v-d)/3;e.push({key:"C",data:[m,x,y,w,f,d]}),o=p,l=v,n=f,i=d;break}case"Q":{const[f,d,p,v]=h,m=n+2*(f-n)/3,x=i+2*(d-i)/3,y=p+2*(f-p)/3,w=v+2*(d-v)/3;e.push({key:"C",data:[m,x,y,w,p,v]}),o=f,l=d,n=p,i=v;break}case"A":{const f=Math.abs(h[0]),d=Math.abs(h[1]),p=h[2],v=h[3],m=h[4],x=h[5],y=h[6];f===0||d===0?(e.push({key:"C",data:[n,i,x,y,x,y]}),n=x,i=y):(n!==x||i!==y)&&(hee(n,i,x,y,f,d,p,v,m).forEach(function(w){e.push({key:"C",data:w})}),n=x,i=y);break}case"Z":e.push({key:"Z",data:[]}),n=a,i=s}r=u}return e}function Em(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function hee(t,e,r,n,i,a,s,o,l,u){const h=(f=s,Math.PI*f/180);var f;let d=[],p=0,v=0,m=0,x=0;if(u)[p,v,m,x]=u;else{[t,e]=Em(t,e,-h),[r,n]=Em(r,n,-h);const V=(t-r)/2,D=(e-n)/2;let O=V*V/(i*i)+D*D/(a*a);O>1&&(O=Math.sqrt(O),i*=O,a*=O);const P=i*i,$=a*a,B=P*$-P*D*D-$*V*V,H=P*D*D+$*V*V,X=(o===l?-1:1)*Math.sqrt(Math.abs(B/H));m=X*i*D/a+(t+r)/2,x=X*-a*V/i+(e+n)/2,p=Math.asin(parseFloat(((e-x)/a).toFixed(9))),v=Math.asin(parseFloat(((n-x)/a).toFixed(9))),t<m&&(p=Math.PI-p),r<m&&(v=Math.PI-v),p<0&&(p=2*Math.PI+p),v<0&&(v=2*Math.PI+v),l&&p>v&&(p-=2*Math.PI),!l&&v>p&&(v-=2*Math.PI)}let y=v-p;if(Math.abs(y)>120*Math.PI/180){const V=v,D=r,O=n;v=l&&v>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,d=hee(r=m+i*Math.cos(v),n=x+a*Math.sin(v),D,O,i,a,s,0,l,[v,V,m,x])}y=v-p;const w=Math.cos(p),k=Math.sin(p),E=Math.cos(v),C=Math.sin(v),L=Math.tan(y/4),_=4/3*i*L,I=4/3*a*L,M=[t,e],F=[t+_*k,e-I*w],N=[r+_*C,n-I*E],z=[r,n];if(F[0]=2*M[0]-F[0],F[1]=2*M[1]-F[1],u)return[F,N,z].concat(d);{d=[F,N,z].concat(d);const V=[];for(let D=0;D<d.length;D+=3){const O=Em(d[D][0],d[D][1],h),P=Em(d[D+1][0],d[D+1][1],h),$=Em(d[D+2][0],d[D+2][1],h);V.push([O[0],O[1],P[0],P[1],$[0],$[1]])}return V}}const jEe={randOffset:function(t,e){return Sr(t,e)},randOffsetWithRange:function(t,e,r){return pk(t,e,r)},ellipse:function(t,e,r,n,i){const a=dee(r,n,i);return a9(t,e,i,a).opset},doubleLineOps:function(t,e,r,n,i){return Rf(t,e,r,n,i,!0)}};function fee(t,e,r,n,i){return{type:"path",ops:Rf(t,e,r,n,i)}}function xw(t,e,r){const n=(t||[]).length;if(n>2){const i=[];for(let a=0;a<n-1;a++)i.push(...Rf(t[a][0],t[a][1],t[a+1][0],t[a+1][1],r));return e&&i.push(...Rf(t[n-1][0],t[n-1][1],t[0][0],t[0][1],r)),{type:"path",ops:i}}return n===2?fee(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function KEe(t,e,r,n,i){return function(a,s){return xw(a,!0,s)}([[t,e],[t+r,e],[t+r,e+n],[t,e+n]],i)}function vz(t,e){if(t.length){const r=typeof t[0][0]=="number"?[t]:t,n=K4(r[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:K4(r[0],1.5*(1+.22*e.roughness),xz(e));for(let a=1;a<r.length;a++){const s=r[a];if(s.length){const o=K4(s,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:K4(s,1.5*(1+.22*e.roughness),xz(e));for(const u of o)u.op!=="move"&&n.push(u);for(const u of l)u.op!=="move"&&i.push(u)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function dee(t,e,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),a=2*Math.PI/i;let s=Math.abs(t/2),o=Math.abs(e/2);const l=1-r.curveFitting;return s+=Sr(s*l,r),o+=Sr(o*l,r),{increment:a,rx:s,ry:o}}function a9(t,e,r,n){const[i,a]=bz(n.increment,t,e,n.rx,n.ry,1,n.increment*pk(.1,pk(.4,1,r),r),r);let s=gk(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=bz(n.increment,t,e,n.rx,n.ry,1.5,0,r),l=gk(o,null,r);s=s.concat(l)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function mz(t,e,r,n,i,a,s,o,l){const u=t,h=e;let f=Math.abs(r/2),d=Math.abs(n/2);f+=Sr(.01*f,l),d+=Sr(.01*d,l);let p=i,v=a;for(;p<0;)p+=2*Math.PI,v+=2*Math.PI;v-p>2*Math.PI&&(p=0,v=2*Math.PI);const m=2*Math.PI/l.curveStepCount,x=Math.min(m/2,(v-p)/2),y=wz(x,u,h,f,d,p,v,1,l);if(!l.disableMultiStroke){const w=wz(x,u,h,f,d,p,v,1.5,l);y.push(...w)}return s&&(o?y.push(...Rf(u,h,u+f*Math.cos(p),h+d*Math.sin(p),l),...Rf(u,h,u+f*Math.cos(v),h+d*Math.sin(v),l)):y.push({op:"lineTo",data:[u,h]},{op:"lineTo",data:[u+f*Math.cos(p),h+d*Math.sin(p)]})),{type:"path",ops:y}}function yz(t,e){const r=cee(uee(EM(t))),n=[];let i=[0,0],a=[0,0];for(const{key:s,data:o}of r)switch(s){case"M":a=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...Rf(a[0],a[1],o[0],o[1],e)),a=[o[0],o[1]];break;case"C":{const[l,u,h,f,d,p]=o;n.push(...QEe(l,u,h,f,d,p,a,e)),a=[d,p];break}case"Z":n.push(...Rf(a[0],a[1],i[0],i[1],e)),a=[i[0],i[1]]}return{type:"path",ops:n}}function C7(t,e){const r=[];for(const n of t)if(n.length){const i=e.maxRandomnessOffset||0,a=n.length;if(a>2){r.push({op:"move",data:[n[0][0]+Sr(i,e),n[0][1]+Sr(i,e)]});for(let s=1;s<a;s++)r.push({op:"lineTo",data:[n[s][0]+Sr(i,e),n[s][1]+Sr(i,e)]})}}return{type:"fillPath",ops:r}}function Up(t,e){return function(r,n){let i=r.fillStyle||"hachure";if(!Xs[i])switch(i){case"zigzag":Xs[i]||(Xs[i]=new VEe(n));break;case"cross-hatch":Xs[i]||(Xs[i]=new UEe(n));break;case"dots":Xs[i]||(Xs[i]=new GEe(n));break;case"dashed":Xs[i]||(Xs[i]=new WEe(n));break;case"zigzag-line":Xs[i]||(Xs[i]=new qEe(n));break;default:i="hachure",Xs[i]||(Xs[i]=new SM(n))}return Xs[i]}(e,jEe).fillPolygons(t,e)}function xz(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function pee(t){return t.randomizer||(t.randomizer=new YEe(t.seed||0)),t.randomizer.next()}function pk(t,e,r,n=1){return r.roughness*n*(pee(r)*(e-t)+t)}function Sr(t,e,r=1){return pk(-t,t,e,r)}function Rf(t,e,r,n,i,a=!1){const s=a?i.disableMultiStrokeFill:i.disableMultiStroke,o=s9(t,e,r,n,i,!0,!1);if(s)return o;const l=s9(t,e,r,n,i,!0,!0);return o.concat(l)}function s9(t,e,r,n,i,a,s){const o=Math.pow(t-r,2)+Math.pow(e-n,2),l=Math.sqrt(o);let u=1;u=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>o&&(h=l/10);const f=h/2,d=.2+.2*pee(i);let p=i.bowing*i.maxRandomnessOffset*(n-e)/200,v=i.bowing*i.maxRandomnessOffset*(t-r)/200;p=Sr(p,i,u),v=Sr(v,i,u);const m=[],x=()=>Sr(f,i,u),y=()=>Sr(h,i,u),w=i.preserveVertices;return a&&(s?m.push({op:"move",data:[t+(w?0:x()),e+(w?0:x())]}):m.push({op:"move",data:[t+(w?0:Sr(h,i,u)),e+(w?0:Sr(h,i,u))]})),s?m.push({op:"bcurveTo",data:[p+t+(r-t)*d+x(),v+e+(n-e)*d+x(),p+t+2*(r-t)*d+x(),v+e+2*(n-e)*d+x(),r+(w?0:x()),n+(w?0:x())]}):m.push({op:"bcurveTo",data:[p+t+(r-t)*d+y(),v+e+(n-e)*d+y(),p+t+2*(r-t)*d+y(),v+e+2*(n-e)*d+y(),r+(w?0:y()),n+(w?0:y())]}),m}function K4(t,e,r){if(!t.length)return[];const n=[];n.push([t[0][0]+Sr(e,r),t[0][1]+Sr(e,r)]),n.push([t[0][0]+Sr(e,r),t[0][1]+Sr(e,r)]);for(let i=1;i<t.length;i++)n.push([t[i][0]+Sr(e,r),t[i][1]+Sr(e,r)]),i===t.length-1&&n.push([t[i][0]+Sr(e,r),t[i][1]+Sr(e,r)]);return gk(n,null,r)}function gk(t,e,r){const n=t.length,i=[];if(n>3){const a=[],s=1-r.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let o=1;o+2<n;o++){const l=t[o];a[0]=[l[0],l[1]],a[1]=[l[0]+(s*t[o+1][0]-s*t[o-1][0])/6,l[1]+(s*t[o+1][1]-s*t[o-1][1])/6],a[2]=[t[o+1][0]+(s*t[o][0]-s*t[o+2][0])/6,t[o+1][1]+(s*t[o][1]-s*t[o+2][1])/6],a[3]=[t[o+1][0],t[o+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(e&&e.length===2){const o=r.maxRandomnessOffset;i.push({op:"lineTo",data:[e[0]+Sr(o,r),e[1]+Sr(o,r)]})}}else n===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):n===2&&i.push(...s9(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return i}function bz(t,e,r,n,i,a,s,o){const l=[],u=[];if(o.roughness===0){t/=4,u.push([e+n*Math.cos(-t),r+i*Math.sin(-t)]);for(let h=0;h<=2*Math.PI;h+=t){const f=[e+n*Math.cos(h),r+i*Math.sin(h)];l.push(f),u.push(f)}u.push([e+n*Math.cos(0),r+i*Math.sin(0)]),u.push([e+n*Math.cos(t),r+i*Math.sin(t)])}else{const h=Sr(.5,o)-Math.PI/2;u.push([Sr(a,o)+e+.9*n*Math.cos(h-t),Sr(a,o)+r+.9*i*Math.sin(h-t)]);const f=2*Math.PI+h-.01;for(let d=h;d<f;d+=t){const p=[Sr(a,o)+e+n*Math.cos(d),Sr(a,o)+r+i*Math.sin(d)];l.push(p),u.push(p)}u.push([Sr(a,o)+e+n*Math.cos(h+2*Math.PI+.5*s),Sr(a,o)+r+i*Math.sin(h+2*Math.PI+.5*s)]),u.push([Sr(a,o)+e+.98*n*Math.cos(h+s),Sr(a,o)+r+.98*i*Math.sin(h+s)]),u.push([Sr(a,o)+e+.9*n*Math.cos(h+.5*s),Sr(a,o)+r+.9*i*Math.sin(h+.5*s)])}return[u,l]}function wz(t,e,r,n,i,a,s,o,l){const u=a+Sr(.1,l),h=[];h.push([Sr(o,l)+e+.9*n*Math.cos(u-t),Sr(o,l)+r+.9*i*Math.sin(u-t)]);for(let f=u;f<=s;f+=t)h.push([Sr(o,l)+e+n*Math.cos(f),Sr(o,l)+r+i*Math.sin(f)]);return h.push([e+n*Math.cos(s),r+i*Math.sin(s)]),h.push([e+n*Math.cos(s),r+i*Math.sin(s)]),gk(h,null,l)}function QEe(t,e,r,n,i,a,s,o){const l=[],u=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let h=[0,0];const f=o.disableMultiStroke?1:2,d=o.preserveVertices;for(let p=0;p<f;p++)p===0?l.push({op:"move",data:[s[0],s[1]]}):l.push({op:"move",data:[s[0]+(d?0:Sr(u[0],o)),s[1]+(d?0:Sr(u[0],o))]}),h=d?[i,a]:[i+Sr(u[p],o),a+Sr(u[p],o)],l.push({op:"bcurveTo",data:[t+Sr(u[p],o),e+Sr(u[p],o),r+Sr(u[p],o),n+Sr(u[p],o),h[0],h[1]]});return l}function Tm(t){return[...t]}function kz(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(Tm(t[0]),Tm(t[1]),Tm(t[2]),Tm(t[2]));else{const i=[];i.push(t[0],t[0]);for(let o=1;o<t.length;o++)i.push(t[o]),o===t.length-1&&i.push(t[o]);const a=[],s=1-e;n.push(Tm(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];a[0]=[l[0],l[1]],a[1]=[l[0]+(s*i[o+1][0]-s*i[o-1][0])/6,l[1]+(s*i[o+1][1]-s*i[o-1][1])/6],a[2]=[i[o+1][0]+(s*i[o][0]-s*i[o+2][0])/6,i[o+1][1]+(s*i[o][1]-s*i[o+2][1])/6],a[3]=[i[o+1][0],i[o+1][1]],n.push(a[1],a[2],a[3])}}return n}function bw(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function ZEe(t,e,r){const n=bw(e,r);if(n===0)return bw(t,e);let i=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/n;return i=Math.max(0,Math.min(1,i)),bw(t,Rd(e,r,i))}function Rd(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function o9(t,e,r,n){const i=n||[];if(function(o,l){const u=o[l+0],h=o[l+1],f=o[l+2],d=o[l+3];let p=3*h[0]-2*u[0]-d[0];p*=p;let v=3*h[1]-2*u[1]-d[1];v*=v;let m=3*f[0]-2*d[0]-u[0];m*=m;let x=3*f[1]-2*d[1]-u[1];return x*=x,p<m&&(p=m),v<x&&(v=x),p+v}(t,e)<r){const o=t[e+0];i.length?(a=i[i.length-1],s=o,Math.sqrt(bw(a,s))>1&&i.push(o)):i.push(o),i.push(t[e+3])}else{const l=t[e+0],u=t[e+1],h=t[e+2],f=t[e+3],d=Rd(l,u,.5),p=Rd(u,h,.5),v=Rd(h,f,.5),m=Rd(d,p,.5),x=Rd(p,v,.5),y=Rd(m,x,.5);o9([l,d,m,y],0,r,i),o9([y,x,v,f],0,r,i)}var a,s;return i}function JEe(t,e){return vk(t,0,t.length,e)}function vk(t,e,r,n,i){const a=i||[],s=t[e],o=t[r-1];let l=0,u=1;for(let h=e+1;h<r-1;++h){const f=ZEe(t[h],s,o);f>l&&(l=f,u=h)}return Math.sqrt(l)>n?(vk(t,e,u+1,n,a),vk(t,u,r,n,a)):(a.length||a.push(s),a.push(o)),a}function A7(t,e=.15,r){const n=[],i=(t.length-1)/3;for(let a=0;a<i;a++)o9(t,3*a,e,n);return r&&r>0?vk(n,0,n.length,r):n}const Eo="none";class mk{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,r,n){return{shape:e,sets:r||[],options:n||this.defaultOptions}}line(e,r,n,i,a){const s=this._o(a);return this._d("line",[fee(e,r,n,i,s)],s)}rectangle(e,r,n,i,a){const s=this._o(a),o=[],l=KEe(e,r,n,i,s);if(s.fill){const u=[[e,r],[e+n,r],[e+n,r+i],[e,r+i]];s.fillStyle==="solid"?o.push(C7([u],s)):o.push(Up([u],s))}return s.stroke!==Eo&&o.push(l),this._d("rectangle",o,s)}ellipse(e,r,n,i,a){const s=this._o(a),o=[],l=dee(n,i,s),u=a9(e,r,s,l);if(s.fill)if(s.fillStyle==="solid"){const h=a9(e,r,s,l).opset;h.type="fillPath",o.push(h)}else o.push(Up([u.estimatedPoints],s));return s.stroke!==Eo&&o.push(u.opset),this._d("ellipse",o,s)}circle(e,r,n,i){const a=this.ellipse(e,r,n,n,i);return a.shape="circle",a}linearPath(e,r){const n=this._o(r);return this._d("linearPath",[xw(e,!1,n)],n)}arc(e,r,n,i,a,s,o=!1,l){const u=this._o(l),h=[],f=mz(e,r,n,i,a,s,o,!0,u);if(o&&u.fill)if(u.fillStyle==="solid"){const d=Object.assign({},u);d.disableMultiStroke=!0;const p=mz(e,r,n,i,a,s,!0,!1,d);p.type="fillPath",h.push(p)}else h.push(function(d,p,v,m,x,y,w){const k=d,E=p;let C=Math.abs(v/2),L=Math.abs(m/2);C+=Sr(.01*C,w),L+=Sr(.01*L,w);let _=x,I=y;for(;_<0;)_+=2*Math.PI,I+=2*Math.PI;I-_>2*Math.PI&&(_=0,I=2*Math.PI);const M=(I-_)/w.curveStepCount,F=[];for(let N=_;N<=I;N+=M)F.push([k+C*Math.cos(N),E+L*Math.sin(N)]);return F.push([k+C*Math.cos(I),E+L*Math.sin(I)]),F.push([k,E]),Up([F],w)}(e,r,n,i,a,s,u));return u.stroke!==Eo&&h.push(f),this._d("arc",h,u)}curve(e,r){const n=this._o(r),i=[],a=vz(e,n);if(n.fill&&n.fill!==Eo)if(n.fillStyle==="solid"){const s=vz(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(s.ops)})}else{const s=[],o=e;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const u of l)u.length<3?s.push(...u):u.length===3?s.push(...A7(kz([u[0],u[0],u[1],u[2]]),10,(1+n.roughness)/2)):s.push(...A7(kz(u),10,(1+n.roughness)/2))}s.length&&i.push(Up([s],n))}return n.stroke!==Eo&&i.push(a),this._d("curve",i,n)}polygon(e,r){const n=this._o(r),i=[],a=xw(e,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(C7([e],n)):i.push(Up([e],n))),n.stroke!==Eo&&i.push(a),this._d("polygon",i,n)}path(e,r){const n=this._o(r),i=[];if(!e)return this._d("path",i,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=n.fill&&n.fill!=="transparent"&&n.fill!==Eo,s=n.stroke!==Eo,o=!!(n.simplification&&n.simplification<1),l=function(h,f,d){const p=cee(uee(EM(h))),v=[];let m=[],x=[0,0],y=[];const w=()=>{y.length>=4&&m.push(...A7(y,f)),y=[]},k=()=>{w(),m.length&&(v.push(m),m=[])};for(const{key:C,data:L}of p)switch(C){case"M":k(),x=[L[0],L[1]],m.push(x);break;case"L":w(),m.push([L[0],L[1]]);break;case"C":if(!y.length){const _=m.length?m[m.length-1]:x;y.push([_[0],_[1]])}y.push([L[0],L[1]]),y.push([L[2],L[3]]),y.push([L[4],L[5]]);break;case"Z":w(),m.push([x[0],x[1]])}if(k(),!d)return v;const E=[];for(const C of v){const L=JEe(C,d);L.length&&E.push(L)}return E}(e,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),u=yz(e,n);if(a)if(n.fillStyle==="solid")if(l.length===1){const h=yz(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else i.push(C7(l,n));else i.push(Up(l,n));return s&&(o?l.forEach(h=>{i.push(xw(h,!1,n))}):i.push(u)),this._d("path",i,n)}opsToPath(e,r){let n="";for(const i of e.ops){const a=typeof r=="number"&&r>=0?i.data.map(s=>+s.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":n+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":n+=`L${a[0]} ${a[1]} `}}return n.trim()}toPaths(e){const r=e.sets||[],n=e.options||this.defaultOptions,i=[];for(const a of r){let s=null;switch(a.type){case"path":s={d:this.opsToPath(a),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:Eo};break;case"fillPath":s={d:this.opsToPath(a),stroke:Eo,strokeWidth:0,fill:n.fill||Eo};break;case"fillSketch":s=this.fillSketch(a,n)}s&&i.push(s)}return i}fillSketch(e,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(e),stroke:r.fill||Eo,strokeWidth:n,fill:Eo}}_mergedShape(e){return e.filter((r,n)=>n===0||r.op!=="move")}}class eTe{constructor(e,r){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new mk(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.ctx,a=e.options.fixedDecimalPlaceDigits;for(const s of r)switch(s.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,s,a),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,s,a,o),i.restore();break}case"fillSketch":this.fillSketch(i,s,n)}}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=i,this._drawToContext(e,r,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,r,n,i="nonzero"){e.beginPath();for(const a of r.ops){const s=typeof n=="number"&&n>=0?a.data.map(o=>+o.toFixed(n)):a.data;switch(a.op){case"move":e.moveTo(s[0],s[1]);break;case"bcurveTo":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":e.lineTo(s[0],s[1])}}r.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,r,n,i,a){const s=this.gen.line(e,r,n,i,a);return this.draw(s),s}rectangle(e,r,n,i,a){const s=this.gen.rectangle(e,r,n,i,a);return this.draw(s),s}ellipse(e,r,n,i,a){const s=this.gen.ellipse(e,r,n,i,a);return this.draw(s),s}circle(e,r,n,i){const a=this.gen.circle(e,r,n,i);return this.draw(a),a}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n),n}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n),n}arc(e,r,n,i,a,s,o=!1,l){const u=this.gen.arc(e,r,n,i,a,s,o,l);return this.draw(u),u}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n),n}path(e,r){const n=this.gen.path(e,r);return this.draw(n),n}}const Q4="http://www.w3.org/2000/svg";class tTe{constructor(e,r){this.svg=e,this.gen=new mk(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,a=i.createElementNS(Q4,"g"),s=e.options.fixedDecimalPlaceDigits;for(const o of r){let l=null;switch(o.type){case"path":l=i.createElementNS(Q4,"path"),l.setAttribute("d",this.opsToPath(o,s)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(Q4,"path"),l.setAttribute("d",this.opsToPath(o,s)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,o,n)}l&&a.appendChild(l)}return a}fillSketch(e,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const a=e.createElementNS(Q4,"path");return a.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),a.setAttribute("stroke",n.fill||""),a.setAttribute("stroke-width",i+""),a.setAttribute("fill","none"),n.fillLineDash&&a.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,r){return this.gen.opsToPath(e,r)}line(e,r,n,i,a){const s=this.gen.line(e,r,n,i,a);return this.draw(s)}rectangle(e,r,n,i,a){const s=this.gen.rectangle(e,r,n,i,a);return this.draw(s)}ellipse(e,r,n,i,a){const s=this.gen.ellipse(e,r,n,i,a);return this.draw(s)}circle(e,r,n,i){const a=this.gen.circle(e,r,n,i);return this.draw(a)}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n)}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n)}arc(e,r,n,i,a,s,o=!1,l){const u=this.gen.arc(e,r,n,i,a,s,o,l);return this.draw(u)}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n)}path(e,r){const n=this.gen.path(e,r);return this.draw(n)}}var fr={canvas:(t,e)=>new eTe(t,e),svg:(t,e)=>new tTe(t,e),generator:t=>new mk(t),newSeed:()=>mk.newSeed()},rTe=S((t,e)=>{var r=t.x,n=t.y,i=e.x-r,a=e.y-n,s=t.width/2,o=t.height/2,l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=a===0?0:o*i/a,u=o):(i<0&&(s=-s),l=s,u=i===0?0:s*a/i),{x:r+l,y:n+u}},"intersectRect"),ub=rTe;function gee(t,e){e&&t.attr("style",e)}S(gee,"applyStyle");async function vee(t){const e=yt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div");let n=t.label;t.label&&Bs(t.label)&&(n=await jx(t.label.replace(Et.lineBreakRegex,`
`),Ve()));const i=t.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+i+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+n+"</span>"),gee(r,t.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}S(vee,"addHtmlLabel");var nTe=S(async(t,e,r,n)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),Pn(Ve().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),he.info("vertexText"+i);const a={isNode:n,label:S0(i).replace(/fa[blrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await vee(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(const o of s){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),a.appendChild(l)}return a}},"createLabel"),Qd=nTe,ev=S((t,e,r,n,i)=>["M",t+i,e,"H",t+r-i,"A",i,i,0,0,1,t+r,e+i,"V",e+n-i,"A",i,i,0,0,1,t+r-i,e+n,"H",t+i,"A",i,i,0,0,1,t,e+n-i,"V",e+i,"A",i,i,0,0,1,t+i,e,"Z"].join(" "),"createRoundedRectPathD"),iTe=S(t=>{const{handDrawnSeed:e}=Ve();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),tv=S(t=>{const e=aTe([...t.cssCompiledStyles||[],...t.cssStyles||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),aTe=S(t=>{const e=new Map;return t.forEach(r=>{const[n,i]=r.split(":");e.set(n.trim(),i==null?void 0:i.trim())}),e},"styles2Map"),mr=S(t=>{const{stylesArray:e}=tv(t),r=[],n=[],i=[],a=[];return e.forEach(s=>{const o=s[0];o==="color"||o==="font-size"||o==="font-family"||o==="font-weight"||o==="font-style"||o==="text-decoration"||o==="text-align"||o==="text-transform"||o==="line-height"||o==="letter-spacing"||o==="word-spacing"||o==="text-shadow"||o==="text-overflow"||o==="white-space"||o==="word-wrap"||o==="word-break"||o==="overflow-wrap"||o==="hyphens"?r.push(s.join(":")+" !important"):(n.push(s.join(":")+" !important"),o.includes("stroke")&&i.push(s.join(":")+" !important"),o==="fill"&&a.push(s.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:a}},"styles2String"),dr=S((t,e)=>{var l;const{themeVariables:r,handDrawnSeed:n}=Ve(),{nodeBorder:i,mainBkg:a}=r,{stylesMap:s}=tv(t);return Object.assign({roughness:.7,fill:s.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||i,seed:n,strokeWidth:((l=s.get("stroke-width"))==null?void 0:l.replace("px",""))||1.3,fillLineDash:[0,0]},e)},"userNodeOverrides"),mee=S(async(t,e)=>{he.info("Creating subgraph rect for ",e.id,e);const r=Ve(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:a,clusterBorder:s}=n,{labelStyles:o,nodeStyles:l,borderStyles:u,backgroundStyles:h}=mr(e),f=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),d=Pn(r.flowchart.htmlLabels),p=f.insert("g").attr("class","cluster-label "),v=await ec(p,e.label,{style:e.labelStyle,useHtmlLabels:d,isNode:!0});let m=v.getBBox();if(Pn(r.flowchart.htmlLabels)){const _=v.children[0],I=yt(v);m=_.getBoundingClientRect(),I.attr("width",m.width),I.attr("height",m.height)}const x=e.width<=m.width+e.padding?m.width+e.padding:e.width;e.width<=m.width+e.padding?e.diff=(x-e.width)/2-e.padding:e.diff=-e.padding;const y=e.height,w=e.x-x/2,k=e.y-y/2;he.trace("Data ",e,JSON.stringify(e));let E;if(e.look==="handDrawn"){const _=fr.svg(f),I=dr(e,{roughness:.7,fill:a,stroke:s,fillWeight:3,seed:i}),M=_.path(ev(w,k,x,y,0),I);E=f.insert(()=>(he.debug("Rough node insert CXC",M),M),":first-child"),E.select("path:nth-child(2)").attr("style",u.join(";")),E.select("path").attr("style",h.join(";").replace("fill","stroke"))}else E=f.insert("rect",":first-child"),E.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",w).attr("y",k).attr("width",x).attr("height",y);const{subGraphTitleTopMargin:C}=K0(r);if(p.attr("transform",`translate(${e.x-m.width/2}, ${e.y-e.height/2+C})`),o){const _=p.select("span");_&&_.attr("style",o)}const L=E.node().getBBox();return e.offsetX=0,e.width=L.width,e.height=L.height,e.offsetY=m.height-e.padding/2,e.intersect=function(_){return ub(e,_)},{cluster:f,labelBBox:m}},"rect"),sTe=S((t,e)=>{const r=t.insert("g").attr("class","note-cluster").attr("id",e.id),n=r.insert("rect",":first-child"),i=0*e.padding,a=i/2;n.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2-a).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const s=n.node().getBBox();return e.width=s.width,e.height=s.height,e.intersect=function(o){return ub(e,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),oTe=S(async(t,e)=>{const r=Ve(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:a,compositeBackground:s,compositeTitleBackground:o,nodeBorder:l}=n,u=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),h=u.insert("g",":first-child"),f=u.insert("g").attr("class","cluster-label");let d=u.append("rect");const p=f.node().appendChild(await Qd(e.label,e.labelStyle,void 0,!0));let v=p.getBBox();if(Pn(r.flowchart.htmlLabels)){const M=p.children[0],F=yt(p);v=M.getBoundingClientRect(),F.attr("width",v.width),F.attr("height",v.height)}const m=0*e.padding,x=m/2,y=(e.width<=v.width+e.padding?v.width+e.padding:e.width)+m;e.width<=v.width+e.padding?e.diff=(y-e.width)/2-e.padding:e.diff=-e.padding;const w=e.height+m,k=e.height+m-v.height-6,E=e.x-y/2,C=e.y-w/2;e.width=y;const L=e.y-e.height/2-x+v.height+2;let _;if(e.look==="handDrawn"){const M=e.cssClasses.includes("statediagram-cluster-alt"),F=fr.svg(u),N=e.rx||e.ry?F.path(ev(E,C,y,w,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:l,seed:i}):F.rectangle(E,C,y,w,{seed:i});_=u.insert(()=>N,":first-child");const z=F.rectangle(E,L,y,k,{fill:M?a:s,fillStyle:M?"hachure":"solid",stroke:l,seed:i});_=u.insert(()=>N,":first-child"),d=u.insert(()=>z)}else{_=h.insert("rect",":first-child");const M="outer";_.attr("class",M).attr("x",E).attr("y",C).attr("width",y).attr("height",w).attr("data-look",e.look),d.attr("class","inner").attr("x",E).attr("y",L).attr("width",y).attr("height",k)}f.attr("transform",`translate(${e.x-v.width/2}, ${C+1-(Pn(r.flowchart.htmlLabels)?0:3)})`);const I=_.node().getBBox();return e.height=I.height,e.offsetX=0,e.offsetY=v.height-e.padding/2,e.labelBBox=v,e.intersect=function(M){return ub(e,M)},{cluster:u,labelBBox:v}},"roundedWithTitle"),lTe=S((t,e)=>{const r=Ve(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:a}=n,s=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),o=s.insert("g",":first-child"),l=0*e.padding,u=e.width+l;e.diff=-e.padding;const h=e.height+l,f=e.x-u/2,d=e.y-h/2;e.width=u;let p;if(e.look==="handDrawn"){const x=fr.svg(s).rectangle(f,d,u,h,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:i});p=s.insert(()=>x,":first-child")}else{p=o.insert("rect",":first-child");const m="divider";p.attr("class",m).attr("x",f).attr("y",d).attr("width",u).attr("height",h).attr("data-look",e.look)}const v=p.node().getBBox();return e.height=v.height,e.offsetX=0,e.offsetY=0,e.intersect=function(m){return ub(e,m)},{cluster:s,labelBBox:{}}},"divider"),uTe=mee,cTe={rect:mee,squareRect:uTe,roundedWithTitle:oTe,noteGroup:sTe,divider:lTe},yee=new Map,xee=S(async(t,e)=>{const r=e.shape||"rect",n=await cTe[r](t,e);return yee.set(e.id,n),n},"insertCluster"),hTe=S(()=>{yee=new Map},"clear"),fTe=S((t,e,r,n,i)=>{e.arrowTypeStart&&Sz(t,"start",e.arrowTypeStart,r,n,i),e.arrowTypeEnd&&Sz(t,"end",e.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),dTe={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},Sz=S((t,e,r,n,i,a)=>{const s=dTe[r];if(!s){he.warn(`Unknown arrow type: ${r}`);return}const o=e==="start"?"Start":"End";t.attr(`marker-${e}`,`url(${n}#${i}_${a}-${s}${o})`)},"addEdgeMarker"),yk=new Map,Na=new Map,pTe=S(()=>{yk.clear(),Na.clear()},"clear"),Cm=S(t=>t?t.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),bee=S(async(t,e)=>{let r=Pn(Ve().flowchart.htmlLabels);const n=await ec(t,e.label,{style:Cm(e.labelStyle),useHtmlLabels:r,addSvgBackground:!0,isNode:!1});he.info("abc82",e,e.labelType);const i=t.insert("g").attr("class","edgeLabel"),a=i.insert("g").attr("class","label");a.node().appendChild(n);let s=n.getBBox();if(r){const l=n.children[0],u=yt(n);s=l.getBoundingClientRect(),u.attr("width",s.width),u.attr("height",s.height)}a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),yk.set(e.id,i),e.width=s.width,e.height=s.height;let o;if(e.startLabelLeft){const l=await Qd(e.startLabelLeft,Cm(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=h.node().appendChild(l);const f=l.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),Na.get(e.id)||Na.set(e.id,{}),Na.get(e.id).startLeft=u,Zm(o,e.startLabelLeft)}if(e.startLabelRight){const l=await Qd(e.startLabelRight,Cm(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=u.node().appendChild(l),h.node().appendChild(l);const f=l.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),Na.get(e.id)||Na.set(e.id,{}),Na.get(e.id).startRight=u,Zm(o,e.startLabelRight)}if(e.endLabelLeft){const l=await Qd(e.endLabelLeft,Cm(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=h.node().appendChild(l);const f=l.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),u.node().appendChild(l),Na.get(e.id)||Na.set(e.id,{}),Na.get(e.id).endLeft=u,Zm(o,e.endLabelLeft)}if(e.endLabelRight){const l=await Qd(e.endLabelRight,Cm(e.labelStyle)),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=h.node().appendChild(l);const f=l.getBBox();h.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),u.node().appendChild(l),Na.get(e.id)||Na.set(e.id,{}),Na.get(e.id).endRight=u,Zm(o,e.endLabelRight)}return n},"insertEdgeLabel");function Zm(t,e){Ve().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}S(Zm,"setTerminalWidth");var wee=S((t,e)=>{he.debug("Moving label abc88 ",t.id,t.label,yk.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath;const n=Ve(),{subGraphTitleTotalMargin:i}=K0(n);if(t.label){const a=yk.get(t.id);let s=t.x,o=t.y;if(r){const l=Dr.calcLabelPosition(r);he.debug("Moving label "+t.label+" from (",s,",",o,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(s=l.x,o=l.y)}a.attr("transform",`translate(${s}, ${o+i/2})`)}if(t.startLabelLeft){const a=Na.get(t.id).startLeft;let s=t.x,o=t.y;if(r){const l=Dr.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.startLabelRight){const a=Na.get(t.id).startRight;let s=t.x,o=t.y;if(r){const l=Dr.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelLeft){const a=Na.get(t.id).endLeft;let s=t.x,o=t.y;if(r){const l=Dr.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelRight){const a=Na.get(t.id).endRight;let s=t.x,o=t.y;if(r){const l=Dr.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),gTe=S((t,e)=>{const r=t.x,n=t.y,i=Math.abs(e.x-r),a=Math.abs(e.y-n),s=t.width/2,o=t.height/2;return i>=s||a>=o},"outsideNode"),vTe=S((t,e,r)=>{he.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const n=t.x,i=t.y,a=Math.abs(n-r.x),s=t.width/2;let o=r.x<e.x?s-a:s+a;const l=t.height/2,u=Math.abs(e.y-r.y),h=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*s>Math.abs(n-e.x)*l){let f=r.y<e.y?e.y-l-i:i-l-e.y;o=h*f/u;const d={x:r.x<e.x?r.x+o:r.x-h+o,y:r.y<e.y?r.y+u-f:r.y-u+f};return o===0&&(d.x=e.x,d.y=e.y),h===0&&(d.x=e.x),u===0&&(d.y=e.y),he.debug(`abc89 top/bottom calc, Q ${u}, q ${f}, R ${h}, r ${o}`,d),d}else{r.x<e.x?o=e.x-s-n:o=n-s-e.x;let f=u*o/h,d=r.x<e.x?r.x+h-o:r.x-h+o,p=r.y<e.y?r.y+f:r.y-f;return he.debug(`sides calc abc89, Q ${u}, q ${f}, R ${h}, r ${o}`,{_x:d,_y:p}),o===0&&(d=e.x,p=e.y),h===0&&(d=e.x),u===0&&(p=e.y),{x:d,y:p}}},"intersection"),Ez=S((t,e)=>{he.warn("abc88 cutPathAtIntersect",t,e);let r=[],n=t[0],i=!1;return t.forEach(a=>{if(he.info("abc88 checking point",a,e),!gTe(e,a)&&!i){const s=vTe(e,n,a);he.debug("abc88 inside",a,n,s),he.debug("abc88 intersection",s,e);let o=!1;r.forEach(l=>{o=o||l.x===s.x&&l.y===s.y}),r.some(l=>l.x===s.x&&l.y===s.y)?he.warn("abc88 no intersect",s,r):r.push(s),i=!0}else he.warn("abc88 outside",a,n),n=a,i||r.push(a)}),he.debug("returning points",r),r},"cutPathAtIntersect");function kee(t){const e=[],r=[];for(let n=1;n<t.length-1;n++){const i=t[n-1],a=t[n],s=t[n+1];(i.x===a.x&&a.y===s.y&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-i.y)>5||i.y===a.y&&a.x===s.x&&Math.abs(a.x-i.x)>5&&Math.abs(a.y-s.y)>5)&&(e.push(a),r.push(n))}return{cornerPoints:e,cornerPointPositions:r}}S(kee,"extractCornerPoints");var Tz=S(function(t,e,r){const n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i),s=r/a;return{x:e.x-s*n,y:e.y-s*i}},"findAdjacentPoint"),mTe=S(function(t){const{cornerPointPositions:e}=kee(t),r=[];for(let n=0;n<t.length;n++)if(e.includes(n)){const i=t[n-1],a=t[n+1],s=t[n],o=Tz(i,s,5),l=Tz(a,s,5),u=l.x-o.x,h=l.y-o.y;r.push(o);const f=Math.sqrt(2)*2;let d={x:s.x,y:s.y};if(Math.abs(a.x-i.x)>10&&Math.abs(a.y-i.y)>=10){he.debug("Corner point fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));const p=5;s.x===o.x?d={x:u<0?o.x-p+f:o.x+p-f,y:h<0?o.y-f:o.y+f}:d={x:u<0?o.x-f:o.x+f,y:h<0?o.y-p+f:o.y+p-f}}else he.debug("Corner point skipping fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));r.push(d,l)}else r.push(t[n]);return r},"fixCorners"),See=S(function(t,e,r,n,i,a,s){const{handDrawnSeed:o}=Ve();let l=e.points,u=!1;const h=i;var f=a;f.intersect&&h.intersect&&(l=l.slice(1,e.points.length-1),l.unshift(h.intersect(l[0])),he.debug("Last point APA12",e.start,"-->",e.end,l[l.length-1],f,f.intersect(l[l.length-1])),l.push(f.intersect(l[l.length-1]))),e.toCluster&&(he.info("to cluster abc88",r.get(e.toCluster)),l=Ez(e.points,r.get(e.toCluster).node),u=!0),e.fromCluster&&(he.debug("from cluster abc88",r.get(e.fromCluster),JSON.stringify(l,null,2)),l=Ez(l.reverse(),r.get(e.fromCluster).node).reverse(),u=!0);let d=l.filter(I=>!Number.isNaN(I.y));d=mTe(d);let p=d[d.length-1];if(d.length>1){p=d[d.length-1];const I=d[d.length-2],M=(p.x-I.x)/2,F=(p.y-I.y)/2,N={x:I.x+M,y:I.y+F};d.splice(-1,0,N)}let v=j1;e.curve&&(v=e.curve);const{x:m,y:x}=tZ(e),y=_f().x(m).y(x).curve(v);let w;switch(e.thickness){case"normal":w="edge-thickness-normal";break;case"thick":w="edge-thickness-thick";break;case"invisible":w="edge-thickness-invisible";break;default:w="edge-thickness-normal"}switch(e.pattern){case"solid":w+=" edge-pattern-solid";break;case"dotted":w+=" edge-pattern-dotted";break;case"dashed":w+=" edge-pattern-dashed";break;default:w+=" edge-pattern-solid"}let k,E=y(d);const C=Array.isArray(e.style)?e.style:[e.style];if(e.look==="handDrawn"){const I=fr.svg(t);Object.assign([],d);const M=I.path(E,{roughness:.3,seed:o});w+=" transition",k=yt(M).select("path").attr("id",e.id).attr("class"," "+w+(e.classes?" "+e.classes:"")).attr("style",C?C.reduce((N,z)=>N+";"+z,""):"");let F=k.attr("d");k.attr("d",F),t.node().appendChild(k.node())}else k=t.append("path").attr("d",E).attr("id",e.id).attr("class"," "+w+(e.classes?" "+e.classes:"")).attr("style",C?C.reduce((I,M)=>I+";"+M,""):"");let L="";(Ve().flowchart.arrowMarkerAbsolute||Ve().state.arrowMarkerAbsolute)&&(L=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,L=L.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),he.info("arrowTypeStart",e.arrowTypeStart),he.info("arrowTypeEnd",e.arrowTypeEnd),fTe(k,e,L,s,n);let _={};return u&&(_.updatedPath=l),_.originalPath=e.points,_},"insertEdge"),yTe=S((t,e,r,n)=>{e.forEach(i=>{_Te[i](t,r,n)})},"insertMarkers"),xTe=S((t,e,r)=>{he.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),bTe=S((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),wTe=S((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),kTe=S((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),STe=S((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),ETe=S((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),TTe=S((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),CTe=S((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),ATe=S((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),_Te={extension:xTe,composition:bTe,aggregation:wTe,dependency:kTe,lollipop:STe,point:ETe,circle:TTe,cross:CTe,barb:ATe},Eee=yTe,Rr=S(async(t,e,r)=>{let n;const i=e.useHtmlLabels||Pn(Ve().flowchart.htmlLabels);r?n=r:n="node default";const a=t.insert("g").attr("class",n).attr("id",e.domId||e.id),s=a.insert("g").attr("class","label").attr("style",e.labelStyle);let o;e.label===void 0?o="":o=typeof e.label=="string"?e.label:e.label[0];let l;l=await ec(s,Mi(S0(o),Ve()),{useHtmlLabels:i,width:e.width||Ve().flowchart.wrappingWidth,cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let u=l.getBBox();const h=e.padding/2;if(Pn(Ve().flowchart.htmlLabels)){const f=l.children[0],d=yt(l),p=f.getElementsByTagName("img");if(p){const v=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(m=>new Promise(x=>{function y(){if(m.style.display="flex",m.style.flexDirection="column",v){const w=Ve().fontSize?Ve().fontSize:window.getComputedStyle(document.body).fontSize,k=5,E=parseInt(w,10)*k+"px";m.style.minWidth=E,m.style.maxWidth=E}else m.style.width="100%";x(m)}S(y,"setupImage"),setTimeout(()=>{m.complete&&y()}),m.addEventListener("error",y),m.addEventListener("load",y)})))}u=f.getBoundingClientRect(),d.attr("width",u.width),d.attr("height",u.height)}return i?s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"):s.attr("transform","translate(0, "+-u.height/2+")"),e.centerLabel&&s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:a,bbox:u,halfPadding:h,label:s}},"labelHelper"),pr=S((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds"),Mr=S((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function jr(t){const e=t.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return e.push("Z"),e.join(" ")}S(jr,"createPathFromPoints");function Mf(t,e,r,n,i,a){const s=[],l=r-t,u=n-e,h=l/a,f=2*Math.PI/h,d=e+u/2;for(let p=0;p<=50;p++){const v=p/50,m=t+v*l,x=d+i*Math.sin(f*(m-t));s.push({x:m,y:x})}return s}S(Mf,"generateFullSineWavePoints");function TM(t,e,r,n,i,a){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const d=o+f*h,p=t+r*Math.cos(d),v=e+r*Math.sin(d);s.push({x:-p,y:-v})}return s}S(TM,"generateCirclePoints");function Tee(t,e){return t.intersect(e)}S(Tee,"intersectNode");var LTe=Tee;function Cee(t,e,r,n){var i=t.x,a=t.y,s=i-n.x,o=a-n.y,l=Math.sqrt(e*e*o*o+r*r*s*s),u=Math.abs(e*r*s/l);n.x<i&&(u=-u);var h=Math.abs(e*r*o/l);return n.y<a&&(h=-h),{x:i+u,y:a+h}}S(Cee,"intersectEllipse");var Aee=Cee;function _ee(t,e,r){return Aee(t,e,e,r)}S(_ee,"intersectCircle");var DTe=_ee;function Lee(t,e,r,n){var i,a,s,o,l,u,h,f,d,p,v,m,x,y,w;if(i=e.y-t.y,s=t.x-e.x,l=e.x*t.y-t.x*e.y,d=i*r.x+s*r.y+l,p=i*n.x+s*n.y+l,!(d!==0&&p!==0&&l9(d,p))&&(a=n.y-r.y,o=r.x-n.x,u=n.x*r.y-r.x*n.y,h=a*t.x+o*t.y+u,f=a*e.x+o*e.y+u,!(h!==0&&f!==0&&l9(h,f))&&(v=i*o-a*s,v!==0)))return m=Math.abs(v/2),x=s*u-o*l,y=x<0?(x-m)/v:(x+m)/v,x=a*l-i*u,w=x<0?(x-m)/v:(x+m)/v,{x:y,y:w}}S(Lee,"intersectLine");function l9(t,e){return t*e>0}S(l9,"sameSign");var RTe=Lee;function Dee(t,e,r){let n=t.x,i=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(h){s=Math.min(s,h.x),o=Math.min(o,h.y)}):(s=Math.min(s,e.x),o=Math.min(o,e.y));let l=n-t.width/2-s,u=i-t.height/2-o;for(let h=0;h<e.length;h++){let f=e[h],d=e[h<e.length-1?h+1:0],p=RTe(t,r,{x:l+f.x,y:u+f.y},{x:l+d.x,y:u+d.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort(function(h,f){let d=h.x-r.x,p=h.y-r.y,v=Math.sqrt(d*d+p*p),m=f.x-r.x,x=f.y-r.y,y=Math.sqrt(m*m+x*x);return v<y?-1:v===y?0:1}),a[0]):t}S(Dee,"intersectPolygon");var MTe=Dee,or={node:LTe,circle:DTe,ellipse:Aee,polygon:MTe,rect:ub},CM=S(async(t,e,r)=>{const{labelStyles:n,nodeStyles:i}=mr(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await Rr(t,e,Mr(e)),o=Math.max(s.width+r.labelPaddingX*2,(e==null?void 0:e.width)||0),l=Math.max(s.height+r.labelPaddingY*2,(e==null?void 0:e.height)||0),u=-o/2,h=-l/2;let f,{rx:d,ry:p}=e;const{cssStyles:v}=e;if(r!=null&&r.rx&&r.ry&&(d=r.rx,p=r.ry),e.look==="handDrawn"){const m=fr.svg(a),x=dr(e,{}),y=d||p?m.path(ev(u,h,o,l,d||0),x):m.rectangle(u,h,o,l,x);f=a.insert(()=>y,":first-child"),f.attr("class","basic label-container").attr("style",v)}else f=a.insert("rect",":first-child"),f.attr("class","basic label-container").attr("style",i).attr("rx",d).attr("ry",p).attr("x",u).attr("y",h).attr("width",o).attr("height",l);return pr(e,f),e.intersect=function(m){return or.rect(e,m)},a},"drawRect"),NTe=S(async(t,e)=>CM(t,e,{rx:5,ry:5,classes:"flowchart-node"}),"state"),_7=S(async(t,e)=>{const r={rx:5,ry:5,classes:"",labelPaddingX:((e==null?void 0:e.padding)||0)*1,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return CM(t,e,r)},"roundedRect"),Am=S(async(t,e)=>{const r={rx:0,ry:0,classes:"",labelPaddingX:((e==null?void 0:e.padding)||0)*2,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return CM(t,e,r)},"squareRect"),Z4=S((t,e,{config:{themeVariables:r}})=>{const{lineColor:n}=r,i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let a;if(e.look==="handDrawn"){const o=fr.svg(i).circle(0,0,14,iTe(n));a=i.insert(()=>o)}else a=i.insert("circle",":first-child");return a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),pr(e,a),e.intersect=function(s){return or.circle(e,7,s)},i},"stateStart"),J4=S((t,e,{config:{themeVariables:r}})=>{const{labelStyles:n,nodeStyles:i}=mr(e);e.labelStyle=n;const{cssStyles:a}=e,{lineColor:s,stateBorder:o,nodeBorder:l}=r,u=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),h=fr.svg(u),f=dr(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const d=h.circle(0,0,14,{...f,stroke:s,strokeWidth:2}),p=o??l,v=h.circle(0,0,5,{...f,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"}),m=u.insert(()=>d,":first-child");return m.insert(()=>v),a&&m.selectAll("path").attr("style",a),i&&m.selectAll("path").attr("style",i),pr(e,m),e.intersect=function(x){return or.circle(e,7,x)},u},"stateEnd"),L7=S((t,e,{dir:r,config:{state:n,themeVariables:i}})=>{const{nodeStyles:a}=mr(e);e.label="";const s=t.insert("g").attr("class",Mr(e)).attr("id",e.domId??e.id),{cssStyles:o}=e;let l=Math.max(70,(e==null?void 0:e.width)??0),u=Math.max(10,(e==null?void 0:e.height)??0);r==="LR"&&(l=Math.max(10,(e==null?void 0:e.width)??0),u=Math.max(70,(e==null?void 0:e.height)??0));const h=-1*l/2,f=-1*u/2,d=fr.svg(s),p=dr(e,{stroke:i.lineColor,fill:i.lineColor});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=d.rectangle(h,f,l,u,p),m=s.insert(()=>v,":first-child");o&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",o),a&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",a),pr(e,m);const x=(n==null?void 0:n.padding)??0;return e.width&&e.height&&(e.width+=x/2||0,e.height+=x/2||0),e.intersect=function(y){return or.rect(e,y)},s},"forkJoin"),ITe=S((t,e)=>{const{nodeStyles:r}=mr(e);e.label="";const n=t.insert("g").attr("class",Mr(e)).attr("id",e.domId??e.id),{cssStyles:i}=e,a=Math.max(28,e.width??0),s=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],o=fr.svg(n),l=dr(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const u=jr(s),h=o.path(u,l),f=n.insert(()=>h,":first-child");return i&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",i),r&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",r),e.width=28,e.height=28,e.intersect=function(d){return or.polygon(e,s,d)},n},"choice"),OTe=S(async(t,e,{config:{themeVariables:r}})=>{const{labelStyles:n,nodeStyles:i}=mr(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await Rr(t,e,Mr(e)),o=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=-o/2,h=-l/2,{cssStyles:f}=e;e.useHtmlLabels||(e.centerLabel=!0);const p=fr.svg(a),v=dr(e,{fill:r.noteBkgColor,stroke:r.noteBorderColor});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const m=p.rectangle(u,h,o,l,v),x=a.insert(()=>m,":first-child");return x.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",f),i&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",i),pr(e,x),e.intersect=function(y){return or.rect(e,y)},a},"note"),D7=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=a.height+e.padding,o=a.width+s/4+e.padding;let l;const{cssStyles:u}=e;if(e.look==="handDrawn"){const h=fr.svg(i),f=dr(e,{}),d=ev(-o/2,-s/2,o,s,s/2),p=h.path(d,f);l=i.insert(()=>p,":first-child"),l.attr("class","basic label-container").attr("style",u)}else l=i.insert("rect",":first-child"),l.attr("class","basic label-container").attr("style",n).attr("rx",s/2).attr("ry",s/2).attr("x",-o/2).attr("y",-s/2).attr("width",o).attr("height",s);return pr(e,l),e.intersect=function(h){return or.rect(e,h)},i},"stadium"),FTe=S(async(t,e)=>{var I,M;const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;let i;e.cssClasses?i="node "+e.cssClasses:i="node default";const a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=a.insert("g"),o=a.insert("g").attr("class","label").attr("style",n),l=e.description,u=e.label,h=o.node().appendChild(await Qd(u,e.labelStyle,!0,!0));let f={width:0,height:0};if(Pn((M=(I=Ve())==null?void 0:I.flowchart)==null?void 0:M.htmlLabels)){const F=h.children[0],N=yt(h);f=F.getBoundingClientRect(),N.attr("width",f.width),N.attr("height",f.height)}he.info("Text 2",l);const d=l||[],p=h.getBBox(),v=o.node().appendChild(await Qd(d.join?d.join("<br/>"):d,e.labelStyle,!0,!0)),m=v.children[0],x=yt(v);f=m.getBoundingClientRect(),x.attr("width",f.width),x.attr("height",f.height);const y=(e.padding||0)/2;yt(v).attr("transform","translate( "+(f.width>p.width?0:(p.width-f.width)/2)+", "+(p.height+y+5)+")"),yt(h).attr("transform","translate( "+(f.width<p.width?0:-(p.width-f.width)/2)+", 0)"),f=o.node().getBBox(),o.attr("transform","translate("+-f.width/2+", "+(-f.height/2-y+3)+")");const w=f.width+(e.padding||0),k=f.height+(e.padding||0),E=-f.width/2-y,C=-f.height/2-y;let L,_;if(e.look==="handDrawn"){const F=fr.svg(a),N=dr(e,{}),z=F.path(ev(E,C,w,k,e.rx||0),N),V=F.line(-f.width/2-y,-f.height/2-y+p.height+y,f.width/2+y,-f.height/2-y+p.height+y,N);_=a.insert(()=>(he.debug("Rough node insert CXC",z),V),":first-child"),L=a.insert(()=>(he.debug("Rough node insert CXC",z),z),":first-child")}else L=s.insert("rect",":first-child"),_=s.insert("line"),L.attr("class","outer title-state").attr("style",n).attr("x",-f.width/2-y).attr("y",-f.height/2-y).attr("width",f.width+(e.padding||0)).attr("height",f.height+(e.padding||0)),_.attr("class","divider").attr("x1",-f.width/2-y).attr("x2",f.width/2+y).attr("y1",-f.height/2-y+p.height+y).attr("y2",-f.height/2-y+p.height+y);return pr(e,L),e.intersect=function(F){return or.rect(e,F)},a},"rectWithTitle");function yh(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}S(yh,"insertPolygonShape");var _m=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=((e==null?void 0:e.padding)||0)/2,o=a.width+e.padding,l=a.height+e.padding,u=-a.width/2-s,h=-a.height/2-s,f=[{x:0,y:0},{x:o,y:0},{x:o,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(e.look==="handDrawn"){const d=fr.svg(i),p=dr(e,{}),v=d.rectangle(u-8,h,o+16,l,p),m=d.line(u,h,u,h+l,p),x=d.line(u+o,h,u+o,h+l,p);i.insert(()=>m,":first-child"),i.insert(()=>x,":first-child");const y=i.insert(()=>v,":first-child"),{cssStyles:w}=e;y.attr("class","basic label-container").attr("style",w),pr(e,y)}else{const d=yh(i,o,l,f);n&&d.attr("style",n),pr(e,d)}return e.intersect=function(d){return or.polygon(e,f,d)},i},"subroutine"),PTe=S((t,e,r,n,i,a)=>[`M${t},${e+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),BTe=S((t,e,r,n,i,a)=>[`M${t},${e+a}`,`M${t+r},${e+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),$Te=S((t,e,r,n,i,a)=>[`M${t-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD"),e3=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=Math.max(a.width+e.padding,e.width??0),l=o/2,u=l/(2.5+o/50),h=Math.max(a.height+u+e.padding,e.height??0);let f;const{cssStyles:d}=e;if(e.look==="handDrawn"){const p=fr.svg(i),v=BTe(0,0,o,h,l,u),m=$Te(0,u,o,h,l,u),x=p.path(v,dr(e,{})),y=p.path(m,dr(e,{fill:"none"}));f=i.insert(()=>y,":first-child"),f=i.insert(()=>x,":first-child"),f.attr("class","basic label-container"),d&&f.attr("style",d)}else{const p=PTe(0,0,o,h,l,u);f=i.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",d).attr("style",n)}return f.attr("label-offset-y",u),f.attr("transform",`translate(${-o/2}, ${-(h/2+u)})`),pr(e,f),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+(e.padding??0)/1.5-(a.y-(a.top??0))})`),e.intersect=function(p){const v=or.rect(e,p),m=v.x-(e.x??0);if(l!=0&&(Math.abs(m)<(e.width??0)/2||Math.abs(m)==(e.width??0)/2&&Math.abs(v.y-(e.y??0))>(e.height??0)/2-u)){let x=u*u*(1-m*m/(l*l));x>0&&(x=Math.sqrt(x)),x=u-x,p.y-(e.y??0)>0&&(x=-x),v.y+=x}return v},i},"cylinder"),Cz=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,halfPadding:s}=await Rr(t,e,Mr(e)),o=a.width/2+s;let l;const{cssStyles:u}=e;if(e.look==="handDrawn"){const h=fr.svg(i),f=dr(e,{}),d=h.circle(0,0,o*2,f);l=i.insert(()=>d,":first-child"),l.attr("class","basic label-container").attr("style",u)}else l=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",o).attr("cx",0).attr("cy",0);return pr(e,l),e.intersect=function(h){return he.info("Circle intersect",e,o,h),or.circle(e,o,h)},i},"circle"),R7=S(async(t,e)=>{var d,p;const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,halfPadding:s}=await Rr(t,e,Mr(e)),o=5,l=a.width/2+s+o,u=a.width/2+s;let h;const{cssStyles:f}=e;if(e.look==="handDrawn"){const v=fr.svg(i),m=dr(e,{roughness:.2,strokeWidth:2.5}),x=dr(e,{roughness:.2,strokeWidth:1.5}),y=v.circle(0,0,l*2,m),w=v.circle(0,0,u*2,x);h=i.insert("g",":first-child"),h.attr("class",e.cssClasses).attr("style",f),(d=h.node())==null||d.appendChild(y),(p=h.node())==null||p.appendChild(w)}else{h=i.insert("g",":first-child");const v=h.insert("circle",":first-child"),m=h.insert("circle");h.attr("class","basic label-container").attr("style",n),v.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),m.attr("class","inner-circle").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0)}return pr(e,h),e.intersect=function(v){return he.info("DoubleCircle intersect",e,l,v),or.circle(e,l,v)},i},"doublecircle"),Az=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),u=-o/2,h=-l/2,f=h/2,d=[{x:u+f,y:h},{x:u,y:0},{x:u+f,y:-h},{x:-u,y:-h},{x:-u,y:h}],{cssStyles:p}=e,v=fr.svg(i),m=dr(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=jr(d),y=v.path(x,m),w=i.insert(()=>y,":first-child");return w.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(${-f/2},0)`),s.attr("transform",`translate(${-f/2-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),pr(e,w),e.intersect=function(k){return or.polygon(e,d,k)},i},"rect_left_inv_arrow"),zTe=S((t,e,r)=>[`M${t+r/2},${e}`,`L${t+r},${e-r/2}`,`L${t+r/2},${e-r}`,`L${t},${e-r/2}`,"Z"].join(" "),"createDecisionBoxPathD"),t3=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=a.width+e.padding,o=a.height+e.padding,l=s+o,u=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let h;const{cssStyles:f}=e;if(e.look==="handDrawn"){const d=fr.svg(i),p=dr(e,{}),v=zTe(0,0,l),m=d.path(v,p);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`),f&&h.attr("style",f)}else h=yh(i,l,l,u);return n&&h.attr("style",n),pr(e,h),e.intersect=function(d){return he.debug(`APA12 Intersect called SPLIT
point:`,d,`
node:
`,e,`
res:`,or.polygon(e,u,d)),or.polygon(e,u,d)},i},"question"),HTe=S((t,e,r,n,i)=>[`M${t+i},${e}`,`L${t+r-i},${e}`,`L${t+r},${e-n/2}`,`L${t+r-i},${e-n}`,`L${t+i},${e-n}`,`L${t},${e-n/2}`,"Z"].join(" "),"createHexagonPathD"),M7=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=4,o=a.height+e.padding,l=o/s,u=a.width+2*l+e.padding,h=[{x:l,y:0},{x:u-l,y:0},{x:u,y:-o/2},{x:u-l,y:-o},{x:l,y:-o},{x:0,y:-o/2}];let f;const{cssStyles:d}=e;if(e.look==="handDrawn"){const p=fr.svg(i),v=dr(e,{}),m=HTe(0,0,u,o,l),x=p.path(m,v);f=i.insert(()=>x,":first-child").attr("transform",`translate(${-u/2}, ${o/2})`),d&&f.attr("style",d)}else f=yh(i,u,o,h);return n&&f.attr("style",n),e.width=u,e.height=o,pr(e,f),e.intersect=function(p){return or.polygon(e,h,p)},i},"hexagon");async function Ree(t,e){const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=Math.max(a.width+e.padding,(e==null?void 0:e.width)||0),o=Math.max(a.height+e.padding,(e==null?void 0:e.height)||0),l=-s/2,u=-o/2,h=i.insert("rect",":first-child");return h.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",u).attr("width",s).attr("height",o),pr(e,h),e.intersect=function(f){return or.rect(e,f)},i}S(Ree,"text");async function ww(t,e){const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=a.height+e.padding,o=12,l=a.width+e.padding+o,u=0,h=l,f=-s,d=0,p=[{x:u+o,y:f},{x:h,y:f},{x:h,y:d},{x:u,y:d},{x:u,y:f+o},{x:u+o,y:f}];let v;const{cssStyles:m}=e;if(e.look==="handDrawn"){const x=fr.svg(i),y=dr(e,{}),w=jr(p),k=x.path(w,y);v=i.insert(()=>k,":first-child").attr("transform",`translate(${-l/2}, ${s/2})`),m&&v.attr("style",m)}else v=yh(i,l,s,p);return n&&v.attr("style",n),pr(e,v),e.intersect=function(x){return or.polygon(e,p,x)},i}S(ww,"card");var Lm=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=(e==null?void 0:e.padding)??0,l=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=-a.width/2-o,f=-a.height/2-o,{cssStyles:d}=e,p=fr.svg(i),v=dr(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const m=[{x:h,y:f},{x:h+l+8,y:f},{x:h+l+8,y:f+u},{x:h-8,y:f+u},{x:h-8,y:f},{x:h,y:f},{x:h,y:f+u}],x=p.polygon(m.map(w=>[w.x,w.y]),v),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container").attr("style",d),n&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),d&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),s.attr("transform",`translate(${-l/2+4+(e.padding??0)-(a.x-(a.left??0))},${-u/2+(e.padding??0)-(a.y-(a.top??0))})`),pr(e,y),e.intersect=function(w){return or.rect(e,w)},i},"shadedProcess"),VTe=S((t,e)=>{const{labelStyles:r}=mr(e);e.labelStyle=r;const n=Mr(e);let i=n;n||(i="anchor");const a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=1,{cssStyles:o}=e,l=fr.svg(a),u=dr(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(u.roughness=0);const h=l.circle(0,0,s*2,u),f=a.insert(()=>h,":first-child");return f.attr("class","anchor").attr("style",o),pr(e,f),e.intersect=function(d){return he.info("Circle intersect",e,s,d),or.circle(e,s,d)},a},"anchor"),r3=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:-3*o/6,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:0,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const f=fr.svg(i),d=dr(e,{}),p=jr(l),v=f.path(p,d);u=i.insert(()=>v,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=yh(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,pr(e,u),e.intersect=function(f){return or.polygon(e,l,f)},i},"lean_right"),n3=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:-(3*o)/6,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const f=fr.svg(i),d=dr(e,{}),p=jr(l),v=f.path(p,d);u=i.insert(()=>v,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=yh(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,pr(e,u),e.intersect=function(f){return or.polygon(e,l,f)},i},"lean_left"),i3=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=a.width+e.padding,o=a.height+e.padding,l=[{x:-3*o/6,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:0,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const f=fr.svg(i),d=dr(e,{}),p=jr(l),v=f.path(p,d);u=i.insert(()=>v,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=yh(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,pr(e,u),e.intersect=function(f){return or.polygon(e,l,f)},i},"trapezoid"),Dm=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:-3*o/6,y:-o}];let u;const{cssStyles:h}=e;if(e.look==="handDrawn"){const f=fr.svg(i),d=dr(e,{}),p=jr(l),v=f.path(p,d);u=i.insert(()=>v,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),h&&u.attr("style",h)}else u=yh(i,s,o,l);return n&&u.attr("style",n),e.width=s,e.height=o,pr(e,u),e.intersect=function(f){return or.polygon(e,l,f)},i},"inv_trapezoid"),UTe=S(async(t,e)=>{const{shapeSvg:r,bbox:n,label:i}=await Rr(t,e,"label"),a=r.insert("rect",":first-child"),s=.1,o=.1;return a.attr("width",s).attr("height",o),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),pr(e,a),e.intersect=function(l){return or.rect(e,l)},r},"labelRect"),N7=S(async(t,e)=>{var w;const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=Pn((w=Ve().flowchart)==null?void 0:w.htmlLabels),l=a.width+(e.padding??0),u=l+a.height,h=l+a.height,f=[{x:0,y:0},{x:h,y:0},{x:h/2,y:-u}],{cssStyles:d}=e,p=fr.svg(i),v=dr(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const m=jr(f),x=p.path(m,v),y=i.insert(()=>x,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return d&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",d),n&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),e.width=l,e.height=u,pr(e,y),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${u/2-(a.height+(e.padding??0)/(o?2:1)-(a.y-(a.top??0)))})`),e.intersect=function(k){return he.info("Triangle intersect",e,f,k),or.polygon(e,f,k)},i},"triangle"),_z=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const i=80,a=50,{shapeSvg:s,bbox:o}=await Rr(t,e,Mr(e)),l=Math.max(i,o.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a,o.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=u/2,{cssStyles:f}=e,d=fr.svg(s),p=dr(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=[{x:-l/2,y:-u/2},{x:l/2-h,y:-u/2},...TM(-l/2+h,0,h,50,90,270),{x:l/2-h,y:u/2},{x:-l/2,y:u/2}],m=jr(v),x=d.path(m,p),y=s.insert(()=>x,":first-child");return y.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),pr(e,y),e.intersect=function(w){return he.info("Pill intersect",e,{radius:h,point:w}),or.polygon(e,v,w)},s},"halfRoundedRectangle"),I7=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=80,o=20,l=Math.max(s,(a.width+(e.padding??0)*2)*1.25,(e==null?void 0:e.width)??0),u=Math.max(o,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=u/2,{cssStyles:f}=e,d=fr.svg(i),p=dr(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=l,m=u,x=v-h,y=m/4,w=[{x,y:0},{x:y,y:0},{x:0,y:m/2},{x:y,y:m},{x,y:m},...TM(-x,-m/2,h,50,270,90)],k=jr(w),E=d.path(k,p),C=i.insert(()=>E,":first-child");return C.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",n),C.attr("transform",`translate(${-l/2}, ${-u/2})`),pr(e,C),e.intersect=function(L){return or.polygon(e,w,L)},i},"curvedTrapezoid"),O7=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=-o/2,h=-l/2,{cssStyles:f}=e,d=fr.svg(i),p=dr(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=[{x:u,y:h},{x:u,y:h+l},{x:u+o,y:h+l},{x:u+o,y:h-l/2}],m=jr(v),x=d.path(m,p),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),y.attr("transform",`translate(0, ${l/4})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))}, ${-l/4+(e.padding??0)-(a.y-(a.top??0))})`),pr(e,y),e.intersect=function(w){return or.polygon(e,v,w)},i},"slopedRect");function u9(t,e,r,n,i,a,s){const l=(t+r)/2,u=(e+n)/2,h=Math.atan2(n-e,r-t),f=(r-t)/2,d=(n-e)/2,p=f/i,v=d/a,m=Math.sqrt(p**2+v**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");const x=Math.sqrt(1-m**2),y=l+x*a*Math.sin(h)*(s?-1:1),w=u-x*i*Math.cos(h)*(s?-1:1),k=Math.atan2((e-w)/a,(t-y)/i);let C=Math.atan2((n-w)/a,(r-y)/i)-k;s&&C<0&&(C+=2*Math.PI),!s&&C>0&&(C-=2*Math.PI);const L=[];for(let _=0;_<20;_++){const I=_/19,M=k+I*C,F=y+i*Math.cos(M),N=w+a*Math.sin(M);L.push({x:F,y:N})}return L}S(u9,"generateArcPoints");var F7=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=a.width+e.padding+20,o=a.height+e.padding,l=o/2,u=l/(2.5+o/50),{cssStyles:h}=e,f=[{x:s/2,y:-o/2},{x:-s/2,y:-o/2},...u9(-s/2,-o/2,-s/2,o/2,u,l,!1),{x:s/2,y:o/2},...u9(s/2,o/2,s/2,-o/2,u,l,!0)],d=fr.svg(i),p=dr(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=jr(f),m=d.path(v,p),x=i.insert(()=>m,":first-child");return x.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",n),x.attr("transform",`translate(${u/2}, 0)`),pr(e,x),e.intersect=function(y){return or.polygon(e,f,y)},i},"bowTieRect"),a3=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=a.width+e.padding,l=a.height+e.padding,u=l*.2,h=-o/2,f=-l/2-u/2,{cssStyles:d}=e,p=fr.svg(i),v=dr(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const m=[{x:h,y:f+u},{x:-h,y:f+u},{x:-h,y:-f},{x:h,y:-f},{x:h,y:f},{x:-h,y:f},{x:-h,y:f+u}],x=p.polygon(m.map(w=>[w.x,w.y]),v),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",n),s.attr("transform",`translate(${h+(e.padding??0)/2-(a.x-(a.left??0))}, ${f+u+(e.padding??0)/2-(a.y-(a.top??0))})`),pr(e,y),e.intersect=function(w){return or.rect(e,w)},i},"dividedRectangle");function Mee(t){const e=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=t*2,i={x:n/2*e,y:n/2*r},a={x:-(n/2)*e,y:n/2*r},s={x:-(n/2)*e,y:-(n/2)*r},o={x:n/2*e,y:-(n/2)*r};return`M ${a.x},${a.y} L ${o.x},${o.y}
                   M ${i.x},${i.y} L ${s.x},${s.y}`}S(Mee,"createLine");var P7=S((t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r,e.label="";const i=t.insert("g").attr("class",Mr(e)).attr("id",e.domId??e.id),a=Math.max(30,(e==null?void 0:e.width)??0),{cssStyles:s}=e,o=fr.svg(i),l=dr(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const u=o.circle(0,0,a*2,l),h=Mee(a),f=o.path(h,l),d=i.insert(()=>u,":first-child");return d.insert(()=>f),s&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",s),n&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",n),pr(e,d),e.intersect=function(p){return he.info("crossedCircle intersect",e,{radius:a,point:p}),or.circle(e,a,p)},i},"crossedCircle"),Lz=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=100,o=50,l=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=l/u;let f=l,d=u;f>d*h?d=f/h:f=d*h,f=Math.max(f,s),d=Math.max(d,o);const p=Math.min(d*.2,d/4),v=d+p*2,{cssStyles:m}=e,x=fr.svg(i),y=dr(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const w=[{x:-f/2,y:v/2},...Mf(-f/2,v/2,f/2,v/2,p,1),{x:f/2,y:-v/2},...Mf(f/2,-v/2,-f/2,-v/2,p,-1)],k=jr(w),E=x.path(k,y),C=i.insert(()=>E,":first-child");return C.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",m),n&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",n),pr(e,C),e.intersect=function(L){return or.polygon(e,w,L)},i},"waveRectangle"),GTe=S((t,e,r,n,i,a)=>`M${t},${e}
    a${i},${a} 0,0,1 0,${-n}
    l${r},0
    a${i},${a} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${a} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),WTe=S((t,e,r,n,i,a)=>[`M${t},${e}`,`M${t+r},${e}`,`a${i},${a} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${a} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),qTe=S((t,e,r,n,i,a)=>[`M${t+r/2},${-n/2}`,`a${i},${a} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD"),B7=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s,halfPadding:o}=await Rr(t,e,Mr(e)),l=e.look==="neo"?o*2:o,u=a.height+l,h=u/2,f=h/(2.5+u/50),d=a.width+f+l,{cssStyles:p}=e;let v;if(e.look==="handDrawn"){const m=fr.svg(i),x=WTe(0,0,d,u,f,h),y=qTe(0,0,d,u,f,h),w=m.path(x,dr(e,{})),k=m.path(y,dr(e,{fill:"none"}));v=i.insert(()=>k,":first-child"),v=i.insert(()=>w,":first-child"),v.attr("class","basic label-container"),p&&v.attr("style",p)}else{const m=GTe(0,0,d,u,f,h);v=i.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",p).attr("style",n)}return v.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),v.attr("label-offset-x",f),v.attr("transform",`translate(${-d/2}, ${u/2} )`),s.attr("transform",`translate(${-(a.width/2)-f-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),pr(e,v),e.intersect=function(m){const x=or.rect(e,m),y=x.y-(e.y??0);if(h!=0&&(Math.abs(y)<(e.height??0)/2||Math.abs(y)==(e.height??0)/2&&Math.abs(x.x-(e.x??0))>(e.width??0)/2-f)){let w=f*f*(1-y*y/(h*h));w!=0&&(w=Math.sqrt(w)),w=f-w,m.x-(e.x??0)>0&&(w=-w),x.x+=w}return x},i},"tiltedCylinder"),$7=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=60,o=20,l=Math.max(s,a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(o,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),{cssStyles:h}=e,f=fr.svg(i),d=dr(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=[{x:-l/2*.8,y:-u/2},{x:l/2*.8,y:-u/2},{x:l/2,y:-u/2*.6},{x:l/2,y:u/2},{x:-l/2,y:u/2},{x:-l/2,y:-u/2*.6}],v=jr(p),m=f.path(v,d),x=i.insert(()=>m,":first-child");return x.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",h),n&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),pr(e,x),e.intersect=function(y){return or.polygon(e,p,y)},i},"trapezoidalPentagon"),z7=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=a.width+(e.padding??0),l=o+a.height,u=o+a.height,h=[{x:0,y:-l},{x:u,y:-l},{x:u/2,y:0}],{cssStyles:f}=e,d=fr.svg(i),p=dr(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=jr(h),m=d.path(v,p),x=i.insert(()=>m,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return f&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),e.width=o,e.height=l,pr(e,x),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-l/2+(e.padding??0)/2+(a.y-(a.top??0))})`),e.intersect=function(y){return he.info("Triangle intersect",e,h,y),or.polygon(e,h,y)},i},"flippedTriangle"),Dz=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.label="",e.labelStyle=r;const{shapeSvg:i}=await Rr(t,e,Mr(e)),a=Math.max(30,(e==null?void 0:e.width)??0),s=Math.max(30,(e==null?void 0:e.height)??0),{cssStyles:o}=e,l=fr.svg(i),u=dr(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=[{x:0,y:0},{x:a,y:0},{x:0,y:s},{x:a,y:s}],f=jr(h),d=l.path(f,u),p=i.insert(()=>d,":first-child");return p.attr("class","basic label-container"),o&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",o),n&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",n),p.attr("transform",`translate(${-a/2}, ${-s/2})`),pr(e,p),e.intersect=function(v){return he.info("Pill intersect",e,{points:h}),or.polygon(e,h,v)},i},"hourglass"),s3=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a}=await Rr(t,e,Mr(e)),s=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=-s/2,u=-o/2,h=.2*o,f=.2*o,{cssStyles:d}=e,p=fr.svg(i),v=dr(e,{}),m=[{x:l-h/2,y:u},{x:l+s+h/2,y:u},{x:l+s+h/2,y:u+o},{x:l-h/2,y:u+o}],x=[{x:l+s-h/2,y:u+o},{x:l+s+h/2,y:u+o},{x:l+s+h/2,y:u+o-f}];e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const y=jr(m),w=p.path(y,v),k=jr(x),E=p.path(k,{...v,fillStyle:"solid"}),C=i.insert(()=>E,":first-child");return C.insert(()=>w,":first-child"),C.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",n),pr(e,C),e.intersect=function(L){return or.polygon(e,m,L)},i},"taggedRect"),o3=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=5,h=-o/2,f=-l/2,{cssStyles:d}=e,p=fr.svg(i),v=dr(e,{}),m=[{x:h-u,y:f+u},{x:h-u,y:f+l+u},{x:h+o-u,y:f+l+u},{x:h+o-u,y:f+l},{x:h+o,y:f+l},{x:h+o,y:f+l-u},{x:h+o+u,y:f+l-u},{x:h+o+u,y:f-u},{x:h+u,y:f-u},{x:h+u,y:f},{x:h,y:f},{x:h,y:f+u}],x=[{x:h,y:f+u},{x:h+o-u,y:f+u},{x:h+o-u,y:f+l},{x:h+o,y:f+l},{x:h+o,y:f},{x:h,y:f}];e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const y=jr(m),w=p.path(y,v),k=jr(x),E=p.path(k,{...v,fill:"none"}),C=i.insert(()=>E,":first-child");return C.insert(()=>w,":first-child"),C.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",n),s.attr("transform",`translate(${-(a.width/2)-u-(a.x-(a.left??0))}, ${-(a.height/2)+u-(a.y-(a.top??0))})`),pr(e,C),e.intersect=function(L){return or.polygon(e,m,L)},i},"multiRect"),YTe=S((t,e,r,n,i,a,s)=>[`M${t},${e+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),XTe=S((t,e,r,n,i,a,s)=>[`M${t},${e+a}`,`M${t+r},${e+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),jTe=S((t,e,r,n,i,a)=>[`M${t-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD"),H7=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=Math.max(a.width+(e.padding??0),e.width??0),l=o/2,u=l/(2.5+o/50),h=Math.max(a.height+u+(e.padding??0),e.height??0),f=h*.1;let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const v=fr.svg(i),m=XTe(0,0,o,h,l,u,f),x=jTe(0,u,o,h,l,u),y=dr(e,{}),w=v.path(m,y),k=v.path(x,y);i.insert(()=>k,":first-child").attr("class","line"),d=i.insert(()=>w,":first-child"),d.attr("class","basic label-container"),p&&d.attr("style",p)}else{const v=YTe(0,0,o,h,l,u,f);d=i.insert("path",":first-child").attr("d",v).attr("class","basic label-container").attr("style",p).attr("style",n)}return d.attr("label-offset-y",u),d.attr("transform",`translate(${-o/2}, ${-(h/2+u)})`),pr(e,d),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+u-(a.y-(a.top??0))})`),e.intersect=function(v){const m=or.rect(e,v),x=m.x-(e.x??0);if(l!=0&&(Math.abs(x)<(e.width??0)/2||Math.abs(x)==(e.width??0)/2&&Math.abs(m.y-(e.y??0))>(e.height??0)/2-u)){let y=u*u*(1-x*x/(l*l));y>0&&(y=Math.sqrt(y)),y=u-y,v.y-(e.y??0)>0&&(y=-y),m.y+=y}return m},i},"linedCylinder"),Rz=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/8,h=l+u,{cssStyles:f}=e,p=70-o,v=p>0?p/2:0,m=fr.svg(i),x=dr(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const y=[{x:-o/2-v,y:h/2},...Mf(-o/2-v,h/2,o/2+v,h/2,u,.8),{x:o/2+v,y:-h/2},{x:-o/2-v,y:-h/2}],w=jr(y),k=m.path(w,x),E=i.insert(()=>k,":first-child");return E.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",n),E.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))},${-l/2+(e.padding??0)-u-(a.y-(a.top??0))})`),pr(e,E),e.intersect=function(C){return or.polygon(e,y,C)},i},"waveEdgedRectangle"),V7=S((t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.label="",e.labelStyle=r;const i=t.insert("g").attr("class",Mr(e)).attr("id",e.domId??e.id),{cssStyles:a}=e,s=Math.max(35,(e==null?void 0:e.width)??0),o=Math.max(35,(e==null?void 0:e.height)??0),l=7,u=[{x:s,y:0},{x:0,y:o+l/2},{x:s-2*l,y:o+l/2},{x:0,y:2*o},{x:s,y:o-l/2},{x:2*l,y:o-l/2}],h=fr.svg(i),f=dr(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const d=jr(u),p=h.path(d,f),v=i.insert(()=>p,":first-child");return a&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",a),n&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),v.attr("transform",`translate(-${s/2},${-o})`),pr(e,v),e.intersect=function(m){return he.info("lightningBolt intersect",e,m),or.polygon(e,u,m)},i},"lightningBolt"),U7=S((t,e,{config:{themeVariables:r}})=>{const{labelStyles:n,nodeStyles:i}=mr(e);e.label="",e.labelStyle=n;const a=t.insert("g").attr("class",Mr(e)).attr("id",e.domId??e.id),s=7,{cssStyles:o}=e,l=fr.svg(a),{nodeBorder:u}=r,h=dr(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(h.roughness=0);const f=l.circle(0,0,s*2,h),d=a.insert(()=>f,":first-child");return d.selectAll("path").attr("style",`fill: ${u} !important;`),o&&o.length>0&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",o),i&&e.look!=="handDrawn"&&d.selectAll("path").attr("style",i),pr(e,d),e.intersect=function(p){return he.info("filledCircle intersect",e,{radius:s,point:p}),or.circle(e,s,p)},a},"filledCircle"),l3=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/4,h=l+u,f=-o/2,d=-h/2,p=5,{cssStyles:v}=e,m=Mf(f-p,d+h+p,f+o-p,d+h+p,u,.8),x=m==null?void 0:m[m.length-1],y=[{x:f-p,y:d+p},{x:f-p,y:d+h+p},...m,{x:f+o-p,y:x.y-p},{x:f+o,y:x.y-p},{x:f+o,y:x.y-2*p},{x:f+o+p,y:x.y-2*p},{x:f+o+p,y:d-p},{x:f+p,y:d-p},{x:f+p,y:d},{x:f,y:d},{x:f,y:d+p}],w=[{x:f,y:d+p},{x:f+o-p,y:d+p},{x:f+o-p,y:x.y-p},{x:f+o,y:x.y-p},{x:f+o,y:d},{x:f,y:d}],k=fr.svg(i),E=dr(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const C=jr(y),L=k.path(C,E),_=jr(w),I=k.path(_,E),M=i.insert(()=>L,":first-child");return M.insert(()=>I),M.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&M.selectAll("path").attr("style",v),n&&e.look!=="handDrawn"&&M.selectAll("path").attr("style",n),M.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-(a.width/2)-p-(a.x-(a.left??0))}, ${-(a.height/2)+p-u/2-(a.y-(a.top??0))})`),pr(e,M),e.intersect=function(F){return or.polygon(e,y,F)},i},"multiWaveEdgedRectangle"),G7=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=5,h=-o/2,f=-l/2,{cssStyles:d}=e,p=fr.svg(i),v=dr(e,{}),m=[{x:h-u,y:f-u},{x:h-u,y:f+l},{x:h+o,y:f+l},{x:h+o,y:f-u}],x=`M${h-u},${f-u} L${h+o},${f-u} L${h+o},${f+l} L${h-u},${f+l} L${h-u},${f-u}
                M${h-u},${f} L${h+o},${f}
                M${h},${f-u} L${h},${f+l}`;e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const y=p.path(x,v),w=i.insert(()=>y,":first-child");return w.attr("transform",`translate(${u/2}, ${u/2})`),w.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",d),n&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",n),s.attr("transform",`translate(${-(a.width/2)+u/2-(a.x-(a.left??0))}, ${-(a.height/2)+u/2-(a.y-(a.top??0))})`),pr(e,w),e.intersect=function(k){return or.polygon(e,m,k)},i},"windowPane"),Mz=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/4,h=l+u,{cssStyles:f}=e,d=fr.svg(i),p=dr(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const v=[{x:-o/2-o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:h/2},...Mf(-o/2-o/2*.1,h/2,o/2+o/2*.1,h/2,u,.8),{x:o/2+o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:-h/2},{x:-o/2,y:-h/2},{x:-o/2,y:h/2*1.1},{x:-o/2,y:-h/2}],m=d.polygon(v.map(y=>[y.x,y.y]),p),x=i.insert(()=>m,":first-child");return x.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",f),n&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",n),x.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)+o/2*.1/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)-u/2-(a.y-(a.top??0))})`),pr(e,x),e.intersect=function(y){return or.polygon(e,v,y)},i},"linedWaveEdgedRect"),Nz=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/4,h=.2*o,f=.2*l,d=l+u,{cssStyles:p}=e,v=fr.svg(i),m=dr(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=[{x:-o/2-o/2*.1,y:d/2},...Mf(-o/2-o/2*.1,d/2,o/2+o/2*.1,d/2,u,.8),{x:o/2+o/2*.1,y:-d/2},{x:-o/2-o/2*.1,y:-d/2}],y=-o/2+o/2*.1,w=-d/2-f*.4,k=[{x:y+o-h,y:(w+l)*1.4},{x:y+o,y:w+l-f},{x:y+o,y:(w+l)*.9},...Mf(y+o,(w+l)*1.3,y+o-h,(w+l)*1.5,-l*.03,.5)],E=jr(x),C=v.path(E,m),L=jr(k),_=v.path(L,{...m,fillStyle:"solid"}),I=i.insert(()=>_,":first-child");return I.insert(()=>C,":first-child"),I.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",n),I.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))},${-l/2+(e.padding??0)-u/2-(a.y-(a.top??0))})`),pr(e,I),e.intersect=function(M){return or.polygon(e,x,M)},i},"taggedWaveEdgedRectangle");function Sc(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const d=o+f*h,p=t+r*Math.cos(d),v=e+r*Math.sin(d);s.push({x:-p,y:-v})}return s}S(Sc,"generateCirclePoints");var W7=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=e,f=[...Sc(o/2,-l/2,u,30,-90,0),{x:-o/2-u,y:u},...Sc(o/2+u*2,-u,u,20,-180,-270),...Sc(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-l/2},...Sc(o/2,l/2,u,20,0,90)],d=[{x:o/2,y:-l/2-u},{x:-o/2,y:-l/2-u},...Sc(o/2,-l/2,u,20,-90,0),{x:-o/2-u,y:-u},...Sc(o/2+o*.1,-u,u,20,-180,-270),...Sc(o/2+o*.1,u,u,20,-90,-180),{x:-o/2-u,y:l/2},...Sc(o/2,l/2,u,20,0,90),{x:-o/2,y:l/2+u},{x:o/2,y:l/2+u}],p=fr.svg(i),v=dr(e,{fill:"none"});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=jr(f).replace("Z",""),y=p.path(x,v),w=jr(d),k=p.path(w,{...v}),E=i.insert("g",":first-child");return E.insert(()=>k,":first-child").attr("stroke-opacity",0),E.insert(()=>y,":first-child"),E.attr("class","text"),h&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",n),E.attr("transform",`translate(${u}, 0)`),s.attr("transform",`translate(${-o/2+u-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),pr(e,E),e.intersect=function(C){return or.polygon(e,d,C)},i},"curlyBraceLeft");function Ec(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const d=o+f*h,p=t+r*Math.cos(d),v=e+r*Math.sin(d);s.push({x:p,y:v})}return s}S(Ec,"generateCirclePoints");var KTe=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=e,f=[...Ec(o/2,-l/2,u,20,-90,0),{x:o/2+u,y:-u},...Ec(o/2+u*2,-u,u,20,-180,-270),...Ec(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:l/2},...Ec(o/2,l/2,u,20,0,90)],d=[{x:-o/2,y:-l/2-u},{x:o/2,y:-l/2-u},...Ec(o/2,-l/2,u,20,-90,0),{x:o/2+u,y:-u},...Ec(o/2+u*2,-u,u,20,-180,-270),...Ec(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:l/2},...Ec(o/2,l/2,u,20,0,90),{x:o/2,y:l/2+u},{x:-o/2,y:l/2+u}],p=fr.svg(i),v=dr(e,{fill:"none"});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=jr(f).replace("Z",""),y=p.path(x,v),w=jr(d),k=p.path(w,{...v}),E=i.insert("g",":first-child");return E.insert(()=>k,":first-child").attr("stroke-opacity",0),E.insert(()=>y,":first-child"),E.attr("class","text"),h&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",n),E.attr("transform",`translate(${-u}, 0)`),s.attr("transform",`translate(${-o/2+(e.padding??0)/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),pr(e,E),e.intersect=function(C){return or.polygon(e,d,C)},i},"curlyBraceRight");function La(t,e,r,n=100,i=0,a=180){const s=[],o=i*Math.PI/180,h=(a*Math.PI/180-o)/(n-1);for(let f=0;f<n;f++){const d=o+f*h,p=t+r*Math.cos(d),v=e+r*Math.sin(d);s.push({x:-p,y:-v})}return s}S(La,"generateCirclePoints");var QTe=S(async(t,e)=>{const{labelStyles:r,nodeStyles:n}=mr(e);e.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await Rr(t,e,Mr(e)),o=a.width+(e.padding??0),l=a.height+(e.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=e,f=[...La(o/2,-l/2,u,30,-90,0),{x:-o/2-u,y:u},...La(o/2+u*2,-u,u,20,-180,-270),...La(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-l/2},...La(o/2,l/2,u,20,0,90)],d=[...La(-o/2+u+u/2,-l/2,u,20,-90,-180),{x:o/2-u/2,y:u},...La(-o/2-u/2,-u,u,20,0,90),...La(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...La(-o/2+u+u/2,l/2,u,30,-180,-270)],p=[{x:o/2,y:-l/2-u},{x:-o/2,y:-l/2-u},...La(o/2,-l/2,u,20,-90,0),{x:-o/2-u,y:-u},...La(o/2+u*2,-u,u,20,-180,-270),...La(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:l/2},...La(o/2,l/2,u,20,0,90),{x:-o/2,y:l/2+u},{x:o/2-u-u/2,y:l/2+u},...La(-o/2+u+u/2,-l/2,u,20,-90,-180),{x:o/2-u/2,y:u},...La(-o/2-u/2,-u,u,20,0,90),...La(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...La(-o/2+u+u/2,l/2,u,30,-180,-270)],v=fr.svg(i),m=dr(e,{fill:"none"});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=jr(f).replace("Z",""),w=v.path(y,m),E=jr(d).replace("Z",""),C=v.path(E,m),L=jr(p),_=v.path(L,{...m}),I=i.insert("g",":first-child");return I.insert(()=>_,":first-child").attr("stroke-opacity",0),I.insert(()=>w,":first-child"),I.insert(()=>C,":first-child"),I.attr("class","text"),h&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",n),I.attr("transform",`translate(${u-u/4}, 0)`),s.attr("transform",`translate(${-o/2+(e.padding??0)/2-(a.x-(a.left??0))},${-l/2+(e.padding??0)/2-(a.y-(a.top??0))})`),pr(e,I),e.intersect=function(M){return or.polygon(e,p,M)},i},"curlyBraces"),ZTe=S(async(t,e,{config:{themeVariables:r,flowchart:n}})=>{const{labelStyles:i}=mr(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,halfPadding:f,label:d}=await Rr(t,e,"icon-shape default"),p=e.pos==="t",v=o+f*2,m=o+f*2,{nodeBorder:x,mainBkg:y}=r,{stylesMap:w}=tv(e),k=-m/2,E=-v/2,C=e.label?8:0,L=fr.svg(u),_=dr(e,{stroke:w.get("fill")||y});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const I=L.rectangle(k,E,m,v,_),M=Math.max(m,h.width),F=v+h.height+C,N=L.rectangle(-M/2,-F/2,M,F,{..._,fill:"transparent",stroke:"none"}),z=u.insert(()=>I,":first-child"),V=u.insert(()=>N);if(e.icon){const D=u.append("g");D.html(`<g>${await g0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const O=D.node().getBBox(),P=O.width,$=O.height,B=O.x,H=O.y;D.attr("transform",`translate(${-P/2-B},${p?h.height/2+C/2-$/2-H:-h.height/2-C/2-$/2-H})`),D.selectAll("path").attr("fill",w.get("stroke")??x)}return d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-F/2:F/2-h.height})`),z.attr("transform",`translate(0,${p?h.height/2+C/2:-h.height/2-C/2})`),pr(e,V),e.intersect=function(D){if(he.info("iconSquare intersect",e,D),!e.label)return or.rect(e,D);const O=e.x??0,P=e.y??0,$=e.height??0;let B=[];return p?B=[{x:O-h.width/2,y:P-$/2},{x:O+h.width/2,y:P-$/2},{x:O+h.width/2,y:P-$/2+h.height+C},{x:O+m/2,y:P-$/2+h.height+C},{x:O+m/2,y:P+$/2},{x:O-m/2,y:P+$/2},{x:O-m/2,y:P-$/2+h.height+C},{x:O-h.width/2,y:P-$/2+h.height+C}]:B=[{x:O-m/2,y:P-$/2},{x:O+m/2,y:P-$/2},{x:O+m/2,y:P-$/2+v},{x:O+h.width/2,y:P-$/2+v},{x:O+h.width/2/2,y:P+$/2},{x:O-h.width/2,y:P+$/2},{x:O-h.width/2,y:P-$/2+v},{x:O-m/2,y:P-$/2+v}],or.polygon(e,B,D)},u},"iconSquare"),JTe=S(async(t,e,{config:{themeVariables:r,flowchart:n}})=>{const{labelStyles:i}=mr(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,label:f}=await Rr(t,e,"icon-shape default"),d=20,p=e.label?8:0,v=e.pos==="t",{nodeBorder:m,mainBkg:x}=r,{stylesMap:y}=tv(e),w=fr.svg(u),k=dr(e,{stroke:y.get("fill")||x});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const E=u.append("g");e.icon&&E.html(`<g>${await g0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const C=E.node().getBBox(),L=C.width,_=C.height,I=C.x,M=C.y,F=Math.max(L,_)*Math.SQRT2+d*2,N=w.circle(0,0,F,k),z=Math.max(F,h.width),V=F+h.height+p,D=w.rectangle(-z/2,-V/2,z,V,{...k,fill:"transparent",stroke:"none"}),O=u.insert(()=>N,":first-child"),P=u.insert(()=>D);return E.attr("transform",`translate(${-L/2-I},${v?h.height/2+p/2-_/2-M:-h.height/2-p/2-_/2-M})`),E.selectAll("path").attr("fill",y.get("stroke")||m),f.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${v?-V/2:V/2-h.height})`),O.attr("transform",`translate(0,${v?h.height/2+p/2:-h.height/2-p/2})`),pr(e,P),e.intersect=function($){return he.info("iconSquare intersect",e,$),or.rect(e,$)},u},"iconCircle"),e6e=S(async(t,e,{config:{themeVariables:r,flowchart:n}})=>{const{labelStyles:i}=mr(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,label:f}=await Rr(t,e,"icon-shape default"),d=e.pos==="t",p=o,v=o,{nodeBorder:m}=r,{stylesMap:x}=tv(e),y=-v/2,w=-p/2,k=e.label?8:0,E=fr.svg(u),C=dr(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const L=E.rectangle(y,w,v,p,C),_=Math.max(v,h.width),I=p+h.height+k,M=E.rectangle(-_/2,-I/2,_,I,{...C,fill:"transparent",stroke:"none"}),F=u.insert(()=>L,":first-child"),N=u.insert(()=>M);if(e.icon){const z=u.append("g");z.html(`<g>${await g0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const V=z.node().getBBox(),D=V.width,O=V.height,P=V.x,$=V.y;z.attr("transform",`translate(${-D/2-P},${d?h.height/2+k/2-O/2-$:-h.height/2-k/2-O/2-$})`),z.selectAll("path").attr("fill",x.get("stroke")||m)}return f.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${d?-I/2:I/2-h.height})`),F.attr("transform",`translate(0,${d?h.height/2+k/2:-h.height/2-k/2})`),pr(e,N),e.intersect=function(z){if(he.info("iconSquare intersect",e,z),!e.label)return or.rect(e,z);const V=e.x??0,D=e.y??0,O=e.height??0;let P=[];return d?P=[{x:V-h.width/2,y:D-O/2},{x:V+h.width/2,y:D-O/2},{x:V+h.width/2,y:D-O/2+h.height+k},{x:V+v/2,y:D-O/2+h.height+k},{x:V+v/2,y:D+O/2},{x:V-v/2,y:D+O/2},{x:V-v/2,y:D-O/2+h.height+k},{x:V-h.width/2,y:D-O/2+h.height+k}]:P=[{x:V-v/2,y:D-O/2},{x:V+v/2,y:D-O/2},{x:V+v/2,y:D-O/2+p},{x:V+h.width/2,y:D-O/2+p},{x:V+h.width/2/2,y:D+O/2},{x:V-h.width/2,y:D+O/2},{x:V-h.width/2,y:D-O/2+p},{x:V-v/2,y:D-O/2+p}],or.polygon(e,P,z)},u},"icon"),t6e=S(async(t,e,{config:{flowchart:r}})=>{const n=new Image;n.src=(e==null?void 0:e.img)??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),a=Number(n.naturalHeight.toString().replace("px",""));e.imageAspectRatio=i/a;const{labelStyles:s}=mr(e);e.labelStyle=s;const o=r==null?void 0:r.wrappingWidth;e.defaultWidth=r==null?void 0:r.wrappingWidth;const l=Math.max(e.label?o??0:0,(e==null?void 0:e.assetWidth)??i),u=e.constraint==="on"&&e!=null&&e.assetHeight?e.assetHeight*e.imageAspectRatio:l,h=e.constraint==="on"?u/e.imageAspectRatio:(e==null?void 0:e.assetHeight)??a;e.width=Math.max(u,o??0);const{shapeSvg:f,bbox:d,label:p}=await Rr(t,e,"image-shape default"),v=e.pos==="t",m=-u/2,x=-h/2,y=e.label?8:0,w=fr.svg(f),k=dr(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const E=w.rectangle(m,x,u,h,k),C=Math.max(u,d.width),L=h+d.height+y,_=w.rectangle(-C/2,-L/2,C,L,{...k,fill:"none",stroke:"none"}),I=f.insert(()=>E,":first-child"),M=f.insert(()=>_);if(e.img){const F=f.append("image");F.attr("href",e.img),F.attr("width",u),F.attr("height",h),F.attr("preserveAspectRatio","none"),F.attr("transform",`translate(${-u/2},${v?L/2-h:-L/2})`)}return p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${v?-h/2-d.height/2-y/2:h/2-d.height/2+y/2})`),I.attr("transform",`translate(0,${v?d.height/2+y/2:-d.height/2-y/2})`),pr(e,M),e.intersect=function(F){if(he.info("iconSquare intersect",e,F),!e.label)return or.rect(e,F);const N=e.x??0,z=e.y??0,V=e.height??0;let D=[];return v?D=[{x:N-d.width/2,y:z-V/2},{x:N+d.width/2,y:z-V/2},{x:N+d.width/2,y:z-V/2+d.height+y},{x:N+u/2,y:z-V/2+d.height+y},{x:N+u/2,y:z+V/2},{x:N-u/2,y:z+V/2},{x:N-u/2,y:z-V/2+d.height+y},{x:N-d.width/2,y:z-V/2+d.height+y}]:D=[{x:N-u/2,y:z-V/2},{x:N+u/2,y:z-V/2},{x:N+u/2,y:z-V/2+h},{x:N+d.width/2,y:z-V/2+h},{x:N+d.width/2/2,y:z+V/2},{x:N-d.width/2,y:z+V/2},{x:N-d.width/2,y:z-V/2+h},{x:N-u/2,y:z-V/2+h}],or.polygon(e,D,F)},f},"imageSquare"),r6e=S(async(t,e,{config:{themeVariables:r,flowchart:n}})=>{const{labelStyles:i}=mr(e);e.labelStyle=i;const a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),l=n==null?void 0:n.wrappingWidth;e.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,halfPadding:f,label:d}=await Rr(t,e,"icon-shape default"),p=e.pos==="t",v=o+f*2,m=o+f*2,{nodeBorder:x,mainBkg:y}=r,{stylesMap:w}=tv(e),k=-m/2,E=-v/2,C=e.label?8:0,L=fr.svg(u),_=dr(e,{stroke:w.get("fill")||y});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const I=L.path(ev(k,E,m,v,5),_),M=Math.max(m,h.width),F=v+h.height+C,N=L.rectangle(-M/2,-F/2,M,F,{..._,fill:"transparent",stroke:"none"}),z=u.insert(()=>I,":first-child"),V=u.insert(()=>N);if(e.icon){const D=u.append("g");D.html(`<g>${await g0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const O=D.node().getBBox(),P=O.width,$=O.height,B=O.x,H=O.y;D.attr("transform",`translate(${-P/2-B},${p?h.height/2+C/2-$/2-H:-h.height/2-C/2-$/2-H})`),D.selectAll("path").attr("fill",w.get("stroke")??x)}return d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-F/2:F/2-h.height})`),z.attr("transform",`translate(0,${p?h.height/2+C/2:-h.height/2-C/2})`),pr(e,V),e.intersect=function(D){if(he.info("iconSquare intersect",e,D),!e.label)return or.rect(e,D);const O=e.x??0,P=e.y??0,$=e.height??0;let B=[];return p?B=[{x:O-h.width/2,y:P-$/2},{x:O+h.width/2,y:P-$/2},{x:O+h.width/2,y:P-$/2+h.height+C},{x:O+m/2,y:P-$/2+h.height+C},{x:O+m/2,y:P+$/2},{x:O-m/2,y:P+$/2},{x:O-m/2,y:P-$/2+h.height+C},{x:O-h.width/2,y:P-$/2+h.height+C}]:B=[{x:O-m/2,y:P-$/2},{x:O+m/2,y:P-$/2},{x:O+m/2,y:P-$/2+v},{x:O+h.width/2,y:P-$/2+v},{x:O+h.width/2/2,y:P+$/2},{x:O-h.width/2,y:P+$/2},{x:O-h.width/2,y:P-$/2+v},{x:O-m/2,y:P-$/2+v}],or.polygon(e,B,D)},u},"iconRounded"),q7={state:NTe,stateStart:Z4,stateEnd:J4,forkJoin:L7,choice:ITe,note:OTe,rectWithTitle:FTe,roundedRect:_7,squareRect:Am,rectangle:Am,rect:Am,process:Am,proc:Am,rounded:_7,event:_7,stadium:D7,pill:D7,terminal:D7,subroutine:_m,"framed-rectangle":_m,"fr-rect":_m,subprocess:_m,subproc:_m,cylinder:e3,db:e3,cyl:e3,database:e3,question:t3,diam:t3,diamond:t3,decision:t3,hexagon:M7,hex:M7,prepare:M7,lean_right:r3,"lean-r":r3,"lean-right":r3,"in-out":r3,lean_left:n3,"lean-l":n3,"lean-left":n3,"out-in":n3,trapezoid:i3,"trap-b":i3,"trapezoid-bottom":i3,priority:i3,inv_trapezoid:Dm,"inv-trapezoid":Dm,"trapezoid-top":Dm,"trap-t":Dm,manual:Dm,doublecircle:R7,"dbl-circ":R7,"double-circle":R7,circle:Cz,circ:Cz,rect_left_inv_arrow:Az,odd:Az,card:ww,"notched-rectangle":ww,"notch-rect":ww,"lined-rectangle":Lm,"lin-rect":Lm,"lin-proc":Lm,"lined-process":Lm,"shaded-process":Lm,"small-circle":Z4,"sm-circ":Z4,start:Z4,stop:J4,"framed-circle":J4,"fr-circ":J4,join:L7,fork:L7,comment:W7,"brace-l":W7,bolt:V7,"com-link":V7,"lightning-bolt":V7,doc:Rz,document:Rz,delay:_z,"half-rounded-rectangle":_z,"horizontal-cylinder":B7,"h-cyl":B7,das:B7,"lined-cylinder":H7,"lin-cyl":H7,disk:H7,"curved-trapezoid":I7,"curv-trap":I7,display:I7,"divided-rectangle":a3,"div-rect":a3,"div-proc":a3,"divided-process":a3,triangle:N7,tri:N7,extract:N7,"window-pane":G7,"win-pane":G7,"internal-storage":G7,"f-circ":U7,junction:U7,"filled-circle":U7,"lin-doc":Mz,"lined-document":Mz,"notched-pentagon":$7,"notch-pent":$7,"loop-limit":$7,"flipped-triangle":z7,"flip-tri":z7,"manual-file":z7,"sloped-rectangle":O7,"sl-rect":O7,"manual-input":O7,docs:l3,documents:l3,"st-doc":l3,"stacked-document":l3,processes:o3,procs:o3,"stacked-rectangle":o3,"st-rect":o3,flag:Lz,"paper-tape":Lz,"bow-tie-rectangle":F7,"bow-rect":F7,"stored-data":F7,"crossed-circle":P7,"cross-circ":P7,summary:P7,"tag-doc":Nz,"tagged-document":Nz,"tag-rect":s3,"tagged-rectangle":s3,"tag-proc":s3,"tagged-process":s3,hourglass:Dz,collate:Dz,text:Ree,anchor:VTe,brace:W7,labelRect:UTe,"brace-r":KTe,braces:QTe,iconSquare:ZTe,iconCircle:JTe,icon:e6e,iconRounded:r6e,imageSquare:t6e},Ig=new Map,Nee=S(async(t,e,r)=>{let n,i;if(e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect"),!q7[e.shape])throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let a;r.config.securityLevel==="sandbox"?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),n=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a),i=await q7[e.shape](n,e,r)}else i=await q7[e.shape](t,e,r),n=i;return e.tooltip&&i.attr("title",e.tooltip),Ig.set(e.id,n),e.haveCallback&&Ig.get(e.id).attr("class",Ig.get(e.id).attr("class")+" clickable"),n},"insertNode"),n6e=S((t,e)=>{Ig.set(e.id,t)},"setNodeElem"),i6e=S(()=>{Ig.clear()},"clear"),Iz=S(t=>{const e=Ig.get(t.id);he.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=8,n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},"positionNode"),a6e={common:Et,getConfig:wi,insertCluster:xee,insertEdge:See,insertEdgeLabel:bee,insertMarkers:Eee,insertNode:Nee,interpolateToCurve:ib,labelHelper:Rr,log:he,positionEdgeLabel:wee},y2={},Iee=S(t=>{for(const e of t)y2[e.name]=e},"registerLayoutLoaders"),s6e=S(()=>{Iee([{name:"dagre",loader:S(async()=>await on(()=>Promise.resolve().then(()=>qOe),void 0),"loader")}])},"registerDefaultLayoutLoaders");s6e();var Oee=S(async(t,e)=>{if(!(t.layoutAlgorithm in y2))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const r=y2[t.layoutAlgorithm];return(await r.loader()).render(t,e,a6e,{algorithm:r.algorithm})},"render"),o6e=S((t="",{fallback:e="dagre"}={})=>{if(t in y2)return t;if(e in y2)return he.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),c9="11.3.0",ap=S(t=>{var i;const{securityLevel:e}=Ve();let r=yt("body");if(e==="sandbox"){const s=((i=yt(`#i${t}`).node())==null?void 0:i.contentDocument)??document;r=yt(s.body)}return r.select(`#${t}`)},"selectSvgElement"),Fee="comm",Pee="rule",Bee="decl",l6e="@import",u6e="@keyframes",c6e="@layer",$ee=Math.abs,AM=String.fromCharCode;function zee(t){return t.trim()}function kw(t,e,r){return t.replace(e,r)}function h6e(t,e,r){return t.indexOf(e,r)}function x2(t,e){return t.charCodeAt(e)|0}function v1(t,e,r){return t.slice(e,r)}function _u(t){return t.length}function f6e(t){return t.length}function u3(t,e){return e.push(t),t}var IE=1,m1=1,Hee=0,El=0,Oi=0,rv="";function _M(t,e,r,n,i,a,s,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:IE,column:m1,length:s,return:"",siblings:o}}function d6e(){return Oi}function p6e(){return Oi=El>0?x2(rv,--El):0,m1--,Oi===10&&(m1=1,IE--),Oi}function eu(){return Oi=El<Hee?x2(rv,El++):0,m1++,Oi===10&&(m1=1,IE++),Oi}function nf(){return x2(rv,El)}function Sw(){return El}function OE(t,e){return v1(rv,t,e)}function b2(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function g6e(t){return IE=m1=1,Hee=_u(rv=t),El=0,[]}function v6e(t){return rv="",t}function Y7(t){return zee(OE(El-1,h9(t===91?t+2:t===40?t+1:t)))}function m6e(t){for(;(Oi=nf())&&Oi<33;)eu();return b2(t)>2||b2(Oi)>3?"":" "}function y6e(t,e){for(;--e&&eu()&&!(Oi<48||Oi>102||Oi>57&&Oi<65||Oi>70&&Oi<97););return OE(t,Sw()+(e<6&&nf()==32&&eu()==32))}function h9(t){for(;eu();)switch(Oi){case t:return El;case 34:case 39:t!==34&&t!==39&&h9(Oi);break;case 40:t===41&&h9(t);break;case 92:eu();break}return El}function x6e(t,e){for(;eu()&&t+Oi!==47+10;)if(t+Oi===42+42&&nf()===47)break;return"/*"+OE(e,El-1)+"*"+AM(t===47?t:eu())}function b6e(t){for(;!b2(nf());)eu();return OE(t,El)}function w6e(t){return v6e(Ew("",null,null,null,[""],t=g6e(t),0,[0],t))}function Ew(t,e,r,n,i,a,s,o,l){for(var u=0,h=0,f=s,d=0,p=0,v=0,m=1,x=1,y=1,w=0,k="",E=i,C=a,L=n,_=k;x;)switch(v=w,w=eu()){case 40:if(v!=108&&x2(_,f-1)==58){h6e(_+=kw(Y7(w),"&","&\f"),"&\f",$ee(u?o[u-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:_+=Y7(w);break;case 9:case 10:case 13:case 32:_+=m6e(v);break;case 92:_+=y6e(Sw()-1,7);continue;case 47:switch(nf()){case 42:case 47:u3(k6e(x6e(eu(),Sw()),e,r,l),l),(b2(v||1)==5||b2(nf()||1)==5)&&_u(_)&&v1(_,-1,void 0)!==" "&&(_+=" ");break;default:_+="/"}break;case 123*m:o[u++]=_u(_)*y;case 125*m:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+h:y==-1&&(_=kw(_,/\f/g,"")),p>0&&(_u(_)-f||m===0&&v===47)&&u3(p>32?Fz(_+";",n,r,f-1,l):Fz(kw(_," ","")+";",n,r,f-2,l),l);break;case 59:_+=";";default:if(u3(L=Oz(_,e,r,u,h,i,o,k,E=[],C=[],f,a),a),w===123)if(h===0)Ew(_,e,L,L,E,a,f,o,C);else switch(d===99&&x2(_,3)===110?100:d){case 100:case 108:case 109:case 115:Ew(t,L,L,n&&u3(Oz(t,L,L,0,0,i,o,k,i,E=[],f,C),C),i,C,f,o,n?E:C);break;default:Ew(_,L,L,L,[""],C,0,o,C)}}u=h=p=0,m=y=1,k=_="",f=s;break;case 58:f=1+_u(_),p=v;default:if(m<1){if(w==123)--m;else if(w==125&&m++==0&&p6e()==125)continue}switch(_+=AM(w),w*m){case 38:y=h>0?1:(_+="\f",-1);break;case 44:o[u++]=(_u(_)-1)*y,y=1;break;case 64:nf()===45&&(_+=Y7(eu())),d=nf(),h=f=_u(k=_+=b6e(Sw())),w++;break;case 45:v===45&&_u(_)==2&&(m=0)}}return a}function Oz(t,e,r,n,i,a,s,o,l,u,h,f){for(var d=i-1,p=i===0?a:[""],v=f6e(p),m=0,x=0,y=0;m<n;++m)for(var w=0,k=v1(t,d+1,d=$ee(x=s[m])),E=t;w<v;++w)(E=zee(x>0?p[w]+" "+k:kw(k,/&\f/g,p[w])))&&(l[y++]=E);return _M(t,e,r,i===0?Pee:o,l,u,h,f)}function k6e(t,e,r,n){return _M(t,e,r,Fee,AM(d6e()),v1(t,2,-2),0,n)}function Fz(t,e,r,n,i){return _M(t,e,r,Bee,v1(t,0,n),v1(t,n+1,-1),n,i)}function f9(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function S6e(t,e,r,n){switch(t.type){case c6e:if(t.children.length)break;case l6e:case Bee:return t.return=t.return||t.value;case Fee:return"";case u6e:return t.return=t.value+"{"+f9(t.children,n)+"}";case Pee:if(!_u(t.value=t.props.join(",")))return""}return _u(r=f9(t.children,n))?t.return=t.value+"{"+r+"}":""}var E6e=yJ(Object.keys,Object);const T6e=E6e;var C6e=Object.prototype,A6e=C6e.hasOwnProperty;function Vee(t){if(!tb(t))return T6e(t);var e=[];for(var r in Object(t))A6e.call(t,r)&&r!="constructor"&&e.push(r);return e}var _6e=tp(du,"DataView");const d9=_6e;var L6e=tp(du,"Promise");const p9=L6e;var D6e=tp(du,"Set");const Og=D6e;var R6e=tp(du,"WeakMap");const g9=R6e;var Pz="[object Map]",M6e="[object Object]",Bz="[object Promise]",$z="[object Set]",zz="[object WeakMap]",Hz="[object DataView]",N6e=ep(d9),I6e=ep(m2),O6e=ep(p9),F6e=ep(Og),P6e=ep(g9),Md=ph;(d9&&Md(new d9(new ArrayBuffer(1)))!=Hz||m2&&Md(new m2)!=Pz||p9&&Md(p9.resolve())!=Bz||Og&&Md(new Og)!=$z||g9&&Md(new g9)!=zz)&&(Md=function(t){var e=ph(t),r=e==M6e?t.constructor:void 0,n=r?ep(r):"";if(n)switch(n){case N6e:return Hz;case I6e:return Pz;case O6e:return Bz;case F6e:return $z;case P6e:return zz}return e});const y1=Md;var B6e="[object Map]",$6e="[object Set]",z6e=Object.prototype,H6e=z6e.hasOwnProperty;function ln(t){if(t==null)return!0;if(Ju(t)&&(Ur(t)||typeof t=="string"||typeof t.splice=="function"||g1(t)||_E(t)||p1(t)))return!t.length;var e=y1(t);if(e==B6e||e==$6e)return!t.size;if(tb(t))return!Vee(t).length;for(var r in t)if(H6e.call(t,r))return!1;return!0}var Uee="c4",V6e=S(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),U6e=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>GFe),void 0);return{id:Uee,diagram:t}},"loader"),G6e={id:Uee,detector:V6e,loader:U6e},W6e=G6e,Gee="flowchart",q6e=S((t,e)=>{var r,n;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)},"detector"),Y6e=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>FN),void 0);return{id:Gee,diagram:t}},"loader"),X6e={id:Gee,detector:q6e,loader:Y6e},j6e=X6e,Wee="flowchart-v2",K6e=S((t,e)=>{var r,n,i;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(t))},"detector"),Q6e=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>FN),void 0);return{id:Wee,diagram:t}},"loader"),Z6e={id:Wee,detector:K6e,loader:Q6e},J6e=Z6e,qee="er",eCe=S(t=>/^\s*erDiagram/.test(t),"detector"),tCe=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>pBe),void 0);return{id:qee,diagram:t}},"loader"),rCe={id:qee,detector:eCe,loader:tCe},nCe=rCe,Yee="gitGraph",iCe=S(t=>/^\s*gitGraph/.test(t),"detector"),aCe=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>IWe),void 0);return{id:Yee,diagram:t}},"loader"),sCe={id:Yee,detector:iCe,loader:aCe},oCe=sCe,Xee="gantt",lCe=S(t=>/^\s*gantt/.test(t),"detector"),uCe=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>Rqe),void 0);return{id:Xee,diagram:t}},"loader"),cCe={id:Xee,detector:lCe,loader:uCe},hCe=cCe,jee="info",fCe=S(t=>/^\s*info/.test(t),"detector"),dCe=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>$qe),void 0);return{id:jee,diagram:t}},"loader"),pCe={id:jee,detector:fCe,loader:dCe},Kee="pie",gCe=S(t=>/^\s*pie/.test(t),"detector"),vCe=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>tYe),void 0);return{id:Kee,diagram:t}},"loader"),mCe={id:Kee,detector:gCe,loader:vCe},Qee="quadrantChart",yCe=S(t=>/^\s*quadrantChart/.test(t),"detector"),xCe=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>cYe),void 0);return{id:Qee,diagram:t}},"loader"),bCe={id:Qee,detector:yCe,loader:xCe},wCe=bCe,Zee="xychart",kCe=S(t=>/^\s*xychart-beta/.test(t),"detector"),SCe=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>TYe),void 0);return{id:Zee,diagram:t}},"loader"),ECe={id:Zee,detector:kCe,loader:SCe},TCe=ECe,Jee="requirement",CCe=S(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),ACe=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>nXe),void 0);return{id:Jee,diagram:t}},"loader"),_Ce={id:Jee,detector:CCe,loader:ACe},LCe=_Ce,ete="sequence",DCe=S(t=>/^\s*sequenceDiagram/.test(t),"detector"),RCe=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>ije),void 0);return{id:ete,diagram:t}},"loader"),MCe={id:ete,detector:DCe,loader:RCe},NCe=MCe,tte="class",ICe=S((t,e)=>{var r;return((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t)},"detector"),OCe=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>$je),void 0);return{id:tte,diagram:t}},"loader"),FCe={id:tte,detector:ICe,loader:OCe},PCe=FCe,rte="classDiagram",BCe=S((t,e)=>{var r;return/^\s*classDiagram/.test(t)&&((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t)},"detector"),$Ce=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>eQe),void 0);return{id:rte,diagram:t}},"loader"),zCe={id:rte,detector:BCe,loader:$Ce},HCe=zCe,nte="state",VCe=S((t,e)=>{var r;return((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t)},"detector"),UCe=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>hZe),void 0);return{id:nte,diagram:t}},"loader"),GCe={id:nte,detector:VCe,loader:UCe},WCe=GCe,ite="stateDiagram",qCe=S((t,e)=>{var r;return!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),YCe=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>dZe),void 0);return{id:ite,diagram:t}},"loader"),XCe={id:ite,detector:qCe,loader:YCe},jCe=XCe,ate="journey",KCe=S(t=>/^\s*journey/.test(t),"detector"),QCe=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>OZe),void 0);return{id:ate,diagram:t}},"loader"),ZCe={id:ate,detector:KCe,loader:QCe},JCe=ZCe,e7e=S((t,e,r)=>{he.debug(`rendering svg for syntax error
`);const n=ap(e),i=n.append("g");n.attr("viewBox","0 0 2412 512"),Ga(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),ste={draw:e7e},t7e=ste,r7e={db:{},renderer:ste,parser:{parse:S(()=>{},"parse")}},n7e=r7e,ote="flowchart-elk",i7e=S((t,e={})=>{var r;return/^\s*flowchart-elk/.test(t)||/^\s*flowchart|graph/.test(t)&&((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(e.layout="elk",!0):!1},"detector"),a7e=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>FN),void 0);return{id:ote,diagram:t}},"loader"),s7e={id:ote,detector:i7e,loader:a7e},o7e=s7e,lte="timeline",l7e=S(t=>/^\s*timeline/.test(t),"detector"),u7e=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>nJe),void 0);return{id:lte,diagram:t}},"loader"),c7e={id:lte,detector:l7e,loader:u7e},h7e=c7e,ute="mindmap",f7e=S(t=>/^\s*mindmap/.test(t),"detector"),d7e=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>mot),void 0);return{id:ute,diagram:t}},"loader"),p7e={id:ute,detector:f7e,loader:d7e},g7e=p7e,cte="sankey",v7e=S(t=>/^\s*sankey-beta/.test(t),"detector"),m7e=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>Jot),void 0);return{id:cte,diagram:t}},"loader"),y7e={id:cte,detector:v7e,loader:m7e},x7e=y7e,hte="packet",b7e=S(t=>/^\s*packet-beta/.test(t),"detector"),w7e=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>glt),void 0);return{id:hte,diagram:t}},"loader"),k7e={id:hte,detector:b7e,loader:w7e},fte="block",S7e=S(t=>/^\s*block-beta/.test(t),"detector"),E7e=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>Ult),void 0);return{id:fte,diagram:t}},"loader"),T7e={id:fte,detector:S7e,loader:E7e},C7e=T7e,dte="architecture",A7e=S(t=>/^\s*architecture/.test(t),"detector"),_7e=S(async()=>{const{diagram:t}=await on(()=>Promise.resolve().then(()=>Cut),void 0);return{id:dte,diagram:t}},"loader"),L7e={id:dte,detector:A7e,loader:_7e},D7e=L7e,Vz=!1,FE=S(()=>{Vz||(Vz=!0,N5("error",n7e,t=>t.toLowerCase().trim()==="error"),N5("---",{db:{clear:S(()=>{},"clear")},styles:{},renderer:{draw:S(()=>{},"draw")},parser:{parse:S(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:S(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),Jj(W6e,HCe,PCe,nCe,hCe,pCe,mCe,LCe,NCe,o7e,J6e,j6e,g7e,h7e,oCe,jCe,WCe,JCe,wCe,x7e,k7e,TCe,C7e,D7e))},"addDiagrams"),R7e=S(async()=>{he.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(r1).map(async([r,{detector:n,loader:i}])=>{if(i)try{k_(r)}catch{try{const{diagram:a,id:s}=await i();N5(s,a,n)}catch(a){throw he.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete r1[r],a}}}))).filter(r=>r.status==="rejected");if(e.length>0){he.error(`Failed to load ${e.length} external diagrams`);for(const r of e)he.error(r);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),M7e="graphics-document document";function pte(t,e){t.attr("role",M7e),e!==""&&t.attr("aria-roledescription",e)}S(pte,"setA11yDiagramInfo");function gte(t,e,r,n){if(t.insert!==void 0){if(r){const i=`chart-desc-${n}`;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(r)}if(e){const i=`chart-title-${n}`;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}}S(gte,"addSVGa11yTitleDescription");var V1,v9=(V1=class{constructor(e,r,n,i,a){this.type=e,this.text=r,this.db=n,this.parser=i,this.renderer=a}static async fromText(e,r={}){var u,h;const n=wi(),i=RR(e,n);e=iEe(e)+`
`;try{k_(i)}catch{const f=Uve(i);if(!f)throw new Zj(`Diagram ${i} not found.`);const{id:d,diagram:p}=await f();N5(d,p)}const{db:a,parser:s,renderer:o,init:l}=k_(i);return s.parser&&(s.parser.yy=a),(u=a.clear)==null||u.call(a),l==null||l(n),r.title&&((h=a.setDiagramTitle)==null||h.call(a,r.title)),await s.parse(e),new V1(i,e,a,s,o)}async render(e,r){await this.renderer.draw(this.text,e,r,this)}getParser(){return this.parser}getType(){return this.type}},S(V1,"Diagram"),V1),Uz=[],N7e=S(()=>{Uz.forEach(t=>{t()}),Uz=[]},"attachFunctions"),I7e=S(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function vte(t){const e=t.match(Qj);if(!e)return{text:t,metadata:{}};let r=KQ(e[1],{schema:jQ})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:t.slice(e[0].length),metadata:n}}S(vte,"extractFrontMatter");var O7e=S(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),F7e=S(t=>{const{text:e,metadata:r}=vte(t),{displayMode:n,title:i,config:a={}}=r;return n&&(a.gantt||(a.gantt={}),a.gantt.displayMode=n),{title:i,config:a,text:e}},"processFrontmatter"),P7e=S(t=>{const e=Dr.detectInit(t)??{},r=Dr.detectDirective(t,"wrap");return Array.isArray(r)?e.wrap=r.some(({type:n})=>n==="wrap"):(r==null?void 0:r.type)==="wrap"&&(e.wrap=!0),{text:XSe(t),directive:e}},"processDirectives");function LM(t){const e=O7e(t),r=F7e(e),n=P7e(r.text),i=mh(r.config,n.directive);return t=I7e(n.text),{code:t,title:r.title,config:i}}S(LM,"preprocessDiagram");function mte(t){const e=new TextEncoder().encode(t),r=Array.from(e,n=>String.fromCodePoint(n)).join("");return btoa(r)}S(mte,"toBase64");var B7e=5e4,$7e="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",z7e="sandbox",H7e="loose",V7e="http://www.w3.org/2000/svg",U7e="http://www.w3.org/1999/xlink",G7e="http://www.w3.org/1999/xhtml",W7e="100%",q7e="100%",Y7e="border:0;margin:0;",X7e="margin:0",j7e="allow-top-navigation-by-user-activation allow-popups",K7e='The "iframe" tag is not supported by your browser.',Q7e=["foreignobject"],Z7e=["dominant-baseline"];function DM(t){const e=LM(t);return R5(),ime(e.config??{}),e}S(DM,"processAndSetConfigs");async function yte(t,e){FE();try{const{code:r,config:n}=DM(t);return{diagramType:(await bte(r)).type,config:n}}catch(r){if(e!=null&&e.suppressErrors)return!1;throw r}}S(yte,"parse");var Gz=S((t,e,r=[])=>`
.${t} ${e} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),J7e=S((t,e=new Map)=>{var n;let r="";if(t.themeCSS!==void 0&&(r+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const o=t.htmlLabels??((n=t.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(l=>{ln(l.styles)||o.forEach(u=>{r+=Gz(l.id,u,l.styles)}),ln(l.textStyles)||(r+=Gz(l.id,"tspan",((l==null?void 0:l.textStyles)||[]).map(u=>u.replace("color","fill"))))})}return r},"createCssStyles"),e8e=S((t,e,r,n)=>{const i=J7e(t,r),a=kme(e,i,t.themeVariables);return f9(w6e(`${n}{${a}}`),S6e)},"createUserStyles"),t8e=S((t="",e,r)=>{let n=t;return!r&&!e&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=S0(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),r8e=S((t="",e)=>{var i,a;const r=(a=(i=e==null?void 0:e.viewBox)==null?void 0:i.baseVal)!=null&&a.height?e.viewBox.baseVal.height+"px":q7e,n=mte(`<body style="${X7e}">${t}</body>`);return`<iframe style="width:${W7e};height:${r};${Y7e}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${j7e}">
  ${K7e}
</iframe>`},"putIntoIFrame"),Wz=S((t,e,r,n,i)=>{const a=t.append("div");a.attr("id",r),n&&a.attr("style",n);const s=a.append("svg").attr("id",e).attr("width","100%").attr("xmlns",V7e);return i&&s.attr("xmlns:xlink",i),s.append("g"),t},"appendDivSvgG");function m9(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}S(m9,"sandboxedIframe");var n8e=S((t,e,r,n)=>{var i,a,s;(i=t.getElementById(e))==null||i.remove(),(a=t.getElementById(r))==null||a.remove(),(s=t.getElementById(n))==null||s.remove()},"removeExistingElements"),i8e=S(async function(t,e,r){var z,V,D,O,P,$;FE();const n=DM(e);e=n.code;const i=wi();he.debug(i),e.length>((i==null?void 0:i.maxTextSize)??B7e)&&(e=$7e);const a="#"+t,s="i"+t,o="#"+s,l="d"+t,u="#"+l,h=S(()=>{const H=yt(d?o:u).node();H&&"remove"in H&&H.remove()},"removeTempElements");let f=yt("body");const d=i.securityLevel===z7e,p=i.securityLevel===H7e,v=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),d){const B=m9(yt(r),s);f=yt(B.nodes()[0].contentDocument.body),f.node().style.margin=0}else f=yt(r);Wz(f,t,l,`font-family: ${v}`,U7e)}else{if(n8e(document,t,l,s),d){const B=m9(yt("body"),s);f=yt(B.nodes()[0].contentDocument.body),f.node().style.margin=0}else f=yt("body");Wz(f,t,l)}let m,x;try{m=await v9.fromText(e,{title:n.title})}catch(B){if(i.suppressErrorRendering)throw h(),B;m=await v9.fromText("error"),x=B}const y=f.select(u).node(),w=m.type,k=y.firstChild,E=k.firstChild,C=(V=(z=m.renderer).getClasses)==null?void 0:V.call(z,e,m),L=e8e(i,w,C,a),_=document.createElement("style");_.innerHTML=L,k.insertBefore(_,E);try{await m.renderer.draw(e,t,c9,m)}catch(B){throw i.suppressErrorRendering?h():t7e.draw(e,t,c9),B}const I=f.select(`${u} svg`),M=(O=(D=m.db).getAccTitle)==null?void 0:O.call(D),F=($=(P=m.db).getAccDescription)==null?void 0:$.call(P);wte(w,I,M,F),f.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",G7e);let N=f.select(u).node().innerHTML;if(he.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),N=t8e(N,d,Pn(i.arrowMarkerAbsolute)),d){const B=f.select(u+" svg").node();N=r8e(N,B)}else p||(N=t1.sanitize(N,{ADD_TAGS:Q7e,ADD_ATTR:Z7e}));if(N7e(),x)throw x;return h(),{diagramType:w,svg:N,bindFunctions:m.db.bindFunctions}},"render");function xte(t={}){var n;const e=Ji({},t);e!=null&&e.fontFamily&&!((n=e.themeVariables)!=null&&n.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),rme(e),e!=null&&e.theme&&e.theme in Hc?e.themeVariables=Hc[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Hc.default.getThemeVariables(e.themeVariables));const r=typeof e=="object"?tme(e):iK();DR(r.logLevel),FE()}S(xte,"initialize");var bte=S((t,e={})=>{const{code:r}=LM(t);return v9.fromText(r,e)},"getDiagramFromText");function wte(t,e,r,n){pte(e,t),gte(e,r,n,e.attr("id"))}S(wte,"addA11yInfo");var T0=Object.freeze({render:i8e,parse:yte,getDiagramFromText:bte,initialize:xte,getConfig:wi,setConfig:aK,getSiteConfig:iK,updateSiteConfig:nme,reset:S(()=>{R5()},"reset"),globalReset:S(()=>{R5(n1)},"globalReset"),defaultConfig:n1});DR(wi().logLevel);R5(wi());var a8e=S((t,e,r)=>{he.warn(t),dM(t)?(r&&r(t.str,t.hash),e.push({...t,message:t.str,error:t})):(r&&r(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),kte=S(async function(t={querySelector:".mermaid"}){try{await s8e(t)}catch(e){if(dM(e)&&he.error(e.str),Fo.parseError&&Fo.parseError(e),!t.suppressErrors)throw he.error("Use the suppressErrors option to suppress these errors"),e}},"run"),s8e=S(async function({postRenderCallback:t,querySelector:e,nodes:r}={querySelector:".mermaid"}){const n=T0.getConfig();he.debug(`${t?"":"No "}Callback function found`);let i;if(r)i=r;else if(e)i=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");he.debug(`Found ${i.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(he.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),T0.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const a=new Dr.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let s;const o=[];for(const l of Array.from(i)){if(he.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${a.next()}`;s=l.innerHTML,s=ZJ(Dr.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=Dr.detectInit(s);h&&he.debug("Detected early reinit: ",h);try{const{svg:f,bindFunctions:d}=await Cte(u,s,l);l.innerHTML=f,t&&await t(u),d&&d(l)}catch(f){a8e(f,o,Fo.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),Ste=S(function(t){T0.initialize(t)},"initialize"),o8e=S(async function(t,e,r){he.warn("mermaid.init is deprecated. Please use run instead."),t&&Ste(t);const n={postRenderCallback:r,querySelector:".mermaid"};typeof e=="string"?n.querySelector=e:e&&(e instanceof HTMLElement?n.nodes=[e]:n.nodes=e),await kte(n)},"init"),l8e=S(async(t,{lazyLoad:e=!0}={})=>{FE(),Jj(...t),e===!1&&await R7e()},"registerExternalDiagrams"),Ete=S(function(){if(Fo.startOnLoad){const{startOnLoad:t}=T0.getConfig();t&&Fo.run().catch(e=>he.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",Ete,!1);var u8e=S(function(t){Fo.parseError=t},"setParseErrorHandler"),xk=[],X7=!1,Tte=S(async()=>{if(!X7){for(X7=!0;xk.length>0;){const t=xk.shift();if(t)try{await t()}catch(e){he.error("Error executing queue",e)}}X7=!1}},"executeQueue"),c8e=S(async(t,e)=>new Promise((r,n)=>{const i=S(()=>new Promise((a,s)=>{T0.parse(t,e).then(o=>{a(o),r(o)},o=>{var l;he.error("Error parsing",o),(l=Fo.parseError)==null||l.call(Fo,o),s(o),n(o)})}),"performCall");xk.push(i),Tte().catch(n)}),"parse"),Cte=S((t,e,r)=>new Promise((n,i)=>{const a=S(()=>new Promise((s,o)=>{T0.render(t,e,r).then(l=>{s(l),n(l)},l=>{var u;he.error("Error parsing",l),(u=Fo.parseError)==null||u.call(Fo,l),o(l),i(l)})}),"performCall");xk.push(a),Tte().catch(i)}),"render"),Fo={startOnLoad:!0,mermaidAPI:T0,parse:c8e,render:Cte,init:o8e,run:kte,registerExternalDiagrams:l8e,registerLayoutLoaders:Iee,initialize:Ste,parseError:void 0,contentLoaded:Ete,setParseErrorHandler:u8e,detectType:RR,registerIconPacks:eZ},qz=Fo;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const h8e=(t,e)=>t.reduce((r,n)=>{const i=e(n),a=r.get(i);return a?a.push(n):r.set(i,[n]),r},new Map),Uc=t=>t.replace(/(\s|　|,|、|，)/gm,"").replace("。",".").replace("ー","-").normalize("NFKC"),j7=t=>{if(t===void 0)return{ok:!0,num:void 0,formatted:""};const e=Uc(t).replace(",","");if(e==="")return{ok:!0,num:void 0,formatted:""};const r=Number(e);return isNaN(r)?{ok:!1,num:void 0,formatted:t}:r===1/0?{ok:!1,num:void 0,formatted:t}:{ok:!0,num:r,formatted:r.toString()}};function f8e(t){const e=[];for(const r of t){const n=[];for(const i of r)if(i.includes('"')||i.includes(`
`)){const a=i.replace(/"/g,'""');n.push(`"${a}"`)}else n.push(i);e.push(n.join("	"))}return e.join(`\r
`)}function d8e(t){const e=t.replace(/\r\n/g,`
`),r=`
`,n="	",i='"',a=[];let s=[],o="",l="outOfValue",u=0;for(;u<e.length;){const h=e[u];if(l==="quotedValue")if(h===i){u++;const f=e[u];if(f===i){o+=f,u++;continue}s.push(o),o="",l="outOfValue";continue}else{o+=h,u++;continue}else if(l==="valueWithoutQuote")if(h===n){s.push(o),o="",u++;continue}else if(h===r){s.push(o),a.push(s),o="",s=[],u++;continue}else{o+=h,u++;continue}else if(h===n){u++;continue}else if(h===r){s.push(o),a.push(s),o="",s=[],u++;continue}else if(h===i){l="quotedValue",u++;continue}else{l="valueWithoutQuote",o=h,u++;continue}}return o!==""&&s.push(o),s.length>0&&a.push(s),a}const Ate=t=>(e,r)=>{const n=t(e);return r(n)},PE=(t,e,r)=>{const n=Ate(e),i=()=>{},a=Ct.createContext([t(),i]);return[(r==null?void 0:r(a,n))??(({children:l})=>{const u=Ct.useReducer(n,t());return Qe.jsx(a.Provider,{value:u,children:l})}),()=>Ct.useContext(a)]},p8e=(t,e)=>{const r=()=>{},n=Ct.createContext([t(),r]);return{reducer:Ate(e),ContextProvider:n.Provider,useContext:()=>Ct.useContext(n)}},BE=t=>Ct.forwardRef(t),_te=(t,e,r)=>{const n=Xe.useCallback(e,r);Xe.useEffect(()=>{const i=a=>{t.current&&(t.current.contains(a.target)||n())};return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[t,n])},g8e=t=>{const e=Ct.useRef([]);for(let r=0;r<t;r++)e.current[r]=Ct.createRef();return e},v8e=t=>{const e=Zge(t);return{...e,registerEx:r=>({name:r,value:e.watch(r),onChange:n=>{e.setValue(r,n)}})}};/**
 * UUID.js - RFC-compliant UUID Generator for JavaScript
 *
 * @author  LiosK
 * @version v5.0.1
 * @license Apache License 2.0: Copyright (c) 2010-2023 LiosK
 * @packageDocumentation
 */var Lte;class zr{static generate(){var e=zr._getRandomInt,r=zr._hexAligner;return r(e(32),8)+"-"+r(e(16),4)+"-"+r(16384|e(12),4)+"-"+r(32768|e(14),4)+"-"+r(e(48),12)}static _getRandomInt(e){if(e<0||e>53)return NaN;var r=0|Math.random()*1073741824;return e>30?r+(0|Math.random()*(1<<e-30))*1073741824:r>>>30-e}static _hexAligner(e,r){for(var n=e.toString(16),i=r-n.length,a="0";i>0;i>>>=1,a+=a)i&1&&(n=a+n);return n}static useMathRandom(){zr._getRandomInt=zr._mathPRNG}static genV4(){var e=zr._getRandomInt;return new zr(e(32),e(16),16384|e(12),128|e(6),e(8),e(48))}static parse(e){var r,n=/^\s*(urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(\})?\s*$/i;if(r=n.exec(e)){var i=r[1]||"",a=r[8]||"";if(i+a===""||i==="{"&&a==="}"||i.toLowerCase()==="urn:uuid:"&&a==="")return new zr(parseInt(r[2],16),parseInt(r[3],16),parseInt(r[4],16),parseInt(r[5],16),parseInt(r[6],16),parseInt(r[7],16))}return null}constructor(e,r,n,i,a,s){var o=zr.FIELD_NAMES,l=zr.FIELD_SIZES,u=zr._binAligner,h=zr._hexAligner;this.intFields=new Array(6),this.bitFields=new Array(6),this.hexFields=new Array(6);for(var f=0;f<6;f++){var d=parseInt(arguments[f]||0);this.intFields[f]=this.intFields[o[f]]=d,this.bitFields[f]=this.bitFields[o[f]]=u(d,l[f]),this.hexFields[f]=this.hexFields[o[f]]=h(d,l[f]>>>2)}this.version=this.intFields.timeHiAndVersion>>>12&15,this.bitString=this.bitFields.join(""),this.hexNoDelim=this.hexFields.join(""),this.hexString=this.hexFields[0]+"-"+this.hexFields[1]+"-"+this.hexFields[2]+"-"+this.hexFields[3]+this.hexFields[4]+"-"+this.hexFields[5],this.urn="urn:uuid:"+this.hexString}static _binAligner(e,r){for(var n=e.toString(2),i=r-n.length,a="0";i>0;i>>>=1,a+=a)i&1&&(n=a+n);return n}toString(){return this.hexString}equals(e){if(!(e instanceof zr))return!1;for(var r=0;r<6;r++)if(this.intFields[r]!==e.intFields[r])return!1;return!0}static genV1(){zr._state==null&&(zr._state=new K7);var e=new Date().getTime(),r=zr._state;e!=r.timestamp?(e<r.timestamp&&r.sequence++,r.timestamp=e,r.tick=zr._getRandomInt(12)):r.tick<9992?r.tick+=1+zr._getRandomInt(3):r.sequence++;var n=zr._getTimeFieldValues(r.timestamp),i=n.low+r.tick,a=n.hi&4095|4096;r.sequence&=16383;var s=r.sequence>>>8|128,o=r.sequence&255;return new zr(i,n.mid,a,s,o,r.node)}static resetState(){zr._state=new K7}static _getTimeFieldValues(e){var r=e-Date.UTC(1582,9,15),n=r/4294967296*1e4&268435455;return{low:(r&268435455)*1e4%4294967296,mid:n&65535,hi:n>>>16,timestamp:r}}static genV6(){zr._state==null&&(zr._state=new K7);var e=new Date().getTime(),r=zr._state;e!=r.timestamp?(e<r.timestamp&&r.sequence++,r.timestamp=e,r.tick=zr._getRandomInt(12)):r.tick<9992?r.tick+=1+zr._getRandomInt(3):r.sequence++;var n=r.timestamp-Date.UTC(1582,9,15),i=Math.floor(n/268435456*1e4)%4294967296,a=((n&268435455)*1e4&268435455)+r.tick,s=a>>>12,o=a&4095|24576;r.sequence&=16383;var l=r.sequence>>>8|128,u=r.sequence&255;return new zr(i,s,o,l,u,r.node)}}Lte=zr;zr._mathPRNG=zr._getRandomInt;typeof crypto<"u"&&crypto.getRandomValues&&(Lte._getRandomInt=t=>{if(t<0||t>53)return NaN;var e=new Uint32Array(t>32?2:1);return crypto.getRandomValues(e),t>32?e[0]+(e[1]>>>64-t)*4294967296:e[0]>>>32-t});zr.FIELD_NAMES=["timeLow","timeMid","timeHiAndVersion","clockSeqHiAndReserved","clockSeqLow","node"];zr.FIELD_SIZES=[32,16,16,8,8,48];zr.NIL=new zr(0,0,0,0,0,0);zr._state=null;class K7{constructor(){var e=zr._getRandomInt;this.timestamp=0,this.tick=0,this.sequence=e(14),this.node=(e(8)|1)*1099511627776+e(40)}}const Zn=t=>{const e=t.inline?"inline-flex":"flex",r=t.iconRight?"flex-row-reverse":"flex-row";let n=`${e} ${r} justify-center items-center gap-1 select-none outline-none ${t.className}`;(t.fill||t.outline)&&(n+=t.mini?" px-1 py-px":" px-2 py-1"),t.fill?n+=t.loading?" button-style-fill-loading":" button-style-fill":t.outline?n+=t.loading?" button-style-outline-loading":" button-style-outline":t.underline?n+=t.loading?" button-style-link-loading":" button-style-link":n+=t.loading?" button-style-text-loading":" button-style-text";let i="animate-spin h-4 w-4 border-2 rounded-full border-t-transparent";return t.fill?i+=" border-sky-50":t.underline?i+=" border-sky-300":i+=" border-sky-500",Qe.jsxs("button",{type:t.submit?void 0:"button",onClick:t.loading?void 0:t.onClick,className:n,title:t.hideText?t.children:void 0,tabIndex:t.tabIndex,children:[t.icon&&!t.loading&&Ct.createElement(t.icon,{className:"w-4"}),t.icon&&t.loading&&Qe.jsx("div",{className:i}),!t.hideText&&t.children&&Qe.jsxs("span",{className:`text-sm whitespace-nowrap relative ${t.loading&&!t.icon,""}`,children:[t.children,t.loading&&!t.icon&&Qe.jsx("div",{className:`absolute inset-0 m-auto ${i}`})]})]})},Ta=t=>BE(t);function y9(t,e){return y9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y9(t,e)}function $E(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,y9(t,e)}var zE=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(n){var i=this,a=n||function(){};return this.listeners.push(a),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(s){return s!==a}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function yn(){return yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yn.apply(this,arguments)}var Dte=typeof window>"u";function Ls(){}function m8e(t,e){return typeof t=="function"?t(e):t}function y8e(t){return typeof t=="number"&&t>=0&&t!==1/0}function bk(t){return Array.isArray(t)?t:[t]}function x8e(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Q7(t,e,r){return HE(t)?typeof e=="function"?yn({},r,{queryKey:t,queryFn:e}):yn({},e,{queryKey:t}):t}function Wh(t,e,r){return HE(t)?[yn({},e,{queryKey:t}),r]:[t||{},e]}function b8e(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var r=t??!e;return r?"active":"inactive"}function Yz(t,e){var r=t.active,n=t.exact,i=t.fetching,a=t.inactive,s=t.predicate,o=t.queryKey,l=t.stale;if(HE(o)){if(n){if(e.queryHash!==RM(o,e.options))return!1}else if(!wk(e.queryKey,o))return!1}var u=b8e(r,a);if(u==="none")return!1;if(u!=="all"){var h=e.isActive();if(u==="active"&&!h||u==="inactive"&&h)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||s&&!s(e))}function Xz(t,e){var r=t.exact,n=t.fetching,i=t.predicate,a=t.mutationKey;if(HE(a)){if(!e.options.mutationKey)return!1;if(r){if(Zd(e.options.mutationKey)!==Zd(a))return!1}else if(!wk(e.options.mutationKey,a))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||i&&!i(e))}function RM(t,e){var r=(e==null?void 0:e.queryKeyHashFn)||Zd;return r(t)}function Zd(t){var e=bk(t);return w8e(e)}function w8e(t){return JSON.stringify(t,function(e,r){return x9(r)?Object.keys(r).sort().reduce(function(n,i){return n[i]=r[i],n},{}):r})}function wk(t,e){return Rte(bk(t),bk(e))}function Rte(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(r){return!Rte(t[r],e[r])}):!1}function Mte(t,e){if(t===e)return t;var r=Array.isArray(t)&&Array.isArray(e);if(r||x9(t)&&x9(e)){for(var n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),a=i.length,s=r?[]:{},o=0,l=0;l<a;l++){var u=r?l:i[l];s[u]=Mte(t[u],e[u]),s[u]===t[u]&&o++}return n===a&&o===n?t:s}return e}function x9(t){if(!jz(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var r=e.prototype;return!(!jz(r)||!r.hasOwnProperty("isPrototypeOf"))}function jz(t){return Object.prototype.toString.call(t)==="[object Object]"}function HE(t){return typeof t=="string"||Array.isArray(t)}function k8e(t){return new Promise(function(e){setTimeout(e,t)})}function Kz(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function Nte(){if(typeof AbortController=="function")return new AbortController}var S8e=function(t){$E(e,t);function e(){var n;return n=t.call(this)||this,n.setup=function(i){var a;if(!Dte&&((a=window)!=null&&a.addEventListener)){var s=function(){return i()};return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),function(){window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var a,s=this;this.setup=i,(a=this.cleanup)==null||a.call(this),this.cleanup=i(function(o){typeof o=="boolean"?s.setFocused(o):s.onFocus()})},r.setFocused=function(i){this.focused=i,i&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(i){i()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(zE),Tw=new S8e,E8e=function(t){$E(e,t);function e(){var n;return n=t.call(this)||this,n.setup=function(i){var a;if(!Dte&&((a=window)!=null&&a.addEventListener)){var s=function(){return i()};return window.addEventListener("online",s,!1),window.addEventListener("offline",s,!1),function(){window.removeEventListener("online",s),window.removeEventListener("offline",s)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var a,s=this;this.setup=i,(a=this.cleanup)==null||a.call(this),this.cleanup=i(function(o){typeof o=="boolean"?s.setOnline(o):s.onOnline()})},r.setOnline=function(i){this.online=i,i&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(i){i()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(zE),Cw=new E8e;function T8e(t){return Math.min(1e3*Math.pow(2,t),3e4)}function kk(t){return typeof(t==null?void 0:t.cancel)=="function"}var Ite=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function Z7(t){return t instanceof Ite}var Ote=function(e){var r=this,n=!1,i,a,s,o;this.abort=e.abort,this.cancel=function(d){return i==null?void 0:i(d)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return a==null?void 0:a()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(d,p){s=d,o=p});var l=function(p){r.isResolved||(r.isResolved=!0,e.onSuccess==null||e.onSuccess(p),a==null||a(),s(p))},u=function(p){r.isResolved||(r.isResolved=!0,e.onError==null||e.onError(p),a==null||a(),o(p))},h=function(){return new Promise(function(p){a=p,r.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){a=void 0,r.isPaused=!1,e.onContinue==null||e.onContinue()})},f=function d(){if(!r.isResolved){var p;try{p=e.fn()}catch(v){p=Promise.reject(v)}i=function(m){if(!r.isResolved&&(u(new Ite(m)),r.abort==null||r.abort(),kk(p)))try{p.cancel()}catch{}},r.isTransportCancelable=kk(p),Promise.resolve(p).then(l).catch(function(v){var m,x;if(!r.isResolved){var y=(m=e.retry)!=null?m:3,w=(x=e.retryDelay)!=null?x:T8e,k=typeof w=="function"?w(r.failureCount,v):w,E=y===!0||typeof y=="number"&&r.failureCount<y||typeof y=="function"&&y(r.failureCount,v);if(n||!E){u(v);return}r.failureCount++,e.onFail==null||e.onFail(r.failureCount,v),k8e(k).then(function(){if(!Tw.isFocused()||!Cw.isOnline())return h()}).then(function(){n?u(v):d()})}})}};f()},C8e=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var e=t.prototype;return e.batch=function(n){var i;this.transactions++;try{i=n()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(n){var i=this;this.transactions?this.queue.push(n):Kz(function(){i.notifyFn(n)})},e.batchCalls=function(n){var i=this;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];i.schedule(function(){n.apply(void 0,s)})}},e.flush=function(){var n=this,i=this.queue;this.queue=[],i.length&&Kz(function(){n.batchNotifyFn(function(){i.forEach(function(a){n.notifyFn(a)})})})},e.setNotifyFunction=function(n){this.notifyFn=n},e.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},t}(),Fa=new C8e,Fte=console;function Pte(){return Fte}function A8e(t){Fte=t}var _8e=function(){function t(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(n){var i;this.options=yn({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(n){this.defaultOptions=n},e.scheduleGc=function(){var n=this;this.clearGcTimeout(),y8e(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(n,i){var a,s,o=this.state.data,l=m8e(n,o);return(a=(s=this.options).isDataEqual)!=null&&a.call(s,o,l)?l=o:this.options.structuralSharing!==!1&&(l=Mte(o,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(n,i){this.dispatch({type:"setState",state:n,setStateOptions:i})},e.cancel=function(n){var i,a=this.promise;return(i=this.retryer)==null||i.cancel(n),a?a.then(Ls).catch(Ls):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},e.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!x8e(this.state.dataUpdatedAt,n)},e.onFocus=function(){var n,i=this.observers.find(function(a){return a.shouldFetchOnWindowFocus()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},e.onOnline=function(){var n,i=this.observers.find(function(a){return a.shouldFetchOnReconnect()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},e.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},e.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(i){return i!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(n,i){var a=this,s,o,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var h=this.observers.find(function(w){return w.options.queryFn});h&&this.setOptions(h.options)}var f=bk(this.queryKey),d=Nte(),p={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(p,"signal",{enumerable:!0,get:function(){if(d)return a.abortSignalConsumed=!0,d.signal}});var v=function(){return a.options.queryFn?(a.abortSignalConsumed=!1,a.options.queryFn(p)):Promise.reject("Missing queryFn")},m={fetchOptions:i,options:this.options,queryKey:f,state:this.state,fetchFn:v,meta:this.meta};if((s=this.options.behavior)!=null&&s.onFetch){var x;(x=this.options.behavior)==null||x.onFetch(m)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((o=m.fetchOptions)==null?void 0:o.meta)){var y;this.dispatch({type:"fetch",meta:(y=m.fetchOptions)==null?void 0:y.meta})}return this.retryer=new Ote({fn:m.fetchFn,abort:d==null||(l=d.abort)==null?void 0:l.bind(d),onSuccess:function(k){a.setData(k),a.cache.config.onSuccess==null||a.cache.config.onSuccess(k,a),a.cacheTime===0&&a.optionalRemove()},onError:function(k){Z7(k)&&k.silent||a.dispatch({type:"error",error:k}),Z7(k)||(a.cache.config.onError==null||a.cache.config.onError(k,a),Pte().error(k)),a.cacheTime===0&&a.optionalRemove()},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(n){var i=this;this.state=this.reducer(this.state,n),Fa.batch(function(){i.observers.forEach(function(a){a.onQueryUpdate(n)}),i.cache.notify({query:i,type:"queryUpdated",action:n})})},e.getDefaultState=function(n){var i=typeof n.initialData=="function"?n.initialData():n.initialData,a=typeof n.initialData<"u",s=a?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,o=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:o?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:o?"success":"idle"}},e.reducer=function(n,i){var a,s;switch(i.type){case"failed":return yn({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return yn({},n,{isPaused:!0});case"continue":return yn({},n,{isPaused:!1});case"fetch":return yn({},n,{fetchFailureCount:0,fetchMeta:(a=i.meta)!=null?a:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return yn({},n,{data:i.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(s=i.dataUpdatedAt)!=null?s:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var o=i.error;return Z7(o)&&o.revert&&this.revertState?yn({},this.revertState):yn({},n,{error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return yn({},n,{isInvalidated:!0});case"setState":return yn({},n,i.state);default:return n}},t}(),L8e=function(t){$E(e,t);function e(n){var i;return i=t.call(this)||this,i.config=n||{},i.queries=[],i.queriesMap={},i}var r=e.prototype;return r.build=function(i,a,s){var o,l=a.queryKey,u=(o=a.queryHash)!=null?o:RM(l,a),h=this.get(u);return h||(h=new _8e({cache:this,queryKey:l,queryHash:u,options:i.defaultQueryOptions(a),state:s,defaultOptions:i.getQueryDefaults(l),meta:a.meta}),this.add(h)),h},r.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},r.remove=function(i){var a=this.queriesMap[i.queryHash];a&&(i.destroy(),this.queries=this.queries.filter(function(s){return s!==i}),a===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},r.clear=function(){var i=this;Fa.batch(function(){i.queries.forEach(function(a){i.remove(a)})})},r.get=function(i){return this.queriesMap[i]},r.getAll=function(){return this.queries},r.find=function(i,a){var s=Wh(i,a),o=s[0];return typeof o.exact>"u"&&(o.exact=!0),this.queries.find(function(l){return Yz(o,l)})},r.findAll=function(i,a){var s=Wh(i,a),o=s[0];return Object.keys(o).length>0?this.queries.filter(function(l){return Yz(o,l)}):this.queries},r.notify=function(i){var a=this;Fa.batch(function(){a.listeners.forEach(function(s){s(i)})})},r.onFocus=function(){var i=this;Fa.batch(function(){i.queries.forEach(function(a){a.onFocus()})})},r.onOnline=function(){var i=this;Fa.batch(function(){i.queries.forEach(function(a){a.onOnline()})})},e}(zE),D8e=function(){function t(r){this.options=yn({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||R8e(),this.meta=r.meta}var e=t.prototype;return e.setState=function(n){this.dispatch({type:"setState",state:n})},e.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},e.removeObserver=function(n){this.observers=this.observers.filter(function(i){return i!==n})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Ls).catch(Ls)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var n=this,i,a=this.state.status==="loading",s=Promise.resolve();return a||(this.dispatch({type:"loading",variables:this.options.variables}),s=s.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(o){o!==n.state.context&&n.dispatch({type:"loading",context:o,variables:n.state.variables})})),s.then(function(){return n.executeMutation()}).then(function(o){i=o,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(i,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(i,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(i,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:i}),i}).catch(function(o){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(o,n.state.variables,n.state.context,n),Pte().error(o),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(o,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,o,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:o}),o})})},e.executeMutation=function(){var n=this,i;return this.retryer=new Ote({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(n){var i=this;this.state=M8e(this.state,n),Fa.batch(function(){i.observers.forEach(function(a){a.onMutationUpdate(n)}),i.mutationCache.notify(i)})},t}();function R8e(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function M8e(t,e){switch(e.type){case"failed":return yn({},t,{failureCount:t.failureCount+1});case"pause":return yn({},t,{isPaused:!0});case"continue":return yn({},t,{isPaused:!1});case"loading":return yn({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return yn({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return yn({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return yn({},t,e.state);default:return t}}var N8e=function(t){$E(e,t);function e(n){var i;return i=t.call(this)||this,i.config=n||{},i.mutations=[],i.mutationId=0,i}var r=e.prototype;return r.build=function(i,a,s){var o=new D8e({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(a),state:s,defaultOptions:a.mutationKey?i.getMutationDefaults(a.mutationKey):void 0,meta:a.meta});return this.add(o),o},r.add=function(i){this.mutations.push(i),this.notify(i)},r.remove=function(i){this.mutations=this.mutations.filter(function(a){return a!==i}),i.cancel(),this.notify(i)},r.clear=function(){var i=this;Fa.batch(function(){i.mutations.forEach(function(a){i.remove(a)})})},r.getAll=function(){return this.mutations},r.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(a){return Xz(i,a)})},r.findAll=function(i){return this.mutations.filter(function(a){return Xz(i,a)})},r.notify=function(i){var a=this;Fa.batch(function(){a.listeners.forEach(function(s){s(i)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var i=this.mutations.filter(function(a){return a.state.isPaused});return Fa.batch(function(){return i.reduce(function(a,s){return a.then(function(){return s.continue().catch(Ls)})},Promise.resolve())})},e}(zE);function I8e(){return{onFetch:function(e){e.fetchFn=function(){var r,n,i,a,s,o,l=(r=e.fetchOptions)==null||(n=r.meta)==null?void 0:n.refetchPage,u=(i=e.fetchOptions)==null||(a=i.meta)==null?void 0:a.fetchMore,h=u==null?void 0:u.pageParam,f=(u==null?void 0:u.direction)==="forward",d=(u==null?void 0:u.direction)==="backward",p=((s=e.state.data)==null?void 0:s.pages)||[],v=((o=e.state.data)==null?void 0:o.pageParams)||[],m=Nte(),x=m==null?void 0:m.signal,y=v,w=!1,k=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},E=function(D,O,P,$){return y=$?[O].concat(y):[].concat(y,[O]),$?[P].concat(D):[].concat(D,[P])},C=function(D,O,P,$){if(w)return Promise.reject("Cancelled");if(typeof P>"u"&&!O&&D.length)return Promise.resolve(D);var B={queryKey:e.queryKey,signal:x,pageParam:P,meta:e.meta},H=k(B),X=Promise.resolve(H).then(function(Y){return E(D,P,Y,$)});if(kk(H)){var q=X;q.cancel=H.cancel}return X},L;if(!p.length)L=C([]);else if(f){var _=typeof h<"u",I=_?h:Qz(e.options,p);L=C(p,_,I)}else if(d){var M=typeof h<"u",F=M?h:O8e(e.options,p);L=C(p,M,F,!0)}else(function(){y=[];var V=typeof e.options.getNextPageParam>"u",D=l&&p[0]?l(p[0],0,p):!0;L=D?C([],V,v[0]):Promise.resolve(E([],v[0],p[0]));for(var O=function(B){L=L.then(function(H){var X=l&&p[B]?l(p[B],B,p):!0;if(X){var q=V?v[B]:Qz(e.options,H);return C(H,V,q)}return Promise.resolve(E(H,v[B],p[B]))})},P=1;P<p.length;P++)O(P)})();var N=L.then(function(V){return{pages:V,pageParams:y}}),z=N;return z.cancel=function(){w=!0,m==null||m.abort(),kk(L)&&L.cancel()},N}}}}function Qz(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function O8e(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var F8e=function(){function t(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new L8e,this.mutationCache=r.mutationCache||new N8e,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var n=this;this.unsubscribeFocus=Tw.subscribe(function(){Tw.isFocused()&&Cw.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=Cw.subscribe(function(){Tw.isFocused()&&Cw.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},e.unmount=function(){var n,i;(n=this.unsubscribeFocus)==null||n.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(n,i){var a=Wh(n,i),s=a[0];return s.fetching=!0,this.queryCache.findAll(s).length},e.isMutating=function(n){return this.mutationCache.findAll(yn({},n,{fetching:!0})).length},e.getQueryData=function(n,i){var a;return(a=this.queryCache.find(n,i))==null?void 0:a.state.data},e.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(i){var a=i.queryKey,s=i.state,o=s.data;return[a,o]})},e.setQueryData=function(n,i,a){var s=Q7(n),o=this.defaultQueryOptions(s);return this.queryCache.build(this,o).setData(i,a)},e.setQueriesData=function(n,i,a){var s=this;return Fa.batch(function(){return s.getQueryCache().findAll(n).map(function(o){var l=o.queryKey;return[l,s.setQueryData(l,i,a)]})})},e.getQueryState=function(n,i){var a;return(a=this.queryCache.find(n,i))==null?void 0:a.state},e.removeQueries=function(n,i){var a=Wh(n,i),s=a[0],o=this.queryCache;Fa.batch(function(){o.findAll(s).forEach(function(l){o.remove(l)})})},e.resetQueries=function(n,i,a){var s=this,o=Wh(n,i,a),l=o[0],u=o[1],h=this.queryCache,f=yn({},l,{active:!0});return Fa.batch(function(){return h.findAll(l).forEach(function(d){d.reset()}),s.refetchQueries(f,u)})},e.cancelQueries=function(n,i,a){var s=this,o=Wh(n,i,a),l=o[0],u=o[1],h=u===void 0?{}:u;typeof h.revert>"u"&&(h.revert=!0);var f=Fa.batch(function(){return s.queryCache.findAll(l).map(function(d){return d.cancel(h)})});return Promise.all(f).then(Ls).catch(Ls)},e.invalidateQueries=function(n,i,a){var s,o,l,u=this,h=Wh(n,i,a),f=h[0],d=h[1],p=yn({},f,{active:(s=(o=f.refetchActive)!=null?o:f.active)!=null?s:!0,inactive:(l=f.refetchInactive)!=null?l:!1});return Fa.batch(function(){return u.queryCache.findAll(f).forEach(function(v){v.invalidate()}),u.refetchQueries(p,d)})},e.refetchQueries=function(n,i,a){var s=this,o=Wh(n,i,a),l=o[0],u=o[1],h=Fa.batch(function(){return s.queryCache.findAll(l).map(function(d){return d.fetch(void 0,yn({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),f=Promise.all(h).then(Ls);return u!=null&&u.throwOnError||(f=f.catch(Ls)),f},e.fetchQuery=function(n,i,a){var s=Q7(n,i,a),o=this.defaultQueryOptions(s);typeof o.retry>"u"&&(o.retry=!1);var l=this.queryCache.build(this,o);return l.isStaleByTime(o.staleTime)?l.fetch(o):Promise.resolve(l.state.data)},e.prefetchQuery=function(n,i,a){return this.fetchQuery(n,i,a).then(Ls).catch(Ls)},e.fetchInfiniteQuery=function(n,i,a){var s=Q7(n,i,a);return s.behavior=I8e(),this.fetchQuery(s)},e.prefetchInfiniteQuery=function(n,i,a){return this.fetchInfiniteQuery(n,i,a).then(Ls).catch(Ls)},e.cancelMutations=function(){var n=this,i=Fa.batch(function(){return n.mutationCache.getAll().map(function(a){return a.cancel()})});return Promise.all(i).then(Ls).catch(Ls)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(n){this.defaultOptions=n},e.setQueryDefaults=function(n,i){var a=this.queryDefaults.find(function(s){return Zd(n)===Zd(s.queryKey)});a?a.defaultOptions=i:this.queryDefaults.push({queryKey:n,defaultOptions:i})},e.getQueryDefaults=function(n){var i;return n?(i=this.queryDefaults.find(function(a){return wk(n,a.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(n,i){var a=this.mutationDefaults.find(function(s){return Zd(n)===Zd(s.mutationKey)});a?a.defaultOptions=i:this.mutationDefaults.push({mutationKey:n,defaultOptions:i})},e.getMutationDefaults=function(n){var i;return n?(i=this.mutationDefaults.find(function(a){return wk(n,a.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var i=yn({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=RM(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},e.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:yn({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),P8e=Lge.unstable_batchedUpdates;Fa.setBatchNotifyFunction(P8e);var B8e=console;A8e(B8e);function $8e({title:t,titleId:e,...r},n){return Xe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},r),t?Xe.createElement("title",{id:e},t):null,Xe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"}))}const z8e=Xe.forwardRef($8e),H8e=z8e;function V8e({title:t,titleId:e,...r},n){return Xe.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":e},r),t?Xe.createElement("title",{id:e},t):null,Xe.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}const U8e=Xe.forwardRef(V8e),VE=U8e,G8e="6rem",W8e="12rem";Ct.createContext({depth:0,estimatedLabelWidth:G8e,estimatedValueWidth:W8e});Ct.createContext({activeTabKey:void 0,setActiveTabKey:()=>{}});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function af(t,e){return typeof t=="function"?t(e):t}function Vo(t,e){return r=>{e.setState(n=>({...n,[t]:af(r,n[t])}))}}function Sk(t){return t instanceof Function}function q8e(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Y8e(t,e){const r=[],n=i=>{i.forEach(a=>{r.push(a);const s=e(a);s!=null&&s.length&&n(s)})};return n(t),r}function Ir(t,e,r){let n=[],i;return()=>{let a;r.key&&r.debug&&(a=Date.now());const s=t();if(!(s.length!==n.length||s.some((u,h)=>n[h]!==u)))return i;n=s;let l;if(r.key&&r.debug&&(l=Date.now()),i=e(...s),r==null||r.onChange==null||r.onChange(i),r.key&&r.debug&&r!=null&&r.debug()){const u=Math.round((Date.now()-a)*100)/100,h=Math.round((Date.now()-l)*100)/100,f=h/16,d=(p,v)=>{for(p=String(p);p.length<v;)p=" "+p;return p};console.info(`%c⏱ ${d(h,5)} /${d(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,r==null?void 0:r.key)}return i}}function X8e(t,e,r,n){var i,a;const o={...t._getDefaultColumnDef(),...e},l=o.accessorKey;let u=(i=(a=o.id)!=null?a:l?l.replace(".","_"):void 0)!=null?i:typeof o.header=="string"?o.header:void 0,h;if(o.accessorFn?h=o.accessorFn:l&&(l.includes(".")?h=d=>{let p=d;for(const m of l.split(".")){var v;p=(v=p)==null?void 0:v[m]}return p}:h=d=>d[o.accessorKey]),!u)throw new Error;let f={id:`${String(u)}`,accessorFn:h,parent:n,depth:r,columnDef:o,columns:[],getFlatColumns:Ir(()=>[!0],()=>{var d;return[f,...(d=f.columns)==null?void 0:d.flatMap(p=>p.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var d;return(d=t.options.debugAll)!=null?d:t.options.debugColumns}}),getLeafColumns:Ir(()=>[t._getOrderColumnsFn()],d=>{var p;if((p=f.columns)!=null&&p.length){let v=f.columns.flatMap(m=>m.getLeafColumns());return d(v)}return[f]},{key:"column.getLeafColumns",debug:()=>{var d;return(d=t.options.debugAll)!=null?d:t.options.debugColumns}})};for(const d of t._features)d.createColumn==null||d.createColumn(f,t);return f}function Zz(t,e,r){var n;let a={id:(n=r.id)!=null?n:e.id,column:e,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],o=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(o),s.push(l)};return o(a),s},getContext:()=>({table:t,header:a,column:e})};return t._features.forEach(s=>{s.createHeader==null||s.createHeader(a,t)}),a}const j8e={createTable:t=>{t.getHeaderGroups=Ir(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n,i)=>{var a,s;const o=(a=n==null?void 0:n.map(f=>r.find(d=>d.id===f)).filter(Boolean))!=null?a:[],l=(s=i==null?void 0:i.map(f=>r.find(d=>d.id===f)).filter(Boolean))!=null?s:[],u=r.filter(f=>!(n!=null&&n.includes(f.id))&&!(i!=null&&i.includes(f.id)));return c3(e,[...o,...u,...l],t)},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getCenterHeaderGroups=Ir(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n,i)=>(r=r.filter(a=>!(n!=null&&n.includes(a.id))&&!(i!=null&&i.includes(a.id))),c3(e,r,t,"center")),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getLeftHeaderGroups=Ir(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,r,n)=>{var i;const a=(i=n==null?void 0:n.map(s=>r.find(o=>o.id===s)).filter(Boolean))!=null?i:[];return c3(e,a,t,"left")},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getRightHeaderGroups=Ir(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,r,n)=>{var i;const a=(i=n==null?void 0:n.map(s=>r.find(o=>o.id===s)).filter(Boolean))!=null?i:[];return c3(e,a,t,"right")},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getFooterGroups=Ir(()=>[t.getHeaderGroups()],e=>[...e].reverse(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getLeftFooterGroups=Ir(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getCenterFooterGroups=Ir(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getRightFooterGroups=Ir(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getFlatHeaders=Ir(()=>[t.getHeaderGroups()],e=>e.map(r=>r.headers).flat(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getLeftFlatHeaders=Ir(()=>[t.getLeftHeaderGroups()],e=>e.map(r=>r.headers).flat(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getCenterFlatHeaders=Ir(()=>[t.getCenterHeaderGroups()],e=>e.map(r=>r.headers).flat(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getRightFlatHeaders=Ir(()=>[t.getRightHeaderGroups()],e=>e.map(r=>r.headers).flat(),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getCenterLeafHeaders=Ir(()=>[t.getCenterFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getLeftLeafHeaders=Ir(()=>[t.getLeftFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getRightLeafHeaders=Ir(()=>[t.getRightFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}}),t.getLeafHeaders=Ir(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,r,n)=>{var i,a,s,o,l,u;return[...(i=(a=e[0])==null?void 0:a.headers)!=null?i:[],...(s=(o=r[0])==null?void 0:o.headers)!=null?s:[],...(l=(u=n[0])==null?void 0:u.headers)!=null?l:[]].map(h=>h.getLeafHeaders()).flat()},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugHeaders}})}};function c3(t,e,r,n){var i,a;let s=0;const o=function(d,p){p===void 0&&(p=1),s=Math.max(s,p),d.filter(v=>v.getIsVisible()).forEach(v=>{var m;(m=v.columns)!=null&&m.length&&o(v.columns,p+1)},0)};o(t);let l=[];const u=(d,p)=>{const v={depth:p,id:[n,`${p}`].filter(Boolean).join("_"),headers:[]},m=[];d.forEach(x=>{const y=[...m].reverse()[0],w=x.column.depth===v.depth;let k,E=!1;if(w&&x.column.parent?k=x.column.parent:(k=x.column,E=!0),y&&(y==null?void 0:y.column)===k)y.subHeaders.push(x);else{const C=Zz(r,k,{id:[n,p,k.id,x==null?void 0:x.id].filter(Boolean).join("_"),isPlaceholder:E,placeholderId:E?`${m.filter(L=>L.column===k).length}`:void 0,depth:p,index:m.length});C.subHeaders.push(x),m.push(C)}v.headers.push(x),x.headerGroup=v}),l.push(v),p>0&&u(m,p-1)},h=e.map((d,p)=>Zz(r,d,{depth:s,index:p}));u(h,s-1),l.reverse();const f=d=>d.filter(v=>v.column.getIsVisible()).map(v=>{let m=0,x=0,y=[0];v.subHeaders&&v.subHeaders.length?(y=[],f(v.subHeaders).forEach(k=>{let{colSpan:E,rowSpan:C}=k;m+=E,y.push(C)})):m=1;const w=Math.min(...y);return x=x+w,v.colSpan=m,v.rowSpan=x,{colSpan:m,rowSpan:x}});return f((i=(a=l[0])==null?void 0:a.headers)!=null?i:[]),l}const h3={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},J7=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),K8e={getDefaultColumnDef:()=>h3,getInitialState:t=>({columnSizing:{},columnSizingInfo:J7(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Vo("columnSizing",t),onColumnSizingInfoChange:Vo("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var r,n,i;const a=e.getState().columnSizing[t.id];return Math.min(Math.max((r=t.columnDef.minSize)!=null?r:h3.minSize,(n=a??t.columnDef.size)!=null?n:h3.size),(i=t.columnDef.maxSize)!=null?i:h3.maxSize)},t.getStart=r=>{const n=r?r==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns(),i=n.findIndex(a=>a.id===t.id);if(i>0){const a=n[i-1];return a.getStart(r)+a.getSize()}return 0},t.resetSize=()=>{e.setColumnSizing(r=>{let{[t.id]:n,...i}=r;return i})},t.getCanResize=()=>{var r,n;return((r=t.columnDef.enableResizing)!=null?r:!0)&&((n=e.options.enableColumnResizing)!=null?n:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let r=0;const n=i=>{if(i.subHeaders.length)i.subHeaders.forEach(n);else{var a;r+=(a=i.column.getSize())!=null?a:0}};return n(t),r},t.getStart=()=>{if(t.index>0){const r=t.headerGroup.headers[t.index-1];return r.getStart()+r.getSize()}return 0},t.getResizeHandler=r=>{const n=e.getColumn(t.column.id),i=n==null?void 0:n.getCanResize();return a=>{if(!n||!i||(a.persist==null||a.persist(),e8(a)&&a.touches&&a.touches.length>1))return;const s=t.getSize(),o=t?t.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[n.id,n.getSize()]],l=e8(a)?Math.round(a.touches[0].clientX):a.clientX,u={},h=(y,w)=>{typeof w=="number"&&(e.setColumnSizingInfo(k=>{var E,C;const L=e.options.columnResizeDirection==="rtl"?-1:1,_=(w-((E=k==null?void 0:k.startOffset)!=null?E:0))*L,I=Math.max(_/((C=k==null?void 0:k.startSize)!=null?C:0),-.999999);return k.columnSizingStart.forEach(M=>{let[F,N]=M;u[F]=Math.round(Math.max(N+N*I,0)*100)/100}),{...k,deltaOffset:_,deltaPercentage:I}}),(e.options.columnResizeMode==="onChange"||y==="end")&&e.setColumnSizing(k=>({...k,...u})))},f=y=>h("move",y),d=y=>{h("end",y),e.setColumnSizingInfo(w=>({...w,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=r||typeof document<"u"?document:null,v={moveHandler:y=>f(y.clientX),upHandler:y=>{p==null||p.removeEventListener("mousemove",v.moveHandler),p==null||p.removeEventListener("mouseup",v.upHandler),d(y.clientX)}},m={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),f(y.touches[0].clientX),!1),upHandler:y=>{var w;p==null||p.removeEventListener("touchmove",m.moveHandler),p==null||p.removeEventListener("touchend",m.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),d((w=y.touches[0])==null?void 0:w.clientX)}},x=Q8e()?{passive:!1}:!1;e8(a)?(p==null||p.addEventListener("touchmove",m.moveHandler,x),p==null||p.addEventListener("touchend",m.upHandler,x)):(p==null||p.addEventListener("mousemove",v.moveHandler,x),p==null||p.addEventListener("mouseup",v.upHandler,x)),e.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:n.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var r;t.setColumnSizing(e?{}:(r=t.initialState.columnSizing)!=null?r:{})},t.resetHeaderSizeInfo=e=>{var r;t.setColumnSizingInfo(e?J7():(r=t.initialState.columnSizingInfo)!=null?r:J7())},t.getTotalSize=()=>{var e,r;return(e=(r=t.getHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,r;return(e=(r=t.getLeftHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,r;return(e=(r=t.getCenterHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,r;return(e=(r=t.getRightHeaderGroups()[0])==null?void 0:r.headers.reduce((n,i)=>n+i.getSize(),0))!=null?e:0}}};let f3=null;function Q8e(){if(typeof f3=="boolean")return f3;let t=!1;try{const e={get passive(){return t=!0,!1}},r=()=>{};window.addEventListener("test",r,e),window.removeEventListener("test",r)}catch{t=!1}return f3=t,f3}function e8(t){return t.type==="touchstart"}const Z8e={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Vo("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,r=!1;t._autoResetExpanded=()=>{var n,i;if(!e){t._queue(()=>{e=!0});return}if((n=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?n:!t.options.manualExpanding){if(r)return;r=!0,t._queue(()=>{t.resetExpanded(),r=!1})}},t.setExpanded=n=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(n),t.toggleAllRowsExpanded=n=>{n??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=n=>{var i,a;t.setExpanded(n?{}:(i=(a=t.initialState)==null?void 0:a.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const n=t.getState().expanded;return n===!0||Object.values(n).some(Boolean)},t.getIsAllRowsExpanded=()=>{const n=t.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let n=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(a=>{const s=a.split(".");n=Math.max(n,s.length)}),n},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=r=>{e.setExpanded(n=>{var i;const a=n===!0?!0:!!(n!=null&&n[t.id]);let s={};if(n===!0?Object.keys(e.getRowModel().rowsById).forEach(o=>{s[o]=!0}):s=n,r=(i=r)!=null?i:!a,!a&&r)return{...s,[t.id]:!0};if(a&&!r){const{[t.id]:o,...l}=s;return l}return n})},t.getIsExpanded=()=>{var r;const n=e.getState().expanded;return!!((r=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?r:n===!0||n!=null&&n[t.id])},t.getCanExpand=()=>{var r,n,i;return(r=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?r:((n=e.options.enableExpanding)!=null?n:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let r=!0,n=t;for(;r&&n.parentId;)n=e.getRow(n.parentId,!0),r=n.getIsExpanded();return r},t.getToggleExpandedHandler=()=>{const r=t.getCanExpand();return()=>{r&&t.toggleExpanded()}}}},Bte=(t,e,r)=>{var n;const i=r.toLowerCase();return!!(!((n=t.getValue(e))==null||(n=n.toString())==null||(n=n.toLowerCase())==null)&&n.includes(i))};Bte.autoRemove=t=>tu(t);const $te=(t,e,r)=>{var n;return!!(!((n=t.getValue(e))==null||(n=n.toString())==null)&&n.includes(r))};$te.autoRemove=t=>tu(t);const zte=(t,e,r)=>{var n;return((n=t.getValue(e))==null||(n=n.toString())==null?void 0:n.toLowerCase())===(r==null?void 0:r.toLowerCase())};zte.autoRemove=t=>tu(t);const Hte=(t,e,r)=>{var n;return(n=t.getValue(e))==null?void 0:n.includes(r)};Hte.autoRemove=t=>tu(t)||!(t!=null&&t.length);const Vte=(t,e,r)=>!r.some(n=>{var i;return!((i=t.getValue(e))!=null&&i.includes(n))});Vte.autoRemove=t=>tu(t)||!(t!=null&&t.length);const Ute=(t,e,r)=>r.some(n=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(n)});Ute.autoRemove=t=>tu(t)||!(t!=null&&t.length);const Gte=(t,e,r)=>t.getValue(e)===r;Gte.autoRemove=t=>tu(t);const Wte=(t,e,r)=>t.getValue(e)==r;Wte.autoRemove=t=>tu(t);const MM=(t,e,r)=>{let[n,i]=r;const a=t.getValue(e);return a>=n&&a<=i};MM.resolveFilterValue=t=>{let[e,r]=t,n=typeof e!="number"?parseFloat(e):e,i=typeof r!="number"?parseFloat(r):r,a=e===null||Number.isNaN(n)?-1/0:n,s=r===null||Number.isNaN(i)?1/0:i;if(a>s){const o=a;a=s,s=o}return[a,s]};MM.autoRemove=t=>tu(t)||tu(t[0])&&tu(t[1]);const yc={includesString:Bte,includesStringSensitive:$te,equalsString:zte,arrIncludes:Hte,arrIncludesAll:Vte,arrIncludesSome:Ute,equals:Gte,weakEquals:Wte,inNumberRange:MM};function tu(t){return t==null||t===""}const J8e={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],globalFilter:void 0,...t}),getDefaultOptions:t=>({onColumnFiltersChange:Vo("columnFilters",t),onGlobalFilterChange:Vo("globalFilter",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var r;const n=(r=t.getCoreRowModel().flatRows[0])==null||(r=r._getAllCellsByColumnId()[e.id])==null?void 0:r.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const r=e.getCoreRowModel().flatRows[0],n=r==null?void 0:r.getValue(t.id);return typeof n=="string"?yc.includesString:typeof n=="number"?yc.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?yc.equals:Array.isArray(n)?yc.arrIncludes:yc.weakEquals},t.getFilterFn=()=>{var r,n;return Sk(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(r=(n=e.options.filterFns)==null?void 0:n[t.columnDef.filterFn])!=null?r:yc[t.columnDef.filterFn]},t.getCanFilter=()=>{var r,n,i;return((r=t.columnDef.enableColumnFilter)!=null?r:!0)&&((n=e.options.enableColumnFilters)!=null?n:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getCanGlobalFilter=()=>{var r,n,i,a;return((r=t.columnDef.enableGlobalFilter)!=null?r:!0)&&((n=e.options.enableGlobalFilter)!=null?n:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((a=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?a:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var r;return(r=e.getState().columnFilters)==null||(r=r.find(n=>n.id===t.id))==null?void 0:r.value},t.getFilterIndex=()=>{var r,n;return(r=(n=e.getState().columnFilters)==null?void 0:n.findIndex(i=>i.id===t.id))!=null?r:-1},t.setFilterValue=r=>{e.setColumnFilters(n=>{const i=t.getFilterFn(),a=n==null?void 0:n.find(h=>h.id===t.id),s=af(r,a?a.value:void 0);if(Jz(i,s,t)){var o;return(o=n==null?void 0:n.filter(h=>h.id!==t.id))!=null?o:[]}const l={id:t.id,value:s};if(a){var u;return(u=n==null?void 0:n.map(h=>h.id===t.id?l:h))!=null?u:[]}return n!=null&&n.length?[...n,l]:[l]})},t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.getGlobalAutoFilterFn=()=>yc.includesString,t.getGlobalFilterFn=()=>{var e,r;const{globalFilterFn:n}=t.options;return Sk(n)?n:n==="auto"?t.getGlobalAutoFilterFn():(e=(r=t.options.filterFns)==null?void 0:r[n])!=null?e:yc[n]},t.setColumnFilters=e=>{const r=t.getAllLeafColumns(),n=i=>{var a;return(a=af(e,i))==null?void 0:a.filter(s=>{const o=r.find(l=>l.id===s.id);if(o){const l=o.getFilterFn();if(Jz(l,s.value,o))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(n)},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)},t.resetColumnFilters=e=>{var r,n;t.setColumnFilters(e?[]:(r=(n=t.initialState)==null?void 0:n.columnFilters)!=null?r:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel()),t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}};function Jz(t,e,r){return(t&&t.autoRemove?t.autoRemove(e,r):!1)||typeof e>"u"||typeof e=="string"&&!e}const eAe=(t,e,r)=>r.reduce((n,i)=>{const a=i.getValue(t);return n+(typeof a=="number"?a:0)},0),tAe=(t,e,r)=>{let n;return r.forEach(i=>{const a=i.getValue(t);a!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}),n},rAe=(t,e,r)=>{let n;return r.forEach(i=>{const a=i.getValue(t);a!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}),n},nAe=(t,e,r)=>{let n,i;return r.forEach(a=>{const s=a.getValue(t);s!=null&&(n===void 0?s>=s&&(n=i=s):(n>s&&(n=s),i<s&&(i=s)))}),[n,i]},iAe=(t,e)=>{let r=0,n=0;if(e.forEach(i=>{let a=i.getValue(t);a!=null&&(a=+a)>=a&&(++r,n+=a)}),r)return n/r},aAe=(t,e)=>{if(!e.length)return;const r=e.map(a=>a.getValue(t));if(!q8e(r))return;if(r.length===1)return r[0];const n=Math.floor(r.length/2),i=r.sort((a,s)=>a-s);return r.length%2!==0?i[n]:(i[n-1]+i[n])/2},sAe=(t,e)=>Array.from(new Set(e.map(r=>r.getValue(t))).values()),oAe=(t,e)=>new Set(e.map(r=>r.getValue(t))).size,lAe=(t,e)=>e.length,t8={sum:eAe,min:tAe,max:rAe,extent:nAe,mean:iAe,median:aAe,unique:sAe,uniqueCount:oAe,count:lAe},uAe={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,r;return(e=(r=t.getValue())==null||r.toString==null?void 0:r.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Vo("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(r=>r!=null&&r.includes(t.id)?r.filter(n=>n!==t.id):[...r??[],t.id])},t.getCanGroup=()=>{var r,n,i,a;return(r=(n=(i=(a=t.columnDef.enableGrouping)!=null?a:!0)!=null?i:e.options.enableGrouping)!=null?n:!0)!=null?r:!!t.accessorFn},t.getIsGrouped=()=>{var r;return(r=e.getState().grouping)==null?void 0:r.includes(t.id)},t.getGroupedIndex=()=>{var r;return(r=e.getState().grouping)==null?void 0:r.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const r=t.getCanGroup();return()=>{r&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const r=e.getCoreRowModel().flatRows[0],n=r==null?void 0:r.getValue(t.id);if(typeof n=="number")return t8.sum;if(Object.prototype.toString.call(n)==="[object Date]")return t8.extent},t.getAggregationFn=()=>{var r,n;if(!t)throw new Error;return Sk(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(r=(n=e.options.aggregationFns)==null?void 0:n[t.columnDef.aggregationFn])!=null?r:t8[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var r,n;t.setGrouping(e?[]:(r=(n=t.initialState)==null?void 0:n.grouping)!=null?r:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=r=>{if(t._groupingValuesCache.hasOwnProperty(r))return t._groupingValuesCache[r];const n=e.getColumn(r);return n!=null&&n.columnDef.getGroupingValue?(t._groupingValuesCache[r]=n.columnDef.getGroupingValue(t.original),t._groupingValuesCache[r]):t.getValue(r)},t._groupingValuesCache={}},createCell:(t,e,r,n)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===r.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=r.subRows)!=null&&i.length)}}};function cAe(t,e,r){if(!(e!=null&&e.length)||!r)return t;const n=t.filter(a=>!e.includes(a.id));return r==="remove"?n:[...e.map(a=>t.find(s=>s.id===a)).filter(Boolean),...n]}const hAe={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Vo("columnOrder",t)}),createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var r;t.setColumnOrder(e?[]:(r=t.initialState.columnOrder)!=null?r:[])},t._getOrderColumnsFn=Ir(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,r,n)=>i=>{let a=[];if(!(e!=null&&e.length))a=i;else{const s=[...e],o=[...i];for(;o.length&&s.length;){const l=s.shift(),u=o.findIndex(h=>h.id===l);u>-1&&a.push(o.splice(u,1)[0])}a=[...a,...o]}return cAe(a,r,n)},{key:!1})}},b9=0,w9=10,r8=()=>({pageIndex:b9,pageSize:w9}),fAe={getInitialState:t=>({...t,pagination:{...r8(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Vo("pagination",t)}),createTable:t=>{let e=!1,r=!1;t._autoResetPageIndex=()=>{var n,i;if(!e){t._queue(()=>{e=!0});return}if((n=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?n:!t.options.manualPagination){if(r)return;r=!0,t._queue(()=>{t.resetPageIndex(),r=!1})}},t.setPagination=n=>{const i=a=>af(n,a);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=n=>{var i;t.setPagination(n?r8():(i=t.initialState.pagination)!=null?i:r8())},t.setPageIndex=n=>{t.setPagination(i=>{let a=af(n,i.pageIndex);const s=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return a=Math.max(0,Math.min(a,s)),{...i,pageIndex:a}})},t.resetPageIndex=n=>{var i,a;t.setPageIndex(n?b9:(i=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?i:b9)},t.resetPageSize=n=>{var i,a;t.setPageSize(n?w9:(i=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?i:w9)},t.setPageSize=n=>{t.setPagination(i=>{const a=Math.max(1,af(n,i.pageSize)),s=i.pageSize*i.pageIndex,o=Math.floor(s/a);return{...i,pageIndex:o,pageSize:a}})},t.setPageCount=n=>t.setPagination(i=>{var a;let s=af(n,(a=t.options.pageCount)!=null?a:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),t.getPageOptions=Ir(()=>[t.getPageCount()],n=>{let i=[];return n&&n>0&&(i=[...new Array(n)].fill(null).map((a,s)=>s)),i},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable}}),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:n}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:n<i-1},t.previousPage=()=>t.setPageIndex(n=>n-1),t.nextPage=()=>t.setPageIndex(n=>n+1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var n;return(n=t.options.pageCount)!=null?n:Math.ceil(t.getPrePaginationRowModel().rows.length/t.getState().pagination.pageSize)}}},n8=()=>({left:[],right:[]}),i8=()=>({top:[],bottom:[]}),dAe={getInitialState:t=>({columnPinning:n8(),rowPinning:i8(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Vo("columnPinning",t),onRowPinningChange:Vo("rowPinning",t)}),createColumn:(t,e)=>{t.pin=r=>{const n=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var a,s;if(r==="right"){var o,l;return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(f=>!(n!=null&&n.includes(f))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(f=>!(n!=null&&n.includes(f))),...n]}}if(r==="left"){var u,h;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(f=>!(n!=null&&n.includes(f))),...n],right:((h=i==null?void 0:i.right)!=null?h:[]).filter(f=>!(n!=null&&n.includes(f)))}}return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(f=>!(n!=null&&n.includes(f))),right:((s=i==null?void 0:i.right)!=null?s:[]).filter(f=>!(n!=null&&n.includes(f)))}})},t.getCanPin=()=>t.getLeafColumns().some(n=>{var i,a,s;return((i=n.columnDef.enablePinning)!=null?i:!0)&&((a=(s=e.options.enableColumnPinning)!=null?s:e.options.enablePinning)!=null?a:!0)}),t.getIsPinned=()=>{const r=t.getLeafColumns().map(o=>o.id),{left:n,right:i}=e.getState().columnPinning,a=r.some(o=>n==null?void 0:n.includes(o)),s=r.some(o=>i==null?void 0:i.includes(o));return a?"left":s?"right":!1},t.getPinnedIndex=()=>{var r,n;const i=t.getIsPinned();return i?(r=(n=e.getState().columnPinning)==null||(n=n[i])==null?void 0:n.indexOf(t.id))!=null?r:-1:0}},createRow:(t,e)=>{t.pin=(r,n,i)=>{const a=n?t.getLeafRows().map(l=>{let{id:u}=l;return u}):[],s=i?t.getParentRows().map(l=>{let{id:u}=l;return u}):[],o=new Set([...s,t.id,...a]);e.setRowPinning(l=>{var u,h;if(r==="bottom"){var f,d;return{top:((f=l==null?void 0:l.top)!=null?f:[]).filter(m=>!(o!=null&&o.has(m))),bottom:[...((d=l==null?void 0:l.bottom)!=null?d:[]).filter(m=>!(o!=null&&o.has(m))),...Array.from(o)]}}if(r==="top"){var p,v;return{top:[...((p=l==null?void 0:l.top)!=null?p:[]).filter(m=>!(o!=null&&o.has(m))),...Array.from(o)],bottom:((v=l==null?void 0:l.bottom)!=null?v:[]).filter(m=>!(o!=null&&o.has(m)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(m=>!(o!=null&&o.has(m))),bottom:((h=l==null?void 0:l.bottom)!=null?h:[]).filter(m=>!(o!=null&&o.has(m)))}})},t.getCanPin=()=>{var r;const{enableRowPinning:n,enablePinning:i}=e.options;return typeof n=="function"?n(t):(r=n??i)!=null?r:!0},t.getIsPinned=()=>{const r=[t.id],{top:n,bottom:i}=e.getState().rowPinning,a=r.some(o=>n==null?void 0:n.includes(o)),s=r.some(o=>i==null?void 0:i.includes(o));return a?"top":s?"bottom":!1},t.getPinnedIndex=()=>{var r,n;const i=t.getIsPinned();if(!i)return-1;const a=(r=e._getPinnedRows(i))==null?void 0:r.map(s=>{let{id:o}=s;return o});return(n=a==null?void 0:a.indexOf(t.id))!=null?n:-1},t.getCenterVisibleCells=Ir(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(r,n,i)=>{const a=[...n??[],...i??[]];return r.filter(s=>!a.includes(s.column.id))},{key:!1,debug:()=>{var r;return(r=e.options.debugAll)!=null?r:e.options.debugRows}}),t.getLeftVisibleCells=Ir(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,,],(r,n)=>(n??[]).map(a=>r.find(s=>s.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),{key:!1,debug:()=>{var r;return(r=e.options.debugAll)!=null?r:e.options.debugRows}}),t.getRightVisibleCells=Ir(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(r,n)=>(n??[]).map(a=>r.find(s=>s.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),{key:!1,debug:()=>{var r;return(r=e.options.debugAll)!=null?r:e.options.debugRows}})},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var r,n;return t.setColumnPinning(e?n8():(r=(n=t.initialState)==null?void 0:n.columnPinning)!=null?r:n8())},t.getIsSomeColumnsPinned=e=>{var r;const n=t.getState().columnPinning;if(!e){var i,a;return!!((i=n.left)!=null&&i.length||(a=n.right)!=null&&a.length)}return!!((r=n[e])!=null&&r.length)},t.getLeftLeafColumns=Ir(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,r)=>(r??[]).map(n=>e.find(i=>i.id===n)).filter(Boolean),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugColumns}}),t.getRightLeafColumns=Ir(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,r)=>(r??[]).map(n=>e.find(i=>i.id===n)).filter(Boolean),{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugColumns}}),t.getCenterLeafColumns=Ir(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n)=>{const i=[...r??[],...n??[]];return e.filter(a=>!i.includes(a.id))},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugColumns}}),t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var r,n;return t.setRowPinning(e?i8():(r=(n=t.initialState)==null?void 0:n.rowPinning)!=null?r:i8())},t.getIsSomeRowsPinned=e=>{var r;const n=t.getState().rowPinning;if(!e){var i,a;return!!((i=n.top)!=null&&i.length||(a=n.bottom)!=null&&a.length)}return!!((r=n[e])!=null&&r.length)},t._getPinnedRows=e=>Ir(()=>[t.getRowModel().rows,t.getState().rowPinning[e]],(r,n)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(n??[]).map(s=>{const o=t.getRow(s,!0);return o.getIsAllParentsExpanded()?o:null}):(n??[]).map(s=>r.find(o=>o.id===s))).filter(Boolean).map(s=>({...s,position:e}))},{key:!1,debug:()=>{var r;return(r=t.options.debugAll)!=null?r:t.options.debugRows}})(),t.getTopRows=()=>t._getPinnedRows("top"),t.getBottomRows=()=>t._getPinnedRows("bottom"),t.getCenterRows=Ir(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,r,n)=>{const i=new Set([...r??[],...n??[]]);return e.filter(a=>!i.has(a.id))},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugRows}})}},pAe={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Vo("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var r;return t.setRowSelection(e?{}:(r=t.initialState.rowSelection)!=null?r:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(r=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const n={...r},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(a=>{a.getCanSelect()&&(n[a.id]=!0)}):i.forEach(a=>{delete n[a.id]}),n})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(r=>{const n=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...r};return t.getRowModel().rows.forEach(a=>{k9(i,a.id,n,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Ir(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,r)=>Object.keys(e).length?a8(t,r):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable}}),t.getFilteredSelectedRowModel=Ir(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,r)=>Object.keys(e).length?a8(t,r):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable}}),t.getGroupedSelectedRowModel=Ir(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,r)=>Object.keys(e).length?a8(t,r):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable}}),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:r}=t.getState();let n=!!(e.length&&Object.keys(r).length);return n&&e.some(i=>i.getCanSelect()&&!r[i.id])&&(n=!1),n},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:r}=t.getState();let n=!!e.length;return n&&e.some(i=>!r[i.id])&&(n=!1),n},t.getIsSomeRowsSelected=()=>{var e;const r=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return r>0&&r<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(r=>r.getCanSelect()).some(r=>r.getIsSelected()||r.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(r,n)=>{const i=t.getIsSelected();e.setRowSelection(a=>{var s;if(r=typeof r<"u"?r:!i,t.getCanSelect()&&i===r)return a;const o={...a};return k9(o,t.id,r,(s=n==null?void 0:n.selectChildren)!=null?s:!0,e),o})},t.getIsSelected=()=>{const{rowSelection:r}=e.getState();return NM(t,r)},t.getIsSomeSelected=()=>{const{rowSelection:r}=e.getState();return S9(t,r)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:r}=e.getState();return S9(t,r)==="all"},t.getCanSelect=()=>{var r;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(r=e.options.enableRowSelection)!=null?r:!0},t.getCanSelectSubRows=()=>{var r;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(r=e.options.enableSubRowSelection)!=null?r:!0},t.getCanMultiSelect=()=>{var r;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(r=e.options.enableMultiRowSelection)!=null?r:!0},t.getToggleSelectedHandler=()=>{const r=t.getCanSelect();return n=>{var i;r&&t.toggleSelected((i=n.target)==null?void 0:i.checked)}}}},k9=(t,e,r,n,i)=>{var a;const s=i.getRow(e,!0);r?(s.getCanMultiSelect()||Object.keys(t).forEach(o=>delete t[o]),s.getCanSelect()&&(t[e]=!0)):delete t[e],n&&(a=s.subRows)!=null&&a.length&&s.getCanSelectSubRows()&&s.subRows.forEach(o=>k9(t,o.id,r,n,i))};function a8(t,e){const r=t.getState().rowSelection,n=[],i={},a=function(s,o){return s.map(l=>{var u;const h=NM(l,r);if(h&&(n.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:a(l.subRows)}),h)return l}).filter(Boolean)};return{rows:a(e.rows),flatRows:n,rowsById:i}}function NM(t,e){var r;return(r=e[t.id])!=null?r:!1}function S9(t,e,r){var n;if(!((n=t.subRows)!=null&&n.length))return!1;let i=!0,a=!1;return t.subRows.forEach(s=>{if(!(a&&!i)&&(s.getCanSelect()&&(NM(s,e)?a=!0:i=!1),s.subRows&&s.subRows.length)){const o=S9(s,e);o==="all"?a=!0:(o==="some"&&(a=!0),i=!1)}}),i?"all":a?"some":!1}const E9=/([0-9]+)/gm,gAe=(t,e,r)=>qte(Nf(t.getValue(r)).toLowerCase(),Nf(e.getValue(r)).toLowerCase()),vAe=(t,e,r)=>qte(Nf(t.getValue(r)),Nf(e.getValue(r))),mAe=(t,e,r)=>IM(Nf(t.getValue(r)).toLowerCase(),Nf(e.getValue(r)).toLowerCase()),yAe=(t,e,r)=>IM(Nf(t.getValue(r)),Nf(e.getValue(r))),xAe=(t,e,r)=>{const n=t.getValue(r),i=e.getValue(r);return n>i?1:n<i?-1:0},bAe=(t,e,r)=>IM(t.getValue(r),e.getValue(r));function IM(t,e){return t===e?0:t>e?1:-1}function Nf(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function qte(t,e){const r=t.split(E9).filter(Boolean),n=e.split(E9).filter(Boolean);for(;r.length&&n.length;){const i=r.shift(),a=n.shift(),s=parseInt(i,10),o=parseInt(a,10),l=[s,o].sort();if(isNaN(l[0])){if(i>a)return 1;if(a>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>o)return 1;if(o>s)return-1}return r.length-n.length}const Rm={alphanumeric:gAe,alphanumericCaseSensitive:vAe,text:mAe,textCaseSensitive:yAe,datetime:xAe,basic:bAe},wAe={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Vo("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const r=e.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const i of r){const a=i==null?void 0:i.getValue(t.id);if(Object.prototype.toString.call(a)==="[object Date]")return Rm.datetime;if(typeof a=="string"&&(n=!0,a.split(E9).length>1))return Rm.alphanumeric}return n?Rm.text:Rm.basic},t.getAutoSortDir=()=>{const r=e.getFilteredRowModel().flatRows[0];return typeof(r==null?void 0:r.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var r,n;if(!t)throw new Error;return Sk(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(r=(n=e.options.sortingFns)==null?void 0:n[t.columnDef.sortingFn])!=null?r:Rm[t.columnDef.sortingFn]},t.toggleSorting=(r,n)=>{const i=t.getNextSortingOrder(),a=typeof r<"u"&&r!==null;e.setSorting(s=>{const o=s==null?void 0:s.find(p=>p.id===t.id),l=s==null?void 0:s.findIndex(p=>p.id===t.id);let u=[],h,f=a?r:i==="desc";if(s!=null&&s.length&&t.getCanMultiSort()&&n?o?h="toggle":h="add":s!=null&&s.length&&l!==s.length-1?h="replace":o?h="toggle":h="replace",h==="toggle"&&(a||i||(h="remove")),h==="add"){var d;u=[...s,{id:t.id,desc:f}],u.splice(0,u.length-((d=e.options.maxMultiSortColCount)!=null?d:Number.MAX_SAFE_INTEGER))}else h==="toggle"?u=s.map(p=>p.id===t.id?{...p,desc:f}:p):h==="remove"?u=s.filter(p=>p.id!==t.id):u=[{id:t.id,desc:f}];return u})},t.getFirstSortDir=()=>{var r,n;return((r=(n=t.columnDef.sortDescFirst)!=null?n:e.options.sortDescFirst)!=null?r:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=r=>{var n,i;const a=t.getFirstSortDir(),s=t.getIsSorted();return s?s!==a&&((n=e.options.enableSortingRemoval)==null||n)&&(!(r&&(i=e.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":a},t.getCanSort=()=>{var r,n;return((r=t.columnDef.enableSorting)!=null?r:!0)&&((n=e.options.enableSorting)!=null?n:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var r,n;return(r=(n=t.columnDef.enableMultiSort)!=null?n:e.options.enableMultiSort)!=null?r:!!t.accessorFn},t.getIsSorted=()=>{var r;const n=(r=e.getState().sorting)==null?void 0:r.find(i=>i.id===t.id);return n?n.desc?"desc":"asc":!1},t.getSortIndex=()=>{var r,n;return(r=(n=e.getState().sorting)==null?void 0:n.findIndex(i=>i.id===t.id))!=null?r:-1},t.clearSorting=()=>{e.setSorting(r=>r!=null&&r.length?r.filter(n=>n.id!==t.id):[])},t.getToggleSortingHandler=()=>{const r=t.getCanSort();return n=>{r&&(n.persist==null||n.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(n):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var r,n;t.setSorting(e?[]:(r=(n=t.initialState)==null?void 0:n.sorting)!=null?r:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},kAe={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Vo("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=r=>{t.getCanHide()&&e.setColumnVisibility(n=>({...n,[t.id]:r??!t.getIsVisible()}))},t.getIsVisible=()=>{var r,n;return(r=(n=e.getState().columnVisibility)==null?void 0:n[t.id])!=null?r:!0},t.getCanHide=()=>{var r,n;return((r=t.columnDef.enableHiding)!=null?r:!0)&&((n=e.options.enableHiding)!=null?n:!0)},t.getToggleVisibilityHandler=()=>r=>{t.toggleVisibility==null||t.toggleVisibility(r.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Ir(()=>[t.getAllCells(),e.getState().columnVisibility],r=>r.filter(n=>n.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var r;return(r=e.options.debugAll)!=null?r:e.options.debugRows}}),t.getVisibleCells=Ir(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(r,n,i)=>[...r,...n,...i],{key:!1,debug:()=>{var r;return(r=e.options.debugAll)!=null?r:e.options.debugRows}})},createTable:t=>{const e=(r,n)=>Ir(()=>[n(),n().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),{key:r,debug:()=>{var i;return(i=t.options.debugAll)!=null?i:t.options.debugColumns}});t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=r=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(r),t.resetColumnVisibility=r=>{var n;t.setColumnVisibility(r?{}:(n=t.initialState.columnVisibility)!=null?n:{})},t.toggleAllColumnsVisible=r=>{var n;r=(n=r)!=null?n:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,a)=>({...i,[a.id]:r||!(a.getCanHide!=null&&a.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(r=>!(r.getIsVisible!=null&&r.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(r=>r.getIsVisible==null?void 0:r.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>r=>{var n;t.toggleAllColumnsVisible((n=r.target)==null?void 0:n.checked)}}},eH=[j8e,kAe,hAe,dAe,J8e,wAe,uAe,Z8e,fAe,pAe,K8e];function SAe(t){var e;(t.debugAll||t.debugTable)&&console.info("Creating Table Instance...");let r={_features:eH};const n=r._features.reduce((h,f)=>Object.assign(h,f.getDefaultOptions==null?void 0:f.getDefaultOptions(r)),{}),i=h=>r.options.mergeOptions?r.options.mergeOptions(n,h):{...n,...h};let s={...{},...(e=t.initialState)!=null?e:{}};r._features.forEach(h=>{var f;s=(f=h.getInitialState==null?void 0:h.getInitialState(s))!=null?f:s});const o=[];let l=!1;const u={_features:eH,options:{...n,...t},initialState:s,_queue:h=>{o.push(h),l||(l=!0,Promise.resolve().then(()=>{for(;o.length;)o.shift()();l=!1}).catch(f=>setTimeout(()=>{throw f})))},reset:()=>{r.setState(r.initialState)},setOptions:h=>{const f=af(h,r.options);r.options=i(f)},getState:()=>r.options.state,setState:h=>{r.options.onStateChange==null||r.options.onStateChange(h)},_getRowId:(h,f,d)=>{var p;return(p=r.options.getRowId==null?void 0:r.options.getRowId(h,f,d))!=null?p:`${d?[d.id,f].join("."):f}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(h,f)=>{let d=(f?r.getPrePaginationRowModel():r.getRowModel()).rowsById[h];if(!d&&(d=r.getCoreRowModel().rowsById[h],!d))throw new Error;return d},_getDefaultColumnDef:Ir(()=>[r.options.defaultColumn],h=>{var f;return h=(f=h)!=null?f:{},{header:d=>{const p=d.header.column.columnDef;return p.accessorKey?p.accessorKey:p.accessorFn?p.id:null},cell:d=>{var p,v;return(p=(v=d.renderValue())==null||v.toString==null?void 0:v.toString())!=null?p:null},...r._features.reduce((d,p)=>Object.assign(d,p.getDefaultColumnDef==null?void 0:p.getDefaultColumnDef()),{}),...h}},{debug:()=>{var h;return(h=r.options.debugAll)!=null?h:r.options.debugColumns},key:!1}),_getColumnDefs:()=>r.options.columns,getAllColumns:Ir(()=>[r._getColumnDefs()],h=>{const f=function(d,p,v){return v===void 0&&(v=0),d.map(m=>{const x=X8e(r,m,v,p),y=m;return x.columns=y.columns?f(y.columns,x,v+1):[],x})};return f(h)},{key:!1,debug:()=>{var h;return(h=r.options.debugAll)!=null?h:r.options.debugColumns}}),getAllFlatColumns:Ir(()=>[r.getAllColumns()],h=>h.flatMap(f=>f.getFlatColumns()),{key:!1,debug:()=>{var h;return(h=r.options.debugAll)!=null?h:r.options.debugColumns}}),_getAllFlatColumnsById:Ir(()=>[r.getAllFlatColumns()],h=>h.reduce((f,d)=>(f[d.id]=d,f),{}),{key:!1,debug:()=>{var h;return(h=r.options.debugAll)!=null?h:r.options.debugColumns}}),getAllLeafColumns:Ir(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(h,f)=>{let d=h.flatMap(p=>p.getLeafColumns());return f(d)},{key:!1,debug:()=>{var h;return(h=r.options.debugAll)!=null?h:r.options.debugColumns}}),getColumn:h=>r._getAllFlatColumnsById()[h]};Object.assign(r,u);for(let h=0;h<r._features.length;h++){const f=r._features[h];f==null||f.createTable==null||f.createTable(r)}return r}function EAe(t,e,r,n){const i=()=>{var s;return(s=a.getValue())!=null?s:t.options.renderFallbackValue},a={id:`${e.id}_${r.id}`,row:e,column:r,getValue:()=>e.getValue(n),renderValue:i,getContext:Ir(()=>[t,r,e,a],(s,o,l,u)=>({table:s,column:o,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),{key:!1,debug:()=>t.options.debugAll})};return t._features.forEach(s=>{s.createCell==null||s.createCell(a,r,e,t)},{}),a}const TAe=(t,e,r,n,i,a,s)=>{let o={id:e,index:n,original:r,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(o._valuesCache.hasOwnProperty(l))return o._valuesCache[l];const u=t.getColumn(l);if(u!=null&&u.accessorFn)return o._valuesCache[l]=u.accessorFn(o.original,n),o._valuesCache[l]},getUniqueValues:l=>{if(o._uniqueValuesCache.hasOwnProperty(l))return o._uniqueValuesCache[l];const u=t.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(o._uniqueValuesCache[l]=u.columnDef.getUniqueValues(o.original,n),o._uniqueValuesCache[l]):(o._uniqueValuesCache[l]=[o.getValue(l)],o._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=o.getValue(l))!=null?u:t.options.renderFallbackValue},subRows:a??[],getLeafRows:()=>Y8e(o.subRows,l=>l.subRows),getParentRow:()=>o.parentId?t.getRow(o.parentId,!0):void 0,getParentRows:()=>{let l=[],u=o;for(;;){const h=u.getParentRow();if(!h)break;l.push(h),u=h}return l.reverse()},getAllCells:Ir(()=>[t.getAllLeafColumns()],l=>l.map(u=>EAe(t,o,u,u.id)),{key:!1,debug:()=>{var l;return(l=t.options.debugAll)!=null?l:t.options.debugRows}}),_getAllCellsByColumnId:Ir(()=>[o.getAllCells()],l=>l.reduce((u,h)=>(u[h.column.id]=h,u),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var l;return(l=t.options.debugAll)!=null?l:t.options.debugRows}})};for(let l=0;l<t._features.length;l++){const u=t._features[l];u==null||u.createRow==null||u.createRow(o,t)}return o};function CAe(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function AAe(){return t=>Ir(()=>[t.options.data],e=>{const r={rows:[],flatRows:[],rowsById:{}},n=function(i,a,s){a===void 0&&(a=0);const o=[];for(let u=0;u<i.length;u++){const h=TAe(t,t._getRowId(i[u],u,s),i[u],u,a,void 0,s==null?void 0:s.id);if(r.flatRows.push(h),r.rowsById[h.id]=h,o.push(h),t.options.getSubRows){var l;h.originalSubRows=t.options.getSubRows(i[u],u),(l=h.originalSubRows)!=null&&l.length&&(h.subRows=n(h.originalSubRows,a+1,h))}}return o};return r.rows=n(e),r},{key:!1,debug:()=>{var e;return(e=t.options.debugAll)!=null?e:t.options.debugTable},onChange:()=>{t._autoResetPageIndex()}})}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Yte(t,e){return t?_Ae(t)?Xe.createElement(t,e):t:null}function _Ae(t){return LAe(t)||typeof t=="function"||DAe(t)}function LAe(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function DAe(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function RAe(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[r]=Xe.useState(()=>({current:SAe(e)})),[n,i]=Xe.useState(()=>r.current.initialState);return r.current.setOptions(a=>({...a,...t,state:{...n,...t.state},onStateChange:s=>{i(s),t.onStateChange==null||t.onStateChange(s)}})),r.current}const x1={CELLEDITOR:30,ROWHEADER_THEAD:21,THEAD:20,ROWHEADER_SELECTION:11,ROWHEADER:10,SELECTION:1},MAe=BE(({api:t,caretCell:e,caretTdRef:r,onChangeEditing:n,onChangeRow:i,onKeyDown:a},s)=>{const[o,l]=Xe.useState(void 0),[u,h]=Xe.useState(),[f,d]=Xe.useState(),[p,v]=Xe.useState(),m=Xe.useRef(null),x=Xe.useRef(null);Xe.useEffect(()=>{var I;if(e){const M=(I=t.getAllLeafColumns()[e.colIndex])==null?void 0:I.columnDef;v(M==null?void 0:M.ex.editSetting),r.current&&m.current&&(m.current.style.left=`${r.current.offsetLeft}px`,m.current.style.top=`${r.current.offsetTop}px`,m.current.style.minWidth=`${r.current.clientWidth}px`,m.current.style.minHeight=`${r.current.clientHeight}px`),h("")}else v(void 0)},[e,t,r,m]),Xe.useEffect(()=>{var I;p&&((I=x.current)==null||I.focus())},[p]);const y=Jt(I=>{var F,N,z;const M=I.column.columnDef;if(i&&M.ex.editSetting&&!((N=(F=M.ex.editSetting).readOnly)!=null&&N.call(F,I.row.original,I.row.index))){if(l({cellId:I.id,rowIndex:I.row.index,row:I.row.original}),n(!0),M.ex.editSetting.type==="text"||M.ex.editSetting.type==="multiline-text"){const V=M.ex.editSetting.onStartEditing(I.row.original);h(V)}else if(M.ex.editSetting.type==="combo"||M.ex.editSetting.type==="async-combo"){const V=M.ex.editSetting.onStartEditing(I.row.original);d(V)}(z=m.current)==null||z.scrollIntoView({behavior:"instant",block:"nearest",inline:"nearest"})}}),w=Jt(I=>{var M,F,N;o!==void 0&&p!==void 0&&(p.onEndEditing(o.row,I??((M=x.current)==null?void 0:M.getValue()),o.rowIndex),i==null||i(o.rowIndex,o.row),l(void 0),d(void 0),n(!1),(N=(F=x.current)==null?void 0:F.closeDropdown)==null||N.call(F))}),k=Jt(()=>{var I,M;l(void 0),d(void 0),n(!1),(M=(I=x.current)==null?void 0:I.closeDropdown)==null||M.call(I)}),E=Jt(()=>{if(o===void 0)return!1}),C=Jt(I=>{d(I),w(I)}),[{isImeOpen:L}]=fre(),_=Jt(I=>{if(o)if(((p==null?void 0:p.type)==="text"||(p==null?void 0:p.type)==="multiline-text")&&(I.key==="Enter"||I.key==="Tab")){if(L||(p==null?void 0:p.type)==="multiline-text"&&!I.ctrlKey&&!I.metaKey)return;w(),I.stopPropagation(),I.preventDefault()}else I.key==="Escape"&&(k(),I.preventDefault());else{if(e&&(I.key==="F2"||L||I.key==="Process"||!I.ctrlKey&&!I.metaKey&&I.key.length===1||((p==null?void 0:p.type)==="combo"||(p==null?void 0:p.type)==="async-combo")&&I.altKey&&I.key==="ArrowDown")){const F=t.getCoreRowModel().flatRows[e.rowIndex].getAllCells()[e.colIndex];F&&y(F);return}if(I.type==="keydown"&&(a(I),I.defaultPrevented))return}});return _te(m,()=>{((p==null?void 0:p.type)==="text"||(p==null?void 0:p.type)==="multiline-text")&&w()},[w,p]),Xe.useImperativeHandle(s,()=>({focus:()=>{var I;return(I=x.current)==null?void 0:I.focus({preventScroll:!0})},startEditing:y}),[y]),Qe.jsxs("label",{ref:m,className:"absolute min-w-4 min-h-4 flex items-stretch outline-none",style:{zIndex:x1.CELLEDITOR,opacity:o===void 0?0:void 0,pointerEvents:o===void 0?"none":void 0,left:0,top:0},onKeyDown:_,tabIndex:0,children:[(p===void 0||(p==null?void 0:p.type)==="text")&&Qe.jsx(cre,{ref:x,value:u,onChange:h,className:"flex-1"}),(p==null?void 0:p.type)==="multiline-text"&&Qe.jsx(F_e,{ref:x,value:u,onChange:h,className:"flex-1"}),(p==null?void 0:p.type)==="combo"&&Qe.jsx(q_e,{ref:x,value:f,onChange:C,onDropdownOpening:E,...p.comboProps,className:"flex-1"}),(p==null?void 0:p.type)==="async-combo"&&Qe.jsx(Y_e,{ref:x,value:f,onChange:C,onDropdownOpening:E,...p.comboProps,className:"flex-1"})]})}),NAe=(t,e,r,n,i,a,s)=>{const o=r.length,l=Xe.useRef(null),u=Xe.useRef(),h=Xe.useRef(),[f,d]=Xe.useState(!1),p=Xe.useRef(),v=Xe.useRef(),m=Xe.useCallback((E,C)=>{var L,_,I,M,F;E?p.current=((_=(L=n.current[E.rowIndex])==null?void 0:L[E.colIndex])==null?void 0:_.current)??void 0:p.current=void 0,C?v.current=((M=(I=n.current[C.rowIndex])==null?void 0:I[C.colIndex])==null?void 0:M.current)??void 0:v.current=void 0,(F=l.current)==null||F.update(p.current,v.current,f)},[f,n,p,v,l]),x=Jt(E=>{var C;if(E.target==="cell")h.current={...E.cell},E.shiftKey||(u.current={...E.cell},a(u.current)),d(!1),i==null||i({rowIndex:E.cell.rowIndex,getRow:()=>t.getCoreRowModel().flatRows[E.cell.rowIndex].original});else if(E.target==="row")h.current={colIndex:t.getAllLeafColumns().length-1,rowIndex:E.endRowIndex},u.current={colIndex:0,rowIndex:E.startRowIndex},a(u.current),d(!0),i==null||i({rowIndex:E.startRowIndex,getRow:()=>t.getCoreRowModel().flatRows[E.startRowIndex].original});else if(E.target==="any")if(e>0&&o>=0){const L={rowIndex:0,colIndex:0};u.current=L,h.current=L,d(!1),i==null||i({rowIndex:0,getRow:()=>t.getCoreRowModel().flatRows[0].original}),a(L)}else u.current=void 0,h.current=void 0,d(!1),i==null||i(void 0),a(void 0);else if(e>0&&o>=0){const L=t.getAllLeafColumns();u.current={rowIndex:0,colIndex:0},h.current={rowIndex:e-1,colIndex:L.length-1},d(!0),i==null||i({rowIndex:0,getRow:()=>t.getCoreRowModel().flatRows[e-1].original}),a(u.current)}else u.current=void 0,h.current=void 0,d(!1),i==null||i(void 0),a(void 0);m(u.current,h.current),(C=s.current)==null||C.focus()}),y=Xe.useCallback(E=>{var C,L;if(E.ctrlKey&&E.key==="a")x({target:"all"}),E.preventDefault();else if(!E.ctrlKey&&(E.key==="ArrowUp"||E.key==="ArrowDown")){const _=E.shiftKey?h.current:u.current;if(!_){x({target:"any"}),E.preventDefault();return}const I=E.key==="ArrowUp"?Math.max(0,_.rowIndex-1):Math.min(e-1,_.rowIndex+1);x({target:"cell",cell:{rowIndex:I,colIndex:_.colIndex},shiftKey:E.shiftKey}),E.preventDefault(),(C=l.current)==null||C.scrollToActiveCell();return}else if(!E.ctrlKey&&(E.key==="ArrowLeft"||E.key==="ArrowRight")){const _=E.shiftKey?h.current:u.current;if(!_){x({target:"any"}),E.preventDefault();return}const I=t.getAllLeafColumns(),M=E.key==="ArrowLeft"?Math.max(0,_.colIndex-1):Math.min(I.length-1,_.colIndex+1);x({target:"cell",cell:{rowIndex:_.rowIndex,colIndex:M},shiftKey:E.shiftKey}),E.preventDefault(),(L=l.current)==null||L.scrollToActiveCell()}},[t,x,u,h,e,o,l]),w=Xe.useCallback(()=>{if(!u.current||!h.current)return[];const E=t.getRowModel().flatRows,C=Math.min(u.current.rowIndex,h.current.rowIndex),L=Math.max(u.current.rowIndex,h.current.rowIndex);return E.slice(C,L+1)},[t,u,h]),k=Xe.useCallback(()=>{if(!u.current||!h.current)return[];const E=t.getAllLeafColumns(),C=u.current.colIndex,L=h.current.colIndex;if(C===-1||L===-1)return[];const _=Math.min(C,L),I=Math.max(C,L);return E.slice(_,I+1).map(M=>M.columnDef)},[t,u,h]);return{caretTdRef:p,selectObject:x,handleSelectionKeyDown:y,activeCellBorderProps:{ref:l},getSelectedRows:w,getSelectedColumns:k}},IAe=BE(({hidden:t},e)=>{const r=Xe.useRef(null),n=Xe.useRef(null),[i,a]=Xe.useState({}),[s,o]=Xe.useState({}),[l,u]=Xe.useState({}),[h,f]=Xe.useState(!0),d=Xe.useMemo(()=>({display:t||h?"none":void 0,...l}),[t,h,l]),p=Xe.useCallback((m,x,y)=>{const w=m,k=x;if(!w||!k){f(!0);return}const E=Math.min(w.offsetLeft,k.offsetLeft),C=Math.max(w.offsetLeft+w.offsetWidth,k.offsetLeft+k.offsetWidth),L=Math.min(w.offsetTop,k.offsetTop),_=Math.max(w.offsetTop+w.offsetHeight,k.offsetTop+k.offsetHeight);f(!1),u({left:`${E}px`,top:`${L}px`,width:`${C-E}px`,height:`${_-L}px`,zIndex:y?x1.ROWHEADER_SELECTION.toString():x1.SELECTION.toString()}),a({x:`${w.offsetLeft-E-3}px`,y:`${w.offsetTop-L-3}px`,width:`${w.offsetWidth}px`,height:`${w.offsetHeight}px`}),o({x:`${k.offsetLeft-E-d3.X-3}px`,y:`${k.offsetTop-L-d3.Y-3}px`,width:`${k.offsetWidth+d3.X*2}px`,height:`${k.offsetHeight+d3.Y*2}px`})},[f,u,a]);Xe.useImperativeHandle(e,()=>({update:p,scrollToActiveCell:()=>{var m;(m=n.current)==null||m.scrollIntoView({behavior:"instant",block:"nearest",inline:"nearest"})}}),[p,r]);const v=Xe.useId();return Qe.jsxs("svg",{ref:r,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:"pointer-events-none absolute outline outline-2 outline-offset-[-2px] border-[3px] border border-color-0",style:d,children:[Qe.jsx("defs",{children:Qe.jsxs("mask",{id:`selection-start-mask-${v}`,children:[Qe.jsx("rect",{fill:"white",x:"0",y:"0",width:"calc(Infinity)",height:"calc(Infinity)"}),Qe.jsx("rect",{fill:"black",...i})]})}),Qe.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",className:"bg-color-selected-svg",mask:`url(#selection-start-mask-${v})`}),Qe.jsx("rect",{ref:n,...s,fill:"transparent"})]})}),d3={X:96,Y:96},OAe=()=>({defaultColumn:{minSize:8,maxSize:800},columnResizeMode:"onChange"}),FAe=(t,e)=>{const r=Xe.useMemo(()=>{const a=t.getFlatHeaders(),s={};for(let o=0;o<a.length;o++){const l=a[o];s[`--header-${l.id}-size`]=l.getSize(),s[`--col-${l.column.id}-size`]=l.column.getSize()}return s},[t.getState().columnSizingInfo,e]),n=Xe.useCallback(a=>`calc(var(--header-${a.id}-size) * 1px)`,[]),i=Xe.useCallback(({header:a})=>Qe.jsx("div",{onDoubleClick:()=>a.column.resetSize(),onMouseDown:a.getResizeHandler(),onTouchStart:a.getResizeHandler(),className:"absolute top-0 bottom-0 right-0 w-3 cursor-ew-resize border-r border-color-3"}),[]);return{columnSizeVars:r,getColWidth:n,ResizeHandler:i}},PAe=(t,e,r,n,i)=>{const[,a]=GE(),s=Xe.useCallback(h=>{if(i)return;const f=e(),d=r(),p=[];for(const m of f){const x=[];for(const y of d){let w;w=y.ex.onClipboardCopy(m.original,m.index),x.push(w)}p.push(x)}const v=f8e(p);h.clipboardData.setData("Text",v),h.preventDefault()},[i,e,r]),o=Xe.useCallback(h=>{var k,E,C;if(i||n===void 0||h.length===0)return;const f=e(),d=r(),p=(k=f[0])==null?void 0:k.index,v=d[0];if(p===void 0||v===void 0)return;const m=t.getAllLeafColumns(),x=m.findIndex(L=>L.id===v.id);if(p===-1||x===-1)return;const y=t.getRowModel().flatRows,w=Math.max(h.length,f.length);for(let L=0;L<w;L++){const _=y[p+L];if(_===void 0)continue;const I=h[L%h.length];if(I.length===0)continue;const M=Math.max(I.length,d.length);for(let F=0;F<M;F++){const N=I.length===0?"":I[F%I.length],z=m[x+F];if(z===void 0)continue;const V=z.columnDef;V.ex.editSetting===void 0||(C=(E=V.ex.editSetting).readOnly)!=null&&C.call(E,_.original,_.index)||V.ex.editSetting.onClipboardPaste(_.original,N,_.index)}n(_.index,_.original)}},[i,n,t,e,r]),l=Xe.useCallback(h=>{let f;try{f=h.clipboardData.getData("Text")}catch{a(p=>p.warn("クリップボードからテキストを読み取れませんでした。"));return}const d=d8e(f);o(d)},[o,a]),u=Xe.useCallback(()=>{o([[""]])},[o]);return{onCopy:s,onPaste:l,clearSelectedRange:u}},BAe=BE((t,e)=>{const{data:r,columns:n,onKeyDown:i,onActiveRowChanged:a,onChangeRow:s,className:o,hideHeader:l,showActiveCellBorderAlways:u,tableWidth:h}=t,f=Xe.useMemo(()=>CAe(),[]),d=Xe.useMemo(()=>{const ce=[],re=(n==null?void 0:n.map((ye,Z)=>({id:`col-${Z}`,size:ye.defaultWidthPx,enableResizing:!ye.fixedWidth,header:ye.header??"",headerTitle:ye.headerTitle,cell:ue=>ye.render(ue.row.original,ue.row.index),ex:ye})))??[],ve=h8e(re,ye=>ye.ex.headerGroupName??"");for(const[ye,Z]of ve)ye?ce.push(f.group({header:ye,columns:Z})):ce.push(...Z);return ce},[n,f]),p=Xe.useMemo(()=>({data:r??[],columns:d,getCoreRowModel:AAe(),...h==="fit"?{}:OAe()}),[h,r,d]),v=RAe(p),m=Xe.useRef(null),[x,y]=Xe.useState(!1),w=Xe.useRef([]);Xe.useLayoutEffect(()=>{w.current=(r==null?void 0:r.map(()=>Array.from({length:(n==null?void 0:n.length)??0}).map(()=>Ct.createRef())))??[]},[r,n==null?void 0:n.length,w]);const[k,E]=Ct.useState(),C=Jt(ce=>{E(ce)}),{caretTdRef:L,selectObject:_,handleSelectionKeyDown:I,activeCellBorderProps:M,getSelectedRows:F,getSelectedColumns:N}=NAe(v,(r==null?void 0:r.length)??0,d,w,a,C,m),{columnSizeVars:z,getColWidth:V,ResizeHandler:D}=FAe(v,d),{onCopy:O,onPaste:P,clearSelectedRange:$}=PAe(v,F,N,s,x),[B,H]=Xe.useState(!1),X=Jt(()=>{var ce;H(!0),(ce=m.current)==null||ce.focus(),k||_({target:"any"})}),q=Jt(ce=>{ce.target.contains(ce.relatedTarget)||H(!1)}),Y=Jt(ce=>{i&&(i(ce),ce.defaultPrevented)||(I(ce),!ce.defaultPrevented&&!ce.ctrlKey&&!ce.metaKey&&ce.key==="Delete"&&($(),ce.preventDefault()))}),U=Xe.useRef(null),J=Jt(()=>{if(!k||!m.current)return;const re=v.getCoreRowModel().flatRows[k.rowIndex].getAllCells()[k.colIndex];re&&m.current.startEditing(re)});return Xe.useImperativeHandle(e,()=>({focus:()=>{var ce;return(ce=U.current)==null?void 0:ce.focus()},getSelectedRows:()=>F().map(ce=>({row:ce.original,rowIndex:ce.index})),startEditing:J,selectRow:(ce,re)=>_({target:"row",startRowIndex:ce,endRowIndex:re})}),[F,U,J,_]),Qe.jsxs("div",{ref:U,className:`outline-none overflow-x-auto overflow-y-scroll select-none relative bg-color-gutter z-0 ${o}`,onFocus:X,onBlur:q,onCopy:O,onPaste:P,tabIndex:0,children:[Qe.jsxs("table",{className:"border-separate border-spacing-0",style:{...z,marginRight:h!=="fit"?"50%":void 0,width:h!=="fit"?v.getTotalSize():"100%"},children:[h!=="fit"&&Qe.jsx("colgroup",{children:VAe(v.getHeaderGroups()).headers.map(ce=>Qe.jsx("col",{style:{width:V(ce.column)}},ce.id))}),!l&&Qe.jsx("thead",{children:v.getHeaderGroups().map((ce,re)=>Qe.jsx("tr",{children:ce.headers.map((ve,ye)=>{var Z;return Qe.jsxs("th",{colSpan:ve.colSpan,className:"relative bg-color-2 text-color-7 border-b border-color-3",style:zAe(!1,ye,re),children:[Qe.jsx("div",{className:"absolute inset-0 p-px text-sm text-start whitespace-nowrap text-ellipsis overflow-hidden",title:((Z=ve.column.columnDef)==null?void 0:Z.headerTitle)??(typeof ve.column.columnDef.header=="string"?ve.column.columnDef.header:void 0),children:!ve.isPlaceholder&&Yte(ve.column.columnDef.header,ve.getContext())}),h!=="fit"&&Qe.jsx(D,{header:ve})]},ve.id)})},ce.id))}),Qe.jsx("tbody",{className:"bg-color-0",children:v.getRowModel().flatRows.map((ce,re)=>Qe.jsx("tr",{className:"leading-tight",children:ce.getVisibleCells().map((ve,ye)=>{var Z;return Qe.jsx($Ae,{ref:(Z=w.current[re])==null?void 0:Z[ye],cell:ve,cellEditorRef:m,getColWidth:V,selectObject:_,colIndex:ye},ve.id)})},ce.id))})]}),Qe.jsx("div",{className:"h-[calc(100%-4rem)]"}),Qe.jsx(IAe,{hidden:!u&&(!B||x),...M}),Qe.jsx(MAe,{ref:m,api:v,caretCell:k,caretTdRef:L,onChangeEditing:y,onKeyDown:Y,onChangeRow:s})]})}),$Ae=Ct.memo(Ct.forwardRef(({cell:t,getColWidth:e,selectObject:r,cellEditorRef:n,colIndex:i},a)=>Qe.jsx("td",{ref:a,className:"relative overflow-hidden align-top p-0 border-r border-b border-1 border-color-3",style:{...HAe(!1),maxWidth:e(t.column)},onMouseDown:s=>r({target:"cell",cell:{rowIndex:t.row.index,colIndex:i},shiftKey:s.shiftKey}),onDoubleClick:()=>{var s;return(s=n.current)==null?void 0:s.startEditing(t)},children:Yte(t.column.columnDef.cell,t.getContext())})),(t,e)=>Object.is(t.cell.row.original,e.cell.row.original)&&Object.is(t.getColWidth,e.getColWidth)&&Object.is(t.selectObject,e.selectObject)&&Object.is(t.cellEditorRef,e.cellEditorRef)&&Object.is(t.colIndex,e.colIndex)),zAe=(t,e,r)=>({position:"sticky",top:`calc((1rem + 8px) * ${r})`,left:t?0:void 0,height:e===0?"calc(1rem + 8px)":void 0,zIndex:t?x1.ROWHEADER_THEAD:x1.THEAD}),HAe=t=>({position:t?"sticky":void 0,left:t?0:void 0,zIndex:t?x1.ROWHEADER:void 0}),VAe=t=>t[t.length-1],Xte=t=>{const e=(n,...i)=>{n==="error"&&console.error(...i);const s=i.flatMap(o=>Array.isArray(o)?o:[o]).map(o=>{const l=zr.generate();if(typeof o=="string")return{id:l,type:n,message:o};const u=o;return typeof u.message=="string"?{id:l,type:n,message:u.message,name:u.name}:{id:l,type:n,message:(o==null?void 0:o.toString())??""}});return{messages:[...t.messages,...s]}};return{clear:n=>{if(!n)return{messages:[]};let i;if(typeof n=="string"){const a=n;i=s=>{var o;return!((o=s.name)!=null&&o.startsWith(a))}}else{const a=n.id;i=s=>s.id!==a}return{messages:t.messages.filter(i)}},error:(...n)=>e("error",...n),warn:(...n)=>e("warn",...n),info:(...n)=>e("info",...n)}},[jte,UE]=PE(()=>({messages:[]}),Xte),[UAe,GE]=PE(()=>({messages:[]}),Xte),Kte=({type:t,name:e,className:r})=>{const{data:{darkMode:n}}=UM(),i=Xe.useCallback(h=>(h==null?void 0:h.type)==="warn"?n?"border-amber-900":"border-amber-200":(h==null?void 0:h.type)==="info"?n?"border-sky-900":"border-sky-200":n?"border-rose-900":"border-rose-200",[n]),a=Xe.useCallback(h=>(h==null?void 0:h.type)==="warn"?n?"bg-amber-800":"bg-amber-100":(h==null?void 0:h.type)==="info"?n?"bg-sky-800":"bg-sky-100":n?"bg-rose-800":"bg-rose-100",[n]),s=Xe.useCallback(h=>(h==null?void 0:h.type)==="warn"?n?"text-amber-200":"text-amber-700":(h==null?void 0:h.type)==="info"?n?"text-sky-200":"text-sky-700":n?"text-rose-200":"text-rose-600",[n]),[{messages:o},l]=UE(),u=Xe.useMemo(()=>{let h=[...o];return t&&(h=h.filter(f=>f.type===t)),e&&(h=h.filter(f=>{var d;return(d=f.name)==null?void 0:d.startsWith(e)})),h},[o,e,t]);return u.length===0?Qe.jsx(Qe.Fragment,{}):Qe.jsxs("div",{className:`flex flex-col gap-1 ${r}`,children:[Qe.jsx("ul",{className:"flex-1 flex flex-col overflow-y-scroll max-h-36",children:u.map(h=>Qe.jsxs("li",{className:`flex gap-1 items-center border border-1 ${i(h)} ${a(h)}`,children:[Qe.jsx("span",{title:h.message,className:`flex-1 ${s(h)} overflow-hidden text-nowrap overflow-ellipsis whitespace-pre select-all`,children:h.message}),Qe.jsx(Zn,{onClick:()=>l(f=>f.clear(h)),icon:VE})]},h.id))}),u.length>0&&Qe.jsxs("div",{className:`flex gap-8 text-sm select-none items-center ${s()}`,children:[u.length,"件のメッセージ",Qe.jsx(Zn,{onClick:()=>l(h=>h.clear(e)),children:"すべてクリアする"}),Qe.jsx("div",{className:"flex-1"})]})]})},GAe=({type:t,name:e})=>{const[{messages:r}]=GE(),{data:{darkMode:n}}=UM(),i=Xe.useMemo(()=>{let a=[...r];return t&&(a=a.filter(s=>s.type===t)),e&&(a=a.filter(s=>{var o;return(o=s.name)==null?void 0:o.startsWith(e)})),a},[r,e,t]);return Qe.jsx(Qe.Fragment,{children:i.map(a=>Qe.jsx(WAe,{msg:a,darkMode:n},a.id))})},WAe=({msg:t,darkMode:e})=>{const[,r]=GE(),[n,i]=Xe.useState(!0);Xe.useEffect(()=>{if(t.type==="info"){const o=setTimeout(()=>{i(!1)},3e3),l=setTimeout(()=>{r(u=>u.clear(t))},5e3);return()=>{clearTimeout(o),clearTimeout(l)}}},[r,t]);const a=Xe.useMemo(()=>t.type==="warn"?e?"border-amber-500 bg-amber-800 text-amber-50":"border-amber-500 bg-amber-200 text-amber-900":t.type==="info"?e?"border-sky-500 bg-sky-800 text-sky-50":"border-sky-500 bg-sky-200 text-sky-900":e?"border-rose-500 bg-rose-800 text-rose-50":"border-rose-500 bg-rose-200 text-rose-900",[t,e]),s=n?"animate-slideIn":"animate-slideOut translate-x-[calc(-100%-1rem)]";return Qe.jsxs("div",{className:`z-[300] flex flex-col fixed left-4 bottom-12 w-64 h-24 overflow-hidden border border-1 ${a} ${s}`,children:[Qe.jsx(Zn,{inline:!0,icon:VE,onClick:()=>r(o=>o.clear(t)),className:"self-end"}),Qe.jsx("span",{className:"inline-block w-full h-full px-2 overflow-y-auto select-all break-words",children:t.message})]})},qAe=({title:t,open:e,onClose:r,children:n,className:i})=>{const a=Xe.useRef(null);Xe.useLayoutEffect(()=>{var l,u,h;e?((l=a.current)==null||l.showModal(),(u=a.current)==null||u.focus()):(h=a.current)==null||h.close()},[a,e]);const s=Jt(l=>{l.target===a.current&&r()}),o=Jt(l=>{l.stopPropagation()});return Qe.jsx(jte,{children:Qe.jsx("dialog",{ref:a,onClick:s,onClose:r,onCancel:r,className:`absolute inset-12 w-auto h-auto border border-color-5 outline-none ${i??""}`,children:Qe.jsxs("div",{className:"w-full h-full flex flex-col",children:[Qe.jsxs("div",{className:"flex items-center p-1 border-b border-color-4",onClick:o,children:[t&&Qe.jsx("span",{className:"font-medium select-none",children:t}),Qe.jsx("div",{className:"flex-1"}),Qe.jsx(Zn,{onClick:r,children:"閉じる"})]}),Qe.jsx(Kte,{}),Qe.jsx("div",{className:"flex-1 p-1 overflow-auto",children:n})]})})})},YAe=({target:t,onClose:e,elementRef:r,children:n})=>{const i=Xe.useRef(null),a=Ct.useCallback(s=>{r.current=i.current=s},[i,r]);return Ct.useLayoutEffect(()=>{if(i.current&&t){const s=t.getBoundingClientRect(),o=i.current.offsetWidth,l=i.current.offsetHeight,u=s.bottom+1,h=s.right-o;u+l>window.innerHeight?(i.current.style.top=`${s.top-l-1}px`,i.current.style.left=`${h}px`):(i.current.style.top=`${u}px`,i.current.style.left=`${h}px`),i.current.style.minWidth=`${s.width}px`}},[i,t]),_te(i,()=>{e==null||e()},[e]),Qe.jsx("div",{ref:a,tabIndex:0,className:"z-10 fixed max-h-64 overflow-y-auto bg-color-ridge border border-color-5 outline-none",children:n})},Qte=()=>({stack:[],popup:void 0,popupElementRef:Ct.createRef()}),{reducer:XAe,ContextProvider:jAe,useContext:OM}=p8e(Qte,t=>({pushDialog:(e,r)=>({stack:[{id:zr.generate(),title:e,contents:r},...t.stack],popup:t.popup,popupElementRef:t.popupElementRef}),removeDialog:e=>({stack:t.stack.filter(r=>r.id!==e),popup:t.popup,popupElementRef:t.popupElementRef}),openPopup:(e,r,n)=>({stack:t.stack,popup:{target:e,contents:r,onClose:n},popupElementRef:t.popupElementRef}),closePopup:()=>({stack:t.stack,popup:void 0,popupElementRef:t.popupElementRef})})),KAe=({children:t})=>{const e=Ct.useReducer(XAe,void 0,Qte),[{stack:r,popup:n,popupElementRef:i},a]=e,s=Jt(l=>()=>a(u=>u.removeDialog(l))),o=Jt(()=>{var l;a(u=>u.closePopup()),(l=n==null?void 0:n.onClose)==null||l.call(n)});return Qe.jsxs(jAe,{value:e,children:[t,r.map(({id:l,title:u,contents:h})=>Qe.jsx(qAe,{open:!0,title:u,onClose:s(l),children:Ct.createElement(h,{closeDialog:s(l)})},l)),n&&Qe.jsx(YAe,{target:n.target,onClose:o,elementRef:i,children:Ct.createElement(n.contents,{closeDialog:o})})]})};Ct.memo(({state:t})=>{let e,r,n;return t==="ADD"?(e="bg-emerald-500",r="text-emerald-500",n="追加"):t==="MOD"?(e="bg-sky-500",r="text-sky-500",n="変更"):t==="DEL"?(e="bg-rose-500",r="text-rose-500",n="削除"):(e="",r="",n=""),Qe.jsxs("div",{className:"flex select-none gap-1 text-sm font-bold whitespace-nowrap",children:[Qe.jsx("div",{className:`basis-1 self-stretch ${e}`}),Qe.jsx("span",{className:r,children:n})]})});const QAe=()=>({}),ZAe=Ct.createContext(QAe());ZAe.Provider;new F8e({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}});const sp=Ta((t,e)=>{const{onValidate:r,value:n,readOnly:i,placeholder:a,className:s,onChange:o,onOneCharChanged:l,onFocus:u,onBlur:h,onKeyDown:f,AtStart:d,AtEnd:p,...v}=t,m=Xe.useRef(null),[x,y]=Xe.useState(n??""),[w,k]=Xe.useState(!1),{data:{darkMode:E}}=UM();Xe.useEffect(()=>{w&&n===""||y(n??"")},[n]);const C=Jt(V=>V?r?r(V):{ok:!0,formatted:V}:{ok:!0,formatted:""}),L=Jt(()=>{let V;if(r){const D=C(x);D.ok?(V=D.formatted,k(!1)):(V="",k(!0))}else V=x,k(!1);(n??"")!==V&&(o==null||o(V))}),_=Jt(V=>{l==null||l(V.target.value),y(V.target.value)}),I=Jt(V=>{var D;(D=m.current)==null||D.select(),u==null||u(V)}),M=Xe.useRef(null),F=Jt(V=>{var D;(D=M.current)!=null&&D.contains(V.relatedTarget)||(L(),h==null||h(V))});Xe.useEffect(()=>{L()},[r]);const N=Jt(V=>{V.key==="Enter"&&V.preventDefault(),f==null||f(V)});Xe.useImperativeHandle(e,()=>({element:M.current,getValue:()=>{const V=C(x);return V.ok?V.formatted:""},focus:V=>{var D,O;(D=m.current)==null||D.focus(V),(O=m.current)==null||O.select()}}),[C,x,m]);let z="inline-flex relative min-w-0 border";return i?z+=" border-transparent":(z+=" border-color-5 text-color-12",z+=w?E?" bg-rose-900":" bg-rose-200":" bg-color-base"),(s===void 0||(s==null?void 0:s.indexOf("max-w-"))===-1)&&(z+=" max-w-full"),s&&(z+=" "+s),Qe.jsxs("div",{ref:M,className:z,onBlur:F,children:[d,Qe.jsx("input",{...v,type:"text",ref:m,value:x,className:"outline-none flex-1 min-w-0 px-1 bg-transparent",spellCheck:"false",autoComplete:"off",readOnly:i,placeholder:i?void 0:a,onKeyDown:N,onFocus:I,onChange:_}),p]})});var Zte={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ll,function(){var r=navigator.userAgent,n=navigator.platform,i=/gecko\/\d/i.test(r),a=/MSIE \d/.test(r),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),o=/Edge\/(\d+)/.exec(r),l=a||s||o,u=l&&(a?document.documentMode||6:+(o||s)[1]),h=!o&&/WebKit\//.test(r),f=h&&/Qt\/\d+\.\d+/.test(r),d=!o&&/Chrome\/(\d+)/.exec(r),p=d&&+d[1],v=/Opera\//.test(r),m=/Apple Computer/.test(navigator.vendor),x=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),y=/PhantomJS/.test(r),w=m&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),k=/Android/.test(r),E=w||k||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),C=w||/Mac/.test(n),L=/\bCrOS\b/.test(r),_=/win/i.test(n),I=v&&r.match(/Version\/(\d*\.\d*)/);I&&(I=Number(I[1])),I&&I>=15&&(v=!1,h=!0);var M=C&&(f||v&&(I==null||I<12.11)),F=i||l&&u>=9;function N(g){return new RegExp("(^|\\s)"+g+"(?:$|\\s)\\s*")}var z=function(g,b){var A=g.className,T=N(b).exec(A);if(T){var R=A.slice(T.index+T[0].length);g.className=A.slice(0,T.index)+(R?T[1]+R:"")}};function V(g){for(var b=g.childNodes.length;b>0;--b)g.removeChild(g.firstChild);return g}function D(g,b){return V(g).appendChild(b)}function O(g,b,A,T){var R=document.createElement(g);if(A&&(R.className=A),T&&(R.style.cssText=T),typeof b=="string")R.appendChild(document.createTextNode(b));else if(b)for(var G=0;G<b.length;++G)R.appendChild(b[G]);return R}function P(g,b,A,T){var R=O(g,b,A,T);return R.setAttribute("role","presentation"),R}var $;document.createRange?$=function(g,b,A,T){var R=document.createRange();return R.setEnd(T||g,A),R.setStart(g,b),R}:$=function(g,b,A){var T=document.body.createTextRange();try{T.moveToElementText(g.parentNode)}catch{return T}return T.collapse(!0),T.moveEnd("character",A),T.moveStart("character",b),T};function B(g,b){if(b.nodeType==3&&(b=b.parentNode),g.contains)return g.contains(b);do if(b.nodeType==11&&(b=b.host),b==g)return!0;while(b=b.parentNode)}function H(g){var b=g.ownerDocument||g,A;try{A=g.activeElement}catch{A=b.body||null}for(;A&&A.shadowRoot&&A.shadowRoot.activeElement;)A=A.shadowRoot.activeElement;return A}function X(g,b){var A=g.className;N(b).test(A)||(g.className+=(A?" ":"")+b)}function q(g,b){for(var A=g.split(" "),T=0;T<A.length;T++)A[T]&&!N(A[T]).test(b)&&(b+=" "+A[T]);return b}var Y=function(g){g.select()};w?Y=function(g){g.selectionStart=0,g.selectionEnd=g.value.length}:l&&(Y=function(g){try{g.select()}catch{}});function U(g){return g.display.wrapper.ownerDocument}function J(g){return ce(g.display.wrapper)}function ce(g){return g.getRootNode?g.getRootNode():g.ownerDocument}function re(g){return U(g).defaultView}function ve(g){var b=Array.prototype.slice.call(arguments,1);return function(){return g.apply(null,b)}}function ye(g,b,A){b||(b={});for(var T in g)g.hasOwnProperty(T)&&(A!==!1||!b.hasOwnProperty(T))&&(b[T]=g[T]);return b}function Z(g,b,A,T,R){b==null&&(b=g.search(/[^\s\u00a0]/),b==-1&&(b=g.length));for(var G=T||0,K=R||0;;){var te=g.indexOf("	",G);if(te<0||te>=b)return K+(b-G);K+=te-G,K+=A-K%A,G=te+1}}var ue=function(){this.id=null,this.f=null,this.time=0,this.handler=ve(this.onTimeout,this)};ue.prototype.onTimeout=function(g){g.id=0,g.time<=+new Date?g.f():setTimeout(g.handler,g.time-+new Date)},ue.prototype.set=function(g,b){this.f=b;var A=+new Date+g;(!this.id||A<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,g),this.time=A)};function ae(g,b){for(var A=0;A<g.length;++A)if(g[A]==b)return A;return-1}var pe=50,Ee={toString:function(){return"CodeMirror.Pass"}},Se={scroll:!1},de={origin:"*mouse"},be={origin:"+move"};function oe(g,b,A){for(var T=0,R=0;;){var G=g.indexOf("	",T);G==-1&&(G=g.length);var K=G-T;if(G==g.length||R+K>=b)return T+Math.min(K,b-R);if(R+=G-T,R+=A-R%A,T=G+1,R>=b)return T}}var we=[""];function Re(g){for(;we.length<=g;)we.push(Pe(we)+" ");return we[g]}function Pe(g){return g[g.length-1]}function Ge(g,b){for(var A=[],T=0;T<g.length;T++)A[T]=b(g[T],T);return A}function je(g,b,A){for(var T=0,R=A(b);T<g.length&&A(g[T])<=R;)T++;g.splice(T,0,b)}function We(){}function me(g,b){var A;return Object.create?A=Object.create(g):(We.prototype=g,A=new We),b&&ye(b,A),A}var Te=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function fe(g){return/\w/.test(g)||g>""&&(g.toUpperCase()!=g.toLowerCase()||Te.test(g))}function W(g,b){return b?b.source.indexOf("\\w")>-1&&fe(g)?!0:b.test(g):fe(g)}function j(g){for(var b in g)if(g.hasOwnProperty(b)&&g[b])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ee(g){return g.charCodeAt(0)>=768&&ie.test(g)}function le(g,b,A){for(;(A<0?b>0:b<g.length)&&ee(g.charAt(b));)b+=A;return b}function _e(g,b,A){for(var T=b>A?-1:1;;){if(b==A)return b;var R=(b+A)/2,G=T<0?Math.ceil(R):Math.floor(R);if(G==b)return g(G)?b:A;g(G)?A=G:b=G+T}}function ke(g,b,A,T){if(!g)return T(b,A,"ltr",0);for(var R=!1,G=0;G<g.length;++G){var K=g[G];(K.from<A&&K.to>b||b==A&&K.to==b)&&(T(Math.max(K.from,b),Math.min(K.to,A),K.level==1?"rtl":"ltr",G),R=!0)}R||T(b,A,"ltr")}var Le=null;function Oe(g,b,A){var T;Le=null;for(var R=0;R<g.length;++R){var G=g[R];if(G.from<b&&G.to>b)return R;G.to==b&&(G.from!=G.to&&A=="before"?T=R:Le=R),G.from==b&&(G.from!=G.to&&A!="before"?T=R:Le=R)}return T??Le}var Me=function(){var g="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",b="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function A(ge){return ge<=247?g.charAt(ge):1424<=ge&&ge<=1524?"R":1536<=ge&&ge<=1785?b.charAt(ge-1536):1774<=ge&&ge<=2220?"r":8192<=ge&&ge<=8203?"w":ge==8204?"b":"L"}var T=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,R=/[stwN]/,G=/[LRr]/,K=/[Lb1n]/,te=/[1n]/;function se(ge,De,Be){this.level=ge,this.from=De,this.to=Be}return function(ge,De){var Be=De=="ltr"?"L":"R";if(ge.length==0||De=="ltr"&&!T.test(ge))return!1;for(var Ze=ge.length,Ye=[],st=0;st<Ze;++st)Ye.push(A(ge.charCodeAt(st)));for(var dt=0,Tt=Be;dt<Ze;++dt){var Nt=Ye[dt];Nt=="m"?Ye[dt]=Tt:Tt=Nt}for(var Bt=0,It=Be;Bt<Ze;++Bt){var Wt=Ye[Bt];Wt=="1"&&It=="r"?Ye[Bt]="n":G.test(Wt)&&(It=Wt,Wt=="r"&&(Ye[Bt]="R"))}for(var ur=1,ir=Ye[0];ur<Ze-1;++ur){var Or=Ye[ur];Or=="+"&&ir=="1"&&Ye[ur+1]=="1"?Ye[ur]="1":Or==","&&ir==Ye[ur+1]&&(ir=="1"||ir=="n")&&(Ye[ur]=ir),ir=Or}for(var Tn=0;Tn<Ze;++Tn){var Gi=Ye[Tn];if(Gi==",")Ye[Tn]="N";else if(Gi=="%"){var Kn=void 0;for(Kn=Tn+1;Kn<Ze&&Ye[Kn]=="%";++Kn);for(var Ys=Tn&&Ye[Tn-1]=="!"||Kn<Ze&&Ye[Kn]=="1"?"1":"N",ks=Tn;ks<Kn;++ks)Ye[ks]=Ys;Tn=Kn-1}}for(var Si=0,Ss=Be;Si<Ze;++Si){var fa=Ye[Si];Ss=="L"&&fa=="1"?Ye[Si]="L":G.test(fa)&&(Ss=fa)}for(var Ni=0;Ni<Ze;++Ni)if(R.test(Ye[Ni])){var Ei=void 0;for(Ei=Ni+1;Ei<Ze&&R.test(Ye[Ei]);++Ei);for(var ii=(Ni?Ye[Ni-1]:Be)=="L",Es=(Ei<Ze?Ye[Ei]:Be)=="L",Pp=ii==Es?ii?"L":"R":Be,Dh=Ni;Dh<Ei;++Dh)Ye[Dh]=Pp;Ni=Ei-1}for(var _a=[],wu,Wi=0;Wi<Ze;)if(K.test(Ye[Wi])){var uC=Wi;for(++Wi;Wi<Ze&&K.test(Ye[Wi]);++Wi);_a.push(new se(0,uC,Wi))}else{var pc=Wi,yd=_a.length,xd=De=="rtl"?1:0;for(++Wi;Wi<Ze&&Ye[Wi]!="L";++Wi);for(var Ja=pc;Ja<Wi;)if(te.test(Ye[Ja])){pc<Ja&&(_a.splice(yd,0,new se(1,pc,Ja)),yd+=xd);var Bp=Ja;for(++Ja;Ja<Wi&&te.test(Ye[Ja]);++Ja);_a.splice(yd,0,new se(2,Bp,Ja)),yd+=xd,pc=Ja}else++Ja;pc<Wi&&_a.splice(yd,0,new se(1,pc,Wi))}return De=="ltr"&&(_a[0].level==1&&(wu=ge.match(/^\s+/))&&(_a[0].from=wu[0].length,_a.unshift(new se(0,0,wu[0].length))),Pe(_a).level==1&&(wu=ge.match(/\s+$/))&&(Pe(_a).to-=wu[0].length,_a.push(new se(0,Ze-wu[0].length,Ze)))),De=="rtl"?_a.reverse():_a}}();function Ie(g,b){var A=g.order;return A==null&&(A=g.order=Me(g.text,b)),A}var Fe=[],Ne=function(g,b,A){if(g.addEventListener)g.addEventListener(b,A,!1);else if(g.attachEvent)g.attachEvent("on"+b,A);else{var T=g._handlers||(g._handlers={});T[b]=(T[b]||Fe).concat(A)}};function He(g,b){return g._handlers&&g._handlers[b]||Fe}function it(g,b,A){if(g.removeEventListener)g.removeEventListener(b,A,!1);else if(g.detachEvent)g.detachEvent("on"+b,A);else{var T=g._handlers,R=T&&T[b];if(R){var G=ae(R,A);G>-1&&(T[b]=R.slice(0,G).concat(R.slice(G+1)))}}}function lt(g,b){var A=He(g,b);if(A.length)for(var T=Array.prototype.slice.call(arguments,2),R=0;R<A.length;++R)A[R].apply(null,T)}function ft(g,b,A){return typeof b=="string"&&(b={type:b,preventDefault:function(){this.defaultPrevented=!0}}),lt(g,A||b.type,g,b),ut(b)||b.codemirrorIgnore}function gt(g){var b=g._handlers&&g._handlers.cursorActivity;if(b)for(var A=g.curOp.cursorActivityHandlers||(g.curOp.cursorActivityHandlers=[]),T=0;T<b.length;++T)ae(A,b[T])==-1&&A.push(b[T])}function _t(g,b){return He(g,b).length>0}function ct(g){g.prototype.on=function(b,A){Ne(this,b,A)},g.prototype.off=function(b,A){it(this,b,A)}}function at(g){g.preventDefault?g.preventDefault():g.returnValue=!1}function Lt(g){g.stopPropagation?g.stopPropagation():g.cancelBubble=!0}function ut(g){return g.defaultPrevented!=null?g.defaultPrevented:g.returnValue==!1}function pt(g){at(g),Lt(g)}function Zt(g){return g.target||g.srcElement}function xt(g){var b=g.which;return b==null&&(g.button&1?b=1:g.button&2?b=3:g.button&4&&(b=2)),C&&g.ctrlKey&&b==1&&(b=3),b}var ht=function(){if(l&&u<9)return!1;var g=O("div");return"draggable"in g||"dragDrop"in g}(),Mt;function nr(g){if(Mt==null){var b=O("span","​");D(g,O("span",[b,document.createTextNode("x")])),g.firstChild.offsetHeight!=0&&(Mt=b.offsetWidth<=1&&b.offsetHeight>2&&!(l&&u<8))}var A=Mt?O("span","​"):O("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return A.setAttribute("cm-text",""),A}var Yt;function wr(g){if(Yt!=null)return Yt;var b=D(g,document.createTextNode("AخA")),A=$(b,0,1).getBoundingClientRect(),T=$(b,1,2).getBoundingClientRect();return V(g),!A||A.left==A.right?!1:Yt=T.right-A.right<3}var Gr=`

b`.split(/\n/).length!=3?function(g){for(var b=0,A=[],T=g.length;b<=T;){var R=g.indexOf(`
`,b);R==-1&&(R=g.length);var G=g.slice(b,g.charAt(R-1)=="\r"?R-1:R),K=G.indexOf("\r");K!=-1?(A.push(G.slice(0,K)),b+=K+1):(A.push(G),b=R+1)}return A}:function(g){return g.split(/\r\n?|\n/)},Tr=window.getSelection?function(g){try{return g.selectionStart!=g.selectionEnd}catch{return!1}}:function(g){var b;try{b=g.ownerDocument.selection.createRange()}catch{}return!b||b.parentElement()!=g?!1:b.compareEndPoints("StartToEnd",b)!=0},jn=function(){var g=O("div");return"oncopy"in g?!0:(g.setAttribute("oncopy","return;"),typeof g.oncopy=="function")}(),sn=null;function Dn(g){if(sn!=null)return sn;var b=D(g,O("span","x")),A=b.getBoundingClientRect(),T=$(b,0,1).getBoundingClientRect();return sn=Math.abs(A.left-T.left)>1}var $r={},kn={};function Ut(g,b){arguments.length>2&&(b.dependencies=Array.prototype.slice.call(arguments,2)),$r[g]=b}function qe(g,b){kn[g]=b}function vt(g){if(typeof g=="string"&&kn.hasOwnProperty(g))g=kn[g];else if(g&&typeof g.name=="string"&&kn.hasOwnProperty(g.name)){var b=kn[g.name];typeof b=="string"&&(b={name:b}),g=me(b,g),g.name=b.name}else{if(typeof g=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(g))return vt("application/xml");if(typeof g=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(g))return vt("application/json")}return typeof g=="string"?{name:g}:g||{name:"null"}}function Vt(g,b){b=vt(b);var A=$r[b.name];if(!A)return Vt(g,"text/plain");var T=A(g,b);if(yr.hasOwnProperty(b.name)){var R=yr[b.name];for(var G in R)R.hasOwnProperty(G)&&(T.hasOwnProperty(G)&&(T["_"+G]=T[G]),T[G]=R[G])}if(T.name=b.name,b.helperType&&(T.helperType=b.helperType),b.modeProps)for(var K in b.modeProps)T[K]=b.modeProps[K];return T}var yr={};function un(g,b){var A=yr.hasOwnProperty(g)?yr[g]:yr[g]={};ye(b,A)}function Yr(g,b){if(b===!0)return b;if(g.copyState)return g.copyState(b);var A={};for(var T in b){var R=b[T];R instanceof Array&&(R=R.concat([])),A[T]=R}return A}function Sn(g,b){for(var A;g.innerMode&&(A=g.innerMode(b),!(!A||A.mode==g));)b=A.state,g=A.mode;return A||{mode:g,state:b}}function En(g,b,A){return g.startState?g.startState(b,A):!0}var kt=function(g,b,A){this.pos=this.start=0,this.string=g,this.tabSize=b||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=A};kt.prototype.eol=function(){return this.pos>=this.string.length},kt.prototype.sol=function(){return this.pos==this.lineStart},kt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},kt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},kt.prototype.eat=function(g){var b=this.string.charAt(this.pos),A;if(typeof g=="string"?A=b==g:A=b&&(g.test?g.test(b):g(b)),A)return++this.pos,b},kt.prototype.eatWhile=function(g){for(var b=this.pos;this.eat(g););return this.pos>b},kt.prototype.eatSpace=function(){for(var g=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>g},kt.prototype.skipToEnd=function(){this.pos=this.string.length},kt.prototype.skipTo=function(g){var b=this.string.indexOf(g,this.pos);if(b>-1)return this.pos=b,!0},kt.prototype.backUp=function(g){this.pos-=g},kt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Z(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Z(this.string,this.lineStart,this.tabSize):0)},kt.prototype.indentation=function(){return Z(this.string,null,this.tabSize)-(this.lineStart?Z(this.string,this.lineStart,this.tabSize):0)},kt.prototype.match=function(g,b,A){if(typeof g=="string"){var T=function(K){return A?K.toLowerCase():K},R=this.string.substr(this.pos,g.length);if(T(R)==T(g))return b!==!1&&(this.pos+=g.length),!0}else{var G=this.string.slice(this.pos).match(g);return G&&G.index>0?null:(G&&b!==!1&&(this.pos+=G[0].length),G)}},kt.prototype.current=function(){return this.string.slice(this.start,this.pos)},kt.prototype.hideFirstChars=function(g,b){this.lineStart+=g;try{return b()}finally{this.lineStart-=g}},kt.prototype.lookAhead=function(g){var b=this.lineOracle;return b&&b.lookAhead(g)},kt.prototype.baseToken=function(){var g=this.lineOracle;return g&&g.baseToken(this.pos)};function ot(g,b){if(b-=g.first,b<0||b>=g.size)throw new Error("There is no line "+(b+g.first)+" in the document.");for(var A=g;!A.lines;)for(var T=0;;++T){var R=A.children[T],G=R.chunkSize();if(b<G){A=R;break}b-=G}return A.lines[b]}function tr(g,b,A){var T=[],R=b.line;return g.iter(b.line,A.line+1,function(G){var K=G.text;R==A.line&&(K=K.slice(0,A.ch)),R==b.line&&(K=K.slice(b.ch)),T.push(K),++R}),T}function St(g,b,A){var T=[];return g.iter(b,A,function(R){T.push(R.text)}),T}function jt(g,b){var A=b-g.height;if(A)for(var T=g;T;T=T.parent)T.height+=A}function Ce(g){if(g.parent==null)return null;for(var b=g.parent,A=ae(b.lines,g),T=b.parent;T;b=T,T=T.parent)for(var R=0;T.children[R]!=b;++R)A+=T.children[R].chunkSize();return A+b.first}function Nr(g,b){var A=g.first;e:do{for(var T=0;T<g.children.length;++T){var R=g.children[T],G=R.height;if(b<G){g=R;continue e}b-=G,A+=R.chunkSize()}return A}while(!g.lines);for(var K=0;K<g.lines.length;++K){var te=g.lines[K],se=te.height;if(b<se)break;b-=se}return A+K}function $e(g,b){return b>=g.first&&b<g.first+g.size}function mn(g,b){return String(g.lineNumberFormatter(b+g.firstLineNumber))}function mt(g,b,A){if(A===void 0&&(A=null),!(this instanceof mt))return new mt(g,b,A);this.line=g,this.ch=b,this.sticky=A}function Cr(g,b){return g.line-b.line||g.ch-b.ch}function mp(g,b){return g.sticky==b.sticky&&Cr(g,b)==0}function _v(g){return mt(g.line,g.ch)}function ni(g,b){return Cr(g,b)<0?b:g}function Zo(g,b){return Cr(g,b)<0?g:b}function yp(g,b){return Math.max(g.first,Math.min(b,g.first+g.size-1))}function kr(g,b){if(b.line<g.first)return mt(g.first,0);var A=g.first+g.size-1;return b.line>A?mt(A,ot(g,A).text.length):x6(b,ot(g,b.line).text.length)}function x6(g,b){var A=g.ch;return A==null||A>b?mt(g.line,b):A<0?mt(g.line,0):g}function Ub(g,b){for(var A=[],T=0;T<b.length;T++)A[T]=kr(g,b[T]);return A}var od=function(g,b){this.state=g,this.lookAhead=b},zn=function(g,b,A,T){this.state=b,this.doc=g,this.line=A,this.maxLookAhead=T||0,this.baseTokens=null,this.baseTokenPos=1};zn.prototype.lookAhead=function(g){var b=this.doc.getLine(this.line+g);return b!=null&&g>this.maxLookAhead&&(this.maxLookAhead=g),b},zn.prototype.baseToken=function(g){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=g;)this.baseTokenPos+=2;var b=this.baseTokens[this.baseTokenPos+1];return{type:b&&b.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-g}},zn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},zn.fromSaved=function(g,b,A){return b instanceof od?new zn(g,Yr(g.mode,b.state),A,b.lookAhead):new zn(g,Yr(g.mode,b),A)},zn.prototype.save=function(g){var b=g!==!1?Yr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new od(b,this.maxLookAhead):b};function mu(g,b,A,T){var R=[g.state.modeGen],G={};Qa(g,b.text,g.doc.mode,A,function(ge,De){return R.push(ge,De)},G,T);for(var K=A.state,te=function(ge){A.baseTokens=R;var De=g.state.overlays[ge],Be=1,Ze=0;A.state=!0,Qa(g,b.text,De.mode,A,function(Ye,st){for(var dt=Be;Ze<Ye;){var Tt=R[Be];Tt>Ye&&R.splice(Be,1,Ye,R[Be+1],Tt),Be+=2,Ze=Math.min(Ye,Tt)}if(st)if(De.opaque)R.splice(dt,Be-dt,Ye,"overlay "+st),Be=dt+2;else for(;dt<Be;dt+=2){var Nt=R[dt+1];R[dt+1]=(Nt?Nt+" ":"")+"overlay "+st}},G),A.state=K,A.baseTokens=null,A.baseTokenPos=1},se=0;se<g.state.overlays.length;++se)te(se);return{styles:R,classes:G.bgClass||G.textClass?G:null}}function xs(g,b,A){if(!b.styles||b.styles[0]!=g.state.modeGen){var T=lc(g,Ce(b)),R=b.text.length>g.options.maxHighlightLength&&Yr(g.doc.mode,T.state),G=mu(g,b,T);R&&(T.state=R),b.stateAfter=T.save(!R),b.styles=G.styles,G.classes?b.styleClasses=G.classes:b.styleClasses&&(b.styleClasses=null),A===g.doc.highlightFrontier&&(g.doc.modeFrontier=Math.max(g.doc.modeFrontier,++g.doc.highlightFrontier))}return b.styles}function lc(g,b,A){var T=g.doc,R=g.display;if(!T.mode.startState)return new zn(T,!0,b);var G=tfe(g,b,A),K=G>T.first&&ot(T,G-1).stateAfter,te=K?zn.fromSaved(T,K,G):new zn(T,En(T.mode),G);return T.iter(G,b,function(se){yu(g,se.text,te);var ge=te.line;se.stateAfter=ge==b-1||ge%5==0||ge>=R.viewFrom&&ge<R.viewTo?te.save():null,te.nextLine()}),A&&(T.modeFrontier=te.line),te}function yu(g,b,A,T){var R=g.doc.mode,G=new kt(b,g.options.tabSize,A);for(G.start=G.pos=T||0,b==""&&ld(R,A.state);!G.eol();)ko(R,G,A.state),G.start=G.pos}function ld(g,b){if(g.blankLine)return g.blankLine(b);if(g.innerMode){var A=Sn(g,b);if(A.mode.blankLine)return A.mode.blankLine(A.state)}}function ko(g,b,A,T){for(var R=0;R<10;R++){T&&(T[0]=Sn(g,A).mode);var G=g.token(b,A);if(b.pos>b.start)return G}throw new Error("Mode "+g.name+" failed to advance stream.")}var Lv=function(g,b,A){this.start=g.start,this.end=g.pos,this.string=g.current(),this.type=b||null,this.state=A};function ud(g,b,A,T){var R=g.doc,G=R.mode,K;b=kr(R,b);var te=ot(R,b.line),se=lc(g,b.line,A),ge=new kt(te.text,g.options.tabSize,se),De;for(T&&(De=[]);(T||ge.pos<b.ch)&&!ge.eol();)ge.start=ge.pos,K=ko(G,ge,se.state),T&&De.push(new Lv(ge,K,Yr(R.mode,se.state)));return T?De:new Lv(ge,K,se.state)}function xp(g,b){if(g)for(;;){var A=g.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!A)break;g=g.slice(0,A.index)+g.slice(A.index+A[0].length);var T=A[1]?"bgClass":"textClass";b[T]==null?b[T]=A[2]:new RegExp("(?:^|\\s)"+A[2]+"(?:$|\\s)").test(b[T])||(b[T]+=" "+A[2])}return g}function Qa(g,b,A,T,R,G,K){var te=A.flattenSpans;te==null&&(te=g.options.flattenSpans);var se=0,ge=null,De=new kt(b,g.options.tabSize,T),Be,Ze=g.options.addModeClass&&[null];for(b==""&&xp(ld(A,T.state),G);!De.eol();){if(De.pos>g.options.maxHighlightLength?(te=!1,K&&yu(g,b,T,De.pos),De.pos=b.length,Be=null):Be=xp(ko(A,De,T.state,Ze),G),Ze){var Ye=Ze[0].name;Ye&&(Be="m-"+(Be?Ye+" "+Be:Ye))}if(!te||ge!=Be){for(;se<De.start;)se=Math.min(De.start,se+5e3),R(se,ge);ge=Be}De.start=De.pos}for(;se<De.pos;){var st=Math.min(De.pos,se+5e3);R(st,ge),se=st}}function tfe(g,b,A){for(var T,R,G=g.doc,K=A?-1:b-(g.doc.mode.innerMode?1e3:100),te=b;te>K;--te){if(te<=G.first)return G.first;var se=ot(G,te-1),ge=se.stateAfter;if(ge&&(!A||te+(ge instanceof od?ge.lookAhead:0)<=G.modeFrontier))return te;var De=Z(se.text,null,g.options.tabSize);(R==null||T>De)&&(R=te-1,T=De)}return R}function rfe(g,b){if(g.modeFrontier=Math.min(g.modeFrontier,b),!(g.highlightFrontier<b-10)){for(var A=g.first,T=b-1;T>A;T--){var R=ot(g,T).stateAfter;if(R&&(!(R instanceof od)||T+R.lookAhead<b)){A=T+1;break}}g.highlightFrontier=Math.min(g.highlightFrontier,A)}}var MO=!1,uc=!1;function nfe(){MO=!0}function ife(){uc=!0}function Gb(g,b,A){this.marker=g,this.from=b,this.to=A}function Dv(g,b){if(g)for(var A=0;A<g.length;++A){var T=g[A];if(T.marker==b)return T}}function afe(g,b){for(var A,T=0;T<g.length;++T)g[T]!=b&&(A||(A=[])).push(g[T]);return A}function sfe(g,b,A){var T=A&&window.WeakSet&&(A.markedSpans||(A.markedSpans=new WeakSet));T&&g.markedSpans&&T.has(g.markedSpans)?g.markedSpans.push(b):(g.markedSpans=g.markedSpans?g.markedSpans.concat([b]):[b],T&&T.add(g.markedSpans)),b.marker.attachLine(g)}function ofe(g,b,A){var T;if(g)for(var R=0;R<g.length;++R){var G=g[R],K=G.marker,te=G.from==null||(K.inclusiveLeft?G.from<=b:G.from<b);if(te||G.from==b&&K.type=="bookmark"&&(!A||!G.marker.insertLeft)){var se=G.to==null||(K.inclusiveRight?G.to>=b:G.to>b);(T||(T=[])).push(new Gb(K,G.from,se?null:G.to))}}return T}function lfe(g,b,A){var T;if(g)for(var R=0;R<g.length;++R){var G=g[R],K=G.marker,te=G.to==null||(K.inclusiveRight?G.to>=b:G.to>b);if(te||G.from==b&&K.type=="bookmark"&&(!A||G.marker.insertLeft)){var se=G.from==null||(K.inclusiveLeft?G.from<=b:G.from<b);(T||(T=[])).push(new Gb(K,se?null:G.from-b,G.to==null?null:G.to-b))}}return T}function b6(g,b){if(b.full)return null;var A=$e(g,b.from.line)&&ot(g,b.from.line).markedSpans,T=$e(g,b.to.line)&&ot(g,b.to.line).markedSpans;if(!A&&!T)return null;var R=b.from.ch,G=b.to.ch,K=Cr(b.from,b.to)==0,te=ofe(A,R,K),se=lfe(T,G,K),ge=b.text.length==1,De=Pe(b.text).length+(ge?R:0);if(te)for(var Be=0;Be<te.length;++Be){var Ze=te[Be];if(Ze.to==null){var Ye=Dv(se,Ze.marker);Ye?ge&&(Ze.to=Ye.to==null?null:Ye.to+De):Ze.to=R}}if(se)for(var st=0;st<se.length;++st){var dt=se[st];if(dt.to!=null&&(dt.to+=De),dt.from==null){var Tt=Dv(te,dt.marker);Tt||(dt.from=De,ge&&(te||(te=[])).push(dt))}else dt.from+=De,ge&&(te||(te=[])).push(dt)}te&&(te=NO(te)),se&&se!=te&&(se=NO(se));var Nt=[te];if(!ge){var Bt=b.text.length-2,It;if(Bt>0&&te)for(var Wt=0;Wt<te.length;++Wt)te[Wt].to==null&&(It||(It=[])).push(new Gb(te[Wt].marker,null,null));for(var ur=0;ur<Bt;++ur)Nt.push(It);Nt.push(se)}return Nt}function NO(g){for(var b=0;b<g.length;++b){var A=g[b];A.from!=null&&A.from==A.to&&A.marker.clearWhenEmpty!==!1&&g.splice(b--,1)}return g.length?g:null}function ufe(g,b,A){var T=null;if(g.iter(b.line,A.line+1,function(Ye){if(Ye.markedSpans)for(var st=0;st<Ye.markedSpans.length;++st){var dt=Ye.markedSpans[st].marker;dt.readOnly&&(!T||ae(T,dt)==-1)&&(T||(T=[])).push(dt)}}),!T)return null;for(var R=[{from:b,to:A}],G=0;G<T.length;++G)for(var K=T[G],te=K.find(0),se=0;se<R.length;++se){var ge=R[se];if(!(Cr(ge.to,te.from)<0||Cr(ge.from,te.to)>0)){var De=[se,1],Be=Cr(ge.from,te.from),Ze=Cr(ge.to,te.to);(Be<0||!K.inclusiveLeft&&!Be)&&De.push({from:ge.from,to:te.from}),(Ze>0||!K.inclusiveRight&&!Ze)&&De.push({from:te.to,to:ge.to}),R.splice.apply(R,De),se+=De.length-3}}return R}function IO(g){var b=g.markedSpans;if(b){for(var A=0;A<b.length;++A)b[A].marker.detachLine(g);g.markedSpans=null}}function OO(g,b){if(b){for(var A=0;A<b.length;++A)b[A].marker.attachLine(g);g.markedSpans=b}}function Wb(g){return g.inclusiveLeft?-1:0}function qb(g){return g.inclusiveRight?1:0}function w6(g,b){var A=g.lines.length-b.lines.length;if(A!=0)return A;var T=g.find(),R=b.find(),G=Cr(T.from,R.from)||Wb(g)-Wb(b);if(G)return-G;var K=Cr(T.to,R.to)||qb(g)-qb(b);return K||b.id-g.id}function FO(g,b){var A=uc&&g.markedSpans,T;if(A)for(var R=void 0,G=0;G<A.length;++G)R=A[G],R.marker.collapsed&&(b?R.from:R.to)==null&&(!T||w6(T,R.marker)<0)&&(T=R.marker);return T}function PO(g){return FO(g,!0)}function Yb(g){return FO(g,!1)}function cfe(g,b){var A=uc&&g.markedSpans,T;if(A)for(var R=0;R<A.length;++R){var G=A[R];G.marker.collapsed&&(G.from==null||G.from<b)&&(G.to==null||G.to>b)&&(!T||w6(T,G.marker)<0)&&(T=G.marker)}return T}function BO(g,b,A,T,R){var G=ot(g,b),K=uc&&G.markedSpans;if(K)for(var te=0;te<K.length;++te){var se=K[te];if(se.marker.collapsed){var ge=se.marker.find(0),De=Cr(ge.from,A)||Wb(se.marker)-Wb(R),Be=Cr(ge.to,T)||qb(se.marker)-qb(R);if(!(De>=0&&Be<=0||De<=0&&Be>=0)&&(De<=0&&(se.marker.inclusiveRight&&R.inclusiveLeft?Cr(ge.to,A)>=0:Cr(ge.to,A)>0)||De>=0&&(se.marker.inclusiveRight&&R.inclusiveLeft?Cr(ge.from,T)<=0:Cr(ge.from,T)<0)))return!0}}}function Dl(g){for(var b;b=PO(g);)g=b.find(-1,!0).line;return g}function hfe(g){for(var b;b=Yb(g);)g=b.find(1,!0).line;return g}function ffe(g){for(var b,A;b=Yb(g);)g=b.find(1,!0).line,(A||(A=[])).push(g);return A}function k6(g,b){var A=ot(g,b),T=Dl(A);return A==T?b:Ce(T)}function $O(g,b){if(b>g.lastLine())return b;var A=ot(g,b),T;if(!kh(g,A))return b;for(;T=Yb(A);)A=T.find(1,!0).line;return Ce(A)+1}function kh(g,b){var A=uc&&b.markedSpans;if(A){for(var T=void 0,R=0;R<A.length;++R)if(T=A[R],!!T.marker.collapsed){if(T.from==null)return!0;if(!T.marker.widgetNode&&T.from==0&&T.marker.inclusiveLeft&&S6(g,b,T))return!0}}}function S6(g,b,A){if(A.to==null){var T=A.marker.find(1,!0);return S6(g,T.line,Dv(T.line.markedSpans,A.marker))}if(A.marker.inclusiveRight&&A.to==b.text.length)return!0;for(var R=void 0,G=0;G<b.markedSpans.length;++G)if(R=b.markedSpans[G],R.marker.collapsed&&!R.marker.widgetNode&&R.from==A.to&&(R.to==null||R.to!=A.from)&&(R.marker.inclusiveLeft||A.marker.inclusiveRight)&&S6(g,b,R))return!0}function cc(g){g=Dl(g);for(var b=0,A=g.parent,T=0;T<A.lines.length;++T){var R=A.lines[T];if(R==g)break;b+=R.height}for(var G=A.parent;G;A=G,G=A.parent)for(var K=0;K<G.children.length;++K){var te=G.children[K];if(te==A)break;b+=te.height}return b}function Xb(g){if(g.height==0)return 0;for(var b=g.text.length,A,T=g;A=PO(T);){var R=A.find(0,!0);T=R.from.line,b+=R.from.ch-R.to.ch}for(T=g;A=Yb(T);){var G=A.find(0,!0);b-=T.text.length-G.from.ch,T=G.to.line,b+=T.text.length-G.to.ch}return b}function E6(g){var b=g.display,A=g.doc;b.maxLine=ot(A,A.first),b.maxLineLength=Xb(b.maxLine),b.maxLineChanged=!0,A.iter(function(T){var R=Xb(T);R>b.maxLineLength&&(b.maxLineLength=R,b.maxLine=T)})}var bp=function(g,b,A){this.text=g,OO(this,b),this.height=A?A(this):1};bp.prototype.lineNo=function(){return Ce(this)},ct(bp);function dfe(g,b,A,T){g.text=b,g.stateAfter&&(g.stateAfter=null),g.styles&&(g.styles=null),g.order!=null&&(g.order=null),IO(g),OO(g,A);var R=T?T(g):1;R!=g.height&&jt(g,R)}function pfe(g){g.parent=null,IO(g)}var gfe={},vfe={};function zO(g,b){if(!g||/^\s*$/.test(g))return null;var A=b.addModeClass?vfe:gfe;return A[g]||(A[g]=g.replace(/\S+/g,"cm-$&"))}function HO(g,b){var A=P("span",null,null,h?"padding-right: .1px":null),T={pre:P("pre",[A],"CodeMirror-line"),content:A,col:0,pos:0,cm:g,trailingSpace:!1,splitSpaces:g.getOption("lineWrapping")};b.measure={};for(var R=0;R<=(b.rest?b.rest.length:0);R++){var G=R?b.rest[R-1]:b.line,K=void 0;T.pos=0,T.addToken=yfe,wr(g.display.measure)&&(K=Ie(G,g.doc.direction))&&(T.addToken=bfe(T.addToken,K)),T.map=[];var te=b!=g.display.externalMeasured&&Ce(G);wfe(G,T,xs(g,G,te)),G.styleClasses&&(G.styleClasses.bgClass&&(T.bgClass=q(G.styleClasses.bgClass,T.bgClass||"")),G.styleClasses.textClass&&(T.textClass=q(G.styleClasses.textClass,T.textClass||""))),T.map.length==0&&T.map.push(0,0,T.content.appendChild(nr(g.display.measure))),R==0?(b.measure.map=T.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(T.map),(b.measure.caches||(b.measure.caches=[])).push({}))}if(h){var se=T.content.lastChild;(/\bcm-tab\b/.test(se.className)||se.querySelector&&se.querySelector(".cm-tab"))&&(T.content.className="cm-tab-wrap-hack")}return lt(g,"renderLine",g,b.line,T.pre),T.pre.className&&(T.textClass=q(T.pre.className,T.textClass||"")),T}function mfe(g){var b=O("span","•","cm-invalidchar");return b.title="\\u"+g.charCodeAt(0).toString(16),b.setAttribute("aria-label",b.title),b}function yfe(g,b,A,T,R,G,K){if(b){var te=g.splitSpaces?xfe(b,g.trailingSpace):b,se=g.cm.state.specialChars,ge=!1,De;if(!se.test(b))g.col+=b.length,De=document.createTextNode(te),g.map.push(g.pos,g.pos+b.length,De),l&&u<9&&(ge=!0),g.pos+=b.length;else{De=document.createDocumentFragment();for(var Be=0;;){se.lastIndex=Be;var Ze=se.exec(b),Ye=Ze?Ze.index-Be:b.length-Be;if(Ye){var st=document.createTextNode(te.slice(Be,Be+Ye));l&&u<9?De.appendChild(O("span",[st])):De.appendChild(st),g.map.push(g.pos,g.pos+Ye,st),g.col+=Ye,g.pos+=Ye}if(!Ze)break;Be+=Ye+1;var dt=void 0;if(Ze[0]=="	"){var Tt=g.cm.options.tabSize,Nt=Tt-g.col%Tt;dt=De.appendChild(O("span",Re(Nt),"cm-tab")),dt.setAttribute("role","presentation"),dt.setAttribute("cm-text","	"),g.col+=Nt}else Ze[0]=="\r"||Ze[0]==`
`?(dt=De.appendChild(O("span",Ze[0]=="\r"?"␍":"␤","cm-invalidchar")),dt.setAttribute("cm-text",Ze[0]),g.col+=1):(dt=g.cm.options.specialCharPlaceholder(Ze[0]),dt.setAttribute("cm-text",Ze[0]),l&&u<9?De.appendChild(O("span",[dt])):De.appendChild(dt),g.col+=1);g.map.push(g.pos,g.pos+1,dt),g.pos++}}if(g.trailingSpace=te.charCodeAt(b.length-1)==32,A||T||R||ge||G||K){var Bt=A||"";T&&(Bt+=T),R&&(Bt+=R);var It=O("span",[De],Bt,G);if(K)for(var Wt in K)K.hasOwnProperty(Wt)&&Wt!="style"&&Wt!="class"&&It.setAttribute(Wt,K[Wt]);return g.content.appendChild(It)}g.content.appendChild(De)}}function xfe(g,b){if(g.length>1&&!/  /.test(g))return g;for(var A=b,T="",R=0;R<g.length;R++){var G=g.charAt(R);G==" "&&A&&(R==g.length-1||g.charCodeAt(R+1)==32)&&(G=" "),T+=G,A=G==" "}return T}function bfe(g,b){return function(A,T,R,G,K,te,se){R=R?R+" cm-force-border":"cm-force-border";for(var ge=A.pos,De=ge+T.length;;){for(var Be=void 0,Ze=0;Ze<b.length&&(Be=b[Ze],!(Be.to>ge&&Be.from<=ge));Ze++);if(Be.to>=De)return g(A,T,R,G,K,te,se);g(A,T.slice(0,Be.to-ge),R,G,null,te,se),G=null,T=T.slice(Be.to-ge),ge=Be.to}}}function VO(g,b,A,T){var R=!T&&A.widgetNode;R&&g.map.push(g.pos,g.pos+b,R),!T&&g.cm.display.input.needsContentAttribute&&(R||(R=g.content.appendChild(document.createElement("span"))),R.setAttribute("cm-marker",A.id)),R&&(g.cm.display.input.setUneditable(R),g.content.appendChild(R)),g.pos+=b,g.trailingSpace=!1}function wfe(g,b,A){var T=g.markedSpans,R=g.text,G=0;if(!T){for(var K=1;K<A.length;K+=2)b.addToken(b,R.slice(G,G=A[K]),zO(A[K+1],b.cm.options));return}for(var te=R.length,se=0,ge=1,De="",Be,Ze,Ye=0,st,dt,Tt,Nt,Bt;;){if(Ye==se){st=dt=Tt=Ze="",Bt=null,Nt=null,Ye=1/0;for(var It=[],Wt=void 0,ur=0;ur<T.length;++ur){var ir=T[ur],Or=ir.marker;if(Or.type=="bookmark"&&ir.from==se&&Or.widgetNode)It.push(Or);else if(ir.from<=se&&(ir.to==null||ir.to>se||Or.collapsed&&ir.to==se&&ir.from==se)){if(ir.to!=null&&ir.to!=se&&Ye>ir.to&&(Ye=ir.to,dt=""),Or.className&&(st+=" "+Or.className),Or.css&&(Ze=(Ze?Ze+";":"")+Or.css),Or.startStyle&&ir.from==se&&(Tt+=" "+Or.startStyle),Or.endStyle&&ir.to==Ye&&(Wt||(Wt=[])).push(Or.endStyle,ir.to),Or.title&&((Bt||(Bt={})).title=Or.title),Or.attributes)for(var Tn in Or.attributes)(Bt||(Bt={}))[Tn]=Or.attributes[Tn];Or.collapsed&&(!Nt||w6(Nt.marker,Or)<0)&&(Nt=ir)}else ir.from>se&&Ye>ir.from&&(Ye=ir.from)}if(Wt)for(var Gi=0;Gi<Wt.length;Gi+=2)Wt[Gi+1]==Ye&&(dt+=" "+Wt[Gi]);if(!Nt||Nt.from==se)for(var Kn=0;Kn<It.length;++Kn)VO(b,0,It[Kn]);if(Nt&&(Nt.from||0)==se){if(VO(b,(Nt.to==null?te+1:Nt.to)-se,Nt.marker,Nt.from==null),Nt.to==null)return;Nt.to==se&&(Nt=!1)}}if(se>=te)break;for(var Ys=Math.min(te,Ye);;){if(De){var ks=se+De.length;if(!Nt){var Si=ks>Ys?De.slice(0,Ys-se):De;b.addToken(b,Si,Be?Be+st:st,Tt,se+Si.length==Ye?dt:"",Ze,Bt)}if(ks>=Ys){De=De.slice(Ys-se),se=Ys;break}se=ks,Tt=""}De=R.slice(G,G=A[ge++]),Be=zO(A[ge++],b.cm.options)}}}function UO(g,b,A){this.line=b,this.rest=ffe(b),this.size=this.rest?Ce(Pe(this.rest))-A+1:1,this.node=this.text=null,this.hidden=kh(g,b)}function jb(g,b,A){for(var T=[],R,G=b;G<A;G=R){var K=new UO(g.doc,ot(g.doc,G),G);R=G+K.size,T.push(K)}return T}var wp=null;function kfe(g){wp?wp.ops.push(g):g.ownsGroup=wp={ops:[g],delayedCallbacks:[]}}function Sfe(g){var b=g.delayedCallbacks,A=0;do{for(;A<b.length;A++)b[A].call(null);for(var T=0;T<g.ops.length;T++){var R=g.ops[T];if(R.cursorActivityHandlers)for(;R.cursorActivityCalled<R.cursorActivityHandlers.length;)R.cursorActivityHandlers[R.cursorActivityCalled++].call(null,R.cm)}}while(A<b.length)}function Efe(g,b){var A=g.ownsGroup;if(A)try{Sfe(A)}finally{wp=null,b(A)}}var Rv=null;function Hi(g,b){var A=He(g,b);if(A.length){var T=Array.prototype.slice.call(arguments,2),R;wp?R=wp.delayedCallbacks:Rv?R=Rv:(R=Rv=[],setTimeout(Tfe,0));for(var G=function(te){R.push(function(){return A[te].apply(null,T)})},K=0;K<A.length;++K)G(K)}}function Tfe(){var g=Rv;Rv=null;for(var b=0;b<g.length;++b)g[b]()}function GO(g,b,A,T){for(var R=0;R<b.changes.length;R++){var G=b.changes[R];G=="text"?Afe(g,b):G=="gutter"?qO(g,b,A,T):G=="class"?T6(g,b):G=="widget"&&_fe(g,b,T)}b.changes=null}function Mv(g){return g.node==g.text&&(g.node=O("div",null,null,"position: relative"),g.text.parentNode&&g.text.parentNode.replaceChild(g.node,g.text),g.node.appendChild(g.text),l&&u<8&&(g.node.style.zIndex=2)),g.node}function Cfe(g,b){var A=b.bgClass?b.bgClass+" "+(b.line.bgClass||""):b.line.bgClass;if(A&&(A+=" CodeMirror-linebackground"),b.background)A?b.background.className=A:(b.background.parentNode.removeChild(b.background),b.background=null);else if(A){var T=Mv(b);b.background=T.insertBefore(O("div",null,A),T.firstChild),g.display.input.setUneditable(b.background)}}function WO(g,b){var A=g.display.externalMeasured;return A&&A.line==b.line?(g.display.externalMeasured=null,b.measure=A.measure,A.built):HO(g,b)}function Afe(g,b){var A=b.text.className,T=WO(g,b);b.text==b.node&&(b.node=T.pre),b.text.parentNode.replaceChild(T.pre,b.text),b.text=T.pre,T.bgClass!=b.bgClass||T.textClass!=b.textClass?(b.bgClass=T.bgClass,b.textClass=T.textClass,T6(g,b)):A&&(b.text.className=A)}function T6(g,b){Cfe(g,b),b.line.wrapClass?Mv(b).className=b.line.wrapClass:b.node!=b.text&&(b.node.className="");var A=b.textClass?b.textClass+" "+(b.line.textClass||""):b.line.textClass;b.text.className=A||""}function qO(g,b,A,T){if(b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null),b.gutterBackground&&(b.node.removeChild(b.gutterBackground),b.gutterBackground=null),b.line.gutterClass){var R=Mv(b);b.gutterBackground=O("div",null,"CodeMirror-gutter-background "+b.line.gutterClass,"left: "+(g.options.fixedGutter?T.fixedPos:-T.gutterTotalWidth)+"px; width: "+T.gutterTotalWidth+"px"),g.display.input.setUneditable(b.gutterBackground),R.insertBefore(b.gutterBackground,b.text)}var G=b.line.gutterMarkers;if(g.options.lineNumbers||G){var K=Mv(b),te=b.gutter=O("div",null,"CodeMirror-gutter-wrapper","left: "+(g.options.fixedGutter?T.fixedPos:-T.gutterTotalWidth)+"px");if(te.setAttribute("aria-hidden","true"),g.display.input.setUneditable(te),K.insertBefore(te,b.text),b.line.gutterClass&&(te.className+=" "+b.line.gutterClass),g.options.lineNumbers&&(!G||!G["CodeMirror-linenumbers"])&&(b.lineNumber=te.appendChild(O("div",mn(g.options,A),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+T.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+g.display.lineNumInnerWidth+"px"))),G)for(var se=0;se<g.display.gutterSpecs.length;++se){var ge=g.display.gutterSpecs[se].className,De=G.hasOwnProperty(ge)&&G[ge];De&&te.appendChild(O("div",[De],"CodeMirror-gutter-elt","left: "+T.gutterLeft[ge]+"px; width: "+T.gutterWidth[ge]+"px"))}}}function _fe(g,b,A){b.alignable&&(b.alignable=null);for(var T=N("CodeMirror-linewidget"),R=b.node.firstChild,G=void 0;R;R=G)G=R.nextSibling,T.test(R.className)&&b.node.removeChild(R);YO(g,b,A)}function Lfe(g,b,A,T){var R=WO(g,b);return b.text=b.node=R.pre,R.bgClass&&(b.bgClass=R.bgClass),R.textClass&&(b.textClass=R.textClass),T6(g,b),qO(g,b,A,T),YO(g,b,T),b.node}function YO(g,b,A){if(XO(g,b.line,b,A,!0),b.rest)for(var T=0;T<b.rest.length;T++)XO(g,b.rest[T],b,A,!1)}function XO(g,b,A,T,R){if(b.widgets)for(var G=Mv(A),K=0,te=b.widgets;K<te.length;++K){var se=te[K],ge=O("div",[se.node],"CodeMirror-linewidget"+(se.className?" "+se.className:""));se.handleMouseEvents||ge.setAttribute("cm-ignore-events","true"),Dfe(se,ge,A,T),g.display.input.setUneditable(ge),R&&se.above?G.insertBefore(ge,A.gutter||A.text):G.appendChild(ge),Hi(se,"redraw")}}function Dfe(g,b,A,T){if(g.noHScroll){(A.alignable||(A.alignable=[])).push(b);var R=T.wrapperWidth;b.style.left=T.fixedPos+"px",g.coverGutter||(R-=T.gutterTotalWidth,b.style.paddingLeft=T.gutterTotalWidth+"px"),b.style.width=R+"px"}g.coverGutter&&(b.style.zIndex=5,b.style.position="relative",g.noHScroll||(b.style.marginLeft=-T.gutterTotalWidth+"px"))}function Nv(g){if(g.height!=null)return g.height;var b=g.doc.cm;if(!b)return 0;if(!B(document.body,g.node)){var A="position: relative;";g.coverGutter&&(A+="margin-left: -"+b.display.gutters.offsetWidth+"px;"),g.noHScroll&&(A+="width: "+b.display.wrapper.clientWidth+"px;"),D(b.display.measure,O("div",[g.node],null,A))}return g.height=g.node.parentNode.offsetHeight}function hc(g,b){for(var A=Zt(b);A!=g.wrapper;A=A.parentNode)if(!A||A.nodeType==1&&A.getAttribute("cm-ignore-events")=="true"||A.parentNode==g.sizer&&A!=g.mover)return!0}function Kb(g){return g.lineSpace.offsetTop}function C6(g){return g.mover.offsetHeight-g.lineSpace.offsetHeight}function jO(g){if(g.cachedPaddingH)return g.cachedPaddingH;var b=D(g.measure,O("pre","x","CodeMirror-line-like")),A=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,T={left:parseInt(A.paddingLeft),right:parseInt(A.paddingRight)};return!isNaN(T.left)&&!isNaN(T.right)&&(g.cachedPaddingH=T),T}function xu(g){return pe-g.display.nativeBarWidth}function cd(g){return g.display.scroller.clientWidth-xu(g)-g.display.barWidth}function A6(g){return g.display.scroller.clientHeight-xu(g)-g.display.barHeight}function Rfe(g,b,A){var T=g.options.lineWrapping,R=T&&cd(g);if(!b.measure.heights||T&&b.measure.width!=R){var G=b.measure.heights=[];if(T){b.measure.width=R;for(var K=b.text.firstChild.getClientRects(),te=0;te<K.length-1;te++){var se=K[te],ge=K[te+1];Math.abs(se.bottom-ge.bottom)>2&&G.push((se.bottom+ge.top)/2-A.top)}}G.push(A.bottom-A.top)}}function KO(g,b,A){if(g.line==b)return{map:g.measure.map,cache:g.measure.cache};if(g.rest){for(var T=0;T<g.rest.length;T++)if(g.rest[T]==b)return{map:g.measure.maps[T],cache:g.measure.caches[T]};for(var R=0;R<g.rest.length;R++)if(Ce(g.rest[R])>A)return{map:g.measure.maps[R],cache:g.measure.caches[R],before:!0}}}function Mfe(g,b){b=Dl(b);var A=Ce(b),T=g.display.externalMeasured=new UO(g.doc,b,A);T.lineN=A;var R=T.built=HO(g,T);return T.text=R.pre,D(g.display.lineMeasure,R.pre),T}function QO(g,b,A,T){return bu(g,kp(g,b),A,T)}function _6(g,b){if(b>=g.display.viewFrom&&b<g.display.viewTo)return g.display.view[dd(g,b)];var A=g.display.externalMeasured;if(A&&b>=A.lineN&&b<A.lineN+A.size)return A}function kp(g,b){var A=Ce(b),T=_6(g,A);T&&!T.text?T=null:T&&T.changes&&(GO(g,T,A,N6(g)),g.curOp.forceUpdate=!0),T||(T=Mfe(g,b));var R=KO(T,b,A);return{line:b,view:T,rect:null,map:R.map,cache:R.cache,before:R.before,hasHeights:!1}}function bu(g,b,A,T,R){b.before&&(A=-1);var G=A+(T||""),K;return b.cache.hasOwnProperty(G)?K=b.cache[G]:(b.rect||(b.rect=b.view.text.getBoundingClientRect()),b.hasHeights||(Rfe(g,b.view,b.rect),b.hasHeights=!0),K=Ife(g,b,A,T),K.bogus||(b.cache[G]=K)),{left:K.left,right:K.right,top:R?K.rtop:K.top,bottom:R?K.rbottom:K.bottom}}var ZO={left:0,right:0,top:0,bottom:0};function JO(g,b,A){for(var T,R,G,K,te,se,ge=0;ge<g.length;ge+=3)if(te=g[ge],se=g[ge+1],b<te?(R=0,G=1,K="left"):b<se?(R=b-te,G=R+1):(ge==g.length-3||b==se&&g[ge+3]>b)&&(G=se-te,R=G-1,b>=se&&(K="right")),R!=null){if(T=g[ge+2],te==se&&A==(T.insertLeft?"left":"right")&&(K=A),A=="left"&&R==0)for(;ge&&g[ge-2]==g[ge-3]&&g[ge-1].insertLeft;)T=g[(ge-=3)+2],K="left";if(A=="right"&&R==se-te)for(;ge<g.length-3&&g[ge+3]==g[ge+4]&&!g[ge+5].insertLeft;)T=g[(ge+=3)+2],K="right";break}return{node:T,start:R,end:G,collapse:K,coverStart:te,coverEnd:se}}function Nfe(g,b){var A=ZO;if(b=="left")for(var T=0;T<g.length&&(A=g[T]).left==A.right;T++);else for(var R=g.length-1;R>=0&&(A=g[R]).left==A.right;R--);return A}function Ife(g,b,A,T){var R=JO(b.map,A,T),G=R.node,K=R.start,te=R.end,se=R.collapse,ge;if(G.nodeType==3){for(var De=0;De<4;De++){for(;K&&ee(b.line.text.charAt(R.coverStart+K));)--K;for(;R.coverStart+te<R.coverEnd&&ee(b.line.text.charAt(R.coverStart+te));)++te;if(l&&u<9&&K==0&&te==R.coverEnd-R.coverStart?ge=G.parentNode.getBoundingClientRect():ge=Nfe($(G,K,te).getClientRects(),T),ge.left||ge.right||K==0)break;te=K,K=K-1,se="right"}l&&u<11&&(ge=Ofe(g.display.measure,ge))}else{K>0&&(se=T="right");var Be;g.options.lineWrapping&&(Be=G.getClientRects()).length>1?ge=Be[T=="right"?Be.length-1:0]:ge=G.getBoundingClientRect()}if(l&&u<9&&!K&&(!ge||!ge.left&&!ge.right)){var Ze=G.parentNode.getClientRects()[0];Ze?ge={left:Ze.left,right:Ze.left+Ep(g.display),top:Ze.top,bottom:Ze.bottom}:ge=ZO}for(var Ye=ge.top-b.rect.top,st=ge.bottom-b.rect.top,dt=(Ye+st)/2,Tt=b.view.measure.heights,Nt=0;Nt<Tt.length-1&&!(dt<Tt[Nt]);Nt++);var Bt=Nt?Tt[Nt-1]:0,It=Tt[Nt],Wt={left:(se=="right"?ge.right:ge.left)-b.rect.left,right:(se=="left"?ge.left:ge.right)-b.rect.left,top:Bt,bottom:It};return!ge.left&&!ge.right&&(Wt.bogus=!0),g.options.singleCursorHeightPerLine||(Wt.rtop=Ye,Wt.rbottom=st),Wt}function Ofe(g,b){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Dn(g))return b;var A=screen.logicalXDPI/screen.deviceXDPI,T=screen.logicalYDPI/screen.deviceYDPI;return{left:b.left*A,right:b.right*A,top:b.top*T,bottom:b.bottom*T}}function eF(g){if(g.measure&&(g.measure.cache={},g.measure.heights=null,g.rest))for(var b=0;b<g.rest.length;b++)g.measure.caches[b]={}}function tF(g){g.display.externalMeasure=null,V(g.display.lineMeasure);for(var b=0;b<g.display.view.length;b++)eF(g.display.view[b])}function Iv(g){tF(g),g.display.cachedCharWidth=g.display.cachedTextHeight=g.display.cachedPaddingH=null,g.options.lineWrapping||(g.display.maxLineChanged=!0),g.display.lineNumChars=null}function rF(g){return d&&k?-(g.body.getBoundingClientRect().left-parseInt(getComputedStyle(g.body).marginLeft)):g.defaultView.pageXOffset||(g.documentElement||g.body).scrollLeft}function nF(g){return d&&k?-(g.body.getBoundingClientRect().top-parseInt(getComputedStyle(g.body).marginTop)):g.defaultView.pageYOffset||(g.documentElement||g.body).scrollTop}function L6(g){var b=Dl(g),A=b.widgets,T=0;if(A)for(var R=0;R<A.length;++R)A[R].above&&(T+=Nv(A[R]));return T}function Qb(g,b,A,T,R){if(!R){var G=L6(b);A.top+=G,A.bottom+=G}if(T=="line")return A;T||(T="local");var K=cc(b);if(T=="local"?K+=Kb(g.display):K-=g.display.viewOffset,T=="page"||T=="window"){var te=g.display.lineSpace.getBoundingClientRect();K+=te.top+(T=="window"?0:nF(U(g)));var se=te.left+(T=="window"?0:rF(U(g)));A.left+=se,A.right+=se}return A.top+=K,A.bottom+=K,A}function iF(g,b,A){if(A=="div")return b;var T=b.left,R=b.top;if(A=="page")T-=rF(U(g)),R-=nF(U(g));else if(A=="local"||!A){var G=g.display.sizer.getBoundingClientRect();T+=G.left,R+=G.top}var K=g.display.lineSpace.getBoundingClientRect();return{left:T-K.left,top:R-K.top}}function Zb(g,b,A,T,R){return T||(T=ot(g.doc,b.line)),Qb(g,T,QO(g,T,b.ch,R),A)}function Rl(g,b,A,T,R,G){T=T||ot(g.doc,b.line),R||(R=kp(g,T));function K(st,dt){var Tt=bu(g,R,st,dt?"right":"left",G);return dt?Tt.left=Tt.right:Tt.right=Tt.left,Qb(g,T,Tt,A)}var te=Ie(T,g.doc.direction),se=b.ch,ge=b.sticky;if(se>=T.text.length?(se=T.text.length,ge="before"):se<=0&&(se=0,ge="after"),!te)return K(ge=="before"?se-1:se,ge=="before");function De(st,dt,Tt){var Nt=te[dt],Bt=Nt.level==1;return K(Tt?st-1:st,Bt!=Tt)}var Be=Oe(te,se,ge),Ze=Le,Ye=De(se,Be,ge=="before");return Ze!=null&&(Ye.other=De(se,Ze,ge!="before")),Ye}function aF(g,b){var A=0;b=kr(g.doc,b),g.options.lineWrapping||(A=Ep(g.display)*b.ch);var T=ot(g.doc,b.line),R=cc(T)+Kb(g.display);return{left:A,right:A,top:R,bottom:R+T.height}}function D6(g,b,A,T,R){var G=mt(g,b,A);return G.xRel=R,T&&(G.outside=T),G}function R6(g,b,A){var T=g.doc;if(A+=g.display.viewOffset,A<0)return D6(T.first,0,null,-1,-1);var R=Nr(T,A),G=T.first+T.size-1;if(R>G)return D6(T.first+T.size-1,ot(T,G).text.length,null,1,1);b<0&&(b=0);for(var K=ot(T,R);;){var te=Ffe(g,K,R,b,A),se=cfe(K,te.ch+(te.xRel>0||te.outside>0?1:0));if(!se)return te;var ge=se.find(1);if(ge.line==R)return ge;K=ot(T,R=ge.line)}}function sF(g,b,A,T){T-=L6(b);var R=b.text.length,G=_e(function(K){return bu(g,A,K-1).bottom<=T},R,0);return R=_e(function(K){return bu(g,A,K).top>T},G,R),{begin:G,end:R}}function oF(g,b,A,T){A||(A=kp(g,b));var R=Qb(g,b,bu(g,A,T),"line").top;return sF(g,b,A,R)}function M6(g,b,A,T){return g.bottom<=A?!1:g.top>A?!0:(T?g.left:g.right)>b}function Ffe(g,b,A,T,R){R-=cc(b);var G=kp(g,b),K=L6(b),te=0,se=b.text.length,ge=!0,De=Ie(b,g.doc.direction);if(De){var Be=(g.options.lineWrapping?Bfe:Pfe)(g,b,A,G,De,T,R);ge=Be.level!=1,te=ge?Be.from:Be.to-1,se=ge?Be.to:Be.from-1}var Ze=null,Ye=null,st=_e(function(ur){var ir=bu(g,G,ur);return ir.top+=K,ir.bottom+=K,M6(ir,T,R,!1)?(ir.top<=R&&ir.left<=T&&(Ze=ur,Ye=ir),!0):!1},te,se),dt,Tt,Nt=!1;if(Ye){var Bt=T-Ye.left<Ye.right-T,It=Bt==ge;st=Ze+(It?0:1),Tt=It?"after":"before",dt=Bt?Ye.left:Ye.right}else{!ge&&(st==se||st==te)&&st++,Tt=st==0?"after":st==b.text.length?"before":bu(g,G,st-(ge?1:0)).bottom+K<=R==ge?"after":"before";var Wt=Rl(g,mt(A,st,Tt),"line",b,G);dt=Wt.left,Nt=R<Wt.top?-1:R>=Wt.bottom?1:0}return st=le(b.text,st,1),D6(A,st,Tt,Nt,T-dt)}function Pfe(g,b,A,T,R,G,K){var te=_e(function(Be){var Ze=R[Be],Ye=Ze.level!=1;return M6(Rl(g,mt(A,Ye?Ze.to:Ze.from,Ye?"before":"after"),"line",b,T),G,K,!0)},0,R.length-1),se=R[te];if(te>0){var ge=se.level!=1,De=Rl(g,mt(A,ge?se.from:se.to,ge?"after":"before"),"line",b,T);M6(De,G,K,!0)&&De.top>K&&(se=R[te-1])}return se}function Bfe(g,b,A,T,R,G,K){var te=sF(g,b,T,K),se=te.begin,ge=te.end;/\s/.test(b.text.charAt(ge-1))&&ge--;for(var De=null,Be=null,Ze=0;Ze<R.length;Ze++){var Ye=R[Ze];if(!(Ye.from>=ge||Ye.to<=se)){var st=Ye.level!=1,dt=bu(g,T,st?Math.min(ge,Ye.to)-1:Math.max(se,Ye.from)).right,Tt=dt<G?G-dt+1e9:dt-G;(!De||Be>Tt)&&(De=Ye,Be=Tt)}}return De||(De=R[R.length-1]),De.from<se&&(De={from:se,to:De.to,level:De.level}),De.to>ge&&(De={from:De.from,to:ge,level:De.level}),De}var hd;function Sp(g){if(g.cachedTextHeight!=null)return g.cachedTextHeight;if(hd==null){hd=O("pre",null,"CodeMirror-line-like");for(var b=0;b<49;++b)hd.appendChild(document.createTextNode("x")),hd.appendChild(O("br"));hd.appendChild(document.createTextNode("x"))}D(g.measure,hd);var A=hd.offsetHeight/50;return A>3&&(g.cachedTextHeight=A),V(g.measure),A||1}function Ep(g){if(g.cachedCharWidth!=null)return g.cachedCharWidth;var b=O("span","xxxxxxxxxx"),A=O("pre",[b],"CodeMirror-line-like");D(g.measure,A);var T=b.getBoundingClientRect(),R=(T.right-T.left)/10;return R>2&&(g.cachedCharWidth=R),R||10}function N6(g){for(var b=g.display,A={},T={},R=b.gutters.clientLeft,G=b.gutters.firstChild,K=0;G;G=G.nextSibling,++K){var te=g.display.gutterSpecs[K].className;A[te]=G.offsetLeft+G.clientLeft+R,T[te]=G.clientWidth}return{fixedPos:I6(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:A,gutterWidth:T,wrapperWidth:b.wrapper.clientWidth}}function I6(g){return g.scroller.getBoundingClientRect().left-g.sizer.getBoundingClientRect().left}function lF(g){var b=Sp(g.display),A=g.options.lineWrapping,T=A&&Math.max(5,g.display.scroller.clientWidth/Ep(g.display)-3);return function(R){if(kh(g.doc,R))return 0;var G=0;if(R.widgets)for(var K=0;K<R.widgets.length;K++)R.widgets[K].height&&(G+=R.widgets[K].height);return A?G+(Math.ceil(R.text.length/T)||1)*b:G+b}}function O6(g){var b=g.doc,A=lF(g);b.iter(function(T){var R=A(T);R!=T.height&&jt(T,R)})}function fd(g,b,A,T){var R=g.display;if(!A&&Zt(b).getAttribute("cm-not-content")=="true")return null;var G,K,te=R.lineSpace.getBoundingClientRect();try{G=b.clientX-te.left,K=b.clientY-te.top}catch{return null}var se=R6(g,G,K),ge;if(T&&se.xRel>0&&(ge=ot(g.doc,se.line).text).length==se.ch){var De=Z(ge,ge.length,g.options.tabSize)-ge.length;se=mt(se.line,Math.max(0,Math.round((G-jO(g.display).left)/Ep(g.display))-De))}return se}function dd(g,b){if(b>=g.display.viewTo||(b-=g.display.viewFrom,b<0))return null;for(var A=g.display.view,T=0;T<A.length;T++)if(b-=A[T].size,b<0)return T}function bs(g,b,A,T){b==null&&(b=g.doc.first),A==null&&(A=g.doc.first+g.doc.size),T||(T=0);var R=g.display;if(T&&A<R.viewTo&&(R.updateLineNumbers==null||R.updateLineNumbers>b)&&(R.updateLineNumbers=b),g.curOp.viewChanged=!0,b>=R.viewTo)uc&&k6(g.doc,b)<R.viewTo&&Eh(g);else if(A<=R.viewFrom)uc&&$O(g.doc,A+T)>R.viewFrom?Eh(g):(R.viewFrom+=T,R.viewTo+=T);else if(b<=R.viewFrom&&A>=R.viewTo)Eh(g);else if(b<=R.viewFrom){var G=Jb(g,A,A+T,1);G?(R.view=R.view.slice(G.index),R.viewFrom=G.lineN,R.viewTo+=T):Eh(g)}else if(A>=R.viewTo){var K=Jb(g,b,b,-1);K?(R.view=R.view.slice(0,K.index),R.viewTo=K.lineN):Eh(g)}else{var te=Jb(g,b,b,-1),se=Jb(g,A,A+T,1);te&&se?(R.view=R.view.slice(0,te.index).concat(jb(g,te.lineN,se.lineN)).concat(R.view.slice(se.index)),R.viewTo+=T):Eh(g)}var ge=R.externalMeasured;ge&&(A<ge.lineN?ge.lineN+=T:b<ge.lineN+ge.size&&(R.externalMeasured=null))}function Sh(g,b,A){g.curOp.viewChanged=!0;var T=g.display,R=g.display.externalMeasured;if(R&&b>=R.lineN&&b<R.lineN+R.size&&(T.externalMeasured=null),!(b<T.viewFrom||b>=T.viewTo)){var G=T.view[dd(g,b)];if(G.node!=null){var K=G.changes||(G.changes=[]);ae(K,A)==-1&&K.push(A)}}}function Eh(g){g.display.viewFrom=g.display.viewTo=g.doc.first,g.display.view=[],g.display.viewOffset=0}function Jb(g,b,A,T){var R=dd(g,b),G,K=g.display.view;if(!uc||A==g.doc.first+g.doc.size)return{index:R,lineN:A};for(var te=g.display.viewFrom,se=0;se<R;se++)te+=K[se].size;if(te!=b){if(T>0){if(R==K.length-1)return null;G=te+K[R].size-b,R++}else G=te-b;b+=G,A+=G}for(;k6(g.doc,A)!=A;){if(R==(T<0?0:K.length-1))return null;A+=T*K[R-(T<0?1:0)].size,R+=T}return{index:R,lineN:A}}function $fe(g,b,A){var T=g.display,R=T.view;R.length==0||b>=T.viewTo||A<=T.viewFrom?(T.view=jb(g,b,A),T.viewFrom=b):(T.viewFrom>b?T.view=jb(g,b,T.viewFrom).concat(T.view):T.viewFrom<b&&(T.view=T.view.slice(dd(g,b))),T.viewFrom=b,T.viewTo<A?T.view=T.view.concat(jb(g,T.viewTo,A)):T.viewTo>A&&(T.view=T.view.slice(0,dd(g,A)))),T.viewTo=A}function uF(g){for(var b=g.display.view,A=0,T=0;T<b.length;T++){var R=b[T];!R.hidden&&(!R.node||R.changes)&&++A}return A}function Ov(g){g.display.input.showSelection(g.display.input.prepareSelection())}function cF(g,b){b===void 0&&(b=!0);var A=g.doc,T={},R=T.cursors=document.createDocumentFragment(),G=T.selection=document.createDocumentFragment(),K=g.options.$customCursor;K&&(b=!0);for(var te=0;te<A.sel.ranges.length;te++)if(!(!b&&te==A.sel.primIndex)){var se=A.sel.ranges[te];if(!(se.from().line>=g.display.viewTo||se.to().line<g.display.viewFrom)){var ge=se.empty();if(K){var De=K(g,se);De&&F6(g,De,R)}else(ge||g.options.showCursorWhenSelecting)&&F6(g,se.head,R);ge||zfe(g,se,G)}}return T}function F6(g,b,A){var T=Rl(g,b,"div",null,null,!g.options.singleCursorHeightPerLine),R=A.appendChild(O("div"," ","CodeMirror-cursor"));if(R.style.left=T.left+"px",R.style.top=T.top+"px",R.style.height=Math.max(0,T.bottom-T.top)*g.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(g.getWrapperElement().className)){var G=Zb(g,b,"div",null,null),K=G.right-G.left;R.style.width=(K>0?K:g.defaultCharWidth())+"px"}if(T.other){var te=A.appendChild(O("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));te.style.display="",te.style.left=T.other.left+"px",te.style.top=T.other.top+"px",te.style.height=(T.other.bottom-T.other.top)*.85+"px"}}function e4(g,b){return g.top-b.top||g.left-b.left}function zfe(g,b,A){var T=g.display,R=g.doc,G=document.createDocumentFragment(),K=jO(g.display),te=K.left,se=Math.max(T.sizerWidth,cd(g)-T.sizer.offsetLeft)-K.right,ge=R.direction=="ltr";function De(It,Wt,ur,ir){Wt<0&&(Wt=0),Wt=Math.round(Wt),ir=Math.round(ir),G.appendChild(O("div",null,"CodeMirror-selected","position: absolute; left: "+It+`px;
                             top: `+Wt+"px; width: "+(ur??se-It)+`px;
                             height: `+(ir-Wt)+"px"))}function Be(It,Wt,ur){var ir=ot(R,It),Or=ir.text.length,Tn,Gi;function Kn(Si,Ss){return Zb(g,mt(It,Si),"div",ir,Ss)}function Ys(Si,Ss,fa){var Ni=oF(g,ir,null,Si),Ei=Ss=="ltr"==(fa=="after")?"left":"right",ii=fa=="after"?Ni.begin:Ni.end-(/\s/.test(ir.text.charAt(Ni.end-1))?2:1);return Kn(ii,Ei)[Ei]}var ks=Ie(ir,R.direction);return ke(ks,Wt||0,ur??Or,function(Si,Ss,fa,Ni){var Ei=fa=="ltr",ii=Kn(Si,Ei?"left":"right"),Es=Kn(Ss-1,Ei?"right":"left"),Pp=Wt==null&&Si==0,Dh=ur==null&&Ss==Or,_a=Ni==0,wu=!ks||Ni==ks.length-1;if(Es.top-ii.top<=3){var Wi=(ge?Pp:Dh)&&_a,uC=(ge?Dh:Pp)&&wu,pc=Wi?te:(Ei?ii:Es).left,yd=uC?se:(Ei?Es:ii).right;De(pc,ii.top,yd-pc,ii.bottom)}else{var xd,Ja,Bp,cC;Ei?(xd=ge&&Pp&&_a?te:ii.left,Ja=ge?se:Ys(Si,fa,"before"),Bp=ge?te:Ys(Ss,fa,"after"),cC=ge&&Dh&&wu?se:Es.right):(xd=ge?Ys(Si,fa,"before"):te,Ja=!ge&&Pp&&_a?se:ii.right,Bp=!ge&&Dh&&wu?te:Es.left,cC=ge?Ys(Ss,fa,"after"):se),De(xd,ii.top,Ja-xd,ii.bottom),ii.bottom<Es.top&&De(te,ii.bottom,null,Es.top),De(Bp,Es.top,cC-Bp,Es.bottom)}(!Tn||e4(ii,Tn)<0)&&(Tn=ii),e4(Es,Tn)<0&&(Tn=Es),(!Gi||e4(ii,Gi)<0)&&(Gi=ii),e4(Es,Gi)<0&&(Gi=Es)}),{start:Tn,end:Gi}}var Ze=b.from(),Ye=b.to();if(Ze.line==Ye.line)Be(Ze.line,Ze.ch,Ye.ch);else{var st=ot(R,Ze.line),dt=ot(R,Ye.line),Tt=Dl(st)==Dl(dt),Nt=Be(Ze.line,Ze.ch,Tt?st.text.length+1:null).end,Bt=Be(Ye.line,Tt?0:null,Ye.ch).start;Tt&&(Nt.top<Bt.top-2?(De(Nt.right,Nt.top,null,Nt.bottom),De(te,Bt.top,Bt.left,Bt.bottom)):De(Nt.right,Nt.top,Bt.left-Nt.right,Nt.bottom)),Nt.bottom<Bt.top&&De(te,Nt.bottom,null,Bt.top)}A.appendChild(G)}function P6(g){if(g.state.focused){var b=g.display;clearInterval(b.blinker);var A=!0;b.cursorDiv.style.visibility="",g.options.cursorBlinkRate>0?b.blinker=setInterval(function(){g.hasFocus()||Tp(g),b.cursorDiv.style.visibility=(A=!A)?"":"hidden"},g.options.cursorBlinkRate):g.options.cursorBlinkRate<0&&(b.cursorDiv.style.visibility="hidden")}}function hF(g){g.hasFocus()||(g.display.input.focus(),g.state.focused||$6(g))}function B6(g){g.state.delayingBlurEvent=!0,setTimeout(function(){g.state.delayingBlurEvent&&(g.state.delayingBlurEvent=!1,g.state.focused&&Tp(g))},100)}function $6(g,b){g.state.delayingBlurEvent&&!g.state.draggingText&&(g.state.delayingBlurEvent=!1),g.options.readOnly!="nocursor"&&(g.state.focused||(lt(g,"focus",g,b),g.state.focused=!0,X(g.display.wrapper,"CodeMirror-focused"),!g.curOp&&g.display.selForContextMenu!=g.doc.sel&&(g.display.input.reset(),h&&setTimeout(function(){return g.display.input.reset(!0)},20)),g.display.input.receivedFocus()),P6(g))}function Tp(g,b){g.state.delayingBlurEvent||(g.state.focused&&(lt(g,"blur",g,b),g.state.focused=!1,z(g.display.wrapper,"CodeMirror-focused")),clearInterval(g.display.blinker),setTimeout(function(){g.state.focused||(g.display.shift=!1)},150))}function t4(g){for(var b=g.display,A=b.lineDiv.offsetTop,T=Math.max(0,b.scroller.getBoundingClientRect().top),R=b.lineDiv.getBoundingClientRect().top,G=0,K=0;K<b.view.length;K++){var te=b.view[K],se=g.options.lineWrapping,ge=void 0,De=0;if(!te.hidden){if(R+=te.line.height,l&&u<8){var Be=te.node.offsetTop+te.node.offsetHeight;ge=Be-A,A=Be}else{var Ze=te.node.getBoundingClientRect();ge=Ze.bottom-Ze.top,!se&&te.text.firstChild&&(De=te.text.firstChild.getBoundingClientRect().right-Ze.left-1)}var Ye=te.line.height-ge;if((Ye>.005||Ye<-.005)&&(R<T&&(G-=Ye),jt(te.line,ge),fF(te.line),te.rest))for(var st=0;st<te.rest.length;st++)fF(te.rest[st]);if(De>g.display.sizerWidth){var dt=Math.ceil(De/Ep(g.display));dt>g.display.maxLineLength&&(g.display.maxLineLength=dt,g.display.maxLine=te.line,g.display.maxLineChanged=!0)}}}Math.abs(G)>2&&(b.scroller.scrollTop+=G)}function fF(g){if(g.widgets)for(var b=0;b<g.widgets.length;++b){var A=g.widgets[b],T=A.node.parentNode;T&&(A.height=T.offsetHeight)}}function r4(g,b,A){var T=A&&A.top!=null?Math.max(0,A.top):g.scroller.scrollTop;T=Math.floor(T-Kb(g));var R=A&&A.bottom!=null?A.bottom:T+g.wrapper.clientHeight,G=Nr(b,T),K=Nr(b,R);if(A&&A.ensure){var te=A.ensure.from.line,se=A.ensure.to.line;te<G?(G=te,K=Nr(b,cc(ot(b,te))+g.wrapper.clientHeight)):Math.min(se,b.lastLine())>=K&&(G=Nr(b,cc(ot(b,se))-g.wrapper.clientHeight),K=se)}return{from:G,to:Math.max(K,G+1)}}function Hfe(g,b){if(!ft(g,"scrollCursorIntoView")){var A=g.display,T=A.sizer.getBoundingClientRect(),R=null,G=A.wrapper.ownerDocument;if(b.top+T.top<0?R=!0:b.bottom+T.top>(G.defaultView.innerHeight||G.documentElement.clientHeight)&&(R=!1),R!=null&&!y){var K=O("div","​",null,`position: absolute;
                         top: `+(b.top-A.viewOffset-Kb(g.display))+`px;
                         height: `+(b.bottom-b.top+xu(g)+A.barHeight)+`px;
                         left: `+b.left+"px; width: "+Math.max(2,b.right-b.left)+"px;");g.display.lineSpace.appendChild(K),K.scrollIntoView(R),g.display.lineSpace.removeChild(K)}}}function Vfe(g,b,A,T){T==null&&(T=0);var R;!g.options.lineWrapping&&b==A&&(A=b.sticky=="before"?mt(b.line,b.ch+1,"before"):b,b=b.ch?mt(b.line,b.sticky=="before"?b.ch-1:b.ch,"after"):b);for(var G=0;G<5;G++){var K=!1,te=Rl(g,b),se=!A||A==b?te:Rl(g,A);R={left:Math.min(te.left,se.left),top:Math.min(te.top,se.top)-T,right:Math.max(te.left,se.left),bottom:Math.max(te.bottom,se.bottom)+T};var ge=z6(g,R),De=g.doc.scrollTop,Be=g.doc.scrollLeft;if(ge.scrollTop!=null&&(Pv(g,ge.scrollTop),Math.abs(g.doc.scrollTop-De)>1&&(K=!0)),ge.scrollLeft!=null&&(pd(g,ge.scrollLeft),Math.abs(g.doc.scrollLeft-Be)>1&&(K=!0)),!K)break}return R}function Ufe(g,b){var A=z6(g,b);A.scrollTop!=null&&Pv(g,A.scrollTop),A.scrollLeft!=null&&pd(g,A.scrollLeft)}function z6(g,b){var A=g.display,T=Sp(g.display);b.top<0&&(b.top=0);var R=g.curOp&&g.curOp.scrollTop!=null?g.curOp.scrollTop:A.scroller.scrollTop,G=A6(g),K={};b.bottom-b.top>G&&(b.bottom=b.top+G);var te=g.doc.height+C6(A),se=b.top<T,ge=b.bottom>te-T;if(b.top<R)K.scrollTop=se?0:b.top;else if(b.bottom>R+G){var De=Math.min(b.top,(ge?te:b.bottom)-G);De!=R&&(K.scrollTop=De)}var Be=g.options.fixedGutter?0:A.gutters.offsetWidth,Ze=g.curOp&&g.curOp.scrollLeft!=null?g.curOp.scrollLeft:A.scroller.scrollLeft-Be,Ye=cd(g)-A.gutters.offsetWidth,st=b.right-b.left>Ye;return st&&(b.right=b.left+Ye),b.left<10?K.scrollLeft=0:b.left<Ze?K.scrollLeft=Math.max(0,b.left+Be-(st?0:10)):b.right>Ye+Ze-3&&(K.scrollLeft=b.right+(st?0:10)-Ye),K}function H6(g,b){b!=null&&(n4(g),g.curOp.scrollTop=(g.curOp.scrollTop==null?g.doc.scrollTop:g.curOp.scrollTop)+b)}function Cp(g){n4(g);var b=g.getCursor();g.curOp.scrollToPos={from:b,to:b,margin:g.options.cursorScrollMargin}}function Fv(g,b,A){(b!=null||A!=null)&&n4(g),b!=null&&(g.curOp.scrollLeft=b),A!=null&&(g.curOp.scrollTop=A)}function Gfe(g,b){n4(g),g.curOp.scrollToPos=b}function n4(g){var b=g.curOp.scrollToPos;if(b){g.curOp.scrollToPos=null;var A=aF(g,b.from),T=aF(g,b.to);dF(g,A,T,b.margin)}}function dF(g,b,A,T){var R=z6(g,{left:Math.min(b.left,A.left),top:Math.min(b.top,A.top)-T,right:Math.max(b.right,A.right),bottom:Math.max(b.bottom,A.bottom)+T});Fv(g,R.scrollLeft,R.scrollTop)}function Pv(g,b){Math.abs(g.doc.scrollTop-b)<2||(i||U6(g,{top:b}),pF(g,b,!0),i&&U6(g),zv(g,100))}function pF(g,b,A){b=Math.max(0,Math.min(g.display.scroller.scrollHeight-g.display.scroller.clientHeight,b)),!(g.display.scroller.scrollTop==b&&!A)&&(g.doc.scrollTop=b,g.display.scrollbars.setScrollTop(b),g.display.scroller.scrollTop!=b&&(g.display.scroller.scrollTop=b))}function pd(g,b,A,T){b=Math.max(0,Math.min(b,g.display.scroller.scrollWidth-g.display.scroller.clientWidth)),!((A?b==g.doc.scrollLeft:Math.abs(g.doc.scrollLeft-b)<2)&&!T)&&(g.doc.scrollLeft=b,xF(g),g.display.scroller.scrollLeft!=b&&(g.display.scroller.scrollLeft=b),g.display.scrollbars.setScrollLeft(b))}function Bv(g){var b=g.display,A=b.gutters.offsetWidth,T=Math.round(g.doc.height+C6(g.display));return{clientHeight:b.scroller.clientHeight,viewHeight:b.wrapper.clientHeight,scrollWidth:b.scroller.scrollWidth,clientWidth:b.scroller.clientWidth,viewWidth:b.wrapper.clientWidth,barLeft:g.options.fixedGutter?A:0,docHeight:T,scrollHeight:T+xu(g)+b.barHeight,nativeBarWidth:b.nativeBarWidth,gutterWidth:A}}var gd=function(g,b,A){this.cm=A;var T=this.vert=O("div",[O("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),R=this.horiz=O("div",[O("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");T.tabIndex=R.tabIndex=-1,g(T),g(R),Ne(T,"scroll",function(){T.clientHeight&&b(T.scrollTop,"vertical")}),Ne(R,"scroll",function(){R.clientWidth&&b(R.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,l&&u<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};gd.prototype.update=function(g){var b=g.scrollWidth>g.clientWidth+1,A=g.scrollHeight>g.clientHeight+1,T=g.nativeBarWidth;if(A){this.vert.style.display="block",this.vert.style.bottom=b?T+"px":"0";var R=g.viewHeight-(b?T:0);this.vert.firstChild.style.height=Math.max(0,g.scrollHeight-g.clientHeight+R)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(b){this.horiz.style.display="block",this.horiz.style.right=A?T+"px":"0",this.horiz.style.left=g.barLeft+"px";var G=g.viewWidth-g.barLeft-(A?T:0);this.horiz.firstChild.style.width=Math.max(0,g.scrollWidth-g.clientWidth+G)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&g.clientHeight>0&&(T==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:A?T:0,bottom:b?T:0}},gd.prototype.setScrollLeft=function(g){this.horiz.scrollLeft!=g&&(this.horiz.scrollLeft=g),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},gd.prototype.setScrollTop=function(g){this.vert.scrollTop!=g&&(this.vert.scrollTop=g),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},gd.prototype.zeroWidthHack=function(){var g=C&&!x?"12px":"18px";this.horiz.style.height=this.vert.style.width=g,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new ue,this.disableVert=new ue},gd.prototype.enableZeroWidthBar=function(g,b,A){g.style.visibility="";function T(){var R=g.getBoundingClientRect(),G=A=="vert"?document.elementFromPoint(R.right-1,(R.top+R.bottom)/2):document.elementFromPoint((R.right+R.left)/2,R.bottom-1);G!=g?g.style.visibility="hidden":b.set(1e3,T)}b.set(1e3,T)},gd.prototype.clear=function(){var g=this.horiz.parentNode;g.removeChild(this.horiz),g.removeChild(this.vert)};var $v=function(){};$v.prototype.update=function(){return{bottom:0,right:0}},$v.prototype.setScrollLeft=function(){},$v.prototype.setScrollTop=function(){},$v.prototype.clear=function(){};function Ap(g,b){b||(b=Bv(g));var A=g.display.barWidth,T=g.display.barHeight;gF(g,b);for(var R=0;R<4&&A!=g.display.barWidth||T!=g.display.barHeight;R++)A!=g.display.barWidth&&g.options.lineWrapping&&t4(g),gF(g,Bv(g)),A=g.display.barWidth,T=g.display.barHeight}function gF(g,b){var A=g.display,T=A.scrollbars.update(b);A.sizer.style.paddingRight=(A.barWidth=T.right)+"px",A.sizer.style.paddingBottom=(A.barHeight=T.bottom)+"px",A.heightForcer.style.borderBottom=T.bottom+"px solid transparent",T.right&&T.bottom?(A.scrollbarFiller.style.display="block",A.scrollbarFiller.style.height=T.bottom+"px",A.scrollbarFiller.style.width=T.right+"px"):A.scrollbarFiller.style.display="",T.bottom&&g.options.coverGutterNextToScrollbar&&g.options.fixedGutter?(A.gutterFiller.style.display="block",A.gutterFiller.style.height=T.bottom+"px",A.gutterFiller.style.width=b.gutterWidth+"px"):A.gutterFiller.style.display=""}var vF={native:gd,null:$v};function mF(g){g.display.scrollbars&&(g.display.scrollbars.clear(),g.display.scrollbars.addClass&&z(g.display.wrapper,g.display.scrollbars.addClass)),g.display.scrollbars=new vF[g.options.scrollbarStyle](function(b){g.display.wrapper.insertBefore(b,g.display.scrollbarFiller),Ne(b,"mousedown",function(){g.state.focused&&setTimeout(function(){return g.display.input.focus()},0)}),b.setAttribute("cm-not-content","true")},function(b,A){A=="horizontal"?pd(g,b):Pv(g,b)},g),g.display.scrollbars.addClass&&X(g.display.wrapper,g.display.scrollbars.addClass)}var Wfe=0;function vd(g){g.curOp={cm:g,viewChanged:!1,startHeight:g.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Wfe,markArrays:null},kfe(g.curOp)}function md(g){var b=g.curOp;b&&Efe(b,function(A){for(var T=0;T<A.ops.length;T++)A.ops[T].cm.curOp=null;qfe(A)})}function qfe(g){for(var b=g.ops,A=0;A<b.length;A++)Yfe(b[A]);for(var T=0;T<b.length;T++)Xfe(b[T]);for(var R=0;R<b.length;R++)jfe(b[R]);for(var G=0;G<b.length;G++)Kfe(b[G]);for(var K=0;K<b.length;K++)Qfe(b[K])}function Yfe(g){var b=g.cm,A=b.display;Jfe(b),g.updateMaxLine&&E6(b),g.mustUpdate=g.viewChanged||g.forceUpdate||g.scrollTop!=null||g.scrollToPos&&(g.scrollToPos.from.line<A.viewFrom||g.scrollToPos.to.line>=A.viewTo)||A.maxLineChanged&&b.options.lineWrapping,g.update=g.mustUpdate&&new i4(b,g.mustUpdate&&{top:g.scrollTop,ensure:g.scrollToPos},g.forceUpdate)}function Xfe(g){g.updatedDisplay=g.mustUpdate&&V6(g.cm,g.update)}function jfe(g){var b=g.cm,A=b.display;g.updatedDisplay&&t4(b),g.barMeasure=Bv(b),A.maxLineChanged&&!b.options.lineWrapping&&(g.adjustWidthTo=QO(b,A.maxLine,A.maxLine.text.length).left+3,b.display.sizerWidth=g.adjustWidthTo,g.barMeasure.scrollWidth=Math.max(A.scroller.clientWidth,A.sizer.offsetLeft+g.adjustWidthTo+xu(b)+b.display.barWidth),g.maxScrollLeft=Math.max(0,A.sizer.offsetLeft+g.adjustWidthTo-cd(b))),(g.updatedDisplay||g.selectionChanged)&&(g.preparedSelection=A.input.prepareSelection())}function Kfe(g){var b=g.cm;g.adjustWidthTo!=null&&(b.display.sizer.style.minWidth=g.adjustWidthTo+"px",g.maxScrollLeft<b.doc.scrollLeft&&pd(b,Math.min(b.display.scroller.scrollLeft,g.maxScrollLeft),!0),b.display.maxLineChanged=!1);var A=g.focus&&g.focus==H(J(b));g.preparedSelection&&b.display.input.showSelection(g.preparedSelection,A),(g.updatedDisplay||g.startHeight!=b.doc.height)&&Ap(b,g.barMeasure),g.updatedDisplay&&W6(b,g.barMeasure),g.selectionChanged&&P6(b),b.state.focused&&g.updateInput&&b.display.input.reset(g.typing),A&&hF(g.cm)}function Qfe(g){var b=g.cm,A=b.display,T=b.doc;if(g.updatedDisplay&&yF(b,g.update),A.wheelStartX!=null&&(g.scrollTop!=null||g.scrollLeft!=null||g.scrollToPos)&&(A.wheelStartX=A.wheelStartY=null),g.scrollTop!=null&&pF(b,g.scrollTop,g.forceScroll),g.scrollLeft!=null&&pd(b,g.scrollLeft,!0,!0),g.scrollToPos){var R=Vfe(b,kr(T,g.scrollToPos.from),kr(T,g.scrollToPos.to),g.scrollToPos.margin);Hfe(b,R)}var G=g.maybeHiddenMarkers,K=g.maybeUnhiddenMarkers;if(G)for(var te=0;te<G.length;++te)G[te].lines.length||lt(G[te],"hide");if(K)for(var se=0;se<K.length;++se)K[se].lines.length&&lt(K[se],"unhide");A.wrapper.offsetHeight&&(T.scrollTop=b.display.scroller.scrollTop),g.changeObjs&&lt(b,"changes",b,g.changeObjs),g.update&&g.update.finish()}function qs(g,b){if(g.curOp)return b();vd(g);try{return b()}finally{md(g)}}function Vi(g,b){return function(){if(g.curOp)return b.apply(g,arguments);vd(g);try{return b.apply(g,arguments)}finally{md(g)}}}function Za(g){return function(){if(this.curOp)return g.apply(this,arguments);vd(this);try{return g.apply(this,arguments)}finally{md(this)}}}function Ui(g){return function(){var b=this.cm;if(!b||b.curOp)return g.apply(this,arguments);vd(b);try{return g.apply(this,arguments)}finally{md(b)}}}function zv(g,b){g.doc.highlightFrontier<g.display.viewTo&&g.state.highlight.set(b,ve(Zfe,g))}function Zfe(g){var b=g.doc;if(!(b.highlightFrontier>=g.display.viewTo)){var A=+new Date+g.options.workTime,T=lc(g,b.highlightFrontier),R=[];b.iter(T.line,Math.min(b.first+b.size,g.display.viewTo+500),function(G){if(T.line>=g.display.viewFrom){var K=G.styles,te=G.text.length>g.options.maxHighlightLength?Yr(b.mode,T.state):null,se=mu(g,G,T,!0);te&&(T.state=te),G.styles=se.styles;var ge=G.styleClasses,De=se.classes;De?G.styleClasses=De:ge&&(G.styleClasses=null);for(var Be=!K||K.length!=G.styles.length||ge!=De&&(!ge||!De||ge.bgClass!=De.bgClass||ge.textClass!=De.textClass),Ze=0;!Be&&Ze<K.length;++Ze)Be=K[Ze]!=G.styles[Ze];Be&&R.push(T.line),G.stateAfter=T.save(),T.nextLine()}else G.text.length<=g.options.maxHighlightLength&&yu(g,G.text,T),G.stateAfter=T.line%5==0?T.save():null,T.nextLine();if(+new Date>A)return zv(g,g.options.workDelay),!0}),b.highlightFrontier=T.line,b.modeFrontier=Math.max(b.modeFrontier,T.line),R.length&&qs(g,function(){for(var G=0;G<R.length;G++)Sh(g,R[G],"text")})}}var i4=function(g,b,A){var T=g.display;this.viewport=b,this.visible=r4(T,g.doc,b),this.editorIsHidden=!T.wrapper.offsetWidth,this.wrapperHeight=T.wrapper.clientHeight,this.wrapperWidth=T.wrapper.clientWidth,this.oldDisplayWidth=cd(g),this.force=A,this.dims=N6(g),this.events=[]};i4.prototype.signal=function(g,b){_t(g,b)&&this.events.push(arguments)},i4.prototype.finish=function(){for(var g=0;g<this.events.length;g++)lt.apply(null,this.events[g])};function Jfe(g){var b=g.display;!b.scrollbarsClipped&&b.scroller.offsetWidth&&(b.nativeBarWidth=b.scroller.offsetWidth-b.scroller.clientWidth,b.heightForcer.style.height=xu(g)+"px",b.sizer.style.marginBottom=-b.nativeBarWidth+"px",b.sizer.style.borderRightWidth=xu(g)+"px",b.scrollbarsClipped=!0)}function ede(g){if(g.hasFocus())return null;var b=H(J(g));if(!b||!B(g.display.lineDiv,b))return null;var A={activeElt:b};if(window.getSelection){var T=re(g).getSelection();T.anchorNode&&T.extend&&B(g.display.lineDiv,T.anchorNode)&&(A.anchorNode=T.anchorNode,A.anchorOffset=T.anchorOffset,A.focusNode=T.focusNode,A.focusOffset=T.focusOffset)}return A}function tde(g){if(!(!g||!g.activeElt||g.activeElt==H(ce(g.activeElt)))&&(g.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(g.activeElt.nodeName)&&g.anchorNode&&B(document.body,g.anchorNode)&&B(document.body,g.focusNode))){var b=g.activeElt.ownerDocument,A=b.defaultView.getSelection(),T=b.createRange();T.setEnd(g.anchorNode,g.anchorOffset),T.collapse(!1),A.removeAllRanges(),A.addRange(T),A.extend(g.focusNode,g.focusOffset)}}function V6(g,b){var A=g.display,T=g.doc;if(b.editorIsHidden)return Eh(g),!1;if(!b.force&&b.visible.from>=A.viewFrom&&b.visible.to<=A.viewTo&&(A.updateLineNumbers==null||A.updateLineNumbers>=A.viewTo)&&A.renderedView==A.view&&uF(g)==0)return!1;bF(g)&&(Eh(g),b.dims=N6(g));var R=T.first+T.size,G=Math.max(b.visible.from-g.options.viewportMargin,T.first),K=Math.min(R,b.visible.to+g.options.viewportMargin);A.viewFrom<G&&G-A.viewFrom<20&&(G=Math.max(T.first,A.viewFrom)),A.viewTo>K&&A.viewTo-K<20&&(K=Math.min(R,A.viewTo)),uc&&(G=k6(g.doc,G),K=$O(g.doc,K));var te=G!=A.viewFrom||K!=A.viewTo||A.lastWrapHeight!=b.wrapperHeight||A.lastWrapWidth!=b.wrapperWidth;$fe(g,G,K),A.viewOffset=cc(ot(g.doc,A.viewFrom)),g.display.mover.style.top=A.viewOffset+"px";var se=uF(g);if(!te&&se==0&&!b.force&&A.renderedView==A.view&&(A.updateLineNumbers==null||A.updateLineNumbers>=A.viewTo))return!1;var ge=ede(g);return se>4&&(A.lineDiv.style.display="none"),rde(g,A.updateLineNumbers,b.dims),se>4&&(A.lineDiv.style.display=""),A.renderedView=A.view,tde(ge),V(A.cursorDiv),V(A.selectionDiv),A.gutters.style.height=A.sizer.style.minHeight=0,te&&(A.lastWrapHeight=b.wrapperHeight,A.lastWrapWidth=b.wrapperWidth,zv(g,400)),A.updateLineNumbers=null,!0}function yF(g,b){for(var A=b.viewport,T=!0;;T=!1){if(!T||!g.options.lineWrapping||b.oldDisplayWidth==cd(g)){if(A&&A.top!=null&&(A={top:Math.min(g.doc.height+C6(g.display)-A6(g),A.top)}),b.visible=r4(g.display,g.doc,A),b.visible.from>=g.display.viewFrom&&b.visible.to<=g.display.viewTo)break}else T&&(b.visible=r4(g.display,g.doc,A));if(!V6(g,b))break;t4(g);var R=Bv(g);Ov(g),Ap(g,R),W6(g,R),b.force=!1}b.signal(g,"update",g),(g.display.viewFrom!=g.display.reportedViewFrom||g.display.viewTo!=g.display.reportedViewTo)&&(b.signal(g,"viewportChange",g,g.display.viewFrom,g.display.viewTo),g.display.reportedViewFrom=g.display.viewFrom,g.display.reportedViewTo=g.display.viewTo)}function U6(g,b){var A=new i4(g,b);if(V6(g,A)){t4(g),yF(g,A);var T=Bv(g);Ov(g),Ap(g,T),W6(g,T),A.finish()}}function rde(g,b,A){var T=g.display,R=g.options.lineNumbers,G=T.lineDiv,K=G.firstChild;function te(st){var dt=st.nextSibling;return h&&C&&g.display.currentWheelTarget==st?st.style.display="none":st.parentNode.removeChild(st),dt}for(var se=T.view,ge=T.viewFrom,De=0;De<se.length;De++){var Be=se[De];if(!Be.hidden)if(!Be.node||Be.node.parentNode!=G){var Ze=Lfe(g,Be,ge,A);G.insertBefore(Ze,K)}else{for(;K!=Be.node;)K=te(K);var Ye=R&&b!=null&&b<=ge&&Be.lineNumber;Be.changes&&(ae(Be.changes,"gutter")>-1&&(Ye=!1),GO(g,Be,ge,A)),Ye&&(V(Be.lineNumber),Be.lineNumber.appendChild(document.createTextNode(mn(g.options,ge)))),K=Be.node.nextSibling}ge+=Be.size}for(;K;)K=te(K)}function G6(g){var b=g.gutters.offsetWidth;g.sizer.style.marginLeft=b+"px",Hi(g,"gutterChanged",g)}function W6(g,b){g.display.sizer.style.minHeight=b.docHeight+"px",g.display.heightForcer.style.top=b.docHeight+"px",g.display.gutters.style.height=b.docHeight+g.display.barHeight+xu(g)+"px"}function xF(g){var b=g.display,A=b.view;if(!(!b.alignWidgets&&(!b.gutters.firstChild||!g.options.fixedGutter))){for(var T=I6(b)-b.scroller.scrollLeft+g.doc.scrollLeft,R=b.gutters.offsetWidth,G=T+"px",K=0;K<A.length;K++)if(!A[K].hidden){g.options.fixedGutter&&(A[K].gutter&&(A[K].gutter.style.left=G),A[K].gutterBackground&&(A[K].gutterBackground.style.left=G));var te=A[K].alignable;if(te)for(var se=0;se<te.length;se++)te[se].style.left=G}g.options.fixedGutter&&(b.gutters.style.left=T+R+"px")}}function bF(g){if(!g.options.lineNumbers)return!1;var b=g.doc,A=mn(g.options,b.first+b.size-1),T=g.display;if(A.length!=T.lineNumChars){var R=T.measure.appendChild(O("div",[O("div",A)],"CodeMirror-linenumber CodeMirror-gutter-elt")),G=R.firstChild.offsetWidth,K=R.offsetWidth-G;return T.lineGutter.style.width="",T.lineNumInnerWidth=Math.max(G,T.lineGutter.offsetWidth-K)+1,T.lineNumWidth=T.lineNumInnerWidth+K,T.lineNumChars=T.lineNumInnerWidth?A.length:-1,T.lineGutter.style.width=T.lineNumWidth+"px",G6(g.display),!0}return!1}function q6(g,b){for(var A=[],T=!1,R=0;R<g.length;R++){var G=g[R],K=null;if(typeof G!="string"&&(K=G.style,G=G.className),G=="CodeMirror-linenumbers")if(b)T=!0;else continue;A.push({className:G,style:K})}return b&&!T&&A.push({className:"CodeMirror-linenumbers",style:null}),A}function wF(g){var b=g.gutters,A=g.gutterSpecs;V(b),g.lineGutter=null;for(var T=0;T<A.length;++T){var R=A[T],G=R.className,K=R.style,te=b.appendChild(O("div",null,"CodeMirror-gutter "+G));K&&(te.style.cssText=K),G=="CodeMirror-linenumbers"&&(g.lineGutter=te,te.style.width=(g.lineNumWidth||1)+"px")}b.style.display=A.length?"":"none",G6(g)}function Hv(g){wF(g.display),bs(g),xF(g)}function nde(g,b,A,T){var R=this;this.input=A,R.scrollbarFiller=O("div",null,"CodeMirror-scrollbar-filler"),R.scrollbarFiller.setAttribute("cm-not-content","true"),R.gutterFiller=O("div",null,"CodeMirror-gutter-filler"),R.gutterFiller.setAttribute("cm-not-content","true"),R.lineDiv=P("div",null,"CodeMirror-code"),R.selectionDiv=O("div",null,null,"position: relative; z-index: 1"),R.cursorDiv=O("div",null,"CodeMirror-cursors"),R.measure=O("div",null,"CodeMirror-measure"),R.lineMeasure=O("div",null,"CodeMirror-measure"),R.lineSpace=P("div",[R.measure,R.lineMeasure,R.selectionDiv,R.cursorDiv,R.lineDiv],null,"position: relative; outline: none");var G=P("div",[R.lineSpace],"CodeMirror-lines");R.mover=O("div",[G],null,"position: relative"),R.sizer=O("div",[R.mover],"CodeMirror-sizer"),R.sizerWidth=null,R.heightForcer=O("div",null,null,"position: absolute; height: "+pe+"px; width: 1px;"),R.gutters=O("div",null,"CodeMirror-gutters"),R.lineGutter=null,R.scroller=O("div",[R.sizer,R.heightForcer,R.gutters],"CodeMirror-scroll"),R.scroller.setAttribute("tabIndex","-1"),R.wrapper=O("div",[R.scrollbarFiller,R.gutterFiller,R.scroller],"CodeMirror"),d&&p>=105&&(R.wrapper.style.clipPath="inset(0px)"),R.wrapper.setAttribute("translate","no"),l&&u<8&&(R.gutters.style.zIndex=-1,R.scroller.style.paddingRight=0),!h&&!(i&&E)&&(R.scroller.draggable=!0),g&&(g.appendChild?g.appendChild(R.wrapper):g(R.wrapper)),R.viewFrom=R.viewTo=b.first,R.reportedViewFrom=R.reportedViewTo=b.first,R.view=[],R.renderedView=null,R.externalMeasured=null,R.viewOffset=0,R.lastWrapHeight=R.lastWrapWidth=0,R.updateLineNumbers=null,R.nativeBarWidth=R.barHeight=R.barWidth=0,R.scrollbarsClipped=!1,R.lineNumWidth=R.lineNumInnerWidth=R.lineNumChars=null,R.alignWidgets=!1,R.cachedCharWidth=R.cachedTextHeight=R.cachedPaddingH=null,R.maxLine=null,R.maxLineLength=0,R.maxLineChanged=!1,R.wheelDX=R.wheelDY=R.wheelStartX=R.wheelStartY=null,R.shift=!1,R.selForContextMenu=null,R.activeTouch=null,R.gutterSpecs=q6(T.gutters,T.lineNumbers),wF(R),A.init(R)}var a4=0,fc=null;l?fc=-.53:i?fc=15:d?fc=-.7:m&&(fc=-1/3);function kF(g){var b=g.wheelDeltaX,A=g.wheelDeltaY;return b==null&&g.detail&&g.axis==g.HORIZONTAL_AXIS&&(b=g.detail),A==null&&g.detail&&g.axis==g.VERTICAL_AXIS?A=g.detail:A==null&&(A=g.wheelDelta),{x:b,y:A}}function ide(g){var b=kF(g);return b.x*=fc,b.y*=fc,b}function SF(g,b){d&&p==102&&(g.display.chromeScrollHack==null?g.display.sizer.style.pointerEvents="none":clearTimeout(g.display.chromeScrollHack),g.display.chromeScrollHack=setTimeout(function(){g.display.chromeScrollHack=null,g.display.sizer.style.pointerEvents=""},100));var A=kF(b),T=A.x,R=A.y,G=fc;b.deltaMode===0&&(T=b.deltaX,R=b.deltaY,G=1);var K=g.display,te=K.scroller,se=te.scrollWidth>te.clientWidth,ge=te.scrollHeight>te.clientHeight;if(T&&se||R&&ge){if(R&&C&&h){e:for(var De=b.target,Be=K.view;De!=te;De=De.parentNode)for(var Ze=0;Ze<Be.length;Ze++)if(Be[Ze].node==De){g.display.currentWheelTarget=De;break e}}if(T&&!i&&!v&&G!=null){R&&ge&&Pv(g,Math.max(0,te.scrollTop+R*G)),pd(g,Math.max(0,te.scrollLeft+T*G)),(!R||R&&ge)&&at(b),K.wheelStartX=null;return}if(R&&G!=null){var Ye=R*G,st=g.doc.scrollTop,dt=st+K.wrapper.clientHeight;Ye<0?st=Math.max(0,st+Ye-50):dt=Math.min(g.doc.height,dt+Ye+50),U6(g,{top:st,bottom:dt})}a4<20&&b.deltaMode!==0&&(K.wheelStartX==null?(K.wheelStartX=te.scrollLeft,K.wheelStartY=te.scrollTop,K.wheelDX=T,K.wheelDY=R,setTimeout(function(){if(K.wheelStartX!=null){var Tt=te.scrollLeft-K.wheelStartX,Nt=te.scrollTop-K.wheelStartY,Bt=Nt&&K.wheelDY&&Nt/K.wheelDY||Tt&&K.wheelDX&&Tt/K.wheelDX;K.wheelStartX=K.wheelStartY=null,Bt&&(fc=(fc*a4+Bt)/(a4+1),++a4)}},200)):(K.wheelDX+=T,K.wheelDY+=R))}}var So=function(g,b){this.ranges=g,this.primIndex=b};So.prototype.primary=function(){return this.ranges[this.primIndex]},So.prototype.equals=function(g){if(g==this)return!0;if(g.primIndex!=this.primIndex||g.ranges.length!=this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var A=this.ranges[b],T=g.ranges[b];if(!mp(A.anchor,T.anchor)||!mp(A.head,T.head))return!1}return!0},So.prototype.deepCopy=function(){for(var g=[],b=0;b<this.ranges.length;b++)g[b]=new tn(_v(this.ranges[b].anchor),_v(this.ranges[b].head));return new So(g,this.primIndex)},So.prototype.somethingSelected=function(){for(var g=0;g<this.ranges.length;g++)if(!this.ranges[g].empty())return!0;return!1},So.prototype.contains=function(g,b){b||(b=g);for(var A=0;A<this.ranges.length;A++){var T=this.ranges[A];if(Cr(b,T.from())>=0&&Cr(g,T.to())<=0)return A}return-1};var tn=function(g,b){this.anchor=g,this.head=b};tn.prototype.from=function(){return Zo(this.anchor,this.head)},tn.prototype.to=function(){return ni(this.anchor,this.head)},tn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Ml(g,b,A){var T=g&&g.options.selectionsMayTouch,R=b[A];b.sort(function(Ze,Ye){return Cr(Ze.from(),Ye.from())}),A=ae(b,R);for(var G=1;G<b.length;G++){var K=b[G],te=b[G-1],se=Cr(te.to(),K.from());if(T&&!K.empty()?se>0:se>=0){var ge=Zo(te.from(),K.from()),De=ni(te.to(),K.to()),Be=te.empty()?K.from()==K.head:te.from()==te.head;G<=A&&--A,b.splice(--G,2,new tn(Be?De:ge,Be?ge:De))}}return new So(b,A)}function Th(g,b){return new So([new tn(g,b||g)],0)}function Ch(g){return g.text?mt(g.from.line+g.text.length-1,Pe(g.text).length+(g.text.length==1?g.from.ch:0)):g.to}function EF(g,b){if(Cr(g,b.from)<0)return g;if(Cr(g,b.to)<=0)return Ch(b);var A=g.line+b.text.length-(b.to.line-b.from.line)-1,T=g.ch;return g.line==b.to.line&&(T+=Ch(b).ch-b.to.ch),mt(A,T)}function Y6(g,b){for(var A=[],T=0;T<g.sel.ranges.length;T++){var R=g.sel.ranges[T];A.push(new tn(EF(R.anchor,b),EF(R.head,b)))}return Ml(g.cm,A,g.sel.primIndex)}function TF(g,b,A){return g.line==b.line?mt(A.line,g.ch-b.ch+A.ch):mt(A.line+(g.line-b.line),g.ch)}function ade(g,b,A){for(var T=[],R=mt(g.first,0),G=R,K=0;K<b.length;K++){var te=b[K],se=TF(te.from,R,G),ge=TF(Ch(te),R,G);if(R=te.to,G=ge,A=="around"){var De=g.sel.ranges[K],Be=Cr(De.head,De.anchor)<0;T[K]=new tn(Be?ge:se,Be?se:ge)}else T[K]=new tn(se,se)}return new So(T,g.sel.primIndex)}function X6(g){g.doc.mode=Vt(g.options,g.doc.modeOption),Vv(g)}function Vv(g){g.doc.iter(function(b){b.stateAfter&&(b.stateAfter=null),b.styles&&(b.styles=null)}),g.doc.modeFrontier=g.doc.highlightFrontier=g.doc.first,zv(g,100),g.state.modeGen++,g.curOp&&bs(g)}function CF(g,b){return b.from.ch==0&&b.to.ch==0&&Pe(b.text)==""&&(!g.cm||g.cm.options.wholeLineUpdateBefore)}function j6(g,b,A,T){function R(Bt){return A?A[Bt]:null}function G(Bt,It,Wt){dfe(Bt,It,Wt,T),Hi(Bt,"change",Bt,b)}function K(Bt,It){for(var Wt=[],ur=Bt;ur<It;++ur)Wt.push(new bp(ge[ur],R(ur),T));return Wt}var te=b.from,se=b.to,ge=b.text,De=ot(g,te.line),Be=ot(g,se.line),Ze=Pe(ge),Ye=R(ge.length-1),st=se.line-te.line;if(b.full)g.insert(0,K(0,ge.length)),g.remove(ge.length,g.size-ge.length);else if(CF(g,b)){var dt=K(0,ge.length-1);G(Be,Be.text,Ye),st&&g.remove(te.line,st),dt.length&&g.insert(te.line,dt)}else if(De==Be)if(ge.length==1)G(De,De.text.slice(0,te.ch)+Ze+De.text.slice(se.ch),Ye);else{var Tt=K(1,ge.length-1);Tt.push(new bp(Ze+De.text.slice(se.ch),Ye,T)),G(De,De.text.slice(0,te.ch)+ge[0],R(0)),g.insert(te.line+1,Tt)}else if(ge.length==1)G(De,De.text.slice(0,te.ch)+ge[0]+Be.text.slice(se.ch),R(0)),g.remove(te.line+1,st);else{G(De,De.text.slice(0,te.ch)+ge[0],R(0)),G(Be,Ze+Be.text.slice(se.ch),Ye);var Nt=K(1,ge.length-1);st>1&&g.remove(te.line+1,st-1),g.insert(te.line+1,Nt)}Hi(g,"change",g,b)}function Ah(g,b,A){function T(R,G,K){if(R.linked)for(var te=0;te<R.linked.length;++te){var se=R.linked[te];if(se.doc!=G){var ge=K&&se.sharedHist;A&&!ge||(b(se.doc,ge),T(se.doc,R,ge))}}}T(g,null,!0)}function AF(g,b){if(b.cm)throw new Error("This document is already in use.");g.doc=b,b.cm=g,O6(g),X6(g),_F(g),g.options.direction=b.direction,g.options.lineWrapping||E6(g),g.options.mode=b.modeOption,bs(g)}function _F(g){(g.doc.direction=="rtl"?X:z)(g.display.lineDiv,"CodeMirror-rtl")}function sde(g){qs(g,function(){_F(g),bs(g)})}function s4(g){this.done=[],this.undone=[],this.undoDepth=g?g.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=g?g.maxGeneration:1}function K6(g,b){var A={from:_v(b.from),to:Ch(b),text:tr(g,b.from,b.to)};return RF(g,A,b.from.line,b.to.line+1),Ah(g,function(T){return RF(T,A,b.from.line,b.to.line+1)},!0),A}function LF(g){for(;g.length;){var b=Pe(g);if(b.ranges)g.pop();else break}}function ode(g,b){if(b)return LF(g.done),Pe(g.done);if(g.done.length&&!Pe(g.done).ranges)return Pe(g.done);if(g.done.length>1&&!g.done[g.done.length-2].ranges)return g.done.pop(),Pe(g.done)}function DF(g,b,A,T){var R=g.history;R.undone.length=0;var G=+new Date,K,te;if((R.lastOp==T||R.lastOrigin==b.origin&&b.origin&&(b.origin.charAt(0)=="+"&&R.lastModTime>G-(g.cm?g.cm.options.historyEventDelay:500)||b.origin.charAt(0)=="*"))&&(K=ode(R,R.lastOp==T)))te=Pe(K.changes),Cr(b.from,b.to)==0&&Cr(b.from,te.to)==0?te.to=Ch(b):K.changes.push(K6(g,b));else{var se=Pe(R.done);for((!se||!se.ranges)&&o4(g.sel,R.done),K={changes:[K6(g,b)],generation:R.generation},R.done.push(K);R.done.length>R.undoDepth;)R.done.shift(),R.done[0].ranges||R.done.shift()}R.done.push(A),R.generation=++R.maxGeneration,R.lastModTime=R.lastSelTime=G,R.lastOp=R.lastSelOp=T,R.lastOrigin=R.lastSelOrigin=b.origin,te||lt(g,"historyAdded")}function lde(g,b,A,T){var R=b.charAt(0);return R=="*"||R=="+"&&A.ranges.length==T.ranges.length&&A.somethingSelected()==T.somethingSelected()&&new Date-g.history.lastSelTime<=(g.cm?g.cm.options.historyEventDelay:500)}function ude(g,b,A,T){var R=g.history,G=T&&T.origin;A==R.lastSelOp||G&&R.lastSelOrigin==G&&(R.lastModTime==R.lastSelTime&&R.lastOrigin==G||lde(g,G,Pe(R.done),b))?R.done[R.done.length-1]=b:o4(b,R.done),R.lastSelTime=+new Date,R.lastSelOrigin=G,R.lastSelOp=A,T&&T.clearRedo!==!1&&LF(R.undone)}function o4(g,b){var A=Pe(b);A&&A.ranges&&A.equals(g)||b.push(g)}function RF(g,b,A,T){var R=b["spans_"+g.id],G=0;g.iter(Math.max(g.first,A),Math.min(g.first+g.size,T),function(K){K.markedSpans&&((R||(R=b["spans_"+g.id]={}))[G]=K.markedSpans),++G})}function cde(g){if(!g)return null;for(var b,A=0;A<g.length;++A)g[A].marker.explicitlyCleared?b||(b=g.slice(0,A)):b&&b.push(g[A]);return b?b.length?b:null:g}function hde(g,b){var A=b["spans_"+g.id];if(!A)return null;for(var T=[],R=0;R<b.text.length;++R)T.push(cde(A[R]));return T}function MF(g,b){var A=hde(g,b),T=b6(g,b);if(!A)return T;if(!T)return A;for(var R=0;R<A.length;++R){var G=A[R],K=T[R];if(G&&K)e:for(var te=0;te<K.length;++te){for(var se=K[te],ge=0;ge<G.length;++ge)if(G[ge].marker==se.marker)continue e;G.push(se)}else K&&(A[R]=K)}return A}function _p(g,b,A){for(var T=[],R=0;R<g.length;++R){var G=g[R];if(G.ranges){T.push(A?So.prototype.deepCopy.call(G):G);continue}var K=G.changes,te=[];T.push({changes:te});for(var se=0;se<K.length;++se){var ge=K[se],De=void 0;if(te.push({from:ge.from,to:ge.to,text:ge.text}),b)for(var Be in ge)(De=Be.match(/^spans_(\d+)$/))&&ae(b,Number(De[1]))>-1&&(Pe(te)[Be]=ge[Be],delete ge[Be])}}return T}function Q6(g,b,A,T){if(T){var R=g.anchor;if(A){var G=Cr(b,R)<0;G!=Cr(A,R)<0?(R=b,b=A):G!=Cr(b,A)<0&&(b=A)}return new tn(R,b)}else return new tn(A||b,b)}function l4(g,b,A,T,R){R==null&&(R=g.cm&&(g.cm.display.shift||g.extend)),Aa(g,new So([Q6(g.sel.primary(),b,A,R)],0),T)}function NF(g,b,A){for(var T=[],R=g.cm&&(g.cm.display.shift||g.extend),G=0;G<g.sel.ranges.length;G++)T[G]=Q6(g.sel.ranges[G],b[G],null,R);var K=Ml(g.cm,T,g.sel.primIndex);Aa(g,K,A)}function Z6(g,b,A,T){var R=g.sel.ranges.slice(0);R[b]=A,Aa(g,Ml(g.cm,R,g.sel.primIndex),T)}function IF(g,b,A,T){Aa(g,Th(b,A),T)}function fde(g,b,A){var T={ranges:b.ranges,update:function(R){this.ranges=[];for(var G=0;G<R.length;G++)this.ranges[G]=new tn(kr(g,R[G].anchor),kr(g,R[G].head))},origin:A&&A.origin};return lt(g,"beforeSelectionChange",g,T),g.cm&&lt(g.cm,"beforeSelectionChange",g.cm,T),T.ranges!=b.ranges?Ml(g.cm,T.ranges,T.ranges.length-1):b}function OF(g,b,A){var T=g.history.done,R=Pe(T);R&&R.ranges?(T[T.length-1]=b,u4(g,b,A)):Aa(g,b,A)}function Aa(g,b,A){u4(g,b,A),ude(g,g.sel,g.cm?g.cm.curOp.id:NaN,A)}function u4(g,b,A){(_t(g,"beforeSelectionChange")||g.cm&&_t(g.cm,"beforeSelectionChange"))&&(b=fde(g,b,A));var T=A&&A.bias||(Cr(b.primary().head,g.sel.primary().head)<0?-1:1);FF(g,BF(g,b,T,!0)),!(A&&A.scroll===!1)&&g.cm&&g.cm.getOption("readOnly")!="nocursor"&&Cp(g.cm)}function FF(g,b){b.equals(g.sel)||(g.sel=b,g.cm&&(g.cm.curOp.updateInput=1,g.cm.curOp.selectionChanged=!0,gt(g.cm)),Hi(g,"cursorActivity",g))}function PF(g){FF(g,BF(g,g.sel,null,!1))}function BF(g,b,A,T){for(var R,G=0;G<b.ranges.length;G++){var K=b.ranges[G],te=b.ranges.length==g.sel.ranges.length&&g.sel.ranges[G],se=c4(g,K.anchor,te&&te.anchor,A,T),ge=K.head==K.anchor?se:c4(g,K.head,te&&te.head,A,T);(R||se!=K.anchor||ge!=K.head)&&(R||(R=b.ranges.slice(0,G)),R[G]=new tn(se,ge))}return R?Ml(g.cm,R,b.primIndex):b}function Lp(g,b,A,T,R){var G=ot(g,b.line);if(G.markedSpans)for(var K=0;K<G.markedSpans.length;++K){var te=G.markedSpans[K],se=te.marker,ge="selectLeft"in se?!se.selectLeft:se.inclusiveLeft,De="selectRight"in se?!se.selectRight:se.inclusiveRight;if((te.from==null||(ge?te.from<=b.ch:te.from<b.ch))&&(te.to==null||(De?te.to>=b.ch:te.to>b.ch))){if(R&&(lt(se,"beforeCursorEnter"),se.explicitlyCleared))if(G.markedSpans){--K;continue}else break;if(!se.atomic)continue;if(A){var Be=se.find(T<0?1:-1),Ze=void 0;if((T<0?De:ge)&&(Be=$F(g,Be,-T,Be&&Be.line==b.line?G:null)),Be&&Be.line==b.line&&(Ze=Cr(Be,A))&&(T<0?Ze<0:Ze>0))return Lp(g,Be,b,T,R)}var Ye=se.find(T<0?-1:1);return(T<0?ge:De)&&(Ye=$F(g,Ye,T,Ye.line==b.line?G:null)),Ye?Lp(g,Ye,b,T,R):null}}return b}function c4(g,b,A,T,R){var G=T||1,K=Lp(g,b,A,G,R)||!R&&Lp(g,b,A,G,!0)||Lp(g,b,A,-G,R)||!R&&Lp(g,b,A,-G,!0);return K||(g.cantEdit=!0,mt(g.first,0))}function $F(g,b,A,T){return A<0&&b.ch==0?b.line>g.first?kr(g,mt(b.line-1)):null:A>0&&b.ch==(T||ot(g,b.line)).text.length?b.line<g.first+g.size-1?mt(b.line+1,0):null:new mt(b.line,b.ch+A)}function zF(g){g.setSelection(mt(g.firstLine(),0),mt(g.lastLine()),Se)}function HF(g,b,A){var T={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){return T.canceled=!0}};return A&&(T.update=function(R,G,K,te){R&&(T.from=kr(g,R)),G&&(T.to=kr(g,G)),K&&(T.text=K),te!==void 0&&(T.origin=te)}),lt(g,"beforeChange",g,T),g.cm&&lt(g.cm,"beforeChange",g.cm,T),T.canceled?(g.cm&&(g.cm.curOp.updateInput=2),null):{from:T.from,to:T.to,text:T.text,origin:T.origin}}function Dp(g,b,A){if(g.cm){if(!g.cm.curOp)return Vi(g.cm,Dp)(g,b,A);if(g.cm.state.suppressEdits)return}if(!((_t(g,"beforeChange")||g.cm&&_t(g.cm,"beforeChange"))&&(b=HF(g,b,!0),!b))){var T=MO&&!A&&ufe(g,b.from,b.to);if(T)for(var R=T.length-1;R>=0;--R)VF(g,{from:T[R].from,to:T[R].to,text:R?[""]:b.text,origin:b.origin});else VF(g,b)}}function VF(g,b){if(!(b.text.length==1&&b.text[0]==""&&Cr(b.from,b.to)==0)){var A=Y6(g,b);DF(g,b,A,g.cm?g.cm.curOp.id:NaN),Uv(g,b,A,b6(g,b));var T=[];Ah(g,function(R,G){!G&&ae(T,R.history)==-1&&(qF(R.history,b),T.push(R.history)),Uv(R,b,null,b6(R,b))})}}function h4(g,b,A){var T=g.cm&&g.cm.state.suppressEdits;if(!(T&&!A)){for(var R=g.history,G,K=g.sel,te=b=="undo"?R.done:R.undone,se=b=="undo"?R.undone:R.done,ge=0;ge<te.length&&(G=te[ge],!(A?G.ranges&&!G.equals(g.sel):!G.ranges));ge++);if(ge!=te.length){for(R.lastOrigin=R.lastSelOrigin=null;;)if(G=te.pop(),G.ranges){if(o4(G,se),A&&!G.equals(g.sel)){Aa(g,G,{clearRedo:!1});return}K=G}else if(T){te.push(G);return}else break;var De=[];o4(K,se),se.push({changes:De,generation:R.generation}),R.generation=G.generation||++R.maxGeneration;for(var Be=_t(g,"beforeChange")||g.cm&&_t(g.cm,"beforeChange"),Ze=function(dt){var Tt=G.changes[dt];if(Tt.origin=b,Be&&!HF(g,Tt,!1))return te.length=0,{};De.push(K6(g,Tt));var Nt=dt?Y6(g,Tt):Pe(te);Uv(g,Tt,Nt,MF(g,Tt)),!dt&&g.cm&&g.cm.scrollIntoView({from:Tt.from,to:Ch(Tt)});var Bt=[];Ah(g,function(It,Wt){!Wt&&ae(Bt,It.history)==-1&&(qF(It.history,Tt),Bt.push(It.history)),Uv(It,Tt,null,MF(It,Tt))})},Ye=G.changes.length-1;Ye>=0;--Ye){var st=Ze(Ye);if(st)return st.v}}}}function UF(g,b){if(b!=0&&(g.first+=b,g.sel=new So(Ge(g.sel.ranges,function(R){return new tn(mt(R.anchor.line+b,R.anchor.ch),mt(R.head.line+b,R.head.ch))}),g.sel.primIndex),g.cm)){bs(g.cm,g.first,g.first-b,b);for(var A=g.cm.display,T=A.viewFrom;T<A.viewTo;T++)Sh(g.cm,T,"gutter")}}function Uv(g,b,A,T){if(g.cm&&!g.cm.curOp)return Vi(g.cm,Uv)(g,b,A,T);if(b.to.line<g.first){UF(g,b.text.length-1-(b.to.line-b.from.line));return}if(!(b.from.line>g.lastLine())){if(b.from.line<g.first){var R=b.text.length-1-(g.first-b.from.line);UF(g,R),b={from:mt(g.first,0),to:mt(b.to.line+R,b.to.ch),text:[Pe(b.text)],origin:b.origin}}var G=g.lastLine();b.to.line>G&&(b={from:b.from,to:mt(G,ot(g,G).text.length),text:[b.text[0]],origin:b.origin}),b.removed=tr(g,b.from,b.to),A||(A=Y6(g,b)),g.cm?dde(g.cm,b,T):j6(g,b,T),u4(g,A,Se),g.cantEdit&&c4(g,mt(g.firstLine(),0))&&(g.cantEdit=!1)}}function dde(g,b,A){var T=g.doc,R=g.display,G=b.from,K=b.to,te=!1,se=G.line;g.options.lineWrapping||(se=Ce(Dl(ot(T,G.line))),T.iter(se,K.line+1,function(Ye){if(Ye==R.maxLine)return te=!0,!0})),T.sel.contains(b.from,b.to)>-1&&gt(g),j6(T,b,A,lF(g)),g.options.lineWrapping||(T.iter(se,G.line+b.text.length,function(Ye){var st=Xb(Ye);st>R.maxLineLength&&(R.maxLine=Ye,R.maxLineLength=st,R.maxLineChanged=!0,te=!1)}),te&&(g.curOp.updateMaxLine=!0)),rfe(T,G.line),zv(g,400);var ge=b.text.length-(K.line-G.line)-1;b.full?bs(g):G.line==K.line&&b.text.length==1&&!CF(g.doc,b)?Sh(g,G.line,"text"):bs(g,G.line,K.line+1,ge);var De=_t(g,"changes"),Be=_t(g,"change");if(Be||De){var Ze={from:G,to:K,text:b.text,removed:b.removed,origin:b.origin};Be&&Hi(g,"change",g,Ze),De&&(g.curOp.changeObjs||(g.curOp.changeObjs=[])).push(Ze)}g.display.selForContextMenu=null}function Rp(g,b,A,T,R){var G;T||(T=A),Cr(T,A)<0&&(G=[T,A],A=G[0],T=G[1]),typeof b=="string"&&(b=g.splitLines(b)),Dp(g,{from:A,to:T,text:b,origin:R})}function GF(g,b,A,T){A<g.line?g.line+=T:b<g.line&&(g.line=b,g.ch=0)}function WF(g,b,A,T){for(var R=0;R<g.length;++R){var G=g[R],K=!0;if(G.ranges){G.copied||(G=g[R]=G.deepCopy(),G.copied=!0);for(var te=0;te<G.ranges.length;te++)GF(G.ranges[te].anchor,b,A,T),GF(G.ranges[te].head,b,A,T);continue}for(var se=0;se<G.changes.length;++se){var ge=G.changes[se];if(A<ge.from.line)ge.from=mt(ge.from.line+T,ge.from.ch),ge.to=mt(ge.to.line+T,ge.to.ch);else if(b<=ge.to.line){K=!1;break}}K||(g.splice(0,R+1),R=0)}}function qF(g,b){var A=b.from.line,T=b.to.line,R=b.text.length-(T-A)-1;WF(g.done,A,T,R),WF(g.undone,A,T,R)}function Gv(g,b,A,T){var R=b,G=b;return typeof b=="number"?G=ot(g,yp(g,b)):R=Ce(b),R==null?null:(T(G,R)&&g.cm&&Sh(g.cm,R,A),G)}function Wv(g){this.lines=g,this.parent=null;for(var b=0,A=0;A<g.length;++A)g[A].parent=this,b+=g[A].height;this.height=b}Wv.prototype={chunkSize:function(){return this.lines.length},removeInner:function(g,b){for(var A=g,T=g+b;A<T;++A){var R=this.lines[A];this.height-=R.height,pfe(R),Hi(R,"delete")}this.lines.splice(g,b)},collapse:function(g){g.push.apply(g,this.lines)},insertInner:function(g,b,A){this.height+=A,this.lines=this.lines.slice(0,g).concat(b).concat(this.lines.slice(g));for(var T=0;T<b.length;++T)b[T].parent=this},iterN:function(g,b,A){for(var T=g+b;g<T;++g)if(A(this.lines[g]))return!0}};function qv(g){this.children=g;for(var b=0,A=0,T=0;T<g.length;++T){var R=g[T];b+=R.chunkSize(),A+=R.height,R.parent=this}this.size=b,this.height=A,this.parent=null}qv.prototype={chunkSize:function(){return this.size},removeInner:function(g,b){this.size-=b;for(var A=0;A<this.children.length;++A){var T=this.children[A],R=T.chunkSize();if(g<R){var G=Math.min(b,R-g),K=T.height;if(T.removeInner(g,G),this.height-=K-T.height,R==G&&(this.children.splice(A--,1),T.parent=null),(b-=G)==0)break;g=0}else g-=R}if(this.size-b<25&&(this.children.length>1||!(this.children[0]instanceof Wv))){var te=[];this.collapse(te),this.children=[new Wv(te)],this.children[0].parent=this}},collapse:function(g){for(var b=0;b<this.children.length;++b)this.children[b].collapse(g)},insertInner:function(g,b,A){this.size+=b.length,this.height+=A;for(var T=0;T<this.children.length;++T){var R=this.children[T],G=R.chunkSize();if(g<=G){if(R.insertInner(g,b,A),R.lines&&R.lines.length>50){for(var K=R.lines.length%25+25,te=K;te<R.lines.length;){var se=new Wv(R.lines.slice(te,te+=25));R.height-=se.height,this.children.splice(++T,0,se),se.parent=this}R.lines=R.lines.slice(0,K),this.maybeSpill()}break}g-=G}},maybeSpill:function(){if(!(this.children.length<=10)){var g=this;do{var b=g.children.splice(g.children.length-5,5),A=new qv(b);if(g.parent){g.size-=A.size,g.height-=A.height;var R=ae(g.parent.children,g);g.parent.children.splice(R+1,0,A)}else{var T=new qv(g.children);T.parent=g,g.children=[T,A],g=T}A.parent=g.parent}while(g.children.length>10);g.parent.maybeSpill()}},iterN:function(g,b,A){for(var T=0;T<this.children.length;++T){var R=this.children[T],G=R.chunkSize();if(g<G){var K=Math.min(b,G-g);if(R.iterN(g,K,A))return!0;if((b-=K)==0)break;g=0}else g-=G}}};var Yv=function(g,b,A){if(A)for(var T in A)A.hasOwnProperty(T)&&(this[T]=A[T]);this.doc=g,this.node=b};Yv.prototype.clear=function(){var g=this.doc.cm,b=this.line.widgets,A=this.line,T=Ce(A);if(!(T==null||!b)){for(var R=0;R<b.length;++R)b[R]==this&&b.splice(R--,1);b.length||(A.widgets=null);var G=Nv(this);jt(A,Math.max(0,A.height-G)),g&&(qs(g,function(){YF(g,A,-G),Sh(g,T,"widget")}),Hi(g,"lineWidgetCleared",g,this,T))}},Yv.prototype.changed=function(){var g=this,b=this.height,A=this.doc.cm,T=this.line;this.height=null;var R=Nv(this)-b;R&&(kh(this.doc,T)||jt(T,T.height+R),A&&qs(A,function(){A.curOp.forceUpdate=!0,YF(A,T,R),Hi(A,"lineWidgetChanged",A,g,Ce(T))}))},ct(Yv);function YF(g,b,A){cc(b)<(g.curOp&&g.curOp.scrollTop||g.doc.scrollTop)&&H6(g,A)}function pde(g,b,A,T){var R=new Yv(g,A,T),G=g.cm;return G&&R.noHScroll&&(G.display.alignWidgets=!0),Gv(g,b,"widget",function(K){var te=K.widgets||(K.widgets=[]);if(R.insertAt==null?te.push(R):te.splice(Math.min(te.length,Math.max(0,R.insertAt)),0,R),R.line=K,G&&!kh(g,K)){var se=cc(K)<g.scrollTop;jt(K,K.height+Nv(R)),se&&H6(G,R.height),G.curOp.forceUpdate=!0}return!0}),G&&Hi(G,"lineWidgetAdded",G,R,typeof b=="number"?b:Ce(b)),R}var XF=0,_h=function(g,b){this.lines=[],this.type=b,this.doc=g,this.id=++XF};_h.prototype.clear=function(){if(!this.explicitlyCleared){var g=this.doc.cm,b=g&&!g.curOp;if(b&&vd(g),_t(this,"clear")){var A=this.find();A&&Hi(this,"clear",A.from,A.to)}for(var T=null,R=null,G=0;G<this.lines.length;++G){var K=this.lines[G],te=Dv(K.markedSpans,this);g&&!this.collapsed?Sh(g,Ce(K),"text"):g&&(te.to!=null&&(R=Ce(K)),te.from!=null&&(T=Ce(K))),K.markedSpans=afe(K.markedSpans,te),te.from==null&&this.collapsed&&!kh(this.doc,K)&&g&&jt(K,Sp(g.display))}if(g&&this.collapsed&&!g.options.lineWrapping)for(var se=0;se<this.lines.length;++se){var ge=Dl(this.lines[se]),De=Xb(ge);De>g.display.maxLineLength&&(g.display.maxLine=ge,g.display.maxLineLength=De,g.display.maxLineChanged=!0)}T!=null&&g&&this.collapsed&&bs(g,T,R+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,g&&PF(g.doc)),g&&Hi(g,"markerCleared",g,this,T,R),b&&md(g),this.parent&&this.parent.clear()}},_h.prototype.find=function(g,b){g==null&&this.type=="bookmark"&&(g=1);for(var A,T,R=0;R<this.lines.length;++R){var G=this.lines[R],K=Dv(G.markedSpans,this);if(K.from!=null&&(A=mt(b?G:Ce(G),K.from),g==-1))return A;if(K.to!=null&&(T=mt(b?G:Ce(G),K.to),g==1))return T}return A&&{from:A,to:T}},_h.prototype.changed=function(){var g=this,b=this.find(-1,!0),A=this,T=this.doc.cm;!b||!T||qs(T,function(){var R=b.line,G=Ce(b.line),K=_6(T,G);if(K&&(eF(K),T.curOp.selectionChanged=T.curOp.forceUpdate=!0),T.curOp.updateMaxLine=!0,!kh(A.doc,R)&&A.height!=null){var te=A.height;A.height=null;var se=Nv(A)-te;se&&jt(R,R.height+se)}Hi(T,"markerChanged",T,g)})},_h.prototype.attachLine=function(g){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(!b.maybeHiddenMarkers||ae(b.maybeHiddenMarkers,this)==-1)&&(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(g)},_h.prototype.detachLine=function(g){if(this.lines.splice(ae(this.lines,g),1),!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this)}},ct(_h);function Mp(g,b,A,T,R){if(T&&T.shared)return gde(g,b,A,T,R);if(g.cm&&!g.cm.curOp)return Vi(g.cm,Mp)(g,b,A,T,R);var G=new _h(g,R),K=Cr(b,A);if(T&&ye(T,G,!1),K>0||K==0&&G.clearWhenEmpty!==!1)return G;if(G.replacedWith&&(G.collapsed=!0,G.widgetNode=P("span",[G.replacedWith],"CodeMirror-widget"),T.handleMouseEvents||G.widgetNode.setAttribute("cm-ignore-events","true"),T.insertLeft&&(G.widgetNode.insertLeft=!0)),G.collapsed){if(BO(g,b.line,b,A,G)||b.line!=A.line&&BO(g,A.line,b,A,G))throw new Error("Inserting collapsed marker partially overlapping an existing one");ife()}G.addToHistory&&DF(g,{from:b,to:A,origin:"markText"},g.sel,NaN);var te=b.line,se=g.cm,ge;if(g.iter(te,A.line+1,function(Be){se&&G.collapsed&&!se.options.lineWrapping&&Dl(Be)==se.display.maxLine&&(ge=!0),G.collapsed&&te!=b.line&&jt(Be,0),sfe(Be,new Gb(G,te==b.line?b.ch:null,te==A.line?A.ch:null),g.cm&&g.cm.curOp),++te}),G.collapsed&&g.iter(b.line,A.line+1,function(Be){kh(g,Be)&&jt(Be,0)}),G.clearOnEnter&&Ne(G,"beforeCursorEnter",function(){return G.clear()}),G.readOnly&&(nfe(),(g.history.done.length||g.history.undone.length)&&g.clearHistory()),G.collapsed&&(G.id=++XF,G.atomic=!0),se){if(ge&&(se.curOp.updateMaxLine=!0),G.collapsed)bs(se,b.line,A.line+1);else if(G.className||G.startStyle||G.endStyle||G.css||G.attributes||G.title)for(var De=b.line;De<=A.line;De++)Sh(se,De,"text");G.atomic&&PF(se.doc),Hi(se,"markerAdded",se,G)}return G}var Xv=function(g,b){this.markers=g,this.primary=b;for(var A=0;A<g.length;++A)g[A].parent=this};Xv.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var g=0;g<this.markers.length;++g)this.markers[g].clear();Hi(this,"clear")}},Xv.prototype.find=function(g,b){return this.primary.find(g,b)},ct(Xv);function gde(g,b,A,T,R){T=ye(T),T.shared=!1;var G=[Mp(g,b,A,T,R)],K=G[0],te=T.widgetNode;return Ah(g,function(se){te&&(T.widgetNode=te.cloneNode(!0)),G.push(Mp(se,kr(se,b),kr(se,A),T,R));for(var ge=0;ge<se.linked.length;++ge)if(se.linked[ge].isParent)return;K=Pe(G)}),new Xv(G,K)}function jF(g){return g.findMarks(mt(g.first,0),g.clipPos(mt(g.lastLine())),function(b){return b.parent})}function vde(g,b){for(var A=0;A<b.length;A++){var T=b[A],R=T.find(),G=g.clipPos(R.from),K=g.clipPos(R.to);if(Cr(G,K)){var te=Mp(g,G,K,T.primary,T.primary.type);T.markers.push(te),te.parent=T}}}function mde(g){for(var b=function(T){var R=g[T],G=[R.primary.doc];Ah(R.primary.doc,function(se){return G.push(se)});for(var K=0;K<R.markers.length;K++){var te=R.markers[K];ae(G,te.doc)==-1&&(te.parent=null,R.markers.splice(K--,1))}},A=0;A<g.length;A++)b(A)}var yde=0,ws=function(g,b,A,T,R){if(!(this instanceof ws))return new ws(g,b,A,T,R);A==null&&(A=0),qv.call(this,[new Wv([new bp("",null)])]),this.first=A,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=A;var G=mt(A,0);this.sel=Th(G),this.history=new s4(null),this.id=++yde,this.modeOption=b,this.lineSep=T,this.direction=R=="rtl"?"rtl":"ltr",this.extend=!1,typeof g=="string"&&(g=this.splitLines(g)),j6(this,{from:G,to:G,text:g}),Aa(this,Th(G),Se)};ws.prototype=me(qv.prototype,{constructor:ws,iter:function(g,b,A){A?this.iterN(g-this.first,b-g,A):this.iterN(this.first,this.first+this.size,g)},insert:function(g,b){for(var A=0,T=0;T<b.length;++T)A+=b[T].height;this.insertInner(g-this.first,b,A)},remove:function(g,b){this.removeInner(g-this.first,b)},getValue:function(g){var b=St(this,this.first,this.first+this.size);return g===!1?b:b.join(g||this.lineSeparator())},setValue:Ui(function(g){var b=mt(this.first,0),A=this.first+this.size-1;Dp(this,{from:b,to:mt(A,ot(this,A).text.length),text:this.splitLines(g),origin:"setValue",full:!0},!0),this.cm&&Fv(this.cm,0,0),Aa(this,Th(b),Se)}),replaceRange:function(g,b,A,T){b=kr(this,b),A=A?kr(this,A):b,Rp(this,g,b,A,T)},getRange:function(g,b,A){var T=tr(this,kr(this,g),kr(this,b));return A===!1?T:A===""?T.join(""):T.join(A||this.lineSeparator())},getLine:function(g){var b=this.getLineHandle(g);return b&&b.text},getLineHandle:function(g){if($e(this,g))return ot(this,g)},getLineNumber:function(g){return Ce(g)},getLineHandleVisualStart:function(g){return typeof g=="number"&&(g=ot(this,g)),Dl(g)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(g){return kr(this,g)},getCursor:function(g){var b=this.sel.primary(),A;return g==null||g=="head"?A=b.head:g=="anchor"?A=b.anchor:g=="end"||g=="to"||g===!1?A=b.to():A=b.from(),A},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ui(function(g,b,A){IF(this,kr(this,typeof g=="number"?mt(g,b||0):g),null,A)}),setSelection:Ui(function(g,b,A){IF(this,kr(this,g),kr(this,b||g),A)}),extendSelection:Ui(function(g,b,A){l4(this,kr(this,g),b&&kr(this,b),A)}),extendSelections:Ui(function(g,b){NF(this,Ub(this,g),b)}),extendSelectionsBy:Ui(function(g,b){var A=Ge(this.sel.ranges,g);NF(this,Ub(this,A),b)}),setSelections:Ui(function(g,b,A){if(g.length){for(var T=[],R=0;R<g.length;R++)T[R]=new tn(kr(this,g[R].anchor),kr(this,g[R].head||g[R].anchor));b==null&&(b=Math.min(g.length-1,this.sel.primIndex)),Aa(this,Ml(this.cm,T,b),A)}}),addSelection:Ui(function(g,b,A){var T=this.sel.ranges.slice(0);T.push(new tn(kr(this,g),kr(this,b||g))),Aa(this,Ml(this.cm,T,T.length-1),A)}),getSelection:function(g){for(var b=this.sel.ranges,A,T=0;T<b.length;T++){var R=tr(this,b[T].from(),b[T].to());A=A?A.concat(R):R}return g===!1?A:A.join(g||this.lineSeparator())},getSelections:function(g){for(var b=[],A=this.sel.ranges,T=0;T<A.length;T++){var R=tr(this,A[T].from(),A[T].to());g!==!1&&(R=R.join(g||this.lineSeparator())),b[T]=R}return b},replaceSelection:function(g,b,A){for(var T=[],R=0;R<this.sel.ranges.length;R++)T[R]=g;this.replaceSelections(T,b,A||"+input")},replaceSelections:Ui(function(g,b,A){for(var T=[],R=this.sel,G=0;G<R.ranges.length;G++){var K=R.ranges[G];T[G]={from:K.from(),to:K.to(),text:this.splitLines(g[G]),origin:A}}for(var te=b&&b!="end"&&ade(this,T,b),se=T.length-1;se>=0;se--)Dp(this,T[se]);te?OF(this,te):this.cm&&Cp(this.cm)}),undo:Ui(function(){h4(this,"undo")}),redo:Ui(function(){h4(this,"redo")}),undoSelection:Ui(function(){h4(this,"undo",!0)}),redoSelection:Ui(function(){h4(this,"redo",!0)}),setExtending:function(g){this.extend=g},getExtending:function(){return this.extend},historySize:function(){for(var g=this.history,b=0,A=0,T=0;T<g.done.length;T++)g.done[T].ranges||++b;for(var R=0;R<g.undone.length;R++)g.undone[R].ranges||++A;return{undo:b,redo:A}},clearHistory:function(){var g=this;this.history=new s4(this.history),Ah(this,function(b){return b.history=g.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(g){return g&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(g){return this.history.generation==(g||this.cleanGeneration)},getHistory:function(){return{done:_p(this.history.done),undone:_p(this.history.undone)}},setHistory:function(g){var b=this.history=new s4(this.history);b.done=_p(g.done.slice(0),null,!0),b.undone=_p(g.undone.slice(0),null,!0)},setGutterMarker:Ui(function(g,b,A){return Gv(this,g,"gutter",function(T){var R=T.gutterMarkers||(T.gutterMarkers={});return R[b]=A,!A&&j(R)&&(T.gutterMarkers=null),!0})}),clearGutter:Ui(function(g){var b=this;this.iter(function(A){A.gutterMarkers&&A.gutterMarkers[g]&&Gv(b,A,"gutter",function(){return A.gutterMarkers[g]=null,j(A.gutterMarkers)&&(A.gutterMarkers=null),!0})})}),lineInfo:function(g){var b;if(typeof g=="number"){if(!$e(this,g)||(b=g,g=ot(this,g),!g))return null}else if(b=Ce(g),b==null)return null;return{line:b,handle:g,text:g.text,gutterMarkers:g.gutterMarkers,textClass:g.textClass,bgClass:g.bgClass,wrapClass:g.wrapClass,widgets:g.widgets}},addLineClass:Ui(function(g,b,A){return Gv(this,g,b=="gutter"?"gutter":"class",function(T){var R=b=="text"?"textClass":b=="background"?"bgClass":b=="gutter"?"gutterClass":"wrapClass";if(!T[R])T[R]=A;else{if(N(A).test(T[R]))return!1;T[R]+=" "+A}return!0})}),removeLineClass:Ui(function(g,b,A){return Gv(this,g,b=="gutter"?"gutter":"class",function(T){var R=b=="text"?"textClass":b=="background"?"bgClass":b=="gutter"?"gutterClass":"wrapClass",G=T[R];if(G)if(A==null)T[R]=null;else{var K=G.match(N(A));if(!K)return!1;var te=K.index+K[0].length;T[R]=G.slice(0,K.index)+(!K.index||te==G.length?"":" ")+G.slice(te)||null}else return!1;return!0})}),addLineWidget:Ui(function(g,b,A){return pde(this,g,b,A)}),removeLineWidget:function(g){g.clear()},markText:function(g,b,A){return Mp(this,kr(this,g),kr(this,b),A,A&&A.type||"range")},setBookmark:function(g,b){var A={replacedWith:b&&(b.nodeType==null?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared,handleMouseEvents:b&&b.handleMouseEvents};return g=kr(this,g),Mp(this,g,g,A,"bookmark")},findMarksAt:function(g){g=kr(this,g);var b=[],A=ot(this,g.line).markedSpans;if(A)for(var T=0;T<A.length;++T){var R=A[T];(R.from==null||R.from<=g.ch)&&(R.to==null||R.to>=g.ch)&&b.push(R.marker.parent||R.marker)}return b},findMarks:function(g,b,A){g=kr(this,g),b=kr(this,b);var T=[],R=g.line;return this.iter(g.line,b.line+1,function(G){var K=G.markedSpans;if(K)for(var te=0;te<K.length;te++){var se=K[te];!(se.to!=null&&R==g.line&&g.ch>=se.to||se.from==null&&R!=g.line||se.from!=null&&R==b.line&&se.from>=b.ch)&&(!A||A(se.marker))&&T.push(se.marker.parent||se.marker)}++R}),T},getAllMarks:function(){var g=[];return this.iter(function(b){var A=b.markedSpans;if(A)for(var T=0;T<A.length;++T)A[T].from!=null&&g.push(A[T].marker)}),g},posFromIndex:function(g){var b,A=this.first,T=this.lineSeparator().length;return this.iter(function(R){var G=R.text.length+T;if(G>g)return b=g,!0;g-=G,++A}),kr(this,mt(A,b))},indexFromPos:function(g){g=kr(this,g);var b=g.ch;if(g.line<this.first||g.ch<0)return 0;var A=this.lineSeparator().length;return this.iter(this.first,g.line,function(T){b+=T.text.length+A}),b},copy:function(g){var b=new ws(St(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return b.scrollTop=this.scrollTop,b.scrollLeft=this.scrollLeft,b.sel=this.sel,b.extend=!1,g&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory())),b},linkedDoc:function(g){g||(g={});var b=this.first,A=this.first+this.size;g.from!=null&&g.from>b&&(b=g.from),g.to!=null&&g.to<A&&(A=g.to);var T=new ws(St(this,b,A),g.mode||this.modeOption,b,this.lineSep,this.direction);return g.sharedHist&&(T.history=this.history),(this.linked||(this.linked=[])).push({doc:T,sharedHist:g.sharedHist}),T.linked=[{doc:this,isParent:!0,sharedHist:g.sharedHist}],vde(T,jF(this)),T},unlinkDoc:function(g){if(g instanceof Hn&&(g=g.doc),this.linked)for(var b=0;b<this.linked.length;++b){var A=this.linked[b];if(A.doc==g){this.linked.splice(b,1),g.unlinkDoc(this),mde(jF(this));break}}if(g.history==this.history){var T=[g.id];Ah(g,function(R){return T.push(R.id)},!0),g.history=new s4(null),g.history.done=_p(this.history.done,T),g.history.undone=_p(this.history.undone,T)}},iterLinkedDocs:function(g){Ah(this,g)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(g){return this.lineSep?g.split(this.lineSep):Gr(g)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Ui(function(g){g!="rtl"&&(g="ltr"),g!=this.direction&&(this.direction=g,this.iter(function(b){return b.order=null}),this.cm&&sde(this.cm))})}),ws.prototype.eachLine=ws.prototype.iter;var KF=0;function xde(g){var b=this;if(QF(b),!(ft(b,g)||hc(b.display,g))){at(g),l&&(KF=+new Date);var A=fd(b,g,!0),T=g.dataTransfer.files;if(!(!A||b.isReadOnly()))if(T&&T.length&&window.FileReader&&window.File)for(var R=T.length,G=Array(R),K=0,te=function(){++K==R&&Vi(b,function(){A=kr(b.doc,A);var Ye={from:A,to:A,text:b.doc.splitLines(G.filter(function(st){return st!=null}).join(b.doc.lineSeparator())),origin:"paste"};Dp(b.doc,Ye),OF(b.doc,Th(kr(b.doc,A),kr(b.doc,Ch(Ye))))})()},se=function(Ye,st){if(b.options.allowDropFileTypes&&ae(b.options.allowDropFileTypes,Ye.type)==-1){te();return}var dt=new FileReader;dt.onerror=function(){return te()},dt.onload=function(){var Tt=dt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Tt)){te();return}G[st]=Tt,te()},dt.readAsText(Ye)},ge=0;ge<T.length;ge++)se(T[ge],ge);else{if(b.state.draggingText&&b.doc.sel.contains(A)>-1){b.state.draggingText(g),setTimeout(function(){return b.display.input.focus()},20);return}try{var De=g.dataTransfer.getData("Text");if(De){var Be;if(b.state.draggingText&&!b.state.draggingText.copy&&(Be=b.listSelections()),u4(b.doc,Th(A,A)),Be)for(var Ze=0;Ze<Be.length;++Ze)Rp(b.doc,"",Be[Ze].anchor,Be[Ze].head,"drag");b.replaceSelection(De,"around","paste"),b.display.input.focus()}}catch{}}}}function bde(g,b){if(l&&(!g.state.draggingText||+new Date-KF<100)){pt(b);return}if(!(ft(g,b)||hc(g.display,b))&&(b.dataTransfer.setData("Text",g.getSelection()),b.dataTransfer.effectAllowed="copyMove",b.dataTransfer.setDragImage&&!m)){var A=O("img",null,null,"position: fixed; left: 0; top: 0;");A.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",v&&(A.width=A.height=1,g.display.wrapper.appendChild(A),A._top=A.offsetTop),b.dataTransfer.setDragImage(A,0,0),v&&A.parentNode.removeChild(A)}}function wde(g,b){var A=fd(g,b);if(A){var T=document.createDocumentFragment();F6(g,A,T),g.display.dragCursor||(g.display.dragCursor=O("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),g.display.lineSpace.insertBefore(g.display.dragCursor,g.display.cursorDiv)),D(g.display.dragCursor,T)}}function QF(g){g.display.dragCursor&&(g.display.lineSpace.removeChild(g.display.dragCursor),g.display.dragCursor=null)}function ZF(g){if(document.getElementsByClassName){for(var b=document.getElementsByClassName("CodeMirror"),A=[],T=0;T<b.length;T++){var R=b[T].CodeMirror;R&&A.push(R)}A.length&&A[0].operation(function(){for(var G=0;G<A.length;G++)g(A[G])})}}var JF=!1;function kde(){JF||(Sde(),JF=!0)}function Sde(){var g;Ne(window,"resize",function(){g==null&&(g=setTimeout(function(){g=null,ZF(Ede)},100))}),Ne(window,"blur",function(){return ZF(Tp)})}function Ede(g){var b=g.display;b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.scrollbarsClipped=!1,g.setSize()}for(var Lh={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},jv=0;jv<10;jv++)Lh[jv+48]=Lh[jv+96]=String(jv);for(var f4=65;f4<=90;f4++)Lh[f4]=String.fromCharCode(f4);for(var Kv=1;Kv<=12;Kv++)Lh[Kv+111]=Lh[Kv+63235]="F"+Kv;var dc={};dc.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},dc.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},dc.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},dc.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},dc.default=C?dc.macDefault:dc.pcDefault;function Tde(g){var b=g.split(/-(?!$)/);g=b[b.length-1];for(var A,T,R,G,K=0;K<b.length-1;K++){var te=b[K];if(/^(cmd|meta|m)$/i.test(te))G=!0;else if(/^a(lt)?$/i.test(te))A=!0;else if(/^(c|ctrl|control)$/i.test(te))T=!0;else if(/^s(hift)?$/i.test(te))R=!0;else throw new Error("Unrecognized modifier name: "+te)}return A&&(g="Alt-"+g),T&&(g="Ctrl-"+g),G&&(g="Cmd-"+g),R&&(g="Shift-"+g),g}function Cde(g){var b={};for(var A in g)if(g.hasOwnProperty(A)){var T=g[A];if(/^(name|fallthrough|(de|at)tach)$/.test(A))continue;if(T=="..."){delete g[A];continue}for(var R=Ge(A.split(" "),Tde),G=0;G<R.length;G++){var K=void 0,te=void 0;G==R.length-1?(te=R.join(" "),K=T):(te=R.slice(0,G+1).join(" "),K="...");var se=b[te];if(!se)b[te]=K;else if(se!=K)throw new Error("Inconsistent bindings for "+te)}delete g[A]}for(var ge in b)g[ge]=b[ge];return g}function Np(g,b,A,T){b=d4(b);var R=b.call?b.call(g,T):b[g];if(R===!1)return"nothing";if(R==="...")return"multi";if(R!=null&&A(R))return"handled";if(b.fallthrough){if(Object.prototype.toString.call(b.fallthrough)!="[object Array]")return Np(g,b.fallthrough,A,T);for(var G=0;G<b.fallthrough.length;G++){var K=Np(g,b.fallthrough[G],A,T);if(K)return K}}}function eP(g){var b=typeof g=="string"?g:Lh[g.keyCode];return b=="Ctrl"||b=="Alt"||b=="Shift"||b=="Mod"}function tP(g,b,A){var T=g;return b.altKey&&T!="Alt"&&(g="Alt-"+g),(M?b.metaKey:b.ctrlKey)&&T!="Ctrl"&&(g="Ctrl-"+g),(M?b.ctrlKey:b.metaKey)&&T!="Mod"&&(g="Cmd-"+g),!A&&b.shiftKey&&T!="Shift"&&(g="Shift-"+g),g}function rP(g,b){if(v&&g.keyCode==34&&g.char)return!1;var A=Lh[g.keyCode];return A==null||g.altGraphKey?!1:(g.keyCode==3&&g.code&&(A=g.code),tP(A,g,b))}function d4(g){return typeof g=="string"?dc[g]:g}function Ip(g,b){for(var A=g.doc.sel.ranges,T=[],R=0;R<A.length;R++){for(var G=b(A[R]);T.length&&Cr(G.from,Pe(T).to)<=0;){var K=T.pop();if(Cr(K.from,G.from)<0){G.from=K.from;break}}T.push(G)}qs(g,function(){for(var te=T.length-1;te>=0;te--)Rp(g.doc,"",T[te].from,T[te].to,"+delete");Cp(g)})}function J6(g,b,A){var T=le(g.text,b+A,A);return T<0||T>g.text.length?null:T}function eC(g,b,A){var T=J6(g,b.ch,A);return T==null?null:new mt(b.line,T,A<0?"after":"before")}function tC(g,b,A,T,R){if(g){b.doc.direction=="rtl"&&(R=-R);var G=Ie(A,b.doc.direction);if(G){var K=R<0?Pe(G):G[0],te=R<0==(K.level==1),se=te?"after":"before",ge;if(K.level>0||b.doc.direction=="rtl"){var De=kp(b,A);ge=R<0?A.text.length-1:0;var Be=bu(b,De,ge).top;ge=_e(function(Ze){return bu(b,De,Ze).top==Be},R<0==(K.level==1)?K.from:K.to-1,ge),se=="before"&&(ge=J6(A,ge,1))}else ge=R<0?K.to:K.from;return new mt(T,ge,se)}}return new mt(T,R<0?A.text.length:0,R<0?"before":"after")}function Ade(g,b,A,T){var R=Ie(b,g.doc.direction);if(!R)return eC(b,A,T);A.ch>=b.text.length?(A.ch=b.text.length,A.sticky="before"):A.ch<=0&&(A.ch=0,A.sticky="after");var G=Oe(R,A.ch,A.sticky),K=R[G];if(g.doc.direction=="ltr"&&K.level%2==0&&(T>0?K.to>A.ch:K.from<A.ch))return eC(b,A,T);var te=function(Nt,Bt){return J6(b,Nt instanceof mt?Nt.ch:Nt,Bt)},se,ge=function(Nt){return g.options.lineWrapping?(se=se||kp(g,b),oF(g,b,se,Nt)):{begin:0,end:b.text.length}},De=ge(A.sticky=="before"?te(A,-1):A.ch);if(g.doc.direction=="rtl"||K.level==1){var Be=K.level==1==T<0,Ze=te(A,Be?1:-1);if(Ze!=null&&(Be?Ze<=K.to&&Ze<=De.end:Ze>=K.from&&Ze>=De.begin)){var Ye=Be?"before":"after";return new mt(A.line,Ze,Ye)}}var st=function(Nt,Bt,It){for(var Wt=function(Tn,Gi){return Gi?new mt(A.line,te(Tn,1),"before"):new mt(A.line,Tn,"after")};Nt>=0&&Nt<R.length;Nt+=Bt){var ur=R[Nt],ir=Bt>0==(ur.level!=1),Or=ir?It.begin:te(It.end,-1);if(ur.from<=Or&&Or<ur.to||(Or=ir?ur.from:te(ur.to,-1),It.begin<=Or&&Or<It.end))return Wt(Or,ir)}},dt=st(G+T,T,De);if(dt)return dt;var Tt=T>0?De.end:te(De.begin,-1);return Tt!=null&&!(T>0&&Tt==b.text.length)&&(dt=st(T>0?0:R.length-1,T,ge(Tt)),dt)?dt:null}var Qv={selectAll:zF,singleSelection:function(g){return g.setSelection(g.getCursor("anchor"),g.getCursor("head"),Se)},killLine:function(g){return Ip(g,function(b){if(b.empty()){var A=ot(g.doc,b.head.line).text.length;return b.head.ch==A&&b.head.line<g.lastLine()?{from:b.head,to:mt(b.head.line+1,0)}:{from:b.head,to:mt(b.head.line,A)}}else return{from:b.from(),to:b.to()}})},deleteLine:function(g){return Ip(g,function(b){return{from:mt(b.from().line,0),to:kr(g.doc,mt(b.to().line+1,0))}})},delLineLeft:function(g){return Ip(g,function(b){return{from:mt(b.from().line,0),to:b.from()}})},delWrappedLineLeft:function(g){return Ip(g,function(b){var A=g.charCoords(b.head,"div").top+5,T=g.coordsChar({left:0,top:A},"div");return{from:T,to:b.from()}})},delWrappedLineRight:function(g){return Ip(g,function(b){var A=g.charCoords(b.head,"div").top+5,T=g.coordsChar({left:g.display.lineDiv.offsetWidth+100,top:A},"div");return{from:b.from(),to:T}})},undo:function(g){return g.undo()},redo:function(g){return g.redo()},undoSelection:function(g){return g.undoSelection()},redoSelection:function(g){return g.redoSelection()},goDocStart:function(g){return g.extendSelection(mt(g.firstLine(),0))},goDocEnd:function(g){return g.extendSelection(mt(g.lastLine()))},goLineStart:function(g){return g.extendSelectionsBy(function(b){return nP(g,b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(g){return g.extendSelectionsBy(function(b){return iP(g,b.head)},{origin:"+move",bias:1})},goLineEnd:function(g){return g.extendSelectionsBy(function(b){return _de(g,b.head.line)},{origin:"+move",bias:-1})},goLineRight:function(g){return g.extendSelectionsBy(function(b){var A=g.cursorCoords(b.head,"div").top+5;return g.coordsChar({left:g.display.lineDiv.offsetWidth+100,top:A},"div")},be)},goLineLeft:function(g){return g.extendSelectionsBy(function(b){var A=g.cursorCoords(b.head,"div").top+5;return g.coordsChar({left:0,top:A},"div")},be)},goLineLeftSmart:function(g){return g.extendSelectionsBy(function(b){var A=g.cursorCoords(b.head,"div").top+5,T=g.coordsChar({left:0,top:A},"div");return T.ch<g.getLine(T.line).search(/\S/)?iP(g,b.head):T},be)},goLineUp:function(g){return g.moveV(-1,"line")},goLineDown:function(g){return g.moveV(1,"line")},goPageUp:function(g){return g.moveV(-1,"page")},goPageDown:function(g){return g.moveV(1,"page")},goCharLeft:function(g){return g.moveH(-1,"char")},goCharRight:function(g){return g.moveH(1,"char")},goColumnLeft:function(g){return g.moveH(-1,"column")},goColumnRight:function(g){return g.moveH(1,"column")},goWordLeft:function(g){return g.moveH(-1,"word")},goGroupRight:function(g){return g.moveH(1,"group")},goGroupLeft:function(g){return g.moveH(-1,"group")},goWordRight:function(g){return g.moveH(1,"word")},delCharBefore:function(g){return g.deleteH(-1,"codepoint")},delCharAfter:function(g){return g.deleteH(1,"char")},delWordBefore:function(g){return g.deleteH(-1,"word")},delWordAfter:function(g){return g.deleteH(1,"word")},delGroupBefore:function(g){return g.deleteH(-1,"group")},delGroupAfter:function(g){return g.deleteH(1,"group")},indentAuto:function(g){return g.indentSelection("smart")},indentMore:function(g){return g.indentSelection("add")},indentLess:function(g){return g.indentSelection("subtract")},insertTab:function(g){return g.replaceSelection("	")},insertSoftTab:function(g){for(var b=[],A=g.listSelections(),T=g.options.tabSize,R=0;R<A.length;R++){var G=A[R].from(),K=Z(g.getLine(G.line),G.ch,T);b.push(Re(T-K%T))}g.replaceSelections(b)},defaultTab:function(g){g.somethingSelected()?g.indentSelection("add"):g.execCommand("insertTab")},transposeChars:function(g){return qs(g,function(){for(var b=g.listSelections(),A=[],T=0;T<b.length;T++)if(b[T].empty()){var R=b[T].head,G=ot(g.doc,R.line).text;if(G){if(R.ch==G.length&&(R=new mt(R.line,R.ch-1)),R.ch>0)R=new mt(R.line,R.ch+1),g.replaceRange(G.charAt(R.ch-1)+G.charAt(R.ch-2),mt(R.line,R.ch-2),R,"+transpose");else if(R.line>g.doc.first){var K=ot(g.doc,R.line-1).text;K&&(R=new mt(R.line,1),g.replaceRange(G.charAt(0)+g.doc.lineSeparator()+K.charAt(K.length-1),mt(R.line-1,K.length-1),R,"+transpose"))}}A.push(new tn(R,R))}g.setSelections(A)})},newlineAndIndent:function(g){return qs(g,function(){for(var b=g.listSelections(),A=b.length-1;A>=0;A--)g.replaceRange(g.doc.lineSeparator(),b[A].anchor,b[A].head,"+input");b=g.listSelections();for(var T=0;T<b.length;T++)g.indentLine(b[T].from().line,null,!0);Cp(g)})},openLine:function(g){return g.replaceSelection(`
`,"start")},toggleOverwrite:function(g){return g.toggleOverwrite()}};function nP(g,b){var A=ot(g.doc,b),T=Dl(A);return T!=A&&(b=Ce(T)),tC(!0,g,T,b,1)}function _de(g,b){var A=ot(g.doc,b),T=hfe(A);return T!=A&&(b=Ce(T)),tC(!0,g,A,b,-1)}function iP(g,b){var A=nP(g,b.line),T=ot(g.doc,A.line),R=Ie(T,g.doc.direction);if(!R||R[0].level==0){var G=Math.max(A.ch,T.text.search(/\S/)),K=b.line==A.line&&b.ch<=G&&b.ch;return mt(A.line,K?0:G,A.sticky)}return A}function p4(g,b,A){if(typeof b=="string"&&(b=Qv[b],!b))return!1;g.display.input.ensurePolled();var T=g.display.shift,R=!1;try{g.isReadOnly()&&(g.state.suppressEdits=!0),A&&(g.display.shift=!1),R=b(g)!=Ee}finally{g.display.shift=T,g.state.suppressEdits=!1}return R}function Lde(g,b,A){for(var T=0;T<g.state.keyMaps.length;T++){var R=Np(b,g.state.keyMaps[T],A,g);if(R)return R}return g.options.extraKeys&&Np(b,g.options.extraKeys,A,g)||Np(b,g.options.keyMap,A,g)}var Dde=new ue;function Zv(g,b,A,T){var R=g.state.keySeq;if(R){if(eP(b))return"handled";if(/\'$/.test(b)?g.state.keySeq=null:Dde.set(50,function(){g.state.keySeq==R&&(g.state.keySeq=null,g.display.input.reset())}),aP(g,R+" "+b,A,T))return!0}return aP(g,b,A,T)}function aP(g,b,A,T){var R=Lde(g,b,T);return R=="multi"&&(g.state.keySeq=b),R=="handled"&&Hi(g,"keyHandled",g,b,A),(R=="handled"||R=="multi")&&(at(A),P6(g)),!!R}function sP(g,b){var A=rP(b,!0);return A?b.shiftKey&&!g.state.keySeq?Zv(g,"Shift-"+A,b,function(T){return p4(g,T,!0)})||Zv(g,A,b,function(T){if(typeof T=="string"?/^go[A-Z]/.test(T):T.motion)return p4(g,T)}):Zv(g,A,b,function(T){return p4(g,T)}):!1}function Rde(g,b,A){return Zv(g,"'"+A+"'",b,function(T){return p4(g,T,!0)})}var rC=null;function oP(g){var b=this;if(!(g.target&&g.target!=b.display.input.getField())&&(b.curOp.focus=H(J(b)),!ft(b,g))){l&&u<11&&g.keyCode==27&&(g.returnValue=!1);var A=g.keyCode;b.display.shift=A==16||g.shiftKey;var T=sP(b,g);v&&(rC=T?A:null,!T&&A==88&&!jn&&(C?g.metaKey:g.ctrlKey)&&b.replaceSelection("",null,"cut")),i&&!C&&!T&&A==46&&g.shiftKey&&!g.ctrlKey&&document.execCommand&&document.execCommand("cut"),A==18&&!/\bCodeMirror-crosshair\b/.test(b.display.lineDiv.className)&&Mde(b)}}function Mde(g){var b=g.display.lineDiv;X(b,"CodeMirror-crosshair");function A(T){(T.keyCode==18||!T.altKey)&&(z(b,"CodeMirror-crosshair"),it(document,"keyup",A),it(document,"mouseover",A))}Ne(document,"keyup",A),Ne(document,"mouseover",A)}function lP(g){g.keyCode==16&&(this.doc.sel.shift=!1),ft(this,g)}function uP(g){var b=this;if(!(g.target&&g.target!=b.display.input.getField())&&!(hc(b.display,g)||ft(b,g)||g.ctrlKey&&!g.altKey||C&&g.metaKey)){var A=g.keyCode,T=g.charCode;if(v&&A==rC){rC=null,at(g);return}if(!(v&&(!g.which||g.which<10)&&sP(b,g))){var R=String.fromCharCode(T??A);R!="\b"&&(Rde(b,g,R)||b.display.input.onKeyPress(g))}}}var Nde=400,nC=function(g,b,A){this.time=g,this.pos=b,this.button=A};nC.prototype.compare=function(g,b,A){return this.time+Nde>g&&Cr(b,this.pos)==0&&A==this.button};var Jv,em;function Ide(g,b){var A=+new Date;return em&&em.compare(A,g,b)?(Jv=em=null,"triple"):Jv&&Jv.compare(A,g,b)?(em=new nC(A,g,b),Jv=null,"double"):(Jv=new nC(A,g,b),em=null,"single")}function cP(g){var b=this,A=b.display;if(!(ft(b,g)||A.activeTouch&&A.input.supportsTouch())){if(A.input.ensurePolled(),A.shift=g.shiftKey,hc(A,g)){h||(A.scroller.draggable=!1,setTimeout(function(){return A.scroller.draggable=!0},100));return}if(!iC(b,g)){var T=fd(b,g),R=xt(g),G=T?Ide(T,R):"single";re(b).focus(),R==1&&b.state.selectingText&&b.state.selectingText(g),!(T&&Ode(b,R,T,G,g))&&(R==1?T?Pde(b,T,G,g):Zt(g)==A.scroller&&at(g):R==2?(T&&l4(b.doc,T),setTimeout(function(){return A.input.focus()},20)):R==3&&(F?b.display.input.onContextMenu(g):B6(b)))}}}function Ode(g,b,A,T,R){var G="Click";return T=="double"?G="Double"+G:T=="triple"&&(G="Triple"+G),G=(b==1?"Left":b==2?"Middle":"Right")+G,Zv(g,tP(G,R),R,function(K){if(typeof K=="string"&&(K=Qv[K]),!K)return!1;var te=!1;try{g.isReadOnly()&&(g.state.suppressEdits=!0),te=K(g,A)!=Ee}finally{g.state.suppressEdits=!1}return te})}function Fde(g,b,A){var T=g.getOption("configureMouse"),R=T?T(g,b,A):{};if(R.unit==null){var G=L?A.shiftKey&&A.metaKey:A.altKey;R.unit=G?"rectangle":b=="single"?"char":b=="double"?"word":"line"}return(R.extend==null||g.doc.extend)&&(R.extend=g.doc.extend||A.shiftKey),R.addNew==null&&(R.addNew=C?A.metaKey:A.ctrlKey),R.moveOnDrag==null&&(R.moveOnDrag=!(C?A.altKey:A.ctrlKey)),R}function Pde(g,b,A,T){l?setTimeout(ve(hF,g),0):g.curOp.focus=H(J(g));var R=Fde(g,A,T),G=g.doc.sel,K;g.options.dragDrop&&ht&&!g.isReadOnly()&&A=="single"&&(K=G.contains(b))>-1&&(Cr((K=G.ranges[K]).from(),b)<0||b.xRel>0)&&(Cr(K.to(),b)>0||b.xRel<0)?Bde(g,T,b,R):$de(g,T,b,R)}function Bde(g,b,A,T){var R=g.display,G=!1,K=Vi(g,function(ge){h&&(R.scroller.draggable=!1),g.state.draggingText=!1,g.state.delayingBlurEvent&&(g.hasFocus()?g.state.delayingBlurEvent=!1:B6(g)),it(R.wrapper.ownerDocument,"mouseup",K),it(R.wrapper.ownerDocument,"mousemove",te),it(R.scroller,"dragstart",se),it(R.scroller,"drop",K),G||(at(ge),T.addNew||l4(g.doc,A,null,null,T.extend),h&&!m||l&&u==9?setTimeout(function(){R.wrapper.ownerDocument.body.focus({preventScroll:!0}),R.input.focus()},20):R.input.focus())}),te=function(ge){G=G||Math.abs(b.clientX-ge.clientX)+Math.abs(b.clientY-ge.clientY)>=10},se=function(){return G=!0};h&&(R.scroller.draggable=!0),g.state.draggingText=K,K.copy=!T.moveOnDrag,Ne(R.wrapper.ownerDocument,"mouseup",K),Ne(R.wrapper.ownerDocument,"mousemove",te),Ne(R.scroller,"dragstart",se),Ne(R.scroller,"drop",K),g.state.delayingBlurEvent=!0,setTimeout(function(){return R.input.focus()},20),R.scroller.dragDrop&&R.scroller.dragDrop()}function hP(g,b,A){if(A=="char")return new tn(b,b);if(A=="word")return g.findWordAt(b);if(A=="line")return new tn(mt(b.line,0),kr(g.doc,mt(b.line+1,0)));var T=A(g,b);return new tn(T.from,T.to)}function $de(g,b,A,T){l&&B6(g);var R=g.display,G=g.doc;at(b);var K,te,se=G.sel,ge=se.ranges;if(T.addNew&&!T.extend?(te=G.sel.contains(A),te>-1?K=ge[te]:K=new tn(A,A)):(K=G.sel.primary(),te=G.sel.primIndex),T.unit=="rectangle")T.addNew||(K=new tn(A,A)),A=fd(g,b,!0,!0),te=-1;else{var De=hP(g,A,T.unit);T.extend?K=Q6(K,De.anchor,De.head,T.extend):K=De}T.addNew?te==-1?(te=ge.length,Aa(G,Ml(g,ge.concat([K]),te),{scroll:!1,origin:"*mouse"})):ge.length>1&&ge[te].empty()&&T.unit=="char"&&!T.extend?(Aa(G,Ml(g,ge.slice(0,te).concat(ge.slice(te+1)),0),{scroll:!1,origin:"*mouse"}),se=G.sel):Z6(G,te,K,de):(te=0,Aa(G,new So([K],0),de),se=G.sel);var Be=A;function Ze(It){if(Cr(Be,It)!=0)if(Be=It,T.unit=="rectangle"){for(var Wt=[],ur=g.options.tabSize,ir=Z(ot(G,A.line).text,A.ch,ur),Or=Z(ot(G,It.line).text,It.ch,ur),Tn=Math.min(ir,Or),Gi=Math.max(ir,Or),Kn=Math.min(A.line,It.line),Ys=Math.min(g.lastLine(),Math.max(A.line,It.line));Kn<=Ys;Kn++){var ks=ot(G,Kn).text,Si=oe(ks,Tn,ur);Tn==Gi?Wt.push(new tn(mt(Kn,Si),mt(Kn,Si))):ks.length>Si&&Wt.push(new tn(mt(Kn,Si),mt(Kn,oe(ks,Gi,ur))))}Wt.length||Wt.push(new tn(A,A)),Aa(G,Ml(g,se.ranges.slice(0,te).concat(Wt),te),{origin:"*mouse",scroll:!1}),g.scrollIntoView(It)}else{var Ss=K,fa=hP(g,It,T.unit),Ni=Ss.anchor,Ei;Cr(fa.anchor,Ni)>0?(Ei=fa.head,Ni=Zo(Ss.from(),fa.anchor)):(Ei=fa.anchor,Ni=ni(Ss.to(),fa.head));var ii=se.ranges.slice(0);ii[te]=zde(g,new tn(kr(G,Ni),Ei)),Aa(G,Ml(g,ii,te),de)}}var Ye=R.wrapper.getBoundingClientRect(),st=0;function dt(It){var Wt=++st,ur=fd(g,It,!0,T.unit=="rectangle");if(ur)if(Cr(ur,Be)!=0){g.curOp.focus=H(J(g)),Ze(ur);var ir=r4(R,G);(ur.line>=ir.to||ur.line<ir.from)&&setTimeout(Vi(g,function(){st==Wt&&dt(It)}),150)}else{var Or=It.clientY<Ye.top?-20:It.clientY>Ye.bottom?20:0;Or&&setTimeout(Vi(g,function(){st==Wt&&(R.scroller.scrollTop+=Or,dt(It))}),50)}}function Tt(It){g.state.selectingText=!1,st=1/0,It&&(at(It),R.input.focus()),it(R.wrapper.ownerDocument,"mousemove",Nt),it(R.wrapper.ownerDocument,"mouseup",Bt),G.history.lastSelOrigin=null}var Nt=Vi(g,function(It){It.buttons===0||!xt(It)?Tt(It):dt(It)}),Bt=Vi(g,Tt);g.state.selectingText=Bt,Ne(R.wrapper.ownerDocument,"mousemove",Nt),Ne(R.wrapper.ownerDocument,"mouseup",Bt)}function zde(g,b){var A=b.anchor,T=b.head,R=ot(g.doc,A.line);if(Cr(A,T)==0&&A.sticky==T.sticky)return b;var G=Ie(R);if(!G)return b;var K=Oe(G,A.ch,A.sticky),te=G[K];if(te.from!=A.ch&&te.to!=A.ch)return b;var se=K+(te.from==A.ch==(te.level!=1)?0:1);if(se==0||se==G.length)return b;var ge;if(T.line!=A.line)ge=(T.line-A.line)*(g.doc.direction=="ltr"?1:-1)>0;else{var De=Oe(G,T.ch,T.sticky),Be=De-K||(T.ch-A.ch)*(te.level==1?-1:1);De==se-1||De==se?ge=Be<0:ge=Be>0}var Ze=G[se+(ge?-1:0)],Ye=ge==(Ze.level==1),st=Ye?Ze.from:Ze.to,dt=Ye?"after":"before";return A.ch==st&&A.sticky==dt?b:new tn(new mt(A.line,st,dt),T)}function fP(g,b,A,T){var R,G;if(b.touches)R=b.touches[0].clientX,G=b.touches[0].clientY;else try{R=b.clientX,G=b.clientY}catch{return!1}if(R>=Math.floor(g.display.gutters.getBoundingClientRect().right))return!1;T&&at(b);var K=g.display,te=K.lineDiv.getBoundingClientRect();if(G>te.bottom||!_t(g,A))return ut(b);G-=te.top-K.viewOffset;for(var se=0;se<g.display.gutterSpecs.length;++se){var ge=K.gutters.childNodes[se];if(ge&&ge.getBoundingClientRect().right>=R){var De=Nr(g.doc,G),Be=g.display.gutterSpecs[se];return lt(g,A,g,De,Be.className,b),ut(b)}}}function iC(g,b){return fP(g,b,"gutterClick",!0)}function dP(g,b){hc(g.display,b)||Hde(g,b)||ft(g,b,"contextmenu")||F||g.display.input.onContextMenu(b)}function Hde(g,b){return _t(g,"gutterContextMenu")?fP(g,b,"gutterContextMenu",!1):!1}function pP(g){g.display.wrapper.className=g.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+g.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Iv(g)}var Op={toString:function(){return"CodeMirror.Init"}},gP={},g4={};function Vde(g){var b=g.optionHandlers;function A(T,R,G,K){g.defaults[T]=R,G&&(b[T]=K?function(te,se,ge){ge!=Op&&G(te,se,ge)}:G)}g.defineOption=A,g.Init=Op,A("value","",function(T,R){return T.setValue(R)},!0),A("mode",null,function(T,R){T.doc.modeOption=R,X6(T)},!0),A("indentUnit",2,X6,!0),A("indentWithTabs",!1),A("smartIndent",!0),A("tabSize",4,function(T){Vv(T),Iv(T),bs(T)},!0),A("lineSeparator",null,function(T,R){if(T.doc.lineSep=R,!!R){var G=[],K=T.doc.first;T.doc.iter(function(se){for(var ge=0;;){var De=se.text.indexOf(R,ge);if(De==-1)break;ge=De+R.length,G.push(mt(K,De))}K++});for(var te=G.length-1;te>=0;te--)Rp(T.doc,R,G[te],mt(G[te].line,G[te].ch+R.length))}}),A("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(T,R,G){T.state.specialChars=new RegExp(R.source+(R.test("	")?"":"|	"),"g"),G!=Op&&T.refresh()}),A("specialCharPlaceholder",mfe,function(T){return T.refresh()},!0),A("electricChars",!0),A("inputStyle",E?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),A("spellcheck",!1,function(T,R){return T.getInputField().spellcheck=R},!0),A("autocorrect",!1,function(T,R){return T.getInputField().autocorrect=R},!0),A("autocapitalize",!1,function(T,R){return T.getInputField().autocapitalize=R},!0),A("rtlMoveVisually",!_),A("wholeLineUpdateBefore",!0),A("theme","default",function(T){pP(T),Hv(T)},!0),A("keyMap","default",function(T,R,G){var K=d4(R),te=G!=Op&&d4(G);te&&te.detach&&te.detach(T,K),K.attach&&K.attach(T,te||null)}),A("extraKeys",null),A("configureMouse",null),A("lineWrapping",!1,Gde,!0),A("gutters",[],function(T,R){T.display.gutterSpecs=q6(R,T.options.lineNumbers),Hv(T)},!0),A("fixedGutter",!0,function(T,R){T.display.gutters.style.left=R?I6(T.display)+"px":"0",T.refresh()},!0),A("coverGutterNextToScrollbar",!1,function(T){return Ap(T)},!0),A("scrollbarStyle","native",function(T){mF(T),Ap(T),T.display.scrollbars.setScrollTop(T.doc.scrollTop),T.display.scrollbars.setScrollLeft(T.doc.scrollLeft)},!0),A("lineNumbers",!1,function(T,R){T.display.gutterSpecs=q6(T.options.gutters,R),Hv(T)},!0),A("firstLineNumber",1,Hv,!0),A("lineNumberFormatter",function(T){return T},Hv,!0),A("showCursorWhenSelecting",!1,Ov,!0),A("resetSelectionOnContextMenu",!0),A("lineWiseCopyCut",!0),A("pasteLinesPerSelection",!0),A("selectionsMayTouch",!1),A("readOnly",!1,function(T,R){R=="nocursor"&&(Tp(T),T.display.input.blur()),T.display.input.readOnlyChanged(R)}),A("screenReaderLabel",null,function(T,R){R=R===""?null:R,T.display.input.screenReaderLabelChanged(R)}),A("disableInput",!1,function(T,R){R||T.display.input.reset()},!0),A("dragDrop",!0,Ude),A("allowDropFileTypes",null),A("cursorBlinkRate",530),A("cursorScrollMargin",0),A("cursorHeight",1,Ov,!0),A("singleCursorHeightPerLine",!0,Ov,!0),A("workTime",100),A("workDelay",100),A("flattenSpans",!0,Vv,!0),A("addModeClass",!1,Vv,!0),A("pollInterval",100),A("undoDepth",200,function(T,R){return T.doc.history.undoDepth=R}),A("historyEventDelay",1250),A("viewportMargin",10,function(T){return T.refresh()},!0),A("maxHighlightLength",1e4,Vv,!0),A("moveInputWithCursor",!0,function(T,R){R||T.display.input.resetPosition()}),A("tabindex",null,function(T,R){return T.display.input.getField().tabIndex=R||""}),A("autofocus",null),A("direction","ltr",function(T,R){return T.doc.setDirection(R)},!0),A("phrases",null)}function Ude(g,b,A){var T=A&&A!=Op;if(!b!=!T){var R=g.display.dragFunctions,G=b?Ne:it;G(g.display.scroller,"dragstart",R.start),G(g.display.scroller,"dragenter",R.enter),G(g.display.scroller,"dragover",R.over),G(g.display.scroller,"dragleave",R.leave),G(g.display.scroller,"drop",R.drop)}}function Gde(g){g.options.lineWrapping?(X(g.display.wrapper,"CodeMirror-wrap"),g.display.sizer.style.minWidth="",g.display.sizerWidth=null):(z(g.display.wrapper,"CodeMirror-wrap"),E6(g)),O6(g),bs(g),Iv(g),setTimeout(function(){return Ap(g)},100)}function Hn(g,b){var A=this;if(!(this instanceof Hn))return new Hn(g,b);this.options=b=b?ye(b):{},ye(gP,b,!1);var T=b.value;typeof T=="string"?T=new ws(T,b.mode,null,b.lineSeparator,b.direction):b.mode&&(T.modeOption=b.mode),this.doc=T;var R=new Hn.inputStyles[b.inputStyle](this),G=this.display=new nde(g,T,R,b);G.wrapper.CodeMirror=this,pP(this),b.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),mF(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ue,keySeq:null,specialChars:null},b.autofocus&&!E&&G.input.focus(),l&&u<11&&setTimeout(function(){return A.display.input.reset(!0)},20),Wde(this),kde(),vd(this),this.curOp.forceUpdate=!0,AF(this,T),b.autofocus&&!E||this.hasFocus()?setTimeout(function(){A.hasFocus()&&!A.state.focused&&$6(A)},20):Tp(this);for(var K in g4)g4.hasOwnProperty(K)&&g4[K](this,b[K],Op);bF(this),b.finishInit&&b.finishInit(this);for(var te=0;te<aC.length;++te)aC[te](this);md(this),h&&b.lineWrapping&&getComputedStyle(G.lineDiv).textRendering=="optimizelegibility"&&(G.lineDiv.style.textRendering="auto")}Hn.defaults=gP,Hn.optionHandlers=g4;function Wde(g){var b=g.display;Ne(b.scroller,"mousedown",Vi(g,cP)),l&&u<11?Ne(b.scroller,"dblclick",Vi(g,function(se){if(!ft(g,se)){var ge=fd(g,se);if(!(!ge||iC(g,se)||hc(g.display,se))){at(se);var De=g.findWordAt(ge);l4(g.doc,De.anchor,De.head)}}})):Ne(b.scroller,"dblclick",function(se){return ft(g,se)||at(se)}),Ne(b.scroller,"contextmenu",function(se){return dP(g,se)}),Ne(b.input.getField(),"contextmenu",function(se){b.scroller.contains(se.target)||dP(g,se)});var A,T={end:0};function R(){b.activeTouch&&(A=setTimeout(function(){return b.activeTouch=null},1e3),T=b.activeTouch,T.end=+new Date)}function G(se){if(se.touches.length!=1)return!1;var ge=se.touches[0];return ge.radiusX<=1&&ge.radiusY<=1}function K(se,ge){if(ge.left==null)return!0;var De=ge.left-se.left,Be=ge.top-se.top;return De*De+Be*Be>20*20}Ne(b.scroller,"touchstart",function(se){if(!ft(g,se)&&!G(se)&&!iC(g,se)){b.input.ensurePolled(),clearTimeout(A);var ge=+new Date;b.activeTouch={start:ge,moved:!1,prev:ge-T.end<=300?T:null},se.touches.length==1&&(b.activeTouch.left=se.touches[0].pageX,b.activeTouch.top=se.touches[0].pageY)}}),Ne(b.scroller,"touchmove",function(){b.activeTouch&&(b.activeTouch.moved=!0)}),Ne(b.scroller,"touchend",function(se){var ge=b.activeTouch;if(ge&&!hc(b,se)&&ge.left!=null&&!ge.moved&&new Date-ge.start<300){var De=g.coordsChar(b.activeTouch,"page"),Be;!ge.prev||K(ge,ge.prev)?Be=new tn(De,De):!ge.prev.prev||K(ge,ge.prev.prev)?Be=g.findWordAt(De):Be=new tn(mt(De.line,0),kr(g.doc,mt(De.line+1,0))),g.setSelection(Be.anchor,Be.head),g.focus(),at(se)}R()}),Ne(b.scroller,"touchcancel",R),Ne(b.scroller,"scroll",function(){b.scroller.clientHeight&&(Pv(g,b.scroller.scrollTop),pd(g,b.scroller.scrollLeft,!0),lt(g,"scroll",g))}),Ne(b.scroller,"mousewheel",function(se){return SF(g,se)}),Ne(b.scroller,"DOMMouseScroll",function(se){return SF(g,se)}),Ne(b.wrapper,"scroll",function(){return b.wrapper.scrollTop=b.wrapper.scrollLeft=0}),b.dragFunctions={enter:function(se){ft(g,se)||pt(se)},over:function(se){ft(g,se)||(wde(g,se),pt(se))},start:function(se){return bde(g,se)},drop:Vi(g,xde),leave:function(se){ft(g,se)||QF(g)}};var te=b.input.getField();Ne(te,"keyup",function(se){return lP.call(g,se)}),Ne(te,"keydown",Vi(g,oP)),Ne(te,"keypress",Vi(g,uP)),Ne(te,"focus",function(se){return $6(g,se)}),Ne(te,"blur",function(se){return Tp(g,se)})}var aC=[];Hn.defineInitHook=function(g){return aC.push(g)};function tm(g,b,A,T){var R=g.doc,G;A==null&&(A="add"),A=="smart"&&(R.mode.indent?G=lc(g,b).state:A="prev");var K=g.options.tabSize,te=ot(R,b),se=Z(te.text,null,K);te.stateAfter&&(te.stateAfter=null);var ge=te.text.match(/^\s*/)[0],De;if(!T&&!/\S/.test(te.text))De=0,A="not";else if(A=="smart"&&(De=R.mode.indent(G,te.text.slice(ge.length),te.text),De==Ee||De>150)){if(!T)return;A="prev"}A=="prev"?b>R.first?De=Z(ot(R,b-1).text,null,K):De=0:A=="add"?De=se+g.options.indentUnit:A=="subtract"?De=se-g.options.indentUnit:typeof A=="number"&&(De=se+A),De=Math.max(0,De);var Be="",Ze=0;if(g.options.indentWithTabs)for(var Ye=Math.floor(De/K);Ye;--Ye)Ze+=K,Be+="	";if(Ze<De&&(Be+=Re(De-Ze)),Be!=ge)return Rp(R,Be,mt(b,0),mt(b,ge.length),"+input"),te.stateAfter=null,!0;for(var st=0;st<R.sel.ranges.length;st++){var dt=R.sel.ranges[st];if(dt.head.line==b&&dt.head.ch<ge.length){var Tt=mt(b,ge.length);Z6(R,st,new tn(Tt,Tt));break}}}var Nl=null;function v4(g){Nl=g}function sC(g,b,A,T,R){var G=g.doc;g.display.shift=!1,T||(T=G.sel);var K=+new Date-200,te=R=="paste"||g.state.pasteIncoming>K,se=Gr(b),ge=null;if(te&&T.ranges.length>1)if(Nl&&Nl.text.join(`
`)==b){if(T.ranges.length%Nl.text.length==0){ge=[];for(var De=0;De<Nl.text.length;De++)ge.push(G.splitLines(Nl.text[De]))}}else se.length==T.ranges.length&&g.options.pasteLinesPerSelection&&(ge=Ge(se,function(Nt){return[Nt]}));for(var Be=g.curOp.updateInput,Ze=T.ranges.length-1;Ze>=0;Ze--){var Ye=T.ranges[Ze],st=Ye.from(),dt=Ye.to();Ye.empty()&&(A&&A>0?st=mt(st.line,st.ch-A):g.state.overwrite&&!te?dt=mt(dt.line,Math.min(ot(G,dt.line).text.length,dt.ch+Pe(se).length)):te&&Nl&&Nl.lineWise&&Nl.text.join(`
`)==se.join(`
`)&&(st=dt=mt(st.line,0)));var Tt={from:st,to:dt,text:ge?ge[Ze%ge.length]:se,origin:R||(te?"paste":g.state.cutIncoming>K?"cut":"+input")};Dp(g.doc,Tt),Hi(g,"inputRead",g,Tt)}b&&!te&&mP(g,b),Cp(g),g.curOp.updateInput<2&&(g.curOp.updateInput=Be),g.curOp.typing=!0,g.state.pasteIncoming=g.state.cutIncoming=-1}function vP(g,b){var A=g.clipboardData&&g.clipboardData.getData("Text");if(A)return g.preventDefault(),!b.isReadOnly()&&!b.options.disableInput&&b.hasFocus()&&qs(b,function(){return sC(b,A,0,null,"paste")}),!0}function mP(g,b){if(!(!g.options.electricChars||!g.options.smartIndent))for(var A=g.doc.sel,T=A.ranges.length-1;T>=0;T--){var R=A.ranges[T];if(!(R.head.ch>100||T&&A.ranges[T-1].head.line==R.head.line)){var G=g.getModeAt(R.head),K=!1;if(G.electricChars){for(var te=0;te<G.electricChars.length;te++)if(b.indexOf(G.electricChars.charAt(te))>-1){K=tm(g,R.head.line,"smart");break}}else G.electricInput&&G.electricInput.test(ot(g.doc,R.head.line).text.slice(0,R.head.ch))&&(K=tm(g,R.head.line,"smart"));K&&Hi(g,"electricInput",g,R.head.line)}}}function yP(g){for(var b=[],A=[],T=0;T<g.doc.sel.ranges.length;T++){var R=g.doc.sel.ranges[T].head.line,G={anchor:mt(R,0),head:mt(R+1,0)};A.push(G),b.push(g.getRange(G.anchor,G.head))}return{text:b,ranges:A}}function oC(g,b,A,T){g.setAttribute("autocorrect",A?"on":"off"),g.setAttribute("autocapitalize",T?"on":"off"),g.setAttribute("spellcheck",!!b)}function xP(){var g=O("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),b=O("div",[g],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return h?g.style.width="1000px":g.setAttribute("wrap","off"),w&&(g.style.border="1px solid black"),b}function qde(g){var b=g.optionHandlers,A=g.helpers={};g.prototype={constructor:g,focus:function(){re(this).focus(),this.display.input.focus()},setOption:function(T,R){var G=this.options,K=G[T];G[T]==R&&T!="mode"||(G[T]=R,b.hasOwnProperty(T)&&Vi(this,b[T])(this,R,K),lt(this,"optionChange",this,T))},getOption:function(T){return this.options[T]},getDoc:function(){return this.doc},addKeyMap:function(T,R){this.state.keyMaps[R?"push":"unshift"](d4(T))},removeKeyMap:function(T){for(var R=this.state.keyMaps,G=0;G<R.length;++G)if(R[G]==T||R[G].name==T)return R.splice(G,1),!0},addOverlay:Za(function(T,R){var G=T.token?T:g.getMode(this.options,T);if(G.startState)throw new Error("Overlays may not be stateful.");je(this.state.overlays,{mode:G,modeSpec:T,opaque:R&&R.opaque,priority:R&&R.priority||0},function(K){return K.priority}),this.state.modeGen++,bs(this)}),removeOverlay:Za(function(T){for(var R=this.state.overlays,G=0;G<R.length;++G){var K=R[G].modeSpec;if(K==T||typeof T=="string"&&K.name==T){R.splice(G,1),this.state.modeGen++,bs(this);return}}}),indentLine:Za(function(T,R,G){typeof R!="string"&&typeof R!="number"&&(R==null?R=this.options.smartIndent?"smart":"prev":R=R?"add":"subtract"),$e(this.doc,T)&&tm(this,T,R,G)}),indentSelection:Za(function(T){for(var R=this.doc.sel.ranges,G=-1,K=0;K<R.length;K++){var te=R[K];if(te.empty())te.head.line>G&&(tm(this,te.head.line,T,!0),G=te.head.line,K==this.doc.sel.primIndex&&Cp(this));else{var se=te.from(),ge=te.to(),De=Math.max(G,se.line);G=Math.min(this.lastLine(),ge.line-(ge.ch?0:1))+1;for(var Be=De;Be<G;++Be)tm(this,Be,T);var Ze=this.doc.sel.ranges;se.ch==0&&R.length==Ze.length&&Ze[K].from().ch>0&&Z6(this.doc,K,new tn(se,Ze[K].to()),Se)}}}),getTokenAt:function(T,R){return ud(this,T,R)},getLineTokens:function(T,R){return ud(this,mt(T),R,!0)},getTokenTypeAt:function(T){T=kr(this.doc,T);var R=xs(this,ot(this.doc,T.line)),G=0,K=(R.length-1)/2,te=T.ch,se;if(te==0)se=R[2];else for(;;){var ge=G+K>>1;if((ge?R[ge*2-1]:0)>=te)K=ge;else if(R[ge*2+1]<te)G=ge+1;else{se=R[ge*2+2];break}}var De=se?se.indexOf("overlay "):-1;return De<0?se:De==0?null:se.slice(0,De-1)},getModeAt:function(T){var R=this.doc.mode;return R.innerMode?g.innerMode(R,this.getTokenAt(T).state).mode:R},getHelper:function(T,R){return this.getHelpers(T,R)[0]},getHelpers:function(T,R){var G=[];if(!A.hasOwnProperty(R))return G;var K=A[R],te=this.getModeAt(T);if(typeof te[R]=="string")K[te[R]]&&G.push(K[te[R]]);else if(te[R])for(var se=0;se<te[R].length;se++){var ge=K[te[R][se]];ge&&G.push(ge)}else te.helperType&&K[te.helperType]?G.push(K[te.helperType]):K[te.name]&&G.push(K[te.name]);for(var De=0;De<K._global.length;De++){var Be=K._global[De];Be.pred(te,this)&&ae(G,Be.val)==-1&&G.push(Be.val)}return G},getStateAfter:function(T,R){var G=this.doc;return T=yp(G,T??G.first+G.size-1),lc(this,T+1,R).state},cursorCoords:function(T,R){var G,K=this.doc.sel.primary();return T==null?G=K.head:typeof T=="object"?G=kr(this.doc,T):G=T?K.from():K.to(),Rl(this,G,R||"page")},charCoords:function(T,R){return Zb(this,kr(this.doc,T),R||"page")},coordsChar:function(T,R){return T=iF(this,T,R||"page"),R6(this,T.left,T.top)},lineAtHeight:function(T,R){return T=iF(this,{top:T,left:0},R||"page").top,Nr(this.doc,T+this.display.viewOffset)},heightAtLine:function(T,R,G){var K=!1,te;if(typeof T=="number"){var se=this.doc.first+this.doc.size-1;T<this.doc.first?T=this.doc.first:T>se&&(T=se,K=!0),te=ot(this.doc,T)}else te=T;return Qb(this,te,{top:0,left:0},R||"page",G||K).top+(K?this.doc.height-cc(te):0)},defaultTextHeight:function(){return Sp(this.display)},defaultCharWidth:function(){return Ep(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(T,R,G,K,te){var se=this.display;T=Rl(this,kr(this.doc,T));var ge=T.bottom,De=T.left;if(R.style.position="absolute",R.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(R),se.sizer.appendChild(R),K=="over")ge=T.top;else if(K=="above"||K=="near"){var Be=Math.max(se.wrapper.clientHeight,this.doc.height),Ze=Math.max(se.sizer.clientWidth,se.lineSpace.clientWidth);(K=="above"||T.bottom+R.offsetHeight>Be)&&T.top>R.offsetHeight?ge=T.top-R.offsetHeight:T.bottom+R.offsetHeight<=Be&&(ge=T.bottom),De+R.offsetWidth>Ze&&(De=Ze-R.offsetWidth)}R.style.top=ge+"px",R.style.left=R.style.right="",te=="right"?(De=se.sizer.clientWidth-R.offsetWidth,R.style.right="0px"):(te=="left"?De=0:te=="middle"&&(De=(se.sizer.clientWidth-R.offsetWidth)/2),R.style.left=De+"px"),G&&Ufe(this,{left:De,top:ge,right:De+R.offsetWidth,bottom:ge+R.offsetHeight})},triggerOnKeyDown:Za(oP),triggerOnKeyPress:Za(uP),triggerOnKeyUp:lP,triggerOnMouseDown:Za(cP),execCommand:function(T){if(Qv.hasOwnProperty(T))return Qv[T].call(null,this)},triggerElectric:Za(function(T){mP(this,T)}),findPosH:function(T,R,G,K){var te=1;R<0&&(te=-1,R=-R);for(var se=kr(this.doc,T),ge=0;ge<R&&(se=lC(this.doc,se,te,G,K),!se.hitSide);++ge);return se},moveH:Za(function(T,R){var G=this;this.extendSelectionsBy(function(K){return G.display.shift||G.doc.extend||K.empty()?lC(G.doc,K.head,T,R,G.options.rtlMoveVisually):T<0?K.from():K.to()},be)}),deleteH:Za(function(T,R){var G=this.doc.sel,K=this.doc;G.somethingSelected()?K.replaceSelection("",null,"+delete"):Ip(this,function(te){var se=lC(K,te.head,T,R,!1);return T<0?{from:se,to:te.head}:{from:te.head,to:se}})}),findPosV:function(T,R,G,K){var te=1,se=K;R<0&&(te=-1,R=-R);for(var ge=kr(this.doc,T),De=0;De<R;++De){var Be=Rl(this,ge,"div");if(se==null?se=Be.left:Be.left=se,ge=bP(this,Be,te,G),ge.hitSide)break}return ge},moveV:Za(function(T,R){var G=this,K=this.doc,te=[],se=!this.display.shift&&!K.extend&&K.sel.somethingSelected();if(K.extendSelectionsBy(function(De){if(se)return T<0?De.from():De.to();var Be=Rl(G,De.head,"div");De.goalColumn!=null&&(Be.left=De.goalColumn),te.push(Be.left);var Ze=bP(G,Be,T,R);return R=="page"&&De==K.sel.primary()&&H6(G,Zb(G,Ze,"div").top-Be.top),Ze},be),te.length)for(var ge=0;ge<K.sel.ranges.length;ge++)K.sel.ranges[ge].goalColumn=te[ge]}),findWordAt:function(T){var R=this.doc,G=ot(R,T.line).text,K=T.ch,te=T.ch;if(G){var se=this.getHelper(T,"wordChars");(T.sticky=="before"||te==G.length)&&K?--K:++te;for(var ge=G.charAt(K),De=W(ge,se)?function(Be){return W(Be,se)}:/\s/.test(ge)?function(Be){return/\s/.test(Be)}:function(Be){return!/\s/.test(Be)&&!W(Be)};K>0&&De(G.charAt(K-1));)--K;for(;te<G.length&&De(G.charAt(te));)++te}return new tn(mt(T.line,K),mt(T.line,te))},toggleOverwrite:function(T){T!=null&&T==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?X(this.display.cursorDiv,"CodeMirror-overwrite"):z(this.display.cursorDiv,"CodeMirror-overwrite"),lt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==H(J(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Za(function(T,R){Fv(this,T,R)}),getScrollInfo:function(){var T=this.display.scroller;return{left:T.scrollLeft,top:T.scrollTop,height:T.scrollHeight-xu(this)-this.display.barHeight,width:T.scrollWidth-xu(this)-this.display.barWidth,clientHeight:A6(this),clientWidth:cd(this)}},scrollIntoView:Za(function(T,R){T==null?(T={from:this.doc.sel.primary().head,to:null},R==null&&(R=this.options.cursorScrollMargin)):typeof T=="number"?T={from:mt(T,0),to:null}:T.from==null&&(T={from:T,to:null}),T.to||(T.to=T.from),T.margin=R||0,T.from.line!=null?Gfe(this,T):dF(this,T.from,T.to,T.margin)}),setSize:Za(function(T,R){var G=this,K=function(se){return typeof se=="number"||/^\d+$/.test(String(se))?se+"px":se};T!=null&&(this.display.wrapper.style.width=K(T)),R!=null&&(this.display.wrapper.style.height=K(R)),this.options.lineWrapping&&tF(this);var te=this.display.viewFrom;this.doc.iter(te,this.display.viewTo,function(se){if(se.widgets){for(var ge=0;ge<se.widgets.length;ge++)if(se.widgets[ge].noHScroll){Sh(G,te,"widget");break}}++te}),this.curOp.forceUpdate=!0,lt(this,"refresh",this)}),operation:function(T){return qs(this,T)},startOperation:function(){return vd(this)},endOperation:function(){return md(this)},refresh:Za(function(){var T=this.display.cachedTextHeight;bs(this),this.curOp.forceUpdate=!0,Iv(this),Fv(this,this.doc.scrollLeft,this.doc.scrollTop),G6(this.display),(T==null||Math.abs(T-Sp(this.display))>.5||this.options.lineWrapping)&&O6(this),lt(this,"refresh",this)}),swapDoc:Za(function(T){var R=this.doc;return R.cm=null,this.state.selectingText&&this.state.selectingText(),AF(this,T),Iv(this),this.display.input.reset(),Fv(this,T.scrollLeft,T.scrollTop),this.curOp.forceScroll=!0,Hi(this,"swapDoc",this,R),R}),phrase:function(T){var R=this.options.phrases;return R&&Object.prototype.hasOwnProperty.call(R,T)?R[T]:T},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ct(g),g.registerHelper=function(T,R,G){A.hasOwnProperty(T)||(A[T]=g[T]={_global:[]}),A[T][R]=G},g.registerGlobalHelper=function(T,R,G,K){g.registerHelper(T,R,K),A[T]._global.push({pred:G,val:K})}}function lC(g,b,A,T,R){var G=b,K=A,te=ot(g,b.line),se=R&&g.direction=="rtl"?-A:A;function ge(){var Bt=b.line+se;return Bt<g.first||Bt>=g.first+g.size?!1:(b=new mt(Bt,b.ch,b.sticky),te=ot(g,Bt))}function De(Bt){var It;if(T=="codepoint"){var Wt=te.text.charCodeAt(b.ch+(A>0?0:-1));if(isNaN(Wt))It=null;else{var ur=A>0?Wt>=55296&&Wt<56320:Wt>=56320&&Wt<57343;It=new mt(b.line,Math.max(0,Math.min(te.text.length,b.ch+A*(ur?2:1))),-A)}}else R?It=Ade(g.cm,te,b,A):It=eC(te,b,A);if(It==null)if(!Bt&&ge())b=tC(R,g.cm,te,b.line,se);else return!1;else b=It;return!0}if(T=="char"||T=="codepoint")De();else if(T=="column")De(!0);else if(T=="word"||T=="group")for(var Be=null,Ze=T=="group",Ye=g.cm&&g.cm.getHelper(b,"wordChars"),st=!0;!(A<0&&!De(!st));st=!1){var dt=te.text.charAt(b.ch)||`
`,Tt=W(dt,Ye)?"w":Ze&&dt==`
`?"n":!Ze||/\s/.test(dt)?null:"p";if(Ze&&!st&&!Tt&&(Tt="s"),Be&&Be!=Tt){A<0&&(A=1,De(),b.sticky="after");break}if(Tt&&(Be=Tt),A>0&&!De(!st))break}var Nt=c4(g,b,G,K,!0);return mp(G,Nt)&&(Nt.hitSide=!0),Nt}function bP(g,b,A,T){var R=g.doc,G=b.left,K;if(T=="page"){var te=Math.min(g.display.wrapper.clientHeight,re(g).innerHeight||R(g).documentElement.clientHeight),se=Math.max(te-.5*Sp(g.display),3);K=(A>0?b.bottom:b.top)+A*se}else T=="line"&&(K=A>0?b.bottom+3:b.top-3);for(var ge;ge=R6(g,G,K),!!ge.outside;){if(A<0?K<=0:K>=R.height){ge.hitSide=!0;break}K+=A*5}return ge}var cn=function(g){this.cm=g,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ue,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};cn.prototype.init=function(g){var b=this,A=this,T=A.cm,R=A.div=g.lineDiv;R.contentEditable=!0,oC(R,T.options.spellcheck,T.options.autocorrect,T.options.autocapitalize);function G(te){for(var se=te.target;se;se=se.parentNode){if(se==R)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(se.className))break}return!1}Ne(R,"paste",function(te){!G(te)||ft(T,te)||vP(te,T)||u<=11&&setTimeout(Vi(T,function(){return b.updateFromDOM()}),20)}),Ne(R,"compositionstart",function(te){b.composing={data:te.data,done:!1}}),Ne(R,"compositionupdate",function(te){b.composing||(b.composing={data:te.data,done:!1})}),Ne(R,"compositionend",function(te){b.composing&&(te.data!=b.composing.data&&b.readFromDOMSoon(),b.composing.done=!0)}),Ne(R,"touchstart",function(){return A.forceCompositionEnd()}),Ne(R,"input",function(){b.composing||b.readFromDOMSoon()});function K(te){if(!(!G(te)||ft(T,te))){if(T.somethingSelected())v4({lineWise:!1,text:T.getSelections()}),te.type=="cut"&&T.replaceSelection("",null,"cut");else if(T.options.lineWiseCopyCut){var se=yP(T);v4({lineWise:!0,text:se.text}),te.type=="cut"&&T.operation(function(){T.setSelections(se.ranges,0,Se),T.replaceSelection("",null,"cut")})}else return;if(te.clipboardData){te.clipboardData.clearData();var ge=Nl.text.join(`
`);if(te.clipboardData.setData("Text",ge),te.clipboardData.getData("Text")==ge){te.preventDefault();return}}var De=xP(),Be=De.firstChild;oC(Be),T.display.lineSpace.insertBefore(De,T.display.lineSpace.firstChild),Be.value=Nl.text.join(`
`);var Ze=H(ce(R));Y(Be),setTimeout(function(){T.display.lineSpace.removeChild(De),Ze.focus(),Ze==R&&A.showPrimarySelection()},50)}}Ne(R,"copy",K),Ne(R,"cut",K)},cn.prototype.screenReaderLabelChanged=function(g){g?this.div.setAttribute("aria-label",g):this.div.removeAttribute("aria-label")},cn.prototype.prepareSelection=function(){var g=cF(this.cm,!1);return g.focus=H(ce(this.div))==this.div,g},cn.prototype.showSelection=function(g,b){!g||!this.cm.display.view.length||((g.focus||b)&&this.showPrimarySelection(),this.showMultipleSelections(g))},cn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},cn.prototype.showPrimarySelection=function(){var g=this.getSelection(),b=this.cm,A=b.doc.sel.primary(),T=A.from(),R=A.to();if(b.display.viewTo==b.display.viewFrom||T.line>=b.display.viewTo||R.line<b.display.viewFrom){g.removeAllRanges();return}var G=m4(b,g.anchorNode,g.anchorOffset),K=m4(b,g.focusNode,g.focusOffset);if(!(G&&!G.bad&&K&&!K.bad&&Cr(Zo(G,K),T)==0&&Cr(ni(G,K),R)==0)){var te=b.display.view,se=T.line>=b.display.viewFrom&&wP(b,T)||{node:te[0].measure.map[2],offset:0},ge=R.line<b.display.viewTo&&wP(b,R);if(!ge){var De=te[te.length-1].measure,Be=De.maps?De.maps[De.maps.length-1]:De.map;ge={node:Be[Be.length-1],offset:Be[Be.length-2]-Be[Be.length-3]}}if(!se||!ge){g.removeAllRanges();return}var Ze=g.rangeCount&&g.getRangeAt(0),Ye;try{Ye=$(se.node,se.offset,ge.offset,ge.node)}catch{}Ye&&(!i&&b.state.focused?(g.collapse(se.node,se.offset),Ye.collapsed||(g.removeAllRanges(),g.addRange(Ye))):(g.removeAllRanges(),g.addRange(Ye)),Ze&&g.anchorNode==null?g.addRange(Ze):i&&this.startGracePeriod()),this.rememberSelection()}},cn.prototype.startGracePeriod=function(){var g=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){g.gracePeriod=!1,g.selectionChanged()&&g.cm.operation(function(){return g.cm.curOp.selectionChanged=!0})},20)},cn.prototype.showMultipleSelections=function(g){D(this.cm.display.cursorDiv,g.cursors),D(this.cm.display.selectionDiv,g.selection)},cn.prototype.rememberSelection=function(){var g=this.getSelection();this.lastAnchorNode=g.anchorNode,this.lastAnchorOffset=g.anchorOffset,this.lastFocusNode=g.focusNode,this.lastFocusOffset=g.focusOffset},cn.prototype.selectionInEditor=function(){var g=this.getSelection();if(!g.rangeCount)return!1;var b=g.getRangeAt(0).commonAncestorContainer;return B(this.div,b)},cn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||H(ce(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},cn.prototype.blur=function(){this.div.blur()},cn.prototype.getField=function(){return this.div},cn.prototype.supportsTouch=function(){return!0},cn.prototype.receivedFocus=function(){var g=this,b=this;this.selectionInEditor()?setTimeout(function(){return g.pollSelection()},20):qs(this.cm,function(){return b.cm.curOp.selectionChanged=!0});function A(){b.cm.state.focused&&(b.pollSelection(),b.polling.set(b.cm.options.pollInterval,A))}this.polling.set(this.cm.options.pollInterval,A)},cn.prototype.selectionChanged=function(){var g=this.getSelection();return g.anchorNode!=this.lastAnchorNode||g.anchorOffset!=this.lastAnchorOffset||g.focusNode!=this.lastFocusNode||g.focusOffset!=this.lastFocusOffset},cn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var g=this.getSelection(),b=this.cm;if(k&&d&&this.cm.display.gutterSpecs.length&&Yde(g.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var A=m4(b,g.anchorNode,g.anchorOffset),T=m4(b,g.focusNode,g.focusOffset);A&&T&&qs(b,function(){Aa(b.doc,Th(A,T),Se),(A.bad||T.bad)&&(b.curOp.selectionChanged=!0)})}}},cn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var g=this.cm,b=g.display,A=g.doc.sel.primary(),T=A.from(),R=A.to();if(T.ch==0&&T.line>g.firstLine()&&(T=mt(T.line-1,ot(g.doc,T.line-1).length)),R.ch==ot(g.doc,R.line).text.length&&R.line<g.lastLine()&&(R=mt(R.line+1,0)),T.line<b.viewFrom||R.line>b.viewTo-1)return!1;var G,K,te;T.line==b.viewFrom||(G=dd(g,T.line))==0?(K=Ce(b.view[0].line),te=b.view[0].node):(K=Ce(b.view[G].line),te=b.view[G-1].node.nextSibling);var se=dd(g,R.line),ge,De;if(se==b.view.length-1?(ge=b.viewTo-1,De=b.lineDiv.lastChild):(ge=Ce(b.view[se+1].line)-1,De=b.view[se+1].node.previousSibling),!te)return!1;for(var Be=g.doc.splitLines(Xde(g,te,De,K,ge)),Ze=tr(g.doc,mt(K,0),mt(ge,ot(g.doc,ge).text.length));Be.length>1&&Ze.length>1;)if(Pe(Be)==Pe(Ze))Be.pop(),Ze.pop(),ge--;else if(Be[0]==Ze[0])Be.shift(),Ze.shift(),K++;else break;for(var Ye=0,st=0,dt=Be[0],Tt=Ze[0],Nt=Math.min(dt.length,Tt.length);Ye<Nt&&dt.charCodeAt(Ye)==Tt.charCodeAt(Ye);)++Ye;for(var Bt=Pe(Be),It=Pe(Ze),Wt=Math.min(Bt.length-(Be.length==1?Ye:0),It.length-(Ze.length==1?Ye:0));st<Wt&&Bt.charCodeAt(Bt.length-st-1)==It.charCodeAt(It.length-st-1);)++st;if(Be.length==1&&Ze.length==1&&K==T.line)for(;Ye&&Ye>T.ch&&Bt.charCodeAt(Bt.length-st-1)==It.charCodeAt(It.length-st-1);)Ye--,st++;Be[Be.length-1]=Bt.slice(0,Bt.length-st).replace(/^\u200b+/,""),Be[0]=Be[0].slice(Ye).replace(/\u200b+$/,"");var ur=mt(K,Ye),ir=mt(ge,Ze.length?Pe(Ze).length-st:0);if(Be.length>1||Be[0]||Cr(ur,ir))return Rp(g.doc,Be,ur,ir,"+input"),!0},cn.prototype.ensurePolled=function(){this.forceCompositionEnd()},cn.prototype.reset=function(){this.forceCompositionEnd()},cn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},cn.prototype.readFromDOMSoon=function(){var g=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(g.readDOMTimeout=null,g.composing)if(g.composing.done)g.composing=null;else return;g.updateFromDOM()},80))},cn.prototype.updateFromDOM=function(){var g=this;(this.cm.isReadOnly()||!this.pollContent())&&qs(this.cm,function(){return bs(g.cm)})},cn.prototype.setUneditable=function(g){g.contentEditable="false"},cn.prototype.onKeyPress=function(g){g.charCode==0||this.composing||(g.preventDefault(),this.cm.isReadOnly()||Vi(this.cm,sC)(this.cm,String.fromCharCode(g.charCode==null?g.keyCode:g.charCode),0))},cn.prototype.readOnlyChanged=function(g){this.div.contentEditable=String(g!="nocursor")},cn.prototype.onContextMenu=function(){},cn.prototype.resetPosition=function(){},cn.prototype.needsContentAttribute=!0;function wP(g,b){var A=_6(g,b.line);if(!A||A.hidden)return null;var T=ot(g.doc,b.line),R=KO(A,T,b.line),G=Ie(T,g.doc.direction),K="left";if(G){var te=Oe(G,b.ch);K=te%2?"right":"left"}var se=JO(R.map,b.ch,K);return se.offset=se.collapse=="right"?se.end:se.start,se}function Yde(g){for(var b=g;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}function Fp(g,b){return b&&(g.bad=!0),g}function Xde(g,b,A,T,R){var G="",K=!1,te=g.doc.lineSeparator(),se=!1;function ge(Ye){return function(st){return st.id==Ye}}function De(){K&&(G+=te,se&&(G+=te),K=se=!1)}function Be(Ye){Ye&&(De(),G+=Ye)}function Ze(Ye){if(Ye.nodeType==1){var st=Ye.getAttribute("cm-text");if(st){Be(st);return}var dt=Ye.getAttribute("cm-marker"),Tt;if(dt){var Nt=g.findMarks(mt(T,0),mt(R+1,0),ge(+dt));Nt.length&&(Tt=Nt[0].find(0))&&Be(tr(g.doc,Tt.from,Tt.to).join(te));return}if(Ye.getAttribute("contenteditable")=="false")return;var Bt=/^(pre|div|p|li|table|br)$/i.test(Ye.nodeName);if(!/^br$/i.test(Ye.nodeName)&&Ye.textContent.length==0)return;Bt&&De();for(var It=0;It<Ye.childNodes.length;It++)Ze(Ye.childNodes[It]);/^(pre|p)$/i.test(Ye.nodeName)&&(se=!0),Bt&&(K=!0)}else Ye.nodeType==3&&Be(Ye.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ze(b),b!=A;)b=b.nextSibling,se=!1;return G}function m4(g,b,A){var T;if(b==g.display.lineDiv){if(T=g.display.lineDiv.childNodes[A],!T)return Fp(g.clipPos(mt(g.display.viewTo-1)),!0);b=null,A=0}else for(T=b;;T=T.parentNode){if(!T||T==g.display.lineDiv)return null;if(T.parentNode&&T.parentNode==g.display.lineDiv)break}for(var R=0;R<g.display.view.length;R++){var G=g.display.view[R];if(G.node==T)return jde(G,b,A)}}function jde(g,b,A){var T=g.text.firstChild,R=!1;if(!b||!B(T,b))return Fp(mt(Ce(g.line),0),!0);if(b==T&&(R=!0,b=T.childNodes[A],A=0,!b)){var G=g.rest?Pe(g.rest):g.line;return Fp(mt(Ce(G),G.text.length),R)}var K=b.nodeType==3?b:null,te=b;for(!K&&b.childNodes.length==1&&b.firstChild.nodeType==3&&(K=b.firstChild,A&&(A=K.nodeValue.length));te.parentNode!=T;)te=te.parentNode;var se=g.measure,ge=se.maps;function De(Tt,Nt,Bt){for(var It=-1;It<(ge?ge.length:0);It++)for(var Wt=It<0?se.map:ge[It],ur=0;ur<Wt.length;ur+=3){var ir=Wt[ur+2];if(ir==Tt||ir==Nt){var Or=Ce(It<0?g.line:g.rest[It]),Tn=Wt[ur]+Bt;return(Bt<0||ir!=Tt)&&(Tn=Wt[ur+(Bt?1:0)]),mt(Or,Tn)}}}var Be=De(K,te,A);if(Be)return Fp(Be,R);for(var Ze=te.nextSibling,Ye=K?K.nodeValue.length-A:0;Ze;Ze=Ze.nextSibling){if(Be=De(Ze,Ze.firstChild,0),Be)return Fp(mt(Be.line,Be.ch-Ye),R);Ye+=Ze.textContent.length}for(var st=te.previousSibling,dt=A;st;st=st.previousSibling){if(Be=De(st,st.firstChild,-1),Be)return Fp(mt(Be.line,Be.ch+dt),R);dt+=st.textContent.length}}var di=function(g){this.cm=g,this.prevInput="",this.pollingFast=!1,this.polling=new ue,this.hasSelection=!1,this.composing=null,this.resetting=!1};di.prototype.init=function(g){var b=this,A=this,T=this.cm;this.createField(g);var R=this.textarea;g.wrapper.insertBefore(this.wrapper,g.wrapper.firstChild),w&&(R.style.width="0px"),Ne(R,"input",function(){l&&u>=9&&b.hasSelection&&(b.hasSelection=null),A.poll()}),Ne(R,"paste",function(K){ft(T,K)||vP(K,T)||(T.state.pasteIncoming=+new Date,A.fastPoll())});function G(K){if(!ft(T,K)){if(T.somethingSelected())v4({lineWise:!1,text:T.getSelections()});else if(T.options.lineWiseCopyCut){var te=yP(T);v4({lineWise:!0,text:te.text}),K.type=="cut"?T.setSelections(te.ranges,null,Se):(A.prevInput="",R.value=te.text.join(`
`),Y(R))}else return;K.type=="cut"&&(T.state.cutIncoming=+new Date)}}Ne(R,"cut",G),Ne(R,"copy",G),Ne(g.scroller,"paste",function(K){if(!(hc(g,K)||ft(T,K))){if(!R.dispatchEvent){T.state.pasteIncoming=+new Date,A.focus();return}var te=new Event("paste");te.clipboardData=K.clipboardData,R.dispatchEvent(te)}}),Ne(g.lineSpace,"selectstart",function(K){hc(g,K)||at(K)}),Ne(R,"compositionstart",function(){var K=T.getCursor("from");A.composing&&A.composing.range.clear(),A.composing={start:K,range:T.markText(K,T.getCursor("to"),{className:"CodeMirror-composing"})}}),Ne(R,"compositionend",function(){A.composing&&(A.poll(),A.composing.range.clear(),A.composing=null)})},di.prototype.createField=function(g){this.wrapper=xP(),this.textarea=this.wrapper.firstChild;var b=this.cm.options;oC(this.textarea,b.spellcheck,b.autocorrect,b.autocapitalize)},di.prototype.screenReaderLabelChanged=function(g){g?this.textarea.setAttribute("aria-label",g):this.textarea.removeAttribute("aria-label")},di.prototype.prepareSelection=function(){var g=this.cm,b=g.display,A=g.doc,T=cF(g);if(g.options.moveInputWithCursor){var R=Rl(g,A.sel.primary().head,"div"),G=b.wrapper.getBoundingClientRect(),K=b.lineDiv.getBoundingClientRect();T.teTop=Math.max(0,Math.min(b.wrapper.clientHeight-10,R.top+K.top-G.top)),T.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-10,R.left+K.left-G.left))}return T},di.prototype.showSelection=function(g){var b=this.cm,A=b.display;D(A.cursorDiv,g.cursors),D(A.selectionDiv,g.selection),g.teTop!=null&&(this.wrapper.style.top=g.teTop+"px",this.wrapper.style.left=g.teLeft+"px")},di.prototype.reset=function(g){if(!(this.contextMenuPending||this.composing&&g)){var b=this.cm;if(this.resetting=!0,b.somethingSelected()){this.prevInput="";var A=b.getSelection();this.textarea.value=A,b.state.focused&&Y(this.textarea),l&&u>=9&&(this.hasSelection=A)}else g||(this.prevInput=this.textarea.value="",l&&u>=9&&(this.hasSelection=null));this.resetting=!1}},di.prototype.getField=function(){return this.textarea},di.prototype.supportsTouch=function(){return!1},di.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!E||H(ce(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},di.prototype.blur=function(){this.textarea.blur()},di.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},di.prototype.receivedFocus=function(){this.slowPoll()},di.prototype.slowPoll=function(){var g=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){g.poll(),g.cm.state.focused&&g.slowPoll()})},di.prototype.fastPoll=function(){var g=!1,b=this;b.pollingFast=!0;function A(){var T=b.poll();!T&&!g?(g=!0,b.polling.set(60,A)):(b.pollingFast=!1,b.slowPoll())}b.polling.set(20,A)},di.prototype.poll=function(){var g=this,b=this.cm,A=this.textarea,T=this.prevInput;if(this.contextMenuPending||this.resetting||!b.state.focused||Tr(A)&&!T&&!this.composing||b.isReadOnly()||b.options.disableInput||b.state.keySeq)return!1;var R=A.value;if(R==T&&!b.somethingSelected())return!1;if(l&&u>=9&&this.hasSelection===R||C&&/[\uf700-\uf7ff]/.test(R))return b.display.input.reset(),!1;if(b.doc.sel==b.display.selForContextMenu){var G=R.charCodeAt(0);if(G==8203&&!T&&(T="​"),G==8666)return this.reset(),this.cm.execCommand("undo")}for(var K=0,te=Math.min(T.length,R.length);K<te&&T.charCodeAt(K)==R.charCodeAt(K);)++K;return qs(b,function(){sC(b,R.slice(K),T.length-K,null,g.composing?"*compose":null),R.length>1e3||R.indexOf(`
`)>-1?A.value=g.prevInput="":g.prevInput=R,g.composing&&(g.composing.range.clear(),g.composing.range=b.markText(g.composing.start,b.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},di.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},di.prototype.onKeyPress=function(){l&&u>=9&&(this.hasSelection=null),this.fastPoll()},di.prototype.onContextMenu=function(g){var b=this,A=b.cm,T=A.display,R=b.textarea;b.contextMenuPending&&b.contextMenuPending();var G=fd(A,g),K=T.scroller.scrollTop;if(!G||v)return;var te=A.options.resetSelectionOnContextMenu;te&&A.doc.sel.contains(G)==-1&&Vi(A,Aa)(A.doc,Th(G),Se);var se=R.style.cssText,ge=b.wrapper.style.cssText,De=b.wrapper.offsetParent.getBoundingClientRect();b.wrapper.style.cssText="position: static",R.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(g.clientY-De.top-5)+"px; left: "+(g.clientX-De.left-5)+`px;
      z-index: 1000; background: `+(l?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Be;h&&(Be=R.ownerDocument.defaultView.scrollY),T.input.focus(),h&&R.ownerDocument.defaultView.scrollTo(null,Be),T.input.reset(),A.somethingSelected()||(R.value=b.prevInput=" "),b.contextMenuPending=Ye,T.selForContextMenu=A.doc.sel,clearTimeout(T.detectingSelectAll);function Ze(){if(R.selectionStart!=null){var dt=A.somethingSelected(),Tt="​"+(dt?R.value:"");R.value="⇚",R.value=Tt,b.prevInput=dt?"":"​",R.selectionStart=1,R.selectionEnd=Tt.length,T.selForContextMenu=A.doc.sel}}function Ye(){if(b.contextMenuPending==Ye&&(b.contextMenuPending=!1,b.wrapper.style.cssText=ge,R.style.cssText=se,l&&u<9&&T.scrollbars.setScrollTop(T.scroller.scrollTop=K),R.selectionStart!=null)){(!l||l&&u<9)&&Ze();var dt=0,Tt=function(){T.selForContextMenu==A.doc.sel&&R.selectionStart==0&&R.selectionEnd>0&&b.prevInput=="​"?Vi(A,zF)(A):dt++<10?T.detectingSelectAll=setTimeout(Tt,500):(T.selForContextMenu=null,T.input.reset())};T.detectingSelectAll=setTimeout(Tt,200)}}if(l&&u>=9&&Ze(),F){pt(g);var st=function(){it(window,"mouseup",st),setTimeout(Ye,20)};Ne(window,"mouseup",st)}else setTimeout(Ye,50)},di.prototype.readOnlyChanged=function(g){g||this.reset(),this.textarea.disabled=g=="nocursor",this.textarea.readOnly=!!g},di.prototype.setUneditable=function(){},di.prototype.needsContentAttribute=!1;function Kde(g,b){if(b=b?ye(b):{},b.value=g.value,!b.tabindex&&g.tabIndex&&(b.tabindex=g.tabIndex),!b.placeholder&&g.placeholder&&(b.placeholder=g.placeholder),b.autofocus==null){var A=H(ce(g));b.autofocus=A==g||g.getAttribute("autofocus")!=null&&A==document.body}function T(){g.value=te.getValue()}var R;if(g.form&&(Ne(g.form,"submit",T),!b.leaveSubmitMethodAlone)){var G=g.form;R=G.submit;try{var K=G.submit=function(){T(),G.submit=R,G.submit(),G.submit=K}}catch{}}b.finishInit=function(se){se.save=T,se.getTextArea=function(){return g},se.toTextArea=function(){se.toTextArea=isNaN,T(),g.parentNode.removeChild(se.getWrapperElement()),g.style.display="",g.form&&(it(g.form,"submit",T),!b.leaveSubmitMethodAlone&&typeof g.form.submit=="function"&&(g.form.submit=R))}},g.style.display="none";var te=Hn(function(se){return g.parentNode.insertBefore(se,g.nextSibling)},b);return te}function Qde(g){g.off=it,g.on=Ne,g.wheelEventPixels=ide,g.Doc=ws,g.splitLines=Gr,g.countColumn=Z,g.findColumn=oe,g.isWordChar=fe,g.Pass=Ee,g.signal=lt,g.Line=bp,g.changeEnd=Ch,g.scrollbarModel=vF,g.Pos=mt,g.cmpPos=Cr,g.modes=$r,g.mimeModes=kn,g.resolveMode=vt,g.getMode=Vt,g.modeExtensions=yr,g.extendMode=un,g.copyState=Yr,g.startState=En,g.innerMode=Sn,g.commands=Qv,g.keyMap=dc,g.keyName=rP,g.isModifierKey=eP,g.lookupKey=Np,g.normalizeKeyMap=Cde,g.StringStream=kt,g.SharedTextMarker=Xv,g.TextMarker=_h,g.LineWidget=Yv,g.e_preventDefault=at,g.e_stopPropagation=Lt,g.e_stop=pt,g.addClass=X,g.contains=B,g.rmClass=z,g.keyNames=Lh}Vde(Hn),qde(Hn);var Zde="iter insert remove copy getEditor constructor".split(" ");for(var y4 in ws.prototype)ws.prototype.hasOwnProperty(y4)&&ae(Zde,y4)<0&&(Hn.prototype[y4]=function(g){return function(){return g.apply(this.doc,arguments)}}(ws.prototype[y4]));return ct(ws),Hn.inputStyles={textarea:di,contenteditable:cn},Hn.defineMode=function(g){!Hn.defaults.mode&&g!="null"&&(Hn.defaults.mode=g),Ut.apply(this,arguments)},Hn.defineMIME=qe,Hn.defineMode("null",function(){return{token:function(g){return g.skipToEnd()}}}),Hn.defineMIME("text/plain","null"),Hn.defineExtension=function(g,b){Hn.prototype[g]=b},Hn.defineDocExtension=function(g,b){ws.prototype[g]=b},Hn.fromTextArea=Kde,Qde(Hn),Hn.version="5.65.16",Hn})})(Zte);var qo=Zte.exports;(function(t,e){(function(r){r(qo)})(function(r){var n=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,i=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,a=/[*+-]\s/;r.commands.newlineAndIndentContinueMarkdownList=function(o){if(o.getOption("disableInput"))return r.Pass;for(var l=o.listSelections(),u=[],h=0;h<l.length;h++){var f=l[h].head,d=o.getStateAfter(f.line),p=r.innerMode(o.getMode(),d);if(p.mode.name!=="markdown"&&p.mode.helperType!=="markdown"){o.execCommand("newlineAndIndent");return}else d=p.state;var v=d.list!==!1,m=d.quote!==0,x=o.getLine(f.line),y=n.exec(x),w=/^\s*$/.test(x.slice(0,f.ch));if(!l[h].empty()||!v&&!m||!y||w){o.execCommand("newlineAndIndent");return}if(i.test(x)){var k=m&&/>\s*$/.test(x),E=!/>\s*$/.test(x);(k||E)&&o.replaceRange("",{line:f.line,ch:0},{line:f.line,ch:f.ch+1}),u[h]=`
`}else{var C=y[1],L=y[5],_=!(a.test(y[2])||y[2].indexOf(">")>=0),I=_?parseInt(y[3],10)+1+y[4]:y[2].replace("x"," ");u[h]=`
`+C+I+L,_&&s(o,f)}}o.replaceSelections(u)};function s(o,l){var u=l.line,h=0,f=0,d=n.exec(o.getLine(u)),p=d[1];do{h+=1;var v=u+h,m=o.getLine(v),x=n.exec(m);if(x){var y=x[1],w=parseInt(d[3],10)+h-f,k=parseInt(x[3],10),E=k;if(p===y&&!isNaN(k))w===k&&(E=k+1),w>k&&(E=w+1),o.replaceRange(m.replace(n,y+E+x[4]+x[5]),{line:v,ch:0},{line:v,ch:m.length});else{if(p.length>y.length||p.length<y.length&&h===1)return;f+=1}}}while(x)}})})();var Jte=qo;Jte.commands.tabAndIndentMarkdownList=function(t){var e=t.listSelections(),r=e[0].head,n=t.getStateAfter(r.line),i=n.list!==!1;if(i){t.execCommand("indentMore");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var a=Array(t.options.tabSize+1).join(" ");t.replaceSelection(a)}};Jte.commands.shiftTabAndUnindentMarkdownList=function(t){var e=t.listSelections(),r=e[0].head,n=t.getStateAfter(r.line),i=n.list!==!1;if(i){t.execCommand("indentLess");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var a=Array(t.options.tabSize+1).join(" ");t.replaceSelection(a)}};(function(t,e){(function(r){r(qo)})(function(r){r.defineOption("fullScreen",!1,function(a,s,o){o==r.Init&&(o=!1),!o!=!s&&(s?n(a):i(a))});function n(a){var s=a.getWrapperElement();a.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:s.style.width,height:s.style.height},s.style.width="",s.style.height="auto",s.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",a.refresh()}function i(a){var s=a.getWrapperElement();s.className=s.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var o=a.state.fullScreenRestore;s.style.width=o.width,s.style.height=o.height,window.scrollTo(o.scrollLeft,o.scrollTop),a.refresh()}})})();var JAe={exports:{}},e_e={exports:{}};(function(t,e){(function(r){r(qo)})(function(r){var n={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};r.defineMode("xml",function(a,s){var o=a.indentUnit,l={},u=s.htmlMode?n:i;for(var h in u)l[h]=u[h];for(var h in s)l[h]=s[h];var f,d;function p(O,P){function $(X){return P.tokenize=X,X(O,P)}var B=O.next();if(B=="<")return O.eat("!")?O.eat("[")?O.match("CDATA[")?$(x("atom","]]>")):null:O.match("--")?$(x("comment","-->")):O.match("DOCTYPE",!0,!0)?(O.eatWhile(/[\w\._\-]/),$(y(1))):null:O.eat("?")?(O.eatWhile(/[\w\._\-]/),P.tokenize=x("meta","?>"),"meta"):(f=O.eat("/")?"closeTag":"openTag",P.tokenize=v,"tag bracket");if(B=="&"){var H;return O.eat("#")?O.eat("x")?H=O.eatWhile(/[a-fA-F\d]/)&&O.eat(";"):H=O.eatWhile(/[\d]/)&&O.eat(";"):H=O.eatWhile(/[\w\.\-:]/)&&O.eat(";"),H?"atom":"error"}else return O.eatWhile(/[^&<]/),null}p.isInText=!0;function v(O,P){var $=O.next();if($==">"||$=="/"&&O.eat(">"))return P.tokenize=p,f=$==">"?"endTag":"selfcloseTag","tag bracket";if($=="=")return f="equals",null;if($=="<"){P.tokenize=p,P.state=L,P.tagName=P.tagStart=null;var B=P.tokenize(O,P);return B?B+" tag error":"tag error"}else return/[\'\"]/.test($)?(P.tokenize=m($),P.stringStartCol=O.column(),P.tokenize(O,P)):(O.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function m(O){var P=function($,B){for(;!$.eol();)if($.next()==O){B.tokenize=v;break}return"string"};return P.isInAttribute=!0,P}function x(O,P){return function($,B){for(;!$.eol();){if($.match(P)){B.tokenize=p;break}$.next()}return O}}function y(O){return function(P,$){for(var B;(B=P.next())!=null;){if(B=="<")return $.tokenize=y(O+1),$.tokenize(P,$);if(B==">")if(O==1){$.tokenize=p;break}else return $.tokenize=y(O-1),$.tokenize(P,$)}return"meta"}}function w(O){return O&&O.toLowerCase()}function k(O,P,$){this.prev=O.context,this.tagName=P||"",this.indent=O.indented,this.startOfLine=$,(l.doNotIndent.hasOwnProperty(P)||O.context&&O.context.noIndent)&&(this.noIndent=!0)}function E(O){O.context&&(O.context=O.context.prev)}function C(O,P){for(var $;;){if(!O.context||($=O.context.tagName,!l.contextGrabbers.hasOwnProperty(w($))||!l.contextGrabbers[w($)].hasOwnProperty(w(P))))return;E(O)}}function L(O,P,$){return O=="openTag"?($.tagStart=P.column(),_):O=="closeTag"?I:L}function _(O,P,$){return O=="word"?($.tagName=P.current(),d="tag",N):l.allowMissingTagName&&O=="endTag"?(d="tag bracket",N(O,P,$)):(d="error",_)}function I(O,P,$){if(O=="word"){var B=P.current();return $.context&&$.context.tagName!=B&&l.implicitlyClosed.hasOwnProperty(w($.context.tagName))&&E($),$.context&&$.context.tagName==B||l.matchClosing===!1?(d="tag",M):(d="tag error",F)}else return l.allowMissingTagName&&O=="endTag"?(d="tag bracket",M(O,P,$)):(d="error",F)}function M(O,P,$){return O!="endTag"?(d="error",M):(E($),L)}function F(O,P,$){return d="error",M(O,P,$)}function N(O,P,$){if(O=="word")return d="attribute",z;if(O=="endTag"||O=="selfcloseTag"){var B=$.tagName,H=$.tagStart;return $.tagName=$.tagStart=null,O=="selfcloseTag"||l.autoSelfClosers.hasOwnProperty(w(B))?C($,B):(C($,B),$.context=new k($,B,H==$.indented)),L}return d="error",N}function z(O,P,$){return O=="equals"?V:(l.allowMissing||(d="error"),N(O,P,$))}function V(O,P,$){return O=="string"?D:O=="word"&&l.allowUnquoted?(d="string",N):(d="error",N(O,P,$))}function D(O,P,$){return O=="string"?D:N(O,P,$)}return{startState:function(O){var P={tokenize:p,state:L,indented:O||0,tagName:null,tagStart:null,context:null};return O!=null&&(P.baseIndent=O),P},token:function(O,P){if(!P.tagName&&O.sol()&&(P.indented=O.indentation()),O.eatSpace())return null;f=null;var $=P.tokenize(O,P);return($||f)&&$!="comment"&&(d=null,P.state=P.state(f||$,O,P),d&&($=d=="error"?$+" error":d)),$},indent:function(O,P,$){var B=O.context;if(O.tokenize.isInAttribute)return O.tagStart==O.indented?O.stringStartCol+1:O.indented+o;if(B&&B.noIndent)return r.Pass;if(O.tokenize!=v&&O.tokenize!=p)return $?$.match(/^(\s*)/)[0].length:0;if(O.tagName)return l.multilineTagIndentPastTag!==!1?O.tagStart+O.tagName.length+2:O.tagStart+o*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(P))return 0;var H=P&&/^<(\/)?([\w_:\.-]*)/.exec(P);if(H&&H[1])for(;B;)if(B.tagName==H[2]){B=B.prev;break}else if(l.implicitlyClosed.hasOwnProperty(w(B.tagName)))B=B.prev;else break;else if(H)for(;B;){var X=l.contextGrabbers[w(B.tagName)];if(X&&X.hasOwnProperty(w(H[2])))B=B.prev;else break}for(;B&&B.prev&&!B.startOfLine;)B=B.prev;return B?B.indent+o:O.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(O){O.state==V&&(O.state=N)},xmlCurrentTag:function(O){return O.tagName?{name:O.tagName,close:O.type=="closeTag"}:null},xmlCurrentContext:function(O){for(var P=[],$=O.context;$;$=$.prev)P.push($.tagName);return P.reverse()}}}),r.defineMIME("text/xml","xml"),r.defineMIME("application/xml","xml"),r.mimeModes.hasOwnProperty("text/html")||r.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();var t_e=e_e.exports,tH={exports:{}},rH;function r_e(){return rH||(rH=1,function(t,e){(function(r){r(qo)})(function(r){r.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var n=0;n<r.modeInfo.length;n++){var i=r.modeInfo[n];i.mimes&&(i.mime=i.mimes[0])}r.findModeByMIME=function(a){a=a.toLowerCase();for(var s=0;s<r.modeInfo.length;s++){var o=r.modeInfo[s];if(o.mime==a)return o;if(o.mimes){for(var l=0;l<o.mimes.length;l++)if(o.mimes[l]==a)return o}}if(/\+xml$/.test(a))return r.findModeByMIME("application/xml");if(/\+json$/.test(a))return r.findModeByMIME("application/json")},r.findModeByExtension=function(a){a=a.toLowerCase();for(var s=0;s<r.modeInfo.length;s++){var o=r.modeInfo[s];if(o.ext){for(var l=0;l<o.ext.length;l++)if(o.ext[l]==a)return o}}},r.findModeByFileName=function(a){for(var s=0;s<r.modeInfo.length;s++){var o=r.modeInfo[s];if(o.file&&o.file.test(a))return o}var l=a.lastIndexOf("."),u=l>-1&&a.substring(l+1,a.length);if(u)return r.findModeByExtension(u)},r.findModeByName=function(a){a=a.toLowerCase();for(var s=0;s<r.modeInfo.length;s++){var o=r.modeInfo[s];if(o.name.toLowerCase()==a)return o;if(o.alias){for(var l=0;l<o.alias.length;l++)if(o.alias[l].toLowerCase()==a)return o}}}})}()),tH.exports}(function(t,e){(function(r){r(qo,t_e,r_e())})(function(r){r.defineMode("markdown",function(n,i){var a=r.getMode(n,"text/html"),s=a.name=="null";function o(Y){if(r.findModeByName){var U=r.findModeByName(Y);U&&(Y=U.mime||U.mimes[0])}var J=r.getMode(n,Y);return J.name=="null"?null:J}i.highlightFormatting===void 0&&(i.highlightFormatting=!1),i.maxBlockquoteDepth===void 0&&(i.maxBlockquoteDepth=0),i.taskLists===void 0&&(i.taskLists=!1),i.strikethrough===void 0&&(i.strikethrough=!1),i.emoji===void 0&&(i.emoji=!1),i.fencedCodeBlockHighlighting===void 0&&(i.fencedCodeBlockHighlighting=!0),i.fencedCodeBlockDefaultMode===void 0&&(i.fencedCodeBlockDefaultMode="text/plain"),i.xml===void 0&&(i.xml=!0),i.tokenTypeOverrides===void 0&&(i.tokenTypeOverrides={});var l={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var u in l)l.hasOwnProperty(u)&&i.tokenTypeOverrides[u]&&(l[u]=i.tokenTypeOverrides[u]);var h=/^([*\-_])(?:\s*\1){2,}\s*$/,f=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,d=/^\[(x| )\](?=\s)/i,p=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,v=/^ {0,3}(?:\={1,}|-{2,})\s*$/,m=/^[^#!\[\]*_\\<>` "'(~:]+/,x=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,y=/^\s*\[[^\]]+?\]:.*$/,w=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,k="    ";function E(Y,U,J){return U.f=U.inline=J,J(Y,U)}function C(Y,U,J){return U.f=U.block=J,J(Y,U)}function L(Y){return!Y||!/\S/.test(Y.string)}function _(Y){if(Y.linkTitle=!1,Y.linkHref=!1,Y.linkText=!1,Y.em=!1,Y.strong=!1,Y.strikethrough=!1,Y.quote=0,Y.indentedCode=!1,Y.f==M){var U=s;if(!U){var J=r.innerMode(a,Y.htmlState);U=J.mode.name=="xml"&&J.state.tagStart===null&&!J.state.context&&J.state.tokenize.isInText}U&&(Y.f=V,Y.block=I,Y.htmlState=null)}return Y.trailingSpace=0,Y.trailingSpaceNewLine=!1,Y.prevLine=Y.thisLine,Y.thisLine={stream:null},null}function I(Y,U){var J=Y.column()===U.indentation,ce=L(U.prevLine.stream),re=U.indentedCode,ve=U.prevLine.hr,ye=U.list!==!1,Z=(U.listStack[U.listStack.length-1]||0)+3;U.indentedCode=!1;var ue=U.indentation;if(U.indentationDiff===null&&(U.indentationDiff=U.indentation,ye)){for(U.list=null;ue<U.listStack[U.listStack.length-1];)U.listStack.pop(),U.listStack.length?U.indentation=U.listStack[U.listStack.length-1]:U.list=!1;U.list!==!1&&(U.indentationDiff=ue-U.listStack[U.listStack.length-1])}var ae=!ce&&!ve&&!U.prevLine.header&&(!ye||!re)&&!U.prevLine.fencedCodeEnd,pe=(U.list===!1||ve||ce)&&U.indentation<=Z&&Y.match(h),Ee=null;if(U.indentationDiff>=4&&(re||U.prevLine.fencedCodeEnd||U.prevLine.header||ce))return Y.skipToEnd(),U.indentedCode=!0,l.code;if(Y.eatSpace())return null;if(J&&U.indentation<=Z&&(Ee=Y.match(p))&&Ee[1].length<=6)return U.quote=0,U.header=Ee[1].length,U.thisLine.header=!0,i.highlightFormatting&&(U.formatting="header"),U.f=U.inline,N(U);if(U.indentation<=Z&&Y.eat(">"))return U.quote=J?1:U.quote+1,i.highlightFormatting&&(U.formatting="quote"),Y.eatSpace(),N(U);if(!pe&&!U.setext&&J&&U.indentation<=Z&&(Ee=Y.match(f))){var Se=Ee[1]?"ol":"ul";return U.indentation=ue+Y.current().length,U.list=!0,U.quote=0,U.listStack.push(U.indentation),U.em=!1,U.strong=!1,U.code=!1,U.strikethrough=!1,i.taskLists&&Y.match(d,!1)&&(U.taskList=!0),U.f=U.inline,i.highlightFormatting&&(U.formatting=["list","list-"+Se]),N(U)}else{if(J&&U.indentation<=Z&&(Ee=Y.match(x,!0)))return U.quote=0,U.fencedEndRE=new RegExp(Ee[1]+"+ *$"),U.localMode=i.fencedCodeBlockHighlighting&&o(Ee[2]||i.fencedCodeBlockDefaultMode),U.localMode&&(U.localState=r.startState(U.localMode)),U.f=U.block=F,i.highlightFormatting&&(U.formatting="code-block"),U.code=-1,N(U);if(U.setext||(!ae||!ye)&&!U.quote&&U.list===!1&&!U.code&&!pe&&!y.test(Y.string)&&(Ee=Y.lookAhead(1))&&(Ee=Ee.match(v)))return U.setext?(U.header=U.setext,U.setext=0,Y.skipToEnd(),i.highlightFormatting&&(U.formatting="header")):(U.header=Ee[0].charAt(0)=="="?1:2,U.setext=U.header),U.thisLine.header=!0,U.f=U.inline,N(U);if(pe)return Y.skipToEnd(),U.hr=!0,U.thisLine.hr=!0,l.hr;if(Y.peek()==="[")return E(Y,U,B)}return E(Y,U,U.inline)}function M(Y,U){var J=a.token(Y,U.htmlState);if(!s){var ce=r.innerMode(a,U.htmlState);(ce.mode.name=="xml"&&ce.state.tagStart===null&&!ce.state.context&&ce.state.tokenize.isInText||U.md_inside&&Y.current().indexOf(">")>-1)&&(U.f=V,U.block=I,U.htmlState=null)}return J}function F(Y,U){var J=U.listStack[U.listStack.length-1]||0,ce=U.indentation<J,re=J+3;if(U.fencedEndRE&&U.indentation<=re&&(ce||Y.match(U.fencedEndRE))){i.highlightFormatting&&(U.formatting="code-block");var ve;return ce||(ve=N(U)),U.localMode=U.localState=null,U.block=I,U.f=V,U.fencedEndRE=null,U.code=0,U.thisLine.fencedCodeEnd=!0,ce?C(Y,U,U.block):ve}else return U.localMode?U.localMode.token(Y,U.localState):(Y.skipToEnd(),l.code)}function N(Y){var U=[];if(Y.formatting){U.push(l.formatting),typeof Y.formatting=="string"&&(Y.formatting=[Y.formatting]);for(var J=0;J<Y.formatting.length;J++)U.push(l.formatting+"-"+Y.formatting[J]),Y.formatting[J]==="header"&&U.push(l.formatting+"-"+Y.formatting[J]+"-"+Y.header),Y.formatting[J]==="quote"&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=Y.quote?U.push(l.formatting+"-"+Y.formatting[J]+"-"+Y.quote):U.push("error"))}if(Y.taskOpen)return U.push("meta"),U.length?U.join(" "):null;if(Y.taskClosed)return U.push("property"),U.length?U.join(" "):null;if(Y.linkHref?U.push(l.linkHref,"url"):(Y.strong&&U.push(l.strong),Y.em&&U.push(l.em),Y.strikethrough&&U.push(l.strikethrough),Y.emoji&&U.push(l.emoji),Y.linkText&&U.push(l.linkText),Y.code&&U.push(l.code),Y.image&&U.push(l.image),Y.imageAltText&&U.push(l.imageAltText,"link"),Y.imageMarker&&U.push(l.imageMarker)),Y.header&&U.push(l.header,l.header+"-"+Y.header),Y.quote&&(U.push(l.quote),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=Y.quote?U.push(l.quote+"-"+Y.quote):U.push(l.quote+"-"+i.maxBlockquoteDepth)),Y.list!==!1){var ce=(Y.listStack.length-1)%3;ce?ce===1?U.push(l.list2):U.push(l.list3):U.push(l.list1)}return Y.trailingSpaceNewLine?U.push("trailing-space-new-line"):Y.trailingSpace&&U.push("trailing-space-"+(Y.trailingSpace%2?"a":"b")),U.length?U.join(" "):null}function z(Y,U){if(Y.match(m,!0))return N(U)}function V(Y,U){var J=U.text(Y,U);if(typeof J<"u")return J;if(U.list)return U.list=null,N(U);if(U.taskList){var ce=Y.match(d,!0)[1]===" ";return ce?U.taskOpen=!0:U.taskClosed=!0,i.highlightFormatting&&(U.formatting="task"),U.taskList=!1,N(U)}if(U.taskOpen=!1,U.taskClosed=!1,U.header&&Y.match(/^#+$/,!0))return i.highlightFormatting&&(U.formatting="header"),N(U);var re=Y.next();if(U.linkTitle){U.linkTitle=!1;var ve=re;re==="("&&(ve=")"),ve=(ve+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var ye="^\\s*(?:[^"+ve+"\\\\]+|\\\\\\\\|\\\\.)"+ve;if(Y.match(new RegExp(ye),!0))return l.linkHref}if(re==="`"){var Z=U.formatting;i.highlightFormatting&&(U.formatting="code"),Y.eatWhile("`");var ue=Y.current().length;if(U.code==0&&(!U.quote||ue==1))return U.code=ue,N(U);if(ue==U.code){var ae=N(U);return U.code=0,ae}else return U.formatting=Z,N(U)}else if(U.code)return N(U);if(re==="\\"&&(Y.next(),i.highlightFormatting)){var pe=N(U),Ee=l.formatting+"-escape";return pe?pe+" "+Ee:Ee}if(re==="!"&&Y.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return U.imageMarker=!0,U.image=!0,i.highlightFormatting&&(U.formatting="image"),N(U);if(re==="["&&U.imageMarker&&Y.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return U.imageMarker=!1,U.imageAltText=!0,i.highlightFormatting&&(U.formatting="image"),N(U);if(re==="]"&&U.imageAltText){i.highlightFormatting&&(U.formatting="image");var pe=N(U);return U.imageAltText=!1,U.image=!1,U.inline=U.f=O,pe}if(re==="["&&!U.image)return U.linkText&&Y.match(/^.*?\]/)||(U.linkText=!0,i.highlightFormatting&&(U.formatting="link")),N(U);if(re==="]"&&U.linkText){i.highlightFormatting&&(U.formatting="link");var pe=N(U);return U.linkText=!1,U.inline=U.f=Y.match(/\(.*?\)| ?\[.*?\]/,!1)?O:V,pe}if(re==="<"&&Y.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){U.f=U.inline=D,i.highlightFormatting&&(U.formatting="link");var pe=N(U);return pe?pe+=" ":pe="",pe+l.linkInline}if(re==="<"&&Y.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){U.f=U.inline=D,i.highlightFormatting&&(U.formatting="link");var pe=N(U);return pe?pe+=" ":pe="",pe+l.linkEmail}if(i.xml&&re==="<"&&Y.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var Se=Y.string.indexOf(">",Y.pos);if(Se!=-1){var de=Y.string.substring(Y.start,Se);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(de)&&(U.md_inside=!0)}return Y.backUp(1),U.htmlState=r.startState(a),C(Y,U,M)}if(i.xml&&re==="<"&&Y.match(/^\/\w*?>/))return U.md_inside=!1,"tag";if(re==="*"||re==="_"){for(var be=1,oe=Y.pos==1?" ":Y.string.charAt(Y.pos-2);be<3&&Y.eat(re);)be++;var we=Y.peek()||" ",Re=!/\s/.test(we)&&(!w.test(we)||/\s/.test(oe)||w.test(oe)),Pe=!/\s/.test(oe)&&(!w.test(oe)||/\s/.test(we)||w.test(we)),Ge=null,je=null;if(be%2&&(!U.em&&Re&&(re==="*"||!Pe||w.test(oe))?Ge=!0:U.em==re&&Pe&&(re==="*"||!Re||w.test(we))&&(Ge=!1)),be>1&&(!U.strong&&Re&&(re==="*"||!Pe||w.test(oe))?je=!0:U.strong==re&&Pe&&(re==="*"||!Re||w.test(we))&&(je=!1)),je!=null||Ge!=null){i.highlightFormatting&&(U.formatting=Ge==null?"strong":je==null?"em":"strong em"),Ge===!0&&(U.em=re),je===!0&&(U.strong=re);var ae=N(U);return Ge===!1&&(U.em=!1),je===!1&&(U.strong=!1),ae}}else if(re===" "&&(Y.eat("*")||Y.eat("_"))){if(Y.peek()===" ")return N(U);Y.backUp(1)}if(i.strikethrough){if(re==="~"&&Y.eatWhile(re)){if(U.strikethrough){i.highlightFormatting&&(U.formatting="strikethrough");var ae=N(U);return U.strikethrough=!1,ae}else if(Y.match(/^[^\s]/,!1))return U.strikethrough=!0,i.highlightFormatting&&(U.formatting="strikethrough"),N(U)}else if(re===" "&&Y.match("~~",!0)){if(Y.peek()===" ")return N(U);Y.backUp(2)}}if(i.emoji&&re===":"&&Y.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){U.emoji=!0,i.highlightFormatting&&(U.formatting="emoji");var We=N(U);return U.emoji=!1,We}return re===" "&&(Y.match(/^ +$/,!1)?U.trailingSpace++:U.trailingSpace&&(U.trailingSpaceNewLine=!0)),N(U)}function D(Y,U){var J=Y.next();if(J===">"){U.f=U.inline=V,i.highlightFormatting&&(U.formatting="link");var ce=N(U);return ce?ce+=" ":ce="",ce+l.linkInline}return Y.match(/^[^>]+/,!0),l.linkInline}function O(Y,U){if(Y.eatSpace())return null;var J=Y.next();return J==="("||J==="["?(U.f=U.inline=$(J==="("?")":"]"),i.highlightFormatting&&(U.formatting="link-string"),U.linkHref=!0,N(U)):"error"}var P={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function $(Y){return function(U,J){var ce=U.next();if(ce===Y){J.f=J.inline=V,i.highlightFormatting&&(J.formatting="link-string");var re=N(J);return J.linkHref=!1,re}return U.match(P[Y]),J.linkHref=!0,N(J)}}function B(Y,U){return Y.match(/^([^\]\\]|\\.)*\]:/,!1)?(U.f=H,Y.next(),i.highlightFormatting&&(U.formatting="link"),U.linkText=!0,N(U)):E(Y,U,V)}function H(Y,U){if(Y.match("]:",!0)){U.f=U.inline=X,i.highlightFormatting&&(U.formatting="link");var J=N(U);return U.linkText=!1,J}return Y.match(/^([^\]\\]|\\.)+/,!0),l.linkText}function X(Y,U){return Y.eatSpace()?null:(Y.match(/^[^\s]+/,!0),Y.peek()===void 0?U.linkTitle=!0:Y.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),U.f=U.inline=V,l.linkHref+" url")}var q={startState:function(){return{f:I,prevLine:{stream:null},thisLine:{stream:null},block:I,htmlState:null,indentation:0,inline:V,text:z,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(Y){return{f:Y.f,prevLine:Y.prevLine,thisLine:Y.thisLine,block:Y.block,htmlState:Y.htmlState&&r.copyState(a,Y.htmlState),indentation:Y.indentation,localMode:Y.localMode,localState:Y.localMode?r.copyState(Y.localMode,Y.localState):null,inline:Y.inline,text:Y.text,formatting:!1,linkText:Y.linkText,linkTitle:Y.linkTitle,linkHref:Y.linkHref,code:Y.code,em:Y.em,strong:Y.strong,strikethrough:Y.strikethrough,emoji:Y.emoji,header:Y.header,setext:Y.setext,hr:Y.hr,taskList:Y.taskList,list:Y.list,listStack:Y.listStack.slice(0),quote:Y.quote,indentedCode:Y.indentedCode,trailingSpace:Y.trailingSpace,trailingSpaceNewLine:Y.trailingSpaceNewLine,md_inside:Y.md_inside,fencedEndRE:Y.fencedEndRE}},token:function(Y,U){if(U.formatting=!1,Y!=U.thisLine.stream){if(U.header=0,U.hr=!1,Y.match(/^\s*$/,!0))return _(U),null;if(U.prevLine=U.thisLine,U.thisLine={stream:Y},U.taskList=!1,U.trailingSpace=0,U.trailingSpaceNewLine=!1,!U.localState&&(U.f=U.block,U.f!=M)){var J=Y.match(/^\s*/,!0)[0].replace(/\t/g,k).length;if(U.indentation=J,U.indentationDiff=null,J>0)return null}}return U.f(Y,U)},innerMode:function(Y){return Y.block==M?{state:Y.htmlState,mode:a}:Y.localState?{state:Y.localState,mode:Y.localMode}:{state:Y,mode:q}},indent:function(Y,U,J){return Y.block==M&&a.indent?a.indent(Y.htmlState,U,J):Y.localState&&Y.localMode.indent?Y.localMode.indent(Y.localState,U,J):r.Pass},blankLine:_,getType:N,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return q},"xml"),r.defineMIME("text/markdown","markdown"),r.defineMIME("text/x-markdown","markdown")})})();var n_e=JAe.exports,i_e={exports:{}};(function(t,e){(function(r){r(qo)})(function(r){r.overlayMode=function(n,i,a){return{startState:function(){return{base:r.startState(n),overlay:r.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(s){return{base:r.copyState(n,s.base),overlay:r.copyState(i,s.overlay),basePos:s.basePos,baseCur:null,overlayPos:s.overlayPos,overlayCur:null}},token:function(s,o){return(s!=o.streamSeen||Math.min(o.basePos,o.overlayPos)<s.start)&&(o.streamSeen=s,o.basePos=o.overlayPos=s.start),s.start==o.basePos&&(o.baseCur=n.token(s,o.base),o.basePos=s.pos),s.start==o.overlayPos&&(s.pos=s.start,o.overlayCur=i.token(s,o.overlay),o.overlayPos=s.pos),s.pos=Math.min(o.basePos,o.overlayPos),o.overlayCur==null?o.baseCur:o.baseCur!=null&&o.overlay.combineTokens||a&&o.overlay.combineTokens==null?o.baseCur+" "+o.overlayCur:o.overlayCur},indent:n.indent&&function(s,o,l){return n.indent(s.base,o,l)},electricChars:n.electricChars,innerMode:function(s){return{state:s.base,mode:n}},blankLine:function(s){var o,l;return n.blankLine&&(o=n.blankLine(s.base)),i.blankLine&&(l=i.blankLine(s.overlay)),l==null?o:a&&o!=null?o+" "+l:l}}}})})();var a_e=i_e.exports;(function(t,e){(function(r){r(qo)})(function(r){r.defineOption("placeholder","",function(u,h,f){var d=f&&f!=r.Init;if(h&&!d)u.on("blur",s),u.on("change",o),u.on("swapDoc",o),r.on(u.getInputField(),"compositionupdate",u.state.placeholderCompose=function(){a(u)}),o(u);else if(!h&&d){u.off("blur",s),u.off("change",o),u.off("swapDoc",o),r.off(u.getInputField(),"compositionupdate",u.state.placeholderCompose),n(u);var p=u.getWrapperElement();p.className=p.className.replace(" CodeMirror-empty","")}h&&!u.hasFocus()&&s(u)});function n(u){u.state.placeholder&&(u.state.placeholder.parentNode.removeChild(u.state.placeholder),u.state.placeholder=null)}function i(u){n(u);var h=u.state.placeholder=document.createElement("pre");h.style.cssText="height: 0; overflow: visible",h.style.direction=u.getOption("direction"),h.className="CodeMirror-placeholder CodeMirror-line-like";var f=u.getOption("placeholder");typeof f=="string"&&(f=document.createTextNode(f)),h.appendChild(f),u.display.lineSpace.insertBefore(h,u.display.lineSpace.firstChild)}function a(u){setTimeout(function(){var h=!1;if(u.lineCount()==1){var f=u.getInputField();h=f.nodeName=="TEXTAREA"?!u.getLine(0).length:!/[^\u200b]/.test(f.querySelector(".CodeMirror-line").textContent)}h?i(u):n(u)},20)}function s(u){l(u)&&i(u)}function o(u){var h=u.getWrapperElement(),f=l(u);h.className=h.className.replace(" CodeMirror-empty","")+(f?" CodeMirror-empty":""),f?i(u):n(u)}function l(u){return u.lineCount()===1&&u.getLine(0)===""}})})();(function(t,e){(function(r){r(qo)})(function(r){r.defineOption("autoRefresh",!1,function(a,s){a.state.autoRefresh&&(i(a,a.state.autoRefresh),a.state.autoRefresh=null),s&&a.display.wrapper.offsetHeight==0&&n(a,a.state.autoRefresh={delay:s.delay||250})});function n(a,s){function o(){a.display.wrapper.offsetHeight?(i(a,s),a.display.lastWrapHeight!=a.display.wrapper.clientHeight&&a.refresh()):s.timeout=setTimeout(o,s.delay)}s.timeout=setTimeout(o,s.delay),s.hurry=function(){clearTimeout(s.timeout),s.timeout=setTimeout(o,50)},r.on(window,"mouseup",s.hurry),r.on(window,"keyup",s.hurry)}function i(a,s){clearTimeout(s.timeout),r.off(window,"mouseup",s.hurry),r.off(window,"keyup",s.hurry)}})})();(function(t,e){(function(r){r(qo)})(function(r){r.defineOption("styleSelectedText",!1,function(d,p,v){var m=v&&v!=r.Init;p&&!m?(d.state.markedSelection=[],d.state.markedSelectionStyle=typeof p=="string"?p:"CodeMirror-selectedtext",h(d),d.on("cursorActivity",n),d.on("change",i)):!p&&m&&(d.off("cursorActivity",n),d.off("change",i),u(d),d.state.markedSelection=d.state.markedSelectionStyle=null)});function n(d){d.state.markedSelection&&d.operation(function(){f(d)})}function i(d){d.state.markedSelection&&d.state.markedSelection.length&&d.operation(function(){u(d)})}var a=8,s=r.Pos,o=r.cmpPos;function l(d,p,v,m){if(o(p,v)!=0)for(var x=d.state.markedSelection,y=d.state.markedSelectionStyle,w=p.line;;){var k=w==p.line?p:s(w,0),E=w+a,C=E>=v.line,L=C?v:s(E,0),_=d.markText(k,L,{className:y});if(m==null?x.push(_):x.splice(m++,0,_),C)break;w=E}}function u(d){for(var p=d.state.markedSelection,v=0;v<p.length;++v)p[v].clear();p.length=0}function h(d){u(d);for(var p=d.listSelections(),v=0;v<p.length;v++)l(d,p[v].from(),p[v].to())}function f(d){if(!d.somethingSelected())return u(d);if(d.listSelections().length>1)return h(d);var p=d.getCursor("start"),v=d.getCursor("end"),m=d.state.markedSelection;if(!m.length)return l(d,p,v);var x=m[0].find(),y=m[m.length-1].find();if(!x||!y||v.line-p.line<=a||o(p,y.to)>=0||o(v,x.from)<=0)return h(d);for(;o(p,x.from)>0;)m.shift().clear(),x=m[0].find();for(o(p,x.from)<0&&(x.to.line-p.line<a?(m.shift().clear(),l(d,p,x.to,0)):l(d,p,x.from,0));o(v,y.to)<0;)m.pop().clear(),y=m[m.length-1].find();o(v,y.to)>0&&(v.line-y.from.line<a?(m.pop().clear(),l(d,y.from,v)):l(d,y.to,v))}})})();(function(t,e){(function(r){r(qo)})(function(r){var n=r.Pos;function i(w){var k=w.flags;return k??(w.ignoreCase?"i":"")+(w.global?"g":"")+(w.multiline?"m":"")}function a(w,k){for(var E=i(w),C=E,L=0;L<k.length;L++)C.indexOf(k.charAt(L))==-1&&(C+=k.charAt(L));return E==C?w:new RegExp(w.source,C)}function s(w){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(w.source)}function o(w,k,E){k=a(k,"g");for(var C=E.line,L=E.ch,_=w.lastLine();C<=_;C++,L=0){k.lastIndex=L;var I=w.getLine(C),M=k.exec(I);if(M)return{from:n(C,M.index),to:n(C,M.index+M[0].length),match:M}}}function l(w,k,E){if(!s(k))return o(w,k,E);k=a(k,"gm");for(var C,L=1,_=E.line,I=w.lastLine();_<=I;){for(var M=0;M<L&&!(_>I);M++){var F=w.getLine(_++);C=C==null?F:C+`
`+F}L=L*2,k.lastIndex=E.ch;var N=k.exec(C);if(N){var z=C.slice(0,N.index).split(`
`),V=N[0].split(`
`),D=E.line+z.length-1,O=z[z.length-1].length;return{from:n(D,O),to:n(D+V.length-1,V.length==1?O+V[0].length:V[V.length-1].length),match:N}}}}function u(w,k,E){for(var C,L=0;L<=w.length;){k.lastIndex=L;var _=k.exec(w);if(!_)break;var I=_.index+_[0].length;if(I>w.length-E)break;(!C||I>C.index+C[0].length)&&(C=_),L=_.index+1}return C}function h(w,k,E){k=a(k,"g");for(var C=E.line,L=E.ch,_=w.firstLine();C>=_;C--,L=-1){var I=w.getLine(C),M=u(I,k,L<0?0:I.length-L);if(M)return{from:n(C,M.index),to:n(C,M.index+M[0].length),match:M}}}function f(w,k,E){if(!s(k))return h(w,k,E);k=a(k,"gm");for(var C,L=1,_=w.getLine(E.line).length-E.ch,I=E.line,M=w.firstLine();I>=M;){for(var F=0;F<L&&I>=M;F++){var N=w.getLine(I--);C=C==null?N:N+`
`+C}L*=2;var z=u(C,k,_);if(z){var V=C.slice(0,z.index).split(`
`),D=z[0].split(`
`),O=I+V.length,P=V[V.length-1].length;return{from:n(O,P),to:n(O+D.length-1,D.length==1?P+D[0].length:D[D.length-1].length),match:z}}}}var d,p;String.prototype.normalize?(d=function(w){return w.normalize("NFD").toLowerCase()},p=function(w){return w.normalize("NFD")}):(d=function(w){return w.toLowerCase()},p=function(w){return w});function v(w,k,E,C){if(w.length==k.length)return E;for(var L=0,_=E+Math.max(0,w.length-k.length);;){if(L==_)return L;var I=L+_>>1,M=C(w.slice(0,I)).length;if(M==E)return I;M>E?_=I:L=I+1}}function m(w,k,E,C){if(!k.length)return null;var L=C?d:p,_=L(k).split(/\r|\n\r?/);e:for(var I=E.line,M=E.ch,F=w.lastLine()+1-_.length;I<=F;I++,M=0){var N=w.getLine(I).slice(M),z=L(N);if(_.length==1){var V=z.indexOf(_[0]);if(V==-1)continue e;var E=v(N,z,V,L)+M;return{from:n(I,v(N,z,V,L)+M),to:n(I,v(N,z,V+_[0].length,L)+M)}}else{var D=z.length-_[0].length;if(z.slice(D)!=_[0])continue e;for(var O=1;O<_.length-1;O++)if(L(w.getLine(I+O))!=_[O])continue e;var P=w.getLine(I+_.length-1),$=L(P),B=_[_.length-1];if($.slice(0,B.length)!=B)continue e;return{from:n(I,v(N,z,D,L)+M),to:n(I+_.length-1,v(P,$,B.length,L))}}}}function x(w,k,E,C){if(!k.length)return null;var L=C?d:p,_=L(k).split(/\r|\n\r?/);e:for(var I=E.line,M=E.ch,F=w.firstLine()-1+_.length;I>=F;I--,M=-1){var N=w.getLine(I);M>-1&&(N=N.slice(0,M));var z=L(N);if(_.length==1){var V=z.lastIndexOf(_[0]);if(V==-1)continue e;return{from:n(I,v(N,z,V,L)),to:n(I,v(N,z,V+_[0].length,L))}}else{var D=_[_.length-1];if(z.slice(0,D.length)!=D)continue e;for(var O=1,E=I-_.length+1;O<_.length-1;O++)if(L(w.getLine(E+O))!=_[O])continue e;var P=w.getLine(I+1-_.length),$=L(P);if($.slice($.length-_[0].length)!=_[0])continue e;return{from:n(I+1-_.length,v(P,$,P.length-_[0].length,L)),to:n(I,v(N,z,D.length,L))}}}}function y(w,k,E,C){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=w,E=E?w.clipPos(E):n(0,0),this.pos={from:E,to:E};var L;typeof C=="object"?L=C.caseFold:(L=C,C=null),typeof k=="string"?(L==null&&(L=!1),this.matches=function(_,I){return(_?x:m)(w,k,I,L)}):(k=a(k,"gm"),!C||C.multiline!==!1?this.matches=function(_,I){return(_?f:l)(w,k,I)}:this.matches=function(_,I){return(_?h:o)(w,k,I)})}y.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(w){var k=this.doc.clipPos(w?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(k=n(k.line,k.ch),w?(k.ch--,k.ch<0&&(k.line--,k.ch=(this.doc.getLine(k.line)||"").length)):(k.ch++,k.ch>(this.doc.getLine(k.line)||"").length&&(k.ch=0,k.line++)),r.cmpPos(k,this.doc.clipPos(k))!=0))return this.atOccurrence=!1;var E=this.matches(w,k);if(this.afterEmptyMatch=E&&r.cmpPos(E.from,E.to)==0,E)return this.pos=E,this.atOccurrence=!0,this.pos.match||!0;var C=n(w?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:C,to:C},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(w,k){if(this.atOccurrence){var E=r.splitLines(w);this.doc.replaceRange(E,this.pos.from,this.pos.to,k),this.pos.to=n(this.pos.from.line+E.length-1,E[E.length-1].length+(E.length==1?this.pos.from.ch:0))}}},r.defineExtension("getSearchCursor",function(w,k,E){return new y(this.doc,w,k,E)}),r.defineDocExtension("getSearchCursor",function(w,k,E){return new y(this,w,k,E)}),r.defineExtension("selectMatches",function(w,k){for(var E=[],C=this.getSearchCursor(w,this.getCursor("from"),k);C.findNext()&&!(r.cmpPos(C.to(),this.getCursor("to"))>0);)E.push({anchor:C.from(),head:C.to()});E.length&&this.setSelections(E,0)})})})();(function(t,e){(function(r){r(qo,n_e,a_e)})(function(r){var n=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;r.defineMode("gfm",function(i,a){var s=0;function o(f){return f.code=!1,null}var l={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(f){return{code:f.code,codeBlock:f.codeBlock,ateSpace:f.ateSpace}},token:function(f,d){if(d.combineTokens=null,d.codeBlock)return f.match(/^```+/)?(d.codeBlock=!1,null):(f.skipToEnd(),null);if(f.sol()&&(d.code=!1),f.sol()&&f.match(/^```+/))return f.skipToEnd(),d.codeBlock=!0,null;if(f.peek()==="`"){f.next();var p=f.pos;f.eatWhile("`");var v=1+f.pos-p;return d.code?v===s&&(d.code=!1):(s=v,d.code=!0),null}else if(d.code)return f.next(),null;if(f.eatSpace())return d.ateSpace=!0,null;if((f.sol()||d.ateSpace)&&(d.ateSpace=!1,a.gitHubSpice!==!1)){if(f.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return d.combineTokens=!0,"link";if(f.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return d.combineTokens=!0,"link"}return f.match(n)&&f.string.slice(f.start-2,f.start)!="]("&&(f.start==0||/\W/.test(f.string.charAt(f.start-1)))?(d.combineTokens=!0,"link"):(f.next(),null)},blankLine:o},u={taskLists:!0,strikethrough:!0,emoji:!0};for(var h in a)u[h]=a[h];return u.name="markdown",r.overlayMode(r.getMode(i,u),l)},"markdown"),r.defineMIME("text/x-gfm","gfm")})})();function s_e(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ere={exports:{}};const o_e={},l_e=Object.freeze(Object.defineProperty({__proto__:null,default:o_e},Symbol.toStringTag,{value:"Module"})),u_e=i0e(l_e);(function(t){var e;(function(){e=function(r,n,i,a){a=a||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=a.flags||{},this.memoized={},this.loaded=!1;var s=this,o,l,u,h,f;r&&(s.dictionary=r,n&&i?m():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(a.dictionaryPath?o=a.dictionaryPath:o="typo/dictionaries",n||d(chrome.extension.getURL(o+"/"+r+"/"+r+".aff"),p),i||d(chrome.extension.getURL(o+"/"+r+"/"+r+".dic"),v)):(a.dictionaryPath?o=a.dictionaryPath:typeof __dirname<"u"?o=__dirname+"/dictionaries":o="./dictionaries",n||d(o+"/"+r+"/"+r+".aff",p),i||d(o+"/"+r+"/"+r+".dic",v)));function d(x,y){var w=s._readFile(x,null,a.asyncLoad);a.asyncLoad?w.then(function(k){y(k)}):y(w)}function p(x){n=x,i&&m()}function v(x){i=x,n&&m()}function m(){for(s.rules=s._parseAFF(n),s.compoundRuleCodes={},l=0,h=s.compoundRules.length;l<h;l++){var x=s.compoundRules[l];for(u=0,f=x.length;u<f;u++)s.compoundRuleCodes[x[u]]=[]}"ONLYINCOMPOUND"in s.flags&&(s.compoundRuleCodes[s.flags.ONLYINCOMPOUND]=[]),s.dictionaryTable=s._parseDIC(i);for(l in s.compoundRuleCodes)s.compoundRuleCodes[l].length===0&&delete s.compoundRuleCodes[l];for(l=0,h=s.compoundRules.length;l<h;l++){var y=s.compoundRules[l],w="";for(u=0,f=y.length;u<f;u++){var k=y[u];k in s.compoundRuleCodes?w+="("+s.compoundRuleCodes[k].join("|")+")":w+=k}s.compoundRules[l]=new RegExp(w,"i")}s.loaded=!0,a.asyncLoad&&a.loadedCallback&&a.loadedCallback(s)}return this},e.prototype={load:function(r){for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);return this},_readFile:function(r,n,i){if(n=n||"utf8",typeof XMLHttpRequest<"u"){var a,s=new XMLHttpRequest;return s.open("GET",r,i),i&&(a=new Promise(function(l,u){s.onload=function(){s.status===200?l(s.responseText):u(s.statusText)},s.onerror=function(){u(s.statusText)}})),s.overrideMimeType&&s.overrideMimeType("text/plain; charset="+n),s.send(null),i?a:s.responseText}else if(typeof s_e<"u"){var o=u_e;try{if(o.existsSync(r))return o.readFileSync(r,n);console.log("Path "+r+" does not exist.")}catch(l){return console.log(l),""}}},_parseAFF:function(r){var n={},i,a,s,o,l,u,h,f,d=r.split(/\r?\n/);for(l=0,h=d.length;l<h;l++)if(i=this._removeAffixComments(d[l]),i=i.trim(),!!i){var p=i.split(/\s+/),v=p[0];if(v=="PFX"||v=="SFX"){var m=p[1],x=p[2];s=parseInt(p[3],10);var y=[];for(u=l+1,f=l+1+s;u<f;u++){a=d[u],o=a.split(/\s+/);var w=o[2],k=o[3].split("/"),E=k[0];E==="0"&&(E="");var C=this.parseRuleCodes(k[1]),L=o[4],_={};_.add=E,C.length>0&&(_.continuationClasses=C),L!=="."&&(v==="SFX"?_.match=new RegExp(L+"$"):_.match=new RegExp("^"+L)),w!="0"&&(v==="SFX"?_.remove=new RegExp(w+"$"):_.remove=w),y.push(_)}n[m]={type:v,combineable:x=="Y",entries:y},l+=s}else if(v==="COMPOUNDRULE"){for(s=parseInt(p[1],10),u=l+1,f=l+1+s;u<f;u++)i=d[u],o=i.split(/\s+/),this.compoundRules.push(o[1]);l+=s}else v==="REP"?(o=i.split(/\s+/),o.length===3&&this.replacementTable.push([o[1],o[2]])):this.flags[v]=p[1]}return n},_removeAffixComments:function(r){return r.match(/^\s*#/,"")?"":r},_parseDIC:function(r){r=this._removeDicComments(r);var n=r.split(/\r?\n/),i={};function a(N,z){i.hasOwnProperty(N)||(i[N]=null),z.length>0&&(i[N]===null&&(i[N]=[]),i[N].push(z))}for(var s=1,o=n.length;s<o;s++){var l=n[s];if(l){var u=l.split("/",2),h=u[0];if(u.length>1){var f=this.parseRuleCodes(u[1]);(!("NEEDAFFIX"in this.flags)||f.indexOf(this.flags.NEEDAFFIX)==-1)&&a(h,f);for(var d=0,p=f.length;d<p;d++){var v=f[d],m=this.rules[v];if(m)for(var x=this._applyRule(h,m),y=0,w=x.length;y<w;y++){var k=x[y];if(a(k,[]),m.combineable)for(var E=d+1;E<p;E++){var C=f[E],L=this.rules[C];if(L&&L.combineable&&m.type!=L.type)for(var _=this._applyRule(k,L),I=0,M=_.length;I<M;I++){var F=_[I];a(F,[])}}}v in this.compoundRuleCodes&&this.compoundRuleCodes[v].push(h)}}else a(h.trim(),[])}}return i},_removeDicComments:function(r){return r=r.replace(/^\t.*$/mg,""),r},parseRuleCodes:function(r){if(r)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var n=[],i=0,a=r.length;i<a;i+=2)n.push(r.substr(i,2));return n}else return this.flags.FLAG==="num"?r.split(","):this.flags.FLAG==="UTF-8"?Array.from(r):r.split("");else return r.split("");else return[]},_applyRule:function(r,n){for(var i=n.entries,a=[],s=0,o=i.length;s<o;s++){var l=i[s];if(!l.match||r.match(l.match)){var u=r;if(l.remove&&(u=u.replace(l.remove,"")),n.type==="SFX"?u=u+l.add:u=l.add+u,a.push(u),"continuationClasses"in l)for(var h=0,f=l.continuationClasses.length;h<f;h++){var d=this.rules[l.continuationClasses[h]];d&&(a=a.concat(this._applyRule(u,d)))}}}return a},check:function(r){if(!this.loaded)throw"Dictionary not loaded.";if(!r)return!1;var n=r.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(n))return!0;if(n.toUpperCase()===n){var i=n[0]+n.substring(1).toLowerCase();if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i)||this.checkExact(n.toLowerCase()))return!0}var a=n[0].toLowerCase()+n.substring(1);if(a!==n){if(this.hasFlag(a,"KEEPCASE"))return!1;if(this.checkExact(a))return!0}return!1},checkExact:function(r){if(!this.loaded)throw"Dictionary not loaded.";var n=this.dictionaryTable[r],i,a;if(typeof n>"u"){if("COMPOUNDMIN"in this.flags&&r.length>=this.flags.COMPOUNDMIN){for(i=0,a=this.compoundRules.length;i<a;i++)if(r.match(this.compoundRules[i]))return!0}}else{if(n===null)return!0;if(typeof n=="object"){for(i=0,a=n.length;i<a;i++)if(!this.hasFlag(r,"ONLYINCOMPOUND",n[i]))return!0}}return!1},hasFlag:function(r,n,i){if(!this.loaded)throw"Dictionary not loaded.";return!!(n in this.flags&&(typeof i>"u"&&(i=Array.prototype.concat.apply([],this.dictionaryTable[r])),i&&i.indexOf(this.flags[n])!==-1))},alphabet:"",suggest:function(r,n){if(!this.loaded)throw"Dictionary not loaded.";if(n=n||5,this.memoized.hasOwnProperty(r)){var i=this.memoized[r].limit;if(n<=i||this.memoized[r].suggestions.length<i)return this.memoized[r].suggestions.slice(0,n)}if(this.check(r))return[];for(var a=0,s=this.replacementTable.length;a<s;a++){var o=this.replacementTable[a];if(r.indexOf(o[0])!==-1){var l=r.replace(o[0],o[1]);if(this.check(l))return[l]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var u=this.alphabet.split("");u.sort();for(var h={},a=0;a<u.length;a++)h[u[a]]=!0;this.alphabet="";for(var a in h)this.alphabet+=a}var f=this;function d(v,m){var x={},y,w,k,E,C=f.alphabet.length;if(typeof v=="string"){var L=v;v={},v[L]=!0}for(var L in v)for(y=0,k=L.length+1;y<k;y++){var _=[L.substring(0,y),L.substring(y)];if(_[1]&&(E=_[0]+_[1].substring(1),(!m||f.check(E))&&(E in x?x[E]+=1:x[E]=1)),_[1].length>1&&_[1][1]!==_[1][0]&&(E=_[0]+_[1][1]+_[1][0]+_[1].substring(2),(!m||f.check(E))&&(E in x?x[E]+=1:x[E]=1)),_[1]){var I=_[1].substring(0,1).toUpperCase()===_[1].substring(0,1)?"uppercase":"lowercase";for(w=0;w<C;w++){var M=f.alphabet[w];I==="uppercase"&&(M=M.toUpperCase()),M!=_[1].substring(0,1)&&(E=_[0]+M+_[1].substring(1),(!m||f.check(E))&&(E in x?x[E]+=1:x[E]=1))}}if(_[1])for(w=0;w<C;w++){var I=_[0].substring(-1).toUpperCase()===_[0].substring(-1)&&_[1].substring(0,1).toUpperCase()===_[1].substring(0,1)?"uppercase":"lowercase",M=f.alphabet[w];I==="uppercase"&&(M=M.toUpperCase()),E=_[0]+M+_[1],(!m||f.check(E))&&(E in x?x[E]+=1:x[E]=1)}}return x}function p(v){var m=d(v),x=d(m,!0),y=x;for(var w in m)f.check(w)&&(w in y?y[w]+=m[w]:y[w]=m[w]);var k,E=[];for(k in y)y.hasOwnProperty(k)&&E.push([k,y[k]]);function C(M,F){var N=M[1],z=F[1];return N<z?-1:N>z?1:F[0].localeCompare(M[0])}E.sort(C).reverse();var L=[],_="lowercase";v.toUpperCase()===v?_="uppercase":v.substr(0,1).toUpperCase()+v.substr(1).toLowerCase()===v&&(_="capitalized");var I=n;for(k=0;k<Math.min(I,E.length);k++)_==="uppercase"?E[k][0]=E[k][0].toUpperCase():_==="capitalized"&&(E[k][0]=E[k][0].substr(0,1).toUpperCase()+E[k][0].substr(1)),!f.hasFlag(E[k][0],"NOSUGGEST")&&L.indexOf(E[k][0])==-1?L.push(E[k][0]):I++;return L}return this.memoized[r]={suggestions:p(r),limit:n},this.memoized[r].suggestions}}})(),t.exports=e})(ere);var c_e=ere.exports,nH=c_e;function Gn(t){if(t=t||{},typeof t.codeMirrorInstance!="function"||typeof t.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),t.codeMirrorInstance.defineMode("spell-checker",function(e){if(!Gn.aff_loading){Gn.aff_loading=!0;var r=new XMLHttpRequest;r.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),r.onload=function(){r.readyState===4&&r.status===200&&(Gn.aff_data=r.responseText,Gn.num_loaded++,Gn.num_loaded==2&&(Gn.typo=new nH("en_US",Gn.aff_data,Gn.dic_data,{platform:"any"})))},r.send(null)}if(!Gn.dic_loading){Gn.dic_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),n.onload=function(){n.readyState===4&&n.status===200&&(Gn.dic_data=n.responseText,Gn.num_loaded++,Gn.num_loaded==2&&(Gn.typo=new nH("en_US",Gn.aff_data,Gn.dic_data,{platform:"any"})))},n.send(null)}var i='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',a={token:function(o){var l=o.peek(),u="";if(i.includes(l))return o.next(),null;for(;(l=o.peek())!=null&&!i.includes(l);)u+=l,o.next();return Gn.typo&&!Gn.typo.check(u)?"spell-error":null}},s=t.codeMirrorInstance.getMode(e,e.backdrop||"text/plain");return t.codeMirrorInstance.overlayMode(s,a,!0)})}Gn.num_loaded=0;Gn.aff_loading=!1;Gn.dic_loading=!1;Gn.aff_data="";Gn.dic_data="";Gn.typo;var h_e=Gn,tre={};(function(t){function e(me,Te){for(var fe=0;fe<Te.length;fe++){var W=Te[fe];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(me,l(W.key),W)}}function r(me,Te,fe){return Te&&e(me.prototype,Te),fe&&e(me,fe),Object.defineProperty(me,"prototype",{writable:!1}),me}function n(){return n=Object.assign?Object.assign.bind():function(me){for(var Te=1;Te<arguments.length;Te++){var fe=arguments[Te];for(var W in fe)Object.prototype.hasOwnProperty.call(fe,W)&&(me[W]=fe[W])}return me},n.apply(this,arguments)}function i(me,Te){if(me){if(typeof me=="string")return a(me,Te);var fe=Object.prototype.toString.call(me).slice(8,-1);if(fe==="Object"&&me.constructor&&(fe=me.constructor.name),fe==="Map"||fe==="Set")return Array.from(me);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return a(me,Te)}}function a(me,Te){(Te==null||Te>me.length)&&(Te=me.length);for(var fe=0,W=new Array(Te);fe<Te;fe++)W[fe]=me[fe];return W}function s(me,Te){var fe=typeof Symbol<"u"&&me[Symbol.iterator]||me["@@iterator"];if(fe)return(fe=fe.call(me)).next.bind(fe);if(Array.isArray(me)||(fe=i(me))||Te&&me&&typeof me.length=="number"){fe&&(me=fe);var W=0;return function(){return W>=me.length?{done:!0}:{done:!1,value:me[W++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(me,Te){if(typeof me!="object"||me===null)return me;var fe=me[Symbol.toPrimitive];if(fe!==void 0){var W=fe.call(me,Te||"default");if(typeof W!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Te==="string"?String:Number)(me)}function l(me){var Te=o(me,"string");return typeof Te=="symbol"?Te:String(Te)}function u(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.defaults=u();function h(me){t.defaults=me}var f=/[&<>"']/,d=new RegExp(f.source,"g"),p=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,v=new RegExp(p.source,"g"),m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},x=function(Te){return m[Te]};function y(me,Te){if(Te){if(f.test(me))return me.replace(d,x)}else if(p.test(me))return me.replace(v,x);return me}var w=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function k(me){return me.replace(w,function(Te,fe){return fe=fe.toLowerCase(),fe==="colon"?":":fe.charAt(0)==="#"?fe.charAt(1)==="x"?String.fromCharCode(parseInt(fe.substring(2),16)):String.fromCharCode(+fe.substring(1)):""})}var E=/(^|[^\[])\^/g;function C(me,Te){me=typeof me=="string"?me:me.source,Te=Te||"";var fe={replace:function(j,ie){return ie=ie.source||ie,ie=ie.replace(E,"$1"),me=me.replace(j,ie),fe},getRegex:function(){return new RegExp(me,Te)}};return fe}var L=/[^\w:]/g,_=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function I(me,Te,fe){if(me){var W;try{W=decodeURIComponent(k(fe)).replace(L,"").toLowerCase()}catch{return null}if(W.indexOf("javascript:")===0||W.indexOf("vbscript:")===0||W.indexOf("data:")===0)return null}Te&&!_.test(fe)&&(fe=V(Te,fe));try{fe=encodeURI(fe).replace(/%25/g,"%")}catch{return null}return fe}var M={},F=/^[^:]+:\/*[^/]*$/,N=/^([^:]+:)[\s\S]*$/,z=/^([^:]+:\/*[^/]*)[\s\S]*$/;function V(me,Te){M[" "+me]||(F.test(me)?M[" "+me]=me+"/":M[" "+me]=P(me,"/",!0)),me=M[" "+me];var fe=me.indexOf(":")===-1;return Te.substring(0,2)==="//"?fe?Te:me.replace(N,"$1")+Te:Te.charAt(0)==="/"?fe?Te:me.replace(z,"$1")+Te:me+Te}var D={exec:function(){}};function O(me,Te){var fe=me.replace(/\|/g,function(ie,ee,le){for(var _e=!1,ke=ee;--ke>=0&&le[ke]==="\\";)_e=!_e;return _e?"|":" |"}),W=fe.split(/ \|/),j=0;if(W[0].trim()||W.shift(),W.length>0&&!W[W.length-1].trim()&&W.pop(),W.length>Te)W.splice(Te);else for(;W.length<Te;)W.push("");for(;j<W.length;j++)W[j]=W[j].trim().replace(/\\\|/g,"|");return W}function P(me,Te,fe){var W=me.length;if(W===0)return"";for(var j=0;j<W;){var ie=me.charAt(W-j-1);if(ie===Te&&!fe)j++;else if(ie!==Te&&fe)j++;else break}return me.slice(0,W-j)}function $(me,Te){if(me.indexOf(Te[1])===-1)return-1;for(var fe=me.length,W=0,j=0;j<fe;j++)if(me[j]==="\\")j++;else if(me[j]===Te[0])W++;else if(me[j]===Te[1]&&(W--,W<0))return j;return-1}function B(me){me&&me.sanitize&&!me.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function H(me,Te){if(Te<1)return"";for(var fe="";Te>1;)Te&1&&(fe+=me),Te>>=1,me+=me;return fe+me}function X(me,Te,fe,W){var j=Te.href,ie=Te.title?y(Te.title):null,ee=me[1].replace(/\\([\[\]])/g,"$1");if(me[0].charAt(0)!=="!"){W.state.inLink=!0;var le={type:"link",raw:fe,href:j,title:ie,text:ee,tokens:W.inlineTokens(ee)};return W.state.inLink=!1,le}return{type:"image",raw:fe,href:j,title:ie,text:y(ee)}}function q(me,Te){var fe=me.match(/^(\s+)(?:```)/);if(fe===null)return Te;var W=fe[1];return Te.split(`
`).map(function(j){var ie=j.match(/^\s+/);if(ie===null)return j;var ee=ie[0];return ee.length>=W.length?j.slice(W.length):j}).join(`
`)}var Y=function(){function me(fe){this.options=fe||t.defaults}var Te=me.prototype;return Te.space=function(W){var j=this.rules.block.newline.exec(W);if(j&&j[0].length>0)return{type:"space",raw:j[0]}},Te.code=function(W){var j=this.rules.block.code.exec(W);if(j){var ie=j[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:j[0],codeBlockStyle:"indented",text:this.options.pedantic?ie:P(ie,`
`)}}},Te.fences=function(W){var j=this.rules.block.fences.exec(W);if(j){var ie=j[0],ee=q(ie,j[3]||"");return{type:"code",raw:ie,lang:j[2]?j[2].trim().replace(this.rules.inline._escapes,"$1"):j[2],text:ee}}},Te.heading=function(W){var j=this.rules.block.heading.exec(W);if(j){var ie=j[2].trim();if(/#$/.test(ie)){var ee=P(ie,"#");(this.options.pedantic||!ee||/ $/.test(ee))&&(ie=ee.trim())}return{type:"heading",raw:j[0],depth:j[1].length,text:ie,tokens:this.lexer.inline(ie)}}},Te.hr=function(W){var j=this.rules.block.hr.exec(W);if(j)return{type:"hr",raw:j[0]}},Te.blockquote=function(W){var j=this.rules.block.blockquote.exec(W);if(j){var ie=j[0].replace(/^ *>[ \t]?/gm,""),ee=this.lexer.state.top;this.lexer.state.top=!0;var le=this.lexer.blockTokens(ie);return this.lexer.state.top=ee,{type:"blockquote",raw:j[0],tokens:le,text:ie}}},Te.list=function(W){var j=this.rules.block.list.exec(W);if(j){var ie,ee,le,_e,ke,Le,Oe,Me,Ie,Fe,Ne,He,it=j[1].trim(),lt=it.length>1,ft={type:"list",raw:"",ordered:lt,start:lt?+it.slice(0,-1):"",loose:!1,items:[]};it=lt?"\\d{1,9}\\"+it.slice(-1):"\\"+it,this.options.pedantic&&(it=lt?it:"[*+-]");for(var gt=new RegExp("^( {0,3}"+it+")((?:[	 ][^\\n]*)?(?:\\n|$))");W&&(He=!1,!(!(j=gt.exec(W))||this.rules.block.hr.test(W)));){if(ie=j[0],W=W.substring(ie.length),Me=j[2].split(`
`,1)[0].replace(/^\t+/,function(xt){return" ".repeat(3*xt.length)}),Ie=W.split(`
`,1)[0],this.options.pedantic?(_e=2,Ne=Me.trimLeft()):(_e=j[2].search(/[^ ]/),_e=_e>4?1:_e,Ne=Me.slice(_e),_e+=j[1].length),Le=!1,!Me&&/^ *$/.test(Ie)&&(ie+=Ie+`
`,W=W.substring(Ie.length+1),He=!0),!He)for(var _t=new RegExp("^ {0,"+Math.min(3,_e-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),ct=new RegExp("^ {0,"+Math.min(3,_e-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),at=new RegExp("^ {0,"+Math.min(3,_e-1)+"}(?:```|~~~)"),Lt=new RegExp("^ {0,"+Math.min(3,_e-1)+"}#");W&&(Fe=W.split(`
`,1)[0],Ie=Fe,this.options.pedantic&&(Ie=Ie.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(at.test(Ie)||Lt.test(Ie)||_t.test(Ie)||ct.test(W)));){if(Ie.search(/[^ ]/)>=_e||!Ie.trim())Ne+=`
`+Ie.slice(_e);else{if(Le||Me.search(/[^ ]/)>=4||at.test(Me)||Lt.test(Me)||ct.test(Me))break;Ne+=`
`+Ie}!Le&&!Ie.trim()&&(Le=!0),ie+=Fe+`
`,W=W.substring(Fe.length+1),Me=Ie.slice(_e)}ft.loose||(Oe?ft.loose=!0:/\n *\n *$/.test(ie)&&(Oe=!0)),this.options.gfm&&(ee=/^\[[ xX]\] /.exec(Ne),ee&&(le=ee[0]!=="[ ] ",Ne=Ne.replace(/^\[[ xX]\] +/,""))),ft.items.push({type:"list_item",raw:ie,task:!!ee,checked:le,loose:!1,text:Ne}),ft.raw+=ie}ft.items[ft.items.length-1].raw=ie.trimRight(),ft.items[ft.items.length-1].text=Ne.trimRight(),ft.raw=ft.raw.trimRight();var ut=ft.items.length;for(ke=0;ke<ut;ke++)if(this.lexer.state.top=!1,ft.items[ke].tokens=this.lexer.blockTokens(ft.items[ke].text,[]),!ft.loose){var pt=ft.items[ke].tokens.filter(function(xt){return xt.type==="space"}),Zt=pt.length>0&&pt.some(function(xt){return/\n.*\n/.test(xt.raw)});ft.loose=Zt}if(ft.loose)for(ke=0;ke<ut;ke++)ft.items[ke].loose=!0;return ft}},Te.html=function(W){var j=this.rules.block.html.exec(W);if(j){var ie={type:"html",raw:j[0],pre:!this.options.sanitizer&&(j[1]==="pre"||j[1]==="script"||j[1]==="style"),text:j[0]};if(this.options.sanitize){var ee=this.options.sanitizer?this.options.sanitizer(j[0]):y(j[0]);ie.type="paragraph",ie.text=ee,ie.tokens=this.lexer.inline(ee)}return ie}},Te.def=function(W){var j=this.rules.block.def.exec(W);if(j){var ie=j[1].toLowerCase().replace(/\s+/g," "),ee=j[2]?j[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",le=j[3]?j[3].substring(1,j[3].length-1).replace(this.rules.inline._escapes,"$1"):j[3];return{type:"def",tag:ie,raw:j[0],href:ee,title:le}}},Te.table=function(W){var j=this.rules.block.table.exec(W);if(j){var ie={type:"table",header:O(j[1]).map(function(Oe){return{text:Oe}}),align:j[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:j[3]&&j[3].trim()?j[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(ie.header.length===ie.align.length){ie.raw=j[0];var ee=ie.align.length,le,_e,ke,Le;for(le=0;le<ee;le++)/^ *-+: *$/.test(ie.align[le])?ie.align[le]="right":/^ *:-+: *$/.test(ie.align[le])?ie.align[le]="center":/^ *:-+ *$/.test(ie.align[le])?ie.align[le]="left":ie.align[le]=null;for(ee=ie.rows.length,le=0;le<ee;le++)ie.rows[le]=O(ie.rows[le],ie.header.length).map(function(Oe){return{text:Oe}});for(ee=ie.header.length,_e=0;_e<ee;_e++)ie.header[_e].tokens=this.lexer.inline(ie.header[_e].text);for(ee=ie.rows.length,_e=0;_e<ee;_e++)for(Le=ie.rows[_e],ke=0;ke<Le.length;ke++)Le[ke].tokens=this.lexer.inline(Le[ke].text);return ie}}},Te.lheading=function(W){var j=this.rules.block.lheading.exec(W);if(j)return{type:"heading",raw:j[0],depth:j[2].charAt(0)==="="?1:2,text:j[1],tokens:this.lexer.inline(j[1])}},Te.paragraph=function(W){var j=this.rules.block.paragraph.exec(W);if(j){var ie=j[1].charAt(j[1].length-1)===`
`?j[1].slice(0,-1):j[1];return{type:"paragraph",raw:j[0],text:ie,tokens:this.lexer.inline(ie)}}},Te.text=function(W){var j=this.rules.block.text.exec(W);if(j)return{type:"text",raw:j[0],text:j[0],tokens:this.lexer.inline(j[0])}},Te.escape=function(W){var j=this.rules.inline.escape.exec(W);if(j)return{type:"escape",raw:j[0],text:y(j[1])}},Te.tag=function(W){var j=this.rules.inline.tag.exec(W);if(j)return!this.lexer.state.inLink&&/^<a /i.test(j[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(j[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(j[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(j[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:j[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(j[0]):y(j[0]):j[0]}},Te.link=function(W){var j=this.rules.inline.link.exec(W);if(j){var ie=j[2].trim();if(!this.options.pedantic&&/^</.test(ie)){if(!/>$/.test(ie))return;var ee=P(ie.slice(0,-1),"\\");if((ie.length-ee.length)%2===0)return}else{var le=$(j[2],"()");if(le>-1){var _e=j[0].indexOf("!")===0?5:4,ke=_e+j[1].length+le;j[2]=j[2].substring(0,le),j[0]=j[0].substring(0,ke).trim(),j[3]=""}}var Le=j[2],Oe="";if(this.options.pedantic){var Me=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Le);Me&&(Le=Me[1],Oe=Me[3])}else Oe=j[3]?j[3].slice(1,-1):"";return Le=Le.trim(),/^</.test(Le)&&(this.options.pedantic&&!/>$/.test(ie)?Le=Le.slice(1):Le=Le.slice(1,-1)),X(j,{href:Le&&Le.replace(this.rules.inline._escapes,"$1"),title:Oe&&Oe.replace(this.rules.inline._escapes,"$1")},j[0],this.lexer)}},Te.reflink=function(W,j){var ie;if((ie=this.rules.inline.reflink.exec(W))||(ie=this.rules.inline.nolink.exec(W))){var ee=(ie[2]||ie[1]).replace(/\s+/g," ");if(ee=j[ee.toLowerCase()],!ee){var le=ie[0].charAt(0);return{type:"text",raw:le,text:le}}return X(ie,ee,ie[0],this.lexer)}},Te.emStrong=function(W,j,ie){ie===void 0&&(ie="");var ee=this.rules.inline.emStrong.lDelim.exec(W);if(ee&&!(ee[3]&&ie.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var le=ee[1]||ee[2]||"";if(!le||le&&(ie===""||this.rules.inline.punctuation.exec(ie))){var _e=ee[0].length-1,ke,Le,Oe=_e,Me=0,Ie=ee[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ie.lastIndex=0,j=j.slice(-1*W.length+_e);(ee=Ie.exec(j))!=null;)if(ke=ee[1]||ee[2]||ee[3]||ee[4]||ee[5]||ee[6],!!ke){if(Le=ke.length,ee[3]||ee[4]){Oe+=Le;continue}else if((ee[5]||ee[6])&&_e%3&&!((_e+Le)%3)){Me+=Le;continue}if(Oe-=Le,!(Oe>0)){Le=Math.min(Le,Le+Oe+Me);var Fe=W.slice(0,_e+ee.index+(ee[0].length-ke.length)+Le);if(Math.min(_e,Le)%2){var Ne=Fe.slice(1,-1);return{type:"em",raw:Fe,text:Ne,tokens:this.lexer.inlineTokens(Ne)}}var He=Fe.slice(2,-2);return{type:"strong",raw:Fe,text:He,tokens:this.lexer.inlineTokens(He)}}}}}},Te.codespan=function(W){var j=this.rules.inline.code.exec(W);if(j){var ie=j[2].replace(/\n/g," "),ee=/[^ ]/.test(ie),le=/^ /.test(ie)&&/ $/.test(ie);return ee&&le&&(ie=ie.substring(1,ie.length-1)),ie=y(ie,!0),{type:"codespan",raw:j[0],text:ie}}},Te.br=function(W){var j=this.rules.inline.br.exec(W);if(j)return{type:"br",raw:j[0]}},Te.del=function(W){var j=this.rules.inline.del.exec(W);if(j)return{type:"del",raw:j[0],text:j[2],tokens:this.lexer.inlineTokens(j[2])}},Te.autolink=function(W,j){var ie=this.rules.inline.autolink.exec(W);if(ie){var ee,le;return ie[2]==="@"?(ee=y(this.options.mangle?j(ie[1]):ie[1]),le="mailto:"+ee):(ee=y(ie[1]),le=ee),{type:"link",raw:ie[0],text:ee,href:le,tokens:[{type:"text",raw:ee,text:ee}]}}},Te.url=function(W,j){var ie;if(ie=this.rules.inline.url.exec(W)){var ee,le;if(ie[2]==="@")ee=y(this.options.mangle?j(ie[0]):ie[0]),le="mailto:"+ee;else{var _e;do _e=ie[0],ie[0]=this.rules.inline._backpedal.exec(ie[0])[0];while(_e!==ie[0]);ee=y(ie[0]),ie[1]==="www."?le="http://"+ie[0]:le=ie[0]}return{type:"link",raw:ie[0],text:ee,href:le,tokens:[{type:"text",raw:ee,text:ee}]}}},Te.inlineText=function(W,j){var ie=this.rules.inline.text.exec(W);if(ie){var ee;return this.lexer.state.inRawBlock?ee=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ie[0]):y(ie[0]):ie[0]:ee=y(this.options.smartypants?j(ie[0]):ie[0]),{type:"text",raw:ie[0],text:ee}}},me}(),U={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:D,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};U._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,U._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,U.def=C(U.def).replace("label",U._label).replace("title",U._title).getRegex(),U.bullet=/(?:[*+-]|\d{1,9}[.)])/,U.listItemStart=C(/^( *)(bull) */).replace("bull",U.bullet).getRegex(),U.list=C(U.list).replace(/bull/g,U.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+U.def.source+")").getRegex(),U._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",U._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,U.html=C(U.html,"i").replace("comment",U._comment).replace("tag",U._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),U.paragraph=C(U._paragraph).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U._tag).getRegex(),U.blockquote=C(U.blockquote).replace("paragraph",U.paragraph).getRegex(),U.normal=n({},U),U.gfm=n({},U.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),U.gfm.table=C(U.gfm.table).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U._tag).getRegex(),U.gfm.paragraph=C(U._paragraph).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",U.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U._tag).getRegex(),U.pedantic=n({},U.normal,{html:C(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",U._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:D,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:C(U.normal._paragraph).replace("hr",U.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",U.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var J={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:D,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:D,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};J._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",J.punctuation=C(J.punctuation).replace(/punctuation/g,J._punctuation).getRegex(),J.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,J.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,J._comment=C(U._comment).replace("(?:-->|$)","-->").getRegex(),J.emStrong.lDelim=C(J.emStrong.lDelim).replace(/punct/g,J._punctuation).getRegex(),J.emStrong.rDelimAst=C(J.emStrong.rDelimAst,"g").replace(/punct/g,J._punctuation).getRegex(),J.emStrong.rDelimUnd=C(J.emStrong.rDelimUnd,"g").replace(/punct/g,J._punctuation).getRegex(),J._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,J._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,J._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,J.autolink=C(J.autolink).replace("scheme",J._scheme).replace("email",J._email).getRegex(),J._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,J.tag=C(J.tag).replace("comment",J._comment).replace("attribute",J._attribute).getRegex(),J._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,J._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,J._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,J.link=C(J.link).replace("label",J._label).replace("href",J._href).replace("title",J._title).getRegex(),J.reflink=C(J.reflink).replace("label",J._label).replace("ref",U._label).getRegex(),J.nolink=C(J.nolink).replace("ref",U._label).getRegex(),J.reflinkSearch=C(J.reflinkSearch,"g").replace("reflink",J.reflink).replace("nolink",J.nolink).getRegex(),J.normal=n({},J),J.pedantic=n({},J.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:C(/^!?\[(label)\]\((.*?)\)/).replace("label",J._label).getRegex(),reflink:C(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",J._label).getRegex()}),J.gfm=n({},J.normal,{escape:C(J.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),J.gfm.url=C(J.gfm.url,"i").replace("email",J.gfm._extended_email).getRegex(),J.breaks=n({},J.gfm,{br:C(J.br).replace("{2,}","*").getRegex(),text:C(J.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function ce(me){return me.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function re(me){var Te="",fe,W,j=me.length;for(fe=0;fe<j;fe++)W=me.charCodeAt(fe),Math.random()>.5&&(W="x"+W.toString(16)),Te+="&#"+W+";";return Te}var ve=function(){function me(fe){this.tokens=[],this.tokens.links=Object.create(null),this.options=fe||t.defaults,this.options.tokenizer=this.options.tokenizer||new Y,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var W={block:U.normal,inline:J.normal};this.options.pedantic?(W.block=U.pedantic,W.inline=J.pedantic):this.options.gfm&&(W.block=U.gfm,this.options.breaks?W.inline=J.breaks:W.inline=J.gfm),this.tokenizer.rules=W}me.lex=function(W,j){var ie=new me(j);return ie.lex(W)},me.lexInline=function(W,j){var ie=new me(j);return ie.inlineTokens(W)};var Te=me.prototype;return Te.lex=function(W){W=W.replace(/\r\n|\r/g,`
`),this.blockTokens(W,this.tokens);for(var j;j=this.inlineQueue.shift();)this.inlineTokens(j.src,j.tokens);return this.tokens},Te.blockTokens=function(W,j){var ie=this;j===void 0&&(j=[]),this.options.pedantic?W=W.replace(/\t/g,"    ").replace(/^ +$/gm,""):W=W.replace(/^( *)(\t+)/gm,function(Oe,Me,Ie){return Me+"    ".repeat(Ie.length)});for(var ee,le,_e,ke;W;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Oe){return(ee=Oe.call({lexer:ie},W,j))?(W=W.substring(ee.raw.length),j.push(ee),!0):!1}))){if(ee=this.tokenizer.space(W)){W=W.substring(ee.raw.length),ee.raw.length===1&&j.length>0?j[j.length-1].raw+=`
`:j.push(ee);continue}if(ee=this.tokenizer.code(W)){W=W.substring(ee.raw.length),le=j[j.length-1],le&&(le.type==="paragraph"||le.type==="text")?(le.raw+=`
`+ee.raw,le.text+=`
`+ee.text,this.inlineQueue[this.inlineQueue.length-1].src=le.text):j.push(ee);continue}if(ee=this.tokenizer.fences(W)){W=W.substring(ee.raw.length),j.push(ee);continue}if(ee=this.tokenizer.heading(W)){W=W.substring(ee.raw.length),j.push(ee);continue}if(ee=this.tokenizer.hr(W)){W=W.substring(ee.raw.length),j.push(ee);continue}if(ee=this.tokenizer.blockquote(W)){W=W.substring(ee.raw.length),j.push(ee);continue}if(ee=this.tokenizer.list(W)){W=W.substring(ee.raw.length),j.push(ee);continue}if(ee=this.tokenizer.html(W)){W=W.substring(ee.raw.length),j.push(ee);continue}if(ee=this.tokenizer.def(W)){W=W.substring(ee.raw.length),le=j[j.length-1],le&&(le.type==="paragraph"||le.type==="text")?(le.raw+=`
`+ee.raw,le.text+=`
`+ee.raw,this.inlineQueue[this.inlineQueue.length-1].src=le.text):this.tokens.links[ee.tag]||(this.tokens.links[ee.tag]={href:ee.href,title:ee.title});continue}if(ee=this.tokenizer.table(W)){W=W.substring(ee.raw.length),j.push(ee);continue}if(ee=this.tokenizer.lheading(W)){W=W.substring(ee.raw.length),j.push(ee);continue}if(_e=W,this.options.extensions&&this.options.extensions.startBlock&&function(){var Oe=1/0,Me=W.slice(1),Ie=void 0;ie.options.extensions.startBlock.forEach(function(Fe){Ie=Fe.call({lexer:this},Me),typeof Ie=="number"&&Ie>=0&&(Oe=Math.min(Oe,Ie))}),Oe<1/0&&Oe>=0&&(_e=W.substring(0,Oe+1))}(),this.state.top&&(ee=this.tokenizer.paragraph(_e))){le=j[j.length-1],ke&&le.type==="paragraph"?(le.raw+=`
`+ee.raw,le.text+=`
`+ee.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=le.text):j.push(ee),ke=_e.length!==W.length,W=W.substring(ee.raw.length);continue}if(ee=this.tokenizer.text(W)){W=W.substring(ee.raw.length),le=j[j.length-1],le&&le.type==="text"?(le.raw+=`
`+ee.raw,le.text+=`
`+ee.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=le.text):j.push(ee);continue}if(W){var Le="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(Le);break}else throw new Error(Le)}}return this.state.top=!0,j},Te.inline=function(W,j){return j===void 0&&(j=[]),this.inlineQueue.push({src:W,tokens:j}),j},Te.inlineTokens=function(W,j){var ie=this;j===void 0&&(j=[]);var ee,le,_e,ke=W,Le,Oe,Me;if(this.tokens.links){var Ie=Object.keys(this.tokens.links);if(Ie.length>0)for(;(Le=this.tokenizer.rules.inline.reflinkSearch.exec(ke))!=null;)Ie.includes(Le[0].slice(Le[0].lastIndexOf("[")+1,-1))&&(ke=ke.slice(0,Le.index)+"["+H("a",Le[0].length-2)+"]"+ke.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Le=this.tokenizer.rules.inline.blockSkip.exec(ke))!=null;)ke=ke.slice(0,Le.index)+"["+H("a",Le[0].length-2)+"]"+ke.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Le=this.tokenizer.rules.inline.escapedEmSt.exec(ke))!=null;)ke=ke.slice(0,Le.index+Le[0].length-2)+"++"+ke.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;W;)if(Oe||(Me=""),Oe=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ne){return(ee=Ne.call({lexer:ie},W,j))?(W=W.substring(ee.raw.length),j.push(ee),!0):!1}))){if(ee=this.tokenizer.escape(W)){W=W.substring(ee.raw.length),j.push(ee);continue}if(ee=this.tokenizer.tag(W)){W=W.substring(ee.raw.length),le=j[j.length-1],le&&ee.type==="text"&&le.type==="text"?(le.raw+=ee.raw,le.text+=ee.text):j.push(ee);continue}if(ee=this.tokenizer.link(W)){W=W.substring(ee.raw.length),j.push(ee);continue}if(ee=this.tokenizer.reflink(W,this.tokens.links)){W=W.substring(ee.raw.length),le=j[j.length-1],le&&ee.type==="text"&&le.type==="text"?(le.raw+=ee.raw,le.text+=ee.text):j.push(ee);continue}if(ee=this.tokenizer.emStrong(W,ke,Me)){W=W.substring(ee.raw.length),j.push(ee);continue}if(ee=this.tokenizer.codespan(W)){W=W.substring(ee.raw.length),j.push(ee);continue}if(ee=this.tokenizer.br(W)){W=W.substring(ee.raw.length),j.push(ee);continue}if(ee=this.tokenizer.del(W)){W=W.substring(ee.raw.length),j.push(ee);continue}if(ee=this.tokenizer.autolink(W,re)){W=W.substring(ee.raw.length),j.push(ee);continue}if(!this.state.inLink&&(ee=this.tokenizer.url(W,re))){W=W.substring(ee.raw.length),j.push(ee);continue}if(_e=W,this.options.extensions&&this.options.extensions.startInline&&function(){var Ne=1/0,He=W.slice(1),it=void 0;ie.options.extensions.startInline.forEach(function(lt){it=lt.call({lexer:this},He),typeof it=="number"&&it>=0&&(Ne=Math.min(Ne,it))}),Ne<1/0&&Ne>=0&&(_e=W.substring(0,Ne+1))}(),ee=this.tokenizer.inlineText(_e,ce)){W=W.substring(ee.raw.length),ee.raw.slice(-1)!=="_"&&(Me=ee.raw.slice(-1)),Oe=!0,le=j[j.length-1],le&&le.type==="text"?(le.raw+=ee.raw,le.text+=ee.text):j.push(ee);continue}if(W){var Fe="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(Fe);break}else throw new Error(Fe)}}return j},r(me,null,[{key:"rules",get:function(){return{block:U,inline:J}}}]),me}(),ye=function(){function me(fe){this.options=fe||t.defaults}var Te=me.prototype;return Te.code=function(W,j,ie){var ee=(j||"").match(/\S*/)[0];if(this.options.highlight){var le=this.options.highlight(W,ee);le!=null&&le!==W&&(ie=!0,W=le)}return W=W.replace(/\n$/,"")+`
`,ee?'<pre><code class="'+this.options.langPrefix+y(ee)+'">'+(ie?W:y(W,!0))+`</code></pre>
`:"<pre><code>"+(ie?W:y(W,!0))+`</code></pre>
`},Te.blockquote=function(W){return`<blockquote>
`+W+`</blockquote>
`},Te.html=function(W){return W},Te.heading=function(W,j,ie,ee){if(this.options.headerIds){var le=this.options.headerPrefix+ee.slug(ie);return"<h"+j+' id="'+le+'">'+W+"</h"+j+`>
`}return"<h"+j+">"+W+"</h"+j+`>
`},Te.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Te.list=function(W,j,ie){var ee=j?"ol":"ul",le=j&&ie!==1?' start="'+ie+'"':"";return"<"+ee+le+`>
`+W+"</"+ee+`>
`},Te.listitem=function(W){return"<li>"+W+`</li>
`},Te.checkbox=function(W){return"<input "+(W?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Te.paragraph=function(W){return"<p>"+W+`</p>
`},Te.table=function(W,j){return j&&(j="<tbody>"+j+"</tbody>"),`<table>
<thead>
`+W+`</thead>
`+j+`</table>
`},Te.tablerow=function(W){return`<tr>
`+W+`</tr>
`},Te.tablecell=function(W,j){var ie=j.header?"th":"td",ee=j.align?"<"+ie+' align="'+j.align+'">':"<"+ie+">";return ee+W+("</"+ie+`>
`)},Te.strong=function(W){return"<strong>"+W+"</strong>"},Te.em=function(W){return"<em>"+W+"</em>"},Te.codespan=function(W){return"<code>"+W+"</code>"},Te.br=function(){return this.options.xhtml?"<br/>":"<br>"},Te.del=function(W){return"<del>"+W+"</del>"},Te.link=function(W,j,ie){if(W=I(this.options.sanitize,this.options.baseUrl,W),W===null)return ie;var ee='<a href="'+W+'"';return j&&(ee+=' title="'+j+'"'),ee+=">"+ie+"</a>",ee},Te.image=function(W,j,ie){if(W=I(this.options.sanitize,this.options.baseUrl,W),W===null)return ie;var ee='<img src="'+W+'" alt="'+ie+'"';return j&&(ee+=' title="'+j+'"'),ee+=this.options.xhtml?"/>":">",ee},Te.text=function(W){return W},me}(),Z=function(){function me(){}var Te=me.prototype;return Te.strong=function(W){return W},Te.em=function(W){return W},Te.codespan=function(W){return W},Te.del=function(W){return W},Te.html=function(W){return W},Te.text=function(W){return W},Te.link=function(W,j,ie){return""+ie},Te.image=function(W,j,ie){return""+ie},Te.br=function(){return""},me}(),ue=function(){function me(){this.seen={}}var Te=me.prototype;return Te.serialize=function(W){return W.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Te.getNextSafeSlug=function(W,j){var ie=W,ee=0;if(this.seen.hasOwnProperty(ie)){ee=this.seen[W];do ee++,ie=W+"-"+ee;while(this.seen.hasOwnProperty(ie))}return j||(this.seen[W]=ee,this.seen[ie]=0),ie},Te.slug=function(W,j){j===void 0&&(j={});var ie=this.serialize(W);return this.getNextSafeSlug(ie,j.dryrun)},me}(),ae=function(){function me(fe){this.options=fe||t.defaults,this.options.renderer=this.options.renderer||new ye,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Z,this.slugger=new ue}me.parse=function(W,j){var ie=new me(j);return ie.parse(W)},me.parseInline=function(W,j){var ie=new me(j);return ie.parseInline(W)};var Te=me.prototype;return Te.parse=function(W,j){j===void 0&&(j=!0);var ie="",ee,le,_e,ke,Le,Oe,Me,Ie,Fe,Ne,He,it,lt,ft,gt,_t,ct,at,Lt,ut=W.length;for(ee=0;ee<ut;ee++){if(Ne=W[ee],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ne.type]&&(Lt=this.options.extensions.renderers[Ne.type].call({parser:this},Ne),Lt!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ne.type))){ie+=Lt||"";continue}switch(Ne.type){case"space":continue;case"hr":{ie+=this.renderer.hr();continue}case"heading":{ie+=this.renderer.heading(this.parseInline(Ne.tokens),Ne.depth,k(this.parseInline(Ne.tokens,this.textRenderer)),this.slugger);continue}case"code":{ie+=this.renderer.code(Ne.text,Ne.lang,Ne.escaped);continue}case"table":{for(Ie="",Me="",ke=Ne.header.length,le=0;le<ke;le++)Me+=this.renderer.tablecell(this.parseInline(Ne.header[le].tokens),{header:!0,align:Ne.align[le]});for(Ie+=this.renderer.tablerow(Me),Fe="",ke=Ne.rows.length,le=0;le<ke;le++){for(Oe=Ne.rows[le],Me="",Le=Oe.length,_e=0;_e<Le;_e++)Me+=this.renderer.tablecell(this.parseInline(Oe[_e].tokens),{header:!1,align:Ne.align[_e]});Fe+=this.renderer.tablerow(Me)}ie+=this.renderer.table(Ie,Fe);continue}case"blockquote":{Fe=this.parse(Ne.tokens),ie+=this.renderer.blockquote(Fe);continue}case"list":{for(He=Ne.ordered,it=Ne.start,lt=Ne.loose,ke=Ne.items.length,Fe="",le=0;le<ke;le++)gt=Ne.items[le],_t=gt.checked,ct=gt.task,ft="",gt.task&&(at=this.renderer.checkbox(_t),lt?gt.tokens.length>0&&gt.tokens[0].type==="paragraph"?(gt.tokens[0].text=at+" "+gt.tokens[0].text,gt.tokens[0].tokens&&gt.tokens[0].tokens.length>0&&gt.tokens[0].tokens[0].type==="text"&&(gt.tokens[0].tokens[0].text=at+" "+gt.tokens[0].tokens[0].text)):gt.tokens.unshift({type:"text",text:at}):ft+=at),ft+=this.parse(gt.tokens,lt),Fe+=this.renderer.listitem(ft,ct,_t);ie+=this.renderer.list(Fe,He,it);continue}case"html":{ie+=this.renderer.html(Ne.text);continue}case"paragraph":{ie+=this.renderer.paragraph(this.parseInline(Ne.tokens));continue}case"text":{for(Fe=Ne.tokens?this.parseInline(Ne.tokens):Ne.text;ee+1<ut&&W[ee+1].type==="text";)Ne=W[++ee],Fe+=`
`+(Ne.tokens?this.parseInline(Ne.tokens):Ne.text);ie+=j?this.renderer.paragraph(Fe):Fe;continue}default:{var pt='Token with "'+Ne.type+'" type was not found.';if(this.options.silent){console.error(pt);return}else throw new Error(pt)}}}return ie},Te.parseInline=function(W,j){j=j||this.renderer;var ie="",ee,le,_e,ke=W.length;for(ee=0;ee<ke;ee++){if(le=W[ee],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[le.type]&&(_e=this.options.extensions.renderers[le.type].call({parser:this},le),_e!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(le.type))){ie+=_e||"";continue}switch(le.type){case"escape":{ie+=j.text(le.text);break}case"html":{ie+=j.html(le.text);break}case"link":{ie+=j.link(le.href,le.title,this.parseInline(le.tokens,j));break}case"image":{ie+=j.image(le.href,le.title,le.text);break}case"strong":{ie+=j.strong(this.parseInline(le.tokens,j));break}case"em":{ie+=j.em(this.parseInline(le.tokens,j));break}case"codespan":{ie+=j.codespan(le.text);break}case"br":{ie+=j.br();break}case"del":{ie+=j.del(this.parseInline(le.tokens,j));break}case"text":{ie+=j.text(le.text);break}default:{var Le='Token with "'+le.type+'" type was not found.';if(this.options.silent){console.error(Le);return}else throw new Error(Le)}}}return ie},me}(),pe=function(){function me(fe){this.options=fe||t.defaults}var Te=me.prototype;return Te.preprocess=function(W){return W},Te.postprocess=function(W){return W},me}();pe.passThroughHooks=new Set(["preprocess","postprocess"]);function Ee(me,Te,fe){return function(W){if(W.message+=`
Please report this to https://github.com/markedjs/marked.`,me){var j="<p>An error occurred:</p><pre>"+y(W.message+"",!0)+"</pre>";if(Te)return Promise.resolve(j);if(fe){fe(null,j);return}return j}if(Te)return Promise.reject(W);if(fe){fe(W);return}throw W}}function Se(me,Te){return function(fe,W,j){typeof W=="function"&&(j=W,W=null);var ie=n({},W);W=n({},de.defaults,ie);var ee=Ee(W.silent,W.async,j);if(typeof fe>"u"||fe===null)return ee(new Error("marked(): input parameter is undefined or null"));if(typeof fe!="string")return ee(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(fe)+", string expected"));if(B(W),W.hooks&&(W.hooks.options=W),j){var le=W.highlight,_e;try{W.hooks&&(fe=W.hooks.preprocess(fe)),_e=me(fe,W)}catch(Ie){return ee(Ie)}var ke=function(Fe){var Ne;if(!Fe)try{W.walkTokens&&de.walkTokens(_e,W.walkTokens),Ne=Te(_e,W),W.hooks&&(Ne=W.hooks.postprocess(Ne))}catch(He){Fe=He}return W.highlight=le,Fe?ee(Fe):j(null,Ne)};if(!le||le.length<3||(delete W.highlight,!_e.length))return ke();var Le=0;de.walkTokens(_e,function(Ie){Ie.type==="code"&&(Le++,setTimeout(function(){le(Ie.text,Ie.lang,function(Fe,Ne){if(Fe)return ke(Fe);Ne!=null&&Ne!==Ie.text&&(Ie.text=Ne,Ie.escaped=!0),Le--,Le===0&&ke()})},0))}),Le===0&&ke();return}if(W.async)return Promise.resolve(W.hooks?W.hooks.preprocess(fe):fe).then(function(Ie){return me(Ie,W)}).then(function(Ie){return W.walkTokens?Promise.all(de.walkTokens(Ie,W.walkTokens)).then(function(){return Ie}):Ie}).then(function(Ie){return Te(Ie,W)}).then(function(Ie){return W.hooks?W.hooks.postprocess(Ie):Ie}).catch(ee);try{W.hooks&&(fe=W.hooks.preprocess(fe));var Oe=me(fe,W);W.walkTokens&&de.walkTokens(Oe,W.walkTokens);var Me=Te(Oe,W);return W.hooks&&(Me=W.hooks.postprocess(Me)),Me}catch(Ie){return ee(Ie)}}}function de(me,Te,fe){return Se(ve.lex,ae.parse)(me,Te,fe)}de.options=de.setOptions=function(me){return de.defaults=n({},de.defaults,me),h(de.defaults),de},de.getDefaults=u,de.defaults=t.defaults,de.use=function(){for(var me=de.defaults.extensions||{renderers:{},childTokens:{}},Te=arguments.length,fe=new Array(Te),W=0;W<Te;W++)fe[W]=arguments[W];fe.forEach(function(j){var ie=n({},j);if(ie.async=de.defaults.async||ie.async||!1,j.extensions&&(j.extensions.forEach(function(le){if(!le.name)throw new Error("extension name required");if(le.renderer){var _e=me.renderers[le.name];_e?me.renderers[le.name]=function(){for(var ke=arguments.length,Le=new Array(ke),Oe=0;Oe<ke;Oe++)Le[Oe]=arguments[Oe];var Me=le.renderer.apply(this,Le);return Me===!1&&(Me=_e.apply(this,Le)),Me}:me.renderers[le.name]=le.renderer}if(le.tokenizer){if(!le.level||le.level!=="block"&&le.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");me[le.level]?me[le.level].unshift(le.tokenizer):me[le.level]=[le.tokenizer],le.start&&(le.level==="block"?me.startBlock?me.startBlock.push(le.start):me.startBlock=[le.start]:le.level==="inline"&&(me.startInline?me.startInline.push(le.start):me.startInline=[le.start]))}le.childTokens&&(me.childTokens[le.name]=le.childTokens)}),ie.extensions=me),j.renderer&&function(){var le=de.defaults.renderer||new ye,_e=function(Oe){var Me=le[Oe];le[Oe]=function(){for(var Ie=arguments.length,Fe=new Array(Ie),Ne=0;Ne<Ie;Ne++)Fe[Ne]=arguments[Ne];var He=j.renderer[Oe].apply(le,Fe);return He===!1&&(He=Me.apply(le,Fe)),He}};for(var ke in j.renderer)_e(ke);ie.renderer=le}(),j.tokenizer&&function(){var le=de.defaults.tokenizer||new Y,_e=function(Oe){var Me=le[Oe];le[Oe]=function(){for(var Ie=arguments.length,Fe=new Array(Ie),Ne=0;Ne<Ie;Ne++)Fe[Ne]=arguments[Ne];var He=j.tokenizer[Oe].apply(le,Fe);return He===!1&&(He=Me.apply(le,Fe)),He}};for(var ke in j.tokenizer)_e(ke);ie.tokenizer=le}(),j.hooks&&function(){var le=de.defaults.hooks||new pe,_e=function(Oe){var Me=le[Oe];pe.passThroughHooks.has(Oe)?le[Oe]=function(Ie){if(de.defaults.async)return Promise.resolve(j.hooks[Oe].call(le,Ie)).then(function(Ne){return Me.call(le,Ne)});var Fe=j.hooks[Oe].call(le,Ie);return Me.call(le,Fe)}:le[Oe]=function(){for(var Ie=arguments.length,Fe=new Array(Ie),Ne=0;Ne<Ie;Ne++)Fe[Ne]=arguments[Ne];var He=j.hooks[Oe].apply(le,Fe);return He===!1&&(He=Me.apply(le,Fe)),He}};for(var ke in j.hooks)_e(ke);ie.hooks=le}(),j.walkTokens){var ee=de.defaults.walkTokens;ie.walkTokens=function(le){var _e=[];return _e.push(j.walkTokens.call(this,le)),ee&&(_e=_e.concat(ee.call(this,le))),_e}}de.setOptions(ie)})},de.walkTokens=function(me,Te){for(var fe=[],W=function(){var le=ie.value;switch(fe=fe.concat(Te.call(de,le)),le.type){case"table":{for(var _e=s(le.header),ke;!(ke=_e()).done;){var Le=ke.value;fe=fe.concat(de.walkTokens(Le.tokens,Te))}for(var Oe=s(le.rows),Me;!(Me=Oe()).done;)for(var Ie=Me.value,Fe=s(Ie),Ne;!(Ne=Fe()).done;){var He=Ne.value;fe=fe.concat(de.walkTokens(He.tokens,Te))}break}case"list":{fe=fe.concat(de.walkTokens(le.items,Te));break}default:de.defaults.extensions&&de.defaults.extensions.childTokens&&de.defaults.extensions.childTokens[le.type]?de.defaults.extensions.childTokens[le.type].forEach(function(it){fe=fe.concat(de.walkTokens(le[it],Te))}):le.tokens&&(fe=fe.concat(de.walkTokens(le.tokens,Te)))}},j=s(me),ie;!(ie=j()).done;)W();return fe},de.parseInline=Se(ve.lexInline,ae.parseInline),de.Parser=ae,de.parser=ae.parse,de.Renderer=ye,de.TextRenderer=Z,de.Lexer=ve,de.lexer=ve.lex,de.Tokenizer=Y,de.Slugger=ue,de.Hooks=pe,de.parse=de;var be=de.options,oe=de.setOptions,we=de.use,Re=de.walkTokens,Pe=de.parseInline,Ge=de,je=ae.parse,We=ve.lex;t.Hooks=pe,t.Lexer=ve,t.Parser=ae,t.Renderer=ye,t.Slugger=ue,t.TextRenderer=Z,t.Tokenizer=Y,t.getDefaults=u,t.lexer=We,t.marked=de,t.options=be,t.parse=Ge,t.parseInline=Pe,t.parser=je,t.setOptions=oe,t.use=we,t.walkTokens=Re})(tre);var Gp=qo,f_e=h_e,s8=tre.marked,rre=/Mac/.test(navigator.platform),d_e=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),w2={toggleBold:WE,toggleItalic:qE,drawLink:nT,toggleHeadingSmaller:k2,toggleHeadingBigger:KE,drawImage:iT,toggleBlockquote:jE,toggleOrderedList:tT,toggleUnorderedList:eT,toggleCodeBlock:XE,togglePreview:uT,toggleStrikethrough:YE,toggleHeading1:QE,toggleHeading2:ZE,toggleHeading3:JE,toggleHeading4:FM,toggleHeading5:PM,toggleHeading6:BM,cleanBlock:rT,drawTable:aT,drawHorizontalRule:sT,undo:oT,redo:lT,toggleSideBySide:nv,toggleFullScreen:C0},p_e={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},g_e=function(t){for(var e in w2)if(w2[e]===t)return e;return null},T9=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t};function v_e(t){for(var e;(e=d_e.exec(t))!==null;){var r=e[0];if(r.indexOf("target=")===-1){var n=r.replace(/>$/,' target="_blank">');t=t.replace(r,n)}}return t}function m_e(t){for(var e=new DOMParser,r=e.parseFromString(t,"text/html"),n=r.getElementsByTagName("li"),i=0;i<n.length;i++)for(var a=n[i],s=0;s<a.children.length;s++){var o=a.children[s];o instanceof HTMLInputElement&&o.type==="checkbox"&&(a.style.marginLeft="-1.5em",a.style.listStyleType="none")}return r.documentElement.innerHTML}function nre(t){return rre?t=t.replace("Ctrl","Cmd"):t=t.replace("Cmd","Ctrl"),t}function y_e(t,e,r,n){var i=Aw(t,!1,e,r,"button",n);i.classList.add("easymde-dropdown"),i.onclick=function(){i.focus()};var a=document.createElement("div");a.className="easymde-dropdown-content";for(var s=0;s<t.children.length;s++){var o=t.children[s],l;typeof o=="string"&&o in o0?l=Aw(o0[o],!0,e,r,"button",n):l=Aw(o,!0,e,r,"button",n),l.addEventListener("click",function(u){u.stopPropagation()},!1),a.appendChild(l)}return i.appendChild(a),i}function Aw(t,e,r,n,i,a){t=t||{};var s=document.createElement(i);if(t.attributes)for(var o in t.attributes)Object.prototype.hasOwnProperty.call(t.attributes,o)&&s.setAttribute(o,t.attributes[o]);var l=a.options.toolbarButtonClassPrefix?a.options.toolbarButtonClassPrefix+"-":"";s.className=l+t.name,s.setAttribute("type",i),r=r??!0,t.text&&(s.innerText=t.text),t.name&&t.name in n&&(w2[t.name]=t.action),t.title&&r&&(s.title=b_e(t.title,t.action,n),rre&&(s.title=s.title.replace("Ctrl","⌘"),s.title=s.title.replace("Alt","⌥"))),t.title&&s.setAttribute("aria-label",t.title),t.noDisable&&s.classList.add("no-disable"),t.noMobile&&s.classList.add("no-mobile");var u=[];typeof t.className<"u"&&(u=t.className.split(" "));for(var h=[],f=0;f<u.length;f++){var d=u[f];d.match(/^fa([srlb]|(-[\w-]*)|$)/)?h.push(d):s.classList.add(d)}if(s.tabIndex=-1,h.length>0){for(var p=document.createElement("i"),v=0;v<h.length;v++){var m=h[v];p.classList.add(m)}s.appendChild(p)}return typeof t.icon<"u"&&(s.innerHTML=t.icon),t.action&&e&&(typeof t.action=="function"?s.onclick=function(x){x.preventDefault(),t.action(a)}:typeof t.action=="string"&&(s.onclick=function(x){x.preventDefault(),window.open(t.action,"_blank")})),s}function x_e(){var t=document.createElement("i");return t.className="separator",t.innerHTML="|",t}function b_e(t,e,r){var n,i=t;return e&&(n=g_e(e),r[n]&&(i+=" ("+nre(r[n])+")")),i}function Jf(t,e){e=e||t.getCursor("start");var r=t.getTokenAt(e);if(!r.type)return{};for(var n=r.type.split(" "),i={},a,s,o=0;o<n.length;o++)a=n[o],a==="strong"?i.bold=!0:a==="variable-2"?(s=t.getLine(e.line),/^\s*\d+\.\s/.test(s)?i["ordered-list"]=!0:i["unordered-list"]=!0):a==="atom"?i.quote=!0:a==="em"?i.italic=!0:a==="quote"?i.quote=!0:a==="strikethrough"?i.strikethrough=!0:a==="comment"?i.code=!0:a==="link"&&!i.image?i.link=!0:a==="image"?i.image=!0:a.match(/^header(-[1-6])?$/)&&(i[a.replace("header","heading")]=!0);return i}var iH="";function C0(t){var e=t.codemirror;e.setOption("fullScreen",!e.getOption("fullScreen")),e.getOption("fullScreen")?(iH=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=iH;var r=e.getWrapperElement(),n=r.nextSibling;if(n.classList.contains("editor-preview-active-side"))if(t.options.sideBySideFullscreen===!1){var i=r.parentNode;e.getOption("fullScreen")?i.classList.remove("sided--no-fullscreen"):i.classList.add("sided--no-fullscreen")}else nv(t);if(t.options.onToggleFullScreen&&t.options.onToggleFullScreen(e.getOption("fullScreen")||!1),typeof t.options.maxHeight<"u"&&(e.getOption("fullScreen")?(e.getScrollerElement().style.removeProperty("height"),n.style.removeProperty("height")):(e.getScrollerElement().style.height=t.options.maxHeight,t.setPreviewMaxHeight())),t.toolbar_div.classList.toggle("fullscreen"),t.toolbarElements&&t.toolbarElements.fullscreen){var a=t.toolbarElements.fullscreen;a.classList.toggle("active")}}function WE(t){HM(t,"bold",t.options.blockStyles.bold)}function qE(t){HM(t,"italic",t.options.blockStyles.italic)}function YE(t){HM(t,"strikethrough","~~")}function XE(t){var e=t.options.blockStyles.code;function r(D){if(typeof D!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof D+": "+D;return D.styles&&D.styles[2]&&D.styles[2].indexOf("formatting-code-block")!==-1}function n(D){return D.state.base.base||D.state.base}function i(D,O,P,$,B){P=P||D.getLineHandle(O),$=$||D.getTokenAt({line:O,ch:1}),B=B||!!P.text&&D.getTokenAt({line:O,ch:P.text.length-1});var H=$.type?$.type.split(" "):[];return B&&n(B).indentedCode?"indented":H.indexOf("comment")===-1?!1:n($).fencedChars||n(B).fencedChars||r(P)?"fenced":"single"}function a(D,O,P,$){var B=O.line+1,H=P.line+1,X=O.line!==P.line,q=$+`
`,Y=`
`+$;X&&H++,X&&P.ch===0&&(Y=$+`
`,H--),A0(D,!1,[q,Y]),D.setSelection({line:B,ch:0},{line:H,ch:0})}var s=t.codemirror,o=s.getCursor("start"),l=s.getCursor("end"),u=s.getTokenAt({line:o.line,ch:o.ch||1}),h=s.getLineHandle(o.line),f=i(s,o.line,h,u),d,p,v;if(f==="single"){var m=h.text.slice(0,o.ch).replace("`",""),x=h.text.slice(o.ch).replace("`","");s.replaceRange(m+x,{line:o.line,ch:0},{line:o.line,ch:99999999999999}),o.ch--,o!==l&&l.ch--,s.setSelection(o,l),s.focus()}else if(f==="fenced")if(o.line!==l.line||o.ch!==l.ch){for(d=o.line;d>=0&&(h=s.getLineHandle(d),!r(h));d--);var y=s.getTokenAt({line:d,ch:1}),w=n(y).fencedChars,k,E,C,L;r(s.getLineHandle(o.line))?(k="",E=o.line):r(s.getLineHandle(o.line-1))?(k="",E=o.line-1):(k=w+`
`,E=o.line),r(s.getLineHandle(l.line))?(C="",L=l.line,l.ch===0&&(L+=1)):l.ch!==0&&r(s.getLineHandle(l.line+1))?(C="",L=l.line+1):(C=w+`
`,L=l.line+1),l.ch===0&&(L-=1),s.operation(function(){s.replaceRange(C,{line:L,ch:0},{line:L+(C?0:1),ch:0}),s.replaceRange(k,{line:E,ch:0},{line:E+(k?0:1),ch:0})}),s.setSelection({line:E+(k?1:0),ch:0},{line:L+(k?1:-1),ch:0}),s.focus()}else{var _=o.line;if(r(s.getLineHandle(o.line))&&(i(s,o.line+1)==="fenced"?(d=o.line,_=o.line+1):(p=o.line,_=o.line-1)),d===void 0)for(d=_;d>=0&&(h=s.getLineHandle(d),!r(h));d--);if(p===void 0)for(v=s.lineCount(),p=_;p<v&&(h=s.getLineHandle(p),!r(h));p++);s.operation(function(){s.replaceRange("",{line:d,ch:0},{line:d+1,ch:0}),s.replaceRange("",{line:p-1,ch:0},{line:p,ch:0})}),s.focus()}else if(f==="indented"){if(o.line!==l.line||o.ch!==l.ch)d=o.line,p=l.line,l.ch===0&&p--;else{for(d=o.line;d>=0;d--)if(h=s.getLineHandle(d),!h.text.match(/^\s*$/)&&i(s,d,h)!=="indented"){d+=1;break}for(v=s.lineCount(),p=o.line;p<v;p++)if(h=s.getLineHandle(p),!h.text.match(/^\s*$/)&&i(s,p,h)!=="indented"){p-=1;break}}var I=s.getLineHandle(p+1),M=I&&s.getTokenAt({line:p+1,ch:I.text.length-1}),F=M&&n(M).indentedCode;F&&s.replaceRange(`
`,{line:p+1,ch:0});for(var N=d;N<=p;N++)s.indentLine(N,"subtract");s.focus()}else{var z=o.line===l.line&&o.ch===l.ch&&o.ch===0,V=o.line!==l.line;z||V?a(s,o,l,e):A0(s,!1,["`","`"])}}function jE(t){zM(t.codemirror,"quote")}function k2(t){ed(t.codemirror,"smaller")}function KE(t){ed(t.codemirror,"bigger")}function QE(t){ed(t.codemirror,void 0,1)}function ZE(t){ed(t.codemirror,void 0,2)}function JE(t){ed(t.codemirror,void 0,3)}function FM(t){ed(t.codemirror,void 0,4)}function PM(t){ed(t.codemirror,void 0,5)}function BM(t){ed(t.codemirror,void 0,6)}function eT(t){var e=t.codemirror,r="*";["-","+","*"].includes(t.options.unorderedListStyle)&&(r=t.options.unorderedListStyle),zM(e,"unordered-list",r)}function tT(t){zM(t.codemirror,"ordered-list")}function rT(t){w_e(t.codemirror)}function nT(t){var e=t.options,r="https://";if(e.promptURLs){var n=prompt(e.promptTexts.link,r);if(!n)return!1;r=ire(n)}sre(t,"link",e.insertTexts.link,r)}function iT(t){var e=t.options,r="https://";if(e.promptURLs){var n=prompt(e.promptTexts.image,r);if(!n)return!1;r=ire(n)}sre(t,"image",e.insertTexts.image,r)}function ire(t){return encodeURI(t).replace(/([\\()])/g,"\\$1")}function $M(t){t.openBrowseFileWindow()}function are(t,e){var r=t.codemirror,n=Jf(r),i=t.options,a=e.substr(e.lastIndexOf("/")+1),s=a.substring(a.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(s))A0(r,n.image,i.insertTexts.uploadedImage,e);else{var o=i.insertTexts.link;o[0]="["+a,A0(r,n.link,o,e)}t.updateStatusBar("upload-image",t.options.imageTexts.sbOnUploaded.replace("#image_name#",a)),setTimeout(function(){t.updateStatusBar("upload-image",t.options.imageTexts.sbInit)},1e3)}function aT(t){var e=t.codemirror,r=Jf(e),n=t.options;A0(e,r.table,n.insertTexts.table)}function sT(t){var e=t.codemirror,r=Jf(e),n=t.options;A0(e,r.image,n.insertTexts.horizontalRule)}function oT(t){var e=t.codemirror;e.undo(),e.focus()}function lT(t){var e=t.codemirror;e.redo(),e.focus()}function nv(t){var e=t.codemirror,r=e.getWrapperElement(),n=r.nextSibling,i=t.toolbarElements&&t.toolbarElements["side-by-side"],a=!1,s=r.parentNode;n.classList.contains("editor-preview-active-side")?(t.options.sideBySideFullscreen===!1&&s.classList.remove("sided--no-fullscreen"),n.classList.remove("editor-preview-active-side"),i&&i.classList.remove("active"),r.classList.remove("CodeMirror-sided")):(setTimeout(function(){e.getOption("fullScreen")||(t.options.sideBySideFullscreen===!1?s.classList.add("sided--no-fullscreen"):C0(t)),n.classList.add("editor-preview-active-side")},1),i&&i.classList.add("active"),r.classList.add("CodeMirror-sided"),a=!0);var o=r.lastChild;if(o.classList.contains("editor-preview-active")){o.classList.remove("editor-preview-active");var l=t.toolbarElements.preview,u=t.toolbar_div;l.classList.remove("active"),u.classList.remove("disabled-for-preview")}var h=function(){var d=t.options.previewRender(t.value(),n);d!=null&&(n.innerHTML=d)};if(e.sideBySideRenderingFunction||(e.sideBySideRenderingFunction=h),a){var f=t.options.previewRender(t.value(),n);f!=null&&(n.innerHTML=f),e.on("update",e.sideBySideRenderingFunction)}else e.off("update",e.sideBySideRenderingFunction);e.refresh()}function uT(t){var e=t.codemirror,r=e.getWrapperElement(),n=t.toolbar_div,i=t.options.toolbar?t.toolbarElements.preview:!1,a=r.lastChild,s=e.getWrapperElement().nextSibling;if(s.classList.contains("editor-preview-active-side")&&nv(t),!a||!a.classList.contains("editor-preview-full")){if(a=document.createElement("div"),a.className="editor-preview-full",t.options.previewClass)if(Array.isArray(t.options.previewClass))for(var o=0;o<t.options.previewClass.length;o++)a.classList.add(t.options.previewClass[o]);else typeof t.options.previewClass=="string"&&a.classList.add(t.options.previewClass);r.appendChild(a)}a.classList.contains("editor-preview-active")?(a.classList.remove("editor-preview-active"),i&&(i.classList.remove("active"),n.classList.remove("disabled-for-preview"))):(setTimeout(function(){a.classList.add("editor-preview-active")},1),i&&(i.classList.add("active"),n.classList.add("disabled-for-preview")));var l=t.options.previewRender(t.value(),a);l!==null&&(a.innerHTML=l)}function A0(t,e,r,n){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var i,a=r[0],s=r[1],o={},l={};Object.assign(o,t.getCursor("start")),Object.assign(l,t.getCursor("end")),n&&(a=a.replace("#url#",n),s=s.replace("#url#",n)),e?(i=t.getLine(o.line),a=i.slice(0,o.ch),s=i.slice(o.ch),t.replaceRange(a+s,{line:o.line,ch:0})):(i=t.getSelection(),t.replaceSelection(a+i+s),o.ch+=a.length,o!==l&&(l.ch+=a.length)),t.setSelection(o,l),t.focus()}}function ed(t,e,r){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var n=t.getCursor("start"),i=t.getCursor("end"),a=n.line;a<=i.line;a++)(function(s){var o=t.getLine(s),l=o.search(/[^#]/);e!==void 0?l<=0?e=="bigger"?o="###### "+o:o="# "+o:l==6&&e=="smaller"?o=o.substr(7):l==1&&e=="bigger"?o=o.substr(2):e=="bigger"?o=o.substr(1):o="#"+o:l<=0?o="#".repeat(r)+" "+o:l==r?o=o.substr(l+1):o="#".repeat(r)+" "+o.substr(l+1),t.replaceRange(o,{line:s,ch:0},{line:s,ch:99999999999999})})(a);t.focus()}}function zM(t,e,r){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var n=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,i=/^\s*/,a=Jf(t),s=t.getCursor("start"),o=t.getCursor("end"),l={quote:/^(\s*)>\s+/,"unordered-list":n,"ordered-list":n},u=function(v,m){var x={quote:">","unordered-list":r,"ordered-list":"%%i."};return x[v].replace("%%i",m)},h=function(v,m){var x={quote:">","unordered-list":"\\"+r,"ordered-list":"\\d+."},y=new RegExp(x[v]);return m&&y.test(m)},f=function(v,m,x){var y=n.exec(m),w=u(v,d);return y!==null?(h(v,y[2])&&(w=""),m=y[1]+w+y[3]+m.replace(i,"").replace(l[v],"$1")):x==!1&&(m=w+" "+m),m},d=1,p=s.line;p<=o.line;p++)(function(v){var m=t.getLine(v);a[e]?m=m.replace(l[e],"$1"):(e=="unordered-list"&&(m=f("ordered-list",m,!0)),m=f(e,m,!1),d+=1),t.replaceRange(m,{line:v,ch:0},{line:v,ch:99999999999999})})(p);t.focus()}}function sre(t,e,r,n){if(!(!t.codemirror||t.isPreviewActive())){var i=t.codemirror,a=Jf(i),s=a[e];if(!s){A0(i,s,r,n);return}var o=i.getCursor("start"),l=i.getCursor("end"),u=i.getLine(o.line),h=u.slice(0,o.ch),f=u.slice(o.ch);e=="link"?h=h.replace(/(.*)[^!]\[/,"$1"):e=="image"&&(h=h.replace(/(.*)!\[$/,"$1")),f=f.replace(/]\(.*?\)/,""),i.replaceRange(h+f,{line:o.line,ch:0},{line:o.line,ch:99999999999999}),o.ch-=r[0].length,o!==l&&(l.ch-=r[0].length),i.setSelection(o,l),i.focus()}}function HM(t,e,r,n){if(!(!t.codemirror||t.isPreviewActive())){n=typeof n>"u"?r:n;var i=t.codemirror,a=Jf(i),s,o=r,l=n,u=i.getCursor("start"),h=i.getCursor("end");a[e]?(s=i.getLine(u.line),o=s.slice(0,u.ch),l=s.slice(u.ch),e=="bold"?(o=o.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),l=l.replace(/(\*\*|__)/,"")):e=="italic"?(o=o.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),l=l.replace(/(\*|_)/,"")):e=="strikethrough"&&(o=o.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),l=l.replace(/(\*\*|~~)/,"")),i.replaceRange(o+l,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),e=="bold"||e=="strikethrough"?(u.ch-=2,u!==h&&(h.ch-=2)):e=="italic"&&(u.ch-=1,u!==h&&(h.ch-=1))):(s=i.getSelection(),e=="bold"?(s=s.split("**").join(""),s=s.split("__").join("")):e=="italic"?(s=s.split("*").join(""),s=s.split("_").join("")):e=="strikethrough"&&(s=s.split("~~").join("")),i.replaceSelection(o+s+l),u.ch+=r.length,h.ch=u.ch+s.length),i.setSelection(u,h),i.focus()}}function w_e(t){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var e=t.getCursor("start"),r=t.getCursor("end"),n,i=e.line;i<=r.line;i++)n=t.getLine(i),n=n.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),t.replaceRange(n,{line:i,ch:0},{line:i,ch:99999999999999})}function Ek(t,e){if(Math.abs(t)<1024)return""+t+e[0];var r=0;do t/=1024,++r;while(Math.abs(t)>=1024&&r<e.length);return""+t.toFixed(1)+e[r]}function ore(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]instanceof Array?t[r]=e[r].concat(t[r]instanceof Array?t[r]:[]):e[r]!==null&&typeof e[r]=="object"&&e[r].constructor===Object?t[r]=ore(t[r]||{},e[r]):t[r]=e[r]);return t}function xc(t){for(var e=1;e<arguments.length;e++)t=ore(t,arguments[e]);return t}function aH(t){var e=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,r=t.match(e),n=0;if(r===null)return n;for(var i=0;i<r.length;i++)r[i].charCodeAt(0)>=19968?n+=r[i].length:n+=1;return n}var In={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},o0={bold:{name:"bold",action:WE,className:In.bold,title:"Bold",default:!0},italic:{name:"italic",action:qE,className:In.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:YE,className:In.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:k2,className:In.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:k2,className:In["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:KE,className:In["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:QE,className:In["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:ZE,className:In["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:JE,className:In["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:XE,className:In.code,title:"Code"},quote:{name:"quote",action:jE,className:In.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:eT,className:In["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:tT,className:In["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:rT,className:In["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:nT,className:In.link,title:"Create Link",default:!0},image:{name:"image",action:iT,className:In.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:$M,className:In["upload-image"],title:"Import an image"},table:{name:"table",action:aT,className:In.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:sT,className:In["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:uT,className:In.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:nv,className:In["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:C0,className:In.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:In.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:oT,className:In.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:lT,className:In.redo,noDisable:!0,title:"Redo"}},k_e={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},S_e={link:"URL for the link:",image:"URL of the image:"},E_e={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},T_e={bold:"**",code:"```",italic:"*"},C_e={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},A_e={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function Gt(t){t=t||{},t.parent=this;var e=!0;if(t.autoDownloadFontAwesome===!1&&(e=!1),t.autoDownloadFontAwesome!==!0)for(var r=document.styleSheets,n=0;n<r.length;n++)r[n].href&&r[n].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(e=!1);if(e){var i=document.createElement("link");i.rel="stylesheet",i.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(i)}if(t.element)this.element=t.element;else if(t.element===null){console.log("EasyMDE: Error. No element was found.");return}if(t.toolbar===void 0){t.toolbar=[];for(var a in o0)Object.prototype.hasOwnProperty.call(o0,a)&&(a.indexOf("separator-")!=-1&&t.toolbar.push("|"),(o0[a].default===!0||t.showIcons&&t.showIcons.constructor===Array&&t.showIcons.indexOf(a)!=-1)&&t.toolbar.push(a))}if(Object.prototype.hasOwnProperty.call(t,"previewClass")||(t.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(t,"status")||(t.status=["autosave","lines","words","cursor"],t.uploadImage&&t.status.unshift("upload-image")),t.previewRender||(t.previewRender=function(o){return this.parent.markdown(o)}),t.parsingConfig=xc({highlightFormatting:!0},t.parsingConfig||{}),t.insertTexts=xc({},k_e,t.insertTexts||{}),t.promptTexts=xc({},S_e,t.promptTexts||{}),t.blockStyles=xc({},T_e,t.blockStyles||{}),t.autosave!=null&&(t.autosave.timeFormat=xc({},E_e,t.autosave.timeFormat||{})),t.iconClassMap=xc({},In,t.iconClassMap||{}),t.shortcuts=xc({},p_e,t.shortcuts||{}),t.maxHeight=t.maxHeight||void 0,t.direction=t.direction||"ltr",typeof t.maxHeight<"u"?t.minHeight=t.maxHeight:t.minHeight=t.minHeight||"300px",t.errorCallback=t.errorCallback||function(o){alert(o)},t.uploadImage=t.uploadImage||!1,t.imageMaxSize=t.imageMaxSize||2097152,t.imageAccept=t.imageAccept||"image/png, image/jpeg, image/gif, image/avif",t.imageTexts=xc({},C_e,t.imageTexts||{}),t.errorMessages=xc({},A_e,t.errorMessages||{}),t.imagePathAbsolute=t.imagePathAbsolute||!1,t.imageCSRFName=t.imageCSRFName||"csrfmiddlewaretoken",t.imageCSRFHeader=t.imageCSRFHeader||!1,t.autosave!=null&&t.autosave.unique_id!=null&&t.autosave.unique_id!=""&&(t.autosave.uniqueId=t.autosave.unique_id),t.overlayMode&&t.overlayMode.combine===void 0&&(t.overlayMode.combine=!0),this.options=t,this.render(),t.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(t.initialValue),t.uploadImage){var s=this;this.codemirror.on("dragenter",function(o,l){s.updateStatusBar("upload-image",s.options.imageTexts.sbOnDragEnter),l.stopPropagation(),l.preventDefault()}),this.codemirror.on("dragend",function(o,l){s.updateStatusBar("upload-image",s.options.imageTexts.sbInit),l.stopPropagation(),l.preventDefault()}),this.codemirror.on("dragleave",function(o,l){s.updateStatusBar("upload-image",s.options.imageTexts.sbInit),l.stopPropagation(),l.preventDefault()}),this.codemirror.on("dragover",function(o,l){s.updateStatusBar("upload-image",s.options.imageTexts.sbOnDragEnter),l.stopPropagation(),l.preventDefault()}),this.codemirror.on("drop",function(o,l){l.stopPropagation(),l.preventDefault(),t.imageUploadFunction?s.uploadImagesUsingCustomFunction(t.imageUploadFunction,l.dataTransfer.files):s.uploadImages(l.dataTransfer.files)}),this.codemirror.on("paste",function(o,l){t.imageUploadFunction?s.uploadImagesUsingCustomFunction(t.imageUploadFunction,l.clipboardData.files):s.uploadImages(l.clipboardData.files)})}}Gt.prototype.uploadImages=function(t,e,r){if(t.length!==0){for(var n=[],i=0;i<t.length;i++)n.push(t[i].name),this.uploadImage(t[i],e,r);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",n.join(", ")))}};Gt.prototype.uploadImagesUsingCustomFunction=function(t,e){if(e.length!==0){for(var r=[],n=0;n<e.length;n++)r.push(e[n].name),this.uploadImageUsingCustomFunction(t,e[n]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",r.join(", ")))}};Gt.prototype.updateStatusBar=function(t,e){if(this.gui.statusbar){var r=this.gui.statusbar.getElementsByClassName(t);r.length===1?this.gui.statusbar.getElementsByClassName(t)[0].textContent=e:r.length===0?console.log("EasyMDE: status bar item "+t+" was not found."):console.log("EasyMDE: Several status bar items named "+t+" was found.")}};Gt.prototype.markdown=function(t){if(s8){var e;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?e=this.options.renderingConfig.markedOptions:e={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?e.breaks=!1:e.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var r=this.options.renderingConfig.hljs||window.hljs;r&&(e.highlight=function(i,a){return a&&r.getLanguage(a)?r.highlight(a,i).value:r.highlightAuto(i).value})}s8.setOptions(e);var n=s8.parse(t);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(n=this.options.renderingConfig.sanitizerFunction.call(this,n)),n=v_e(n),n=m_e(n),n}};Gt.prototype.render=function(t){if(t||(t=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===t)return;this.element=t;var e=this.options,r=this,n={};for(var i in e.shortcuts)e.shortcuts[i]!==null&&w2[i]!==null&&function(x){n[nre(e.shortcuts[x])]=function(){var y=w2[x];typeof y=="function"?y(r):typeof y=="string"&&window.open(y,"_blank")}}(i);n.Enter="newlineAndIndentContinueMarkdownList",n.Tab="tabAndIndentMarkdownList",n["Shift-Tab"]="shiftTabAndUnindentMarkdownList",n.Esc=function(x){x.getOption("fullScreen")&&C0(r)},this.documentOnKeyDown=function(x){x=x||window.event,x.keyCode==27&&r.codemirror.getOption("fullScreen")&&C0(r)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var a,s;e.overlayMode?(Gp.defineMode("overlay-mode",function(x){return Gp.overlayMode(Gp.getMode(x,e.spellChecker!==!1?"spell-checker":"gfm"),e.overlayMode.mode,e.overlayMode.combine)}),a="overlay-mode",s=e.parsingConfig,s.gitHubSpice=!1):(a=e.parsingConfig,a.name="gfm",a.gitHubSpice=!1),e.spellChecker!==!1&&(a="spell-checker",s=e.parsingConfig,s.name="gfm",s.gitHubSpice=!1,typeof e.spellChecker=="function"?e.spellChecker({codeMirrorInstance:Gp}):f_e({codeMirrorInstance:Gp}));function o(x,y,w){return{addNew:!1}}if(this.codemirror=Gp.fromTextArea(t,{mode:a,backdrop:s,theme:e.theme!=null?e.theme:"easymde",tabSize:e.tabSize!=null?e.tabSize:2,indentUnit:e.tabSize!=null?e.tabSize:2,indentWithTabs:e.indentWithTabs!==!1,lineNumbers:e.lineNumbers===!0,autofocus:e.autofocus===!0,extraKeys:n,direction:e.direction,lineWrapping:e.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:e.placeholder||t.getAttribute("placeholder")||"",styleSelectedText:e.styleSelectedText!=null?e.styleSelectedText:!T9(),scrollbarStyle:e.scrollbarStyle!=null?e.scrollbarStyle:"native",configureMouse:o,inputStyle:e.inputStyle!=null?e.inputStyle:T9()?"contenteditable":"textarea",spellcheck:e.nativeSpellcheck!=null?e.nativeSpellcheck:!0,autoRefresh:e.autoRefresh!=null?e.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=e.minHeight,typeof e.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=e.maxHeight),e.forceSync===!0){var l=this.codemirror;l.on("change",function(){l.save()})}this.gui={};var u=document.createElement("div");u.classList.add("EasyMDEContainer"),u.setAttribute("role","application");var h=this.codemirror.getWrapperElement();h.parentNode.insertBefore(u,h),u.appendChild(h),e.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),e.status!==!1&&(this.gui.statusbar=this.createStatusbar()),e.autosave!=null&&e.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(r._autosave_timeout),r._autosave_timeout=setTimeout(function(){r.autosave()},r.options.autosave.submit_delay||r.options.autosave.delay||1e3)}));function f(x,y){var w,k=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return x<k?w=y+"px":w=y/x*100+"%",w}var d=this;function p(x,y){x.setAttribute("data-img-src",y.url),x.setAttribute("style","--bg-image:url("+y.url+");--width:"+y.naturalWidth+"px;--height:"+f(y.naturalWidth,y.naturalHeight)),d.codemirror.setSize()}function v(){e.previewImagesInEditor&&u.querySelectorAll(".cm-image-marker").forEach(function(x){var y=x.parentElement;if(y.innerText.match(/^!\[.*?\]\(.*\)/g)&&!y.hasAttribute("data-img-src")){var w=y.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),w&&w.length>=2){var k=w[1];if(e.imagesPreviewHandler){var E=e.imagesPreviewHandler(w[1]);typeof E=="string"&&(k=E)}if(window.EMDEimagesCache[k])p(y,window.EMDEimagesCache[k]);else{var C=document.createElement("img");C.onload=function(){window.EMDEimagesCache[k]={naturalWidth:C.naturalWidth,naturalHeight:C.naturalHeight,url:k},p(y,window.EMDEimagesCache[k])},C.src=k}}}})}this.codemirror.on("update",function(){v()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(e.autofocus===!0||t.autofocus)&&this.codemirror.focus();var m=this.codemirror;setTimeout((function(){m.refresh()}).bind(m),0)};Gt.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function lre(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}Gt.prototype.autosave=function(){if(lre()){var t=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(t.element.form!=null&&t.element.form!=null&&t.element.form.addEventListener("submit",function(){clearTimeout(t.autosaveTimeoutId),t.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+t.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var e=t.value();e!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,e):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var r=document.getElementById("autosaved");if(r!=null&&r!=null&&r!=""){var n=new Date,i=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(n),a=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;r.innerHTML=a+i}}else console.log("EasyMDE: localStorage not available, cannot autosave")};Gt.prototype.clearAutosavedValue=function(){if(lre()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};Gt.prototype.openBrowseFileWindow=function(t,e){var r=this,n=this.gui.toolbar.getElementsByClassName("imageInput")[0];n.click();function i(a){r.options.imageUploadFunction?r.uploadImagesUsingCustomFunction(r.options.imageUploadFunction,a.target.files):r.uploadImages(a.target.files,t,e),n.removeEventListener("change",i)}n.addEventListener("change",i)};Gt.prototype.uploadImage=function(t,e,r){var n=this;e=e||function(u){are(n,u)};function i(l){n.updateStatusBar("upload-image",l),setTimeout(function(){n.updateStatusBar("upload-image",n.options.imageTexts.sbInit)},1e4),r&&typeof r=="function"&&r(l),n.options.errorCallback(l)}function a(l){var u=n.options.imageTexts.sizeUnits.split(",");return l.replace("#image_name#",t.name).replace("#image_size#",Ek(t.size,u)).replace("#image_max_size#",Ek(n.options.imageMaxSize,u))}if(t.size>this.options.imageMaxSize){i(a(this.options.errorMessages.fileTooLarge));return}var s=new FormData;s.append("image",t),n.options.imageCSRFToken&&!n.options.imageCSRFHeader&&s.append(n.options.imageCSRFName,n.options.imageCSRFToken);var o=new XMLHttpRequest;o.upload.onprogress=function(l){if(l.lengthComputable){var u=""+Math.round(l.loaded*100/l.total);n.updateStatusBar("upload-image",n.options.imageTexts.sbProgress.replace("#file_name#",t.name).replace("#progress#",u))}},o.open("POST",this.options.imageUploadEndpoint),n.options.imageCSRFToken&&n.options.imageCSRFHeader&&o.setRequestHeader(n.options.imageCSRFName,n.options.imageCSRFToken),o.onload=function(){try{var l=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),i(a(n.options.errorMessages.importError));return}this.status===200&&l&&!l.error&&l.data&&l.data.filePath?e((n.options.imagePathAbsolute?"":window.location.origin+"/")+l.data.filePath):l.error&&l.error in n.options.errorMessages?i(a(n.options.errorMessages[l.error])):l.error?i(a(l.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),i(a(n.options.errorMessages.importError)))},o.onerror=function(l){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+l.target.status+" ("+l.target.statusText+")"),i(n.options.errorMessages.importError)},o.send(s)};Gt.prototype.uploadImageUsingCustomFunction=function(t,e){var r=this;function n(s){are(r,s)}function i(s){var o=a(s);r.updateStatusBar("upload-image",o),setTimeout(function(){r.updateStatusBar("upload-image",r.options.imageTexts.sbInit)},1e4),r.options.errorCallback(o)}function a(s){var o=r.options.imageTexts.sizeUnits.split(",");return s.replace("#image_name#",e.name).replace("#image_size#",Ek(e.size,o)).replace("#image_max_size#",Ek(r.options.imageMaxSize,o))}t.apply(this,[e,n,i])};Gt.prototype.setPreviewMaxHeight=function(){var t=this.codemirror,e=t.getWrapperElement(),r=e.nextSibling,n=parseInt(window.getComputedStyle(e).paddingTop),i=parseInt(window.getComputedStyle(e).borderTopWidth),a=parseInt(this.options.maxHeight),s=a+n*2+i*2,o=s.toString()+"px";r.style.height=o};Gt.prototype.createSideBySide=function(){var t=this.codemirror,e=t.getWrapperElement(),r=e.nextSibling;if(!r||!r.classList.contains("editor-preview-side")){if(r=document.createElement("div"),r.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var n=0;n<this.options.previewClass.length;n++)r.classList.add(this.options.previewClass[n]);else typeof this.options.previewClass=="string"&&r.classList.add(this.options.previewClass);e.parentNode.insertBefore(r,e.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return r;var i=!1,a=!1;return t.on("scroll",function(s){if(i){i=!1;return}a=!0;var o=s.getScrollInfo().height-s.getScrollInfo().clientHeight,l=parseFloat(s.getScrollInfo().top)/o,u=(r.scrollHeight-r.clientHeight)*l;r.scrollTop=u}),r.onscroll=function(){if(a){a=!1;return}i=!0;var s=r.scrollHeight-r.clientHeight,o=parseFloat(r.scrollTop)/s,l=(t.getScrollInfo().height-t.getScrollInfo().clientHeight)*o;t.scrollTo(0,l)},r};Gt.prototype.createToolbar=function(t){if(t=t||this.options.toolbar,!(!t||t.length===0)){var e;for(e=0;e<t.length;e++)o0[t[e]]!=null&&(t[e]=o0[t[e]]);var r=document.createElement("div");r.className="editor-toolbar",r.setAttribute("role","toolbar");var n=this,i={};for(n.toolbar=t,e=0;e<t.length;e++)if(!(t[e].name=="guide"&&n.options.toolbarGuideIcon===!1)&&!(n.options.hideIcons&&n.options.hideIcons.indexOf(t[e].name)!=-1)&&!((t[e].name=="fullscreen"||t[e].name=="side-by-side")&&T9())){if(t[e]==="|"){for(var a=!1,s=e+1;s<t.length;s++)t[s]!=="|"&&(!n.options.hideIcons||n.options.hideIcons.indexOf(t[s].name)==-1)&&(a=!0);if(!a)continue}(function(u){var h;if(u==="|"?h=x_e():u.children?h=y_e(u,n.options.toolbarTips,n.options.shortcuts,n):h=Aw(u,!0,n.options.toolbarTips,n.options.shortcuts,"button",n),i[u.name||u]=h,r.appendChild(h),u.name==="upload-image"){var f=document.createElement("input");f.className="imageInput",f.type="file",f.multiple=!0,f.name="image",f.accept=n.options.imageAccept,f.style.display="none",f.style.opacity=0,r.appendChild(f)}})(t[e])}n.toolbar_div=r,n.toolbarElements=i;var o=this.codemirror;o.on("cursorActivity",function(){var u=Jf(o);for(var h in i)(function(f){var d=i[f];u[f]?d.classList.add("active"):f!="fullscreen"&&f!="side-by-side"&&d.classList.remove("active")})(h)});var l=o.getWrapperElement();return l.parentNode.insertBefore(r,l),r}};Gt.prototype.createStatusbar=function(t){t=t||this.options.status;var e=this.options,r=this.codemirror;if(!(!t||t.length===0)){var n=[],i,a,s,o;for(i=0;i<t.length;i++)if(a=void 0,s=void 0,o=void 0,typeof t[i]=="object")n.push({className:t[i].className,defaultValue:t[i].defaultValue,onUpdate:t[i].onUpdate,onActivity:t[i].onActivity});else{var l=t[i];l==="words"?(o=function(p){p.innerHTML=aH(r.getValue())},a=function(p){p.innerHTML=aH(r.getValue())}):l==="lines"?(o=function(p){p.innerHTML=r.lineCount()},a=function(p){p.innerHTML=r.lineCount()}):l==="cursor"?(o=function(p){p.innerHTML="1:1"},s=function(p){var v=r.getCursor(),m=v.line+1,x=v.ch+1;p.innerHTML=m+":"+x}):l==="autosave"?o=function(p){e.autosave!=null&&e.autosave.enabled===!0&&p.setAttribute("id","autosaved")}:l==="upload-image"&&(o=function(p){p.innerHTML=e.imageTexts.sbInit}),n.push({className:l,defaultValue:o,onUpdate:a,onActivity:s})}var u=document.createElement("div");for(u.className="editor-statusbar",i=0;i<n.length;i++){var h=n[i],f=document.createElement("span");f.className=h.className,typeof h.defaultValue=="function"&&h.defaultValue(f),typeof h.onUpdate=="function"&&this.codemirror.on("update",function(p,v){return function(){v.onUpdate(p)}}(f,h)),typeof h.onActivity=="function"&&this.codemirror.on("cursorActivity",function(p,v){return function(){v.onActivity(p)}}(f,h)),u.appendChild(f)}var d=this.codemirror.getWrapperElement();return d.parentNode.insertBefore(u,d.nextSibling),u}};Gt.prototype.value=function(t){var e=this.codemirror;if(t===void 0)return e.getValue();if(e.getDoc().setValue(t),this.isPreviewActive()){var r=e.getWrapperElement(),n=r.lastChild,i=this.options.previewRender(t,n);i!==null&&(n.innerHTML=i)}return this};Gt.toggleBold=WE;Gt.toggleItalic=qE;Gt.toggleStrikethrough=YE;Gt.toggleBlockquote=jE;Gt.toggleHeadingSmaller=k2;Gt.toggleHeadingBigger=KE;Gt.toggleHeading1=QE;Gt.toggleHeading2=ZE;Gt.toggleHeading3=JE;Gt.toggleHeading4=FM;Gt.toggleHeading5=PM;Gt.toggleHeading6=BM;Gt.toggleCodeBlock=XE;Gt.toggleUnorderedList=eT;Gt.toggleOrderedList=tT;Gt.cleanBlock=rT;Gt.drawLink=nT;Gt.drawImage=iT;Gt.drawUploadedImage=$M;Gt.drawTable=aT;Gt.drawHorizontalRule=sT;Gt.undo=oT;Gt.redo=lT;Gt.togglePreview=uT;Gt.toggleSideBySide=nv;Gt.toggleFullScreen=C0;Gt.prototype.toggleBold=function(){WE(this)};Gt.prototype.toggleItalic=function(){qE(this)};Gt.prototype.toggleStrikethrough=function(){YE(this)};Gt.prototype.toggleBlockquote=function(){jE(this)};Gt.prototype.toggleHeadingSmaller=function(){k2(this)};Gt.prototype.toggleHeadingBigger=function(){KE(this)};Gt.prototype.toggleHeading1=function(){QE(this)};Gt.prototype.toggleHeading2=function(){ZE(this)};Gt.prototype.toggleHeading3=function(){JE(this)};Gt.prototype.toggleHeading4=function(){FM(this)};Gt.prototype.toggleHeading5=function(){PM(this)};Gt.prototype.toggleHeading6=function(){BM(this)};Gt.prototype.toggleCodeBlock=function(){XE(this)};Gt.prototype.toggleUnorderedList=function(){eT(this)};Gt.prototype.toggleOrderedList=function(){tT(this)};Gt.prototype.cleanBlock=function(){rT(this)};Gt.prototype.drawLink=function(){nT(this)};Gt.prototype.drawImage=function(){iT(this)};Gt.prototype.drawUploadedImage=function(){$M(this)};Gt.prototype.drawTable=function(){aT(this)};Gt.prototype.drawHorizontalRule=function(){sT(this)};Gt.prototype.undo=function(){oT(this)};Gt.prototype.redo=function(){lT(this)};Gt.prototype.togglePreview=function(){uT(this)};Gt.prototype.toggleSideBySide=function(){nv(this)};Gt.prototype.toggleFullScreen=function(){C0(this)};Gt.prototype.isPreviewActive=function(){var t=this.codemirror,e=t.getWrapperElement(),r=e.lastChild;return r.classList.contains("editor-preview-active")};Gt.prototype.isSideBySideActive=function(){var t=this.codemirror,e=t.getWrapperElement(),r=e.nextSibling;return r.classList.contains("editor-preview-active-side")};Gt.prototype.isFullscreenActive=function(){var t=this.codemirror;return t.getOption("fullScreen")};Gt.prototype.getState=function(){var t=this.codemirror;return Jf(t)};Gt.prototype.toTextArea=function(){var t=this.codemirror,e=t.getWrapperElement(),r=e.parentNode;r&&(this.gui.toolbar&&r.removeChild(this.gui.toolbar),this.gui.statusbar&&r.removeChild(this.gui.statusbar),this.gui.sideBySide&&r.removeChild(this.gui.sideBySide)),r.parentNode.insertBefore(e,r),r.remove(),t.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};var __e=Gt;const L_e=fh(__e);var D_e=0,R_e=()=>`simplemde-editor-${++D_e}`,M_e=({options:t,id:e,currentValueRef:r,textRef:n})=>{const[i,a]=Xe.useState(null),s=Xe.useCallback((u,h,f)=>{const d=t==null?void 0:t.imageUploadFunction;d&&d(u,v=>{h(v)},f)},[t==null?void 0:t.imageUploadFunction]),o=Xe.useRef(i);o.current=i,Xe.useEffect(()=>{let u;if(n){const h={element:n,initialValue:r.current},f=t!=null&&t.imageUploadFunction?s:void 0;u=new L_e(Object.assign({},h,t,{imageUploadFunction:f})),a(u)}return()=>{u==null||u.toTextArea(),u==null||u.cleanup()}},[n,r,e,s,t]);const l=Xe.useMemo(()=>i==null?void 0:i.codemirror,[i==null?void 0:i.codemirror]);return{editor:i,codemirror:l}},ure=Ct.forwardRef((t,e)=>{const{events:r,value:n,options:i,children:a,extraKeys:s,getLineAndCursor:o,getMdeInstance:l,getCodemirrorInstance:u,onChange:h,id:f,placeholder:d,textareaProps:p,...v}=t,m=Xe.useMemo(()=>f??R_e(),[f]),x=Xe.useRef(null),y=Xe.useRef(!0),w=Xe.useRef(n);w.current=n;const[k,E]=Xe.useState(null),{editor:C,codemirror:L}=M_e({options:i,id:m,currentValueRef:w,textRef:k});Xe.useEffect(()=>{y.current&&(C==null||C.value(n??"")),y.current=!0},[C,n]);const _=Xe.useCallback((F,N)=>{(C==null?void 0:C.value())!==w.current&&(y.current=!1,h==null||h((C==null?void 0:C.value())??"",N))},[C,h]);Xe.useEffect(()=>{i!=null&&i.autofocus&&(L==null||L.focus(),L==null||L.setCursor(L==null?void 0:L.lineCount(),0))},[L,i==null?void 0:i.autofocus]);const I=Xe.useCallback(()=>{L&&(o==null||o(L.getDoc().getCursor()))},[L,o]);Xe.useEffect(()=>{I()},[I]),Xe.useEffect(()=>{C&&(l==null||l(C))},[C,l]),Xe.useEffect(()=>{L&&(u==null||u(L))},[L,u,l]),Xe.useEffect(()=>{s&&L&&L.setOption("extraKeys",Object.assign({},L.getOption("extraKeys"),s))},[L,s]),Xe.useEffect(()=>{var F;const N=(F=x.current)==null?void 0:F.getElementsByClassName("editor-toolbarNode")[0],z=L&&_;return z?(N==null||N.addEventListener("click",z),()=>{N==null||N.removeEventListener("click",z)}):()=>{}},[L,_]),Xe.useEffect(()=>(L==null||L.on("change",_),L==null||L.on("cursorActivity",I),()=>{L==null||L.off("change",_),L==null||L.off("cursorActivity",I)}),[L,I,_]);const M=Xe.useRef(r);return Xe.useEffect(()=>(r!==M.current&&M.current&&Object.entries(M.current).forEach(([N,z])=>{z&&(L==null||L.off(N,z))}),r&&Object.entries(r).forEach(([N,z])=>{z&&(L==null||L.on(N,z))}),M.current=r,()=>{r&&Object.entries(r).forEach(([N,z])=>{z&&(L==null||L.off(N,z))})}),[L,r]),Ct.createElement("div",{id:`${m}-wrapper`,...v,ref:F=>{typeof e=="function"?e(F):e&&(e.current=F),x.current=F}},Ct.createElement("textarea",{...p,id:m,placeholder:d,ref:E,style:{display:"none"}}))});ure.displayName="SimpleMdeReact";var N_e=ure;const I_e=Ta((t,e)=>{const{onChange:r,value:n,readOnly:i,onFocus:a,rows:s,className:o,...l}=t,u=Xe.useRef(null);Xe.useImperativeHandle(e,()=>({getValue:()=>{var p;return(p=u.current)==null?void 0:p.value},focus:p=>{var v;return(v=u.current)==null?void 0:v.focus(p)}}),[u]);const h=Xe.useCallback(p=>{var v;i&&((v=u.current)==null||v.select()),a==null||a(p)},[a,i]),f=Xe.useCallback(p=>{r==null||r(p.target.value)},[r]),d=i?`block w-full outline-none px-1 bg-transparent cursor-default ${o}`:`block w-full outline-none px-1 bg-color-base border border-color-5 ${o}`;return Qe.jsx("textarea",{...l,ref:u,value:n??"",className:d,autoComplete:"off",spellCheck:!1,rows:s||3,readOnly:i,onFocus:h,onChange:f})});Ta((t,e)=>{const{onChange:r,value:n,readOnly:i,onFocus:a,className:s,...o}=t,l=Xe.useRef(),u=Xe.useCallback(d=>{l.current=d},[]);Xe.useImperativeHandle(e,()=>({getValue:()=>n,focus:d=>{const p=()=>setTimeout(()=>{l.current?l.current.codemirror.focus():p()},10);p()}}),[l,n]);const h=Xe.useCallback(d=>{a==null||a(d)},[a,i]),f=Xe.useCallback(d=>{r==null||r(d)},[r]);return i?Qe.jsx("span",{children:n}):Qe.jsx(N_e,{getMdeInstance:u,value:n??"",onChange:f,className:`w-full ${s}`,onFocus:h,spellCheck:"false",options:O_e,...o})});const O_e={spellChecker:!1,toolbar:[],status:!1,minHeight:"3rem"},cre=Ta((t,e)=>Qe.jsx(sp,{ref:e,...t})),F_e=Ta((t,e)=>Qe.jsx(I_e,{ref:e,...t}));Ta((t,e)=>{const{value:r,onChange:n,...i}=t,a=Xe.useMemo(()=>(r==null?void 0:r.toString())??"",[r]),s=Xe.useCallback(l=>{const{num:u}=j7(l);n==null||n(u)},[n]),o=Xe.useRef(null);return Xe.useImperativeHandle(e,()=>({getValue:()=>{var u;const{num:l}=j7(((u=o.current)==null?void 0:u.getValue())??"");return l},focus:l=>{var u;return(u=o.current)==null?void 0:u.focus(l)}}),[o]),Qe.jsx(sp,{ref:o,...i,value:a,onChange:s,onValidate:j7})});var P_e={exports:{}};(function(t,e){(function(r,n){t.exports=n(Bj)})(Ll,function(r){function n(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var i=n(r),a={name:"ja",weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(s){return s+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiem:function(s){return s<12?"午前":"午後"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}};return i.default.locale(a,null,!0),a})})(P_e);Ta((t,e)=>{const r=Xe.useMemo(()=>{const i=sH(t.value??"");return i.ok?i.formatted:""},[t.value]),n={...t,value:r,placeholder:t.placeholder??"0000-00-00 00:00:00",onValidate:sH};return Qe.jsx(sp,{ref:e,...n})});const sH=t=>{const e=Uc(t);return e===""?{ok:!0,formatted:""}:VM(e,"YYYY-MM-DD HH:mm:ss")};Ta((t,e)=>{const r=Xe.useMemo(()=>{const i=oH(t.value??"");return i.ok?i.formatted:""},[t.value]),n={...t,value:r,placeholder:t.placeholder??"0000-00-00",onValidate:oH};return Qe.jsx(sp,{ref:e,...n})});const oH=t=>{const e=Uc(t);return e===""?{ok:!0,formatted:""}:VM(e,"YYYY-MM-DD")};Ta((t,e)=>{const{value:r,onChange:n,...i}=t,a=Xe.useRef(null);Xe.useImperativeHandle(e,()=>({getValue:()=>{var u;return lH(((u=a.current)==null?void 0:u.getValue())??"")},focus:u=>{var h;return(h=a.current)==null?void 0:h.focus(u)}}),[a]);const s=Xe.useMemo(()=>{if(r==null)return"";const u=Math.floor(r/100),h=r%100;return`${u.toString().padStart(4,"0")}-${h.toString().padStart(2,"0")}`},[r]),o=Xe.useCallback(u=>{n==null||n(lH(u??""))},[n]),l={...i,value:s,onChange:o,placeholder:t.placeholder??"0000-00",onValidate:hre};return Qe.jsx(sp,{ref:a,...l})});const hre=t=>{const e=Uc(t);return e===""?{ok:!0,formatted:""}:VM(e,"YYYY-MM")},lH=t=>{const e=hre(t);if(!e.ok||e.formatted==="")return;const r=e.formatted.split("-");return Number(r[0])*100+Number(r[1])},VM=(t,e)=>{let r=ma(t,{format:e,locale:"ja"});return r.isValid()?(r.year()==2001&&!t.includes("2001")&&(r=r.set("year",ma().year())),{ok:!0,formatted:r.format(e)}):{ok:!1}},cb=Ta((t,e)=>{const r=Jt(L=>{var _;(_=t.onChange)==null||_.call(t,L?t.getValueFromOption(L):void 0)}),[n,i]=Ct.useState(),a=H_e(t.onFilter,t.waitTimeMS??0),s=Jt(async L=>{i(L);const _=await a(L);_&&x(_)}),o=Ct.useMemo(()=>n!==void 0?n:t.value!==void 0?t.getValueText(t.value):"",[n,t.value,t.getValueText]),l=Ct.useRef(null),u=Ct.useRef(null),[h,f]=Ct.useState(!1),[d,p]=Ct.useState(),[{popupElementRef:v},m]=OM(),x=Jt(L=>{var I;((I=t.onDropdownOpening)==null?void 0:I.call(t))!==!1&&(f(!0),m(M=>{var F;return M.openPopup((F=l.current)==null?void 0:F.element,$_e(L,t.getOptionText,p,r,u),()=>f(!1))}))}),[{isImeOpen:y}]=fre(),w=Jt(async L=>{var _,I,M,F,N;if(L.key==="ArrowUp"||L.key==="ArrowDown"){if(!y&&!h){p(void 0);const z=await a(void 0);z&&x(z),L.preventDefault()}else L.key==="ArrowUp"?((_=u.current)==null||_.highlightAbove(),L.preventDefault()):((I=u.current)==null||I.highlightBelow(),L.preventDefault());return}if(h&&!y&&L.key==="Enter"){if(d===void 0){r(void 0),(M=u.current)==null||M.close(),L.preventDefault();return}const z=(N=(F=u.current)==null?void 0:F.options)==null?void 0:N[d];if(!z)return;r(z),i(void 0),p(void 0),u.current.close(),L.preventDefault()}}),k=Jt(async()=>{const L=await a(void 0);L&&x(L)}),E=Jt(()=>{if(u.current&&d!==void 0){const L=u.current.options[d];return L?t.getValueFromOption(L):void 0}else return n!==void 0?void 0:t.value});Ct.useImperativeHandle(e,()=>({focus:()=>{var L;return(L=l.current)==null?void 0:L.focus()},getValue:E,closeDropdown:()=>{var L;return(L=u.current)==null?void 0:L.close()}}),[l,E,u]);const C=Jt(L=>{var _,I,M;i(void 0),!((_=v.current)!=null&&_.contains(L.relatedTarget))&&((I=t.onChange)==null||I.call(t,E()),(M=u.current)==null||M.close())});return Qe.jsx(sp,{ref:l,readOnly:t.readOnly,value:o,onOneCharChanged:s,onKeyDown:w,onBlur:C,AtEnd:t.readOnly?void 0:Qe.jsx(B_e,{onClick:k}),className:t.className})}),B_e=({onClick:t})=>Qe.jsx(T1e,{className:"w-6 text-color-5 border-l border-color-5 cursor-pointer outline-none",onClick:t,tabIndex:0}),$_e=(t,e,r,n,i)=>({closeDialog:a})=>{const[s,o]=Ct.useState(),l=g8e(t.length),u=Jt(()=>{var p,v,m;const d=s===void 0?0:Math.max(0,s-1);d!==s&&r(d),o(d),(m=(v=(p=l.current)==null?void 0:p[d])==null?void 0:v.current)==null||m.scrollIntoView({block:"nearest"})}),h=Jt(()=>{var p,v,m;const d=s===void 0?0:Math.min(t.length-1,s+1);d!==s&&r(d),o(d),(m=(v=(p=l.current)==null?void 0:p[d])==null?void 0:v.current)==null||m.scrollIntoView({block:"nearest"})}),f=Jt(d=>{const p=t[d];p&&n(p),a()});return Ct.useImperativeHandle(i,()=>({options:t,highlightAbove:u,highlightBelow:h,close:a}),[t,u,h,a]),Qe.jsxs("ul",{children:[t.length===0&&Qe.jsx("li",{className:"text-color-6",children:"データなし"}),t.map((d,p)=>Qe.jsx(z_e,{index:p,text:e(d),onClick:f,highlight:p===s,liRef:l.current[p]},p))]})},z_e=Ct.memo(({index:t,text:e,onClick:r,highlight:n,className:i,liRef:a})=>Qe.jsxs("li",{ref:a,className:`cursor-pointer relative ${n?"bg-color-4":""} ${i}`,onClick:t!==void 0?()=>r==null?void 0:r(t):void 0,children:[Qe.jsx("div",{className:"bg-color-4 absolute inset-0 opacity-0 hover:opacity-25"}),e,!e&&Qe.jsx(Qe.Fragment,{children:" "})]})),H_e=(t,e)=>{const[,r]=UE(),n=Ct.useRef(void 0);return Jt(i=>(n.current!==void 0&&clearTimeout(n.current),new Promise(a=>{n.current=setTimeout(async()=>{try{const s=await t(i);a(s)}catch(s){r(o=>o.error(`データ取得に失敗しました: ${s}`)),a(!1)}},e)})))},V_e=Ta((t,e)=>{var p,v;const{children:r,onChange:n,value:i,readOnly:a,...s}=t,o=Xe.useRef(null);Xe.useImperativeHandle(e,()=>({getValue:()=>{var m;return((m=o.current)==null?void 0:m.checked)??!1},focus:m=>{var x;return(x=o.current)==null?void 0:x.focus(m)}}),[o]);const l=W_e(),u=Xe.useCallback(m=>{o.current&&(a||(o.current.checked=m,n==null||n(m),l()))},[a,n,l]),h=Xe.useCallback(m=>{u(m.target.checked)},[u]),f=Xe.useCallback(m=>{var x;(m.key==="Enter"||m.key===" ")&&(u(!((x=o.current)!=null&&x.checked)),m.preventDefault())},[u]),d=i??!1;return Qe.jsxs("label",{className:"relative inline-flex justify-center items-center focus-within:outline outline-1",children:[Qe.jsx("span",{className:`w-4 h-4 inline-block border rounded-sm
        ${t.readOnly?"ml-1":""}
        ${i?"border-color-8":"border-color-5"}
        ${i?"bg-color-8":"bg-color-base"}`,children:Qe.jsx(H8e,{className:i?"text-color-1":"invisible"})}),Qe.jsx("input",{...s,ref:o,type:((p=o.current)==null?void 0:p.type)??"checkbox",className:`opacity-0 absolute top-0 left-0 right-0 bottom-0
          ${(v=o.current)!=null&&v.readOnly?"hidden":""}`,checked:d,readOnly:a,onChange:h,onKeyDown:f}),r&&Qe.jsx("span",{className:"mx-1 select-none",children:r})]})}),U_e=Ta((t,e)=>{const{options:r,keySelector:n,textSelector:i,value:a,onChange:s,name:o,readOnly:l}=t,u=Xe.useCallback(v=>{s==null||s(v)},[s]),h=Xe.useRef([]);for(let v=0;v<r.length;v++)h.current[v]=Xe.createRef();const f=Xe.useCallback(v=>{u(v.target.value)},[u]),d=Xe.useCallback((v,m,x)=>{var y,w;v.key==="Enter"||v.key===" "?(s==null||s(n(m)),v.preventDefault()):v.key==="ArrowUp"||v.key==="ArrowLeft"?(x>0&&((y=h.current[x-1].current)==null||y.focus()),v.preventDefault()):(v.key==="ArrowDown"||v.key==="ArrowRight")&&(x<r.length-1&&((w=h.current[x+1].current)==null||w.focus()),v.preventDefault())},[r,s,n]),p=Xe.useMemo(()=>{if(a!==void 0){const v=r.find(m=>n(m)===a);return v?i(v):a}return""},[a,i,n,r]);return Xe.useImperativeHandle(e,()=>({getValue:()=>a,focus:v=>{var m,x;return(x=(m=h.current[0])==null?void 0:m.current)==null?void 0:x.focus(v)}}),[a,h]),l?Qe.jsx(sp,{value:p,readOnly:!0}):Qe.jsx("ul",{className:"flex flex-wrap gap-x-2 gap-y-1",children:r.map((v,m)=>Qe.jsxs("li",{ref:h.current[m],className:`inline-flex items-center gap-1
            cursor-pointer select-none
            focus-within:outline outline-1`,tabIndex:0,onClick:()=>u(n(v)),onKeyDown:x=>d(x,v,m),children:[Qe.jsx("input",{type:"radio",className:"hidden",name:o,value:n(v),checked:!!a&&n(v)===a,onChange:f}),Qe.jsx(G_e,{checked:!!a&&n(v)===a}),i(v)]},n(v)))})}),G_e=({checked:t})=>Qe.jsx("div",{className:"inline-flex justify-center items-center w-3 h-3 border border-color-5 rounded-[50%] bg-color-base",children:t&&Qe.jsx("div",{className:"inline-flex w-2 h-2 rounded-[50%] bg-color-8"})}),W_e=()=>{const[t,e]=Xe.useState(!1);return Xe.useCallback(()=>e(!t),[t])},q_e=cb;Ta((t,e)=>{const{options:r,radio:n,combo:i,...a}=t,s=Xe.useRef(null);Xe.useImperativeHandle(e,()=>({getValue:()=>{var h;return(h=s.current)==null?void 0:h.getValue()},focus:h=>{var f;return(f=s.current)==null?void 0:f.focus(h)},closeDropdown:()=>{var h,f;return(f=(h=s.current)==null?void 0:h.closeDropdown)==null?void 0:f.call(h)}}),[s]);const o=Xe.useMemo(()=>n?"radio":i||r.length>5?"combo":"radio",[n,i,r]),l=Xe.useCallback(h=>h,[]),u=Jt(async h=>{if(h){const f=Uc(h);return r.filter(d=>Uc(d).includes(f))}else return r});return o==="combo"?Qe.jsx(cb,{...a,ref:s,onFilter:u,getOptionText:l,getValueFromOption:l,getValueText:l}):Qe.jsx(U_e,{...a,ref:s,options:r,keySelector:l})});const Y_e=Ta((t,e)=>Qe.jsx(cb,{ref:e,...t,onFilter:t.onFilter,waitTimeMS:t.waitTimeMS??300,getOptionText:t.getOptionText,getValueFromOption:t.getValueFromOption,getValueText:t.getValueText}));Ta((t,e)=>{const{value:r,onChange:n,...i}=t,a=Xe.useRef(null);Xe.useImperativeHandle(e,()=>({getValue:()=>r,focus:l=>{var u;return(u=a.current)==null?void 0:u.focus(l)},closeDropdown:()=>{var l,u;return(u=(l=a.current)==null?void 0:l.closeDropdown)==null?void 0:u.call(l)}}),[a,r]);const s=Jt(l=>{if(!l)return;const u=t.getValueFromOption(l),h=r?[...r,u]:[u];n==null||n(h)}),o=Xe.useCallback(l=>{n==null||n((r==null?void 0:r.filter(u=>u!==l))??[])},[r,n]);return Qe.jsxs("div",{className:`flex flex-col gap-1 ${t.className??""}`,children:[r!==void 0&&r.length>0&&Qe.jsx("div",{className:"flex flex-wrap gap-1",children:r.map((l,u)=>Qe.jsx(X_e,{option:l,onRemove:o,children:t.getOptionText(l)},u))}),Qe.jsx(cb,{ref:a,...i,onChange:s})]})});const X_e=({option:t,children:e,onRemove:r})=>Qe.jsxs("div",{className:"inline-flex items-center text-sm text-color-7 px-1 py-px gap-1 border border-color-5 rounded-md",children:[Qe.jsx("span",{className:"whitespace-nowrap select-none",children:e}),Qe.jsx(Zn,{icon:VE,onClick:()=>r==null?void 0:r(t),hideText:!0,className:"cursor-pointer",children:"削除"})]});Ta((t,e)=>{const{label:r,className:n,style:i,...a}=t;return Qe.jsxs("label",{className:`flex items-center gap-1 ${n??""}`,style:i,children:[Qe.jsx(V_e,{ref:e,...a}),Qe.jsxs("span",{className:"select-none",children:[r," "]})]})});Ta((t,e)=>{const r=Xe.useRef(null);return Xe.useImperativeHandle(e,()=>({getValue:()=>{var i;const n=(i=r.current)==null?void 0:i.getValue();if(n===C9[0])return!0;if(n===C9[1])return!1},focus:n=>{var i;return(i=r.current)==null?void 0:i.focus(n)}}),[r]),Qe.jsx(cb,{ref:r,...t,...j_e})});const C9=[{text:"○",boolValue:!0},{text:"-",boolValue:!1}],j_e={onFilter:()=>Promise.resolve(C9),getOptionText:t=>t.text,getValueFromOption:t=>t.boolValue,getValueText:t=>t?"○":"-"};Ct.memo(({className:t,...e})=>Qe.jsxs("div",{className:`flex px-1 gap-4 ${t??""}`,children:[Qe.jsx(Zn,{onClick:e.toFirstPage,icon:xj,outline:!0,hideText:!0,children:"最初のページへ"}),Qe.jsx(Zn,{onClick:e.toPreviousPage,icon:b1e,outline:!0,hideText:!0,children:"前のページへ"}),Qe.jsxs("span",{className:"select-none whitespace-nowrap",children:[e.currentPageIndex+1," / ",e.maxPageIndex+1," ページ"]}),Qe.jsx(Zn,{onClick:e.toNextPage,icon:wj,outline:!0,hideText:!0,children:"次のページへ"}),Qe.jsx(Zn,{onClick:e.toLastPage,icon:bj,outline:!0,hideText:!0,children:"最後のページへ"})]}));Ta((t,e)=>{const{value:r,onChange:n,readOnly:i,className:a,...s}=t,o=Jt(h=>{n==null||n({...r,file:h.target.files})}),l=Jt(()=>{n==null||n({...r,willDetach:!0})}),u=Ct.useRef(null);return Ct.useImperativeHandle(e,()=>({getValue:()=>r,focus:()=>{var h;return(h=u.current)==null?void 0:h.focus()}}),[r,u]),Qe.jsxs("div",{...s,className:`inline-flex gap-1 items-center ${a??""}`,children:[!i&&(!(r!=null&&r.metadata)||r.willDetach)&&Qe.jsx("input",{type:"file",className:"flex-1",onChange:o}),(r==null?void 0:r.metadata)&&!r.willDetach&&Qe.jsx("a",{href:r.metadata.href,download:r.metadata.download,target:"_blank",className:"text-color-link",children:r.metadata.displayFileName}),!i&&(r==null?void 0:r.metadata)&&!r.willDetach&&Qe.jsx(Zn,{icon:VE,onClick:l,hideText:!0,children:"解除"})]})});const K_e=t=>{const[e,r]=PE(t.defaultValue,()=>({setValue:i=>i}),(i,a)=>({children:s})=>{const[,o]=UE(),l=Xe.useReducer(a,(()=>{try{const u=localStorage.getItem(t.storageKey);if(u==null)return t.defaultValue();{const h=t.deserialize(u);if((h==null?void 0:h.ok)!==!0)throw new Error(`Failuer to parse local storage value as '${t.storageKey}'.`);return h.obj}}catch(u){return o(h=>h.warn(u)),t.defaultValue()}})());return Qe.jsx(i.Provider,{value:l,children:s})});return[e,()=>{const[i,a]=r(),s=Xe.useCallback(o=>{localStorage.setItem(t.storageKey,t.serialize(o)),a(l=>l.setValue(o))},[a]);return{data:i,save:s}}]},[$ut,UM]=K_e({storageKey:"appcontext",defaultValue:()=>({}),serialize:t=>JSON.stringify(t),deserialize:t=>({ok:!0,obj:JSON.parse(t)})}),[zut,fre]=PE(()=>({isImeOpen:!1}),()=>({setValue:t=>({isImeOpen:t})}),(t,e)=>({elementRef:r,children:n})=>{const[i,a]=Xe.useReducer(e,{isImeOpen:!1}),s=Xe.useMemo(()=>[i,a],[i,a]);return Xe.useEffect(()=>{const o=()=>a(u=>u.setValue(!0)),l=()=>a(u=>u.setValue(!1));return r==null||r.addEventListener("compositionstart",o),r==null||r.addEventListener("compositionend",l),()=>{r==null||r.removeEventListener("compositionstart",o),r==null||r.removeEventListener("compositionend",l)}},[r,a]),Qe.jsx(t.Provider,{value:s,children:n})});Ct.createContext({toggle:()=>{},setCollapsed:()=>{}});Ct.createContext({changes:[],changesCount:0,reload:()=>Promise.resolve(),commit:()=>Promise.resolve(!1),reset:()=>Promise.resolve(),ready:!1});const uH=()=>({aggregateOrMemberTypes:void 0,config:{},aggregates:[],editingXmlFilePath:void 0,optionalAttributes:void 0,projectRoot:void 0}),cH=t=>({uniqueId:zr.generate(),depth:t,attrValues:[],comment:"",displayName:"",type:void 0,typeDetail:void 0,xmlFileFullPath:void 0}),Oh={DISPLAY_NAME:"-",TYPE:"type",TYPE_DETAIL:"typeDetail",COMMENT:"comment"},Q_e=()=>{const[,t]=UE(),[,e]=GE(),[r,n]=Ct.useState(!1),[i,a]=Ct.useState(""),s=Jt(f=>{f?(a(f),localStorage.setItem(o8,f)):(a(f),localStorage.removeItem(o8))});Ct.useLayoutEffect(()=>{const f=localStorage.getItem(o8);f&&a(f),n(!0)},[]);const o=Jt(async()=>{try{const f=await fetch(`${i??""}/load`,{method:"GET"});if(!f.ok){const p=await f.text();return t(v=>v.error(p)),uH()}return await f.json()}catch(f){return t(d=>d.error(f)),uH()}}),l=Jt(async(f,d)=>{const p={config:f,aggregates:d};return await(await fetch(`${i??""}/validate`,{method:"POST",body:JSON.stringify(p)})).json()}),u=Jt(async(f,d)=>{const p={config:f,aggregates:d};return await(await fetch(`${i??""}/mermaid`,{method:"POST",body:JSON.stringify(p)})).text()}),h=Jt(async(f,d)=>{const p={config:f,aggregates:d};return(await fetch(`${i??""}/save`,{method:"POST",body:JSON.stringify(p)})).ok?(e(m=>m.info("保存しました。")),!0):(e(m=>m.warn("保存できませんでした。")),!1)});return{ready:r,backendDomain:i,onChangBackendDomain:s,load:o,validate:l,mermaid:u,save:h}},o8="NIJO-UI::BACKEND-API",dre=Ct.createContext({}),Z_e=dre.Provider,Vh=(t,e)=>{const r=Ct.useContext(dre);if(!t)return;const n=r[t];if(n!==void 0&&Object.keys(n).length!==0)return e===void 0?Object.values(n).flat():e in n?n[e]:void 0},J_e=(t,{typeComboSource:e,typeComboProps:r},n,i,a)=>Ct.useMemo(()=>{const s={id:Oh.DISPLAY_NAME,...hH(d=>d.displayName??"",(d,p)=>{d.displayName=p}),defaultWidthPx:240,render:d=>{const p=Vh(d.uniqueId,Oh.DISPLAY_NAME);let v;n.has(d.uniqueId)?i.has(d.uniqueId)?v=wj:v=m1e:v=void 0;const m=Jt(()=>{a(d.uniqueId)});return Qe.jsxs(kd,{errors:p,className:"flex overflow-x-hidden gap-1",children:[Qe.jsx("div",{style:{flexBasis:d.depth*28}}),Qe.jsxs("span",{className:"flex-1 inline-flex items-center gap-px overflow-x-hidden whitespace-nowrap text-ellipsis",children:[Qe.jsx(Zn,{icon:v,onClick:m,inline:!0,hideText:!0,children:"折りたたみ"}),d.displayName]})]})}},o=(d,p)=>{e!=null&&e.some(v=>v.key===p)?d.type=p:d.type=void 0},l={id:Oh.TYPE,header:"種類",onClipboardCopy:d=>d.type??"",render:d=>{var v;const p=Vh(d.uniqueId,Oh.TYPE);return Qe.jsx(kd,{errors:p,children:((v=e==null?void 0:e.find(m=>m.key===d.type))==null?void 0:v.displayName)??d.type})},editSetting:{type:"combo",comboProps:r,onStartEditing:d=>d.type,onEndEditing:o,onClipboardPaste:o}},u={id:Oh.TYPE_DETAIL,...hH(d=>d.typeDetail??"",(d,p)=>{d.typeDetail=p}),defaultWidthPx:40,render:d=>{const p=Vh(d.uniqueId,Oh.TYPE_DETAIL);return Qe.jsx(kd,{errors:p,children:d.typeDetail})}},h=[];for(let d=0;d<((t==null?void 0:t.length)??0);d++){const p=t[d];if(p.type==="boolean"){const m=(y,w,k)=>{var C;const E={key:w,value:""};if(!y.attrValues)y.attrValues=k?[E]:[];else{const L=(C=y.attrValues)==null?void 0:C.findIndex(I=>I.key===w),_=[...y.attrValues];k?L===-1?_.push(E):_.splice(L,1,E):!k&&L!==-1&&_.splice(L,1),y.attrValues=_}},x={type:"combo",onStartEditing:y=>{var w;return(w=y.attrValues)!=null&&w.some(k=>k.key===p.key)?{key:"T",text:"✓"}:{key:"F",text:""}},onEndEditing:(y,w)=>{m(y,p.key,(w==null?void 0:w.key)==="T")},onClipboardPaste:(y,w)=>{const k=Uc(w).toLowerCase(),E=k==="t"||k==="true"||k==="1"||k==="✓";m(y,p.key,E)},comboProps:{onFilter:async()=>[{key:"T",text:"✓"},{key:"F",text:""}],getOptionText:y=>y.text,getValueFromOption:y=>y,getValueText:y=>y.text}};h.push({id:p.key,header:p.displayName,headerTitle:`${p.displayName??""}
${p.helpText??""}`,defaultWidthPx:60,onClipboardCopy:y=>{var w;return(w=y.attrValues)!=null&&w.some(k=>k.key===p.key)?"true":""},render:y=>{var k;const w=Vh(y.uniqueId,p.key);return Qe.jsx(kd,{errors:w,children:(k=y.attrValues)!=null&&k.some(E=>E.key===p.key)?"✓":""})},editSetting:x});continue}const v=(m,x,y)=>{var w;if(!m.attrValues)m.attrValues=y?[{key:x,value:y}]:[];else{const k=(w=m.attrValues)==null?void 0:w.findIndex(C=>C.key===x),E=[...m.attrValues];y?k===-1?E.push({key:x,value:y}):E.splice(k,1,{key:x,value:y}):!y&&k!==-1&&E.splice(k,1),m.attrValues=E}};p.type==="number"?h.push({id:p.key,header:p.displayName,headerTitle:`${p.displayName??""}
${p.helpText??""}`,defaultWidthPx:60,onClipboardCopy:m=>{var x,y;return((y=(x=m.attrValues)==null?void 0:x.find(w=>w.key===p.key))==null?void 0:y.value)??""},render:m=>{var y,w;const x=Vh(m.uniqueId,p.key);return Qe.jsx(kd,{errors:x,children:(w=(y=m.attrValues)==null?void 0:y.find(k=>k.key===p.key))==null?void 0:w.value})},editSetting:{type:"text",onStartEditing:m=>{var x,y;return(y=(x=m.attrValues)==null?void 0:x.find(w=>w.key===p.key))==null?void 0:y.value},onEndEditing:(m,x)=>{const y=x?Number(Uc(x)):NaN;v(m,p.key,isNaN(y)?"":y.toString())},onClipboardPaste:(m,x)=>{const y=x?Number(Uc(x)):NaN;v(m,p.key,isNaN(y)?"":y.toString())}}}):h.push({id:p.key,header:p.displayName,headerTitle:`${p.displayName??""}
${p.helpText??""}`,defaultWidthPx:60,onClipboardCopy:m=>{var x,y;return((y=(x=m.attrValues)==null?void 0:x.find(w=>w.key===p.key))==null?void 0:y.value)??""},render:m=>{var y,w;const x=Vh(m.uniqueId,p.key);return Qe.jsx(kd,{errors:x,children:(w=(y=m.attrValues)==null?void 0:y.find(k=>k.key===p.key))==null?void 0:w.value})},editSetting:{type:"text",onStartEditing:m=>{var x,y;return(y=(x=m.attrValues)==null?void 0:x.find(w=>w.key===p.key))==null?void 0:y.value},onEndEditing:(m,x)=>{v(m,p.key,x??"")},onClipboardPaste:(m,x)=>{v(m,p.key,x)}}})}const f={id:Oh.COMMENT,header:"備考",defaultWidthPx:240,onClipboardCopy:d=>d.comment??"",render:d=>{const p=Vh(d.uniqueId,Oh.COMMENT);return Qe.jsx(kd,{errors:p,children:d.comment})},editSetting:{type:"multiline-text",onStartEditing:d=>d.comment,onClipboardPaste:(d,p)=>d.comment=p,onEndEditing:(d,p)=>d.comment=p}};return[s,l,u,...h,f]},[e,r,t,n,i,a]),kd=({errors:t,className:e,children:r})=>Qe.jsxs("span",{title:t==null?void 0:t.join(`
`),className:`block px-1 text-ellipsis whitespace-nowrap overflow-x-hidden ${t?"bg-orange-100":""} ${e}`,children:[r," "]}),hH=(t,e)=>({onClipboardCopy:t,editSetting:{type:"text",onClipboardPaste:e,onEndEditing:e,onStartEditing:t}}),e9e=(t,e,r)=>{const n=Ct.useMemo(()=>{if(e.length===0)return[];const a=[];t&&a.push(...t);const s=e.filter(u=>u.depth===0&&(u.type==="write-model-2"||u.type==="read-model-2"||u.type==="write-model-2 generate-default-read-model"));for(const u of s){const f=[u,...r(u)].filter(d=>d.depth===0||d.type==="child"||d.type==="children"||d.type==="variation-item");a.push(...f.map(d=>({key:`ref-to:${d.uniqueId}`,displayName:`ref-to:${d.displayName}`})))}const o=e.filter(u=>u.depth===0&&u.type==="enum");a.push(...o.map(u=>({key:`enum:${u.uniqueId}`,displayName:u.displayName})));const l=e.filter(u=>u.depth===0&&u.type==="value-object");return a.push(...l.map(u=>({key:`value-object:${u.uniqueId}`,displayName:u.displayName}))),a},[r,e,t]),i=Ct.useMemo(()=>({onFilter:a=>a?Promise.resolve(n.filter(s=>{var o;return(o=s.displayName)==null?void 0:o.includes(a)})??[]):Promise.resolve(n),getOptionText:a=>Qe.jsxs("div",{className:"flex flex-col",children:[Qe.jsx("span",{children:a.displayName}),Qe.jsx("span",{className:"text-color-6 text-xs max-w-min min-w-full",children:a.helpText})]}),getValueFromOption:a=>a.key,getValueText:a=>{var s;return((s=n.find(o=>o.key===a))==null?void 0:s.displayName)??a??""}}),[n]);return{typeComboSource:n,typeComboProps:i}},t9e=(t,e)=>{const r=Jt(p=>{if(e.current===void 0)return;let v=e.current.indexOf(p);if(v===-1)throw new Error("index is out of range.");for(;;){if(v--,v<0)return;const m=e.current[v];if(m.depth<p.depth)return m}}),n=Jt(p=>{if(e.current===void 0)return[];const v=[];let m=p.depth,x=e.current.indexOf(p);if(x===-1)throw new Error("index is out of range.");for(;!(m===0||(x--,x<0));){const y=e.current[x];y.depth<m&&(v.push(y),m=y.depth)}return v.reverse()}),i=Jt(p=>{if(e.current===void 0)return[];const v=[];let m=e.current.indexOf(p);if(m===-1)throw new Error("index is out of range.");for(;m++,!(m>=e.current.length);){const x=e.current[m];if(x.depth<=p.depth)break;r(x)==p&&v.push(x)}return v}),a=Jt(p=>{if(e.current===void 0)return[];const v=[];let m=e.current.indexOf(p);if(m===-1)throw new Error("index is out of range.");for(;m++,!(m>=e.current.length);){const x=e.current[m];if(x.depth<=p.depth)break;v.push(x)}return v}),[s,o]=Ct.useState(new Set),l=Jt(()=>{o(new Set)}),u=Jt(()=>{const p=t==null?void 0:t.filter(v=>v.depth===0);o(new Set(p==null?void 0:p.map(v=>v.uniqueId)))}),h=Jt(p=>{const v=new Set(s);s.has(p)?v.delete(p):v.add(p),o(v)}),f=Ct.useMemo(()=>{const p=new Set;if(t)for(let v=0;v<t.length;v++){const m=t[v],x=t[v+1];x!==void 0&&(x.depth<=m.depth||p.add(m.uniqueId))}return p},[t]),d=Ct.useMemo(()=>{if(!t)return[];const p=[];for(let v=0;v<t.length;v++){const m=t[v];p.push(m),s.has(m.uniqueId)&&(v+=a(m).length)}return p},[t,s,a]);return{getParent:r,getAncestors:n,getChildren:i,getDescendants:a,collapsedRowIds:s,expandableRows:f,expandedRows:d,toggleCollapsing:h,collapseAll:u,expandAll:l}},r9e=(t,e,r,n)=>{const[,i]=OM();return{openAppSettingDialog:Jt(()=>{i(s=>s.pushDialog("設定",o=>{const l=Object.entries(t.getValues("config"));return Qe.jsxs("div",{className:"grid grid-cols-[18rem,1fr] gap-x-2 gap-y-px",children:[Qe.jsx(l8,{children:"バックエンドURL"}),Qe.jsx(cre,{value:e,onChange:r,className:"flex-1"}),Qe.jsx(l8,{children:"ファイル名"}),Qe.jsx("span",{className:"flex-1 select-all",children:n}),Qe.jsx("hr",{className:"col-span-full py-1"}),l.map(([u,h])=>Qe.jsxs(Ct.Fragment,{children:[Qe.jsx(l8,{children:u}),Qe.jsx("div",{children:h==null?"":String(h)})]},u))]})}))})}},l8=({children:t})=>Qe.jsx("span",{className:"text-color-6 text-right break-all",children:t});function n9e(){const{ready:t,load:e,validate:r,mermaid:n,save:i,backendDomain:a,onChangBackendDomain:s}=Q_e(),o=v8e({}),{getValues:l,reset:u,control:h}=o,{fields:f,update:d,insert:p,remove:v,move:m}=Gge({name:"aggregates",control:h}),x=Ct.useRef();x.current=f;const{collapsedRowIds:y,expandableRows:w,expandedRows:k,collapseAll:E,expandAll:C,toggleCollapsing:L,..._}=t9e(f,x),I=PC({name:"aggregateOrMemberTypes",control:h}),M=e9e(I,f,_.getDescendants),F=PC({name:"editingXmlFilePath",control:h}),{openAppSettingDialog:N}=r9e(o,a,s,F),z=PC({name:"optionalAttributes",control:h}),V=J_e(z,M,w,y,L),D=Ct.useRef(null),[O,P]=Ct.useState(),[$,B]=Ct.useState([]),H=Jt(oe=>{if(oe){const we=oe.getRow(),Re=[..._.getAncestors(we),we];B(Re.map(Pe=>{var je;const Ge=((je=M.typeComboSource.find(We=>We.key===Pe.type))==null?void 0:je.displayName)??Pe.type;return{member:Pe.displayName??"",type:Ge?`（${Ge}）`:""}})),P(we.uniqueId)}else B([]),P(void 0)}),X=Jt(()=>{var Ge,je,We;C();const oe=(Ge=D.current)==null?void 0:Ge.getSelectedRows();if(oe===void 0)return;const we=Math.min(...oe.map(me=>me.rowIndex)),Re=((je=f[we])==null?void 0:je.depth)??0,Pe=((We=D.current)==null?void 0:We.getSelectedRows().length)??0;p(we,Array.from({length:Pe}).map(()=>cH(Re))),ae()}),q=Jt(()=>{var Ge,je;C();const oe=(Ge=D.current)==null?void 0:Ge.getSelectedRows();if(oe===void 0)return;const we=Math.max(...oe.map(We=>We.rowIndex))+1,Re=((je=f[we])==null?void 0:je.depth)??0,Pe=oe.length;p(we,Array.from({length:Pe}).map(()=>cH(Re))),ae()}),Y=Jt(()=>{var we;C();const oe=(we=D.current)==null?void 0:we.getSelectedRows().map(Re=>Re.rowIndex);oe!==void 0&&v(oe),ae()}),U=Jt(()=>{var we;C();const oe=(we=D.current)==null?void 0:we.getSelectedRows();if(oe){for(const{rowIndex:Re,row:Pe}of oe)d(Re,{...Pe,depth:Math.max(0,Pe.depth-1)});ae()}}),J=Jt(()=>{var we;C();const oe=(we=D.current)==null?void 0:we.getSelectedRows();if(oe){for(const{rowIndex:Re,row:Pe}of oe)d(Re,{...Pe,depth:Pe.depth+1});ae()}}),ce=Jt(()=>{var Pe,Ge;const oe=(Pe=D.current)==null?void 0:Pe.getSelectedRows().map(je=>je.rowIndex);if(oe===void 0)return;const we=Math.min(...oe),Re=Math.max(...oe);we!==0&&(C(),m(we-1,Re),(Ge=D.current)==null||Ge.selectRow(we-1,Re-1))}),re=Jt(()=>{var Pe,Ge;const oe=(Pe=D.current)==null?void 0:Pe.getSelectedRows().map(je=>je.rowIndex);if(oe===void 0)return;const we=Math.min(...oe),Re=Math.max(...oe);Re>=f.length-1||(C(),m(Re+1,we),(Ge=D.current)==null||Ge.selectRow(we+1,Re+1))}),ve=Jt((oe,we)=>{var Pe;const Re=(Pe=l("aggregates"))==null?void 0:Pe.findIndex(Ge=>Ge.uniqueId===we.uniqueId);Re!==void 0&&(d(Re,we),ae())}),ye=Ct.useRef(void 0),[Z,ue]=Ct.useState({}),ae=Jt(async()=>(ye.current!==void 0&&clearTimeout(ye.current),new Promise(()=>{ye.current=setTimeout(async()=>{const oe=l("aggregates");oe&&ue(await r(l("config"),oe))},300)}))),[,pe]=OM(),Ee=Jt(async()=>{const oe=l("aggregates");if(!oe)return;const we=await n(l("config"),oe);pe(Re=>Re.pushDialog("プレビュー",()=>Qe.jsx(a9e,{mermaidJsText:we})))}),Se=Jt(async()=>{u(await e()),ae()}),de=Jt(async()=>{await i(l("config"),f)?await Se():ae()});Ct.useEffect(()=>{t&&Se()},[t]);const be=Jt(oe=>{console.log("!"),oe.key});return Qe.jsx(Z_e,{value:Z,children:Qe.jsxs(Oj,{direction:"vertical",className:"w-full h-full p-1",children:[Qe.jsxs(d_,{className:"flex flex-col gap-1",children:[Qe.jsxs("div",{className:"flex gap-1 items-center",children:[Qe.jsx(Zn,{onClick:Ee,icon:R1e,outline:!0,mini:!0,children:"プレビュー"}),Qe.jsx("div",{className:"basis-2"}),Qe.jsx(Zn,{onClick:E,outline:!0,mini:!0,children:"折り畳み"}),Qe.jsx(Zn,{onClick:C,outline:!0,mini:!0,children:"展開"}),Qe.jsx("div",{className:"basis-2"}),Qe.jsx(Zn,{onClick:X,outline:!0,mini:!0,children:"挿入"}),Qe.jsx(Zn,{onClick:q,outline:!0,mini:!0,children:"下挿入"}),Qe.jsx(Zn,{onClick:Y,outline:!0,mini:!0,children:"行削除"}),Qe.jsx("div",{className:"basis-2"}),Qe.jsx(Zn,{onClick:U,icon:xj,outline:!0,mini:!0,children:"インデント上げ"}),Qe.jsx(Zn,{onClick:J,icon:bj,outline:!0,mini:!0,children:"インデント下げ"}),Qe.jsx("div",{className:"basis-2"}),Qe.jsx(Zn,{onClick:ce,icon:p1e,outline:!0,mini:!0,children:"上移動"}),Qe.jsx(Zn,{onClick:re,icon:o1e,outline:!0,mini:!0,children:"下移動"}),Qe.jsx("div",{className:"flex-1"}),Qe.jsx(Zn,{onClick:Se,icon:t1e,outline:!0,mini:!0,children:"再読み込み"}),Qe.jsx(Zn,{onClick:N,icon:_1e,outline:!0,mini:!0,children:"設定"}),Qe.jsx(Zn,{onClick:de,icon:i1e,fill:!0,mini:!0,children:"保存"})]}),Qe.jsx(Kte,{}),Qe.jsxs("div",{className:"flex flex-wrap gap-1 items-center select-none text-sm",children:[$.map((oe,we)=>Qe.jsxs(Ct.Fragment,{children:[we>0&&Qe.jsx("span",{className:"text-color-5",children:">"}),Qe.jsxs("div",{className:"bg-color-3 px-1 rounded-md",children:[Qe.jsx("span",{className:"text-color-7",children:oe.member}),Qe.jsx("span",{className:"text-color-5",children:oe.type})]})]},we))," "]}),Qe.jsx(BAe,{ref:D,data:k,columns:V,onKeyDown:be,onChangeRow:ve,onActiveRowChanged:H,showActiveCellBorderAlways:!0,className:"flex-1"})]}),Qe.jsx(Fj,{className:"h-2"}),Qe.jsx(d_,{defaultSize:10,collapsible:!0,children:Qe.jsx(i9e,{activeRowUniqueId:O})})]})})}const i9e=({activeRowUniqueId:t})=>{const e=Vh(t);return Qe.jsx("ul",{className:"h-full w-full flex flex-col overflow-y-auto bg-color-gutter",children:e==null?void 0:e.map((r,n)=>Qe.jsx("li",{className:"text-sm text-orange-600",children:r},n))})},a9e=({mermaidJsText:t})=>{const e=Ct.useCallback(r=>{r&&(qz.initialize({theme:"base",themeVariables:{fontFamily:pre.fontFamily,nodeTextColor:"#000000",clusterBkg:"#fff4dd",nodeBorder:"#cd834c",clusterBorder:"#cd834c",clusterTextColor:"#000000",edgeLabelBackground:"#ffffff"}}),qz.run({nodes:[r]}))},[]);return Qe.jsx("div",{ref:e,className:"mermaid",children:t})},pre={fontFamily:'"Cascadia Mono", "BIZ UDGothic"'},s9e=()=>Qe.jsx("div",{className:"w-full h-full",style:pre,children:Qe.jsx(UAe,{children:Qe.jsx(jte,{children:Qe.jsxs(KAe,{children:[Qe.jsx(n9e,{}),Qe.jsx(GAe,{})]})})})});mA.createRoot(document.getElementById("root")).render(Qe.jsx(Ct.StrictMode,{children:Qe.jsx(s9e,{})}));class Lo{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new Lo(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class ml{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new ml(r,Lo.range(this,e))}}class Rt{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,i,a,s=r&&r.loc;if(s&&s.start<=s.end){var o=s.lexer.input;i=s.start,a=s.end,i===o.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var l=o.slice(i,a).replace(/[^]/g,"$&̲"),u;i>15?u="…"+o.slice(i-15,i):u=o.slice(0,i);var h;a+15<o.length?h=o.slice(a,a+15)+"…":h=o.slice(a),n+=u+l+h}var f=new Error(n);return f.name="ParseError",f.__proto__=Rt.prototype,f.position=i,i!=null&&a!=null&&(f.length=a-i),f.rawMessage=e,f}}Rt.prototype.__proto__=Error.prototype;var o9e=function(e,r){return e.indexOf(r)!==-1},l9e=function(e,r){return e===void 0?r:e},u9e=/([A-Z])/g,c9e=function(e){return e.replace(u9e,"-$1").toLowerCase()},h9e={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},f9e=/[&><"']/g;function d9e(t){return String(t).replace(f9e,e=>h9e[e])}var gre=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},p9e=function(e){var r=gre(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},g9e=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},v9e=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},vr={contains:o9e,deflt:l9e,escape:d9e,hyphenate:c9e,getBaseElem:gre,isCharacterBox:p9e,protocolFromUrl:v9e},_w={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function m9e(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class GM{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in _w)if(_w.hasOwnProperty(r)){var n=_w[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:m9e(n)}}reportNonstrict(e,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Rt("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,n){var i=this.strict;if(typeof i=="function")try{i=i(e,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=vr.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}let Fh=class{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return Du[y9e[this.id]]}sub(){return Du[x9e[this.id]]}fracNum(){return Du[b9e[this.id]]}fracDen(){return Du[w9e[this.id]]}cramp(){return Du[k9e[this.id]]}text(){return Du[S9e[this.id]]}isTight(){return this.size>=2}};var WM=0,Tk=1,Fg=2,Gc=3,S2=4,dl=5,b1=6,Is=7,Du=[new Fh(WM,0,!1),new Fh(Tk,0,!0),new Fh(Fg,1,!1),new Fh(Gc,1,!0),new Fh(S2,2,!1),new Fh(dl,2,!0),new Fh(b1,3,!1),new Fh(Is,3,!0)],y9e=[S2,dl,S2,dl,b1,Is,b1,Is],x9e=[dl,dl,dl,dl,Is,Is,Is,Is],b9e=[Fg,Gc,S2,dl,b1,Is,b1,Is],w9e=[Gc,Gc,dl,dl,Is,Is,Is,Is],k9e=[Tk,Tk,Gc,Gc,dl,dl,Is,Is],S9e=[WM,Tk,Fg,Gc,Fg,Gc,Fg,Gc],br={DISPLAY:Du[WM],TEXT:Du[Fg],SCRIPT:Du[S2],SCRIPTSCRIPT:Du[b1]},A9=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function E9e(t){for(var e=0;e<A9.length;e++)for(var r=A9[e],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(t>=i[0]&&t<=i[1])return r.name}return null}var Lw=[];A9.forEach(t=>t.blocks.forEach(e=>Lw.push(...e)));function vre(t){for(var e=0;e<Lw.length;e+=2)if(t>=Lw[e]&&t<=Lw[e+1])return!0;return!1}var Wp=80,T9e=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},C9e=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},A9e=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},_9e=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},L9e=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},D9e=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},R9e=function(e,r,n){var i=n-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},M9e=function(e,r,n){r=1e3*r;var i="";switch(e){case"sqrtMain":i=T9e(r,Wp);break;case"sqrtSize1":i=C9e(r,Wp);break;case"sqrtSize2":i=A9e(r,Wp);break;case"sqrtSize3":i=_9e(r,Wp);break;case"sqrtSize4":i=L9e(r,Wp);break;case"sqrtTall":i=R9e(r,Wp,n)}return i},N9e=function(e,r){switch(e){case"⎜":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"∣":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"∥":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"⎟":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"⎢":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"⎥":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"⎪":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"⏐":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"‖":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},fH={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},I9e=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class hb{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return vr.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var Pu={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},p3={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},dH={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function O9e(t,e){Pu[t]=e}function qM(t,e,r){if(!Pu[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),i=Pu[e][n];if(!i&&t[0]in dH&&(n=dH[t[0]].charCodeAt(0),i=Pu[e][n]),!i&&r==="text"&&vre(n)&&(i=Pu[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var u8={};function F9e(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!u8[e]){var r=u8[e]={cssEmPerMu:p3.quad[e]/18};for(var n in p3)p3.hasOwnProperty(n)&&(r[n]=p3[n][e])}return u8[e]}var P9e=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],pH=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],gH=function(e,r){return r.size<2?e:P9e[e-1][r.size-1]};class _c{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||_c.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=pH[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new _c(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:gH(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:pH[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=gH(_c.BASESIZE,e);return this.size===r&&this.textSize===_c.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==_c.BASESIZE?["sizing","reset-size"+this.size,"size"+_c.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=F9e(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}_c.BASESIZE=6;var _9={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},B9e={ex:!0,em:!0,mu:!0},mre=function(e){return typeof e!="string"&&(e=e.unit),e in _9||e in B9e||e==="ex"},oi=function(e,r){var n;if(e.unit in _9)n=_9[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new Rt("Invalid unit: '"+e.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*n,r.maxSize)},Ft=function(e){return+e.toFixed(4)+"em"},If=function(e){return e.filter(r=>r).join(" ")},yre=function(e,r,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},xre=function(e){var r=document.createElement(e);r.className=If(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r},bre=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+vr.escape(If(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=vr.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+vr.escape(n)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(r+=" "+a+'="'+vr.escape(this.attributes[a])+'"');r+=">";for(var s=0;s<this.children.length;s++)r+=this.children[s].toMarkup();return r+="</"+e+">",r};class fb{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,yre.call(this,e,n,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return vr.contains(this.classes,e)}toNode(){return xre.call(this,"span")}toMarkup(){return bre.call(this,"span")}}class YM{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,yre.call(this,r,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return vr.contains(this.classes,e)}toNode(){return xre.call(this,"a")}toMarkup(){return bre.call(this,"a")}}class $9e{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return vr.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+vr.escape(this.src)+'"'+(' alt="'+vr.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=vr.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+vr.escape(r)+'"'),e+="'/>",e}}var z9e={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Tl{constructor(e,r,n,i,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=E9e(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=z9e[this.text])}hasClass(e){return vr.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=Ft(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=If(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=vr.escape(If(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=vr.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,r+=' style="'+vr.escape(n)+'"');var a=vr.escape(this.text);return e?(r+=">",r+=a,r+="</span>",r):a}}class th{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+vr.escape(this.attributes[r])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class Of{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",fH[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+vr.escape(this.alternate)+'"/>':'<path d="'+vr.escape(fH[this.pathName])+'"/>'}}class L9{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+vr.escape(this.attributes[r])+'"');return e+="/>",e}}function vH(t){if(t instanceof Tl)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function H9e(t){if(t instanceof fb)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var V9e={bin:1,close:1,inner:1,open:1,punct:1,rel:1},U9e={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Bn={math:{},text:{}};function Q(t,e,r,n,i,a){Bn[t][i]={font:e,group:r,replace:n},a&&n&&(Bn[t][n]=Bn[t][i])}var ne="math",wt="text",xe="main",ze="ams",ti="accent-token",Xt="bin",Gs="close",iv="inner",xr="mathord",zi="op-token",Yo="open",cT="punct",Ue="rel",xh="spacing",Ke="textord";Q(ne,xe,Ue,"≡","\\equiv",!0);Q(ne,xe,Ue,"≺","\\prec",!0);Q(ne,xe,Ue,"≻","\\succ",!0);Q(ne,xe,Ue,"∼","\\sim",!0);Q(ne,xe,Ue,"⊥","\\perp");Q(ne,xe,Ue,"⪯","\\preceq",!0);Q(ne,xe,Ue,"⪰","\\succeq",!0);Q(ne,xe,Ue,"≃","\\simeq",!0);Q(ne,xe,Ue,"∣","\\mid",!0);Q(ne,xe,Ue,"≪","\\ll",!0);Q(ne,xe,Ue,"≫","\\gg",!0);Q(ne,xe,Ue,"≍","\\asymp",!0);Q(ne,xe,Ue,"∥","\\parallel");Q(ne,xe,Ue,"⋈","\\bowtie",!0);Q(ne,xe,Ue,"⌣","\\smile",!0);Q(ne,xe,Ue,"⊑","\\sqsubseteq",!0);Q(ne,xe,Ue,"⊒","\\sqsupseteq",!0);Q(ne,xe,Ue,"≐","\\doteq",!0);Q(ne,xe,Ue,"⌢","\\frown",!0);Q(ne,xe,Ue,"∋","\\ni",!0);Q(ne,xe,Ue,"∝","\\propto",!0);Q(ne,xe,Ue,"⊢","\\vdash",!0);Q(ne,xe,Ue,"⊣","\\dashv",!0);Q(ne,xe,Ue,"∋","\\owns");Q(ne,xe,cT,".","\\ldotp");Q(ne,xe,cT,"⋅","\\cdotp");Q(ne,xe,Ke,"#","\\#");Q(wt,xe,Ke,"#","\\#");Q(ne,xe,Ke,"&","\\&");Q(wt,xe,Ke,"&","\\&");Q(ne,xe,Ke,"ℵ","\\aleph",!0);Q(ne,xe,Ke,"∀","\\forall",!0);Q(ne,xe,Ke,"ℏ","\\hbar",!0);Q(ne,xe,Ke,"∃","\\exists",!0);Q(ne,xe,Ke,"∇","\\nabla",!0);Q(ne,xe,Ke,"♭","\\flat",!0);Q(ne,xe,Ke,"ℓ","\\ell",!0);Q(ne,xe,Ke,"♮","\\natural",!0);Q(ne,xe,Ke,"♣","\\clubsuit",!0);Q(ne,xe,Ke,"℘","\\wp",!0);Q(ne,xe,Ke,"♯","\\sharp",!0);Q(ne,xe,Ke,"♢","\\diamondsuit",!0);Q(ne,xe,Ke,"ℜ","\\Re",!0);Q(ne,xe,Ke,"♡","\\heartsuit",!0);Q(ne,xe,Ke,"ℑ","\\Im",!0);Q(ne,xe,Ke,"♠","\\spadesuit",!0);Q(ne,xe,Ke,"§","\\S",!0);Q(wt,xe,Ke,"§","\\S");Q(ne,xe,Ke,"¶","\\P",!0);Q(wt,xe,Ke,"¶","\\P");Q(ne,xe,Ke,"†","\\dag");Q(wt,xe,Ke,"†","\\dag");Q(wt,xe,Ke,"†","\\textdagger");Q(ne,xe,Ke,"‡","\\ddag");Q(wt,xe,Ke,"‡","\\ddag");Q(wt,xe,Ke,"‡","\\textdaggerdbl");Q(ne,xe,Gs,"⎱","\\rmoustache",!0);Q(ne,xe,Yo,"⎰","\\lmoustache",!0);Q(ne,xe,Gs,"⟯","\\rgroup",!0);Q(ne,xe,Yo,"⟮","\\lgroup",!0);Q(ne,xe,Xt,"∓","\\mp",!0);Q(ne,xe,Xt,"⊖","\\ominus",!0);Q(ne,xe,Xt,"⊎","\\uplus",!0);Q(ne,xe,Xt,"⊓","\\sqcap",!0);Q(ne,xe,Xt,"∗","\\ast");Q(ne,xe,Xt,"⊔","\\sqcup",!0);Q(ne,xe,Xt,"◯","\\bigcirc",!0);Q(ne,xe,Xt,"∙","\\bullet",!0);Q(ne,xe,Xt,"‡","\\ddagger");Q(ne,xe,Xt,"≀","\\wr",!0);Q(ne,xe,Xt,"⨿","\\amalg");Q(ne,xe,Xt,"&","\\And");Q(ne,xe,Ue,"⟵","\\longleftarrow",!0);Q(ne,xe,Ue,"⇐","\\Leftarrow",!0);Q(ne,xe,Ue,"⟸","\\Longleftarrow",!0);Q(ne,xe,Ue,"⟶","\\longrightarrow",!0);Q(ne,xe,Ue,"⇒","\\Rightarrow",!0);Q(ne,xe,Ue,"⟹","\\Longrightarrow",!0);Q(ne,xe,Ue,"↔","\\leftrightarrow",!0);Q(ne,xe,Ue,"⟷","\\longleftrightarrow",!0);Q(ne,xe,Ue,"⇔","\\Leftrightarrow",!0);Q(ne,xe,Ue,"⟺","\\Longleftrightarrow",!0);Q(ne,xe,Ue,"↦","\\mapsto",!0);Q(ne,xe,Ue,"⟼","\\longmapsto",!0);Q(ne,xe,Ue,"↗","\\nearrow",!0);Q(ne,xe,Ue,"↩","\\hookleftarrow",!0);Q(ne,xe,Ue,"↪","\\hookrightarrow",!0);Q(ne,xe,Ue,"↘","\\searrow",!0);Q(ne,xe,Ue,"↼","\\leftharpoonup",!0);Q(ne,xe,Ue,"⇀","\\rightharpoonup",!0);Q(ne,xe,Ue,"↙","\\swarrow",!0);Q(ne,xe,Ue,"↽","\\leftharpoondown",!0);Q(ne,xe,Ue,"⇁","\\rightharpoondown",!0);Q(ne,xe,Ue,"↖","\\nwarrow",!0);Q(ne,xe,Ue,"⇌","\\rightleftharpoons",!0);Q(ne,ze,Ue,"≮","\\nless",!0);Q(ne,ze,Ue,"","\\@nleqslant");Q(ne,ze,Ue,"","\\@nleqq");Q(ne,ze,Ue,"⪇","\\lneq",!0);Q(ne,ze,Ue,"≨","\\lneqq",!0);Q(ne,ze,Ue,"","\\@lvertneqq");Q(ne,ze,Ue,"⋦","\\lnsim",!0);Q(ne,ze,Ue,"⪉","\\lnapprox",!0);Q(ne,ze,Ue,"⊀","\\nprec",!0);Q(ne,ze,Ue,"⋠","\\npreceq",!0);Q(ne,ze,Ue,"⋨","\\precnsim",!0);Q(ne,ze,Ue,"⪹","\\precnapprox",!0);Q(ne,ze,Ue,"≁","\\nsim",!0);Q(ne,ze,Ue,"","\\@nshortmid");Q(ne,ze,Ue,"∤","\\nmid",!0);Q(ne,ze,Ue,"⊬","\\nvdash",!0);Q(ne,ze,Ue,"⊭","\\nvDash",!0);Q(ne,ze,Ue,"⋪","\\ntriangleleft");Q(ne,ze,Ue,"⋬","\\ntrianglelefteq",!0);Q(ne,ze,Ue,"⊊","\\subsetneq",!0);Q(ne,ze,Ue,"","\\@varsubsetneq");Q(ne,ze,Ue,"⫋","\\subsetneqq",!0);Q(ne,ze,Ue,"","\\@varsubsetneqq");Q(ne,ze,Ue,"≯","\\ngtr",!0);Q(ne,ze,Ue,"","\\@ngeqslant");Q(ne,ze,Ue,"","\\@ngeqq");Q(ne,ze,Ue,"⪈","\\gneq",!0);Q(ne,ze,Ue,"≩","\\gneqq",!0);Q(ne,ze,Ue,"","\\@gvertneqq");Q(ne,ze,Ue,"⋧","\\gnsim",!0);Q(ne,ze,Ue,"⪊","\\gnapprox",!0);Q(ne,ze,Ue,"⊁","\\nsucc",!0);Q(ne,ze,Ue,"⋡","\\nsucceq",!0);Q(ne,ze,Ue,"⋩","\\succnsim",!0);Q(ne,ze,Ue,"⪺","\\succnapprox",!0);Q(ne,ze,Ue,"≆","\\ncong",!0);Q(ne,ze,Ue,"","\\@nshortparallel");Q(ne,ze,Ue,"∦","\\nparallel",!0);Q(ne,ze,Ue,"⊯","\\nVDash",!0);Q(ne,ze,Ue,"⋫","\\ntriangleright");Q(ne,ze,Ue,"⋭","\\ntrianglerighteq",!0);Q(ne,ze,Ue,"","\\@nsupseteqq");Q(ne,ze,Ue,"⊋","\\supsetneq",!0);Q(ne,ze,Ue,"","\\@varsupsetneq");Q(ne,ze,Ue,"⫌","\\supsetneqq",!0);Q(ne,ze,Ue,"","\\@varsupsetneqq");Q(ne,ze,Ue,"⊮","\\nVdash",!0);Q(ne,ze,Ue,"⪵","\\precneqq",!0);Q(ne,ze,Ue,"⪶","\\succneqq",!0);Q(ne,ze,Ue,"","\\@nsubseteqq");Q(ne,ze,Xt,"⊴","\\unlhd");Q(ne,ze,Xt,"⊵","\\unrhd");Q(ne,ze,Ue,"↚","\\nleftarrow",!0);Q(ne,ze,Ue,"↛","\\nrightarrow",!0);Q(ne,ze,Ue,"⇍","\\nLeftarrow",!0);Q(ne,ze,Ue,"⇏","\\nRightarrow",!0);Q(ne,ze,Ue,"↮","\\nleftrightarrow",!0);Q(ne,ze,Ue,"⇎","\\nLeftrightarrow",!0);Q(ne,ze,Ue,"△","\\vartriangle");Q(ne,ze,Ke,"ℏ","\\hslash");Q(ne,ze,Ke,"▽","\\triangledown");Q(ne,ze,Ke,"◊","\\lozenge");Q(ne,ze,Ke,"Ⓢ","\\circledS");Q(ne,ze,Ke,"®","\\circledR");Q(wt,ze,Ke,"®","\\circledR");Q(ne,ze,Ke,"∡","\\measuredangle",!0);Q(ne,ze,Ke,"∄","\\nexists");Q(ne,ze,Ke,"℧","\\mho");Q(ne,ze,Ke,"Ⅎ","\\Finv",!0);Q(ne,ze,Ke,"⅁","\\Game",!0);Q(ne,ze,Ke,"‵","\\backprime");Q(ne,ze,Ke,"▲","\\blacktriangle");Q(ne,ze,Ke,"▼","\\blacktriangledown");Q(ne,ze,Ke,"■","\\blacksquare");Q(ne,ze,Ke,"⧫","\\blacklozenge");Q(ne,ze,Ke,"★","\\bigstar");Q(ne,ze,Ke,"∢","\\sphericalangle",!0);Q(ne,ze,Ke,"∁","\\complement",!0);Q(ne,ze,Ke,"ð","\\eth",!0);Q(wt,xe,Ke,"ð","ð");Q(ne,ze,Ke,"╱","\\diagup");Q(ne,ze,Ke,"╲","\\diagdown");Q(ne,ze,Ke,"□","\\square");Q(ne,ze,Ke,"□","\\Box");Q(ne,ze,Ke,"◊","\\Diamond");Q(ne,ze,Ke,"¥","\\yen",!0);Q(wt,ze,Ke,"¥","\\yen",!0);Q(ne,ze,Ke,"✓","\\checkmark",!0);Q(wt,ze,Ke,"✓","\\checkmark");Q(ne,ze,Ke,"ℶ","\\beth",!0);Q(ne,ze,Ke,"ℸ","\\daleth",!0);Q(ne,ze,Ke,"ℷ","\\gimel",!0);Q(ne,ze,Ke,"ϝ","\\digamma",!0);Q(ne,ze,Ke,"ϰ","\\varkappa");Q(ne,ze,Yo,"┌","\\@ulcorner",!0);Q(ne,ze,Gs,"┐","\\@urcorner",!0);Q(ne,ze,Yo,"└","\\@llcorner",!0);Q(ne,ze,Gs,"┘","\\@lrcorner",!0);Q(ne,ze,Ue,"≦","\\leqq",!0);Q(ne,ze,Ue,"⩽","\\leqslant",!0);Q(ne,ze,Ue,"⪕","\\eqslantless",!0);Q(ne,ze,Ue,"≲","\\lesssim",!0);Q(ne,ze,Ue,"⪅","\\lessapprox",!0);Q(ne,ze,Ue,"≊","\\approxeq",!0);Q(ne,ze,Xt,"⋖","\\lessdot");Q(ne,ze,Ue,"⋘","\\lll",!0);Q(ne,ze,Ue,"≶","\\lessgtr",!0);Q(ne,ze,Ue,"⋚","\\lesseqgtr",!0);Q(ne,ze,Ue,"⪋","\\lesseqqgtr",!0);Q(ne,ze,Ue,"≑","\\doteqdot");Q(ne,ze,Ue,"≓","\\risingdotseq",!0);Q(ne,ze,Ue,"≒","\\fallingdotseq",!0);Q(ne,ze,Ue,"∽","\\backsim",!0);Q(ne,ze,Ue,"⋍","\\backsimeq",!0);Q(ne,ze,Ue,"⫅","\\subseteqq",!0);Q(ne,ze,Ue,"⋐","\\Subset",!0);Q(ne,ze,Ue,"⊏","\\sqsubset",!0);Q(ne,ze,Ue,"≼","\\preccurlyeq",!0);Q(ne,ze,Ue,"⋞","\\curlyeqprec",!0);Q(ne,ze,Ue,"≾","\\precsim",!0);Q(ne,ze,Ue,"⪷","\\precapprox",!0);Q(ne,ze,Ue,"⊲","\\vartriangleleft");Q(ne,ze,Ue,"⊴","\\trianglelefteq");Q(ne,ze,Ue,"⊨","\\vDash",!0);Q(ne,ze,Ue,"⊪","\\Vvdash",!0);Q(ne,ze,Ue,"⌣","\\smallsmile");Q(ne,ze,Ue,"⌢","\\smallfrown");Q(ne,ze,Ue,"≏","\\bumpeq",!0);Q(ne,ze,Ue,"≎","\\Bumpeq",!0);Q(ne,ze,Ue,"≧","\\geqq",!0);Q(ne,ze,Ue,"⩾","\\geqslant",!0);Q(ne,ze,Ue,"⪖","\\eqslantgtr",!0);Q(ne,ze,Ue,"≳","\\gtrsim",!0);Q(ne,ze,Ue,"⪆","\\gtrapprox",!0);Q(ne,ze,Xt,"⋗","\\gtrdot");Q(ne,ze,Ue,"⋙","\\ggg",!0);Q(ne,ze,Ue,"≷","\\gtrless",!0);Q(ne,ze,Ue,"⋛","\\gtreqless",!0);Q(ne,ze,Ue,"⪌","\\gtreqqless",!0);Q(ne,ze,Ue,"≖","\\eqcirc",!0);Q(ne,ze,Ue,"≗","\\circeq",!0);Q(ne,ze,Ue,"≜","\\triangleq",!0);Q(ne,ze,Ue,"∼","\\thicksim");Q(ne,ze,Ue,"≈","\\thickapprox");Q(ne,ze,Ue,"⫆","\\supseteqq",!0);Q(ne,ze,Ue,"⋑","\\Supset",!0);Q(ne,ze,Ue,"⊐","\\sqsupset",!0);Q(ne,ze,Ue,"≽","\\succcurlyeq",!0);Q(ne,ze,Ue,"⋟","\\curlyeqsucc",!0);Q(ne,ze,Ue,"≿","\\succsim",!0);Q(ne,ze,Ue,"⪸","\\succapprox",!0);Q(ne,ze,Ue,"⊳","\\vartriangleright");Q(ne,ze,Ue,"⊵","\\trianglerighteq");Q(ne,ze,Ue,"⊩","\\Vdash",!0);Q(ne,ze,Ue,"∣","\\shortmid");Q(ne,ze,Ue,"∥","\\shortparallel");Q(ne,ze,Ue,"≬","\\between",!0);Q(ne,ze,Ue,"⋔","\\pitchfork",!0);Q(ne,ze,Ue,"∝","\\varpropto");Q(ne,ze,Ue,"◀","\\blacktriangleleft");Q(ne,ze,Ue,"∴","\\therefore",!0);Q(ne,ze,Ue,"∍","\\backepsilon");Q(ne,ze,Ue,"▶","\\blacktriangleright");Q(ne,ze,Ue,"∵","\\because",!0);Q(ne,ze,Ue,"⋘","\\llless");Q(ne,ze,Ue,"⋙","\\gggtr");Q(ne,ze,Xt,"⊲","\\lhd");Q(ne,ze,Xt,"⊳","\\rhd");Q(ne,ze,Ue,"≂","\\eqsim",!0);Q(ne,xe,Ue,"⋈","\\Join");Q(ne,ze,Ue,"≑","\\Doteq",!0);Q(ne,ze,Xt,"∔","\\dotplus",!0);Q(ne,ze,Xt,"∖","\\smallsetminus");Q(ne,ze,Xt,"⋒","\\Cap",!0);Q(ne,ze,Xt,"⋓","\\Cup",!0);Q(ne,ze,Xt,"⩞","\\doublebarwedge",!0);Q(ne,ze,Xt,"⊟","\\boxminus",!0);Q(ne,ze,Xt,"⊞","\\boxplus",!0);Q(ne,ze,Xt,"⋇","\\divideontimes",!0);Q(ne,ze,Xt,"⋉","\\ltimes",!0);Q(ne,ze,Xt,"⋊","\\rtimes",!0);Q(ne,ze,Xt,"⋋","\\leftthreetimes",!0);Q(ne,ze,Xt,"⋌","\\rightthreetimes",!0);Q(ne,ze,Xt,"⋏","\\curlywedge",!0);Q(ne,ze,Xt,"⋎","\\curlyvee",!0);Q(ne,ze,Xt,"⊝","\\circleddash",!0);Q(ne,ze,Xt,"⊛","\\circledast",!0);Q(ne,ze,Xt,"⋅","\\centerdot");Q(ne,ze,Xt,"⊺","\\intercal",!0);Q(ne,ze,Xt,"⋒","\\doublecap");Q(ne,ze,Xt,"⋓","\\doublecup");Q(ne,ze,Xt,"⊠","\\boxtimes",!0);Q(ne,ze,Ue,"⇢","\\dashrightarrow",!0);Q(ne,ze,Ue,"⇠","\\dashleftarrow",!0);Q(ne,ze,Ue,"⇇","\\leftleftarrows",!0);Q(ne,ze,Ue,"⇆","\\leftrightarrows",!0);Q(ne,ze,Ue,"⇚","\\Lleftarrow",!0);Q(ne,ze,Ue,"↞","\\twoheadleftarrow",!0);Q(ne,ze,Ue,"↢","\\leftarrowtail",!0);Q(ne,ze,Ue,"↫","\\looparrowleft",!0);Q(ne,ze,Ue,"⇋","\\leftrightharpoons",!0);Q(ne,ze,Ue,"↶","\\curvearrowleft",!0);Q(ne,ze,Ue,"↺","\\circlearrowleft",!0);Q(ne,ze,Ue,"↰","\\Lsh",!0);Q(ne,ze,Ue,"⇈","\\upuparrows",!0);Q(ne,ze,Ue,"↿","\\upharpoonleft",!0);Q(ne,ze,Ue,"⇃","\\downharpoonleft",!0);Q(ne,xe,Ue,"⊶","\\origof",!0);Q(ne,xe,Ue,"⊷","\\imageof",!0);Q(ne,ze,Ue,"⊸","\\multimap",!0);Q(ne,ze,Ue,"↭","\\leftrightsquigarrow",!0);Q(ne,ze,Ue,"⇉","\\rightrightarrows",!0);Q(ne,ze,Ue,"⇄","\\rightleftarrows",!0);Q(ne,ze,Ue,"↠","\\twoheadrightarrow",!0);Q(ne,ze,Ue,"↣","\\rightarrowtail",!0);Q(ne,ze,Ue,"↬","\\looparrowright",!0);Q(ne,ze,Ue,"↷","\\curvearrowright",!0);Q(ne,ze,Ue,"↻","\\circlearrowright",!0);Q(ne,ze,Ue,"↱","\\Rsh",!0);Q(ne,ze,Ue,"⇊","\\downdownarrows",!0);Q(ne,ze,Ue,"↾","\\upharpoonright",!0);Q(ne,ze,Ue,"⇂","\\downharpoonright",!0);Q(ne,ze,Ue,"⇝","\\rightsquigarrow",!0);Q(ne,ze,Ue,"⇝","\\leadsto");Q(ne,ze,Ue,"⇛","\\Rrightarrow",!0);Q(ne,ze,Ue,"↾","\\restriction");Q(ne,xe,Ke,"‘","`");Q(ne,xe,Ke,"$","\\$");Q(wt,xe,Ke,"$","\\$");Q(wt,xe,Ke,"$","\\textdollar");Q(ne,xe,Ke,"%","\\%");Q(wt,xe,Ke,"%","\\%");Q(ne,xe,Ke,"_","\\_");Q(wt,xe,Ke,"_","\\_");Q(wt,xe,Ke,"_","\\textunderscore");Q(ne,xe,Ke,"∠","\\angle",!0);Q(ne,xe,Ke,"∞","\\infty",!0);Q(ne,xe,Ke,"′","\\prime");Q(ne,xe,Ke,"△","\\triangle");Q(ne,xe,Ke,"Γ","\\Gamma",!0);Q(ne,xe,Ke,"Δ","\\Delta",!0);Q(ne,xe,Ke,"Θ","\\Theta",!0);Q(ne,xe,Ke,"Λ","\\Lambda",!0);Q(ne,xe,Ke,"Ξ","\\Xi",!0);Q(ne,xe,Ke,"Π","\\Pi",!0);Q(ne,xe,Ke,"Σ","\\Sigma",!0);Q(ne,xe,Ke,"Υ","\\Upsilon",!0);Q(ne,xe,Ke,"Φ","\\Phi",!0);Q(ne,xe,Ke,"Ψ","\\Psi",!0);Q(ne,xe,Ke,"Ω","\\Omega",!0);Q(ne,xe,Ke,"A","Α");Q(ne,xe,Ke,"B","Β");Q(ne,xe,Ke,"E","Ε");Q(ne,xe,Ke,"Z","Ζ");Q(ne,xe,Ke,"H","Η");Q(ne,xe,Ke,"I","Ι");Q(ne,xe,Ke,"K","Κ");Q(ne,xe,Ke,"M","Μ");Q(ne,xe,Ke,"N","Ν");Q(ne,xe,Ke,"O","Ο");Q(ne,xe,Ke,"P","Ρ");Q(ne,xe,Ke,"T","Τ");Q(ne,xe,Ke,"X","Χ");Q(ne,xe,Ke,"¬","\\neg",!0);Q(ne,xe,Ke,"¬","\\lnot");Q(ne,xe,Ke,"⊤","\\top");Q(ne,xe,Ke,"⊥","\\bot");Q(ne,xe,Ke,"∅","\\emptyset");Q(ne,ze,Ke,"∅","\\varnothing");Q(ne,xe,xr,"α","\\alpha",!0);Q(ne,xe,xr,"β","\\beta",!0);Q(ne,xe,xr,"γ","\\gamma",!0);Q(ne,xe,xr,"δ","\\delta",!0);Q(ne,xe,xr,"ϵ","\\epsilon",!0);Q(ne,xe,xr,"ζ","\\zeta",!0);Q(ne,xe,xr,"η","\\eta",!0);Q(ne,xe,xr,"θ","\\theta",!0);Q(ne,xe,xr,"ι","\\iota",!0);Q(ne,xe,xr,"κ","\\kappa",!0);Q(ne,xe,xr,"λ","\\lambda",!0);Q(ne,xe,xr,"μ","\\mu",!0);Q(ne,xe,xr,"ν","\\nu",!0);Q(ne,xe,xr,"ξ","\\xi",!0);Q(ne,xe,xr,"ο","\\omicron",!0);Q(ne,xe,xr,"π","\\pi",!0);Q(ne,xe,xr,"ρ","\\rho",!0);Q(ne,xe,xr,"σ","\\sigma",!0);Q(ne,xe,xr,"τ","\\tau",!0);Q(ne,xe,xr,"υ","\\upsilon",!0);Q(ne,xe,xr,"ϕ","\\phi",!0);Q(ne,xe,xr,"χ","\\chi",!0);Q(ne,xe,xr,"ψ","\\psi",!0);Q(ne,xe,xr,"ω","\\omega",!0);Q(ne,xe,xr,"ε","\\varepsilon",!0);Q(ne,xe,xr,"ϑ","\\vartheta",!0);Q(ne,xe,xr,"ϖ","\\varpi",!0);Q(ne,xe,xr,"ϱ","\\varrho",!0);Q(ne,xe,xr,"ς","\\varsigma",!0);Q(ne,xe,xr,"φ","\\varphi",!0);Q(ne,xe,Xt,"∗","*",!0);Q(ne,xe,Xt,"+","+");Q(ne,xe,Xt,"−","-",!0);Q(ne,xe,Xt,"⋅","\\cdot",!0);Q(ne,xe,Xt,"∘","\\circ",!0);Q(ne,xe,Xt,"÷","\\div",!0);Q(ne,xe,Xt,"±","\\pm",!0);Q(ne,xe,Xt,"×","\\times",!0);Q(ne,xe,Xt,"∩","\\cap",!0);Q(ne,xe,Xt,"∪","\\cup",!0);Q(ne,xe,Xt,"∖","\\setminus",!0);Q(ne,xe,Xt,"∧","\\land");Q(ne,xe,Xt,"∨","\\lor");Q(ne,xe,Xt,"∧","\\wedge",!0);Q(ne,xe,Xt,"∨","\\vee",!0);Q(ne,xe,Ke,"√","\\surd");Q(ne,xe,Yo,"⟨","\\langle",!0);Q(ne,xe,Yo,"∣","\\lvert");Q(ne,xe,Yo,"∥","\\lVert");Q(ne,xe,Gs,"?","?");Q(ne,xe,Gs,"!","!");Q(ne,xe,Gs,"⟩","\\rangle",!0);Q(ne,xe,Gs,"∣","\\rvert");Q(ne,xe,Gs,"∥","\\rVert");Q(ne,xe,Ue,"=","=");Q(ne,xe,Ue,":",":");Q(ne,xe,Ue,"≈","\\approx",!0);Q(ne,xe,Ue,"≅","\\cong",!0);Q(ne,xe,Ue,"≥","\\ge");Q(ne,xe,Ue,"≥","\\geq",!0);Q(ne,xe,Ue,"←","\\gets");Q(ne,xe,Ue,">","\\gt",!0);Q(ne,xe,Ue,"∈","\\in",!0);Q(ne,xe,Ue,"","\\@not");Q(ne,xe,Ue,"⊂","\\subset",!0);Q(ne,xe,Ue,"⊃","\\supset",!0);Q(ne,xe,Ue,"⊆","\\subseteq",!0);Q(ne,xe,Ue,"⊇","\\supseteq",!0);Q(ne,ze,Ue,"⊈","\\nsubseteq",!0);Q(ne,ze,Ue,"⊉","\\nsupseteq",!0);Q(ne,xe,Ue,"⊨","\\models");Q(ne,xe,Ue,"←","\\leftarrow",!0);Q(ne,xe,Ue,"≤","\\le");Q(ne,xe,Ue,"≤","\\leq",!0);Q(ne,xe,Ue,"<","\\lt",!0);Q(ne,xe,Ue,"→","\\rightarrow",!0);Q(ne,xe,Ue,"→","\\to");Q(ne,ze,Ue,"≱","\\ngeq",!0);Q(ne,ze,Ue,"≰","\\nleq",!0);Q(ne,xe,xh," ","\\ ");Q(ne,xe,xh," ","\\space");Q(ne,xe,xh," ","\\nobreakspace");Q(wt,xe,xh," ","\\ ");Q(wt,xe,xh," "," ");Q(wt,xe,xh," ","\\space");Q(wt,xe,xh," ","\\nobreakspace");Q(ne,xe,xh,null,"\\nobreak");Q(ne,xe,xh,null,"\\allowbreak");Q(ne,xe,cT,",",",");Q(ne,xe,cT,";",";");Q(ne,ze,Xt,"⊼","\\barwedge",!0);Q(ne,ze,Xt,"⊻","\\veebar",!0);Q(ne,xe,Xt,"⊙","\\odot",!0);Q(ne,xe,Xt,"⊕","\\oplus",!0);Q(ne,xe,Xt,"⊗","\\otimes",!0);Q(ne,xe,Ke,"∂","\\partial",!0);Q(ne,xe,Xt,"⊘","\\oslash",!0);Q(ne,ze,Xt,"⊚","\\circledcirc",!0);Q(ne,ze,Xt,"⊡","\\boxdot",!0);Q(ne,xe,Xt,"△","\\bigtriangleup");Q(ne,xe,Xt,"▽","\\bigtriangledown");Q(ne,xe,Xt,"†","\\dagger");Q(ne,xe,Xt,"⋄","\\diamond");Q(ne,xe,Xt,"⋆","\\star");Q(ne,xe,Xt,"◃","\\triangleleft");Q(ne,xe,Xt,"▹","\\triangleright");Q(ne,xe,Yo,"{","\\{");Q(wt,xe,Ke,"{","\\{");Q(wt,xe,Ke,"{","\\textbraceleft");Q(ne,xe,Gs,"}","\\}");Q(wt,xe,Ke,"}","\\}");Q(wt,xe,Ke,"}","\\textbraceright");Q(ne,xe,Yo,"{","\\lbrace");Q(ne,xe,Gs,"}","\\rbrace");Q(ne,xe,Yo,"[","\\lbrack",!0);Q(wt,xe,Ke,"[","\\lbrack",!0);Q(ne,xe,Gs,"]","\\rbrack",!0);Q(wt,xe,Ke,"]","\\rbrack",!0);Q(ne,xe,Yo,"(","\\lparen",!0);Q(ne,xe,Gs,")","\\rparen",!0);Q(wt,xe,Ke,"<","\\textless",!0);Q(wt,xe,Ke,">","\\textgreater",!0);Q(ne,xe,Yo,"⌊","\\lfloor",!0);Q(ne,xe,Gs,"⌋","\\rfloor",!0);Q(ne,xe,Yo,"⌈","\\lceil",!0);Q(ne,xe,Gs,"⌉","\\rceil",!0);Q(ne,xe,Ke,"\\","\\backslash");Q(ne,xe,Ke,"∣","|");Q(ne,xe,Ke,"∣","\\vert");Q(wt,xe,Ke,"|","\\textbar",!0);Q(ne,xe,Ke,"∥","\\|");Q(ne,xe,Ke,"∥","\\Vert");Q(wt,xe,Ke,"∥","\\textbardbl");Q(wt,xe,Ke,"~","\\textasciitilde");Q(wt,xe,Ke,"\\","\\textbackslash");Q(wt,xe,Ke,"^","\\textasciicircum");Q(ne,xe,Ue,"↑","\\uparrow",!0);Q(ne,xe,Ue,"⇑","\\Uparrow",!0);Q(ne,xe,Ue,"↓","\\downarrow",!0);Q(ne,xe,Ue,"⇓","\\Downarrow",!0);Q(ne,xe,Ue,"↕","\\updownarrow",!0);Q(ne,xe,Ue,"⇕","\\Updownarrow",!0);Q(ne,xe,zi,"∐","\\coprod");Q(ne,xe,zi,"⋁","\\bigvee");Q(ne,xe,zi,"⋀","\\bigwedge");Q(ne,xe,zi,"⨄","\\biguplus");Q(ne,xe,zi,"⋂","\\bigcap");Q(ne,xe,zi,"⋃","\\bigcup");Q(ne,xe,zi,"∫","\\int");Q(ne,xe,zi,"∫","\\intop");Q(ne,xe,zi,"∬","\\iint");Q(ne,xe,zi,"∭","\\iiint");Q(ne,xe,zi,"∏","\\prod");Q(ne,xe,zi,"∑","\\sum");Q(ne,xe,zi,"⨂","\\bigotimes");Q(ne,xe,zi,"⨁","\\bigoplus");Q(ne,xe,zi,"⨀","\\bigodot");Q(ne,xe,zi,"∮","\\oint");Q(ne,xe,zi,"∯","\\oiint");Q(ne,xe,zi,"∰","\\oiiint");Q(ne,xe,zi,"⨆","\\bigsqcup");Q(ne,xe,zi,"∫","\\smallint");Q(wt,xe,iv,"…","\\textellipsis");Q(ne,xe,iv,"…","\\mathellipsis");Q(wt,xe,iv,"…","\\ldots",!0);Q(ne,xe,iv,"…","\\ldots",!0);Q(ne,xe,iv,"⋯","\\@cdots",!0);Q(ne,xe,iv,"⋱","\\ddots",!0);Q(ne,xe,Ke,"⋮","\\varvdots");Q(ne,xe,ti,"ˊ","\\acute");Q(ne,xe,ti,"ˋ","\\grave");Q(ne,xe,ti,"¨","\\ddot");Q(ne,xe,ti,"~","\\tilde");Q(ne,xe,ti,"ˉ","\\bar");Q(ne,xe,ti,"˘","\\breve");Q(ne,xe,ti,"ˇ","\\check");Q(ne,xe,ti,"^","\\hat");Q(ne,xe,ti,"⃗","\\vec");Q(ne,xe,ti,"˙","\\dot");Q(ne,xe,ti,"˚","\\mathring");Q(ne,xe,xr,"","\\@imath");Q(ne,xe,xr,"","\\@jmath");Q(ne,xe,Ke,"ı","ı");Q(ne,xe,Ke,"ȷ","ȷ");Q(wt,xe,Ke,"ı","\\i",!0);Q(wt,xe,Ke,"ȷ","\\j",!0);Q(wt,xe,Ke,"ß","\\ss",!0);Q(wt,xe,Ke,"æ","\\ae",!0);Q(wt,xe,Ke,"œ","\\oe",!0);Q(wt,xe,Ke,"ø","\\o",!0);Q(wt,xe,Ke,"Æ","\\AE",!0);Q(wt,xe,Ke,"Œ","\\OE",!0);Q(wt,xe,Ke,"Ø","\\O",!0);Q(wt,xe,ti,"ˊ","\\'");Q(wt,xe,ti,"ˋ","\\`");Q(wt,xe,ti,"ˆ","\\^");Q(wt,xe,ti,"˜","\\~");Q(wt,xe,ti,"ˉ","\\=");Q(wt,xe,ti,"˘","\\u");Q(wt,xe,ti,"˙","\\.");Q(wt,xe,ti,"¸","\\c");Q(wt,xe,ti,"˚","\\r");Q(wt,xe,ti,"ˇ","\\v");Q(wt,xe,ti,"¨",'\\"');Q(wt,xe,ti,"˝","\\H");Q(wt,xe,ti,"◯","\\textcircled");var wre={"--":!0,"---":!0,"``":!0,"''":!0};Q(wt,xe,Ke,"–","--",!0);Q(wt,xe,Ke,"–","\\textendash");Q(wt,xe,Ke,"—","---",!0);Q(wt,xe,Ke,"—","\\textemdash");Q(wt,xe,Ke,"‘","`",!0);Q(wt,xe,Ke,"‘","\\textquoteleft");Q(wt,xe,Ke,"’","'",!0);Q(wt,xe,Ke,"’","\\textquoteright");Q(wt,xe,Ke,"“","``",!0);Q(wt,xe,Ke,"“","\\textquotedblleft");Q(wt,xe,Ke,"”","''",!0);Q(wt,xe,Ke,"”","\\textquotedblright");Q(ne,xe,Ke,"°","\\degree",!0);Q(wt,xe,Ke,"°","\\degree");Q(wt,xe,Ke,"°","\\textdegree",!0);Q(ne,xe,Ke,"£","\\pounds");Q(ne,xe,Ke,"£","\\mathsterling",!0);Q(wt,xe,Ke,"£","\\pounds");Q(wt,xe,Ke,"£","\\textsterling",!0);Q(ne,ze,Ke,"✠","\\maltese");Q(wt,ze,Ke,"✠","\\maltese");var mH='0123456789/@."';for(var c8=0;c8<mH.length;c8++){var yH=mH.charAt(c8);Q(ne,xe,Ke,yH,yH)}var xH='0123456789!@*()-=+";:?/.,';for(var h8=0;h8<xH.length;h8++){var bH=xH.charAt(h8);Q(wt,xe,Ke,bH,bH)}var Ck="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var f8=0;f8<Ck.length;f8++){var g3=Ck.charAt(f8);Q(ne,xe,xr,g3,g3),Q(wt,xe,Ke,g3,g3)}Q(ne,ze,Ke,"C","ℂ");Q(wt,ze,Ke,"C","ℂ");Q(ne,ze,Ke,"H","ℍ");Q(wt,ze,Ke,"H","ℍ");Q(ne,ze,Ke,"N","ℕ");Q(wt,ze,Ke,"N","ℕ");Q(ne,ze,Ke,"P","ℙ");Q(wt,ze,Ke,"P","ℙ");Q(ne,ze,Ke,"Q","ℚ");Q(wt,ze,Ke,"Q","ℚ");Q(ne,ze,Ke,"R","ℝ");Q(wt,ze,Ke,"R","ℝ");Q(ne,ze,Ke,"Z","ℤ");Q(wt,ze,Ke,"Z","ℤ");Q(ne,xe,xr,"h","ℎ");Q(wt,xe,xr,"h","ℎ");var Ar="";for(var Cs=0;Cs<Ck.length;Cs++){var pi=Ck.charAt(Cs);Ar=String.fromCharCode(55349,56320+Cs),Q(ne,xe,xr,pi,Ar),Q(wt,xe,Ke,pi,Ar),Ar=String.fromCharCode(55349,56372+Cs),Q(ne,xe,xr,pi,Ar),Q(wt,xe,Ke,pi,Ar),Ar=String.fromCharCode(55349,56424+Cs),Q(ne,xe,xr,pi,Ar),Q(wt,xe,Ke,pi,Ar),Ar=String.fromCharCode(55349,56580+Cs),Q(ne,xe,xr,pi,Ar),Q(wt,xe,Ke,pi,Ar),Ar=String.fromCharCode(55349,56684+Cs),Q(ne,xe,xr,pi,Ar),Q(wt,xe,Ke,pi,Ar),Ar=String.fromCharCode(55349,56736+Cs),Q(ne,xe,xr,pi,Ar),Q(wt,xe,Ke,pi,Ar),Ar=String.fromCharCode(55349,56788+Cs),Q(ne,xe,xr,pi,Ar),Q(wt,xe,Ke,pi,Ar),Ar=String.fromCharCode(55349,56840+Cs),Q(ne,xe,xr,pi,Ar),Q(wt,xe,Ke,pi,Ar),Ar=String.fromCharCode(55349,56944+Cs),Q(ne,xe,xr,pi,Ar),Q(wt,xe,Ke,pi,Ar),Cs<26&&(Ar=String.fromCharCode(55349,56632+Cs),Q(ne,xe,xr,pi,Ar),Q(wt,xe,Ke,pi,Ar),Ar=String.fromCharCode(55349,56476+Cs),Q(ne,xe,xr,pi,Ar),Q(wt,xe,Ke,pi,Ar))}Ar=String.fromCharCode(55349,56668);Q(ne,xe,xr,"k",Ar);Q(wt,xe,Ke,"k",Ar);for(var Sd=0;Sd<10;Sd++){var Ph=Sd.toString();Ar=String.fromCharCode(55349,57294+Sd),Q(ne,xe,xr,Ph,Ar),Q(wt,xe,Ke,Ph,Ar),Ar=String.fromCharCode(55349,57314+Sd),Q(ne,xe,xr,Ph,Ar),Q(wt,xe,Ke,Ph,Ar),Ar=String.fromCharCode(55349,57324+Sd),Q(ne,xe,xr,Ph,Ar),Q(wt,xe,Ke,Ph,Ar),Ar=String.fromCharCode(55349,57334+Sd),Q(ne,xe,xr,Ph,Ar),Q(wt,xe,Ke,Ph,Ar)}var D9="ÐÞþ";for(var d8=0;d8<D9.length;d8++){var v3=D9.charAt(d8);Q(ne,xe,xr,v3,v3),Q(wt,xe,Ke,v3,v3)}var m3=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wH=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],G9e=function(e,r){var n=e.charCodeAt(0),i=e.charCodeAt(1),a=(n-55296)*1024+(i-56320)+65536,s=r==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[m3[o][2],m3[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[wH[l][2],wH[l][s]]}else{if(a===120485||a===120486)return[m3[0][2],m3[0][s]];if(120486<a&&a<120782)return["",""];throw new Rt("Unsupported character: "+e)}},hT=function(e,r,n){return Bn[n][e]&&Bn[n][e].replace&&(e=Bn[n][e].replace),{value:e,metrics:qM(e,r,n)}},Vl=function(e,r,n,i,a){var s=hT(e,r,n),o=s.metrics;e=s.value;var l;if(o){var u=o.italic;(n==="text"||i&&i.font==="mathit")&&(u=0),l=new Tl(e,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+n+"'")),l=new Tl(e,0,0,0,0,0,a);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var h=i.getColor();h&&(l.style.color=h)}return l},W9e=function(e,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&hT(e,"Main-Bold",r).metrics?Vl(e,"Main-Bold",r,n,i.concat(["mathbf"])):e==="\\"||Bn[r][e].font==="main"?Vl(e,"Main-Regular",r,n,i):Vl(e,"AMS-Regular",r,n,i.concat(["amsrm"]))},q9e=function(e,r,n,i,a){return a!=="textord"&&hT(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Y9e=function(e,r,n){var i=e.mode,a=e.text,s=["mord"],o=i==="math"||i==="text"&&r.font,l=o?r.font:r.fontFamily,u="",h="";if(a.charCodeAt(0)===55349&&([u,h]=G9e(a,i)),u.length>0)return Vl(a,u,i,r,s.concat(h));if(l){var f,d;if(l==="boldsymbol"){var p=q9e(a,i,r,s,n);f=p.fontName,d=[p.fontClass]}else o?(f=Ere[l].fontName,d=[l]):(f=y3(l,r.fontWeight,r.fontShape),d=[l,r.fontWeight,r.fontShape]);if(hT(a,f,i).metrics)return Vl(a,f,i,r,s.concat(d));if(wre.hasOwnProperty(a)&&f.slice(0,10)==="Typewriter"){for(var v=[],m=0;m<a.length;m++)v.push(Vl(a[m],f,i,r,s.concat(d)));return Sre(v)}}if(n==="mathord")return Vl(a,"Math-Italic",i,r,s.concat(["mathnormal"]));if(n==="textord"){var x=Bn[i][a]&&Bn[i][a].font;if(x==="ams"){var y=y3("amsrm",r.fontWeight,r.fontShape);return Vl(a,y,i,r,s.concat("amsrm",r.fontWeight,r.fontShape))}else if(x==="main"||!x){var w=y3("textrm",r.fontWeight,r.fontShape);return Vl(a,w,i,r,s.concat(r.fontWeight,r.fontShape))}else{var k=y3(x,r.fontWeight,r.fontShape);return Vl(a,k,i,r,s.concat(k,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},X9e=(t,e)=>{if(If(t.classes)!==If(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},j9e=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof Tl&&n instanceof Tl&&X9e(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t},XM=function(e){for(var r=0,n=0,i=0,a=0;a<e.children.length;a++){var s=e.children[a];s.height>r&&(r=s.height),s.depth>n&&(n=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}e.height=r,e.depth=n,e.maxFontSize=i},js=function(e,r,n,i){var a=new fb(e,r,n,i);return XM(a),a},kre=(t,e,r,n)=>new fb(t,e,r,n),K9e=function(e,r,n){var i=js([e],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=Ft(i.height),i.maxFontSize=1,i},Q9e=function(e,r,n,i){var a=new YM(e,r,n,i);return XM(a),a},Sre=function(e){var r=new hb(e);return XM(r),r},Z9e=function(e,r){return e instanceof hb?js([],[e],r):e},J9e=function(e){if(e.positionType==="individualShift"){for(var r=e.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,a=i,s=1;s<r.length;s++){var o=-r[s].shift-a-r[s].elem.depth,l=o-(r[s-1].elem.height+r[s-1].elem.depth);a=a+o,n.push({type:"kern",size:l}),n.push(r[s])}return{children:n,depth:i}}var u;if(e.positionType==="top"){for(var h=e.positionData,f=0;f<e.children.length;f++){var d=e.children[f];h-=d.type==="kern"?d.size:d.elem.height+d.elem.depth}u=h}else if(e.positionType==="bottom")u=-e.positionData;else{var p=e.children[0];if(p.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-p.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-p.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},eLe=function(e,r){for(var{children:n,depth:i}=J9e(e),a=0,s=0;s<n.length;s++){var o=n[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=js(["pstrut"],[]);u.style.height=Ft(a);for(var h=[],f=i,d=i,p=i,v=0;v<n.length;v++){var m=n[v];if(m.type==="kern")p+=m.size;else{var x=m.elem,y=m.wrapperClasses||[],w=m.wrapperStyle||{},k=js(y,[u,x],void 0,w);k.style.top=Ft(-a-p-x.depth),m.marginLeft&&(k.style.marginLeft=m.marginLeft),m.marginRight&&(k.style.marginRight=m.marginRight),h.push(k),p+=x.height+x.depth}f=Math.min(f,p),d=Math.max(d,p)}var E=js(["vlist"],h);E.style.height=Ft(d);var C;if(f<0){var L=js([],[]),_=js(["vlist"],[L]);_.style.height=Ft(-f);var I=js(["vlist-s"],[new Tl("​")]);C=[js(["vlist-r"],[E,I]),js(["vlist-r"],[_])]}else C=[js(["vlist-r"],[E])];var M=js(["vlist-t"],C);return C.length===2&&M.classes.push("vlist-t2"),M.height=d,M.depth=-f,M},tLe=(t,e)=>{var r=js(["mspace"],[],e),n=oi(t,e);return r.style.marginRight=Ft(n),r},y3=function(e,r,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var a;return r==="textbf"&&n==="textit"?a="BoldItalic":r==="textbf"?a="Bold":r==="textit"?a="Italic":a="Regular",i+"-"+a},Ere={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Tre={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},rLe=function(e,r){var[n,i,a]=Tre[e],s=new Of(n),o=new th([s],{width:Ft(i),height:Ft(a),style:"width:"+Ft(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=kre(["overlay"],[o],r);return l.height=a,l.style.height=Ft(a),l.style.width=Ft(i),l},rt={fontMap:Ere,makeSymbol:Vl,mathsym:W9e,makeSpan:js,makeSvgSpan:kre,makeLineSpan:K9e,makeAnchor:Q9e,makeFragment:Sre,wrapFragment:Z9e,makeVList:eLe,makeOrd:Y9e,makeGlue:tLe,staticSvg:rLe,svgData:Tre,tryCombineChars:j9e},ai={number:3,unit:"mu"},Ed={number:4,unit:"mu"},bc={number:5,unit:"mu"},nLe={mord:{mop:ai,mbin:Ed,mrel:bc,minner:ai},mop:{mord:ai,mop:ai,mrel:bc,minner:ai},mbin:{mord:Ed,mop:Ed,mopen:Ed,minner:Ed},mrel:{mord:bc,mop:bc,mopen:bc,minner:bc},mopen:{},mclose:{mop:ai,mbin:Ed,mrel:bc,minner:ai},mpunct:{mord:ai,mop:ai,mrel:bc,mopen:ai,mclose:ai,mpunct:ai,minner:ai},minner:{mord:ai,mop:ai,mbin:Ed,mrel:bc,mopen:ai,mpunct:ai,minner:ai}},iLe={mord:{mop:ai},mop:{mord:ai,mop:ai},mbin:{},mrel:{},mopen:{},mclose:{mop:ai},mpunct:{},minner:{mop:ai}},Cre={},Ak={},_k={};function qt(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},l=0;l<r.length;++l)Cre[r[l]]=o;e&&(a&&(Ak[e]=a),s&&(_k[e]=s))}function op(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;qt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var Lk=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Ri=function(e){return e.type==="ordgroup"?e.body:[e]},rh=rt.makeSpan,aLe=["leftmost","mbin","mopen","mrel","mop","mpunct"],sLe=["rightmost","mrel","mclose","mpunct"],oLe={display:br.DISPLAY,text:br.TEXT,script:br.SCRIPT,scriptscript:br.SCRIPTSCRIPT},lLe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},aa=function(e,r,n,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<e.length;s++){var o=en(e[s],r);if(o instanceof hb){var l=o.children;a.push(...l)}else a.push(o)}if(rt.tryCombineChars(a),!n)return a;var u=r;if(e.length===1){var h=e[0];h.type==="sizing"?u=r.havingSize(h.size):h.type==="styling"&&(u=r.havingStyle(oLe[h.style]))}var f=rh([i[0]||"leftmost"],[],r),d=rh([i[1]||"rightmost"],[],r),p=n==="root";return kH(a,(v,m)=>{var x=m.classes[0],y=v.classes[0];x==="mbin"&&vr.contains(sLe,y)?m.classes[0]="mord":y==="mbin"&&vr.contains(aLe,x)&&(v.classes[0]="mord")},{node:f},d,p),kH(a,(v,m)=>{var x=R9(m),y=R9(v),w=x&&y?v.hasClass("mtight")?iLe[x][y]:nLe[x][y]:null;if(w)return rt.makeGlue(w,u)},{node:f},d,p),a},kH=function t(e,r,n,i,a){i&&e.push(i);for(var s=0;s<e.length;s++){var o=e[s],l=Are(o);if(l){t(l.children,r,n,null,a);continue}var u=!o.hasClass("mspace");if(u){var h=r(o,n.node);h&&(n.insertAfter?n.insertAfter(h):(e.unshift(h),s++))}u?n.node=o:a&&o.hasClass("newline")&&(n.node=rh(["leftmost"])),n.insertAfter=(f=>d=>{e.splice(f+1,0,d),s++})(s)}i&&e.pop()},Are=function(e){return e instanceof hb||e instanceof YM||e instanceof fb&&e.hasClass("enclosing")?e:null},uLe=function t(e,r){var n=Are(e);if(n){var i=n.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},R9=function(e,r){return e?(r&&(e=uLe(e,r)),lLe[e.classes[0]]||null):null},E2=function(e,r){var n=["nulldelimiter"].concat(e.baseSizingClasses());return rh(r.concat(n))},en=function(e,r,n){if(!e)return rh();if(Ak[e.type]){var i=Ak[e.type](e,r);if(n&&r.size!==n.size){i=rh(r.sizingClasses(n),[i],r);var a=r.sizeMultiplier/n.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new Rt("Got group of unknown type: '"+e.type+"'")};function x3(t,e){var r=rh(["base"],t,e),n=rh(["strut"]);return n.style.height=Ft(r.height+r.depth),r.depth&&(n.style.verticalAlign=Ft(-r.depth)),r.children.unshift(n),r}function M9(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n=aa(t,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var a=[],s=[],o=0;o<n.length;o++)if(s.push(n[o]),n[o].hasClass("mbin")||n[o].hasClass("mrel")||n[o].hasClass("allowbreak")){for(var l=!1;o<n.length-1&&n[o+1].hasClass("mspace")&&!n[o+1].hasClass("newline");)o++,s.push(n[o]),n[o].hasClass("nobreak")&&(l=!0);l||(a.push(x3(s,e)),s=[])}else n[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(x3(s,e)),s=[]),a.push(n[o]));s.length>0&&a.push(x3(s,e));var u;r?(u=x3(aa(r,e,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var h=rh(["katex-html"],a);if(h.setAttribute("aria-hidden","true"),u){var f=u.children[0];f.style.height=Ft(h.height+h.depth),h.depth&&(f.style.verticalAlign=Ft(-h.depth))}return h}function _re(t){return new hb(t)}class cl{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=If(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=vr.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+vr.escape(If(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Ny{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return vr.escape(this.toText())}toText(){return this.text}}class cLe{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Ft(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ft(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var At={MathNode:cl,TextNode:Ny,SpaceNode:cLe,newDocumentFragment:_re},Cl=function(e,r,n){return Bn[r][e]&&Bn[r][e].replace&&e.charCodeAt(0)!==55349&&!(wre.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=Bn[r][e].replace),new At.TextNode(e)},jM=function(e){return e.length===1?e[0]:new At.MathNode("mrow",e)},KM=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var a=e.text;if(vr.contains(["\\imath","\\jmath"],a))return null;Bn[i][a]&&Bn[i][a].replace&&(a=Bn[i][a].replace);var s=rt.fontMap[n].fontName;return qM(a,s,i)?rt.fontMap[n].variant:null},yo=function(e,r,n){if(e.length===1){var i=Mn(e[0],r);return n&&i instanceof cl&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,o=0;o<e.length;o++){var l=Mn(e[o],r);if(l instanceof cl&&s instanceof cl){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&s.type==="mn"){var u=l.children[0];if(u instanceof Ny&&u.text==="."){s.children.push(...l.children);continue}}else if(s.type==="mi"&&s.children.length===1){var h=s.children[0];if(h instanceof Ny&&h.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var f=l.children[0];f instanceof Ny&&f.text.length>0&&(f.text=f.text.slice(0,1)+"̸"+f.text.slice(1),a.pop())}}}a.push(l),s=l}return a},Ff=function(e,r,n){return jM(yo(e,r,n))},Mn=function(e,r){if(!e)return new At.MathNode("mrow");if(_k[e.type]){var n=_k[e.type](e,r);return n}else throw new Rt("Got group of unknown type: '"+e.type+"'")};function SH(t,e,r,n,i){var a=yo(t,r),s;a.length===1&&a[0]instanceof cl&&vr.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new At.MathNode("mrow",a);var o=new At.MathNode("annotation",[new At.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new At.MathNode("semantics",[s,o]),u=new At.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&u.setAttribute("display","block");var h=i?"katex":"katex-mathml";return rt.makeSpan([h],[u])}var Lre=function(e){return new _c({style:e.displayMode?br.DISPLAY:br.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Dre=function(e,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),e=rt.makeSpan(n,[e])}return e},hLe=function(e,r,n){var i=Lre(n),a;if(n.output==="mathml")return SH(e,r,i,n.displayMode,!0);if(n.output==="html"){var s=M9(e,i);a=rt.makeSpan(["katex"],[s])}else{var o=SH(e,r,i,n.displayMode,!1),l=M9(e,i);a=rt.makeSpan(["katex"],[o,l])}return Dre(a,n)},fLe=function(e,r,n){var i=Lre(n),a=M9(e,i),s=rt.makeSpan(["katex"],[a]);return Dre(s,n)},dLe={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},pLe=function(e){var r=new At.MathNode("mo",[new At.TextNode(dLe[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},gLe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},vLe=function(e){return e.type==="ordgroup"?e.body.length:1},mLe=function(e,r){function n(){var o=4e5,l=e.label.slice(1);if(vr.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,h=vLe(u.base),f,d,p;if(h>5)l==="widehat"||l==="widecheck"?(f=420,o=2364,p=.42,d=l+"4"):(f=312,o=2340,p=.34,d="tilde4");else{var v=[1,1,2,2,3,3][h];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][v],f=[0,239,300,360,420][v],p=[0,.24,.3,.3,.36,.42][v],d=l+v):(o=[0,600,1033,2339,2340][v],f=[0,260,286,306,312][v],p=[0,.26,.286,.3,.306,.34][v],d="tilde"+v)}var m=new Of(d),x=new th([m],{width:"100%",height:Ft(p),viewBox:"0 0 "+o+" "+f,preserveAspectRatio:"none"});return{span:rt.makeSvgSpan([],[x],r),minWidth:0,height:p}}else{var y=[],w=gLe[l],[k,E,C]=w,L=C/1e3,_=k.length,I,M;if(_===1){var F=w[3];I=["hide-tail"],M=[F]}else if(_===2)I=["halfarrow-left","halfarrow-right"],M=["xMinYMin","xMaxYMin"];else if(_===3)I=["brace-left","brace-center","brace-right"],M=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+_+" children.");for(var N=0;N<_;N++){var z=new Of(k[N]),V=new th([z],{width:"400em",height:Ft(L),viewBox:"0 0 "+o+" "+C,preserveAspectRatio:M[N]+" slice"}),D=rt.makeSvgSpan([I[N]],[V],r);if(_===1)return{span:D,minWidth:E,height:L};D.style.height=Ft(L),y.push(D)}return{span:rt.makeSpan(["stretchy"],y,r),minWidth:E,height:L}}}var{span:i,minWidth:a,height:s}=n();return i.height=s,i.style.height=Ft(s),a>0&&(i.style.minWidth=Ft(a)),i},yLe=function(e,r,n,i,a){var s,o=e.height+e.depth+n+i;if(/fbox|color|angl/.test(r)){if(s=rt.makeSpan(["stretchy",r],[],a),r==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new L9({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new L9({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new th(u,{width:"100%",height:Ft(o)});s=rt.makeSvgSpan([],[h],a)}return s.height=o,s.style.height=Ft(o),s},nh={encloseSpan:yLe,mathMLnode:pLe,svgSpan:mLe};function Br(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function QM(t){var e=fT(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function fT(t){return t&&(t.type==="atom"||U9e.hasOwnProperty(t.type))?t:null}var ZM=(t,e)=>{var r,n,i;t&&t.type==="supsub"?(n=Br(t.base,"accent"),r=n.base,t.base=r,i=H9e(en(t,e)),t.base=n):(n=Br(t,"accent"),r=n.base);var a=en(r,e.havingCrampedStyle()),s=n.isShifty&&vr.isCharacterBox(r),o=0;if(s){var l=vr.getBaseElem(r),u=en(l,e.havingCrampedStyle());o=vH(u).skew}var h=n.label==="\\c",f=h?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),d;if(n.isStretchy)d=nh.svgSpan(n,e),d=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:d,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Ft(2*o)+")",marginLeft:Ft(2*o)}:void 0}]},e);else{var p,v;n.label==="\\vec"?(p=rt.staticSvg("vec",e),v=rt.svgData.vec[1]):(p=rt.makeOrd({mode:n.mode,text:n.label},e,"textord"),p=vH(p),p.italic=0,v=p.width,h&&(f+=p.depth)),d=rt.makeSpan(["accent-body"],[p]);var m=n.label==="\\textcircled";m&&(d.classes.push("accent-full"),f=a.height);var x=o;m||(x-=v/2),d.style.left=Ft(x),n.label==="\\textcircled"&&(d.style.top=".2em"),d=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-f},{type:"elem",elem:d}]},e)}var y=rt.makeSpan(["mord","accent"],[d],e);return i?(i.children[0]=y,i.height=Math.max(y.height,i.height),i.classes[0]="mord",i):y},Rre=(t,e)=>{var r=t.isStretchy?nh.mathMLnode(t.label):new At.MathNode("mo",[Cl(t.label,t.mode)]),n=new At.MathNode("mover",[Mn(t.base,e),r]);return n.setAttribute("accent","true"),n},xLe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));qt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=Lk(e[0]),n=!xLe.test(t.funcName),i=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:ZM,mathmlBuilder:Rre});qt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:ZM,mathmlBuilder:Rre});qt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(t,e)=>{var r=en(t.base,e),n=nh.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,a=rt.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return rt.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var r=nh.mathMLnode(t.label),n=new At.MathNode("munder",[Mn(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var b3=t=>{var e=new At.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};qt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:i}=t;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,n=e.havingStyle(r.sup()),i=rt.wrapFragment(en(t.body,n,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;t.below&&(n=e.havingStyle(r.sub()),s=rt.wrapFragment(en(t.below,n,e),e),s.classes.push(a+"-arrow-pad"));var o=nh.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var h;if(s){var f=-e.fontMetrics().axisHeight+s.height+.5*o.height+.111;h=rt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:f}]},e)}else h=rt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},e);return h.children[0].children[0].children[1].classes.push("svg-align"),rt.makeSpan(["mrel","x-arrow"],[h],e)},mathmlBuilder(t,e){var r=nh.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var i=b3(Mn(t.body,e));if(t.below){var a=b3(Mn(t.below,e));n=new At.MathNode("munderover",[r,a,i])}else n=new At.MathNode("mover",[r,i])}else if(t.below){var s=b3(Mn(t.below,e));n=new At.MathNode("munder",[r,s])}else n=b3(),n=new At.MathNode("mover",[r,n]);return n}});var bLe=rt.makeSpan;function Mre(t,e){var r=aa(t.body,e,!0);return bLe([t.mclass],r,e)}function Nre(t,e){var r,n=yo(t.body,e);return t.mclass==="minner"?r=new At.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0],r.type="mi"):r=new At.MathNode("mi",n):(t.isCharacterBox?(r=n[0],r.type="mo"):r=new At.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}qt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:Ri(i),isCharacterBox:vr.isCharacterBox(i)}},htmlBuilder:Mre,mathmlBuilder:Nre});var dT=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};qt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:dT(e[0]),body:Ri(e[1]),isCharacterBox:vr.isCharacterBox(e[1])}}});qt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:n}=t,i=e[1],a=e[0],s;n!=="\\stackrel"?s=dT(i):s="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:Ri(i)},l={type:"supsub",mode:a.mode,base:o,sup:n==="\\underset"?null:a,sub:n==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:s,body:[l],isCharacterBox:vr.isCharacterBox(l)}},htmlBuilder:Mre,mathmlBuilder:Nre});qt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:dT(e[0]),body:Ri(e[0])}},htmlBuilder(t,e){var r=aa(t.body,e,!0),n=rt.makeSpan([t.mclass],r,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(t,e){var r=yo(t.body,e),n=new At.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var wLe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},EH=()=>({type:"styling",body:[],mode:"math",style:"display"}),TH=t=>t.type==="textord"&&t.text==="@",kLe=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function SLe(t,e,r){var n=wLe[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:n,mode:"math",family:"rel"},s=r.callFunction("\\Big",[a],[]),o=r.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,s,o]};return r.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function ELe(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Rt("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],i=[n],a=0;a<e.length;a++){for(var s=e[a],o=EH(),l=0;l<s.length;l++)if(!TH(s[l]))o.body.push(s[l]);else{n.push(o),l+=1;var u=QM(s[l]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var f=0;f<2;f++){for(var d=!0,p=l+1;p<s.length;p++){if(kLe(s[p],u)){d=!1,l=p;break}if(TH(s[p]))throw new Rt("Missing a "+u+" character to complete a CD arrow.",s[p]);h[f].body.push(s[p])}if(d)throw new Rt("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new Rt('Expected one of "<>AV=|." after @',s[l]);var v=SLe(u,h,t),m={type:"styling",body:[v],mode:"math",style:"display"};n.push(m),o=EH()}a%2===0?n.push(o):n.shift(),n=[],i.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var x=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:x,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}qt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=rt.wrapFragment(en(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=Ft(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new At.MathNode("mrow",[Mn(t.label,e)]);return r=new At.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new At.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});qt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=rt.wrapFragment(en(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new At.MathNode("mrow",[Mn(t.fragment,e)])}});qt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=Br(e[0],"ordgroup"),i=n.body,a="",s=0;s<i.length;s++){var o=Br(i[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new Rt("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new Rt("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});var Ire=(t,e)=>{var r=aa(t.body,e.withColor(t.color),!1);return rt.makeFragment(r)},Ore=(t,e)=>{var r=yo(t.body,e.withColor(t.color)),n=new At.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};qt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=Br(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:n,body:Ri(i)}},htmlBuilder:Ire,mathmlBuilder:Ore});qt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,i=Br(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var a=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:a}},htmlBuilder:Ire,mathmlBuilder:Ore});qt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:n}=t,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:i&&Br(i,"size").value}},htmlBuilder(t,e){var r=rt.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=Ft(oi(t.size,e)))),r},mathmlBuilder(t,e){var r=new At.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",Ft(oi(t.size,e)))),r}});var N9={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Fre=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Rt("Expected a control sequence",t);return e},TLe=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},Pre=(t,e,r,n)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,n)};qt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(N9[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=N9[n.text]),Br(e.parseFunction(),"internal");throw new Rt("Invalid token after macro prefix",n)}});qt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Rt("Expected a control sequence",n);for(var a=0,s,o=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),o[a].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new Rt('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new Rt('Argument number "'+n.text+'" out of order');a++,o.push([])}else{if(n.text==="EOF")throw new Rt("Expected a macro definition");o[a].push(n.text)}var{tokens:l}=e.gullet.consumeArg();return s&&l.unshift(s),(r==="\\edef"||r==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:o},r===N9[r]),{type:"internal",mode:e.mode}}});qt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=Fre(e.gullet.popToken());e.gullet.consumeSpaces();var i=TLe(e);return Pre(e,n,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});qt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=Fre(e.gullet.popToken()),i=e.gullet.popToken(),a=e.gullet.popToken();return Pre(e,n,a,r==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Jm=function(e,r,n){var i=Bn.math[e]&&Bn.math[e].replace,a=qM(i||e,r,n);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return a},JM=function(e,r,n,i){var a=n.havingBaseStyle(r),s=rt.makeSpan(i.concat(a.sizingClasses(n)),[e],n),o=a.sizeMultiplier/n.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},Bre=function(e,r,n){var i=r.havingBaseStyle(n),a=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Ft(a),e.height-=a,e.depth+=a},CLe=function(e,r,n,i,a,s){var o=rt.makeSymbol(e,"Main-Regular",a,i),l=JM(o,r,i,s);return n&&Bre(l,i,r),l},ALe=function(e,r,n,i){return rt.makeSymbol(e,"Size"+r+"-Regular",n,i)},$re=function(e,r,n,i,a,s){var o=ALe(e,r,a,i),l=JM(rt.makeSpan(["delimsizing","size"+r],[o],i),br.TEXT,i,s);return n&&Bre(l,i,br.TEXT),l},p8=function(e,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=rt.makeSpan(["delimsizinginner",i],[rt.makeSpan([],[rt.makeSymbol(e,r,n)])]);return{type:"elem",elem:a}},g8=function(e,r,n){var i=Pu["Size4-Regular"][e.charCodeAt(0)]?Pu["Size4-Regular"][e.charCodeAt(0)][4]:Pu["Size1-Regular"][e.charCodeAt(0)][4],a=new Of("inner",N9e(e,Math.round(1e3*r))),s=new th([a],{width:Ft(i),height:Ft(r),style:"width:"+Ft(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),o=rt.makeSvgSpan([],[s],n);return o.height=r,o.style.height=Ft(r),o.style.width=Ft(i),{type:"elem",elem:o}},I9=.008,w3={type:"kern",size:-1*I9},_Le=["|","\\lvert","\\rvert","\\vert"],LLe=["\\|","\\lVert","\\rVert","\\Vert"],zre=function(e,r,n,i,a,s){var o,l,u,h,f="",d=0;o=u=h=e,l=null;var p="Size1-Regular";e==="\\uparrow"?u=h="⏐":e==="\\Uparrow"?u=h="‖":e==="\\downarrow"?o=u="⏐":e==="\\Downarrow"?o=u="‖":e==="\\updownarrow"?(o="\\uparrow",u="⏐",h="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="‖",h="\\Downarrow"):vr.contains(_Le,e)?(u="∣",f="vert",d=333):vr.contains(LLe,e)?(u="∥",f="doublevert",d=556):e==="["||e==="\\lbrack"?(o="⎡",u="⎢",h="⎣",p="Size4-Regular",f="lbrack",d=667):e==="]"||e==="\\rbrack"?(o="⎤",u="⎥",h="⎦",p="Size4-Regular",f="rbrack",d=667):e==="\\lfloor"||e==="⌊"?(u=o="⎢",h="⎣",p="Size4-Regular",f="lfloor",d=667):e==="\\lceil"||e==="⌈"?(o="⎡",u=h="⎢",p="Size4-Regular",f="lceil",d=667):e==="\\rfloor"||e==="⌋"?(u=o="⎥",h="⎦",p="Size4-Regular",f="rfloor",d=667):e==="\\rceil"||e==="⌉"?(o="⎤",u=h="⎥",p="Size4-Regular",f="rceil",d=667):e==="("||e==="\\lparen"?(o="⎛",u="⎜",h="⎝",p="Size4-Regular",f="lparen",d=875):e===")"||e==="\\rparen"?(o="⎞",u="⎟",h="⎠",p="Size4-Regular",f="rparen",d=875):e==="\\{"||e==="\\lbrace"?(o="⎧",l="⎨",h="⎩",u="⎪",p="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="⎫",l="⎬",h="⎭",u="⎪",p="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(o="⎧",h="⎩",u="⎪",p="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(o="⎫",h="⎭",u="⎪",p="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(o="⎧",h="⎭",u="⎪",p="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(o="⎫",h="⎩",u="⎪",p="Size4-Regular");var v=Jm(o,p,a),m=v.height+v.depth,x=Jm(u,p,a),y=x.height+x.depth,w=Jm(h,p,a),k=w.height+w.depth,E=0,C=1;if(l!==null){var L=Jm(l,p,a);E=L.height+L.depth,C=2}var _=m+k+E,I=Math.max(0,Math.ceil((r-_)/(C*y))),M=_+I*C*y,F=i.fontMetrics().axisHeight;n&&(F*=i.sizeMultiplier);var N=M/2-F,z=[];if(f.length>0){var V=M-m-k,D=Math.round(M*1e3),O=I9e(f,Math.round(V*1e3)),P=new Of(f,O),$=(d/1e3).toFixed(3)+"em",B=(D/1e3).toFixed(3)+"em",H=new th([P],{width:$,height:B,viewBox:"0 0 "+d+" "+D}),X=rt.makeSvgSpan([],[H],i);X.height=D/1e3,X.style.width=$,X.style.height=B,z.push({type:"elem",elem:X})}else{if(z.push(p8(h,p,a)),z.push(w3),l===null){var q=M-m-k+2*I9;z.push(g8(u,q,i))}else{var Y=(M-m-k-E)/2+2*I9;z.push(g8(u,Y,i)),z.push(w3),z.push(p8(l,p,a)),z.push(w3),z.push(g8(u,Y,i))}z.push(w3),z.push(p8(o,p,a))}var U=i.havingBaseStyle(br.TEXT),J=rt.makeVList({positionType:"bottom",positionData:N,children:z},U);return JM(rt.makeSpan(["delimsizing","mult"],[J],U),br.TEXT,i,s)},v8=80,m8=.08,y8=function(e,r,n,i,a){var s=M9e(e,i,n),o=new Of(e,s),l=new th([o],{width:"400em",height:Ft(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return rt.makeSvgSpan(["hide-tail"],[l],a)},DLe=function(e,r){var n=r.havingBaseSizing(),i=Gre("\\surd",e*n.sizeMultiplier,Ure,n),a=n.sizeMultiplier,s=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),o,l=0,u=0,h=0,f;return i.type==="small"?(h=1e3+1e3*s+v8,e<1?a=1:e<1.4&&(a=.7),l=(1+s+m8)/a,u=(1+s)/a,o=y8("sqrtMain",l,h,s,r),o.style.minWidth="0.853em",f=.833/a):i.type==="large"?(h=(1e3+v8)*Iy[i.size],u=(Iy[i.size]+s)/a,l=(Iy[i.size]+s+m8)/a,o=y8("sqrtSize"+i.size,l,h,s,r),o.style.minWidth="1.02em",f=1/a):(l=e+s+m8,u=e+s,h=Math.floor(1e3*e+s)+v8,o=y8("sqrtTall",l,h,s,r),o.style.minWidth="0.742em",f=1.056),o.height=u,o.style.height=Ft(l),{span:o,advanceWidth:f,ruleWidth:(r.fontMetrics().sqrtRuleThickness+s)*a}},Hre=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],RLe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Vre=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Iy=[0,1.2,1.8,2.4,3],MLe=function(e,r,n,i,a){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),vr.contains(Hre,e)||vr.contains(Vre,e))return $re(e,r,!1,n,i,a);if(vr.contains(RLe,e))return zre(e,Iy[r],!1,n,i,a);throw new Rt("Illegal delimiter: '"+e+"'")},NLe=[{type:"small",style:br.SCRIPTSCRIPT},{type:"small",style:br.SCRIPT},{type:"small",style:br.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],ILe=[{type:"small",style:br.SCRIPTSCRIPT},{type:"small",style:br.SCRIPT},{type:"small",style:br.TEXT},{type:"stack"}],Ure=[{type:"small",style:br.SCRIPTSCRIPT},{type:"small",style:br.SCRIPT},{type:"small",style:br.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],OLe=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Gre=function(e,r,n,i){for(var a=Math.min(2,3-i.style.size),s=a;s<n.length&&n[s].type!=="stack";s++){var o=Jm(e,OLe(n[s]),"math"),l=o.height+o.depth;if(n[s].type==="small"){var u=i.havingBaseStyle(n[s].style);l*=u.sizeMultiplier}if(l>r)return n[s]}return n[n.length-1]},Wre=function(e,r,n,i,a,s){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var o;vr.contains(Vre,e)?o=NLe:vr.contains(Hre,e)?o=Ure:o=ILe;var l=Gre(e,r,o,i);return l.type==="small"?CLe(e,l.style,n,i,a,s):l.type==="large"?$re(e,l.size,n,i,a,s):zre(e,r,n,i,a,s)},FLe=function(e,r,n,i,a,s){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,h=Math.max(r-o,n+o),f=Math.max(h/500*l,2*h-u);return Wre(e,f,!0,i,a,s)},Wc={sqrtImage:DLe,sizedDelim:MLe,sizeToMaxHeight:Iy,customSizedDelim:Wre,leftRightDelim:FLe},CH={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},PLe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function pT(t,e){var r=fT(t);if(r&&vr.contains(PLe,r.text))return r;throw r?new Rt("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new Rt("Invalid delimiter type '"+t.type+"'",t)}qt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=pT(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:CH[t.funcName].size,mclass:CH[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?rt.makeSpan([t.mclass]):Wc.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Cl(t.delim,t.mode));var r=new At.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=Ft(Wc.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function AH(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}qt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new Rt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:pT(e[0],t).text,color:r}}});qt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=pT(e[0],t),n=t.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=Br(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{AH(t);for(var r=aa(t.body,e,!0,["mopen","mclose"]),n=0,i=0,a=!1,s=0;s<r.length;s++)r[s].isMiddle?a=!0:(n=Math.max(r[s].height,n),i=Math.max(r[s].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(t.left==="."?o=E2(e,["mopen"]):o=Wc.leftRightDelim(t.left,n,i,e,t.mode,["mopen"]),r.unshift(o),a)for(var l=1;l<r.length;l++){var u=r[l],h=u.isMiddle;h&&(r[l]=Wc.leftRightDelim(h.delim,n,i,h.options,t.mode,[]))}var f;if(t.right===".")f=E2(e,["mclose"]);else{var d=t.rightColor?e.withColor(t.rightColor):e;f=Wc.leftRightDelim(t.right,n,i,d,t.mode,["mclose"])}return r.push(f),rt.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{AH(t);var r=yo(t.body,e);if(t.left!=="."){var n=new At.MathNode("mo",[Cl(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var i=new At.MathNode("mo",[Cl(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return jM(r)}});qt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=pT(e[0],t);if(!t.parser.leftrightDepth)throw new Rt("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=E2(e,[]);else{r=Wc.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?Cl("|","text"):Cl(t.delim,t.mode),n=new At.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var eN=(t,e)=>{var r=rt.wrapFragment(en(t.body,e),e),n=t.label.slice(1),i=e.sizeMultiplier,a,s=0,o=vr.isCharacterBox(t.body);if(n==="sout")a=rt.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/i,s=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var l=oi({number:.6,unit:"pt"},e),u=oi({number:.35,unit:"ex"},e),h=e.havingBaseSizing();i=i/h.sizeMultiplier;var f=r.height+r.depth+l+u;r.style.paddingLeft=Ft(f/2+l);var d=Math.floor(1e3*f*i),p=D9e(d),v=new th([new Of("phase",p)],{width:"400em",height:Ft(d/1e3),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});a=rt.makeSvgSpan(["hide-tail"],[v],e),a.style.height=Ft(f),s=r.depth+l+u}else{/cancel/.test(n)?o||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var m=0,x=0,y=0;/box/.test(n)?(y=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),m=e.fontMetrics().fboxsep+(n==="colorbox"?0:y),x=m):n==="angl"?(y=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),m=4*y,x=Math.max(0,.25-r.depth)):(m=o?.2:0,x=m),a=nh.encloseSpan(r,n,m,x,e),/fbox|boxed|fcolorbox/.test(n)?(a.style.borderStyle="solid",a.style.borderWidth=Ft(y)):n==="angl"&&y!==.049&&(a.style.borderTopWidth=Ft(y),a.style.borderRightWidth=Ft(y)),s=r.depth+x,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var w;if(t.backgroundColor)w=rt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:r,shift:0}]},e);else{var k=/cancel|phase/.test(n)?["svg-align"]:[];w=rt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:k}]},e)}return/cancel/.test(n)&&(w.height=r.height,w.depth=r.depth),/cancel/.test(n)&&!o?rt.makeSpan(["mord","cancel-lap"],[w],e):rt.makeSpan(["mord"],[w],e)},tN=(t,e)=>{var r=0,n=new At.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Mn(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};qt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,a=Br(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:eN,mathmlBuilder:tN});qt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,a=Br(e[0],"color-token").color,s=Br(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:eN,mathmlBuilder:tN});qt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});qt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:eN,mathmlBuilder:tN});qt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var qre={};function tc(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<r.length;++l)qre[r[l]]=o;a&&(Ak[e]=a),s&&(_k[e]=s)}var Yre={};function Ae(t,e){Yre[t]=e}function _H(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var gT=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Rt("{"+t.envName+"} can be used only in display mode.")};function rN(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function td(t,e,r){var{hskipBeforeAndAfter:n,addJot:i,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:h,maxNumCols:f,leqno:d}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!s){var p=t.gullet.expandMacroAsText("\\arraystretch");if(p==null)s=1;else if(s=parseFloat(p),!s||s<0)throw new Rt("Invalid \\arraystretch: "+p)}t.gullet.beginGroup();var v=[],m=[v],x=[],y=[],w=l!=null?[]:void 0;function k(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function E(){w&&(t.gullet.macros.get("\\df@tag")?(w.push(t.subparse([new ml("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):w.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(k(),y.push(_H(t));;){var C=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),C={type:"ordgroup",mode:t.mode,body:C},r&&(C={type:"styling",mode:t.mode,style:r,body:[C]}),v.push(C);var L=t.fetch().text;if(L==="&"){if(f&&v.length===f){if(u||o)throw new Rt("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(L==="\\end"){E(),v.length===1&&C.type==="styling"&&C.body[0].body.length===0&&(m.length>1||!h)&&m.pop(),y.length<m.length+1&&y.push([]);break}else if(L==="\\\\"){t.consume();var _=void 0;t.gullet.future().text!==" "&&(_=t.parseSizeGroup(!0)),x.push(_?_.value:null),E(),y.push(_H(t)),v=[],m.push(v),k()}else throw new Rt("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:s,body:m,cols:a,rowGaps:x,hskipBeforeAndAfter:n,hLinesBeforeRow:y,colSeparationType:o,tags:w,leqno:d}}function nN(t){return t.slice(0,1)==="d"?"display":"text"}var rc=function(e,r){var n,i,a=e.body.length,s=e.hLinesBeforeRow,o=0,l=new Array(a),u=[],h=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),f=1/r.fontMetrics().ptPerEm,d=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var p=r.havingStyle(br.SCRIPT).sizeMultiplier;d=.2778*(p/r.sizeMultiplier)}var v=e.colSeparationType==="CD"?oi({number:3,unit:"ex"},r):12*f,m=3*f,x=e.arraystretch*v,y=.7*x,w=.3*x,k=0;function E(we){for(var Re=0;Re<we.length;++Re)Re>0&&(k+=.25),u.push({pos:k,isDashed:we[Re]})}for(E(s[0]),n=0;n<e.body.length;++n){var C=e.body[n],L=y,_=w;o<C.length&&(o=C.length);var I=new Array(C.length);for(i=0;i<C.length;++i){var M=en(C[i],r);_<M.depth&&(_=M.depth),L<M.height&&(L=M.height),I[i]=M}var F=e.rowGaps[n],N=0;F&&(N=oi(F,r),N>0&&(N+=w,_<N&&(_=N),N=0)),e.addJot&&(_+=m),I.height=L,I.depth=_,k+=L,I.pos=k,k+=_+N,l[n]=I,E(s[n+1])}var z=k/2+r.fontMetrics().axisHeight,V=e.cols||[],D=[],O,P,$=[];if(e.tags&&e.tags.some(we=>we))for(n=0;n<a;++n){var B=l[n],H=B.pos-z,X=e.tags[n],q=void 0;X===!0?q=rt.makeSpan(["eqn-num"],[],r):X===!1?q=rt.makeSpan([],[],r):q=rt.makeSpan([],aa(X,r,!0),r),q.depth=B.depth,q.height=B.height,$.push({type:"elem",elem:q,shift:H})}for(i=0,P=0;i<o||P<V.length;++i,++P){for(var Y=V[P]||{},U=!0;Y.type==="separator";){if(U||(O=rt.makeSpan(["arraycolsep"],[]),O.style.width=Ft(r.fontMetrics().doubleRuleSep),D.push(O)),Y.separator==="|"||Y.separator===":"){var J=Y.separator==="|"?"solid":"dashed",ce=rt.makeSpan(["vertical-separator"],[],r);ce.style.height=Ft(k),ce.style.borderRightWidth=Ft(h),ce.style.borderRightStyle=J,ce.style.margin="0 "+Ft(-h/2);var re=k-z;re&&(ce.style.verticalAlign=Ft(-re)),D.push(ce)}else throw new Rt("Invalid separator type: "+Y.separator);P++,Y=V[P]||{},U=!1}if(!(i>=o)){var ve=void 0;(i>0||e.hskipBeforeAndAfter)&&(ve=vr.deflt(Y.pregap,d),ve!==0&&(O=rt.makeSpan(["arraycolsep"],[]),O.style.width=Ft(ve),D.push(O)));var ye=[];for(n=0;n<a;++n){var Z=l[n],ue=Z[i];if(ue){var ae=Z.pos-z;ue.depth=Z.depth,ue.height=Z.height,ye.push({type:"elem",elem:ue,shift:ae})}}ye=rt.makeVList({positionType:"individualShift",children:ye},r),ye=rt.makeSpan(["col-align-"+(Y.align||"c")],[ye]),D.push(ye),(i<o-1||e.hskipBeforeAndAfter)&&(ve=vr.deflt(Y.postgap,d),ve!==0&&(O=rt.makeSpan(["arraycolsep"],[]),O.style.width=Ft(ve),D.push(O)))}}if(l=rt.makeSpan(["mtable"],D),u.length>0){for(var pe=rt.makeLineSpan("hline",r,h),Ee=rt.makeLineSpan("hdashline",r,h),Se=[{type:"elem",elem:l,shift:0}];u.length>0;){var de=u.pop(),be=de.pos-z;de.isDashed?Se.push({type:"elem",elem:Ee,shift:be}):Se.push({type:"elem",elem:pe,shift:be})}l=rt.makeVList({positionType:"individualShift",children:Se},r)}if($.length===0)return rt.makeSpan(["mord"],[l],r);var oe=rt.makeVList({positionType:"individualShift",children:$},r);return oe=rt.makeSpan(["tag"],[oe],r),rt.makeFragment([l,oe])},BLe={c:"center ",l:"left ",r:"right "},nc=function(e,r){for(var n=[],i=new At.MathNode("mtd",[],["mtr-glue"]),a=new At.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var o=e.body[s],l=[],u=0;u<o.length;u++)l.push(new At.MathNode("mtd",[Mn(o[u],r)]));e.tags&&e.tags[s]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(a):l.push(a)),n.push(new At.MathNode("mtr",l))}var h=new At.MathNode("mtable",n),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",Ft(f));var d="",p="";if(e.cols&&e.cols.length>0){var v=e.cols,m="",x=!1,y=0,w=v.length;v[0].type==="separator"&&(d+="top ",y=1),v[v.length-1].type==="separator"&&(d+="bottom ",w-=1);for(var k=y;k<w;k++)v[k].type==="align"?(p+=BLe[v[k].align],x&&(m+="none "),x=!0):v[k].type==="separator"&&x&&(m+=v[k].separator==="|"?"solid ":"dashed ",x=!1);h.setAttribute("columnalign",p.trim()),/[sd]/.test(m)&&h.setAttribute("columnlines",m.trim())}if(e.colSeparationType==="align"){for(var E=e.cols||[],C="",L=1;L<E.length;L++)C+=L%2?"0em ":"1em ";h.setAttribute("columnspacing",C.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var _="",I=e.hLinesBeforeRow;d+=I[0].length>0?"left ":"",d+=I[I.length-1].length>0?"right ":"";for(var M=1;M<I.length-1;M++)_+=I[M].length===0?"none ":I[M][0]?"dashed ":"solid ";return/[sd]/.test(_)&&h.setAttribute("rowlines",_.trim()),d!==""&&(h=new At.MathNode("menclose",[h]),h.setAttribute("notation",d.trim())),e.arraystretch&&e.arraystretch<1&&(h=new At.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},Xre=function(e,r){e.envName.indexOf("ed")===-1&&gT(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=td(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:rN(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var h="",f=0;f<r[0].body.length;f++){var d=Br(r[0].body[f],"textord");h+=d.text}o=Number(h),l=o*2}var p=!l;s.body.forEach(function(y){for(var w=1;w<y.length;w+=2){var k=Br(y[w],"styling"),E=Br(k.body[0],"ordgroup");E.body.unshift(u)}if(p)l<y.length&&(l=y.length);else{var C=y.length/2;if(o<C)throw new Rt("Too many math in a row: "+("expected "+o+", but got "+C),y[0])}});for(var v=0;v<l;++v){var m="r",x=0;v%2===1?m="l":v>0&&p&&(x=1),n[v]={type:"align",align:m,pregap:x,postgap:0}}return s.colSeparationType=p?"align":"alignat",s};tc({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=fT(e[0]),n=r?[e[0]]:Br(e[0],"ordgroup").body,i=n.map(function(s){var o=QM(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new Rt("Unknown column alignment: "+l,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return td(t.parser,a,nN(t.envName))},htmlBuilder:rc,mathmlBuilder:nc});tc({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new Rt("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var a=td(t.parser,n,nN(t.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:rc,mathmlBuilder:nc});tc({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=td(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:rc,mathmlBuilder:nc});tc({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=fT(e[0]),n=r?[e[0]]:Br(e[0],"ordgroup").body,i=n.map(function(s){var o=QM(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new Rt("Unknown column alignment: "+l,s)});if(i.length>1)throw new Rt("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=td(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new Rt("{subarray} can contain only one column");return a},htmlBuilder:rc,mathmlBuilder:nc});tc({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=td(t.parser,e,nN(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:rc,mathmlBuilder:nc});tc({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Xre,htmlBuilder:rc,mathmlBuilder:nc});tc({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){vr.contains(["gather","gather*"],t.envName)&&gT(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:rN(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return td(t.parser,e,"display")},htmlBuilder:rc,mathmlBuilder:nc});tc({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Xre,htmlBuilder:rc,mathmlBuilder:nc});tc({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){gT(t);var e={autoTag:rN(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return td(t.parser,e,"display")},htmlBuilder:rc,mathmlBuilder:nc});tc({type:"array",names:["CD"],props:{numArgs:0},handler(t){return gT(t),ELe(t.parser)},htmlBuilder:rc,mathmlBuilder:nc});Ae("\\nonumber","\\gdef\\@eqnsw{0}");Ae("\\notag","\\nonumber");qt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Rt(t.funcName+" valid only within array environment")}});var LH=qre;qt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];if(i.type!=="ordgroup")throw new Rt("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=Br(i.body[s],"textord").text;if(n==="\\begin"){if(!LH.hasOwnProperty(a))throw new Rt("No such environment: "+a,i);var o=LH[a],{args:l,optArgs:u}=r.parseArguments("\\begin{"+a+"}",o),h={mode:r.mode,envName:a,parser:r},f=o.handler(h,l,u);r.expect("\\end",!1);var d=r.nextToken,p=Br(r.parseFunction(),"environment");if(p.name!==a)throw new Rt("Mismatch: \\begin{"+a+"} matched by \\end{"+p.name+"}",d);return f}return{type:"environment",mode:r.mode,name:a,nameGroup:i}}});var jre=(t,e)=>{var r=t.font,n=e.withFont(r);return en(t.body,n)},Kre=(t,e)=>{var r=t.font,n=e.withFont(r);return Mn(t.body,n)},DH={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};qt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=Lk(e[0]),a=n;return a in DH&&(a=DH[a]),{type:"font",mode:r.mode,font:a.slice(1),body:i}},htmlBuilder:jre,mathmlBuilder:Kre});qt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],i=vr.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:dT(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});qt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:i}=t,{mode:a}=r,s=r.parseExpression(!0,i),o="math"+n.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:r.mode,body:s}}},htmlBuilder:jre,mathmlBuilder:Kre});var Qre=(t,e)=>{var r=e;return t==="display"?r=r.id>=br.SCRIPT.id?r.text():br.DISPLAY:t==="text"&&r.size===br.DISPLAY.size?r=br.TEXT:t==="script"?r=br.SCRIPT:t==="scriptscript"&&(r=br.SCRIPTSCRIPT),r},iN=(t,e)=>{var r=Qre(t.size,e.style),n=r.fracNum(),i=r.fracDen(),a;a=e.havingStyle(n);var s=en(t.numer,a,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=e.havingStyle(i);var u=en(t.denom,a,e),h,f,d;t.hasBarLine?(t.barSize?(f=oi(t.barSize,e),h=rt.makeLineSpan("frac-line",e,f)):h=rt.makeLineSpan("frac-line",e),f=h.height,d=h.height):(h=null,f=0,d=e.fontMetrics().defaultRuleThickness);var p,v,m;r.size===br.DISPLAY.size||t.size==="display"?(p=e.fontMetrics().num1,f>0?v=3*d:v=7*d,m=e.fontMetrics().denom1):(f>0?(p=e.fontMetrics().num2,v=d):(p=e.fontMetrics().num3,v=3*d),m=e.fontMetrics().denom2);var x;if(h){var w=e.fontMetrics().axisHeight;p-s.depth-(w+.5*f)<v&&(p+=v-(p-s.depth-(w+.5*f))),w-.5*f-(u.height-m)<v&&(m+=v-(w-.5*f-(u.height-m)));var k=-(w-.5*f);x=rt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:m},{type:"elem",elem:h,shift:k},{type:"elem",elem:s,shift:-p}]},e)}else{var y=p-s.depth-(u.height-m);y<v&&(p+=.5*(v-y),m+=.5*(v-y)),x=rt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:m},{type:"elem",elem:s,shift:-p}]},e)}a=e.havingStyle(r),x.height*=a.sizeMultiplier/e.sizeMultiplier,x.depth*=a.sizeMultiplier/e.sizeMultiplier;var E;r.size===br.DISPLAY.size?E=e.fontMetrics().delim1:r.size===br.SCRIPTSCRIPT.size?E=e.havingStyle(br.SCRIPT).fontMetrics().delim2:E=e.fontMetrics().delim2;var C,L;return t.leftDelim==null?C=E2(e,["mopen"]):C=Wc.customSizedDelim(t.leftDelim,E,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?L=rt.makeSpan([]):t.rightDelim==null?L=E2(e,["mclose"]):L=Wc.customSizedDelim(t.rightDelim,E,!0,e.havingStyle(r),t.mode,["mclose"]),rt.makeSpan(["mord"].concat(a.sizingClasses(e)),[C,rt.makeSpan(["mfrac"],[x]),L],e)},aN=(t,e)=>{var r=new At.MathNode("mfrac",[Mn(t.numer,e),Mn(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var n=oi(t.barSize,e);r.setAttribute("linethickness",Ft(n))}var i=Qre(t.size,e.style);if(i.size!==e.style.size){r=new At.MathNode("mstyle",[r]);var a=i.size===br.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var s=[];if(t.leftDelim!=null){var o=new At.MathNode("mo",[new At.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(r),t.rightDelim!=null){var l=new At.MathNode("mo",[new At.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return jM(s)}return r};qt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=e[1],s,o=null,l=null,u="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:iN,mathmlBuilder:aN});qt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});qt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:n}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var RH=["display","text","script","scriptscript"],MH=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};qt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,n=e[4],i=e[5],a=Lk(e[0]),s=a.type==="atom"&&a.family==="open"?MH(a.text):null,o=Lk(e[1]),l=o.type==="atom"&&o.family==="close"?MH(o.text):null,u=Br(e[2],"size"),h,f=null;u.isBlank?h=!0:(f=u.value,h=f.number>0);var d="auto",p=e[3];if(p.type==="ordgroup"){if(p.body.length>0){var v=Br(p.body[0],"textord");d=RH[Number(v.text)]}}else p=Br(p,"textord"),d=RH[Number(p.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:h,barSize:f,leftDelim:s,rightDelim:l,size:d}},htmlBuilder:iN,mathmlBuilder:aN});qt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Br(e[0],"size").value,token:i}}});qt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],a=g9e(Br(e[1],"infix").size),s=e[2],o=a.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:iN,mathmlBuilder:aN});var Zre=(t,e)=>{var r=e.style,n,i;t.type==="supsub"?(n=t.sup?en(t.sup,e.havingStyle(r.sup()),e):en(t.sub,e.havingStyle(r.sub()),e),i=Br(t.base,"horizBrace")):i=Br(t,"horizBrace");var a=en(i.base,e.havingBaseStyle(br.DISPLAY)),s=nh.svgSpan(i,e),o;if(i.isOver?(o=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=rt.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),n){var l=rt.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},e):o=rt.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return rt.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},$Le=(t,e)=>{var r=nh.mathMLnode(t.label);return new At.MathNode(t.isOver?"mover":"munder",[Mn(t.base,e),r])};qt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:Zre,mathmlBuilder:$Le});qt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],i=Br(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:Ri(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=aa(t.body,e,!1);return rt.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=Ff(t.body,e);return r instanceof cl||(r=new cl("mrow",[r])),r.setAttribute("href",t.href),r}});qt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=Br(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:Ri(o)}}});qt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:Ri(e[0])}},htmlBuilder(t,e){var r=aa(t.body,e,!1);return rt.makeFragment(r)},mathmlBuilder(t,e){return new At.MathNode("mrow",yo(t.body,e))}});qt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,token:i}=t,a=Br(e[0],"raw").string,s=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(n){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),h=0;h<u.length;h++){var f=u[h].split("=");if(f.length!==2)throw new Rt("Error parsing key-value for \\htmlData");l["data-"+f[0].trim()]=f[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:l,body:Ri(s)}:r.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var r=aa(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var i=rt.makeSpan(n,r,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&i.setAttribute(a,t.attributes[a]);return i},mathmlBuilder:(t,e)=>Ff(t.body,e)});qt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:Ri(e[0]),mathml:Ri(e[1])}},htmlBuilder:(t,e)=>{var r=aa(t.html,e,!1);return rt.makeFragment(r)},mathmlBuilder:(t,e)=>Ff(t.mathml,e)});var x8=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new Rt("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!mre(n))throw new Rt("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};qt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(r[0])for(var l=Br(r[0],"raw").string,u=l.split(","),h=0;h<u.length;h++){var f=u[h].split("=");if(f.length===2){var d=f[1].trim();switch(f[0].trim()){case"alt":o=d;break;case"width":i=x8(d);break;case"height":a=x8(d);break;case"totalheight":s=x8(d);break;default:throw new Rt("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var p=Br(e[0],"url").url;return o===""&&(o=p,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:n.mode,alt:o,width:i,height:a,totalheight:s,src:p}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=oi(t.height,e),n=0;t.totalheight.number>0&&(n=oi(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=oi(t.width,e));var a={height:Ft(r+n)};i>0&&(a.width=Ft(i)),n>0&&(a.verticalAlign=Ft(-n));var s=new $9e(t.src,t.alt,a);return s.height=r,s.depth=n,s},mathmlBuilder:(t,e)=>{var r=new At.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=oi(t.height,e),i=0;if(t.totalheight.number>0&&(i=oi(t.totalheight,e)-n,r.setAttribute("valign",Ft(-i))),r.setAttribute("height",Ft(n+i)),t.width.number>0){var a=oi(t.width,e);r.setAttribute("width",Ft(a))}return r.setAttribute("src",t.src),r}});qt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=Br(e[0],"size");if(r.settings.strict){var a=n[1]==="m",s=i.value.unit==="mu";a?(s||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):s&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return rt.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=oi(t.dimension,e);return new At.SpaceNode(r)}});qt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=rt.makeSpan([],[en(t.body,e)]),r=rt.makeSpan(["inner"],[r],e)):r=rt.makeSpan(["inner"],[en(t.body,e)]);var n=rt.makeSpan(["fix"],[]),i=rt.makeSpan([t.alignment],[r,n],e),a=rt.makeSpan(["strut"]);return a.style.height=Ft(i.height+i.depth),i.depth&&(a.style.verticalAlign=Ft(-i.depth)),i.children.unshift(a),i=rt.makeSpan(["thinbox"],[i],e),rt.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new At.MathNode("mpadded",[Mn(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});qt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,i=n.mode;n.switchMode("math");var a=r==="\\("?"\\)":"$",s=n.parseExpression(!1,a);return n.expect(a),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:s}}});qt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Rt("Mismatched "+t.funcName)}});var NH=(t,e)=>{switch(e.style.size){case br.DISPLAY.size:return t.display;case br.TEXT.size:return t.text;case br.SCRIPT.size:return t.script;case br.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};qt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:Ri(e[0]),text:Ri(e[1]),script:Ri(e[2]),scriptscript:Ri(e[3])}},htmlBuilder:(t,e)=>{var r=NH(t,e),n=aa(r,e,!1);return rt.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=NH(t,e);return Ff(r,e)}});var Jre=(t,e,r,n,i,a,s)=>{t=rt.makeSpan([],[t]);var o=r&&vr.isCharacterBox(r),l,u;if(e){var h=en(e,n.havingStyle(i.sup()),n);u={elem:h,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-h.depth)}}if(r){var f=en(r,n.havingStyle(i.sub()),n);l={elem:f,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-f.height)}}var d;if(u&&l){var p=n.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+s;d=rt.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Ft(-a)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Ft(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(l){var v=t.height-s;d=rt.makeVList({positionType:"top",positionData:v,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Ft(-a)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},n)}else if(u){var m=t.depth+s;d=rt.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Ft(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var x=[d];if(l&&a!==0&&!o){var y=rt.makeSpan(["mspace"],[],n);y.style.marginRight=Ft(a),x.unshift(y)}return rt.makeSpan(["mop","op-limits"],x,n)},ene=["\\smallint"],av=(t,e)=>{var r,n,i=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=Br(t.base,"op"),i=!0):a=Br(t,"op");var s=e.style,o=!1;s.size===br.DISPLAY.size&&a.symbol&&!vr.contains(ene,a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",h="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(h=a.name.slice(1),a.name=h==="oiint"?"\\iint":"\\iiint"),l=rt.makeSymbol(a.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),h.length>0){var f=l.italic,d=rt.staticSvg(h+"Size"+(o?"2":"1"),e);l=rt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:d,shift:o?.08:0}]},e),a.name="\\"+h,l.classes.unshift("mop"),l.italic=f}}else if(a.body){var p=aa(a.body,e,!0);p.length===1&&p[0]instanceof Tl?(l=p[0],l.classes[0]="mop"):l=rt.makeSpan(["mop"],p,e)}else{for(var v=[],m=1;m<a.name.length;m++)v.push(rt.mathsym(a.name[m],a.mode,e));l=rt.makeSpan(["mop"],v,e)}var x=0,y=0;return(l instanceof Tl||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(x=(l.height-l.depth)/2-e.fontMetrics().axisHeight,y=l.italic),i?Jre(l,r,n,e,s,y,x):(x&&(l.style.position="relative",l.style.top=Ft(x)),l)},db=(t,e)=>{var r;if(t.symbol)r=new cl("mo",[Cl(t.name,t.mode)]),vr.contains(ene,t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new cl("mo",yo(t.body,e));else{r=new cl("mi",[new Ny(t.name.slice(1))]);var n=new cl("mo",[Cl("⁡","text")]);t.parentIsSupSub?r=new cl("mrow",[r,n]):r=_re([r,n])}return r},zLe={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};qt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=n;return i.length===1&&(i=zLe[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:av,mathmlBuilder:db});qt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ri(n)}},htmlBuilder:av,mathmlBuilder:db});var HLe={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};qt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:av,mathmlBuilder:db});qt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:av,mathmlBuilder:db});qt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=HLe[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:av,mathmlBuilder:db});var tne=(t,e)=>{var r,n,i=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=Br(t.base,"operatorname"),i=!0):a=Br(t,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(f=>{var d=f.text;return typeof d=="string"?{type:"textord",mode:f.mode,text:d}:f}),l=aa(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var h=l[u];h instanceof Tl&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=rt.makeSpan(["mop"],l,e)}else s=rt.makeSpan(["mop"],[],e);return i?Jre(s,r,n,e,e.style,0,0):s},VLe=(t,e)=>{for(var r=yo(t.body,e.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var a=r[i];if(!(a instanceof At.SpaceNode))if(a instanceof At.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof At.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var o=r.map(h=>h.toText()).join("");r=[new At.TextNode(o)]}var l=new At.MathNode("mi",r);l.setAttribute("mathvariant","normal");var u=new At.MathNode("mo",[Cl("⁡","text")]);return t.parentIsSupSub?new At.MathNode("mrow",[l,u]):At.newDocumentFragment([l,u])};qt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:Ri(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:tne,mathmlBuilder:VLe});Ae("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");op({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?rt.makeFragment(aa(t.body,e,!1)):rt.makeSpan(["mord"],aa(t.body,e,!0),e)},mathmlBuilder(t,e){return Ff(t.body,e,!0)}});qt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=en(t.body,e.havingCrampedStyle()),n=rt.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,a=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return rt.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var r=new At.MathNode("mo",[new At.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new At.MathNode("mover",[Mn(t.body,e),r]);return n.setAttribute("accent","true"),n}});qt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:Ri(n)}},htmlBuilder:(t,e)=>{var r=aa(t.body,e.withPhantom(),!1);return rt.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=yo(t.body,e);return new At.MathNode("mphantom",r)}});qt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=rt.makeSpan([],[en(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),rt.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=yo(Ri(t.body),e),n=new At.MathNode("mphantom",r),i=new At.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});qt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=rt.makeSpan(["inner"],[en(t.body,e.withPhantom())]),n=rt.makeSpan(["fix"],[]);return rt.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=yo(Ri(t.body),e),n=new At.MathNode("mphantom",r),i=new At.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});qt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=Br(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(t,e){var r=en(t.body,e),n=oi(t.dy,e);return rt.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new At.MathNode("mpadded",[Mn(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}});qt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});qt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,i=r[0],a=Br(e[0],"size"),s=Br(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&Br(i,"size").value,width:a.value,height:s.value}},htmlBuilder(t,e){var r=rt.makeSpan(["mord","rule"],[],e),n=oi(t.width,e),i=oi(t.height,e),a=t.shift?oi(t.shift,e):0;return r.style.borderRightWidth=Ft(n),r.style.borderTopWidth=Ft(i),r.style.bottom=Ft(a),r.width=n,r.height=i+a,r.depth=-a,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=oi(t.width,e),n=oi(t.height,e),i=t.shift?oi(t.shift,e):0,a=e.color&&e.getColor()||"black",s=new At.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",Ft(r)),s.setAttribute("height",Ft(n));var o=new At.MathNode("mpadded",[s]);return i>=0?o.setAttribute("height",Ft(i)):(o.setAttribute("height",Ft(i)),o.setAttribute("depth",Ft(-i))),o.setAttribute("voffset",Ft(i)),o}});function rne(t,e,r){for(var n=aa(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,a=0;a<n.length;a++){var s=n[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(n[a].classes,e.sizingClasses(r)):n[a].classes[s+1]==="reset-size"+e.size&&(n[a].classes[s+1]="reset-size"+r.size),n[a].height*=i,n[a].depth*=i}return rt.makeFragment(n)}var IH=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],ULe=(t,e)=>{var r=e.havingSize(t.size);return rne(t.body,r,e)};qt({type:"sizing",names:IH,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:i}=t,a=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:IH.indexOf(n)+1,body:a}},htmlBuilder:ULe,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=yo(t.body,r),i=new At.MathNode("mstyle",n);return i.setAttribute("mathsize",Ft(r.sizeMultiplier)),i}});qt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,i=!1,a=!1,s=r[0]&&Br(r[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var h=e[0];return{type:"smash",mode:n.mode,body:h,smashHeight:i,smashDepth:a}},htmlBuilder:(t,e)=>{var r=rt.makeSpan([],[en(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var a=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return rt.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var r=new At.MathNode("mpadded",[Mn(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});qt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,i=r[0],a=e[0];return{type:"sqrt",mode:n.mode,body:a,index:i}},htmlBuilder(t,e){var r=en(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=rt.wrapFragment(r,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,a=i;e.style.id<br.TEXT.id&&(a=e.fontMetrics().xHeight);var s=i+a/4,o=r.height+r.depth+s+i,{span:l,ruleWidth:u,advanceWidth:h}=Wc.sqrtImage(o,e),f=l.height-u;f>r.height+r.depth+s&&(s=(s+f-r.height-r.depth)/2);var d=l.height-r.height-s-u;r.style.paddingLeft=Ft(h);var p=rt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+d)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var v=e.havingStyle(br.SCRIPTSCRIPT),m=en(t.index,v,e),x=.6*(p.height-p.depth),y=rt.makeVList({positionType:"shift",positionData:-x,children:[{type:"elem",elem:m}]},e),w=rt.makeSpan(["root"],[y]);return rt.makeSpan(["mord","sqrt"],[w,p],e)}else return rt.makeSpan(["mord","sqrt"],[p],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new At.MathNode("mroot",[Mn(r,e),Mn(n,e)]):new At.MathNode("msqrt",[Mn(r,e)])}});var OH={display:br.DISPLAY,text:br.TEXT,script:br.SCRIPT,scriptscript:br.SCRIPTSCRIPT};qt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:i}=t,a=i.parseExpression(!0,r),s=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(t,e){var r=OH[t.style],n=e.havingStyle(r).withFont("");return rne(t.body,n,e)},mathmlBuilder(t,e){var r=OH[t.style],n=e.havingStyle(r),i=yo(t.body,n),a=new At.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[t.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var GLe=function(e,r){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===br.DISPLAY.size||n.alwaysHandleSupSub);return i?av:null}else if(n.type==="operatorname"){var a=n.alwaysHandleSupSub&&(r.style.size===br.DISPLAY.size||n.limits);return a?tne:null}else{if(n.type==="accent")return vr.isCharacterBox(n.base)?ZM:null;if(n.type==="horizBrace"){var s=!e.sub;return s===n.isOver?Zre:null}else return null}else return null};op({type:"supsub",htmlBuilder(t,e){var r=GLe(t,e);if(r)return r(t,e);var{base:n,sup:i,sub:a}=t,s=en(n,e),o,l,u=e.fontMetrics(),h=0,f=0,d=n&&vr.isCharacterBox(n);if(i){var p=e.havingStyle(e.style.sup());o=en(i,p,e),d||(h=s.height-p.fontMetrics().supDrop*p.sizeMultiplier/e.sizeMultiplier)}if(a){var v=e.havingStyle(e.style.sub());l=en(a,v,e),d||(f=s.depth+v.fontMetrics().subDrop*v.sizeMultiplier/e.sizeMultiplier)}var m;e.style===br.DISPLAY?m=u.sup1:e.style.cramped?m=u.sup3:m=u.sup2;var x=e.sizeMultiplier,y=Ft(.5/u.ptPerEm/x),w=null;if(l){var k=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(s instanceof Tl||k)&&(w=Ft(-s.italic))}var E;if(o&&l){h=Math.max(h,m,o.depth+.25*u.xHeight),f=Math.max(f,u.sub2);var C=u.defaultRuleThickness,L=4*C;if(h-o.depth-(l.height-f)<L){f=L-(h-o.depth)+l.height;var _=.8*u.xHeight-(h-o.depth);_>0&&(h+=_,f-=_)}var I=[{type:"elem",elem:l,shift:f,marginRight:y,marginLeft:w},{type:"elem",elem:o,shift:-h,marginRight:y}];E=rt.makeVList({positionType:"individualShift",children:I},e)}else if(l){f=Math.max(f,u.sub1,l.height-.8*u.xHeight);var M=[{type:"elem",elem:l,marginLeft:w,marginRight:y}];E=rt.makeVList({positionType:"shift",positionData:f,children:M},e)}else if(o)h=Math.max(h,m,o.depth+.25*u.xHeight),E=rt.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:o,marginRight:y}]},e);else throw new Error("supsub must have either sup or sub.");var F=R9(s,"right")||"mord";return rt.makeSpan([F],[s,rt.makeSpan(["msupsub"],[E])],e)},mathmlBuilder(t,e){var r=!1,n,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[Mn(t.base,e)];t.sub&&a.push(Mn(t.sub,e)),t.sup&&a.push(Mn(t.sup,e));var s;if(r)s=n?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===br.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===br.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===br.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===br.DISPLAY)?s="munder":s="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===br.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===br.DISPLAY)?s="mover":s="msup"}return new At.MathNode(s,a)}});op({type:"atom",htmlBuilder(t,e){return rt.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new At.MathNode("mo",[Cl(t.text,t.mode)]);if(t.family==="bin"){var n=KM(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var nne={mi:"italic",mn:"normal",mtext:"normal"};op({type:"mathord",htmlBuilder(t,e){return rt.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new At.MathNode("mi",[Cl(t.text,t.mode,e)]),n=KM(t,e)||"italic";return n!==nne[r.type]&&r.setAttribute("mathvariant",n),r}});op({type:"textord",htmlBuilder(t,e){return rt.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=Cl(t.text,t.mode,e),n=KM(t,e)||"normal",i;return t.mode==="text"?i=new At.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new At.MathNode("mn",[r]):t.text==="\\prime"?i=new At.MathNode("mo",[r]):i=new At.MathNode("mi",[r]),n!==nne[i.type]&&i.setAttribute("mathvariant",n),i}});var b8={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},w8={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};op({type:"spacing",htmlBuilder(t,e){if(w8.hasOwnProperty(t.text)){var r=w8[t.text].className||"";if(t.mode==="text"){var n=rt.makeOrd(t,e,"textord");return n.classes.push(r),n}else return rt.makeSpan(["mspace",r],[rt.mathsym(t.text,t.mode,e)],e)}else{if(b8.hasOwnProperty(t.text))return rt.makeSpan(["mspace",b8[t.text]],[],e);throw new Rt('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(w8.hasOwnProperty(t.text))r=new At.MathNode("mtext",[new At.TextNode(" ")]);else{if(b8.hasOwnProperty(t.text))return new At.MathNode("mspace");throw new Rt('Unknown type of space "'+t.text+'"')}return r}});var FH=()=>{var t=new At.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};op({type:"tag",mathmlBuilder(t,e){var r=new At.MathNode("mtable",[new At.MathNode("mtr",[FH(),new At.MathNode("mtd",[Ff(t.body,e)]),FH(),new At.MathNode("mtd",[Ff(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var PH={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},BH={"\\textbf":"textbf","\\textmd":"textmd"},WLe={"\\textit":"textit","\\textup":"textup"},$H=(t,e)=>{var r=t.font;if(r){if(PH[r])return e.withTextFontFamily(PH[r]);if(BH[r])return e.withTextFontWeight(BH[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(WLe[r])};qt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"text",mode:r.mode,body:Ri(i),font:n}},htmlBuilder(t,e){var r=$H(t,e),n=aa(t.body,r,!0);return rt.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=$H(t,e);return Ff(t.body,r)}});qt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=en(t.body,e),n=rt.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,a=rt.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return rt.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var r=new At.MathNode("mo",[new At.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new At.MathNode("munder",[Mn(t.body,e),r]);return n.setAttribute("accentunder","true"),n}});qt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=en(t.body,e),n=e.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return rt.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new At.MathNode("mpadded",[Mn(t.body,e)],["vcenter"])}});qt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new Rt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=zH(t),n=[],i=e.havingStyle(e.style.text()),a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),n.push(rt.makeSymbol(s,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return rt.makeSpan(["mord","text"].concat(i.sizingClasses(e)),rt.tryCombineChars(n),i)},mathmlBuilder(t,e){var r=new At.TextNode(zH(t)),n=new At.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var zH=t=>t.body.replace(/ /g,t.star?"␣":" "),sf=Cre,ine=`[ \r
	]`,qLe="\\\\[a-zA-Z@]+",YLe="\\\\[^\uD800-\uDFFF]",XLe="("+qLe+")"+ine+"*",jLe=`\\\\(
|[ \r	]+
?)[ \r	]*`,O9="[̀-ͯ]",KLe=new RegExp(O9+"+$"),QLe="("+ine+"+)|"+(jLe+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(O9+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(O9+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+XLe)+("|"+YLe+")");let HH=class{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(QLe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new ml("EOF",new Lo(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new Rt("Unexpected character: '"+e[r]+"'",new ml(e[r],new Lo(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new ml(i,new Lo(this,r,this.tokenRegex.lastIndex))}};class ZLe{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Rt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var JLe=Yre;Ae("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});Ae("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});Ae("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});Ae("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});Ae("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});Ae("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");Ae("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var VH={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Ae("\\char",function(t){var e=t.popToken(),r,n="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Rt("\\char` missing argument");n=e.text.charCodeAt(0)}else r=10;if(r){if(n=VH[e.text],n==null||n>=r)throw new Rt("Invalid base-"+r+" digit "+e.text);for(var i;(i=VH[t.future().text])!=null&&i<r;)n*=r,n+=i,t.popToken()}return"\\@char{"+n+"}"});var sN=(t,e,r)=>{var n=t.consumeArg().tokens;if(n.length!==1)throw new Rt("\\newcommand's first argument must be a macro name");var i=n[0].text,a=t.isDefined(i);if(a&&!e)throw new Rt("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!a&&!r)throw new Rt("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(n=t.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var o="",l=t.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=t.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new Rt("Invalid number of arguments: "+o);s=parseInt(o),n=t.consumeArg().tokens}return t.macros.set(i,{tokens:n,numArgs:s}),""};Ae("\\newcommand",t=>sN(t,!1,!0));Ae("\\renewcommand",t=>sN(t,!0,!1));Ae("\\providecommand",t=>sN(t,!0,!0));Ae("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});Ae("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});Ae("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),sf[r],Bn.math[r],Bn.text[r]),""});Ae("\\bgroup","{");Ae("\\egroup","}");Ae("~","\\nobreakspace");Ae("\\lq","`");Ae("\\rq","'");Ae("\\aa","\\r a");Ae("\\AA","\\r A");Ae("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");Ae("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");Ae("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");Ae("ℬ","\\mathscr{B}");Ae("ℰ","\\mathscr{E}");Ae("ℱ","\\mathscr{F}");Ae("ℋ","\\mathscr{H}");Ae("ℐ","\\mathscr{I}");Ae("ℒ","\\mathscr{L}");Ae("ℳ","\\mathscr{M}");Ae("ℛ","\\mathscr{R}");Ae("ℭ","\\mathfrak{C}");Ae("ℌ","\\mathfrak{H}");Ae("ℨ","\\mathfrak{Z}");Ae("\\Bbbk","\\Bbb{k}");Ae("·","\\cdotp");Ae("\\llap","\\mathllap{\\textrm{#1}}");Ae("\\rlap","\\mathrlap{\\textrm{#1}}");Ae("\\clap","\\mathclap{\\textrm{#1}}");Ae("\\mathstrut","\\vphantom{(}");Ae("\\underbar","\\underline{\\text{#1}}");Ae("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');Ae("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");Ae("\\ne","\\neq");Ae("≠","\\neq");Ae("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");Ae("∉","\\notin");Ae("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");Ae("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");Ae("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");Ae("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");Ae("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");Ae("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");Ae("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");Ae("⟂","\\perp");Ae("‼","\\mathclose{!\\mkern-0.8mu!}");Ae("∌","\\notni");Ae("⌜","\\ulcorner");Ae("⌝","\\urcorner");Ae("⌞","\\llcorner");Ae("⌟","\\lrcorner");Ae("©","\\copyright");Ae("®","\\textregistered");Ae("️","\\textregistered");Ae("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');Ae("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');Ae("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');Ae("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');Ae("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");Ae("⋮","\\vdots");Ae("\\varGamma","\\mathit{\\Gamma}");Ae("\\varDelta","\\mathit{\\Delta}");Ae("\\varTheta","\\mathit{\\Theta}");Ae("\\varLambda","\\mathit{\\Lambda}");Ae("\\varXi","\\mathit{\\Xi}");Ae("\\varPi","\\mathit{\\Pi}");Ae("\\varSigma","\\mathit{\\Sigma}");Ae("\\varUpsilon","\\mathit{\\Upsilon}");Ae("\\varPhi","\\mathit{\\Phi}");Ae("\\varPsi","\\mathit{\\Psi}");Ae("\\varOmega","\\mathit{\\Omega}");Ae("\\substack","\\begin{subarray}{c}#1\\end{subarray}");Ae("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");Ae("\\boxed","\\fbox{$\\displaystyle{#1}$}");Ae("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");Ae("\\implies","\\DOTSB\\;\\Longrightarrow\\;");Ae("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var UH={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Ae("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in UH?e=UH[r]:(r.slice(0,4)==="\\not"||r in Bn.math&&vr.contains(["bin","rel"],Bn.math[r].group))&&(e="\\dotsb"),e});var oN={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Ae("\\dotso",function(t){var e=t.future().text;return e in oN?"\\ldots\\,":"\\ldots"});Ae("\\dotsc",function(t){var e=t.future().text;return e in oN&&e!==","?"\\ldots\\,":"\\ldots"});Ae("\\cdots",function(t){var e=t.future().text;return e in oN?"\\@cdots\\,":"\\@cdots"});Ae("\\dotsb","\\cdots");Ae("\\dotsm","\\cdots");Ae("\\dotsi","\\!\\cdots");Ae("\\dotsx","\\ldots\\,");Ae("\\DOTSI","\\relax");Ae("\\DOTSB","\\relax");Ae("\\DOTSX","\\relax");Ae("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");Ae("\\,","\\tmspace+{3mu}{.1667em}");Ae("\\thinspace","\\,");Ae("\\>","\\mskip{4mu}");Ae("\\:","\\tmspace+{4mu}{.2222em}");Ae("\\medspace","\\:");Ae("\\;","\\tmspace+{5mu}{.2777em}");Ae("\\thickspace","\\;");Ae("\\!","\\tmspace-{3mu}{.1667em}");Ae("\\negthinspace","\\!");Ae("\\negmedspace","\\tmspace-{4mu}{.2222em}");Ae("\\negthickspace","\\tmspace-{5mu}{.277em}");Ae("\\enspace","\\kern.5em ");Ae("\\enskip","\\hskip.5em\\relax");Ae("\\quad","\\hskip1em\\relax");Ae("\\qquad","\\hskip2em\\relax");Ae("\\tag","\\@ifstar\\tag@literal\\tag@paren");Ae("\\tag@paren","\\tag@literal{({#1})}");Ae("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Rt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});Ae("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");Ae("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");Ae("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");Ae("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");Ae("\\newline","\\\\\\relax");Ae("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var ane=Ft(Pu["Main-Regular"]["T".charCodeAt(0)][1]-.7*Pu["Main-Regular"]["A".charCodeAt(0)][1]);Ae("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+ane+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");Ae("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+ane+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");Ae("\\hspace","\\@ifstar\\@hspacer\\@hspace");Ae("\\@hspace","\\hskip #1\\relax");Ae("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");Ae("\\ordinarycolon",":");Ae("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");Ae("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');Ae("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');Ae("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');Ae("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');Ae("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');Ae("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');Ae("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');Ae("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');Ae("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');Ae("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');Ae("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');Ae("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');Ae("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');Ae("∷","\\dblcolon");Ae("∹","\\eqcolon");Ae("≔","\\coloneqq");Ae("≕","\\eqqcolon");Ae("⩴","\\Coloneqq");Ae("\\ratio","\\vcentcolon");Ae("\\coloncolon","\\dblcolon");Ae("\\colonequals","\\coloneqq");Ae("\\coloncolonequals","\\Coloneqq");Ae("\\equalscolon","\\eqqcolon");Ae("\\equalscoloncolon","\\Eqqcolon");Ae("\\colonminus","\\coloneq");Ae("\\coloncolonminus","\\Coloneq");Ae("\\minuscolon","\\eqcolon");Ae("\\minuscoloncolon","\\Eqcolon");Ae("\\coloncolonapprox","\\Colonapprox");Ae("\\coloncolonsim","\\Colonsim");Ae("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Ae("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");Ae("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Ae("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");Ae("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");Ae("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");Ae("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");Ae("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");Ae("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");Ae("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");Ae("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");Ae("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");Ae("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");Ae("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");Ae("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");Ae("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");Ae("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");Ae("\\nleqq","\\html@mathml{\\@nleqq}{≰}");Ae("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");Ae("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");Ae("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");Ae("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");Ae("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");Ae("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");Ae("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");Ae("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");Ae("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");Ae("\\imath","\\html@mathml{\\@imath}{ı}");Ae("\\jmath","\\html@mathml{\\@jmath}{ȷ}");Ae("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");Ae("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");Ae("⟦","\\llbracket");Ae("⟧","\\rrbracket");Ae("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");Ae("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");Ae("⦃","\\lBrace");Ae("⦄","\\rBrace");Ae("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");Ae("⦵","\\minuso");Ae("\\darr","\\downarrow");Ae("\\dArr","\\Downarrow");Ae("\\Darr","\\Downarrow");Ae("\\lang","\\langle");Ae("\\rang","\\rangle");Ae("\\uarr","\\uparrow");Ae("\\uArr","\\Uparrow");Ae("\\Uarr","\\Uparrow");Ae("\\N","\\mathbb{N}");Ae("\\R","\\mathbb{R}");Ae("\\Z","\\mathbb{Z}");Ae("\\alef","\\aleph");Ae("\\alefsym","\\aleph");Ae("\\Alpha","\\mathrm{A}");Ae("\\Beta","\\mathrm{B}");Ae("\\bull","\\bullet");Ae("\\Chi","\\mathrm{X}");Ae("\\clubs","\\clubsuit");Ae("\\cnums","\\mathbb{C}");Ae("\\Complex","\\mathbb{C}");Ae("\\Dagger","\\ddagger");Ae("\\diamonds","\\diamondsuit");Ae("\\empty","\\emptyset");Ae("\\Epsilon","\\mathrm{E}");Ae("\\Eta","\\mathrm{H}");Ae("\\exist","\\exists");Ae("\\harr","\\leftrightarrow");Ae("\\hArr","\\Leftrightarrow");Ae("\\Harr","\\Leftrightarrow");Ae("\\hearts","\\heartsuit");Ae("\\image","\\Im");Ae("\\infin","\\infty");Ae("\\Iota","\\mathrm{I}");Ae("\\isin","\\in");Ae("\\Kappa","\\mathrm{K}");Ae("\\larr","\\leftarrow");Ae("\\lArr","\\Leftarrow");Ae("\\Larr","\\Leftarrow");Ae("\\lrarr","\\leftrightarrow");Ae("\\lrArr","\\Leftrightarrow");Ae("\\Lrarr","\\Leftrightarrow");Ae("\\Mu","\\mathrm{M}");Ae("\\natnums","\\mathbb{N}");Ae("\\Nu","\\mathrm{N}");Ae("\\Omicron","\\mathrm{O}");Ae("\\plusmn","\\pm");Ae("\\rarr","\\rightarrow");Ae("\\rArr","\\Rightarrow");Ae("\\Rarr","\\Rightarrow");Ae("\\real","\\Re");Ae("\\reals","\\mathbb{R}");Ae("\\Reals","\\mathbb{R}");Ae("\\Rho","\\mathrm{P}");Ae("\\sdot","\\cdot");Ae("\\sect","\\S");Ae("\\spades","\\spadesuit");Ae("\\sub","\\subset");Ae("\\sube","\\subseteq");Ae("\\supe","\\supseteq");Ae("\\Tau","\\mathrm{T}");Ae("\\thetasym","\\vartheta");Ae("\\weierp","\\wp");Ae("\\Zeta","\\mathrm{Z}");Ae("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");Ae("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");Ae("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");Ae("\\bra","\\mathinner{\\langle{#1}|}");Ae("\\ket","\\mathinner{|{#1}\\rangle}");Ae("\\braket","\\mathinner{\\langle{#1}\\rangle}");Ae("\\Bra","\\left\\langle#1\\right|");Ae("\\Ket","\\left|#1\\right\\rangle");var sne=t=>e=>{var r=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=f=>d=>{t&&(d.macros.set("|",s),i.length&&d.macros.set("\\|",o));var p=f;if(!f&&i.length){var v=d.future();v.text==="|"&&(d.popToken(),p=!0)}return{tokens:p?i:n,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,h=e.expandTokens([...a,...u,...r]);return e.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};Ae("\\bra@ket",sne(!1));Ae("\\bra@set",sne(!0));Ae("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");Ae("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");Ae("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");Ae("\\angln","{\\angl n}");Ae("\\blue","\\textcolor{##6495ed}{#1}");Ae("\\orange","\\textcolor{##ffa500}{#1}");Ae("\\pink","\\textcolor{##ff00af}{#1}");Ae("\\red","\\textcolor{##df0030}{#1}");Ae("\\green","\\textcolor{##28ae7b}{#1}");Ae("\\gray","\\textcolor{gray}{#1}");Ae("\\purple","\\textcolor{##9d38bd}{#1}");Ae("\\blueA","\\textcolor{##ccfaff}{#1}");Ae("\\blueB","\\textcolor{##80f6ff}{#1}");Ae("\\blueC","\\textcolor{##63d9ea}{#1}");Ae("\\blueD","\\textcolor{##11accd}{#1}");Ae("\\blueE","\\textcolor{##0c7f99}{#1}");Ae("\\tealA","\\textcolor{##94fff5}{#1}");Ae("\\tealB","\\textcolor{##26edd5}{#1}");Ae("\\tealC","\\textcolor{##01d1c1}{#1}");Ae("\\tealD","\\textcolor{##01a995}{#1}");Ae("\\tealE","\\textcolor{##208170}{#1}");Ae("\\greenA","\\textcolor{##b6ffb0}{#1}");Ae("\\greenB","\\textcolor{##8af281}{#1}");Ae("\\greenC","\\textcolor{##74cf70}{#1}");Ae("\\greenD","\\textcolor{##1fab54}{#1}");Ae("\\greenE","\\textcolor{##0d923f}{#1}");Ae("\\goldA","\\textcolor{##ffd0a9}{#1}");Ae("\\goldB","\\textcolor{##ffbb71}{#1}");Ae("\\goldC","\\textcolor{##ff9c39}{#1}");Ae("\\goldD","\\textcolor{##e07d10}{#1}");Ae("\\goldE","\\textcolor{##a75a05}{#1}");Ae("\\redA","\\textcolor{##fca9a9}{#1}");Ae("\\redB","\\textcolor{##ff8482}{#1}");Ae("\\redC","\\textcolor{##f9685d}{#1}");Ae("\\redD","\\textcolor{##e84d39}{#1}");Ae("\\redE","\\textcolor{##bc2612}{#1}");Ae("\\maroonA","\\textcolor{##ffbde0}{#1}");Ae("\\maroonB","\\textcolor{##ff92c6}{#1}");Ae("\\maroonC","\\textcolor{##ed5fa6}{#1}");Ae("\\maroonD","\\textcolor{##ca337c}{#1}");Ae("\\maroonE","\\textcolor{##9e034e}{#1}");Ae("\\purpleA","\\textcolor{##ddd7ff}{#1}");Ae("\\purpleB","\\textcolor{##c6b9fc}{#1}");Ae("\\purpleC","\\textcolor{##aa87ff}{#1}");Ae("\\purpleD","\\textcolor{##7854ab}{#1}");Ae("\\purpleE","\\textcolor{##543b78}{#1}");Ae("\\mintA","\\textcolor{##f5f9e8}{#1}");Ae("\\mintB","\\textcolor{##edf2df}{#1}");Ae("\\mintC","\\textcolor{##e0e5cc}{#1}");Ae("\\grayA","\\textcolor{##f6f7f7}{#1}");Ae("\\grayB","\\textcolor{##f0f1f2}{#1}");Ae("\\grayC","\\textcolor{##e3e5e6}{#1}");Ae("\\grayD","\\textcolor{##d6d8da}{#1}");Ae("\\grayE","\\textcolor{##babec2}{#1}");Ae("\\grayF","\\textcolor{##888d93}{#1}");Ae("\\grayG","\\textcolor{##626569}{#1}");Ae("\\grayH","\\textcolor{##3b3e40}{#1}");Ae("\\grayI","\\textcolor{##21242c}{#1}");Ae("\\kaBlue","\\textcolor{##314453}{#1}");Ae("\\kaGreen","\\textcolor{##71B307}{#1}");var one={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class eDe{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new ZLe(JLe,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new HH(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new ml("EOF",n.loc)),this.pushTokens(i),r.range(n,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),a,s=0,o=0;do{if(a=this.popToken(),r.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new Rt("Extra }",a)}else if(a.text==="EOF")throw new Rt("Unexpected end of input in a macro argument, expected '"+(e&&n?e[o]:"}")+"'",a);if(e&&n)if((s===0||s===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){r.splice(-o,o);break}}else o=0}while(s!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:a}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new Rt("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var a=this.popToken();if(n[i]!==a.text)throw new Rt("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<e;o++)s.push(this.consumeArg(r&&r[o+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Rt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new Rt("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new Rt("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new Rt("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new ml(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new HH(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var h={tokens:l,numArgs:a};return h}return i}isDefined(e){return this.macros.has(e)||sf.hasOwnProperty(e)||Bn.math.hasOwnProperty(e)||Bn.text.hasOwnProperty(e)||one.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:sf.hasOwnProperty(e)&&!sf[e].primitive}}var GH=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,k3=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),k8={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},WH={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};let lne=class une{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new eDe(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new Rt("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new ml("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(une.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&sf[i.text]&&sf[i.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;n.push(a)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r=-1,n,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new Rt("only one infix operator per group",e[i].token);r=i,n=e[i].replaceWith}if(r!==-1&&n){var a,s,o=e.slice(0,r),l=e.slice(r+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return n==="\\\\abovefrac"?u=this.callFunction(n,[a,e[r],s],[]):u=this.callFunction(n,[a,s],[]),[u]}else return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new Rt("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(e){var r=this.parseGroup("atom",e);if(this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var s=a.text==="\\limits";r.limits=s,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new Rt("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(n)throw new Rt("Double superscript",a);n=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new Rt("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(n)throw new Rt("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:l}}else if(k3[a.text]){var u=GH.test(a.text),h=[];for(h.push(new ml(k3[a.text])),this.consume();;){var f=this.fetch().text;if(!k3[f]||GH.test(f)!==u)break;h.unshift(new ml(k3[f])),this.consume()}var d=this.subparse(h);u?i={type:"ordgroup",mode:"math",body:d}:n={type:"ordgroup",mode:"math",body:d}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(e,r){var n=this.fetch(),i=n.text,a=sf[i];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new Rt("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!a.allowedInText)throw new Rt("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&a.allowedInMath===!1)throw new Rt("Can't use function '"+i+"' in math mode",n);var{args:s,optArgs:o}=this.parseArguments(i,a);return this.callFunction(i,s,o,n,e)}callFunction(e,r,n,i,a){var s={funcName:e,parser:this,token:i,breakOnTokenText:a},o=sf[e];if(o&&o.handler)return o.handler(s,r,n);throw new Rt("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<n;s++){var o=r.argTypes&&r.argTypes[s],l=s<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)a.push(u);else if(u!=null)i.push(u);else throw new Rt("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",n);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(n)throw new Rt("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new Rt("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new Rt("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,r){for(var n=this.fetch(),i=n,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new Rt("Invalid "+r+": '"+n.text+"'",n);return n.range(i,a)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new Rt("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new Rt("Invalid size: '"+r.text+"'",r);var a={number:+(i[1]+i[2]),unit:i[3]};if(!mre(a))throw new Rt("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:n.loc,body:a};return r&&this.switchMode(i),s}parseGroup(e,r){var n=this.fetch(),i=n.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:Lo.range(n,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,e)||this.parseSymbol(),a==null&&i[0]==="\\"&&!one.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Rt("Undefined control sequence: "+i,n);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var i=e[n],a=i.text;a==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:Lo.range(i,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:Lo.range(i,e[n+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&e[n+1].text===a&&(e.splice(n,2,{type:"textord",mode:"text",loc:Lo.range(i,e[n+1]),text:a+a}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new Rt(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}WH.hasOwnProperty(r[0])&&!Bn[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=WH[r[0]]+r.slice(1));var a=KLe.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="ı":r==="j"&&(r="ȷ"));var s;if(Bn[this.mode][r]){this.settings.strict&&this.mode==="math"&&D9.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var o=Bn[this.mode][r].group,l=Lo.range(e),u;if(V9e.hasOwnProperty(o)){var h=o;u={type:"atom",mode:this.mode,family:h,loc:l,text:r}}else u={type:o,mode:this.mode,loc:l,text:r};s=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(vre(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:Lo.range(e),text:r};else return null;if(this.consume(),a)for(var f=0;f<a[0].length;f++){var d=a[0][f];if(!k8[d])throw new Rt("Unknown accent ' "+d+"'",e);var p=k8[d][this.mode]||k8[d].text;if(!p)throw new Rt("Accent "+d+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:Lo.range(e),label:p,isStretchy:!1,isShifty:!0,base:s}}return s}};lne.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var lN=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new lne(e,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new Rt("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new ml("\\df@tag")])}]}return i},cne=function(e,r,n){r.textContent="";var i=uN(e,n).toNode();r.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),cne=function(){throw new Rt("KaTeX doesn't work in quirks mode.")});var tDe=function(e,r){var n=uN(e,r).toMarkup();return n},rDe=function(e,r){var n=new GM(r);return lN(e,n)},hne=function(e,r,n){if(n.throwOnError||!(e instanceof Rt))throw e;var i=rt.makeSpan(["katex-error"],[new Tl(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},uN=function(e,r){var n=new GM(r);try{var i=lN(e,n);return hLe(i,e,n)}catch(a){return hne(a,e,n)}},nDe=function(e,r){var n=new GM(r);try{var i=lN(e,n);return fLe(i,e,n)}catch(a){return hne(a,e,n)}},iDe={version:"0.16.11",render:cne,renderToString:tDe,ParseError:Rt,SETTINGS_SCHEMA:_w,__parse:rDe,__renderToDomTree:uN,__renderToHTMLTree:nDe,__setFontMetrics:O9e,__defineSymbol:Q,__defineFunction:qt,__defineMacro:Ae,__domTree:{Span:fb,Anchor:YM,SymbolNode:Tl,SvgNode:th,PathNode:Of,LineNode:L9}};const aDe=Object.freeze(Object.defineProperty({__proto__:null,default:iDe},Symbol.toStringTag,{value:"Module"}));var sDe="[object Symbol]";function _0(t){return typeof t=="symbol"||Sl(t)&&ph(t)==sDe}function bf(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var oDe=1/0,qH=wl?wl.prototype:void 0,YH=qH?qH.toString:void 0;function fne(t){if(typeof t=="string")return t;if(Ur(t))return bf(t,fne)+"";if(_0(t))return YH?YH.call(t):"";var e=t+"";return e=="0"&&1/t==-oDe?"-0":e}var lDe=/\s/;function uDe(t){for(var e=t.length;e--&&lDe.test(t.charAt(e)););return e}var cDe=/^\s+/;function hDe(t){return t&&t.slice(0,uDe(t)+1).replace(cDe,"")}var XH=0/0,fDe=/^[-+]0x[0-9a-f]+$/i,dDe=/^0b[01]+$/i,pDe=/^0o[0-7]+$/i,gDe=parseInt;function vDe(t){if(typeof t=="number")return t;if(_0(t))return XH;if(po(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=po(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=hDe(t);var r=dDe.test(t);return r||pDe.test(t)?gDe(t.slice(2),r?2:8):fDe.test(t)?XH:+t}var jH=1/0,mDe=17976931348623157e292;function Dw(t){if(!t)return t===0?t:0;if(t=vDe(t),t===jH||t===-jH){var e=t<0?-1:1;return e*mDe}return t===t?t:0}function pb(t){var e=Dw(t),r=e%1;return e===e?r?e-r:e:0}function qi(){}function dne(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function pne(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function yDe(t){return t!==t}function xDe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function cN(t,e,r){return e===e?xDe(t,e,r):pne(t,yDe,r)}function gne(t,e){var r=t==null?0:t.length;return!!r&&cN(t,e,0)>-1}function Zi(t){return Ju(t)?EJ(t):Vee(t)}var bDe=Object.prototype,wDe=bDe.hasOwnProperty,kDe=_J(function(t,e){if(tb(e)||Ju(e)){J1(e,Zi(e),t);return}for(var r in e)wDe.call(e,r)&&rb(t,r,e[r])});const Uo=kDe;var SDe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,EDe=/^\w*$/;function hN(t,e){if(Ur(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||_0(t)?!0:EDe.test(t)||!SDe.test(t)||e!=null&&t in Object(e)}var TDe=500;function CDe(t){var e=Q1(t,function(n){return r.size===TDe&&r.clear(),n}),r=e.cache;return e}var ADe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_De=/\\(\\)?/g,LDe=CDe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ADe,function(r,n,i,a){e.push(i?a.replace(_De,"$1"):n||r)}),e});const DDe=LDe;function vne(t){return t==null?"":fne(t)}function vT(t,e){return Ur(t)?t:hN(t,e)?[t]:DDe(vne(t))}var RDe=1/0;function gb(t){if(typeof t=="string"||_0(t))return t;var e=t+"";return e=="0"&&1/t==-RDe?"-0":e}function mT(t,e){e=vT(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[gb(e[r++])];return r&&r==n?t:void 0}function MDe(t,e,r){var n=t==null?void 0:mT(t,e);return n===void 0?r:n}function fN(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var KH=wl?wl.isConcatSpreadable:void 0;function NDe(t){return Ur(t)||p1(t)||!!(KH&&t&&t[KH])}function sv(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=NDe),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?sv(o,e-1,r,n,i):fN(i,o):n||(i[i.length]=o)}return i}function xa(t){var e=t==null?0:t.length;return e?sv(t,1):[]}function IDe(t){return AJ(CJ(t,void 0,xa),t+"")}function mne(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}function ODe(t,e,r,n){var i=-1,a=t==null?0:t.length;for(n&&a&&(r=t[++i]);++i<a;)r=e(r,t[i],i,t);return r}function FDe(t,e){return t&&J1(e,Zi(e),t)}function PDe(t,e){return t&&J1(e,rp(e),t)}function dN(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}function yne(){return[]}var BDe=Object.prototype,$De=BDe.propertyIsEnumerable,QH=Object.getOwnPropertySymbols,zDe=QH?function(t){return t==null?[]:(t=Object(t),dN(QH(t),function(e){return $De.call(t,e)}))}:yne;const pN=zDe;function HDe(t,e){return J1(t,pN(t),e)}var VDe=Object.getOwnPropertySymbols,UDe=VDe?function(t){for(var e=[];t;)fN(e,pN(t)),t=lM(t);return e}:yne;const xne=UDe;function GDe(t,e){return J1(t,xne(t),e)}function bne(t,e,r){var n=e(t);return Ur(t)?n:fN(n,r(t))}function F9(t){return bne(t,Zi,pN)}function wne(t){return bne(t,rp,xne)}var WDe=Object.prototype,qDe=WDe.hasOwnProperty;function YDe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&qDe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function XDe(t,e){var r=e?oM(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var jDe=/\w*$/;function KDe(t){var e=new t.constructor(t.source,jDe.exec(t));return e.lastIndex=t.lastIndex,e}var ZH=wl?wl.prototype:void 0,JH=ZH?ZH.valueOf:void 0;function QDe(t){return JH?Object(JH.call(t)):{}}var ZDe="[object Boolean]",JDe="[object Date]",eRe="[object Map]",tRe="[object Number]",rRe="[object RegExp]",nRe="[object Set]",iRe="[object String]",aRe="[object Symbol]",sRe="[object ArrayBuffer]",oRe="[object DataView]",lRe="[object Float32Array]",uRe="[object Float64Array]",cRe="[object Int8Array]",hRe="[object Int16Array]",fRe="[object Int32Array]",dRe="[object Uint8Array]",pRe="[object Uint8ClampedArray]",gRe="[object Uint16Array]",vRe="[object Uint32Array]";function mRe(t,e,r){var n=t.constructor;switch(e){case sRe:return oM(t);case ZDe:case JDe:return new n(+t);case oRe:return XDe(t,r);case lRe:case uRe:case cRe:case hRe:case fRe:case dRe:case pRe:case gRe:case vRe:return vJ(t,r);case eRe:return new n;case tRe:case iRe:return new n(t);case rRe:return KDe(t);case nRe:return new n;case aRe:return QDe(t)}}var yRe="[object Map]";function xRe(t){return Sl(t)&&y1(t)==yRe}var eV=Df&&Df.isMap,bRe=eV?Z1(eV):xRe;const wRe=bRe;var kRe="[object Set]";function SRe(t){return Sl(t)&&y1(t)==kRe}var tV=Df&&Df.isSet,ERe=tV?Z1(tV):SRe;const TRe=ERe;var CRe=1,ARe=2,_Re=4,kne="[object Arguments]",LRe="[object Array]",DRe="[object Boolean]",RRe="[object Date]",MRe="[object Error]",Sne="[object Function]",NRe="[object GeneratorFunction]",IRe="[object Map]",ORe="[object Number]",Ene="[object Object]",FRe="[object RegExp]",PRe="[object Set]",BRe="[object String]",$Re="[object Symbol]",zRe="[object WeakMap]",HRe="[object ArrayBuffer]",VRe="[object DataView]",URe="[object Float32Array]",GRe="[object Float64Array]",WRe="[object Int8Array]",qRe="[object Int16Array]",YRe="[object Int32Array]",XRe="[object Uint8Array]",jRe="[object Uint8ClampedArray]",KRe="[object Uint16Array]",QRe="[object Uint32Array]",On={};On[kne]=On[LRe]=On[HRe]=On[VRe]=On[DRe]=On[RRe]=On[URe]=On[GRe]=On[WRe]=On[qRe]=On[YRe]=On[IRe]=On[ORe]=On[Ene]=On[FRe]=On[PRe]=On[BRe]=On[$Re]=On[XRe]=On[jRe]=On[KRe]=On[QRe]=!0;On[MRe]=On[Sne]=On[zRe]=!1;function Oy(t,e,r,n,i,a){var s,o=e&CRe,l=e&ARe,u=e&_Re;if(r&&(s=i?r(t,n,i,a):r(t)),s!==void 0)return s;if(!po(t))return t;var h=Ur(t);if(h){if(s=YDe(t),!o)return mJ(t,s)}else{var f=y1(t),d=f==Sne||f==NRe;if(g1(t))return gJ(t,o);if(f==Ene||f==kne||d&&!i){if(s=l||d?{}:xJ(t),!o)return l?GDe(t,PDe(s,t)):HDe(t,FDe(s,t))}else{if(!On[f])return i?t:{};s=mRe(t,f,o)}}a||(a=new Zl);var p=a.get(t);if(p)return p;a.set(t,s),TRe(t)?t.forEach(function(x){s.add(Oy(x,e,r,x,t,a))}):wRe(t)&&t.forEach(function(x,y){s.set(y,Oy(x,e,r,y,t,a))});var v=u?l?wne:F9:l?rp:Zi,m=h?void 0:v(t);return dne(m||t,function(x,y){m&&(y=x,x=t[y]),rb(s,y,Oy(x,e,r,y,t,a))}),s}var ZRe=4;function sa(t){return Oy(t,ZRe)}var JRe=1,eMe=4;function tMe(t){return Oy(t,JRe|eMe)}function vb(t){for(var e=-1,r=t==null?0:t.length,n=0,i=[];++e<r;){var a=t[e];a&&(i[n++]=a)}return i}var rMe="__lodash_hash_undefined__";function nMe(t){return this.__data__.set(t,rMe),this}function iMe(t){return this.__data__.has(t)}function w1(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new vh;++e<r;)this.add(t[e])}w1.prototype.add=w1.prototype.push=nMe;w1.prototype.has=iMe;function Tne(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function gN(t,e){return t.has(e)}var aMe=1,sMe=2;function Cne(t,e,r,n,i,a){var s=r&aMe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),h=a.get(e);if(u&&h)return u==e&&h==t;var f=-1,d=!0,p=r&sMe?new w1:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var v=t[f],m=e[f];if(n)var x=s?n(m,v,f,e,t,a):n(v,m,f,t,e,a);if(x!==void 0){if(x)continue;d=!1;break}if(p){if(!Tne(e,function(y,w){if(!gN(p,w)&&(v===y||i(v,y,r,n,a)))return p.push(w)})){d=!1;break}}else if(!(v===m||i(v,m,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}function oMe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function vN(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var lMe=1,uMe=2,cMe="[object Boolean]",hMe="[object Date]",fMe="[object Error]",dMe="[object Map]",pMe="[object Number]",gMe="[object RegExp]",vMe="[object Set]",mMe="[object String]",yMe="[object Symbol]",xMe="[object ArrayBuffer]",bMe="[object DataView]",rV=wl?wl.prototype:void 0,S8=rV?rV.valueOf:void 0;function wMe(t,e,r,n,i,a,s){switch(r){case bMe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case xMe:return!(t.byteLength!=e.byteLength||!a(new sk(t),new sk(e)));case cMe:case hMe:case pMe:return K1(+t,+e);case fMe:return t.name==e.name&&t.message==e.message;case gMe:case mMe:return t==e+"";case dMe:var o=oMe;case vMe:var l=n&lMe;if(o||(o=vN),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;n|=uMe,s.set(t,e);var h=Cne(o(t),o(e),n,i,a,s);return s.delete(t),h;case yMe:if(S8)return S8.call(t)==S8.call(e)}return!1}var kMe=1,SMe=Object.prototype,EMe=SMe.hasOwnProperty;function TMe(t,e,r,n,i,a){var s=r&kMe,o=F9(t),l=o.length,u=F9(e),h=u.length;if(l!=h&&!s)return!1;for(var f=l;f--;){var d=o[f];if(!(s?d in e:EMe.call(e,d)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var m=!0;a.set(t,e),a.set(e,t);for(var x=s;++f<l;){d=o[f];var y=t[d],w=e[d];if(n)var k=s?n(w,y,d,e,t,a):n(y,w,d,t,e,a);if(!(k===void 0?y===w||i(y,w,r,n,a):k)){m=!1;break}x||(x=d=="constructor")}if(m&&!x){var E=t.constructor,C=e.constructor;E!=C&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof C=="function"&&C instanceof C)&&(m=!1)}return a.delete(t),a.delete(e),m}var CMe=1,nV="[object Arguments]",iV="[object Array]",S3="[object Object]",AMe=Object.prototype,aV=AMe.hasOwnProperty;function _Me(t,e,r,n,i,a){var s=Ur(t),o=Ur(e),l=s?iV:y1(t),u=o?iV:y1(e);l=l==nV?S3:l,u=u==nV?S3:u;var h=l==S3,f=u==S3,d=l==u;if(d&&g1(t)){if(!g1(e))return!1;s=!0,h=!1}if(d&&!h)return a||(a=new Zl),s||_E(t)?Cne(t,e,r,n,i,a):wMe(t,e,l,r,n,i,a);if(!(r&CMe)){var p=h&&aV.call(t,"__wrapped__"),v=f&&aV.call(e,"__wrapped__");if(p||v){var m=p?t.value():t,x=v?e.value():e;return a||(a=new Zl),i(m,x,r,n,a)}}return d?(a||(a=new Zl),TMe(t,e,r,n,i,a)):!1}function mN(t,e,r,n,i){return t===e?!0:t==null||e==null||!Sl(t)&&!Sl(e)?t!==t&&e!==e:_Me(t,e,r,n,mN,i)}var LMe=1,DMe=2;function RMe(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],u=t[l],h=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Zl;if(n)var d=n(u,h,l,t,e,f);if(!(d===void 0?mN(h,u,LMe|DMe,n,f):d))return!1}}return!0}function Ane(t){return t===t&&!po(t)}function MMe(t){for(var e=Zi(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Ane(i)]}return e}function _ne(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function NMe(t){var e=MMe(t);return e.length==1&&e[0][2]?_ne(e[0][0],e[0][1]):function(r){return r===t||RMe(r,t,e)}}function IMe(t,e){return t!=null&&e in Object(t)}function Lne(t,e,r){e=vT(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=gb(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&uM(i)&&LE(s,i)&&(Ur(t)||p1(t)))}function Dne(t,e){return t!=null&&Lne(t,e,IMe)}var OMe=1,FMe=2;function PMe(t,e){return hN(t)&&Ane(e)?_ne(gb(t),e):function(r){var n=MDe(r,t);return n===void 0&&n===e?Dne(r,t):mN(e,n,OMe|FMe)}}function BMe(t){return function(e){return e==null?void 0:e[t]}}function $Me(t){return function(e){return mT(e,t)}}function zMe(t){return hN(t)?BMe(gb(t)):$Me(t)}function xo(t){return typeof t=="function"?t:t==null?eh:typeof t=="object"?Ur(t)?PMe(t[0],t[1]):NMe(t):zMe(t)}function HMe(t,e,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;){var s=t[i];e(n,s,r(s),t)}return n}function yN(t,e){return t&&sM(t,e,Zi)}function VMe(t,e){return function(r,n){if(r==null)return r;if(!Ju(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var UMe=VMe(yN);const lp=UMe;function GMe(t,e,r,n){return lp(t,function(i,a,s){e(n,i,r(i),s)}),n}function WMe(t,e){return function(r,n){var i=Ur(r)?HMe:GMe,a=e?e():{};return i(r,t,xo(n),a)}}var qMe=function(){return du.Date.now()};const sV=qMe;var Rne=Object.prototype,YMe=Rne.hasOwnProperty,XMe=nb(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&k0(e[0],e[1],i)&&(n=1);++r<n;)for(var a=e[r],s=rp(a),o=-1,l=s.length;++o<l;){var u=s[o],h=t[u];(h===void 0||K1(h,Rne[u])&&!YMe.call(t,u))&&(t[u]=a[u])}return t});const yT=XMe;function Mne(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var jMe=200;function KMe(t,e,r,n){var i=-1,a=gne,s=!0,o=t.length,l=[],u=e.length;if(!o)return l;r&&(e=bf(e,Z1(r))),n?(a=Mne,s=!1):e.length>=jMe&&(a=gN,s=!1,e=new w1(e));e:for(;++i<o;){var h=t[i],f=r==null?h:r(h);if(h=n||h!==0?h:0,s&&f===f){for(var d=u;d--;)if(e[d]===f)continue e;l.push(h)}else a(e,f,n)||l.push(h)}return l}var QMe=nb(function(t,e){return ok(t)?KMe(t,sv(e,1,ok,!0)):[]});const xT=QMe;function Yu(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Ra(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===void 0?1:pb(e),mne(t,e<0?0:e,n)):[]}function T2(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===void 0?1:pb(e),e=n-e,mne(t,0,e<0?0:e)):[]}function xN(t){return typeof t=="function"?t:eh}function tt(t,e){var r=Ur(t)?dne:lp;return r(t,xN(e))}function ZMe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function JMe(t,e){var r=!0;return lp(t,function(n,i,a){return r=!!e(n,i,a),r}),r}function ru(t,e,r){var n=Ur(t)?ZMe:JMe;return r&&k0(t,e,r)&&(e=void 0),n(t,xo(e))}function Nne(t,e){var r=[];return lp(t,function(n,i,a){e(n,i,a)&&r.push(n)}),r}function xi(t,e){var r=Ur(t)?dN:Nne;return r(t,xo(e))}function eNe(t){return function(e,r,n){var i=Object(e);if(!Ju(e)){var a=xo(r);e=Zi(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var tNe=Math.max;function rNe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:pb(r);return i<0&&(i=tNe(n+i,0)),pne(t,xo(e),i)}var nNe=eNe(rNe);const ih=nNe;function cu(t){return t&&t.length?t[0]:void 0}function Ine(t,e){var r=-1,n=Ju(t)?Array(t.length):[];return lp(t,function(i,a,s){n[++r]=e(i,a,s)}),n}function Ot(t,e){var r=Ur(t)?bf:Ine;return r(t,xo(e))}function Po(t,e){return sv(Ot(t,e),1)}function iNe(t,e){return t==null?t:sM(t,xN(e),rp)}function aNe(t,e){return t&&yN(t,xN(e))}var sNe=Object.prototype,oNe=sNe.hasOwnProperty,lNe=WMe(function(t,e,r){oNe.call(t,r)?t[r].push(e):eb(t,r,[e])});const uNe=lNe;function cNe(t,e){return t>e}var hNe=Object.prototype,fNe=hNe.hasOwnProperty;function dNe(t,e){return t!=null&&fNe.call(t,e)}function Pt(t,e){return t!=null&&Lne(t,e,dNe)}var pNe="[object String]";function go(t){return typeof t=="string"||!Ur(t)&&Sl(t)&&ph(t)==pNe}function gNe(t,e){return bf(e,function(r){return t[r]})}function _n(t){return t==null?[]:gNe(t,Zi(t))}var vNe=Math.max;function Ws(t,e,r,n){t=Ju(t)?t:_n(t),r=r&&!n?pb(r):0;var i=t.length;return r<0&&(r=vNe(i+r,0)),go(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&cN(t,e,r)>-1}var mNe=Math.max;function oV(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:pb(r);return i<0&&(i=mNe(n+i,0)),cN(t,e,i)}var yNe="[object RegExp]";function xNe(t){return Sl(t)&&ph(t)==yNe}var lV=Df&&Df.isRegExp,bNe=lV?Z1(lV):xNe;const ah=bNe;function pn(t){return t===void 0}function One(t,e){return t<e}function bT(t,e){var r={};return e=xo(e),yN(t,function(n,i,a){eb(r,i,e(n,i,a))}),r}function bN(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!_0(s):r(s,o)))var o=s,l=a}return l}function L0(t){return t&&t.length?bN(t,eh,cNe):void 0}function k1(t){return t&&t.length?bN(t,eh,One):void 0}function wN(t,e){return t&&t.length?bN(t,xo(e),One):void 0}var wNe="Expected a function";function kNe(t){if(typeof t!="function")throw new TypeError(wNe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function SNe(t,e,r,n){if(!po(t))return t;e=vT(e,t);for(var i=-1,a=e.length,s=a-1,o=t;o!=null&&++i<a;){var l=gb(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=s){var h=o[l];u=n?n(h,l,o):void 0,u===void 0&&(u=po(h)?h:LE(e[i+1])?[]:{})}rb(o,l,u),o=o[l]}return t}function Fne(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var s=e[n],o=mT(t,s);r(o,s)&&SNe(a,vT(s,t),o)}return a}function pu(t,e){if(t==null)return{};var r=bf(wne(t),function(n){return[n]});return e=xo(e),Fne(t,r,function(n,i){return e(n,i[0])})}function ENe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function TNe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=_0(t),s=e!==void 0,o=e===null,l=e===e,u=_0(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}function CNe(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=TNe(i[n],a[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}function ANe(t,e,r){e.length?e=bf(e,function(a){return Ur(a)?function(s){return mT(s,a.length===1?a[0]:a)}:a}):e=[eh];var n=-1;e=bf(e,Z1(xo));var i=Ine(t,function(a,s,o){var l=bf(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return ENe(i,function(a,s){return CNe(a,s,r)})}function _Ne(t,e){return Fne(t,e,function(r,n){return Dne(t,n)})}var LNe=IDe(function(t,e){return t==null?{}:_Ne(t,e)});const Dk=LNe;var DNe=Math.ceil,RNe=Math.max;function MNe(t,e,r,n){for(var i=-1,a=RNe(DNe((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}function NNe(t){return function(e,r,n){return n&&typeof n!="number"&&k0(e,r,n)&&(r=n=void 0),e=Dw(e),r===void 0?(r=e,e=0):r=Dw(r),n=n===void 0?e<r?1:-1:Dw(n),MNe(e,r,n,t)}}var INe=NNe();const S1=INe;function ONe(t,e,r,n,i){return i(t,function(a,s,o){r=n?(n=!1,a):e(r,a,s,o)}),r}function $i(t,e,r){var n=Ur(t)?ODe:ONe,i=arguments.length<3;return n(t,xo(e),r,i,lp)}function wT(t,e){var r=Ur(t)?dN:Nne;return r(t,kNe(xo(e)))}function FNe(t,e){var r;return lp(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}function Pne(t,e,r){var n=Ur(t)?Tne:FNe;return r&&k0(t,e,r)&&(e=void 0),n(t,xo(e))}var PNe=nb(function(t,e){if(t==null)return[];var r=e.length;return r>1&&k0(t,e[0],e[1])?e=[]:r>2&&k0(e[0],e[1],e[2])&&(e=[e[0]]),ANe(t,sv(e,1),[])});const mb=PNe;var BNe=1/0,$Ne=Og&&1/vN(new Og([,-0]))[1]==BNe?function(t){return new Og(t)}:qi;const zNe=$Ne;var HNe=200;function kN(t,e,r){var n=-1,i=gne,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=Mne;else if(a>=HNe){var u=e?null:zNe(t);if(u)return vN(u);s=!1,i=gN,l=new w1}else l=e?[]:o;e:for(;++n<a;){var h=t[n],f=e?e(h):h;if(h=r||h!==0?h:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),o.push(h)}else i(l,f,r)||(l!==o&&l.push(f),o.push(h))}return o}var VNe=nb(function(t){return kN(sv(t,1,ok,!0))});const UNe=VNe;function SN(t){return t&&t.length?kN(t):[]}function GNe(t,e){return t&&t.length?kN(t,xo(e)):[]}var WNe=0;function EN(t){var e=++WNe;return vne(t)+e}function qNe(t,e,r){for(var n=-1,i=t.length,a=e.length,s={};++n<i;){var o=n<a?e[n]:void 0;r(s,t[n],o)}return s}function YNe(t,e){return qNe(t||[],e||[],rb)}var XNe="\0",Td="\0",uV="";class ca{constructor(e={}){this._isDirected=Pt(e,"directed")?e.directed:!0,this._isMultigraph=Pt(e,"multigraph")?e.multigraph:!1,this._isCompound=Pt(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=xg(void 0),this._defaultEdgeLabelFn=xg(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Td]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return kl(e)||(e=xg(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return Zi(this._nodes)}sources(){var e=this;return xi(this.nodes(),function(r){return ln(e._in[r])})}sinks(){var e=this;return xi(this.nodes(),function(r){return ln(e._out[r])})}setNodes(e,r){var n=arguments,i=this;return tt(e,function(a){n.length>1?i.setNode(a,r):i.setNode(a)}),this}setNode(e,r){return Pt(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Td,this._children[e]={},this._children[Td][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Pt(this._nodes,e)}removeNode(e){var r=this;if(Pt(this._nodes,e)){var n=function(i){r.removeEdge(r._edgeObjs[i])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],tt(this.children(e),function(i){r.setParent(i)}),delete this._children[e]),tt(Zi(this._in[e]),n),delete this._in[e],delete this._preds[e],tt(Zi(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(pn(r))r=Td;else{r+="";for(var n=r;!pn(n);n=this.parent(n))if(n===e)throw new Error("Setting "+r+" as parent of "+e+" would create a cycle");this.setNode(r)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=r,this._children[r][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var r=this._parent[e];if(r!==Td)return r}}children(e){if(pn(e)&&(e=Td),this._isCompound){var r=this._children[e];if(r)return Zi(r)}else{if(e===Td)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return Zi(r)}successors(e){var r=this._sucs[e];if(r)return Zi(r)}neighbors(e){var r=this.predecessors(e);if(r)return UNe(r,this.successors(e))}isLeaf(e){var r;return this.isDirected()?r=this.successors(e):r=this.neighbors(e),r.length===0}filterNodes(e){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var n=this;tt(this._nodes,function(s,o){e(o)&&r.setNode(o,s)}),tt(this._edgeObjs,function(s){r.hasNode(s.v)&&r.hasNode(s.w)&&r.setEdge(s,n.edge(s))});var i={};function a(s){var o=n.parent(s);return o===void 0||r.hasNode(o)?(i[s]=o,o):o in i?i[o]:a(o)}return this._isCompound&&tt(r.nodes(),function(s){r.setParent(s,a(s))}),r}setDefaultEdgeLabel(e){return kl(e)||(e=xg(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return _n(this._edgeObjs)}setPath(e,r){var n=this,i=arguments;return $i(e,function(a,s){return i.length>1?n.setEdge(a,s,r):n.setEdge(a,s),s}),this}setEdge(){var e,r,n,i,a=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(e=s.v,r=s.w,n=s.name,arguments.length===2&&(i=arguments[1],a=!0)):(e=s,r=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],a=!0)),e=""+e,r=""+r,pn(n)||(n=""+n);var o=ey(this._isDirected,e,r,n);if(Pt(this._edgeLabels,o))return a&&(this._edgeLabels[o]=i),this;if(!pn(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(r),this._edgeLabels[o]=a?i:this._defaultEdgeLabelFn(e,r,n);var l=jNe(this._isDirected,e,r,n);return e=l.v,r=l.w,Object.freeze(l),this._edgeObjs[o]=l,cV(this._preds[r],e),cV(this._sucs[e],r),this._in[r][o]=l,this._out[e][o]=l,this._edgeCount++,this}edge(e,r,n){var i=arguments.length===1?E8(this._isDirected,arguments[0]):ey(this._isDirected,e,r,n);return this._edgeLabels[i]}hasEdge(e,r,n){var i=arguments.length===1?E8(this._isDirected,arguments[0]):ey(this._isDirected,e,r,n);return Pt(this._edgeLabels,i)}removeEdge(e,r,n){var i=arguments.length===1?E8(this._isDirected,arguments[0]):ey(this._isDirected,e,r,n),a=this._edgeObjs[i];return a&&(e=a.v,r=a.w,delete this._edgeLabels[i],delete this._edgeObjs[i],hV(this._preds[r],e),hV(this._sucs[e],r),delete this._in[r][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,r){var n=this._in[e];if(n){var i=_n(n);return r?xi(i,function(a){return a.v===r}):i}}outEdges(e,r){var n=this._out[e];if(n){var i=_n(n);return r?xi(i,function(a){return a.w===r}):i}}nodeEdges(e,r){var n=this.inEdges(e,r);if(n)return n.concat(this.outEdges(e,r))}}ca.prototype._nodeCount=0;ca.prototype._edgeCount=0;function cV(t,e){t[e]?t[e]++:t[e]=1}function hV(t,e){--t[e]||delete t[e]}function ey(t,e,r,n){var i=""+e,a=""+r;if(!t&&i>a){var s=i;i=a,a=s}return i+uV+a+uV+(pn(n)?XNe:n)}function jNe(t,e,r,n){var i=""+e,a=""+r;if(!t&&i>a){var s=i;i=a,a=s}var o={v:i,w:a};return n&&(o.name=n),o}function E8(t,e){return ey(t,e.v,e.w,e.name)}class KNe{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,r=e._prev;if(r!==e)return fV(r),r}enqueue(e){var r=this._sentinel;e._prev&&e._next&&fV(e),e._next=r._next,r._next._prev=e,r._next=e,e._prev=r}toString(){for(var e=[],r=this._sentinel,n=r._prev;n!==r;)e.push(JSON.stringify(n,QNe)),n=n._prev;return"["+e.join(", ")+"]"}}function fV(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function QNe(t,e){if(t!=="_next"&&t!=="_prev")return e}var ZNe=xg(1);function JNe(t,e){if(t.nodeCount()<=1)return[];var r=tIe(t,e||ZNe),n=eIe(r.graph,r.buckets,r.zeroIdx);return xa(Ot(n,function(i){return t.outEdges(i.v,i.w)}))}function eIe(t,e,r){for(var n=[],i=e[e.length-1],a=e[0],s;t.nodeCount();){for(;s=a.dequeue();)T8(t,e,r,s);for(;s=i.dequeue();)T8(t,e,r,s);if(t.nodeCount()){for(var o=e.length-2;o>0;--o)if(s=e[o].dequeue(),s){n=n.concat(T8(t,e,r,s,!0));break}}}return n}function T8(t,e,r,n,i){var a=i?[]:void 0;return tt(t.inEdges(n.v),function(s){var o=t.edge(s),l=t.node(s.v);i&&a.push({v:s.v,w:s.w}),l.out-=o,P9(e,r,l)}),tt(t.outEdges(n.v),function(s){var o=t.edge(s),l=s.w,u=t.node(l);u.in-=o,P9(e,r,u)}),t.removeNode(n.v),a}function tIe(t,e){var r=new ca,n=0,i=0;tt(t.nodes(),function(o){r.setNode(o,{v:o,in:0,out:0})}),tt(t.edges(),function(o){var l=r.edge(o.v,o.w)||0,u=e(o),h=l+u;r.setEdge(o.v,o.w,h),i=Math.max(i,r.node(o.v).out+=u),n=Math.max(n,r.node(o.w).in+=u)});var a=S1(i+n+3).map(function(){return new KNe}),s=n+1;return tt(r.nodes(),function(o){P9(a,s,r.node(o))}),{graph:r,buckets:a,zeroIdx:s}}function P9(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}function rIe(t){var e=t.graph().acyclicer==="greedy"?JNe(t,r(t)):nIe(t);tt(e,function(n){var i=t.edge(n);t.removeEdge(n),i.forwardName=n.name,i.reversed=!0,t.setEdge(n.w,n.v,i,EN("rev"))});function r(n){return function(i){return n.edge(i).weight}}}function nIe(t){var e=[],r={},n={};function i(a){Pt(n,a)||(n[a]=!0,r[a]=!0,tt(t.outEdges(a),function(s){Pt(r,s.w)?e.push(s):i(s.w)}),delete r[a])}return tt(t.nodes(),i),e}function iIe(t){tt(t.edges(),function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}})}function ov(t,e,r,n){var i;do i=EN(n);while(t.hasNode(i));return r.dummy=e,t.setNode(i,r),i}function aIe(t){var e=new ca().setGraph(t.graph());return tt(t.nodes(),function(r){e.setNode(r,t.node(r))}),tt(t.edges(),function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},i=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),e}function Bne(t){var e=new ca({multigraph:t.isMultigraph()}).setGraph(t.graph());return tt(t.nodes(),function(r){t.children(r).length||e.setNode(r,t.node(r))}),tt(t.edges(),function(r){e.setEdge(r,t.edge(r))}),e}function dV(t,e){var r=t.x,n=t.y,i=e.x-r,a=e.y-n,s=t.width/2,o=t.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=o*i/a,u=o):(i<0&&(s=-s),l=s,u=s*a/i),{x:r+l,y:n+u}}function kT(t){var e=Ot(S1($ne(t)+1),function(){return[]});return tt(t.nodes(),function(r){var n=t.node(r),i=n.rank;pn(i)||(e[i][n.order]=r)}),e}function sIe(t){var e=k1(Ot(t.nodes(),function(r){return t.node(r).rank}));tt(t.nodes(),function(r){var n=t.node(r);Pt(n,"rank")&&(n.rank-=e)})}function oIe(t){var e=k1(Ot(t.nodes(),function(a){return t.node(a).rank})),r=[];tt(t.nodes(),function(a){var s=t.node(a).rank-e;r[s]||(r[s]=[]),r[s].push(a)});var n=0,i=t.graph().nodeRankFactor;tt(r,function(a,s){pn(a)&&s%i!==0?--n:n&&tt(a,function(o){t.node(o).rank+=n})})}function pV(t,e,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),ov(t,"border",i,e)}function $ne(t){return L0(Ot(t.nodes(),function(e){var r=t.node(e).rank;if(!pn(r))return r}))}function lIe(t,e){var r={lhs:[],rhs:[]};return tt(t,function(n){e(n)?r.lhs.push(n):r.rhs.push(n)}),r}function uIe(t,e){var r=sV();try{return e()}finally{console.log(t+" time: "+(sV()-r)+"ms")}}function cIe(t,e){return e()}function hIe(t){function e(r){var n=t.children(r),i=t.node(r);if(n.length&&tt(n,e),Pt(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,s=i.maxRank+1;a<s;++a)gV(t,"borderLeft","_bl",r,i,a),gV(t,"borderRight","_br",r,i,a)}}tt(t.children(),e)}function gV(t,e,r,n,i,a){var s={width:0,height:0,rank:a,borderType:e},o=i[e][a-1],l=ov(t,"border",s,r);i[e][a]=l,t.setParent(l,n),o&&t.setEdge(o,l,{weight:1})}function fIe(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&zne(t)}function dIe(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&pIe(t),(e==="lr"||e==="rl")&&(gIe(t),zne(t))}function zne(t){tt(t.nodes(),function(e){vV(t.node(e))}),tt(t.edges(),function(e){vV(t.edge(e))})}function vV(t){var e=t.width;t.width=t.height,t.height=e}function pIe(t){tt(t.nodes(),function(e){C8(t.node(e))}),tt(t.edges(),function(e){var r=t.edge(e);tt(r.points,C8),Pt(r,"y")&&C8(r)})}function C8(t){t.y=-t.y}function gIe(t){tt(t.nodes(),function(e){A8(t.node(e))}),tt(t.edges(),function(e){var r=t.edge(e);tt(r.points,A8),Pt(r,"x")&&A8(r)})}function A8(t){var e=t.x;t.x=t.y,t.y=e}function vIe(t){t.graph().dummyChains=[],tt(t.edges(),function(e){mIe(t,e)})}function mIe(t,e){var r=e.v,n=t.node(r).rank,i=e.w,a=t.node(i).rank,s=e.name,o=t.edge(e),l=o.labelRank;if(a!==n+1){t.removeEdge(e);var u,h,f;for(f=0,++n;n<a;++f,++n)o.points=[],h={width:0,height:0,edgeLabel:o,edgeObj:e,rank:n},u=ov(t,"edge",h,"_d"),n===l&&(h.width=o.width,h.height=o.height,h.dummy="edge-label",h.labelpos=o.labelpos),t.setEdge(r,u,{weight:o.weight},s),f===0&&t.graph().dummyChains.push(u),r=u;t.setEdge(r,i,{weight:o.weight},s)}}function yIe(t){tt(t.graph().dummyChains,function(e){var r=t.node(e),n=r.edgeLabel,i;for(t.setEdge(r.edgeObj,n);r.dummy;)i=t.successors(e)[0],t.removeNode(e),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),e=i,r=t.node(e)})}function TN(t){var e={};function r(n){var i=t.node(n);if(Pt(e,n))return i.rank;e[n]=!0;var a=k1(Ot(t.outEdges(n),function(s){return r(s.w)-t.edge(s).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}tt(t.sources(),r)}function C2(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function Hne(t){var e=new ca({directed:!1}),r=t.nodes()[0],n=t.nodeCount();e.setNode(r,{});for(var i,a;xIe(e,t)<n;)i=bIe(e,t),a=e.hasNode(i.v)?C2(t,i):-C2(t,i),wIe(e,t,a);return e}function xIe(t,e){function r(n){tt(e.nodeEdges(n),function(i){var a=i.v,s=n===a?i.w:a;!t.hasNode(s)&&!C2(e,i)&&(t.setNode(s,{}),t.setEdge(n,s,{}),r(s))})}return tt(t.nodes(),r),t.nodeCount()}function bIe(t,e){return wN(e.edges(),function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return C2(e,r)})}function wIe(t,e,r){tt(t.nodes(),function(n){e.node(n).rank+=r})}function kIe(){}kIe.prototype=new Error;function Vne(t,e,r){Ur(e)||(e=[e]);var n=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return tt(e,function(s){if(!t.hasNode(s))throw new Error("Graph does not have node: "+s);Une(t,s,r==="post",a,n,i)}),i}function Une(t,e,r,n,i,a){Pt(n,e)||(n[e]=!0,r||a.push(e),tt(i(e),function(s){Une(t,s,r,n,i,a)}),r&&a.push(e))}function SIe(t,e){return Vne(t,e,"post")}function EIe(t,e){return Vne(t,e,"pre")}up.initLowLimValues=AN;up.initCutValues=CN;up.calcCutValue=Gne;up.leaveEdge=qne;up.enterEdge=Yne;up.exchangeEdges=Xne;function up(t){t=aIe(t),TN(t);var e=Hne(t);AN(e),CN(e,t);for(var r,n;r=qne(e);)n=Yne(e,t,r),Xne(e,t,r,n)}function CN(t,e){var r=SIe(t,t.nodes());r=r.slice(0,r.length-1),tt(r,function(n){TIe(t,e,n)})}function TIe(t,e,r){var n=t.node(r),i=n.parent;t.edge(r,i).cutvalue=Gne(t,e,r)}function Gne(t,e,r){var n=t.node(r),i=n.parent,a=!0,s=e.edge(r,i),o=0;return s||(a=!1,s=e.edge(i,r)),o=s.weight,tt(e.nodeEdges(r),function(l){var u=l.v===r,h=u?l.w:l.v;if(h!==i){var f=u===a,d=e.edge(l).weight;if(o+=f?d:-d,AIe(t,r,h)){var p=t.edge(r,h).cutvalue;o+=f?-p:p}}}),o}function AN(t,e){arguments.length<2&&(e=t.nodes()[0]),Wne(t,{},1,e)}function Wne(t,e,r,n,i){var a=r,s=t.node(n);return e[n]=!0,tt(t.neighbors(n),function(o){Pt(e,o)||(r=Wne(t,e,r,o,n))}),s.low=a,s.lim=r++,i?s.parent=i:delete s.parent,r}function qne(t){return ih(t.edges(),function(e){return t.edge(e).cutvalue<0})}function Yne(t,e,r){var n=r.v,i=r.w;e.hasEdge(n,i)||(n=r.w,i=r.v);var a=t.node(n),s=t.node(i),o=a,l=!1;a.lim>s.lim&&(o=s,l=!0);var u=xi(e.edges(),function(h){return l===mV(t,t.node(h.v),o)&&l!==mV(t,t.node(h.w),o)});return wN(u,function(h){return C2(e,h)})}function Xne(t,e,r,n){var i=r.v,a=r.w;t.removeEdge(i,a),t.setEdge(n.v,n.w,{}),AN(t),CN(t,e),CIe(t,e)}function CIe(t,e){var r=ih(t.nodes(),function(i){return!e.node(i).parent}),n=EIe(t,r);n=n.slice(1),tt(n,function(i){var a=t.node(i).parent,s=e.edge(i,a),o=!1;s||(s=e.edge(a,i),o=!0),e.node(i).rank=e.node(a).rank+(o?s.minlen:-s.minlen)})}function AIe(t,e,r){return t.hasEdge(e,r)}function mV(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}function _Ie(t){switch(t.graph().ranker){case"network-simplex":yV(t);break;case"tight-tree":DIe(t);break;case"longest-path":LIe(t);break;default:yV(t)}}var LIe=TN;function DIe(t){TN(t),Hne(t)}function yV(t){up(t)}function RIe(t){var e=ov(t,"root",{},"_root"),r=MIe(t),n=L0(_n(r))-1,i=2*n+1;t.graph().nestingRoot=e,tt(t.edges(),function(s){t.edge(s).minlen*=i});var a=NIe(t)+1;tt(t.children(),function(s){jne(t,e,i,a,n,r,s)}),t.graph().nodeRankFactor=i}function jne(t,e,r,n,i,a,s){var o=t.children(s);if(!o.length){s!==e&&t.setEdge(e,s,{weight:0,minlen:r});return}var l=pV(t,"_bt"),u=pV(t,"_bb"),h=t.node(s);t.setParent(l,s),h.borderTop=l,t.setParent(u,s),h.borderBottom=u,tt(o,function(f){jne(t,e,r,n,i,a,f);var d=t.node(f),p=d.borderTop?d.borderTop:f,v=d.borderBottom?d.borderBottom:f,m=d.borderTop?n:2*n,x=p!==v?1:i-a[s]+1;t.setEdge(l,p,{weight:m,minlen:x,nestingEdge:!0}),t.setEdge(v,u,{weight:m,minlen:x,nestingEdge:!0})}),t.parent(s)||t.setEdge(e,l,{weight:0,minlen:i+a[s]})}function MIe(t){var e={};function r(n,i){var a=t.children(n);a&&a.length&&tt(a,function(s){r(s,i+1)}),e[n]=i}return tt(t.children(),function(n){r(n,1)}),e}function NIe(t){return $i(t.edges(),function(e,r){return e+t.edge(r).weight},0)}function IIe(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,tt(t.edges(),function(r){var n=t.edge(r);n.nestingEdge&&t.removeEdge(r)})}function OIe(t,e,r){var n={},i;tt(r,function(a){for(var s=t.parent(a),o,l;s;){if(o=t.parent(s),o?(l=n[o],n[o]=s):(l=i,i=s),l&&l!==s){e.setEdge(l,s);return}s=o}})}function FIe(t,e,r){var n=PIe(t),i=new ca({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(a){return t.node(a)});return tt(t.nodes(),function(a){var s=t.node(a),o=t.parent(a);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(i.setNode(a),i.setParent(a,o||n),tt(t[r](a),function(l){var u=l.v===a?l.w:l.v,h=i.edge(u,a),f=pn(h)?0:h.weight;i.setEdge(u,a,{weight:t.edge(l).weight+f})}),Pt(s,"minRank")&&i.setNode(a,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),i}function PIe(t){for(var e;t.hasNode(e=EN("_root")););return e}function BIe(t,e){for(var r=0,n=1;n<e.length;++n)r+=$Ie(t,e[n-1],e[n]);return r}function $Ie(t,e,r){for(var n=YNe(r,Ot(r,function(u,h){return h})),i=xa(Ot(e,function(u){return mb(Ot(t.outEdges(u),function(h){return{pos:n[h.w],weight:t.edge(h).weight}}),"pos")})),a=1;a<r.length;)a<<=1;var s=2*a-1;a-=1;var o=Ot(new Array(s),function(){return 0}),l=0;return tt(i.forEach(function(u){var h=u.pos+a;o[h]+=u.weight;for(var f=0;h>0;)h%2&&(f+=o[h+1]),h=h-1>>1,o[h]+=u.weight;l+=u.weight*f})),l}function zIe(t){var e={},r=xi(t.nodes(),function(o){return!t.children(o).length}),n=L0(Ot(r,function(o){return t.node(o).rank})),i=Ot(S1(n+1),function(){return[]});function a(o){if(!Pt(e,o)){e[o]=!0;var l=t.node(o);i[l.rank].push(o),tt(t.successors(o),a)}}var s=mb(r,function(o){return t.node(o).rank});return tt(s,a),i}function HIe(t,e){return Ot(e,function(r){var n=t.inEdges(r);if(n.length){var i=$i(n,function(a,s){var o=t.edge(s),l=t.node(s.v);return{sum:a.sum+o.weight*l.order,weight:a.weight+o.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}function VIe(t,e){var r={};tt(t,function(i,a){var s=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};pn(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),tt(e.edges(),function(i){var a=r[i.v],s=r[i.w];!pn(a)&&!pn(s)&&(s.indegree++,a.out.push(r[i.w]))});var n=xi(r,function(i){return!i.indegree});return UIe(n)}function UIe(t){var e=[];function r(a){return function(s){s.merged||(pn(s.barycenter)||pn(a.barycenter)||s.barycenter>=a.barycenter)&&GIe(a,s)}}function n(a){return function(s){s.in.push(a),--s.indegree===0&&t.push(s)}}for(;t.length;){var i=t.pop();e.push(i),tt(i.in.reverse(),r(i)),tt(i.out,n(i))}return Ot(xi(e,function(a){return!a.merged}),function(a){return Dk(a,["vs","i","barycenter","weight"])})}function GIe(t,e){var r=0,n=0;t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=r/n,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}function WIe(t,e){var r=lIe(t,function(h){return Pt(h,"barycenter")}),n=r.lhs,i=mb(r.rhs,function(h){return-h.i}),a=[],s=0,o=0,l=0;n.sort(qIe(!!e)),l=xV(a,i,l),tt(n,function(h){l+=h.vs.length,a.push(h.vs),s+=h.barycenter*h.weight,o+=h.weight,l=xV(a,i,l)});var u={vs:xa(a)};return o&&(u.barycenter=s/o,u.weight=o),u}function xV(t,e,r){for(var n;e.length&&(n=Yu(e)).i<=r;)e.pop(),t.push(n.vs),r++;return r}function qIe(t){return function(e,r){return e.barycenter<r.barycenter?-1:e.barycenter>r.barycenter?1:t?r.i-e.i:e.i-r.i}}function Kne(t,e,r,n){var i=t.children(e),a=t.node(e),s=a?a.borderLeft:void 0,o=a?a.borderRight:void 0,l={};s&&(i=xi(i,function(v){return v!==s&&v!==o}));var u=HIe(t,i);tt(u,function(v){if(t.children(v.v).length){var m=Kne(t,v.v,r,n);l[v.v]=m,Pt(m,"barycenter")&&XIe(v,m)}});var h=VIe(u,r);YIe(h,l);var f=WIe(h,n);if(s&&(f.vs=xa([s,f.vs,o]),t.predecessors(s).length)){var d=t.node(t.predecessors(s)[0]),p=t.node(t.predecessors(o)[0]);Pt(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+p.order)/(f.weight+2),f.weight+=2}return f}function YIe(t,e){tt(t,function(r){r.vs=xa(r.vs.map(function(n){return e[n]?e[n].vs:n}))})}function XIe(t,e){pn(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}function jIe(t){var e=$ne(t),r=bV(t,S1(1,e+1),"inEdges"),n=bV(t,S1(e-1,-1,-1),"outEdges"),i=zIe(t);wV(t,i);for(var a=Number.POSITIVE_INFINITY,s,o=0,l=0;l<4;++o,++l){KIe(o%2?r:n,o%4>=2),i=kT(t);var u=BIe(t,i);u<a&&(l=0,s=tMe(i),a=u)}wV(t,s)}function bV(t,e,r){return Ot(e,function(n){return FIe(t,n,r)})}function KIe(t,e){var r=new ca;tt(t,function(n){var i=n.graph().root,a=Kne(n,i,r,e);tt(a.vs,function(s,o){n.node(s).order=o}),OIe(n,r,a.vs)})}function wV(t,e){tt(e,function(r){tt(r,function(n,i){t.node(n).order=i})})}function QIe(t){var e=JIe(t);tt(t.graph().dummyChains,function(r){for(var n=t.node(r),i=n.edgeObj,a=ZIe(t,e,i.v,i.w),s=a.path,o=a.lca,l=0,u=s[l],h=!0;r!==i.w;){if(n=t.node(r),h){for(;(u=s[l])!==o&&t.node(u).maxRank<n.rank;)l++;u===o&&(h=!1)}if(!h){for(;l<s.length-1&&t.node(u=s[l+1]).minRank<=n.rank;)l++;u=s[l]}t.setParent(r,u),r=t.successors(r)[0]}})}function ZIe(t,e,r,n){var i=[],a=[],s=Math.min(e[r].low,e[n].low),o=Math.max(e[r].lim,e[n].lim),l,u;l=r;do l=t.parent(l),i.push(l);while(l&&(e[l].low>s||o>e[l].lim));for(u=l,l=n;(l=t.parent(l))!==u;)a.push(l);return{path:i.concat(a.reverse()),lca:u}}function JIe(t){var e={},r=0;function n(i){var a=r;tt(t.children(i),n),e[i]={low:a,lim:r++}}return tt(t.children(),n),e}function eOe(t,e){var r={};function n(i,a){var s=0,o=0,l=i.length,u=Yu(a);return tt(a,function(h,f){var d=rOe(t,h),p=d?t.node(d).order:l;(d||h===u)&&(tt(a.slice(o,f+1),function(v){tt(t.predecessors(v),function(m){var x=t.node(m),y=x.order;(y<s||p<y)&&!(x.dummy&&t.node(v).dummy)&&Qne(r,m,v)})}),o=f+1,s=p)}),a}return $i(e,n),r}function tOe(t,e){var r={};function n(a,s,o,l,u){var h;tt(S1(s,o),function(f){h=a[f],t.node(h).dummy&&tt(t.predecessors(h),function(d){var p=t.node(d);p.dummy&&(p.order<l||p.order>u)&&Qne(r,d,h)})})}function i(a,s){var o=-1,l,u=0;return tt(s,function(h,f){if(t.node(h).dummy==="border"){var d=t.predecessors(h);d.length&&(l=t.node(d[0]).order,n(s,u,f,o,l),u=f,o=l)}n(s,u,s.length,l,a.length)}),s}return $i(e,i),r}function rOe(t,e){if(t.node(e).dummy)return ih(t.predecessors(e),function(r){return t.node(r).dummy})}function Qne(t,e,r){if(e>r){var n=e;e=r,r=n}var i=t[e];i||(t[e]=i={}),i[r]=!0}function nOe(t,e,r){if(e>r){var n=e;e=r,r=n}return Pt(t[e],r)}function iOe(t,e,r,n){var i={},a={},s={};return tt(e,function(o){tt(o,function(l,u){i[l]=l,a[l]=l,s[l]=u})}),tt(e,function(o){var l=-1;tt(o,function(u){var h=n(u);if(h.length){h=mb(h,function(m){return s[m]});for(var f=(h.length-1)/2,d=Math.floor(f),p=Math.ceil(f);d<=p;++d){var v=h[d];a[u]===u&&l<s[v]&&!nOe(r,u,v)&&(a[v]=u,a[u]=i[u]=i[v],l=s[v])}}})}),{root:i,align:a}}function aOe(t,e,r,n,i){var a={},s=sOe(t,e,r,i),o=i?"borderLeft":"borderRight";function l(f,d){for(var p=s.nodes(),v=p.pop(),m={};v;)m[v]?f(v):(m[v]=!0,p.push(v),p=p.concat(d(v))),v=p.pop()}function u(f){a[f]=s.inEdges(f).reduce(function(d,p){return Math.max(d,a[p.v]+s.edge(p))},0)}function h(f){var d=s.outEdges(f).reduce(function(v,m){return Math.min(v,a[m.w]-s.edge(m))},Number.POSITIVE_INFINITY),p=t.node(f);d!==Number.POSITIVE_INFINITY&&p.borderType!==o&&(a[f]=Math.max(a[f],d))}return l(u,s.predecessors.bind(s)),l(h,s.successors.bind(s)),tt(n,function(f){a[f]=a[r[f]]}),a}function sOe(t,e,r,n){var i=new ca,a=t.graph(),s=hOe(a.nodesep,a.edgesep,n);return tt(e,function(o){var l;tt(o,function(u){var h=r[u];if(i.setNode(h),l){var f=r[l],d=i.edge(f,h);i.setEdge(f,h,Math.max(s(t,u,l),d||0))}l=u})}),i}function oOe(t,e){return wN(_n(e),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return iNe(r,function(a,s){var o=fOe(t,s)/2;n=Math.max(a+o,n),i=Math.min(a-o,i)}),n-i})}function lOe(t,e){var r=_n(e),n=k1(r),i=L0(r);tt(["u","d"],function(a){tt(["l","r"],function(s){var o=a+s,l=t[o],u;if(l!==e){var h=_n(l);u=s==="l"?n-k1(h):i-L0(h),u&&(t[o]=bT(l,function(f){return f+u}))}})})}function uOe(t,e){return bT(t.ul,function(r,n){if(e)return t[e.toLowerCase()][n];var i=mb(Ot(t,n));return(i[1]+i[2])/2})}function cOe(t){var e=kT(t),r=lk(eOe(t,e),tOe(t,e)),n={},i;tt(["u","d"],function(s){i=s==="u"?e:_n(e).reverse(),tt(["l","r"],function(o){o==="r"&&(i=Ot(i,function(f){return _n(f).reverse()}));var l=(s==="u"?t.predecessors:t.successors).bind(t),u=iOe(t,i,r,l),h=aOe(t,i,u.root,u.align,o==="r");o==="r"&&(h=bT(h,function(f){return-f})),n[s+o]=h})});var a=oOe(t,n);return lOe(n,a),uOe(n,t.graph().align)}function hOe(t,e,r){return function(n,i,a){var s=n.node(i),o=n.node(a),l=0,u;if(l+=s.width/2,Pt(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(l+=r?u:-u),u=0,l+=(s.dummy?e:t)/2,l+=(o.dummy?e:t)/2,l+=o.width/2,Pt(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=o.width/2;break;case"r":u=-o.width/2;break}return u&&(l+=r?u:-u),u=0,l}}function fOe(t,e){return t.node(e).width}function dOe(t){t=Bne(t),pOe(t),aNe(cOe(t),function(e,r){t.node(r).x=e})}function pOe(t){var e=kT(t),r=t.graph().ranksep,n=0;tt(e,function(i){var a=L0(Ot(i,function(s){return t.node(s).height}));tt(i,function(s){t.node(s).y=n+a/2}),n+=a+r})}function lv(t,e){var r=e&&e.debugTiming?uIe:cIe;r("layout",function(){var n=r("  buildLayoutGraph",function(){return TOe(t)});r("  runLayout",function(){gOe(n,r)}),r("  updateInputGraph",function(){vOe(t,n)})})}function gOe(t,e){e("    makeSpaceForEdgeLabels",function(){COe(t)}),e("    removeSelfEdges",function(){OOe(t)}),e("    acyclic",function(){rIe(t)}),e("    nestingGraph.run",function(){RIe(t)}),e("    rank",function(){_Ie(Bne(t))}),e("    injectEdgeLabelProxies",function(){AOe(t)}),e("    removeEmptyRanks",function(){oIe(t)}),e("    nestingGraph.cleanup",function(){IIe(t)}),e("    normalizeRanks",function(){sIe(t)}),e("    assignRankMinMax",function(){_Oe(t)}),e("    removeEdgeLabelProxies",function(){LOe(t)}),e("    normalize.run",function(){vIe(t)}),e("    parentDummyChains",function(){QIe(t)}),e("    addBorderSegments",function(){hIe(t)}),e("    order",function(){jIe(t)}),e("    insertSelfEdges",function(){FOe(t)}),e("    adjustCoordinateSystem",function(){fIe(t)}),e("    position",function(){dOe(t)}),e("    positionSelfEdges",function(){POe(t)}),e("    removeBorderNodes",function(){IOe(t)}),e("    normalize.undo",function(){yIe(t)}),e("    fixupEdgeLabelCoords",function(){MOe(t)}),e("    undoCoordinateSystem",function(){dIe(t)}),e("    translateGraph",function(){DOe(t)}),e("    assignNodeIntersects",function(){ROe(t)}),e("    reversePoints",function(){NOe(t)}),e("    acyclic.undo",function(){iIe(t)})}function vOe(t,e){tt(t.nodes(),function(r){var n=t.node(r),i=e.node(r);n&&(n.x=i.x,n.y=i.y,e.children(r).length&&(n.width=i.width,n.height=i.height))}),tt(t.edges(),function(r){var n=t.edge(r),i=e.edge(r);n.points=i.points,Pt(i,"x")&&(n.x=i.x,n.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var mOe=["nodesep","edgesep","ranksep","marginx","marginy"],yOe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},xOe=["acyclicer","ranker","rankdir","align"],bOe=["width","height"],wOe={width:0,height:0},kOe=["minlen","weight","width","height","labeloffset"],SOe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},EOe=["labelpos"];function TOe(t){var e=new ca({multigraph:!0,compound:!0}),r=L8(t.graph());return e.setGraph(lk({},yOe,_8(r,mOe),Dk(r,xOe))),tt(t.nodes(),function(n){var i=L8(t.node(n));e.setNode(n,yT(_8(i,bOe),wOe)),e.setParent(n,t.parent(n))}),tt(t.edges(),function(n){var i=L8(t.edge(n));e.setEdge(n,lk({},SOe,_8(i,kOe),Dk(i,EOe)))}),e}function COe(t){var e=t.graph();e.ranksep/=2,tt(t.edges(),function(r){var n=t.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function AOe(t){tt(t.edges(),function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),i=t.node(e.w),a={rank:(i.rank-n.rank)/2+n.rank,e};ov(t,"edge-proxy",a,"_ep")}})}function _Oe(t){var e=0;tt(t.nodes(),function(r){var n=t.node(r);n.borderTop&&(n.minRank=t.node(n.borderTop).rank,n.maxRank=t.node(n.borderBottom).rank,e=L0(e,n.maxRank))}),t.graph().maxRank=e}function LOe(t){tt(t.nodes(),function(e){var r=t.node(e);r.dummy==="edge-proxy"&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))})}function DOe(t){var e=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,a=t.graph(),s=a.marginx||0,o=a.marginy||0;function l(u){var h=u.x,f=u.y,d=u.width,p=u.height;e=Math.min(e,h-d/2),r=Math.max(r,h+d/2),n=Math.min(n,f-p/2),i=Math.max(i,f+p/2)}tt(t.nodes(),function(u){l(t.node(u))}),tt(t.edges(),function(u){var h=t.edge(u);Pt(h,"x")&&l(h)}),e-=s,n-=o,tt(t.nodes(),function(u){var h=t.node(u);h.x-=e,h.y-=n}),tt(t.edges(),function(u){var h=t.edge(u);tt(h.points,function(f){f.x-=e,f.y-=n}),Pt(h,"x")&&(h.x-=e),Pt(h,"y")&&(h.y-=n)}),a.width=r-e+s,a.height=i-n+o}function ROe(t){tt(t.edges(),function(e){var r=t.edge(e),n=t.node(e.v),i=t.node(e.w),a,s;r.points?(a=r.points[0],s=r.points[r.points.length-1]):(r.points=[],a=i,s=n),r.points.unshift(dV(n,a)),r.points.push(dV(i,s))})}function MOe(t){tt(t.edges(),function(e){var r=t.edge(e);if(Pt(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function NOe(t){tt(t.edges(),function(e){var r=t.edge(e);r.reversed&&r.points.reverse()})}function IOe(t){tt(t.nodes(),function(e){if(t.children(e).length){var r=t.node(e),n=t.node(r.borderTop),i=t.node(r.borderBottom),a=t.node(Yu(r.borderLeft)),s=t.node(Yu(r.borderRight));r.width=Math.abs(s.x-a.x),r.height=Math.abs(i.y-n.y),r.x=a.x+r.width/2,r.y=n.y+r.height/2}}),tt(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function OOe(t){tt(t.edges(),function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function FOe(t){var e=kT(t);tt(e,function(r){var n=0;tt(r,function(i,a){var s=t.node(i);s.order=a+n,tt(s.selfEdges,function(o){ov(t,"selfedge",{width:o.label.width,height:o.label.height,rank:s.rank,order:a+ ++n,e:o.e,label:o.label},"_se")}),delete s.selfEdges})})}function POe(t){tt(t.nodes(),function(e){var r=t.node(e);if(r.dummy==="selfedge"){var n=t.node(r.e.v),i=n.x+n.width/2,a=n.y,s=r.x-i,o=n.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:i+2*s/3,y:a-o},{x:i+5*s/6,y:a-o},{x:i+s,y:a},{x:i+5*s/6,y:a+o},{x:i+2*s/3,y:a+o}],r.label.x=r.x,r.label.y=r.y}})}function _8(t,e){return bT(Dk(t,e),Number)}function L8(t){var e={};return tt(t,function(r,n){e[n.toLowerCase()]=r}),e}function Bi(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:BOe(t),edges:$Oe(t)};return pn(t.graph())||(e.value=sa(t.graph())),e}function BOe(t){return Ot(t.nodes(),function(e){var r=t.node(e),n=t.parent(e),i={v:e};return pn(r)||(i.value=r),pn(n)||(i.parent=n),i})}function $Oe(t){return Ot(t.edges(),function(e){var r=t.edge(e),n={v:e.v,w:e.w};return pn(e.name)||(n.name=e.name),pn(r)||(n.value=r),n})}var Hr=new Map,Jd=new Map,Zne=new Map,zOe=S(()=>{Jd.clear(),Zne.clear(),Hr.clear()},"clear"),Rk=S((t,e)=>{const r=Jd.get(e)||[];return he.trace("In isDescendant",e," ",t," = ",r.includes(t)),r.includes(t)},"isDescendant"),HOe=S((t,e)=>{const r=Jd.get(e)||[];return he.info("Descendants of ",e," is ",r),he.info("Edge is ",t),t.v===e||t.w===e?!1:r?r.includes(t.v)||Rk(t.v,e)||Rk(t.w,e)||r.includes(t.w):(he.debug("Tilt, ",e,",not in descendants"),!1)},"edgeInCluster"),Jne=S((t,e,r,n)=>{he.warn("Copying children of ",t,"root",n,"data",e.node(t),n);const i=e.children(t)||[];t!==n&&i.push(t),he.warn("Copying (nodes) clusterId",t,"nodes",i),i.forEach(a=>{if(e.children(a).length>0)Jne(a,e,r,n);else{const s=e.node(a);he.info("cp ",a," to ",n," with parent ",t),r.setNode(a,s),n!==e.parent(a)&&(he.warn("Setting parent",a,e.parent(a)),r.setParent(a,e.parent(a))),t!==n&&a!==t?(he.debug("Setting parent",a,t),r.setParent(a,t)):(he.info("In copy ",t,"root",n,"data",e.node(t),n),he.debug("Not Setting parent for node=",a,"cluster!==rootId",t!==n,"node!==clusterId",a!==t));const o=e.edges(a);he.debug("Copying Edges",o),o.forEach(l=>{he.info("Edge",l);const u=e.edge(l.v,l.w,l.name);he.info("Edge data",u,n);try{HOe(l,n)?(he.info("Copying as ",l.v,l.w,u,l.name),r.setEdge(l.v,l.w,u,l.name),he.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):he.info("Skipping copy of edge ",l.v,"-->",l.w," rootId: ",n," clusterId:",t)}catch(h){he.error(h)}})}he.debug("Removing node",a),e.removeNode(a)})},"copy"),eie=S((t,e)=>{const r=e.children(t);let n=[...r];for(const i of r)Zne.set(i,t),n=[...n,...eie(i,e)];return n},"extractDescendants"),VOe=S((t,e,r)=>{const n=t.edges().filter(l=>l.v===e||l.w===e),i=t.edges().filter(l=>l.v===r||l.w===r),a=n.map(l=>({v:l.v===e?r:l.v,w:l.w===e?e:l.w})),s=i.map(l=>({v:l.v,w:l.w}));return a.filter(l=>s.some(u=>l.v===u.v&&l.w===u.w))},"findCommonEdges"),A2=S((t,e,r)=>{const n=e.children(t);if(he.trace("Searching children of id ",t,n),n.length<1)return t;let i;for(const a of n){const s=A2(a,e,r),o=VOe(e,r,s);if(s)if(o.length>0)i=s;else return s}return i},"findNonClusterChild"),kV=S(t=>!Hr.has(t)||!Hr.get(t).externalConnections?t:Hr.has(t)?Hr.get(t).id:t,"getAnchorId"),UOe=S((t,e)=>{if(!t||e>10){he.debug("Opting out, no graph ");return}else he.debug("Opting in, graph ");t.nodes().forEach(function(r){t.children(r).length>0&&(he.warn("Cluster identified",r," Replacement id in edges: ",A2(r,t,r)),Jd.set(r,eie(r,t)),Hr.set(r,{id:A2(r,t,r),clusterData:t.node(r)}))}),t.nodes().forEach(function(r){const n=t.children(r),i=t.edges();n.length>0?(he.debug("Cluster identified",r,Jd),i.forEach(a=>{const s=Rk(a.v,r),o=Rk(a.w,r);s^o&&(he.warn("Edge: ",a," leaves cluster ",r),he.warn("Descendants of XXX ",r,": ",Jd.get(r)),Hr.get(r).externalConnections=!0)})):he.debug("Not a cluster ",r,Jd)});for(let r of Hr.keys()){const n=Hr.get(r).id,i=t.parent(n);i!==r&&Hr.has(i)&&!Hr.get(i).externalConnections&&(Hr.get(r).id=i)}t.edges().forEach(function(r){const n=t.edge(r);he.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),he.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(t.edge(r)));let i=r.v,a=r.w;if(he.warn("Fix XXX",Hr,"ids:",r.v,r.w,"Translating: ",Hr.get(r.v)," --- ",Hr.get(r.w)),Hr.get(r.v)||Hr.get(r.w)){if(he.warn("Fixing and trying - removing XXX",r.v,r.w,r.name),i=kV(r.v),a=kV(r.w),t.removeEdge(r.v,r.w,r.name),i!==r.v){const s=t.parent(i);Hr.get(s).externalConnections=!0,n.fromCluster=r.v}if(a!==r.w){const s=t.parent(a);Hr.get(s).externalConnections=!0,n.toCluster=r.w}he.warn("Fix Replacing with XXX",i,a,r.name),t.setEdge(i,a,n,r.name)}}),he.warn("Adjusted Graph",Bi(t)),tie(t,0),he.trace(Hr)},"adjustClustersAndEdges"),tie=S((t,e)=>{var i,a;if(he.warn("extractor - ",e,Bi(t),t.children("D")),e>10){he.error("Bailing out");return}let r=t.nodes(),n=!1;for(const s of r){const o=t.children(s);n=n||o.length>0}if(!n){he.debug("Done, no node has children",t.nodes());return}he.debug("Nodes = ",r,e);for(const s of r)if(he.debug("Extracting node",s,Hr,Hr.has(s)&&!Hr.get(s).externalConnections,!t.parent(s),t.node(s),t.children("D")," Depth ",e),!Hr.has(s))he.debug("Not a cluster",s,e);else if(!Hr.get(s).externalConnections&&t.children(s)&&t.children(s).length>0){he.warn("Cluster without external connections, without a parent and with children",s,e);let l=t.graph().rankdir==="TB"?"LR":"TB";(a=(i=Hr.get(s))==null?void 0:i.clusterData)!=null&&a.dir&&(l=Hr.get(s).clusterData.dir,he.warn("Fixing dir",Hr.get(s).clusterData.dir,l));const u=new ca({multigraph:!0,compound:!0}).setGraph({rankdir:l,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});he.warn("Old graph before copy",Bi(t)),Jne(s,t,u,s),t.setNode(s,{clusterNode:!0,id:s,clusterData:Hr.get(s).clusterData,label:Hr.get(s).label,graph:u}),he.warn("New graph after copy node: (",s,")",Bi(u)),he.debug("Old graph after copy",Bi(t))}else he.warn("Cluster ** ",s," **not meeting the criteria !externalConnections:",!Hr.get(s).externalConnections," no parent: ",!t.parent(s)," children ",t.children(s)&&t.children(s).length>0,t.children("D"),e),he.debug(Hr);r=t.nodes(),he.warn("New list of nodes",r);for(const s of r){const o=t.node(s);he.warn(" Now next level",s,o),o!=null&&o.clusterNode&&tie(o.graph,e+1)}},"extractor"),rie=S((t,e)=>{if(e.length===0)return[];let r=Object.assign([],e);return e.forEach(n=>{const i=t.children(n),a=rie(t,i);r=[...r,...a]}),r},"sorter"),GOe=S(t=>rie(t,t.children()),"sortNodesByHierarchy"),nie=S(async(t,e,r,n,i,a)=>{he.warn("Graph in recursive render:XAX",Bi(e),i);const s=e.graph().rankdir;he.trace("Dir in recursive render - dir:",s);const o=t.insert("g").attr("class","root");e.nodes()?he.info("Recursive render XXX",e.nodes()):he.info("No nodes found for",e),e.edges().length>0&&he.info("Recursive edges",e.edge(e.edges()[0]));const l=o.insert("g").attr("class","clusters"),u=o.insert("g").attr("class","edgePaths"),h=o.insert("g").attr("class","edgeLabels"),f=o.insert("g").attr("class","nodes");await Promise.all(e.nodes().map(async function(m){const x=e.node(m);if(i!==void 0){const y=JSON.parse(JSON.stringify(i.clusterData));he.trace(`Setting data for parent cluster XXX
 Node.id = `,m,`
 data=`,y.height,`
Parent cluster`,i.height),e.setNode(i.id,y),e.parent(m)||(he.trace("Setting parent",m,i.id),e.setParent(m,i.id,y))}if(he.info("(Insert) Node XXX"+m+": "+JSON.stringify(e.node(m))),x!=null&&x.clusterNode){he.info("Cluster identified XBX",m,x.width,e.node(m));const{ranksep:y,nodesep:w}=e.graph();x.graph.setGraph({...x.graph.graph(),ranksep:y+25,nodesep:w});const k=await nie(f,x.graph,r,n,e.node(m),a),E=k.elem;pr(x,E),x.diff=k.diff||0,he.info("New compound node after recursive render XAX",m,"width",x.width,"height",x.height),n6e(E,x)}else e.children(m).length>0?(he.trace("Cluster - the non recursive path XBX",m,x.id,x,x.width,"Graph:",e),he.trace(A2(x.id,e)),Hr.set(x.id,{id:A2(x.id,e),node:x})):(he.trace("Node - the non recursive path XAX",m,f,e.node(m),s),await Nee(f,e.node(m),{config:a,dir:s}))})),await S(async()=>{const m=e.edges().map(async function(x){const y=e.edge(x.v,x.w,x.name);he.info("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(x)),he.info("Edge "+x.v+" -> "+x.w+": ",x," ",JSON.stringify(e.edge(x))),he.info("Fix",Hr,"ids:",x.v,x.w,"Translating: ",Hr.get(x.v),Hr.get(x.w)),await bee(h,y)});await Promise.all(m)},"processEdges")(),he.info("Graph before layout:",JSON.stringify(Bi(e))),he.info("############################################# XXX"),he.info("###                Layout                 ### XXX"),he.info("############################################# XXX"),lv(e),he.info("Graph after layout:",JSON.stringify(Bi(e)));let p=0,{subGraphTitleTotalMargin:v}=K0(a);return await Promise.all(GOe(e).map(async function(m){var y;const x=e.node(m);if(he.info("Position XBX => "+m+": ("+x.x,","+x.y,") width: ",x.width," height: ",x.height),x!=null&&x.clusterNode)x.y+=v,he.info("A tainted cluster node XBX1",m,x.id,x.width,x.height,x.x,x.y,e.parent(m)),Hr.get(x.id).node=x,Iz(x);else if(e.children(m).length>0){he.info("A pure cluster node XBX1",m,x.id,x.x,x.y,x.width,x.height,e.parent(m)),x.height+=v,e.node(x.parentId);const w=(x==null?void 0:x.padding)/2||0,k=((y=x==null?void 0:x.labelBBox)==null?void 0:y.height)||0,E=k-w||0;he.debug("OffsetY",E,"labelHeight",k,"halfPadding",w),await xee(l,x),Hr.get(x.id).node=x}else{const w=e.node(x.parentId);x.y+=v/2,he.info("A regular node XBX1 - using the padding",x.id,"parent",x.parentId,x.width,x.height,x.x,x.y,"offsetY",x.offsetY,"parent",w,w==null?void 0:w.offsetY,x),Iz(x)}})),e.edges().forEach(function(m){const x=e.edge(m);he.info("Edge "+m.v+" -> "+m.w+": "+JSON.stringify(x),x),x.points.forEach(E=>E.y+=v/2);const y=e.node(m.v);var w=e.node(m.w);const k=See(u,x,Hr,r,y,w,n);wee(x,k)}),e.nodes().forEach(function(m){const x=e.node(m);he.info(m,x.type,x.diff),x.isGroup&&(p=x.diff)}),he.warn("Returning from recursive render XAX",o,p),{elem:o,diff:p}},"recursiveRender"),WOe=S(async(t,e)=>{var a,s,o,l,u,h;const r=new ca({multigraph:!0,compound:!0}).setGraph({rankdir:t.direction,nodesep:((a=t.config)==null?void 0:a.nodeSpacing)||((o=(s=t.config)==null?void 0:s.flowchart)==null?void 0:o.nodeSpacing)||t.nodeSpacing,ranksep:((l=t.config)==null?void 0:l.rankSpacing)||((h=(u=t.config)==null?void 0:u.flowchart)==null?void 0:h.rankSpacing)||t.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),n=e.select("g");Eee(n,t.markers,t.type,t.diagramId),i6e(),pTe(),hTe(),zOe(),t.nodes.forEach(f=>{r.setNode(f.id,{...f}),f.parentId&&r.setParent(f.id,f.parentId)}),he.debug("Edges:",t.edges),t.edges.forEach(f=>{if(f.start===f.end){const d=f.start,p=d+"---"+d+"---1",v=d+"---"+d+"---2",m=r.node(d);r.setNode(p,{domId:p,id:p,parentId:m.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(p,m.parentId),r.setNode(v,{domId:v,id:v,parentId:m.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(v,m.parentId);const x=structuredClone(f),y=structuredClone(f),w=structuredClone(f);x.label="",x.arrowTypeEnd="none",x.id=d+"-cyclic-special-1",y.arrowTypeEnd="none",y.id=d+"-cyclic-special-mid",w.label="",m.isGroup&&(x.fromCluster=d,w.toCluster=d),w.id=d+"-cyclic-special-2",r.setEdge(d,p,x,d+"-cyclic-special-0"),r.setEdge(p,v,y,d+"-cyclic-special-1"),r.setEdge(v,d,w,d+"-cyc<lic-special-2")}else r.setEdge(f.start,f.end,{...f},f.id)}),he.warn("Graph at first:",JSON.stringify(Bi(r))),UOe(r),he.warn("Graph after XAX:",JSON.stringify(Bi(r)));const i=Ve();await nie(n,r,t.type,t.diagramId,void 0,i)},"render");const qOe=Object.freeze(Object.defineProperty({__proto__:null,render:WOe},Symbol.toStringTag,{value:"Module"}));var ST=S((t,e)=>{const r=t.append("rect");if(r.attr("x",e.x),r.attr("y",e.y),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("width",e.width),r.attr("height",e.height),e.name&&r.attr("name",e.name),e.rx&&r.attr("rx",e.rx),e.ry&&r.attr("ry",e.ry),e.attrs!==void 0)for(const n in e.attrs)r.attr(n,e.attrs[n]);return e.class&&r.attr("class",e.class),r},"drawRect"),iie=S((t,e)=>{const r={x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,stroke:e.stroke,class:"rect"};ST(t,r).lower()},"drawBackgroundRect"),YOe=S((t,e)=>{const r=e.text.replace(Y1," "),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.attr("class","legend"),n.style("text-anchor",e.anchor),e.class&&n.attr("class",e.class);const i=n.append("tspan");return i.attr("x",e.x+e.textMargin*2),i.text(r),n},"drawText"),XOe=S((t,e,r,n)=>{const i=t.append("image");i.attr("x",e),i.attr("y",r);const a=Zf(n);i.attr("xlink:href",a)},"drawImage"),jOe=S((t,e,r,n)=>{const i=t.append("use");i.attr("x",e),i.attr("y",r);const a=Zf(n);i.attr("xlink:href",`#${a}`)},"drawEmbeddedImage"),cp=S(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),_N=S(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj"),Mk=function(){var t=S(function(We,me,Te,fe){for(Te=Te||{},fe=We.length;fe--;Te[We[fe]]=me);return Te},"o"),e=[1,24],r=[1,25],n=[1,26],i=[1,27],a=[1,28],s=[1,63],o=[1,64],l=[1,65],u=[1,66],h=[1,67],f=[1,68],d=[1,69],p=[1,29],v=[1,30],m=[1,31],x=[1,32],y=[1,33],w=[1,34],k=[1,35],E=[1,36],C=[1,37],L=[1,38],_=[1,39],I=[1,40],M=[1,41],F=[1,42],N=[1,43],z=[1,44],V=[1,45],D=[1,46],O=[1,47],P=[1,48],$=[1,50],B=[1,51],H=[1,52],X=[1,53],q=[1,54],Y=[1,55],U=[1,56],J=[1,57],ce=[1,58],re=[1,59],ve=[1,60],ye=[14,42],Z=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],ue=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],ae=[1,82],pe=[1,83],Ee=[1,84],Se=[1,85],de=[12,14,42],be=[12,14,33,42],oe=[12,14,33,42,76,77,79,80],we=[12,33],Re=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Pe={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:S(function(me,Te,fe,W,j,ie,ee){var le=ie.length-1;switch(j){case 3:W.setDirection("TB");break;case 4:W.setDirection("BT");break;case 5:W.setDirection("RL");break;case 6:W.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:W.setC4Type(ie[le-3]);break;case 19:W.setTitle(ie[le].substring(6)),this.$=ie[le].substring(6);break;case 20:W.setAccDescription(ie[le].substring(15)),this.$=ie[le].substring(15);break;case 21:this.$=ie[le].trim(),W.setTitle(this.$);break;case 22:case 23:this.$=ie[le].trim(),W.setAccDescription(this.$);break;case 28:ie[le].splice(2,0,"ENTERPRISE"),W.addPersonOrSystemBoundary(...ie[le]),this.$=ie[le];break;case 29:ie[le].splice(2,0,"SYSTEM"),W.addPersonOrSystemBoundary(...ie[le]),this.$=ie[le];break;case 30:W.addPersonOrSystemBoundary(...ie[le]),this.$=ie[le];break;case 31:ie[le].splice(2,0,"CONTAINER"),W.addContainerBoundary(...ie[le]),this.$=ie[le];break;case 32:W.addDeploymentNode("node",...ie[le]),this.$=ie[le];break;case 33:W.addDeploymentNode("nodeL",...ie[le]),this.$=ie[le];break;case 34:W.addDeploymentNode("nodeR",...ie[le]),this.$=ie[le];break;case 35:W.popBoundaryParseStack();break;case 39:W.addPersonOrSystem("person",...ie[le]),this.$=ie[le];break;case 40:W.addPersonOrSystem("external_person",...ie[le]),this.$=ie[le];break;case 41:W.addPersonOrSystem("system",...ie[le]),this.$=ie[le];break;case 42:W.addPersonOrSystem("system_db",...ie[le]),this.$=ie[le];break;case 43:W.addPersonOrSystem("system_queue",...ie[le]),this.$=ie[le];break;case 44:W.addPersonOrSystem("external_system",...ie[le]),this.$=ie[le];break;case 45:W.addPersonOrSystem("external_system_db",...ie[le]),this.$=ie[le];break;case 46:W.addPersonOrSystem("external_system_queue",...ie[le]),this.$=ie[le];break;case 47:W.addContainer("container",...ie[le]),this.$=ie[le];break;case 48:W.addContainer("container_db",...ie[le]),this.$=ie[le];break;case 49:W.addContainer("container_queue",...ie[le]),this.$=ie[le];break;case 50:W.addContainer("external_container",...ie[le]),this.$=ie[le];break;case 51:W.addContainer("external_container_db",...ie[le]),this.$=ie[le];break;case 52:W.addContainer("external_container_queue",...ie[le]),this.$=ie[le];break;case 53:W.addComponent("component",...ie[le]),this.$=ie[le];break;case 54:W.addComponent("component_db",...ie[le]),this.$=ie[le];break;case 55:W.addComponent("component_queue",...ie[le]),this.$=ie[le];break;case 56:W.addComponent("external_component",...ie[le]),this.$=ie[le];break;case 57:W.addComponent("external_component_db",...ie[le]),this.$=ie[le];break;case 58:W.addComponent("external_component_queue",...ie[le]),this.$=ie[le];break;case 60:W.addRel("rel",...ie[le]),this.$=ie[le];break;case 61:W.addRel("birel",...ie[le]),this.$=ie[le];break;case 62:W.addRel("rel_u",...ie[le]),this.$=ie[le];break;case 63:W.addRel("rel_d",...ie[le]),this.$=ie[le];break;case 64:W.addRel("rel_l",...ie[le]),this.$=ie[le];break;case 65:W.addRel("rel_r",...ie[le]),this.$=ie[le];break;case 66:W.addRel("rel_b",...ie[le]),this.$=ie[le];break;case 67:ie[le].splice(0,1),W.addRel("rel",...ie[le]),this.$=ie[le];break;case 68:W.updateElStyle("update_el_style",...ie[le]),this.$=ie[le];break;case 69:W.updateRelStyle("update_rel_style",...ie[le]),this.$=ie[le];break;case 70:W.updateLayoutConfig("update_layout_config",...ie[le]),this.$=ie[le];break;case 71:this.$=[ie[le]];break;case 72:ie[le].unshift(ie[le-1]),this.$=ie[le];break;case 73:case 75:this.$=ie[le].trim();break;case 74:let _e={};_e[ie[le-1].trim()]=ie[le].trim(),this.$=_e;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:f,41:d,43:23,44:p,45:v,46:m,47:x,48:y,49:w,50:k,51:E,52:C,53:L,54:_,55:I,56:M,57:F,58:N,59:z,60:V,61:D,62:O,63:P,64:$,65:B,66:H,67:X,68:q,69:Y,70:U,71:J,72:ce,73:re,74:ve},{13:70,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:f,41:d,43:23,44:p,45:v,46:m,47:x,48:y,49:w,50:k,51:E,52:C,53:L,54:_,55:I,56:M,57:F,58:N,59:z,60:V,61:D,62:O,63:P,64:$,65:B,66:H,67:X,68:q,69:Y,70:U,71:J,72:ce,73:re,74:ve},{13:71,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:f,41:d,43:23,44:p,45:v,46:m,47:x,48:y,49:w,50:k,51:E,52:C,53:L,54:_,55:I,56:M,57:F,58:N,59:z,60:V,61:D,62:O,63:P,64:$,65:B,66:H,67:X,68:q,69:Y,70:U,71:J,72:ce,73:re,74:ve},{13:72,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:f,41:d,43:23,44:p,45:v,46:m,47:x,48:y,49:w,50:k,51:E,52:C,53:L,54:_,55:I,56:M,57:F,58:N,59:z,60:V,61:D,62:O,63:P,64:$,65:B,66:H,67:X,68:q,69:Y,70:U,71:J,72:ce,73:re,74:ve},{13:73,19:20,20:21,21:22,22:e,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:f,41:d,43:23,44:p,45:v,46:m,47:x,48:y,49:w,50:k,51:E,52:C,53:L,54:_,55:I,56:M,57:F,58:N,59:z,60:V,61:D,62:O,63:P,64:$,65:B,66:H,67:X,68:q,69:Y,70:U,71:J,72:ce,73:re,74:ve},{14:[1,74]},t(ye,[2,13],{43:23,29:49,30:61,32:62,20:75,34:s,36:o,37:l,38:u,39:h,40:f,41:d,44:p,45:v,46:m,47:x,48:y,49:w,50:k,51:E,52:C,53:L,54:_,55:I,56:M,57:F,58:N,59:z,60:V,61:D,62:O,63:P,64:$,65:B,66:H,67:X,68:q,69:Y,70:U,71:J,72:ce,73:re,74:ve}),t(ye,[2,14]),t(Z,[2,16],{12:[1,76]}),t(ye,[2,36],{12:[1,77]}),t(ue,[2,19]),t(ue,[2,20]),{25:[1,78]},{27:[1,79]},t(ue,[2,23]),{35:80,75:81,76:ae,77:pe,79:Ee,80:Se},{35:86,75:81,76:ae,77:pe,79:Ee,80:Se},{35:87,75:81,76:ae,77:pe,79:Ee,80:Se},{35:88,75:81,76:ae,77:pe,79:Ee,80:Se},{35:89,75:81,76:ae,77:pe,79:Ee,80:Se},{35:90,75:81,76:ae,77:pe,79:Ee,80:Se},{35:91,75:81,76:ae,77:pe,79:Ee,80:Se},{35:92,75:81,76:ae,77:pe,79:Ee,80:Se},{35:93,75:81,76:ae,77:pe,79:Ee,80:Se},{35:94,75:81,76:ae,77:pe,79:Ee,80:Se},{35:95,75:81,76:ae,77:pe,79:Ee,80:Se},{35:96,75:81,76:ae,77:pe,79:Ee,80:Se},{35:97,75:81,76:ae,77:pe,79:Ee,80:Se},{35:98,75:81,76:ae,77:pe,79:Ee,80:Se},{35:99,75:81,76:ae,77:pe,79:Ee,80:Se},{35:100,75:81,76:ae,77:pe,79:Ee,80:Se},{35:101,75:81,76:ae,77:pe,79:Ee,80:Se},{35:102,75:81,76:ae,77:pe,79:Ee,80:Se},{35:103,75:81,76:ae,77:pe,79:Ee,80:Se},{35:104,75:81,76:ae,77:pe,79:Ee,80:Se},t(de,[2,59]),{35:105,75:81,76:ae,77:pe,79:Ee,80:Se},{35:106,75:81,76:ae,77:pe,79:Ee,80:Se},{35:107,75:81,76:ae,77:pe,79:Ee,80:Se},{35:108,75:81,76:ae,77:pe,79:Ee,80:Se},{35:109,75:81,76:ae,77:pe,79:Ee,80:Se},{35:110,75:81,76:ae,77:pe,79:Ee,80:Se},{35:111,75:81,76:ae,77:pe,79:Ee,80:Se},{35:112,75:81,76:ae,77:pe,79:Ee,80:Se},{35:113,75:81,76:ae,77:pe,79:Ee,80:Se},{35:114,75:81,76:ae,77:pe,79:Ee,80:Se},{35:115,75:81,76:ae,77:pe,79:Ee,80:Se},{20:116,29:49,30:61,32:62,34:s,36:o,37:l,38:u,39:h,40:f,41:d,43:23,44:p,45:v,46:m,47:x,48:y,49:w,50:k,51:E,52:C,53:L,54:_,55:I,56:M,57:F,58:N,59:z,60:V,61:D,62:O,63:P,64:$,65:B,66:H,67:X,68:q,69:Y,70:U,71:J,72:ce,73:re,74:ve},{12:[1,118],33:[1,117]},{35:119,75:81,76:ae,77:pe,79:Ee,80:Se},{35:120,75:81,76:ae,77:pe,79:Ee,80:Se},{35:121,75:81,76:ae,77:pe,79:Ee,80:Se},{35:122,75:81,76:ae,77:pe,79:Ee,80:Se},{35:123,75:81,76:ae,77:pe,79:Ee,80:Se},{35:124,75:81,76:ae,77:pe,79:Ee,80:Se},{35:125,75:81,76:ae,77:pe,79:Ee,80:Se},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},t(ye,[2,15]),t(Z,[2,17],{21:22,19:130,22:e,23:r,24:n,26:i,28:a}),t(ye,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:e,23:r,24:n,26:i,28:a,34:s,36:o,37:l,38:u,39:h,40:f,41:d,44:p,45:v,46:m,47:x,48:y,49:w,50:k,51:E,52:C,53:L,54:_,55:I,56:M,57:F,58:N,59:z,60:V,61:D,62:O,63:P,64:$,65:B,66:H,67:X,68:q,69:Y,70:U,71:J,72:ce,73:re,74:ve}),t(ue,[2,21]),t(ue,[2,22]),t(de,[2,39]),t(be,[2,71],{75:81,35:132,76:ae,77:pe,79:Ee,80:Se}),t(oe,[2,73]),{78:[1,133]},t(oe,[2,75]),t(oe,[2,76]),t(de,[2,40]),t(de,[2,41]),t(de,[2,42]),t(de,[2,43]),t(de,[2,44]),t(de,[2,45]),t(de,[2,46]),t(de,[2,47]),t(de,[2,48]),t(de,[2,49]),t(de,[2,50]),t(de,[2,51]),t(de,[2,52]),t(de,[2,53]),t(de,[2,54]),t(de,[2,55]),t(de,[2,56]),t(de,[2,57]),t(de,[2,58]),t(de,[2,60]),t(de,[2,61]),t(de,[2,62]),t(de,[2,63]),t(de,[2,64]),t(de,[2,65]),t(de,[2,66]),t(de,[2,67]),t(de,[2,68]),t(de,[2,69]),t(de,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},t(we,[2,28]),t(we,[2,29]),t(we,[2,30]),t(we,[2,31]),t(we,[2,32]),t(we,[2,33]),t(we,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},t(Z,[2,18]),t(ye,[2,38]),t(be,[2,72]),t(oe,[2,74]),t(de,[2,24]),t(de,[2,35]),t(Re,[2,25]),t(Re,[2,26],{12:[1,138]}),t(Re,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:S(function(me,Te){if(Te.recoverable)this.trace(me);else{var fe=new Error(me);throw fe.hash=Te,fe}},"parseError"),parse:S(function(me){var Te=this,fe=[0],W=[],j=[null],ie=[],ee=this.table,le="",_e=0,ke=0,Le=2,Oe=1,Me=ie.slice.call(arguments,1),Ie=Object.create(this.lexer),Fe={yy:{}};for(var Ne in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ne)&&(Fe.yy[Ne]=this.yy[Ne]);Ie.setInput(me,Fe.yy),Fe.yy.lexer=Ie,Fe.yy.parser=this,typeof Ie.yylloc>"u"&&(Ie.yylloc={});var He=Ie.yylloc;ie.push(He);var it=Ie.options&&Ie.options.ranges;typeof Fe.yy.parseError=="function"?this.parseError=Fe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function lt(Mt){fe.length=fe.length-2*Mt,j.length=j.length-Mt,ie.length=ie.length-Mt}S(lt,"popStack");function ft(){var Mt;return Mt=W.pop()||Ie.lex()||Oe,typeof Mt!="number"&&(Mt instanceof Array&&(W=Mt,Mt=W.pop()),Mt=Te.symbols_[Mt]||Mt),Mt}S(ft,"lex");for(var gt,_t,ct,at,Lt={},ut,pt,Zt,xt;;){if(_t=fe[fe.length-1],this.defaultActions[_t]?ct=this.defaultActions[_t]:((gt===null||typeof gt>"u")&&(gt=ft()),ct=ee[_t]&&ee[_t][gt]),typeof ct>"u"||!ct.length||!ct[0]){var ht="";xt=[];for(ut in ee[_t])this.terminals_[ut]&&ut>Le&&xt.push("'"+this.terminals_[ut]+"'");Ie.showPosition?ht="Parse error on line "+(_e+1)+`:
`+Ie.showPosition()+`
Expecting `+xt.join(", ")+", got '"+(this.terminals_[gt]||gt)+"'":ht="Parse error on line "+(_e+1)+": Unexpected "+(gt==Oe?"end of input":"'"+(this.terminals_[gt]||gt)+"'"),this.parseError(ht,{text:Ie.match,token:this.terminals_[gt]||gt,line:Ie.yylineno,loc:He,expected:xt})}if(ct[0]instanceof Array&&ct.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_t+", token: "+gt);switch(ct[0]){case 1:fe.push(gt),j.push(Ie.yytext),ie.push(Ie.yylloc),fe.push(ct[1]),gt=null,ke=Ie.yyleng,le=Ie.yytext,_e=Ie.yylineno,He=Ie.yylloc;break;case 2:if(pt=this.productions_[ct[1]][1],Lt.$=j[j.length-pt],Lt._$={first_line:ie[ie.length-(pt||1)].first_line,last_line:ie[ie.length-1].last_line,first_column:ie[ie.length-(pt||1)].first_column,last_column:ie[ie.length-1].last_column},it&&(Lt._$.range=[ie[ie.length-(pt||1)].range[0],ie[ie.length-1].range[1]]),at=this.performAction.apply(Lt,[le,ke,_e,Fe.yy,ct[1],j,ie].concat(Me)),typeof at<"u")return at;pt&&(fe=fe.slice(0,-1*pt*2),j=j.slice(0,-1*pt),ie=ie.slice(0,-1*pt)),fe.push(this.productions_[ct[1]][0]),j.push(Lt.$),ie.push(Lt._$),Zt=ee[fe[fe.length-2]][fe[fe.length-1]],fe.push(Zt);break;case 3:return!0}}return!0},"parse")},Ge=function(){var We={EOF:1,parseError:S(function(Te,fe){if(this.yy.parser)this.yy.parser.parseError(Te,fe);else throw new Error(Te)},"parseError"),setInput:S(function(me,Te){return this.yy=Te||this.yy||{},this._input=me,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var me=this._input[0];this.yytext+=me,this.yyleng++,this.offset++,this.match+=me,this.matched+=me;var Te=me.match(/(?:\r\n?|\n).*/g);return Te?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),me},"input"),unput:S(function(me){var Te=me.length,fe=me.split(/(?:\r\n?|\n)/g);this._input=me+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Te),this.offset-=Te;var W=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),fe.length-1&&(this.yylineno-=fe.length-1);var j=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:fe?(fe.length===W.length?this.yylloc.first_column:0)+W[W.length-fe.length].length-fe[0].length:this.yylloc.first_column-Te},this.options.ranges&&(this.yylloc.range=[j[0],j[0]+this.yyleng-Te]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(me){this.unput(this.match.slice(me))},"less"),pastInput:S(function(){var me=this.matched.substr(0,this.matched.length-this.match.length);return(me.length>20?"...":"")+me.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var me=this.match;return me.length<20&&(me+=this._input.substr(0,20-me.length)),(me.substr(0,20)+(me.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var me=this.pastInput(),Te=new Array(me.length+1).join("-");return me+this.upcomingInput()+`
`+Te+"^"},"showPosition"),test_match:S(function(me,Te){var fe,W,j;if(this.options.backtrack_lexer&&(j={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(j.yylloc.range=this.yylloc.range.slice(0))),W=me[0].match(/(?:\r\n?|\n).*/g),W&&(this.yylineno+=W.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:W?W[W.length-1].length-W[W.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+me[0].length},this.yytext+=me[0],this.match+=me[0],this.matches=me,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(me[0].length),this.matched+=me[0],fe=this.performAction.call(this,this.yy,this,Te,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),fe)return fe;if(this._backtrack){for(var ie in j)this[ie]=j[ie];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var me,Te,fe,W;this._more||(this.yytext="",this.match="");for(var j=this._currentRules(),ie=0;ie<j.length;ie++)if(fe=this._input.match(this.rules[j[ie]]),fe&&(!Te||fe[0].length>Te[0].length)){if(Te=fe,W=ie,this.options.backtrack_lexer){if(me=this.test_match(fe,j[ie]),me!==!1)return me;if(this._backtrack){Te=!1;continue}else return!1}else if(!this.options.flex)break}return Te?(me=this.test_match(Te,j[W]),me!==!1?me:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var Te=this.next();return Te||this.lex()},"lex"),begin:S(function(Te){this.conditionStack.push(Te)},"begin"),popState:S(function(){var Te=this.conditionStack.length-1;return Te>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function(Te){return Te=this.conditionStack.length-1-Math.abs(Te||0),Te>=0?this.conditionStack[Te]:"INITIAL"},"topState"),pushState:S(function(Te){this.begin(Te)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:S(function(Te,fe,W,j){switch(W){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:return this.begin("node"),39;case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:return this.begin("rel_u"),66;case 53:return this.begin("rel_u"),66;case 54:return this.begin("rel_d"),67;case 55:return this.begin("rel_d"),67;case 56:return this.begin("rel_l"),68;case 57:return this.begin("rel_l"),68;case 58:return this.begin("rel_r"),69;case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return We}();Pe.lexer=Ge;function je(){this.yy={}}return S(je,"Parser"),je.prototype=Pe,Pe.Parser=je,new je}();Mk.parser=Mk;var KOe=Mk,hu=[],wf=[""],Fs="global",nu="",Xu=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],_2=[],LN="",DN=!1,Nk=4,Ik=2,aie,QOe=S(function(){return aie},"getC4Type"),ZOe=S(function(t){aie=Mi(t,Ve())},"setC4Type"),JOe=S(function(t,e,r,n,i,a,s,o,l){if(t==null||e===void 0||e===null||r===void 0||r===null||n===void 0||n===null)return;let u={};const h=_2.find(f=>f.from===e&&f.to===r);if(h?u=h:_2.push(u),u.type=t,u.from=e,u.to=r,u.label={text:n},i==null)u.techn={text:""};else if(typeof i=="object"){let[f,d]=Object.entries(i)[0];u[f]={text:d}}else u.techn={text:i};if(a==null)u.descr={text:""};else if(typeof a=="object"){let[f,d]=Object.entries(a)[0];u[f]={text:d}}else u.descr={text:a};if(typeof s=="object"){let[f,d]=Object.entries(s)[0];u[f]=d}else u.sprite=s;if(typeof o=="object"){let[f,d]=Object.entries(o)[0];u[f]=d}else u.tags=o;if(typeof l=="object"){let[f,d]=Object.entries(l)[0];u[f]=d}else u.link=l;u.wrap=rd()},"addRel"),eFe=S(function(t,e,r,n,i,a,s){if(e===null||r===null)return;let o={};const l=hu.find(u=>u.alias===e);if(l&&e===l.alias?o=l:(o.alias=e,hu.push(o)),r==null?o.label={text:""}:o.label={text:r},n==null)o.descr={text:""};else if(typeof n=="object"){let[u,h]=Object.entries(n)[0];o[u]={text:h}}else o.descr={text:n};if(typeof i=="object"){let[u,h]=Object.entries(i)[0];o[u]=h}else o.sprite=i;if(typeof a=="object"){let[u,h]=Object.entries(a)[0];o[u]=h}else o.tags=a;if(typeof s=="object"){let[u,h]=Object.entries(s)[0];o[u]=h}else o.link=s;o.typeC4Shape={text:t},o.parentBoundary=Fs,o.wrap=rd()},"addPersonOrSystem"),tFe=S(function(t,e,r,n,i,a,s,o){if(e===null||r===null)return;let l={};const u=hu.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,hu.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[h,f]=Object.entries(n)[0];l[h]={text:f}}else l.techn={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,f]=Object.entries(i)[0];l[h]={text:f}}else l.descr={text:i};if(typeof a=="object"){let[h,f]=Object.entries(a)[0];l[h]=f}else l.sprite=a;if(typeof s=="object"){let[h,f]=Object.entries(s)[0];l[h]=f}else l.tags=s;if(typeof o=="object"){let[h,f]=Object.entries(o)[0];l[h]=f}else l.link=o;l.wrap=rd(),l.typeC4Shape={text:t},l.parentBoundary=Fs},"addContainer"),rFe=S(function(t,e,r,n,i,a,s,o){if(e===null||r===null)return;let l={};const u=hu.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,hu.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[h,f]=Object.entries(n)[0];l[h]={text:f}}else l.techn={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,f]=Object.entries(i)[0];l[h]={text:f}}else l.descr={text:i};if(typeof a=="object"){let[h,f]=Object.entries(a)[0];l[h]=f}else l.sprite=a;if(typeof s=="object"){let[h,f]=Object.entries(s)[0];l[h]=f}else l.tags=s;if(typeof o=="object"){let[h,f]=Object.entries(o)[0];l[h]=f}else l.link=o;l.wrap=rd(),l.typeC4Shape={text:t},l.parentBoundary=Fs},"addComponent"),nFe=S(function(t,e,r,n,i){if(t===null||e===null)return;let a={};const s=Xu.find(o=>o.alias===t);if(s&&t===s.alias?a=s:(a.alias=t,Xu.push(a)),e==null?a.label={text:""}:a.label={text:e},r==null)a.type={text:"system"};else if(typeof r=="object"){let[o,l]=Object.entries(r)[0];a[o]={text:l}}else a.type={text:r};if(typeof n=="object"){let[o,l]=Object.entries(n)[0];a[o]=l}else a.tags=n;if(typeof i=="object"){let[o,l]=Object.entries(i)[0];a[o]=l}else a.link=i;a.parentBoundary=Fs,a.wrap=rd(),nu=Fs,Fs=t,wf.push(nu)},"addPersonOrSystemBoundary"),iFe=S(function(t,e,r,n,i){if(t===null||e===null)return;let a={};const s=Xu.find(o=>o.alias===t);if(s&&t===s.alias?a=s:(a.alias=t,Xu.push(a)),e==null?a.label={text:""}:a.label={text:e},r==null)a.type={text:"container"};else if(typeof r=="object"){let[o,l]=Object.entries(r)[0];a[o]={text:l}}else a.type={text:r};if(typeof n=="object"){let[o,l]=Object.entries(n)[0];a[o]=l}else a.tags=n;if(typeof i=="object"){let[o,l]=Object.entries(i)[0];a[o]=l}else a.link=i;a.parentBoundary=Fs,a.wrap=rd(),nu=Fs,Fs=t,wf.push(nu)},"addContainerBoundary"),aFe=S(function(t,e,r,n,i,a,s,o){if(e===null||r===null)return;let l={};const u=Xu.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,Xu.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.type={text:"node"};else if(typeof n=="object"){let[h,f]=Object.entries(n)[0];l[h]={text:f}}else l.type={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,f]=Object.entries(i)[0];l[h]={text:f}}else l.descr={text:i};if(typeof s=="object"){let[h,f]=Object.entries(s)[0];l[h]=f}else l.tags=s;if(typeof o=="object"){let[h,f]=Object.entries(o)[0];l[h]=f}else l.link=o;l.nodeType=t,l.parentBoundary=Fs,l.wrap=rd(),nu=Fs,Fs=e,wf.push(nu)},"addDeploymentNode"),sFe=S(function(){Fs=nu,wf.pop(),nu=wf.pop(),wf.push(nu)},"popBoundaryParseStack"),oFe=S(function(t,e,r,n,i,a,s,o,l,u,h){let f=hu.find(d=>d.alias===e);if(!(f===void 0&&(f=Xu.find(d=>d.alias===e),f===void 0))){if(r!=null)if(typeof r=="object"){let[d,p]=Object.entries(r)[0];f[d]=p}else f.bgColor=r;if(n!=null)if(typeof n=="object"){let[d,p]=Object.entries(n)[0];f[d]=p}else f.fontColor=n;if(i!=null)if(typeof i=="object"){let[d,p]=Object.entries(i)[0];f[d]=p}else f.borderColor=i;if(a!=null)if(typeof a=="object"){let[d,p]=Object.entries(a)[0];f[d]=p}else f.shadowing=a;if(s!=null)if(typeof s=="object"){let[d,p]=Object.entries(s)[0];f[d]=p}else f.shape=s;if(o!=null)if(typeof o=="object"){let[d,p]=Object.entries(o)[0];f[d]=p}else f.sprite=o;if(l!=null)if(typeof l=="object"){let[d,p]=Object.entries(l)[0];f[d]=p}else f.techn=l;if(u!=null)if(typeof u=="object"){let[d,p]=Object.entries(u)[0];f[d]=p}else f.legendText=u;if(h!=null)if(typeof h=="object"){let[d,p]=Object.entries(h)[0];f[d]=p}else f.legendSprite=h}},"updateElStyle"),lFe=S(function(t,e,r,n,i,a,s){const o=_2.find(l=>l.from===e&&l.to===r);if(o!==void 0){if(n!=null)if(typeof n=="object"){let[l,u]=Object.entries(n)[0];o[l]=u}else o.textColor=n;if(i!=null)if(typeof i=="object"){let[l,u]=Object.entries(i)[0];o[l]=u}else o.lineColor=i;if(a!=null)if(typeof a=="object"){let[l,u]=Object.entries(a)[0];o[l]=parseInt(u)}else o.offsetX=parseInt(a);if(s!=null)if(typeof s=="object"){let[l,u]=Object.entries(s)[0];o[l]=parseInt(u)}else o.offsetY=parseInt(s)}},"updateRelStyle"),uFe=S(function(t,e,r){let n=Nk,i=Ik;if(typeof e=="object"){const a=Object.values(e)[0];n=parseInt(a)}else n=parseInt(e);if(typeof r=="object"){const a=Object.values(r)[0];i=parseInt(a)}else i=parseInt(r);n>=1&&(Nk=n),i>=1&&(Ik=i)},"updateLayoutConfig"),cFe=S(function(){return Nk},"getC4ShapeInRow"),hFe=S(function(){return Ik},"getC4BoundaryInRow"),fFe=S(function(){return Fs},"getCurrentBoundaryParse"),dFe=S(function(){return nu},"getParentBoundaryParse"),sie=S(function(t){return t==null?hu:hu.filter(e=>e.parentBoundary===t)},"getC4ShapeArray"),pFe=S(function(t){return hu.find(e=>e.alias===t)},"getC4Shape"),gFe=S(function(t){return Object.keys(sie(t))},"getC4ShapeKeys"),oie=S(function(t){return t==null?Xu:Xu.filter(e=>e.parentBoundary===t)},"getBoundaries"),vFe=oie,mFe=S(function(){return _2},"getRels"),yFe=S(function(){return LN},"getTitle"),xFe=S(function(t){DN=t},"setWrap"),rd=S(function(){return DN},"autoWrap"),bFe=S(function(){hu=[],Xu=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],nu="",Fs="global",wf=[""],_2=[],wf=[""],LN="",DN=!1,Nk=4,Ik=2},"clear"),wFe={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},kFe={FILLED:0,OPEN:1},SFe={LEFTOF:0,RIGHTOF:1,OVER:2},EFe=S(function(t){LN=Mi(t,Ve())},"setTitle"),B9={addPersonOrSystem:eFe,addPersonOrSystemBoundary:nFe,addContainer:tFe,addContainerBoundary:iFe,addComponent:rFe,addDeploymentNode:aFe,popBoundaryParseStack:sFe,addRel:JOe,updateElStyle:oFe,updateRelStyle:lFe,updateLayoutConfig:uFe,autoWrap:rd,setWrap:xFe,getC4ShapeArray:sie,getC4Shape:pFe,getC4ShapeKeys:gFe,getBoundaries:oie,getBoundarys:vFe,getCurrentBoundaryParse:fFe,getParentBoundaryParse:dFe,getRels:mFe,getTitle:yFe,getC4Type:QOe,getC4ShapeInRow:cFe,getC4BoundaryInRow:hFe,setAccTitle:Sa,getAccTitle:Wa,getAccDescription:Ya,setAccDescription:qa,getConfig:S(()=>Ve().c4,"getConfig"),clear:bFe,LINETYPE:wFe,ARROWTYPE:kFe,PLACEMENT:SFe,setTitle:EFe,setC4Type:ZOe},RN=S(function(t,e){return ST(t,e)},"drawRect"),lie=S(function(t,e,r,n,i,a){const s=t.append("image");s.attr("width",e),s.attr("height",r),s.attr("x",n),s.attr("y",i);let o=a.startsWith("data:image/png;base64")?a:Zf(a);s.attr("xlink:href",o)},"drawImage"),TFe=S((t,e,r)=>{const n=t.append("g");let i=0;for(let a of e){let s=a.textColor?a.textColor:"#444444",o=a.lineColor?a.lineColor:"#444444",l=a.offsetX?parseInt(a.offsetX):0,u=a.offsetY?parseInt(a.offsetY):0,h="";if(i===0){let d=n.append("line");d.attr("x1",a.startPoint.x),d.attr("y1",a.startPoint.y),d.attr("x2",a.endPoint.x),d.attr("y2",a.endPoint.y),d.attr("stroke-width","1"),d.attr("stroke",o),d.style("fill","none"),a.type!=="rel_b"&&d.attr("marker-end","url("+h+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&d.attr("marker-start","url("+h+"#arrowend)"),i=-1}else{let d=n.append("path");d.attr("fill","none").attr("stroke-width","1").attr("stroke",o).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",a.startPoint.x).replaceAll("starty",a.startPoint.y).replaceAll("controlx",a.startPoint.x+(a.endPoint.x-a.startPoint.x)/2-(a.endPoint.x-a.startPoint.x)/4).replaceAll("controly",a.startPoint.y+(a.endPoint.y-a.startPoint.y)/2).replaceAll("stopx",a.endPoint.x).replaceAll("stopy",a.endPoint.y)),a.type!=="rel_b"&&d.attr("marker-end","url("+h+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&d.attr("marker-start","url("+h+"#arrowend)")}let f=r.messageFont();Pc(r)(a.label.text,n,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+l,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+u,a.label.width,a.label.height,{fill:s},f),a.techn&&a.techn.text!==""&&(f=r.messageFont(),Pc(r)("["+a.techn.text+"]",n,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+l,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+r.messageFontSize+5+u,Math.max(a.label.width,a.techn.width),a.techn.height,{fill:s,"font-style":"italic"},f))}},"drawRels"),CFe=S(function(t,e,r){const n=t.append("g");let i=e.bgColor?e.bgColor:"none",a=e.borderColor?e.borderColor:"#444444",s=e.fontColor?e.fontColor:"black",o={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(o={"stroke-width":1});let l={x:e.x,y:e.y,fill:i,stroke:a,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:o};RN(n,l);let u=r.boundaryFont();u.fontWeight="bold",u.fontSize=u.fontSize+2,u.fontColor=s,Pc(r)(e.label.text,n,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},u),e.type&&e.type.text!==""&&(u=r.boundaryFont(),u.fontColor=s,Pc(r)(e.type.text,n,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},u)),e.descr&&e.descr.text!==""&&(u=r.boundaryFont(),u.fontSize=u.fontSize-2,u.fontColor=s,Pc(r)(e.descr.text,n,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},u))},"drawBoundary"),AFe=S(function(t,e,r){var f;let n=e.bgColor?e.bgColor:r[e.typeC4Shape.text+"_bg_color"],i=e.borderColor?e.borderColor:r[e.typeC4Shape.text+"_border_color"],a=e.fontColor?e.fontColor:"#FFFFFF",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const o=t.append("g");o.attr("class","person-man");const l=cp();switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":l.x=e.x,l.y=e.y,l.fill=n,l.width=e.width,l.height=e.height,l.stroke=i,l.rx=2.5,l.ry=2.5,l.attrs={"stroke-width":.5},RN(o,l);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":o.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":o.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2));break}let u=FFe(r,e.typeC4Shape.text);switch(o.append("text").attr("fill",a).attr("font-family",u.fontFamily).attr("font-size",u.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":lie(o,48,48,e.x+e.width/2-24,e.y+e.image.Y,s);break}let h=r[e.typeC4Shape.text+"Font"]();return h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=a,Pc(r)(e.label.text,o,e.x,e.y+e.label.Y,e.width,e.height,{fill:a},h),h=r[e.typeC4Shape.text+"Font"](),h.fontColor=a,e.techn&&((f=e.techn)==null?void 0:f.text)!==""?Pc(r)(e.techn.text,o,e.x,e.y+e.techn.Y,e.width,e.height,{fill:a,"font-style":"italic"},h):e.type&&e.type.text!==""&&Pc(r)(e.type.text,o,e.x,e.y+e.type.Y,e.width,e.height,{fill:a,"font-style":"italic"},h),e.descr&&e.descr.text!==""&&(h=r.personFont(),h.fontColor=a,Pc(r)(e.descr.text,o,e.x,e.y+e.descr.Y,e.width,e.height,{fill:a},h)),e.height},"drawC4Shape"),_Fe=S(function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),LFe=S(function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),DFe=S(function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),RFe=S(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),MFe=S(function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),NFe=S(function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),IFe=S(function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),OFe=S(function(t){const r=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),FFe=S((t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),"getC4ShapeFont"),Pc=function(){function t(i,a,s,o,l,u,h){const f=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("text-anchor","middle").text(i);n(f,h)}S(t,"byText");function e(i,a,s,o,l,u,h,f){const{fontSize:d,fontFamily:p,fontWeight:v}=f,m=i.split(Et.lineBreakRegex);for(let x=0;x<m.length;x++){const y=x*d-d*(m.length-1)/2,w=a.append("text").attr("x",s+l/2).attr("y",o).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",d).style("font-weight",v).style("font-family",p);w.append("tspan").attr("dy",y).text(m[x]).attr("alignment-baseline","mathematical"),n(w,h)}}S(e,"byTspan");function r(i,a,s,o,l,u,h,f){const d=a.append("switch"),v=d.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");v.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,d,s,o,l,u,h,f),n(v,h)}S(r,"byFo");function n(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return S(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),Lu={drawRect:RN,drawBoundary:CFe,drawC4Shape:AFe,drawRels:TFe,drawImage:lie,insertArrowHead:RFe,insertArrowEnd:MFe,insertArrowFilledHead:NFe,insertDynamicNumber:IFe,insertArrowCrossHead:OFe,insertDatabaseIcon:_Fe,insertComputerIcon:LFe,insertClockIcon:DFe},Ok=0,Fk=0,uie=4,$9=2;Mk.yy=B9;var ar={},hx,cie=(hx=class{constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,z9(e.db.getConfig())}setData(e,r,n,i){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=r,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=i}updateVal(e,r,n,i){e[r]===void 0?e[r]=n:e[r]=i(n,e[r])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let r=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,n=r+e.width,i=this.nextData.starty+e.margin*2,a=i+e.height;(r>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>uie)&&(r=this.nextData.startx+e.margin+ar.nextLinePaddingX,i=this.nextData.stopy+e.margin*2,this.nextData.stopx=n=r+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=a=i+e.height,this.nextData.cnt=1),e.x=r,e.y=i,this.updateVal(this.data,"startx",r,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",a,Math.max),this.updateVal(this.nextData,"startx",r,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",a,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},z9(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}},S(hx,"Bounds"),hx),z9=S(function(t){Ji(ar,t),t.fontFamily&&(ar.personFontFamily=ar.systemFontFamily=ar.messageFontFamily=t.fontFamily),t.fontSize&&(ar.personFontSize=ar.systemFontSize=ar.messageFontSize=t.fontSize),t.fontWeight&&(ar.personFontWeight=ar.systemFontWeight=ar.messageFontWeight=t.fontWeight)},"setConf"),Mm=S((t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),"c4ShapeFont"),Rw=S(t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),"boundaryFont"),PFe=S(t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),"messageFont");function pl(t,e,r,n,i){if(!e[t].width)if(r)e[t].text=BJ(e[t].text,i,n),e[t].textLines=e[t].text.split(Et.lineBreakRegex).length,e[t].width=i,e[t].height=uk(e[t].text,n);else{let a=e[t].text.split(Et.lineBreakRegex);e[t].textLines=a.length;let s=0;e[t].height=0,e[t].width=0;for(const o of a)e[t].width=Math.max(Jl(o,n),e[t].width),s=uk(o,n),e[t].height=e[t].height+s}}S(pl,"calcC4ShapeTextWH");var hie=S(function(t,e,r){e.x=r.data.startx,e.y=r.data.starty,e.width=r.data.stopx-r.data.startx,e.height=r.data.stopy-r.data.starty,e.label.y=ar.c4ShapeMargin-35;let n=e.wrap&&ar.wrap,i=Rw(ar);i.fontSize=i.fontSize+2,i.fontWeight="bold";let a=Jl(e.label.text,i);pl("label",e,n,i,a),Lu.drawBoundary(t,e,ar)},"drawBoundary"),fie=S(function(t,e,r,n){let i=0;for(const a of n){i=0;const s=r[a];let o=Mm(ar,s.typeC4Shape.text);switch(o.fontSize=o.fontSize-2,s.typeC4Shape.width=Jl("«"+s.typeC4Shape.text+"»",o),s.typeC4Shape.height=o.fontSize+2,s.typeC4Shape.Y=ar.c4ShapePadding,i=s.typeC4Shape.Y+s.typeC4Shape.height-4,s.image={width:0,height:0,Y:0},s.typeC4Shape.text){case"person":case"external_person":s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height;break}s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height);let l=s.wrap&&ar.wrap,u=ar.width-ar.c4ShapePadding*2,h=Mm(ar,s.typeC4Shape.text);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",pl("label",s,l,h,u),s.label.Y=i+8,i=s.label.Y+s.label.height,s.type&&s.type.text!==""){s.type.text="["+s.type.text+"]";let p=Mm(ar,s.typeC4Shape.text);pl("type",s,l,p,u),s.type.Y=i+5,i=s.type.Y+s.type.height}else if(s.techn&&s.techn.text!==""){s.techn.text="["+s.techn.text+"]";let p=Mm(ar,s.techn.text);pl("techn",s,l,p,u),s.techn.Y=i+5,i=s.techn.Y+s.techn.height}let f=i,d=s.label.width;if(s.descr&&s.descr.text!==""){let p=Mm(ar,s.typeC4Shape.text);pl("descr",s,l,p,u),s.descr.Y=i+20,i=s.descr.Y+s.descr.height,d=Math.max(s.label.width,s.descr.width),f=i-s.descr.textLines*5}d=d+ar.c4ShapePadding,s.width=Math.max(s.width||ar.width,d,ar.width),s.height=Math.max(s.height||ar.height,f,ar.height),s.margin=s.margin||ar.c4ShapeMargin,t.insert(s),Lu.drawC4Shape(e,s,ar)}t.bumpLastMargin(ar.c4ShapeMargin)},"drawC4ShapeArray"),fx,el=(fx=class{constructor(e,r){this.x=e,this.y=r}},S(fx,"Point"),fx),SV=S(function(t,e){let r=t.x,n=t.y,i=e.x,a=e.y,s=r+t.width/2,o=n+t.height/2,l=Math.abs(r-i),u=Math.abs(n-a),h=u/l,f=t.height/t.width,d=null;return n==a&&r<i?d=new el(r+t.width,o):n==a&&r>i?d=new el(r,o):r==i&&n<a?d=new el(s,n+t.height):r==i&&n>a&&(d=new el(s,n)),r>i&&n<a?f>=h?d=new el(r,o+h*t.width/2):d=new el(s-l/u*t.height/2,n+t.height):r<i&&n<a?f>=h?d=new el(r+t.width,o+h*t.width/2):d=new el(s+l/u*t.height/2,n+t.height):r<i&&n>a?f>=h?d=new el(r+t.width,o-h*t.width/2):d=new el(s+t.height/2*l/u,n):r>i&&n>a&&(f>=h?d=new el(r,o-t.width/2*h):d=new el(s-t.height/2*l/u,n)),d},"getIntersectPoint"),BFe=S(function(t,e){let r={x:0,y:0};r.x=e.x+e.width/2,r.y=e.y+e.height/2;let n=SV(t,r);r.x=t.x+t.width/2,r.y=t.y+t.height/2;let i=SV(e,r);return{startPoint:n,endPoint:i}},"getIntersectPoints"),$Fe=S(function(t,e,r,n){let i=0;for(let a of e){i=i+1;let s=a.wrap&&ar.wrap,o=PFe(ar);n.db.getC4Type()==="C4Dynamic"&&(a.label.text=i+": "+a.label.text);let u=Jl(a.label.text,o);pl("label",a,s,o,u),a.techn&&a.techn.text!==""&&(u=Jl(a.techn.text,o),pl("techn",a,s,o,u)),a.descr&&a.descr.text!==""&&(u=Jl(a.descr.text,o),pl("descr",a,s,o,u));let h=r(a.from),f=r(a.to),d=BFe(h,f);a.startPoint=d.startPoint,a.endPoint=d.endPoint}Lu.drawRels(t,e,ar)},"drawRels");function MN(t,e,r,n,i){let a=new cie(i);a.data.widthLimit=r.data.widthLimit/Math.min($9,n.length);for(let[s,o]of n.entries()){let l=0;o.image={width:0,height:0,Y:0},o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=l,l=o.image.Y+o.image.height);let u=o.wrap&&ar.wrap,h=Rw(ar);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",pl("label",o,u,h,a.data.widthLimit),o.label.Y=l+8,l=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let v=Rw(ar);pl("type",o,u,v,a.data.widthLimit),o.type.Y=l+5,l=o.type.Y+o.type.height}if(o.descr&&o.descr.text!==""){let v=Rw(ar);v.fontSize=v.fontSize-2,pl("descr",o,u,v,a.data.widthLimit),o.descr.Y=l+20,l=o.descr.Y+o.descr.height}if(s==0||s%$9===0){let v=r.data.startx+ar.diagramMarginX,m=r.data.stopy+ar.diagramMarginY+l;a.setData(v,v,m,m)}else{let v=a.data.stopx!==a.data.startx?a.data.stopx+ar.diagramMarginX:a.data.startx,m=a.data.starty;a.setData(v,v,m,m)}a.name=o.alias;let f=i.db.getC4ShapeArray(o.alias),d=i.db.getC4ShapeKeys(o.alias);d.length>0&&fie(a,t,f,d),e=o.alias;let p=i.db.getBoundarys(e);p.length>0&&MN(t,e,a,p,i),o.alias!=="global"&&hie(t,o,a),r.data.stopy=Math.max(a.data.stopy+ar.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(a.data.stopx+ar.c4ShapeMargin,r.data.stopx),Ok=Math.max(Ok,r.data.stopx),Fk=Math.max(Fk,r.data.stopy)}}S(MN,"drawInsideBoundary");var zFe=S(function(t,e,r,n){ar=Ve().c4;const i=Ve().securityLevel;let a;i==="sandbox"&&(a=yt("#i"+e));const s=yt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body");let o=n.db;n.db.setWrap(ar.wrap),uie=o.getC4ShapeInRow(),$9=o.getC4BoundaryInRow(),he.debug(`C:${JSON.stringify(ar,null,2)}`);const l=i==="sandbox"?s.select(`[id="${e}"]`):yt(`[id="${e}"]`);Lu.insertComputerIcon(l),Lu.insertDatabaseIcon(l),Lu.insertClockIcon(l);let u=new cie(n);u.setData(ar.diagramMarginX,ar.diagramMarginX,ar.diagramMarginY,ar.diagramMarginY),u.data.widthLimit=screen.availWidth,Ok=ar.diagramMarginX,Fk=ar.diagramMarginY;const h=n.db.getTitle();let f=n.db.getBoundarys("");MN(l,"",u,f,n),Lu.insertArrowHead(l),Lu.insertArrowEnd(l),Lu.insertArrowCrossHead(l),Lu.insertArrowFilledHead(l),$Fe(l,n.db.getRels(),n.db.getC4Shape,n),u.data.stopx=Ok,u.data.stopy=Fk;const d=u.data;let v=d.stopy-d.starty+2*ar.diagramMarginY;const x=d.stopx-d.startx+2*ar.diagramMarginX;h&&l.append("text").text(h).attr("x",(d.stopx-d.startx)/2-4*ar.diagramMarginX).attr("y",d.starty+ar.diagramMarginY),Ga(l,v,x,ar.useMaxWidth);const y=h?60:0;l.attr("viewBox",d.startx-ar.diagramMarginX+" -"+(ar.diagramMarginY+y)+" "+x+" "+(v+y)),he.debug("models:",d)},"draw"),EV={drawPersonOrSystemArray:fie,drawBoundary:hie,setConf:z9,draw:zFe},HFe=S(t=>`.person {
    stroke: ${t.personBorder};
    fill: ${t.personBkg};
  }
`,"getStyles"),VFe=HFe,UFe={parser:KOe,db:B9,renderer:EV,styles:VFe,init:S(({c4:t,wrap:e})=>{EV.setConf(t),B9.setWrap(e)},"init")};const GFe=Object.freeze(Object.defineProperty({__proto__:null,diagram:UFe},Symbol.toStringTag,{value:"Module"}));var die=S((t,e)=>{let r;return e==="sandbox"&&(r=yt("#i"+t)),yt(e==="sandbox"?r.nodes()[0].contentDocument.body:"body").select(`[id="${t}"]`)},"getDiagramElement"),pie=S((t,e,r,n)=>{t.attr("class",r);const{width:i,height:a,x:s,y:o}=WFe(t,e);Ga(t,a,i,n);const l=qFe(s,o,i,a,e);t.attr("viewBox",l),he.debug(`viewBox configured: ${l} with padding: ${e}`)},"setupViewPortForSVG"),WFe=S((t,e)=>{var n;const r=((n=t.node())==null?void 0:n.getBBox())||{width:0,height:0,x:0,y:0};return{width:r.width+e*2,height:r.height+e*2,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),qFe=S((t,e,r,n,i)=>`${t-i} ${e-i} ${r} ${n}`,"createViewBox"),YFe="flowchart-",TV=0,E1=Ve(),Pf=new Map,Qs=[],L2=new Map,sh=[],NN=new Map,IN=new Map,Mw=0,H9=!0,tl,ET,TT=[],CT=S(t=>Et.sanitizeText(t,E1),"sanitizeText"),AT=S(function(t){for(const e of Pf.values())if(e.id===t)return e.domId;return t},"lookUpDomId"),XFe=S(function(t,e,r,n,i,a,s={},o){var h,f;if(!t||t.trim().length===0)return;let l,u=Pf.get(t);if(u===void 0&&(u={id:t,labelType:"text",domId:YFe+t+"-"+TV,styles:[],classes:[]},Pf.set(t,u)),TV++,e!==void 0?(E1=Ve(),l=CT(e.text.trim()),u.labelType=e.type,l.startsWith('"')&&l.endsWith('"')&&(l=l.substring(1,l.length-1)),u.text=l):u.text===void 0&&(u.text=t),r!==void 0&&(u.type=r),n!=null&&n.forEach(function(d){u.styles.push(d)}),i!=null&&i.forEach(function(d){u.classes.push(d)}),a!==void 0&&(u.dir=a),u.props===void 0?u.props=s:s!==void 0&&Object.assign(u.props,s),o!==void 0){let d;o.includes(`
`)?d=o+`
`:d=`{
`+o+`
}`;const p=KQ(d,{schema:jQ});if(p.shape&&(p.shape!==p.shape.toLowerCase()||p.shape.includes("_")))throw new Error(`No such shape: ${p.shape}. Shape names should be lowercase.`);p!=null&&p.shape&&(u.type=p==null?void 0:p.shape),p!=null&&p.label&&(u.text=p==null?void 0:p.label),p!=null&&p.icon&&(u.icon=p==null?void 0:p.icon,!((h=p.label)!=null&&h.trim())&&u.text===t&&(u.text="")),p!=null&&p.form&&(u.form=p==null?void 0:p.form),p!=null&&p.pos&&(u.pos=p==null?void 0:p.pos),p!=null&&p.img&&(u.img=p==null?void 0:p.img,!((f=p.label)!=null&&f.trim())&&u.text===t&&(u.text="")),p!=null&&p.constraint&&(u.constraint=p.constraint),p.w&&(u.assetWidth=Number(p.w)),p.h&&(u.assetHeight=Number(p.h))}},"addVertex"),jFe=S(function(t,e,r){const a={start:t,end:e,type:void 0,text:"",labelType:"text"};he.info("abc78 Got edge...",a);const s=r.text;if(s!==void 0&&(a.text=CT(s.text.trim()),a.text.startsWith('"')&&a.text.endsWith('"')&&(a.text=a.text.substring(1,a.text.length-1)),a.labelType=s.type),r!==void 0&&(a.type=r.type,a.stroke=r.stroke,a.length=r.length>10?10:r.length),Qs.length<(E1.maxEdges??500))he.info("Pushing edge..."),Qs.push(a);else throw new Error(`Edge limit exceeded. ${Qs.length} edges found, but the limit is ${E1.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)},"addSingleLink"),KFe=S(function(t,e,r){he.info("addLink",t,e,r);for(const n of t)for(const i of e)jFe(n,i,r)},"addLink"),QFe=S(function(t,e){t.forEach(function(r){r==="default"?Qs.defaultInterpolate=e:Qs[r].interpolate=e})},"updateLinkInterpolate"),ZFe=S(function(t,e){t.forEach(function(r){var n,i,a,s,o,l;if(typeof r=="number"&&r>=Qs.length)throw new Error(`The index ${r} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${Qs.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);r==="default"?Qs.defaultStyle=e:(Qs[r].style=e,(((i=(n=Qs[r])==null?void 0:n.style)==null?void 0:i.length)??0)>0&&!((s=(a=Qs[r])==null?void 0:a.style)!=null&&s.some(u=>u==null?void 0:u.startsWith("fill")))&&((l=(o=Qs[r])==null?void 0:o.style)==null||l.push("fill:none")))})},"updateLink"),JFe=S(function(t,e){t.split(",").forEach(function(r){let n=L2.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},L2.set(r,n)),e!=null&&e.forEach(function(i){if(/color/.exec(i)){const a=i.replace("fill","bgFill");n.textStyles.push(a)}n.styles.push(i)})})},"addClass"),ePe=S(function(t){tl=t,/.*</.exec(tl)&&(tl="RL"),/.*\^/.exec(tl)&&(tl="BT"),/.*>/.exec(tl)&&(tl="LR"),/.*v/.exec(tl)&&(tl="TB"),tl==="TD"&&(tl="TB")},"setDirection"),ON=S(function(t,e){for(const r of t.split(",")){const n=Pf.get(r);n&&n.classes.push(e);const i=NN.get(r);i&&i.classes.push(e)}},"setClass"),tPe=S(function(t,e){if(e!==void 0){e=CT(e);for(const r of t.split(","))IN.set(ET==="gen-1"?AT(r):r,e)}},"setTooltip"),rPe=S(function(t,e,r){const n=AT(t);if(Ve().securityLevel!=="loose"||e===void 0)return;let i=[];if(typeof r=="string"){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<i.length;s++){let o=i[s].trim();o.startsWith('"')&&o.endsWith('"')&&(o=o.substr(1,o.length-2)),i[s]=o}}i.length===0&&i.push(t);const a=Pf.get(t);a&&(a.haveCallback=!0,TT.push(function(){const s=document.querySelector(`[id="${n}"]`);s!==null&&s.addEventListener("click",function(){Dr.runFunc(e,...i)},!1)}))},"setClickFun"),nPe=S(function(t,e,r){t.split(",").forEach(function(n){const i=Pf.get(n);i!==void 0&&(i.link=Dr.formatUrl(e,E1),i.linkTarget=r)}),ON(t,"clickable")},"setLink"),gie=S(function(t){return IN.get(t)},"getTooltip"),iPe=S(function(t,e,r){t.split(",").forEach(function(n){rPe(n,e,r)}),ON(t,"clickable")},"setClickEvent"),aPe=S(function(t){TT.forEach(function(e){e(t)})},"bindFunctions"),vie=S(function(){return tl.trim()},"getDirection"),mie=S(function(){return Pf},"getVertices"),yie=S(function(){return Qs},"getEdges"),sPe=S(function(){return L2},"getClasses"),xie=S(function(t){let e=yt(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=yt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),yt(t).select("svg").selectAll("g.node").on("mouseover",function(){const i=yt(this);if(i.attr("title")===null)return;const s=this==null?void 0:this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(i.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.bottom+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),yt(this).classed("hover",!1)})},"setupToolTips");TT.push(xie);var oPe=S(function(t="gen-1"){Pf=new Map,L2=new Map,Qs=[],TT=[xie],sh=[],NN=new Map,Mw=0,IN=new Map,H9=!0,ET=t,E1=Ve(),ka()},"clear"),lPe=S(t=>{ET=t||"gen-2"},"setGen"),uPe=S(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),cPe=S(function(t,e,r){let n=t.text.trim(),i=r.text;t===r&&/\s/.exec(r.text)&&(n=void 0);function a(u){const h={boolean:{},number:{},string:{}},f=[];let d;return{nodeList:u.filter(function(v){const m=typeof v;return v.stmt&&v.stmt==="dir"?(d=v.value,!1):v.trim()===""?!1:m in h?h[m].hasOwnProperty(v)?!1:h[m][v]=!0:f.includes(v)?!1:f.push(v)}),dir:d}}S(a,"uniq");const{nodeList:s,dir:o}=a(e.flat());if(ET==="gen-1")for(let u=0;u<s.length;u++)s[u]=AT(s[u]);n=n??"subGraph"+Mw,i=i||"",i=CT(i),Mw=Mw+1;const l={id:n,nodes:s,title:i.trim(),classes:[],dir:o,labelType:r.type};return he.info("Adding",l.id,l.nodes,l.dir),l.nodes=Eie(l,sh).nodes,sh.push(l),NN.set(n,l),n},"addSubGraph"),hPe=S(function(t){for(const[e,r]of sh.entries())if(r.id===t)return e;return-1},"getPosForId"),ty=-1,bie=[],wie=S(function(t,e){const r=sh[e].nodes;if(ty=ty+1,ty>2e3)return{result:!1,count:0};if(bie[ty]=e,sh[e].id===t)return{result:!0,count:0};let n=0,i=1;for(;n<r.length;){const a=hPe(r[n]);if(a>=0){const s=wie(t,a);if(s.result)return{result:!0,count:i+s.count};i=i+s.count}n=n+1}return{result:!1,count:i}},"indexNodes2"),fPe=S(function(t){return bie[t]},"getDepthFirstPos"),dPe=S(function(){ty=-1,sh.length>0&&wie("none",sh.length-1)},"indexNodes"),kie=S(function(){return sh},"getSubGraphs"),pPe=S(()=>H9?(H9=!1,!0):!1,"firstGraph"),gPe=S(t=>{let e=t.trim(),r="arrow_open";switch(e[0]){case"<":r="arrow_point",e=e.slice(1);break;case"x":r="arrow_cross",e=e.slice(1);break;case"o":r="arrow_circle",e=e.slice(1);break}let n="normal";return e.includes("=")&&(n="thick"),e.includes(".")&&(n="dotted"),{type:r,stroke:n}},"destructStartLink"),vPe=S((t,e)=>{const r=e.length;let n=0;for(let i=0;i<r;++i)e[i]===t&&++n;return n},"countChar"),mPe=S(t=>{const e=t.trim();let r=e.slice(0,-1),n="arrow_open";switch(e.slice(-1)){case"x":n="arrow_cross",e.startsWith("x")&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",e.startsWith("<")&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",e.startsWith("o")&&(n="double_"+n,r=r.slice(1));break}let i="normal",a=r.length-1;r.startsWith("=")&&(i="thick"),r.startsWith("~")&&(i="invisible");const s=vPe(".",r);return s&&(i="dotted",a=s),{type:n,stroke:i,length:a}},"destructEndLink"),yPe=S((t,e)=>{const r=mPe(t);let n;if(e){if(n=gPe(e),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=r.length,n}return r},"destructLink"),Sie=S((t,e)=>{for(const r of t)if(r.nodes.includes(e))return!0;return!1},"exists"),Eie=S((t,e)=>{const r=[];return t.nodes.forEach((n,i)=>{Sie(e,n)||r.push(t.nodes[i])}),{nodes:r}},"makeUniq"),xPe={firstGraph:pPe},bPe=S(t=>t.img?"imageSquare":t.icon?t.form==="circle"?"iconCircle":t.form==="square"?"iconSquare":t.form==="rounded"?"iconRounded":"icon":t.type==="square"?"squareRect":t.type==="round"?"roundedRect":t.type??"squareRect","getTypeFromVertex"),wPe=S((t,e)=>t.find(r=>r.id===e),"findNode"),kPe=S(t=>{let e="none",r="arrow_point";switch(t){case"arrow_point":case"arrow_circle":case"arrow_cross":r=t;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":e=t.replace("double_",""),r=e;break}return{arrowTypeStart:e,arrowTypeEnd:r}},"destructEdgeType"),SPe=S((t,e,r,n,i,a)=>{var u;const s=r.get(t.id),o=n.get(t.id)??!1,l=wPe(e,t.id);l?(l.cssStyles=t.styles,l.cssCompiledStyles=Pk(t.classes),l.cssClasses=t.classes.join(" ")):e.push({id:t.id,label:t.text,labelStyle:"",parentId:s,padding:((u=i.flowchart)==null?void 0:u.padding)||8,cssStyles:t.styles,cssCompiledStyles:Pk(["default","node",...t.classes]),cssClasses:"default "+t.classes.join(" "),shape:bPe(t),dir:t.dir,domId:t.domId,isGroup:o,look:a,link:t.link,linkTarget:t.linkTarget,tooltip:gie(t.id),icon:t.icon,pos:t.pos,img:t.img,assetWidth:t.assetWidth,assetHeight:t.assetHeight,constraint:t.constraint})},"addNodeFromVertex");function Pk(t){let e=[];for(const r of t){const n=L2.get(r);n!=null&&n.styles&&(e=[...e,...n.styles??[]].map(i=>i.trim())),n!=null&&n.textStyles&&(e=[...e,...n.textStyles??[]].map(i=>i.trim()))}return e}S(Pk,"getCompiledStyles");var EPe=S(()=>{const t=Ve(),e=[],r=[],n=kie(),i=new Map,a=new Map;for(let l=n.length-1;l>=0;l--){const u=n[l];u.nodes.length>0&&a.set(u.id,!0);for(const h of u.nodes)i.set(h,u.id)}for(let l=n.length-1;l>=0;l--){const u=n[l];e.push({id:u.id,label:u.title,labelStyle:"",parentId:i.get(u.id),padding:8,cssCompiledStyles:Pk(u.classes),cssClasses:u.classes.join(" "),shape:"rect",dir:u.dir,isGroup:!0,look:t.look})}mie().forEach(l=>{SPe(l,e,i,a,t,t.look||"classic")});const o=yie();return o.forEach((l,u)=>{const{arrowTypeStart:h,arrowTypeEnd:f}=kPe(l.type),d=[...o.defaultStyle??[]];l.style&&d.push(...l.style);const p={id:$J(l.start,l.end,{counter:u,prefix:"L"}),start:l.start,end:l.end,type:l.type??"normal",label:l.text,labelpos:"c",thickness:l.stroke,minlen:l.length,classes:(l==null?void 0:l.stroke)==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:(l==null?void 0:l.stroke)==="invisible"?"none":h,arrowTypeEnd:(l==null?void 0:l.stroke)==="invisible"?"none":f,arrowheadStyle:"fill: #333",labelStyle:d,style:d,pattern:l.stroke,look:t.look};r.push(p)}),{nodes:e,edges:r,other:{},config:t}},"getData"),D8={defaultConfig:S(()=>hK.flowchart,"defaultConfig"),setAccTitle:Sa,getAccTitle:Wa,getAccDescription:Ya,getData:EPe,setAccDescription:qa,addVertex:XFe,lookUpDomId:AT,addLink:KFe,updateLinkInterpolate:QFe,updateLink:ZFe,addClass:JFe,setDirection:ePe,setClass:ON,setTooltip:tPe,getTooltip:gie,setClickEvent:iPe,setLink:nPe,bindFunctions:aPe,getDirection:vie,getVertices:mie,getEdges:yie,getClasses:sPe,clear:oPe,setGen:lPe,defaultStyle:uPe,addSubGraph:cPe,getDepthFirstPos:fPe,indexNodes:dPe,getSubGraphs:kie,destructLink:yPe,lex:xPe,exists:Sie,makeUniq:Eie,setDiagramTitle:Us,getDiagramTitle:Xa},TPe=S(function(t,e){return e.db.getClasses()},"getClasses"),CPe=S(async function(t,e,r,n){var p;he.info("REF0:"),he.info("Drawing state diagram (v2)",e);const{securityLevel:i,flowchart:a,layout:s}=Ve();let o;i==="sandbox"&&(o=yt("#i"+e));const l=i==="sandbox"?o.nodes()[0].contentDocument:document;he.debug("Before getData: ");const u=n.db.getData();he.debug("Data: ",u);const h=die(e,i),f=vie();u.type=n.type,u.layoutAlgorithm=o6e(s),u.layoutAlgorithm==="dagre"&&s==="elk"&&he.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),u.direction=f,u.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,u.rankSpacing=(a==null?void 0:a.rankSpacing)||50,u.markers=["point","circle","cross"],u.diagramId=e,he.debug("REF1:",u),await Oee(u,h);const d=((p=u.config.flowchart)==null?void 0:p.diagramPadding)??8;Dr.insertTitle(h,"flowchartTitleText",(a==null?void 0:a.titleTopMargin)||0,n.db.getDiagramTitle()),pie(h,d,"flowchart",(a==null?void 0:a.useMaxWidth)||!1);for(const v of u.nodes){const m=yt(`#${e} [id="${v.id}"]`);if(!m||!v.link)continue;const x=l.createElementNS("http://www.w3.org/2000/svg","a");x.setAttributeNS("http://www.w3.org/2000/svg","class",v.cssClasses),x.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?x.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):v.linkTarget&&x.setAttributeNS("http://www.w3.org/2000/svg","target",v.linkTarget);const y=m.insert(function(){return x},":first-child"),w=m.select(".label-container");w&&y.append(function(){return w.node()});const k=m.select(".label");k&&y.append(function(){return k.node()})}},"draw"),APe={getClasses:TPe,draw:CPe},V9=function(){var t=S(function(En,kt,ot,tr){for(ot=ot||{},tr=En.length;tr--;ot[En[tr]]=kt);return ot},"o"),e=[1,4],r=[1,3],n=[1,5],i=[1,8,9,10,11,27,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],a=[2,2],s=[1,13],o=[1,14],l=[1,15],u=[1,16],h=[1,23],f=[1,25],d=[1,26],p=[1,27],v=[1,49],m=[1,48],x=[1,29],y=[1,30],w=[1,31],k=[1,32],E=[1,33],C=[1,44],L=[1,46],_=[1,42],I=[1,47],M=[1,43],F=[1,50],N=[1,45],z=[1,51],V=[1,52],D=[1,34],O=[1,35],P=[1,36],$=[1,37],B=[1,57],H=[1,8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],X=[1,61],q=[1,60],Y=[1,62],U=[8,9,11,75,77],J=[1,77],ce=[1,90],re=[1,95],ve=[1,94],ye=[1,91],Z=[1,87],ue=[1,93],ae=[1,89],pe=[1,96],Ee=[1,92],Se=[1,97],de=[1,88],be=[8,9,10,11,40,75,77],oe=[8,9,10,11,40,46,75,77],we=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,88,101,104,105,108,110,113,114,115],Re=[8,9,11,44,60,75,77,88,101,104,105,108,110,113,114,115],Pe=[44,60,88,101,104,105,108,110,113,114,115],Ge=[1,123],je=[1,122],We=[1,130],me=[1,144],Te=[1,145],fe=[1,146],W=[1,147],j=[1,132],ie=[1,134],ee=[1,138],le=[1,139],_e=[1,140],ke=[1,141],Le=[1,142],Oe=[1,143],Me=[1,148],Ie=[1,149],Fe=[1,128],Ne=[1,129],He=[1,136],it=[1,131],lt=[1,135],ft=[1,133],gt=[8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],_t=[1,151],ct=[1,153],at=[8,9,11],Lt=[8,9,10,11,14,44,60,88,104,105,108,110,113,114,115],ut=[1,173],pt=[1,169],Zt=[1,170],xt=[1,174],ht=[1,171],Mt=[1,172],nr=[77,115,118],Yt=[8,9,10,11,12,14,27,29,32,44,60,75,83,84,85,86,87,88,89,104,108,110,113,114,115],wr=[10,105],Gr=[31,49,51,53,55,57,62,64,66,67,69,71,115,116,117],Tr=[1,242],jn=[1,240],sn=[1,244],Dn=[1,238],$r=[1,239],kn=[1,241],Ut=[1,243],qe=[1,245],vt=[1,263],Vt=[8,9,11,105],yr=[8,9,10,11,60,83,104,105,108,109,110,111],un={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,edgeTextToken:78,STR:79,MD_STR:80,textToken:81,keywords:82,STYLE:83,LINKSTYLE:84,CLASSDEF:85,CLASS:86,CLICK:87,DOWN:88,UP:89,textNoTagsToken:90,stylesOpt:91,"idString[vertex]":92,"idString[class]":93,CALLBACKNAME:94,CALLBACKARGS:95,HREF:96,LINK_TARGET:97,"STR[link]":98,"STR[tooltip]":99,alphaNum:100,DEFAULT:101,numList:102,INTERPOLATE:103,NUM:104,COMMA:105,style:106,styleComponent:107,NODE_STRING:108,UNIT:109,BRKT:110,PCT:111,idStringToken:112,MINUS:113,MULT:114,UNICODE_TEXT:115,TEXT:116,TAGSTART:117,EDGE_TEXT:118,alphaNumToken:119,direction_tb:120,direction_bt:121,direction_rl:122,direction_lr:123,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",79:"STR",80:"MD_STR",83:"STYLE",84:"LINKSTYLE",85:"CLASSDEF",86:"CLASS",87:"CLICK",88:"DOWN",89:"UP",92:"idString[vertex]",93:"idString[class]",94:"CALLBACKNAME",95:"CALLBACKARGS",96:"HREF",97:"LINK_TARGET",98:"STR[link]",99:"STR[tooltip]",101:"DEFAULT",103:"INTERPOLATE",104:"NUM",105:"COMMA",108:"NODE_STRING",109:"UNIT",110:"BRKT",111:"PCT",113:"MINUS",114:"MULT",115:"UNICODE_TEXT",116:"TEXT",117:"TAGSTART",118:"EDGE_TEXT",120:"direction_tb",121:"direction_bt",122:"direction_rl",123:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[76,1],[76,2],[76,1],[76,1],[72,1],[73,3],[30,1],[30,2],[30,1],[30,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[102,1],[102,3],[91,1],[91,3],[106,1],[106,2],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[81,1],[81,1],[81,1],[81,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[78,1],[78,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[47,1],[47,2],[100,1],[100,2],[33,1],[33,1],[33,1],[33,1]],performAction:S(function(kt,ot,tr,St,jt,Ce,Nr){var $e=Ce.length-1;switch(jt){case 2:this.$=[];break;case 3:(!Array.isArray(Ce[$e])||Ce[$e].length>0)&&Ce[$e-1].push(Ce[$e]),this.$=Ce[$e-1];break;case 4:case 181:this.$=Ce[$e];break;case 11:St.setDirection("TB"),this.$="TB";break;case 12:St.setDirection(Ce[$e-1]),this.$=Ce[$e-1];break;case 27:this.$=Ce[$e-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=St.addSubGraph(Ce[$e-6],Ce[$e-1],Ce[$e-4]);break;case 34:this.$=St.addSubGraph(Ce[$e-3],Ce[$e-1],Ce[$e-3]);break;case 35:this.$=St.addSubGraph(void 0,Ce[$e-1],void 0);break;case 37:this.$=Ce[$e].trim(),St.setAccTitle(this.$);break;case 38:case 39:this.$=Ce[$e].trim(),St.setAccDescription(this.$);break;case 43:this.$=Ce[$e-1]+Ce[$e];break;case 44:this.$=Ce[$e];break;case 45:St.addVertex(Ce[$e-1][0],void 0,void 0,void 0,void 0,void 0,void 0,Ce[$e]),St.addLink(Ce[$e-3].stmt,Ce[$e-1],Ce[$e-2]),this.$={stmt:Ce[$e-1],nodes:Ce[$e-1].concat(Ce[$e-3].nodes)};break;case 46:St.addLink(Ce[$e-2].stmt,Ce[$e],Ce[$e-1]),this.$={stmt:Ce[$e],nodes:Ce[$e].concat(Ce[$e-2].nodes)};break;case 47:St.addLink(Ce[$e-3].stmt,Ce[$e-1],Ce[$e-2]),this.$={stmt:Ce[$e-1],nodes:Ce[$e-1].concat(Ce[$e-3].nodes)};break;case 48:this.$={stmt:Ce[$e-1],nodes:Ce[$e-1]};break;case 49:St.addVertex(Ce[$e-1][0],void 0,void 0,void 0,void 0,void 0,void 0,Ce[$e]),this.$={stmt:Ce[$e-1],nodes:Ce[$e-1],shapeData:Ce[$e]};break;case 50:this.$={stmt:Ce[$e],nodes:Ce[$e]};break;case 51:this.$=[Ce[$e]];break;case 52:St.addVertex(Ce[$e-5][0],void 0,void 0,void 0,void 0,void 0,void 0,Ce[$e-4]),this.$=Ce[$e-5].concat(Ce[$e]);break;case 53:this.$=Ce[$e-4].concat(Ce[$e]);break;case 54:this.$=Ce[$e];break;case 55:this.$=Ce[$e-2],St.setClass(Ce[$e-2],Ce[$e]);break;case 56:this.$=Ce[$e-3],St.addVertex(Ce[$e-3],Ce[$e-1],"square");break;case 57:this.$=Ce[$e-3],St.addVertex(Ce[$e-3],Ce[$e-1],"doublecircle");break;case 58:this.$=Ce[$e-5],St.addVertex(Ce[$e-5],Ce[$e-2],"circle");break;case 59:this.$=Ce[$e-3],St.addVertex(Ce[$e-3],Ce[$e-1],"ellipse");break;case 60:this.$=Ce[$e-3],St.addVertex(Ce[$e-3],Ce[$e-1],"stadium");break;case 61:this.$=Ce[$e-3],St.addVertex(Ce[$e-3],Ce[$e-1],"subroutine");break;case 62:this.$=Ce[$e-7],St.addVertex(Ce[$e-7],Ce[$e-1],"rect",void 0,void 0,void 0,Object.fromEntries([[Ce[$e-5],Ce[$e-3]]]));break;case 63:this.$=Ce[$e-3],St.addVertex(Ce[$e-3],Ce[$e-1],"cylinder");break;case 64:this.$=Ce[$e-3],St.addVertex(Ce[$e-3],Ce[$e-1],"round");break;case 65:this.$=Ce[$e-3],St.addVertex(Ce[$e-3],Ce[$e-1],"diamond");break;case 66:this.$=Ce[$e-5],St.addVertex(Ce[$e-5],Ce[$e-2],"hexagon");break;case 67:this.$=Ce[$e-3],St.addVertex(Ce[$e-3],Ce[$e-1],"odd");break;case 68:this.$=Ce[$e-3],St.addVertex(Ce[$e-3],Ce[$e-1],"trapezoid");break;case 69:this.$=Ce[$e-3],St.addVertex(Ce[$e-3],Ce[$e-1],"inv_trapezoid");break;case 70:this.$=Ce[$e-3],St.addVertex(Ce[$e-3],Ce[$e-1],"lean_right");break;case 71:this.$=Ce[$e-3],St.addVertex(Ce[$e-3],Ce[$e-1],"lean_left");break;case 72:this.$=Ce[$e],St.addVertex(Ce[$e]);break;case 73:Ce[$e-1].text=Ce[$e],this.$=Ce[$e-1];break;case 74:case 75:Ce[$e-2].text=Ce[$e-1],this.$=Ce[$e-2];break;case 76:this.$=Ce[$e];break;case 77:var mn=St.destructLink(Ce[$e],Ce[$e-2]);this.$={type:mn.type,stroke:mn.stroke,length:mn.length,text:Ce[$e-1]};break;case 78:this.$={text:Ce[$e],type:"text"};break;case 79:this.$={text:Ce[$e-1].text+""+Ce[$e],type:Ce[$e-1].type};break;case 80:this.$={text:Ce[$e],type:"string"};break;case 81:this.$={text:Ce[$e],type:"markdown"};break;case 82:var mn=St.destructLink(Ce[$e]);this.$={type:mn.type,stroke:mn.stroke,length:mn.length};break;case 83:this.$=Ce[$e-1];break;case 84:this.$={text:Ce[$e],type:"text"};break;case 85:this.$={text:Ce[$e-1].text+""+Ce[$e],type:Ce[$e-1].type};break;case 86:this.$={text:Ce[$e],type:"string"};break;case 87:case 102:this.$={text:Ce[$e],type:"markdown"};break;case 99:this.$={text:Ce[$e],type:"text"};break;case 100:this.$={text:Ce[$e-1].text+""+Ce[$e],type:Ce[$e-1].type};break;case 101:this.$={text:Ce[$e],type:"text"};break;case 103:this.$=Ce[$e-4],St.addClass(Ce[$e-2],Ce[$e]);break;case 104:this.$=Ce[$e-4],St.setClass(Ce[$e-2],Ce[$e]);break;case 105:case 113:this.$=Ce[$e-1],St.setClickEvent(Ce[$e-1],Ce[$e]);break;case 106:case 114:this.$=Ce[$e-3],St.setClickEvent(Ce[$e-3],Ce[$e-2]),St.setTooltip(Ce[$e-3],Ce[$e]);break;case 107:this.$=Ce[$e-2],St.setClickEvent(Ce[$e-2],Ce[$e-1],Ce[$e]);break;case 108:this.$=Ce[$e-4],St.setClickEvent(Ce[$e-4],Ce[$e-3],Ce[$e-2]),St.setTooltip(Ce[$e-4],Ce[$e]);break;case 109:this.$=Ce[$e-2],St.setLink(Ce[$e-2],Ce[$e]);break;case 110:this.$=Ce[$e-4],St.setLink(Ce[$e-4],Ce[$e-2]),St.setTooltip(Ce[$e-4],Ce[$e]);break;case 111:this.$=Ce[$e-4],St.setLink(Ce[$e-4],Ce[$e-2],Ce[$e]);break;case 112:this.$=Ce[$e-6],St.setLink(Ce[$e-6],Ce[$e-4],Ce[$e]),St.setTooltip(Ce[$e-6],Ce[$e-2]);break;case 115:this.$=Ce[$e-1],St.setLink(Ce[$e-1],Ce[$e]);break;case 116:this.$=Ce[$e-3],St.setLink(Ce[$e-3],Ce[$e-2]),St.setTooltip(Ce[$e-3],Ce[$e]);break;case 117:this.$=Ce[$e-3],St.setLink(Ce[$e-3],Ce[$e-2],Ce[$e]);break;case 118:this.$=Ce[$e-5],St.setLink(Ce[$e-5],Ce[$e-4],Ce[$e]),St.setTooltip(Ce[$e-5],Ce[$e-2]);break;case 119:this.$=Ce[$e-4],St.addVertex(Ce[$e-2],void 0,void 0,Ce[$e]);break;case 120:this.$=Ce[$e-4],St.updateLink([Ce[$e-2]],Ce[$e]);break;case 121:this.$=Ce[$e-4],St.updateLink(Ce[$e-2],Ce[$e]);break;case 122:this.$=Ce[$e-8],St.updateLinkInterpolate([Ce[$e-6]],Ce[$e-2]),St.updateLink([Ce[$e-6]],Ce[$e]);break;case 123:this.$=Ce[$e-8],St.updateLinkInterpolate(Ce[$e-6],Ce[$e-2]),St.updateLink(Ce[$e-6],Ce[$e]);break;case 124:this.$=Ce[$e-6],St.updateLinkInterpolate([Ce[$e-4]],Ce[$e]);break;case 125:this.$=Ce[$e-6],St.updateLinkInterpolate(Ce[$e-4],Ce[$e]);break;case 126:case 128:this.$=[Ce[$e]];break;case 127:case 129:Ce[$e-2].push(Ce[$e]),this.$=Ce[$e-2];break;case 131:this.$=Ce[$e-1]+Ce[$e];break;case 179:this.$=Ce[$e];break;case 180:this.$=Ce[$e-1]+""+Ce[$e];break;case 182:this.$=Ce[$e-1]+""+Ce[$e];break;case 183:this.$={stmt:"dir",value:"TB"};break;case 184:this.$={stmt:"dir",value:"BT"};break;case 185:this.$={stmt:"dir",value:"RL"};break;case 186:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:e,10:r,12:n},{1:[3]},t(i,a,{5:6}),{4:7,9:e,10:r,12:n},{4:8,9:e,10:r,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,33:24,34:f,36:d,38:p,42:28,43:38,44:v,45:39,47:40,60:m,83:x,84:y,85:w,86:k,87:E,88:C,101:L,104:_,105:I,108:M,110:F,112:41,113:N,114:z,115:V,120:D,121:O,122:P,123:$},t(i,[2,9]),t(i,[2,10]),t(i,[2,11]),{8:[1,54],9:[1,55],10:B,15:53,18:56},t(H,[2,3]),t(H,[2,4]),t(H,[2,5]),t(H,[2,6]),t(H,[2,7]),t(H,[2,8]),{8:X,9:q,11:Y,21:58,41:59,72:63,75:[1,64],77:[1,65]},{8:X,9:q,11:Y,21:66},{8:X,9:q,11:Y,21:67},{8:X,9:q,11:Y,21:68},{8:X,9:q,11:Y,21:69},{8:X,9:q,11:Y,21:70},{8:X,9:q,10:[1,71],11:Y,21:72},t(H,[2,36]),{35:[1,73]},{37:[1,74]},t(H,[2,39]),t(U,[2,50],{18:75,39:76,10:B,40:J}),{10:[1,78]},{10:[1,79]},{10:[1,80]},{10:[1,81]},{14:ce,44:re,60:ve,79:[1,85],88:ye,94:[1,82],96:[1,83],100:84,104:Z,105:ue,108:ae,110:pe,113:Ee,114:Se,115:de,119:86},t(H,[2,183]),t(H,[2,184]),t(H,[2,185]),t(H,[2,186]),t(be,[2,51]),t(be,[2,54],{46:[1,98]}),t(oe,[2,72],{112:111,29:[1,99],44:v,48:[1,100],50:[1,101],52:[1,102],54:[1,103],56:[1,104],58:[1,105],60:m,63:[1,106],65:[1,107],67:[1,108],68:[1,109],70:[1,110],88:C,101:L,104:_,105:I,108:M,110:F,113:N,114:z,115:V}),t(we,[2,179]),t(we,[2,140]),t(we,[2,141]),t(we,[2,142]),t(we,[2,143]),t(we,[2,144]),t(we,[2,145]),t(we,[2,146]),t(we,[2,147]),t(we,[2,148]),t(we,[2,149]),t(we,[2,150]),t(i,[2,12]),t(i,[2,18]),t(i,[2,19]),{9:[1,112]},t(Re,[2,26],{18:113,10:B}),t(H,[2,27]),{42:114,43:38,44:v,45:39,47:40,60:m,88:C,101:L,104:_,105:I,108:M,110:F,112:41,113:N,114:z,115:V},t(H,[2,40]),t(H,[2,41]),t(H,[2,42]),t(Pe,[2,76],{73:115,62:[1,117],74:[1,116]}),{76:118,78:119,79:[1,120],80:[1,121],115:Ge,118:je},t([44,60,62,74,88,101,104,105,108,110,113,114,115],[2,82]),t(H,[2,28]),t(H,[2,29]),t(H,[2,30]),t(H,[2,31]),t(H,[2,32]),{10:We,12:me,14:Te,27:fe,28:124,32:W,44:j,60:ie,75:ee,79:[1,126],80:[1,127],82:137,83:le,84:_e,85:ke,86:Le,87:Oe,88:Me,89:Ie,90:125,104:Fe,108:Ne,110:He,113:it,114:lt,115:ft},t(gt,a,{5:150}),t(H,[2,37]),t(H,[2,38]),t(U,[2,48],{44:_t}),t(U,[2,49],{18:152,10:B,40:ct}),t(be,[2,44]),{44:v,47:154,60:m,88:C,101:L,104:_,105:I,108:M,110:F,112:41,113:N,114:z,115:V},{101:[1,155],102:156,104:[1,157]},{44:v,47:158,60:m,88:C,101:L,104:_,105:I,108:M,110:F,112:41,113:N,114:z,115:V},{44:v,47:159,60:m,88:C,101:L,104:_,105:I,108:M,110:F,112:41,113:N,114:z,115:V},t(at,[2,105],{10:[1,160],95:[1,161]}),{79:[1,162]},t(at,[2,113],{119:164,10:[1,163],14:ce,44:re,60:ve,88:ye,104:Z,105:ue,108:ae,110:pe,113:Ee,114:Se,115:de}),t(at,[2,115],{10:[1,165]}),t(Lt,[2,181]),t(Lt,[2,168]),t(Lt,[2,169]),t(Lt,[2,170]),t(Lt,[2,171]),t(Lt,[2,172]),t(Lt,[2,173]),t(Lt,[2,174]),t(Lt,[2,175]),t(Lt,[2,176]),t(Lt,[2,177]),t(Lt,[2,178]),{44:v,47:166,60:m,88:C,101:L,104:_,105:I,108:M,110:F,112:41,113:N,114:z,115:V},{30:167,67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},{30:175,67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},{30:177,50:[1,176],67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},{30:178,67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},{30:179,67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},{30:180,67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},{108:[1,181]},{30:182,67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},{30:183,65:[1,184],67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},{30:185,67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},{30:186,67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},{30:187,67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},t(we,[2,180]),t(i,[2,20]),t(Re,[2,25]),t(U,[2,46],{39:188,18:189,10:B,40:J}),t(Pe,[2,73],{10:[1,190]}),{10:[1,191]},{30:192,67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},{77:[1,193],78:194,115:Ge,118:je},t(nr,[2,78]),t(nr,[2,80]),t(nr,[2,81]),t(nr,[2,166]),t(nr,[2,167]),{8:X,9:q,10:We,11:Y,12:me,14:Te,21:196,27:fe,29:[1,195],32:W,44:j,60:ie,75:ee,82:137,83:le,84:_e,85:ke,86:Le,87:Oe,88:Me,89:Ie,90:197,104:Fe,108:Ne,110:He,113:it,114:lt,115:ft},t(Yt,[2,99]),t(Yt,[2,101]),t(Yt,[2,102]),t(Yt,[2,155]),t(Yt,[2,156]),t(Yt,[2,157]),t(Yt,[2,158]),t(Yt,[2,159]),t(Yt,[2,160]),t(Yt,[2,161]),t(Yt,[2,162]),t(Yt,[2,163]),t(Yt,[2,164]),t(Yt,[2,165]),t(Yt,[2,88]),t(Yt,[2,89]),t(Yt,[2,90]),t(Yt,[2,91]),t(Yt,[2,92]),t(Yt,[2,93]),t(Yt,[2,94]),t(Yt,[2,95]),t(Yt,[2,96]),t(Yt,[2,97]),t(Yt,[2,98]),{6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,198],33:24,34:f,36:d,38:p,42:28,43:38,44:v,45:39,47:40,60:m,83:x,84:y,85:w,86:k,87:E,88:C,101:L,104:_,105:I,108:M,110:F,112:41,113:N,114:z,115:V,120:D,121:O,122:P,123:$},{10:B,18:199},{44:[1,200]},t(be,[2,43]),{10:[1,201],44:v,60:m,88:C,101:L,104:_,105:I,108:M,110:F,112:111,113:N,114:z,115:V},{10:[1,202]},{10:[1,203],105:[1,204]},t(wr,[2,126]),{10:[1,205],44:v,60:m,88:C,101:L,104:_,105:I,108:M,110:F,112:111,113:N,114:z,115:V},{10:[1,206],44:v,60:m,88:C,101:L,104:_,105:I,108:M,110:F,112:111,113:N,114:z,115:V},{79:[1,207]},t(at,[2,107],{10:[1,208]}),t(at,[2,109],{10:[1,209]}),{79:[1,210]},t(Lt,[2,182]),{79:[1,211],97:[1,212]},t(be,[2,55],{112:111,44:v,60:m,88:C,101:L,104:_,105:I,108:M,110:F,113:N,114:z,115:V}),{31:[1,213],67:ut,81:214,115:xt,116:ht,117:Mt},t(Gr,[2,84]),t(Gr,[2,86]),t(Gr,[2,87]),t(Gr,[2,151]),t(Gr,[2,152]),t(Gr,[2,153]),t(Gr,[2,154]),{49:[1,215],67:ut,81:214,115:xt,116:ht,117:Mt},{30:216,67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},{51:[1,217],67:ut,81:214,115:xt,116:ht,117:Mt},{53:[1,218],67:ut,81:214,115:xt,116:ht,117:Mt},{55:[1,219],67:ut,81:214,115:xt,116:ht,117:Mt},{57:[1,220],67:ut,81:214,115:xt,116:ht,117:Mt},{60:[1,221]},{64:[1,222],67:ut,81:214,115:xt,116:ht,117:Mt},{66:[1,223],67:ut,81:214,115:xt,116:ht,117:Mt},{30:224,67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},{31:[1,225],67:ut,81:214,115:xt,116:ht,117:Mt},{67:ut,69:[1,226],71:[1,227],81:214,115:xt,116:ht,117:Mt},{67:ut,69:[1,229],71:[1,228],81:214,115:xt,116:ht,117:Mt},t(U,[2,45],{18:152,10:B,40:ct}),t(U,[2,47],{44:_t}),t(Pe,[2,75]),t(Pe,[2,74]),{62:[1,230],67:ut,81:214,115:xt,116:ht,117:Mt},t(Pe,[2,77]),t(nr,[2,79]),{30:231,67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},t(gt,a,{5:232}),t(Yt,[2,100]),t(H,[2,35]),{43:233,44:v,45:39,47:40,60:m,88:C,101:L,104:_,105:I,108:M,110:F,112:41,113:N,114:z,115:V},{10:B,18:234},{10:Tr,60:jn,83:sn,91:235,104:Dn,106:236,107:237,108:$r,109:kn,110:Ut,111:qe},{10:Tr,60:jn,83:sn,91:246,103:[1,247],104:Dn,106:236,107:237,108:$r,109:kn,110:Ut,111:qe},{10:Tr,60:jn,83:sn,91:248,103:[1,249],104:Dn,106:236,107:237,108:$r,109:kn,110:Ut,111:qe},{104:[1,250]},{10:Tr,60:jn,83:sn,91:251,104:Dn,106:236,107:237,108:$r,109:kn,110:Ut,111:qe},{44:v,47:252,60:m,88:C,101:L,104:_,105:I,108:M,110:F,112:41,113:N,114:z,115:V},t(at,[2,106]),{79:[1,253]},{79:[1,254],97:[1,255]},t(at,[2,114]),t(at,[2,116],{10:[1,256]}),t(at,[2,117]),t(oe,[2,56]),t(Gr,[2,85]),t(oe,[2,57]),{51:[1,257],67:ut,81:214,115:xt,116:ht,117:Mt},t(oe,[2,64]),t(oe,[2,59]),t(oe,[2,60]),t(oe,[2,61]),{108:[1,258]},t(oe,[2,63]),t(oe,[2,65]),{66:[1,259],67:ut,81:214,115:xt,116:ht,117:Mt},t(oe,[2,67]),t(oe,[2,68]),t(oe,[2,70]),t(oe,[2,69]),t(oe,[2,71]),t([10,44,60,88,101,104,105,108,110,113,114,115],[2,83]),{31:[1,260],67:ut,81:214,115:xt,116:ht,117:Mt},{6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,261],33:24,34:f,36:d,38:p,42:28,43:38,44:v,45:39,47:40,60:m,83:x,84:y,85:w,86:k,87:E,88:C,101:L,104:_,105:I,108:M,110:F,112:41,113:N,114:z,115:V,120:D,121:O,122:P,123:$},t(be,[2,53]),{43:262,44:v,45:39,47:40,60:m,88:C,101:L,104:_,105:I,108:M,110:F,112:41,113:N,114:z,115:V},t(at,[2,119],{105:vt}),t(Vt,[2,128],{107:264,10:Tr,60:jn,83:sn,104:Dn,108:$r,109:kn,110:Ut,111:qe}),t(yr,[2,130]),t(yr,[2,132]),t(yr,[2,133]),t(yr,[2,134]),t(yr,[2,135]),t(yr,[2,136]),t(yr,[2,137]),t(yr,[2,138]),t(yr,[2,139]),t(at,[2,120],{105:vt}),{10:[1,265]},t(at,[2,121],{105:vt}),{10:[1,266]},t(wr,[2,127]),t(at,[2,103],{105:vt}),t(at,[2,104],{112:111,44:v,60:m,88:C,101:L,104:_,105:I,108:M,110:F,113:N,114:z,115:V}),t(at,[2,108]),t(at,[2,110],{10:[1,267]}),t(at,[2,111]),{97:[1,268]},{51:[1,269]},{62:[1,270]},{66:[1,271]},{8:X,9:q,11:Y,21:272},t(H,[2,34]),t(be,[2,52]),{10:Tr,60:jn,83:sn,104:Dn,106:273,107:237,108:$r,109:kn,110:Ut,111:qe},t(yr,[2,131]),{14:ce,44:re,60:ve,88:ye,100:274,104:Z,105:ue,108:ae,110:pe,113:Ee,114:Se,115:de,119:86},{14:ce,44:re,60:ve,88:ye,100:275,104:Z,105:ue,108:ae,110:pe,113:Ee,114:Se,115:de,119:86},{97:[1,276]},t(at,[2,118]),t(oe,[2,58]),{30:277,67:ut,79:pt,80:Zt,81:168,115:xt,116:ht,117:Mt},t(oe,[2,66]),t(gt,a,{5:278}),t(Vt,[2,129],{107:264,10:Tr,60:jn,83:sn,104:Dn,108:$r,109:kn,110:Ut,111:qe}),t(at,[2,124],{119:164,10:[1,279],14:ce,44:re,60:ve,88:ye,104:Z,105:ue,108:ae,110:pe,113:Ee,114:Se,115:de}),t(at,[2,125],{119:164,10:[1,280],14:ce,44:re,60:ve,88:ye,104:Z,105:ue,108:ae,110:pe,113:Ee,114:Se,115:de}),t(at,[2,112]),{31:[1,281],67:ut,81:214,115:xt,116:ht,117:Mt},{6:11,7:12,8:s,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,282],33:24,34:f,36:d,38:p,42:28,43:38,44:v,45:39,47:40,60:m,83:x,84:y,85:w,86:k,87:E,88:C,101:L,104:_,105:I,108:M,110:F,112:41,113:N,114:z,115:V,120:D,121:O,122:P,123:$},{10:Tr,60:jn,83:sn,91:283,104:Dn,106:236,107:237,108:$r,109:kn,110:Ut,111:qe},{10:Tr,60:jn,83:sn,91:284,104:Dn,106:236,107:237,108:$r,109:kn,110:Ut,111:qe},t(oe,[2,62]),t(H,[2,33]),t(at,[2,122],{105:vt}),t(at,[2,123],{105:vt})],defaultActions:{},parseError:S(function(kt,ot){if(ot.recoverable)this.trace(kt);else{var tr=new Error(kt);throw tr.hash=ot,tr}},"parseError"),parse:S(function(kt){var ot=this,tr=[0],St=[],jt=[null],Ce=[],Nr=this.table,$e="",mn=0,mt=0,Cr=2,mp=1,_v=Ce.slice.call(arguments,1),ni=Object.create(this.lexer),Zo={yy:{}};for(var yp in this.yy)Object.prototype.hasOwnProperty.call(this.yy,yp)&&(Zo.yy[yp]=this.yy[yp]);ni.setInput(kt,Zo.yy),Zo.yy.lexer=ni,Zo.yy.parser=this,typeof ni.yylloc>"u"&&(ni.yylloc={});var kr=ni.yylloc;Ce.push(kr);var x6=ni.options&&ni.options.ranges;typeof Zo.yy.parseError=="function"?this.parseError=Zo.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ub(Qa){tr.length=tr.length-2*Qa,jt.length=jt.length-Qa,Ce.length=Ce.length-Qa}S(Ub,"popStack");function od(){var Qa;return Qa=St.pop()||ni.lex()||mp,typeof Qa!="number"&&(Qa instanceof Array&&(St=Qa,Qa=St.pop()),Qa=ot.symbols_[Qa]||Qa),Qa}S(od,"lex");for(var zn,mu,xs,lc,yu={},ld,ko,Lv,ud;;){if(mu=tr[tr.length-1],this.defaultActions[mu]?xs=this.defaultActions[mu]:((zn===null||typeof zn>"u")&&(zn=od()),xs=Nr[mu]&&Nr[mu][zn]),typeof xs>"u"||!xs.length||!xs[0]){var xp="";ud=[];for(ld in Nr[mu])this.terminals_[ld]&&ld>Cr&&ud.push("'"+this.terminals_[ld]+"'");ni.showPosition?xp="Parse error on line "+(mn+1)+`:
`+ni.showPosition()+`
Expecting `+ud.join(", ")+", got '"+(this.terminals_[zn]||zn)+"'":xp="Parse error on line "+(mn+1)+": Unexpected "+(zn==mp?"end of input":"'"+(this.terminals_[zn]||zn)+"'"),this.parseError(xp,{text:ni.match,token:this.terminals_[zn]||zn,line:ni.yylineno,loc:kr,expected:ud})}if(xs[0]instanceof Array&&xs.length>1)throw new Error("Parse Error: multiple actions possible at state: "+mu+", token: "+zn);switch(xs[0]){case 1:tr.push(zn),jt.push(ni.yytext),Ce.push(ni.yylloc),tr.push(xs[1]),zn=null,mt=ni.yyleng,$e=ni.yytext,mn=ni.yylineno,kr=ni.yylloc;break;case 2:if(ko=this.productions_[xs[1]][1],yu.$=jt[jt.length-ko],yu._$={first_line:Ce[Ce.length-(ko||1)].first_line,last_line:Ce[Ce.length-1].last_line,first_column:Ce[Ce.length-(ko||1)].first_column,last_column:Ce[Ce.length-1].last_column},x6&&(yu._$.range=[Ce[Ce.length-(ko||1)].range[0],Ce[Ce.length-1].range[1]]),lc=this.performAction.apply(yu,[$e,mt,mn,Zo.yy,xs[1],jt,Ce].concat(_v)),typeof lc<"u")return lc;ko&&(tr=tr.slice(0,-1*ko*2),jt=jt.slice(0,-1*ko),Ce=Ce.slice(0,-1*ko)),tr.push(this.productions_[xs[1]][0]),jt.push(yu.$),Ce.push(yu._$),Lv=Nr[tr[tr.length-2]][tr[tr.length-1]],tr.push(Lv);break;case 3:return!0}}return!0},"parse")},Yr=function(){var En={EOF:1,parseError:S(function(ot,tr){if(this.yy.parser)this.yy.parser.parseError(ot,tr);else throw new Error(ot)},"parseError"),setInput:S(function(kt,ot){return this.yy=ot||this.yy||{},this._input=kt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var kt=this._input[0];this.yytext+=kt,this.yyleng++,this.offset++,this.match+=kt,this.matched+=kt;var ot=kt.match(/(?:\r\n?|\n).*/g);return ot?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),kt},"input"),unput:S(function(kt){var ot=kt.length,tr=kt.split(/(?:\r\n?|\n)/g);this._input=kt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ot),this.offset-=ot;var St=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),tr.length-1&&(this.yylineno-=tr.length-1);var jt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:tr?(tr.length===St.length?this.yylloc.first_column:0)+St[St.length-tr.length].length-tr[0].length:this.yylloc.first_column-ot},this.options.ranges&&(this.yylloc.range=[jt[0],jt[0]+this.yyleng-ot]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(kt){this.unput(this.match.slice(kt))},"less"),pastInput:S(function(){var kt=this.matched.substr(0,this.matched.length-this.match.length);return(kt.length>20?"...":"")+kt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var kt=this.match;return kt.length<20&&(kt+=this._input.substr(0,20-kt.length)),(kt.substr(0,20)+(kt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var kt=this.pastInput(),ot=new Array(kt.length+1).join("-");return kt+this.upcomingInput()+`
`+ot+"^"},"showPosition"),test_match:S(function(kt,ot){var tr,St,jt;if(this.options.backtrack_lexer&&(jt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(jt.yylloc.range=this.yylloc.range.slice(0))),St=kt[0].match(/(?:\r\n?|\n).*/g),St&&(this.yylineno+=St.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:St?St[St.length-1].length-St[St.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+kt[0].length},this.yytext+=kt[0],this.match+=kt[0],this.matches=kt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(kt[0].length),this.matched+=kt[0],tr=this.performAction.call(this,this.yy,this,ot,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),tr)return tr;if(this._backtrack){for(var Ce in jt)this[Ce]=jt[Ce];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var kt,ot,tr,St;this._more||(this.yytext="",this.match="");for(var jt=this._currentRules(),Ce=0;Ce<jt.length;Ce++)if(tr=this._input.match(this.rules[jt[Ce]]),tr&&(!ot||tr[0].length>ot[0].length)){if(ot=tr,St=Ce,this.options.backtrack_lexer){if(kt=this.test_match(tr,jt[Ce]),kt!==!1)return kt;if(this._backtrack){ot=!1;continue}else return!1}else if(!this.options.flex)break}return ot?(kt=this.test_match(ot,jt[St]),kt!==!1?kt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var ot=this.next();return ot||this.lex()},"lex"),begin:S(function(ot){this.conditionStack.push(ot)},"begin"),popState:S(function(){var ot=this.conditionStack.length-1;return ot>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function(ot){return ot=this.conditionStack.length-1-Math.abs(ot||0),ot>=0?this.conditionStack[ot]:"INITIAL"},"topState"),pushState:S(function(ot){this.begin(ot)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:S(function(ot,tr,St,jt){switch(St){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),tr.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:const Ce=/\n\s*/g;return tr.yytext=tr.yytext.replace(Ce,"<br/>"),40;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 94;case 17:this.popState();break;case 18:return 95;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 83;case 26:return 101;case 27:return 84;case 28:return 103;case 29:return 85;case 30:return 86;case 31:return 96;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 87;case 35:return ot.lex.firstGraph()&&this.begin("dir"),12;case 36:return ot.lex.firstGraph()&&this.begin("dir"),12;case 37:return ot.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:return 97;case 41:return 97;case 42:return 97;case 43:return 97;case 44:return this.popState(),13;case 45:return this.popState(),14;case 46:return this.popState(),14;case 47:return this.popState(),14;case 48:return this.popState(),14;case 49:return this.popState(),14;case 50:return this.popState(),14;case 51:return this.popState(),14;case 52:return this.popState(),14;case 53:return this.popState(),14;case 54:return this.popState(),14;case 55:return 120;case 56:return 121;case 57:return 122;case 58:return 123;case 59:return 104;case 60:return 110;case 61:return 46;case 62:return 60;case 63:return 44;case 64:return 8;case 65:return 105;case 66:return 114;case 67:return this.popState(),77;case 68:return this.pushState("edgeText"),75;case 69:return 118;case 70:return this.popState(),77;case 71:return this.pushState("thickEdgeText"),75;case 72:return 118;case 73:return this.popState(),77;case 74:return this.pushState("dottedEdgeText"),75;case 75:return 118;case 76:return 77;case 77:return this.popState(),53;case 78:return"TEXT";case 79:return this.pushState("ellipseText"),52;case 80:return this.popState(),55;case 81:return this.pushState("text"),54;case 82:return this.popState(),57;case 83:return this.pushState("text"),56;case 84:return 58;case 85:return this.pushState("text"),67;case 86:return this.popState(),64;case 87:return this.pushState("text"),63;case 88:return this.popState(),49;case 89:return this.pushState("text"),48;case 90:return this.popState(),69;case 91:return this.popState(),71;case 92:return 116;case 93:return this.pushState("trapText"),68;case 94:return this.pushState("trapText"),70;case 95:return 117;case 96:return 67;case 97:return 89;case 98:return"SEP";case 99:return 88;case 100:return 114;case 101:return 110;case 102:return 44;case 103:return 108;case 104:return 113;case 105:return 115;case 106:return this.popState(),62;case 107:return this.pushState("text"),62;case 108:return this.popState(),51;case 109:return this.pushState("text"),50;case 110:return this.popState(),31;case 111:return this.pushState("text"),29;case 112:return this.popState(),66;case 113:return this.pushState("text"),65;case 114:return"TEXT";case 115:return"QUOTE";case 116:return 9;case 117:return 10;case 118:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeData:{rules:[8,11,12,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackargs:{rules:[17,18,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackname:{rules:[14,15,16,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},href:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},click:{rules:[21,24,33,34,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dottedEdgeText:{rules:[21,24,73,75,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},thickEdgeText:{rules:[21,24,70,72,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},edgeText:{rules:[21,24,67,69,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},trapText:{rules:[21,24,76,79,81,83,87,89,90,91,92,93,94,107,109,111,113],inclusive:!1},ellipseText:{rules:[21,24,76,77,78,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},text:{rules:[21,24,76,79,80,81,82,83,86,87,88,89,93,94,106,107,108,109,110,111,112,113,114],inclusive:!1},vertex:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr:{rules:[3,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_title:{rules:[1,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},md_string:{rules:[19,20,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},string:{rules:[21,22,23,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,70,71,73,74,76,79,81,83,84,85,87,89,93,94,95,96,97,98,99,100,101,102,103,104,105,107,109,111,113,115,116,117,118],inclusive:!0}}};return En}();un.lexer=Yr;function Sn(){this.yy={}}return S(Sn,"Parser"),Sn.prototype=un,un.Parser=Sn,new Sn}();V9.parser=V9;var _Pe=V9,LPe=S((t,e)=>{const r=Vj,n=r(t,"r"),i=r(t,"g"),a=r(t,"b");return a0(n,i,a,e)},"fade"),DPe=S(t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span {
    color: ${t.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${t.lineColor} !important;
    stroke-width: 0;
    stroke: ${t.lineColor};
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    p {
      background-color: ${t.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${LPe(t.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${t.clusterBkg};
    stroke: ${t.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${t.edgeLabelBackground};
    p {
      background-color: ${t.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }
`,"getStyles"),RPe=DPe,MPe={parser:_Pe,db:D8,renderer:APe,styles:RPe,init:S(t=>{t.flowchart||(t.flowchart={}),t.layout&&r$({layout:t.layout}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,r$({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}}),D8.clear(),D8.setGen("gen-2")},"init")};const FN=Object.freeze(Object.defineProperty({__proto__:null,diagram:MPe},Symbol.toStringTag,{value:"Module"})),NPe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function IPe(t){return typeof t=="string"&&NPe.test(t)}const Da=[];for(let t=0;t<256;++t)Da.push((t+256).toString(16).slice(1));function OPe(t,e=0){return Da[t[e+0]]+Da[t[e+1]]+Da[t[e+2]]+Da[t[e+3]]+"-"+Da[t[e+4]]+Da[t[e+5]]+"-"+Da[t[e+6]]+Da[t[e+7]]+"-"+Da[t[e+8]]+Da[t[e+9]]+"-"+Da[t[e+10]]+Da[t[e+11]]+Da[t[e+12]]+Da[t[e+13]]+Da[t[e+14]]+Da[t[e+15]]}function FPe(t){if(!IPe(t))throw TypeError("Invalid UUID");let e;const r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function PPe(t){t=unescape(encodeURIComponent(t));const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}const BPe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",$Pe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function zPe(t,e,r){function n(i,a,s,o){var l;if(typeof i=="string"&&(i=PPe(i)),typeof a=="string"&&(a=FPe(a)),((l=a)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){o=o||0;for(let h=0;h<16;++h)s[o+h]=u[h];return s}return OPe(u)}try{n.name=t}catch{}return n.DNS=BPe,n.URL=$Pe,n}function HPe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function R8(t,e){return t<<e|t>>>32-e}function VPe(t){const e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const s=unescape(encodeURIComponent(t));t=[];for(let o=0;o<s.length;++o)t.push(s.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const n=t.length/4+2,i=Math.ceil(n/16),a=new Array(i);for(let s=0;s<i;++s){const o=new Uint32Array(16);for(let l=0;l<16;++l)o[l]=t[s*64+l*4]<<24|t[s*64+l*4+1]<<16|t[s*64+l*4+2]<<8|t[s*64+l*4+3];a[s]=o}a[i-1][14]=(t.length-1)*8/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=(t.length-1)*8&4294967295;for(let s=0;s<i;++s){const o=new Uint32Array(80);for(let p=0;p<16;++p)o[p]=a[s][p];for(let p=16;p<80;++p)o[p]=R8(o[p-3]^o[p-8]^o[p-14]^o[p-16],1);let l=r[0],u=r[1],h=r[2],f=r[3],d=r[4];for(let p=0;p<80;++p){const v=Math.floor(p/20),m=R8(l,5)+HPe(v,u,h,f)+d+e[v]+o[p]>>>0;d=f,f=h,h=R8(u,30)>>>0,u=l,l=m}r[0]=r[0]+l>>>0,r[1]=r[1]+u>>>0,r[2]=r[2]+h>>>0,r[3]=r[3]+f>>>0,r[4]=r[4]+d>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}const UPe=zPe("v5",80,VPe),GPe=UPe;var U9=function(){var t=S(function(I,M,F,N){for(F=F||{},N=I.length;N--;F[I[N]]=M);return F},"o"),e=[6,8,10,20,22,24,26,27,28],r=[1,10],n=[1,11],i=[1,12],a=[1,13],s=[1,14],o=[1,15],l=[1,21],u=[1,22],h=[1,23],f=[1,24],d=[1,25],p=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],v=[1,34],m=[27,28,46,47],x=[41,42,43,44,45],y=[17,34],w=[1,54],k=[1,53],E=[17,34,36,38],C={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:S(function(M,F,N,z,V,D,O){var P=D.length-1;switch(V){case 1:break;case 2:this.$=[];break;case 3:D[P-1].push(D[P]),this.$=D[P-1];break;case 4:case 5:this.$=D[P];break;case 6:case 7:this.$=[];break;case 8:z.addEntity(D[P-4]),z.addEntity(D[P-2]),z.addRelationship(D[P-4],D[P],D[P-2],D[P-3]);break;case 9:z.addEntity(D[P-3]),z.addAttributes(D[P-3],D[P-1]);break;case 10:z.addEntity(D[P-2]);break;case 11:z.addEntity(D[P]);break;case 12:z.addEntity(D[P-6],D[P-4]),z.addAttributes(D[P-6],D[P-1]);break;case 13:z.addEntity(D[P-5],D[P-3]);break;case 14:z.addEntity(D[P-3],D[P-1]);break;case 15:case 16:this.$=D[P].trim(),z.setAccTitle(this.$);break;case 17:case 18:this.$=D[P].trim(),z.setAccDescription(this.$);break;case 19:case 43:this.$=D[P];break;case 20:case 41:case 42:this.$=D[P].replace(/"/g,"");break;case 21:case 29:this.$=[D[P]];break;case 22:D[P].push(D[P-1]),this.$=D[P];break;case 23:this.$={attributeType:D[P-1],attributeName:D[P]};break;case 24:this.$={attributeType:D[P-2],attributeName:D[P-1],attributeKeyTypeList:D[P]};break;case 25:this.$={attributeType:D[P-2],attributeName:D[P-1],attributeComment:D[P]};break;case 26:this.$={attributeType:D[P-3],attributeName:D[P-2],attributeKeyTypeList:D[P-1],attributeComment:D[P]};break;case 27:case 28:case 31:this.$=D[P];break;case 30:D[P-2].push(D[P]),this.$=D[P-2];break;case 32:this.$=D[P].replace(/"/g,"");break;case 33:this.$={cardA:D[P],relType:D[P-1],cardB:D[P-2]};break;case 34:this.$=z.Cardinality.ZERO_OR_ONE;break;case 35:this.$=z.Cardinality.ZERO_OR_MORE;break;case 36:this.$=z.Cardinality.ONE_OR_MORE;break;case 37:this.$=z.Cardinality.ONLY_ONE;break;case 38:this.$=z.Cardinality.MD_PARENT;break;case 39:this.$=z.Identification.NON_IDENTIFYING;break;case 40:this.$=z.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:r,22:n,24:i,26:a,27:s,28:o},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:16,11:9,20:r,22:n,24:i,26:a,27:s,28:o},t(e,[2,5]),t(e,[2,6]),t(e,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:l,42:u,43:h,44:f,45:d}),{21:[1,26]},{23:[1,27]},{25:[1,28]},t(e,[2,18]),t(p,[2,19]),t(p,[2,20]),t(e,[2,4]),{11:29,27:s,28:o},{16:30,17:[1,31],29:32,30:33,34:v},{11:35,27:s,28:o},{40:36,46:[1,37],47:[1,38]},t(m,[2,34]),t(m,[2,35]),t(m,[2,36]),t(m,[2,37]),t(m,[2,38]),t(e,[2,15]),t(e,[2,16]),t(e,[2,17]),{13:[1,39]},{17:[1,40]},t(e,[2,10]),{16:41,17:[2,21],29:32,30:33,34:v},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:l,42:u,43:h,44:f,45:d},t(x,[2,39]),t(x,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},t(e,[2,9]),{17:[2,22]},t(y,[2,23],{32:50,33:51,35:52,37:w,38:k}),t([17,34,37,38],[2,28]),t(e,[2,14],{15:[1,55]}),t([27,28],[2,33]),t(e,[2,8]),t(e,[2,41]),t(e,[2,42]),t(e,[2,43]),t(y,[2,24],{33:56,36:[1,57],38:k}),t(y,[2,25]),t(E,[2,29]),t(y,[2,32]),t(E,[2,31]),{16:58,17:[1,59],29:32,30:33,34:v},t(y,[2,26]),{35:60,37:w},{17:[1,61]},t(e,[2,13]),t(E,[2,30]),t(e,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:S(function(M,F){if(F.recoverable)this.trace(M);else{var N=new Error(M);throw N.hash=F,N}},"parseError"),parse:S(function(M){var F=this,N=[0],z=[],V=[null],D=[],O=this.table,P="",$=0,B=0,H=2,X=1,q=D.slice.call(arguments,1),Y=Object.create(this.lexer),U={yy:{}};for(var J in this.yy)Object.prototype.hasOwnProperty.call(this.yy,J)&&(U.yy[J]=this.yy[J]);Y.setInput(M,U.yy),U.yy.lexer=Y,U.yy.parser=this,typeof Y.yylloc>"u"&&(Y.yylloc={});var ce=Y.yylloc;D.push(ce);var re=Y.options&&Y.options.ranges;typeof U.yy.parseError=="function"?this.parseError=U.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ve(Re){N.length=N.length-2*Re,V.length=V.length-Re,D.length=D.length-Re}S(ve,"popStack");function ye(){var Re;return Re=z.pop()||Y.lex()||X,typeof Re!="number"&&(Re instanceof Array&&(z=Re,Re=z.pop()),Re=F.symbols_[Re]||Re),Re}S(ye,"lex");for(var Z,ue,ae,pe,Ee={},Se,de,be,oe;;){if(ue=N[N.length-1],this.defaultActions[ue]?ae=this.defaultActions[ue]:((Z===null||typeof Z>"u")&&(Z=ye()),ae=O[ue]&&O[ue][Z]),typeof ae>"u"||!ae.length||!ae[0]){var we="";oe=[];for(Se in O[ue])this.terminals_[Se]&&Se>H&&oe.push("'"+this.terminals_[Se]+"'");Y.showPosition?we="Parse error on line "+($+1)+`:
`+Y.showPosition()+`
Expecting `+oe.join(", ")+", got '"+(this.terminals_[Z]||Z)+"'":we="Parse error on line "+($+1)+": Unexpected "+(Z==X?"end of input":"'"+(this.terminals_[Z]||Z)+"'"),this.parseError(we,{text:Y.match,token:this.terminals_[Z]||Z,line:Y.yylineno,loc:ce,expected:oe})}if(ae[0]instanceof Array&&ae.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ue+", token: "+Z);switch(ae[0]){case 1:N.push(Z),V.push(Y.yytext),D.push(Y.yylloc),N.push(ae[1]),Z=null,B=Y.yyleng,P=Y.yytext,$=Y.yylineno,ce=Y.yylloc;break;case 2:if(de=this.productions_[ae[1]][1],Ee.$=V[V.length-de],Ee._$={first_line:D[D.length-(de||1)].first_line,last_line:D[D.length-1].last_line,first_column:D[D.length-(de||1)].first_column,last_column:D[D.length-1].last_column},re&&(Ee._$.range=[D[D.length-(de||1)].range[0],D[D.length-1].range[1]]),pe=this.performAction.apply(Ee,[P,B,$,U.yy,ae[1],V,D].concat(q)),typeof pe<"u")return pe;de&&(N=N.slice(0,-1*de*2),V=V.slice(0,-1*de),D=D.slice(0,-1*de)),N.push(this.productions_[ae[1]][0]),V.push(Ee.$),D.push(Ee._$),be=O[N[N.length-2]][N[N.length-1]],N.push(be);break;case 3:return!0}}return!0},"parse")},L=function(){var I={EOF:1,parseError:S(function(F,N){if(this.yy.parser)this.yy.parser.parseError(F,N);else throw new Error(F)},"parseError"),setInput:S(function(M,F){return this.yy=F||this.yy||{},this._input=M,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var M=this._input[0];this.yytext+=M,this.yyleng++,this.offset++,this.match+=M,this.matched+=M;var F=M.match(/(?:\r\n?|\n).*/g);return F?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),M},"input"),unput:S(function(M){var F=M.length,N=M.split(/(?:\r\n?|\n)/g);this._input=M+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-F),this.offset-=F;var z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),N.length-1&&(this.yylineno-=N.length-1);var V=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:N?(N.length===z.length?this.yylloc.first_column:0)+z[z.length-N.length].length-N[0].length:this.yylloc.first_column-F},this.options.ranges&&(this.yylloc.range=[V[0],V[0]+this.yyleng-F]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(M){this.unput(this.match.slice(M))},"less"),pastInput:S(function(){var M=this.matched.substr(0,this.matched.length-this.match.length);return(M.length>20?"...":"")+M.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var M=this.match;return M.length<20&&(M+=this._input.substr(0,20-M.length)),(M.substr(0,20)+(M.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var M=this.pastInput(),F=new Array(M.length+1).join("-");return M+this.upcomingInput()+`
`+F+"^"},"showPosition"),test_match:S(function(M,F){var N,z,V;if(this.options.backtrack_lexer&&(V={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(V.yylloc.range=this.yylloc.range.slice(0))),z=M[0].match(/(?:\r\n?|\n).*/g),z&&(this.yylineno+=z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:z?z[z.length-1].length-z[z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+M[0].length},this.yytext+=M[0],this.match+=M[0],this.matches=M,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(M[0].length),this.matched+=M[0],N=this.performAction.call(this,this.yy,this,F,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),N)return N;if(this._backtrack){for(var D in V)this[D]=V[D];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var M,F,N,z;this._more||(this.yytext="",this.match="");for(var V=this._currentRules(),D=0;D<V.length;D++)if(N=this._input.match(this.rules[V[D]]),N&&(!F||N[0].length>F[0].length)){if(F=N,z=D,this.options.backtrack_lexer){if(M=this.test_match(N,V[D]),M!==!1)return M;if(this._backtrack){F=!1;continue}else return!1}else if(!this.options.flex)break}return F?(M=this.test_match(F,V[z]),M!==!1?M:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var F=this.next();return F||this.lex()},"lex"),begin:S(function(F){this.conditionStack.push(F)},"begin"),popState:S(function(){var F=this.conditionStack.length-1;return F>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function(F){return F=this.conditionStack.length-1-Math.abs(F||0),F>=0?this.conditionStack[F]:"INITIAL"},"topState"),pushState:S(function(F){this.begin(F)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:S(function(F,N,z,V){switch(z){case 0:return this.begin("acc_title"),22;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),24;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;case 14:return 36;case 15:break;case 16:return 37;case 17:return 34;case 18:return 34;case 19:return 38;case 20:break;case 21:return this.popState(),17;case 22:return N.yytext[0];case 23:return 18;case 24:return 19;case 25:return 41;case 26:return 43;case 27:return 43;case 28:return 43;case 29:return 41;case 30:return 41;case 31:return 42;case 32:return 42;case 33:return 42;case 34:return 42;case 35:return 42;case 36:return 43;case 37:return 42;case 38:return 43;case 39:return 44;case 40:return 44;case 41:return 44;case 42:return 44;case 43:return 41;case 44:return 42;case 45:return 43;case 46:return 45;case 47:return 46;case 48:return 47;case 49:return 47;case 50:return 46;case 51:return 46;case 52:return 46;case 53:return 27;case 54:return N.yytext[0];case 55:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};return I}();C.lexer=L;function _(){this.yy={}}return S(_,"Parser"),_.prototype=C,C.Parser=_,new _}();U9.parser=U9;var WPe=U9,Pd=new Map,PN=[],qPe={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},YPe={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},Tie=S(function(t,e=void 0){return Pd.has(t)?!Pd.get(t).alias&&e&&(Pd.get(t).alias=e,he.info(`Add alias '${e}' to entity '${t}'`)):(Pd.set(t,{attributes:[],alias:e}),he.info("Added new entity :",t)),Pd.get(t)},"addEntity"),XPe=S(()=>Pd,"getEntities"),jPe=S(function(t,e){let r=Tie(t),n;for(n=e.length-1;n>=0;n--)r.attributes.push(e[n]),he.debug("Added attribute ",e[n].attributeName)},"addAttributes"),KPe=S(function(t,e,r,n){let i={entityA:t,roleA:e,entityB:r,relSpec:n};PN.push(i),he.debug("Added new relationship :",i)},"addRelationship"),QPe=S(()=>PN,"getRelationships"),ZPe=S(function(){Pd=new Map,PN=[],ka()},"clear"),JPe={Cardinality:qPe,Identification:YPe,getConfig:S(()=>Ve().er,"getConfig"),addEntity:Tie,addAttributes:jPe,getEntities:XPe,addRelationship:KPe,getRelationships:QPe,clear:ZPe,setAccTitle:Sa,getAccTitle:Wa,setAccDescription:qa,getAccDescription:Ya,setDiagramTitle:Us,getDiagramTitle:Xa},Ol={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},eBe=S(function(t,e){let r;t.append("defs").append("marker").attr("id",Ol.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",Ol.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",Ol.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",Ol.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),r=t.append("defs").append("marker").attr("id",Ol.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),r=t.append("defs").append("marker").attr("id",Ol.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",Ol.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",Ol.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),r=t.append("defs").append("marker").attr("id",Ol.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),r=t.append("defs").append("marker").attr("id",Ol.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"insertMarkers"),Fl={ERMarkers:Ol,insertMarkers:eBe},tBe=/[^\dA-Za-z](\W)*/g,Ki={},D2=new Map,rBe=S(function(t){const e=Object.keys(t);for(const r of e)Ki[r]=t[r]},"setConf"),nBe=S((t,e,r)=>{const n=Ki.entityPadding/3,i=Ki.entityPadding/3,a=Ki.fontSize*.85,s=e.node().getBBox(),o=[];let l=!1,u=!1,h=0,f=0,d=0,p=0,v=s.height+n*2,m=1;r.forEach(k=>{k.attributeKeyTypeList!==void 0&&k.attributeKeyTypeList.length>0&&(l=!0),k.attributeComment!==void 0&&(u=!0)}),r.forEach(k=>{const E=`${e.node().id}-attr-${m}`;let C=0;const L=_y(k.attributeType),_=t.append("text").classed("er entityLabel",!0).attr("id",`${E}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Ve().fontFamily).style("font-size",a+"px").text(L),I=t.append("text").classed("er entityLabel",!0).attr("id",`${E}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Ve().fontFamily).style("font-size",a+"px").text(k.attributeName),M={};M.tn=_,M.nn=I;const F=_.node().getBBox(),N=I.node().getBBox();if(h=Math.max(h,F.width),f=Math.max(f,N.width),C=Math.max(F.height,N.height),l){const z=k.attributeKeyTypeList!==void 0?k.attributeKeyTypeList.join(","):"",V=t.append("text").classed("er entityLabel",!0).attr("id",`${E}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Ve().fontFamily).style("font-size",a+"px").text(z);M.kn=V;const D=V.node().getBBox();d=Math.max(d,D.width),C=Math.max(C,D.height)}if(u){const z=t.append("text").classed("er entityLabel",!0).attr("id",`${E}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Ve().fontFamily).style("font-size",a+"px").text(k.attributeComment||"");M.cn=z;const V=z.node().getBBox();p=Math.max(p,V.width),C=Math.max(C,V.height)}M.height=C,o.push(M),v+=C+n*2,m+=1});let x=4;l&&(x+=2),u&&(x+=2);const y=h+f+d+p,w={width:Math.max(Ki.minEntityWidth,Math.max(s.width+Ki.entityPadding*2,y+i*x)),height:r.length>0?v:Math.max(Ki.minEntityHeight,s.height+Ki.entityPadding*2)};if(r.length>0){const k=Math.max(0,(w.width-y-i*x)/(x/2));e.attr("transform","translate("+w.width/2+","+(n+s.height/2)+")");let E=s.height+n*2,C="attributeBoxOdd";o.forEach(L=>{const _=E+n+L.height/2;L.tn.attr("transform","translate("+i+","+_+")");const I=t.insert("rect","#"+L.tn.node().id).classed(`er ${C}`,!0).attr("x",0).attr("y",E).attr("width",h+i*2+k).attr("height",L.height+n*2),M=parseFloat(I.attr("x"))+parseFloat(I.attr("width"));L.nn.attr("transform","translate("+(M+i)+","+_+")");const F=t.insert("rect","#"+L.nn.node().id).classed(`er ${C}`,!0).attr("x",M).attr("y",E).attr("width",f+i*2+k).attr("height",L.height+n*2);let N=parseFloat(F.attr("x"))+parseFloat(F.attr("width"));if(l){L.kn.attr("transform","translate("+(N+i)+","+_+")");const z=t.insert("rect","#"+L.kn.node().id).classed(`er ${C}`,!0).attr("x",N).attr("y",E).attr("width",d+i*2+k).attr("height",L.height+n*2);N=parseFloat(z.attr("x"))+parseFloat(z.attr("width"))}u&&(L.cn.attr("transform","translate("+(N+i)+","+_+")"),t.insert("rect","#"+L.cn.node().id).classed(`er ${C}`,"true").attr("x",N).attr("y",E).attr("width",p+i*2+k).attr("height",L.height+n*2)),E+=L.height+n*2,C=C==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else w.height=Math.max(Ki.minEntityHeight,v),e.attr("transform","translate("+w.width/2+","+w.height/2+")");return w},"drawAttributes"),iBe=S(function(t,e,r){const n=[...e.keys()];let i;return n.forEach(function(a){const s=Aie(a,"entity");D2.set(a,s);const o=t.append("g").attr("id",s);i=i===void 0?s:i;const l="text-"+s,u=o.append("text").classed("er entityLabel",!0).attr("id",l).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",Ve().fontFamily).style("font-size",Ki.fontSize+"px").text(e.get(a).alias??a),{width:h,height:f}=nBe(o,u,e.get(a).attributes),p=o.insert("rect","#"+l).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",h).attr("height",f).node().getBBox();r.setNode(s,{width:p.width,height:p.height,shape:"rect",id:s})}),i},"drawEntities"),aBe=S(function(t,e){e.nodes().forEach(function(r){r!==void 0&&e.node(r)!==void 0&&t.select("#"+r).attr("transform","translate("+(e.node(r).x-e.node(r).width/2)+","+(e.node(r).y-e.node(r).height/2)+" )")})},"adjustEntities"),Cie=S(function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")},"getEdgeName"),sBe=S(function(t,e){return t.forEach(function(r){e.setEdge(D2.get(r.entityA),D2.get(r.entityB),{relationship:r},Cie(r))}),t},"addRelationships"),CV=0,oBe=S(function(t,e,r,n,i){CV++;const a=r.edge(D2.get(e.entityA),D2.get(e.entityB),Cie(e)),s=_f().x(function(m){return m.x}).y(function(m){return m.y}).curve(j1),o=t.insert("path","#"+n).classed("er relationshipLine",!0).attr("d",s(a.points)).style("stroke",Ki.stroke).style("fill","none");e.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&o.attr("stroke-dasharray","8,8");let l="";switch(Ki.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),e.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:o.attr("marker-end","url("+l+"#"+Fl.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:o.attr("marker-end","url("+l+"#"+Fl.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:o.attr("marker-end","url("+l+"#"+Fl.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:o.attr("marker-end","url("+l+"#"+Fl.ERMarkers.ONLY_ONE_END+")");break;case i.db.Cardinality.MD_PARENT:o.attr("marker-end","url("+l+"#"+Fl.ERMarkers.MD_PARENT_END+")");break}switch(e.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:o.attr("marker-start","url("+l+"#"+Fl.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:o.attr("marker-start","url("+l+"#"+Fl.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:o.attr("marker-start","url("+l+"#"+Fl.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:o.attr("marker-start","url("+l+"#"+Fl.ERMarkers.ONLY_ONE_START+")");break;case i.db.Cardinality.MD_PARENT:o.attr("marker-start","url("+l+"#"+Fl.ERMarkers.MD_PARENT_START+")");break}const u=o.node().getTotalLength(),h=o.node().getPointAtLength(u*.5),f="rel"+CV,d=e.roleA.split(/<br ?\/>/g),p=t.append("text").classed("er relationshipLabel",!0).attr("id",f).attr("x",h.x).attr("y",h.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",Ve().fontFamily).style("font-size",Ki.fontSize+"px");if(d.length==1)p.text(e.roleA);else{const m=-(d.length-1)*.5;d.forEach((x,y)=>{p.append("tspan").attr("x",h.x).attr("dy",`${y===0?m:1}em`).text(x)})}const v=p.node().getBBox();t.insert("rect","#"+f).classed("er relationshipLabelBox",!0).attr("x",h.x-v.width/2).attr("y",h.y-v.height/2).attr("width",v.width).attr("height",v.height)},"drawRelationshipFromLayout"),lBe=S(function(t,e,r,n){Ki=Ve().er,he.info("Drawing ER diagram");const i=Ve().securityLevel;let a;i==="sandbox"&&(a=yt("#i"+e));const o=yt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);Fl.insertMarkers(o,Ki);let l;l=new ca({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:Ki.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const u=iBe(o,n.db.getEntities(),l),h=sBe(n.db.getRelationships(),l);lv(l),aBe(o,l),h.forEach(function(m){oBe(o,m,l,u,n)});const f=Ki.diagramPadding;Dr.insertTitle(o,"entityTitleText",Ki.titleTopMargin,n.db.getDiagramTitle());const d=o.node().getBBox(),p=d.width+f*2,v=d.height+f*2;Ga(o,v,p,Ki.useMaxWidth),o.attr("viewBox",`${d.x-f} ${d.y-f} ${p} ${v}`)},"draw"),uBe="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function Aie(t="",e=""){const r=t.replace(tBe,"");return`${G9(e)}${G9(r)}${GPe(t,uBe)}`}S(Aie,"generateId");function G9(t=""){return t.length>0?`${t}-`:""}S(G9,"strWithHyphen");var cBe={setConf:rBe,draw:lBe},hBe=S(t=>`
  .entityBox {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${t.attributeBackgroundColorOdd};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${t.attributeBackgroundColorEven};
    stroke: ${t.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${t.tertiaryColor};
    opacity: 0.7;
    background-color: ${t.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${t.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${t.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${t.lineColor} !important;
    stroke-width: 1;
  }
  
`,"getStyles"),fBe=hBe,dBe={parser:WPe,db:JPe,renderer:cBe,styles:fBe};const pBe=Object.freeze(Object.defineProperty({__proto__:null,diagram:dBe},Symbol.toStringTag,{value:"Module"}));function yb(t,e){var r,n,i;t.accDescr&&((r=e.setAccDescription)==null||r.call(e,t.accDescr)),t.accTitle&&((n=e.setAccTitle)==null||n.call(e,t.accTitle)),t.title&&((i=e.setDiagramTitle)==null||i.call(e,t.title))}S(yb,"populateCommonDb");var dx,BN=(dx=class{constructor(e){this.init=e,this.records=this.init()}reset(){this.records=this.init()}},S(dx,"ImperativeState"),dx);function cs(t){return typeof t=="object"&&t!==null&&typeof t.$type=="string"}function Bu(t){return typeof t=="object"&&t!==null&&typeof t.$refText=="string"}function gBe(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.type=="string"&&typeof t.path=="string"}function Nw(t){return typeof t=="object"&&t!==null&&cs(t.container)&&Bu(t.reference)&&typeof t.message=="string"}class _ie{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,r){return cs(e)&&this.isSubtype(e.$type,r)}isSubtype(e,r){if(e===r)return!0;let n=this.subtypes[e];n||(n=this.subtypes[e]={});const i=n[r];if(i!==void 0)return i;{const a=this.computeIsSubtype(e,r);return n[r]=a,a}}getAllSubTypes(e){const r=this.allSubtypes[e];if(r)return r;{const n=this.getAllTypes(),i=[];for(const a of n)this.isSubtype(a,e)&&i.push(a);return this.allSubtypes[e]=i,i}}}function T1(t){return typeof t=="object"&&t!==null&&Array.isArray(t.content)}function Lie(t){return typeof t=="object"&&t!==null&&typeof t.tokenType=="object"}function Die(t){return T1(t)&&typeof t.fullText=="string"}class ss{constructor(e,r){this.startFn=e,this.nextFn=r}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const e=this.iterator();let r=0,n=e.next();for(;!n.done;)r++,n=e.next();return r}toArray(){const e=[],r=this.iterator();let n;do n=r.next(),n.value!==void 0&&e.push(n.value);while(!n.done);return e}toSet(){return new Set(this)}toMap(e,r){const n=this.map(i=>[e?e(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(e){const r=e[Symbol.iterator]();return new ss(()=>({first:this.startFn(),firstDone:!1}),n=>{let i;if(!n.firstDone){do if(i=this.nextFn(n.first),!i.done)return i;while(!i.done);n.firstDone=!0}do if(i=r.next(),!i.done)return i;while(!i.done);return ol})}join(e=","){const r=this.iterator();let n="",i,a=!1;do i=r.next(),i.done||(a&&(n+=e),n+=vBe(i.value)),a=!0;while(!i.done);return n}indexOf(e,r=0){const n=this.iterator();let i=0,a=n.next();for(;!a.done;){if(i>=r&&a.value===e)return i;a=n.next(),i++}return-1}every(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(!e(n.value))return!1;n=r.next()}return!0}some(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(e(n.value))return!0;n=r.next()}return!1}forEach(e){const r=this.iterator();let n=0,i=r.next();for(;!i.done;)e(i.value,n),i=r.next(),n++}map(e){return new ss(this.startFn,r=>{const{done:n,value:i}=this.nextFn(r);return n?ol:{done:!1,value:e(i)}})}filter(e){return new ss(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&e(n.value))return n;while(!n.done);return ol})}nonNullable(){return this.filter(e=>e!=null)}reduce(e,r){const n=this.iterator();let i=r,a=n.next();for(;!a.done;)i===void 0?i=a.value:i=e(i,a.value),a=n.next();return i}reduceRight(e,r){return this.recursiveReduce(this.iterator(),e,r)}recursiveReduce(e,r,n){const i=e.next();if(i.done)return n;const a=this.recursiveReduce(e,r,n);return a===void 0?i.value:r(a,i.value)}find(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(e(n.value))return n.value;n=r.next()}}findIndex(e){const r=this.iterator();let n=0,i=r.next();for(;!i.done;){if(e(i.value))return n;i=r.next(),n++}return-1}includes(e){const r=this.iterator();let n=r.next();for(;!n.done;){if(n.value===e)return!0;n=r.next()}return!1}flatMap(e){return new ss(()=>({this:this.startFn()}),r=>{do{if(r.iterator){const a=r.iterator.next();if(a.done)r.iterator=void 0;else return a}const{done:n,value:i}=this.nextFn(r.this);if(!n){const a=e(i);if(Bk(a))r.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}}while(r.iterator);return ol})}flat(e){if(e===void 0&&(e=1),e<=0)return this;const r=e>1?this.flat(e-1):this;return new ss(()=>({this:r.startFn()}),n=>{do{if(n.iterator){const s=n.iterator.next();if(s.done)n.iterator=void 0;else return s}const{done:i,value:a}=r.nextFn(n.this);if(!i)if(Bk(a))n.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}while(n.iterator);return ol})}head(){const r=this.iterator().next();if(!r.done)return r.value}tail(e=1){return new ss(()=>{const r=this.startFn();for(let n=0;n<e;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(e){return new ss(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>e?ol:this.nextFn(r.state)))}distinct(e){const r=new Set;return this.filter(n=>{const i=e?e(n):n;return r.has(i)?!1:(r.add(i),!0)})}exclude(e,r){const n=new Set;for(const i of e){const a=r?r(i):i;n.add(a)}return this.filter(i=>{const a=r?r(i):i;return!n.has(a)})}}function vBe(t){return typeof t=="string"?t:typeof t>"u"?"undefined":typeof t.toString=="function"?t.toString():Object.prototype.toString.call(t)}function Bk(t){return!!t&&typeof t[Symbol.iterator]=="function"}const mBe=new ss(()=>{},()=>ol),ol=Object.freeze({done:!0,value:void 0});function Pa(...t){if(t.length===1){const e=t[0];if(e instanceof ss)return e;if(Bk(e))return new ss(()=>e[Symbol.iterator](),r=>r.next());if(typeof e.length=="number")return new ss(()=>({index:0}),r=>r.index<e.length?{done:!1,value:e[r.index++]}:ol)}return t.length>1?new ss(()=>({collIndex:0,arrIndex:0}),e=>{do{if(e.iterator){const r=e.iterator.next();if(!r.done)return r;e.iterator=void 0}if(e.array){if(e.arrIndex<e.array.length)return{done:!1,value:e.array[e.arrIndex++]};e.array=void 0,e.arrIndex=0}if(e.collIndex<t.length){const r=t[e.collIndex++];Bk(r)?e.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(e.array=r)}}while(e.iterator||e.array||e.collIndex<t.length);return ol}):mBe}class $k extends ss{constructor(e,r,n){super(()=>({iterators:n!=null&&n.includeRoot?[[e][Symbol.iterator]()]:[r(e)[Symbol.iterator]()],pruned:!1}),i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){const s=i.iterators[i.iterators.length-1].next();if(s.done)i.iterators.pop();else return i.iterators.push(r(s.value)[Symbol.iterator]()),s}return ol})}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}}var W9;(function(t){function e(a){return a.reduce((s,o)=>s+o,0)}t.sum=e;function r(a){return a.reduce((s,o)=>s*o,0)}t.product=r;function n(a){return a.reduce((s,o)=>Math.min(s,o))}t.min=n;function i(a){return a.reduce((s,o)=>Math.max(s,o))}t.max=i})(W9||(W9={}));function q9(t){return new $k(t,e=>T1(e)?e.content:[],{includeRoot:!0})}function yBe(t,e){for(;t.container;)if(t=t.container,t===e)return!0;return!1}function Y9(t){return{start:{character:t.startColumn-1,line:t.startLine-1},end:{character:t.endColumn,line:t.endLine-1}}}function zk(t){if(!t)return;const{offset:e,end:r,range:n}=t;return{range:n,offset:e,end:r,length:r-e}}var jh;(function(t){t[t.Before=0]="Before",t[t.After=1]="After",t[t.OverlapFront=2]="OverlapFront",t[t.OverlapBack=3]="OverlapBack",t[t.Inside=4]="Inside"})(jh||(jh={}));function xBe(t,e){if(t.end.line<e.start.line||t.end.line===e.start.line&&t.end.character<t.start.character)return jh.Before;if(t.start.line>e.end.line||t.start.line===e.end.line&&t.start.character>e.end.character)return jh.After;const r=t.start.line>e.start.line||t.start.line===e.start.line&&t.start.character>=e.start.character,n=t.end.line<e.end.line||t.end.line===e.end.line&&t.end.character<=e.end.character;return r&&n?jh.Inside:r?jh.OverlapBack:jh.OverlapFront}function bBe(t,e){return xBe(t,e)>jh.After}const wBe=/^[\w\p{L}]$/u;function kBe(t,e){if(t){const r=SBe(t,!0);if(r&&AV(r,e))return r;if(Die(t)){const n=t.content.findIndex(i=>!i.hidden);for(let i=n-1;i>=0;i--){const a=t.content[i];if(AV(a,e))return a}}}}function AV(t,e){return Lie(t)&&e.includes(t.tokenType.name)}function SBe(t,e=!0){for(;t.container;){const r=t.container;let n=r.content.indexOf(t);for(;n>0;){n--;const i=r.content[n];if(e||!i.hidden)return i}t=r}}class Rie extends Error{constructor(e,r){super(e?`${r} at ${e.range.start.line}:${e.range.start.character}`:r)}}function _T(t){throw new Error("Error! The input value was not handled.")}const M8="AbstractRule",N8="AbstractType",_V="Condition",EBe="TypeDefinition",LV="ValueLiteral",Mie="AbstractElement";function TBe(t){return vn.isInstance(t,Mie)}const CBe="ArrayLiteral",ABe="ArrayType",Nie="BooleanLiteral";function _Be(t){return vn.isInstance(t,Nie)}const Iie="Conjunction";function LBe(t){return vn.isInstance(t,Iie)}const Oie="Disjunction";function DBe(t){return vn.isInstance(t,Oie)}const RBe="Grammar",Fie="InferredType";function Pie(t){return vn.isInstance(t,Fie)}const Bie="Interface";function $ie(t){return vn.isInstance(t,Bie)}const zie="Negation";function MBe(t){return vn.isInstance(t,zie)}const NBe="NumberLiteral",IBe="Parameter",Hie="ParameterReference";function OBe(t){return vn.isInstance(t,Hie)}const Vie="ParserRule";function Al(t){return vn.isInstance(t,Vie)}const FBe="ReferenceType",PBe="ReturnType";function BBe(t){return vn.isInstance(t,PBe)}const Uie="SimpleType";function $Be(t){return vn.isInstance(t,Uie)}const zBe="StringLiteral",X9="TerminalRule";function hp(t){return vn.isInstance(t,X9)}const Gie="Type";function Wie(t){return vn.isInstance(t,Gie)}const HBe="UnionType",qie="Action";function LT(t){return vn.isInstance(t,qie)}const Yie="Alternatives";function Xie(t){return vn.isInstance(t,Yie)}const jie="Assignment";function D0(t){return vn.isInstance(t,jie)}const Kie="CharacterRange";function VBe(t){return vn.isInstance(t,Kie)}const Qie="CrossReference";function $N(t){return vn.isInstance(t,Qie)}const Zie="EndOfFile";function UBe(t){return vn.isInstance(t,Zie)}const Jie="Group";function zN(t){return vn.isInstance(t,Jie)}const eae="Keyword";function R0(t){return vn.isInstance(t,eae)}const tae="NegatedToken";function GBe(t){return vn.isInstance(t,tae)}const rae="RegexToken";function WBe(t){return vn.isInstance(t,rae)}const nae="RuleCall";function M0(t){return vn.isInstance(t,nae)}const iae="TerminalAlternatives";function qBe(t){return vn.isInstance(t,iae)}const aae="TerminalGroup";function YBe(t){return vn.isInstance(t,aae)}const sae="TerminalRuleCall";function oae(t){return vn.isInstance(t,sae)}const lae="UnorderedGroup";function uae(t){return vn.isInstance(t,lae)}const cae="UntilToken";function XBe(t){return vn.isInstance(t,cae)}const hae="Wildcard";function jBe(t){return vn.isInstance(t,hae)}class fae extends _ie{getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayLiteral","ArrayType","Assignment","BooleanLiteral","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","NamedArgument","NegatedToken","Negation","NumberLiteral","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","StringLiteral","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","ValueLiteral","Wildcard"]}computeIsSubtype(e,r){switch(e){case qie:case Yie:case jie:case Kie:case Qie:case Zie:case Jie:case eae:case tae:case rae:case nae:case iae:case aae:case sae:case lae:case cae:case hae:return this.isSubtype(Mie,r);case CBe:case NBe:case zBe:return this.isSubtype(LV,r);case ABe:case FBe:case Uie:case HBe:return this.isSubtype(EBe,r);case Nie:return this.isSubtype(_V,r)||this.isSubtype(LV,r);case Iie:case Oie:case zie:case Hie:return this.isSubtype(_V,r);case Fie:case Bie:case Gie:return this.isSubtype(N8,r);case Vie:return this.isSubtype(M8,r)||this.isSubtype(N8,r);case X9:return this.isSubtype(M8,r);default:return!1}}getReferenceType(e){const r=`${e.container.$type}:${e.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return N8;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return M8;case"Grammar:usedGrammars":return RBe;case"NamedArgument:parameter":case"ParameterReference:parameter":return IBe;case"TerminalRuleCall:rule":return X9;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case"AbstractElement":return{name:"AbstractElement",properties:[{name:"cardinality"},{name:"lookahead"}]};case"ArrayLiteral":return{name:"ArrayLiteral",properties:[{name:"elements",defaultValue:[]}]};case"ArrayType":return{name:"ArrayType",properties:[{name:"elementType"}]};case"BooleanLiteral":return{name:"BooleanLiteral",properties:[{name:"true",defaultValue:!1}]};case"Conjunction":return{name:"Conjunction",properties:[{name:"left"},{name:"right"}]};case"Disjunction":return{name:"Disjunction",properties:[{name:"left"},{name:"right"}]};case"Grammar":return{name:"Grammar",properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case"GrammarImport":return{name:"GrammarImport",properties:[{name:"path"}]};case"InferredType":return{name:"InferredType",properties:[{name:"name"}]};case"Interface":return{name:"Interface",properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case"NamedArgument":return{name:"NamedArgument",properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case"Negation":return{name:"Negation",properties:[{name:"value"}]};case"NumberLiteral":return{name:"NumberLiteral",properties:[{name:"value"}]};case"Parameter":return{name:"Parameter",properties:[{name:"name"}]};case"ParameterReference":return{name:"ParameterReference",properties:[{name:"parameter"}]};case"ParserRule":return{name:"ParserRule",properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case"ReferenceType":return{name:"ReferenceType",properties:[{name:"referenceType"}]};case"ReturnType":return{name:"ReturnType",properties:[{name:"name"}]};case"SimpleType":return{name:"SimpleType",properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case"StringLiteral":return{name:"StringLiteral",properties:[{name:"value"}]};case"TerminalRule":return{name:"TerminalRule",properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case"Type":return{name:"Type",properties:[{name:"name"},{name:"type"}]};case"TypeAttribute":return{name:"TypeAttribute",properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case"UnionType":return{name:"UnionType",properties:[{name:"types",defaultValue:[]}]};case"Action":return{name:"Action",properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case"Alternatives":return{name:"Alternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"Assignment":return{name:"Assignment",properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case"CharacterRange":return{name:"CharacterRange",properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case"CrossReference":return{name:"CrossReference",properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case"EndOfFile":return{name:"EndOfFile",properties:[{name:"cardinality"},{name:"lookahead"}]};case"Group":return{name:"Group",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case"Keyword":return{name:"Keyword",properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case"NegatedToken":return{name:"NegatedToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"RegexToken":return{name:"RegexToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case"RuleCall":return{name:"RuleCall",properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalGroup":return{name:"TerminalGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalRuleCall":return{name:"TerminalRuleCall",properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"UnorderedGroup":return{name:"UnorderedGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"UntilToken":return{name:"UntilToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"Wildcard":return{name:"Wildcard",properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}}const vn=new fae;function KBe(t){for(const[e,r]of Object.entries(t))e.startsWith("$")||(Array.isArray(r)?r.forEach((n,i)=>{cs(n)&&(n.$container=t,n.$containerProperty=e,n.$containerIndex=i)}):cs(r)&&(r.$container=t,r.$containerProperty=e))}function DT(t,e){let r=t;for(;r;){if(e(r))return r;r=r.$container}}function ju(t){const r=QBe(t).$document;if(!r)throw new Error("AST node has no document.");return r}function QBe(t){for(;t.$container;)t=t.$container;return t}function HN(t,e){if(!t)throw new Error("Node must be an AstNode.");const r=e==null?void 0:e.range;return new ss(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){const i=n.keys[n.keyIndex];if(!i.startsWith("$")){const a=t[i];if(cs(a)){if(n.keyIndex++,j9(a,r))return{done:!1,value:a}}else if(Array.isArray(a)){for(;n.arrayIndex<a.length;){const s=n.arrayIndex++,o=a[s];if(cs(o)&&j9(o,r))return{done:!1,value:o}}n.arrayIndex=0}}n.keyIndex++}return ol})}function xb(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new $k(t,r=>HN(r,e))}function Pg(t,e){if(t){if(e!=null&&e.range&&!j9(t,e.range))return new $k(t,()=>[])}else throw new Error("Root node must be an AstNode.");return new $k(t,r=>HN(r,e),{includeRoot:!0})}function j9(t,e){var r;if(!e)return!0;const n=(r=t.$cstNode)===null||r===void 0?void 0:r.range;return n?bBe(n,e):!1}function dae(t){return new ss(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),e=>{for(;e.keyIndex<e.keys.length;){const r=e.keys[e.keyIndex];if(!r.startsWith("$")){const n=t[r];if(Bu(n))return e.keyIndex++,{done:!1,value:{reference:n,container:t,property:r}};if(Array.isArray(n)){for(;e.arrayIndex<n.length;){const i=e.arrayIndex++,a=n[i];if(Bu(a))return{done:!1,value:{reference:a,container:t,property:r,index:i}}}e.arrayIndex=0}}e.keyIndex++}return ol})}function ZBe(t,e){const r=t.getTypeMetaData(e.$type),n=e;for(const i of r.properties)i.defaultValue!==void 0&&n[i.name]===void 0&&(n[i.name]=pae(i.defaultValue))}function pae(t){return Array.isArray(t)?[...t.map(pae)]:t}function _r(t){return t.charCodeAt(0)}function I8(t,e){Array.isArray(t)?t.forEach(function(r){e.push(r)}):e.push(t)}function Nm(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function qp(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function JBe(){throw Error("Internal Error - Should never get here!")}function DV(t){return t.type==="Character"}const Hk=[];for(let t=_r("0");t<=_r("9");t++)Hk.push(t);const Vk=[_r("_")].concat(Hk);for(let t=_r("a");t<=_r("z");t++)Vk.push(t);for(let t=_r("A");t<=_r("Z");t++)Vk.push(t);const RV=[_r(" "),_r("\f"),_r(`
`),_r("\r"),_r("	"),_r("\v"),_r("	"),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r(" "),_r("\u2028"),_r("\u2029"),_r(" "),_r(" "),_r("　"),_r("\uFEFF")],e$e=/[0-9a-fA-F]/,E3=/[0-9]/,t$e=/[1-9]/;class gae{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const r=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Nm(n,"global");break;case"i":Nm(n,"ignoreCase");break;case"m":Nm(n,"multiLine");break;case"u":Nm(n,"unicode");break;case"y":Nm(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){const e=[],r=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(r)}}alternative(){const e=[],r=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}qp(r);const n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(e)}}return JBe()}quantifier(e=!1){let r;const n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:i,atMost:i};break;case",":let a;this.isDigit()?(a=this.integerIncludingZero(),r={atLeast:i,atMost:a}):r={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&r===void 0)return;qp(r);break}if(!(e===!0&&r===void 0)&&qp(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r}atom(){let e;const r=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),qp(e))return e.loc=this.loc(r),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[_r(`
`),_r("\r"),_r("\u2028"),_r("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,r=!1;switch(this.popChar()){case"d":e=Hk;break;case"D":e=Hk,r=!0;break;case"s":e=RV;break;case"S":e=RV,r=!0;break;case"w":e=Vk;break;case"W":e=Vk,r=!0;break}if(qp(e))return{type:"Set",value:e,complement:r}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=_r("\f");break;case"n":e=_r(`
`);break;case"r":e=_r("\r");break;case"t":e=_r("	");break;case"v":e=_r("\v");break}if(qp(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:_r("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:_r(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:_r(e)}}}characterClass(){const e=[];let r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){const n=this.classAtom();if(n.type,DV(n)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,DV(i)){if(i.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:i.value})}else I8(n.value,e),e.push(_r("-")),I8(i.value,e)}else I8(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:r,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:_r("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const r=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:e,value:r};return e&&(n.idx=this.groupIdx),n}positiveInteger(){let e=this.popChar();if(t$e.test(e)===!1)throw Error("Expecting a positive integer");for(;E3.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(E3.test(e)===!1)throw Error("Expecting an integer");for(;E3.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:_r(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return E3.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let r="";for(let i=0;i<e;i++){const a=this.popChar();if(e$e.test(a)===!1)throw Error("Expecting a HexDecimal digits");r+=a}return{type:"Character",value:parseInt(r,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class RT{visitChildren(e){for(const r in e){const n=e[r];e.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}const r$e=/\r?\n/gm,n$e=new gae;class i$e extends RT{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){const r=String.fromCharCode(e.value);if(!this.multiline&&r===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const n=MT(r);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitSet(e){if(!this.multiline){const r=this.regex.substring(e.loc.begin,e.loc.end),n=new RegExp(r);this.multiline=!!`
`.match(n)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const r=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}}const O8=new i$e;function a$e(t){try{return typeof t=="string"&&(t=new RegExp(t)),t=t.toString(),O8.reset(t),O8.visit(n$e.pattern(t)),O8.multiline}catch{return!1}}function MV(t){return(typeof t=="string"?new RegExp(t):t).test(" ")}function MT(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function s$e(t){return Array.prototype.map.call(t,e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:MT(e)).join("")}function o$e(t,e){const r=l$e(t),n=e.match(r);return!!n&&n[0].length>0}function l$e(t){typeof t=="string"&&(t=new RegExp(t));const e=t,r=t.source;let n=0;function i(){let a="",s;function o(u){a+=r.substr(n,u),n+=u}function l(u){a+="(?:"+r.substr(n,u)+"|$)",n+=u}for(;n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":l(3);break;case"x":l(4);break;case"u":e.unicode?r[n+2]==="{"?l(r.indexOf("}",n)-n+1):l(6):l(2);break;case"p":case"P":e.unicode?l(r.indexOf("}",n)-n+1):l(2);break;case"k":l(r.indexOf(">",n)-n+1);break;default:l(2);break}break;case"[":s=/\[(?:\\.|.)*?\]/g,s.lastIndex=n,s=s.exec(r)||[],l(s[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":s=/\{\d+,?\d*\}/g,s.lastIndex=n,s=s.exec(r),s?o(s[0].length):l(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":a+="(?:",n+=3,a+=i()+"|$)";break;case"=":a+="(?=",n+=3,a+=i()+")";break;case"!":s=n,n+=3,i(),a+=r.substr(s,n-s);break;case"<":switch(r[n+3]){case"=":case"!":s=n,n+=4,i(),a+=r.substr(s,n-s);break;default:o(r.indexOf(">",n)-n+1),a+=i()+"|$)";break}break}else o(1),a+=i()+"|$)";break;case")":return++n,a;default:l(1);break}return a}return new RegExp(i(),t.flags)}function u$e(t){return t.rules.find(e=>Al(e)&&e.entry)}function c$e(t){return t.rules.filter(e=>hp(e)&&e.hidden)}function vae(t,e){const r=new Set,n=u$e(t);if(!n)return new Set(t.rules);const i=[n].concat(c$e(t));for(const s of i)mae(s,r,e);const a=new Set;for(const s of t.rules)(r.has(s.name)||hp(s)&&s.hidden)&&a.add(s);return a}function mae(t,e,r){e.add(t.name),xb(t).forEach(n=>{if(M0(n)||r&&oae(n)){const i=n.rule.ref;i&&!e.has(i.name)&&mae(i,e,r)}})}function h$e(t){if(t.terminal)return t.terminal;if(t.type.ref){const e=xae(t.type.ref);return e==null?void 0:e.terminal}}function f$e(t){return t.hidden&&!GN(t).test(" ")}function d$e(t,e){return!t||!e?[]:VN(t,e,t.astNode,!0)}function yae(t,e,r){if(!t||!e)return;const n=VN(t,e,t.astNode,!0);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function VN(t,e,r,n){if(!n){const i=DT(t.grammarSource,D0);if(i&&i.feature===e)return[t]}return T1(t)&&t.astNode===r?t.content.flatMap(i=>VN(i,e,r,!1)):[]}function p$e(t,e,r){if(!t)return;const n=g$e(t,e,t==null?void 0:t.astNode);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function g$e(t,e,r){if(t.astNode!==r)return[];if(R0(t.grammarSource)&&t.grammarSource.value===e)return[t];const n=q9(t).iterator();let i;const a=[];do if(i=n.next(),!i.done){const s=i.value;s.astNode===r?R0(s.grammarSource)&&s.grammarSource.value===e&&a.push(s):n.prune()}while(!i.done);return a}function v$e(t){var e;const r=t.astNode;for(;r===((e=t.container)===null||e===void 0?void 0:e.astNode);){const n=DT(t.grammarSource,D0);if(n)return n;t=t.container}}function xae(t){let e=t;return Pie(e)&&(LT(e.$container)?e=e.$container.$container:Al(e.$container)?e=e.$container:_T(e.$container)),bae(t,e,new Map)}function bae(t,e,r){var n;function i(a,s){let o;return DT(a,D0)||(o=bae(s,s,r)),r.set(t,o),o}if(r.has(t))return r.get(t);r.set(t,void 0);for(const a of xb(e)){if(D0(a)&&a.feature.toLowerCase()==="name")return r.set(t,a),a;if(M0(a)&&Al(a.rule.ref))return i(a,a.rule.ref);if($Be(a)&&(!((n=a.typeRef)===null||n===void 0)&&n.ref))return i(a,a.typeRef.ref)}}function UN(t){return wae(t,new Set)}function wae(t,e){if(e.has(t))return!0;e.add(t);for(const r of xb(t))if(M0(r)){if(!r.rule.ref||Al(r.rule.ref)&&!wae(r.rule.ref,e))return!1}else{if(D0(r))return!1;if(LT(r))return!1}return!!t.definition}function kae(t){if(t.inferredType)return t.inferredType.name;if(t.dataType)return t.dataType;if(t.returnType){const e=t.returnType.ref;if(e){if(Al(e))return e.name;if($ie(e)||Wie(e))return e.name}}}function NT(t){var e;if(Al(t))return UN(t)?t.name:(e=kae(t))!==null&&e!==void 0?e:t.name;if($ie(t)||Wie(t)||BBe(t))return t.name;if(LT(t)){const r=m$e(t);if(r)return r}else if(Pie(t))return t.name;throw new Error("Cannot get name of Unknown Type")}function m$e(t){var e;if(t.inferredType)return t.inferredType.name;if(!((e=t.type)===null||e===void 0)&&e.ref)return NT(t.type.ref)}function y$e(t){var e,r,n;return hp(t)?(r=(e=t.type)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:"string":UN(t)?t.name:(n=kae(t))!==null&&n!==void 0?n:t.name}function GN(t){const e={s:!1,i:!1,u:!1},r=uv(t.definition,e),n=Object.entries(e).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(r,n)}const WN=/[\s\S]/.source;function uv(t,e){if(qBe(t))return x$e(t);if(YBe(t))return b$e(t);if(VBe(t))return S$e(t);if(oae(t)){const r=t.rule.ref;if(!r)throw new Error("Missing rule reference.");return qc(uv(r.definition),{cardinality:t.cardinality,lookahead:t.lookahead})}else{if(GBe(t))return k$e(t);if(XBe(t))return w$e(t);if(WBe(t)){const r=t.regex.lastIndexOf("/"),n=t.regex.substring(1,r),i=t.regex.substring(r+1);return e&&(e.i=i.includes("i"),e.s=i.includes("s"),e.u=i.includes("u")),qc(n,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}else{if(jBe(t))return qc(WN,{cardinality:t.cardinality,lookahead:t.lookahead});throw new Error(`Invalid terminal element: ${t==null?void 0:t.$type}`)}}}function x$e(t){return qc(t.elements.map(e=>uv(e)).join("|"),{cardinality:t.cardinality,lookahead:t.lookahead})}function b$e(t){return qc(t.elements.map(e=>uv(e)).join(""),{cardinality:t.cardinality,lookahead:t.lookahead})}function w$e(t){return qc(`${WN}*?${uv(t.terminal)}`,{cardinality:t.cardinality,lookahead:t.lookahead})}function k$e(t){return qc(`(?!${uv(t.terminal)})${WN}*?`,{cardinality:t.cardinality,lookahead:t.lookahead})}function S$e(t){return t.right?qc(`[${F8(t.left)}-${F8(t.right)}]`,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1}):qc(F8(t.left),{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}function F8(t){return MT(t.value)}function qc(t,e){var r;return(e.wrap!==!1||e.lookahead)&&(t=`(${(r=e.lookahead)!==null&&r!==void 0?r:""}${t})`),e.cardinality?`${t}${e.cardinality}`:t}function E$e(t){const e=[],r=t.Grammar;for(const n of r.rules)hp(n)&&f$e(n)&&a$e(GN(n))&&e.push(n.name);return{multilineCommentRules:e,nameRegexp:wBe}}function K9(t){console&&console.error&&console.error(`Error: ${t}`)}function Sae(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function Eae(t){const e=new Date().getTime(),r=t();return{time:new Date().getTime()-e,value:r}}function Tae(t){function e(){}e.prototype=t;const r=new e;function n(){return typeof r.bar}return n(),n(),t}function T$e(t){return C$e(t)?t.LABEL:t.name}function C$e(t){return go(t.LABEL)&&t.LABEL!==""}class ic{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),tt(this.definition,r=>{r.accept(e)})}}class $s extends ic{constructor(e){super([]),this.idx=1,Uo(this,pu(e,r=>r!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class cv extends ic{constructor(e){super(e.definition),this.orgText="",Uo(this,pu(e,r=>r!==void 0))}}class vo extends ic{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Uo(this,pu(e,r=>r!==void 0))}}let za=class extends ic{constructor(e){super(e.definition),this.idx=1,Uo(this,pu(e,r=>r!==void 0))}};class Xo extends ic{constructor(e){super(e.definition),this.idx=1,Uo(this,pu(e,r=>r!==void 0))}}class jo extends ic{constructor(e){super(e.definition),this.idx=1,Uo(this,pu(e,r=>r!==void 0))}}class mi extends ic{constructor(e){super(e.definition),this.idx=1,Uo(this,pu(e,r=>r!==void 0))}}class bo extends ic{constructor(e){super(e.definition),this.idx=1,Uo(this,pu(e,r=>r!==void 0))}}class wo extends ic{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Uo(this,pu(e,r=>r!==void 0))}}class Xn{constructor(e){this.idx=1,Uo(this,pu(e,r=>r!==void 0))}accept(e){e.visit(this)}}function A$e(t){return Ot(t,Iw)}function Iw(t){function e(r){return Ot(r,Iw)}if(t instanceof $s){const r={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return go(t.label)&&(r.label=t.label),r}else{if(t instanceof vo)return{type:"Alternative",definition:e(t.definition)};if(t instanceof za)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof Xo)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof jo)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:Iw(new Xn({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof bo)return{type:"RepetitionWithSeparator",idx:t.idx,separator:Iw(new Xn({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof mi)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof wo)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof Xn){const r={type:"Terminal",name:t.terminalType.name,label:T$e(t.terminalType),idx:t.idx};go(t.label)&&(r.terminalLabel=t.label);const n=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(r.pattern=ah(n)?n.source:n),r}else{if(t instanceof cv)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class hv{visit(e){const r=e;switch(r.constructor){case $s:return this.visitNonTerminal(r);case vo:return this.visitAlternative(r);case za:return this.visitOption(r);case Xo:return this.visitRepetitionMandatory(r);case jo:return this.visitRepetitionMandatoryWithSeparator(r);case bo:return this.visitRepetitionWithSeparator(r);case mi:return this.visitRepetition(r);case wo:return this.visitAlternation(r);case Xn:return this.visitTerminal(r);case cv:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function _$e(t){return t instanceof vo||t instanceof za||t instanceof mi||t instanceof Xo||t instanceof jo||t instanceof bo||t instanceof Xn||t instanceof cv}function Uk(t,e=[]){return t instanceof za||t instanceof mi||t instanceof bo?!0:t instanceof wo?Pne(t.definition,n=>Uk(n,e)):t instanceof $s&&Ws(e,t)?!1:t instanceof ic?(t instanceof $s&&e.push(t),ru(t.definition,n=>Uk(n,e))):!1}function L$e(t){return t instanceof wo}function Ru(t){if(t instanceof $s)return"SUBRULE";if(t instanceof za)return"OPTION";if(t instanceof wo)return"OR";if(t instanceof Xo)return"AT_LEAST_ONE";if(t instanceof jo)return"AT_LEAST_ONE_SEP";if(t instanceof bo)return"MANY_SEP";if(t instanceof mi)return"MANY";if(t instanceof Xn)return"CONSUME";throw Error("non exhaustive match")}class IT{walk(e,r=[]){tt(e.definition,(n,i)=>{const a=Ra(e.definition,i+1);if(n instanceof $s)this.walkProdRef(n,a,r);else if(n instanceof Xn)this.walkTerminal(n,a,r);else if(n instanceof vo)this.walkFlat(n,a,r);else if(n instanceof za)this.walkOption(n,a,r);else if(n instanceof Xo)this.walkAtLeastOne(n,a,r);else if(n instanceof jo)this.walkAtLeastOneSep(n,a,r);else if(n instanceof bo)this.walkManySep(n,a,r);else if(n instanceof mi)this.walkMany(n,a,r);else if(n instanceof wo)this.walkOr(n,a,r);else throw Error("non exhaustive match")})}walkTerminal(e,r,n){}walkProdRef(e,r,n){}walkFlat(e,r,n){const i=r.concat(n);this.walk(e,i)}walkOption(e,r,n){const i=r.concat(n);this.walk(e,i)}walkAtLeastOne(e,r,n){const i=[new za({definition:e.definition})].concat(r,n);this.walk(e,i)}walkAtLeastOneSep(e,r,n){const i=NV(e,r,n);this.walk(e,i)}walkMany(e,r,n){const i=[new za({definition:e.definition})].concat(r,n);this.walk(e,i)}walkManySep(e,r,n){const i=NV(e,r,n);this.walk(e,i)}walkOr(e,r,n){const i=r.concat(n);tt(e.definition,a=>{const s=new vo({definition:[a]});this.walk(s,i)})}}function NV(t,e,r){return[new za({definition:[new Xn({terminalType:t.separator})].concat(t.definition)})].concat(e,r)}function bb(t){if(t instanceof $s)return bb(t.referencedRule);if(t instanceof Xn)return M$e(t);if(_$e(t))return D$e(t);if(L$e(t))return R$e(t);throw Error("non exhaustive match")}function D$e(t){let e=[];const r=t.definition;let n=0,i=r.length>n,a,s=!0;for(;i&&s;)a=r[n],s=Uk(a),e=e.concat(bb(a)),n=n+1,i=r.length>n;return SN(e)}function R$e(t){const e=Ot(t.definition,r=>bb(r));return SN(xa(e))}function M$e(t){return[t.terminalType]}const Cae="_~IN~_";class N$e extends IT{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,r,n){}walkProdRef(e,r,n){const i=O$e(e.referencedRule,e.idx)+this.topProd.name,a=r.concat(n),s=new vo({definition:a}),o=bb(s);this.follows[i]=o}}function I$e(t){const e={};return tt(t,r=>{const n=new N$e(r).startWalking();Uo(e,n)}),e}function O$e(t,e){return t.name+e+Cae}let Ow={};const F$e=new gae;function OT(t){const e=t.toString();if(Ow.hasOwnProperty(e))return Ow[e];{const r=F$e.pattern(e);return Ow[e]=r,r}}function P$e(){Ow={}}const Aae="Complement Sets are not supported for first char optimization",Gk=`Unable to use "first char" lexer optimizations:
`;function B$e(t,e=!1){try{const r=OT(t);return Q9(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===Aae)e&&Sae(`${Gk}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";e&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),K9(`${Gk}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function Q9(t,e,r){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)Q9(t.value[i],e,r);break;case"Alternative":const n=t.value;for(let i=0;i<n.length;i++){const a=n[i];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const s=a;switch(s.type){case"Character":T3(s.value,e,r);break;case"Set":if(s.complement===!0)throw Error(Aae);tt(s.value,l=>{if(typeof l=="number")T3(l,e,r);else{const u=l;if(r===!0)for(let h=u.from;h<=u.to;h++)T3(h,e,r);else{for(let h=u.from;h<=u.to&&h<ny;h++)T3(h,e,r);if(u.to>=ny){const h=u.from>=ny?u.from:ny,f=u.to,d=Bf(h),p=Bf(f);for(let v=d;v<=p;v++)e[v]=v}}}});break;case"Group":Q9(s.value,e,r);break;default:throw Error("Non Exhaustive Match")}const o=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&Z9(s)===!1||s.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return _n(e)}function T3(t,e,r){const n=Bf(t);e[n]=n,r===!0&&$$e(t,e)}function $$e(t,e){const r=String.fromCharCode(t),n=r.toUpperCase();if(n!==r){const i=Bf(n.charCodeAt(0));e[i]=i}else{const i=r.toLowerCase();if(i!==r){const a=Bf(i.charCodeAt(0));e[a]=a}}}function IV(t,e){return ih(t.value,r=>{if(typeof r=="number")return Ws(e,r);{const n=r;return ih(e,i=>n.from<=i&&i<=n.to)!==void 0}})}function Z9(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?Ur(t.value)?ru(t.value,Z9):Z9(t.value):!1}class z$e extends RT{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Ws(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?IV(e,this.targetCharCodes)===void 0&&(this.found=!0):IV(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function qN(t,e){if(e instanceof RegExp){const r=OT(e),n=new z$e(t);return n.visit(r),n.found}else return ih(e,r=>Ws(t,r.charCodeAt(0)))!==void 0}const N0="PATTERN",ry="defaultMode",C3="modes";let _ae=typeof new RegExp("(?:)").sticky=="boolean";function H$e(t,e){e=yT(e,{useSticky:_ae,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(w,k)=>k()});const r=e.tracer;r("initCharCodeToOptimizedIndexMap",()=>{cze()});let n;r("Reject Lexer.NA",()=>{n=wT(t,w=>w[N0]===ho.NA)});let i=!1,a;r("Transform Patterns",()=>{i=!1,a=Ot(n,w=>{const k=w[N0];if(ah(k)){const E=k.source;return E.length===1&&E!=="^"&&E!=="$"&&E!=="."&&!k.ignoreCase?E:E.length===2&&E[0]==="\\"&&!Ws(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],E[1])?E[1]:e.useSticky?FV(k):OV(k)}else{if(kl(k))return i=!0,{exec:k};if(typeof k=="object")return i=!0,k;if(typeof k=="string"){if(k.length===1)return k;{const E=k.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),C=new RegExp(E);return e.useSticky?FV(C):OV(C)}}else throw Error("non exhaustive match")}})});let s,o,l,u,h;r("misc mapping",()=>{s=Ot(n,w=>w.tokenTypeIdx),o=Ot(n,w=>{const k=w.GROUP;if(k!==ho.SKIPPED){if(go(k))return k;if(pn(k))return!1;throw Error("non exhaustive match")}}),l=Ot(n,w=>{const k=w.LONGER_ALT;if(k)return Ur(k)?Ot(k,C=>oV(n,C)):[oV(n,k)]}),u=Ot(n,w=>w.PUSH_MODE),h=Ot(n,w=>Pt(w,"POP_MODE"))});let f;r("Line Terminator Handling",()=>{const w=Rae(e.lineTerminatorCharacters);f=Ot(n,k=>!1),e.positionTracking!=="onlyOffset"&&(f=Ot(n,k=>Pt(k,"LINE_BREAKS")?!!k.LINE_BREAKS:Dae(k,w)===!1&&qN(w,k.PATTERN)))});let d,p,v,m;r("Misc Mapping #2",()=>{d=Ot(n,Lae),p=Ot(a,oze),v=$i(n,(w,k)=>{const E=k.GROUP;return go(E)&&E!==ho.SKIPPED&&(w[E]=[]),w},{}),m=Ot(a,(w,k)=>({pattern:a[k],longerAlt:l[k],canLineTerminator:f[k],isCustom:d[k],short:p[k],group:o[k],push:u[k],pop:h[k],tokenTypeIdx:s[k],tokenType:n[k]}))});let x=!0,y=[];return e.safeMode||r("First Char Optimization",()=>{y=$i(n,(w,k,E)=>{if(typeof k.PATTERN=="string"){const C=k.PATTERN.charCodeAt(0),L=Bf(C);P8(w,L,m[E])}else if(Ur(k.START_CHARS_HINT)){let C;tt(k.START_CHARS_HINT,L=>{const _=typeof L=="string"?L.charCodeAt(0):L,I=Bf(_);C!==I&&(C=I,P8(w,I,m[E]))})}else if(ah(k.PATTERN))if(k.PATTERN.unicode)x=!1,e.ensureOptimizations&&K9(`${Gk}	Unable to analyze < ${k.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const C=B$e(k.PATTERN,e.ensureOptimizations);ln(C)&&(x=!1),tt(C,L=>{P8(w,L,m[E])})}else e.ensureOptimizations&&K9(`${Gk}	TokenType: <${k.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),x=!1;return w},[])}),{emptyGroups:v,patternIdxToConfig:m,charCodeToPatternIdxToConfig:y,hasCustom:i,canBeOptimized:x}}function V$e(t,e){let r=[];const n=G$e(t);r=r.concat(n.errors);const i=W$e(n.valid),a=i.valid;return r=r.concat(i.errors),r=r.concat(U$e(a)),r=r.concat(J$e(a)),r=r.concat(eze(a,e)),r=r.concat(tze(a)),r}function U$e(t){let e=[];const r=xi(t,n=>ah(n[N0]));return e=e.concat(Y$e(r)),e=e.concat(K$e(r)),e=e.concat(Q$e(r)),e=e.concat(Z$e(r)),e=e.concat(X$e(r)),e}function G$e(t){const e=xi(t,i=>!Pt(i,N0)),r=Ot(e,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:yi.MISSING_PATTERN,tokenTypes:[i]})),n=xT(t,e);return{errors:r,valid:n}}function W$e(t){const e=xi(t,i=>{const a=i[N0];return!ah(a)&&!kl(a)&&!Pt(a,"exec")&&!go(a)}),r=Ot(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:yi.INVALID_PATTERN,tokenTypes:[i]})),n=xT(t,e);return{errors:r,valid:n}}const q$e=/[^\\][$]/;function Y$e(t){class e extends RT{constructor(){super(...arguments),this.found=!1}visitEndAnchor(a){this.found=!0}}const r=xi(t,i=>{const a=i.PATTERN;try{const s=OT(a),o=new e;return o.visit(s),o.found}catch{return q$e.test(a.source)}});return Ot(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:yi.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function X$e(t){const e=xi(t,n=>n.PATTERN.test(""));return Ot(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:yi.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}const j$e=/[^\\[][\^]|^\^/;function K$e(t){class e extends RT{constructor(){super(...arguments),this.found=!1}visitStartAnchor(a){this.found=!0}}const r=xi(t,i=>{const a=i.PATTERN;try{const s=OT(a),o=new e;return o.visit(s),o.found}catch{return j$e.test(a.source)}});return Ot(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:yi.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function Q$e(t){const e=xi(t,n=>{const i=n[N0];return i instanceof RegExp&&(i.multiline||i.global)});return Ot(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:yi.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function Z$e(t){const e=[];let r=Ot(t,a=>$i(t,(s,o)=>(a.PATTERN.source===o.PATTERN.source&&!Ws(e,o)&&o.PATTERN!==ho.NA&&(e.push(o),s.push(o)),s),[]));r=vb(r);const n=xi(r,a=>a.length>1);return Ot(n,a=>{const s=Ot(a,l=>l.name);return{message:`The same RegExp pattern ->${cu(a).PATTERN}<-has been used in all of the following Token Types: ${s.join(", ")} <-`,type:yi.DUPLICATE_PATTERNS_FOUND,tokenTypes:a}})}function J$e(t){const e=xi(t,n=>{if(!Pt(n,"GROUP"))return!1;const i=n.GROUP;return i!==ho.SKIPPED&&i!==ho.NA&&!go(i)});return Ot(e,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:yi.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function eze(t,e){const r=xi(t,i=>i.PUSH_MODE!==void 0&&!Ws(e,i.PUSH_MODE));return Ot(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:yi.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function tze(t){const e=[],r=$i(t,(n,i,a)=>{const s=i.PATTERN;return s===ho.NA||(go(s)?n.push({str:s,idx:a,tokenType:i}):ah(s)&&nze(s)&&n.push({str:s.source,idx:a,tokenType:i})),n},[]);return tt(t,(n,i)=>{tt(r,({str:a,idx:s,tokenType:o})=>{if(i<s&&rze(a,n.PATTERN)){const l=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:yi.UNREACHABLE_PATTERN,tokenTypes:[n,o]})}})}),e}function rze(t,e){if(ah(e)){const r=e.exec(t);return r!==null&&r.index===0}else{if(kl(e))return e(t,0,[],{});if(Pt(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function nze(t){return ih([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>t.source.indexOf(r)!==-1)===void 0}function OV(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function FV(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function ize(t,e,r){const n=[];return Pt(t,ry)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+ry+`> property in its definition
`,type:yi.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Pt(t,C3)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+C3+`> property in its definition
`,type:yi.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Pt(t,C3)&&Pt(t,ry)&&!Pt(t.modes,t.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${ry}: <${t.defaultMode}>which does not exist
`,type:yi.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Pt(t,C3)&&tt(t.modes,(i,a)=>{tt(i,(s,o)=>{if(pn(s))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${a}> at index: <${o}>
`,type:yi.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Pt(s,"LONGER_ALT")){const l=Ur(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];tt(l,u=>{!pn(u)&&!Ws(i,u)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${u.name}> on token <${s.name}> outside of mode <${a}>
`,type:yi.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function aze(t,e,r){const n=[];let i=!1;const a=vb(xa(_n(t.modes))),s=wT(a,l=>l[N0]===ho.NA),o=Rae(r);return e&&tt(s,l=>{const u=Dae(l,o);if(u!==!1){const f={message:uze(l,u),type:u.issue,tokenType:l};n.push(f)}else Pt(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):qN(o,l.PATTERN)&&(i=!0)}),e&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:yi.NO_LINE_BREAKS_FLAGS}),n}function sze(t){const e={},r=Zi(t);return tt(r,n=>{const i=t[n];if(Ur(i))e[n]=[];else throw Error("non exhaustive match")}),e}function Lae(t){const e=t.PATTERN;if(ah(e))return!1;if(kl(e))return!0;if(Pt(e,"exec"))return!0;if(go(e))return!1;throw Error("non exhaustive match")}function oze(t){return go(t)&&t.length===1?t.charCodeAt(0):!1}const lze={test:function(t){const e=t.length;for(let r=this.lastIndex;r<e;r++){const n=t.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return t.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function Dae(t,e){if(Pt(t,"LINE_BREAKS"))return!1;if(ah(t.PATTERN)){try{qN(e,t.PATTERN)}catch(r){return{issue:yi.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(go(t.PATTERN))return!1;if(Lae(t))return{issue:yi.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function uze(t,e){if(e.issue===yi.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===yi.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function Rae(t){return Ot(t,r=>go(r)?r.charCodeAt(0):r)}function P8(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}const ny=256;let Fw=[];function Bf(t){return t<ny?t:Fw[t]}function cze(){if(ln(Fw)){Fw=new Array(65536);for(let t=0;t<65536;t++)Fw[t]=t>255?255+~~(t/255):t}}function wb(t,e){const r=t.tokenTypeIdx;return r===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[r]===!0}function Wk(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let PV=1;const Mae={};function kb(t){const e=hze(t);fze(e),pze(e),dze(e),tt(e,r=>{r.isParent=r.categoryMatches.length>0})}function hze(t){let e=sa(t),r=t,n=!0;for(;n;){r=vb(xa(Ot(r,a=>a.CATEGORIES)));const i=xT(r,e);e=e.concat(i),ln(i)?n=!1:r=i}return e}function fze(t){tt(t,e=>{Iae(e)||(Mae[PV]=e,e.tokenTypeIdx=PV++),BV(e)&&!Ur(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),BV(e)||(e.CATEGORIES=[]),gze(e)||(e.categoryMatches=[]),vze(e)||(e.categoryMatchesMap={})})}function dze(t){tt(t,e=>{e.categoryMatches=[],tt(e.categoryMatchesMap,(r,n)=>{e.categoryMatches.push(Mae[n].tokenTypeIdx)})})}function pze(t){tt(t,e=>{Nae([],e)})}function Nae(t,e){tt(t,r=>{e.categoryMatchesMap[r.tokenTypeIdx]=!0}),tt(e.CATEGORIES,r=>{const n=t.concat(e);Ws(n,r)||Nae(n,r)})}function Iae(t){return Pt(t,"tokenTypeIdx")}function BV(t){return Pt(t,"CATEGORIES")}function gze(t){return Pt(t,"categoryMatches")}function vze(t){return Pt(t,"categoryMatchesMap")}function mze(t){return Pt(t,"tokenTypeIdx")}const yze={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,r,n,i){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${r} characters.`}};var yi;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(yi||(yi={}));const iy={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:yze,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(iy);class ho{constructor(e,r=iy){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,a)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const s=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${s}--> <${i}>`);const{time:o,value:l}=Eae(a),u=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${s}<-- <${i}> time: ${o}ms`),this.traceInitIndent--,l}else return a()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Uo({},iy,r);const n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,a=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===iy.lineTerminatorsPattern)this.config.lineTerminatorsPattern=lze;else if(this.config.lineTerminatorCharacters===iy.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Ur(e)?i={modes:{defaultMode:sa(e)},defaultMode:ry}:(a=!1,i=sa(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(ize(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(aze(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},tt(i.modes,(o,l)=>{i.modes[l]=wT(o,u=>pn(u))});const s=Zi(i.modes);if(tt(i.modes,(o,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(V$e(o,s))}),ln(this.lexerDefinitionErrors)){kb(o);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=H$e(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=u.charCodeToPatternIdxToConfig,this.emptyGroups=Uo({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=u.canBeOptimized}})}),this.defaultMode=i.defaultMode,!ln(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=Ot(this.lexerDefinitionErrors,u=>u.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}tt(this.lexerDefinitionWarning,o=>{Sae(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(_ae?(this.chopInput=eh,this.match=this.matchWithTest):(this.updateLastIndex=qi,this.match=this.matchWithExec),a&&(this.handleModes=qi),this.trackStartLines===!1&&(this.computeNewColumn=eh),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=qi),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const o=$i(this.canModeBeOptimized,(l,u,h)=>(u===!1&&l.push(h),l),[]);if(r.ensureOptimizations&&!ln(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{P$e()}),this.TRACE_INIT("toFastProperties",()=>{Tae(this)})})}tokenize(e,r=this.defaultMode){if(!ln(this.lexerDefinitionErrors)){const i=Ot(this.lexerDefinitionErrors,a=>a.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,r)}tokenizeInternal(e,r){let n,i,a,s,o,l,u,h,f,d,p,v,m,x,y;const w=e,k=w.length;let E=0,C=0;const L=this.hasCustom?0:Math.floor(e.length/10),_=new Array(L),I=[];let M=this.trackStartLines?1:void 0,F=this.trackStartLines?1:void 0;const N=sze(this.emptyGroups),z=this.trackStartLines,V=this.config.lineTerminatorsPattern;let D=0,O=[],P=[];const $=[],B=[];Object.freeze(B);let H;function X(){return O}function q(re){const ve=Bf(re),ye=P[ve];return ye===void 0?B:ye}const Y=re=>{if($.length===1&&re.tokenType.PUSH_MODE===void 0){const ve=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(re);I.push({offset:re.startOffset,line:re.startLine,column:re.startColumn,length:re.image.length,message:ve})}else{$.pop();const ve=Yu($);O=this.patternIdxToConfig[ve],P=this.charCodeToPatternIdxToConfig[ve],D=O.length;const ye=this.canModeBeOptimized[ve]&&this.config.safeMode===!1;P&&ye?H=q:H=X}};function U(re){$.push(re),P=this.charCodeToPatternIdxToConfig[re],O=this.patternIdxToConfig[re],D=O.length,D=O.length;const ve=this.canModeBeOptimized[re]&&this.config.safeMode===!1;P&&ve?H=q:H=X}U.call(this,r);let J;const ce=this.config.recoveryEnabled;for(;E<k;){l=null;const re=w.charCodeAt(E),ve=H(re),ye=ve.length;for(n=0;n<ye;n++){J=ve[n];const Z=J.pattern;u=null;const ue=J.short;if(ue!==!1?re===ue&&(l=Z):J.isCustom===!0?(y=Z.exec(w,E,_,N),y!==null?(l=y[0],y.payload!==void 0&&(u=y.payload)):l=null):(this.updateLastIndex(Z,E),l=this.match(Z,e,E)),l!==null){if(o=J.longerAlt,o!==void 0){const ae=o.length;for(a=0;a<ae;a++){const pe=O[o[a]],Ee=pe.pattern;if(h=null,pe.isCustom===!0?(y=Ee.exec(w,E,_,N),y!==null?(s=y[0],y.payload!==void 0&&(h=y.payload)):s=null):(this.updateLastIndex(Ee,E),s=this.match(Ee,e,E)),s&&s.length>l.length){l=s,u=h,J=pe;break}}}break}}if(l!==null){if(f=l.length,d=J.group,d!==void 0&&(p=J.tokenTypeIdx,v=this.createTokenInstance(l,E,p,J.tokenType,M,F,f),this.handlePayload(v,u),d===!1?C=this.addToken(_,C,v):N[d].push(v)),e=this.chopInput(e,f),E=E+f,F=this.computeNewColumn(F,f),z===!0&&J.canLineTerminator===!0){let Z=0,ue,ae;V.lastIndex=0;do ue=V.test(l),ue===!0&&(ae=V.lastIndex-1,Z++);while(ue===!0);Z!==0&&(M=M+Z,F=f-ae,this.updateTokenEndLineColumnLocation(v,d,ae,Z,M,F,f))}this.handleModes(J,Y,U,v)}else{const Z=E,ue=M,ae=F;let pe=ce===!1;for(;pe===!1&&E<k;)for(e=this.chopInput(e,1),E++,i=0;i<D;i++){const Ee=O[i],Se=Ee.pattern,de=Ee.short;if(de!==!1?w.charCodeAt(E)===de&&(pe=!0):Ee.isCustom===!0?pe=Se.exec(w,E,_,N)!==null:(this.updateLastIndex(Se,E),pe=Se.exec(e)!==null),pe===!0)break}if(m=E-Z,F=this.computeNewColumn(F,m),x=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(w,Z,m,ue,ae),I.push({offset:Z,line:ue,column:ae,length:m,message:x}),ce===!1)break}}return this.hasCustom||(_.length=C),{tokens:_,groups:N,errors:I}}handleModes(e,r,n,i){if(e.pop===!0){const a=e.push;r(i),a!==void 0&&n.call(this,a)}else e.push!==void 0&&n.call(this,e.push)}chopInput(e,r){return e.substring(r)}updateLastIndex(e,r){e.lastIndex=r}updateTokenEndLineColumnLocation(e,r,n,i,a,s,o){let l,u;r!==void 0&&(l=n===o-1,u=l?-1:0,i===1&&l===!0||(e.endLine=a+u,e.endColumn=s-1+-u))}computeNewColumn(e,r){return e+r}createOffsetOnlyToken(e,r,n,i){return{image:e,startOffset:r,tokenTypeIdx:n,tokenType:i}}createStartOnlyToken(e,r,n,i,a,s){return{image:e,startOffset:r,startLine:a,startColumn:s,tokenTypeIdx:n,tokenType:i}}createFullToken(e,r,n,i,a,s,o){return{image:e,startOffset:r,endOffset:r+o-1,startLine:a,endLine:a,startColumn:s,endColumn:s+o-1,tokenTypeIdx:n,tokenType:i}}addTokenUsingPush(e,r,n){return e.push(n),r}addTokenUsingMemberAccess(e,r,n){return e[r]=n,r++,r}handlePayloadNoCustom(e,r){}handlePayloadWithCustom(e,r){r!==null&&(e.payload=r)}matchWithTest(e,r,n){return e.test(r)===!0?r.substring(n,e.lastIndex):null}matchWithExec(e,r){const n=e.exec(r);return n!==null?n[0]:null}}ho.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";ho.NA=/NOT_APPLICABLE/;function Bg(t){return Oae(t)?t.LABEL:t.name}function Oae(t){return go(t.LABEL)&&t.LABEL!==""}const xze="parent",$V="categories",zV="label",HV="group",VV="push_mode",UV="pop_mode",GV="longer_alt",WV="line_breaks",qV="start_chars_hint";function Fae(t){return bze(t)}function bze(t){const e=t.pattern,r={};if(r.name=t.name,pn(e)||(r.PATTERN=e),Pt(t,xze))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Pt(t,$V)&&(r.CATEGORIES=t[$V]),kb([r]),Pt(t,zV)&&(r.LABEL=t[zV]),Pt(t,HV)&&(r.GROUP=t[HV]),Pt(t,UV)&&(r.POP_MODE=t[UV]),Pt(t,VV)&&(r.PUSH_MODE=t[VV]),Pt(t,GV)&&(r.LONGER_ALT=t[GV]),Pt(t,WV)&&(r.LINE_BREAKS=t[WV]),Pt(t,qV)&&(r.START_CHARS_HINT=t[qV]),r}const $f=Fae({name:"EOF",pattern:ho.NA});kb([$f]);function YN(t,e,r,n,i,a,s,o){return{image:e,startOffset:r,endOffset:n,startLine:i,endLine:a,startColumn:s,endColumn:o,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function Pae(t,e){return wb(t,e)}const bg={buildMismatchTokenMessage({expected:t,actual:e,previous:r,ruleName:n}){return`Expecting ${Oae(t)?`--> ${Bg(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:r,customUserDescription:n,ruleName:i}){const a="Expecting: ",o=`
but found: '`+cu(e).image+"'";if(n)return a+n+o;{const l=$i(t,(d,p)=>d.concat(p),[]),u=Ot(l,d=>`[${Ot(d,p=>Bg(p)).join(", ")}]`),f=`one of these possible Token sequences:
${Ot(u,(d,p)=>`  ${p+1}. ${d}`).join(`
`)}`;return a+f+o}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:r,ruleName:n}){const i="Expecting: ",s=`
but found: '`+cu(e).image+"'";if(r)return i+r+s;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${Ot(t,u=>`[${Ot(u,h=>Bg(h)).join(",")}]`).join(" ,")}>`;return i+l+s}}};Object.freeze(bg);const wze={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},e0={buildDuplicateFoundError(t,e){function r(h){return h instanceof Xn?h.terminalType.name:h instanceof $s?h.nonTerminalName:""}const n=t.name,i=cu(e),a=i.idx,s=Ru(i),o=r(i),l=a>0;let u=`->${s}${l?a:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=Ot(t.prefixPath,i=>Bg(i)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=Ot(t.prefixPath,i=>Bg(i)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;let n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(t){let e=Ru(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,r=Ot(t.leftRecursionPath,a=>a.name),n=`${e} --> ${r.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof cv?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function kze(t,e){const r=new Sze(t,e);return r.resolveRefs(),r.errors}class Sze extends hv{constructor(e,r){super(),this.nameToTopRule=e,this.errMsgProvider=r,this.errors=[]}resolveRefs(){tt(_n(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const r=this.nameToTopRule[e.nonTerminalName];if(r)e.referencedRule=r;else{const n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:zs.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class Eze extends IT{constructor(e,r){super(),this.topProd=e,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=sa(this.path.ruleStack).reverse(),this.occurrenceStack=sa(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,r=[]){this.found||super.walk(e,r)}walkProdRef(e,r,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=r.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){ln(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class Tze extends Eze{constructor(e,r){super(e,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,r,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=r.concat(n),a=new vo({definition:i});this.possibleTokTypes=bb(a),this.found=!0}}}class FT extends IT{constructor(e,r){super(),this.topRule=e,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class Cze extends FT{walkMany(e,r,n){if(e.idx===this.occurrence){const i=cu(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Xn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,r,n)}}class YV extends FT{walkManySep(e,r,n){if(e.idx===this.occurrence){const i=cu(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Xn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,r,n)}}class Aze extends FT{walkAtLeastOne(e,r,n){if(e.idx===this.occurrence){const i=cu(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Xn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,r,n)}}class XV extends FT{walkAtLeastOneSep(e,r,n){if(e.idx===this.occurrence){const i=cu(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof Xn&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,r,n)}}function J9(t,e,r=[]){r=sa(r);let n=[],i=0;function a(o){return o.concat(Ra(t,i+1))}function s(o){const l=J9(a(o),e,r);return n.concat(l)}for(;r.length<e&&i<t.length;){const o=t[i];if(o instanceof vo)return s(o.definition);if(o instanceof $s)return s(o.definition);if(o instanceof za)n=s(o.definition);else if(o instanceof Xo){const l=o.definition.concat([new mi({definition:o.definition})]);return s(l)}else if(o instanceof jo){const l=[new vo({definition:o.definition}),new mi({definition:[new Xn({terminalType:o.separator})].concat(o.definition)})];return s(l)}else if(o instanceof bo){const l=o.definition.concat([new mi({definition:[new Xn({terminalType:o.separator})].concat(o.definition)})]);n=s(l)}else if(o instanceof mi){const l=o.definition.concat([new mi({definition:o.definition})]);n=s(l)}else{if(o instanceof wo)return tt(o.definition,l=>{ln(l.definition)===!1&&(n=s(l.definition))}),n;if(o instanceof Xn)r.push(o.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:Ra(t,i)}),n}function Bae(t,e,r,n){const i="EXIT_NONE_TERMINAL",a=[i],s="EXIT_ALTERNATIVE";let o=!1;const l=e.length,u=l-n-1,h=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!ln(f);){const d=f.pop();if(d===s){o&&Yu(f).idx<=u&&f.pop();continue}const p=d.def,v=d.idx,m=d.ruleStack,x=d.occurrenceStack;if(ln(p))continue;const y=p[0];if(y===i){const w={idx:v,def:Ra(p),ruleStack:T2(m),occurrenceStack:T2(x)};f.push(w)}else if(y instanceof Xn)if(v<l-1){const w=v+1,k=e[w];if(r(k,y.terminalType)){const E={idx:w,def:Ra(p),ruleStack:m,occurrenceStack:x};f.push(E)}}else if(v===l-1)h.push({nextTokenType:y.terminalType,nextTokenOccurrence:y.idx,ruleStack:m,occurrenceStack:x}),o=!0;else throw Error("non exhaustive match");else if(y instanceof $s){const w=sa(m);w.push(y.nonTerminalName);const k=sa(x);k.push(y.idx);const E={idx:v,def:y.definition.concat(a,Ra(p)),ruleStack:w,occurrenceStack:k};f.push(E)}else if(y instanceof za){const w={idx:v,def:Ra(p),ruleStack:m,occurrenceStack:x};f.push(w),f.push(s);const k={idx:v,def:y.definition.concat(Ra(p)),ruleStack:m,occurrenceStack:x};f.push(k)}else if(y instanceof Xo){const w=new mi({definition:y.definition,idx:y.idx}),k=y.definition.concat([w],Ra(p)),E={idx:v,def:k,ruleStack:m,occurrenceStack:x};f.push(E)}else if(y instanceof jo){const w=new Xn({terminalType:y.separator}),k=new mi({definition:[w].concat(y.definition),idx:y.idx}),E=y.definition.concat([k],Ra(p)),C={idx:v,def:E,ruleStack:m,occurrenceStack:x};f.push(C)}else if(y instanceof bo){const w={idx:v,def:Ra(p),ruleStack:m,occurrenceStack:x};f.push(w),f.push(s);const k=new Xn({terminalType:y.separator}),E=new mi({definition:[k].concat(y.definition),idx:y.idx}),C=y.definition.concat([E],Ra(p)),L={idx:v,def:C,ruleStack:m,occurrenceStack:x};f.push(L)}else if(y instanceof mi){const w={idx:v,def:Ra(p),ruleStack:m,occurrenceStack:x};f.push(w),f.push(s);const k=new mi({definition:y.definition,idx:y.idx}),E=y.definition.concat([k],Ra(p)),C={idx:v,def:E,ruleStack:m,occurrenceStack:x};f.push(C)}else if(y instanceof wo)for(let w=y.definition.length-1;w>=0;w--){const k=y.definition[w],E={idx:v,def:k.definition.concat(Ra(p)),ruleStack:m,occurrenceStack:x};f.push(E),f.push(s)}else if(y instanceof vo)f.push({idx:v,def:y.definition.concat(Ra(p)),ruleStack:m,occurrenceStack:x});else if(y instanceof cv)f.push(_ze(y,v,m,x));else throw Error("non exhaustive match")}return h}function _ze(t,e,r,n){const i=sa(r);i.push(t.name);const a=sa(n);return a.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:a}}var li;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(li||(li={}));function XN(t){if(t instanceof za||t==="Option")return li.OPTION;if(t instanceof mi||t==="Repetition")return li.REPETITION;if(t instanceof Xo||t==="RepetitionMandatory")return li.REPETITION_MANDATORY;if(t instanceof jo||t==="RepetitionMandatoryWithSeparator")return li.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof bo||t==="RepetitionWithSeparator")return li.REPETITION_WITH_SEPARATOR;if(t instanceof wo||t==="Alternation")return li.ALTERNATION;throw Error("non exhaustive match")}function jV(t){const{occurrence:e,rule:r,prodType:n,maxLookahead:i}=t,a=XN(n);return a===li.ALTERNATION?PT(e,r,i):BT(e,r,a,i)}function Lze(t,e,r,n,i,a){const s=PT(t,e,r),o=Hae(s)?Wk:wb;return a(s,n,o,i)}function Dze(t,e,r,n,i,a){const s=BT(t,e,i,r),o=Hae(s)?Wk:wb;return a(s[0],o,n)}function Rze(t,e,r,n){const i=t.length,a=ru(t,s=>ru(s,o=>o.length===1));if(e)return function(s){const o=Ot(s,l=>l.GATE);for(let l=0;l<i;l++){const u=t[l],h=u.length,f=o[l];if(!(f!==void 0&&f.call(this)===!1))e:for(let d=0;d<h;d++){const p=u[d],v=p.length;for(let m=0;m<v;m++){const x=this.LA(m+1);if(r(x,p[m])===!1)continue e}return l}}};if(a&&!n){const s=Ot(t,l=>xa(l)),o=$i(s,(l,u,h)=>(tt(u,f=>{Pt(l,f.tokenTypeIdx)||(l[f.tokenTypeIdx]=h),tt(f.categoryMatches,d=>{Pt(l,d)||(l[d]=h)})}),l),{});return function(){const l=this.LA(1);return o[l.tokenTypeIdx]}}else return function(){for(let s=0;s<i;s++){const o=t[s],l=o.length;e:for(let u=0;u<l;u++){const h=o[u],f=h.length;for(let d=0;d<f;d++){const p=this.LA(d+1);if(r(p,h[d])===!1)continue e}return s}}}}function Mze(t,e,r){const n=ru(t,a=>a.length===1),i=t.length;if(n&&!r){const a=xa(t);if(a.length===1&&ln(a[0].categoryMatches)){const o=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}else{const s=$i(a,(o,l,u)=>(o[l.tokenTypeIdx]=!0,tt(l.categoryMatches,h=>{o[h]=!0}),o),[]);return function(){const o=this.LA(1);return s[o.tokenTypeIdx]===!0}}}else return function(){e:for(let a=0;a<i;a++){const s=t[a],o=s.length;for(let l=0;l<o;l++){const u=this.LA(l+1);if(e(u,s[l])===!1)continue e}return!0}return!1}}class Nze extends IT{constructor(e,r,n){super(),this.topProd=e,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,r,n,i){return e.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=n.concat(i),!0):!1}walkOption(e,r,n){this.checkIsTarget(e,li.OPTION,r,n)||super.walkOption(e,r,n)}walkAtLeastOne(e,r,n){this.checkIsTarget(e,li.REPETITION_MANDATORY,r,n)||super.walkOption(e,r,n)}walkAtLeastOneSep(e,r,n){this.checkIsTarget(e,li.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n)}walkMany(e,r,n){this.checkIsTarget(e,li.REPETITION,r,n)||super.walkOption(e,r,n)}walkManySep(e,r,n){this.checkIsTarget(e,li.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n)}}class $ae extends hv{constructor(e,r,n){super(),this.targetOccurrence=e,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(e,r){e.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,li.OPTION)}visitRepetition(e){this.checkIsTarget(e,li.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,li.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,li.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,li.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,li.ALTERNATION)}}function KV(t){const e=new Array(t);for(let r=0;r<t;r++)e[r]=[];return e}function B8(t){let e=[""];for(let r=0;r<t.length;r++){const n=t[r],i=[];for(let a=0;a<e.length;a++){const s=e[a];i.push(s+"_"+n.tokenTypeIdx);for(let o=0;o<n.categoryMatches.length;o++){const l="_"+n.categoryMatches[o];i.push(s+l)}}e=i}return e}function Ize(t,e,r){for(let n=0;n<t.length;n++){if(n===r)continue;const i=t[n];for(let a=0;a<e.length;a++){const s=e[a];if(i[s]===!0)return!1}}return!0}function zae(t,e){const r=Ot(t,s=>J9([s],1)),n=KV(r.length),i=Ot(r,s=>{const o={};return tt(s,l=>{const u=B8(l.partialPath);tt(u,h=>{o[h]=!0})}),o});let a=r;for(let s=1;s<=e;s++){const o=a;a=KV(o.length);for(let l=0;l<o.length;l++){const u=o[l];for(let h=0;h<u.length;h++){const f=u[h].partialPath,d=u[h].suffixDef,p=B8(f);if(Ize(i,p,l)||ln(d)||f.length===e){const m=n[l];if(eL(m,f)===!1){m.push(f);for(let x=0;x<p.length;x++){const y=p[x];i[l][y]=!0}}}else{const m=J9(d,s+1,f);a[l]=a[l].concat(m),tt(m,x=>{const y=B8(x.partialPath);tt(y,w=>{i[l][w]=!0})})}}}}return n}function PT(t,e,r,n){const i=new $ae(t,li.ALTERNATION,n);return e.accept(i),zae(i.result,r)}function BT(t,e,r,n){const i=new $ae(t,r);e.accept(i);const a=i.result,o=new Nze(e,t,r).startWalking(),l=new vo({definition:a}),u=new vo({definition:o});return zae([l,u],n)}function eL(t,e){e:for(let r=0;r<t.length;r++){const n=t[r];if(n.length===e.length){for(let i=0;i<n.length;i++){const a=e[i],s=n[i];if((a===s||s.categoryMatchesMap[a.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function Oze(t,e){return t.length<e.length&&ru(t,(r,n)=>{const i=e[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function Hae(t){return ru(t,e=>ru(e,r=>ru(r,n=>ln(n.categoryMatches))))}function Fze(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return Ot(e,r=>Object.assign({type:zs.CUSTOM_LOOKAHEAD_VALIDATION},r))}function Pze(t,e,r,n){const i=Po(t,l=>Bze(l,r)),a=Kze(t,e,r),s=Po(t,l=>qze(l,r)),o=Po(t,l=>Hze(l,t,n,r));return i.concat(a,s,o)}function Bze(t,e){const r=new zze;t.accept(r);const n=r.allProductions,i=uNe(n,$ze),a=pu(i,o=>o.length>1);return Ot(_n(a),o=>{const l=cu(o),u=e.buildDuplicateFoundError(t,o),h=Ru(l),f={message:u,type:zs.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:h,occurrence:l.idx},d=Vae(l);return d&&(f.parameter=d),f})}function $ze(t){return`${Ru(t)}_#_${t.idx}_#_${Vae(t)}`}function Vae(t){return t instanceof Xn?t.terminalType.name:t instanceof $s?t.nonTerminalName:""}class zze extends hv{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function Hze(t,e,r,n){const i=[];if($i(e,(s,o)=>o.name===t.name?s+1:s,0)>1){const s=n.buildDuplicateRuleNameError({topLevelRule:t,grammarName:r});i.push({message:s,type:zs.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}function Vze(t,e,r){const n=[];let i;return Ws(e,t)||(i=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:zs.INVALID_RULE_OVERRIDE,ruleName:t})),n}function Uae(t,e,r,n=[]){const i=[],a=Pw(e.definition);if(ln(a))return[];{const s=t.name;Ws(a,t)&&i.push({message:r.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:n}),type:zs.LEFT_RECURSION,ruleName:s});const l=xT(a,n.concat([t])),u=Po(l,h=>{const f=sa(n);return f.push(h),Uae(t,h,r,f)});return i.concat(u)}}function Pw(t){let e=[];if(ln(t))return e;const r=cu(t);if(r instanceof $s)e.push(r.referencedRule);else if(r instanceof vo||r instanceof za||r instanceof Xo||r instanceof jo||r instanceof bo||r instanceof mi)e=e.concat(Pw(r.definition));else if(r instanceof wo)e=xa(Ot(r.definition,a=>Pw(a.definition)));else if(!(r instanceof Xn))throw Error("non exhaustive match");const n=Uk(r),i=t.length>1;if(n&&i){const a=Ra(t);return e.concat(Pw(a))}else return e}class jN extends hv{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function Uze(t,e){const r=new jN;t.accept(r);const n=r.alternations;return Po(n,a=>{const s=T2(a.definition);return Po(s,(o,l)=>{const u=Bae([o],[],wb,1);return ln(u)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:a,emptyChoiceIdx:l}),type:zs.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:a.idx,alternative:l+1}]:[]})})}function Gze(t,e,r){const n=new jN;t.accept(n);let i=n.alternations;return i=wT(i,s=>s.ignoreAmbiguities===!0),Po(i,s=>{const o=s.idx,l=s.maxLookahead||e,u=PT(o,t,l,s),h=Xze(u,s,t,r),f=jze(u,s,t,r);return h.concat(f)})}class Wze extends hv{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function qze(t,e){const r=new jN;t.accept(r);const n=r.alternations;return Po(n,a=>a.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:a}),type:zs.TOO_MANY_ALTS,ruleName:t.name,occurrence:a.idx}]:[])}function Yze(t,e,r){const n=[];return tt(t,i=>{const a=new Wze;i.accept(a);const s=a.allProductions;tt(s,o=>{const l=XN(o),u=o.maxLookahead||e,h=o.idx,d=BT(h,i,l,u)[0];if(ln(xa(d))){const p=r.buildEmptyRepetitionError({topLevelRule:i,repetition:o});n.push({message:p,type:zs.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function Xze(t,e,r,n){const i=[],a=$i(t,(o,l,u)=>(e.definition[u].ignoreAmbiguities===!0||tt(l,h=>{const f=[u];tt(t,(d,p)=>{u!==p&&eL(d,h)&&e.definition[p].ignoreAmbiguities!==!0&&f.push(p)}),f.length>1&&!eL(i,h)&&(i.push(h),o.push({alts:f,path:h}))}),o),[]);return Ot(a,o=>{const l=Ot(o.alts,h=>h+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:l,prefixPath:o.path}),type:zs.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:e.idx,alternatives:o.alts}})}function jze(t,e,r,n){const i=$i(t,(s,o,l)=>{const u=Ot(o,h=>({idx:l,path:h}));return s.concat(u)},[]);return vb(Po(i,s=>{if(e.definition[s.idx].ignoreAmbiguities===!0)return[];const l=s.idx,u=s.path,h=xi(i,d=>e.definition[d.idx].ignoreAmbiguities!==!0&&d.idx<l&&Oze(d.path,u));return Ot(h,d=>{const p=[d.idx+1,l+1],v=e.idx===0?"":e.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:p,prefixPath:d.path}),type:zs.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:v,alternatives:p}})}))}function Kze(t,e,r){const n=[],i=Ot(e,a=>a.name);return tt(t,a=>{const s=a.name;if(Ws(i,s)){const o=r.buildNamespaceConflictError(a);n.push({message:o,type:zs.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),n}function Qze(t){const e=yT(t,{errMsgProvider:wze}),r={};return tt(t.rules,n=>{r[n.name]=n}),kze(r,e.errMsgProvider)}function Zze(t){return t=yT(t,{errMsgProvider:e0}),Pze(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const Gae="MismatchedTokenException",Wae="NoViableAltException",qae="EarlyExitException",Yae="NotAllInputParsedException",Xae=[Gae,Wae,qae,Yae];Object.freeze(Xae);function qk(t){return Ws(Xae,t.name)}class $T extends Error{constructor(e,r){super(e),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class jae extends $T{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Gae}}class Jze extends $T{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Wae}}class eHe extends $T{constructor(e,r){super(e,r),this.name=Yae}}class tHe extends $T{constructor(e,r,n){super(e,r),this.previousToken=n,this.name=qae}}const $8={},Kae="InRuleRecoveryException";class rHe extends Error{constructor(e){super(e),this.name=Kae}}class nHe{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Pt(e,"recoveryEnabled")?e.recoveryEnabled:oh.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=iHe)}getTokenToInsert(e){const r=YN(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,r,n,i){const a=this.findReSyncTokenType(),s=this.exportLexerState(),o=[];let l=!1;const u=this.LA(1);let h=this.LA(1);const f=()=>{const d=this.LA(0),p=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:u,previous:d,ruleName:this.getCurrRuleFullName()}),v=new jae(p,u,this.LA(0));v.resyncedTokens=T2(o),this.SAVE_ERROR(v)};for(;!l;)if(this.tokenMatcher(h,i)){f();return}else if(n.call(this)){f(),e.apply(this,r);return}else this.tokenMatcher(h,a)?l=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,o));this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(e,r,n){return!(n===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,r)))}getFollowsForInRuleRecovery(e,r){const n=this.getCurrentGrammarPath(e,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,r){if(this.canRecoverWithSingleTokenInsertion(e,r))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new rHe("sad sad panda")}canPerformInRuleRecovery(e,r){return this.canRecoverWithSingleTokenInsertion(e,r)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,r){if(!this.canTokenTypeBeInsertedInRecovery(e)||ln(r))return!1;const n=this.LA(1);return ih(r,a=>this.tokenMatcher(n,a))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return Ws(n,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let r=this.LA(1),n=2;for(;;){const i=ih(e,a=>Pae(r,a));if(i!==void 0)return i;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return $8;const e=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return Ot(e,(n,i)=>i===0?$8:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){const e=Ot(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return xa(e)}getFollowSetFromFollowKey(e){if(e===$8)return[$f];const r=e.ruleName+e.idxInCallingRule+Cae+e.inRule;return this.resyncFollows[r]}addToResyncTokens(e,r){return this.tokenMatcher(e,$f)||r.push(e),r}reSyncTo(e){const r=[];let n=this.LA(1);for(;this.tokenMatcher(n,e)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return T2(r)}attemptInRepetitionRecovery(e,r,n,i,a,s,o){}getCurrentGrammarPath(e,r){const n=this.getHumanReadableRuleStack(),i=sa(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:i,lastTok:e,lastTokOccurrence:r}}getHumanReadableRuleStack(){return Ot(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function iHe(t,e,r,n,i,a,s){const o=this.getKeyForAutomaticLookahead(n,i);let l=this.firstAfterRepMap[o];if(l===void 0){const d=this.getCurrRuleFullName(),p=this.getGAstProductions()[d];l=new a(p,i).startWalking(),this.firstAfterRepMap[o]=l}let u=l.token,h=l.occurrence;const f=l.isEndOfRule;this.RULE_STACK.length===1&&f&&u===void 0&&(u=$f,h=1),!(u===void 0||h===void 0)&&this.shouldInRepetitionRecoveryBeTried(u,h,s)&&this.tryInRepetitionRecovery(t,e,r,u)}const aHe=4,nd=8,Qae=1<<nd,Zae=2<<nd,tL=3<<nd,rL=4<<nd,nL=5<<nd,Bw=6<<nd;function z8(t,e,r){return r|e|t}class KN{constructor(e){var r;this.maxLookahead=(r=e==null?void 0:e.maxLookahead)!==null&&r!==void 0?r:oh.maxLookahead}validate(e){const r=this.validateNoLeftRecursion(e.rules);if(ln(r)){const n=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),a=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...r,...n,...i,...a]}return r}validateNoLeftRecursion(e){return Po(e,r=>Uae(r,r,e0))}validateEmptyOrAlternatives(e){return Po(e,r=>Uze(r,e0))}validateAmbiguousAlternationAlternatives(e,r){return Po(e,n=>Gze(n,r,e0))}validateSomeNonEmptyLookaheadPath(e,r){return Yze(e,r,e0)}buildLookaheadForAlternation(e){return Lze(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,Rze)}buildLookaheadForOptional(e){return Dze(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,XN(e.prodType),Mze)}}class sHe{initLooksAhead(e){this.dynamicTokensEnabled=Pt(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:oh.dynamicTokensEnabled,this.maxLookahead=Pt(e,"maxLookahead")?e.maxLookahead:oh.maxLookahead,this.lookaheadStrategy=Pt(e,"lookaheadStrategy")?e.lookaheadStrategy:new KN({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){tt(e,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{const{alternation:n,repetition:i,option:a,repetitionMandatory:s,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:l}=lHe(r);tt(n,u=>{const h=u.idx===0?"":u.idx;this.TRACE_INIT(`${Ru(u)}${h}`,()=>{const f=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:r,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),d=z8(this.fullRuleNameToShort[r.name],Qae,u.idx);this.setLaFuncCache(d,f)})}),tt(i,u=>{this.computeLookaheadFunc(r,u.idx,tL,"Repetition",u.maxLookahead,Ru(u))}),tt(a,u=>{this.computeLookaheadFunc(r,u.idx,Zae,"Option",u.maxLookahead,Ru(u))}),tt(s,u=>{this.computeLookaheadFunc(r,u.idx,rL,"RepetitionMandatory",u.maxLookahead,Ru(u))}),tt(o,u=>{this.computeLookaheadFunc(r,u.idx,Bw,"RepetitionMandatoryWithSeparator",u.maxLookahead,Ru(u))}),tt(l,u=>{this.computeLookaheadFunc(r,u.idx,nL,"RepetitionWithSeparator",u.maxLookahead,Ru(u))})})})}computeLookaheadFunc(e,r,n,i,a,s){this.TRACE_INIT(`${s}${r===0?"":r}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:e,maxLookahead:a||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=z8(this.fullRuleNameToShort[e.name],n,r);this.setLaFuncCache(l,o)})}getKeyForAutomaticLookahead(e,r){const n=this.getLastExplicitRuleShortName();return z8(n,e,r)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,r){this.lookAheadFuncsCache.set(e,r)}}class oHe extends hv{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const A3=new oHe;function lHe(t){A3.reset(),t.accept(A3);const e=A3.dslMethods;return A3.reset(),e}function QV(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function ZV(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function uHe(t,e,r){t.children[r]===void 0?t.children[r]=[e]:t.children[r].push(e)}function cHe(t,e,r){t.children[e]===void 0?t.children[e]=[r]:t.children[e].push(r)}const hHe="name";function Jae(t,e){Object.defineProperty(t,hHe,{enumerable:!1,configurable:!0,writable:!1,value:e})}function fHe(t,e){const r=Zi(t),n=r.length;for(let i=0;i<n;i++){const a=r[i],s=t[a],o=s.length;for(let l=0;l<o;l++){const u=s[l];u.tokenTypeIdx===void 0&&this[u.name](u.children,e)}}}function dHe(t,e){const r=function(){};Jae(r,t+"BaseSemantics");const n={visit:function(i,a){if(Ur(i)&&(i=i[0]),!pn(i))return this[i.name](i.children,a)},validateVisitor:function(){const i=gHe(this,e);if(!ln(i)){const a=Ot(i,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${a.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=e,r}function pHe(t,e,r){const n=function(){};Jae(n,t+"BaseSemanticsWithDefaults");const i=Object.create(r.prototype);return tt(e,a=>{i[a]=fHe}),n.prototype=i,n.prototype.constructor=n,n}var iL;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(iL||(iL={}));function gHe(t,e){return vHe(t,e)}function vHe(t,e){const r=xi(e,i=>kl(t[i])===!1),n=Ot(r,i=>({msg:`Missing visitor method: <${i}> on ${t.constructor.name} CST Visitor.`,type:iL.MISSING_METHOD,methodName:i}));return vb(n)}class mHe{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Pt(e,"nodeLocationTracking")?e.nodeLocationTracking:oh.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=qi,this.cstFinallyStateUpdate=qi,this.cstPostTerminal=qi,this.cstPostNonTerminal=qi,this.cstPostRule=qi;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=ZV,this.setNodeLocationFromNode=ZV,this.cstPostRule=qi,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=qi,this.setNodeLocationFromNode=qi,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=QV,this.setNodeLocationFromNode=QV,this.cstPostRule=qi,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=qi,this.setNodeLocationFromNode=qi,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=qi,this.setNodeLocationFromNode=qi,this.cstPostRule=qi,this.setInitialNodeLocation=qi;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const r=this.LA(1);e.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const r={name:e,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(e){const r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(e,r){const n=this.CST_STACK[this.CST_STACK.length-1];uHe(n,r,e),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(e,r){const n=this.CST_STACK[this.CST_STACK.length-1];cHe(n,r,e),this.setNodeLocationFromNode(n.location,e.location)}getBaseCstVisitorConstructor(){if(pn(this.baseCstVisitorConstructor)){const e=dHe(this.className,Zi(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(pn(this.baseCstVisitorWithDefaultsConstructor)){const e=pHe(this.className,Zi(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class yHe{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Xk}LA(e){const r=this.currIdx+e;return r<0||this.tokVectorLength<=r?Xk:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class xHe{ACTION(e){return e.call(this)}consume(e,r,n){return this.consumeInternal(r,e,n)}subrule(e,r,n){return this.subruleInternal(r,e,n)}option(e,r){return this.optionInternal(r,e)}or(e,r){return this.orInternal(r,e)}many(e,r){return this.manyInternal(e,r)}atLeastOne(e,r){return this.atLeastOneInternal(e,r)}CONSUME(e,r){return this.consumeInternal(e,0,r)}CONSUME1(e,r){return this.consumeInternal(e,1,r)}CONSUME2(e,r){return this.consumeInternal(e,2,r)}CONSUME3(e,r){return this.consumeInternal(e,3,r)}CONSUME4(e,r){return this.consumeInternal(e,4,r)}CONSUME5(e,r){return this.consumeInternal(e,5,r)}CONSUME6(e,r){return this.consumeInternal(e,6,r)}CONSUME7(e,r){return this.consumeInternal(e,7,r)}CONSUME8(e,r){return this.consumeInternal(e,8,r)}CONSUME9(e,r){return this.consumeInternal(e,9,r)}SUBRULE(e,r){return this.subruleInternal(e,0,r)}SUBRULE1(e,r){return this.subruleInternal(e,1,r)}SUBRULE2(e,r){return this.subruleInternal(e,2,r)}SUBRULE3(e,r){return this.subruleInternal(e,3,r)}SUBRULE4(e,r){return this.subruleInternal(e,4,r)}SUBRULE5(e,r){return this.subruleInternal(e,5,r)}SUBRULE6(e,r){return this.subruleInternal(e,6,r)}SUBRULE7(e,r){return this.subruleInternal(e,7,r)}SUBRULE8(e,r){return this.subruleInternal(e,8,r)}SUBRULE9(e,r){return this.subruleInternal(e,9,r)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,r,n=jk){if(Ws(this.definedRulesNames,e)){const s={message:e0.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:zs.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(s)}this.definedRulesNames.push(e);const i=this.defineRule(e,r,n);return this[e]=i,i}OVERRIDE_RULE(e,r,n=jk){const i=Vze(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const a=this.defineRule(e,r,n);return this[e]=a,a}BACKTRACK(e,r){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return e.apply(this,r),!0}catch(i){if(qk(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return A$e(_n(this.gastProductionsCache))}}class bHe{initRecognizerEngine(e,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Wk,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Pt(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Ur(e)){if(ln(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Ur(e))this.tokensMap=$i(e,(a,s)=>(a[s.name]=s,a),{});else if(Pt(e,"modes")&&ru(xa(_n(e.modes)),mze)){const a=xa(_n(e.modes)),s=SN(a);this.tokensMap=$i(s,(o,l)=>(o[l.name]=l,o),{})}else if(po(e))this.tokensMap=sa(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=$f;const n=Pt(e,"modes")?xa(_n(e.modes)):_n(e),i=ru(n,a=>ln(a.categoryMatches));this.tokenMatcher=i?Wk:wb,kb(_n(this.tokensMap))}defineRule(e,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=Pt(n,"resyncEnabled")?n.resyncEnabled:jk.resyncEnabled,a=Pt(n,"recoveryValueFunc")?n.recoveryValueFunc:jk.recoveryValueFunc,s=this.ruleShortNameIdx<<aHe+nd;this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=e,this.fullRuleNameToShort[e]=s;let o;return this.outputCst===!0?o=function(...h){try{this.ruleInvocationStateUpdate(s,e,this.subruleIdx),r.apply(this,h);const f=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(f),f}catch(f){return this.invokeRuleCatch(f,i,a)}finally{this.ruleFinallyStateUpdate()}}:o=function(...h){try{return this.ruleInvocationStateUpdate(s,e,this.subruleIdx),r.apply(this,h)}catch(f){return this.invokeRuleCatch(f,i,a)}finally{this.ruleFinallyStateUpdate()}},Object.assign(o,{ruleName:e,originalGrammarAction:r})}invokeRuleCatch(e,r,n){const i=this.RULE_STACK.length===1,a=r&&!this.isBackTracking()&&this.recoveryEnabled;if(qk(e)){const s=e;if(a){const o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o))if(s.resyncedTokens=this.reSyncTo(o),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return n(e);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,s.partialCstResult=l}throw s}}else{if(i)return this.moveToTerminatedState(),n(e);throw s}}else throw e}optionInternal(e,r){const n=this.getKeyForAutomaticLookahead(Zae,r);return this.optionInternalLogic(e,r,n)}optionInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof e!="function"){a=e.DEF;const s=e.GATE;if(s!==void 0){const o=i;i=()=>s.call(this)&&o.call(this)}}else a=e;if(i.call(this)===!0)return a.call(this)}atLeastOneInternal(e,r){const n=this.getKeyForAutomaticLookahead(rL,e);return this.atLeastOneInternalLogic(e,r,n)}atLeastOneInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof r!="function"){a=r.DEF;const s=r.GATE;if(s!==void 0){const o=i;i=()=>s.call(this)&&o.call(this)}}else a=r;if(i.call(this)===!0){let s=this.doSingleRepetition(a);for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(a)}else throw this.raiseEarlyExitException(e,li.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,r],i,rL,e,Aze)}atLeastOneSepFirstInternal(e,r){const n=this.getKeyForAutomaticLookahead(Bw,e);this.atLeastOneSepFirstInternalLogic(e,r,n)}atLeastOneSepFirstInternalLogic(e,r,n){const i=r.DEF,a=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),a);for(;this.tokenMatcher(this.LA(1),a)===!0;)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,o,i,XV],o,Bw,e,XV)}else throw this.raiseEarlyExitException(e,li.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(e,r){const n=this.getKeyForAutomaticLookahead(tL,e);return this.manyInternalLogic(e,r,n)}manyInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof r!="function"){a=r.DEF;const o=r.GATE;if(o!==void 0){const l=i;i=()=>o.call(this)&&l.call(this)}}else a=r;let s=!0;for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(a);this.attemptInRepetitionRecovery(this.manyInternal,[e,r],i,tL,e,Cze,s)}manySepFirstInternal(e,r){const n=this.getKeyForAutomaticLookahead(nL,e);this.manySepFirstInternalLogic(e,r,n)}manySepFirstInternalLogic(e,r,n){const i=r.DEF,a=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),a);for(;this.tokenMatcher(this.LA(1),a)===!0;)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,o,i,YV],o,nL,e,YV)}}repetitionSepSecondInternal(e,r,n,i,a){for(;n();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,r,n,i,a],n,Bw,e,a)}doSingleRepetition(e){const r=this.getLexerPosition();return e.call(this),this.getLexerPosition()>r}orInternal(e,r){const n=this.getKeyForAutomaticLookahead(Qae,r),i=Ur(e)?e:e.DEF,s=this.getLaFuncFromCache(n).call(this,i);if(s!==void 0)return i[s].ALT.call(this);this.raiseNoAltException(r,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new eHe(r,e))}}subruleInternal(e,r,n){let i;try{const a=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,i=e.apply(this,a),this.cstPostNonTerminal(i,n!==void 0&&n.LABEL!==void 0?n.LABEL:e.ruleName),i}catch(a){throw this.subruleInternalError(a,n,e.ruleName)}}subruleInternalError(e,r,n){throw qk(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,r,n){let i;try{const a=this.LA(1);this.tokenMatcher(a,e)===!0?(this.consumeToken(),i=a):this.consumeInternalError(e,a,n)}catch(a){i=this.consumeInternalRecovery(e,r,a)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:e.name,i),i}consumeInternalError(e,r,n){let i;const a=this.LA(0);throw n!==void 0&&n.ERR_MSG?i=n.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:r,previous:a,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new jae(i,r,a))}consumeInternalRecovery(e,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(e,r);try{return this.tryInRuleRecovery(e,i)}catch(a){throw a.name===Kae?n:a}}else throw n}saveRecogState(){const e=this.errors,r=sa(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),$f)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class wHe{initErrorHandler(e){this._errors=[],this.errorMessageProvider=Pt(e,"errorMessageProvider")?e.errorMessageProvider:oh.errorMessageProvider}SAVE_ERROR(e){if(qk(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:sa(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return sa(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,r,n){const i=this.getCurrRuleFullName(),a=this.getGAstProductions()[i],o=BT(e,a,r,this.maxLookahead)[0],l=[];for(let h=1;h<=this.maxLookahead;h++)l.push(this.LA(h));const u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:l,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new tHe(u,this.LA(1),this.LA(0)))}raiseNoAltException(e,r){const n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],a=PT(e,i,this.maxLookahead),s=[];for(let u=1;u<=this.maxLookahead;u++)s.push(this.LA(u));const o=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:a,actual:s,previous:o,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Jze(l,this.LA(1),o))}}class kHe{initContentAssist(){}computeContentAssist(e,r){const n=this.gastProductionsCache[e];if(pn(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return Bae([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const r=cu(e.ruleStack),i=this.getGAstProductions()[r];return new Tze(i,e).startWalking()}}const zT={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(zT);const JV=!0,eU=Math.pow(2,nd)-1,ese=Fae({name:"RECORDING_PHASE_TOKEN",pattern:ho.NA});kb([ese]);const tse=YN(ese,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(tse);const SHe={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class EHe{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const r=e>0?e:"";this[`CONSUME${r}`]=function(n,i){return this.consumeInternalRecord(n,e,i)},this[`SUBRULE${r}`]=function(n,i){return this.subruleInternalRecord(n,e,i)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,e)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,e)},this[`MANY${r}`]=function(n){this.manyInternalRecord(e,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(e,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(e,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(e,n)}}this.consume=function(e,r,n){return this.consumeInternalRecord(r,e,n)},this.subrule=function(e,r,n){return this.subruleInternalRecord(r,e,n)},this.option=function(e,r){return this.optionInternalRecord(r,e)},this.or=function(e,r){return this.orInternalRecord(r,e)},this.many=function(e,r){this.manyInternalRecord(e,r)},this.atLeastOne=function(e,r){this.atLeastOneInternalRecord(e,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let r=0;r<10;r++){const n=r>0?r:"";delete e[`CONSUME${n}`],delete e[`SUBRULE${n}`],delete e[`OPTION${n}`],delete e[`OR${n}`],delete e[`MANY${n}`],delete e[`MANY_SEP${n}`],delete e[`AT_LEAST_ONE${n}`],delete e[`AT_LEAST_ONE_SEP${n}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,r){return()=>!0}LA_RECORD(e){return Xk}topLevelRuleRecord(e,r){try{const n=new cv({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(e,r){return Im.call(this,za,e,r)}atLeastOneInternalRecord(e,r){Im.call(this,Xo,r,e)}atLeastOneSepFirstInternalRecord(e,r){Im.call(this,jo,r,e,JV)}manyInternalRecord(e,r){Im.call(this,mi,r,e)}manySepFirstInternalRecord(e,r){Im.call(this,bo,r,e,JV)}orInternalRecord(e,r){return THe.call(this,e,r)}subruleInternalRecord(e,r,n){if(Yk(r),!e||Pt(e,"ruleName")===!1){const o=new Error(`<SUBRULE${tU(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=Yu(this.recordingProdStack),a=e.ruleName,s=new $s({idx:r,nonTerminalName:a,label:n==null?void 0:n.LABEL,referencedRule:void 0});return i.definition.push(s),this.outputCst?SHe:zT}consumeInternalRecord(e,r,n){if(Yk(r),!Iae(e)){const s=new Error(`<CONSUME${tU(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}const i=Yu(this.recordingProdStack),a=new Xn({idx:r,terminalType:e,label:n==null?void 0:n.LABEL});return i.definition.push(a),tse}}function Im(t,e,r,n=!1){Yk(r);const i=Yu(this.recordingProdStack),a=kl(e)?e:e.DEF,s=new t({definition:[],idx:r});return n&&(s.separator=e.SEP),Pt(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(s),a.call(this),i.definition.push(s),this.recordingProdStack.pop(),zT}function THe(t,e){Yk(e);const r=Yu(this.recordingProdStack),n=Ur(t)===!1,i=n===!1?t:t.DEF,a=new wo({definition:[],idx:e,ignoreAmbiguities:n&&t.IGNORE_AMBIGUITIES===!0});Pt(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD);const s=Pne(i,o=>kl(o.GATE));return a.hasPredicates=s,r.definition.push(a),tt(i,o=>{const l=new vo({definition:[]});a.definition.push(l),Pt(o,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:Pt(o,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),o.ALT.call(this),this.recordingProdStack.pop()}),zT}function tU(t){return t===0?"":`${t}`}function Yk(t){if(t<0||t>eU){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${eU+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class CHe{initPerformanceTracer(e){if(Pt(e,"traceInitPerf")){const r=e.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=oh.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,r){if(this.traceInitPerf===!0){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${e}>`);const{time:i,value:a}=Eae(r),s=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${n}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,a}else return r()}}function AHe(t,e){e.forEach(r=>{const n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;const a=Object.getOwnPropertyDescriptor(n,i);a&&(a.get||a.set)?Object.defineProperty(t.prototype,i,a):t.prototype[i]=r.prototype[i]})})}const Xk=YN($f,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Xk);const oh=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:bg,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),jk=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var zs;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(zs||(zs={}));function rU(t=void 0){return function(){return t}}class Sb{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const r=this.className;this.TRACE_INIT("toFastProps",()=>{Tae(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),tt(this.definedRulesNames,i=>{const s=this[i].originalGrammarAction;let o;this.TRACE_INIT(`${i} Rule`,()=>{o=this.topLevelRuleRecord(i,s)}),this.gastProductionsCache[i]=o})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=Qze({rules:_n(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(ln(n)&&this.skipValidations===!1){const i=Zze({rules:_n(this.gastProductionsCache),tokenTypes:_n(this.tokensMap),errMsgProvider:e0,grammarName:r}),a=Fze({lookaheadStrategy:this.lookaheadStrategy,rules:_n(this.gastProductionsCache),tokenTypes:_n(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,a)}}),ln(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=I$e(_n(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,a;(a=(i=this.lookaheadStrategy).initialize)===null||a===void 0||a.call(i,{rules:_n(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(_n(this.gastProductionsCache))})),!Sb.DEFER_DEFINITION_ERRORS_HANDLING&&!ln(this.definitionErrors))throw e=Ot(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,r){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(e,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),Pt(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Pt(r,"skipValidations")?r.skipValidations:oh.skipValidations}}Sb.DEFER_DEFINITION_ERRORS_HANDLING=!1;AHe(Sb,[nHe,sHe,mHe,yHe,bHe,xHe,wHe,kHe,EHe,CHe]);class _He extends Sb{constructor(e,r=oh){const n=sa(r);n.outputCst=!1,super(e,n)}}function C1(t,e,r){return`${t.name}_${e}_${r}`}const zf=1,LHe=2,rse=4,nse=5,Eb=7,DHe=8,RHe=9,MHe=10,NHe=11,ise=12;class QN{constructor(e){this.target=e}isEpsilon(){return!1}}class ZN extends QN{constructor(e,r){super(e),this.tokenType=r}}class ase extends QN{constructor(e){super(e)}isEpsilon(){return!0}}class JN extends QN{constructor(e,r,n){super(e),this.rule=r,this.followState=n}isEpsilon(){return!0}}function IHe(t){const e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};OHe(e,t);const r=t.length;for(let n=0;n<r;n++){const i=t[n],a=fp(e,i,i);a!==void 0&&qHe(e,i,a)}return e}function OHe(t,e){const r=e.length;for(let n=0;n<r;n++){const i=e[n],a=ba(t,i,void 0,{type:LHe}),s=ba(t,i,void 0,{type:Eb});a.stop=s,t.ruleToStartState.set(i,a),t.ruleToStopState.set(i,s)}}function sse(t,e,r){return r instanceof Xn?eI(t,e,r.terminalType,r):r instanceof $s?WHe(t,e,r):r instanceof wo?zHe(t,e,r):r instanceof za?HHe(t,e,r):r instanceof mi?FHe(t,e,r):r instanceof bo?PHe(t,e,r):r instanceof Xo?BHe(t,e,r):r instanceof jo?$He(t,e,r):fp(t,e,r)}function FHe(t,e,r){const n=ba(t,e,r,{type:nse});id(t,n);const i=fv(t,e,n,r,fp(t,e,r));return lse(t,e,r,i)}function PHe(t,e,r){const n=ba(t,e,r,{type:nse});id(t,n);const i=fv(t,e,n,r,fp(t,e,r)),a=eI(t,e,r.separator,r);return lse(t,e,r,i,a)}function BHe(t,e,r){const n=ba(t,e,r,{type:rse});id(t,n);const i=fv(t,e,n,r,fp(t,e,r));return ose(t,e,r,i)}function $He(t,e,r){const n=ba(t,e,r,{type:rse});id(t,n);const i=fv(t,e,n,r,fp(t,e,r)),a=eI(t,e,r.separator,r);return ose(t,e,r,i,a)}function zHe(t,e,r){const n=ba(t,e,r,{type:zf});id(t,n);const i=Ot(r.definition,s=>sse(t,e,s));return fv(t,e,n,r,...i)}function HHe(t,e,r){const n=ba(t,e,r,{type:zf});id(t,n);const i=fv(t,e,n,r,fp(t,e,r));return VHe(t,e,r,i)}function fp(t,e,r){const n=xi(Ot(r.definition,i=>sse(t,e,i)),i=>i!==void 0);return n.length===1?n[0]:n.length===0?void 0:GHe(t,n)}function ose(t,e,r,n,i){const a=n.left,s=n.right,o=ba(t,e,r,{type:NHe});id(t,o);const l=ba(t,e,r,{type:ise});return a.loopback=o,l.loopback=o,t.decisionMap[C1(e,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=o,Ii(s,o),i===void 0?(Ii(o,a),Ii(o,l)):(Ii(o,l),Ii(o,i.left),Ii(i.right,a)),{left:a,right:l}}function lse(t,e,r,n,i){const a=n.left,s=n.right,o=ba(t,e,r,{type:MHe});id(t,o);const l=ba(t,e,r,{type:ise}),u=ba(t,e,r,{type:RHe});return o.loopback=u,l.loopback=u,Ii(o,a),Ii(o,l),Ii(s,u),i!==void 0?(Ii(u,l),Ii(u,i.left),Ii(i.right,a)):Ii(u,o),t.decisionMap[C1(e,i?"RepetitionWithSeparator":"Repetition",r.idx)]=o,{left:o,right:l}}function VHe(t,e,r,n){const i=n.left,a=n.right;return Ii(i,a),t.decisionMap[C1(e,"Option",r.idx)]=i,n}function id(t,e){return t.decisionStates.push(e),e.decision=t.decisionStates.length-1,e.decision}function fv(t,e,r,n,...i){const a=ba(t,e,n,{type:DHe,start:r});r.end=a;for(const o of i)o!==void 0?(Ii(r,o.left),Ii(o.right,a)):Ii(r,a);const s={left:r,right:a};return t.decisionMap[C1(e,UHe(n),n.idx)]=r,s}function UHe(t){if(t instanceof wo)return"Alternation";if(t instanceof za)return"Option";if(t instanceof mi)return"Repetition";if(t instanceof bo)return"RepetitionWithSeparator";if(t instanceof Xo)return"RepetitionMandatory";if(t instanceof jo)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function GHe(t,e){const r=e.length;for(let a=0;a<r-1;a++){const s=e[a];let o;s.left.transitions.length===1&&(o=s.left.transitions[0]);const l=o instanceof JN,u=o,h=e[a+1].left;s.left.type===zf&&s.right.type===zf&&o!==void 0&&(l&&u.followState===s.right||o.target===s.right)?(l?u.followState=h:o.target=h,YHe(t,s.right)):Ii(s.right,h)}const n=e[0],i=e[r-1];return{left:n.left,right:i.right}}function eI(t,e,r,n){const i=ba(t,e,n,{type:zf}),a=ba(t,e,n,{type:zf});return tI(i,new ZN(a,r)),{left:i,right:a}}function WHe(t,e,r){const n=r.referencedRule,i=t.ruleToStartState.get(n),a=ba(t,e,r,{type:zf}),s=ba(t,e,r,{type:zf}),o=new JN(i,n,s);return tI(a,o),{left:a,right:s}}function qHe(t,e,r){const n=t.ruleToStartState.get(e);Ii(n,r.left);const i=t.ruleToStopState.get(e);return Ii(r.right,i),{left:n,right:i}}function Ii(t,e){const r=new ase(e);tI(t,r)}function ba(t,e,r,n){const i=Object.assign({atn:t,production:r,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:t.states.length},n);return t.states.push(i),i}function tI(t,e){t.transitions.length===0&&(t.epsilonOnlyTransitions=e.isEpsilon()),t.transitions.push(e)}function YHe(t,e){t.states.splice(t.states.indexOf(e),1)}const Kk={};class aL{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const r=use(e);r in this.map||(this.map[r]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return Ot(this.configs,e=>e.alt)}get key(){let e="";for(const r in this.map)e+=r+":";return e}}function use(t,e=!0){return`${e?`a${t.alt}`:""}s${t.state.stateNumber}:${t.stack.map(r=>r.stateNumber.toString()).join("_")}`}function XHe(t,e){const r={};return n=>{const i=n.toString();let a=r[i];return a!==void 0||(a={atnStartState:t,decision:e,states:{}},r[i]=a),a}}class cse{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,r){this.predicates[e]=r}toString(){let e="";const r=this.predicates.length;for(let n=0;n<r;n++)e+=this.predicates[n]===!0?"1":"0";return e}}const nU=new cse;class jHe extends KN{constructor(e){var r;super(),this.logging=(r=e==null?void 0:e.logging)!==null&&r!==void 0?r:n=>console.log(n)}initialize(e){this.atn=IHe(e.rules),this.dfas=KHe(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:r,rule:n,hasPredicates:i,dynamicTokensEnabled:a}=e,s=this.dfas,o=this.logging,l=C1(n,"Alternation",r),h=this.atn.decisionMap[l].decision,f=Ot(jV({maxLookahead:1,occurrence:r,prodType:"Alternation",rule:n}),d=>Ot(d,p=>p[0]));if(iU(f,!1)&&!a){const d=$i(f,(p,v,m)=>(tt(v,x=>{x&&(p[x.tokenTypeIdx]=m,tt(x.categoryMatches,y=>{p[y]=m}))}),p),{});return i?function(p){var v;const m=this.LA(1),x=d[m.tokenTypeIdx];if(p!==void 0&&x!==void 0){const y=(v=p[x])===null||v===void 0?void 0:v.GATE;if(y!==void 0&&y.call(this)===!1)return}return x}:function(){const p=this.LA(1);return d[p.tokenTypeIdx]}}else return i?function(d){const p=new cse,v=d===void 0?0:d.length;for(let x=0;x<v;x++){const y=d==null?void 0:d[x].GATE;p.set(x,y===void 0||y.call(this))}const m=H8.call(this,s,h,p,o);return typeof m=="number"?m:void 0}:function(){const d=H8.call(this,s,h,nU,o);return typeof d=="number"?d:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:r,rule:n,prodType:i,dynamicTokensEnabled:a}=e,s=this.dfas,o=this.logging,l=C1(n,i,r),h=this.atn.decisionMap[l].decision,f=Ot(jV({maxLookahead:1,occurrence:r,prodType:i,rule:n}),d=>Ot(d,p=>p[0]));if(iU(f)&&f[0][0]&&!a){const d=f[0],p=xa(d);if(p.length===1&&ln(p[0].categoryMatches)){const m=p[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===m}}else{const v=$i(p,(m,x)=>(x!==void 0&&(m[x.tokenTypeIdx]=!0,tt(x.categoryMatches,y=>{m[y]=!0})),m),{});return function(){const m=this.LA(1);return v[m.tokenTypeIdx]===!0}}}return function(){const d=H8.call(this,s,h,nU,o);return typeof d=="object"?!1:d===0}}}function iU(t,e=!0){const r=new Set;for(const n of t){const i=new Set;for(const a of n){if(a===void 0){if(e)break;return!1}const s=[a.tokenTypeIdx].concat(a.categoryMatches);for(const o of s)if(r.has(o)){if(!i.has(o))return!1}else r.add(o),i.add(o)}}return!0}function KHe(t){const e=t.decisionStates.length,r=Array(e);for(let n=0;n<e;n++)r[n]=XHe(t.decisionStates[n],n);return r}function H8(t,e,r,n){const i=t[e](r);let a=i.start;if(a===void 0){const o=oVe(i.atnStartState);a=fse(i,hse(o)),i.start=a}return QHe.apply(this,[i,a,r,n])}function QHe(t,e,r,n){let i=e,a=1;const s=[];let o=this.LA(a++);for(;;){let l=nVe(i,o);if(l===void 0&&(l=ZHe.apply(this,[t,i,o,a,r,n])),l===Kk)return rVe(s,i,o);if(l.isAcceptState===!0)return l.prediction;i=l,s.push(o),o=this.LA(a++)}}function ZHe(t,e,r,n,i,a){const s=iVe(e.configs,r,i);if(s.size===0)return aU(t,e,r,Kk),Kk;let o=hse(s);const l=sVe(s,i);if(l!==void 0)o.isAcceptState=!0,o.prediction=l,o.configs.uniqueAlt=l;else if(hVe(s)){const u=k1(s.alts);o.isAcceptState=!0,o.prediction=u,o.configs.uniqueAlt=u,JHe.apply(this,[t,n,s.alts,a])}return o=aU(t,e,r,o),o}function JHe(t,e,r,n){const i=[];for(let u=1;u<=e;u++)i.push(this.LA(u).tokenType);const a=t.atnStartState,s=a.rule,o=a.production,l=eVe({topLevelRule:s,ambiguityIndices:r,production:o,prefixPath:i});n(l)}function eVe(t){const e=Ot(t.prefixPath,i=>Bg(i)).join(", "),r=t.production.idx===0?"":t.production.idx;let n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(", ")}> in <${tVe(t.production)}${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}function tVe(t){if(t instanceof $s)return"SUBRULE";if(t instanceof za)return"OPTION";if(t instanceof wo)return"OR";if(t instanceof Xo)return"AT_LEAST_ONE";if(t instanceof jo)return"AT_LEAST_ONE_SEP";if(t instanceof bo)return"MANY_SEP";if(t instanceof mi)return"MANY";if(t instanceof Xn)return"CONSUME";throw Error("non exhaustive match")}function rVe(t,e,r){const n=Po(e.configs.elements,a=>a.state.transitions),i=GNe(n.filter(a=>a instanceof ZN).map(a=>a.tokenType),a=>a.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:i,tokenPath:t}}function nVe(t,e){return t.edges[e.tokenTypeIdx]}function iVe(t,e,r){const n=new aL,i=[];for(const s of t.elements){if(r.is(s.alt)===!1)continue;if(s.state.type===Eb){i.push(s);continue}const o=s.state.transitions.length;for(let l=0;l<o;l++){const u=s.state.transitions[l],h=aVe(u,e);h!==void 0&&n.add({state:h,alt:s.alt,stack:s.stack})}}let a;if(i.length===0&&n.size===1&&(a=n),a===void 0){a=new aL;for(const s of n.elements)Qk(s,a)}if(i.length>0&&!uVe(a))for(const s of i)a.add(s);return a}function aVe(t,e){if(t instanceof ZN&&Pae(e,t.tokenType))return t.target}function sVe(t,e){let r;for(const n of t.elements)if(e.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}function hse(t){return{configs:t,edges:{},isAcceptState:!1,prediction:-1}}function aU(t,e,r,n){return n=fse(t,n),e.edges[r.tokenTypeIdx]=n,n}function fse(t,e){if(e===Kk)return e;const r=e.configs.key,n=t.states[r];return n!==void 0?n:(e.configs.finalize(),t.states[r]=e,e)}function oVe(t){const e=new aL,r=t.transitions.length;for(let n=0;n<r;n++){const a={state:t.transitions[n].target,alt:n,stack:[]};Qk(a,e)}return e}function Qk(t,e){const r=t.state;if(r.type===Eb){if(t.stack.length>0){const i=[...t.stack],s={state:i.pop(),alt:t.alt,stack:i};Qk(s,e)}else e.add(t);return}r.epsilonOnlyTransitions||e.add(t);const n=r.transitions.length;for(let i=0;i<n;i++){const a=r.transitions[i],s=lVe(t,a);s!==void 0&&Qk(s,e)}}function lVe(t,e){if(e instanceof ase)return{state:e.target,alt:t.alt,stack:t.stack};if(e instanceof JN){const r=[...t.stack,e.followState];return{state:e.target,alt:t.alt,stack:r}}}function uVe(t){for(const e of t.elements)if(e.state.type===Eb)return!0;return!1}function cVe(t){for(const e of t.elements)if(e.state.type!==Eb)return!1;return!0}function hVe(t){if(cVe(t))return!0;const e=fVe(t.elements);return dVe(e)&&!pVe(e)}function fVe(t){const e=new Map;for(const r of t){const n=use(r,!1);let i=e.get(n);i===void 0&&(i={},e.set(n,i)),i[r.alt]=!0}return e}function dVe(t){for(const e of Array.from(t.values()))if(Object.keys(e).length>1)return!0;return!1}function pVe(t){for(const e of Array.from(t.values()))if(Object.keys(e).length===1)return!0;return!1}var sU;(function(t){function e(r){return typeof r=="string"}t.is=e})(sU||(sU={}));var sL;(function(t){function e(r){return typeof r=="string"}t.is=e})(sL||(sL={}));var oU;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}t.is=e})(oU||(oU={}));var Zk;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}t.is=e})(Zk||(Zk={}));var hn;(function(t){function e(n,i){return n===Number.MAX_VALUE&&(n=Zk.MAX_VALUE),i===Number.MAX_VALUE&&(i=Zk.MAX_VALUE),{line:n,character:i}}t.create=e;function r(n){let i=n;return nt.objectLiteral(i)&&nt.uinteger(i.line)&&nt.uinteger(i.character)}t.is=r})(hn||(hn={}));var Xr;(function(t){function e(n,i,a,s){if(nt.uinteger(n)&&nt.uinteger(i)&&nt.uinteger(a)&&nt.uinteger(s))return{start:hn.create(n,i),end:hn.create(a,s)};if(hn.is(n)&&hn.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${a}, ${s}]`)}t.create=e;function r(n){let i=n;return nt.objectLiteral(i)&&hn.is(i.start)&&hn.is(i.end)}t.is=r})(Xr||(Xr={}));var Jk;(function(t){function e(n,i){return{uri:n,range:i}}t.create=e;function r(n){let i=n;return nt.objectLiteral(i)&&Xr.is(i.range)&&(nt.string(i.uri)||nt.undefined(i.uri))}t.is=r})(Jk||(Jk={}));var lU;(function(t){function e(n,i,a,s){return{targetUri:n,targetRange:i,targetSelectionRange:a,originSelectionRange:s}}t.create=e;function r(n){let i=n;return nt.objectLiteral(i)&&Xr.is(i.targetRange)&&nt.string(i.targetUri)&&Xr.is(i.targetSelectionRange)&&(Xr.is(i.originSelectionRange)||nt.undefined(i.originSelectionRange))}t.is=r})(lU||(lU={}));var oL;(function(t){function e(n,i,a,s){return{red:n,green:i,blue:a,alpha:s}}t.create=e;function r(n){const i=n;return nt.objectLiteral(i)&&nt.numberRange(i.red,0,1)&&nt.numberRange(i.green,0,1)&&nt.numberRange(i.blue,0,1)&&nt.numberRange(i.alpha,0,1)}t.is=r})(oL||(oL={}));var uU;(function(t){function e(n,i){return{range:n,color:i}}t.create=e;function r(n){const i=n;return nt.objectLiteral(i)&&Xr.is(i.range)&&oL.is(i.color)}t.is=r})(uU||(uU={}));var cU;(function(t){function e(n,i,a){return{label:n,textEdit:i,additionalTextEdits:a}}t.create=e;function r(n){const i=n;return nt.objectLiteral(i)&&nt.string(i.label)&&(nt.undefined(i.textEdit)||_1.is(i))&&(nt.undefined(i.additionalTextEdits)||nt.typedArray(i.additionalTextEdits,_1.is))}t.is=r})(cU||(cU={}));var hU;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(hU||(hU={}));var fU;(function(t){function e(n,i,a,s,o,l){const u={startLine:n,endLine:i};return nt.defined(a)&&(u.startCharacter=a),nt.defined(s)&&(u.endCharacter=s),nt.defined(o)&&(u.kind=o),nt.defined(l)&&(u.collapsedText=l),u}t.create=e;function r(n){const i=n;return nt.objectLiteral(i)&&nt.uinteger(i.startLine)&&nt.uinteger(i.startLine)&&(nt.undefined(i.startCharacter)||nt.uinteger(i.startCharacter))&&(nt.undefined(i.endCharacter)||nt.uinteger(i.endCharacter))&&(nt.undefined(i.kind)||nt.string(i.kind))}t.is=r})(fU||(fU={}));var lL;(function(t){function e(n,i){return{location:n,message:i}}t.create=e;function r(n){let i=n;return nt.defined(i)&&Jk.is(i.location)&&nt.string(i.message)}t.is=r})(lL||(lL={}));var dU;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(dU||(dU={}));var pU;(function(t){t.Unnecessary=1,t.Deprecated=2})(pU||(pU={}));var gU;(function(t){function e(r){const n=r;return nt.objectLiteral(n)&&nt.string(n.href)}t.is=e})(gU||(gU={}));var eS;(function(t){function e(n,i,a,s,o,l){let u={range:n,message:i};return nt.defined(a)&&(u.severity=a),nt.defined(s)&&(u.code=s),nt.defined(o)&&(u.source=o),nt.defined(l)&&(u.relatedInformation=l),u}t.create=e;function r(n){var i;let a=n;return nt.defined(a)&&Xr.is(a.range)&&nt.string(a.message)&&(nt.number(a.severity)||nt.undefined(a.severity))&&(nt.integer(a.code)||nt.string(a.code)||nt.undefined(a.code))&&(nt.undefined(a.codeDescription)||nt.string((i=a.codeDescription)===null||i===void 0?void 0:i.href))&&(nt.string(a.source)||nt.undefined(a.source))&&(nt.undefined(a.relatedInformation)||nt.typedArray(a.relatedInformation,lL.is))}t.is=r})(eS||(eS={}));var A1;(function(t){function e(n,i,...a){let s={title:n,command:i};return nt.defined(a)&&a.length>0&&(s.arguments=a),s}t.create=e;function r(n){let i=n;return nt.defined(i)&&nt.string(i.title)&&nt.string(i.command)}t.is=r})(A1||(A1={}));var _1;(function(t){function e(a,s){return{range:a,newText:s}}t.replace=e;function r(a,s){return{range:{start:a,end:a},newText:s}}t.insert=r;function n(a){return{range:a,newText:""}}t.del=n;function i(a){const s=a;return nt.objectLiteral(s)&&nt.string(s.newText)&&Xr.is(s.range)}t.is=i})(_1||(_1={}));var uL;(function(t){function e(n,i,a){const s={label:n};return i!==void 0&&(s.needsConfirmation=i),a!==void 0&&(s.description=a),s}t.create=e;function r(n){const i=n;return nt.objectLiteral(i)&&nt.string(i.label)&&(nt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(nt.string(i.description)||i.description===void 0)}t.is=r})(uL||(uL={}));var L1;(function(t){function e(r){const n=r;return nt.string(n)}t.is=e})(L1||(L1={}));var vU;(function(t){function e(a,s,o){return{range:a,newText:s,annotationId:o}}t.replace=e;function r(a,s,o){return{range:{start:a,end:a},newText:s,annotationId:o}}t.insert=r;function n(a,s){return{range:a,newText:"",annotationId:s}}t.del=n;function i(a){const s=a;return _1.is(s)&&(uL.is(s.annotationId)||L1.is(s.annotationId))}t.is=i})(vU||(vU={}));var cL;(function(t){function e(n,i){return{textDocument:n,edits:i}}t.create=e;function r(n){let i=n;return nt.defined(i)&&gL.is(i.textDocument)&&Array.isArray(i.edits)}t.is=r})(cL||(cL={}));var hL;(function(t){function e(n,i,a){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),a!==void 0&&(s.annotationId=a),s}t.create=e;function r(n){let i=n;return i&&i.kind==="create"&&nt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||nt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||nt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||L1.is(i.annotationId))}t.is=r})(hL||(hL={}));var fL;(function(t){function e(n,i,a,s){let o={kind:"rename",oldUri:n,newUri:i};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(o.options=a),s!==void 0&&(o.annotationId=s),o}t.create=e;function r(n){let i=n;return i&&i.kind==="rename"&&nt.string(i.oldUri)&&nt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||nt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||nt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||L1.is(i.annotationId))}t.is=r})(fL||(fL={}));var dL;(function(t){function e(n,i,a){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),a!==void 0&&(s.annotationId=a),s}t.create=e;function r(n){let i=n;return i&&i.kind==="delete"&&nt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||nt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||nt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||L1.is(i.annotationId))}t.is=r})(dL||(dL={}));var pL;(function(t){function e(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>nt.string(i.kind)?hL.is(i)||fL.is(i)||dL.is(i):cL.is(i)))}t.is=e})(pL||(pL={}));var mU;(function(t){function e(n){return{uri:n}}t.create=e;function r(n){let i=n;return nt.defined(i)&&nt.string(i.uri)}t.is=r})(mU||(mU={}));var yU;(function(t){function e(n,i){return{uri:n,version:i}}t.create=e;function r(n){let i=n;return nt.defined(i)&&nt.string(i.uri)&&nt.integer(i.version)}t.is=r})(yU||(yU={}));var gL;(function(t){function e(n,i){return{uri:n,version:i}}t.create=e;function r(n){let i=n;return nt.defined(i)&&nt.string(i.uri)&&(i.version===null||nt.integer(i.version))}t.is=r})(gL||(gL={}));var xU;(function(t){function e(n,i,a,s){return{uri:n,languageId:i,version:a,text:s}}t.create=e;function r(n){let i=n;return nt.defined(i)&&nt.string(i.uri)&&nt.string(i.languageId)&&nt.integer(i.version)&&nt.string(i.text)}t.is=r})(xU||(xU={}));var vL;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(r){const n=r;return n===t.PlainText||n===t.Markdown}t.is=e})(vL||(vL={}));var R2;(function(t){function e(r){const n=r;return nt.objectLiteral(r)&&vL.is(n.kind)&&nt.string(n.value)}t.is=e})(R2||(R2={}));var bU;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(bU||(bU={}));var wU;(function(t){t.PlainText=1,t.Snippet=2})(wU||(wU={}));var kU;(function(t){t.Deprecated=1})(kU||(kU={}));var SU;(function(t){function e(n,i,a){return{newText:n,insert:i,replace:a}}t.create=e;function r(n){const i=n;return i&&nt.string(i.newText)&&Xr.is(i.insert)&&Xr.is(i.replace)}t.is=r})(SU||(SU={}));var EU;(function(t){t.asIs=1,t.adjustIndentation=2})(EU||(EU={}));var TU;(function(t){function e(r){const n=r;return n&&(nt.string(n.detail)||n.detail===void 0)&&(nt.string(n.description)||n.description===void 0)}t.is=e})(TU||(TU={}));var CU;(function(t){function e(r){return{label:r}}t.create=e})(CU||(CU={}));var AU;(function(t){function e(r,n){return{items:r||[],isIncomplete:!!n}}t.create=e})(AU||(AU={}));var tS;(function(t){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function r(n){const i=n;return nt.string(i)||nt.objectLiteral(i)&&nt.string(i.language)&&nt.string(i.value)}t.is=r})(tS||(tS={}));var _U;(function(t){function e(r){let n=r;return!!n&&nt.objectLiteral(n)&&(R2.is(n.contents)||tS.is(n.contents)||nt.typedArray(n.contents,tS.is))&&(r.range===void 0||Xr.is(r.range))}t.is=e})(_U||(_U={}));var LU;(function(t){function e(r,n){return n?{label:r,documentation:n}:{label:r}}t.create=e})(LU||(LU={}));var DU;(function(t){function e(r,n,...i){let a={label:r};return nt.defined(n)&&(a.documentation=n),nt.defined(i)?a.parameters=i:a.parameters=[],a}t.create=e})(DU||(DU={}));var RU;(function(t){t.Text=1,t.Read=2,t.Write=3})(RU||(RU={}));var MU;(function(t){function e(r,n){let i={range:r};return nt.number(n)&&(i.kind=n),i}t.create=e})(MU||(MU={}));var NU;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(NU||(NU={}));var IU;(function(t){t.Deprecated=1})(IU||(IU={}));var OU;(function(t){function e(r,n,i,a,s){let o={name:r,kind:n,location:{uri:a,range:i}};return s&&(o.containerName=s),o}t.create=e})(OU||(OU={}));var FU;(function(t){function e(r,n,i,a){return a!==void 0?{name:r,kind:n,location:{uri:i,range:a}}:{name:r,kind:n,location:{uri:i}}}t.create=e})(FU||(FU={}));var PU;(function(t){function e(n,i,a,s,o,l){let u={name:n,detail:i,kind:a,range:s,selectionRange:o};return l!==void 0&&(u.children=l),u}t.create=e;function r(n){let i=n;return i&&nt.string(i.name)&&nt.number(i.kind)&&Xr.is(i.range)&&Xr.is(i.selectionRange)&&(i.detail===void 0||nt.string(i.detail))&&(i.deprecated===void 0||nt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}t.is=r})(PU||(PU={}));var BU;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(BU||(BU={}));var rS;(function(t){t.Invoked=1,t.Automatic=2})(rS||(rS={}));var $U;(function(t){function e(n,i,a){let s={diagnostics:n};return i!=null&&(s.only=i),a!=null&&(s.triggerKind=a),s}t.create=e;function r(n){let i=n;return nt.defined(i)&&nt.typedArray(i.diagnostics,eS.is)&&(i.only===void 0||nt.typedArray(i.only,nt.string))&&(i.triggerKind===void 0||i.triggerKind===rS.Invoked||i.triggerKind===rS.Automatic)}t.is=r})($U||($U={}));var zU;(function(t){function e(n,i,a){let s={title:n},o=!0;return typeof i=="string"?(o=!1,s.kind=i):A1.is(i)?s.command=i:s.edit=i,o&&a!==void 0&&(s.kind=a),s}t.create=e;function r(n){let i=n;return i&&nt.string(i.title)&&(i.diagnostics===void 0||nt.typedArray(i.diagnostics,eS.is))&&(i.kind===void 0||nt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||A1.is(i.command))&&(i.isPreferred===void 0||nt.boolean(i.isPreferred))&&(i.edit===void 0||pL.is(i.edit))}t.is=r})(zU||(zU={}));var HU;(function(t){function e(n,i){let a={range:n};return nt.defined(i)&&(a.data=i),a}t.create=e;function r(n){let i=n;return nt.defined(i)&&Xr.is(i.range)&&(nt.undefined(i.command)||A1.is(i.command))}t.is=r})(HU||(HU={}));var VU;(function(t){function e(n,i){return{tabSize:n,insertSpaces:i}}t.create=e;function r(n){let i=n;return nt.defined(i)&&nt.uinteger(i.tabSize)&&nt.boolean(i.insertSpaces)}t.is=r})(VU||(VU={}));var UU;(function(t){function e(n,i,a){return{range:n,target:i,data:a}}t.create=e;function r(n){let i=n;return nt.defined(i)&&Xr.is(i.range)&&(nt.undefined(i.target)||nt.string(i.target))}t.is=r})(UU||(UU={}));var GU;(function(t){function e(n,i){return{range:n,parent:i}}t.create=e;function r(n){let i=n;return nt.objectLiteral(i)&&Xr.is(i.range)&&(i.parent===void 0||t.is(i.parent))}t.is=r})(GU||(GU={}));var WU;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(WU||(WU={}));var qU;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(qU||(qU={}));var YU;(function(t){function e(r){const n=r;return nt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}t.is=e})(YU||(YU={}));var XU;(function(t){function e(n,i){return{range:n,text:i}}t.create=e;function r(n){const i=n;return i!=null&&Xr.is(i.range)&&nt.string(i.text)}t.is=r})(XU||(XU={}));var jU;(function(t){function e(n,i,a){return{range:n,variableName:i,caseSensitiveLookup:a}}t.create=e;function r(n){const i=n;return i!=null&&Xr.is(i.range)&&nt.boolean(i.caseSensitiveLookup)&&(nt.string(i.variableName)||i.variableName===void 0)}t.is=r})(jU||(jU={}));var KU;(function(t){function e(n,i){return{range:n,expression:i}}t.create=e;function r(n){const i=n;return i!=null&&Xr.is(i.range)&&(nt.string(i.expression)||i.expression===void 0)}t.is=r})(KU||(KU={}));var QU;(function(t){function e(n,i){return{frameId:n,stoppedLocation:i}}t.create=e;function r(n){const i=n;return nt.defined(i)&&Xr.is(n.stoppedLocation)}t.is=r})(QU||(QU={}));var mL;(function(t){t.Type=1,t.Parameter=2;function e(r){return r===1||r===2}t.is=e})(mL||(mL={}));var yL;(function(t){function e(n){return{value:n}}t.create=e;function r(n){const i=n;return nt.objectLiteral(i)&&(i.tooltip===void 0||nt.string(i.tooltip)||R2.is(i.tooltip))&&(i.location===void 0||Jk.is(i.location))&&(i.command===void 0||A1.is(i.command))}t.is=r})(yL||(yL={}));var ZU;(function(t){function e(n,i,a){const s={position:n,label:i};return a!==void 0&&(s.kind=a),s}t.create=e;function r(n){const i=n;return nt.objectLiteral(i)&&hn.is(i.position)&&(nt.string(i.label)||nt.typedArray(i.label,yL.is))&&(i.kind===void 0||mL.is(i.kind))&&i.textEdits===void 0||nt.typedArray(i.textEdits,_1.is)&&(i.tooltip===void 0||nt.string(i.tooltip)||R2.is(i.tooltip))&&(i.paddingLeft===void 0||nt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||nt.boolean(i.paddingRight))}t.is=r})(ZU||(ZU={}));var JU;(function(t){function e(r){return{kind:"snippet",value:r}}t.createSnippet=e})(JU||(JU={}));var eG;(function(t){function e(r,n,i,a){return{insertText:r,filterText:n,range:i,command:a}}t.create=e})(eG||(eG={}));var tG;(function(t){function e(r){return{items:r}}t.create=e})(tG||(tG={}));var rG;(function(t){t.Invoked=0,t.Automatic=1})(rG||(rG={}));var nG;(function(t){function e(r,n){return{range:r,text:n}}t.create=e})(nG||(nG={}));var iG;(function(t){function e(r,n){return{triggerKind:r,selectedCompletionInfo:n}}t.create=e})(iG||(iG={}));var aG;(function(t){function e(r){const n=r;return nt.objectLiteral(n)&&sL.is(n.uri)&&nt.string(n.name)}t.is=e})(aG||(aG={}));var sG;(function(t){function e(a,s,o,l){return new gVe(a,s,o,l)}t.create=e;function r(a){let s=a;return!!(nt.defined(s)&&nt.string(s.uri)&&(nt.undefined(s.languageId)||nt.string(s.languageId))&&nt.uinteger(s.lineCount)&&nt.func(s.getText)&&nt.func(s.positionAt)&&nt.func(s.offsetAt))}t.is=r;function n(a,s){let o=a.getText(),l=i(s,(h,f)=>{let d=h.range.start.line-f.range.start.line;return d===0?h.range.start.character-f.range.start.character:d}),u=o.length;for(let h=l.length-1;h>=0;h--){let f=l[h],d=a.offsetAt(f.range.start),p=a.offsetAt(f.range.end);if(p<=u)o=o.substring(0,d)+f.newText+o.substring(p,o.length);else throw new Error("Overlapping edit");u=d}return o}t.applyEdits=n;function i(a,s){if(a.length<=1)return a;const o=a.length/2|0,l=a.slice(0,o),u=a.slice(o);i(l,s),i(u,s);let h=0,f=0,d=0;for(;h<l.length&&f<u.length;)s(l[h],u[f])<=0?a[d++]=l[h++]:a[d++]=u[f++];for(;h<l.length;)a[d++]=l[h++];for(;f<u.length;)a[d++]=u[f++];return a}})(sG||(sG={}));let gVe=class{constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){this._content=e.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(e.push(i),n=!1);let a=r.charAt(i);n=a==="\r"||a===`
`,a==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&e.push(r.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return hn.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);r[s]>e?i=s:n=s+1}let a=n-1;return hn.create(a,e-r[a])}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line],i=e.line+1<r.length?r[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};var nt;(function(t){const e=Object.prototype.toString;function r(p){return typeof p<"u"}t.defined=r;function n(p){return typeof p>"u"}t.undefined=n;function i(p){return p===!0||p===!1}t.boolean=i;function a(p){return e.call(p)==="[object String]"}t.string=a;function s(p){return e.call(p)==="[object Number]"}t.number=s;function o(p,v,m){return e.call(p)==="[object Number]"&&v<=p&&p<=m}t.numberRange=o;function l(p){return e.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}t.integer=l;function u(p){return e.call(p)==="[object Number]"&&0<=p&&p<=2147483647}t.uinteger=u;function h(p){return e.call(p)==="[object Function]"}t.func=h;function f(p){return p!==null&&typeof p=="object"}t.objectLiteral=f;function d(p,v){return Array.isArray(p)&&p.every(v)}t.typedArray=d})(nt||(nt={}));class vVe{constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(e){return this.rootNode=new pse(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const r=new rI;return r.grammarSource=e,r.root=this.rootNode,this.current.content.push(r),this.nodeStack.push(r),r}buildLeafNode(e,r){const n=new xL(e.startOffset,e.image.length,Y9(e),e.tokenType,!1);return n.grammarSource=r,n.root=this.rootNode,this.current.content.push(n),n}removeNode(e){const r=e.container;if(r){const n=r.content.indexOf(e);n>=0&&r.content.splice(n,1)}}construct(e){const r=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=r;const n=this.nodeStack.pop();(n==null?void 0:n.content.length)===0&&this.removeNode(n)}addHiddenTokens(e){for(const r of e){const n=new xL(r.startOffset,r.image.length,Y9(r),r.tokenType,!0);n.root=this.rootNode,this.addHiddenToken(this.rootNode,n)}}addHiddenToken(e,r){const{offset:n,end:i}=r;for(let a=0;a<e.content.length;a++){const s=e.content[a],{offset:o,end:l}=s;if(T1(s)&&n>o&&i<l){this.addHiddenToken(s,r);return}else if(i<=o){e.content.splice(a,0,r);return}}e.content.push(r)}}class dse{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,r;const n=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(r=this.container)===null||r===void 0?void 0:r.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class xL extends dse{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,r,n,i,a=!1){super(),this._hidden=a,this._offset=e,this._tokenType=i,this._length=r,this._range=n}}class rI extends dse{constructor(){super(...arguments),this.content=new nI(this)}get children(){return this.content}get offset(){var e,r;return(r=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&r!==void 0?r:0}get length(){return this.end-this.offset}get end(){var e,r;return(r=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&r!==void 0?r:0}get range(){const e=this.firstNonHiddenNode,r=this.lastNonHiddenNode;if(e&&r){if(this._rangeCache===void 0){const{range:n}=e,{range:i}=r;this._rangeCache={start:n.start,end:i.end.line<n.start.line?n.start:i.end}}return this._rangeCache}else return{start:hn.create(0,0),end:hn.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const r=this.content[e];if(!r.hidden)return r}return this.content[this.content.length-1]}}class nI extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,nI.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,r,...n){return this.addParents(n),super.splice(e,r,...n)}addParents(e){for(const r of e)r.container=this.parent}}class pse extends rI{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}const bL=Symbol("Datatype");function V8(t){return t.$type===bL}const oG="​",gse=t=>t.endsWith(oG)?t:t+oG;class vse{constructor(e){this._unorderedGroups=new Map,this.lexer=e.parser.Lexer;const r=this.lexer.definition;this.wrapper=new wVe(r,Object.assign(Object.assign({},e.parser.ParserConfig),{errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,r){this.wrapper.wrapOr(e,r)}optional(e,r){this.wrapper.wrapOption(e,r)}many(e,r){this.wrapper.wrapMany(e,r)}atLeastOne(e,r){this.wrapper.wrapAtLeastOne(e,r)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class mVe extends vse{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new vVe,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,r){const n=e.fragment?void 0:UN(e)?bL:NT(e),i=this.wrapper.DEFINE_RULE(gse(e.name),this.startImplementation(n,r).bind(this));return e.entry&&(this.mainRule=i),i}parse(e){this.nodeBuilder.buildRootNode(e);const r=this.lexer.tokenize(e);this.wrapper.input=r.tokens;const n=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(r.hidden),this.unorderedGroups.clear(),{value:n,lexerErrors:r.errors,parserErrors:this.wrapper.errors}}startImplementation(e,r){return n=>{if(!this.isRecording()){const a={$type:e};this.stack.push(a),e===bL&&(a.value="")}let i;try{i=r(n)}catch{i=void 0}return!this.isRecording()&&i===void 0&&(i=this.construct()),i}}consume(e,r,n){const i=this.wrapper.wrapConsume(e,r);if(!this.isRecording()&&this.isValidToken(i)){const a=this.nodeBuilder.buildLeafNode(i,n),{assignment:s,isCrossRef:o}=this.getAssignment(n),l=this.current;if(s){const u=R0(n)?i.image:this.converter.convert(i.image,a);this.assign(s.operator,s.feature,u,a,o)}else if(V8(l)){let u=i.image;R0(n)||(u=this.converter.convert(u,a).toString()),l.value+=u}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,r,n,i){let a;this.isRecording()||(a=this.nodeBuilder.buildCompositeNode(n));const s=this.wrapper.wrapSubrule(e,r,i);!this.isRecording()&&a&&a.length>0&&this.performSubruleAssignment(s,n,a)}performSubruleAssignment(e,r,n){const{assignment:i,isCrossRef:a}=this.getAssignment(r);if(i)this.assign(i.operator,i.feature,e,n,a);else if(!i){const s=this.current;if(V8(s))s.value+=e.toString();else if(typeof e=="object"&&e){const o=e.$type,l=this.assignWithoutOverride(e,s);o&&(l.$type=o);const u=l;this.stack.pop(),this.stack.push(u)}}}action(e,r){if(!this.isRecording()){let n=this.current;if(!n.$cstNode&&r.feature&&r.operator){n=this.construct(!1);const a=n.$cstNode.feature;this.nodeBuilder.buildCompositeNode(a)}const i={$type:e};this.stack.pop(),this.stack.push(i),r.feature&&r.operator&&this.assign(r.operator,r.feature,n,n.$cstNode,!1)}}construct(e=!0){if(this.isRecording())return;const r=this.current;return KBe(r),this.nodeBuilder.construct(r),e&&this.stack.pop(),V8(r)?this.converter.convert(r.value,r.$cstNode):(ZBe(this.astReflection,r),r)}getAssignment(e){if(!this.assignmentMap.has(e)){const r=DT(e,D0);this.assignmentMap.set(e,{assignment:r,isCrossRef:r?$N(r.terminal):!1})}return this.assignmentMap.get(e)}assign(e,r,n,i,a){const s=this.current;let o;switch(a&&typeof n=="string"?o=this.linker.buildReference(s,r,i,n):o=n,e){case"=":{s[r]=o;break}case"?=":{s[r]=!0;break}case"+=":Array.isArray(s[r])||(s[r]=[]),s[r].push(o)}}assignWithoutOverride(e,r){for(const[n,i]of Object.entries(r)){const a=e[n];a===void 0?e[n]=i:Array.isArray(a)&&Array.isArray(i)&&(i.push(...a),e[n]=i)}return e}get definitionErrors(){return this.wrapper.definitionErrors}}class yVe{buildMismatchTokenMessage(e){return bg.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return bg.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return bg.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return bg.buildEarlyExitMessage(e)}}class mse extends yVe{buildMismatchTokenMessage({expected:e,actual:r}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class xVe extends vse{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const r=this.lexer.tokenize(e);return this.tokens=r.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,r){const n=this.wrapper.DEFINE_RULE(gse(e.name),this.startImplementation(r).bind(this));return e.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return r=>{const n=this.keepStackSize();try{e(r)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,r,n){this.wrapper.wrapConsume(e,r),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(e,r,n,i){this.before(n),this.wrapper.wrapSubrule(e,r,i),this.after(n)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const r=this.elementStack.lastIndexOf(e);r>=0&&this.elementStack.splice(r)}}get currIdx(){return this.wrapper.currIdx}}const bVe={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new mse};class wVe extends _He{constructor(e,r){const n=r&&"maxLookahead"in r;super(e,Object.assign(Object.assign(Object.assign({},bVe),{lookaheadStrategy:n?new KN({maxLookahead:r.maxLookahead}):new jHe}),r))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,r){return this.RULE(e,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,r){return this.consume(e,r)}wrapSubrule(e,r,n){return this.subrule(e,r,{ARGS:[n]})}wrapOr(e,r){this.or(e,r)}wrapOption(e,r){this.option(e,r)}wrapMany(e,r){this.many(e,r)}wrapAtLeastOne(e,r){this.atLeastOne(e,r)}}function yse(t,e,r){return kVe({parser:e,tokens:r,rules:new Map,ruleNames:new Map},t),e}function kVe(t,e){const r=vae(e,!1),n=Pa(e.rules).filter(Al).filter(i=>r.has(i));for(const i of n){const a=Object.assign(Object.assign({},t),{consume:1,optional:1,subrule:1,many:1,or:1});a.rules.set(i.name,t.parser.rule(i,I0(a,i.definition)))}}function I0(t,e,r=!1){let n;if(R0(e))n=LVe(t,e);else if(LT(e))n=SVe(t,e);else if(D0(e))n=I0(t,e.terminal);else if($N(e))n=xse(t,e);else if(M0(e))n=EVe(t,e);else if(Xie(e))n=CVe(t,e);else if(uae(e))n=AVe(t,e);else if(zN(e))n=_Ve(t,e);else if(UBe(e)){const i=t.consume++;n=()=>t.parser.consume(i,$f,e)}else throw new Rie(e.$cstNode,`Unexpected element type: ${e.$type}`);return bse(t,r?void 0:nS(e),n,e.cardinality)}function SVe(t,e){const r=NT(e);return()=>t.parser.action(r,e)}function EVe(t,e){const r=e.rule.ref;if(Al(r)){const n=t.subrule++,i=e.arguments.length>0?TVe(r,e.arguments):()=>({});return a=>t.parser.subrule(n,wse(t,r),e,i(a))}else if(hp(r)){const n=t.consume++,i=wL(t,r.name);return()=>t.parser.consume(n,i,e)}else if(r)_T();else throw new Rie(e.$cstNode,`Undefined rule type: ${e.$type}`)}function TVe(t,e){const r=e.map(n=>Dc(n.value));return n=>{const i={};for(let a=0;a<r.length;a++){const s=t.parameters[a],o=r[a];i[s.name]=o(n)}return i}}function Dc(t){if(DBe(t)){const e=Dc(t.left),r=Dc(t.right);return n=>e(n)||r(n)}else if(LBe(t)){const e=Dc(t.left),r=Dc(t.right);return n=>e(n)&&r(n)}else if(MBe(t)){const e=Dc(t.value);return r=>!e(r)}else if(OBe(t)){const e=t.parameter.ref.name;return r=>r!==void 0&&r[e]===!0}else if(_Be(t)){const e=!!t.true;return()=>e}_T()}function CVe(t,e){if(e.elements.length===1)return I0(t,e.elements[0]);{const r=[];for(const i of e.elements){const a={ALT:I0(t,i,!0)},s=nS(i);s&&(a.GATE=Dc(s)),r.push(a)}const n=t.or++;return i=>t.parser.alternatives(n,r.map(a=>{const s={ALT:()=>a.ALT(i)},o=a.GATE;return o&&(s.GATE=()=>o(i)),s}))}}function AVe(t,e){if(e.elements.length===1)return I0(t,e.elements[0]);const r=[];for(const o of e.elements){const l={ALT:I0(t,o,!0)},u=nS(o);u&&(l.GATE=Dc(u)),r.push(l)}const n=t.or++,i=(o,l)=>{const u=l.getRuleStack().join("-");return`uGroup_${o}_${u}`},a=o=>t.parser.alternatives(n,r.map((l,u)=>{const h={ALT:()=>!0},f=t.parser;h.ALT=()=>{if(l.ALT(o),!f.isRecording()){const p=i(n,f);f.unorderedGroups.get(p)||f.unorderedGroups.set(p,[]);const v=f.unorderedGroups.get(p);typeof(v==null?void 0:v[u])>"u"&&(v[u]=!0)}};const d=l.GATE;return d?h.GATE=()=>d(o):h.GATE=()=>{const p=f.unorderedGroups.get(i(n,f));return!(p!=null&&p[u])},h})),s=bse(t,nS(e),a,"*");return o=>{s(o),t.parser.isRecording()||t.parser.unorderedGroups.delete(i(n,t.parser))}}function _Ve(t,e){const r=e.elements.map(n=>I0(t,n));return n=>r.forEach(i=>i(n))}function nS(t){if(zN(t))return t.guardCondition}function xse(t,e,r=e.terminal){if(r)if(M0(r)&&Al(r.rule.ref)){const n=t.subrule++;return i=>t.parser.subrule(n,wse(t,r.rule.ref),e,i)}else if(M0(r)&&hp(r.rule.ref)){const n=t.consume++,i=wL(t,r.rule.ref.name);return()=>t.parser.consume(n,i,e)}else if(R0(r)){const n=t.consume++,i=wL(t,r.value);return()=>t.parser.consume(n,i,e)}else throw new Error("Could not build cross reference parser");else{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);const n=xae(e.type.ref),i=n==null?void 0:n.terminal;if(!i)throw new Error("Could not find name assignment for type: "+NT(e.type.ref));return xse(t,e,i)}}function LVe(t,e){const r=t.consume++,n=t.tokens[e.value];if(!n)throw new Error("Could not find token for keyword: "+e.value);return()=>t.parser.consume(r,n,e)}function bse(t,e,r,n){const i=e&&Dc(e);if(!n)if(i){const a=t.or++;return s=>t.parser.alternatives(a,[{ALT:()=>r(s),GATE:()=>i(s)},{ALT:rU(),GATE:()=>!i(s)}])}else return r;if(n==="*"){const a=t.many++;return s=>t.parser.many(a,{DEF:()=>r(s),GATE:i?()=>i(s):void 0})}else if(n==="+"){const a=t.many++;if(i){const s=t.or++;return o=>t.parser.alternatives(s,[{ALT:()=>t.parser.atLeastOne(a,{DEF:()=>r(o)}),GATE:()=>i(o)},{ALT:rU(),GATE:()=>!i(o)}])}else return s=>t.parser.atLeastOne(a,{DEF:()=>r(s)})}else if(n==="?"){const a=t.optional++;return s=>t.parser.optional(a,{DEF:()=>r(s),GATE:i?()=>i(s):void 0})}else _T()}function wse(t,e){const r=DVe(t,e),n=t.rules.get(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function DVe(t,e){if(Al(e))return e.name;if(t.ruleNames.has(e))return t.ruleNames.get(e);{let r=e,n=r.$container,i=e.$type;for(;!Al(n);)(zN(n)||Xie(n)||uae(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,t.ruleNames.set(e,i),i}}function wL(t,e){const r=t.tokens[e];if(!r)throw new Error(`Token "${e}" not found."`);return r}function RVe(t){const e=t.Grammar,r=t.parser.Lexer,n=new xVe(t);return yse(e,n,r.definition),n.finalize(),n}function MVe(t){const e=NVe(t);return e.finalize(),e}function NVe(t){const e=t.Grammar,r=t.parser.Lexer,n=new mVe(t);return yse(e,n,r.definition)}class kse{buildTokens(e,r){const n=Pa(vae(e,!1)),i=this.buildTerminalTokens(n),a=this.buildKeywordTokens(n,i,r);return i.forEach(s=>{const o=s.PATTERN;typeof o=="object"&&o&&"test"in o&&MV(o)?a.unshift(s):a.push(s)}),a}buildTerminalTokens(e){return e.filter(hp).filter(r=>!r.fragment).map(r=>this.buildTerminalToken(r)).toArray()}buildTerminalToken(e){const r=GN(e),n=this.requiresCustomPattern(r)?this.regexPatternFunction(r):r,i={name:e.name,PATTERN:n,LINE_BREAKS:!0};return e.hidden&&(i.GROUP=MV(r)?ho.SKIPPED:"hidden"),i}requiresCustomPattern(e){return e.flags.includes("u")?!0:!!(e.source.includes("?<=")||e.source.includes("?<!"))}regexPatternFunction(e){const r=new RegExp(e,e.flags+"y");return(n,i)=>(r.lastIndex=i,r.exec(n))}buildKeywordTokens(e,r,n){return e.filter(Al).flatMap(i=>xb(i).filter(R0)).distinct(i=>i.value).toArray().sort((i,a)=>a.value.length-i.value.length).map(i=>this.buildKeywordToken(i,r,!!(n!=null&&n.caseInsensitive)))}buildKeywordToken(e,r,n){return{name:e.value,PATTERN:this.buildKeywordPattern(e,n),LONGER_ALT:this.findLongerAlt(e,r)}}buildKeywordPattern(e,r){return r?new RegExp(s$e(e.value)):e.value}findLongerAlt(e,r){return r.reduce((n,i)=>{const a=i==null?void 0:i.PATTERN;return a!=null&&a.source&&o$e("^"+a.source+"$",e.value)&&n.push(i),n},[])}}class Sse{convert(e,r){let n=r.grammarSource;if($N(n)&&(n=h$e(n)),M0(n)){const i=n.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,e,r)}return e}runConverter(e,r,n){var i;switch(e.name.toUpperCase()){case"INT":return Cc.convertInt(r);case"STRING":return Cc.convertString(r);case"ID":return Cc.convertID(r)}switch((i=y$e(e))===null||i===void 0?void 0:i.toLowerCase()){case"number":return Cc.convertNumber(r);case"boolean":return Cc.convertBoolean(r);case"bigint":return Cc.convertBigint(r);case"date":return Cc.convertDate(r);default:return r}}}var Cc;(function(t){function e(u){let h="";for(let f=1;f<u.length-1;f++){const d=u.charAt(f);if(d==="\\"){const p=u.charAt(++f);h+=r(p)}else h+=d}return h}t.convertString=e;function r(u){switch(u){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return u}}function n(u){return u.charAt(0)==="^"?u.substring(1):u}t.convertID=n;function i(u){return parseInt(u)}t.convertInt=i;function a(u){return BigInt(u)}t.convertBigint=a;function s(u){return new Date(u)}t.convertDate=s;function o(u){return Number(u)}t.convertNumber=o;function l(u){return u.toLowerCase()==="true"}t.convertBoolean=l})(Cc||(Cc={}));var M2={},HT={};Object.defineProperty(HT,"__esModule",{value:!0});let kL;function SL(){if(kL===void 0)throw new Error("No runtime abstraction layer installed");return kL}(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");kL=r}t.install=e})(SL||(SL={}));HT.default=SL;var os={};Object.defineProperty(os,"__esModule",{value:!0});os.stringArray=os.array=os.func=os.error=os.number=os.string=os.boolean=void 0;function IVe(t){return t===!0||t===!1}os.boolean=IVe;function Ese(t){return typeof t=="string"||t instanceof String}os.string=Ese;function OVe(t){return typeof t=="number"||t instanceof Number}os.number=OVe;function FVe(t){return t instanceof Error}os.error=FVe;function PVe(t){return typeof t=="function"}os.func=PVe;function Tse(t){return Array.isArray(t)}os.array=Tse;function BVe(t){return Tse(t)&&t.every(e=>Ese(e))}os.stringArray=BVe;var D1={};Object.defineProperty(D1,"__esModule",{value:!0});D1.Emitter=D1.Event=void 0;const $Ve=HT;var lG;(function(t){const e={dispose(){}};t.None=function(){return e}})(lG||(D1.Event=lG={}));class zVe{add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,r)})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,a=this._callbacks.length;i<a;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,s=n.length;a<s;a++)try{r.push(n[a].apply(i[a],e))}catch(o){(0,$Ve.default)().console.error(o)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}let Cse=class Ase{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new zVe),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);const i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,r),i.dispose=Ase._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};D1.Emitter=Cse;Cse._noop=function(){};var wa;Object.defineProperty(M2,"__esModule",{value:!0});var EL=M2.CancellationTokenSource=wa=M2.CancellationToken=void 0;const HVe=HT,VVe=os,TL=D1;var iS;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:TL.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:TL.Event.None});function e(r){const n=r;return n&&(n===t.None||n===t.Cancelled||VVe.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}t.is=e})(iS||(wa=M2.CancellationToken=iS={}));const UVe=Object.freeze(function(t,e){const r=(0,HVe.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}});class uG{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?UVe:(this._emitter||(this._emitter=new TL.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class GVe{get token(){return this._token||(this._token=new uG),this._token}cancel(){this._token?this._token.cancel():this._token=iS.Cancelled}dispose(){this._token?this._token instanceof uG&&this._token.dispose():this._token=iS.None}}EL=M2.CancellationTokenSource=GVe;function WVe(){return new Promise(t=>{typeof setImmediate>"u"?setTimeout(t,0):setImmediate(t)})}let cG=0,qVe=10;const aS=Symbol("OperationCancelled");function iI(t){return t===aS}async function iu(t){if(t===wa.None)return;const e=Date.now();if(e-cG>=qVe&&(cG=e,await WVe()),t.isCancellationRequested)throw aS}class aI{constructor(){this.promise=new Promise((e,r)=>{this.resolve=n=>(e(n),this),this.reject=n=>(r(n),this)})}}class N2{constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){for(const n of e)if(N2.isIncremental(n)){const i=Lse(n.range),a=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,a)+n.text+this._content.substring(s,this._content.length);const o=Math.max(i.start.line,0),l=Math.max(i.end.line,0);let u=this._lineOffsets;const h=hG(n.text,!1,a);if(l-o===h.length)for(let d=0,p=h.length;d<p;d++)u[d+o+1]=h[d];else h.length<1e4?u.splice(o+1,l-o,...h):this._lineOffsets=u=u.slice(0,o+1).concat(h,u.slice(l+1));const f=n.text.length-(s-a);if(f!==0)for(let d=o+1+h.length,p=u.length;d<p;d++)u[d]=u[d]+f}else if(N2.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=hG(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const r=this.getLineOffsets();let n=0,i=r.length;if(i===0)return{line:0,character:e};for(;n<i;){const s=Math.floor((n+i)/2);r[s]>e?i=s:n=s+1}const a=n-1;return e=this.ensureBeforeEOL(e,r[a]),{line:a,character:e-r[a]}}offsetAt(e){const r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;const n=r[e.line];if(e.character<=0)return n;const i=e.line+1<r.length?r[e.line+1]:this._content.length,a=Math.min(n+e.character,i);return this.ensureBeforeEOL(a,n)}ensureBeforeEOL(e,r){for(;e>r&&_se(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){const r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}}var CL;(function(t){function e(i,a,s,o){return new N2(i,a,s,o)}t.create=e;function r(i,a,s){if(i instanceof N2)return i.update(a,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}t.update=r;function n(i,a){const s=i.getText(),o=AL(a.map(YVe),(h,f)=>{const d=h.range.start.line-f.range.start.line;return d===0?h.range.start.character-f.range.start.character:d});let l=0;const u=[];for(const h of o){const f=i.offsetAt(h.range.start);if(f<l)throw new Error("Overlapping edit");f>l&&u.push(s.substring(l,f)),h.newText.length&&u.push(h.newText),l=i.offsetAt(h.range.end)}return u.push(s.substr(l)),u.join("")}t.applyEdits=n})(CL||(CL={}));function AL(t,e){if(t.length<=1)return t;const r=t.length/2|0,n=t.slice(0,r),i=t.slice(r);AL(n,e),AL(i,e);let a=0,s=0,o=0;for(;a<n.length&&s<i.length;)e(n[a],i[s])<=0?t[o++]=n[a++]:t[o++]=i[s++];for(;a<n.length;)t[o++]=n[a++];for(;s<i.length;)t[o++]=i[s++];return t}function hG(t,e,r=0){const n=e?[r]:[];for(let i=0;i<t.length;i++){const a=t.charCodeAt(i);_se(a)&&(a===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function _se(t){return t===13||t===10}function Lse(t){const e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}function YVe(t){const e=Lse(t.range);return e!==t.range?{newText:t.newText,range:e}:t}var Dse;(()=>{var t={470:i=>{function a(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function s(l,u){for(var h,f="",d=0,p=-1,v=0,m=0;m<=l.length;++m){if(m<l.length)h=l.charCodeAt(m);else{if(h===47)break;h=47}if(h===47){if(!(p===m-1||v===1))if(p!==m-1&&v===2){if(f.length<2||d!==2||f.charCodeAt(f.length-1)!==46||f.charCodeAt(f.length-2)!==46){if(f.length>2){var x=f.lastIndexOf("/");if(x!==f.length-1){x===-1?(f="",d=0):d=(f=f.slice(0,x)).length-1-f.lastIndexOf("/"),p=m,v=0;continue}}else if(f.length===2||f.length===1){f="",d=0,p=m,v=0;continue}}u&&(f.length>0?f+="/..":f="..",d=2)}else f.length>0?f+="/"+l.slice(p+1,m):f=l.slice(p+1,m),d=m-p-1;p=m,v=0}else h===46&&v!==-1?++v:v=-1}return f}var o={resolve:function(){for(var l,u="",h=!1,f=arguments.length-1;f>=-1&&!h;f--){var d;f>=0?d=arguments[f]:(l===void 0&&(l=process.cwd()),d=l),a(d),d.length!==0&&(u=d+"/"+u,h=d.charCodeAt(0)===47)}return u=s(u,!h),h?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(l){if(a(l),l.length===0)return".";var u=l.charCodeAt(0)===47,h=l.charCodeAt(l.length-1)===47;return(l=s(l,!u)).length!==0||u||(l="."),l.length>0&&h&&(l+="/"),u?"/"+l:l},isAbsolute:function(l){return a(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,u=0;u<arguments.length;++u){var h=arguments[u];a(h),h.length>0&&(l===void 0?l=h:l+="/"+h)}return l===void 0?".":o.normalize(l)},relative:function(l,u){if(a(l),a(u),l===u||(l=o.resolve(l))===(u=o.resolve(u)))return"";for(var h=1;h<l.length&&l.charCodeAt(h)===47;++h);for(var f=l.length,d=f-h,p=1;p<u.length&&u.charCodeAt(p)===47;++p);for(var v=u.length-p,m=d<v?d:v,x=-1,y=0;y<=m;++y){if(y===m){if(v>m){if(u.charCodeAt(p+y)===47)return u.slice(p+y+1);if(y===0)return u.slice(p+y)}else d>m&&(l.charCodeAt(h+y)===47?x=y:y===0&&(x=0));break}var w=l.charCodeAt(h+y);if(w!==u.charCodeAt(p+y))break;w===47&&(x=y)}var k="";for(y=h+x+1;y<=f;++y)y!==f&&l.charCodeAt(y)!==47||(k.length===0?k+="..":k+="/..");return k.length>0?k+u.slice(p+x):(p+=x,u.charCodeAt(p)===47&&++p,u.slice(p))},_makeLong:function(l){return l},dirname:function(l){if(a(l),l.length===0)return".";for(var u=l.charCodeAt(0),h=u===47,f=-1,d=!0,p=l.length-1;p>=1;--p)if((u=l.charCodeAt(p))===47){if(!d){f=p;break}}else d=!1;return f===-1?h?"/":".":h&&f===1?"//":l.slice(0,f)},basename:function(l,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');a(l);var h,f=0,d=-1,p=!0;if(u!==void 0&&u.length>0&&u.length<=l.length){if(u.length===l.length&&u===l)return"";var v=u.length-1,m=-1;for(h=l.length-1;h>=0;--h){var x=l.charCodeAt(h);if(x===47){if(!p){f=h+1;break}}else m===-1&&(p=!1,m=h+1),v>=0&&(x===u.charCodeAt(v)?--v==-1&&(d=h):(v=-1,d=m))}return f===d?d=m:d===-1&&(d=l.length),l.slice(f,d)}for(h=l.length-1;h>=0;--h)if(l.charCodeAt(h)===47){if(!p){f=h+1;break}}else d===-1&&(p=!1,d=h+1);return d===-1?"":l.slice(f,d)},extname:function(l){a(l);for(var u=-1,h=0,f=-1,d=!0,p=0,v=l.length-1;v>=0;--v){var m=l.charCodeAt(v);if(m!==47)f===-1&&(d=!1,f=v+1),m===46?u===-1?u=v:p!==1&&(p=1):u!==-1&&(p=-1);else if(!d){h=v+1;break}}return u===-1||f===-1||p===0||p===1&&u===f-1&&u===h+1?"":l.slice(u,f)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof l);return function(u,h){var f=h.dir||h.root,d=h.base||(h.name||"")+(h.ext||"");return f?f===h.root?f+d:f+"/"+d:d}(0,l)},parse:function(l){a(l);var u={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return u;var h,f=l.charCodeAt(0),d=f===47;d?(u.root="/",h=1):h=0;for(var p=-1,v=0,m=-1,x=!0,y=l.length-1,w=0;y>=h;--y)if((f=l.charCodeAt(y))!==47)m===-1&&(x=!1,m=y+1),f===46?p===-1?p=y:w!==1&&(w=1):p!==-1&&(w=-1);else if(!x){v=y+1;break}return p===-1||m===-1||w===0||w===1&&p===m-1&&p===v+1?m!==-1&&(u.base=u.name=v===0&&d?l.slice(1,m):l.slice(v,m)):(v===0&&d?(u.name=l.slice(1,p),u.base=l.slice(1,m)):(u.name=l.slice(v,p),u.base=l.slice(v,m)),u.ext=l.slice(p,m)),v>0?u.dir=l.slice(0,v-1):d&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,i.exports=o}},e={};function r(i){var a=e[i];if(a!==void 0)return a.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,r),s.exports}r.d=(i,a)=>{for(var s in a)r.o(a,s)&&!r.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:a[s]})},r.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:()=>d,Utils:()=>F}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const a=/^\w[\w\d+.-]*$/,s=/^\//,o=/^\/\//;function l(N,z){if(!N.scheme&&z)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${N.authority}", path: "${N.path}", query: "${N.query}", fragment: "${N.fragment}"}`);if(N.scheme&&!a.test(N.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(N.path){if(N.authority){if(!s.test(N.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(N.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const u="",h="/",f=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{constructor(z,V,D,O,P,$=!1){Kr(this,"scheme");Kr(this,"authority");Kr(this,"path");Kr(this,"query");Kr(this,"fragment");typeof z=="object"?(this.scheme=z.scheme||u,this.authority=z.authority||u,this.path=z.path||u,this.query=z.query||u,this.fragment=z.fragment||u):(this.scheme=function(B,H){return B||H?B:"file"}(z,$),this.authority=V||u,this.path=function(B,H){switch(B){case"https":case"http":case"file":H?H[0]!==h&&(H=h+H):H=h}return H}(this.scheme,D||u),this.query=O||u,this.fragment=P||u,l(this,$))}static isUri(z){return z instanceof d||!!z&&typeof z.authority=="string"&&typeof z.fragment=="string"&&typeof z.path=="string"&&typeof z.query=="string"&&typeof z.scheme=="string"&&typeof z.fsPath=="string"&&typeof z.with=="function"&&typeof z.toString=="function"}get fsPath(){return w(this,!1)}with(z){if(!z)return this;let{scheme:V,authority:D,path:O,query:P,fragment:$}=z;return V===void 0?V=this.scheme:V===null&&(V=u),D===void 0?D=this.authority:D===null&&(D=u),O===void 0?O=this.path:O===null&&(O=u),P===void 0?P=this.query:P===null&&(P=u),$===void 0?$=this.fragment:$===null&&($=u),V===this.scheme&&D===this.authority&&O===this.path&&P===this.query&&$===this.fragment?this:new v(V,D,O,P,$)}static parse(z,V=!1){const D=f.exec(z);return D?new v(D[2]||u,L(D[4]||u),L(D[5]||u),L(D[7]||u),L(D[9]||u),V):new v(u,u,u,u,u)}static file(z){let V=u;if(i&&(z=z.replace(/\\/g,h)),z[0]===h&&z[1]===h){const D=z.indexOf(h,2);D===-1?(V=z.substring(2),z=h):(V=z.substring(2,D),z=z.substring(D)||h)}return new v("file",V,z,u,u)}static from(z){const V=new v(z.scheme,z.authority,z.path,z.query,z.fragment);return l(V,!0),V}toString(z=!1){return k(this,z)}toJSON(){return this}static revive(z){if(z){if(z instanceof d)return z;{const V=new v(z);return V._formatted=z.external,V._fsPath=z._sep===p?z.fsPath:null,V}}return z}}const p=i?1:void 0;class v extends d{constructor(){super(...arguments);Kr(this,"_formatted",null);Kr(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=w(this,!1)),this._fsPath}toString(V=!1){return V?k(this,!0):(this._formatted||(this._formatted=k(this,!1)),this._formatted)}toJSON(){const V={$mid:1};return this._fsPath&&(V.fsPath=this._fsPath,V._sep=p),this._formatted&&(V.external=this._formatted),this.path&&(V.path=this.path),this.scheme&&(V.scheme=this.scheme),this.authority&&(V.authority=this.authority),this.query&&(V.query=this.query),this.fragment&&(V.fragment=this.fragment),V}}const m={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function x(N,z,V){let D,O=-1;for(let P=0;P<N.length;P++){const $=N.charCodeAt(P);if($>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===45||$===46||$===95||$===126||z&&$===47||V&&$===91||V&&$===93||V&&$===58)O!==-1&&(D+=encodeURIComponent(N.substring(O,P)),O=-1),D!==void 0&&(D+=N.charAt(P));else{D===void 0&&(D=N.substr(0,P));const B=m[$];B!==void 0?(O!==-1&&(D+=encodeURIComponent(N.substring(O,P)),O=-1),D+=B):O===-1&&(O=P)}}return O!==-1&&(D+=encodeURIComponent(N.substring(O))),D!==void 0?D:N}function y(N){let z;for(let V=0;V<N.length;V++){const D=N.charCodeAt(V);D===35||D===63?(z===void 0&&(z=N.substr(0,V)),z+=m[D]):z!==void 0&&(z+=N[V])}return z!==void 0?z:N}function w(N,z){let V;return V=N.authority&&N.path.length>1&&N.scheme==="file"?`//${N.authority}${N.path}`:N.path.charCodeAt(0)===47&&(N.path.charCodeAt(1)>=65&&N.path.charCodeAt(1)<=90||N.path.charCodeAt(1)>=97&&N.path.charCodeAt(1)<=122)&&N.path.charCodeAt(2)===58?z?N.path.substr(1):N.path[1].toLowerCase()+N.path.substr(2):N.path,i&&(V=V.replace(/\//g,"\\")),V}function k(N,z){const V=z?y:x;let D="",{scheme:O,authority:P,path:$,query:B,fragment:H}=N;if(O&&(D+=O,D+=":"),(P||O==="file")&&(D+=h,D+=h),P){let X=P.indexOf("@");if(X!==-1){const q=P.substr(0,X);P=P.substr(X+1),X=q.lastIndexOf(":"),X===-1?D+=V(q,!1,!1):(D+=V(q.substr(0,X),!1,!1),D+=":",D+=V(q.substr(X+1),!1,!0)),D+="@"}P=P.toLowerCase(),X=P.lastIndexOf(":"),X===-1?D+=V(P,!1,!0):(D+=V(P.substr(0,X),!1,!0),D+=P.substr(X))}if($){if($.length>=3&&$.charCodeAt(0)===47&&$.charCodeAt(2)===58){const X=$.charCodeAt(1);X>=65&&X<=90&&($=`/${String.fromCharCode(X+32)}:${$.substr(3)}`)}else if($.length>=2&&$.charCodeAt(1)===58){const X=$.charCodeAt(0);X>=65&&X<=90&&($=`${String.fromCharCode(X+32)}:${$.substr(2)}`)}D+=V($,!0,!1)}return B&&(D+="?",D+=V(B,!1,!1)),H&&(D+="#",D+=z?H:x(H,!1,!1)),D}function E(N){try{return decodeURIComponent(N)}catch{return N.length>3?N.substr(0,3)+E(N.substr(3)):N}}const C=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function L(N){return N.match(C)?N.replace(C,z=>E(z)):N}var _=r(470);const I=_.posix||_,M="/";var F;(function(N){N.joinPath=function(z,...V){return z.with({path:I.join(z.path,...V)})},N.resolvePath=function(z,...V){let D=z.path,O=!1;D[0]!==M&&(D=M+D,O=!0);let P=I.resolve(D,...V);return O&&P[0]===M&&!z.authority&&(P=P.substring(1)),z.with({path:P})},N.dirname=function(z){if(z.path.length===0||z.path===M)return z;let V=I.dirname(z.path);return V.length===1&&V.charCodeAt(0)===46&&(V=""),z.with({path:V})},N.basename=function(z){return I.basename(z.path)},N.extname=function(z){return I.extname(z.path)}})(F||(F={}))})(),Dse=n})();const{URI:R1,Utils:Om}=Dse;var Hf;(function(t){t.basename=Om.basename,t.dirname=Om.dirname,t.extname=Om.extname,t.joinPath=Om.joinPath,t.resolvePath=Om.resolvePath;function e(n,i){return(n==null?void 0:n.toString())===(i==null?void 0:i.toString())}t.equals=e;function r(n,i){const a=typeof n=="string"?n:n.path,s=typeof i=="string"?i:i.path,o=a.split("/").filter(d=>d.length>0),l=s.split("/").filter(d=>d.length>0);let u=0;for(;u<o.length&&o[u]===l[u];u++);const h="../".repeat(o.length-u),f=l.slice(u).join("/");return h+f}t.relative=r})(Hf||(Hf={}));var Qn;(function(t){t[t.Changed=0]="Changed",t[t.Parsed=1]="Parsed",t[t.IndexedContent=2]="IndexedContent",t[t.ComputedScopes=3]="ComputedScopes",t[t.Linked=4]="Linked",t[t.IndexedReferences=5]="IndexedReferences",t[t.Validated=6]="Validated"})(Qn||(Qn={}));class XVe{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,r=wa.None){const n=await this.fileSystemProvider.readFile(e);return this.createAsync(e,n,r)}fromTextDocument(e,r,n){return r=r??R1.parse(e.uri),n?this.createAsync(r,e,n):this.create(r,e)}fromString(e,r,n){return n?this.createAsync(r,e,n):this.create(r,e)}fromModel(e,r){return this.create(r,{$model:e})}create(e,r){if(typeof r=="string"){const n=this.parse(e,r);return this.createLangiumDocument(n,e,void 0,r)}else if("$model"in r){const n={value:r.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(n,e)}else{const n=this.parse(e,r.getText());return this.createLangiumDocument(n,e,r)}}async createAsync(e,r,n){if(typeof r=="string"){const i=await this.parseAsync(e,r,n);return this.createLangiumDocument(i,e,void 0,r)}else{const i=await this.parseAsync(e,r.getText(),n);return this.createLangiumDocument(i,e,r)}}createLangiumDocument(e,r,n,i){let a;if(n)a={parseResult:e,uri:r,state:Qn.Parsed,references:[],textDocument:n};else{const s=this.createTextDocumentGetter(r,i);a={parseResult:e,uri:r,state:Qn.Parsed,references:[],get textDocument(){return s()}}}return e.value.$document=a,a}async update(e,r){var n,i;const a=(n=e.parseResult.value.$cstNode)===null||n===void 0?void 0:n.root.fullText,s=(i=this.textDocuments)===null||i===void 0?void 0:i.get(e.uri.toString()),o=s?s.getText():await this.fileSystemProvider.readFile(e.uri);if(s)Object.defineProperty(e,"textDocument",{value:s});else{const l=this.createTextDocumentGetter(e.uri,o);Object.defineProperty(e,"textDocument",{get:l})}return a!==o&&(e.parseResult=await this.parseAsync(e.uri,o,r),e.parseResult.value.$document=e),e.state=Qn.Parsed,e}parse(e,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(r)}parseAsync(e,r,n){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(r,n)}createTextDocumentGetter(e,r){const n=this.serviceRegistry;let i;return()=>i??(i=CL.create(e.toString(),n.getServices(e).LanguageMetaData.languageId,0,r??""))}}class jVe{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory}get all(){return Pa(this.documentMap.values())}addDocument(e){const r=e.uri.toString();if(this.documentMap.has(r))throw new Error(`A document with the URI '${r}' is already present.`);this.documentMap.set(r,e)}getDocument(e){const r=e.toString();return this.documentMap.get(r)}async getOrCreateDocument(e,r){let n=this.getDocument(e);return n||(n=await this.langiumDocumentFactory.fromUri(e,r),this.addDocument(n),n)}createDocument(e,r,n){if(n)return this.langiumDocumentFactory.fromString(r,e,n).then(i=>(this.addDocument(i),i));{const i=this.langiumDocumentFactory.fromString(r,e);return this.addDocument(i),i}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const r=e.toString(),n=this.documentMap.get(r);return n&&(n.state=Qn.Changed,n.precomputedScopes=void 0,n.references=[],n.diagnostics=void 0),n}deleteDocument(e){const r=e.toString(),n=this.documentMap.get(r);return n&&(n.state=Qn.Changed,this.documentMap.delete(r)),n}}class KVe{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,r=wa.None){for(const n of Pg(e.parseResult.value))await iu(r),dae(n).forEach(i=>this.doLink(i,e))}doLink(e,r){const n=e.reference;if(n._ref===void 0)try{const i=this.getCandidate(e);if(Nw(i))n._ref=i;else if(n._nodeDescription=i,this.langiumDocuments().hasDocument(i.documentUri)){const a=this.loadAstNode(i);n._ref=a??this.createLinkingError(e,i)}}catch(i){n._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${n.$refText}': ${i}`})}r.references.push(n)}unlink(e){for(const r of e.references)delete r._ref,delete r._nodeDescription;e.references=[]}getCandidate(e){const n=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return n??this.createLinkingError(e)}buildReference(e,r,n,i){const a=this,s={$refNode:n,$refText:i,get ref(){var o;if(cs(this._ref))return this._ref;if(gBe(this._nodeDescription)){const l=a.loadAstNode(this._nodeDescription);this._ref=l??a.createLinkingError({reference:s,container:e,property:r},this._nodeDescription)}else if(this._ref===void 0){const l=a.getLinkedNode({reference:s,container:e,property:r});if(l.error&&ju(e).state<Qn.ComputedScopes)return;this._ref=(o=l.node)!==null&&o!==void 0?o:l.error,this._nodeDescription=l.descr}return cs(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return Nw(this._ref)?this._ref:void 0}};return s}getLinkedNode(e){try{const r=this.getCandidate(e);if(Nw(r))return{error:r};const n=this.loadAstNode(r);return n?{node:n,descr:r}:{descr:r,error:this.createLinkingError(e,r)}}catch(r){return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${r}`})}}}loadAstNode(e){if(e.node)return e.node;const r=this.langiumDocuments().getDocument(e.documentUri);if(r)return this.astNodeLocator.getAstNode(r.parseResult.value,e.path)}createLinkingError(e,r){const n=ju(e.container);n.state<Qn.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);const i=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${i} named '${e.reference.$refText}'.`,targetDescription:r})}}function QVe(t){return typeof t.name=="string"}class ZVe{getName(e){if(QVe(e))return e.name}getNameNode(e){return yae(e.$cstNode,"name")}}class JVe{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const r=v$e(e),n=e.astNode;if(r&&n){const i=n[r.feature];if(Bu(i))return i.ref;if(Array.isArray(i)){for(const a of i)if(Bu(a)&&a.$refNode&&a.$refNode.offset<=e.offset&&a.$refNode.end>=e.end)return a.ref}}if(n){const i=this.nameProvider.getNameNode(n);if(i&&(i===e||yBe(e,i)))return n}}}findDeclarationNode(e){const r=this.findDeclaration(e);if(r!=null&&r.$cstNode){const n=this.nameProvider.getNameNode(r);return n??r.$cstNode}}findReferences(e,r){const n=[];if(r.includeDeclaration){const a=this.getReferenceToSelf(e);a&&n.push(a)}let i=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return r.documentUri&&(i=i.filter(a=>Hf.equals(a.sourceUri,r.documentUri))),n.push(...i),Pa(n)}getReferenceToSelf(e){const r=this.nameProvider.getNameNode(e);if(r){const n=ju(e),i=this.nodeLocator.getAstNodePath(e);return{sourceUri:n.uri,sourcePath:i,targetUri:n.uri,targetPath:i,segment:zk(r),local:!0}}}}class sI{constructor(e){if(this.map=new Map,e)for(const[r,n]of e)this.add(r,n)}get size(){return W9.sum(Pa(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,r){if(r===void 0)return this.map.delete(e);{const n=this.map.get(e);if(n){const i=n.indexOf(r);if(i>=0)return n.length===1?this.map.delete(e):n.splice(i,1),!0}return!1}}get(e){var r;return(r=this.map.get(e))!==null&&r!==void 0?r:[]}has(e,r){if(r===void 0)return this.map.has(e);{const n=this.map.get(e);return n?n.indexOf(r)>=0:!1}}add(e,r){return this.map.has(e)?this.map.get(e).push(r):this.map.set(e,[r]),this}addAll(e,r){return this.map.has(e)?this.map.get(e).push(...r):this.map.set(e,Array.from(r)),this}forEach(e){this.map.forEach((r,n)=>r.forEach(i=>e(i,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Pa(this.map.entries()).flatMap(([e,r])=>r.map(n=>[e,n]))}keys(){return Pa(this.map.keys())}values(){return Pa(this.map.values()).flat()}entriesGroupedByKey(){return Pa(this.map.entries())}}class fG{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[r,n]of e)this.set(r,n)}clear(){this.map.clear(),this.inverse.clear()}set(e,r){return this.map.set(e,r),this.inverse.set(r,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const r=this.map.get(e);return r!==void 0?(this.map.delete(e),this.inverse.delete(r),!0):!1}}class eUe{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,r=wa.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,r)}async computeExportsForNode(e,r,n=HN,i=wa.None){const a=[];this.exportNode(e,a,r);for(const s of n(e))await iu(i),this.exportNode(s,a,r);return a}exportNode(e,r,n){const i=this.nameProvider.getName(e);i&&r.push(this.descriptions.createDescription(e,i,n))}async computeLocalScopes(e,r=wa.None){const n=e.parseResult.value,i=new sI;for(const a of xb(n))await iu(r),this.processNode(a,e,i);return i}processNode(e,r,n){const i=e.$container;if(i){const a=this.nameProvider.getName(e);a&&n.add(i,this.descriptions.createDescription(e,a,r))}}}class dG{constructor(e,r,n){var i;this.elements=e,this.outerScope=r,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0?i:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){const r=this.caseInsensitive?this.elements.find(n=>n.name.toLowerCase()===e.toLowerCase()):this.elements.find(n=>n.name===e);if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}}class tUe{constructor(e,r,n){var i;this.elements=new Map,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0?i:!1;for(const a of e){const s=this.caseInsensitive?a.name.toLowerCase():a.name;this.elements.set(s,a)}this.outerScope=r}getElement(e){const r=this.caseInsensitive?e.toLowerCase():e,n=this.elements.get(r);if(n)return n;if(this.outerScope)return this.outerScope.getElement(e)}getAllElements(){let e=Pa(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class Rse{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class rUe extends Rse{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,r){this.throwIfDisposed(),this.cache.set(e,r)}get(e,r){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(r){const n=r();return this.cache.set(e,n),n}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class nUe extends Rse{constructor(e){super(),this.cache=new Map,this.converter=e??(r=>r)}has(e,r){return this.throwIfDisposed(),this.cacheForContext(e).has(r)}set(e,r,n){this.throwIfDisposed(),this.cacheForContext(e).set(r,n)}get(e,r,n){this.throwIfDisposed();const i=this.cacheForContext(e);if(i.has(r))return i.get(r);if(n){const a=n();return i.set(r,a),a}else return}delete(e,r){return this.throwIfDisposed(),this.cacheForContext(e).delete(r)}clear(e){if(this.throwIfDisposed(),e){const r=this.converter(e);this.cache.delete(r)}else this.cache.clear()}cacheForContext(e){const r=this.converter(e);let n=this.cache.get(r);return n||(n=new Map,this.cache.set(r,n)),n}}class iUe extends rUe{constructor(e){super(),this.onDispose(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class aUe{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new iUe(e.shared)}getScope(e){const r=[],n=this.reflection.getReferenceType(e),i=ju(e.container).precomputedScopes;if(i){let s=e.container;do{const o=i.get(s);o.length>0&&r.push(Pa(o).filter(l=>this.reflection.isSubtype(l.type,n))),s=s.$container}while(s)}let a=this.getGlobalScope(n,e);for(let s=r.length-1;s>=0;s--)a=this.createScope(r[s],a);return a}createScope(e,r,n){return new dG(Pa(e),r,n)}createScopeForNodes(e,r,n){const i=Pa(e).map(a=>{const s=this.nameProvider.getName(a);if(s)return this.descriptions.createDescription(a,s)}).nonNullable();return new dG(i,r,n)}getGlobalScope(e,r){return this.globalScopeCache.get(e,()=>new tUe(this.indexManager.allElements(e)))}}function sUe(t){return typeof t.$comment=="string"}function pG(t){return typeof t=="object"&&!!t&&("$ref"in t||"$error"in t)}class oUe{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,r={}){const n=r==null?void 0:r.replacer,i=(s,o)=>this.replacer(s,o,r),a=n?(s,o)=>n(s,o,i):i;try{return this.currentDocument=ju(e),JSON.stringify(e,a,r==null?void 0:r.space)}finally{this.currentDocument=void 0}}deserialize(e,r={}){const n=JSON.parse(e);return this.linkNode(n,n,r),n}replacer(e,r,{refText:n,sourceText:i,textRegions:a,comments:s,uriConverter:o}){var l,u,h,f;if(!this.ignoreProperties.has(e))if(Bu(r)){const d=r.ref,p=n?r.$refText:void 0;if(d){const v=ju(d);let m="";this.currentDocument&&this.currentDocument!==v&&(o?m=o(v.uri,r):m=v.uri.toString());const x=this.astNodeLocator.getAstNodePath(d);return{$ref:`${m}#${x}`,$refText:p}}else return{$error:(u=(l=r.error)===null||l===void 0?void 0:l.message)!==null&&u!==void 0?u:"Could not resolve reference",$refText:p}}else if(cs(r)){let d;if(a&&(d=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},r)),(!e||r.$document)&&(d!=null&&d.$textRegion)&&(d.$textRegion.documentURI=(h=this.currentDocument)===null||h===void 0?void 0:h.uri.toString())),i&&!e&&(d??(d=Object.assign({},r)),d.$sourceText=(f=r.$cstNode)===null||f===void 0?void 0:f.text),s){d??(d=Object.assign({},r));const p=this.commentProvider.getComment(r);p&&(d.$comment=p.replace(/\r/g,""))}return d??r}else return r}addAstNodeRegionWithAssignmentsTo(e){const r=n=>({offset:n.offset,end:n.end,length:n.length,range:n.range});if(e.$cstNode){const n=e.$textRegion=r(e.$cstNode),i=n.assignments={};return Object.keys(e).filter(a=>!a.startsWith("$")).forEach(a=>{const s=d$e(e.$cstNode,a).map(r);s.length!==0&&(i[a]=s)}),e}}linkNode(e,r,n,i,a,s){for(const[l,u]of Object.entries(e))if(Array.isArray(u))for(let h=0;h<u.length;h++){const f=u[h];pG(f)?u[h]=this.reviveReference(e,l,r,f,n):cs(f)&&this.linkNode(f,r,n,e,l,h)}else pG(u)?e[l]=this.reviveReference(e,l,r,u,n):cs(u)&&this.linkNode(u,r,n,e,l);const o=e;o.$container=i,o.$containerProperty=a,o.$containerIndex=s}reviveReference(e,r,n,i,a){let s=i.$refText,o=i.$error;if(i.$ref){const l=this.getRefNode(n,i.$ref,a.uriConverter);if(cs(l))return s||(s=this.nameProvider.getName(l)),{$refText:s??"",ref:l};o=l}if(o){const l={$refText:s??""};return l.error={container:e,property:r,message:o,reference:l},l}else return}getRefNode(e,r,n){try{const i=r.indexOf("#");if(i===0){const l=this.astNodeLocator.getAstNode(e,r.substring(1));return l||"Could not resolve path: "+r}if(i<0){const l=n?n(r):R1.parse(r),u=this.langiumDocuments.getDocument(l);return u?u.parseResult.value:"Could not find document for URI: "+r}const a=n?n(r.substring(0,i)):R1.parse(r.substring(0,i)),s=this.langiumDocuments.getDocument(a);if(!s)return"Could not find document for URI: "+r;if(i===r.length-1)return s.parseResult.value;const o=this.astNodeLocator.getAstNode(s.parseResult.value,r.substring(i+1));return o||"Could not resolve URI: "+r}catch(i){return String(i)}}}class lUe{register(e){if(!this.singleton&&!this.map){this.singleton=e;return}if(!this.map&&(this.map={},this.singleton)){for(const r of this.singleton.LanguageMetaData.fileExtensions)this.map[r]=this.singleton;this.singleton=void 0}for(const r of e.LanguageMetaData.fileExtensions)this.map[r]!==void 0&&this.map[r]!==e&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${e.LanguageMetaData.languageId}'.`),this.map[r]=e}getServices(e){if(this.singleton!==void 0)return this.singleton;if(this.map===void 0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const r=Hf.extname(e),n=this.map[r];if(!n)throw new Error(`The service registry contains no services for the extension '${r}'.`);return n}get all(){return this.singleton!==void 0?[this.singleton]:this.map!==void 0?Object.values(this.map):[]}}function gG(t){return{code:t}}var sS;(function(t){t.all=["fast","slow","built-in"]})(sS||(sS={}));class uUe{constructor(e){this.entries=new sI,this.reflection=e.shared.AstReflection}register(e,r=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[i,a]of Object.entries(e)){const s=a;if(Array.isArray(s))for(const o of s){const l={check:this.wrapValidationException(o,r),category:n};this.addEntry(i,l)}else if(typeof s=="function"){const o={check:this.wrapValidationException(s,r),category:n};this.addEntry(i,o)}}}wrapValidationException(e,r){return async(n,i,a)=>{try{await e.call(r,n,i,a)}catch(s){if(iI(s))throw s;console.error("An error occurred during validation:",s);const o=s instanceof Error?s.message:String(s);s instanceof Error&&s.stack&&console.error(s.stack),i("error","An error occurred during validation: "+o,{node:n})}}}addEntry(e,r){if(e==="AstNode"){this.entries.add("AstNode",r);return}for(const n of this.reflection.getAllSubTypes(e))this.entries.add(n,r)}getChecks(e,r){let n=Pa(this.entries.get(e)).concat(this.entries.get("AstNode"));return r&&(n=n.filter(i=>r.includes(i.category))),n.map(i=>i.check)}}class cUe{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,r={},n=wa.None){const i=e.parseResult,a=[];if(await iu(n),(!r.categories||r.categories.includes("built-in"))&&(this.processLexingErrors(i,a,r),r.stopAfterLexingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===qh.LexingError})||(this.processParsingErrors(i,a,r),r.stopAfterParsingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===qh.ParsingError}))||(this.processLinkingErrors(e,a,r),r.stopAfterLinkingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===qh.LinkingError}))))return a;try{a.push(...await this.validateAst(i.value,r,n))}catch(s){if(iI(s))throw s;console.error("An error occurred during validation:",s)}return await iu(n),a}processLexingErrors(e,r,n){for(const i of e.lexerErrors){const a={severity:U8("error"),range:{start:{line:i.line-1,character:i.column-1},end:{line:i.line-1,character:i.column+i.length-1}},message:i.message,data:gG(qh.LexingError),source:this.getSource()};r.push(a)}}processParsingErrors(e,r,n){for(const i of e.parserErrors){let a;if(isNaN(i.token.startOffset)){if("previousToken"in i){const s=i.previousToken;if(isNaN(s.startOffset)){const o={line:0,character:0};a={start:o,end:o}}else{const o={line:s.endLine-1,character:s.endColumn};a={start:o,end:o}}}}else a=Y9(i.token);if(a){const s={severity:U8("error"),range:a,message:i.message,data:gG(qh.ParsingError),source:this.getSource()};r.push(s)}}}processLinkingErrors(e,r,n){for(const i of e.references){const a=i.error;if(a){const s={node:a.container,property:a.property,index:a.index,data:{code:qh.LinkingError,containerType:a.container.$type,property:a.property,refText:a.reference.$refText}};r.push(this.toDiagnostic("error",a.message,s))}}}async validateAst(e,r,n=wa.None){const i=[],a=(s,o,l)=>{i.push(this.toDiagnostic(s,o,l))};return await Promise.all(Pg(e).map(async s=>{await iu(n);const o=this.validationRegistry.getChecks(s.$type,r.categories);for(const l of o)await l(s,a,n)})),i}toDiagnostic(e,r,n){return{message:r,range:hUe(n),severity:U8(e),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function hUe(t){if(t.range)return t.range;let e;return typeof t.property=="string"?e=yae(t.node.$cstNode,t.property,t.index):typeof t.keyword=="string"&&(e=p$e(t.node.$cstNode,t.keyword,t.index)),e??(e=t.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function U8(t){switch(t){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+t)}}var qh;(function(t){t.LexingError="lexing-error",t.ParsingError="parsing-error",t.LinkingError="linking-error"})(qh||(qh={}));class fUe{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,r,n=ju(e)){r??(r=this.nameProvider.getName(e));const i=this.astNodeLocator.getAstNodePath(e);if(!r)throw new Error(`Node at path ${i} has no name.`);let a;const s=()=>{var o;return a??(a=zk((o=this.nameProvider.getNameNode(e))!==null&&o!==void 0?o:e.$cstNode))};return{node:e,name:r,get nameSegment(){return s()},selectionSegment:zk(e.$cstNode),type:e.$type,documentUri:n.uri,path:i}}}class dUe{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,r=wa.None){const n=[],i=e.parseResult.value;for(const a of Pg(i))await iu(r),dae(a).filter(s=>!Nw(s)).forEach(s=>{const o=this.createDescription(s);o&&n.push(o)});return n}createDescription(e){const r=e.reference.$nodeDescription,n=e.reference.$refNode;if(!r||!n)return;const i=ju(e.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:r.documentUri,targetPath:r.path,segment:zk(n),local:Hf.equals(r.documentUri,i)}}}class pUe{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const r=this.getAstNodePath(e.$container),n=this.getPathSegment(e);return r+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:e,$containerIndex:r}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return r!==void 0?e+this.indexSeparator+r:e}getAstNode(e,r){return r.split(this.segmentSeparator).reduce((i,a)=>{if(!i||a.length===0)return i;const s=a.indexOf(this.indexSeparator);if(s>0){const o=a.substring(0,s),l=parseInt(a.substring(s+1)),u=i[o];return u==null?void 0:u[l]}return i[a]},e)}}class gUe{constructor(e){this._ready=new aI,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var r,n;this.workspaceConfig=(n=(r=e.capabilities.workspace)===null||r===void 0?void 0:r.configuration)!==null&&n!==void 0?n:!1}async initialized(e){if(this.workspaceConfig){if(e.register){const r=this.serviceRegistry.all;e.register({section:r.map(n=>this.toSectionName(n.LanguageMetaData.languageId))})}if(e.fetchConfiguration){const r=this.serviceRegistry.all.map(i=>({section:this.toSectionName(i.LanguageMetaData.languageId)})),n=await e.fetchConfiguration(r);r.forEach((i,a)=>{this.updateSectionConfiguration(i.section,n[a])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(r=>{this.updateSectionConfiguration(r,e.settings[r])})}updateSectionConfiguration(e,r){this.settings[e]=r}async getConfiguration(e,r){await this.ready;const n=this.toSectionName(e);if(this.settings[n])return this.settings[n][r]}toSectionName(e){return`${e}`}}var oS;(function(t){function e(r){return{dispose:async()=>await r()}}t.create=e})(oS||(oS={}));class vUe{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new sI,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Qn.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,r={},n=wa.None){var i,a;for(const s of e){const o=s.uri.toString();if(s.state===Qn.Validated){if(typeof r.validation=="boolean"&&r.validation)s.state=Qn.IndexedReferences,s.diagnostics=void 0,this.buildState.delete(o);else if(typeof r.validation=="object"){const l=this.buildState.get(o),u=(i=l==null?void 0:l.result)===null||i===void 0?void 0:i.validationChecks;if(u){const f=((a=r.validation.categories)!==null&&a!==void 0?a:sS.all).filter(d=>!u.includes(d));f.length>0&&(this.buildState.set(o,{completed:!1,options:{validation:Object.assign(Object.assign({},r.validation),{categories:f})},result:l.result}),s.state=Qn.IndexedReferences)}}}else this.buildState.delete(o)}this.currentState=Qn.Changed,await this.emitUpdate(e.map(s=>s.uri),[]),await this.buildDocuments(e,r,n)}async update(e,r,n=wa.None){this.currentState=Qn.Changed;for(const s of r)this.langiumDocuments.deleteDocument(s),this.buildState.delete(s.toString()),this.indexManager.remove(s);for(const s of e){if(!this.langiumDocuments.invalidateDocument(s)){const l=this.langiumDocumentFactory.fromModel({$type:"INVALID"},s);l.state=Qn.Changed,this.langiumDocuments.addDocument(l)}this.buildState.delete(s.toString())}const i=Pa(e).concat(r).map(s=>s.toString()).toSet();this.langiumDocuments.all.filter(s=>!i.has(s.uri.toString())&&this.shouldRelink(s,i)).forEach(s=>{this.serviceRegistry.getServices(s.uri).references.Linker.unlink(s),s.state=Math.min(s.state,Qn.ComputedScopes),s.diagnostics=void 0}),await this.emitUpdate(e,r),await iu(n);const a=this.langiumDocuments.all.filter(s=>{var o;return s.state<Qn.Linked||!(!((o=this.buildState.get(s.uri.toString()))===null||o===void 0)&&o.completed)}).toArray();await this.buildDocuments(a,this.updateBuildOptions,n)}async emitUpdate(e,r){await Promise.all(this.updateListeners.map(n=>n(e,r)))}shouldRelink(e,r){return e.references.some(n=>n.error!==void 0)?!0:this.indexManager.isAffected(e,r)}onUpdate(e){return this.updateListeners.push(e),oS.create(()=>{const r=this.updateListeners.indexOf(e);r>=0&&this.updateListeners.splice(r,1)})}async buildDocuments(e,r,n){this.prepareBuild(e,r),await this.runCancelable(e,Qn.Parsed,n,a=>this.langiumDocumentFactory.update(a,n)),await this.runCancelable(e,Qn.IndexedContent,n,a=>this.indexManager.updateContent(a,n)),await this.runCancelable(e,Qn.ComputedScopes,n,async a=>{const s=this.serviceRegistry.getServices(a.uri).references.ScopeComputation;a.precomputedScopes=await s.computeLocalScopes(a,n)}),await this.runCancelable(e,Qn.Linked,n,a=>this.serviceRegistry.getServices(a.uri).references.Linker.link(a,n)),await this.runCancelable(e,Qn.IndexedReferences,n,a=>this.indexManager.updateReferences(a,n));const i=e.filter(a=>this.shouldValidate(a));await this.runCancelable(i,Qn.Validated,n,a=>this.validate(a,n));for(const a of e){const s=this.buildState.get(a.uri.toString());s&&(s.completed=!0)}}prepareBuild(e,r){for(const n of e){const i=n.uri.toString(),a=this.buildState.get(i);(!a||a.completed)&&this.buildState.set(i,{completed:!1,options:r,result:a==null?void 0:a.result})}}async runCancelable(e,r,n,i){const a=e.filter(s=>s.state<r);for(const s of a)await iu(n),await i(s),s.state=r;await this.notifyBuildPhase(a,r,n),this.currentState=r}onBuildPhase(e,r){return this.buildPhaseListeners.add(e,r),oS.create(()=>{this.buildPhaseListeners.delete(e,r)})}waitUntil(e,r,n){let i;if(r&&"path"in r?i=r:n=r,n??(n=wa.None),i){const a=this.langiumDocuments.getDocument(i);if(a&&a.state>e)return Promise.resolve(i)}return this.currentState>=e?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(aS):new Promise((a,s)=>{const o=this.onBuildPhase(e,()=>{if(o.dispose(),l.dispose(),i){const u=this.langiumDocuments.getDocument(i);a(u==null?void 0:u.uri)}else a(void 0)}),l=n.onCancellationRequested(()=>{o.dispose(),l.dispose(),s(aS)})})}async notifyBuildPhase(e,r,n){if(e.length===0)return;const i=this.buildPhaseListeners.get(r);for(const a of i)await iu(n),await a(e,n)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,r){var n,i;const a=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,s=this.getBuildOptions(e).validation,o=typeof s=="object"?s:void 0,l=await a.validateDocument(e,o,r);e.diagnostics?e.diagnostics.push(...l):e.diagnostics=l;const u=this.buildState.get(e.uri.toString());if(u){(n=u.result)!==null&&n!==void 0||(u.result={});const h=(i=o==null?void 0:o.categories)!==null&&i!==void 0?i:sS.all;u.result.validationChecks?u.result.validationChecks.push(...h):u.result.validationChecks=[...h]}}getBuildOptions(e){var r,n;return(n=(r=this.buildState.get(e.uri.toString()))===null||r===void 0?void 0:r.options)!==null&&n!==void 0?n:{}}}class mUe{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new nUe,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,r){const n=ju(e).uri,i=[];return this.referenceIndex.forEach(a=>{a.forEach(s=>{Hf.equals(s.targetUri,n)&&s.targetPath===r&&i.push(s)})}),Pa(i)}allElements(e,r){let n=Pa(this.symbolIndex.keys());return r&&(n=n.filter(i=>!r||r.has(i))),n.map(i=>this.getFileDescriptions(i,e)).flat()}getFileDescriptions(e,r){var n;return r?this.symbolByTypeIndex.get(e,r,()=>{var a;return((a=this.symbolIndex.get(e))!==null&&a!==void 0?a:[]).filter(o=>this.astReflection.isSubtype(o.type,r))}):(n=this.symbolIndex.get(e))!==null&&n!==void 0?n:[]}remove(e){const r=e.toString();this.symbolIndex.delete(r),this.symbolByTypeIndex.clear(r),this.referenceIndex.delete(r)}async updateContent(e,r=wa.None){const i=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,r),a=e.uri.toString();this.symbolIndex.set(a,i),this.symbolByTypeIndex.clear(a)}async updateReferences(e,r=wa.None){const i=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,r);this.referenceIndex.set(e.uri.toString(),i)}isAffected(e,r){const n=this.referenceIndex.get(e.uri.toString());return n?n.some(i=>!i.local&&r.has(i.targetUri.toString())):!1}}class yUe{constructor(e){this.initialBuildOptions={},this._ready=new aI,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}initialize(e){var r;this.folders=(r=e.workspaceFolders)!==null&&r!==void 0?r:void 0}initialized(e){return this.mutex.write(r=>{var n;return this.initializeWorkspace((n=this.folders)!==null&&n!==void 0?n:[],r)})}async initializeWorkspace(e,r=wa.None){const n=await this.performStartup(e);await iu(r),await this.documentBuilder.build(n,this.initialBuildOptions,r)}async performStartup(e){const r=this.serviceRegistry.all.flatMap(a=>a.LanguageMetaData.fileExtensions),n=[],i=a=>{n.push(a),this.langiumDocuments.hasDocument(a.uri)||this.langiumDocuments.addDocument(a)};return await this.loadAdditionalDocuments(e,i),await Promise.all(e.map(a=>[a,this.getRootFolder(a)]).map(async a=>this.traverseFolder(...a,r,i))),this._ready.resolve(),n}loadAdditionalDocuments(e,r){return Promise.resolve()}getRootFolder(e){return R1.parse(e.uri)}async traverseFolder(e,r,n,i){const a=await this.fileSystemProvider.readDirectory(r);await Promise.all(a.map(async s=>{if(this.includeEntry(e,s,n)){if(s.isDirectory)await this.traverseFolder(e,s.uri,n,i);else if(s.isFile){const o=await this.langiumDocuments.getOrCreateDocument(s.uri);i(o)}}}))}includeEntry(e,r,n){const i=Hf.basename(r.uri);if(i.startsWith("."))return!1;if(r.isDirectory)return i!=="node_modules"&&i!=="out";if(r.isFile){const a=Hf.extname(r.uri);return n.includes(a)}return!1}}class xUe{constructor(e){const r=e.parser.TokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(r);const n=vG(r)?Object.values(r):r;this.chevrotainLexer=new ho(n,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(e){var r;const n=this.chevrotainLexer.tokenize(e);return{tokens:n.tokens,errors:n.errors,hidden:(r=n.groups.hidden)!==null&&r!==void 0?r:[]}}toTokenTypeDictionary(e){if(vG(e))return e;const r=Mse(e)?Object.values(e.modes).flat():e,n={};return r.forEach(i=>n[i.name]=i),n}}function bUe(t){return Array.isArray(t)&&(t.length===0||"name"in t[0])}function Mse(t){return t&&"modes"in t&&"defaultMode"in t}function vG(t){return!bUe(t)&&!Mse(t)}function wUe(t,e,r){let n,i;typeof t=="string"?(i=e,n=r):(i=t.range.start,n=e),i||(i=hn.create(0,0));const a=Nse(t),s=oI(n),o=EUe({lines:a,position:i,options:s});return LUe({index:0,tokens:o,position:i})}function kUe(t,e){const r=oI(e),n=Nse(t);if(n.length===0)return!1;const i=n[0],a=n[n.length-1],s=r.start,o=r.end;return!!(s!=null&&s.exec(i))&&!!(o!=null&&o.exec(a))}function Nse(t){let e="";return typeof t=="string"?e=t:e=t.text,e.split(r$e)}const mG=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,SUe=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function EUe(t){var e,r,n;const i=[];let a=t.position.line,s=t.position.character;for(let o=0;o<t.lines.length;o++){const l=o===0,u=o===t.lines.length-1;let h=t.lines[o],f=0;if(l&&t.options.start){const p=(e=t.options.start)===null||e===void 0?void 0:e.exec(h);p&&(f=p.index+p[0].length)}else{const p=(r=t.options.line)===null||r===void 0?void 0:r.exec(h);p&&(f=p.index+p[0].length)}if(u){const p=(n=t.options.end)===null||n===void 0?void 0:n.exec(h);p&&(h=h.substring(0,p.index))}if(h=h.substring(0,_Ue(h)),_L(h,f)>=h.length){if(i.length>0){const p=hn.create(a,s);i.push({type:"break",content:"",range:Xr.create(p,p)})}}else{mG.lastIndex=f;const p=mG.exec(h);if(p){const v=p[0],m=p[1],x=hn.create(a,s+f),y=hn.create(a,s+f+v.length);i.push({type:"tag",content:m,range:Xr.create(x,y)}),f+=v.length,f=_L(h,f)}if(f<h.length){const v=h.substring(f),m=Array.from(v.matchAll(SUe));i.push(...TUe(m,v,a,s+f))}}a++,s=0}return i.length>0&&i[i.length-1].type==="break"?i.slice(0,-1):i}function TUe(t,e,r,n){const i=[];if(t.length===0){const a=hn.create(r,n),s=hn.create(r,n+e.length);i.push({type:"text",content:e,range:Xr.create(a,s)})}else{let a=0;for(const o of t){const l=o.index,u=e.substring(a,l);u.length>0&&i.push({type:"text",content:e.substring(a,l),range:Xr.create(hn.create(r,a+n),hn.create(r,l+n))});let h=u.length+1;const f=o[1];if(i.push({type:"inline-tag",content:f,range:Xr.create(hn.create(r,a+h+n),hn.create(r,a+h+f.length+n))}),h+=f.length,o.length===4){h+=o[2].length;const d=o[3];i.push({type:"text",content:d,range:Xr.create(hn.create(r,a+h+n),hn.create(r,a+h+d.length+n))})}else i.push({type:"text",content:"",range:Xr.create(hn.create(r,a+h+n),hn.create(r,a+h+n))});a=l+o[0].length}const s=e.substring(a);s.length>0&&i.push({type:"text",content:s,range:Xr.create(hn.create(r,a+n),hn.create(r,a+n+s.length))})}return i}const CUe=/\S/,AUe=/\s*$/;function _L(t,e){const r=t.substring(e).match(CUe);return r?e+r.index:t.length}function _Ue(t){const e=t.match(AUe);if(e&&typeof e.index=="number")return e.index}function LUe(t){var e,r,n,i;const a=hn.create(t.position.line,t.position.character);if(t.tokens.length===0)return new yG([],Xr.create(a,a));const s=[];for(;t.index<t.tokens.length;){const u=DUe(t,s[s.length-1]);u&&s.push(u)}const o=(r=(e=s[0])===null||e===void 0?void 0:e.range.start)!==null&&r!==void 0?r:a,l=(i=(n=s[s.length-1])===null||n===void 0?void 0:n.range.end)!==null&&i!==void 0?i:a;return new yG(s,Xr.create(o,l))}function DUe(t,e){const r=t.tokens[t.index];if(r.type==="tag")return Ose(t,!1);if(r.type==="text"||r.type==="inline-tag")return Ise(t);RUe(r,e),t.index++}function RUe(t,e){if(e){const r=new Pse("",t.range);"inlines"in e?e.inlines.push(r):e.content.inlines.push(r)}}function Ise(t){let e=t.tokens[t.index];const r=e;let n=e;const i=[];for(;e&&e.type!=="break"&&e.type!=="tag";)i.push(MUe(t)),n=e,e=t.tokens[t.index];return new LL(i,Xr.create(r.range.start,n.range.end))}function MUe(t){return t.tokens[t.index].type==="inline-tag"?Ose(t,!0):Fse(t)}function Ose(t,e){const r=t.tokens[t.index++],n=r.content.substring(1),i=t.tokens[t.index];if((i==null?void 0:i.type)==="text")if(e){const a=Fse(t);return new W8(n,new LL([a],a.range),e,Xr.create(r.range.start,a.range.end))}else{const a=Ise(t);return new W8(n,a,e,Xr.create(r.range.start,a.range.end))}else{const a=r.range;return new W8(n,new LL([],a),e,a)}}function Fse(t){const e=t.tokens[t.index++];return new Pse(e.content,e.range)}function oI(t){if(!t)return oI({start:"/**",end:"*/",line:"*"});const{start:e,end:r,line:n}=t;return{start:G8(e,!0),end:G8(r,!1),line:G8(n,!0)}}function G8(t,e){if(typeof t=="string"||typeof t=="object"){const r=typeof t=="string"?MT(t):t.source;return e?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return t}class yG{constructor(e,r){this.elements=e,this.range=r}getTag(e){return this.getAllTags().find(r=>r.name===e)}getTags(e){return this.getAllTags().filter(r=>r.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const r of this.elements)if(e.length===0)e=r.toString();else{const n=r.toString();e+=xG(e)+n}return e.trim()}toMarkdown(e){let r="";for(const n of this.elements)if(r.length===0)r=n.toMarkdown(e);else{const i=n.toMarkdown(e);r+=xG(r)+i}return r.trim()}}class W8{constructor(e,r,n,i){this.name=e,this.content=r,this.inline=n,this.range=i}toString(){let e=`@${this.name}`;const r=this.content.toString();return this.content.inlines.length===1?e=`${e} ${r}`:this.content.inlines.length>1&&(e=`${e}
${r}`),this.inline?`{${e}}`:e}toMarkdown(e){var r,n;return(n=(r=e==null?void 0:e.renderTag)===null||r===void 0?void 0:r.call(e,this))!==null&&n!==void 0?n:this.toMarkdownDefault(e)}toMarkdownDefault(e){const r=this.content.toMarkdown(e);if(this.inline){const a=NUe(this.name,r,e??{});if(typeof a=="string")return a}let n="";(e==null?void 0:e.tag)==="italic"||(e==null?void 0:e.tag)===void 0?n="*":(e==null?void 0:e.tag)==="bold"?n="**":(e==null?void 0:e.tag)==="bold-italic"&&(n="***");let i=`${n}@${this.name}${n}`;return this.content.inlines.length===1?i=`${i} — ${r}`:this.content.inlines.length>1&&(i=`${i}
${r}`),this.inline?`{${i}}`:i}}function NUe(t,e,r){var n,i;if(t==="linkplain"||t==="linkcode"||t==="link"){const a=e.indexOf(" ");let s=e;if(a>0){const l=_L(e,a);s=e.substring(l),e=e.substring(0,a)}return(t==="linkcode"||t==="link"&&r.link==="code")&&(s=`\`${s}\``),(i=(n=r.renderLink)===null||n===void 0?void 0:n.call(r,e,s))!==null&&i!==void 0?i:IUe(e,s)}}function IUe(t,e){try{return R1.parse(t,!0),`[${e}](${t})`}catch{return t}}class LL{constructor(e,r){this.inlines=e,this.range=r}toString(){let e="";for(let r=0;r<this.inlines.length;r++){const n=this.inlines[r],i=this.inlines[r+1];e+=n.toString(),i&&i.range.start.line>n.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let r="";for(let n=0;n<this.inlines.length;n++){const i=this.inlines[n],a=this.inlines[n+1];r+=i.toMarkdown(e),a&&a.range.start.line>i.range.start.line&&(r+=`
`)}return r}}class Pse{constructor(e,r){this.text=e,this.range=r}toString(){return this.text}toMarkdown(){return this.text}}function xG(t){return t.endsWith(`
`)?`
`:`

`}class OUe{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const r=this.commentProvider.getComment(e);if(r&&kUe(r))return wUe(r).toMarkdown({renderLink:(i,a)=>this.documentationLinkRenderer(e,i,a),renderTag:i=>this.documentationTagRenderer(e,i)})}documentationLinkRenderer(e,r,n){var i;const a=(i=this.findNameInPrecomputedScopes(e,r))!==null&&i!==void 0?i:this.findNameInGlobalScope(e,r);if(a&&a.nameSegment){const s=a.nameSegment.range.start.line+1,o=a.nameSegment.range.start.character+1,l=a.documentUri.with({fragment:`L${s},${o}`});return`[${n}](${l.toString()})`}else return}documentationTagRenderer(e,r){}findNameInPrecomputedScopes(e,r){const i=ju(e).precomputedScopes;if(!i)return;let a=e;do{const o=i.get(a).find(l=>l.name===r);if(o)return o;a=a.$container}while(a)}findNameInGlobalScope(e,r){return this.indexManager.allElements().find(i=>i.name===r)}}class FUe{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var r;return sUe(e)?e.$comment:(r=kBe(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||r===void 0?void 0:r.text}}class PUe{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e){return Promise.resolve(this.syncParser.parse(e))}}class BUe{constructor(){this.previousTokenSource=new EL,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const r=new EL;return this.previousTokenSource=r,this.enqueue(this.writeQueue,e,r.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,r,n){const i=new aI,a={action:r,deferred:i,cancellationToken:n??wa.None};return e.push(a),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;const e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:r,deferred:n,cancellationToken:i})=>{try{const a=await Promise.resolve().then(()=>r(i));n.resolve(a)}catch(a){iI(a)?n.resolve(void 0):n.reject(a)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class $Ue{constructor(e){this.grammarElementIdMap=new fG,this.tokenTypeIdMap=new fG,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors.map(r=>Object.assign({},r)),parserErrors:e.parserErrors.map(r=>Object.assign({},r)),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}createDehyrationContext(e){const r=new Map,n=new Map;for(const i of Pg(e))r.set(i,{});if(e.$cstNode)for(const i of q9(e.$cstNode))n.set(i,{});return{astNodes:r,cstNodes:n}}dehydrateAstNode(e,r){const n=r.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(e.$cstNode,r));for(const[i,a]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(a)){const s=[];n[i]=s;for(const o of a)cs(o)?s.push(this.dehydrateAstNode(o,r)):Bu(o)?s.push(this.dehydrateReference(o,r)):s.push(o)}else cs(a)?n[i]=this.dehydrateAstNode(a,r):Bu(a)?n[i]=this.dehydrateReference(a,r):a!==void 0&&(n[i]=a);return n}dehydrateReference(e,r){const n={};return n.$refText=e.$refText,e.$refNode&&(n.$refNode=r.cstNodes.get(e.$refNode)),n}dehydrateCstNode(e,r){const n=r.cstNodes.get(e);return Die(e)?n.fullText=e.fullText:n.grammarSource=this.getGrammarElementId(e.grammarSource),n.hidden=e.hidden,n.astNode=r.astNodes.get(e.astNode),T1(e)?n.content=e.content.map(i=>this.dehydrateCstNode(i,r)):Lie(e)&&(n.tokenType=e.tokenType.name,n.offset=e.offset,n.length=e.length,n.startLine=e.range.start.line,n.startColumn=e.range.start.character,n.endLine=e.range.end.line,n.endColumn=e.range.end.character),n}hydrate(e){const r=e.value,n=this.createHydrationContext(r);return"$cstNode"in r&&this.hydrateCstNode(r.$cstNode,n),{lexerErrors:e.lexerErrors,parserErrors:e.parserErrors,value:this.hydrateAstNode(r,n)}}createHydrationContext(e){const r=new Map,n=new Map;for(const a of Pg(e))r.set(a,{});let i;if(e.$cstNode)for(const a of q9(e.$cstNode)){let s;"fullText"in a?(s=new pse(a.fullText),i=s):"content"in a?s=new rI:"tokenType"in a&&(s=this.hydrateCstLeafNode(a)),s&&(n.set(a,s),s.root=i)}return{astNodes:r,cstNodes:n}}hydrateAstNode(e,r){const n=r.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode&&(n.$cstNode=r.cstNodes.get(e.$cstNode));for(const[i,a]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(a)){const s=[];n[i]=s;for(const o of a)cs(o)?s.push(this.setParent(this.hydrateAstNode(o,r),n)):Bu(o)?s.push(this.hydrateReference(o,n,i,r)):s.push(o)}else cs(a)?n[i]=this.setParent(this.hydrateAstNode(a,r),n):Bu(a)?n[i]=this.hydrateReference(a,n,i,r):a!==void 0&&(n[i]=a);return n}setParent(e,r){return e.$container=r,e}hydrateReference(e,r,n,i){return this.linker.buildReference(r,n,i.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,r,n=0){const i=r.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(e.grammarSource)),i.astNode=r.astNodes.get(e.astNode),T1(i))for(const a of e.content){const s=this.hydrateCstNode(a,r,n++);i.content.push(s)}return i}hydrateCstLeafNode(e){const r=this.getTokenType(e.tokenType),n=e.offset,i=e.length,a=e.startLine,s=e.startColumn,o=e.endLine,l=e.endColumn,u=e.hidden;return new xL(n,i,{start:{line:a,character:s},end:{line:o,character:l}},r,u)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap();const r=this.grammarElementIdMap.getKey(e);if(r)return r;throw new Error("Invalid grammar element id: "+e)}createGrammarElementIdMap(){let e=0;for(const r of Pg(this.grammar))TBe(r)&&this.grammarElementIdMap.set(r,e++)}}function dv(t){return{documentation:{CommentProvider:e=>new FUe(e),DocumentationProvider:e=>new OUe(e)},parser:{AsyncParser:e=>new PUe(e),GrammarConfig:e=>E$e(e),LangiumParser:e=>MVe(e),CompletionParser:e=>RVe(e),ValueConverter:()=>new Sse,TokenBuilder:()=>new kse,Lexer:e=>new xUe(e),ParserErrorMessageProvider:()=>new mse},workspace:{AstNodeLocator:()=>new pUe,AstNodeDescriptionProvider:e=>new fUe(e),ReferenceDescriptionProvider:e=>new dUe(e)},references:{Linker:e=>new KVe(e),NameProvider:()=>new ZVe,ScopeProvider:e=>new aUe(e),ScopeComputation:e=>new eUe(e),References:e=>new JVe(e)},serializer:{Hydrator:e=>new $Ue(e),JsonSerializer:e=>new oUe(e)},validation:{DocumentValidator:e=>new cUe(e),ValidationRegistry:e=>new uUe(e)},shared:()=>t.shared}}function pv(t){return{ServiceRegistry:()=>new lUe,workspace:{LangiumDocuments:e=>new jVe(e),LangiumDocumentFactory:e=>new XVe(e),DocumentBuilder:e=>new vUe(e),IndexManager:e=>new mUe(e),WorkspaceManager:e=>new yUe(e),FileSystemProvider:e=>t.fileSystemProvider(e),WorkspaceLock:()=>new BUe,ConfigurationProvider:e=>new gUe(e)}}}var bG;(function(t){t.merge=(e,r)=>lS(lS({},e),r)})(bG||(bG={}));function _l(t,e,r,n,i,a,s,o,l){const u=[t,e,r,n,i,a,s,o,l].reduce(lS,{});return Bse(u)}const wG=Symbol("isProxy");function Bse(t,e){const r=new Proxy({},{deleteProperty:()=>!1,get:(n,i)=>SG(n,i,t,e||r),getOwnPropertyDescriptor:(n,i)=>(SG(n,i,t,e||r),Object.getOwnPropertyDescriptor(n,i)),has:(n,i)=>i in t,ownKeys:()=>[...Reflect.ownKeys(t),wG]});return r[wG]=!0,r}const kG=Symbol();function SG(t,e,r,n){if(e in t){if(t[e]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:t[e]});if(t[e]===kG)throw new Error('Cycle detected. Please make "'+String(e)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return t[e]}else if(e in r){const i=r[e];t[e]=kG;try{t[e]=typeof i=="function"?i(n):Bse(i,n)}catch(a){throw t[e]=a instanceof Error?a:void 0,a}return t[e]}else return}function lS(t,e){if(e){for(const[r,n]of Object.entries(e))if(n!==void 0){const i=t[r];i!==null&&n!==null&&typeof i=="object"&&typeof n=="object"?t[r]=lS(i,n):t[r]=n}}return t}class zUe{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const gv={fileSystemProvider:()=>new zUe},HUe={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},VUe={AstReflection:()=>new fae};function UUe(){const t=_l(pv(gv),VUe),e=_l(dv({shared:t}),HUe);return t.ServiceRegistry.register(e),e}function Tb(t){var e;const r=UUe(),n=r.serializer.JsonSerializer.deserialize(t);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,R1.parse(`memory://${(e=n.name)!==null&&e!==void 0?e:"grammar"}.langium`)),n}var GUe=Object.defineProperty,rr=(t,e)=>GUe(t,"name",{value:e,configurable:!0}),WUe="Statement",qUe="Architecture";function YUe(t){return gu.isInstance(t,qUe)}rr(YUe,"isArchitecture");var $se="Branch";function XUe(t){return gu.isInstance(t,$se)}rr(XUe,"isBranch");var jUe="Checkout",KUe="CherryPicking",zse="Commit";function QUe(t){return gu.isInstance(t,zse)}rr(QUe,"isCommit");var ZUe="Common";function JUe(t){return gu.isInstance(t,ZUe)}rr(JUe,"isCommon");var Hse="GitGraph";function eGe(t){return gu.isInstance(t,Hse)}rr(eGe,"isGitGraph");var tGe="Info";function rGe(t){return gu.isInstance(t,tGe)}rr(rGe,"isInfo");var Vse="Merge";function nGe(t){return gu.isInstance(t,Vse)}rr(nGe,"isMerge");var iGe="Packet";function aGe(t){return gu.isInstance(t,iGe)}rr(aGe,"isPacket");var sGe="PacketBlock";function oGe(t){return gu.isInstance(t,sGe)}rr(oGe,"isPacketBlock");var lGe="Pie";function uGe(t){return gu.isInstance(t,lGe)}rr(uGe,"isPie");var cGe="PieSection";function hGe(t){return gu.isInstance(t,cGe)}rr(hGe,"isPieSection");var fGe="Direction",px,Use=(px=class extends _ie{getAllTypes(){return["Architecture","Branch","Checkout","CherryPicking","Commit","Common","Direction","Edge","GitGraph","Group","Info","Junction","Merge","Packet","PacketBlock","Pie","PieSection","Service","Statement"]}computeIsSubtype(e,r){switch(e){case $se:case jUe:case KUe:case zse:case Vse:return this.isSubtype(WUe,r);case fGe:return this.isSubtype(Hse,r);default:return!1}}getReferenceType(e){const r=`${e.container.$type}:${e.property}`;switch(r){default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case"Architecture":return{name:"Architecture",properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case"Branch":return{name:"Branch",properties:[{name:"name"},{name:"order"}]};case"Checkout":return{name:"Checkout",properties:[{name:"branch"}]};case"CherryPicking":return{name:"CherryPicking",properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case"Commit":return{name:"Commit",properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Common":return{name:"Common",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Edge":return{name:"Edge",properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case"GitGraph":return{name:"GitGraph",properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case"Group":return{name:"Group",properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case"Info":return{name:"Info",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Junction":return{name:"Junction",properties:[{name:"id"},{name:"in"}]};case"Merge":return{name:"Merge",properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Packet":return{name:"Packet",properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case"PacketBlock":return{name:"PacketBlock",properties:[{name:"end"},{name:"label"},{name:"start"}]};case"Pie":return{name:"Pie",properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case"PieSection":return{name:"PieSection",properties:[{name:"label"},{name:"value"}]};case"Service":return{name:"Service",properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case"Direction":return{name:"Direction",properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:e,properties:[]}}}},rr(px,"MermaidAstReflection"),px),gu=new Use,EG,dGe=rr(()=>EG??(EG=Tb('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"InfoGrammar"),TG,pGe=rr(()=>TG??(TG=Tb(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","name":"Packet","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),CG,gGe=rr(()=>CG??(CG=Tb('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"PieGrammar"),AG,vGe=rr(()=>AG??(AG=Tb('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","name":"Architecture","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","fragment":true,"definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LeftPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RightPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Arrow","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),_G,mGe=rr(()=>_G??(_G=Tb(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","name":"GitGraph","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),yGe={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},xGe={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},bGe={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},wGe={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},kGe={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Cb={AstReflection:rr(()=>new Use,"AstReflection")},SGe={Grammar:rr(()=>dGe(),"Grammar"),LanguageMetaData:rr(()=>yGe,"LanguageMetaData"),parser:{}},EGe={Grammar:rr(()=>pGe(),"Grammar"),LanguageMetaData:rr(()=>xGe,"LanguageMetaData"),parser:{}},TGe={Grammar:rr(()=>gGe(),"Grammar"),LanguageMetaData:rr(()=>bGe,"LanguageMetaData"),parser:{}},CGe={Grammar:rr(()=>vGe(),"Grammar"),LanguageMetaData:rr(()=>wGe,"LanguageMetaData"),parser:{}},AGe={Grammar:rr(()=>mGe(),"Grammar"),LanguageMetaData:rr(()=>kGe,"LanguageMetaData"),parser:{}},_Ge=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,LGe=/accTitle[\t ]*:([^\n\r]*)/,DGe=/title([\t ][^\n\r]*|)/,RGe={ACC_DESCR:_Ge,ACC_TITLE:LGe,TITLE:DGe},gx,lI=(gx=class extends Sse{runConverter(e,r,n){let i=this.runCommonConverter(e,r,n);return i===void 0&&(i=this.runCustomConverter(e,r,n)),i===void 0?super.runConverter(e,r,n):i}runCommonConverter(e,r,n){const i=RGe[e.name];if(i===void 0)return;const a=i.exec(r);if(a!==null){if(a[1]!==void 0)return a[1].trim().replace(/[\t ]{2,}/gm," ");if(a[2]!==void 0)return a[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},rr(gx,"AbstractMermaidValueConverter"),gx),vx,uI=(vx=class extends lI{runCustomConverter(e,r,n){}},rr(vx,"CommonValueConverter"),vx),mx,vv=(mx=class extends kse{constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,r,n){const i=super.buildKeywordTokens(e,r,n);return i.forEach(a=>{this.keywords.has(a.name)&&a.PATTERN!==void 0&&(a.PATTERN=new RegExp(a.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),i}},rr(mx,"AbstractMermaidTokenBuilder"),mx),yx;yx=class extends vv{},rr(yx,"CommonTokenBuilder");var xx,MGe=(xx=class extends vv{constructor(){super(["gitGraph"])}},rr(xx,"GitGraphTokenBuilder"),xx),Gse={parser:{TokenBuilder:rr(()=>new MGe,"TokenBuilder"),ValueConverter:rr(()=>new uI,"ValueConverter")}};function Wse(t=gv){const e=_l(pv(t),Cb),r=_l(dv({shared:e}),AGe,Gse);return e.ServiceRegistry.register(r),{shared:e,GitGraph:r}}rr(Wse,"createGitGraphServices");var bx,NGe=(bx=class extends vv{constructor(){super(["info","showInfo"])}},rr(bx,"InfoTokenBuilder"),bx),qse={parser:{TokenBuilder:rr(()=>new NGe,"TokenBuilder"),ValueConverter:rr(()=>new uI,"ValueConverter")}};function Yse(t=gv){const e=_l(pv(t),Cb),r=_l(dv({shared:e}),SGe,qse);return e.ServiceRegistry.register(r),{shared:e,Info:r}}rr(Yse,"createInfoServices");var wx,IGe=(wx=class extends vv{constructor(){super(["packet-beta"])}},rr(wx,"PacketTokenBuilder"),wx),Xse={parser:{TokenBuilder:rr(()=>new IGe,"TokenBuilder"),ValueConverter:rr(()=>new uI,"ValueConverter")}};function jse(t=gv){const e=_l(pv(t),Cb),r=_l(dv({shared:e}),EGe,Xse);return e.ServiceRegistry.register(r),{shared:e,Packet:r}}rr(jse,"createPacketServices");var kx,OGe=(kx=class extends vv{constructor(){super(["pie","showData"])}},rr(kx,"PieTokenBuilder"),kx),Sx,FGe=(Sx=class extends lI{runCustomConverter(e,r,n){if(e.name==="PIE_SECTION_LABEL")return r.replace(/"/g,"").trim()}},rr(Sx,"PieValueConverter"),Sx),Kse={parser:{TokenBuilder:rr(()=>new OGe,"TokenBuilder"),ValueConverter:rr(()=>new FGe,"ValueConverter")}};function Qse(t=gv){const e=_l(pv(t),Cb),r=_l(dv({shared:e}),TGe,Kse);return e.ServiceRegistry.register(r),{shared:e,Pie:r}}rr(Qse,"createPieServices");var Ex,PGe=(Ex=class extends vv{constructor(){super(["architecture"])}},rr(Ex,"ArchitectureTokenBuilder"),Ex),Tx,BGe=(Tx=class extends lI{runCustomConverter(e,r,n){if(e.name==="ARCH_ICON")return r.replace(/[()]/g,"").trim();if(e.name==="ARCH_TEXT_ICON")return r.replace(/["()]/g,"");if(e.name==="ARCH_TITLE")return r.replace(/[[\]]/g,"").trim()}},rr(Tx,"ArchitectureValueConverter"),Tx),Zse={parser:{TokenBuilder:rr(()=>new PGe,"TokenBuilder"),ValueConverter:rr(()=>new BGe,"ValueConverter")}};function Jse(t=gv){const e=_l(pv(t),Cb),r=_l(dv({shared:e}),CGe,Zse);return e.ServiceRegistry.register(r),{shared:e,Architecture:r}}rr(Jse,"createArchitectureServices");var Bd={},$Ge={info:rr(async()=>{const{createInfoServices:t}=await on(()=>Promise.resolve().then(()=>Aut),void 0),e=t().Info.parser.LangiumParser;Bd.info=e},"info"),packet:rr(async()=>{const{createPacketServices:t}=await on(()=>Promise.resolve().then(()=>_ut),void 0),e=t().Packet.parser.LangiumParser;Bd.packet=e},"packet"),pie:rr(async()=>{const{createPieServices:t}=await on(()=>Promise.resolve().then(()=>Lut),void 0),e=t().Pie.parser.LangiumParser;Bd.pie=e},"pie"),architecture:rr(async()=>{const{createArchitectureServices:t}=await on(()=>Promise.resolve().then(()=>Dut),void 0),e=t().Architecture.parser.LangiumParser;Bd.architecture=e},"architecture"),gitGraph:rr(async()=>{const{createGitGraphServices:t}=await on(()=>Promise.resolve().then(()=>Rut),void 0),e=t().GitGraph.parser.LangiumParser;Bd.gitGraph=e},"gitGraph")};async function mv(t,e){const r=$Ge[t];if(!r)throw new Error(`Unknown diagram type: ${t}`);Bd[t]||await r();const i=Bd[t].parse(e);if(i.lexerErrors.length>0||i.parserErrors.length>0)throw new zGe(i);return i.value}rr(mv,"parse");var Cx,zGe=(Cx=class extends Error{constructor(e){const r=e.lexerErrors.map(i=>i.message).join(`
`),n=e.parserErrors.map(i=>i.message).join(`
`);super(`Parsing failed: ${r} ${n}`),this.result=e}},rr(Cx,"MermaidParseError"),Cx),bn={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},HGe=An.gitGraph,dp=S(()=>mh({...HGe,...wi().gitGraph}),"getConfig"),zt=new BN(()=>{const t=dp(),e=t.mainBranchName,r=t.mainBranchOrder;return{mainBranchName:e,commits:new Map,head:null,branchConfig:new Map([[e,{name:e,order:r}]]),branches:new Map([[e,null]]),currBranch:e,direction:"LR",seq:0,options:{}}});function VT(){return PJ({length:7})}S(VT,"getID");function eoe(t,e){const r=Object.create(null);return t.reduce((n,i)=>{const a=e(i);return r[a]||(r[a]=!0,n.push(i)),n},[])}S(eoe,"uniqBy");var VGe=S(function(t){zt.records.direction=t},"setDirection"),UGe=S(function(t){he.debug("options str",t),t=t==null?void 0:t.trim(),t=t||"{}";try{zt.records.options=JSON.parse(t)}catch(e){he.error("error while parsing gitGraph options",e.message)}},"setOptions"),GGe=S(function(){return zt.records.options},"getOptions"),WGe=S(function(t){let e=t.msg,r=t.id;const n=t.type;let i=t.tags;he.info("commit",e,r,n,i),he.debug("Entering commit:",e,r,n,i);const a=dp();r=Et.sanitizeText(r,a),e=Et.sanitizeText(e,a),i=i==null?void 0:i.map(o=>Et.sanitizeText(o,a));const s={id:r||zt.records.seq+"-"+VT(),message:e,seq:zt.records.seq++,type:n??bn.NORMAL,tags:i??[],parents:zt.records.head==null?[]:[zt.records.head.id],branch:zt.records.currBranch};zt.records.head=s,he.info("main branch",a.mainBranchName),zt.records.commits.set(s.id,s),zt.records.branches.set(zt.records.currBranch,s.id),he.debug("in pushCommit "+s.id)},"commit"),qGe=S(function(t){let e=t.name;const r=t.order;if(e=Et.sanitizeText(e,dp()),zt.records.branches.has(e))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${e}")`);zt.records.branches.set(e,zt.records.head!=null?zt.records.head.id:null),zt.records.branchConfig.set(e,{name:e,order:r}),toe(e),he.debug("in createBranch")},"branch"),YGe=S(t=>{let e=t.branch,r=t.id;const n=t.type,i=t.tags,a=dp();e=Et.sanitizeText(e,a),r&&(r=Et.sanitizeText(r,a));const s=zt.records.branches.get(zt.records.currBranch),o=zt.records.branches.get(e),l=s?zt.records.commits.get(s):void 0,u=o?zt.records.commits.get(o):void 0;if(l&&u&&l.branch===e)throw new Error(`Cannot merge branch '${e}' into itself.`);if(zt.records.currBranch===e){const d=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw d.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["branch abc"]},d}if(l===void 0||!l){const d=new Error(`Incorrect usage of "merge". Current branch (${zt.records.currBranch})has no commits`);throw d.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["commit"]},d}if(!zt.records.branches.has(e)){const d=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") does not exist");throw d.hash={text:`merge ${e}`,token:`merge ${e}`,expected:[`branch ${e}`]},d}if(u===void 0||!u){const d=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") has no commits");throw d.hash={text:`merge ${e}`,token:`merge ${e}`,expected:['"commit"']},d}if(l===u){const d=new Error('Incorrect usage of "merge". Both branches have same head');throw d.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["branch abc"]},d}if(r&&zt.records.commits.has(r)){const d=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom Id");throw d.hash={text:`merge ${e} ${r} ${n} ${i==null?void 0:i.join(" ")}`,token:`merge ${e} ${r} ${n} ${i==null?void 0:i.join(" ")}`,expected:[`merge ${e} ${r}_UNIQUE ${n} ${i==null?void 0:i.join(" ")}`]},d}const h=o||"",f={id:r||`${zt.records.seq}-${VT()}`,message:`merged branch ${e} into ${zt.records.currBranch}`,seq:zt.records.seq++,parents:zt.records.head==null?[]:[zt.records.head.id,h],branch:zt.records.currBranch,type:bn.MERGE,customType:n,customId:!!r,tags:i??[]};zt.records.head=f,zt.records.commits.set(f.id,f),zt.records.branches.set(zt.records.currBranch,f.id),he.debug(zt.records.branches),he.debug("in mergeBranch")},"merge"),XGe=S(function(t){let e=t.id,r=t.targetId,n=t.tags,i=t.parent;he.debug("Entering cherryPick:",e,r,n);const a=dp();if(e=Et.sanitizeText(e,a),r=Et.sanitizeText(r,a),n=n==null?void 0:n.map(l=>Et.sanitizeText(l,a)),i=Et.sanitizeText(i,a),!e||!zt.records.commits.has(e)){const l=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw l.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},l}const s=zt.records.commits.get(e);if(s===void 0||!s)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(i&&!(Array.isArray(s.parents)&&s.parents.includes(i)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");const o=s.branch;if(s.type===bn.MERGE&&!i)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!zt.records.commits.has(r)){if(o===zt.records.currBranch){const f=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw f.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},f}const l=zt.records.branches.get(zt.records.currBranch);if(l===void 0||!l){const f=new Error(`Incorrect usage of "cherry-pick". Current branch (${zt.records.currBranch})has no commits`);throw f.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},f}const u=zt.records.commits.get(l);if(u===void 0||!u){const f=new Error(`Incorrect usage of "cherry-pick". Current branch (${zt.records.currBranch})has no commits`);throw f.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},f}const h={id:zt.records.seq+"-"+VT(),message:`cherry-picked ${s==null?void 0:s.message} into ${zt.records.currBranch}`,seq:zt.records.seq++,parents:zt.records.head==null?[]:[zt.records.head.id,s.id],branch:zt.records.currBranch,type:bn.CHERRY_PICK,tags:n?n.filter(Boolean):[`cherry-pick:${s.id}${s.type===bn.MERGE?`|parent:${i}`:""}`]};zt.records.head=h,zt.records.commits.set(h.id,h),zt.records.branches.set(zt.records.currBranch,h.id),he.debug(zt.records.branches),he.debug("in cherryPick")}},"cherryPick"),toe=S(function(t){if(t=Et.sanitizeText(t,dp()),zt.records.branches.has(t)){zt.records.currBranch=t;const e=zt.records.branches.get(zt.records.currBranch);e===void 0||!e?zt.records.head=null:zt.records.head=zt.records.commits.get(e)??null}else{const e=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${t}")`);throw e.hash={text:`checkout ${t}`,token:`checkout ${t}`,expected:[`branch ${t}`]},e}},"checkout");function DL(t,e,r){const n=t.indexOf(e);n===-1?t.push(r):t.splice(n,1,r)}S(DL,"upsert");function cI(t){const e=t.reduce((i,a)=>i.seq>a.seq?i:a,t[0]);let r="";t.forEach(function(i){i===e?r+="	*":r+="	|"});const n=[r,e.id,e.seq];for(const i in zt.records.branches)zt.records.branches.get(i)===e.id&&n.push(i);if(he.debug(n.join(" ")),e.parents&&e.parents.length==2&&e.parents[0]&&e.parents[1]){const i=zt.records.commits.get(e.parents[0]);DL(t,e,i),e.parents[1]&&t.push(zt.records.commits.get(e.parents[1]))}else{if(e.parents.length==0)return;if(e.parents[0]){const i=zt.records.commits.get(e.parents[0]);DL(t,e,i)}}t=eoe(t,i=>i.id),cI(t)}S(cI,"prettyPrintCommitHistory");var jGe=S(function(){he.debug(zt.records.commits);const t=roe()[0];cI([t])},"prettyPrint"),KGe=S(function(){zt.reset(),ka()},"clear"),QGe=S(function(){return[...zt.records.branchConfig.values()].map((e,r)=>e.order!==null&&e.order!==void 0?e:{...e,order:parseFloat(`0.${r}`)}).sort((e,r)=>(e.order??0)-(r.order??0)).map(({name:e})=>({name:e}))},"getBranchesAsObjArray"),ZGe=S(function(){return zt.records.branches},"getBranches"),JGe=S(function(){return zt.records.commits},"getCommits"),roe=S(function(){const t=[...zt.records.commits.values()];return t.forEach(function(e){he.debug(e.id)}),t.sort((e,r)=>e.seq-r.seq),t},"getCommitsArray"),eWe=S(function(){return zt.records.currBranch},"getCurrentBranch"),tWe=S(function(){return zt.records.direction},"getDirection"),rWe=S(function(){return zt.records.head},"getHead"),noe={commitType:bn,getConfig:dp,setDirection:VGe,setOptions:UGe,getOptions:GGe,commit:WGe,branch:qGe,merge:YGe,cherryPick:XGe,checkout:toe,prettyPrint:jGe,clear:KGe,getBranchesAsObjArray:QGe,getBranches:ZGe,getCommits:JGe,getCommitsArray:roe,getCurrentBranch:eWe,getDirection:tWe,getHead:rWe,setAccTitle:Sa,getAccTitle:Wa,getAccDescription:Ya,setAccDescription:qa,setDiagramTitle:Us,getDiagramTitle:Xa},nWe=S((t,e)=>{yb(t,e),t.dir&&e.setDirection(t.dir);for(const r of t.statements)iWe(r,e)},"populate"),iWe=S((t,e)=>{const n={Commit:S(i=>e.commit(aWe(i)),"Commit"),Branch:S(i=>e.branch(sWe(i)),"Branch"),Merge:S(i=>e.merge(oWe(i)),"Merge"),Checkout:S(i=>e.checkout(lWe(i)),"Checkout"),CherryPicking:S(i=>e.cherryPick(uWe(i)),"CherryPicking")}[t.$type];n?n(t):he.error(`Unknown statement type: ${t.$type}`)},"parseStatement"),aWe=S(t=>({id:t.id,msg:t.message??"",type:t.type!==void 0?bn[t.type]:bn.NORMAL,tags:t.tags??void 0}),"parseCommit"),sWe=S(t=>({name:t.name,order:t.order??0}),"parseBranch"),oWe=S(t=>({branch:t.branch,id:t.id??"",type:t.type!==void 0?bn[t.type]:void 0,tags:t.tags??void 0}),"parseMerge"),lWe=S(t=>t.branch,"parseCheckout"),uWe=S(t=>{var r;return{id:t.id,targetId:"",tags:((r=t.tags)==null?void 0:r.length)===0?void 0:t.tags,parent:t.parent}},"parseCherryPicking"),cWe={parse:S(async t=>{const e=await mv("gitGraph",t);he.debug(e),nWe(e,noe)},"parse")},q8=Ve(),Fi=q8==null?void 0:q8.gitGraph,of=10,lf=40,Au=4,Lc=2,$d=8,io=new Map,fo=new Map,uS=30,ay=new Map,cS=[],Kh=0,qr="LR",hWe=S(()=>{io.clear(),fo.clear(),ay.clear(),Kh=0,cS=[],qr="LR"},"clear"),ioe=S(t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof t=="string"?t.split(/\\n|\n|<br\s*\/?>/gi):t).forEach(n=>{const i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=n.trim(),e.appendChild(i)}),e},"drawText"),aoe=S(t=>{let e,r,n;return qr==="BT"?(r=S((i,a)=>i<=a,"comparisonFunc"),n=1/0):(r=S((i,a)=>i>=a,"comparisonFunc"),n=0),t.forEach(i=>{var s,o;const a=qr==="TB"||qr=="BT"?(s=fo.get(i))==null?void 0:s.y:(o=fo.get(i))==null?void 0:o.x;a!==void 0&&r(a,n)&&(e=i,n=a)}),e},"findClosestParent"),fWe=S(t=>{let e="",r=1/0;return t.forEach(n=>{const i=fo.get(n).y;i<=r&&(e=n,r=i)}),e||void 0},"findClosestParentBT"),dWe=S((t,e,r)=>{let n=r,i=r;const a=[];t.forEach(s=>{const o=e.get(s);if(!o)throw new Error(`Commit not found for key ${s}`);o.parents.length?(n=gWe(o),i=Math.max(n,i)):a.push(o),vWe(o,n)}),n=i,a.forEach(s=>{mWe(s,n,r)}),t.forEach(s=>{const o=e.get(s);if(o!=null&&o.parents.length){const l=fWe(o.parents);n=fo.get(l).y-lf,n<=i&&(i=n);const u=io.get(o.branch).pos,h=n-of;fo.set(o.id,{x:u,y:h})}})},"setParallelBTPos"),pWe=S(t=>{var n;const e=aoe(t.parents.filter(i=>i!==null));if(!e)throw new Error(`Closest parent not found for commit ${t.id}`);const r=(n=fo.get(e))==null?void 0:n.y;if(r===void 0)throw new Error(`Closest parent position not found for commit ${t.id}`);return r},"findClosestParentPos"),gWe=S(t=>pWe(t)+lf,"calculateCommitPosition"),vWe=S((t,e)=>{const r=io.get(t.branch);if(!r)throw new Error(`Branch not found for commit ${t.id}`);const n=r.pos,i=e+of;return fo.set(t.id,{x:n,y:i}),{x:n,y:i}},"setCommitPosition"),mWe=S((t,e,r)=>{const n=io.get(t.branch);if(!n)throw new Error(`Branch not found for commit ${t.id}`);const i=e+r,a=n.pos;fo.set(t.id,{x:a,y:i})},"setRootPosition"),yWe=S((t,e,r,n,i,a)=>{if(a===bn.HIGHLIGHT)t.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${e.id} commit-highlight${i%$d} ${n}-outer`),t.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${e.id} commit${i%$d} ${n}-inner`);else if(a===bn.CHERRY_PICK)t.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${e.id} ${n}`),t.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${e.id} ${n}`),t.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${e.id} ${n}`),t.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${e.id} ${n}`),t.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${e.id} ${n}`);else{const s=t.append("circle");if(s.attr("cx",r.x),s.attr("cy",r.y),s.attr("r",e.type===bn.MERGE?9:10),s.attr("class",`commit ${e.id} commit${i%$d}`),a===bn.MERGE){const o=t.append("circle");o.attr("cx",r.x),o.attr("cy",r.y),o.attr("r",6),o.attr("class",`commit ${n} ${e.id} commit${i%$d}`)}a===bn.REVERSE&&t.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${n} ${e.id} commit${i%$d}`)}},"drawCommitBullet"),xWe=S((t,e,r,n)=>{var i;if(e.type!==bn.CHERRY_PICK&&(e.customId&&e.type===bn.MERGE||e.type!==bn.MERGE)&&(Fi!=null&&Fi.showCommitLabel)){const a=t.append("g"),s=a.insert("rect").attr("class","commit-label-bkg"),o=a.append("text").attr("x",n).attr("y",r.y+25).attr("class","commit-label").text(e.id),l=(i=o.node())==null?void 0:i.getBBox();if(l&&(s.attr("x",r.posWithOffset-l.width/2-Lc).attr("y",r.y+13.5).attr("width",l.width+2*Lc).attr("height",l.height+2*Lc),qr==="TB"||qr==="BT"?(s.attr("x",r.x-(l.width+4*Au+5)).attr("y",r.y-12),o.attr("x",r.x-(l.width+4*Au)).attr("y",r.y+l.height-12)):o.attr("x",r.posWithOffset-l.width/2),Fi.rotateCommitLabel))if(qr==="TB"||qr==="BT")o.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),s.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{const u=-7.5-(l.width+10)/25*9.5,h=10+l.width/25*8.5;a.attr("transform","translate("+u+", "+h+") rotate(-45, "+n+", "+r.y+")")}}},"drawCommitLabel"),bWe=S((t,e,r,n)=>{var i;if(e.tags.length>0){let a=0,s=0,o=0;const l=[];for(const u of e.tags.reverse()){const h=t.insert("polygon"),f=t.append("circle"),d=t.append("text").attr("y",r.y-16-a).attr("class","tag-label").text(u),p=(i=d.node())==null?void 0:i.getBBox();if(!p)throw new Error("Tag bbox not found");s=Math.max(s,p.width),o=Math.max(o,p.height),d.attr("x",r.posWithOffset-p.width/2),l.push({tag:d,hole:f,rect:h,yOffset:a}),a+=20}for(const{tag:u,hole:h,rect:f,yOffset:d}of l){const p=o/2,v=r.y-19.2-d;if(f.attr("class","tag-label-bkg").attr("points",`
      ${n-s/2-Au/2},${v+Lc}  
      ${n-s/2-Au/2},${v-Lc}
      ${r.posWithOffset-s/2-Au},${v-p-Lc}
      ${r.posWithOffset+s/2+Au},${v-p-Lc}
      ${r.posWithOffset+s/2+Au},${v+p+Lc}
      ${r.posWithOffset-s/2-Au},${v+p+Lc}`),h.attr("cy",v).attr("cx",n-s/2+Au/2).attr("r",1.5).attr("class","tag-hole"),qr==="TB"||qr==="BT"){const m=n+d;f.attr("class","tag-label-bkg").attr("points",`
        ${r.x},${m+2}
        ${r.x},${m-2}
        ${r.x+of},${m-p-2}
        ${r.x+of+s+4},${m-p-2}
        ${r.x+of+s+4},${m+p+2}
        ${r.x+of},${m+p+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),h.attr("cx",r.x+Au/2).attr("cy",m).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),u.attr("x",r.x+5).attr("y",m+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+n+")")}}}},"drawCommitTags"),wWe=S(t=>{switch(t.customType??t.type){case bn.NORMAL:return"commit-normal";case bn.REVERSE:return"commit-reverse";case bn.HIGHLIGHT:return"commit-highlight";case bn.MERGE:return"commit-merge";case bn.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),kWe=S((t,e,r,n)=>{const i={x:0,y:0};if(t.parents.length>0){const a=aoe(t.parents);if(a){const s=n.get(a)??i;return e==="TB"?s.y+lf:e==="BT"?(n.get(t.id)??i).y-lf:s.x+lf}}else return e==="TB"?uS:e==="BT"?(n.get(t.id)??i).y-lf:0;return 0},"calculatePosition"),SWe=S((t,e,r)=>{var s,o;const n=qr==="BT"&&r?e:e+of,i=qr==="TB"||qr==="BT"?n:(s=io.get(t.branch))==null?void 0:s.pos,a=qr==="TB"||qr==="BT"?(o=io.get(t.branch))==null?void 0:o.pos:n;if(a===void 0||i===void 0)throw new Error(`Position were undefined for commit ${t.id}`);return{x:a,y:i,posWithOffset:n}},"getCommitPosition"),LG=S((t,e,r)=>{if(!Fi)throw new Error("GitGraph config not found");const n=t.append("g").attr("class","commit-bullets"),i=t.append("g").attr("class","commit-labels");let a=qr==="TB"||qr==="BT"?uS:0;const s=[...e.keys()],o=(Fi==null?void 0:Fi.parallelCommits)??!1,l=S((h,f)=>{var v,m;const d=(v=e.get(h))==null?void 0:v.seq,p=(m=e.get(f))==null?void 0:m.seq;return d!==void 0&&p!==void 0?d-p:0},"sortKeys");let u=s.sort(l);qr==="BT"&&(o&&dWe(u,e,a),u=u.reverse()),u.forEach(h=>{var p;const f=e.get(h);if(!f)throw new Error(`Commit not found for key ${h}`);o&&(a=kWe(f,qr,a,fo));const d=SWe(f,a,o);if(r){const v=wWe(f),m=f.customType??f.type,x=((p=io.get(f.branch))==null?void 0:p.index)??0;yWe(n,f,d,v,x,m),xWe(i,f,d,a),bWe(i,f,d,a)}qr==="TB"||qr==="BT"?fo.set(f.id,{x:d.x,y:d.posWithOffset}):fo.set(f.id,{x:d.posWithOffset,y:d.y}),a=qr==="BT"&&o?a+lf:a+lf+of,a>Kh&&(Kh=a)})},"drawCommits"),EWe=S((t,e,r,n,i)=>{const s=(qr==="TB"||qr==="BT"?r.x<n.x:r.y<n.y)?e.branch:t.branch,o=S(u=>u.branch===s,"isOnBranchToGetCurve"),l=S(u=>u.seq>t.seq&&u.seq<e.seq,"isBetweenCommits");return[...i.values()].some(u=>l(u)&&o(u))},"shouldRerouteArrow"),sy=S((t,e,r=0)=>{const n=t+Math.abs(t-e)/2;if(r>5)return n;if(cS.every(s=>Math.abs(s-n)>=10))return cS.push(n),n;const a=Math.abs(t-e);return sy(t,e-a/5,r+1)},"findLane"),TWe=S((t,e,r,n)=>{var p,v,m,x,y;const i=fo.get(e.id),a=fo.get(r.id);if(i===void 0||a===void 0)throw new Error(`Commit positions not found for commits ${e.id} and ${r.id}`);const s=EWe(e,r,i,a,n);let o="",l="",u=0,h=0,f=(p=io.get(r.branch))==null?void 0:p.index;r.type===bn.MERGE&&e.id!==r.parents[0]&&(f=(v=io.get(e.branch))==null?void 0:v.index);let d;if(s){o="A 10 10, 0, 0, 0,",l="A 10 10, 0, 0, 1,",u=10,h=10;const w=i.y<a.y?sy(i.y,a.y):sy(a.y,i.y),k=i.x<a.x?sy(i.x,a.x):sy(a.x,i.x);qr==="TB"?i.x<a.x?d=`M ${i.x} ${i.y} L ${k-u} ${i.y} ${l} ${k} ${i.y+h} L ${k} ${a.y-u} ${o} ${k+h} ${a.y} L ${a.x} ${a.y}`:(f=(m=io.get(e.branch))==null?void 0:m.index,d=`M ${i.x} ${i.y} L ${k+u} ${i.y} ${o} ${k} ${i.y+h} L ${k} ${a.y-u} ${l} ${k-h} ${a.y} L ${a.x} ${a.y}`):qr==="BT"?i.x<a.x?d=`M ${i.x} ${i.y} L ${k-u} ${i.y} ${o} ${k} ${i.y-h} L ${k} ${a.y+u} ${l} ${k+h} ${a.y} L ${a.x} ${a.y}`:(f=(x=io.get(e.branch))==null?void 0:x.index,d=`M ${i.x} ${i.y} L ${k+u} ${i.y} ${l} ${k} ${i.y-h} L ${k} ${a.y+u} ${o} ${k-h} ${a.y} L ${a.x} ${a.y}`):i.y<a.y?d=`M ${i.x} ${i.y} L ${i.x} ${w-u} ${o} ${i.x+h} ${w} L ${a.x-u} ${w} ${l} ${a.x} ${w+h} L ${a.x} ${a.y}`:(f=(y=io.get(e.branch))==null?void 0:y.index,d=`M ${i.x} ${i.y} L ${i.x} ${w+u} ${l} ${i.x+h} ${w} L ${a.x-u} ${w} ${o} ${a.x} ${w-h} L ${a.x} ${a.y}`)}else o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,qr==="TB"?(i.x<a.x&&(r.type===bn.MERGE&&e.id!==r.parents[0]?d=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${o} ${i.x+h} ${a.y} L ${a.x} ${a.y}`:d=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${l} ${a.x} ${i.y+h} L ${a.x} ${a.y}`),i.x>a.x&&(o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,r.type===bn.MERGE&&e.id!==r.parents[0]?d=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${l} ${i.x-h} ${a.y} L ${a.x} ${a.y}`:d=`M ${i.x} ${i.y} L ${a.x+u} ${i.y} ${o} ${a.x} ${i.y+h} L ${a.x} ${a.y}`),i.x===a.x&&(d=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):qr==="BT"?(i.x<a.x&&(r.type===bn.MERGE&&e.id!==r.parents[0]?d=`M ${i.x} ${i.y} L ${i.x} ${a.y+u} ${l} ${i.x+h} ${a.y} L ${a.x} ${a.y}`:d=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${o} ${a.x} ${i.y-h} L ${a.x} ${a.y}`),i.x>a.x&&(o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,r.type===bn.MERGE&&e.id!==r.parents[0]?d=`M ${i.x} ${i.y} L ${i.x} ${a.y+u} ${o} ${i.x-h} ${a.y} L ${a.x} ${a.y}`:d=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${o} ${a.x} ${i.y-h} L ${a.x} ${a.y}`),i.x===a.x&&(d=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):(i.y<a.y&&(r.type===bn.MERGE&&e.id!==r.parents[0]?d=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${l} ${a.x} ${i.y+h} L ${a.x} ${a.y}`:d=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${o} ${i.x+h} ${a.y} L ${a.x} ${a.y}`),i.y>a.y&&(r.type===bn.MERGE&&e.id!==r.parents[0]?d=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${o} ${a.x} ${i.y-h} L ${a.x} ${a.y}`:d=`M ${i.x} ${i.y} L ${i.x} ${a.y+u} ${l} ${i.x+h} ${a.y} L ${a.x} ${a.y}`),i.y===a.y&&(d=`M ${i.x} ${i.y} L ${a.x} ${a.y}`));if(d===void 0)throw new Error("Line definition not found");t.append("path").attr("d",d).attr("class","arrow arrow"+f%$d)},"drawArrow"),CWe=S((t,e)=>{const r=t.append("g").attr("class","commit-arrows");[...e.keys()].forEach(n=>{const i=e.get(n);i.parents&&i.parents.length>0&&i.parents.forEach(a=>{TWe(r,e.get(a),i,e)})})},"drawArrows"),AWe=S((t,e)=>{const r=t.append("g");e.forEach((n,i)=>{var v;const a=i%$d,s=(v=io.get(n.name))==null?void 0:v.pos;if(s===void 0)throw new Error(`Position not found for branch ${n.name}`);const o=r.append("line");o.attr("x1",0),o.attr("y1",s),o.attr("x2",Kh),o.attr("y2",s),o.attr("class","branch branch"+a),qr==="TB"?(o.attr("y1",uS),o.attr("x1",s),o.attr("y2",Kh),o.attr("x2",s)):qr==="BT"&&(o.attr("y1",Kh),o.attr("x1",s),o.attr("y2",uS),o.attr("x2",s)),cS.push(s);const l=n.name,u=ioe(l),h=r.insert("rect"),d=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+a);d.node().appendChild(u);const p=u.getBBox();h.attr("class","branchLabelBkg label"+a).attr("rx",4).attr("ry",4).attr("x",-p.width-4-((Fi==null?void 0:Fi.rotateCommitLabel)===!0?30:0)).attr("y",-p.height/2+8).attr("width",p.width+18).attr("height",p.height+4),d.attr("transform","translate("+(-p.width-14-((Fi==null?void 0:Fi.rotateCommitLabel)===!0?30:0))+", "+(s-p.height/2-1)+")"),qr==="TB"?(h.attr("x",s-p.width/2-10).attr("y",0),d.attr("transform","translate("+(s-p.width/2-5)+", 0)")):qr==="BT"?(h.attr("x",s-p.width/2-10).attr("y",Kh),d.attr("transform","translate("+(s-p.width/2-5)+", "+Kh+")")):h.attr("transform","translate(-19, "+(s-p.height/2)+")")})},"drawBranches"),_We=S(function(t,e,r,n,i){return io.set(t,{pos:e,index:r}),e+=50+(i?40:0)+(qr==="TB"||qr==="BT"?n.width/2:0),e},"setBranchPosition"),LWe=S(function(t,e,r,n){if(hWe(),he.debug("in gitgraph renderer",t+`
`,"id:",e,r),!Fi)throw new Error("GitGraph config not found");const i=Fi.rotateCommitLabel??!1,a=n.db;ay=a.getCommits();const s=a.getBranchesAsObjArray();qr=a.getDirection();const o=yt(`[id="${e}"]`);let l=0;s.forEach((u,h)=>{var x;const f=ioe(u.name),d=o.append("g"),p=d.insert("g").attr("class","branchLabel"),v=p.insert("g").attr("class","label branch-label");(x=v.node())==null||x.appendChild(f);const m=f.getBBox();l=_We(u.name,l,h,m,i),v.remove(),p.remove(),d.remove()}),LG(o,ay,!1),Fi.showBranches&&AWe(o,s),CWe(o,ay),LG(o,ay,!0),Dr.insertTitle(o,"gitTitleText",Fi.titleTopMargin??0,a.getDiagramTitle()),fK(void 0,o,Fi.diagramPadding,Fi.useMaxWidth)},"draw"),DWe={draw:LWe},RWe=S(t=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(e=>`
        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }
        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }
        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }
        .label${e}  { fill: ${t["git"+e]}; }
        .arrow${e} { stroke: ${t["git"+e]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${t.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}
  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}
  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }
  .tag-hole { fill: ${t.textColor}; }

  .commit-merge {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }
  .commit-reverse {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,"getStyles"),MWe=RWe,NWe={parser:cWe,db:noe,renderer:DWe,styles:MWe};const IWe=Object.freeze(Object.defineProperty({__proto__:null,diagram:NWe},Symbol.toStringTag,{value:"Module"}));var soe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ll,function(){var r="day";return function(n,i,a){var s=function(u){return u.add(4-u.isoWeekday(),r)},o=i.prototype;o.isoWeekYear=function(){return s(this).year()},o.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),r);var h,f,d,p,v=s(this),m=(h=this.isoWeekYear(),f=this.$u,d=(f?a.utc:a)().year(h).startOf("year"),p=4-d.isoWeekday(),d.isoWeekday()>4&&(p+=7),d.add(p,r));return v.diff(m,"week")+1},o.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=o.startOf;o.startOf=function(u,h){var f=this.$utils(),d=!!f.u(h)||h;return f.p(u)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,h)}}})})(soe);var OWe=soe.exports;const FWe=fh(OWe);var ooe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ll,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,a=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,o={},l=function(m){return(m=+m)+(m>68?1900:2e3)},u=function(m){return function(x){this[m]=+x}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(x){if(!x||x==="Z")return 0;var y=x.match(/([+-]|\d\d)/g),w=60*y[1]+(+y[2]||0);return w===0?0:y[0]==="+"?-w:w}(m)}],f=function(m){var x=o[m];return x&&(x.indexOf?x:x.s.concat(x.f))},d=function(m,x){var y,w=o.meridiem;if(w){for(var k=1;k<=24;k+=1)if(m.indexOf(w(k,0,x))>-1){y=k>12;break}}else y=m===(x?"pm":"PM");return y},p={A:[s,function(m){this.afternoon=d(m,!1)}],a:[s,function(m){this.afternoon=d(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[i,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[a,u("seconds")],ss:[a,u("seconds")],m:[a,u("minutes")],mm:[a,u("minutes")],H:[a,u("hours")],h:[a,u("hours")],HH:[a,u("hours")],hh:[a,u("hours")],D:[a,u("day")],DD:[i,u("day")],Do:[s,function(m){var x=o.ordinal,y=m.match(/\d+/);if(this.day=y[0],x)for(var w=1;w<=31;w+=1)x(w).replace(/\[|\]/g,"")===m&&(this.day=w)}],M:[a,u("month")],MM:[i,u("month")],MMM:[s,function(m){var x=f("months"),y=(f("monthsShort")||x.map(function(w){return w.slice(0,3)})).indexOf(m)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[s,function(m){var x=f("months").indexOf(m)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,u("year")],YY:[i,function(m){this.year=l(m)}],YYYY:[/\d{4}/,u("year")],Z:h,ZZ:h};function v(m){var x,y;x=m,y=o&&o.formats;for(var w=(m=x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(M,F,N){var z=N&&N.toUpperCase();return F||y[N]||r[N]||y[z].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(V,D,O){return D||O.slice(1)})})).match(n),k=w.length,E=0;E<k;E+=1){var C=w[E],L=p[C],_=L&&L[0],I=L&&L[1];w[E]=I?{regex:_,parser:I}:C.replace(/^\[|\]$/g,"")}return function(M){for(var F={},N=0,z=0;N<k;N+=1){var V=w[N];if(typeof V=="string")z+=V.length;else{var D=V.regex,O=V.parser,P=M.slice(z),$=D.exec(P)[0];O.call(F,$),M=M.replace($,"")}}return function(B){var H=B.afternoon;if(H!==void 0){var X=B.hours;H?X<12&&(B.hours+=12):X===12&&(B.hours=0),delete B.afternoon}}(F),F}}return function(m,x,y){y.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(l=m.parseTwoDigitYear);var w=x.prototype,k=w.parse;w.parse=function(E){var C=E.date,L=E.utc,_=E.args;this.$u=L;var I=_[1];if(typeof I=="string"){var M=_[2]===!0,F=_[3]===!0,N=M||F,z=_[2];F&&(z=_[2]),o=this.$locale(),!M&&z&&(o=y.Ls[z]),this.$d=function(P,$,B){try{if(["x","X"].indexOf($)>-1)return new Date(($==="X"?1e3:1)*P);var H=v($)(P),X=H.year,q=H.month,Y=H.day,U=H.hours,J=H.minutes,ce=H.seconds,re=H.milliseconds,ve=H.zone,ye=new Date,Z=Y||(X||q?1:ye.getDate()),ue=X||ye.getFullYear(),ae=0;X&&!q||(ae=q>0?q-1:ye.getMonth());var pe=U||0,Ee=J||0,Se=ce||0,de=re||0;return ve?new Date(Date.UTC(ue,ae,Z,pe,Ee,Se,de+60*ve.offset*1e3)):B?new Date(Date.UTC(ue,ae,Z,pe,Ee,Se,de)):new Date(ue,ae,Z,pe,Ee,Se,de)}catch{return new Date("")}}(C,I,L),this.init(),z&&z!==!0&&(this.$L=this.locale(z).$L),N&&C!=this.format(I)&&(this.$d=new Date("")),o={}}else if(I instanceof Array)for(var V=I.length,D=1;D<=V;D+=1){_[1]=I[D-1];var O=y.apply(this,_);if(O.isValid()){this.$d=O.$d,this.$L=O.$L,this.init();break}D===V&&(this.$d=new Date(""))}else k.call(this,E)}}})})(ooe);var PWe=ooe.exports;const BWe=fh(PWe);var loe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ll,function(){return function(r,n){var i=n.prototype,a=i.format;i.format=function(s){var o=this,l=this.$locale();if(!this.isValid())return a.bind(this)(s);var u=this.$utils(),h=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return u.s(o.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(o.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(o.$H===0?24:o.$H),f==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return f}});return a.bind(this)(h)}}})})(loe);var $We=loe.exports;const zWe=fh($We);var RL=function(){var t=S(function(V,D,O,P){for(O=O||{},P=V.length;P--;O[V[P]]=D);return O},"o"),e=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],n=[1,27],i=[1,28],a=[1,29],s=[1,30],o=[1,31],l=[1,32],u=[1,33],h=[1,34],f=[1,9],d=[1,10],p=[1,11],v=[1,12],m=[1,13],x=[1,14],y=[1,15],w=[1,16],k=[1,19],E=[1,20],C=[1,21],L=[1,22],_=[1,23],I=[1,25],M=[1,35],F={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:S(function(D,O,P,$,B,H,X){var q=H.length-1;switch(B){case 1:return H[q-1];case 2:this.$=[];break;case 3:H[q-1].push(H[q]),this.$=H[q-1];break;case 4:case 5:this.$=H[q];break;case 6:case 7:this.$=[];break;case 8:$.setWeekday("monday");break;case 9:$.setWeekday("tuesday");break;case 10:$.setWeekday("wednesday");break;case 11:$.setWeekday("thursday");break;case 12:$.setWeekday("friday");break;case 13:$.setWeekday("saturday");break;case 14:$.setWeekday("sunday");break;case 15:$.setWeekend("friday");break;case 16:$.setWeekend("saturday");break;case 17:$.setDateFormat(H[q].substr(11)),this.$=H[q].substr(11);break;case 18:$.enableInclusiveEndDates(),this.$=H[q].substr(18);break;case 19:$.TopAxis(),this.$=H[q].substr(8);break;case 20:$.setAxisFormat(H[q].substr(11)),this.$=H[q].substr(11);break;case 21:$.setTickInterval(H[q].substr(13)),this.$=H[q].substr(13);break;case 22:$.setExcludes(H[q].substr(9)),this.$=H[q].substr(9);break;case 23:$.setIncludes(H[q].substr(9)),this.$=H[q].substr(9);break;case 24:$.setTodayMarker(H[q].substr(12)),this.$=H[q].substr(12);break;case 27:$.setDiagramTitle(H[q].substr(6)),this.$=H[q].substr(6);break;case 28:this.$=H[q].trim(),$.setAccTitle(this.$);break;case 29:case 30:this.$=H[q].trim(),$.setAccDescription(this.$);break;case 31:$.addSection(H[q].substr(8)),this.$=H[q].substr(8);break;case 33:$.addTask(H[q-1],H[q]),this.$="task";break;case 34:this.$=H[q-1],$.setClickEvent(H[q-1],H[q],null);break;case 35:this.$=H[q-2],$.setClickEvent(H[q-2],H[q-1],H[q]);break;case 36:this.$=H[q-2],$.setClickEvent(H[q-2],H[q-1],null),$.setLink(H[q-2],H[q]);break;case 37:this.$=H[q-3],$.setClickEvent(H[q-3],H[q-2],H[q-1]),$.setLink(H[q-3],H[q]);break;case 38:this.$=H[q-2],$.setClickEvent(H[q-2],H[q],null),$.setLink(H[q-2],H[q-1]);break;case 39:this.$=H[q-3],$.setClickEvent(H[q-3],H[q-1],H[q]),$.setLink(H[q-3],H[q-2]);break;case 40:this.$=H[q-1],$.setLink(H[q-1],H[q]);break;case 41:case 47:this.$=H[q-1]+" "+H[q];break;case 42:case 43:case 45:this.$=H[q-2]+" "+H[q-1]+" "+H[q];break;case 44:case 46:this.$=H[q-3]+" "+H[q-2]+" "+H[q-1]+" "+H[q];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:i,15:a,16:s,17:o,18:l,19:18,20:u,21:h,22:f,23:d,24:p,25:v,26:m,27:x,28:y,29:w,30:k,31:E,33:C,35:L,36:_,37:24,38:I,40:M},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:36,11:17,12:r,13:n,14:i,15:a,16:s,17:o,18:l,19:18,20:u,21:h,22:f,23:d,24:p,25:v,26:m,27:x,28:y,29:w,30:k,31:E,33:C,35:L,36:_,37:24,38:I,40:M},t(e,[2,5]),t(e,[2,6]),t(e,[2,17]),t(e,[2,18]),t(e,[2,19]),t(e,[2,20]),t(e,[2,21]),t(e,[2,22]),t(e,[2,23]),t(e,[2,24]),t(e,[2,25]),t(e,[2,26]),t(e,[2,27]),{32:[1,37]},{34:[1,38]},t(e,[2,30]),t(e,[2,31]),t(e,[2,32]),{39:[1,39]},t(e,[2,8]),t(e,[2,9]),t(e,[2,10]),t(e,[2,11]),t(e,[2,12]),t(e,[2,13]),t(e,[2,14]),t(e,[2,15]),t(e,[2,16]),{41:[1,40],43:[1,41]},t(e,[2,4]),t(e,[2,28]),t(e,[2,29]),t(e,[2,33]),t(e,[2,34],{42:[1,42],43:[1,43]}),t(e,[2,40],{41:[1,44]}),t(e,[2,35],{43:[1,45]}),t(e,[2,36]),t(e,[2,38],{42:[1,46]}),t(e,[2,37]),t(e,[2,39])],defaultActions:{},parseError:S(function(D,O){if(O.recoverable)this.trace(D);else{var P=new Error(D);throw P.hash=O,P}},"parseError"),parse:S(function(D){var O=this,P=[0],$=[],B=[null],H=[],X=this.table,q="",Y=0,U=0,J=2,ce=1,re=H.slice.call(arguments,1),ve=Object.create(this.lexer),ye={yy:{}};for(var Z in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Z)&&(ye.yy[Z]=this.yy[Z]);ve.setInput(D,ye.yy),ye.yy.lexer=ve,ye.yy.parser=this,typeof ve.yylloc>"u"&&(ve.yylloc={});var ue=ve.yylloc;H.push(ue);var ae=ve.options&&ve.options.ranges;typeof ye.yy.parseError=="function"?this.parseError=ye.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function pe(me){P.length=P.length-2*me,B.length=B.length-me,H.length=H.length-me}S(pe,"popStack");function Ee(){var me;return me=$.pop()||ve.lex()||ce,typeof me!="number"&&(me instanceof Array&&($=me,me=$.pop()),me=O.symbols_[me]||me),me}S(Ee,"lex");for(var Se,de,be,oe,we={},Re,Pe,Ge,je;;){if(de=P[P.length-1],this.defaultActions[de]?be=this.defaultActions[de]:((Se===null||typeof Se>"u")&&(Se=Ee()),be=X[de]&&X[de][Se]),typeof be>"u"||!be.length||!be[0]){var We="";je=[];for(Re in X[de])this.terminals_[Re]&&Re>J&&je.push("'"+this.terminals_[Re]+"'");ve.showPosition?We="Parse error on line "+(Y+1)+`:
`+ve.showPosition()+`
Expecting `+je.join(", ")+", got '"+(this.terminals_[Se]||Se)+"'":We="Parse error on line "+(Y+1)+": Unexpected "+(Se==ce?"end of input":"'"+(this.terminals_[Se]||Se)+"'"),this.parseError(We,{text:ve.match,token:this.terminals_[Se]||Se,line:ve.yylineno,loc:ue,expected:je})}if(be[0]instanceof Array&&be.length>1)throw new Error("Parse Error: multiple actions possible at state: "+de+", token: "+Se);switch(be[0]){case 1:P.push(Se),B.push(ve.yytext),H.push(ve.yylloc),P.push(be[1]),Se=null,U=ve.yyleng,q=ve.yytext,Y=ve.yylineno,ue=ve.yylloc;break;case 2:if(Pe=this.productions_[be[1]][1],we.$=B[B.length-Pe],we._$={first_line:H[H.length-(Pe||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(Pe||1)].first_column,last_column:H[H.length-1].last_column},ae&&(we._$.range=[H[H.length-(Pe||1)].range[0],H[H.length-1].range[1]]),oe=this.performAction.apply(we,[q,U,Y,ye.yy,be[1],B,H].concat(re)),typeof oe<"u")return oe;Pe&&(P=P.slice(0,-1*Pe*2),B=B.slice(0,-1*Pe),H=H.slice(0,-1*Pe)),P.push(this.productions_[be[1]][0]),B.push(we.$),H.push(we._$),Ge=X[P[P.length-2]][P[P.length-1]],P.push(Ge);break;case 3:return!0}}return!0},"parse")},N=function(){var V={EOF:1,parseError:S(function(O,P){if(this.yy.parser)this.yy.parser.parseError(O,P);else throw new Error(O)},"parseError"),setInput:S(function(D,O){return this.yy=O||this.yy||{},this._input=D,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var D=this._input[0];this.yytext+=D,this.yyleng++,this.offset++,this.match+=D,this.matched+=D;var O=D.match(/(?:\r\n?|\n).*/g);return O?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),D},"input"),unput:S(function(D){var O=D.length,P=D.split(/(?:\r\n?|\n)/g);this._input=D+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var $=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),P.length-1&&(this.yylineno-=P.length-1);var B=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:P?(P.length===$.length?this.yylloc.first_column:0)+$[$.length-P.length].length-P[0].length:this.yylloc.first_column-O},this.options.ranges&&(this.yylloc.range=[B[0],B[0]+this.yyleng-O]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(D){this.unput(this.match.slice(D))},"less"),pastInput:S(function(){var D=this.matched.substr(0,this.matched.length-this.match.length);return(D.length>20?"...":"")+D.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var D=this.match;return D.length<20&&(D+=this._input.substr(0,20-D.length)),(D.substr(0,20)+(D.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var D=this.pastInput(),O=new Array(D.length+1).join("-");return D+this.upcomingInput()+`
`+O+"^"},"showPosition"),test_match:S(function(D,O){var P,$,B;if(this.options.backtrack_lexer&&(B={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(B.yylloc.range=this.yylloc.range.slice(0))),$=D[0].match(/(?:\r\n?|\n).*/g),$&&(this.yylineno+=$.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:$?$[$.length-1].length-$[$.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+D[0].length},this.yytext+=D[0],this.match+=D[0],this.matches=D,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(D[0].length),this.matched+=D[0],P=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),P)return P;if(this._backtrack){for(var H in B)this[H]=B[H];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var D,O,P,$;this._more||(this.yytext="",this.match="");for(var B=this._currentRules(),H=0;H<B.length;H++)if(P=this._input.match(this.rules[B[H]]),P&&(!O||P[0].length>O[0].length)){if(O=P,$=H,this.options.backtrack_lexer){if(D=this.test_match(P,B[H]),D!==!1)return D;if(this._backtrack){O=!1;continue}else return!1}else if(!this.options.flex)break}return O?(D=this.test_match(O,B[$]),D!==!1?D:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var O=this.next();return O||this.lex()},"lex"),begin:S(function(O){this.conditionStack.push(O)},"begin"),popState:S(function(){var O=this.conditionStack.length-1;return O>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function(O){return O=this.conditionStack.length-1-Math.abs(O||0),O>=0?this.conditionStack[O]:"INITIAL"},"topState"),pushState:S(function(O){this.begin(O)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:S(function(O,P,$,B){switch($){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return V}();F.lexer=N;function z(){this.yy={}}return S(z,"Parser"),z.prototype=F,F.Parser=z,new z}();RL.parser=RL;var HWe=RL;ma.extend(FWe);ma.extend(BWe);ma.extend(zWe);var DG={friday:5,saturday:6},$u="",hI="",fI=void 0,dI="",Ab=[],_b=[],pI=new Map,gI=[],hS=[],M1="",vI="",uoe=["active","done","crit","milestone"],mI=[],Lb=!1,yI=!1,xI="sunday",fS="saturday",ML=0,VWe=S(function(){gI=[],hS=[],M1="",mI=[],$w=0,IL=void 0,zw=void 0,Yi=[],$u="",hI="",vI="",fI=void 0,dI="",Ab=[],_b=[],Lb=!1,yI=!1,ML=0,pI=new Map,ka(),xI="sunday",fS="saturday"},"clear"),UWe=S(function(t){hI=t},"setAxisFormat"),GWe=S(function(){return hI},"getAxisFormat"),WWe=S(function(t){fI=t},"setTickInterval"),qWe=S(function(){return fI},"getTickInterval"),YWe=S(function(t){dI=t},"setTodayMarker"),XWe=S(function(){return dI},"getTodayMarker"),jWe=S(function(t){$u=t},"setDateFormat"),KWe=S(function(){Lb=!0},"enableInclusiveEndDates"),QWe=S(function(){return Lb},"endDatesAreInclusive"),ZWe=S(function(){yI=!0},"enableTopAxis"),JWe=S(function(){return yI},"topAxisEnabled"),eqe=S(function(t){vI=t},"setDisplayMode"),tqe=S(function(){return vI},"getDisplayMode"),rqe=S(function(){return $u},"getDateFormat"),nqe=S(function(t){Ab=t.toLowerCase().split(/[\s,]+/)},"setIncludes"),iqe=S(function(){return Ab},"getIncludes"),aqe=S(function(t){_b=t.toLowerCase().split(/[\s,]+/)},"setExcludes"),sqe=S(function(){return _b},"getExcludes"),oqe=S(function(){return pI},"getLinks"),lqe=S(function(t){M1=t,gI.push(t)},"addSection"),uqe=S(function(){return gI},"getSections"),cqe=S(function(){let t=RG();const e=10;let r=0;for(;!t&&r<e;)t=RG(),r++;return hS=Yi,hS},"getTasks"),coe=S(function(t,e,r,n){return n.includes(t.format(e.trim()))?!1:r.includes("weekends")&&(t.isoWeekday()===DG[fS]||t.isoWeekday()===DG[fS]+1)||r.includes(t.format("dddd").toLowerCase())?!0:r.includes(t.format(e.trim()))},"isInvalidDate"),hqe=S(function(t){xI=t},"setWeekday"),fqe=S(function(){return xI},"getWeekday"),dqe=S(function(t){fS=t},"setWeekend"),hoe=S(function(t,e,r,n){if(!r.length||t.manualEndTime)return;let i;t.startTime instanceof Date?i=ma(t.startTime):i=ma(t.startTime,e,!0),i=i.add(1,"d");let a;t.endTime instanceof Date?a=ma(t.endTime):a=ma(t.endTime,e,!0);const[s,o]=pqe(i,a,e,r,n);t.endTime=s.toDate(),t.renderEndTime=o},"checkTaskDates"),pqe=S(function(t,e,r,n,i){let a=!1,s=null;for(;t<=e;)a||(s=e.toDate()),a=coe(t,r,n,i),a&&(e=e.add(1,"d")),t=t.add(1,"d");return[e,s]},"fixTaskDates"),NL=S(function(t,e,r){r=r.trim();const i=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(i!==null){let s=null;for(const l of i.groups.ids.split(" ")){let u=pp(l);u!==void 0&&(!s||u.endTime>s.endTime)&&(s=u)}if(s)return s.endTime;const o=new Date;return o.setHours(0,0,0,0),o}let a=ma(r,e.trim(),!0);if(a.isValid())return a.toDate();{he.debug("Invalid date:"+r),he.debug("With date format:"+e.trim());const s=new Date(r);if(s===void 0||isNaN(s.getTime())||s.getFullYear()<-1e4||s.getFullYear()>1e4)throw new Error("Invalid date:"+r);return s}},"getStartDate"),foe=S(function(t){const e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return e!==null?[Number.parseFloat(e[1]),e[2]]:[NaN,"ms"]},"parseDuration"),doe=S(function(t,e,r,n=!1){r=r.trim();const a=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(a!==null){let h=null;for(const d of a.groups.ids.split(" ")){let p=pp(d);p!==void 0&&(!h||p.startTime<h.startTime)&&(h=p)}if(h)return h.startTime;const f=new Date;return f.setHours(0,0,0,0),f}let s=ma(r,e.trim(),!0);if(s.isValid())return n&&(s=s.add(1,"d")),s.toDate();let o=ma(t);const[l,u]=foe(r);if(!Number.isNaN(l)){const h=o.add(l,u);h.isValid()&&(o=h)}return o.toDate()},"getEndDate"),$w=0,$g=S(function(t){return t===void 0?($w=$w+1,"task"+$w):t},"parseId"),gqe=S(function(t,e){let r;e.substr(0,1)===":"?r=e.substr(1,e.length):r=e;const n=r.split(","),i={};bI(n,i,uoe);for(let s=0;s<n.length;s++)n[s]=n[s].trim();let a="";switch(n.length){case 1:i.id=$g(),i.startTime=t.endTime,a=n[0];break;case 2:i.id=$g(),i.startTime=NL(void 0,$u,n[0]),a=n[1];break;case 3:i.id=$g(n[0]),i.startTime=NL(void 0,$u,n[1]),a=n[2];break}return a&&(i.endTime=doe(i.startTime,$u,a,Lb),i.manualEndTime=ma(a,"YYYY-MM-DD",!0).isValid(),hoe(i,$u,_b,Ab)),i},"compileData"),vqe=S(function(t,e){let r;e.substr(0,1)===":"?r=e.substr(1,e.length):r=e;const n=r.split(","),i={};bI(n,i,uoe);for(let a=0;a<n.length;a++)n[a]=n[a].trim();switch(n.length){case 1:i.id=$g(),i.startTime={type:"prevTaskEnd",id:t},i.endTime={data:n[0]};break;case 2:i.id=$g(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=$g(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]};break}return i},"parseData"),IL,zw,Yi=[],poe={},mqe=S(function(t,e){const r={section:M1,type:M1,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},n=vqe(zw,e);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=zw,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=ML,ML++;const i=Yi.push(r);zw=r.id,poe[r.id]=i-1},"addTask"),pp=S(function(t){const e=poe[t];return Yi[e]},"findTaskById"),yqe=S(function(t,e){const r={section:M1,type:M1,description:t,task:t,classes:[]},n=gqe(IL,e);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,IL=r,hS.push(r)},"addTaskOrg"),RG=S(function(){const t=S(function(r){const n=Yi[r];let i="";switch(Yi[r].raw.startTime.type){case"prevTaskEnd":{const a=pp(n.prevTaskId);n.startTime=a.endTime;break}case"getStartDate":i=NL(void 0,$u,Yi[r].raw.startTime.startData),i&&(Yi[r].startTime=i);break}return Yi[r].startTime&&(Yi[r].endTime=doe(Yi[r].startTime,$u,Yi[r].raw.endTime.data,Lb),Yi[r].endTime&&(Yi[r].processed=!0,Yi[r].manualEndTime=ma(Yi[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),hoe(Yi[r],$u,_b,Ab))),Yi[r].processed},"compileTask");let e=!0;for(const[r,n]of Yi.entries())t(r),e=e&&n.processed;return e},"compileTasks"),xqe=S(function(t,e){let r=e;Ve().securityLevel!=="loose"&&(r=Zf(e)),t.split(",").forEach(function(n){pp(n)!==void 0&&(voe(n,()=>{window.open(r,"_self")}),pI.set(n,r))}),goe(t,"clickable")},"setLink"),goe=S(function(t,e){t.split(",").forEach(function(r){let n=pp(r);n!==void 0&&n.classes.push(e)})},"setClass"),bqe=S(function(t,e,r){if(Ve().securityLevel!=="loose"||e===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let a=0;a<n.length;a++){let s=n[a].trim();s.startsWith('"')&&s.endsWith('"')&&(s=s.substr(1,s.length-2)),n[a]=s}}n.length===0&&n.push(t),pp(t)!==void 0&&voe(t,()=>{Dr.runFunc(e,...n)})},"setClickFun"),voe=S(function(t,e){mI.push(function(){const r=document.querySelector(`[id="${t}"]`);r!==null&&r.addEventListener("click",function(){e()})},function(){const r=document.querySelector(`[id="${t}-text"]`);r!==null&&r.addEventListener("click",function(){e()})})},"pushFun"),wqe=S(function(t,e,r){t.split(",").forEach(function(n){bqe(n,e,r)}),goe(t,"clickable")},"setClickEvent"),kqe=S(function(t){mI.forEach(function(e){e(t)})},"bindFunctions"),Sqe={getConfig:S(()=>Ve().gantt,"getConfig"),clear:VWe,setDateFormat:jWe,getDateFormat:rqe,enableInclusiveEndDates:KWe,endDatesAreInclusive:QWe,enableTopAxis:ZWe,topAxisEnabled:JWe,setAxisFormat:UWe,getAxisFormat:GWe,setTickInterval:WWe,getTickInterval:qWe,setTodayMarker:YWe,getTodayMarker:XWe,setAccTitle:Sa,getAccTitle:Wa,setDiagramTitle:Us,getDiagramTitle:Xa,setDisplayMode:eqe,getDisplayMode:tqe,setAccDescription:qa,getAccDescription:Ya,addSection:lqe,getSections:uqe,getTasks:cqe,addTask:mqe,findTaskById:pp,addTaskOrg:yqe,setIncludes:nqe,getIncludes:iqe,setExcludes:aqe,getExcludes:sqe,setClickEvent:wqe,setLink:xqe,getLinks:oqe,bindFunctions:kqe,parseDuration:foe,isInvalidDate:coe,setWeekday:hqe,getWeekday:fqe,setWeekend:dqe};function bI(t,e,r){let n=!0;for(;n;)n=!1,r.forEach(function(i){const a="^\\s*"+i+"\\s*$",s=new RegExp(a);t[0].match(s)&&(e[i]=!0,t.shift(1),n=!0)})}S(bI,"getTaskTags");var Eqe=S(function(){he.debug("Something is calling, setConf, remove the call")},"setConf"),MG={monday:d2,tuesday:VZ,wednesday:UZ,thursday:x0,friday:GZ,saturday:WZ,sunday:Jx},Tqe=S((t,e)=>{let r=[...t].map(()=>-1/0),n=[...t].sort((a,s)=>a.startTime-s.startTime||a.order-s.order),i=0;for(const a of n)for(let s=0;s<r.length;s++)if(a.startTime>=r[s]){r[s]=a.endTime,a.order=s+e,s>i&&(i=s);break}return i},"getMaxIntersections"),wc,Cqe=S(function(t,e,r,n){const i=Ve().gantt,a=Ve().securityLevel;let s;a==="sandbox"&&(s=yt("#i"+e));const o=yt(a==="sandbox"?s.nodes()[0].contentDocument.body:"body"),l=a==="sandbox"?s.nodes()[0].contentDocument:document,u=l.getElementById(e);wc=u.parentElement.offsetWidth,wc===void 0&&(wc=1200),i.useWidth!==void 0&&(wc=i.useWidth);const h=n.db.getTasks();let f=[];for(const I of h)f.push(I.type);f=_(f);const d={};let p=2*i.topPadding;if(n.db.getDisplayMode()==="compact"||i.displayMode==="compact"){const I={};for(const F of h)I[F.section]===void 0?I[F.section]=[F]:I[F.section].push(F);let M=0;for(const F of Object.keys(I)){const N=Tqe(I[F],M)+1;M+=N,p+=N*(i.barHeight+i.barGap),d[F]=N}}else{p+=h.length*(i.barHeight+i.barGap);for(const I of f)d[I]=h.filter(M=>M.type===I).length}u.setAttribute("viewBox","0 0 "+wc+" "+p);const v=o.select(`[id="${e}"]`),m=Fwe().domain([m2e(h,function(I){return I.startTime}),v2e(h,function(I){return I.endTime})]).rangeRound([0,wc-i.leftPadding-i.rightPadding]);function x(I,M){const F=I.startTime,N=M.startTime;let z=0;return F>N?z=1:F<N&&(z=-1),z}S(x,"taskCompare"),h.sort(x),y(h,wc,p),Ga(v,p,wc,i.useMaxWidth),v.append("text").text(n.db.getDiagramTitle()).attr("x",wc/2).attr("y",i.titleTopMargin).attr("class","titleText");function y(I,M,F){const N=i.barHeight,z=N+i.barGap,V=i.topPadding,D=i.leftPadding,O=c1().domain([0,f.length]).range(["#00B9FA","#F95002"]).interpolate(zbe);k(z,V,D,M,F,I,n.db.getExcludes(),n.db.getIncludes()),E(D,V,M,F),w(I,z,V,D,N,O,M),C(z,V),L(D,V,M,F)}S(y,"makeGantt");function w(I,M,F,N,z,V,D){const P=[...new Set(I.map(X=>X.order))].map(X=>I.find(q=>q.order===X));v.append("g").selectAll("rect").data(P).enter().append("rect").attr("x",0).attr("y",function(X,q){return q=X.order,q*M+F-2}).attr("width",function(){return D-i.rightPadding/2}).attr("height",M).attr("class",function(X){for(const[q,Y]of f.entries())if(X.type===Y)return"section section"+q%i.numberSectionStyles;return"section section0"});const $=v.append("g").selectAll("rect").data(I).enter(),B=n.db.getLinks();if($.append("rect").attr("id",function(X){return X.id}).attr("rx",3).attr("ry",3).attr("x",function(X){return X.milestone?m(X.startTime)+N+.5*(m(X.endTime)-m(X.startTime))-.5*z:m(X.startTime)+N}).attr("y",function(X,q){return q=X.order,q*M+F}).attr("width",function(X){return X.milestone?z:m(X.renderEndTime||X.endTime)-m(X.startTime)}).attr("height",z).attr("transform-origin",function(X,q){return q=X.order,(m(X.startTime)+N+.5*(m(X.endTime)-m(X.startTime))).toString()+"px "+(q*M+F+.5*z).toString()+"px"}).attr("class",function(X){const q="task";let Y="";X.classes.length>0&&(Y=X.classes.join(" "));let U=0;for(const[ce,re]of f.entries())X.type===re&&(U=ce%i.numberSectionStyles);let J="";return X.active?X.crit?J+=" activeCrit":J=" active":X.done?X.crit?J=" doneCrit":J=" done":X.crit&&(J+=" crit"),J.length===0&&(J=" task"),X.milestone&&(J=" milestone "+J),J+=U,J+=" "+Y,q+J}),$.append("text").attr("id",function(X){return X.id+"-text"}).text(function(X){return X.task}).attr("font-size",i.fontSize).attr("x",function(X){let q=m(X.startTime),Y=m(X.renderEndTime||X.endTime);X.milestone&&(q+=.5*(m(X.endTime)-m(X.startTime))-.5*z),X.milestone&&(Y=q+z);const U=this.getBBox().width;return U>Y-q?Y+U+1.5*i.leftPadding>D?q+N-5:Y+N+5:(Y-q)/2+q+N}).attr("y",function(X,q){return q=X.order,q*M+i.barHeight/2+(i.fontSize/2-2)+F}).attr("text-height",z).attr("class",function(X){const q=m(X.startTime);let Y=m(X.endTime);X.milestone&&(Y=q+z);const U=this.getBBox().width;let J="";X.classes.length>0&&(J=X.classes.join(" "));let ce=0;for(const[ve,ye]of f.entries())X.type===ye&&(ce=ve%i.numberSectionStyles);let re="";return X.active&&(X.crit?re="activeCritText"+ce:re="activeText"+ce),X.done?X.crit?re=re+" doneCritText"+ce:re=re+" doneText"+ce:X.crit&&(re=re+" critText"+ce),X.milestone&&(re+=" milestoneText"),U>Y-q?Y+U+1.5*i.leftPadding>D?J+" taskTextOutsideLeft taskTextOutside"+ce+" "+re:J+" taskTextOutsideRight taskTextOutside"+ce+" "+re+" width-"+U:J+" taskText taskText"+ce+" "+re+" width-"+U}),Ve().securityLevel==="sandbox"){let X;X=yt("#i"+e);const q=X.nodes()[0].contentDocument;$.filter(function(Y){return B.has(Y.id)}).each(function(Y){var U=q.querySelector("#"+Y.id),J=q.querySelector("#"+Y.id+"-text");const ce=U.parentNode;var re=q.createElement("a");re.setAttribute("xlink:href",B.get(Y.id)),re.setAttribute("target","_top"),ce.appendChild(re),re.appendChild(U),re.appendChild(J)})}}S(w,"drawRects");function k(I,M,F,N,z,V,D,O){if(D.length===0&&O.length===0)return;let P,$;for(const{startTime:U,endTime:J}of V)(P===void 0||U<P)&&(P=U),($===void 0||J>$)&&($=J);if(!P||!$)return;if(ma($).diff(ma(P),"year")>5){he.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}const B=n.db.getDateFormat(),H=[];let X=null,q=ma(P);for(;q.valueOf()<=$;)n.db.isInvalidDate(q,B,D,O)?X?X.end=q:X={start:q,end:q}:X&&(H.push(X),X=null),q=q.add(1,"d");v.append("g").selectAll("rect").data(H).enter().append("rect").attr("id",function(U){return"exclude-"+U.start.format("YYYY-MM-DD")}).attr("x",function(U){return m(U.start)+F}).attr("y",i.gridLineStartPadding).attr("width",function(U){const J=U.end.add(1,"day");return m(J)-m(U.start)}).attr("height",z-M-i.gridLineStartPadding).attr("transform-origin",function(U,J){return(m(U.start)+F+.5*(m(U.end)-m(U.start))).toString()+"px "+(J*I+.5*z).toString()+"px"}).attr("class","exclude-range")}S(k,"drawExcludeDays");function E(I,M,F,N){let z=C2e(m).tickSize(-N+M+i.gridLineStartPadding).tickFormat(ek(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));const D=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||i.tickInterval);if(D!==null){const O=D[1],P=D[2],$=n.db.getWeekday()||i.weekday;switch(P){case"millisecond":z.ticks(h1.every(O));break;case"second":z.ticks(rf.every(O));break;case"minute":z.ticks(h2.every(O));break;case"hour":z.ticks(f2.every(O));break;case"day":z.ticks(y0.every(O));break;case"week":z.ticks(MG[$].every(O));break;case"month":z.ticks(p2.every(O));break}}if(v.append("g").attr("class","grid").attr("transform","translate("+I+", "+(N-50)+")").call(z).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||i.topAxis){let O=T2e(m).tickSize(-N+M+i.gridLineStartPadding).tickFormat(ek(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(D!==null){const P=D[1],$=D[2],B=n.db.getWeekday()||i.weekday;switch($){case"millisecond":O.ticks(h1.every(P));break;case"second":O.ticks(rf.every(P));break;case"minute":O.ticks(h2.every(P));break;case"hour":O.ticks(f2.every(P));break;case"day":O.ticks(y0.every(P));break;case"week":O.ticks(MG[B].every(P));break;case"month":O.ticks(p2.every(P));break}}v.append("g").attr("class","grid").attr("transform","translate("+I+", "+M+")").call(O).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}S(E,"makeGrid");function C(I,M){let F=0;const N=Object.keys(d).map(z=>[z,d[z]]);v.append("g").selectAll("text").data(N).enter().append(function(z){const V=z[0].split(Et.lineBreakRegex),D=-(V.length-1)/2,O=l.createElementNS("http://www.w3.org/2000/svg","text");O.setAttribute("dy",D+"em");for(const[P,$]of V.entries()){const B=l.createElementNS("http://www.w3.org/2000/svg","tspan");B.setAttribute("alignment-baseline","central"),B.setAttribute("x","10"),P>0&&B.setAttribute("dy","1em"),B.textContent=$,O.appendChild(B)}return O}).attr("x",10).attr("y",function(z,V){if(V>0)for(let D=0;D<V;D++)return F+=N[V-1][1],z[1]*I/2+F*I+M;else return z[1]*I/2+M}).attr("font-size",i.sectionFontSize).attr("class",function(z){for(const[V,D]of f.entries())if(z[0]===D)return"sectionTitle sectionTitle"+V%i.numberSectionStyles;return"sectionTitle"})}S(C,"vertLabels");function L(I,M,F,N){const z=n.db.getTodayMarker();if(z==="off")return;const V=v.append("g").attr("class","today"),D=new Date,O=V.append("line");O.attr("x1",m(D)+I).attr("x2",m(D)+I).attr("y1",i.titleTopMargin).attr("y2",N-i.titleTopMargin).attr("class","today"),z!==""&&O.attr("style",z.replace(/,/g,";"))}S(L,"drawToday");function _(I){const M={},F=[];for(let N=0,z=I.length;N<z;++N)Object.prototype.hasOwnProperty.call(M,I[N])||(M[I[N]]=!0,F.push(I[N]));return F}S(_,"checkUnique")},"draw"),Aqe={setConf:Eqe,draw:Cqe},_qe=S(t=>`
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${t.fontFamily};
    fill: ${t.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.titleColor||t.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`,"getStyles"),Lqe=_qe,Dqe={parser:HWe,db:Sqe,renderer:Aqe,styles:Lqe};const Rqe=Object.freeze(Object.defineProperty({__proto__:null,diagram:Dqe},Symbol.toStringTag,{value:"Module"}));var Mqe={parse:S(async t=>{const e=await mv("info",t);he.debug(e)},"parse")},Nqe={version:c9},Iqe=S(()=>Nqe.version,"getVersion"),Oqe={getVersion:Iqe},Fqe=S((t,e,r)=>{he.debug(`rendering info diagram
`+t);const n=ap(e);Ga(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),Pqe={draw:Fqe},Bqe={parser:Mqe,db:Oqe,renderer:Pqe};const $qe=Object.freeze(Object.defineProperty({__proto__:null,diagram:Bqe},Symbol.toStringTag,{value:"Module"}));var moe=An.pie,wI={sections:new Map,showData:!1,config:moe},dS=wI.sections,kI=wI.showData,zqe=structuredClone(moe),Hqe=S(()=>structuredClone(zqe),"getConfig"),Vqe=S(()=>{dS=new Map,kI=wI.showData,ka()},"clear"),Uqe=S(({label:t,value:e})=>{dS.has(t)||(dS.set(t,e),he.debug(`added new section: ${t}, with value: ${e}`))},"addSection"),Gqe=S(()=>dS,"getSections"),Wqe=S(t=>{kI=t},"setShowData"),qqe=S(()=>kI,"getShowData"),yoe={getConfig:Hqe,clear:Vqe,setDiagramTitle:Us,getDiagramTitle:Xa,setAccTitle:Sa,getAccTitle:Wa,setAccDescription:qa,getAccDescription:Ya,addSection:Uqe,getSections:Gqe,setShowData:Wqe,getShowData:qqe},Yqe=S((t,e)=>{yb(t,e),e.setShowData(t.showData),t.sections.map(e.addSection)},"populateDb"),Xqe={parse:S(async t=>{const e=await mv("pie",t);he.debug(e),Yqe(e,yoe)},"parse")},jqe=S(t=>`
  .pieCircle{
    stroke: ${t.pieStrokeColor};
    stroke-width : ${t.pieStrokeWidth};
    opacity : ${t.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${t.pieOuterStrokeColor};
    stroke-width: ${t.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${t.pieTitleTextSize};
    fill: ${t.pieTitleTextColor};
    font-family: ${t.fontFamily};
  }
  .slice {
    font-family: ${t.fontFamily};
    fill: ${t.pieSectionTextColor};
    font-size:${t.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${t.pieLegendTextColor};
    font-family: ${t.fontFamily};
    font-size: ${t.pieLegendTextSize};
  }
`,"getStyles"),Kqe=jqe,Qqe=S(t=>{const e=[...t.entries()].map(n=>({label:n[0],value:n[1]})).sort((n,i)=>i.value-n.value);return Qwe().value(n=>n.value)(e)},"createPieArcs"),Zqe=S((t,e,r,n)=>{he.debug(`rendering pie chart
`+t);const i=n.db,a=Ve(),s=mh(i.getConfig(),a.pie),o=40,l=18,u=4,h=450,f=h,d=ap(e),p=d.append("g");p.attr("transform","translate("+f/2+","+h/2+")");const{themeVariables:v}=a;let[m]=np(v.pieOuterStrokeWidth);m??(m=2);const x=s.textPosition,y=Math.min(f,h)/2-o,w=d1().innerRadius(0).outerRadius(y),k=d1().innerRadius(y*x).outerRadius(y*x);p.append("circle").attr("cx",0).attr("cy",0).attr("r",y+m/2).attr("class","pieOuterCircle");const E=i.getSections(),C=Qqe(E),L=[v.pie1,v.pie2,v.pie3,v.pie4,v.pie5,v.pie6,v.pie7,v.pie8,v.pie9,v.pie10,v.pie11,v.pie12],_=kE(L);p.selectAll("mySlices").data(C).enter().append("path").attr("d",w).attr("fill",z=>_(z.data.label)).attr("class","pieCircle");let I=0;E.forEach(z=>{I+=z}),p.selectAll("mySlices").data(C).enter().append("text").text(z=>(z.data.value/I*100).toFixed(0)+"%").attr("transform",z=>"translate("+k.centroid(z)+")").style("text-anchor","middle").attr("class","slice"),p.append("text").text(i.getDiagramTitle()).attr("x",0).attr("y",-(h-50)/2).attr("class","pieTitleText");const M=p.selectAll(".legend").data(_.domain()).enter().append("g").attr("class","legend").attr("transform",(z,V)=>{const D=l+u,O=D*_.domain().length/2,P=12*l,$=V*D-O;return"translate("+P+","+$+")"});M.append("rect").attr("width",l).attr("height",l).style("fill",_).style("stroke",_),M.data(C).append("text").attr("x",l+u).attr("y",l-u).text(z=>{const{label:V,value:D}=z.data;return i.getShowData()?`${V} [${D}]`:V});const F=Math.max(...M.selectAll("text").nodes().map(z=>(z==null?void 0:z.getBoundingClientRect().width)??0)),N=f+o+l+u+F;d.attr("viewBox",`0 0 ${N} ${h}`),Ga(d,h,N,s.useMaxWidth)},"draw"),Jqe={draw:Zqe},eYe={parser:Xqe,db:yoe,renderer:Jqe,styles:Kqe};const tYe=Object.freeze(Object.defineProperty({__proto__:null,diagram:eYe},Symbol.toStringTag,{value:"Module"}));var OL=function(){var t=S(function(_e,ke,Le,Oe){for(Le=Le||{},Oe=_e.length;Oe--;Le[_e[Oe]]=ke);return Le},"o"),e=[1,3],r=[1,4],n=[1,5],i=[1,6],a=[1,7],s=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],o=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],l=[55,56,57],u=[2,36],h=[1,37],f=[1,36],d=[1,38],p=[1,35],v=[1,43],m=[1,41],x=[1,14],y=[1,23],w=[1,18],k=[1,19],E=[1,20],C=[1,21],L=[1,22],_=[1,24],I=[1,25],M=[1,26],F=[1,27],N=[1,28],z=[1,29],V=[1,32],D=[1,33],O=[1,34],P=[1,39],$=[1,40],B=[1,42],H=[1,44],X=[1,62],q=[1,61],Y=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],U=[1,65],J=[1,66],ce=[1,67],re=[1,68],ve=[1,69],ye=[1,70],Z=[1,71],ue=[1,72],ae=[1,73],pe=[1,74],Ee=[1,75],Se=[1,76],de=[4,5,6,7,8,9,10,11,12,13,14,15,18],be=[1,90],oe=[1,91],we=[1,92],Re=[1,99],Pe=[1,93],Ge=[1,96],je=[1,94],We=[1,95],me=[1,97],Te=[1,98],fe=[1,102],W=[10,55,56,57],j=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],ie={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:S(function(ke,Le,Oe,Me,Ie,Fe,Ne){var He=Fe.length-1;switch(Ie){case 23:this.$=Fe[He];break;case 24:this.$=Fe[He-1]+""+Fe[He];break;case 26:this.$=Fe[He-1]+Fe[He];break;case 27:this.$=[Fe[He].trim()];break;case 28:Fe[He-2].push(Fe[He].trim()),this.$=Fe[He-2];break;case 29:this.$=Fe[He-4],Me.addClass(Fe[He-2],Fe[He]);break;case 37:this.$=[];break;case 42:this.$=Fe[He].trim(),Me.setDiagramTitle(this.$);break;case 43:this.$=Fe[He].trim(),Me.setAccTitle(this.$);break;case 44:case 45:this.$=Fe[He].trim(),Me.setAccDescription(this.$);break;case 46:Me.addSection(Fe[He].substr(8)),this.$=Fe[He].substr(8);break;case 47:Me.addPoint(Fe[He-3],"",Fe[He-1],Fe[He],[]);break;case 48:Me.addPoint(Fe[He-4],Fe[He-3],Fe[He-1],Fe[He],[]);break;case 49:Me.addPoint(Fe[He-4],"",Fe[He-2],Fe[He-1],Fe[He]);break;case 50:Me.addPoint(Fe[He-5],Fe[He-4],Fe[He-2],Fe[He-1],Fe[He]);break;case 51:Me.setXAxisLeftText(Fe[He-2]),Me.setXAxisRightText(Fe[He]);break;case 52:Fe[He-1].text+=" ⟶ ",Me.setXAxisLeftText(Fe[He-1]);break;case 53:Me.setXAxisLeftText(Fe[He]);break;case 54:Me.setYAxisBottomText(Fe[He-2]),Me.setYAxisTopText(Fe[He]);break;case 55:Fe[He-1].text+=" ⟶ ",Me.setYAxisBottomText(Fe[He-1]);break;case 56:Me.setYAxisBottomText(Fe[He]);break;case 57:Me.setQuadrant1Text(Fe[He]);break;case 58:Me.setQuadrant2Text(Fe[He]);break;case 59:Me.setQuadrant3Text(Fe[He]);break;case 60:Me.setQuadrant4Text(Fe[He]);break;case 64:this.$={text:Fe[He],type:"text"};break;case 65:this.$={text:Fe[He-1].text+""+Fe[He],type:Fe[He-1].type};break;case 66:this.$={text:Fe[He],type:"text"};break;case 67:this.$={text:Fe[He],type:"markdown"};break;case 68:this.$=Fe[He];break;case 69:this.$=Fe[He-1]+""+Fe[He];break}},"anonymous"),table:[{18:e,26:1,27:2,28:r,55:n,56:i,57:a},{1:[3]},{18:e,26:8,27:2,28:r,55:n,56:i,57:a},{18:e,26:9,27:2,28:r,55:n,56:i,57:a},t(s,[2,33],{29:10}),t(o,[2,61]),t(o,[2,62]),t(o,[2,63]),{1:[2,30]},{1:[2,31]},t(l,u,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:h,5:f,10:d,12:p,13:v,14:m,18:x,25:y,35:w,37:k,39:E,41:C,42:L,48:_,50:I,51:M,52:F,53:N,54:z,60:V,61:D,63:O,64:P,65:$,66:B,67:H}),t(s,[2,34]),{27:45,55:n,56:i,57:a},t(l,[2,37]),t(l,u,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:h,5:f,10:d,12:p,13:v,14:m,18:x,25:y,35:w,37:k,39:E,41:C,42:L,48:_,50:I,51:M,52:F,53:N,54:z,60:V,61:D,63:O,64:P,65:$,66:B,67:H}),t(l,[2,39]),t(l,[2,40]),t(l,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},t(l,[2,45]),t(l,[2,46]),{18:[1,50]},{4:h,5:f,10:d,12:p,13:v,14:m,43:51,58:31,60:V,61:D,63:O,64:P,65:$,66:B,67:H},{4:h,5:f,10:d,12:p,13:v,14:m,43:52,58:31,60:V,61:D,63:O,64:P,65:$,66:B,67:H},{4:h,5:f,10:d,12:p,13:v,14:m,43:53,58:31,60:V,61:D,63:O,64:P,65:$,66:B,67:H},{4:h,5:f,10:d,12:p,13:v,14:m,43:54,58:31,60:V,61:D,63:O,64:P,65:$,66:B,67:H},{4:h,5:f,10:d,12:p,13:v,14:m,43:55,58:31,60:V,61:D,63:O,64:P,65:$,66:B,67:H},{4:h,5:f,10:d,12:p,13:v,14:m,43:56,58:31,60:V,61:D,63:O,64:P,65:$,66:B,67:H},{4:h,5:f,8:X,10:d,12:p,13:v,14:m,18:q,44:[1,57],47:[1,58],58:60,59:59,63:O,64:P,65:$,66:B,67:H},t(Y,[2,64]),t(Y,[2,66]),t(Y,[2,67]),t(Y,[2,70]),t(Y,[2,71]),t(Y,[2,72]),t(Y,[2,73]),t(Y,[2,74]),t(Y,[2,75]),t(Y,[2,76]),t(Y,[2,77]),t(Y,[2,78]),t(Y,[2,79]),t(Y,[2,80]),t(s,[2,35]),t(l,[2,38]),t(l,[2,42]),t(l,[2,43]),t(l,[2,44]),{3:64,4:U,5:J,6:ce,7:re,8:ve,9:ye,10:Z,11:ue,12:ae,13:pe,14:Ee,15:Se,21:63},t(l,[2,53],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:v,14:m,18:q,49:[1,77],63:O,64:P,65:$,66:B,67:H}),t(l,[2,56],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:v,14:m,18:q,49:[1,78],63:O,64:P,65:$,66:B,67:H}),t(l,[2,57],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:v,14:m,18:q,63:O,64:P,65:$,66:B,67:H}),t(l,[2,58],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:v,14:m,18:q,63:O,64:P,65:$,66:B,67:H}),t(l,[2,59],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:v,14:m,18:q,63:O,64:P,65:$,66:B,67:H}),t(l,[2,60],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:v,14:m,18:q,63:O,64:P,65:$,66:B,67:H}),{45:[1,79]},{44:[1,80]},t(Y,[2,65]),t(Y,[2,81]),t(Y,[2,82]),t(Y,[2,83]),{3:82,4:U,5:J,6:ce,7:re,8:ve,9:ye,10:Z,11:ue,12:ae,13:pe,14:Ee,15:Se,18:[1,81]},t(de,[2,23]),t(de,[2,1]),t(de,[2,2]),t(de,[2,3]),t(de,[2,4]),t(de,[2,5]),t(de,[2,6]),t(de,[2,7]),t(de,[2,8]),t(de,[2,9]),t(de,[2,10]),t(de,[2,11]),t(de,[2,12]),t(l,[2,52],{58:31,43:83,4:h,5:f,10:d,12:p,13:v,14:m,60:V,61:D,63:O,64:P,65:$,66:B,67:H}),t(l,[2,55],{58:31,43:84,4:h,5:f,10:d,12:p,13:v,14:m,60:V,61:D,63:O,64:P,65:$,66:B,67:H}),{46:[1,85]},{45:[1,86]},{4:be,5:oe,6:we,8:Re,11:Pe,13:Ge,16:89,17:je,18:We,19:me,20:Te,22:88,23:87},t(de,[2,24]),t(l,[2,51],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:v,14:m,18:q,63:O,64:P,65:$,66:B,67:H}),t(l,[2,54],{59:59,58:60,4:h,5:f,8:X,10:d,12:p,13:v,14:m,18:q,63:O,64:P,65:$,66:B,67:H}),t(l,[2,47],{22:88,16:89,23:100,4:be,5:oe,6:we,8:Re,11:Pe,13:Ge,17:je,18:We,19:me,20:Te}),{46:[1,101]},t(l,[2,29],{10:fe}),t(W,[2,27],{16:103,4:be,5:oe,6:we,8:Re,11:Pe,13:Ge,17:je,18:We,19:me,20:Te}),t(j,[2,25]),t(j,[2,13]),t(j,[2,14]),t(j,[2,15]),t(j,[2,16]),t(j,[2,17]),t(j,[2,18]),t(j,[2,19]),t(j,[2,20]),t(j,[2,21]),t(j,[2,22]),t(l,[2,49],{10:fe}),t(l,[2,48],{22:88,16:89,23:104,4:be,5:oe,6:we,8:Re,11:Pe,13:Ge,17:je,18:We,19:me,20:Te}),{4:be,5:oe,6:we,8:Re,11:Pe,13:Ge,16:89,17:je,18:We,19:me,20:Te,22:105},t(j,[2,26]),t(l,[2,50],{10:fe}),t(W,[2,28],{16:103,4:be,5:oe,6:we,8:Re,11:Pe,13:Ge,17:je,18:We,19:me,20:Te})],defaultActions:{8:[2,30],9:[2,31]},parseError:S(function(ke,Le){if(Le.recoverable)this.trace(ke);else{var Oe=new Error(ke);throw Oe.hash=Le,Oe}},"parseError"),parse:S(function(ke){var Le=this,Oe=[0],Me=[],Ie=[null],Fe=[],Ne=this.table,He="",it=0,lt=0,ft=2,gt=1,_t=Fe.slice.call(arguments,1),ct=Object.create(this.lexer),at={yy:{}};for(var Lt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Lt)&&(at.yy[Lt]=this.yy[Lt]);ct.setInput(ke,at.yy),at.yy.lexer=ct,at.yy.parser=this,typeof ct.yylloc>"u"&&(ct.yylloc={});var ut=ct.yylloc;Fe.push(ut);var pt=ct.options&&ct.options.ranges;typeof at.yy.parseError=="function"?this.parseError=at.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Zt($r){Oe.length=Oe.length-2*$r,Ie.length=Ie.length-$r,Fe.length=Fe.length-$r}S(Zt,"popStack");function xt(){var $r;return $r=Me.pop()||ct.lex()||gt,typeof $r!="number"&&($r instanceof Array&&(Me=$r,$r=Me.pop()),$r=Le.symbols_[$r]||$r),$r}S(xt,"lex");for(var ht,Mt,nr,Yt,wr={},Gr,Tr,jn,sn;;){if(Mt=Oe[Oe.length-1],this.defaultActions[Mt]?nr=this.defaultActions[Mt]:((ht===null||typeof ht>"u")&&(ht=xt()),nr=Ne[Mt]&&Ne[Mt][ht]),typeof nr>"u"||!nr.length||!nr[0]){var Dn="";sn=[];for(Gr in Ne[Mt])this.terminals_[Gr]&&Gr>ft&&sn.push("'"+this.terminals_[Gr]+"'");ct.showPosition?Dn="Parse error on line "+(it+1)+`:
`+ct.showPosition()+`
Expecting `+sn.join(", ")+", got '"+(this.terminals_[ht]||ht)+"'":Dn="Parse error on line "+(it+1)+": Unexpected "+(ht==gt?"end of input":"'"+(this.terminals_[ht]||ht)+"'"),this.parseError(Dn,{text:ct.match,token:this.terminals_[ht]||ht,line:ct.yylineno,loc:ut,expected:sn})}if(nr[0]instanceof Array&&nr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Mt+", token: "+ht);switch(nr[0]){case 1:Oe.push(ht),Ie.push(ct.yytext),Fe.push(ct.yylloc),Oe.push(nr[1]),ht=null,lt=ct.yyleng,He=ct.yytext,it=ct.yylineno,ut=ct.yylloc;break;case 2:if(Tr=this.productions_[nr[1]][1],wr.$=Ie[Ie.length-Tr],wr._$={first_line:Fe[Fe.length-(Tr||1)].first_line,last_line:Fe[Fe.length-1].last_line,first_column:Fe[Fe.length-(Tr||1)].first_column,last_column:Fe[Fe.length-1].last_column},pt&&(wr._$.range=[Fe[Fe.length-(Tr||1)].range[0],Fe[Fe.length-1].range[1]]),Yt=this.performAction.apply(wr,[He,lt,it,at.yy,nr[1],Ie,Fe].concat(_t)),typeof Yt<"u")return Yt;Tr&&(Oe=Oe.slice(0,-1*Tr*2),Ie=Ie.slice(0,-1*Tr),Fe=Fe.slice(0,-1*Tr)),Oe.push(this.productions_[nr[1]][0]),Ie.push(wr.$),Fe.push(wr._$),jn=Ne[Oe[Oe.length-2]][Oe[Oe.length-1]],Oe.push(jn);break;case 3:return!0}}return!0},"parse")},ee=function(){var _e={EOF:1,parseError:S(function(Le,Oe){if(this.yy.parser)this.yy.parser.parseError(Le,Oe);else throw new Error(Le)},"parseError"),setInput:S(function(ke,Le){return this.yy=Le||this.yy||{},this._input=ke,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var ke=this._input[0];this.yytext+=ke,this.yyleng++,this.offset++,this.match+=ke,this.matched+=ke;var Le=ke.match(/(?:\r\n?|\n).*/g);return Le?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ke},"input"),unput:S(function(ke){var Le=ke.length,Oe=ke.split(/(?:\r\n?|\n)/g);this._input=ke+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Le),this.offset-=Le;var Me=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Oe.length-1&&(this.yylineno-=Oe.length-1);var Ie=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Oe?(Oe.length===Me.length?this.yylloc.first_column:0)+Me[Me.length-Oe.length].length-Oe[0].length:this.yylloc.first_column-Le},this.options.ranges&&(this.yylloc.range=[Ie[0],Ie[0]+this.yyleng-Le]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(ke){this.unput(this.match.slice(ke))},"less"),pastInput:S(function(){var ke=this.matched.substr(0,this.matched.length-this.match.length);return(ke.length>20?"...":"")+ke.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var ke=this.match;return ke.length<20&&(ke+=this._input.substr(0,20-ke.length)),(ke.substr(0,20)+(ke.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var ke=this.pastInput(),Le=new Array(ke.length+1).join("-");return ke+this.upcomingInput()+`
`+Le+"^"},"showPosition"),test_match:S(function(ke,Le){var Oe,Me,Ie;if(this.options.backtrack_lexer&&(Ie={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ie.yylloc.range=this.yylloc.range.slice(0))),Me=ke[0].match(/(?:\r\n?|\n).*/g),Me&&(this.yylineno+=Me.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Me?Me[Me.length-1].length-Me[Me.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ke[0].length},this.yytext+=ke[0],this.match+=ke[0],this.matches=ke,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ke[0].length),this.matched+=ke[0],Oe=this.performAction.call(this,this.yy,this,Le,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Oe)return Oe;if(this._backtrack){for(var Fe in Ie)this[Fe]=Ie[Fe];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ke,Le,Oe,Me;this._more||(this.yytext="",this.match="");for(var Ie=this._currentRules(),Fe=0;Fe<Ie.length;Fe++)if(Oe=this._input.match(this.rules[Ie[Fe]]),Oe&&(!Le||Oe[0].length>Le[0].length)){if(Le=Oe,Me=Fe,this.options.backtrack_lexer){if(ke=this.test_match(Oe,Ie[Fe]),ke!==!1)return ke;if(this._backtrack){Le=!1;continue}else return!1}else if(!this.options.flex)break}return Le?(ke=this.test_match(Le,Ie[Me]),ke!==!1?ke:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var Le=this.next();return Le||this.lex()},"lex"),begin:S(function(Le){this.conditionStack.push(Le)},"begin"),popState:S(function(){var Le=this.conditionStack.length-1;return Le>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function(Le){return Le=this.conditionStack.length-1-Math.abs(Le||0),Le>=0?this.conditionStack[Le]:"INITIAL"},"topState"),pushState:S(function(Le){this.begin(Le)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:S(function(Le,Oe,Me,Ie){switch(Me){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return _e}();ie.lexer=ee;function le(){this.yy={}}return S(le,"Parser"),le.prototype=ie,ie.Parser=le,new le}();OL.parser=OL;var rYe=OL,As=MR(),Ax,nYe=(Ax=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){var e,r,n,i,a,s,o,l,u,h,f,d,p,v,m,x,y,w;return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:((e=An.quadrantChart)==null?void 0:e.chartWidth)||500,chartWidth:((r=An.quadrantChart)==null?void 0:r.chartHeight)||500,titlePadding:((n=An.quadrantChart)==null?void 0:n.titlePadding)||10,titleFontSize:((i=An.quadrantChart)==null?void 0:i.titleFontSize)||20,quadrantPadding:((a=An.quadrantChart)==null?void 0:a.quadrantPadding)||5,xAxisLabelPadding:((s=An.quadrantChart)==null?void 0:s.xAxisLabelPadding)||5,yAxisLabelPadding:((o=An.quadrantChart)==null?void 0:o.yAxisLabelPadding)||5,xAxisLabelFontSize:((l=An.quadrantChart)==null?void 0:l.xAxisLabelFontSize)||16,yAxisLabelFontSize:((u=An.quadrantChart)==null?void 0:u.yAxisLabelFontSize)||16,quadrantLabelFontSize:((h=An.quadrantChart)==null?void 0:h.quadrantLabelFontSize)||16,quadrantTextTopPadding:((f=An.quadrantChart)==null?void 0:f.quadrantTextTopPadding)||5,pointTextPadding:((d=An.quadrantChart)==null?void 0:d.pointTextPadding)||5,pointLabelFontSize:((p=An.quadrantChart)==null?void 0:p.pointLabelFontSize)||12,pointRadius:((v=An.quadrantChart)==null?void 0:v.pointRadius)||5,xAxisPosition:((m=An.quadrantChart)==null?void 0:m.xAxisPosition)||"top",yAxisPosition:((x=An.quadrantChart)==null?void 0:x.yAxisPosition)||"left",quadrantInternalBorderStrokeWidth:((y=An.quadrantChart)==null?void 0:y.quadrantInternalBorderStrokeWidth)||1,quadrantExternalBorderStrokeWidth:((w=An.quadrantChart)==null?void 0:w.quadrantExternalBorderStrokeWidth)||2}}getDefaultThemeConfig(){return{quadrant1Fill:As.quadrant1Fill,quadrant2Fill:As.quadrant2Fill,quadrant3Fill:As.quadrant3Fill,quadrant4Fill:As.quadrant4Fill,quadrant1TextFill:As.quadrant1TextFill,quadrant2TextFill:As.quadrant2TextFill,quadrant3TextFill:As.quadrant3TextFill,quadrant4TextFill:As.quadrant4TextFill,quadrantPointFill:As.quadrantPointFill,quadrantPointTextFill:As.quadrantPointTextFill,quadrantXAxisTextFill:As.quadrantXAxisTextFill,quadrantYAxisTextFill:As.quadrantYAxisTextFill,quadrantTitleFill:As.quadrantTitleFill,quadrantInternalBorderStrokeFill:As.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:As.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,he.info("clear called")}setData(e){this.data={...this.data,...e}}addPoints(e){this.data.points=[...e,...this.data.points]}addClass(e,r){this.classes.set(e,r)}setConfig(e){he.trace("setConfig called with: ",e),this.config={...this.config,...e}}setThemeConfig(e){he.trace("setThemeConfig called with: ",e),this.themeConfig={...this.themeConfig,...e}}calculateSpace(e,r,n,i){const a=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,s={top:e==="top"&&r?a:0,bottom:e==="bottom"&&r?a:0},o=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,l={left:this.config.yAxisPosition==="left"&&n?o:0,right:this.config.yAxisPosition==="right"&&n?o:0},u=this.config.titleFontSize+this.config.titlePadding*2,h={top:i?u:0},f=this.config.quadrantPadding+l.left,d=this.config.quadrantPadding+s.top+h.top,p=this.config.chartWidth-this.config.quadrantPadding*2-l.left-l.right,v=this.config.chartHeight-this.config.quadrantPadding*2-s.top-s.bottom-h.top,m=p/2,x=v/2;return{xAxisSpace:s,yAxisSpace:l,titleSpace:h,quadrantSpace:{quadrantLeft:f,quadrantTop:d,quadrantWidth:p,quadrantHalfWidth:m,quadrantHeight:v,quadrantHalfHeight:x}}}getAxisLabels(e,r,n,i){const{quadrantSpace:a,titleSpace:s}=i,{quadrantHalfHeight:o,quadrantHeight:l,quadrantLeft:u,quadrantHalfWidth:h,quadrantTop:f,quadrantWidth:d}=a,p=!!this.data.xAxisRightText,v=!!this.data.yAxisTopText,m=[];return this.data.xAxisLeftText&&r&&m.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+(p?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+f+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:p?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&r&&m.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+h+(p?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+f+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:p?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&n&&m.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+d+this.config.quadrantPadding,y:f+l-(v?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:v?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&n&&m.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+d+this.config.quadrantPadding,y:f+o-(v?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:v?"center":"left",horizontalPos:"top",rotation:-90}),m}getQuadrants(e){const{quadrantSpace:r}=e,{quadrantHalfHeight:n,quadrantLeft:i,quadrantHalfWidth:a,quadrantTop:s}=r,o=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+a,y:s,width:a,height:n,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:s,width:a,height:n,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:s+n,width:a,height:n,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+a,y:s+n,width:a,height:n,fill:this.themeConfig.quadrant4Fill}];for(const l of o)l.text.x=l.x+l.width/2,this.data.points.length===0?(l.text.y=l.y+l.height/2,l.text.horizontalPos="middle"):(l.text.y=l.y+this.config.quadrantTextTopPadding,l.text.horizontalPos="top");return o}getQuadrantPoints(e){const{quadrantSpace:r}=e,{quadrantHeight:n,quadrantLeft:i,quadrantTop:a,quadrantWidth:s}=r,o=c1().domain([0,1]).range([i,s+i]),l=c1().domain([0,1]).range([n+a,a]);return this.data.points.map(h=>{const f=this.classes.get(h.className);return f&&(h={...f,...h}),{x:o(h.x),y:l(h.y),fill:h.color??this.themeConfig.quadrantPointFill,radius:h.radius??this.config.pointRadius,text:{text:h.text,fill:this.themeConfig.quadrantPointTextFill,x:o(h.x),y:l(h.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:h.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:h.strokeWidth??"0px"}})}getBorders(e){const r=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:n}=e,{quadrantHalfHeight:i,quadrantHeight:a,quadrantLeft:s,quadrantHalfWidth:o,quadrantTop:l,quadrantWidth:u}=n;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-r,y1:l,x2:s+u+r,y2:l},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s+u,y1:l+r,x2:s+u,y2:l+a-r},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-r,y1:l+a,x2:s+u+r,y2:l+a},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s,y1:l+r,x2:s,y2:l+a-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+o,y1:l+r,x2:s+o,y2:l+a-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+r,y1:l+i,x2:s+u-r,y2:l+i}]}getTitle(e){if(e)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){const e=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),r=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),n=this.config.showTitle&&!!this.data.titleText,i=this.data.points.length>0?"bottom":this.config.xAxisPosition,a=this.calculateSpace(i,e,r,n);return{points:this.getQuadrantPoints(a),quadrants:this.getQuadrants(a),axisLabels:this.getAxisLabels(i,e,r,a),borderLines:this.getBorders(a),title:this.getTitle(n)}}},S(Ax,"QuadrantBuilder"),Ax),_x,_3=(_x=class extends Error{constructor(e,r,n){super(`value for ${e} ${r} is invalid, please use a valid ${n}`),this.name="InvalidStyleError"}},S(_x,"InvalidStyleError"),_x);function FL(t){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(t)}S(FL,"validateHexCode");function xoe(t){return!/^\d+$/.test(t)}S(xoe,"validateNumber");function boe(t){return!/^\d+px$/.test(t)}S(boe,"validateSizeInPixels");var iYe=Ve();function ac(t){return Mi(t.trim(),iYe)}S(ac,"textSanitizer");var Ba=new nYe;function woe(t){Ba.setData({quadrant1Text:ac(t.text)})}S(woe,"setQuadrant1Text");function koe(t){Ba.setData({quadrant2Text:ac(t.text)})}S(koe,"setQuadrant2Text");function Soe(t){Ba.setData({quadrant3Text:ac(t.text)})}S(Soe,"setQuadrant3Text");function Eoe(t){Ba.setData({quadrant4Text:ac(t.text)})}S(Eoe,"setQuadrant4Text");function Toe(t){Ba.setData({xAxisLeftText:ac(t.text)})}S(Toe,"setXAxisLeftText");function Coe(t){Ba.setData({xAxisRightText:ac(t.text)})}S(Coe,"setXAxisRightText");function Aoe(t){Ba.setData({yAxisTopText:ac(t.text)})}S(Aoe,"setYAxisTopText");function _oe(t){Ba.setData({yAxisBottomText:ac(t.text)})}S(_oe,"setYAxisBottomText");function UT(t){const e={};for(const r of t){const[n,i]=r.trim().split(/\s*:\s*/);if(n==="radius"){if(xoe(i))throw new _3(n,i,"number");e.radius=parseInt(i)}else if(n==="color"){if(FL(i))throw new _3(n,i,"hex code");e.color=i}else if(n==="stroke-color"){if(FL(i))throw new _3(n,i,"hex code");e.strokeColor=i}else if(n==="stroke-width"){if(boe(i))throw new _3(n,i,"number of pixels (eg. 10px)");e.strokeWidth=i}else throw new Error(`style named ${n} is not supported.`)}return e}S(UT,"parseStyles");function Loe(t,e,r,n,i){const a=UT(i);Ba.addPoints([{x:r,y:n,text:ac(t.text),className:e,...a}])}S(Loe,"addPoint");function Doe(t,e){Ba.addClass(t,UT(e))}S(Doe,"addClass");function Roe(t){Ba.setConfig({chartWidth:t})}S(Roe,"setWidth");function Moe(t){Ba.setConfig({chartHeight:t})}S(Moe,"setHeight");function Noe(){const t=Ve(),{themeVariables:e,quadrantChart:r}=t;return r&&Ba.setConfig(r),Ba.setThemeConfig({quadrant1Fill:e.quadrant1Fill,quadrant2Fill:e.quadrant2Fill,quadrant3Fill:e.quadrant3Fill,quadrant4Fill:e.quadrant4Fill,quadrant1TextFill:e.quadrant1TextFill,quadrant2TextFill:e.quadrant2TextFill,quadrant3TextFill:e.quadrant3TextFill,quadrant4TextFill:e.quadrant4TextFill,quadrantPointFill:e.quadrantPointFill,quadrantPointTextFill:e.quadrantPointTextFill,quadrantXAxisTextFill:e.quadrantXAxisTextFill,quadrantYAxisTextFill:e.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:e.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:e.quadrantInternalBorderStrokeFill,quadrantTitleFill:e.quadrantTitleFill}),Ba.setData({titleText:Xa()}),Ba.build()}S(Noe,"getQuadrantData");var aYe=S(function(){Ba.clear(),ka()},"clear"),sYe={setWidth:Roe,setHeight:Moe,setQuadrant1Text:woe,setQuadrant2Text:koe,setQuadrant3Text:Soe,setQuadrant4Text:Eoe,setXAxisLeftText:Toe,setXAxisRightText:Coe,setYAxisTopText:Aoe,setYAxisBottomText:_oe,parseStyles:UT,addPoint:Loe,addClass:Doe,getQuadrantData:Noe,clear:aYe,setAccTitle:Sa,getAccTitle:Wa,setDiagramTitle:Us,getDiagramTitle:Xa,getAccDescription:Ya,setAccDescription:qa},oYe=S((t,e,r,n)=>{var I,M,F;function i(N){return N==="top"?"hanging":"middle"}S(i,"getDominantBaseLine");function a(N){return N==="left"?"start":"middle"}S(a,"getTextAnchor");function s(N){return`translate(${N.x}, ${N.y}) rotate(${N.rotation||0})`}S(s,"getTransformation");const o=Ve();he.debug(`Rendering quadrant chart
`+t);const l=o.securityLevel;let u;l==="sandbox"&&(u=yt("#i"+e));const f=yt(l==="sandbox"?u.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`),d=f.append("g").attr("class","main"),p=((I=o.quadrantChart)==null?void 0:I.chartWidth)??500,v=((M=o.quadrantChart)==null?void 0:M.chartHeight)??500;Ga(f,v,p,((F=o.quadrantChart)==null?void 0:F.useMaxWidth)??!0),f.attr("viewBox","0 0 "+p+" "+v),n.db.setHeight(v),n.db.setWidth(p);const m=n.db.getQuadrantData(),x=d.append("g").attr("class","quadrants"),y=d.append("g").attr("class","border"),w=d.append("g").attr("class","data-points"),k=d.append("g").attr("class","labels"),E=d.append("g").attr("class","title");m.title&&E.append("text").attr("x",0).attr("y",0).attr("fill",m.title.fill).attr("font-size",m.title.fontSize).attr("dominant-baseline",i(m.title.horizontalPos)).attr("text-anchor",a(m.title.verticalPos)).attr("transform",s(m.title)).text(m.title.text),m.borderLines&&y.selectAll("line").data(m.borderLines).enter().append("line").attr("x1",N=>N.x1).attr("y1",N=>N.y1).attr("x2",N=>N.x2).attr("y2",N=>N.y2).style("stroke",N=>N.strokeFill).style("stroke-width",N=>N.strokeWidth);const C=x.selectAll("g.quadrant").data(m.quadrants).enter().append("g").attr("class","quadrant");C.append("rect").attr("x",N=>N.x).attr("y",N=>N.y).attr("width",N=>N.width).attr("height",N=>N.height).attr("fill",N=>N.fill),C.append("text").attr("x",0).attr("y",0).attr("fill",N=>N.text.fill).attr("font-size",N=>N.text.fontSize).attr("dominant-baseline",N=>i(N.text.horizontalPos)).attr("text-anchor",N=>a(N.text.verticalPos)).attr("transform",N=>s(N.text)).text(N=>N.text.text),k.selectAll("g.label").data(m.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(N=>N.text).attr("fill",N=>N.fill).attr("font-size",N=>N.fontSize).attr("dominant-baseline",N=>i(N.horizontalPos)).attr("text-anchor",N=>a(N.verticalPos)).attr("transform",N=>s(N));const _=w.selectAll("g.data-point").data(m.points).enter().append("g").attr("class","data-point");_.append("circle").attr("cx",N=>N.x).attr("cy",N=>N.y).attr("r",N=>N.radius).attr("fill",N=>N.fill).attr("stroke",N=>N.strokeColor).attr("stroke-width",N=>N.strokeWidth),_.append("text").attr("x",0).attr("y",0).text(N=>N.text.text).attr("fill",N=>N.text.fill).attr("font-size",N=>N.text.fontSize).attr("dominant-baseline",N=>i(N.text.horizontalPos)).attr("text-anchor",N=>a(N.text.verticalPos)).attr("transform",N=>s(N.text))},"draw"),lYe={draw:oYe},uYe={parser:rYe,db:sYe,renderer:lYe,styles:S(()=>"","styles")};const cYe=Object.freeze(Object.defineProperty({__proto__:null,diagram:uYe},Symbol.toStringTag,{value:"Module"}));var PL=function(){var t=S(function(O,P,$,B){for($=$||{},B=O.length;B--;$[O[B]]=P);return $},"o"),e=[1,10,12,14,16,18,19,21,23],r=[2,6],n=[1,3],i=[1,5],a=[1,6],s=[1,7],o=[1,5,10,12,14,16,18,19,21,23,34,35,36],l=[1,25],u=[1,26],h=[1,28],f=[1,29],d=[1,30],p=[1,31],v=[1,32],m=[1,33],x=[1,34],y=[1,35],w=[1,36],k=[1,37],E=[1,43],C=[1,42],L=[1,47],_=[1,50],I=[1,10,12,14,16,18,19,21,23,34,35,36],M=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],F=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],N=[1,64],z={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:S(function(P,$,B,H,X,q,Y){var U=q.length-1;switch(X){case 5:H.setOrientation(q[U]);break;case 9:H.setDiagramTitle(q[U].text.trim());break;case 12:H.setLineData({text:"",type:"text"},q[U]);break;case 13:H.setLineData(q[U-1],q[U]);break;case 14:H.setBarData({text:"",type:"text"},q[U]);break;case 15:H.setBarData(q[U-1],q[U]);break;case 16:this.$=q[U].trim(),H.setAccTitle(this.$);break;case 17:case 18:this.$=q[U].trim(),H.setAccDescription(this.$);break;case 19:this.$=q[U-1];break;case 20:this.$=[Number(q[U-2]),...q[U]];break;case 21:this.$=[Number(q[U])];break;case 22:H.setXAxisTitle(q[U]);break;case 23:H.setXAxisTitle(q[U-1]);break;case 24:H.setXAxisTitle({type:"text",text:""});break;case 25:H.setXAxisBand(q[U]);break;case 26:H.setXAxisRangeData(Number(q[U-2]),Number(q[U]));break;case 27:this.$=q[U-1];break;case 28:this.$=[q[U-2],...q[U]];break;case 29:this.$=[q[U]];break;case 30:H.setYAxisTitle(q[U]);break;case 31:H.setYAxisTitle(q[U-1]);break;case 32:H.setYAxisTitle({type:"text",text:""});break;case 33:H.setYAxisRangeData(Number(q[U-2]),Number(q[U]));break;case 37:this.$={text:q[U],type:"text"};break;case 38:this.$={text:q[U],type:"text"};break;case 39:this.$={text:q[U],type:"markdown"};break;case 40:this.$=q[U];break;case 41:this.$=q[U-1]+""+q[U];break}},"anonymous"),table:[t(e,r,{3:1,4:2,7:4,5:n,34:i,35:a,36:s}),{1:[3]},t(e,r,{4:2,7:4,3:8,5:n,34:i,35:a,36:s}),t(e,r,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:i,35:a,36:s}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},t(o,[2,34]),t(o,[2,35]),t(o,[2,36]),{1:[2,1]},t(e,r,{4:2,7:4,3:21,5:n,34:i,35:a,36:s}),{1:[2,3]},t(o,[2,5]),t(e,[2,7],{4:22,34:i,35:a,36:s}),{11:23,37:24,38:l,39:u,40:27,41:h,42:f,43:d,44:p,45:v,46:m,47:x,48:y,49:w,50:k},{11:39,13:38,24:E,27:C,29:40,30:41,37:24,38:l,39:u,40:27,41:h,42:f,43:d,44:p,45:v,46:m,47:x,48:y,49:w,50:k},{11:45,15:44,27:L,33:46,37:24,38:l,39:u,40:27,41:h,42:f,43:d,44:p,45:v,46:m,47:x,48:y,49:w,50:k},{11:49,17:48,24:_,37:24,38:l,39:u,40:27,41:h,42:f,43:d,44:p,45:v,46:m,47:x,48:y,49:w,50:k},{11:52,17:51,24:_,37:24,38:l,39:u,40:27,41:h,42:f,43:d,44:p,45:v,46:m,47:x,48:y,49:w,50:k},{20:[1,53]},{22:[1,54]},t(I,[2,18]),{1:[2,2]},t(I,[2,8]),t(I,[2,9]),t(M,[2,37],{40:55,41:h,42:f,43:d,44:p,45:v,46:m,47:x,48:y,49:w,50:k}),t(M,[2,38]),t(M,[2,39]),t(F,[2,40]),t(F,[2,42]),t(F,[2,43]),t(F,[2,44]),t(F,[2,45]),t(F,[2,46]),t(F,[2,47]),t(F,[2,48]),t(F,[2,49]),t(F,[2,50]),t(F,[2,51]),t(I,[2,10]),t(I,[2,22],{30:41,29:56,24:E,27:C}),t(I,[2,24]),t(I,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:l,39:u,40:27,41:h,42:f,43:d,44:p,45:v,46:m,47:x,48:y,49:w,50:k},t(I,[2,11]),t(I,[2,30],{33:60,27:L}),t(I,[2,32]),{31:[1,61]},t(I,[2,12]),{17:62,24:_},{25:63,27:N},t(I,[2,14]),{17:65,24:_},t(I,[2,16]),t(I,[2,17]),t(F,[2,41]),t(I,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},t(I,[2,31]),{27:[1,69]},t(I,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},t(I,[2,15]),t(I,[2,26]),t(I,[2,27]),{11:59,32:72,37:24,38:l,39:u,40:27,41:h,42:f,43:d,44:p,45:v,46:m,47:x,48:y,49:w,50:k},t(I,[2,33]),t(I,[2,19]),{25:73,27:N},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:S(function(P,$){if($.recoverable)this.trace(P);else{var B=new Error(P);throw B.hash=$,B}},"parseError"),parse:S(function(P){var $=this,B=[0],H=[],X=[null],q=[],Y=this.table,U="",J=0,ce=0,re=2,ve=1,ye=q.slice.call(arguments,1),Z=Object.create(this.lexer),ue={yy:{}};for(var ae in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ae)&&(ue.yy[ae]=this.yy[ae]);Z.setInput(P,ue.yy),ue.yy.lexer=Z,ue.yy.parser=this,typeof Z.yylloc>"u"&&(Z.yylloc={});var pe=Z.yylloc;q.push(pe);var Ee=Z.options&&Z.options.ranges;typeof ue.yy.parseError=="function"?this.parseError=ue.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Se(fe){B.length=B.length-2*fe,X.length=X.length-fe,q.length=q.length-fe}S(Se,"popStack");function de(){var fe;return fe=H.pop()||Z.lex()||ve,typeof fe!="number"&&(fe instanceof Array&&(H=fe,fe=H.pop()),fe=$.symbols_[fe]||fe),fe}S(de,"lex");for(var be,oe,we,Re,Pe={},Ge,je,We,me;;){if(oe=B[B.length-1],this.defaultActions[oe]?we=this.defaultActions[oe]:((be===null||typeof be>"u")&&(be=de()),we=Y[oe]&&Y[oe][be]),typeof we>"u"||!we.length||!we[0]){var Te="";me=[];for(Ge in Y[oe])this.terminals_[Ge]&&Ge>re&&me.push("'"+this.terminals_[Ge]+"'");Z.showPosition?Te="Parse error on line "+(J+1)+`:
`+Z.showPosition()+`
Expecting `+me.join(", ")+", got '"+(this.terminals_[be]||be)+"'":Te="Parse error on line "+(J+1)+": Unexpected "+(be==ve?"end of input":"'"+(this.terminals_[be]||be)+"'"),this.parseError(Te,{text:Z.match,token:this.terminals_[be]||be,line:Z.yylineno,loc:pe,expected:me})}if(we[0]instanceof Array&&we.length>1)throw new Error("Parse Error: multiple actions possible at state: "+oe+", token: "+be);switch(we[0]){case 1:B.push(be),X.push(Z.yytext),q.push(Z.yylloc),B.push(we[1]),be=null,ce=Z.yyleng,U=Z.yytext,J=Z.yylineno,pe=Z.yylloc;break;case 2:if(je=this.productions_[we[1]][1],Pe.$=X[X.length-je],Pe._$={first_line:q[q.length-(je||1)].first_line,last_line:q[q.length-1].last_line,first_column:q[q.length-(je||1)].first_column,last_column:q[q.length-1].last_column},Ee&&(Pe._$.range=[q[q.length-(je||1)].range[0],q[q.length-1].range[1]]),Re=this.performAction.apply(Pe,[U,ce,J,ue.yy,we[1],X,q].concat(ye)),typeof Re<"u")return Re;je&&(B=B.slice(0,-1*je*2),X=X.slice(0,-1*je),q=q.slice(0,-1*je)),B.push(this.productions_[we[1]][0]),X.push(Pe.$),q.push(Pe._$),We=Y[B[B.length-2]][B[B.length-1]],B.push(We);break;case 3:return!0}}return!0},"parse")},V=function(){var O={EOF:1,parseError:S(function($,B){if(this.yy.parser)this.yy.parser.parseError($,B);else throw new Error($)},"parseError"),setInput:S(function(P,$){return this.yy=$||this.yy||{},this._input=P,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var P=this._input[0];this.yytext+=P,this.yyleng++,this.offset++,this.match+=P,this.matched+=P;var $=P.match(/(?:\r\n?|\n).*/g);return $?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),P},"input"),unput:S(function(P){var $=P.length,B=P.split(/(?:\r\n?|\n)/g);this._input=P+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-$),this.offset-=$;var H=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),B.length-1&&(this.yylineno-=B.length-1);var X=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:B?(B.length===H.length?this.yylloc.first_column:0)+H[H.length-B.length].length-B[0].length:this.yylloc.first_column-$},this.options.ranges&&(this.yylloc.range=[X[0],X[0]+this.yyleng-$]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(P){this.unput(this.match.slice(P))},"less"),pastInput:S(function(){var P=this.matched.substr(0,this.matched.length-this.match.length);return(P.length>20?"...":"")+P.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var P=this.match;return P.length<20&&(P+=this._input.substr(0,20-P.length)),(P.substr(0,20)+(P.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var P=this.pastInput(),$=new Array(P.length+1).join("-");return P+this.upcomingInput()+`
`+$+"^"},"showPosition"),test_match:S(function(P,$){var B,H,X;if(this.options.backtrack_lexer&&(X={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(X.yylloc.range=this.yylloc.range.slice(0))),H=P[0].match(/(?:\r\n?|\n).*/g),H&&(this.yylineno+=H.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:H?H[H.length-1].length-H[H.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+P[0].length},this.yytext+=P[0],this.match+=P[0],this.matches=P,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(P[0].length),this.matched+=P[0],B=this.performAction.call(this,this.yy,this,$,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),B)return B;if(this._backtrack){for(var q in X)this[q]=X[q];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var P,$,B,H;this._more||(this.yytext="",this.match="");for(var X=this._currentRules(),q=0;q<X.length;q++)if(B=this._input.match(this.rules[X[q]]),B&&(!$||B[0].length>$[0].length)){if($=B,H=q,this.options.backtrack_lexer){if(P=this.test_match(B,X[q]),P!==!1)return P;if(this._backtrack){$=!1;continue}else return!1}else if(!this.options.flex)break}return $?(P=this.test_match($,X[H]),P!==!1?P:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var $=this.next();return $||this.lex()},"lex"),begin:S(function($){this.conditionStack.push($)},"begin"),popState:S(function(){var $=this.conditionStack.length-1;return $>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function($){return $=this.conditionStack.length-1-Math.abs($||0),$>=0?this.conditionStack[$]:"INITIAL"},"topState"),pushState:S(function($){this.begin($)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:S(function($,B,H,X){switch(H){case 0:break;case 1:break;case 2:return this.popState(),34;case 3:return this.popState(),34;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";case 17:return this.pushState("axis_data"),"Y_AXIS";case 18:return this.pushState("axis_band_data"),24;case 19:return 31;case 20:return this.pushState("data"),16;case 21:return this.pushState("data"),18;case 22:return this.pushState("data_inner"),24;case 23:return 27;case 24:return this.popState(),26;case 25:this.popState();break;case 26:this.pushState("string");break;case 27:this.popState();break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 43:break;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}};return O}();z.lexer=V;function D(){this.yy={}}return S(D,"Parser"),D.prototype=z,z.Parser=D,new D}();PL.parser=PL;var hYe=PL;function BL(t){return t.type==="bar"}S(BL,"isBarPlot");function SI(t){return t.type==="band"}S(SI,"isBandAxisData");function zg(t){return t.type==="linear"}S(zg,"isLinearAxisData");var Lx,Ioe=(Lx=class{constructor(e){this.parentGroup=e}getMaxDimension(e,r){if(!this.parentGroup)return{width:e.reduce((a,s)=>Math.max(s.length,a),0)*r,height:r};const n={width:0,height:0},i=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",r);for(const a of e){const s=oee(i,1,a),o=s?s.width:a.length*r,l=s?s.height:r;n.width=Math.max(n.width,o),n.height=Math.max(n.height,l)}return i.remove(),n}},S(Lx,"TextDimensionCalculatorWithFont"),Lx),NG=.7,IG=.2,Dx,Ooe=(Dx=class{constructor(e,r,n,i){this.axisConfig=e,this.title=r,this.textDimensionCalculator=n,this.axisThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}setRange(e){this.range=e,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=e[1]-e[0]:this.boundingRect.width=e[1]-e[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(e){this.axisPosition=e,this.setRange(this.range)}getTickDistance(){const e=this.getRange();return Math.abs(e[0]-e[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(e=>e.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){NG*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(NG*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(e){let r=e.height;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),i=IG*e.width;this.outerPadding=Math.min(n.width/2,i);const a=n.height+this.axisConfig.labelPadding*2;this.labelTextHeight=n.height,a<=r&&(r-=a,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=e.width,this.boundingRect.height=e.height-r}calculateSpaceIfDrawnVertical(e){let r=e.width;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),i=IG*e.height;this.outerPadding=Math.min(n.height/2,i);const a=n.width+this.axisConfig.labelPadding*2;a<=r&&(r-=a,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=e.width-r,this.boundingRect.height=e.height}calculateSpace(e){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(e):this.calculateSpaceIfDrawnHorizontally(e),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}getDrawableElementsForLeftAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${r},${this.boundingRect.y} L ${r},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(r),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){const r=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${r},${this.getScaleValue(n)} L ${r-this.axisConfig.tickLength},${this.getScaleValue(n)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForBottomAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.y+this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r} L ${this.getScaleValue(n)},${r+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForTopAxis(){const e=[];if(this.showAxisLine){const r=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y;e.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(n)},${r+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}},S(Dx,"BaseAxis"),Dx),Rx,fYe=(Rx=class extends Ooe{constructor(e,r,n,i,a){super(e,i,a,r),this.categories=n,this.scale=Z_().domain(this.categories).range(this.getRange())}setRange(e){super.setRange(e)}recalculateScale(){this.scale=Z_().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),he.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(e){return this.scale(e)??this.getRange()[0]}},S(Rx,"BandAxis"),Rx),Mx,dYe=(Mx=class extends Ooe{constructor(e,r,n,i,a){super(e,i,a,r),this.domain=n,this.scale=c1().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){const e=[...this.domain];this.axisPosition==="left"&&e.reverse(),this.scale=c1().domain(e).range(this.getRange())}getScaleValue(e){return this.scale(e)}},S(Mx,"LinearAxis"),Mx);function $L(t,e,r,n){const i=new Ioe(n);return SI(t)?new fYe(e,r,t.categories,t.title,i):new dYe(e,r,[t.min,t.max],t.title,i)}S($L,"getAxis");var Nx,pYe=(Nx=class{constructor(e,r,n,i){this.textDimensionCalculator=e,this.chartConfig=r,this.chartData=n,this.chartThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){const r=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),n=Math.max(r.width,e.width),i=r.height+2*this.chartConfig.titlePadding;return r.width<=n&&r.height<=i&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=n,this.boundingRect.height=i,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){const e=[];return this.showChartTitle&&e.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),e}},S(Nx,"ChartTitle"),Nx);function Foe(t,e,r,n){const i=new Ioe(n);return new pYe(i,t,e,r)}S(Foe,"getChartTitleComponent");var Ix,gYe=(Ix=class{constructor(e,r,n,i,a){this.plotData=e,this.xAxis=r,this.yAxis=n,this.orientation=i,this.plotIndex=a}getDrawableElement(){const e=this.plotData.data.map(n=>[this.xAxis.getScaleValue(n[0]),this.yAxis.getScaleValue(n[1])]);let r;return this.orientation==="horizontal"?r=_f().y(n=>n[0]).x(n=>n[1])(e):r=_f().x(n=>n[0]).y(n=>n[1])(e),r?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:r,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}},S(Ix,"LinePlot"),Ix),Ox,vYe=(Ox=class{constructor(e,r,n,i,a,s){this.barData=e,this.boundingRect=r,this.xAxis=n,this.yAxis=i,this.orientation=a,this.plotIndex=s}getDrawableElement(){const e=this.barData.data.map(a=>[this.xAxis.getScaleValue(a[0]),this.yAxis.getScaleValue(a[1])]),r=.05,n=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-r),i=n/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(a=>({x:this.boundingRect.x,y:a[0]-i,height:n,width:a[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(a=>({x:a[0]-i,y:a[1],width:n,height:this.boundingRect.y+this.boundingRect.height-a[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},S(Ox,"BarPlot"),Ox),Fx,mYe=(Fx=class{constructor(e,r,n){this.chartConfig=e,this.chartData=r,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0}}setAxes(e,r){this.xAxis=e,this.yAxis=r}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){return this.boundingRect.width=e.width,this.boundingRect.height=e.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");const e=[];for(const[r,n]of this.chartData.plots.entries())switch(n.type){case"line":{const i=new gYe(n,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);e.push(...i.getDrawableElement())}break;case"bar":{const i=new vYe(n,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);e.push(...i.getDrawableElement())}break}return e}},S(Fx,"BasePlot"),Fx);function Poe(t,e,r){return new mYe(t,e,r)}S(Poe,"getPlotComponent");var Px,yYe=(Px=class{constructor(e,r,n,i){this.chartConfig=e,this.chartData=r,this.componentStore={title:Foe(e,r,n,i),plot:Poe(e,r,n),xAxis:$L(r.xAxis,e.xAxis,{titleColor:n.xAxisTitleColor,labelColor:n.xAxisLabelColor,tickColor:n.xAxisTickColor,axisLineColor:n.xAxisLineColor},i),yAxis:$L(r.yAxis,e.yAxis,{titleColor:n.yAxisTitleColor,labelColor:n.yAxisLabelColor,tickColor:n.yAxisTickColor,axisLineColor:n.yAxisLineColor},i)}}calculateVerticalSpace(){let e=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,a=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),s=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),o=this.componentStore.plot.calculateSpace({width:a,height:s});e-=o.width,r-=o.height,o=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),i=o.height,r-=o.height,this.componentStore.xAxis.setAxisPosition("bottom"),o=this.componentStore.xAxis.calculateSpace({width:e,height:r}),r-=o.height,this.componentStore.yAxis.setAxisPosition("left"),o=this.componentStore.yAxis.calculateSpace({width:e,height:r}),n=o.width,e-=o.width,e>0&&(a+=e,e=0),r>0&&(s+=r,r=0),this.componentStore.plot.calculateSpace({width:a,height:s}),this.componentStore.plot.setBoundingBoxXY({x:n,y:i}),this.componentStore.xAxis.setRange([n,n+a]),this.componentStore.xAxis.setBoundingBoxXY({x:n,y:i+s}),this.componentStore.yAxis.setRange([i,i+s]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:i}),this.chartData.plots.some(l=>BL(l))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let e=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,a=0,s=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),o=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),l=this.componentStore.plot.calculateSpace({width:s,height:o});e-=l.width,r-=l.height,l=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),n=l.height,r-=l.height,this.componentStore.xAxis.setAxisPosition("left"),l=this.componentStore.xAxis.calculateSpace({width:e,height:r}),e-=l.width,i=l.width,this.componentStore.yAxis.setAxisPosition("top"),l=this.componentStore.yAxis.calculateSpace({width:e,height:r}),r-=l.height,a=n+l.height,e>0&&(s+=e,e=0),r>0&&(o+=r,r=0),this.componentStore.plot.calculateSpace({width:s,height:o}),this.componentStore.plot.setBoundingBoxXY({x:i,y:a}),this.componentStore.yAxis.setRange([i,i+s]),this.componentStore.yAxis.setBoundingBoxXY({x:i,y:n}),this.componentStore.xAxis.setRange([a,a+o]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:a}),this.chartData.plots.some(u=>BL(u))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();const e=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(const r of Object.values(this.componentStore))e.push(...r.getDrawableElements());return e}},S(Px,"Orchestrator"),Px),Bx,xYe=(Bx=class{static build(e,r,n,i){return new yYe(e,r,n,i).getDrawableElement()}},S(Bx,"XYChartBuilder"),Bx),I2=0,Boe,O2=CI(),F2=TI(),xn=AI(),zL=F2.plotColorPalette.split(",").map(t=>t.trim()),GT=!1,EI=!1;function TI(){const t=MR(),e=wi();return mh(t.xyChart,e.themeVariables.xyChart)}S(TI,"getChartDefaultThemeConfig");function CI(){const t=wi();return mh(An.xyChart,t.xyChart)}S(CI,"getChartDefaultConfig");function AI(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}S(AI,"getChartDefaultData");function WT(t){const e=wi();return Mi(t.trim(),e)}S(WT,"textSanitizer");function $oe(t){Boe=t}S($oe,"setTmpSVGG");function zoe(t){t==="horizontal"?O2.chartOrientation="horizontal":O2.chartOrientation="vertical"}S(zoe,"setOrientation");function Hoe(t){xn.xAxis.title=WT(t.text)}S(Hoe,"setXAxisTitle");function _I(t,e){xn.xAxis={type:"linear",title:xn.xAxis.title,min:t,max:e},GT=!0}S(_I,"setXAxisRangeData");function Voe(t){xn.xAxis={type:"band",title:xn.xAxis.title,categories:t.map(e=>WT(e.text))},GT=!0}S(Voe,"setXAxisBand");function Uoe(t){xn.yAxis.title=WT(t.text)}S(Uoe,"setYAxisTitle");function Goe(t,e){xn.yAxis={type:"linear",title:xn.yAxis.title,min:t,max:e},EI=!0}S(Goe,"setYAxisRangeData");function Woe(t){const e=Math.min(...t),r=Math.max(...t),n=zg(xn.yAxis)?xn.yAxis.min:1/0,i=zg(xn.yAxis)?xn.yAxis.max:-1/0;xn.yAxis={type:"linear",title:xn.yAxis.title,min:Math.min(n,e),max:Math.max(i,r)}}S(Woe,"setYAxisRangeFromPlotData");function LI(t){let e=[];if(t.length===0)return e;if(!GT){const r=zg(xn.xAxis)?xn.xAxis.min:1/0,n=zg(xn.xAxis)?xn.xAxis.max:-1/0;_I(Math.min(r,1),Math.max(n,t.length))}if(EI||Woe(t),SI(xn.xAxis)&&(e=xn.xAxis.categories.map((r,n)=>[r,t[n]])),zg(xn.xAxis)){const r=xn.xAxis.min,n=xn.xAxis.max,i=(n-r)/(t.length-1),a=[];for(let s=r;s<=n;s+=i)a.push(`${s}`);e=a.map((s,o)=>[s,t[o]])}return e}S(LI,"transformDataWithoutCategory");function DI(t){return zL[t===0?0:t%zL.length]}S(DI,"getPlotColorFromPalette");function qoe(t,e){const r=LI(e);xn.plots.push({type:"line",strokeFill:DI(I2),strokeWidth:2,data:r}),I2++}S(qoe,"setLineData");function Yoe(t,e){const r=LI(e);xn.plots.push({type:"bar",fill:DI(I2),data:r}),I2++}S(Yoe,"setBarData");function Xoe(){if(xn.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return xn.title=Xa(),xYe.build(O2,xn,F2,Boe)}S(Xoe,"getDrawableElem");function joe(){return F2}S(joe,"getChartThemeConfig");function Koe(){return O2}S(Koe,"getChartConfig");var bYe=S(function(){ka(),I2=0,O2=CI(),xn=AI(),F2=TI(),zL=F2.plotColorPalette.split(",").map(t=>t.trim()),GT=!1,EI=!1},"clear"),wYe={getDrawableElem:Xoe,clear:bYe,setAccTitle:Sa,getAccTitle:Wa,setDiagramTitle:Us,getDiagramTitle:Xa,getAccDescription:Ya,setAccDescription:qa,setOrientation:zoe,setXAxisTitle:Hoe,setXAxisRangeData:_I,setXAxisBand:Voe,setYAxisTitle:Uoe,setYAxisRangeData:Goe,setLineData:qoe,setBarData:Yoe,setTmpSVGG:$oe,getChartThemeConfig:joe,getChartConfig:Koe},kYe=S((t,e,r,n)=>{const i=n.db,a=i.getChartThemeConfig(),s=i.getChartConfig();function o(x){return x==="top"?"text-before-edge":"middle"}S(o,"getDominantBaseLine");function l(x){return x==="left"?"start":x==="right"?"end":"middle"}S(l,"getTextAnchor");function u(x){return`translate(${x.x}, ${x.y}) rotate(${x.rotation||0})`}S(u,"getTextTransformation"),he.debug(`Rendering xychart chart
`+t);const h=ap(e),f=h.append("g").attr("class","main"),d=f.append("rect").attr("width",s.width).attr("height",s.height).attr("class","background");Ga(h,s.height,s.width,!0),h.attr("viewBox",`0 0 ${s.width} ${s.height}`),d.attr("fill",a.backgroundColor),i.setTmpSVGG(h.append("g").attr("class","mermaid-tmp-group"));const p=i.getDrawableElem(),v={};function m(x){let y=f,w="";for(const[k]of x.entries()){let E=f;k>0&&v[w]&&(E=v[w]),w+=x[k],y=v[w],y||(y=v[w]=E.append("g").attr("class",x[k]))}return y}S(m,"getGroup");for(const x of p){if(x.data.length===0)continue;const y=m(x.groupTexts);switch(x.type){case"rect":y.selectAll("rect").data(x.data).enter().append("rect").attr("x",w=>w.x).attr("y",w=>w.y).attr("width",w=>w.width).attr("height",w=>w.height).attr("fill",w=>w.fill).attr("stroke",w=>w.strokeFill).attr("stroke-width",w=>w.strokeWidth);break;case"text":y.selectAll("text").data(x.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",w=>w.fill).attr("font-size",w=>w.fontSize).attr("dominant-baseline",w=>o(w.verticalPos)).attr("text-anchor",w=>l(w.horizontalPos)).attr("transform",w=>u(w)).text(w=>w.text);break;case"path":y.selectAll("path").data(x.data).enter().append("path").attr("d",w=>w.path).attr("fill",w=>w.fill?w.fill:"none").attr("stroke",w=>w.strokeFill).attr("stroke-width",w=>w.strokeWidth);break}}},"draw"),SYe={draw:kYe},EYe={parser:hYe,db:wYe,renderer:SYe};const TYe=Object.freeze(Object.defineProperty({__proto__:null,diagram:EYe},Symbol.toStringTag,{value:"Module"}));var HL=function(){var t=S(function(ce,re,ve,ye){for(ve=ve||{},ye=ce.length;ye--;ve[ce[ye]]=re);return ve},"o"),e=[1,3],r=[1,4],n=[1,5],i=[1,6],a=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],s=[1,18],o=[2,7],l=[1,22],u=[1,23],h=[1,24],f=[1,25],d=[1,26],p=[1,27],v=[1,20],m=[1,28],x=[1,29],y=[62,63],w=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],k=[1,47],E=[1,48],C=[1,49],L=[1,50],_=[1,51],I=[1,52],M=[1,53],F=[53,54],N=[1,64],z=[1,60],V=[1,61],D=[1,62],O=[1,63],P=[1,65],$=[1,69],B=[1,70],H=[1,67],X=[1,68],q=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],Y={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:S(function(re,ve,ye,Z,ue,ae,pe){var Ee=ae.length-1;switch(ue){case 4:this.$=ae[Ee].trim(),Z.setAccTitle(this.$);break;case 5:case 6:this.$=ae[Ee].trim(),Z.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:Z.addRequirement(ae[Ee-3],ae[Ee-4]);break;case 14:Z.setNewReqId(ae[Ee-2]);break;case 15:Z.setNewReqText(ae[Ee-2]);break;case 16:Z.setNewReqRisk(ae[Ee-2]);break;case 17:Z.setNewReqVerifyMethod(ae[Ee-2]);break;case 20:this.$=Z.RequirementType.REQUIREMENT;break;case 21:this.$=Z.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=Z.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=Z.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=Z.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=Z.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=Z.RiskLevel.LOW_RISK;break;case 27:this.$=Z.RiskLevel.MED_RISK;break;case 28:this.$=Z.RiskLevel.HIGH_RISK;break;case 29:this.$=Z.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=Z.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=Z.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=Z.VerifyType.VERIFY_TEST;break;case 33:Z.addElement(ae[Ee-3]);break;case 34:Z.setNewElementType(ae[Ee-2]);break;case 35:Z.setNewElementDocRef(ae[Ee-2]);break;case 38:Z.addRelationship(ae[Ee-2],ae[Ee],ae[Ee-4]);break;case 39:Z.addRelationship(ae[Ee-2],ae[Ee-4],ae[Ee]);break;case 40:this.$=Z.Relationships.CONTAINS;break;case 41:this.$=Z.Relationships.COPIES;break;case 42:this.$=Z.Relationships.DERIVES;break;case 43:this.$=Z.Relationships.SATISFIES;break;case 44:this.$=Z.Relationships.VERIFIES;break;case 45:this.$=Z.Relationships.REFINES;break;case 46:this.$=Z.Relationships.TRACES;break}},"anonymous"),table:[{3:1,4:2,6:e,9:r,11:n,13:i},{1:[3]},{3:8,4:2,5:[1,7],6:e,9:r,11:n,13:i},{5:[1,9]},{10:[1,10]},{12:[1,11]},t(a,[2,6]),{3:12,4:2,6:e,9:r,11:n,13:i},{1:[2,2]},{4:17,5:s,7:13,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:f,35:d,36:p,44:v,62:m,63:x},t(a,[2,4]),t(a,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:s,7:31,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:f,35:d,36:p,44:v,62:m,63:x},{4:17,5:s,7:32,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:f,35:d,36:p,44:v,62:m,63:x},{4:17,5:s,7:33,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:f,35:d,36:p,44:v,62:m,63:x},{4:17,5:s,7:34,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:f,35:d,36:p,44:v,62:m,63:x},{4:17,5:s,7:35,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:l,32:u,33:h,34:f,35:d,36:p,44:v,62:m,63:x},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},t(y,[2,20]),t(y,[2,21]),t(y,[2,22]),t(y,[2,23]),t(y,[2,24]),t(y,[2,25]),t(w,[2,49]),t(w,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:k,56:E,57:C,58:L,59:_,60:I,61:M},{52:54,55:k,56:E,57:C,58:L,59:_,60:I,61:M},{5:[1,55]},{5:[1,56]},{53:[1,57]},t(F,[2,40]),t(F,[2,41]),t(F,[2,42]),t(F,[2,43]),t(F,[2,44]),t(F,[2,45]),t(F,[2,46]),{54:[1,58]},{5:N,20:59,21:z,24:V,26:D,28:O,30:P},{5:$,30:B,46:66,47:H,49:X},{23:71,62:m,63:x},{23:72,62:m,63:x},t(q,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:N,20:77,21:z,24:V,26:D,28:O,30:P},t(q,[2,19]),t(q,[2,33]),{22:[1,78]},{22:[1,79]},{5:$,30:B,46:80,47:H,49:X},t(q,[2,37]),t(q,[2,38]),t(q,[2,39]),{23:81,62:m,63:x},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},t(q,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},t(q,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:N,20:106,21:z,24:V,26:D,28:O,30:P},{5:N,20:107,21:z,24:V,26:D,28:O,30:P},{5:N,20:108,21:z,24:V,26:D,28:O,30:P},{5:N,20:109,21:z,24:V,26:D,28:O,30:P},{5:$,30:B,46:110,47:H,49:X},{5:$,30:B,46:111,47:H,49:X},t(q,[2,14]),t(q,[2,15]),t(q,[2,16]),t(q,[2,17]),t(q,[2,34]),t(q,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:S(function(re,ve){if(ve.recoverable)this.trace(re);else{var ye=new Error(re);throw ye.hash=ve,ye}},"parseError"),parse:S(function(re){var ve=this,ye=[0],Z=[],ue=[null],ae=[],pe=this.table,Ee="",Se=0,de=0,be=2,oe=1,we=ae.slice.call(arguments,1),Re=Object.create(this.lexer),Pe={yy:{}};for(var Ge in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ge)&&(Pe.yy[Ge]=this.yy[Ge]);Re.setInput(re,Pe.yy),Pe.yy.lexer=Re,Pe.yy.parser=this,typeof Re.yylloc>"u"&&(Re.yylloc={});var je=Re.yylloc;ae.push(je);var We=Re.options&&Re.options.ranges;typeof Pe.yy.parseError=="function"?this.parseError=Pe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function me(Me){ye.length=ye.length-2*Me,ue.length=ue.length-Me,ae.length=ae.length-Me}S(me,"popStack");function Te(){var Me;return Me=Z.pop()||Re.lex()||oe,typeof Me!="number"&&(Me instanceof Array&&(Z=Me,Me=Z.pop()),Me=ve.symbols_[Me]||Me),Me}S(Te,"lex");for(var fe,W,j,ie,ee={},le,_e,ke,Le;;){if(W=ye[ye.length-1],this.defaultActions[W]?j=this.defaultActions[W]:((fe===null||typeof fe>"u")&&(fe=Te()),j=pe[W]&&pe[W][fe]),typeof j>"u"||!j.length||!j[0]){var Oe="";Le=[];for(le in pe[W])this.terminals_[le]&&le>be&&Le.push("'"+this.terminals_[le]+"'");Re.showPosition?Oe="Parse error on line "+(Se+1)+`:
`+Re.showPosition()+`
Expecting `+Le.join(", ")+", got '"+(this.terminals_[fe]||fe)+"'":Oe="Parse error on line "+(Se+1)+": Unexpected "+(fe==oe?"end of input":"'"+(this.terminals_[fe]||fe)+"'"),this.parseError(Oe,{text:Re.match,token:this.terminals_[fe]||fe,line:Re.yylineno,loc:je,expected:Le})}if(j[0]instanceof Array&&j.length>1)throw new Error("Parse Error: multiple actions possible at state: "+W+", token: "+fe);switch(j[0]){case 1:ye.push(fe),ue.push(Re.yytext),ae.push(Re.yylloc),ye.push(j[1]),fe=null,de=Re.yyleng,Ee=Re.yytext,Se=Re.yylineno,je=Re.yylloc;break;case 2:if(_e=this.productions_[j[1]][1],ee.$=ue[ue.length-_e],ee._$={first_line:ae[ae.length-(_e||1)].first_line,last_line:ae[ae.length-1].last_line,first_column:ae[ae.length-(_e||1)].first_column,last_column:ae[ae.length-1].last_column},We&&(ee._$.range=[ae[ae.length-(_e||1)].range[0],ae[ae.length-1].range[1]]),ie=this.performAction.apply(ee,[Ee,de,Se,Pe.yy,j[1],ue,ae].concat(we)),typeof ie<"u")return ie;_e&&(ye=ye.slice(0,-1*_e*2),ue=ue.slice(0,-1*_e),ae=ae.slice(0,-1*_e)),ye.push(this.productions_[j[1]][0]),ue.push(ee.$),ae.push(ee._$),ke=pe[ye[ye.length-2]][ye[ye.length-1]],ye.push(ke);break;case 3:return!0}}return!0},"parse")},U=function(){var ce={EOF:1,parseError:S(function(ve,ye){if(this.yy.parser)this.yy.parser.parseError(ve,ye);else throw new Error(ve)},"parseError"),setInput:S(function(re,ve){return this.yy=ve||this.yy||{},this._input=re,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var re=this._input[0];this.yytext+=re,this.yyleng++,this.offset++,this.match+=re,this.matched+=re;var ve=re.match(/(?:\r\n?|\n).*/g);return ve?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),re},"input"),unput:S(function(re){var ve=re.length,ye=re.split(/(?:\r\n?|\n)/g);this._input=re+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ve),this.offset-=ve;var Z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ye.length-1&&(this.yylineno-=ye.length-1);var ue=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ye?(ye.length===Z.length?this.yylloc.first_column:0)+Z[Z.length-ye.length].length-ye[0].length:this.yylloc.first_column-ve},this.options.ranges&&(this.yylloc.range=[ue[0],ue[0]+this.yyleng-ve]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(re){this.unput(this.match.slice(re))},"less"),pastInput:S(function(){var re=this.matched.substr(0,this.matched.length-this.match.length);return(re.length>20?"...":"")+re.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var re=this.match;return re.length<20&&(re+=this._input.substr(0,20-re.length)),(re.substr(0,20)+(re.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var re=this.pastInput(),ve=new Array(re.length+1).join("-");return re+this.upcomingInput()+`
`+ve+"^"},"showPosition"),test_match:S(function(re,ve){var ye,Z,ue;if(this.options.backtrack_lexer&&(ue={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ue.yylloc.range=this.yylloc.range.slice(0))),Z=re[0].match(/(?:\r\n?|\n).*/g),Z&&(this.yylineno+=Z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Z?Z[Z.length-1].length-Z[Z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+re[0].length},this.yytext+=re[0],this.match+=re[0],this.matches=re,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(re[0].length),this.matched+=re[0],ye=this.performAction.call(this,this.yy,this,ve,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ye)return ye;if(this._backtrack){for(var ae in ue)this[ae]=ue[ae];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var re,ve,ye,Z;this._more||(this.yytext="",this.match="");for(var ue=this._currentRules(),ae=0;ae<ue.length;ae++)if(ye=this._input.match(this.rules[ue[ae]]),ye&&(!ve||ye[0].length>ve[0].length)){if(ve=ye,Z=ae,this.options.backtrack_lexer){if(re=this.test_match(ye,ue[ae]),re!==!1)return re;if(this._backtrack){ve=!1;continue}else return!1}else if(!this.options.flex)break}return ve?(re=this.test_match(ve,ue[Z]),re!==!1?re:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var ve=this.next();return ve||this.lex()},"lex"),begin:S(function(ve){this.conditionStack.push(ve)},"begin"),popState:S(function(){var ve=this.conditionStack.length-1;return ve>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function(ve){return ve=this.conditionStack.length-1-Math.abs(ve||0),ve>=0?this.conditionStack[ve]:"INITIAL"},"topState"),pushState:S(function(ve){this.begin(ve)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:S(function(ve,ye,Z,ue){switch(Z){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:break;case 10:break;case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 48:this.popState();break;case 49:return"qString";case 50:return ye.yytext=ye.yytext.trim(),62}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}};return ce}();Y.lexer=U;function J(){this.yy={}}return S(J,"Parser"),J.prototype=Y,Y.Parser=J,new J}();HL.parser=HL;var CYe=HL,RI=[],ao={},Fy=new Map,kf={},Py=new Map,AYe={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},_Ye={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},LYe={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},DYe={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},RYe=S((t,e)=>(Fy.has(t)||Fy.set(t,{name:t,type:e,id:ao.id,text:ao.text,risk:ao.risk,verifyMethod:ao.verifyMethod}),ao={},Fy.get(t)),"addRequirement"),MYe=S(()=>Fy,"getRequirements"),NYe=S(t=>{ao!==void 0&&(ao.id=t)},"setNewReqId"),IYe=S(t=>{ao!==void 0&&(ao.text=t)},"setNewReqText"),OYe=S(t=>{ao!==void 0&&(ao.risk=t)},"setNewReqRisk"),FYe=S(t=>{ao!==void 0&&(ao.verifyMethod=t)},"setNewReqVerifyMethod"),PYe=S(t=>(Py.has(t)||(Py.set(t,{name:t,type:kf.type,docRef:kf.docRef}),he.info("Added new requirement: ",t)),kf={},Py.get(t)),"addElement"),BYe=S(()=>Py,"getElements"),$Ye=S(t=>{kf!==void 0&&(kf.type=t)},"setNewElementType"),zYe=S(t=>{kf!==void 0&&(kf.docRef=t)},"setNewElementDocRef"),HYe=S((t,e,r)=>{RI.push({type:t,src:e,dst:r})},"addRelationship"),VYe=S(()=>RI,"getRelationships"),UYe=S(()=>{RI=[],ao={},Fy=new Map,kf={},Py=new Map,ka()},"clear"),GYe={RequirementType:AYe,RiskLevel:_Ye,VerifyType:LYe,Relationships:DYe,getConfig:S(()=>Ve().req,"getConfig"),addRequirement:RYe,getRequirements:MYe,setNewReqId:NYe,setNewReqText:IYe,setNewReqRisk:OYe,setNewReqVerifyMethod:FYe,setAccTitle:Sa,getAccTitle:Wa,setAccDescription:qa,getAccDescription:Ya,addElement:PYe,getElements:BYe,setNewElementType:$Ye,setNewElementDocRef:zYe,addRelationship:HYe,getRelationships:VYe,clear:UYe},WYe=S(t=>`

  marker {
    fill: ${t.relationColor};
    stroke: ${t.relationColor};
  }

  marker.cross {
    stroke: ${t.lineColor};
  }

  svg {
    font-family: ${t.fontFamily};
    font-size: ${t.fontSize};
  }

  .reqBox {
    fill: ${t.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${t.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${t.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${t.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${t.relationLabelColor};
  }

`,"getStyles"),qYe=WYe,VL={CONTAINS:"contains",ARROW:"arrow"},YYe=S((t,e)=>{let r=t.append("defs").append("marker").attr("id",VL.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");r.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",VL.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${e.line_height},${e.line_height/2}
      M${e.line_height},${e.line_height/2}
      L0,${e.line_height}`).attr("stroke-width",1)},"insertLineEndings"),Qoe={ReqMarkers:VL,insertLineEndings:YYe},vi={},OG=0,Zoe=S((t,e)=>t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",vi.rect_min_width+"px").attr("height",vi.rect_min_height+"px"),"newRectNode"),Joe=S((t,e,r)=>{let n=vi.rect_min_width/2,i=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",n).attr("y",vi.rect_padding).attr("dominant-baseline","hanging"),a=0;r.forEach(u=>{a==0?i.append("tspan").attr("text-anchor","middle").attr("x",vi.rect_min_width/2).attr("dy",0).text(u):i.append("tspan").attr("text-anchor","middle").attr("x",vi.rect_min_width/2).attr("dy",vi.line_height*.75).text(u),a++});let s=1.5*vi.rect_padding,o=a*vi.line_height*.75,l=s+o;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",vi.rect_min_width).attr("y1",l).attr("y2",l),{titleNode:i,y:l}},"newTitleNode"),ele=S((t,e,r,n)=>{let i=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",vi.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),a=0;const s=30;let o=[];return r.forEach(l=>{let u=l.length;for(;u>s&&a<3;){let h=l.substring(0,s);l=l.substring(s,l.length),u=l.length,o[o.length]=h,a++}if(a==3){let h=o[o.length-1];o[o.length-1]=h.substring(0,h.length-4)+"..."}else o[o.length]=l;a=0}),o.forEach(l=>{i.append("tspan").attr("x",vi.rect_padding).attr("dy",vi.line_height).text(l)}),i},"newBodyNode"),XYe=S((t,e,r,n)=>{const i=e.node().getTotalLength(),a=e.node().getPointAtLength(i*.5),s="rel"+OG;OG++;const l=t.append("text").attr("class","req relationshipLabel").attr("id",s).attr("x",a.x).attr("y",a.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();t.insert("rect","#"+s).attr("class","req reqLabelBox").attr("x",a.x-l.width/2).attr("y",a.y-l.height/2).attr("width",l.width).attr("height",l.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),jYe=S(function(t,e,r,n,i){const a=r.edge(N1(e.src),N1(e.dst)),s=_f().x(function(l){return l.x}).y(function(l){return l.y}),o=t.insert("path","#"+n).attr("class","er relationshipLine").attr("d",s(a.points)).attr("fill","none");e.type==i.db.Relationships.CONTAINS?o.attr("marker-start","url("+Et.getUrl(vi.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(o.attr("stroke-dasharray","10,7"),o.attr("marker-end","url("+Et.getUrl(vi.arrowMarkerAbsolute)+"#"+Qoe.ReqMarkers.ARROW+"_line_ending)")),XYe(t,o,vi,`<<${e.type}>>`)},"drawRelationshipFromLayout"),KYe=S((t,e,r)=>{t.forEach((n,i)=>{i=N1(i),he.info("Added new requirement: ",i);const a=r.append("g").attr("id",i),s="req-"+i,o=Zoe(a,s);let l=[],u=Joe(a,i+"_title",[`<<${n.type}>>`,`${n.name}`]);l.push(u.titleNode);let h=ele(a,i+"_body",[`Id: ${n.id}`,`Text: ${n.text}`,`Risk: ${n.risk}`,`Verification: ${n.verifyMethod}`],u.y);l.push(h);const f=o.node().getBBox();e.setNode(i,{width:f.width,height:f.height,shape:"rect",id:i})})},"drawReqs"),QYe=S((t,e,r)=>{t.forEach((n,i)=>{const a=N1(i),s=r.append("g").attr("id",a),o="element-"+a,l=Zoe(s,o);let u=[],h=Joe(s,o+"_title",["<<Element>>",`${i}`]);u.push(h.titleNode);let f=ele(s,o+"_body",[`Type: ${n.type||"Not Specified"}`,`Doc Ref: ${n.docRef||"None"}`],h.y);u.push(f);const d=l.node().getBBox();e.setNode(a,{width:d.width,height:d.height,shape:"rect",id:a})})},"drawElements"),ZYe=S((t,e)=>(t.forEach(function(r){let n=N1(r.src),i=N1(r.dst);e.setEdge(n,i,{relationship:r})}),t),"addRelationships"),JYe=S(function(t,e){e.nodes().forEach(function(r){r!==void 0&&e.node(r)!==void 0&&(t.select("#"+r),t.select("#"+r).attr("transform","translate("+(e.node(r).x-e.node(r).width/2)+","+(e.node(r).y-e.node(r).height/2)+" )"))})},"adjustEntities"),N1=S(t=>t.replace(/\s/g,"").replace(/\./g,"_"),"elementString"),eXe=S((t,e,r,n)=>{vi=Ve().requirement;const i=vi.securityLevel;let a;i==="sandbox"&&(a=yt("#i"+e));const o=yt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);Qoe.insertLineEndings(o,vi);const l=new ca({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:vi.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let u=n.db.getRequirements(),h=n.db.getElements(),f=n.db.getRelationships();KYe(u,l,o),QYe(h,l,o),ZYe(f,l),lv(l),JYe(o,l),f.forEach(function(x){jYe(o,x,l,e,n)});const d=vi.rect_padding,p=o.node().getBBox(),v=p.width+d*2,m=p.height+d*2;Ga(o,m,v,vi.useMaxWidth),o.attr("viewBox",`${p.x-d} ${p.y-d} ${v} ${m}`)},"draw"),tXe={draw:eXe},rXe={parser:CYe,db:GYe,renderer:tXe,styles:qYe};const nXe=Object.freeze(Object.defineProperty({__proto__:null,diagram:rXe},Symbol.toStringTag,{value:"Module"}));var UL=function(){var t=S(function(Z,ue,ae,pe){for(ae=ae||{},pe=Z.length;pe--;ae[Z[pe]]=ue);return ae},"o"),e=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],o=[1,13],l=[1,14],u=[1,16],h=[1,17],f=[1,18],d=[1,24],p=[1,25],v=[1,26],m=[1,27],x=[1,28],y=[1,29],w=[1,30],k=[1,31],E=[1,32],C=[1,33],L=[1,34],_=[1,35],I=[1,36],M=[1,37],F=[1,38],N=[1,39],z=[1,41],V=[1,42],D=[1,43],O=[1,44],P=[1,45],$=[1,46],B=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],H=[4,5,16,50,52,53],X=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],q=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],Y=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],U=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],J=[68,69,70],ce=[1,122],re={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:S(function(ue,ae,pe,Ee,Se,de,be){var oe=de.length-1;switch(Se){case 3:return Ee.apply(de[oe]),de[oe];case 4:case 9:this.$=[];break;case 5:case 10:de[oe-1].push(de[oe]),this.$=de[oe-1];break;case 6:case 7:case 11:case 12:this.$=de[oe];break;case 8:case 13:this.$=[];break;case 15:de[oe].type="createParticipant",this.$=de[oe];break;case 16:de[oe-1].unshift({type:"boxStart",boxData:Ee.parseBoxData(de[oe-2])}),de[oe-1].push({type:"boxEnd",boxText:de[oe-2]}),this.$=de[oe-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(de[oe-2]),sequenceIndexStep:Number(de[oe-1]),sequenceVisible:!0,signalType:Ee.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(de[oe-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:Ee.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:Ee.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:Ee.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:Ee.LINETYPE.ACTIVE_START,actor:de[oe-1].actor};break;case 23:this.$={type:"activeEnd",signalType:Ee.LINETYPE.ACTIVE_END,actor:de[oe-1].actor};break;case 29:Ee.setDiagramTitle(de[oe].substring(6)),this.$=de[oe].substring(6);break;case 30:Ee.setDiagramTitle(de[oe].substring(7)),this.$=de[oe].substring(7);break;case 31:this.$=de[oe].trim(),Ee.setAccTitle(this.$);break;case 32:case 33:this.$=de[oe].trim(),Ee.setAccDescription(this.$);break;case 34:de[oe-1].unshift({type:"loopStart",loopText:Ee.parseMessage(de[oe-2]),signalType:Ee.LINETYPE.LOOP_START}),de[oe-1].push({type:"loopEnd",loopText:de[oe-2],signalType:Ee.LINETYPE.LOOP_END}),this.$=de[oe-1];break;case 35:de[oe-1].unshift({type:"rectStart",color:Ee.parseMessage(de[oe-2]),signalType:Ee.LINETYPE.RECT_START}),de[oe-1].push({type:"rectEnd",color:Ee.parseMessage(de[oe-2]),signalType:Ee.LINETYPE.RECT_END}),this.$=de[oe-1];break;case 36:de[oe-1].unshift({type:"optStart",optText:Ee.parseMessage(de[oe-2]),signalType:Ee.LINETYPE.OPT_START}),de[oe-1].push({type:"optEnd",optText:Ee.parseMessage(de[oe-2]),signalType:Ee.LINETYPE.OPT_END}),this.$=de[oe-1];break;case 37:de[oe-1].unshift({type:"altStart",altText:Ee.parseMessage(de[oe-2]),signalType:Ee.LINETYPE.ALT_START}),de[oe-1].push({type:"altEnd",signalType:Ee.LINETYPE.ALT_END}),this.$=de[oe-1];break;case 38:de[oe-1].unshift({type:"parStart",parText:Ee.parseMessage(de[oe-2]),signalType:Ee.LINETYPE.PAR_START}),de[oe-1].push({type:"parEnd",signalType:Ee.LINETYPE.PAR_END}),this.$=de[oe-1];break;case 39:de[oe-1].unshift({type:"parStart",parText:Ee.parseMessage(de[oe-2]),signalType:Ee.LINETYPE.PAR_OVER_START}),de[oe-1].push({type:"parEnd",signalType:Ee.LINETYPE.PAR_END}),this.$=de[oe-1];break;case 40:de[oe-1].unshift({type:"criticalStart",criticalText:Ee.parseMessage(de[oe-2]),signalType:Ee.LINETYPE.CRITICAL_START}),de[oe-1].push({type:"criticalEnd",signalType:Ee.LINETYPE.CRITICAL_END}),this.$=de[oe-1];break;case 41:de[oe-1].unshift({type:"breakStart",breakText:Ee.parseMessage(de[oe-2]),signalType:Ee.LINETYPE.BREAK_START}),de[oe-1].push({type:"breakEnd",optText:Ee.parseMessage(de[oe-2]),signalType:Ee.LINETYPE.BREAK_END}),this.$=de[oe-1];break;case 43:this.$=de[oe-3].concat([{type:"option",optionText:Ee.parseMessage(de[oe-1]),signalType:Ee.LINETYPE.CRITICAL_OPTION},de[oe]]);break;case 45:this.$=de[oe-3].concat([{type:"and",parText:Ee.parseMessage(de[oe-1]),signalType:Ee.LINETYPE.PAR_AND},de[oe]]);break;case 47:this.$=de[oe-3].concat([{type:"else",altText:Ee.parseMessage(de[oe-1]),signalType:Ee.LINETYPE.ALT_ELSE},de[oe]]);break;case 48:de[oe-3].draw="participant",de[oe-3].type="addParticipant",de[oe-3].description=Ee.parseMessage(de[oe-1]),this.$=de[oe-3];break;case 49:de[oe-1].draw="participant",de[oe-1].type="addParticipant",this.$=de[oe-1];break;case 50:de[oe-3].draw="actor",de[oe-3].type="addParticipant",de[oe-3].description=Ee.parseMessage(de[oe-1]),this.$=de[oe-3];break;case 51:de[oe-1].draw="actor",de[oe-1].type="addParticipant",this.$=de[oe-1];break;case 52:de[oe-1].type="destroyParticipant",this.$=de[oe-1];break;case 53:this.$=[de[oe-1],{type:"addNote",placement:de[oe-2],actor:de[oe-1].actor,text:de[oe]}];break;case 54:de[oe-2]=[].concat(de[oe-1],de[oe-1]).slice(0,2),de[oe-2][0]=de[oe-2][0].actor,de[oe-2][1]=de[oe-2][1].actor,this.$=[de[oe-1],{type:"addNote",placement:Ee.PLACEMENT.OVER,actor:de[oe-2].slice(0,2),text:de[oe]}];break;case 55:this.$=[de[oe-1],{type:"addLinks",actor:de[oe-1].actor,text:de[oe]}];break;case 56:this.$=[de[oe-1],{type:"addALink",actor:de[oe-1].actor,text:de[oe]}];break;case 57:this.$=[de[oe-1],{type:"addProperties",actor:de[oe-1].actor,text:de[oe]}];break;case 58:this.$=[de[oe-1],{type:"addDetails",actor:de[oe-1].actor,text:de[oe]}];break;case 61:this.$=[de[oe-2],de[oe]];break;case 62:this.$=de[oe];break;case 63:this.$=Ee.PLACEMENT.LEFTOF;break;case 64:this.$=Ee.PLACEMENT.RIGHTOF;break;case 65:this.$=[de[oe-4],de[oe-1],{type:"addMessage",from:de[oe-4].actor,to:de[oe-1].actor,signalType:de[oe-3],msg:de[oe],activate:!0},{type:"activeStart",signalType:Ee.LINETYPE.ACTIVE_START,actor:de[oe-1].actor}];break;case 66:this.$=[de[oe-4],de[oe-1],{type:"addMessage",from:de[oe-4].actor,to:de[oe-1].actor,signalType:de[oe-3],msg:de[oe]},{type:"activeEnd",signalType:Ee.LINETYPE.ACTIVE_END,actor:de[oe-4].actor}];break;case 67:this.$=[de[oe-3],de[oe-1],{type:"addMessage",from:de[oe-3].actor,to:de[oe-1].actor,signalType:de[oe-2],msg:de[oe]}];break;case 68:this.$={type:"addParticipant",actor:de[oe]};break;case 69:this.$=Ee.LINETYPE.SOLID_OPEN;break;case 70:this.$=Ee.LINETYPE.DOTTED_OPEN;break;case 71:this.$=Ee.LINETYPE.SOLID;break;case 72:this.$=Ee.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=Ee.LINETYPE.DOTTED;break;case 74:this.$=Ee.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=Ee.LINETYPE.SOLID_CROSS;break;case 76:this.$=Ee.LINETYPE.DOTTED_CROSS;break;case 77:this.$=Ee.LINETYPE.SOLID_POINT;break;case 78:this.$=Ee.LINETYPE.DOTTED_POINT;break;case 79:this.$=Ee.parseMessage(de[oe].trim().substring(1));break}},"anonymous"),table:[{3:1,4:e,5:r,6:n},{1:[3]},{3:5,4:e,5:r,6:n},{3:6,4:e,5:r,6:n},t([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,12:12,13:o,14:l,17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:v,33:m,35:x,36:y,37:w,38:k,39:E,41:C,43:L,44:_,46:I,50:M,52:F,53:N,54:z,59:V,60:D,61:O,62:P,70:$},t(B,[2,5]),{9:47,12:12,13:o,14:l,17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:v,33:m,35:x,36:y,37:w,38:k,39:E,41:C,43:L,44:_,46:I,50:M,52:F,53:N,54:z,59:V,60:D,61:O,62:P,70:$},t(B,[2,7]),t(B,[2,8]),t(B,[2,14]),{12:48,50:M,52:F,53:N},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:$},{22:55,70:$},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},t(B,[2,29]),t(B,[2,30]),{32:[1,61]},{34:[1,62]},t(B,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:$},{22:72,70:$},{22:73,70:$},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:$},{22:90,70:$},{22:91,70:$},{22:92,70:$},t([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),t(B,[2,6]),t(B,[2,15]),t(H,[2,9],{10:93}),t(B,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},t(B,[2,21]),{5:[1,97]},{5:[1,98]},t(B,[2,24]),t(B,[2,25]),t(B,[2,26]),t(B,[2,27]),t(B,[2,28]),t(B,[2,31]),t(B,[2,32]),t(X,i,{7:99}),t(X,i,{7:100}),t(X,i,{7:101}),t(q,i,{40:102,7:103}),t(Y,i,{42:104,7:105}),t(Y,i,{7:105,42:106}),t(U,i,{45:107,7:108}),t(X,i,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:$},t(J,[2,69]),t(J,[2,70]),t(J,[2,71]),t(J,[2,72]),t(J,[2,73]),t(J,[2,74]),t(J,[2,75]),t(J,[2,76]),t(J,[2,77]),t(J,[2,78]),{22:118,70:$},{22:120,58:119,70:$},{70:[2,63]},{70:[2,64]},{56:121,81:ce},{56:123,81:ce},{56:124,81:ce},{56:125,81:ce},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:M,52:F,53:N},{5:[1,131]},t(B,[2,19]),t(B,[2,20]),t(B,[2,22]),t(B,[2,23]),{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,132],17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:v,33:m,35:x,36:y,37:w,38:k,39:E,41:C,43:L,44:_,46:I,50:M,52:F,53:N,54:z,59:V,60:D,61:O,62:P,70:$},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,133],17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:v,33:m,35:x,36:y,37:w,38:k,39:E,41:C,43:L,44:_,46:I,50:M,52:F,53:N,54:z,59:V,60:D,61:O,62:P,70:$},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,134],17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:v,33:m,35:x,36:y,37:w,38:k,39:E,41:C,43:L,44:_,46:I,50:M,52:F,53:N,54:z,59:V,60:D,61:O,62:P,70:$},{16:[1,135]},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[2,46],17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:v,33:m,35:x,36:y,37:w,38:k,39:E,41:C,43:L,44:_,46:I,49:[1,136],50:M,52:F,53:N,54:z,59:V,60:D,61:O,62:P,70:$},{16:[1,137]},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[2,44],17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:v,33:m,35:x,36:y,37:w,38:k,39:E,41:C,43:L,44:_,46:I,48:[1,138],50:M,52:F,53:N,54:z,59:V,60:D,61:O,62:P,70:$},{16:[1,139]},{16:[1,140]},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[2,42],17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:v,33:m,35:x,36:y,37:w,38:k,39:E,41:C,43:L,44:_,46:I,47:[1,141],50:M,52:F,53:N,54:z,59:V,60:D,61:O,62:P,70:$},{4:a,5:s,8:8,9:10,12:12,13:o,14:l,16:[1,142],17:15,18:u,21:h,22:40,23:f,24:19,25:20,26:21,27:22,28:23,29:d,30:p,31:v,33:m,35:x,36:y,37:w,38:k,39:E,41:C,43:L,44:_,46:I,50:M,52:F,53:N,54:z,59:V,60:D,61:O,62:P,70:$},{15:[1,143]},t(B,[2,49]),{15:[1,144]},t(B,[2,51]),t(B,[2,52]),{22:145,70:$},{22:146,70:$},{56:147,81:ce},{56:148,81:ce},{56:149,81:ce},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},t(B,[2,16]),t(H,[2,10]),{12:151,50:M,52:F,53:N},t(H,[2,12]),t(H,[2,13]),t(B,[2,18]),t(B,[2,34]),t(B,[2,35]),t(B,[2,36]),t(B,[2,37]),{15:[1,152]},t(B,[2,38]),{15:[1,153]},t(B,[2,39]),t(B,[2,40]),{15:[1,154]},t(B,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:ce},{56:158,81:ce},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:$},t(H,[2,11]),t(q,i,{7:103,40:160}),t(Y,i,{7:105,42:161}),t(U,i,{7:108,45:162}),t(B,[2,48]),t(B,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:S(function(ue,ae){if(ae.recoverable)this.trace(ue);else{var pe=new Error(ue);throw pe.hash=ae,pe}},"parseError"),parse:S(function(ue){var ae=this,pe=[0],Ee=[],Se=[null],de=[],be=this.table,oe="",we=0,Re=0,Pe=2,Ge=1,je=de.slice.call(arguments,1),We=Object.create(this.lexer),me={yy:{}};for(var Te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Te)&&(me.yy[Te]=this.yy[Te]);We.setInput(ue,me.yy),me.yy.lexer=We,me.yy.parser=this,typeof We.yylloc>"u"&&(We.yylloc={});var fe=We.yylloc;de.push(fe);var W=We.options&&We.options.ranges;typeof me.yy.parseError=="function"?this.parseError=me.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function j(He){pe.length=pe.length-2*He,Se.length=Se.length-He,de.length=de.length-He}S(j,"popStack");function ie(){var He;return He=Ee.pop()||We.lex()||Ge,typeof He!="number"&&(He instanceof Array&&(Ee=He,He=Ee.pop()),He=ae.symbols_[He]||He),He}S(ie,"lex");for(var ee,le,_e,ke,Le={},Oe,Me,Ie,Fe;;){if(le=pe[pe.length-1],this.defaultActions[le]?_e=this.defaultActions[le]:((ee===null||typeof ee>"u")&&(ee=ie()),_e=be[le]&&be[le][ee]),typeof _e>"u"||!_e.length||!_e[0]){var Ne="";Fe=[];for(Oe in be[le])this.terminals_[Oe]&&Oe>Pe&&Fe.push("'"+this.terminals_[Oe]+"'");We.showPosition?Ne="Parse error on line "+(we+1)+`:
`+We.showPosition()+`
Expecting `+Fe.join(", ")+", got '"+(this.terminals_[ee]||ee)+"'":Ne="Parse error on line "+(we+1)+": Unexpected "+(ee==Ge?"end of input":"'"+(this.terminals_[ee]||ee)+"'"),this.parseError(Ne,{text:We.match,token:this.terminals_[ee]||ee,line:We.yylineno,loc:fe,expected:Fe})}if(_e[0]instanceof Array&&_e.length>1)throw new Error("Parse Error: multiple actions possible at state: "+le+", token: "+ee);switch(_e[0]){case 1:pe.push(ee),Se.push(We.yytext),de.push(We.yylloc),pe.push(_e[1]),ee=null,Re=We.yyleng,oe=We.yytext,we=We.yylineno,fe=We.yylloc;break;case 2:if(Me=this.productions_[_e[1]][1],Le.$=Se[Se.length-Me],Le._$={first_line:de[de.length-(Me||1)].first_line,last_line:de[de.length-1].last_line,first_column:de[de.length-(Me||1)].first_column,last_column:de[de.length-1].last_column},W&&(Le._$.range=[de[de.length-(Me||1)].range[0],de[de.length-1].range[1]]),ke=this.performAction.apply(Le,[oe,Re,we,me.yy,_e[1],Se,de].concat(je)),typeof ke<"u")return ke;Me&&(pe=pe.slice(0,-1*Me*2),Se=Se.slice(0,-1*Me),de=de.slice(0,-1*Me)),pe.push(this.productions_[_e[1]][0]),Se.push(Le.$),de.push(Le._$),Ie=be[pe[pe.length-2]][pe[pe.length-1]],pe.push(Ie);break;case 3:return!0}}return!0},"parse")},ve=function(){var Z={EOF:1,parseError:S(function(ae,pe){if(this.yy.parser)this.yy.parser.parseError(ae,pe);else throw new Error(ae)},"parseError"),setInput:S(function(ue,ae){return this.yy=ae||this.yy||{},this._input=ue,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var ue=this._input[0];this.yytext+=ue,this.yyleng++,this.offset++,this.match+=ue,this.matched+=ue;var ae=ue.match(/(?:\r\n?|\n).*/g);return ae?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ue},"input"),unput:S(function(ue){var ae=ue.length,pe=ue.split(/(?:\r\n?|\n)/g);this._input=ue+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ae),this.offset-=ae;var Ee=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),pe.length-1&&(this.yylineno-=pe.length-1);var Se=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:pe?(pe.length===Ee.length?this.yylloc.first_column:0)+Ee[Ee.length-pe.length].length-pe[0].length:this.yylloc.first_column-ae},this.options.ranges&&(this.yylloc.range=[Se[0],Se[0]+this.yyleng-ae]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(ue){this.unput(this.match.slice(ue))},"less"),pastInput:S(function(){var ue=this.matched.substr(0,this.matched.length-this.match.length);return(ue.length>20?"...":"")+ue.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var ue=this.match;return ue.length<20&&(ue+=this._input.substr(0,20-ue.length)),(ue.substr(0,20)+(ue.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var ue=this.pastInput(),ae=new Array(ue.length+1).join("-");return ue+this.upcomingInput()+`
`+ae+"^"},"showPosition"),test_match:S(function(ue,ae){var pe,Ee,Se;if(this.options.backtrack_lexer&&(Se={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Se.yylloc.range=this.yylloc.range.slice(0))),Ee=ue[0].match(/(?:\r\n?|\n).*/g),Ee&&(this.yylineno+=Ee.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ee?Ee[Ee.length-1].length-Ee[Ee.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ue[0].length},this.yytext+=ue[0],this.match+=ue[0],this.matches=ue,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ue[0].length),this.matched+=ue[0],pe=this.performAction.call(this,this.yy,this,ae,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),pe)return pe;if(this._backtrack){for(var de in Se)this[de]=Se[de];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ue,ae,pe,Ee;this._more||(this.yytext="",this.match="");for(var Se=this._currentRules(),de=0;de<Se.length;de++)if(pe=this._input.match(this.rules[Se[de]]),pe&&(!ae||pe[0].length>ae[0].length)){if(ae=pe,Ee=de,this.options.backtrack_lexer){if(ue=this.test_match(pe,Se[de]),ue!==!1)return ue;if(this._backtrack){ae=!1;continue}else return!1}else if(!this.options.flex)break}return ae?(ue=this.test_match(ae,Se[Ee]),ue!==!1?ue:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var ae=this.next();return ae||this.lex()},"lex"),begin:S(function(ae){this.conditionStack.push(ae)},"begin"),popState:S(function(){var ae=this.conditionStack.length-1;return ae>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function(ae){return ae=this.conditionStack.length-1-Math.abs(ae||0),ae>=0?this.conditionStack[ae]:"INITIAL"},"topState"),pushState:S(function(ae){this.begin(ae)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:S(function(ae,pe,Ee,Se){switch(Ee){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;case 8:return this.begin("ID"),50;case 9:return this.begin("ID"),52;case 10:return 13;case 11:return this.begin("ID"),53;case 12:return pe.yytext=pe.yytext.trim(),this.begin("ALIAS"),70;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),36;case 16:return this.begin("LINE"),37;case 17:return this.begin("LINE"),38;case 18:return this.begin("LINE"),39;case 19:return this.begin("LINE"),49;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),43;case 22:return this.begin("LINE"),48;case 23:return this.begin("LINE"),44;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),46;case 26:return this.popState(),15;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;case 37:return this.begin("ID"),23;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;case 41:return this.popState(),"acc_title_value";case 42:return this.begin("acc_descr"),33;case 43:return this.popState(),"acc_descr_value";case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 51:return 5;case 52:return pe.yytext=pe.yytext.trim(),70;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:return 81;case 64:return 68;case 65:return 69;case 66:return 5;case 67:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};return Z}();re.lexer=ve;function ye(){this.yy={}}return S(ye,"Parser"),ye.prototype=re,re.Parser=ye,new ye}();UL.parser=UL;var iXe=UL,sr=new BN(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),aXe=S(function(t){sr.records.boxes.push({name:t.text,wrap:t.wrap??O0(),fill:t.color,actorKeys:[]}),sr.records.currentBox=sr.records.boxes.slice(-1)[0]},"addBox"),GL=S(function(t,e,r,n){let i=sr.records.currentBox;const a=sr.records.actors.get(t);if(a){if(sr.records.currentBox&&a.box&&sr.records.currentBox!==a.box)throw new Error(`A same participant should only be defined in one Box: ${a.name} can't be in '${a.box.name}' and in '${sr.records.currentBox.name}' at the same time.`);if(i=a.box?a.box:sr.records.currentBox,a.box=i,a&&e===a.name&&r==null)return}if((r==null?void 0:r.text)==null&&(r={text:e,type:n}),(n==null||r.text==null)&&(r={text:e,type:n}),sr.records.actors.set(t,{box:i,name:e,description:r.text,wrap:r.wrap??O0(),prevActor:sr.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:n??"participant"}),sr.records.prevActor){const s=sr.records.actors.get(sr.records.prevActor);s&&(s.nextActor=t)}sr.records.currentBox&&sr.records.currentBox.actorKeys.push(t),sr.records.prevActor=t},"addActor"),sXe=S(t=>{let e,r=0;if(!t)return 0;for(e=0;e<sr.records.messages.length;e++)sr.records.messages[e].type===P2.ACTIVE_START&&sr.records.messages[e].from===t&&r++,sr.records.messages[e].type===P2.ACTIVE_END&&sr.records.messages[e].from===t&&r--;return r},"activationCount"),oXe=S(function(t,e,r,n){sr.records.messages.push({from:t,to:e,message:r.text,wrap:r.wrap??O0(),answer:n})},"addMessage"),Ti=S(function(t,e,r,n,i=!1){if(n===P2.ACTIVE_END&&sXe(t??"")<1){const s=new Error("Trying to inactivate an inactive participant ("+t+")");throw s.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},s}return sr.records.messages.push({from:t,to:e,message:(r==null?void 0:r.text)??"",wrap:(r==null?void 0:r.wrap)??O0(),type:n,activate:i}),!0},"addSignal"),lXe=S(function(){return sr.records.boxes.length>0},"hasAtLeastOneBox"),uXe=S(function(){return sr.records.boxes.some(t=>t.name)},"hasAtLeastOneBoxWithTitle"),cXe=S(function(){return sr.records.messages},"getMessages"),hXe=S(function(){return sr.records.boxes},"getBoxes"),fXe=S(function(){return sr.records.actors},"getActors"),dXe=S(function(){return sr.records.createdActors},"getCreatedActors"),pXe=S(function(){return sr.records.destroyedActors},"getDestroyedActors"),Db=S(function(t){return sr.records.actors.get(t)},"getActor"),gXe=S(function(){return[...sr.records.actors.keys()]},"getActorKeys"),vXe=S(function(){sr.records.sequenceNumbersEnabled=!0},"enableSequenceNumbers"),mXe=S(function(){sr.records.sequenceNumbersEnabled=!1},"disableSequenceNumbers"),yXe=S(()=>sr.records.sequenceNumbersEnabled,"showSequenceNumbers"),xXe=S(function(t){sr.records.wrapEnabled=t},"setWrap"),tle=S(t=>{if(t===void 0)return{};t=t.trim();const e=/^:?wrap:/.exec(t)!==null?!0:/^:?nowrap:/.exec(t)!==null?!1:void 0;return{cleanedText:(e===void 0?t:t.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:e}},"extractWrap"),O0=S(()=>{var t;return sr.records.wrapEnabled!==void 0?sr.records.wrapEnabled:((t=Ve().sequence)==null?void 0:t.wrap)??!1},"autoWrap"),bXe=S(function(){sr.reset(),ka()},"clear"),wXe=S(function(t){const e=t.trim(),{wrap:r,cleanedText:n}=tle(e),i={text:n,wrap:r};return he.debug(`parseMessage: ${JSON.stringify(i)}`),i},"parseMessage"),kXe=S(function(t){const e=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(t);let r=e!=null&&e[1]?e[1].trim():"transparent",n=e!=null&&e[2]?e[2].trim():void 0;if(window!=null&&window.CSS)window.CSS.supports("color",r)||(r="transparent",n=t.trim());else{const s=new Option().style;s.color=r,s.color!==r&&(r="transparent",n=t.trim())}const{wrap:i,cleanedText:a}=tle(n);return{text:a?Mi(a,Ve()):void 0,color:r,wrap:i}},"parseBoxData"),P2={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},SXe={FILLED:0,OPEN:1},EXe={LEFTOF:0,RIGHTOF:1,OVER:2},rle=S(function(t,e,r){const n={actor:t,placement:e,message:r.text,wrap:r.wrap??O0()},i=[].concat(t,t);sr.records.notes.push(n),sr.records.messages.push({from:i[0],to:i[1],message:r.text,wrap:r.wrap??O0(),type:P2.NOTE,placement:e})},"addNote"),nle=S(function(t,e){const r=Db(t);try{let n=Mi(e.text,Ve());n=n.replace(/&amp;/g,"&"),n=n.replace(/&equals;/g,"=");const i=JSON.parse(n);qT(r,i)}catch(n){he.error("error while parsing actor link text",n)}},"addLinks"),TXe=S(function(t,e){const r=Db(t);try{const n={};let i=Mi(e.text,Ve());const a=i.indexOf("@");i=i.replace(/&amp;/g,"&"),i=i.replace(/&equals;/g,"=");const s=i.slice(0,a-1).trim(),o=i.slice(a+1).trim();n[s]=o,qT(r,n)}catch(n){he.error("error while parsing actor link text",n)}},"addALink");function qT(t,e){if(t.links==null)t.links=e;else for(const r in e)t.links[r]=e[r]}S(qT,"insertLinks");var ile=S(function(t,e){const r=Db(t);try{const n=Mi(e.text,Ve()),i=JSON.parse(n);MI(r,i)}catch(n){he.error("error while parsing actor properties text",n)}},"addProperties");function MI(t,e){if(t.properties==null)t.properties=e;else for(const r in e)t.properties[r]=e[r]}S(MI,"insertProperties");function ale(){sr.records.currentBox=void 0}S(ale,"boxEnd");var sle=S(function(t,e){const r=Db(t),n=document.getElementById(e.text);try{const i=n.innerHTML,a=JSON.parse(i);a.properties&&MI(r,a.properties),a.links&&qT(r,a.links)}catch(i){he.error("error while parsing actor details text",i)}},"addDetails"),CXe=S(function(t,e){if((t==null?void 0:t.properties)!==void 0)return t.properties[e]},"getActorProperty"),ole=S(function(t){if(Array.isArray(t))t.forEach(function(e){ole(e)});else switch(t.type){case"sequenceIndex":sr.records.messages.push({from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":GL(t.actor,t.actor,t.description,t.draw);break;case"createParticipant":if(sr.records.actors.has(t.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");sr.records.lastCreated=t.actor,GL(t.actor,t.actor,t.description,t.draw),sr.records.createdActors.set(t.actor,sr.records.messages.length);break;case"destroyParticipant":sr.records.lastDestroyed=t.actor,sr.records.destroyedActors.set(t.actor,sr.records.messages.length);break;case"activeStart":Ti(t.actor,void 0,void 0,t.signalType);break;case"activeEnd":Ti(t.actor,void 0,void 0,t.signalType);break;case"addNote":rle(t.actor,t.placement,t.text);break;case"addLinks":nle(t.actor,t.text);break;case"addALink":TXe(t.actor,t.text);break;case"addProperties":ile(t.actor,t.text);break;case"addDetails":sle(t.actor,t.text);break;case"addMessage":if(sr.records.lastCreated){if(t.to!==sr.records.lastCreated)throw new Error("The created participant "+sr.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");sr.records.lastCreated=void 0}else if(sr.records.lastDestroyed){if(t.to!==sr.records.lastDestroyed&&t.from!==sr.records.lastDestroyed)throw new Error("The destroyed participant "+sr.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");sr.records.lastDestroyed=void 0}Ti(t.from,t.to,t.msg,t.signalType,t.activate);break;case"boxStart":aXe(t.boxData);break;case"boxEnd":ale();break;case"loopStart":Ti(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":Ti(void 0,void 0,void 0,t.signalType);break;case"rectStart":Ti(void 0,void 0,t.color,t.signalType);break;case"rectEnd":Ti(void 0,void 0,void 0,t.signalType);break;case"optStart":Ti(void 0,void 0,t.optText,t.signalType);break;case"optEnd":Ti(void 0,void 0,void 0,t.signalType);break;case"altStart":Ti(void 0,void 0,t.altText,t.signalType);break;case"else":Ti(void 0,void 0,t.altText,t.signalType);break;case"altEnd":Ti(void 0,void 0,void 0,t.signalType);break;case"setAccTitle":Sa(t.text);break;case"parStart":Ti(void 0,void 0,t.parText,t.signalType);break;case"and":Ti(void 0,void 0,t.parText,t.signalType);break;case"parEnd":Ti(void 0,void 0,void 0,t.signalType);break;case"criticalStart":Ti(void 0,void 0,t.criticalText,t.signalType);break;case"option":Ti(void 0,void 0,t.optionText,t.signalType);break;case"criticalEnd":Ti(void 0,void 0,void 0,t.signalType);break;case"breakStart":Ti(void 0,void 0,t.breakText,t.signalType);break;case"breakEnd":Ti(void 0,void 0,void 0,t.signalType);break}},"apply"),FG={addActor:GL,addMessage:oXe,addSignal:Ti,addLinks:nle,addDetails:sle,addProperties:ile,autoWrap:O0,setWrap:xXe,enableSequenceNumbers:vXe,disableSequenceNumbers:mXe,showSequenceNumbers:yXe,getMessages:cXe,getActors:fXe,getCreatedActors:dXe,getDestroyedActors:pXe,getActor:Db,getActorKeys:gXe,getActorProperty:CXe,getAccTitle:Wa,getBoxes:hXe,getDiagramTitle:Xa,setDiagramTitle:Us,getConfig:S(()=>Ve().sequence,"getConfig"),clear:bXe,parseMessage:wXe,parseBoxData:kXe,LINETYPE:P2,ARROWTYPE:SXe,PLACEMENT:EXe,addNote:rle,setAccTitle:Sa,apply:ole,setAccDescription:qa,getAccDescription:Ya,hasAtLeastOneBox:lXe,hasAtLeastOneBoxWithTitle:uXe},AXe=S(t=>`.actor {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }

  text.actor > tspan {
    fill: ${t.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${t.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${t.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${t.signalColor};
  }

  #arrowhead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .sequenceNumber {
    fill: ${t.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${t.signalColor};
  }

  #crosshead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .messageText {
    fill: ${t.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${t.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${t.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${t.noteBorderColor};
    fill: ${t.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${t.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation1 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation2 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${t.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles"),_Xe=AXe,t0=18*2,lle="actor-top",ule="actor-bottom",LXe="actor-box",PG="actor-man",NI=S(function(t,e){return ST(t,e)},"drawRect"),DXe=S(function(t,e,r,n,i){if(e.links===void 0||e.links===null||Object.keys(e.links).length===0)return{height:0,width:0};const a=e.links,s=e.actorCnt,o=e.rectData;var l="none";i&&(l="block !important");const u=t.append("g");u.attr("id","actor"+s+"_popup"),u.attr("class","actorPopupMenu"),u.attr("display",l);var h="";o.class!==void 0&&(h=" "+o.class);let f=o.width>r?o.width:r;const d=u.append("rect");if(d.attr("class","actorPopupMenuPanel"+h),d.attr("x",o.x),d.attr("y",o.height),d.attr("fill",o.fill),d.attr("stroke",o.stroke),d.attr("width",f),d.attr("height",o.height),d.attr("rx",o.rx),d.attr("ry",o.ry),a!=null){var p=20;for(let x in a){var v=u.append("a"),m=Zf(a[x]);v.attr("xlink:href",m),v.attr("target","_blank"),YXe(n)(x,v,o.x+10,o.height+p,f,20,{class:"actor"},n),p+=30}}return d.attr("height",p),{height:o.height+p,width:f}},"drawPopup"),RXe=S(function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),pS=S(async function(t,e,r=null){let n=t.append("foreignObject");const i=await jx(e.text,wi()),s=n.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(i).node().getBoundingClientRect();if(n.attr("height",Math.round(s.height)).attr("width",Math.round(s.width)),e.class==="noteText"){const o=t.node().firstChild;o.setAttribute("height",s.height+2*e.textMargin);const l=o.getBBox();n.attr("x",Math.round(l.x+l.width/2-s.width/2)).attr("y",Math.round(l.y+l.height/2-s.height/2))}else if(r){let{startx:o,stopx:l,starty:u}=r;if(o>l){const h=o;o=l,l=h}n.attr("x",Math.round(o+Math.abs(o-l)/2-s.width/2)),e.class==="loopText"?n.attr("y",Math.round(u)):n.attr("y",Math.round(u-s.height))}return[n]},"drawKatex"),I1=S(function(t,e){let r=0,n=0;const i=e.text.split(Et.lineBreakRegex),[a,s]=np(e.fontSize);let o=[],l=0,u=S(()=>e.y,"yfunc");if(e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0)switch(e.valign){case"top":case"start":u=S(()=>Math.round(e.y+e.textMargin),"yfunc");break;case"middle":case"center":u=S(()=>Math.round(e.y+(r+n+e.textMargin)/2),"yfunc");break;case"bottom":case"end":u=S(()=>Math.round(e.y+(r+n+2*e.textMargin)-e.textMargin),"yfunc");break}if(e.anchor!==void 0&&e.textMargin!==void 0&&e.width!==void 0)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle";break}for(let[h,f]of i.entries()){e.textMargin!==void 0&&e.textMargin===0&&a!==void 0&&(l=h*a);const d=t.append("text");d.attr("x",e.x),d.attr("y",u()),e.anchor!==void 0&&d.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),e.fontFamily!==void 0&&d.style("font-family",e.fontFamily),s!==void 0&&d.style("font-size",s),e.fontWeight!==void 0&&d.style("font-weight",e.fontWeight),e.fill!==void 0&&d.attr("fill",e.fill),e.class!==void 0&&d.attr("class",e.class),e.dy!==void 0?d.attr("dy",e.dy):l!==0&&d.attr("dy",l);const p=f||LJ;if(e.tspan){const v=d.append("tspan");v.attr("x",e.x),e.fill!==void 0&&v.attr("fill",e.fill),v.text(p)}else d.text(p);e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0&&(n+=(d._groups||d)[0][0].getBBox().height,r=n),o.push(d)}return o},"drawText"),cle=S(function(t,e){function r(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}S(r,"genPoints");const n=t.append("polygon");return n.attr("points",r(e.x,e.y,e.width,e.height,7)),n.attr("class","labelBox"),e.y=e.y+e.height/2,I1(t,e),n},"drawLabel"),Nu=-1,hle=S((t,e,r,n)=>{t.select&&r.forEach(i=>{const a=e.get(i),s=t.select("#actor"+a.actorCnt);!n.mirrorActors&&a.stopy?s.attr("y2",a.stopy+a.height/2):n.mirrorActors&&s.attr("y2",a.stopy)})},"fixLifeLineHeights"),MXe=S(function(t,e,r,n){var p,v;const i=n?e.stopy:e.starty,a=e.x+e.width/2,s=i+e.height,o=t.append("g").lower();var l=o;n||(Nu++,Object.keys(e.links||{}).length&&!r.forceMenus&&l.attr("onclick",RXe(`actor${Nu}_popup`)).attr("cursor","pointer"),l.append("line").attr("id","actor"+Nu).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),l=o.append("g"),e.actorCnt=Nu,e.links!=null&&l.attr("id","root-"+Nu));const u=cp();var h="actor";(p=e.properties)!=null&&p.class?h=e.properties.class:u.fill="#eaeaea",n?h+=` ${ule}`:h+=` ${lle}`,u.x=e.x,u.y=i,u.width=e.width,u.height=e.height,u.class=h,u.rx=3,u.ry=3,u.name=e.name;const f=NI(l,u);if(e.rectData=u,(v=e.properties)!=null&&v.icon){const m=e.properties.icon.trim();m.charAt(0)==="@"?jOe(l,u.x+u.width-20,u.y+10,m.substr(1)):XOe(l,u.x+u.width-20,u.y+10,m)}II(r,Bs(e.description))(e.description,l,u.x,u.y,u.width,u.height,{class:`actor ${LXe}`},r);let d=e.height;if(f.node){const m=f.node().getBBox();e.height=m.height,d=m.height}return d},"drawActorTypeParticipant"),NXe=S(function(t,e,r,n){const i=n?e.stopy:e.starty,a=e.x+e.width/2,s=i+80,o=t.append("g").lower();n||(Nu++,o.append("line").attr("id","actor"+Nu).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),e.actorCnt=Nu);const l=t.append("g");let u=PG;n?u+=` ${ule}`:u+=` ${lle}`,l.attr("class",u),l.attr("name",e.name);const h=cp();h.x=e.x,h.y=i,h.fill="#eaeaea",h.width=e.width,h.height=e.height,h.class="actor",h.rx=3,h.ry=3,l.append("line").attr("id","actor-man-torso"+Nu).attr("x1",a).attr("y1",i+25).attr("x2",a).attr("y2",i+45),l.append("line").attr("id","actor-man-arms"+Nu).attr("x1",a-t0/2).attr("y1",i+33).attr("x2",a+t0/2).attr("y2",i+33),l.append("line").attr("x1",a-t0/2).attr("y1",i+60).attr("x2",a).attr("y2",i+45),l.append("line").attr("x1",a).attr("y1",i+45).attr("x2",a+t0/2-2).attr("y2",i+60);const f=l.append("circle");f.attr("cx",e.x+e.width/2),f.attr("cy",i+10),f.attr("r",15),f.attr("width",e.width),f.attr("height",e.height);const d=l.node().getBBox();return e.height=d.height,II(r,Bs(e.description))(e.description,l,h.x,h.y+35,h.width,h.height,{class:`actor ${PG}`},r),e.height},"drawActorTypeActor"),IXe=S(async function(t,e,r,n){switch(e.type){case"actor":return await NXe(t,e,r,n);case"participant":return await MXe(t,e,r,n)}},"drawActor"),OXe=S(function(t,e,r){const i=t.append("g");fle(i,e),e.name&&II(r)(e.name,i,e.x,e.y+(e.textMaxHeight||0)/2,e.width,0,{class:"text"},r),i.lower()},"drawBox"),FXe=S(function(t){return t.append("g")},"anchorElement"),PXe=S(function(t,e,r,n,i){const a=cp(),s=e.anchored;a.x=e.startx,a.y=e.starty,a.class="activation"+i%3,a.width=e.stopx-e.startx,a.height=r-e.starty,NI(s,a)},"drawActivation"),BXe=S(async function(t,e,r,n){const{boxMargin:i,boxTextMargin:a,labelBoxHeight:s,labelBoxWidth:o,messageFontFamily:l,messageFontSize:u,messageFontWeight:h}=n,f=t.append("g"),d=S(function(m,x,y,w){return f.append("line").attr("x1",m).attr("y1",x).attr("x2",y).attr("y2",w).attr("class","loopLine")},"drawLoopLine");d(e.startx,e.starty,e.stopx,e.starty),d(e.stopx,e.starty,e.stopx,e.stopy),d(e.startx,e.stopy,e.stopx,e.stopy),d(e.startx,e.starty,e.startx,e.stopy),e.sections!==void 0&&e.sections.forEach(function(m){d(e.startx,m.y,e.stopx,m.y).style("stroke-dasharray","3, 3")});let p=_N();p.text=r,p.x=e.startx,p.y=e.starty,p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.anchor="middle",p.valign="middle",p.tspan=!1,p.width=o||50,p.height=s||20,p.textMargin=a,p.class="labelText",cle(f,p),p=dle(),p.text=e.title,p.x=e.startx+o/2+(e.stopx-e.startx)/2,p.y=e.starty+i+a,p.anchor="middle",p.valign="middle",p.textMargin=a,p.class="loopText",p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.wrap=!0;let v=Bs(p.text)?await pS(f,p,e):I1(f,p);if(e.sectionTitles!==void 0){for(const[m,x]of Object.entries(e.sectionTitles))if(x.message){p.text=x.message,p.x=e.startx+(e.stopx-e.startx)/2,p.y=e.sections[m].y+i+a,p.class="loopText",p.anchor="middle",p.valign="middle",p.tspan=!1,p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.wrap=e.wrap,Bs(p.text)?(e.starty=e.sections[m].y,await pS(f,p,e)):I1(f,p);let y=Math.round(v.map(w=>(w._groups||w)[0][0].getBBox().height).reduce((w,k)=>w+k));e.sections[m].height+=y-(i+a)}}return e.height=Math.round(e.stopy-e.starty),f},"drawLoop"),fle=S(function(t,e){iie(t,e)},"drawBackgroundRect"),$Xe=S(function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),zXe=S(function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),HXe=S(function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),VXe=S(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),UXe=S(function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),GXe=S(function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),WXe=S(function(t){t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),dle=S(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),qXe=S(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),II=function(){function t(a,s,o,l,u,h,f){const d=s.append("text").attr("x",o+u/2).attr("y",l+h/2+5).style("text-anchor","middle").text(a);i(d,f)}S(t,"byText");function e(a,s,o,l,u,h,f,d){const{actorFontSize:p,actorFontFamily:v,actorFontWeight:m}=d,[x,y]=np(p),w=a.split(Et.lineBreakRegex);for(let k=0;k<w.length;k++){const E=k*x-x*(w.length-1)/2,C=s.append("text").attr("x",o+u/2).attr("y",l).style("text-anchor","middle").style("font-size",y).style("font-weight",m).style("font-family",v);C.append("tspan").attr("x",o+u/2).attr("dy",E).text(w[k]),C.attr("y",l+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(C,f)}}S(e,"byTspan");function r(a,s,o,l,u,h,f,d){const p=s.append("switch"),m=p.append("foreignObject").attr("x",o).attr("y",l).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),e(a,p,o,l,u,h,f,d),i(m,f)}S(r,"byFo");async function n(a,s,o,l,u,h,f,d){const p=await Xx(a,wi()),v=s.append("switch"),x=v.append("foreignObject").attr("x",o+u/2-p.width/2).attr("y",l+h/2-p.height/2).attr("width",p.width).attr("height",p.height).append("xhtml:div").style("height","100%").style("width","100%");x.append("div").style("text-align","center").style("vertical-align","middle").html(await jx(a,wi())),e(a,v,o,l,u,h,f,d),i(x,f)}S(n,"byKatex");function i(a,s){for(const o in s)s.hasOwnProperty(o)&&a.attr(o,s[o])}return S(i,"_setTextAttrs"),function(a,s=!1){return s?n:a.textPlacement==="fo"?r:a.textPlacement==="old"?t:e}}(),YXe=function(){function t(i,a,s,o,l,u,h){const f=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").text(i);n(f,h)}S(t,"byText");function e(i,a,s,o,l,u,h,f){const{actorFontSize:d,actorFontFamily:p,actorFontWeight:v}=f,m=i.split(Et.lineBreakRegex);for(let x=0;x<m.length;x++){const y=x*d-d*(m.length-1)/2,w=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").style("font-size",d).style("font-weight",v).style("font-family",p);w.append("tspan").attr("x",s).attr("dy",y).text(m[x]),w.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(w,h)}}S(e,"byTspan");function r(i,a,s,o,l,u,h,f){const d=a.append("switch"),v=d.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");v.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,d,s,o,l,u,h,f),n(v,h)}S(r,"byFo");function n(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return S(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),Ci={drawRect:NI,drawText:I1,drawLabel:cle,drawActor:IXe,drawBox:OXe,drawPopup:DXe,anchorElement:FXe,drawActivation:PXe,drawLoop:BXe,drawBackgroundRect:fle,insertArrowHead:VXe,insertArrowFilledHead:UXe,insertSequenceNumber:GXe,insertArrowCrossHead:WXe,insertDatabaseIcon:$Xe,insertComputerIcon:zXe,insertClockIcon:HXe,getTextObj:dle,getNoteRect:qXe,fixLifeLineHeights:hle,sanitizeUrl:Zf},Je={},bt={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:S(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(t=>t.height||0))+(this.loops.length===0?0:this.loops.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.messages.length===0?0:this.messages.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.notes.length===0?0:this.notes.map(t=>t.height||0).reduce((t,e)=>t+e))},"getHeight"),clear:S(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:S(function(t){this.boxes.push(t)},"addBox"),addActor:S(function(t){this.actors.push(t)},"addActor"),addLoop:S(function(t){this.loops.push(t)},"addLoop"),addMessage:S(function(t){this.messages.push(t)},"addMessage"),addNote:S(function(t){this.notes.push(t)},"addNote"),lastActor:S(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:S(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:S(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:S(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:S(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,vle(Ve())},"init"),updateVal:S(function(t,e,r,n){t[e]===void 0?t[e]=r:t[e]=n(r,t[e])},"updateVal"),updateBounds:S(function(t,e,r,n){const i=this;let a=0;function s(o){return S(function(u){a++;const h=i.sequenceItems.length-a+1;i.updateVal(u,"starty",e-h*Je.boxMargin,Math.min),i.updateVal(u,"stopy",n+h*Je.boxMargin,Math.max),i.updateVal(bt.data,"startx",t-h*Je.boxMargin,Math.min),i.updateVal(bt.data,"stopx",r+h*Je.boxMargin,Math.max),o!=="activation"&&(i.updateVal(u,"startx",t-h*Je.boxMargin,Math.min),i.updateVal(u,"stopx",r+h*Je.boxMargin,Math.max),i.updateVal(bt.data,"starty",e-h*Je.boxMargin,Math.min),i.updateVal(bt.data,"stopy",n+h*Je.boxMargin,Math.max))},"updateItemBounds")}S(s,"updateFn"),this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},"updateBounds"),insert:S(function(t,e,r,n){const i=Et.getMin(t,r),a=Et.getMax(t,r),s=Et.getMin(e,n),o=Et.getMax(e,n);this.updateVal(bt.data,"startx",i,Math.min),this.updateVal(bt.data,"starty",s,Math.min),this.updateVal(bt.data,"stopx",a,Math.max),this.updateVal(bt.data,"stopy",o,Math.max),this.updateBounds(i,s,a,o)},"insert"),newActivation:S(function(t,e,r){const n=r.get(t.from),i=YT(t.from).length||0,a=n.x+n.width/2+(i-1)*Je.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+Je.activationWidth,stopy:void 0,actor:t.from,anchored:Ci.anchorElement(e)})},"newActivation"),endActivation:S(function(t){const e=this.activations.map(function(r){return r.actor}).lastIndexOf(t.from);return this.activations.splice(e,1)[0]},"endActivation"),createLoop:S(function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},"createLoop"),newLoop:S(function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},"newLoop"),endLoop:S(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:S(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:S(function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:bt.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},"addSectionToLoop"),saveVerticalPos:S(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:S(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:S(function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=Et.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:S(function(){return this.verticalPos},"getVerticalPos"),getBounds:S(function(){return{bounds:this.data,models:this.models}},"getBounds")},XXe=S(async function(t,e){bt.bumpVerticalPos(Je.boxMargin),e.height=Je.boxMargin,e.starty=bt.getVerticalPos();const r=cp();r.x=e.startx,r.y=e.starty,r.width=e.width||Je.width,r.class="note";const n=t.append("g"),i=Ci.drawRect(n,r),a=_N();a.x=e.startx,a.y=e.starty,a.width=r.width,a.dy="1em",a.text=e.message,a.class="noteText",a.fontFamily=Je.noteFontFamily,a.fontSize=Je.noteFontSize,a.fontWeight=Je.noteFontWeight,a.anchor=Je.noteAlign,a.textMargin=Je.noteMargin,a.valign="center";const s=Bs(a.text)?await pS(n,a):I1(n,a),o=Math.round(s.map(l=>(l._groups||l)[0][0].getBBox().height).reduce((l,u)=>l+u));i.attr("height",o+2*Je.noteMargin),e.height+=o+2*Je.noteMargin,bt.bumpVerticalPos(o+2*Je.noteMargin),e.stopy=e.starty+o+2*Je.noteMargin,e.stopx=e.startx+r.width,bt.insert(e.startx,e.starty,e.stopx,e.stopy),bt.models.addNote(e)},"drawNote"),F0=S(t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),"messageFont"),tg=S(t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),"noteFont"),WL=S(t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight}),"actorFont");async function ple(t,e){bt.bumpVerticalPos(10);const{startx:r,stopx:n,message:i}=e,a=Et.splitBreaks(i).length,s=Bs(i),o=s?await Xx(i,Ve()):Dr.calculateTextDimensions(i,F0(Je));if(!s){const f=o.height/a;e.height+=f,bt.bumpVerticalPos(f)}let l,u=o.height-10;const h=o.width;if(r===n){l=bt.getVerticalPos()+u,Je.rightAngles||(u+=Je.boxMargin,l=bt.getVerticalPos()+u),u+=30;const f=Et.getMax(h/2,Je.width/2);bt.insert(r-f,bt.getVerticalPos()-10+u,n+f,bt.getVerticalPos()+30+u)}else u+=Je.boxMargin,l=bt.getVerticalPos()+u,bt.insert(r,l-10,n,l);return bt.bumpVerticalPos(u),e.height+=u,e.stopy=e.starty+e.height,bt.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),l}S(ple,"boundMessage");var jXe=S(async function(t,e,r,n){const{startx:i,stopx:a,starty:s,message:o,type:l,sequenceIndex:u,sequenceVisible:h}=e,f=Dr.calculateTextDimensions(o,F0(Je)),d=_N();d.x=i,d.y=s+10,d.width=a-i,d.class="messageText",d.dy="1em",d.text=o,d.fontFamily=Je.messageFontFamily,d.fontSize=Je.messageFontSize,d.fontWeight=Je.messageFontWeight,d.anchor=Je.messageAlign,d.valign="center",d.textMargin=Je.wrapPadding,d.tspan=!1,Bs(d.text)?await pS(t,d,{startx:i,stopx:a,starty:r}):I1(t,d);const p=f.width;let v;i===a?Je.rightAngles?v=t.append("path").attr("d",`M  ${i},${r} H ${i+Et.getMax(Je.width/2,p/2)} V ${r+25} H ${i}`):v=t.append("path").attr("d","M "+i+","+r+" C "+(i+60)+","+(r-10)+" "+(i+60)+","+(r+30)+" "+i+","+(r+20)):(v=t.append("line"),v.attr("x1",i),v.attr("y1",r),v.attr("x2",a),v.attr("y2",r)),l===n.db.LINETYPE.DOTTED||l===n.db.LINETYPE.DOTTED_CROSS||l===n.db.LINETYPE.DOTTED_POINT||l===n.db.LINETYPE.DOTTED_OPEN||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED?(v.style("stroke-dasharray","3, 3"),v.attr("class","messageLine1")):v.attr("class","messageLine0");let m="";Je.arrowMarkerAbsolute&&(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,m=m.replace(/\(/g,"\\("),m=m.replace(/\)/g,"\\)")),v.attr("stroke-width",2),v.attr("stroke","none"),v.style("fill","none"),(l===n.db.LINETYPE.SOLID||l===n.db.LINETYPE.DOTTED)&&v.attr("marker-end","url("+m+"#arrowhead)"),(l===n.db.LINETYPE.BIDIRECTIONAL_SOLID||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(v.attr("marker-start","url("+m+"#arrowhead)"),v.attr("marker-end","url("+m+"#arrowhead)")),(l===n.db.LINETYPE.SOLID_POINT||l===n.db.LINETYPE.DOTTED_POINT)&&v.attr("marker-end","url("+m+"#filled-head)"),(l===n.db.LINETYPE.SOLID_CROSS||l===n.db.LINETYPE.DOTTED_CROSS)&&v.attr("marker-end","url("+m+"#crosshead)"),(h||Je.showSequenceNumbers)&&(v.attr("marker-start","url("+m+"#sequencenumber)"),t.append("text").attr("x",i).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(u))},"drawMessage"),KXe=S(function(t,e,r,n,i,a,s){let o=0,l=0,u,h=0;for(const f of n){const d=e.get(f),p=d.box;u&&u!=p&&(s||bt.models.addBox(u),l+=Je.boxMargin+u.margin),p&&p!=u&&(s||(p.x=o+l,p.y=i),l+=p.margin),d.width=d.width||Je.width,d.height=Et.getMax(d.height||Je.height,Je.height),d.margin=d.margin||Je.actorMargin,h=Et.getMax(h,d.height),r.get(d.name)&&(l+=d.width/2),d.x=o+l,d.starty=bt.getVerticalPos(),bt.insert(d.x,i,d.x+d.width,d.height),o+=d.width+l,d.box&&(d.box.width=o+p.margin-d.box.x),l=d.margin,u=d.box,bt.models.addActor(d)}u&&!s&&bt.models.addBox(u),bt.bumpVerticalPos(h)},"addActorRenderingData"),qL=S(async function(t,e,r,n){if(n){let i=0;bt.bumpVerticalPos(Je.boxMargin*2);for(const a of r){const s=e.get(a);s.stopy||(s.stopy=bt.getVerticalPos());const o=await Ci.drawActor(t,s,Je,!0);i=Et.getMax(i,o)}bt.bumpVerticalPos(i+Je.boxMargin)}else for(const i of r){const a=e.get(i);await Ci.drawActor(t,a,Je,!1)}},"drawActors"),gle=S(function(t,e,r,n){let i=0,a=0;for(const s of r){const o=e.get(s),l=ZXe(o),u=Ci.drawPopup(t,o,l,Je,Je.forceMenus,n);u.height>i&&(i=u.height),u.width+o.x>a&&(a=u.width+o.x)}return{maxHeight:i,maxWidth:a}},"drawActorsPopup"),vle=S(function(t){Ji(Je,t),t.fontFamily&&(Je.actorFontFamily=Je.noteFontFamily=Je.messageFontFamily=t.fontFamily),t.fontSize&&(Je.actorFontSize=Je.noteFontSize=Je.messageFontSize=t.fontSize),t.fontWeight&&(Je.actorFontWeight=Je.noteFontWeight=Je.messageFontWeight=t.fontWeight)},"setConf"),YT=S(function(t){return bt.activations.filter(function(e){return e.actor===t})},"actorActivations"),BG=S(function(t,e){const r=e.get(t),n=YT(t),i=n.reduce(function(s,o){return Et.getMin(s,o.startx)},r.x+r.width/2-1),a=n.reduce(function(s,o){return Et.getMax(s,o.stopx)},r.x+r.width/2+1);return[i,a]},"activationBounds");function Pl(t,e,r,n,i){bt.bumpVerticalPos(r);let a=n;if(e.id&&e.message&&t[e.id]){const s=t[e.id].width,o=F0(Je);e.message=Dr.wrapLabel(`[${e.message}]`,s-2*Je.wrapPadding,o),e.width=s,e.wrap=!0;const l=Dr.calculateTextDimensions(e.message,o),u=Et.getMax(l.height,Je.labelBoxHeight);a=n+u,he.debug(`${u} - ${e.message}`)}i(e),bt.bumpVerticalPos(a)}S(Pl,"adjustLoopHeightForWrap");function mle(t,e,r,n,i,a,s){function o(u,h){u.x<i.get(t.from).x?(bt.insert(e.stopx-h,e.starty,e.startx,e.stopy+u.height/2+Je.noteMargin),e.stopx=e.stopx+h):(bt.insert(e.startx,e.starty,e.stopx+h,e.stopy+u.height/2+Je.noteMargin),e.stopx=e.stopx-h)}S(o,"receiverAdjustment");function l(u,h){u.x<i.get(t.to).x?(bt.insert(e.startx-h,e.starty,e.stopx,e.stopy+u.height/2+Je.noteMargin),e.startx=e.startx+h):(bt.insert(e.stopx,e.starty,e.startx+h,e.stopy+u.height/2+Je.noteMargin),e.startx=e.startx-h)}if(S(l,"senderAdjustment"),a.get(t.to)==n){const u=i.get(t.to),h=u.type=="actor"?t0/2+3:u.width/2+3;o(u,h),u.starty=r-u.height/2,bt.bumpVerticalPos(u.height/2)}else if(s.get(t.from)==n){const u=i.get(t.from);if(Je.mirrorActors){const h=u.type=="actor"?t0/2:u.width/2;l(u,h)}u.stopy=r-u.height/2,bt.bumpVerticalPos(u.height/2)}else if(s.get(t.to)==n){const u=i.get(t.to);if(Je.mirrorActors){const h=u.type=="actor"?t0/2+3:u.width/2+3;o(u,h)}u.stopy=r-u.height/2,bt.bumpVerticalPos(u.height/2)}}S(mle,"adjustCreatedDestroyedData");var QXe=S(async function(t,e,r,n){const{securityLevel:i,sequence:a}=Ve();Je=a;let s;i==="sandbox"&&(s=yt("#i"+e));const o=yt(i==="sandbox"?s.nodes()[0].contentDocument.body:"body"),l=i==="sandbox"?s.nodes()[0].contentDocument:document;bt.init(),he.debug(n.db);const u=i==="sandbox"?o.select(`[id="${e}"]`):yt(`[id="${e}"]`),h=n.db.getActors(),f=n.db.getCreatedActors(),d=n.db.getDestroyedActors(),p=n.db.getBoxes();let v=n.db.getActorKeys();const m=n.db.getMessages(),x=n.db.getDiagramTitle(),y=n.db.hasAtLeastOneBox(),w=n.db.hasAtLeastOneBoxWithTitle(),k=await yle(h,m,n);if(Je.height=await xle(h,k,p),Ci.insertComputerIcon(u),Ci.insertDatabaseIcon(u),Ci.insertClockIcon(u),y&&(bt.bumpVerticalPos(Je.boxMargin),w&&bt.bumpVerticalPos(p[0].textMaxHeight)),Je.hideUnusedParticipants===!0){const B=new Set;m.forEach(H=>{B.add(H.from),B.add(H.to)}),v=v.filter(H=>B.has(H))}KXe(u,h,f,v,0,m,!1);const E=await tje(m,h,k,n);Ci.insertArrowHead(u),Ci.insertArrowCrossHead(u),Ci.insertArrowFilledHead(u),Ci.insertSequenceNumber(u);function C(B,H){const X=bt.endActivation(B);X.starty+18>H&&(X.starty=H-6,H+=12),Ci.drawActivation(u,X,H,Je,YT(B.from).length),bt.insert(X.startx,H-10,X.stopx,H)}S(C,"activeEnd");let L=1,_=1;const I=[],M=[];let F=0;for(const B of m){let H,X,q;switch(B.type){case n.db.LINETYPE.NOTE:bt.resetVerticalPos(),X=B.noteModel,await XXe(u,X);break;case n.db.LINETYPE.ACTIVE_START:bt.newActivation(B,u,h);break;case n.db.LINETYPE.ACTIVE_END:C(B,bt.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:Pl(E,B,Je.boxMargin,Je.boxMargin+Je.boxTextMargin,Y=>bt.newLoop(Y));break;case n.db.LINETYPE.LOOP_END:H=bt.endLoop(),await Ci.drawLoop(u,H,"loop",Je),bt.bumpVerticalPos(H.stopy-bt.getVerticalPos()),bt.models.addLoop(H);break;case n.db.LINETYPE.RECT_START:Pl(E,B,Je.boxMargin,Je.boxMargin,Y=>bt.newLoop(void 0,Y.message));break;case n.db.LINETYPE.RECT_END:H=bt.endLoop(),M.push(H),bt.models.addLoop(H),bt.bumpVerticalPos(H.stopy-bt.getVerticalPos());break;case n.db.LINETYPE.OPT_START:Pl(E,B,Je.boxMargin,Je.boxMargin+Je.boxTextMargin,Y=>bt.newLoop(Y));break;case n.db.LINETYPE.OPT_END:H=bt.endLoop(),await Ci.drawLoop(u,H,"opt",Je),bt.bumpVerticalPos(H.stopy-bt.getVerticalPos()),bt.models.addLoop(H);break;case n.db.LINETYPE.ALT_START:Pl(E,B,Je.boxMargin,Je.boxMargin+Je.boxTextMargin,Y=>bt.newLoop(Y));break;case n.db.LINETYPE.ALT_ELSE:Pl(E,B,Je.boxMargin+Je.boxTextMargin,Je.boxMargin,Y=>bt.addSectionToLoop(Y));break;case n.db.LINETYPE.ALT_END:H=bt.endLoop(),await Ci.drawLoop(u,H,"alt",Je),bt.bumpVerticalPos(H.stopy-bt.getVerticalPos()),bt.models.addLoop(H);break;case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:Pl(E,B,Je.boxMargin,Je.boxMargin+Je.boxTextMargin,Y=>bt.newLoop(Y)),bt.saveVerticalPos();break;case n.db.LINETYPE.PAR_AND:Pl(E,B,Je.boxMargin+Je.boxTextMargin,Je.boxMargin,Y=>bt.addSectionToLoop(Y));break;case n.db.LINETYPE.PAR_END:H=bt.endLoop(),await Ci.drawLoop(u,H,"par",Je),bt.bumpVerticalPos(H.stopy-bt.getVerticalPos()),bt.models.addLoop(H);break;case n.db.LINETYPE.AUTONUMBER:L=B.message.start||L,_=B.message.step||_,B.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:Pl(E,B,Je.boxMargin,Je.boxMargin+Je.boxTextMargin,Y=>bt.newLoop(Y));break;case n.db.LINETYPE.CRITICAL_OPTION:Pl(E,B,Je.boxMargin+Je.boxTextMargin,Je.boxMargin,Y=>bt.addSectionToLoop(Y));break;case n.db.LINETYPE.CRITICAL_END:H=bt.endLoop(),await Ci.drawLoop(u,H,"critical",Je),bt.bumpVerticalPos(H.stopy-bt.getVerticalPos()),bt.models.addLoop(H);break;case n.db.LINETYPE.BREAK_START:Pl(E,B,Je.boxMargin,Je.boxMargin+Je.boxTextMargin,Y=>bt.newLoop(Y));break;case n.db.LINETYPE.BREAK_END:H=bt.endLoop(),await Ci.drawLoop(u,H,"break",Je),bt.bumpVerticalPos(H.stopy-bt.getVerticalPos()),bt.models.addLoop(H);break;default:try{q=B.msgModel,q.starty=bt.getVerticalPos(),q.sequenceIndex=L,q.sequenceVisible=n.db.showSequenceNumbers();const Y=await ple(u,q);mle(B,q,Y,F,h,f,d),I.push({messageModel:q,lineStartY:Y}),bt.models.addMessage(q)}catch(Y){he.error("error while drawing message",Y)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT,n.db.LINETYPE.BIDIRECTIONAL_SOLID,n.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(B.type)&&(L=L+_),F++}he.debug("createdActors",f),he.debug("destroyedActors",d),await qL(u,h,v,!1);for(const B of I)await jXe(u,B.messageModel,B.lineStartY,n);Je.mirrorActors&&await qL(u,h,v,!0),M.forEach(B=>Ci.drawBackgroundRect(u,B)),hle(u,h,v,Je);for(const B of bt.models.boxes)B.height=bt.getVerticalPos()-B.y,bt.insert(B.x,B.y,B.x+B.width,B.height),B.startx=B.x,B.starty=B.y,B.stopx=B.startx+B.width,B.stopy=B.starty+B.height,B.stroke="rgb(0,0,0, 0.5)",Ci.drawBox(u,B,Je);y&&bt.bumpVerticalPos(Je.boxMargin);const N=gle(u,h,v,l),{bounds:z}=bt.getBounds();z.startx===void 0&&(z.startx=0),z.starty===void 0&&(z.starty=0),z.stopx===void 0&&(z.stopx=0),z.stopy===void 0&&(z.stopy=0);let V=z.stopy-z.starty;V<N.maxHeight&&(V=N.maxHeight);let D=V+2*Je.diagramMarginY;Je.mirrorActors&&(D=D-Je.boxMargin+Je.bottomMarginAdj);let O=z.stopx-z.startx;O<N.maxWidth&&(O=N.maxWidth);const P=O+2*Je.diagramMarginX;x&&u.append("text").text(x).attr("x",(z.stopx-z.startx)/2-2*Je.diagramMarginX).attr("y",-25),Ga(u,D,P,Je.useMaxWidth);const $=x?40:0;u.attr("viewBox",z.startx-Je.diagramMarginX+" -"+(Je.diagramMarginY+$)+" "+P+" "+(D+$)),he.debug("models:",bt.models)},"draw");async function yle(t,e,r){const n={};for(const i of e)if(t.get(i.to)&&t.get(i.from)){const a=t.get(i.to);if(i.placement===r.db.PLACEMENT.LEFTOF&&!a.prevActor||i.placement===r.db.PLACEMENT.RIGHTOF&&!a.nextActor)continue;const s=i.placement!==void 0,o=!s,l=s?tg(Je):F0(Je),u=i.wrap?Dr.wrapLabel(i.message,Je.width-2*Je.wrapPadding,l):i.message,f=(Bs(u)?await Xx(i.message,Ve()):Dr.calculateTextDimensions(u,l)).width+2*Je.wrapPadding;o&&i.from===a.nextActor?n[i.to]=Et.getMax(n[i.to]||0,f):o&&i.from===a.prevActor?n[i.from]=Et.getMax(n[i.from]||0,f):o&&i.from===i.to?(n[i.from]=Et.getMax(n[i.from]||0,f/2),n[i.to]=Et.getMax(n[i.to]||0,f/2)):i.placement===r.db.PLACEMENT.RIGHTOF?n[i.from]=Et.getMax(n[i.from]||0,f):i.placement===r.db.PLACEMENT.LEFTOF?n[a.prevActor]=Et.getMax(n[a.prevActor]||0,f):i.placement===r.db.PLACEMENT.OVER&&(a.prevActor&&(n[a.prevActor]=Et.getMax(n[a.prevActor]||0,f/2)),a.nextActor&&(n[i.from]=Et.getMax(n[i.from]||0,f/2)))}return he.debug("maxMessageWidthPerActor:",n),n}S(yle,"getMaxMessageWidthPerActor");var ZXe=S(function(t){let e=0;const r=WL(Je);for(const n in t.links){const a=Dr.calculateTextDimensions(n,r).width+2*Je.wrapPadding+2*Je.boxMargin;e<a&&(e=a)}return e},"getRequiredPopupWidth");async function xle(t,e,r){let n=0;for(const a of t.keys()){const s=t.get(a);s.wrap&&(s.description=Dr.wrapLabel(s.description,Je.width-2*Je.wrapPadding,WL(Je)));const o=Bs(s.description)?await Xx(s.description,Ve()):Dr.calculateTextDimensions(s.description,WL(Je));s.width=s.wrap?Je.width:Et.getMax(Je.width,o.width+2*Je.wrapPadding),s.height=s.wrap?Et.getMax(o.height,Je.height):Je.height,n=Et.getMax(n,s.height)}for(const a in e){const s=t.get(a);if(!s)continue;const o=t.get(s.nextActor);if(!o){const f=e[a]+Je.actorMargin-s.width/2;s.margin=Et.getMax(f,Je.actorMargin);continue}const u=e[a]+Je.actorMargin-s.width/2-o.width/2;s.margin=Et.getMax(u,Je.actorMargin)}let i=0;return r.forEach(a=>{const s=F0(Je);let o=a.actorKeys.reduce((h,f)=>h+=t.get(f).width+(t.get(f).margin||0),0);o-=2*Je.boxTextMargin,a.wrap&&(a.name=Dr.wrapLabel(a.name,o-2*Je.wrapPadding,s));const l=Dr.calculateTextDimensions(a.name,s);i=Et.getMax(l.height,i);const u=Et.getMax(o,l.width+2*Je.wrapPadding);if(a.margin=Je.boxTextMargin,o<u){const h=(u-o)/2;a.margin+=h}}),r.forEach(a=>a.textMaxHeight=i),Et.getMax(n,Je.height)}S(xle,"calculateActorMargins");var JXe=S(async function(t,e,r){const n=e.get(t.from),i=e.get(t.to),a=n.x,s=i.x,o=t.wrap&&t.message;let l=Bs(t.message)?await Xx(t.message,Ve()):Dr.calculateTextDimensions(o?Dr.wrapLabel(t.message,Je.width,tg(Je)):t.message,tg(Je));const u={width:o?Je.width:Et.getMax(Je.width,l.width+2*Je.noteMargin),height:0,startx:n.x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===r.db.PLACEMENT.RIGHTOF?(u.width=o?Et.getMax(Je.width,l.width):Et.getMax(n.width/2+i.width/2,l.width+2*Je.noteMargin),u.startx=a+(n.width+Je.actorMargin)/2):t.placement===r.db.PLACEMENT.LEFTOF?(u.width=o?Et.getMax(Je.width,l.width+2*Je.noteMargin):Et.getMax(n.width/2+i.width/2,l.width+2*Je.noteMargin),u.startx=a-u.width+(n.width-Je.actorMargin)/2):t.to===t.from?(l=Dr.calculateTextDimensions(o?Dr.wrapLabel(t.message,Et.getMax(Je.width,n.width),tg(Je)):t.message,tg(Je)),u.width=o?Et.getMax(Je.width,n.width):Et.getMax(n.width,Je.width,l.width+2*Je.noteMargin),u.startx=a+(n.width-u.width)/2):(u.width=Math.abs(a+n.width/2-(s+i.width/2))+Je.actorMargin,u.startx=a<s?a+n.width/2-Je.actorMargin/2:s+i.width/2-Je.actorMargin/2),o&&(u.message=Dr.wrapLabel(t.message,u.width-2*Je.wrapPadding,tg(Je))),he.debug(`NM:[${u.startx},${u.stopx},${u.starty},${u.stopy}:${u.width},${u.height}=${t.message}]`),u},"buildNoteModel"),eje=S(function(t,e,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type))return{};const[n,i]=BG(t.from,e),[a,s]=BG(t.to,e),o=n<=a;let l=o?i:n,u=o?a:s;const h=Math.abs(a-s)>2,f=S(m=>o?-m:m,"adjustValue");t.from===t.to?u=l:(t.activate&&!h&&(u+=f(Je.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(t.type)||(u+=f(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type)&&(l-=f(3)));const d=[n,i,a,s],p=Math.abs(l-u);t.wrap&&t.message&&(t.message=Dr.wrapLabel(t.message,Et.getMax(p+2*Je.wrapPadding,Je.width),F0(Je)));const v=Dr.calculateTextDimensions(t.message,F0(Je));return{width:Et.getMax(t.wrap?0:v.width+2*Je.wrapPadding,p+2*Je.wrapPadding,Je.width),height:0,startx:l,stopx:u,starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,d),toBounds:Math.max.apply(null,d)}},"buildMessageModel"),tje=S(async function(t,e,r,n){const i={},a=[];let s,o,l;for(const u of t){switch(u.id=Dr.random({length:10}),u.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:a.push({id:u.id,msg:u.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:u.message&&(s=a.pop(),i[s.id]=s,i[u.id]=s,a.push(s));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:s=a.pop(),i[s.id]=s;break;case n.db.LINETYPE.ACTIVE_START:{const f=e.get(u.from?u.from:u.to.actor),d=YT(u.from?u.from:u.to.actor).length,p=f.x+f.width/2+(d-1)*Je.activationWidth/2,v={startx:p,stopx:p+Je.activationWidth,actor:u.from,enabled:!0};bt.activations.push(v)}break;case n.db.LINETYPE.ACTIVE_END:{const f=bt.activations.map(d=>d.actor).lastIndexOf(u.from);bt.activations.splice(f,1).splice(0,1)}break}u.placement!==void 0?(o=await JXe(u,e,n),u.noteModel=o,a.forEach(f=>{s=f,s.from=Et.getMin(s.from,o.startx),s.to=Et.getMax(s.to,o.startx+o.width),s.width=Et.getMax(s.width,Math.abs(s.from-s.to))-Je.labelBoxWidth})):(l=eje(u,e,n),u.msgModel=l,l.startx&&l.stopx&&a.length>0&&a.forEach(f=>{if(s=f,l.startx===l.stopx){const d=e.get(u.from),p=e.get(u.to);s.from=Et.getMin(d.x-l.width/2,d.x-d.width/2,s.from),s.to=Et.getMax(p.x+l.width/2,p.x+d.width/2,s.to),s.width=Et.getMax(s.width,Math.abs(s.to-s.from))-Je.labelBoxWidth}else s.from=Et.getMin(l.startx,s.from),s.to=Et.getMax(l.stopx,s.to),s.width=Et.getMax(s.width,l.width)-Je.labelBoxWidth}))}return bt.activations=[],he.debug("Loop type widths:",i),i},"calculateLoopBounds"),rje={bounds:bt,drawActors:qL,drawActorsPopup:gle,setConf:vle,draw:QXe},nje={parser:iXe,db:FG,renderer:rje,styles:_Xe,init:S(({wrap:t})=>{FG.setWrap(t)},"init")};const ije=Object.freeze(Object.defineProperty({__proto__:null,diagram:nje},Symbol.toStringTag,{value:"Module"}));var YL=function(){var t=S(function(je,We,me,Te){for(me=me||{},Te=je.length;Te--;me[je[Te]]=We);return me},"o"),e=[1,17],r=[1,18],n=[1,19],i=[1,39],a=[1,40],s=[1,25],o=[1,23],l=[1,24],u=[1,31],h=[1,32],f=[1,33],d=[1,34],p=[1,35],v=[1,36],m=[1,26],x=[1,27],y=[1,28],w=[1,29],k=[1,43],E=[1,30],C=[1,42],L=[1,44],_=[1,41],I=[1,45],M=[1,9],F=[1,8,9],N=[1,56],z=[1,57],V=[1,58],D=[1,59],O=[1,60],P=[1,61],$=[1,62],B=[1,8,9,40],H=[1,74],X=[1,8,9,12,13,22,38,40,43,60,61,62,63,64,65,66,71,73],q=[1,8,9,12,13,17,20,22,38,40,43,47,60,61,62,63,64,65,66,71,73,75,81,96,98,99],Y=[13,75,81,96,98,99],U=[13,65,66,75,81,96,98,99],J=[13,60,61,62,63,64,75,81,96,98,99],ce=[1,94],re=[1,111],ve=[1,109],ye=[1,103],Z=[1,104],ue=[1,105],ae=[1,106],pe=[1,107],Ee=[1,108],Se=[1,110],de=[1,8,9,38,40,43],be=[1,8,9,22],oe=[1,8,9,79],we=[1,8,9,22,74,75,79,81,82,83,84,85,86],Re={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,DOT:17,className:18,classLiteralName:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,direction:31,acc_title:32,acc_title_value:33,acc_descr:34,acc_descr_value:35,acc_descr_multiline_value:36,namespaceIdentifier:37,STRUCT_START:38,classStatements:39,STRUCT_STOP:40,NAMESPACE:41,classIdentifier:42,STYLE_SEPARATOR:43,members:44,CLASS:45,ANNOTATION_START:46,ANNOTATION_END:47,MEMBER:48,SEPARATOR:49,relation:50,NOTE_FOR:51,noteText:52,NOTE:53,direction_tb:54,direction_bt:55,direction_rl:56,direction_lr:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,STYLE:74,ALPHA:75,stylesOpt:76,CSSCLASS:77,style:78,COMMA:79,styleComponent:80,NUM:81,COLON:82,UNIT:83,SPACE:84,BRKT:85,PCT:86,commentToken:87,textToken:88,graphCodeTokens:89,textNoTagsToken:90,TAGSTART:91,TAGEND:92,"==":93,"--":94,DEFAULT:95,MINUS:96,keywords:97,UNICODE_TEXT:98,BQUOTE_STR:99,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",17:"DOT",20:"GENERICTYPE",22:"LABEL",32:"acc_title",33:"acc_title_value",34:"acc_descr",35:"acc_descr_value",36:"acc_descr_multiline_value",38:"STRUCT_START",40:"STRUCT_STOP",41:"NAMESPACE",43:"STYLE_SEPARATOR",45:"CLASS",46:"ANNOTATION_START",47:"ANNOTATION_END",48:"MEMBER",49:"SEPARATOR",51:"NOTE_FOR",53:"NOTE",54:"direction_tb",55:"direction_bt",56:"direction_rl",57:"direction_lr",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"STYLE",75:"ALPHA",77:"CSSCLASS",79:"COMMA",81:"NUM",82:"COLON",83:"UNIT",84:"SPACE",85:"BRKT",86:"PCT",89:"graphCodeTokens",91:"TAGSTART",92:"TAGEND",93:"==",94:"--",95:"DEFAULT",96:"MINUS",97:"keywords",98:"UNICODE_TEXT",99:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,3],[15,2],[18,1],[18,3],[18,1],[18,2],[18,2],[18,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[37,2],[39,1],[39,2],[39,3],[24,1],[24,3],[24,4],[24,6],[42,2],[42,3],[26,4],[44,1],[44,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,1],[31,1],[31,1],[31,1],[50,3],[50,2],[50,2],[50,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[76,1],[76,3],[78,1],[78,2],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[87,1],[87,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[90,1],[90,1],[90,1],[90,1],[16,1],[16,1],[16,1],[16,1],[19,1],[52,1]],performAction:S(function(We,me,Te,fe,W,j,ie){var ee=j.length-1;switch(W){case 8:this.$=j[ee-1];break;case 9:case 12:case 14:this.$=j[ee];break;case 10:case 13:this.$=j[ee-2]+"."+j[ee];break;case 11:case 15:this.$=j[ee-1]+j[ee];break;case 16:case 17:this.$=j[ee-1]+"~"+j[ee]+"~";break;case 18:fe.addRelation(j[ee]);break;case 19:j[ee-1].title=fe.cleanupLabel(j[ee]),fe.addRelation(j[ee-1]);break;case 29:this.$=j[ee].trim(),fe.setAccTitle(this.$);break;case 30:case 31:this.$=j[ee].trim(),fe.setAccDescription(this.$);break;case 32:fe.addClassesToNamespace(j[ee-3],j[ee-1]);break;case 33:fe.addClassesToNamespace(j[ee-4],j[ee-1]);break;case 34:this.$=j[ee],fe.addNamespace(j[ee]);break;case 35:this.$=[j[ee]];break;case 36:this.$=[j[ee-1]];break;case 37:j[ee].unshift(j[ee-2]),this.$=j[ee];break;case 39:fe.setCssClass(j[ee-2],j[ee]);break;case 40:fe.addMembers(j[ee-3],j[ee-1]);break;case 41:fe.setCssClass(j[ee-5],j[ee-3]),fe.addMembers(j[ee-5],j[ee-1]);break;case 42:this.$=j[ee],fe.addClass(j[ee]);break;case 43:this.$=j[ee-1],fe.addClass(j[ee-1]),fe.setClassLabel(j[ee-1],j[ee]);break;case 44:fe.addAnnotation(j[ee],j[ee-2]);break;case 45:this.$=[j[ee]];break;case 46:j[ee].push(j[ee-1]),this.$=j[ee];break;case 47:break;case 48:fe.addMember(j[ee-1],fe.cleanupLabel(j[ee]));break;case 49:break;case 50:break;case 51:this.$={id1:j[ee-2],id2:j[ee],relation:j[ee-1],relationTitle1:"none",relationTitle2:"none"};break;case 52:this.$={id1:j[ee-3],id2:j[ee],relation:j[ee-1],relationTitle1:j[ee-2],relationTitle2:"none"};break;case 53:this.$={id1:j[ee-3],id2:j[ee],relation:j[ee-2],relationTitle1:"none",relationTitle2:j[ee-1]};break;case 54:this.$={id1:j[ee-4],id2:j[ee],relation:j[ee-2],relationTitle1:j[ee-3],relationTitle2:j[ee-1]};break;case 55:fe.addNote(j[ee],j[ee-1]);break;case 56:fe.addNote(j[ee]);break;case 57:fe.setDirection("TB");break;case 58:fe.setDirection("BT");break;case 59:fe.setDirection("RL");break;case 60:fe.setDirection("LR");break;case 61:this.$={type1:j[ee-2],type2:j[ee],lineType:j[ee-1]};break;case 62:this.$={type1:"none",type2:j[ee],lineType:j[ee-1]};break;case 63:this.$={type1:j[ee-1],type2:"none",lineType:j[ee]};break;case 64:this.$={type1:"none",type2:"none",lineType:j[ee]};break;case 65:this.$=fe.relationType.AGGREGATION;break;case 66:this.$=fe.relationType.EXTENSION;break;case 67:this.$=fe.relationType.COMPOSITION;break;case 68:this.$=fe.relationType.DEPENDENCY;break;case 69:this.$=fe.relationType.LOLLIPOP;break;case 70:this.$=fe.lineType.LINE;break;case 71:this.$=fe.lineType.DOTTED_LINE;break;case 72:case 78:this.$=j[ee-2],fe.setClickEvent(j[ee-1],j[ee]);break;case 73:case 79:this.$=j[ee-3],fe.setClickEvent(j[ee-2],j[ee-1]),fe.setTooltip(j[ee-2],j[ee]);break;case 74:this.$=j[ee-2],fe.setLink(j[ee-1],j[ee]);break;case 75:this.$=j[ee-3],fe.setLink(j[ee-2],j[ee-1],j[ee]);break;case 76:this.$=j[ee-3],fe.setLink(j[ee-2],j[ee-1]),fe.setTooltip(j[ee-2],j[ee]);break;case 77:this.$=j[ee-4],fe.setLink(j[ee-3],j[ee-2],j[ee]),fe.setTooltip(j[ee-3],j[ee-1]);break;case 80:this.$=j[ee-3],fe.setClickEvent(j[ee-2],j[ee-1],j[ee]);break;case 81:this.$=j[ee-4],fe.setClickEvent(j[ee-3],j[ee-2],j[ee-1]),fe.setTooltip(j[ee-3],j[ee]);break;case 82:this.$=j[ee-3],fe.setLink(j[ee-2],j[ee]);break;case 83:this.$=j[ee-4],fe.setLink(j[ee-3],j[ee-1],j[ee]);break;case 84:this.$=j[ee-4],fe.setLink(j[ee-3],j[ee-1]),fe.setTooltip(j[ee-3],j[ee]);break;case 85:this.$=j[ee-5],fe.setLink(j[ee-4],j[ee-2],j[ee]),fe.setTooltip(j[ee-4],j[ee-1]);break;case 86:this.$=j[ee-2],fe.setCssStyle(j[ee-1],j[ee]);break;case 87:fe.setCssClass(j[ee-1],j[ee]);break;case 88:this.$=[j[ee]];break;case 89:j[ee-2].push(j[ee]),this.$=j[ee-2];break;case 91:this.$=j[ee-1]+j[ee];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:37,18:20,19:38,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:e,34:r,36:n,37:21,41:i,42:22,45:a,46:s,48:o,49:l,51:u,53:h,54:f,55:d,56:p,57:v,67:m,68:x,70:y,74:w,75:k,77:E,81:C,96:L,98:_,99:I},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},t(M,[2,5],{8:[1,46]}),{8:[1,47]},t(F,[2,18],{22:[1,48]}),t(F,[2,20]),t(F,[2,21]),t(F,[2,22]),t(F,[2,23]),t(F,[2,24]),t(F,[2,25]),t(F,[2,26]),t(F,[2,27]),t(F,[2,28]),{33:[1,49]},{35:[1,50]},t(F,[2,31]),t(F,[2,47],{50:51,58:54,59:55,13:[1,52],22:[1,53],60:N,61:z,62:V,63:D,64:O,65:P,66:$}),{38:[1,63]},t(B,[2,38],{38:[1,65],43:[1,64]}),t(F,[2,49]),t(F,[2,50]),{16:66,75:k,81:C,96:L,98:_},{16:37,18:67,19:38,75:k,81:C,96:L,98:_,99:I},{16:37,18:68,19:38,75:k,81:C,96:L,98:_,99:I},{16:37,18:69,19:38,75:k,81:C,96:L,98:_,99:I},{75:[1,70]},{13:[1,71]},{16:37,18:72,19:38,75:k,81:C,96:L,98:_,99:I},{13:H,52:73},t(F,[2,57]),t(F,[2,58]),t(F,[2,59]),t(F,[2,60]),t(X,[2,12],{16:37,19:38,18:76,17:[1,75],20:[1,77],75:k,81:C,96:L,98:_,99:I}),t(X,[2,14],{20:[1,78]}),{15:79,16:80,75:k,81:C,96:L,98:_},{16:37,18:81,19:38,75:k,81:C,96:L,98:_,99:I},t(q,[2,114]),t(q,[2,115]),t(q,[2,116]),t(q,[2,117]),t([1,8,9,12,13,20,22,38,40,43,60,61,62,63,64,65,66,71,73],[2,118]),t(M,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,18:20,37:21,42:22,16:37,19:38,5:82,32:e,34:r,36:n,41:i,45:a,46:s,48:o,49:l,51:u,53:h,54:f,55:d,56:p,57:v,67:m,68:x,70:y,74:w,75:k,77:E,81:C,96:L,98:_,99:I}),{5:83,10:5,16:37,18:20,19:38,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:e,34:r,36:n,37:21,41:i,42:22,45:a,46:s,48:o,49:l,51:u,53:h,54:f,55:d,56:p,57:v,67:m,68:x,70:y,74:w,75:k,77:E,81:C,96:L,98:_,99:I},t(F,[2,19]),t(F,[2,29]),t(F,[2,30]),{13:[1,85],16:37,18:84,19:38,75:k,81:C,96:L,98:_,99:I},{50:86,58:54,59:55,60:N,61:z,62:V,63:D,64:O,65:P,66:$},t(F,[2,48]),{59:87,65:P,66:$},t(Y,[2,64],{58:88,60:N,61:z,62:V,63:D,64:O}),t(U,[2,65]),t(U,[2,66]),t(U,[2,67]),t(U,[2,68]),t(U,[2,69]),t(J,[2,70]),t(J,[2,71]),{8:[1,90],24:91,39:89,42:22,45:a},{16:92,75:k,81:C,96:L,98:_},{44:93,48:ce},{47:[1,95]},{13:[1,96]},{13:[1,97]},{71:[1,98],73:[1,99]},{22:re,74:ve,75:ye,76:100,78:101,80:102,81:Z,82:ue,83:ae,84:pe,85:Ee,86:Se},{75:[1,112]},{13:H,52:113},t(F,[2,56]),t(F,[2,119]),{16:37,18:114,19:38,75:k,81:C,96:L,98:_,99:I},t(X,[2,15]),t(X,[2,16]),t(X,[2,17]),{38:[2,34]},{15:116,16:80,17:[1,115],38:[2,9],75:k,81:C,96:L,98:_},t(de,[2,42],{11:117,12:[1,118]}),t(M,[2,7]),{9:[1,119]},t(be,[2,51]),{16:37,18:120,19:38,75:k,81:C,96:L,98:_,99:I},{13:[1,122],16:37,18:121,19:38,75:k,81:C,96:L,98:_,99:I},t(Y,[2,63],{58:123,60:N,61:z,62:V,63:D,64:O}),t(Y,[2,62]),{40:[1,124]},{24:91,39:125,42:22,45:a},{8:[1,126],40:[2,35]},t(B,[2,39],{38:[1,127]}),{40:[1,128]},{40:[2,45],44:129,48:ce},{16:37,18:130,19:38,75:k,81:C,96:L,98:_,99:I},t(F,[2,72],{13:[1,131]}),t(F,[2,74],{13:[1,133],69:[1,132]}),t(F,[2,78],{13:[1,134],72:[1,135]}),{13:[1,136]},t(F,[2,86],{79:[1,137]}),t(oe,[2,88],{80:138,22:re,74:ve,75:ye,81:Z,82:ue,83:ae,84:pe,85:Ee,86:Se}),t(we,[2,90]),t(we,[2,92]),t(we,[2,93]),t(we,[2,94]),t(we,[2,95]),t(we,[2,96]),t(we,[2,97]),t(we,[2,98]),t(we,[2,99]),t(we,[2,100]),t(F,[2,87]),t(F,[2,55]),t(X,[2,13]),{15:139,16:80,75:k,81:C,96:L,98:_},{38:[2,11]},t(de,[2,43]),{13:[1,140]},{1:[2,4]},t(be,[2,53]),t(be,[2,52]),{16:37,18:141,19:38,75:k,81:C,96:L,98:_,99:I},t(Y,[2,61]),t(F,[2,32]),{40:[1,142]},{24:91,39:143,40:[2,36],42:22,45:a},{44:144,48:ce},t(B,[2,40]),{40:[2,46]},t(F,[2,44]),t(F,[2,73]),t(F,[2,75]),t(F,[2,76],{69:[1,145]}),t(F,[2,79]),t(F,[2,80],{13:[1,146]}),t(F,[2,82],{13:[1,148],69:[1,147]}),{22:re,74:ve,75:ye,78:149,80:102,81:Z,82:ue,83:ae,84:pe,85:Ee,86:Se},t(we,[2,91]),{38:[2,10]},{14:[1,150]},t(be,[2,54]),t(F,[2,33]),{40:[2,37]},{40:[1,151]},t(F,[2,77]),t(F,[2,81]),t(F,[2,83]),t(F,[2,84],{69:[1,152]}),t(oe,[2,89],{80:138,22:re,74:ve,75:ye,81:Z,82:ue,83:ae,84:pe,85:Ee,86:Se}),t(de,[2,8]),t(B,[2,41]),t(F,[2,85])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],79:[2,34],116:[2,11],119:[2,4],129:[2,46],139:[2,10],143:[2,37]},parseError:S(function(We,me){if(me.recoverable)this.trace(We);else{var Te=new Error(We);throw Te.hash=me,Te}},"parseError"),parse:S(function(We){var me=this,Te=[0],fe=[],W=[null],j=[],ie=this.table,ee="",le=0,_e=0,ke=2,Le=1,Oe=j.slice.call(arguments,1),Me=Object.create(this.lexer),Ie={yy:{}};for(var Fe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Fe)&&(Ie.yy[Fe]=this.yy[Fe]);Me.setInput(We,Ie.yy),Ie.yy.lexer=Me,Ie.yy.parser=this,typeof Me.yylloc>"u"&&(Me.yylloc={});var Ne=Me.yylloc;j.push(Ne);var He=Me.options&&Me.options.ranges;typeof Ie.yy.parseError=="function"?this.parseError=Ie.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function it(ht){Te.length=Te.length-2*ht,W.length=W.length-ht,j.length=j.length-ht}S(it,"popStack");function lt(){var ht;return ht=fe.pop()||Me.lex()||Le,typeof ht!="number"&&(ht instanceof Array&&(fe=ht,ht=fe.pop()),ht=me.symbols_[ht]||ht),ht}S(lt,"lex");for(var ft,gt,_t,ct,at={},Lt,ut,pt,Zt;;){if(gt=Te[Te.length-1],this.defaultActions[gt]?_t=this.defaultActions[gt]:((ft===null||typeof ft>"u")&&(ft=lt()),_t=ie[gt]&&ie[gt][ft]),typeof _t>"u"||!_t.length||!_t[0]){var xt="";Zt=[];for(Lt in ie[gt])this.terminals_[Lt]&&Lt>ke&&Zt.push("'"+this.terminals_[Lt]+"'");Me.showPosition?xt="Parse error on line "+(le+1)+`:
`+Me.showPosition()+`
Expecting `+Zt.join(", ")+", got '"+(this.terminals_[ft]||ft)+"'":xt="Parse error on line "+(le+1)+": Unexpected "+(ft==Le?"end of input":"'"+(this.terminals_[ft]||ft)+"'"),this.parseError(xt,{text:Me.match,token:this.terminals_[ft]||ft,line:Me.yylineno,loc:Ne,expected:Zt})}if(_t[0]instanceof Array&&_t.length>1)throw new Error("Parse Error: multiple actions possible at state: "+gt+", token: "+ft);switch(_t[0]){case 1:Te.push(ft),W.push(Me.yytext),j.push(Me.yylloc),Te.push(_t[1]),ft=null,_e=Me.yyleng,ee=Me.yytext,le=Me.yylineno,Ne=Me.yylloc;break;case 2:if(ut=this.productions_[_t[1]][1],at.$=W[W.length-ut],at._$={first_line:j[j.length-(ut||1)].first_line,last_line:j[j.length-1].last_line,first_column:j[j.length-(ut||1)].first_column,last_column:j[j.length-1].last_column},He&&(at._$.range=[j[j.length-(ut||1)].range[0],j[j.length-1].range[1]]),ct=this.performAction.apply(at,[ee,_e,le,Ie.yy,_t[1],W,j].concat(Oe)),typeof ct<"u")return ct;ut&&(Te=Te.slice(0,-1*ut*2),W=W.slice(0,-1*ut),j=j.slice(0,-1*ut)),Te.push(this.productions_[_t[1]][0]),W.push(at.$),j.push(at._$),pt=ie[Te[Te.length-2]][Te[Te.length-1]],Te.push(pt);break;case 3:return!0}}return!0},"parse")},Pe=function(){var je={EOF:1,parseError:S(function(me,Te){if(this.yy.parser)this.yy.parser.parseError(me,Te);else throw new Error(me)},"parseError"),setInput:S(function(We,me){return this.yy=me||this.yy||{},this._input=We,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var We=this._input[0];this.yytext+=We,this.yyleng++,this.offset++,this.match+=We,this.matched+=We;var me=We.match(/(?:\r\n?|\n).*/g);return me?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),We},"input"),unput:S(function(We){var me=We.length,Te=We.split(/(?:\r\n?|\n)/g);this._input=We+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-me),this.offset-=me;var fe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Te.length-1&&(this.yylineno-=Te.length-1);var W=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Te?(Te.length===fe.length?this.yylloc.first_column:0)+fe[fe.length-Te.length].length-Te[0].length:this.yylloc.first_column-me},this.options.ranges&&(this.yylloc.range=[W[0],W[0]+this.yyleng-me]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(We){this.unput(this.match.slice(We))},"less"),pastInput:S(function(){var We=this.matched.substr(0,this.matched.length-this.match.length);return(We.length>20?"...":"")+We.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var We=this.match;return We.length<20&&(We+=this._input.substr(0,20-We.length)),(We.substr(0,20)+(We.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var We=this.pastInput(),me=new Array(We.length+1).join("-");return We+this.upcomingInput()+`
`+me+"^"},"showPosition"),test_match:S(function(We,me){var Te,fe,W;if(this.options.backtrack_lexer&&(W={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(W.yylloc.range=this.yylloc.range.slice(0))),fe=We[0].match(/(?:\r\n?|\n).*/g),fe&&(this.yylineno+=fe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:fe?fe[fe.length-1].length-fe[fe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+We[0].length},this.yytext+=We[0],this.match+=We[0],this.matches=We,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(We[0].length),this.matched+=We[0],Te=this.performAction.call(this,this.yy,this,me,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Te)return Te;if(this._backtrack){for(var j in W)this[j]=W[j];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var We,me,Te,fe;this._more||(this.yytext="",this.match="");for(var W=this._currentRules(),j=0;j<W.length;j++)if(Te=this._input.match(this.rules[W[j]]),Te&&(!me||Te[0].length>me[0].length)){if(me=Te,fe=j,this.options.backtrack_lexer){if(We=this.test_match(Te,W[j]),We!==!1)return We;if(this._backtrack){me=!1;continue}else return!1}else if(!this.options.flex)break}return me?(We=this.test_match(me,W[fe]),We!==!1?We:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var me=this.next();return me||this.lex()},"lex"),begin:S(function(me){this.conditionStack.push(me)},"begin"),popState:S(function(){var me=this.conditionStack.length-1;return me>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function(me){return me=this.conditionStack.length-1-Math.abs(me||0),me>=0?this.conditionStack[me]:"INITIAL"},"topState"),pushState:S(function(me){this.begin(me)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:S(function(me,Te,fe,W){switch(fe){case 0:return 54;case 1:return 55;case 2:return 56;case 3:return 57;case 4:break;case 5:break;case 6:return this.begin("acc_title"),32;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),34;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 71;case 22:this.popState();break;case 23:return 72;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 74;case 28:return this.begin("namespace"),41;case 29:return this.popState(),8;case 30:break;case 31:return this.begin("namespace-body"),38;case 32:return this.popState(),40;case 33:return"EOF_IN_STRUCT";case 34:return 8;case 35:break;case 36:return"EDGE_STATE";case 37:return this.begin("class"),45;case 38:return this.popState(),8;case 39:break;case 40:return this.popState(),this.popState(),40;case 41:return this.begin("class-body"),38;case 42:return this.popState(),40;case 43:return"EOF_IN_STRUCT";case 44:return"EDGE_STATE";case 45:return"OPEN_IN_STRUCT";case 46:break;case 47:return"MEMBER";case 48:return 77;case 49:return 67;case 50:return 68;case 51:return 70;case 52:return 51;case 53:return 53;case 54:return 46;case 55:return 47;case 56:return 73;case 57:this.popState();break;case 58:return"GENERICTYPE";case 59:this.begin("generic");break;case 60:this.popState();break;case 61:return"BQUOTE_STR";case 62:this.begin("bqstring");break;case 63:return 69;case 64:return 69;case 65:return 69;case 66:return 69;case 67:return 61;case 68:return 61;case 69:return 63;case 70:return 63;case 71:return 62;case 72:return 60;case 73:return 64;case 74:return 65;case 75:return 66;case 76:return 22;case 77:return 43;case 78:return 96;case 79:return 17;case 80:return"PLUS";case 81:return 82;case 82:return 79;case 83:return 85;case 84:return 85;case 85:return 86;case 86:return"EQUALS";case 87:return"EQUALS";case 88:return 75;case 89:return 12;case 90:return 14;case 91:return"PUNCTUATION";case 92:return 81;case 93:return 98;case 94:return 84;case 95:return 84;case 96:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,32,33,34,35,36,37,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},namespace:{rules:[26,28,29,30,31,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},"class-body":{rules:[26,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},class:{rules:[26,38,39,40,41,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},acc_descr:{rules:[9,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},acc_title:{rules:[7,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},callback_args:{rules:[22,23,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},callback_name:{rules:[19,20,21,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},href:{rules:[26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},struct:{rules:[26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},generic:{rules:[26,48,49,50,51,52,53,54,55,56,57,58,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},bqstring:{rules:[26,48,49,50,51,52,53,54,55,56,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},string:{rules:[24,25,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,37,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96],inclusive:!0}}};return je}();Re.lexer=Pe;function Ge(){this.yy={}}return S(Ge,"Parser"),Ge.prototype=Re,Re.Parser=Ge,new Ge}();YL.parser=YL;var ble=YL,$G=["#","+","~","-",""],$x,zG=($x=class{constructor(e,r){this.memberType=r,this.visibility="",this.classifier="";const n=Mi(e,Ve());this.parseMember(n)}getDisplayDetails(){let e=this.visibility+_y(this.id);this.memberType==="method"&&(e+=`(${_y(this.parameters.trim())})`,this.returnType&&(e+=" : "+_y(this.returnType))),e=e.trim();const r=this.parseClassifier();return{displayText:e,cssStyle:r}}parseMember(e){let r="";if(this.memberType==="method"){const i=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(e);if(i){const a=i[1]?i[1].trim():"";if($G.includes(a)&&(this.visibility=a),this.id=i[2].trim(),this.parameters=i[3]?i[3].trim():"",r=i[4]?i[4].trim():"",this.returnType=i[5]?i[5].trim():"",r===""){const s=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(s)&&(r=s,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{const n=e.length,i=e.substring(0,1),a=e.substring(n-1);$G.includes(i)&&(this.visibility=i),/[$*]/.exec(a)&&(r=a),this.id=e.substring(this.visibility===""?0:1,r===""?n:n-1)}this.classifier=r}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},S($x,"ClassMember"),$x),XT="classId-",OI=[],oa=new Map,gS=[],HG=0,lh=new Map,XL=0,B2=[],P0=S(t=>Et.sanitizeText(t,Ve()),"sanitizeText"),B0=S(function(t){const e=Et.sanitizeText(t,Ve());let r="",n=e;if(e.indexOf("~")>0){const i=e.split("~");n=P0(i[0]),r=P0(i[1])}return{className:n,type:r}},"splitClassNameAndType"),aje=S(function(t,e){const r=Et.sanitizeText(t,Ve());e&&(e=P0(e));const{className:n}=B0(r);oa.get(n).label=e},"setClassLabel"),vS=S(function(t){const e=Et.sanitizeText(t,Ve()),{className:r,type:n}=B0(e);if(oa.has(r))return;const i=Et.sanitizeText(r,Ve());oa.set(i,{id:i,type:n,label:i,cssClasses:[],methods:[],members:[],annotations:[],styles:[],domId:XT+i+"-"+HG}),HG++},"addClass"),wle=S(function(t){const e=Et.sanitizeText(t,Ve());if(oa.has(e))return oa.get(e).domId;throw new Error("Class not found: "+e)},"lookUpDomId"),sje=S(function(){OI=[],oa=new Map,gS=[],B2=[],B2.push(Sle),lh=new Map,XL=0,PI="TB",ka()},"clear"),oje=S(function(t){return oa.get(t)},"getClass"),lje=S(function(){return oa},"getClasses"),uje=S(function(){return OI},"getRelations"),cje=S(function(){return gS},"getNotes"),hje=S(function(t){he.debug("Adding relation: "+JSON.stringify(t)),vS(t.id1),vS(t.id2),t.id1=B0(t.id1).className,t.id2=B0(t.id2).className,t.relationTitle1=Et.sanitizeText(t.relationTitle1.trim(),Ve()),t.relationTitle2=Et.sanitizeText(t.relationTitle2.trim(),Ve()),OI.push(t)},"addRelation"),fje=S(function(t,e){const r=B0(t).className;oa.get(r).annotations.push(e)},"addAnnotation"),kle=S(function(t,e){vS(t);const r=B0(t).className,n=oa.get(r);if(typeof e=="string"){const i=e.trim();i.startsWith("<<")&&i.endsWith(">>")?n.annotations.push(P0(i.substring(2,i.length-2))):i.indexOf(")")>0?n.methods.push(new zG(i,"method")):i&&n.members.push(new zG(i,"attribute"))}},"addMember"),dje=S(function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach(r=>kle(t,r)))},"addMembers"),pje=S(function(t,e){const r={id:`note${gS.length}`,class:e,text:t};gS.push(r)},"addNote"),gje=S(function(t){return t.startsWith(":")&&(t=t.substring(1)),P0(t.trim())},"cleanupLabel"),FI=S(function(t,e){t.split(",").forEach(function(r){let n=r;/\d/.exec(r[0])&&(n=XT+n);const i=oa.get(n);i&&i.cssClasses.push(e)})},"setCssClass"),vje=S(function(t,e){t.split(",").forEach(function(r){e!==void 0&&(oa.get(r).tooltip=P0(e))})},"setTooltip"),mje=S(function(t,e){return e&&lh.has(e)?lh.get(e).classes.get(t).tooltip:oa.get(t).tooltip},"getTooltip"),yje=S(function(t,e,r){const n=Ve();t.split(",").forEach(function(i){let a=i;/\d/.exec(i[0])&&(a=XT+a);const s=oa.get(a);s&&(s.link=Dr.formatUrl(e,n),n.securityLevel==="sandbox"?s.linkTarget="_top":typeof r=="string"?s.linkTarget=P0(r):s.linkTarget="_blank")}),FI(t,"clickable")},"setLink"),xje=S(function(t,e,r){t.split(",").forEach(function(n){bje(n,e,r),oa.get(n).haveCallback=!0}),FI(t,"clickable")},"setClickEvent"),bje=S(function(t,e,r){const n=Et.sanitizeText(t,Ve());if(Ve().securityLevel!=="loose"||e===void 0)return;const a=n;if(oa.has(a)){const s=wle(a);let o=[];if(typeof r=="string"){o=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let l=0;l<o.length;l++){let u=o[l].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),o[l]=u}}o.length===0&&o.push(s),B2.push(function(){const l=document.querySelector(`[id="${s}"]`);l!==null&&l.addEventListener("click",function(){Dr.runFunc(e,...o)},!1)})}},"setClickFunc"),wje=S(function(t){B2.forEach(function(e){e(t)})},"bindFunctions"),kje={LINE:0,DOTTED_LINE:1},Sje={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},Sle=S(function(t){let e=yt(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=yt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),yt(t).select("svg").selectAll("g.node").on("mouseover",function(){const i=yt(this);if(i.attr("title")===null)return;const s=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(i.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),yt(this).classed("hover",!1)})},"setupToolTips");B2.push(Sle);var PI="TB",Eje=S(()=>PI,"getDirection"),Tje=S(t=>{PI=t},"setDirection"),Cje=S(function(t){lh.has(t)||(lh.set(t,{id:t,classes:new Map,children:{},domId:XT+t+"-"+XL}),XL++)},"addNamespace"),Aje=S(function(t){return lh.get(t)},"getNamespace"),_je=S(function(){return lh},"getNamespaces"),Lje=S(function(t,e){if(lh.has(t))for(const r of e){const{className:n}=B0(r);oa.get(n).parent=t,lh.get(t).classes.set(n,oa.get(n))}},"addClassesToNamespace"),Dje=S(function(t,e){const r=oa.get(t);if(!(!e||!r))for(const n of e)n.includes(",")?r.styles.push(...n.split(",")):r.styles.push(n)},"setCssStyle"),mS={setAccTitle:Sa,getAccTitle:Wa,getAccDescription:Ya,setAccDescription:qa,getConfig:S(()=>Ve().class,"getConfig"),addClass:vS,bindFunctions:wje,clear:sje,getClass:oje,getClasses:lje,getNotes:cje,addAnnotation:fje,addNote:pje,getRelations:uje,addRelation:hje,getDirection:Eje,setDirection:Tje,addMember:kle,addMembers:dje,cleanupLabel:gje,lineType:kje,relationType:Sje,setClickEvent:xje,setCssClass:FI,setLink:yje,getTooltip:mje,setTooltip:vje,lookUpDomId:wle,setDiagramTitle:Us,getDiagramTitle:Xa,setClassLabel:aje,addNamespace:Cje,addClassesToNamespace:Lje,getNamespace:Aje,getNamespaces:_je,setCssStyle:Dje},Rje=S(t=>`g.classGroup text {
  fill: ${t.nodeBorder||t.classText};
  stroke: none;
  font-family: ${t.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${t.classText};
}
.edgeLabel .label rect {
  fill: ${t.mainBkg};
}
.label text {
  fill: ${t.classText};
}
.edgeLabel .label span {
  background: ${t.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.classGroup line {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${t.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${t.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,"getStyles"),Ele=Rje,VG=0,Mje=S(function(t,e,r,n,i){const a=S(function(w){switch(w){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.relationType.EXTENSION:return"extension";case i.db.relationType.COMPOSITION:return"composition";case i.db.relationType.DEPENDENCY:return"dependency";case i.db.relationType.LOLLIPOP:return"lollipop"}},"getRelationType");e.points=e.points.filter(w=>!Number.isNaN(w.y));const s=e.points,o=_f().x(function(w){return w.x}).y(function(w){return w.y}).curve(j1),l=t.append("path").attr("d",o(s)).attr("id","edge"+VG).attr("class","relation");let u="";n.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),r.relation.lineType==1&&l.attr("class","relation dashed-line"),r.relation.lineType==10&&l.attr("class","relation dotted-line"),r.relation.type1!=="none"&&l.attr("marker-start","url("+u+"#"+a(r.relation.type1)+"Start)"),r.relation.type2!=="none"&&l.attr("marker-end","url("+u+"#"+a(r.relation.type2)+"End)");let h,f;const d=e.points.length;let p=Dr.calcLabelPosition(e.points);h=p.x,f=p.y;let v,m,x,y;if(d%2!==0&&d>1){let w=Dr.calcCardinalityPosition(r.relation.type1!=="none",e.points,e.points[0]),k=Dr.calcCardinalityPosition(r.relation.type2!=="none",e.points,e.points[d-1]);he.debug("cardinality_1_point "+JSON.stringify(w)),he.debug("cardinality_2_point "+JSON.stringify(k)),v=w.x,m=w.y,x=k.x,y=k.y}if(r.title!==void 0){const w=t.append("g").attr("class","classLabel"),k=w.append("text").attr("class","label").attr("x",h).attr("y",f).attr("fill","red").attr("text-anchor","middle").text(r.title);window.label=k;const E=k.node().getBBox();w.insert("rect",":first-child").attr("class","box").attr("x",E.x-n.padding/2).attr("y",E.y-n.padding/2).attr("width",E.width+n.padding).attr("height",E.height+n.padding)}he.info("Rendering relation "+JSON.stringify(r)),r.relationTitle1!==void 0&&r.relationTitle1!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",v).attr("y",m).attr("fill","black").attr("font-size","6").text(r.relationTitle1),r.relationTitle2!==void 0&&r.relationTitle2!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",x).attr("y",y).attr("fill","black").attr("font-size","6").text(r.relationTitle2),VG++},"drawEdge"),Nje=S(function(t,e,r,n){he.debug("Rendering class ",e,r);const i=e.id,a={id:i,label:e.id,width:0,height:0},s=t.append("g").attr("id",n.db.lookUpDomId(i)).attr("class","classGroup");let o;e.link?o=s.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",r.textHeight+r.padding).attr("x",0):o=s.append("text").attr("y",r.textHeight+r.padding).attr("x",0);let l=!0;e.annotations.forEach(function(k){const E=o.append("tspan").text("«"+k+"»");l||E.attr("dy",r.textHeight),l=!1});let u=Tle(e);const h=o.append("tspan").text(u).attr("class","title");l||h.attr("dy",r.textHeight);const f=o.node().getBBox().height;let d,p,v;if(e.members.length>0){d=s.append("line").attr("x1",0).attr("y1",r.padding+f+r.dividerMargin/2).attr("y2",r.padding+f+r.dividerMargin/2);const k=s.append("text").attr("x",r.padding).attr("y",f+r.dividerMargin+r.textHeight).attr("fill","white").attr("class","classText");l=!0,e.members.forEach(function(E){UG(k,E,l,r),l=!1}),p=k.node().getBBox()}if(e.methods.length>0){v=s.append("line").attr("x1",0).attr("y1",r.padding+f+r.dividerMargin+p.height).attr("y2",r.padding+f+r.dividerMargin+p.height);const k=s.append("text").attr("x",r.padding).attr("y",f+2*r.dividerMargin+p.height+r.textHeight).attr("fill","white").attr("class","classText");l=!0,e.methods.forEach(function(E){UG(k,E,l,r),l=!1})}const m=s.node().getBBox();var x=" ";e.cssClasses.length>0&&(x=x+e.cssClasses.join(" "));const w=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",m.width+2*r.padding).attr("height",m.height+r.padding+.5*r.dividerMargin).attr("class",x).node().getBBox().width;return o.node().childNodes.forEach(function(k){k.setAttribute("x",(w-k.getBBox().width)/2)}),e.tooltip&&o.insert("title").text(e.tooltip),d&&d.attr("x2",w),v&&v.attr("x2",w),a.width=w,a.height=m.height+r.padding+.5*r.dividerMargin,a},"drawClass"),Tle=S(function(t){let e=t.id;return t.type&&(e+="<"+_y(t.type)+">"),e},"getClassTitleString"),Ije=S(function(t,e,r,n){he.debug("Rendering note ",e,r);const i=e.id,a={id:i,text:e.text,width:0,height:0},s=t.append("g").attr("id",i).attr("class","classGroup");let o=s.append("text").attr("y",r.textHeight+r.padding).attr("x",0);const l=JSON.parse(`"${e.text}"`).split(`
`);l.forEach(function(d){he.debug(`Adding line: ${d}`),o.append("tspan").text(d).attr("class","title").attr("dy",r.textHeight)});const u=s.node().getBBox(),f=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",u.width+2*r.padding).attr("height",u.height+l.length*r.textHeight+r.padding+.5*r.dividerMargin).node().getBBox().width;return o.node().childNodes.forEach(function(d){d.setAttribute("x",(f-d.getBBox().width)/2)}),a.width=f,a.height=u.height+l.length*r.textHeight+r.padding+.5*r.dividerMargin,a},"drawNote"),UG=S(function(t,e,r,n){const{displayText:i,cssStyle:a}=e.getDisplayDetails(),s=t.append("tspan").attr("x",n.padding).text(i);a!==""&&s.attr("style",e.cssStyle),r||s.attr("dy",n.textHeight)},"addTspan"),Y8={getClassTitleString:Tle,drawClass:Nje,drawEdge:Mje,drawNote:Ije},Hw={},L3=20,Fm=S(function(t){const e=Object.entries(Hw).find(r=>r[1].label===t);if(e)return e[0]},"getGraphId"),Oje=S(function(t){t.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),t.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),Fje=S(function(t,e,r,n){const i=Ve().class;Hw={},he.info("Rendering diagram "+t);const a=Ve().securityLevel;let s;a==="sandbox"&&(s=yt("#i"+e));const o=yt(a==="sandbox"?s.nodes()[0].contentDocument.body:"body"),l=o.select(`[id='${e}']`);Oje(l);const u=new ca({multigraph:!0});u.setGraph({isMultiGraph:!0}),u.setDefaultEdgeLabel(function(){return{}});const h=n.db.getClasses(),f=[...h.keys()];for(const w of f){const k=h.get(w),E=Y8.drawClass(l,k,i,n);Hw[E.id]=E,u.setNode(E.id,E),he.info("Org height: "+E.height)}n.db.getRelations().forEach(function(w){he.info("tjoho"+Fm(w.id1)+Fm(w.id2)+JSON.stringify(w)),u.setEdge(Fm(w.id1),Fm(w.id2),{relation:w},w.title||"DEFAULT")}),n.db.getNotes().forEach(function(w){he.debug(`Adding note: ${JSON.stringify(w)}`);const k=Y8.drawNote(l,w,i,n);Hw[k.id]=k,u.setNode(k.id,k),w.class&&h.has(w.class)&&u.setEdge(w.id,Fm(w.class),{relation:{id1:w.id,id2:w.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),lv(u),u.nodes().forEach(function(w){w!==void 0&&u.node(w)!==void 0&&(he.debug("Node "+w+": "+JSON.stringify(u.node(w))),o.select("#"+(n.db.lookUpDomId(w)||w)).attr("transform","translate("+(u.node(w).x-u.node(w).width/2)+","+(u.node(w).y-u.node(w).height/2)+" )"))}),u.edges().forEach(function(w){w!==void 0&&u.edge(w)!==void 0&&(he.debug("Edge "+w.v+" -> "+w.w+": "+JSON.stringify(u.edge(w))),Y8.drawEdge(l,u.edge(w),u.edge(w).relation,i,n))});const v=l.node().getBBox(),m=v.width+L3*2,x=v.height+L3*2;Ga(l,x,m,i.useMaxWidth);const y=`${v.x-L3} ${v.y-L3} ${m} ${x}`;he.debug(`viewBox ${y}`),l.attr("viewBox",y)},"draw"),Pje={draw:Fje},Bje={parser:ble,db:mS,renderer:Pje,styles:Ele,init:S(t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,mS.clear()},"init")};const $je=Object.freeze(Object.defineProperty({__proto__:null,diagram:Bje},Symbol.toStringTag,{value:"Module"}));var zje=S((t,e,r,n)=>{e.forEach(i=>{Kje[i](t,r,n)})},"insertMarkers"),Hje=S((t,e,r)=>{he.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),Vje=S((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Uje=S((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),Gje=S((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),Wje=S((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),qje=S((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),Yje=S((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),Xje=S((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),jje=S((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),Kje={extension:Hje,composition:Vje,aggregation:Uje,dependency:Gje,lollipop:Wje,point:qje,circle:Yje,cross:Xje,barb:jje},Cle=zje;function jL(t,e){e&&t.attr("style",e)}S(jL,"applyStyle");function Ale(t){const e=yt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div"),n=t.label,i=t.isNode?"nodeLabel":"edgeLabel",a=r.append("span");return a.html(n),jL(a,t.labelStyle),a.attr("class",i),jL(r,t.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}S(Ale,"addHtmlLabel");var Qje=S((t,e,r,n)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),Pn(Ve().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),he.debug("vertexText"+i);const a={isNode:n,label:kM(S0(i)),labelStyle:e.replace("fill:","color:")};return Ale(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(const o of s){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),a.appendChild(l)}return a}},"createLabel"),so=Qje,Ca=S(async(t,e,r,n)=>{const i=Ve();let a;const s=e.useHtmlLabels||Pn(i.flowchart.htmlLabels);r?a=r:a="node default";const o=t.insert("g").attr("class",a).attr("id",e.domId||e.id),l=o.insert("g").attr("class","label").attr("style",e.labelStyle);let u;e.labelText===void 0?u="":u=typeof e.labelText=="string"?e.labelText:e.labelText[0];const h=l.node();let f;e.labelType==="markdown"?f=ec(l,Mi(S0(u),i),{useHtmlLabels:s,width:e.width||i.flowchart.wrappingWidth,classes:"markdown-node-label"},i):f=h.appendChild(so(Mi(S0(u),i),e.labelStyle,!1,n));let d=f.getBBox();const p=e.padding/2;if(Pn(i.flowchart.htmlLabels)){const v=f.children[0],m=yt(f),x=v.getElementsByTagName("img");if(x){const y=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...x].map(w=>new Promise(k=>{function E(){if(w.style.display="flex",w.style.flexDirection="column",y){const C=i.fontSize?i.fontSize:window.getComputedStyle(document.body).fontSize,L=5,_=parseInt(C,10)*L+"px";w.style.minWidth=_,w.style.maxWidth=_}else w.style.width="100%";k(w)}S(E,"setupImage"),setTimeout(()=>{w.complete&&E()}),w.addEventListener("error",E),w.addEventListener("load",E)})))}d=v.getBoundingClientRect(),m.attr("width",d.width),m.attr("height",d.height)}return s?l.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"):l.attr("transform","translate(0, "+-d.height/2+")"),e.centerLabel&&l.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:o,bbox:d,halfPadding:p,label:l}},"labelHelper"),fi=S((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds");function vu(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}S(vu,"insertPolygonShape");var Zje=S(t=>{const e=new Set;for(const r of t)switch(r){case"x":e.add("right"),e.add("left");break;case"y":e.add("up"),e.add("down");break;default:e.add(r);break}return e},"expandAndDeduplicateDirections"),Jje=S((t,e,r)=>{const n=Zje(t),i=2,a=e.height+2*r.padding,s=a/i,o=e.width+2*s+r.padding,l=r.padding/2;return n.has("right")&&n.has("left")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:s,y:0},{x:o/2,y:2*l},{x:o-s,y:0},{x:o,y:0},{x:o,y:-a/3},{x:o+2*l,y:-a/2},{x:o,y:-2*a/3},{x:o,y:-a},{x:o-s,y:-a},{x:o/2,y:-a-2*l},{x:s,y:-a},{x:0,y:-a},{x:0,y:-2*a/3},{x:-2*l,y:-a/2},{x:0,y:-a/3}]:n.has("right")&&n.has("left")&&n.has("up")?[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}]:n.has("right")&&n.has("left")&&n.has("down")?[{x:0,y:0},{x:s,y:-a},{x:o-s,y:-a},{x:o,y:0}]:n.has("right")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:o,y:-s},{x:o,y:-a+s},{x:0,y:-a}]:n.has("left")&&n.has("up")&&n.has("down")?[{x:o,y:0},{x:0,y:-s},{x:0,y:-a+s},{x:o,y:-a}]:n.has("right")&&n.has("left")?[{x:s,y:0},{x:s,y:-l},{x:o-s,y:-l},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:o-s,y:-a+l},{x:s,y:-a+l},{x:s,y:-a},{x:0,y:-a/2}]:n.has("up")&&n.has("down")?[{x:o/2,y:0},{x:0,y:-l},{x:s,y:-l},{x:s,y:-a+l},{x:0,y:-a+l},{x:o/2,y:-a},{x:o,y:-a+l},{x:o-s,y:-a+l},{x:o-s,y:-l},{x:o,y:-l}]:n.has("right")&&n.has("up")?[{x:0,y:0},{x:o,y:-s},{x:0,y:-a}]:n.has("right")&&n.has("down")?[{x:0,y:0},{x:o,y:0},{x:0,y:-a}]:n.has("left")&&n.has("up")?[{x:o,y:0},{x:0,y:-s},{x:o,y:-a}]:n.has("left")&&n.has("down")?[{x:o,y:0},{x:0,y:0},{x:o,y:-a}]:n.has("right")?[{x:s,y:-l},{x:s,y:-l},{x:o-s,y:-l},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:o-s,y:-a+l},{x:s,y:-a+l},{x:s,y:-a+l}]:n.has("left")?[{x:s,y:0},{x:s,y:-l},{x:o-s,y:-l},{x:o-s,y:-a+l},{x:s,y:-a+l},{x:s,y:-a},{x:0,y:-a/2}]:n.has("up")?[{x:s,y:-l},{x:s,y:-a+l},{x:0,y:-a+l},{x:o/2,y:-a},{x:o,y:-a+l},{x:o-s,y:-a+l},{x:o-s,y:-l}]:n.has("down")?[{x:o/2,y:0},{x:0,y:-l},{x:s,y:-l},{x:s,y:-a+l},{x:o-s,y:-a+l},{x:o-s,y:-l},{x:o,y:-l}]:[{x:0,y:0}]},"getArrowPoints");function _le(t,e){return t.intersect(e)}S(_le,"intersectNode");var eKe=_le;function Lle(t,e,r,n){var i=t.x,a=t.y,s=i-n.x,o=a-n.y,l=Math.sqrt(e*e*o*o+r*r*s*s),u=Math.abs(e*r*s/l);n.x<i&&(u=-u);var h=Math.abs(e*r*o/l);return n.y<a&&(h=-h),{x:i+u,y:a+h}}S(Lle,"intersectEllipse");var Dle=Lle;function Rle(t,e,r){return Dle(t,e,e,r)}S(Rle,"intersectCircle");var tKe=Rle;function Mle(t,e,r,n){var i,a,s,o,l,u,h,f,d,p,v,m,x,y,w;if(i=e.y-t.y,s=t.x-e.x,l=e.x*t.y-t.x*e.y,d=i*r.x+s*r.y+l,p=i*n.x+s*n.y+l,!(d!==0&&p!==0&&KL(d,p))&&(a=n.y-r.y,o=r.x-n.x,u=n.x*r.y-r.x*n.y,h=a*t.x+o*t.y+u,f=a*e.x+o*e.y+u,!(h!==0&&f!==0&&KL(h,f))&&(v=i*o-a*s,v!==0)))return m=Math.abs(v/2),x=s*u-o*l,y=x<0?(x-m)/v:(x+m)/v,x=a*l-i*u,w=x<0?(x-m)/v:(x+m)/v,{x:y,y:w}}S(Mle,"intersectLine");function KL(t,e){return t*e>0}S(KL,"sameSign");var rKe=Mle,nKe=Nle;function Nle(t,e,r){var n=t.x,i=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(v){s=Math.min(s,v.x),o=Math.min(o,v.y)}):(s=Math.min(s,e.x),o=Math.min(o,e.y));for(var l=n-t.width/2-s,u=i-t.height/2-o,h=0;h<e.length;h++){var f=e[h],d=e[h<e.length-1?h+1:0],p=rKe(t,r,{x:l+f.x,y:u+f.y},{x:l+d.x,y:u+d.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort(function(v,m){var x=v.x-r.x,y=v.y-r.y,w=Math.sqrt(x*x+y*y),k=m.x-r.x,E=m.y-r.y,C=Math.sqrt(k*k+E*E);return w<C?-1:w===C?0:1}),a[0]):t}S(Nle,"intersectPolygon");var iKe=S((t,e)=>{var r=t.x,n=t.y,i=e.x-r,a=e.y-n,s=t.width/2,o=t.height/2,l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=a===0?0:o*i/a,u=o):(i<0&&(s=-s),l=s,u=i===0?0:s*a/i),{x:r+l,y:n+u}},"intersectRect"),Rb=iKe,ri={node:eKe,circle:tKe,ellipse:Dle,polygon:nKe,rect:Rb},aKe=S(async(t,e)=>{e.useHtmlLabels||Ve().flowchart.htmlLabels||(e.centerLabel=!0);const{shapeSvg:n,bbox:i,halfPadding:a}=await Ca(t,e,"node "+e.classes,!0);he.info("Classes = ",e.classes);const s=n.insert("rect",":first-child");return s.attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-a).attr("y",-i.height/2-a).attr("width",i.width+e.padding).attr("height",i.height+e.padding),fi(e,s),e.intersect=function(o){return ri.rect(e,o)},n},"note"),sKe=aKe,GG=S(t=>t?" "+t:"","formatClass"),Ko=S((t,e)=>`${e||"node default"}${GG(t.classes)} ${GG(t.class)}`,"getClassesFromNode"),WG=S(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ca(t,e,Ko(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=i+a,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];he.info("Question main (Circle)");const l=vu(r,s,s,o);return l.attr("style",e.style),fi(e,l),e.intersect=function(u){return he.warn("Intersect called"),ri.polygon(e,o,u)},r},"question"),oKe=S((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=28,i=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return r.insert("polygon",":first-child").attr("points",i.map(function(s){return s.x+","+s.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(s){return ri.circle(e,14,s)},r},"choice"),lKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ca(t,e,Ko(e,void 0),!0),i=4,a=n.height+e.padding,s=a/i,o=n.width+2*s+e.padding,l=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}],u=vu(r,o,a,l);return u.attr("style",e.style),fi(e,u),e.intersect=function(h){return ri.polygon(e,l,h)},r},"hexagon"),uKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ca(t,e,void 0,!0),i=2,a=n.height+2*e.padding,s=a/i,o=n.width+2*s+e.padding,l=Jje(e.directions,n,e),u=vu(r,o,a,l);return u.attr("style",e.style),fi(e,u),e.intersect=function(h){return ri.polygon(e,l,h)},r},"block_arrow"),cKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ca(t,e,Ko(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:-a/2,y:0},{x:i,y:0},{x:i,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return vu(r,i,a,s).attr("style",e.style),e.width=i+a,e.height=a,e.intersect=function(l){return ri.polygon(e,s,l)},r},"rect_left_inv_arrow"),hKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ca(t,e,Ko(e),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:-2*a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:a/6,y:-a}],o=vu(r,i,a,s);return o.attr("style",e.style),fi(e,o),e.intersect=function(l){return ri.polygon(e,s,l)},r},"lean_right"),fKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ca(t,e,Ko(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:2*a/6,y:0},{x:i+a/6,y:0},{x:i-2*a/6,y:-a},{x:-a/6,y:-a}],o=vu(r,i,a,s);return o.attr("style",e.style),fi(e,o),e.intersect=function(l){return ri.polygon(e,s,l)},r},"lean_left"),dKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ca(t,e,Ko(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:-2*a/6,y:0},{x:i+2*a/6,y:0},{x:i-a/6,y:-a},{x:a/6,y:-a}],o=vu(r,i,a,s);return o.attr("style",e.style),fi(e,o),e.intersect=function(l){return ri.polygon(e,s,l)},r},"trapezoid"),pKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ca(t,e,Ko(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:-2*a/6,y:-a}],o=vu(r,i,a,s);return o.attr("style",e.style),fi(e,o),e.intersect=function(l){return ri.polygon(e,s,l)},r},"inv_trapezoid"),gKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ca(t,e,Ko(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:0,y:0},{x:i+a/2,y:0},{x:i,y:-a/2},{x:i+a/2,y:-a},{x:0,y:-a}],o=vu(r,i,a,s);return o.attr("style",e.style),fi(e,o),e.intersect=function(l){return ri.polygon(e,s,l)},r},"rect_right_inv_arrow"),vKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ca(t,e,Ko(e,void 0),!0),i=n.width+e.padding,a=i/2,s=a/(2.5+i/50),o=n.height+s+e.padding,l="M 0,"+s+" a "+a+","+s+" 0,0,0 "+i+" 0 a "+a+","+s+" 0,0,0 "+-i+" 0 l 0,"+o+" a "+a+","+s+" 0,0,0 "+i+" 0 l 0,"+-o,u=r.attr("label-offset-y",s).insert("path",":first-child").attr("style",e.style).attr("d",l).attr("transform","translate("+-i/2+","+-(o/2+s)+")");return fi(e,u),e.intersect=function(h){const f=ri.rect(e,h),d=f.x-e.x;if(a!=0&&(Math.abs(d)<e.width/2||Math.abs(d)==e.width/2&&Math.abs(f.y-e.y)>e.height/2-s)){let p=s*s*(1-d*d/(a*a));p!=0&&(p=Math.sqrt(p)),p=s-p,h.y-e.y>0&&(p=-p),f.y+=p}return f},r},"cylinder"),mKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Ca(t,e,"node "+e.classes+" "+e.class,!0),a=r.insert("rect",":first-child"),s=e.positioned?e.width:n.width+e.padding,o=e.positioned?e.height:n.height+e.padding,l=e.positioned?-s/2:-n.width/2-i,u=e.positioned?-o/2:-n.height/2-i;if(a.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",l).attr("y",u).attr("width",s).attr("height",o),e.props){const h=new Set(Object.keys(e.props));e.props.borders&&(jT(a,e.props.borders,s,o),h.delete("borders")),h.forEach(f=>{he.warn(`Unknown node property ${f}`)})}return fi(e,a),e.intersect=function(h){return ri.rect(e,h)},r},"rect"),yKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Ca(t,e,"node "+e.classes,!0),a=r.insert("rect",":first-child"),s=e.positioned?e.width:n.width+e.padding,o=e.positioned?e.height:n.height+e.padding,l=e.positioned?-s/2:-n.width/2-i,u=e.positioned?-o/2:-n.height/2-i;if(a.attr("class","basic cluster composite label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",l).attr("y",u).attr("width",s).attr("height",o),e.props){const h=new Set(Object.keys(e.props));e.props.borders&&(jT(a,e.props.borders,s,o),h.delete("borders")),h.forEach(f=>{he.warn(`Unknown node property ${f}`)})}return fi(e,a),e.intersect=function(h){return ri.rect(e,h)},r},"composite"),xKe=S(async(t,e)=>{const{shapeSvg:r}=await Ca(t,e,"label",!0);he.trace("Classes = ",e.class);const n=r.insert("rect",":first-child"),i=0,a=0;if(n.attr("width",i).attr("height",a),r.attr("class","label edgeLabel"),e.props){const s=new Set(Object.keys(e.props));e.props.borders&&(jT(n,e.props.borders,i,a),s.delete("borders")),s.forEach(o=>{he.warn(`Unknown node property ${o}`)})}return fi(e,n),e.intersect=function(s){return ri.rect(e,s)},r},"labelRect");function jT(t,e,r,n){const i=[],a=S(o=>{i.push(o,0)},"addBorder"),s=S(o=>{i.push(0,o)},"skipBorder");e.includes("t")?(he.debug("add top border"),a(r)):s(r),e.includes("r")?(he.debug("add right border"),a(n)):s(n),e.includes("b")?(he.debug("add bottom border"),a(r)):s(r),e.includes("l")?(he.debug("add left border"),a(n)):s(n),t.attr("stroke-dasharray",i.join(" "))}S(jT,"applyNodePropertyBorders");var bKe=S((t,e)=>{let r;e.classes?r="node "+e.classes:r="node default";const n=t.insert("g").attr("class",r).attr("id",e.domId||e.id),i=n.insert("rect",":first-child"),a=n.insert("line"),s=n.insert("g").attr("class","label"),o=e.labelText.flat?e.labelText.flat():e.labelText;let l="";typeof o=="object"?l=o[0]:l=o,he.info("Label text abc79",l,o,typeof o=="object");const u=s.node().appendChild(so(l,e.labelStyle,!0,!0));let h={width:0,height:0};if(Pn(Ve().flowchart.htmlLabels)){const m=u.children[0],x=yt(u);h=m.getBoundingClientRect(),x.attr("width",h.width),x.attr("height",h.height)}he.info("Text 2",o);const f=o.slice(1,o.length);let d=u.getBBox();const p=s.node().appendChild(so(f.join?f.join("<br/>"):f,e.labelStyle,!0,!0));if(Pn(Ve().flowchart.htmlLabels)){const m=p.children[0],x=yt(p);h=m.getBoundingClientRect(),x.attr("width",h.width),x.attr("height",h.height)}const v=e.padding/2;return yt(p).attr("transform","translate( "+(h.width>d.width?0:(d.width-h.width)/2)+", "+(d.height+v+5)+")"),yt(u).attr("transform","translate( "+(h.width<d.width?0:-(d.width-h.width)/2)+", 0)"),h=s.node().getBBox(),s.attr("transform","translate("+-h.width/2+", "+(-h.height/2-v+3)+")"),i.attr("class","outer title-state").attr("x",-h.width/2-v).attr("y",-h.height/2-v).attr("width",h.width+e.padding).attr("height",h.height+e.padding),a.attr("class","divider").attr("x1",-h.width/2-v).attr("x2",h.width/2+v).attr("y1",-h.height/2-v+d.height+v).attr("y2",-h.height/2-v+d.height+v),fi(e,i),e.intersect=function(m){return ri.rect(e,m)},n},"rectWithTitle"),wKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ca(t,e,Ko(e,void 0),!0),i=n.height+e.padding,a=n.width+i/4+e.padding,s=r.insert("rect",":first-child").attr("style",e.style).attr("rx",i/2).attr("ry",i/2).attr("x",-a/2).attr("y",-i/2).attr("width",a).attr("height",i);return fi(e,s),e.intersect=function(o){return ri.rect(e,o)},r},"stadium"),kKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Ca(t,e,Ko(e,void 0),!0),a=r.insert("circle",":first-child");return a.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i).attr("width",n.width+e.padding).attr("height",n.height+e.padding),he.info("Circle main"),fi(e,a),e.intersect=function(s){return he.info("Circle intersect",e,n.width/2+i,s),ri.circle(e,n.width/2+i,s)},r},"circle"),SKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Ca(t,e,Ko(e,void 0),!0),a=5,s=r.insert("g",":first-child"),o=s.insert("circle"),l=s.insert("circle");return s.attr("class",e.class),o.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i+a).attr("width",n.width+e.padding+a*2).attr("height",n.height+e.padding+a*2),l.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",n.width/2+i).attr("width",n.width+e.padding).attr("height",n.height+e.padding),he.info("DoubleCircle main"),fi(e,o),e.intersect=function(u){return he.info("DoubleCircle intersect",e,n.width/2+i+a,u),ri.circle(e,n.width/2+i+a,u)},r},"doublecircle"),EKe=S(async(t,e)=>{const{shapeSvg:r,bbox:n}=await Ca(t,e,Ko(e,void 0),!0),i=n.width+e.padding,a=n.height+e.padding,s=[{x:0,y:0},{x:i,y:0},{x:i,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],o=vu(r,i,a,s);return o.attr("style",e.style),fi(e,o),e.intersect=function(l){return ri.polygon(e,s,l)},r},"subroutine"),TKe=S((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),fi(e,n),e.intersect=function(i){return ri.circle(e,7,i)},r},"start"),qG=S((t,e,r)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let i=70,a=10;r==="LR"&&(i=10,a=70);const s=n.append("rect").attr("x",-1*i/2).attr("y",-1*a/2).attr("width",i).attr("height",a).attr("class","fork-join");return fi(e,s),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(o){return ri.rect(e,o)},n},"forkJoin"),CKe=S((t,e)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=r.insert("circle",":first-child"),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),fi(e,i),e.intersect=function(a){return ri.circle(e,7,a)},r},"end"),AKe=S((t,e)=>{var I;const r=e.padding/2,n=4,i=8;let a;e.classes?a="node "+e.classes:a="node default";const s=t.insert("g").attr("class",a).attr("id",e.domId||e.id),o=s.insert("rect",":first-child"),l=s.insert("line"),u=s.insert("line");let h=0,f=n;const d=s.insert("g").attr("class","label");let p=0;const v=(I=e.classData.annotations)==null?void 0:I[0],m=e.classData.annotations[0]?"«"+e.classData.annotations[0]+"»":"",x=d.node().appendChild(so(m,e.labelStyle,!0,!0));let y=x.getBBox();if(Pn(Ve().flowchart.htmlLabels)){const M=x.children[0],F=yt(x);y=M.getBoundingClientRect(),F.attr("width",y.width),F.attr("height",y.height)}e.classData.annotations[0]&&(f+=y.height+n,h+=y.width);let w=e.classData.label;e.classData.type!==void 0&&e.classData.type!==""&&(Ve().flowchart.htmlLabels?w+="&lt;"+e.classData.type+"&gt;":w+="<"+e.classData.type+">");const k=d.node().appendChild(so(w,e.labelStyle,!0,!0));yt(k).attr("class","classTitle");let E=k.getBBox();if(Pn(Ve().flowchart.htmlLabels)){const M=k.children[0],F=yt(k);E=M.getBoundingClientRect(),F.attr("width",E.width),F.attr("height",E.height)}f+=E.height+n,E.width>h&&(h=E.width);const C=[];e.classData.members.forEach(M=>{const F=M.getDisplayDetails();let N=F.displayText;Ve().flowchart.htmlLabels&&(N=N.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const z=d.node().appendChild(so(N,F.cssStyle?F.cssStyle:e.labelStyle,!0,!0));let V=z.getBBox();if(Pn(Ve().flowchart.htmlLabels)){const D=z.children[0],O=yt(z);V=D.getBoundingClientRect(),O.attr("width",V.width),O.attr("height",V.height)}V.width>h&&(h=V.width),f+=V.height+n,C.push(z)}),f+=i;const L=[];if(e.classData.methods.forEach(M=>{const F=M.getDisplayDetails();let N=F.displayText;Ve().flowchart.htmlLabels&&(N=N.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const z=d.node().appendChild(so(N,F.cssStyle?F.cssStyle:e.labelStyle,!0,!0));let V=z.getBBox();if(Pn(Ve().flowchart.htmlLabels)){const D=z.children[0],O=yt(z);V=D.getBoundingClientRect(),O.attr("width",V.width),O.attr("height",V.height)}V.width>h&&(h=V.width),f+=V.height+n,L.push(z)}),f+=i,v){let M=(h-y.width)/2;yt(x).attr("transform","translate( "+(-1*h/2+M)+", "+-1*f/2+")"),p=y.height+n}let _=(h-E.width)/2;return yt(k).attr("transform","translate( "+(-1*h/2+_)+", "+(-1*f/2+p)+")"),p+=E.height+n,l.attr("class","divider").attr("x1",-h/2-r).attr("x2",h/2+r).attr("y1",-f/2-r+i+p).attr("y2",-f/2-r+i+p),p+=i,C.forEach(M=>{yt(M).attr("transform","translate( "+-h/2+", "+(-1*f/2+p+i/2)+")");const F=M==null?void 0:M.getBBox();p+=((F==null?void 0:F.height)??0)+n}),p+=i,u.attr("class","divider").attr("x1",-h/2-r).attr("x2",h/2+r).attr("y1",-f/2-r+i+p).attr("y2",-f/2-r+i+p),p+=i,L.forEach(M=>{yt(M).attr("transform","translate( "+-h/2+", "+(-1*f/2+p)+")");const F=M==null?void 0:M.getBBox();p+=((F==null?void 0:F.height)??0)+n}),o.attr("style",e.style).attr("class","outer title-state").attr("x",-h/2-r).attr("y",-(f/2)-r).attr("width",h+e.padding).attr("height",f+e.padding),fi(e,o),e.intersect=function(M){return ri.rect(e,M)},s},"class_box"),YG={rhombus:WG,composite:yKe,question:WG,rect:mKe,labelRect:xKe,rectWithTitle:bKe,choice:oKe,circle:kKe,doublecircle:SKe,stadium:wKe,hexagon:lKe,block_arrow:uKe,rect_left_inv_arrow:cKe,lean_right:hKe,lean_left:fKe,trapezoid:dKe,inv_trapezoid:pKe,rect_right_inv_arrow:gKe,cylinder:vKe,start:TKe,end:CKe,note:sKe,subroutine:EKe,fork:qG,join:qG,class_box:AKe},Hg={},BI=S(async(t,e,r)=>{let n,i;if(e.link){let a;Ve().securityLevel==="sandbox"?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),n=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a),i=await YG[e.shape](n,e,r)}else i=await YG[e.shape](t,e,r),n=i;return e.tooltip&&i.attr("title",e.tooltip),e.class&&i.attr("class","node default "+e.class),Hg[e.id]=n,e.haveCallback&&Hg[e.id].attr("class",Hg[e.id].attr("class")+" clickable"),n},"insertNode"),_Ke=S((t,e)=>{Hg[e.id]=t},"setNodeElem"),LKe=S(()=>{Hg={}},"clear"),QL=S(t=>{const e=Hg[t.id];he.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=8,n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},"positionNode"),DKe=S((t,e,r,n,i)=>{e.arrowTypeStart&&XG(t,"start",e.arrowTypeStart,r,n,i),e.arrowTypeEnd&&XG(t,"end",e.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),RKe={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},XG=S((t,e,r,n,i,a)=>{const s=RKe[r];if(!s){he.warn(`Unknown arrow type: ${r}`);return}const o=e==="start"?"Start":"End";t.attr(`marker-${e}`,`url(${n}#${i}_${a}-${s}${o})`)},"addEdgeMarker"),yS={},Ia={},MKe=S(()=>{yS={},Ia={}},"clear"),Ile=S((t,e)=>{const r=Ve(),n=Pn(r.flowchart.htmlLabels),i=e.labelType==="markdown"?ec(t,e.label,{style:e.labelStyle,useHtmlLabels:n,addSvgBackground:!0},r):so(e.label,e.labelStyle),a=t.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label");s.node().appendChild(i);let o=i.getBBox();if(n){const u=i.children[0],h=yt(i);o=u.getBoundingClientRect(),h.attr("width",o.width),h.attr("height",o.height)}s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),yS[e.id]=a,e.width=o.width,e.height=o.height;let l;if(e.startLabelLeft){const u=so(e.startLabelLeft,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");l=f.node().appendChild(u);const d=u.getBBox();f.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),Ia[e.id]||(Ia[e.id]={}),Ia[e.id].startLeft=h,oy(l,e.startLabelLeft)}if(e.startLabelRight){const u=so(e.startLabelRight,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");l=h.node().appendChild(u),f.node().appendChild(u);const d=u.getBBox();f.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),Ia[e.id]||(Ia[e.id]={}),Ia[e.id].startRight=h,oy(l,e.startLabelRight)}if(e.endLabelLeft){const u=so(e.endLabelLeft,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");l=f.node().appendChild(u);const d=u.getBBox();f.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),h.node().appendChild(u),Ia[e.id]||(Ia[e.id]={}),Ia[e.id].endLeft=h,oy(l,e.endLabelLeft)}if(e.endLabelRight){const u=so(e.endLabelRight,e.labelStyle),h=t.insert("g").attr("class","edgeTerminals"),f=h.insert("g").attr("class","inner");l=f.node().appendChild(u);const d=u.getBBox();f.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),h.node().appendChild(u),Ia[e.id]||(Ia[e.id]={}),Ia[e.id].endRight=h,oy(l,e.endLabelRight)}return i},"insertEdgeLabel");function oy(t,e){Ve().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}S(oy,"setTerminalWidth");var Ole=S((t,e)=>{he.debug("Moving label abc88 ",t.id,t.label,yS[t.id],e);let r=e.updatedPath?e.updatedPath:e.originalPath;const n=Ve(),{subGraphTitleTotalMargin:i}=K0(n);if(t.label){const a=yS[t.id];let s=t.x,o=t.y;if(r){const l=Dr.calcLabelPosition(r);he.debug("Moving label "+t.label+" from (",s,",",o,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(s=l.x,o=l.y)}a.attr("transform",`translate(${s}, ${o+i/2})`)}if(t.startLabelLeft){const a=Ia[t.id].startLeft;let s=t.x,o=t.y;if(r){const l=Dr.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.startLabelRight){const a=Ia[t.id].startRight;let s=t.x,o=t.y;if(r){const l=Dr.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelLeft){const a=Ia[t.id].endLeft;let s=t.x,o=t.y;if(r){const l=Dr.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelRight){const a=Ia[t.id].endRight;let s=t.x,o=t.y;if(r){const l=Dr.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);s=l.x,o=l.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),NKe=S((t,e)=>{const r=t.x,n=t.y,i=Math.abs(e.x-r),a=Math.abs(e.y-n),s=t.width/2,o=t.height/2;return i>=s||a>=o},"outsideNode"),IKe=S((t,e,r)=>{he.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const n=t.x,i=t.y,a=Math.abs(n-r.x),s=t.width/2;let o=r.x<e.x?s-a:s+a;const l=t.height/2,u=Math.abs(e.y-r.y),h=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*s>Math.abs(n-e.x)*l){let f=r.y<e.y?e.y-l-i:i-l-e.y;o=h*f/u;const d={x:r.x<e.x?r.x+o:r.x-h+o,y:r.y<e.y?r.y+u-f:r.y-u+f};return o===0&&(d.x=e.x,d.y=e.y),h===0&&(d.x=e.x),u===0&&(d.y=e.y),he.debug(`abc89 topp/bott calc, Q ${u}, q ${f}, R ${h}, r ${o}`,d),d}else{r.x<e.x?o=e.x-s-n:o=n-s-e.x;let f=u*o/h,d=r.x<e.x?r.x+h-o:r.x-h+o,p=r.y<e.y?r.y+f:r.y-f;return he.debug(`sides calc abc89, Q ${u}, q ${f}, R ${h}, r ${o}`,{_x:d,_y:p}),o===0&&(d=e.x,p=e.y),h===0&&(d=e.x),u===0&&(p=e.y),{x:d,y:p}}},"intersection"),jG=S((t,e)=>{he.debug("abc88 cutPathAtIntersect",t,e);let r=[],n=t[0],i=!1;return t.forEach(a=>{if(!NKe(e,a)&&!i){const s=IKe(e,n,a);let o=!1;r.forEach(l=>{o=o||l.x===s.x&&l.y===s.y}),r.some(l=>l.x===s.x&&l.y===s.y)||r.push(s),i=!0}else n=a,i||r.push(a)}),r},"cutPathAtIntersect"),Fle=S(function(t,e,r,n,i,a,s){let o=r.points;he.debug("abc88 InsertEdge: edge=",r,"e=",e);let l=!1;const u=a.node(e.v);var h=a.node(e.w);h!=null&&h.intersect&&(u!=null&&u.intersect)&&(o=o.slice(1,r.points.length-1),o.unshift(u.intersect(o[0])),o.push(h.intersect(o[o.length-1]))),r.toCluster&&(he.debug("to cluster abc88",n[r.toCluster]),o=jG(r.points,n[r.toCluster].node),l=!0),r.fromCluster&&(he.debug("from cluster abc88",n[r.fromCluster]),o=jG(o.reverse(),n[r.fromCluster].node).reverse(),l=!0);const f=o.filter(E=>!Number.isNaN(E.y));let d=j1;r.curve&&(i==="graph"||i==="flowchart")&&(d=r.curve);const{x:p,y:v}=tZ(r),m=_f().x(p).y(v).curve(d);let x;switch(r.thickness){case"normal":x="edge-thickness-normal";break;case"thick":x="edge-thickness-thick";break;case"invisible":x="edge-thickness-thick";break;default:x=""}switch(r.pattern){case"solid":x+=" edge-pattern-solid";break;case"dotted":x+=" edge-pattern-dotted";break;case"dashed":x+=" edge-pattern-dashed";break}const y=t.append("path").attr("d",m(f)).attr("id",r.id).attr("class"," "+x+(r.classes?" "+r.classes:"")).attr("style",r.style);let w="";(Ve().flowchart.arrowMarkerAbsolute||Ve().state.arrowMarkerAbsolute)&&(w=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,w=w.replace(/\(/g,"\\("),w=w.replace(/\)/g,"\\)")),DKe(y,r,w,s,i);let k={};return l&&(k.updatedPath=o),k.originalPath=r.points,k},"insertEdge"),Fr={},Xl={},Ple={},OKe=S(()=>{Xl={},Ple={},Fr={}},"clear"),xS=S((t,e)=>(he.trace("In isDescendant",e," ",t," = ",Xl[e].includes(t)),!!Xl[e].includes(t)),"isDescendant"),FKe=S((t,e)=>(he.info("Descendants of ",e," is ",Xl[e]),he.info("Edge is ",t),t.v===e||t.w===e?!1:Xl[e]?Xl[e].includes(t.v)||xS(t.v,e)||xS(t.w,e)||Xl[e].includes(t.w):(he.debug("Tilt, ",e,",not in descendants"),!1)),"edgeInCluster"),Ble=S((t,e,r,n)=>{he.warn("Copying children of ",t,"root",n,"data",e.node(t),n);const i=e.children(t)||[];t!==n&&i.push(t),he.warn("Copying (nodes) clusterId",t,"nodes",i),i.forEach(a=>{if(e.children(a).length>0)Ble(a,e,r,n);else{const s=e.node(a);he.info("cp ",a," to ",n," with parent ",t),r.setNode(a,s),n!==e.parent(a)&&(he.warn("Setting parent",a,e.parent(a)),r.setParent(a,e.parent(a))),t!==n&&a!==t?(he.debug("Setting parent",a,t),r.setParent(a,t)):(he.info("In copy ",t,"root",n,"data",e.node(t),n),he.debug("Not Setting parent for node=",a,"cluster!==rootId",t!==n,"node!==clusterId",a!==t));const o=e.edges(a);he.debug("Copying Edges",o),o.forEach(l=>{he.info("Edge",l);const u=e.edge(l.v,l.w,l.name);he.info("Edge data",u,n);try{FKe(l,n)?(he.info("Copying as ",l.v,l.w,u,l.name),r.setEdge(l.v,l.w,u,l.name),he.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):he.info("Skipping copy of edge ",l.v,"-->",l.w," rootId: ",n," clusterId:",t)}catch(h){he.error(h)}})}he.debug("Removing node",a),e.removeNode(a)})},"copy"),$le=S((t,e)=>{const r=e.children(t);let n=[...r];for(const i of r)Ple[i]=t,n=[...n,...$le(i,e)];return n},"extractDescendants"),$2=S((t,e)=>{he.trace("Searching",t);const r=e.children(t);if(he.trace("Searching children of id ",t,r),r.length<1)return he.trace("This is a valid node",t),t;for(const n of r){const i=$2(n,e);if(i)return he.trace("Found replacement for",t," => ",i),i}},"findNonClusterChild"),D3=S(t=>!Fr[t]||!Fr[t].externalConnections?t:Fr[t]?Fr[t].id:t,"getAnchorId"),PKe=S((t,e)=>{if(!t||e>10){he.debug("Opting out, no graph ");return}else he.debug("Opting in, graph ");t.nodes().forEach(function(r){t.children(r).length>0&&(he.warn("Cluster identified",r," Replacement id in edges: ",$2(r,t)),Xl[r]=$le(r,t),Fr[r]={id:$2(r,t),clusterData:t.node(r)})}),t.nodes().forEach(function(r){const n=t.children(r),i=t.edges();n.length>0?(he.debug("Cluster identified",r,Xl),i.forEach(a=>{if(a.v!==r&&a.w!==r){const s=xS(a.v,r),o=xS(a.w,r);s^o&&(he.warn("Edge: ",a," leaves cluster ",r),he.warn("Descendants of XXX ",r,": ",Xl[r]),Fr[r].externalConnections=!0)}})):he.debug("Not a cluster ",r,Xl)});for(let r of Object.keys(Fr)){const n=Fr[r].id,i=t.parent(n);i!==r&&Fr[i]&&!Fr[i].externalConnections&&(Fr[r].id=i)}t.edges().forEach(function(r){const n=t.edge(r);he.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),he.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(t.edge(r)));let i=r.v,a=r.w;if(he.warn("Fix XXX",Fr,"ids:",r.v,r.w,"Translating: ",Fr[r.v]," --- ",Fr[r.w]),Fr[r.v]&&Fr[r.w]&&Fr[r.v]===Fr[r.w]){he.warn("Fixing and trixing link to self - removing XXX",r.v,r.w,r.name),he.warn("Fixing and trixing - removing XXX",r.v,r.w,r.name),i=D3(r.v),a=D3(r.w),t.removeEdge(r.v,r.w,r.name);const s=r.w+"---"+r.v;t.setNode(s,{domId:s,id:s,labelStyle:"",labelText:n.label,padding:0,shape:"labelRect",style:""});const o=structuredClone(n),l=structuredClone(n);o.label="",o.arrowTypeEnd="none",l.label="",o.fromCluster=r.v,l.toCluster=r.v,t.setEdge(i,s,o,r.name+"-cyclic-special"),t.setEdge(s,a,l,r.name+"-cyclic-special")}else if(Fr[r.v]||Fr[r.w]){if(he.warn("Fixing and trixing - removing XXX",r.v,r.w,r.name),i=D3(r.v),a=D3(r.w),t.removeEdge(r.v,r.w,r.name),i!==r.v){const s=t.parent(i);Fr[s].externalConnections=!0,n.fromCluster=r.v}if(a!==r.w){const s=t.parent(a);Fr[s].externalConnections=!0,n.toCluster=r.w}he.warn("Fix Replacing with XXX",i,a,r.name),t.setEdge(i,a,n,r.name)}}),he.warn("Adjusted Graph",Bi(t)),zle(t,0),he.trace(Fr)},"adjustClustersAndEdges"),zle=S((t,e)=>{var i,a;if(he.warn("extractor - ",e,Bi(t),t.children("D")),e>10){he.error("Bailing out");return}let r=t.nodes(),n=!1;for(const s of r){const o=t.children(s);n=n||o.length>0}if(!n){he.debug("Done, no node has children",t.nodes());return}he.debug("Nodes = ",r,e);for(const s of r)if(he.debug("Extracting node",s,Fr,Fr[s]&&!Fr[s].externalConnections,!t.parent(s),t.node(s),t.children("D")," Depth ",e),!Fr[s])he.debug("Not a cluster",s,e);else if(!Fr[s].externalConnections&&t.children(s)&&t.children(s).length>0){he.warn("Cluster without external connections, without a parent and with children",s,e);let l=t.graph().rankdir==="TB"?"LR":"TB";(a=(i=Fr[s])==null?void 0:i.clusterData)!=null&&a.dir&&(l=Fr[s].clusterData.dir,he.warn("Fixing dir",Fr[s].clusterData.dir,l));const u=new ca({multigraph:!0,compound:!0}).setGraph({rankdir:l,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});he.warn("Old graph before copy",Bi(t)),Ble(s,t,u,s),t.setNode(s,{clusterNode:!0,id:s,clusterData:Fr[s].clusterData,labelText:Fr[s].labelText,graph:u}),he.warn("New graph after copy node: (",s,")",Bi(u)),he.debug("Old graph after copy",Bi(t))}else he.warn("Cluster ** ",s," **not meeting the criteria !externalConnections:",!Fr[s].externalConnections," no parent: ",!t.parent(s)," children ",t.children(s)&&t.children(s).length>0,t.children("D"),e),he.debug(Fr);r=t.nodes(),he.warn("New list of nodes",r);for(const s of r){const o=t.node(s);he.warn(" Now next level",s,o),o.clusterNode&&zle(o.graph,e+1)}},"extractor"),Hle=S((t,e)=>{if(e.length===0)return[];let r=Object.assign(e);return e.forEach(n=>{const i=t.children(n),a=Hle(t,i);r=[...r,...a]}),r},"sorter"),BKe=S(t=>Hle(t,t.children()),"sortNodesByHierarchy"),$Ke=S((t,e)=>{he.info("Creating subgraph rect for ",e.id,e);const r=Ve(),n=t.insert("g").attr("class","cluster"+(e.class?" "+e.class:"")).attr("id",e.id),i=n.insert("rect",":first-child"),a=Pn(r.flowchart.htmlLabels),s=n.insert("g").attr("class","cluster-label"),o=e.labelType==="markdown"?ec(s,e.labelText,{style:e.labelStyle,useHtmlLabels:a},r):s.node().appendChild(so(e.labelText,e.labelStyle,void 0,!0));let l=o.getBBox();if(Pn(r.flowchart.htmlLabels)){const v=o.children[0],m=yt(o);l=v.getBoundingClientRect(),m.attr("width",l.width),m.attr("height",l.height)}const u=0*e.padding,h=u/2,f=e.width<=l.width+u?l.width+u:e.width;e.width<=l.width+u?e.diff=(l.width-e.width)/2-e.padding/2:e.diff=-e.padding/2,he.trace("Data ",e,JSON.stringify(e)),i.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-f/2).attr("y",e.y-e.height/2-h).attr("width",f).attr("height",e.height+u);const{subGraphTitleTopMargin:d}=K0(r);a?s.attr("transform",`translate(${e.x-l.width/2}, ${e.y-e.height/2+d})`):s.attr("transform",`translate(${e.x}, ${e.y-e.height/2+d})`);const p=i.node().getBBox();return e.width=p.width,e.height=p.height,e.intersect=function(v){return Rb(e,v)},n},"rect"),zKe=S((t,e)=>{const r=t.insert("g").attr("class","note-cluster").attr("id",e.id),n=r.insert("rect",":first-child"),i=0*e.padding,a=i/2;n.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2-a).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const s=n.node().getBBox();return e.width=s.width,e.height=s.height,e.intersect=function(o){return Rb(e,o)},r},"noteGroup"),HKe=S((t,e)=>{const r=Ve(),n=t.insert("g").attr("class",e.classes).attr("id",e.id),i=n.insert("rect",":first-child"),a=n.insert("g").attr("class","cluster-label"),s=n.append("rect"),o=a.node().appendChild(so(e.labelText,e.labelStyle,void 0,!0));let l=o.getBBox();if(Pn(r.flowchart.htmlLabels)){const v=o.children[0],m=yt(o);l=v.getBoundingClientRect(),m.attr("width",l.width),m.attr("height",l.height)}l=o.getBBox();const u=0*e.padding,h=u/2,f=e.width<=l.width+e.padding?l.width+e.padding:e.width;e.width<=l.width+e.padding?e.diff=(l.width+e.padding*0-e.width)/2:e.diff=-e.padding/2,i.attr("class","outer").attr("x",e.x-f/2-h).attr("y",e.y-e.height/2-h).attr("width",f+u).attr("height",e.height+u),s.attr("class","inner").attr("x",e.x-f/2-h).attr("y",e.y-e.height/2-h+l.height-1).attr("width",f+u).attr("height",e.height+u-l.height-3);const{subGraphTitleTopMargin:d}=K0(r);a.attr("transform",`translate(${e.x-l.width/2}, ${e.y-e.height/2-e.padding/3+(Pn(r.flowchart.htmlLabels)?5:3)+d})`);const p=i.node().getBBox();return e.height=p.height,e.intersect=function(v){return Rb(e,v)},n},"roundedWithTitle"),VKe=S((t,e)=>{const r=t.insert("g").attr("class",e.classes).attr("id",e.id),n=r.insert("rect",":first-child"),i=0*e.padding,a=i/2;n.attr("class","divider").attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2).attr("width",e.width+i).attr("height",e.height+i);const s=n.node().getBBox();return e.width=s.width,e.height=s.height,e.diff=-e.padding/2,e.intersect=function(o){return Rb(e,o)},r},"divider"),UKe={rect:$Ke,roundedWithTitle:HKe,noteGroup:zKe,divider:VKe},Vle={},GKe=S((t,e)=>{he.trace("Inserting cluster");const r=e.shape||"rect";Vle[e.id]=UKe[r](t,e)},"insertCluster"),WKe=S(()=>{Vle={}},"clear"),Ule=S(async(t,e,r,n,i,a)=>{he.info("Graph in recursive render: XXX",Bi(e),i);const s=e.graph().rankdir;he.trace("Dir in recursive render - dir:",s);const o=t.insert("g").attr("class","root");e.nodes()?he.info("Recursive render XXX",e.nodes()):he.info("No nodes found for",e),e.edges().length>0&&he.trace("Recursive edges",e.edge(e.edges()[0]));const l=o.insert("g").attr("class","clusters"),u=o.insert("g").attr("class","edgePaths"),h=o.insert("g").attr("class","edgeLabels"),f=o.insert("g").attr("class","nodes");await Promise.all(e.nodes().map(async function(v){const m=e.node(v);if(i!==void 0){const x=JSON.parse(JSON.stringify(i.clusterData));he.info("Setting data for cluster XXX (",v,") ",x,i),e.setNode(i.id,x),e.parent(v)||(he.trace("Setting parent",v,i.id),e.setParent(v,i.id,x))}if(he.info("(Insert) Node XXX"+v+": "+JSON.stringify(e.node(v))),m!=null&&m.clusterNode){he.info("Cluster identified",v,m.width,e.node(v));const{ranksep:x,nodesep:y}=e.graph();m.graph.setGraph({...m.graph.graph(),ranksep:x,nodesep:y});const w=await Ule(f,m.graph,r,n,e.node(v),a),k=w.elem;fi(m,k),m.diff=w.diff||0,he.info("Node bounds (abc123)",v,m,m.width,m.x,m.y),_Ke(k,m),he.warn("Recursive render complete ",k,m)}else e.children(v).length>0?(he.info("Cluster - the non recursive path XXX",v,m.id,m,e),he.info($2(m.id,e)),Fr[m.id]={id:$2(m.id,e),node:m}):(he.info("Node - the non recursive path",v,m.id,m),await BI(f,e.node(v),{config:a,dir:s}))})),e.edges().forEach(async function(v){const m=e.edge(v.v,v.w,v.name);he.info("Edge "+v.v+" -> "+v.w+": "+JSON.stringify(v)),he.info("Edge "+v.v+" -> "+v.w+": ",v," ",JSON.stringify(e.edge(v))),he.info("Fix",Fr,"ids:",v.v,v.w,"Translating: ",Fr[v.v],Fr[v.w]),await Ile(h,m)}),e.edges().forEach(function(v){he.info("Edge "+v.v+" -> "+v.w+": "+JSON.stringify(v))}),he.info("Graph before layout:",JSON.stringify(Bi(e))),he.info("#############################################"),he.info("###                Layout                 ###"),he.info("#############################################"),he.info(e),lv(e),he.info("Graph after layout:",JSON.stringify(Bi(e)));let d=0;const{subGraphTitleTotalMargin:p}=K0(a);return BKe(e).forEach(function(v){const m=e.node(v);he.info("Position "+v+": "+JSON.stringify(e.node(v))),he.info("Position "+v+": ("+m.x,","+m.y,") width: ",m.width," height: ",m.height),m!=null&&m.clusterNode?(m.y+=p,QL(m)):e.children(v).length>0?(m.height+=p,GKe(l,m),Fr[m.id].node=m):(m.y+=p/2,QL(m))}),e.edges().forEach(function(v){const m=e.edge(v);he.info("Edge "+v.v+" -> "+v.w+": "+JSON.stringify(m),m),m.points.forEach(y=>y.y+=p/2);const x=Fle(u,v,m,Fr,r,e,n);Ole(m,x)}),e.nodes().forEach(function(v){const m=e.node(v);he.info(v,m.type,m.diff),m.type==="group"&&(d=m.diff)}),{elem:o,diff:d}},"recursiveRender"),qKe=S(async(t,e,r,n,i)=>{Cle(t,r,n,i),LKe(),MKe(),WKe(),OKe(),he.warn("Graph at first:",JSON.stringify(Bi(e))),PKe(e),he.warn("Graph after:",JSON.stringify(Bi(e)));const a=Ve();await Ule(t,e,n,i,void 0,a)},"render"),$I=S(t=>Et.sanitizeText(t,Ve()),"sanitizeText"),ZL={dividerMargin:10,padding:5,textHeight:10,curve:void 0},YKe=S(function(t,e,r,n){he.info("keys:",[...t.keys()]),he.info(t),t.forEach(function(i){var o,l;const s={shape:"rect",id:i.id,domId:i.domId,labelText:$I(i.id),labelStyle:"",style:"fill: none; stroke: black",padding:((o=Ve().flowchart)==null?void 0:o.padding)??((l=Ve().class)==null?void 0:l.padding)};e.setNode(i.id,s),Gle(i.classes,e,r,n,i.id),he.info("setNode",s)})},"addNamespaces"),Gle=S(function(t,e,r,n,i){he.info("keys:",[...t.keys()]),he.info(t),[...t.values()].filter(a=>a.parent===i).forEach(function(a){var d,p;const s=a.cssClasses.join(" "),o=ab(a.styles),l=a.label??a.id,u=0,h="class_box",f={labelStyle:o.labelStyle,shape:h,labelText:$I(l),classData:a,rx:u,ry:u,class:s,style:o.style,id:a.id,domId:a.domId,tooltip:n.db.getTooltip(a.id,i)||"",haveCallback:a.haveCallback,link:a.link,width:a.type==="group"?500:void 0,type:a.type,padding:((d=Ve().flowchart)==null?void 0:d.padding)??((p=Ve().class)==null?void 0:p.padding)};e.setNode(a.id,f),i&&e.setParent(a.id,i),he.info("setNode",f)})},"addClasses"),XKe=S(function(t,e,r,n){he.info(t),t.forEach(function(i,a){var m,x;const s=i,o="",l={labelStyle:"",style:""},u=s.text,h=0,f="note",d={labelStyle:l.labelStyle,shape:f,labelText:$I(u),noteData:s,rx:h,ry:h,class:o,style:l.style,id:s.id,domId:s.id,tooltip:"",type:"note",padding:((m=Ve().flowchart)==null?void 0:m.padding)??((x=Ve().class)==null?void 0:x.padding)};if(e.setNode(s.id,d),he.info("setNode",d),!s.class||!n.has(s.class))return;const p=r+a,v={id:`edgeNote${p}`,classes:"relation",pattern:"dotted",arrowhead:"none",startLabelRight:"",endLabelLeft:"",arrowTypeStart:"none",arrowTypeEnd:"none",style:"fill:none",labelStyle:"",curve:ib(ZL.curve,SE)};e.setEdge(s.id,s.class,v,p)})},"addNotes"),jKe=S(function(t,e){const r=Ve().flowchart;let n=0;t.forEach(function(i){var s;n++;const a={classes:"relation",pattern:i.relation.lineType==1?"dashed":"solid",id:$J(i.id1,i.id2,{prefix:"id",counter:n}),arrowhead:i.type==="arrow_open"?"none":"normal",startLabelRight:i.relationTitle1==="none"?"":i.relationTitle1,endLabelLeft:i.relationTitle2==="none"?"":i.relationTitle2,arrowTypeStart:JL(i.relation.type1),arrowTypeEnd:JL(i.relation.type2),style:"fill:none",labelStyle:"",curve:ib(r==null?void 0:r.curve,SE)};if(he.info(a,i),i.style!==void 0){const o=ab(i.style);a.style=o.style,a.labelStyle=o.labelStyle}i.text=i.title,i.text===void 0?i.style!==void 0&&(a.arrowheadStyle="fill: #333"):(a.arrowheadStyle="fill: #333",a.labelpos="c",((s=Ve().flowchart)==null?void 0:s.htmlLabels)??Ve().htmlLabels?(a.labelType="html",a.label='<span class="edgeLabel">'+i.text+"</span>"):(a.labelType="text",a.label=i.text.replace(Et.lineBreakRegex,`
`),i.style===void 0&&(a.style=a.style||"stroke: #333; stroke-width: 1.5px;fill:none"),a.labelStyle=a.labelStyle.replace("color:","fill:"))),e.setEdge(i.id1,i.id2,a,n)})},"addRelations"),KKe=S(function(t){ZL={...ZL,...t}},"setConf"),QKe=S(async function(t,e,r,n){he.info("Drawing class - ",e);const i=Ve().flowchart??Ve().class,a=Ve().securityLevel;he.info("config:",i);const s=(i==null?void 0:i.nodeSpacing)??50,o=(i==null?void 0:i.rankSpacing)??50,l=new ca({multigraph:!0,compound:!0}).setGraph({rankdir:n.db.getDirection(),nodesep:s,ranksep:o,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),u=n.db.getNamespaces(),h=n.db.getClasses(),f=n.db.getRelations(),d=n.db.getNotes();he.info(f),YKe(u,l,e,n),Gle(h,l,e,n),jKe(f,l),XKe(d,l,f.length+1,h);let p;a==="sandbox"&&(p=yt("#i"+e));const v=yt(a==="sandbox"?p.nodes()[0].contentDocument.body:"body"),m=v.select(`[id="${e}"]`),x=v.select("#"+e+" g");if(await qKe(x,l,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",e),Dr.insertTitle(m,"classTitleText",(i==null?void 0:i.titleTopMargin)??5,n.db.getDiagramTitle()),X1(l,m,i==null?void 0:i.diagramPadding,i==null?void 0:i.useMaxWidth),!(i!=null&&i.htmlLabels)){const y=a==="sandbox"?p.nodes()[0].contentDocument:document,w=y.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const k of w){const E=k.getBBox(),C=y.createElementNS("http://www.w3.org/2000/svg","rect");C.setAttribute("rx",0),C.setAttribute("ry",0),C.setAttribute("width",E.width),C.setAttribute("height",E.height),k.insertBefore(C,k.firstChild)}}},"draw");function JL(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}S(JL,"getArrowMarker");var ZKe={setConf:KKe,draw:QKe},JKe={parser:ble,db:mS,renderer:ZKe,styles:Ele,init:S(t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,mS.clear()},"init")};const eQe=Object.freeze(Object.defineProperty({__proto__:null,diagram:JKe},Symbol.toStringTag,{value:"Module"}));var eD=function(){var t=S(function(B,H,X,q){for(X=X||{},q=B.length;q--;X[B[q]]=H);return X},"o"),e=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],o=[1,16],l=[1,17],u=[1,18],h=[1,19],f=[1,32],d=[1,20],p=[1,21],v=[1,22],m=[1,23],x=[1,24],y=[1,26],w=[1,27],k=[1,28],E=[1,29],C=[1,30],L=[1,31],_=[1,34],I=[1,35],M=[1,36],F=[1,37],N=[1,33],z=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],V=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],D=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],O={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,style:42,STYLE_IDS:43,STYLEDEF_STYLEOPTS:44,class:45,CLASSENTITY_IDS:46,STYLECLASS:47,direction_tb:48,direction_bt:49,direction_rl:50,direction_lr:51,eol:52,";":53,EDGE_STATE:54,STYLE_SEPARATOR:55,left_of:56,right_of:57,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"style",43:"STYLE_IDS",44:"STYLEDEF_STYLEOPTS",45:"class",46:"CLASSENTITY_IDS",47:"STYLECLASS",48:"direction_tb",49:"direction_bt",50:"direction_rl",51:"direction_lr",53:";",54:"EDGE_STATE",55:"STYLE_SEPARATOR",56:"left_of",57:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[52,1],[52,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:S(function(H,X,q,Y,U,J,ce){var re=J.length-1;switch(U){case 3:return Y.setRootDoc(J[re]),J[re];case 4:this.$=[];break;case 5:J[re]!="nl"&&(J[re-1].push(J[re]),this.$=J[re-1]);break;case 6:case 7:this.$=J[re];break;case 8:this.$="nl";break;case 12:this.$=J[re];break;case 13:const ue=J[re-1];ue.description=Y.trimColon(J[re]),this.$=ue;break;case 14:this.$={stmt:"relation",state1:J[re-2],state2:J[re]};break;case 15:const ae=Y.trimColon(J[re]);this.$={stmt:"relation",state1:J[re-3],state2:J[re-1],description:ae};break;case 19:this.$={stmt:"state",id:J[re-3],type:"default",description:"",doc:J[re-1]};break;case 20:var ve=J[re],ye=J[re-2].trim();if(J[re].match(":")){var Z=J[re].split(":");ve=Z[0],ye=[ye,Z[1]]}this.$={stmt:"state",id:ve,type:"default",description:ye};break;case 21:this.$={stmt:"state",id:J[re-3],type:"default",description:J[re-5],doc:J[re-1]};break;case 22:this.$={stmt:"state",id:J[re],type:"fork"};break;case 23:this.$={stmt:"state",id:J[re],type:"join"};break;case 24:this.$={stmt:"state",id:J[re],type:"choice"};break;case 25:this.$={stmt:"state",id:Y.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:J[re-1].trim(),note:{position:J[re-2].trim(),text:J[re].trim()}};break;case 29:this.$=J[re].trim(),Y.setAccTitle(this.$);break;case 30:case 31:this.$=J[re].trim(),Y.setAccDescription(this.$);break;case 32:case 33:this.$={stmt:"classDef",id:J[re-1].trim(),classes:J[re].trim()};break;case 34:this.$={stmt:"style",id:J[re-1].trim(),styleClass:J[re].trim()};break;case 35:this.$={stmt:"applyClass",id:J[re-1].trim(),styleClass:J[re].trim()};break;case 36:Y.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 37:Y.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 38:Y.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 39:Y.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 42:case 43:this.$={stmt:"state",id:J[re].trim(),type:"default",description:""};break;case 44:this.$={stmt:"state",id:J[re-2].trim(),classes:[J[re].trim()],type:"default",description:""};break;case 45:this.$={stmt:"state",id:J[re-2].trim(),classes:[J[re].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:e,5:r,6:n},{1:[3]},{3:5,4:e,5:r,6:n},{3:6,4:e,5:r,6:n},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,22:h,24:f,25:d,26:p,27:v,28:m,29:x,32:25,33:y,35:w,37:k,38:E,42:C,45:L,48:_,49:I,50:M,51:F,54:N},t(z,[2,5]),{9:38,10:12,11:13,12:14,13:15,16:o,17:l,19:u,22:h,24:f,25:d,26:p,27:v,28:m,29:x,32:25,33:y,35:w,37:k,38:E,42:C,45:L,48:_,49:I,50:M,51:F,54:N},t(z,[2,7]),t(z,[2,8]),t(z,[2,9]),t(z,[2,10]),t(z,[2,11]),t(z,[2,12],{14:[1,39],15:[1,40]}),t(z,[2,16]),{18:[1,41]},t(z,[2,18],{20:[1,42]}),{23:[1,43]},t(z,[2,22]),t(z,[2,23]),t(z,[2,24]),t(z,[2,25]),{30:44,31:[1,45],56:[1,46],57:[1,47]},t(z,[2,28]),{34:[1,48]},{36:[1,49]},t(z,[2,31]),{39:[1,50],41:[1,51]},{43:[1,52]},{46:[1,53]},t(V,[2,42],{55:[1,54]}),t(V,[2,43],{55:[1,55]}),t(z,[2,36]),t(z,[2,37]),t(z,[2,38]),t(z,[2,39]),t(z,[2,6]),t(z,[2,13]),{13:56,24:f,54:N},t(z,[2,17]),t(D,i,{7:57}),{24:[1,58]},{24:[1,59]},{23:[1,60]},{24:[2,46]},{24:[2,47]},t(z,[2,29]),t(z,[2,30]),{40:[1,61]},{40:[1,62]},{44:[1,63]},{47:[1,64]},{24:[1,65]},{24:[1,66]},t(z,[2,14],{14:[1,67]}),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,21:[1,68],22:h,24:f,25:d,26:p,27:v,28:m,29:x,32:25,33:y,35:w,37:k,38:E,42:C,45:L,48:_,49:I,50:M,51:F,54:N},t(z,[2,20],{20:[1,69]}),{31:[1,70]},{24:[1,71]},t(z,[2,32]),t(z,[2,33]),t(z,[2,34]),t(z,[2,35]),t(V,[2,44]),t(V,[2,45]),t(z,[2,15]),t(z,[2,19]),t(D,i,{7:72}),t(z,[2,26]),t(z,[2,27]),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,21:[1,73],22:h,24:f,25:d,26:p,27:v,28:m,29:x,32:25,33:y,35:w,37:k,38:E,42:C,45:L,48:_,49:I,50:M,51:F,54:N},t(z,[2,21])],defaultActions:{5:[2,1],6:[2,2],46:[2,46],47:[2,47]},parseError:S(function(H,X){if(X.recoverable)this.trace(H);else{var q=new Error(H);throw q.hash=X,q}},"parseError"),parse:S(function(H){var X=this,q=[0],Y=[],U=[null],J=[],ce=this.table,re="",ve=0,ye=0,Z=2,ue=1,ae=J.slice.call(arguments,1),pe=Object.create(this.lexer),Ee={yy:{}};for(var Se in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Se)&&(Ee.yy[Se]=this.yy[Se]);pe.setInput(H,Ee.yy),Ee.yy.lexer=pe,Ee.yy.parser=this,typeof pe.yylloc>"u"&&(pe.yylloc={});var de=pe.yylloc;J.push(de);var be=pe.options&&pe.options.ranges;typeof Ee.yy.parseError=="function"?this.parseError=Ee.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function oe(ie){q.length=q.length-2*ie,U.length=U.length-ie,J.length=J.length-ie}S(oe,"popStack");function we(){var ie;return ie=Y.pop()||pe.lex()||ue,typeof ie!="number"&&(ie instanceof Array&&(Y=ie,ie=Y.pop()),ie=X.symbols_[ie]||ie),ie}S(we,"lex");for(var Re,Pe,Ge,je,We={},me,Te,fe,W;;){if(Pe=q[q.length-1],this.defaultActions[Pe]?Ge=this.defaultActions[Pe]:((Re===null||typeof Re>"u")&&(Re=we()),Ge=ce[Pe]&&ce[Pe][Re]),typeof Ge>"u"||!Ge.length||!Ge[0]){var j="";W=[];for(me in ce[Pe])this.terminals_[me]&&me>Z&&W.push("'"+this.terminals_[me]+"'");pe.showPosition?j="Parse error on line "+(ve+1)+`:
`+pe.showPosition()+`
Expecting `+W.join(", ")+", got '"+(this.terminals_[Re]||Re)+"'":j="Parse error on line "+(ve+1)+": Unexpected "+(Re==ue?"end of input":"'"+(this.terminals_[Re]||Re)+"'"),this.parseError(j,{text:pe.match,token:this.terminals_[Re]||Re,line:pe.yylineno,loc:de,expected:W})}if(Ge[0]instanceof Array&&Ge.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Pe+", token: "+Re);switch(Ge[0]){case 1:q.push(Re),U.push(pe.yytext),J.push(pe.yylloc),q.push(Ge[1]),Re=null,ye=pe.yyleng,re=pe.yytext,ve=pe.yylineno,de=pe.yylloc;break;case 2:if(Te=this.productions_[Ge[1]][1],We.$=U[U.length-Te],We._$={first_line:J[J.length-(Te||1)].first_line,last_line:J[J.length-1].last_line,first_column:J[J.length-(Te||1)].first_column,last_column:J[J.length-1].last_column},be&&(We._$.range=[J[J.length-(Te||1)].range[0],J[J.length-1].range[1]]),je=this.performAction.apply(We,[re,ye,ve,Ee.yy,Ge[1],U,J].concat(ae)),typeof je<"u")return je;Te&&(q=q.slice(0,-1*Te*2),U=U.slice(0,-1*Te),J=J.slice(0,-1*Te)),q.push(this.productions_[Ge[1]][0]),U.push(We.$),J.push(We._$),fe=ce[q[q.length-2]][q[q.length-1]],q.push(fe);break;case 3:return!0}}return!0},"parse")},P=function(){var B={EOF:1,parseError:S(function(X,q){if(this.yy.parser)this.yy.parser.parseError(X,q);else throw new Error(X)},"parseError"),setInput:S(function(H,X){return this.yy=X||this.yy||{},this._input=H,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var H=this._input[0];this.yytext+=H,this.yyleng++,this.offset++,this.match+=H,this.matched+=H;var X=H.match(/(?:\r\n?|\n).*/g);return X?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),H},"input"),unput:S(function(H){var X=H.length,q=H.split(/(?:\r\n?|\n)/g);this._input=H+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-X),this.offset-=X;var Y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),q.length-1&&(this.yylineno-=q.length-1);var U=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:q?(q.length===Y.length?this.yylloc.first_column:0)+Y[Y.length-q.length].length-q[0].length:this.yylloc.first_column-X},this.options.ranges&&(this.yylloc.range=[U[0],U[0]+this.yyleng-X]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(H){this.unput(this.match.slice(H))},"less"),pastInput:S(function(){var H=this.matched.substr(0,this.matched.length-this.match.length);return(H.length>20?"...":"")+H.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var H=this.match;return H.length<20&&(H+=this._input.substr(0,20-H.length)),(H.substr(0,20)+(H.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var H=this.pastInput(),X=new Array(H.length+1).join("-");return H+this.upcomingInput()+`
`+X+"^"},"showPosition"),test_match:S(function(H,X){var q,Y,U;if(this.options.backtrack_lexer&&(U={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(U.yylloc.range=this.yylloc.range.slice(0))),Y=H[0].match(/(?:\r\n?|\n).*/g),Y&&(this.yylineno+=Y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Y?Y[Y.length-1].length-Y[Y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+H[0].length},this.yytext+=H[0],this.match+=H[0],this.matches=H,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(H[0].length),this.matched+=H[0],q=this.performAction.call(this,this.yy,this,X,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),q)return q;if(this._backtrack){for(var J in U)this[J]=U[J];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var H,X,q,Y;this._more||(this.yytext="",this.match="");for(var U=this._currentRules(),J=0;J<U.length;J++)if(q=this._input.match(this.rules[U[J]]),q&&(!X||q[0].length>X[0].length)){if(X=q,Y=J,this.options.backtrack_lexer){if(H=this.test_match(q,U[J]),H!==!1)return H;if(this._backtrack){X=!1;continue}else return!1}else if(!this.options.flex)break}return X?(H=this.test_match(X,U[Y]),H!==!1?H:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var X=this.next();return X||this.lex()},"lex"),begin:S(function(X){this.conditionStack.push(X)},"begin"),popState:S(function(){var X=this.conditionStack.length-1;return X>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function(X){return X=this.conditionStack.length-1-Math.abs(X||0),X>=0?this.conditionStack[X]:"INITIAL"},"topState"),pushState:S(function(X){this.begin(X)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:S(function(X,q,Y,U){switch(Y){case 0:return 41;case 1:return 48;case 2:return 49;case 3:return 50;case 4:return 51;case 5:break;case 6:break;case 7:return 5;case 8:break;case 9:break;case 10:break;case 11:break;case 12:return this.pushState("SCALE"),17;case 13:return 18;case 14:this.popState();break;case 15:return this.begin("acc_title"),33;case 16:return this.popState(),"acc_title_value";case 17:return this.begin("acc_descr"),35;case 18:return this.popState(),"acc_descr_value";case 19:this.begin("acc_descr_multiline");break;case 20:this.popState();break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),38;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 24:return this.popState(),this.pushState("CLASSDEFID"),39;case 25:return this.popState(),40;case 26:return this.pushState("CLASS"),45;case 27:return this.popState(),this.pushState("CLASS_STYLE"),46;case 28:return this.popState(),47;case 29:return this.pushState("STYLE"),42;case 30:return this.popState(),this.pushState("STYLEDEF_STYLES"),43;case 31:return this.popState(),44;case 32:return this.pushState("SCALE"),17;case 33:return 18;case 34:this.popState();break;case 35:this.pushState("STATE");break;case 36:return this.popState(),q.yytext=q.yytext.slice(0,-8).trim(),25;case 37:return this.popState(),q.yytext=q.yytext.slice(0,-8).trim(),26;case 38:return this.popState(),q.yytext=q.yytext.slice(0,-10).trim(),27;case 39:return this.popState(),q.yytext=q.yytext.slice(0,-8).trim(),25;case 40:return this.popState(),q.yytext=q.yytext.slice(0,-8).trim(),26;case 41:return this.popState(),q.yytext=q.yytext.slice(0,-10).trim(),27;case 42:return 48;case 43:return 49;case 44:return 50;case 45:return 51;case 46:this.pushState("STATE_STRING");break;case 47:return this.pushState("STATE_ID"),"AS";case 48:return this.popState(),"ID";case 49:this.popState();break;case 50:return"STATE_DESCR";case 51:return 19;case 52:this.popState();break;case 53:return this.popState(),this.pushState("struct"),20;case 54:break;case 55:return this.popState(),21;case 56:break;case 57:return this.begin("NOTE"),29;case 58:return this.popState(),this.pushState("NOTE_ID"),56;case 59:return this.popState(),this.pushState("NOTE_ID"),57;case 60:this.popState(),this.pushState("FLOATING_NOTE");break;case 61:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 62:break;case 63:return"NOTE_TEXT";case 64:return this.popState(),"ID";case 65:return this.popState(),this.pushState("NOTE_TEXT"),24;case 66:return this.popState(),q.yytext=q.yytext.substr(2).trim(),31;case 67:return this.popState(),q.yytext=q.yytext.slice(0,-8).trim(),31;case 68:return 6;case 69:return 6;case 70:return 16;case 71:return 54;case 72:return 24;case 73:return q.yytext=q.yytext.trim(),14;case 74:return 15;case 75:return 28;case 76:return 55;case 77:return 5;case 78:return"INVALID"}},"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,29,35,42,43,44,45,54,55,56,57,71,72,73,74,75],inclusive:!1},FLOATING_NOTE_ID:{rules:[64],inclusive:!1},FLOATING_NOTE:{rules:[61,62,63],inclusive:!1},NOTE_TEXT:{rules:[66,67],inclusive:!1},NOTE_ID:{rules:[65],inclusive:!1},NOTE:{rules:[58,59,60],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[31],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[30],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,33,34],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[48],inclusive:!1},STATE_STRING:{rules:[49,50],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,36,37,38,39,40,41,46,47,51,52,53],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,35,53,57,68,69,70,71,72,73,74,76,77,78],inclusive:!0}}};return B}();O.lexer=P;function $(){this.yy={}}return S($,"Parser"),$.prototype=O,O.Parser=$,new $}();eD.parser=eD;var Wle=eD,tQe="LR",qle="TB",bS="state",zI="relation",rQe="classDef",nQe="style",iQe="applyClass",Mb="default",Yle="divider",Xle="fill:none",jle="fill: #333",Kle="c",Qle="text",Zle="normal",X8="rect",j8="rectWithTitle",aQe="stateStart",sQe="stateEnd",KG="divider",QG="roundedWithTitle",oQe="note",lQe="noteGroup",Nb="statediagram",uQe="state",cQe=`${Nb}-${uQe}`,Jle="transition",hQe="note",fQe="note-edge",dQe=`${Jle} ${fQe}`,pQe=`${Nb}-${hQe}`,gQe="cluster",vQe=`${Nb}-${gQe}`,mQe="cluster-alt",yQe=`${Nb}-${mQe}`,eue="parent",tue="note",xQe="state",HI="----",bQe=`${HI}${tue}`,ZG=`${HI}${eue}`,rue=S((t,e=qle)=>{if(!t.doc)return e;let r=e;for(const n of t.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),wQe=S(function(t,e){return e.db.extract(e.db.getRootDocV2()),e.db.getClasses()},"getClasses"),kQe=S(async function(t,e,r,n){he.info("REF0:"),he.info("Drawing state diagram (v2)",e);const{securityLevel:i,state:a,layout:s}=Ve();n.db.extract(n.db.getRootDocV2());const o=n.db.getData(),l=die(e,i);o.type=n.type,o.layoutAlgorithm=s,o.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,o.rankSpacing=(a==null?void 0:a.rankSpacing)||50,o.markers=["barb"],o.diagramId=e,await Oee(o,l);const u=8;Dr.insertTitle(l,"statediagramTitleText",(a==null?void 0:a.titleTopMargin)??25,n.db.getDiagramTitle()),pie(l,u,Nb,(a==null?void 0:a.useMaxWidth)??!0)},"draw"),SQe={getClasses:wQe,draw:kQe,getDir:rue},Vw=new Map,Qh=0;function Uw(t="",e=0,r="",n=HI){const i=r!==null&&r.length>0?`${n}${r}`:"";return`${xQe}-${t}${i}-${e}`}S(Uw,"stateDomId");var EQe=S((t,e,r,n,i,a,s,o)=>{he.trace("items",e),e.forEach(l=>{switch(l.stmt){case bS:uy(t,l,r,n,i,a,s,o);break;case Mb:uy(t,l,r,n,i,a,s,o);break;case zI:{uy(t,l.state1,r,n,i,a,s,o),uy(t,l.state2,r,n,i,a,s,o);const u={id:"edge"+Qh,start:l.state1.id,end:l.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:Xle,labelStyle:"",label:Et.sanitizeText(l.description,Ve()),arrowheadStyle:jle,labelpos:Kle,labelType:Qle,thickness:Zle,classes:Jle,look:s};i.push(u),Qh++}break}})},"setupDoc"),JG=S((t,e=qle)=>{let r=e;if(t.doc)for(const n of t.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir");function ly(t,e,r){if(!e.id||e.id==="</join></fork>"||e.id==="</choice>")return;e.cssClasses&&(Array.isArray(e.cssCompiledStyles)||(e.cssCompiledStyles=[]),e.cssClasses.split(" ").forEach(i=>{if(r.get(i)){const a=r.get(i);e.cssCompiledStyles=[...e.cssCompiledStyles,...a.styles]}}));const n=t.find(i=>i.id===e.id);n?Object.assign(n,e):t.push(e)}S(ly,"insertOrUpdateNode");function nue(t){var e;return((e=t==null?void 0:t.classes)==null?void 0:e.join(" "))??""}S(nue,"getClassesFromDbInfo");function iue(t){return(t==null?void 0:t.styles)??[]}S(iue,"getStylesFromDbInfo");var uy=S((t,e,r,n,i,a,s,o)=>{var d,p;const l=e.id,u=r.get(l),h=nue(u),f=iue(u);if(he.info("dataFetcher parsedItem",e,u,f),l!=="root"){let v=X8;e.start===!0?v=aQe:e.start===!1&&(v=sQe),e.type!==Mb&&(v=e.type),Vw.get(l)||Vw.set(l,{id:l,shape:v,description:Et.sanitizeText(l,Ve()),cssClasses:`${h} ${cQe}`,cssStyles:f});const m=Vw.get(l);e.description&&(Array.isArray(m.description)?(m.shape=j8,m.description.push(e.description)):((d=m.description)==null?void 0:d.length)>0?(m.shape=j8,m.description===l?m.description=[e.description]:m.description=[m.description,e.description]):(m.shape=X8,m.description=e.description),m.description=Et.sanitizeTextOrArray(m.description,Ve())),((p=m.description)==null?void 0:p.length)===1&&m.shape===j8&&(m.type==="group"?m.shape=QG:m.shape=X8),!m.type&&e.doc&&(he.info("Setting cluster for XCX",l,JG(e)),m.type="group",m.isGroup=!0,m.dir=JG(e),m.shape=e.type===Yle?KG:QG,m.cssClasses=`${m.cssClasses} ${vQe} ${a?yQe:""}`);const x={labelStyle:"",shape:m.shape,label:m.description,cssClasses:m.cssClasses,cssCompiledStyles:[],cssStyles:m.cssStyles,id:l,dir:m.dir,domId:Uw(l,Qh),type:m.type,isGroup:m.type==="group",padding:8,rx:10,ry:10,look:s};if(x.shape===KG&&(x.label=""),t&&t.id!=="root"&&(he.trace("Setting node ",l," to be child of its parent ",t.id),x.parentId=t.id),x.centerLabel=!0,e.note){const y={labelStyle:"",shape:oQe,label:e.note.text,cssClasses:pQe,cssStyles:[],cssCompilesStyles:[],id:l+bQe+"-"+Qh,domId:Uw(l,Qh,tue),type:m.type,isGroup:m.type==="group",padding:Ve().flowchart.padding,look:s,position:e.note.position},w=l+ZG,k={labelStyle:"",shape:lQe,label:e.note.text,cssClasses:m.cssClasses,cssStyles:[],id:l+ZG,domId:Uw(l,Qh,eue),type:"group",isGroup:!0,padding:16,look:s,position:e.note.position};Qh++,k.id=w,y.parentId=w,ly(n,k,o),ly(n,y,o),ly(n,x,o);let E=l,C=y.id;e.note.position==="left of"&&(E=y.id,C=l),i.push({id:E+"-"+C,start:E,end:C,arrowhead:"none",arrowTypeEnd:"",style:Xle,labelStyle:"",classes:dQe,arrowheadStyle:jle,labelpos:Kle,labelType:Qle,thickness:Zle,look:s})}else ly(n,x,o)}e.doc&&(he.trace("Adding nodes children "),EQe(e,e.doc,r,n,i,!a,s,o))},"dataFetcher"),TQe=S(()=>{Vw.clear(),Qh=0},"reset"),VI="[*]",aue="start",sue=VI,oue="end",eW="color",tW="fill",CQe="bgFill",AQe=",";function UI(){return new Map}S(UI,"newClassesList");var wS=[],GI=[],lue=tQe,kS=[],Vg=UI(),uue=S(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),SS={root:uue()},Zs=SS.root,z2=0,rW=0,_Qe={LINE:0,DOTTED_LINE:1},LQe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},R3=S(t=>JSON.parse(JSON.stringify(t)),"clone"),DQe=S(t=>{he.info("Setting root doc",t),kS=t},"setRootDoc"),RQe=S(()=>kS,"getRootDoc"),Gw=S((t,e,r)=>{if(e.stmt===zI)Gw(t,e.state1,!0),Gw(t,e.state2,!1);else if(e.stmt===bS&&(e.id==="[*]"?(e.id=r?t.id+"_start":t.id+"_end",e.start=r):e.id=e.id.trim()),e.doc){const n=[];let i=[],a;for(a=0;a<e.doc.length;a++)if(e.doc[a].type===Yle){const s=R3(e.doc[a]);s.doc=R3(i),n.push(s),i=[]}else i.push(e.doc[a]);if(n.length>0&&i.length>0){const s={stmt:bS,id:OJ(),type:"divider",doc:R3(i)};n.push(R3(s)),e.doc=n}e.doc.forEach(s=>Gw(e,s,!0))}},"docTranslator"),WI=S(()=>(Gw({id:"root"},{id:"root",doc:kS},!0),{id:"root",doc:kS}),"getRootDocV2"),MQe=S(t=>{let e;t.doc?e=t.doc:e=t,he.info(e),cue(!0),he.info("Extract initial document:",e),e.forEach(a=>{switch(he.warn("Statement",a.stmt),a.stmt){case bS:Vf(a.id.trim(),a.type,a.doc,a.description,a.note,a.classes,a.styles,a.textStyles);break;case zI:gue(a.state1,a.state2,a.description);break;case rQe:vue(a.id.trim(),a.classes);break;case nQe:{const s=a.id.trim().split(","),o=a.styleClass.split(",");s.forEach(l=>{let u=$0(l);if(u===void 0){const h=l.trim();Vf(h),u=$0(h)}u.styles=o.map(h=>{var f;return(f=h.replace(/;/g,""))==null?void 0:f.trim()})})}break;case iQe:qI(a.id.trim(),a.styleClass);break}});const r=hue(),i=Ve().look;TQe(),uy(void 0,WI(),r,wS,GI,!0,i,Vg),wS.forEach(a=>{if(Array.isArray(a.label)){if(a.description=a.label.slice(1),a.isGroup&&a.description.length>0)throw new Error("Group nodes can only have label. Remove the additional description for node ["+a.id+"]");a.label=a.label[0]}})},"extract"),Vf=S(function(t,e=Mb,r=null,n=null,i=null,a=null,s=null,o=null){const l=t==null?void 0:t.trim();if(Zs.states.has(l)?(Zs.states.get(l).doc||(Zs.states.get(l).doc=r),Zs.states.get(l).type||(Zs.states.get(l).type=e)):(he.info("Adding state ",l,n),Zs.states.set(l,{id:l,descriptions:[],type:e,doc:r,note:i,classes:[],styles:[],textStyles:[]})),n&&(he.info("Setting state description",l,n),typeof n=="string"&&tD(l,n.trim()),typeof n=="object"&&n.forEach(u=>tD(l,u.trim()))),i){const u=Zs.states.get(l);u.note=i,u.note.text=Et.sanitizeText(u.note.text,Ve())}a&&(he.info("Setting state classes",l,a),(typeof a=="string"?[a]:a).forEach(h=>qI(l,h.trim()))),s&&(he.info("Setting state styles",l,s),(typeof s=="string"?[s]:s).forEach(h=>BQe(l,h.trim()))),o&&(he.info("Setting state styles",l,s),(typeof o=="string"?[o]:o).forEach(h=>$Qe(l,h.trim())))},"addState"),cue=S(function(t){wS=[],GI=[],SS={root:uue()},Zs=SS.root,z2=0,Vg=UI(),t||ka()},"clear"),$0=S(function(t){return Zs.states.get(t)},"getState"),hue=S(function(){return Zs.states},"getStates"),NQe=S(function(){he.info("Documents = ",SS)},"logDocuments"),IQe=S(function(){return Zs.relations},"getRelations");function ES(t=""){let e=t;return t===VI&&(z2++,e=`${aue}${z2}`),e}S(ES,"startIdIfNeeded");function TS(t="",e=Mb){return t===VI?aue:e}S(TS,"startTypeIfNeeded");function fue(t=""){let e=t;return t===sue&&(z2++,e=`${oue}${z2}`),e}S(fue,"endIdIfNeeded");function due(t="",e=Mb){return t===sue?oue:e}S(due,"endTypeIfNeeded");function pue(t,e,r){let n=ES(t.id.trim()),i=TS(t.id.trim(),t.type),a=ES(e.id.trim()),s=TS(e.id.trim(),e.type);Vf(n,i,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),Vf(a,s,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),Zs.relations.push({id1:n,id2:a,relationTitle:Et.sanitizeText(r,Ve())})}S(pue,"addRelationObjs");var gue=S(function(t,e,r){if(typeof t=="object")pue(t,e,r);else{const n=ES(t.trim()),i=TS(t),a=fue(e.trim()),s=due(e);Vf(n,i),Vf(a,s),Zs.relations.push({id1:n,id2:a,title:Et.sanitizeText(r,Ve())})}},"addRelation"),tD=S(function(t,e){const r=Zs.states.get(t),n=e.startsWith(":")?e.replace(":","").trim():e;r.descriptions.push(Et.sanitizeText(n,Ve()))},"addDescription"),OQe=S(function(t){return t.substring(0,1)===":"?t.substr(2).trim():t.trim()},"cleanupLabel"),FQe=S(()=>(rW++,"divider-id-"+rW),"getDividerId"),vue=S(function(t,e=""){Vg.has(t)||Vg.set(t,{id:t,styles:[],textStyles:[]});const r=Vg.get(t);e!=null&&e.split(AQe).forEach(n=>{const i=n.replace(/([^;]*);/,"$1").trim();if(RegExp(eW).exec(n)){const s=i.replace(tW,CQe).replace(eW,tW);r.textStyles.push(s)}r.styles.push(i)})},"addStyleClass"),PQe=S(function(){return Vg},"getClasses"),qI=S(function(t,e){t.split(",").forEach(function(r){let n=$0(r);if(n===void 0){const i=r.trim();Vf(i),n=$0(i)}n.classes.push(e)})},"setCssClass"),BQe=S(function(t,e){const r=$0(t);r!==void 0&&r.styles.push(e)},"setStyle"),$Qe=S(function(t,e){const r=$0(t);r!==void 0&&r.textStyles.push(e)},"setTextStyle"),zQe=S(()=>lue,"getDirection"),HQe=S(t=>{lue=t},"setDirection"),VQe=S(t=>t&&t[0]===":"?t.substr(1).trim():t.trim(),"trimColon"),UQe=S(()=>{const t=Ve();return{nodes:wS,edges:GI,other:{},config:t,direction:rue(WI())}},"getData"),Rc={getConfig:S(()=>Ve().state,"getConfig"),getData:UQe,addState:Vf,clear:cue,getState:$0,getStates:hue,getRelations:IQe,getClasses:PQe,getDirection:zQe,addRelation:gue,getDividerId:FQe,setDirection:HQe,cleanupLabel:OQe,lineType:_Qe,relationType:LQe,logDocuments:NQe,getRootDoc:RQe,setRootDoc:DQe,getRootDocV2:WI,extract:MQe,trimColon:VQe,getAccTitle:Wa,setAccTitle:Sa,getAccDescription:Ya,setAccDescription:qa,addStyleClass:vue,setCssClass:qI,addDescription:tD,setDiagramTitle:Us,getDiagramTitle:Xa},GQe=S(t=>`
defs #statediagram-barbEnd {
    fill: ${t.transitionColor};
    stroke: ${t.transitionColor};
  }
g.stateGroup text {
  fill: ${t.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.stateGroup line {
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t.noteBorderColor};
  fill: ${t.noteBkgColor};

  text {
    fill: ${t.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${t.edgeLabelBackground};
  p {
    background-color: ${t.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${t.edgeLabelBackground};
    fill: ${t.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${t.transitionLabelColor||t.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t.transitionLabelColor||t.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node .fork-join {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node circle.state-end {
  fill: ${t.innerEndBackground};
  stroke: ${t.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t.compositeBackground||t.background};
  // stroke: ${t.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t.stateBkg||t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t.lineColor};
}

.statediagram-cluster rect {
  fill: ${t.compositeTitleBackground};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t.stateBorder||t.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t.compositeBackground||t.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t.lineColor};
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,"getStyles"),mue=GQe,YI={},WQe=S((t,e)=>{YI[t]=e},"set"),qQe=S(t=>YI[t],"get"),yue=S(()=>Object.keys(YI),"keys"),YQe=S(()=>yue().length,"size"),XQe={get:qQe,set:WQe,keys:yue,size:YQe},jQe=S(t=>t.append("circle").attr("class","start-state").attr("r",Ve().state.sizeUnit).attr("cx",Ve().state.padding+Ve().state.sizeUnit).attr("cy",Ve().state.padding+Ve().state.sizeUnit),"drawStartState"),KQe=S(t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",Ve().state.textHeight).attr("class","divider").attr("x2",Ve().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),QQe=S((t,e)=>{const r=t.append("text").attr("x",2*Ve().state.padding).attr("y",Ve().state.textHeight+2*Ve().state.padding).attr("font-size",Ve().state.fontSize).attr("class","state-title").text(e.id),n=r.node().getBBox();return t.insert("rect",":first-child").attr("x",Ve().state.padding).attr("y",Ve().state.padding).attr("width",n.width+2*Ve().state.padding).attr("height",n.height+2*Ve().state.padding).attr("rx",Ve().state.radius),r},"drawSimpleState"),ZQe=S((t,e)=>{const r=S(function(d,p,v){const m=d.append("tspan").attr("x",2*Ve().state.padding).text(p);v||m.attr("dy",Ve().state.textHeight)},"addTspan"),i=t.append("text").attr("x",2*Ve().state.padding).attr("y",Ve().state.textHeight+1.3*Ve().state.padding).attr("font-size",Ve().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),a=i.height,s=t.append("text").attr("x",Ve().state.padding).attr("y",a+Ve().state.padding*.4+Ve().state.dividerMargin+Ve().state.textHeight).attr("class","state-description");let o=!0,l=!0;e.descriptions.forEach(function(d){o||(r(s,d,l),l=!1),o=!1});const u=t.append("line").attr("x1",Ve().state.padding).attr("y1",Ve().state.padding+a+Ve().state.dividerMargin/2).attr("y2",Ve().state.padding+a+Ve().state.dividerMargin/2).attr("class","descr-divider"),h=s.node().getBBox(),f=Math.max(h.width,i.width);return u.attr("x2",f+3*Ve().state.padding),t.insert("rect",":first-child").attr("x",Ve().state.padding).attr("y",Ve().state.padding).attr("width",f+2*Ve().state.padding).attr("height",h.height+a+2*Ve().state.padding).attr("rx",Ve().state.radius),t},"drawDescrState"),JQe=S((t,e,r)=>{const n=Ve().state.padding,i=2*Ve().state.padding,a=t.node().getBBox(),s=a.width,o=a.x,l=t.append("text").attr("x",0).attr("y",Ve().state.titleShift).attr("font-size",Ve().state.fontSize).attr("class","state-title").text(e.id),h=l.node().getBBox().width+i;let f=Math.max(h,s);f===s&&(f=f+i);let d;const p=t.node().getBBox();e.doc,d=o-n,h>s&&(d=(s-f)/2+n),Math.abs(o-p.x)<n&&h>s&&(d=o-(h-s)/2);const v=1-Ve().state.textHeight;return t.insert("rect",":first-child").attr("x",d).attr("y",v).attr("class",r?"alt-composit":"composit").attr("width",f).attr("height",p.height+Ve().state.textHeight+Ve().state.titleShift+1).attr("rx","0"),l.attr("x",d+n),h<=s&&l.attr("x",o+(f-i)/2-h/2+n),t.insert("rect",":first-child").attr("x",d).attr("y",Ve().state.titleShift-Ve().state.textHeight-Ve().state.padding).attr("width",f).attr("height",Ve().state.textHeight*3).attr("rx",Ve().state.radius),t.insert("rect",":first-child").attr("x",d).attr("y",Ve().state.titleShift-Ve().state.textHeight-Ve().state.padding).attr("width",f).attr("height",p.height+3+2*Ve().state.textHeight).attr("rx",Ve().state.radius),t},"addTitleAndBox"),eZe=S(t=>(t.append("circle").attr("class","end-state-outer").attr("r",Ve().state.sizeUnit+Ve().state.miniPadding).attr("cx",Ve().state.padding+Ve().state.sizeUnit+Ve().state.miniPadding).attr("cy",Ve().state.padding+Ve().state.sizeUnit+Ve().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",Ve().state.sizeUnit).attr("cx",Ve().state.padding+Ve().state.sizeUnit+2).attr("cy",Ve().state.padding+Ve().state.sizeUnit+2)),"drawEndState"),tZe=S((t,e)=>{let r=Ve().state.forkWidth,n=Ve().state.forkHeight;if(e.parentId){let i=r;r=n,n=i}return t.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",Ve().state.padding).attr("y",Ve().state.padding)},"drawForkJoinState"),rZe=S((t,e,r,n)=>{let i=0;const a=n.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let s=t.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");const o=s.split(Et.lineBreakRegex);let l=1.25*Ve().state.noteMargin;for(const u of o){const h=u.trim();if(h.length>0){const f=a.append("tspan");if(f.text(h),l===0){const d=f.node().getBBox();l+=d.height}i+=l,f.attr("x",e+Ve().state.noteMargin),f.attr("y",r+i+1.25*Ve().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:i}},"_drawLongText"),nZe=S((t,e)=>{e.attr("class","state-note");const r=e.append("rect").attr("x",0).attr("y",Ve().state.padding),n=e.append("g"),{textWidth:i,textHeight:a}=rZe(t,0,0,n);return r.attr("height",a+2*Ve().state.noteMargin),r.attr("width",i+Ve().state.noteMargin*2),r},"drawNote"),nW=S(function(t,e){const r=e.id,n={id:r,label:e.id,width:0,height:0},i=t.append("g").attr("id",r).attr("class","stateGroup");e.type==="start"&&jQe(i),e.type==="end"&&eZe(i),(e.type==="fork"||e.type==="join")&&tZe(i,e),e.type==="note"&&nZe(e.note.text,i),e.type==="divider"&&KQe(i),e.type==="default"&&e.descriptions.length===0&&QQe(i,e),e.type==="default"&&e.descriptions.length>0&&ZQe(i,e);const a=i.node().getBBox();return n.width=a.width+2*Ve().state.padding,n.height=a.height+2*Ve().state.padding,XQe.set(r,n),n},"drawState"),iW=0,iZe=S(function(t,e,r){const n=S(function(l){switch(l){case Rc.relationType.AGGREGATION:return"aggregation";case Rc.relationType.EXTENSION:return"extension";case Rc.relationType.COMPOSITION:return"composition";case Rc.relationType.DEPENDENCY:return"dependency"}},"getRelationType");e.points=e.points.filter(l=>!Number.isNaN(l.y));const i=e.points,a=_f().x(function(l){return l.x}).y(function(l){return l.y}).curve(j1),s=t.append("path").attr("d",a(i)).attr("id","edge"+iW).attr("class","transition");let o="";if(Ve().state.arrowMarkerAbsolute&&(o=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,o=o.replace(/\(/g,"\\("),o=o.replace(/\)/g,"\\)")),s.attr("marker-end","url("+o+"#"+n(Rc.relationType.DEPENDENCY)+"End)"),r.title!==void 0){const l=t.append("g").attr("class","stateLabel"),{x:u,y:h}=Dr.calcLabelPosition(e.points),f=Et.getRows(r.title);let d=0;const p=[];let v=0,m=0;for(let w=0;w<=f.length;w++){const k=l.append("text").attr("text-anchor","middle").text(f[w]).attr("x",u).attr("y",h+d),E=k.node().getBBox();v=Math.max(v,E.width),m=Math.min(m,E.x),he.info(E.x,u,h+d),d===0&&(d=k.node().getBBox().height,he.info("Title height",d,h)),p.push(k)}let x=d*f.length;if(f.length>1){const w=(f.length-1)*d*.5;p.forEach((k,E)=>k.attr("y",h+E*d-w)),x=d*f.length}const y=l.node().getBBox();l.insert("rect",":first-child").attr("class","box").attr("x",u-v/2-Ve().state.padding/2).attr("y",h-x/2-Ve().state.padding/2-3.5).attr("width",v+Ve().state.padding).attr("height",x+Ve().state.padding),he.info(y)}iW++},"drawEdge"),Do,K8={},aZe=S(function(){},"setConf"),sZe=S(function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),oZe=S(function(t,e,r,n){Do=Ve().state;const i=Ve().securityLevel;let a;i==="sandbox"&&(a=yt("#i"+e));const s=yt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body"),o=i==="sandbox"?a.nodes()[0].contentDocument:document;he.debug("Rendering diagram "+t);const l=s.select(`[id='${e}']`);sZe(l);const u=n.db.getRootDoc();xue(u,l,void 0,!1,s,o,n);const h=Do.padding,f=l.node().getBBox(),d=f.width+h*2,p=f.height+h*2,v=d*1.75;Ga(l,p,v,Do.useMaxWidth),l.attr("viewBox",`${f.x-Do.padding}  ${f.y-Do.padding} `+d+" "+p)},"draw"),lZe=S(t=>t?t.length*Do.fontSizeFactor:1,"getLabelWidth"),xue=S((t,e,r,n,i,a,s)=>{const o=new ca({compound:!0,multigraph:!0});let l,u=!0;for(l=0;l<t.length;l++)if(t[l].stmt==="relation"){u=!1;break}r?o.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:u?1:Do.edgeLengthFactor,nodeSep:u?1:50,isMultiGraph:!0}):o.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:u?1:Do.edgeLengthFactor,nodeSep:u?1:50,ranker:"tight-tree",isMultiGraph:!0}),o.setDefaultEdgeLabel(function(){return{}}),s.db.extract(t);const h=s.db.getStates(),f=s.db.getRelations(),d=Object.keys(h);for(const y of d){const w=h[y];r&&(w.parentId=r);let k;if(w.doc){let E=e.append("g").attr("id",w.id).attr("class","stateGroup");k=xue(w.doc,E,w.id,!n,i,a,s);{E=JQe(E,w,n);let C=E.node().getBBox();k.width=C.width,k.height=C.height+Do.padding/2,K8[w.id]={y:Do.compositTitleSize}}}else k=nW(e,w,o);if(w.note){const E={descriptions:[],id:w.id+"-note",note:w.note,type:"note"},C=nW(e,E,o);w.note.position==="left of"?(o.setNode(k.id+"-note",C),o.setNode(k.id,k)):(o.setNode(k.id,k),o.setNode(k.id+"-note",C)),o.setParent(k.id,k.id+"-group"),o.setParent(k.id+"-note",k.id+"-group")}else o.setNode(k.id,k)}he.debug("Count=",o.nodeCount(),o);let p=0;f.forEach(function(y){p++,he.debug("Setting edge",y),o.setEdge(y.id1,y.id2,{relation:y,width:lZe(y.title),height:Do.labelHeight*Et.getRows(y.title).length,labelpos:"c"},"id"+p)}),lv(o),he.debug("Graph after layout",o.nodes());const v=e.node();o.nodes().forEach(function(y){y!==void 0&&o.node(y)!==void 0?(he.warn("Node "+y+": "+JSON.stringify(o.node(y))),i.select("#"+v.id+" #"+y).attr("transform","translate("+(o.node(y).x-o.node(y).width/2)+","+(o.node(y).y+(K8[y]?K8[y].y:0)-o.node(y).height/2)+" )"),i.select("#"+v.id+" #"+y).attr("data-x-shift",o.node(y).x-o.node(y).width/2),a.querySelectorAll("#"+v.id+" #"+y+" .divider").forEach(k=>{const E=k.parentElement;let C=0,L=0;E&&(E.parentElement&&(C=E.parentElement.getBBox().width),L=parseInt(E.getAttribute("data-x-shift"),10),Number.isNaN(L)&&(L=0)),k.setAttribute("x1",0-L+8),k.setAttribute("x2",C-L-8)})):he.debug("No Node "+y+": "+JSON.stringify(o.node(y)))});let m=v.getBBox();o.edges().forEach(function(y){y!==void 0&&o.edge(y)!==void 0&&(he.debug("Edge "+y.v+" -> "+y.w+": "+JSON.stringify(o.edge(y))),iZe(e,o.edge(y),o.edge(y).relation))}),m=v.getBBox();const x={id:r||"root",label:r||"root",width:0,height:0};return x.width=m.width+2*Do.padding,x.height=m.height+2*Do.padding,he.debug("Doc rendered",x,o),x},"renderDoc"),uZe={setConf:aZe,draw:oZe},cZe={parser:Wle,db:Rc,renderer:uZe,styles:mue,init:S(t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Rc.clear()},"init")};const hZe=Object.freeze(Object.defineProperty({__proto__:null,diagram:cZe},Symbol.toStringTag,{value:"Module"}));var fZe={parser:Wle,db:Rc,renderer:SQe,styles:mue,init:S(t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Rc.clear()},"init")};const dZe=Object.freeze(Object.defineProperty({__proto__:null,diagram:fZe},Symbol.toStringTag,{value:"Module"}));var rD=function(){var t=S(function(f,d,p,v){for(p=p||{},v=f.length;v--;p[f[v]]=d);return p},"o"),e=[6,8,10,11,12,14,16,17,18],r=[1,9],n=[1,10],i=[1,11],a=[1,12],s=[1,13],o=[1,14],l={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:S(function(d,p,v,m,x,y,w){var k=y.length-1;switch(x){case 1:return y[k-1];case 2:this.$=[];break;case 3:y[k-1].push(y[k]),this.$=y[k-1];break;case 4:case 5:this.$=y[k];break;case 6:case 7:this.$=[];break;case 8:m.setDiagramTitle(y[k].substr(6)),this.$=y[k].substr(6);break;case 9:this.$=y[k].trim(),m.setAccTitle(this.$);break;case 10:case 11:this.$=y[k].trim(),m.setAccDescription(this.$);break;case 12:m.addSection(y[k].substr(8)),this.$=y[k].substr(8);break;case 13:m.addTask(y[k-1],y[k]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:a,17:s,18:o},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:15,11:r,12:n,14:i,16:a,17:s,18:o},t(e,[2,5]),t(e,[2,6]),t(e,[2,8]),{13:[1,16]},{15:[1,17]},t(e,[2,11]),t(e,[2,12]),{19:[1,18]},t(e,[2,4]),t(e,[2,9]),t(e,[2,10]),t(e,[2,13])],defaultActions:{},parseError:S(function(d,p){if(p.recoverable)this.trace(d);else{var v=new Error(d);throw v.hash=p,v}},"parseError"),parse:S(function(d){var p=this,v=[0],m=[],x=[null],y=[],w=this.table,k="",E=0,C=0,L=2,_=1,I=y.slice.call(arguments,1),M=Object.create(this.lexer),F={yy:{}};for(var N in this.yy)Object.prototype.hasOwnProperty.call(this.yy,N)&&(F.yy[N]=this.yy[N]);M.setInput(d,F.yy),F.yy.lexer=M,F.yy.parser=this,typeof M.yylloc>"u"&&(M.yylloc={});var z=M.yylloc;y.push(z);var V=M.options&&M.options.ranges;typeof F.yy.parseError=="function"?this.parseError=F.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function D(re){v.length=v.length-2*re,x.length=x.length-re,y.length=y.length-re}S(D,"popStack");function O(){var re;return re=m.pop()||M.lex()||_,typeof re!="number"&&(re instanceof Array&&(m=re,re=m.pop()),re=p.symbols_[re]||re),re}S(O,"lex");for(var P,$,B,H,X={},q,Y,U,J;;){if($=v[v.length-1],this.defaultActions[$]?B=this.defaultActions[$]:((P===null||typeof P>"u")&&(P=O()),B=w[$]&&w[$][P]),typeof B>"u"||!B.length||!B[0]){var ce="";J=[];for(q in w[$])this.terminals_[q]&&q>L&&J.push("'"+this.terminals_[q]+"'");M.showPosition?ce="Parse error on line "+(E+1)+`:
`+M.showPosition()+`
Expecting `+J.join(", ")+", got '"+(this.terminals_[P]||P)+"'":ce="Parse error on line "+(E+1)+": Unexpected "+(P==_?"end of input":"'"+(this.terminals_[P]||P)+"'"),this.parseError(ce,{text:M.match,token:this.terminals_[P]||P,line:M.yylineno,loc:z,expected:J})}if(B[0]instanceof Array&&B.length>1)throw new Error("Parse Error: multiple actions possible at state: "+$+", token: "+P);switch(B[0]){case 1:v.push(P),x.push(M.yytext),y.push(M.yylloc),v.push(B[1]),P=null,C=M.yyleng,k=M.yytext,E=M.yylineno,z=M.yylloc;break;case 2:if(Y=this.productions_[B[1]][1],X.$=x[x.length-Y],X._$={first_line:y[y.length-(Y||1)].first_line,last_line:y[y.length-1].last_line,first_column:y[y.length-(Y||1)].first_column,last_column:y[y.length-1].last_column},V&&(X._$.range=[y[y.length-(Y||1)].range[0],y[y.length-1].range[1]]),H=this.performAction.apply(X,[k,C,E,F.yy,B[1],x,y].concat(I)),typeof H<"u")return H;Y&&(v=v.slice(0,-1*Y*2),x=x.slice(0,-1*Y),y=y.slice(0,-1*Y)),v.push(this.productions_[B[1]][0]),x.push(X.$),y.push(X._$),U=w[v[v.length-2]][v[v.length-1]],v.push(U);break;case 3:return!0}}return!0},"parse")},u=function(){var f={EOF:1,parseError:S(function(p,v){if(this.yy.parser)this.yy.parser.parseError(p,v);else throw new Error(p)},"parseError"),setInput:S(function(d,p){return this.yy=p||this.yy||{},this._input=d,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var d=this._input[0];this.yytext+=d,this.yyleng++,this.offset++,this.match+=d,this.matched+=d;var p=d.match(/(?:\r\n?|\n).*/g);return p?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),d},"input"),unput:S(function(d){var p=d.length,v=d.split(/(?:\r\n?|\n)/g);this._input=d+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-p),this.offset-=p;var m=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),v.length-1&&(this.yylineno-=v.length-1);var x=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:v?(v.length===m.length?this.yylloc.first_column:0)+m[m.length-v.length].length-v[0].length:this.yylloc.first_column-p},this.options.ranges&&(this.yylloc.range=[x[0],x[0]+this.yyleng-p]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(d){this.unput(this.match.slice(d))},"less"),pastInput:S(function(){var d=this.matched.substr(0,this.matched.length-this.match.length);return(d.length>20?"...":"")+d.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var d=this.match;return d.length<20&&(d+=this._input.substr(0,20-d.length)),(d.substr(0,20)+(d.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var d=this.pastInput(),p=new Array(d.length+1).join("-");return d+this.upcomingInput()+`
`+p+"^"},"showPosition"),test_match:S(function(d,p){var v,m,x;if(this.options.backtrack_lexer&&(x={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(x.yylloc.range=this.yylloc.range.slice(0))),m=d[0].match(/(?:\r\n?|\n).*/g),m&&(this.yylineno+=m.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:m?m[m.length-1].length-m[m.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+d[0].length},this.yytext+=d[0],this.match+=d[0],this.matches=d,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(d[0].length),this.matched+=d[0],v=this.performAction.call(this,this.yy,this,p,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),v)return v;if(this._backtrack){for(var y in x)this[y]=x[y];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var d,p,v,m;this._more||(this.yytext="",this.match="");for(var x=this._currentRules(),y=0;y<x.length;y++)if(v=this._input.match(this.rules[x[y]]),v&&(!p||v[0].length>p[0].length)){if(p=v,m=y,this.options.backtrack_lexer){if(d=this.test_match(v,x[y]),d!==!1)return d;if(this._backtrack){p=!1;continue}else return!1}else if(!this.options.flex)break}return p?(d=this.test_match(p,x[m]),d!==!1?d:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var p=this.next();return p||this.lex()},"lex"),begin:S(function(p){this.conditionStack.push(p)},"begin"),popState:S(function(){var p=this.conditionStack.length-1;return p>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function(p){return p=this.conditionStack.length-1-Math.abs(p||0),p>=0?this.conditionStack[p]:"INITIAL"},"topState"),pushState:S(function(p){this.begin(p)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:S(function(p,v,m,x){switch(m){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return f}();l.lexer=u;function h(){this.yy={}}return S(h,"Parser"),h.prototype=l,l.Parser=h,new h}();rD.parser=rD;var pZe=rD,O1="",XI=[],H2=[],V2=[],gZe=S(function(){XI.length=0,H2.length=0,O1="",V2.length=0,ka()},"clear"),vZe=S(function(t){O1=t,XI.push(t)},"addSection"),mZe=S(function(){return XI},"getSections"),yZe=S(function(){let t=aW();const e=100;let r=0;for(;!t&&r<e;)t=aW(),r++;return H2.push(...V2),H2},"getTasks"),xZe=S(function(){const t=[];return H2.forEach(r=>{r.people&&t.push(...r.people)}),[...new Set(t)].sort()},"updateActors"),bZe=S(function(t,e){const r=e.substr(1).split(":");let n=0,i=[];r.length===1?(n=Number(r[0]),i=[]):(n=Number(r[0]),i=r[1].split(","));const a=i.map(o=>o.trim()),s={section:O1,type:O1,people:a,task:t,score:n};V2.push(s)},"addTask"),wZe=S(function(t){const e={section:O1,type:O1,description:t,task:t,classes:[]};H2.push(e)},"addTaskOrg"),aW=S(function(){const t=S(function(r){return V2[r].processed},"compileTask");let e=!0;for(const[r,n]of V2.entries())t(r),e=e&&n.processed;return e},"compileTasks"),kZe=S(function(){return xZe()},"getActors"),sW={getConfig:S(()=>Ve().journey,"getConfig"),clear:gZe,setDiagramTitle:Us,getDiagramTitle:Xa,setAccTitle:Sa,getAccTitle:Wa,setAccDescription:qa,getAccDescription:Ya,addSection:vZe,getSections:mZe,getTasks:yZe,addTask:bZe,addTaskOrg:wZe,getActors:kZe},SZe=S(t=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${t.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${t.textColor}
  }

  .legend {
    fill: ${t.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${t.textColor}
  }

  .face {
    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${t.fillType0?`fill: ${t.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${t.fillType0?`fill: ${t.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${t.fillType0?`fill: ${t.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${t.fillType0?`fill: ${t.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${t.fillType0?`fill: ${t.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${t.fillType0?`fill: ${t.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${t.fillType0?`fill: ${t.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${t.fillType0?`fill: ${t.fillType7}`:""};
  }

  .actor-0 {
    ${t.actor0?`fill: ${t.actor0}`:""};
  }
  .actor-1 {
    ${t.actor1?`fill: ${t.actor1}`:""};
  }
  .actor-2 {
    ${t.actor2?`fill: ${t.actor2}`:""};
  }
  .actor-3 {
    ${t.actor3?`fill: ${t.actor3}`:""};
  }
  .actor-4 {
    ${t.actor4?`fill: ${t.actor4}`:""};
  }
  .actor-5 {
    ${t.actor5?`fill: ${t.actor5}`:""};
  }
`,"getStyles"),EZe=SZe,jI=S(function(t,e){return ST(t,e)},"drawRect"),TZe=S(function(t,e){const n=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");i.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function a(l){const u=d1().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}S(a,"smile");function s(l){const u=d1().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}S(s,"sad");function o(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return S(o,"ambivalent"),e.score>3?a(i):e.score<3?s(i):o(i),n},"drawFace"),bue=S(function(t,e){const r=t.append("circle");return r.attr("cx",e.cx),r.attr("cy",e.cy),r.attr("class","actor-"+e.pos),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("r",e.r),r.class!==void 0&&r.attr("class",r.class),e.title!==void 0&&r.append("title").text(e.title),r},"drawCircle"),wue=S(function(t,e){return YOe(t,e)},"drawText"),CZe=S(function(t,e){function r(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}S(r,"genPoints");const n=t.append("polygon");n.attr("points",r(e.x,e.y,50,20,7)),n.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,wue(t,e)},"drawLabel"),AZe=S(function(t,e,r){const n=t.append("g"),i=cp();i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=r.width*e.taskCount+r.diagramMarginX*(e.taskCount-1),i.height=r.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,jI(n,i),kue(r)(e.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},r,e.colour)},"drawSection"),oW=-1,_Ze=S(function(t,e,r){const n=e.x+r.width/2,i=t.append("g");oW++;const a=300+5*30;i.append("line").attr("id","task"+oW).attr("x1",n).attr("y1",e.y).attr("x2",n).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),TZe(i,{cx:n,cy:300+(5-e.score)*30,score:e.score});const s=cp();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=r.width,s.height=r.height,s.class="task task-type-"+e.num,s.rx=3,s.ry=3,jI(i,s);let o=e.x+14;e.people.forEach(l=>{const u=e.actors[l].color,h={cx:o,cy:e.y,r:7,fill:u,stroke:"#000",title:l,pos:e.actors[l].position};bue(i,h),o+=10}),kue(r)(e.task,i,s.x,s.y,s.width,s.height,{class:"task"},r,e.colour)},"drawTask"),LZe=S(function(t,e){iie(t,e)},"drawBackgroundRect"),kue=function(){function t(i,a,s,o,l,u,h,f){const d=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("font-color",f).style("text-anchor","middle").text(i);n(d,h)}S(t,"byText");function e(i,a,s,o,l,u,h,f,d){const{taskFontSize:p,taskFontFamily:v}=f,m=i.split(/<br\s*\/?>/gi);for(let x=0;x<m.length;x++){const y=x*p-p*(m.length-1)/2,w=a.append("text").attr("x",s+l/2).attr("y",o).attr("fill",d).style("text-anchor","middle").style("font-size",p).style("font-family",v);w.append("tspan").attr("x",s+l/2).attr("dy",y).text(m[x]),w.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(w,h)}}S(e,"byTspan");function r(i,a,s,o,l,u,h,f){const d=a.append("switch"),v=d.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");v.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,d,s,o,l,u,h,f),n(v,h)}S(r,"byFo");function n(i,a){for(const s in a)s in a&&i.attr(s,a[s])}return S(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),DZe=S(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),U2={drawRect:jI,drawCircle:bue,drawSection:AZe,drawText:wue,drawLabel:CZe,drawTask:_Ze,drawBackgroundRect:LZe,initGraphics:DZe},RZe=S(function(t){Object.keys(t).forEach(function(r){KT[r]=t[r]})},"setConf"),Bc={};function Sue(t){const e=Ve().journey;let r=60;Object.keys(Bc).forEach(n=>{const i=Bc[n].color,a={cx:20,cy:r,r:7,fill:i,stroke:"#000",pos:Bc[n].position};U2.drawCircle(t,a);const s={x:40,y:r+7,fill:"#666",text:n,textMargin:e.boxTextMargin|5};U2.drawText(t,s),r+=20})}S(Sue,"drawActorLegend");var KT=Ve().journey,zd=KT.leftMargin,MZe=S(function(t,e,r,n){const i=Ve().journey,a=Ve().securityLevel;let s;a==="sandbox"&&(s=yt("#i"+e));const o=yt(a==="sandbox"?s.nodes()[0].contentDocument.body:"body");il.init();const l=o.select("#"+e);U2.initGraphics(l);const u=n.db.getTasks(),h=n.db.getDiagramTitle(),f=n.db.getActors();for(const y in Bc)delete Bc[y];let d=0;f.forEach(y=>{Bc[y]={color:i.actorColours[d%i.actorColours.length],position:d},d++}),Sue(l),il.insert(0,0,zd,Object.keys(Bc).length*50),NZe(l,u,0);const p=il.getBounds();h&&l.append("text").text(h).attr("x",zd).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const v=p.stopy-p.starty+2*i.diagramMarginY,m=zd+p.stopx+2*i.diagramMarginX;Ga(l,v,m,i.useMaxWidth),l.append("line").attr("x1",zd).attr("y1",i.height*4).attr("x2",m-zd-4).attr("y2",i.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const x=h?70:0;l.attr("viewBox",`${p.startx} -25 ${m} ${v+x}`),l.attr("preserveAspectRatio","xMinYMin meet"),l.attr("height",v+x+25)},"draw"),il={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:S(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:S(function(t,e,r,n){t[e]===void 0?t[e]=r:t[e]=n(r,t[e])},"updateVal"),updateBounds:S(function(t,e,r,n){const i=Ve().journey,a=this;let s=0;function o(l){return S(function(h){s++;const f=a.sequenceItems.length-s+1;a.updateVal(h,"starty",e-f*i.boxMargin,Math.min),a.updateVal(h,"stopy",n+f*i.boxMargin,Math.max),a.updateVal(il.data,"startx",t-f*i.boxMargin,Math.min),a.updateVal(il.data,"stopx",r+f*i.boxMargin,Math.max),l!=="activation"&&(a.updateVal(h,"startx",t-f*i.boxMargin,Math.min),a.updateVal(h,"stopx",r+f*i.boxMargin,Math.max),a.updateVal(il.data,"starty",e-f*i.boxMargin,Math.min),a.updateVal(il.data,"stopy",n+f*i.boxMargin,Math.max))},"updateItemBounds")}S(o,"updateFn"),this.sequenceItems.forEach(o())},"updateBounds"),insert:S(function(t,e,r,n){const i=Math.min(t,r),a=Math.max(t,r),s=Math.min(e,n),o=Math.max(e,n);this.updateVal(il.data,"startx",i,Math.min),this.updateVal(il.data,"starty",s,Math.min),this.updateVal(il.data,"stopx",a,Math.max),this.updateVal(il.data,"stopy",o,Math.max),this.updateBounds(i,s,a,o)},"insert"),bumpVerticalPos:S(function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:S(function(){return this.verticalPos},"getVerticalPos"),getBounds:S(function(){return this.data},"getBounds")},Q8=KT.sectionFills,lW=KT.sectionColours,NZe=S(function(t,e,r){const n=Ve().journey;let i="";const a=n.height*2+n.diagramMarginY,s=r+a;let o=0,l="#CCC",u="black",h=0;for(const[f,d]of e.entries()){if(i!==d.section){l=Q8[o%Q8.length],h=o%Q8.length,u=lW[o%lW.length];let v=0;const m=d.section;for(let y=f;y<e.length&&e[y].section==m;y++)v=v+1;const x={x:f*n.taskMargin+f*n.width+zd,y:50,text:d.section,fill:l,num:h,colour:u,taskCount:v};U2.drawSection(t,x,n),i=d.section,o++}const p=d.people.reduce((v,m)=>(Bc[m]&&(v[m]=Bc[m]),v),{});d.x=f*n.taskMargin+f*n.width+zd,d.y=s,d.width=n.diagramMarginX,d.height=n.diagramMarginY,d.colour=u,d.fill=l,d.num=h,d.actors=p,U2.drawTask(t,d,n),il.insert(d.x,d.y,d.x+d.width+n.taskMargin,300+5*30)}},"drawTasks"),uW={setConf:RZe,draw:MZe},IZe={parser:pZe,db:sW,renderer:uW,styles:EZe,init:S(t=>{uW.setConf(t.journey),sW.clear()},"init")};const OZe=Object.freeze(Object.defineProperty({__proto__:null,diagram:IZe},Symbol.toStringTag,{value:"Module"}));var nD=function(){var t=S(function(d,p,v,m){for(v=v||{},m=d.length;m--;v[d[m]]=p);return v},"o"),e=[6,8,10,11,12,14,16,17,20,21],r=[1,9],n=[1,10],i=[1,11],a=[1,12],s=[1,13],o=[1,16],l=[1,17],u={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:S(function(p,v,m,x,y,w,k){var E=w.length-1;switch(y){case 1:return w[E-1];case 2:this.$=[];break;case 3:w[E-1].push(w[E]),this.$=w[E-1];break;case 4:case 5:this.$=w[E];break;case 6:case 7:this.$=[];break;case 8:x.getCommonDb().setDiagramTitle(w[E].substr(6)),this.$=w[E].substr(6);break;case 9:this.$=w[E].trim(),x.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=w[E].trim(),x.getCommonDb().setAccDescription(this.$);break;case 12:x.addSection(w[E].substr(8)),this.$=w[E].substr(8);break;case 15:x.addTask(w[E],0,""),this.$=w[E];break;case 16:x.addEvent(w[E].substr(2)),this.$=w[E];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:a,17:s,18:14,19:15,20:o,21:l},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:18,11:r,12:n,14:i,16:a,17:s,18:14,19:15,20:o,21:l},t(e,[2,5]),t(e,[2,6]),t(e,[2,8]),{13:[1,19]},{15:[1,20]},t(e,[2,11]),t(e,[2,12]),t(e,[2,13]),t(e,[2,14]),t(e,[2,15]),t(e,[2,16]),t(e,[2,4]),t(e,[2,9]),t(e,[2,10])],defaultActions:{},parseError:S(function(p,v){if(v.recoverable)this.trace(p);else{var m=new Error(p);throw m.hash=v,m}},"parseError"),parse:S(function(p){var v=this,m=[0],x=[],y=[null],w=[],k=this.table,E="",C=0,L=0,_=2,I=1,M=w.slice.call(arguments,1),F=Object.create(this.lexer),N={yy:{}};for(var z in this.yy)Object.prototype.hasOwnProperty.call(this.yy,z)&&(N.yy[z]=this.yy[z]);F.setInput(p,N.yy),N.yy.lexer=F,N.yy.parser=this,typeof F.yylloc>"u"&&(F.yylloc={});var V=F.yylloc;w.push(V);var D=F.options&&F.options.ranges;typeof N.yy.parseError=="function"?this.parseError=N.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function O(ve){m.length=m.length-2*ve,y.length=y.length-ve,w.length=w.length-ve}S(O,"popStack");function P(){var ve;return ve=x.pop()||F.lex()||I,typeof ve!="number"&&(ve instanceof Array&&(x=ve,ve=x.pop()),ve=v.symbols_[ve]||ve),ve}S(P,"lex");for(var $,B,H,X,q={},Y,U,J,ce;;){if(B=m[m.length-1],this.defaultActions[B]?H=this.defaultActions[B]:(($===null||typeof $>"u")&&($=P()),H=k[B]&&k[B][$]),typeof H>"u"||!H.length||!H[0]){var re="";ce=[];for(Y in k[B])this.terminals_[Y]&&Y>_&&ce.push("'"+this.terminals_[Y]+"'");F.showPosition?re="Parse error on line "+(C+1)+`:
`+F.showPosition()+`
Expecting `+ce.join(", ")+", got '"+(this.terminals_[$]||$)+"'":re="Parse error on line "+(C+1)+": Unexpected "+($==I?"end of input":"'"+(this.terminals_[$]||$)+"'"),this.parseError(re,{text:F.match,token:this.terminals_[$]||$,line:F.yylineno,loc:V,expected:ce})}if(H[0]instanceof Array&&H.length>1)throw new Error("Parse Error: multiple actions possible at state: "+B+", token: "+$);switch(H[0]){case 1:m.push($),y.push(F.yytext),w.push(F.yylloc),m.push(H[1]),$=null,L=F.yyleng,E=F.yytext,C=F.yylineno,V=F.yylloc;break;case 2:if(U=this.productions_[H[1]][1],q.$=y[y.length-U],q._$={first_line:w[w.length-(U||1)].first_line,last_line:w[w.length-1].last_line,first_column:w[w.length-(U||1)].first_column,last_column:w[w.length-1].last_column},D&&(q._$.range=[w[w.length-(U||1)].range[0],w[w.length-1].range[1]]),X=this.performAction.apply(q,[E,L,C,N.yy,H[1],y,w].concat(M)),typeof X<"u")return X;U&&(m=m.slice(0,-1*U*2),y=y.slice(0,-1*U),w=w.slice(0,-1*U)),m.push(this.productions_[H[1]][0]),y.push(q.$),w.push(q._$),J=k[m[m.length-2]][m[m.length-1]],m.push(J);break;case 3:return!0}}return!0},"parse")},h=function(){var d={EOF:1,parseError:S(function(v,m){if(this.yy.parser)this.yy.parser.parseError(v,m);else throw new Error(v)},"parseError"),setInput:S(function(p,v){return this.yy=v||this.yy||{},this._input=p,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var p=this._input[0];this.yytext+=p,this.yyleng++,this.offset++,this.match+=p,this.matched+=p;var v=p.match(/(?:\r\n?|\n).*/g);return v?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),p},"input"),unput:S(function(p){var v=p.length,m=p.split(/(?:\r\n?|\n)/g);this._input=p+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-v),this.offset-=v;var x=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var y=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===x.length?this.yylloc.first_column:0)+x[x.length-m.length].length-m[0].length:this.yylloc.first_column-v},this.options.ranges&&(this.yylloc.range=[y[0],y[0]+this.yyleng-v]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(p){this.unput(this.match.slice(p))},"less"),pastInput:S(function(){var p=this.matched.substr(0,this.matched.length-this.match.length);return(p.length>20?"...":"")+p.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var p=this.match;return p.length<20&&(p+=this._input.substr(0,20-p.length)),(p.substr(0,20)+(p.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var p=this.pastInput(),v=new Array(p.length+1).join("-");return p+this.upcomingInput()+`
`+v+"^"},"showPosition"),test_match:S(function(p,v){var m,x,y;if(this.options.backtrack_lexer&&(y={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(y.yylloc.range=this.yylloc.range.slice(0))),x=p[0].match(/(?:\r\n?|\n).*/g),x&&(this.yylineno+=x.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:x?x[x.length-1].length-x[x.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+p[0].length},this.yytext+=p[0],this.match+=p[0],this.matches=p,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(p[0].length),this.matched+=p[0],m=this.performAction.call(this,this.yy,this,v,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var w in y)this[w]=y[w];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var p,v,m,x;this._more||(this.yytext="",this.match="");for(var y=this._currentRules(),w=0;w<y.length;w++)if(m=this._input.match(this.rules[y[w]]),m&&(!v||m[0].length>v[0].length)){if(v=m,x=w,this.options.backtrack_lexer){if(p=this.test_match(m,y[w]),p!==!1)return p;if(this._backtrack){v=!1;continue}else return!1}else if(!this.options.flex)break}return v?(p=this.test_match(v,y[x]),p!==!1?p:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var v=this.next();return v||this.lex()},"lex"),begin:S(function(v){this.conditionStack.push(v)},"begin"),popState:S(function(){var v=this.conditionStack.length-1;return v>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function(v){return v=this.conditionStack.length-1-Math.abs(v||0),v>=0?this.conditionStack[v]:"INITIAL"},"topState"),pushState:S(function(v){this.begin(v)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:S(function(v,m,x,y){switch(x){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s[^:\n]+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return d}();u.lexer=h;function f(){this.yy={}}return S(f,"Parser"),f.prototype=u,u.Parser=f,new f}();nD.parser=nD;var FZe=nD,Eue={};Kj(Eue,{addEvent:()=>Mue,addSection:()=>_ue,addTask:()=>Rue,addTaskOrg:()=>Nue,clear:()=>Aue,default:()=>PZe,getCommonDb:()=>Cue,getSections:()=>Lue,getTasks:()=>Due});var F1="",Tue=0,KI=[],CS=[],P1=[],Cue=S(()=>NR,"getCommonDb"),Aue=S(function(){KI.length=0,CS.length=0,F1="",P1.length=0,ka()},"clear"),_ue=S(function(t){F1=t,KI.push(t)},"addSection"),Lue=S(function(){return KI},"getSections"),Due=S(function(){let t=cW();const e=100;let r=0;for(;!t&&r<e;)t=cW(),r++;return CS.push(...P1),CS},"getTasks"),Rue=S(function(t,e,r){const n={id:Tue++,section:F1,type:F1,task:t,score:e||0,events:r?[r]:[]};P1.push(n)},"addTask"),Mue=S(function(t){P1.find(r=>r.id===Tue-1).events.push(t)},"addEvent"),Nue=S(function(t){const e={section:F1,type:F1,description:t,task:t,classes:[]};CS.push(e)},"addTaskOrg"),cW=S(function(){const t=S(function(r){return P1[r].processed},"compileTask");let e=!0;for(const[r,n]of P1.entries())t(r),e=e&&n.processed;return e},"compileTasks"),PZe={clear:Aue,getCommonDb:Cue,addSection:_ue,getSections:Lue,getTasks:Due,addTask:Rue,addTaskOrg:Nue,addEvent:Mue},BZe=12,QT=S(function(t,e){const r=t.append("rect");return r.attr("x",e.x),r.attr("y",e.y),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("width",e.width),r.attr("height",e.height),r.attr("rx",e.rx),r.attr("ry",e.ry),e.class!==void 0&&r.attr("class",e.class),r},"drawRect"),$Ze=S(function(t,e){const n=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");i.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function a(l){const u=d1().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}S(a,"smile");function s(l){const u=d1().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}S(s,"sad");function o(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return S(o,"ambivalent"),e.score>3?a(i):e.score<3?s(i):o(i),n},"drawFace"),zZe=S(function(t,e){const r=t.append("circle");return r.attr("cx",e.cx),r.attr("cy",e.cy),r.attr("class","actor-"+e.pos),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("r",e.r),r.class!==void 0&&r.attr("class",r.class),e.title!==void 0&&r.append("title").text(e.title),r},"drawCircle"),Iue=S(function(t,e){const r=e.text.replace(/<br\s*\/?>/gi," "),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.attr("class","legend"),n.style("text-anchor",e.anchor),e.class!==void 0&&n.attr("class",e.class);const i=n.append("tspan");return i.attr("x",e.x+e.textMargin*2),i.text(r),n},"drawText"),HZe=S(function(t,e){function r(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}S(r,"genPoints");const n=t.append("polygon");n.attr("points",r(e.x,e.y,50,20,7)),n.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,Iue(t,e)},"drawLabel"),VZe=S(function(t,e,r){const n=t.append("g"),i=QI();i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=r.width,i.height=r.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,QT(n,i),Oue(r)(e.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},r,e.colour)},"drawSection"),hW=-1,UZe=S(function(t,e,r){const n=e.x+r.width/2,i=t.append("g");hW++;const a=300+5*30;i.append("line").attr("id","task"+hW).attr("x1",n).attr("y1",e.y).attr("x2",n).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),$Ze(i,{cx:n,cy:300+(5-e.score)*30,score:e.score});const s=QI();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=r.width,s.height=r.height,s.class="task task-type-"+e.num,s.rx=3,s.ry=3,QT(i,s),Oue(r)(e.task,i,s.x,s.y,s.width,s.height,{class:"task"},r,e.colour)},"drawTask"),GZe=S(function(t,e){QT(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},"drawBackgroundRect"),WZe=S(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),QI=S(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),Oue=function(){function t(i,a,s,o,l,u,h,f){const d=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("font-color",f).style("text-anchor","middle").text(i);n(d,h)}S(t,"byText");function e(i,a,s,o,l,u,h,f,d){const{taskFontSize:p,taskFontFamily:v}=f,m=i.split(/<br\s*\/?>/gi);for(let x=0;x<m.length;x++){const y=x*p-p*(m.length-1)/2,w=a.append("text").attr("x",s+l/2).attr("y",o).attr("fill",d).style("text-anchor","middle").style("font-size",p).style("font-family",v);w.append("tspan").attr("x",s+l/2).attr("dy",y).text(m[x]),w.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(w,h)}}S(e,"byTspan");function r(i,a,s,o,l,u,h,f){const d=a.append("switch"),v=d.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");v.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,d,s,o,l,u,h,f),n(v,h)}S(r,"byFo");function n(i,a){for(const s in a)s in a&&i.attr(s,a[s])}return S(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?t:e}}(),qZe=S(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");function ZI(t,e){t.each(function(){var r=yt(this),n=r.text().split(/(\s+|<br>)/).reverse(),i,a=[],s=1.1,o=r.attr("y"),l=parseFloat(r.attr("dy")),u=r.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",l+"em");for(let h=0;h<n.length;h++)i=n[n.length-1-h],a.push(i),u.text(a.join(" ").trim()),(u.node().getComputedTextLength()>e||i==="<br>")&&(a.pop(),u.text(a.join(" ").trim()),i==="<br>"?a=[""]:a=[i],u=r.append("tspan").attr("x",0).attr("y",o).attr("dy",s+"em").text(i))})}S(ZI,"wrap");var YZe=S(function(t,e,r,n){var f;const i=r%BZe-1,a=t.append("g");e.section=i,a.attr("class",(e.class?e.class+" ":"")+"timeline-node "+("section-"+i));const s=a.append("g"),o=a.append("g"),u=o.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(ZI,e.width).node().getBBox(),h=(f=n.fontSize)!=null&&f.replace?n.fontSize.replace("px",""):n.fontSize;return e.height=u.height+h*1.1*.5+e.padding,e.height=Math.max(e.height,e.maxHeight),e.width=e.width+2*e.padding,o.attr("transform","translate("+e.width/2+", "+e.padding/2+")"),jZe(s,e,i,n),e},"drawNode"),XZe=S(function(t,e,r){var o;const n=t.append("g"),a=n.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(ZI,e.width).node().getBBox(),s=(o=r.fontSize)!=null&&o.replace?r.fontSize.replace("px",""):r.fontSize;return n.remove(),a.height+s*1.1*.5+e.padding},"getVirtualNodeHeight"),jZe=S(function(t,e,r){t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("d",`M0 ${e.height-5} v${-e.height+2*5} q0,-5 5,-5 h${e.width-2*5} q5,0 5,5 v${e.height-5} H0 Z`),t.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",e.height).attr("x2",e.width).attr("y2",e.height)},"defaultBkg"),Hd={drawRect:QT,drawCircle:zZe,drawSection:VZe,drawText:Iue,drawLabel:HZe,drawTask:UZe,drawBackgroundRect:GZe,getTextObj:WZe,getNoteRect:QI,initGraphics:qZe,drawNode:YZe,getVirtualNodeHeight:XZe},KZe=S(function(t,e,r,n){var M,F;const i=Ve(),a=i.leftMargin??50;he.debug("timeline",n.db);const s=i.securityLevel;let o;s==="sandbox"&&(o=yt("#i"+e));const u=yt(s==="sandbox"?o.nodes()[0].contentDocument.body:"body").select("#"+e);u.append("g");const h=n.db.getTasks(),f=n.db.getCommonDb().getDiagramTitle();he.debug("task",h),Hd.initGraphics(u);const d=n.db.getSections();he.debug("sections",d);let p=0,v=0,m=0,x=0,y=50+a,w=50;x=50;let k=0,E=!0;d.forEach(function(N){const z={number:k,descr:N,section:k,width:150,padding:20,maxHeight:p},V=Hd.getVirtualNodeHeight(u,z,i);he.debug("sectionHeight before draw",V),p=Math.max(p,V+20)});let C=0,L=0;he.debug("tasks.length",h.length);for(const[N,z]of h.entries()){const V={number:N,descr:z,section:z.section,width:150,padding:20,maxHeight:v},D=Hd.getVirtualNodeHeight(u,V,i);he.debug("taskHeight before draw",D),v=Math.max(v,D+20),C=Math.max(C,z.events.length);let O=0;for(const P of z.events){const $={descr:P,section:z.section,number:z.section,width:150,padding:20,maxHeight:50};O+=Hd.getVirtualNodeHeight(u,$,i)}L=Math.max(L,O)}he.debug("maxSectionHeight before draw",p),he.debug("maxTaskHeight before draw",v),d&&d.length>0?d.forEach(N=>{const z=h.filter(P=>P.section===N),V={number:k,descr:N,section:k,width:200*Math.max(z.length,1)-50,padding:20,maxHeight:p};he.debug("sectionNode",V);const D=u.append("g"),O=Hd.drawNode(D,V,k,i);he.debug("sectionNode output",O),D.attr("transform",`translate(${y}, ${x})`),w+=p+50,z.length>0&&fW(u,z,k,y,w,v,i,C,L,p,!1),y+=200*Math.max(z.length,1),w=x,k++}):(E=!1,fW(u,h,k,y,w,v,i,C,L,p,!0));const _=u.node().getBBox();he.debug("bounds",_),f&&u.append("text").text(f).attr("x",_.width/2-a).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),m=E?p+v+150:v+100,u.append("g").attr("class","lineWrapper").append("line").attr("x1",a).attr("y1",m).attr("x2",_.width+3*a).attr("y2",m).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),X1(void 0,u,((M=i.timeline)==null?void 0:M.padding)??50,((F=i.timeline)==null?void 0:F.useMaxWidth)??!1)},"draw"),fW=S(function(t,e,r,n,i,a,s,o,l,u,h){var f;for(const d of e){const p={descr:d.task,section:r,number:r,width:150,padding:20,maxHeight:a};he.debug("taskNode",p);const v=t.append("g").attr("class","taskWrapper"),x=Hd.drawNode(v,p,r,s).height;if(he.debug("taskHeight after draw",x),v.attr("transform",`translate(${n}, ${i})`),a=Math.max(a,x),d.events){const y=t.append("g").attr("class","lineWrapper");let w=a;i+=100,w=w+QZe(t,d.events,r,n,i,s),i-=100,y.append("line").attr("x1",n+190/2).attr("y1",i+a).attr("x2",n+190/2).attr("y2",i+a+(h?a:u)+l+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}n=n+200,h&&!((f=s.timeline)!=null&&f.disableMulticolor)&&r++}i=i-10},"drawTasks"),QZe=S(function(t,e,r,n,i,a){let s=0;const o=i;i=i+100;for(const l of e){const u={descr:l,section:r,number:r,width:150,padding:20,maxHeight:50};he.debug("eventNode",u);const h=t.append("g").attr("class","eventWrapper"),d=Hd.drawNode(h,u,r,a).height;s=s+d,h.attr("transform",`translate(${n}, ${i})`),i=i+10+d}return i=o,s},"drawEvents"),ZZe={setConf:S(()=>{},"setConf"),draw:KZe},JZe=S(t=>{let e="";for(let r=0;r<t.THEME_COLOR_LIMIT;r++)t["lineColor"+r]=t["lineColor"+r]||t["cScaleInv"+r],j0(t["lineColor"+r])?t["lineColor"+r]=lr(t["lineColor"+r],20):t["lineColor"+r]=gr(t["lineColor"+r],20);for(let r=0;r<t.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);e+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${t["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${t["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${t["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${t["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${t["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return e},"genSections"),eJe=S(t=>`
  .edge {
    stroke-width: 3;
  }
  ${JZe(t)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),tJe=eJe,rJe={db:Eue,renderer:ZZe,parser:FZe,styles:tJe};const nJe=Object.freeze(Object.defineProperty({__proto__:null,diagram:rJe},Symbol.toStringTag,{value:"Module"}));function la(t){"@babel/helpers - typeof";return la=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(t)}function JI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eO(t,e,r){return e&&dW(t.prototype,e),r&&dW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fue(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zl(t,e){return iJe(t)||aJe(t,e)||Pue(t,e)||sJe()}function iJe(t){if(Array.isArray(t))return t}function aJe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,o;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw o}}return n}}function Pue(t,e){if(t){if(typeof t=="string")return pW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pW(t,e)}}function pW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bue(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Pue(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){s=!0,o=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(s)throw o}}}}var Xi=typeof window>"u"?null:window,gW=Xi?Xi.navigator:null;Xi&&Xi.document;var oJe=la(""),$ue=la({}),lJe=la(function(){}),uJe=typeof HTMLElement>"u"?"undefined":la(HTMLElement),Ib=function(e){return e&&e.instanceString&&ci(e.instanceString)?e.instanceString():null},hr=function(e){return e!=null&&la(e)==oJe},ci=function(e){return e!=null&&la(e)===lJe},Rn=function(e){return!Bo(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Jr=function(e){return e!=null&&la(e)===$ue&&!Rn(e)&&e.constructor===Object},cJe=function(e){return e!=null&&la(e)===$ue},$t=function(e){return e!=null&&la(e)===la(1)&&!isNaN(e)},hJe=function(e){return $t(e)&&Math.floor(e)===e},AS=function(e){if(uJe!=="undefined")return e!=null&&e instanceof HTMLElement},Bo=function(e){return Ob(e)||zue(e)},Ob=function(e){return Ib(e)==="collection"&&e._private.single},zue=function(e){return Ib(e)==="collection"&&!e._private.single},tO=function(e){return Ib(e)==="core"},Hue=function(e){return Ib(e)==="stylesheet"},fJe=function(e){return Ib(e)==="event"},Uf=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},dJe=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},pJe=function(e){return Jr(e)&&$t(e.x1)&&$t(e.x2)&&$t(e.y1)&&$t(e.y2)},gJe=function(e){return cJe(e)&&ci(e.then)},vJe=function(){return gW&&gW.userAgent.match(/msie|trident|edge/i)},G2=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],s=0;s<arguments.length;s++)a.push(arguments[s]);return a.join("$")});var n=function i(){var a=this,s=arguments,o,l=r.apply(a,s),u=i.cache;return(o=u[l])||(o=u[l]=e.apply(a,s)),o};return n.cache={},n},rO=G2(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),ZT=G2(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Vue=G2(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),vW=function(e){return Uf(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},ra="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",mJe="rgb[a]?\\(("+ra+"[%]?)\\s*,\\s*("+ra+"[%]?)\\s*,\\s*("+ra+"[%]?)(?:\\s*,\\s*("+ra+"))?\\)",yJe="rgb[a]?\\((?:"+ra+"[%]?)\\s*,\\s*(?:"+ra+"[%]?)\\s*,\\s*(?:"+ra+"[%]?)(?:\\s*,\\s*(?:"+ra+"))?\\)",xJe="hsl[a]?\\(("+ra+")\\s*,\\s*("+ra+"[%])\\s*,\\s*("+ra+"[%])(?:\\s*,\\s*("+ra+"))?\\)",bJe="hsl[a]?\\((?:"+ra+")\\s*,\\s*(?:"+ra+"[%])\\s*,\\s*(?:"+ra+"[%])(?:\\s*,\\s*(?:"+ra+"))?\\)",wJe="\\#[0-9a-fA-F]{3}",kJe="\\#[0-9a-fA-F]{6}",Uue=function(e,r){return e<r?-1:e>r?1:0},SJe=function(e,r){return-1*Uue(e,r)},Er=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var s=i[a];t[s]=n[s]}}return t},EJe=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,i,a,s=16;return r?(n=parseInt(e[1]+e[1],s),i=parseInt(e[2]+e[2],s),a=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),i=parseInt(e[3]+e[4],s),a=parseInt(e[5]+e[6],s)),[n,i,a]}},TJe=function(e){var r,n,i,a,s,o,l,u;function h(v,m,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?v+(m-v)*6*x:x<1/2?m:x<2/3?v+(m-v)*(2/3-x)*6:v}var f=new RegExp("^"+xJe+"$").exec(e);if(f){if(n=parseInt(f[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(f[2]),i<0||i>100||(i=i/100,a=parseFloat(f[3]),a<0||a>100)||(a=a/100,s=f[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(i===0)o=l=u=Math.round(a*255);else{var d=a<.5?a*(1+i):a+i-a*i,p=2*a-d;o=Math.round(255*h(p,d,n+1/3)),l=Math.round(255*h(p,d,n)),u=Math.round(255*h(p,d,n-1/3))}r=[o,l,u,s]}return r},CJe=function(e){var r,n=new RegExp("^"+mJe+"$").exec(e);if(n){r=[];for(var i=[],a=1;a<=3;a++){var s=n[a];if(s[s.length-1]==="%"&&(i[a]=!0),s=parseFloat(s),i[a]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var o=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(o&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},AJe=function(e){return LJe[e.toLowerCase()]},_Je=function(e){return(Rn(e)?e:null)||AJe(e)||EJe(e)||CJe(e)||TJe(e)},LJe={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Gue=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var s=n[a];if(Jr(s))throw Error("Tried to set map with object key");a<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},Wue=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var s=n[a];if(Jr(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r};function DJe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var z0=DJe,cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function RJe(t,e){return e={exports:{}},t(e,e.exports),e.exports}var MJe=typeof cy=="object"&&cy&&cy.Object===Object&&cy,NJe=MJe,IJe=typeof self=="object"&&self&&self.Object===Object&&self,OJe=NJe||IJe||Function("return this")(),JT=OJe,FJe=function(){return JT.Date.now()},Z8=FJe,PJe=/\s/;function BJe(t){for(var e=t.length;e--&&PJe.test(t.charAt(e)););return e}var $Je=BJe,zJe=/^\s+/;function HJe(t){return t&&t.slice(0,$Je(t)+1).replace(zJe,"")}var VJe=HJe,UJe=JT.Symbol,B1=UJe,que=Object.prototype,GJe=que.hasOwnProperty,WJe=que.toString,Pm=B1?B1.toStringTag:void 0;function qJe(t){var e=GJe.call(t,Pm),r=t[Pm];try{t[Pm]=void 0;var n=!0}catch{}var i=WJe.call(t);return n&&(e?t[Pm]=r:delete t[Pm]),i}var YJe=qJe,XJe=Object.prototype,jJe=XJe.toString;function KJe(t){return jJe.call(t)}var QJe=KJe,ZJe="[object Null]",JJe="[object Undefined]",mW=B1?B1.toStringTag:void 0;function eet(t){return t==null?t===void 0?JJe:ZJe:mW&&mW in Object(t)?YJe(t):QJe(t)}var Yue=eet;function tet(t){return t!=null&&typeof t=="object"}var ret=tet,net="[object Symbol]";function iet(t){return typeof t=="symbol"||ret(t)&&Yue(t)==net}var Fb=iet,yW=0/0,aet=/^[-+]0x[0-9a-f]+$/i,set=/^0b[01]+$/i,oet=/^0o[0-7]+$/i,uet=parseInt;function cet(t){if(typeof t=="number")return t;if(Fb(t))return yW;if(z0(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=z0(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=VJe(t);var r=set.test(t);return r||oet.test(t)?uet(t.slice(2),r?2:8):aet.test(t)?yW:+t}var xW=cet,het="Expected a function",fet=Math.max,det=Math.min;function pet(t,e,r){var n,i,a,s,o,l,u=0,h=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(het);e=xW(e)||0,z0(r)&&(h=!!r.leading,f="maxWait"in r,a=f?fet(xW(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(L){var _=n,I=i;return n=i=void 0,u=L,s=t.apply(I,_),s}function v(L){return u=L,o=setTimeout(y,e),h?p(L):s}function m(L){var _=L-l,I=L-u,M=e-_;return f?det(M,a-I):M}function x(L){var _=L-l,I=L-u;return l===void 0||_>=e||_<0||f&&I>=a}function y(){var L=Z8();if(x(L))return w(L);o=setTimeout(y,m(L))}function w(L){return o=void 0,d&&n?p(L):(n=i=void 0,s)}function k(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function E(){return o===void 0?s:w(Z8())}function C(){var L=Z8(),_=x(L);if(n=arguments,i=this,l=L,_){if(o===void 0)return v(l);if(f)return clearTimeout(o),o=setTimeout(y,e),p(l)}return o===void 0&&(o=setTimeout(y,e)),s}return C.cancel=k,C.flush=E,C}var e6=pet,J8=Xi?Xi.performance:null,Xue=J8&&J8.now?function(){return J8.now()}:function(){return Date.now()},get=function(){if(Xi){if(Xi.requestAnimationFrame)return function(t){Xi.requestAnimationFrame(t)};if(Xi.mozRequestAnimationFrame)return function(t){Xi.mozRequestAnimationFrame(t)};if(Xi.webkitRequestAnimationFrame)return function(t){Xi.webkitRequestAnimationFrame(t)};if(Xi.msRequestAnimationFrame)return function(t){Xi.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(Xue())},1e3/60)}}(),_S=function(e){return get(e)},uh=Xue,wg=9261,jue=65599,hy=5381,Kue=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wg,n=r,i;i=e.next(),!i.done;)n=n*jue+i.value|0;return n},W2=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wg;return r*jue+e|0},q2=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hy;return(r<<5)+r+e|0},vet=function(e,r){return e*2097152+r},Bh=function(e){return e[0]*2097152+e[1]},M3=function(e,r){return[W2(e[0],r[0]),q2(e[1],r[1])]},met=function(e,r){var n={value:0,done:!1},i=0,a=e.length,s={next:function(){return i<a?n.value=e[i++]:n.done=!0,n}};return Kue(s,r)},H0=function(e,r){var n={value:0,done:!1},i=0,a=e.length,s={next:function(){return i<a?n.value=e.charCodeAt(i++):n.done=!0,n}};return Kue(s,r)},Que=function(){return yet(arguments)},yet=function(e){for(var r,n=0;n<e.length;n++){var i=e[n];n===0?r=H0(i):r=H0(i,r)}return r},bW=!0,xet=console.warn!=null,bet=console.trace!=null,nO=Number.MAX_SAFE_INTEGER||9007199254740991,Zue=function(){return!0},LS=function(){return!1},wW=function(){return 0},iO=function(){},bi=function(e){throw new Error(e)},Jue=function(e){if(e!==void 0)bW=!!e;else return bW},gn=function(e){Jue()&&(xet?console.warn(e):(console.log(e),bet&&console.trace()))},wet=function(e){return Er({},e)},zu=function(e){return e==null?e:Rn(e)?e.slice():Jr(e)?wet(e):e},ket=function(e){return e.slice()},ece=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},Eet={},tce=function(){return Eet},ja=function(e){var r=Object.keys(e);return function(n){for(var i={},a=0;a<r.length;a++){var s=r[a],o=n==null?void 0:n[s];i[s]=o===void 0?e[s]:o}return i}},Gf=function(e,r,n){for(var i=e.length-1;i>=0&&!(e[i]===r&&(e.splice(i,1),n));i--);},aO=function(e){e.splice(0,e.length)},Tet=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}},ql=function(e,r,n){return n&&(r=Vue(n,r)),e[r]},Zh=function(e,r,n,i){n&&(r=Vue(n,r)),e[r]=i},Cet=function(){function t(){JI(this,t),this._obj={}}return eO(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),Hu=typeof Map<"u"?Map:Cet,Aet="undefined",_et=function(){function t(e){if(JI(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return eO(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),yv=(typeof Set>"u"?"undefined":la(Set))!==Aet?Set:_et,t6=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!tO(e)){bi("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){bi("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new yv,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),r.renderedPosition){var s=r.renderedPosition,o=e.pan(),l=e.zoom();a.position={x:(s.x-o.x)/l,y:(s.y-o.y)/l}}var u=[];Rn(r.classes)?u=r.classes:hr(r.classes)&&(u=r.classes.split(/\s+/));for(var h=0,f=u.length;h<f;h++){var d=u[h];!d||d===""||a.classes.add(d)}this.createEmitter();var p=r.style||r.css;p&&(gn("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(p)),(n===void 0||n)&&this.restore()},kW=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,a){var s;Jr(n)&&!Bo(n)&&(s=n,n=s.roots||s.root,i=s.visit,a=s.directed),a=arguments.length===2&&!ci(i)?i:a,i=ci(i)?i:function(){};for(var o=this._private.cy,l=n=hr(n)?this.filter(n):n,u=[],h=[],f={},d={},p={},v=0,m,x=this.byGroup(),y=x.nodes,w=x.edges,k=0;k<l.length;k++){var E=l[k],C=E.id();E.isNode()&&(u.unshift(E),e.bfs&&(p[C]=!0,h.push(E)),d[C]=0)}for(var L=function(){var V=e.bfs?u.shift():u.pop(),D=V.id();if(e.dfs){if(p[D])return"continue";p[D]=!0,h.push(V)}var O=d[D],P=f[D],$=P!=null?P.source():null,B=P!=null?P.target():null,H=P==null?void 0:V.same($)?B[0]:$[0],X=void 0;if(X=i(V,P,H,v++,O),X===!0)return m=V,"break";if(X===!1)return"break";for(var q=V.connectedEdges().filter(function(re){return(!a||re.source().same(V))&&w.has(re)}),Y=0;Y<q.length;Y++){var U=q[Y],J=U.connectedNodes().filter(function(re){return!re.same(V)&&y.has(re)}),ce=J.id();J.length!==0&&!p[ce]&&(J=J[0],u.push(J),e.bfs&&(p[ce]=!0,h.push(J)),f[ce]=U,d[ce]=d[D]+1)}};u.length!==0;){var _=L();if(_!=="continue"&&_==="break")break}for(var I=o.collection(),M=0;M<h.length;M++){var F=h[M],N=f[F.id()];N!=null&&I.push(N),I.push(F)}return{path:o.collection(I),found:o.collection(m)}}},Y2={breadthFirstSearch:kW({bfs:!0}),depthFirstSearch:kW({dfs:!0})};Y2.bfs=Y2.breadthFirstSearch;Y2.dfs=Y2.depthFirstSearch;var Let=RJe(function(t,e){(function(){var r,n,i,a,s,o,l,u,h,f,d,p,v,m,x;i=Math.floor,f=Math.min,n=function(y,w){return y<w?-1:y>w?1:0},h=function(y,w,k,E,C){var L;if(k==null&&(k=0),C==null&&(C=n),k<0)throw new Error("lo must be non-negative");for(E==null&&(E=y.length);k<E;)L=i((k+E)/2),C(w,y[L])<0?E=L:k=L+1;return[].splice.apply(y,[k,k-k].concat(w)),w},o=function(y,w,k){return k==null&&(k=n),y.push(w),m(y,0,y.length-1,k)},s=function(y,w){var k,E;return w==null&&(w=n),k=y.pop(),y.length?(E=y[0],y[0]=k,x(y,0,w)):E=k,E},u=function(y,w,k){var E;return k==null&&(k=n),E=y[0],y[0]=w,x(y,0,k),E},l=function(y,w,k){var E;return k==null&&(k=n),y.length&&k(y[0],w)<0&&(E=[y[0],w],w=E[0],y[0]=E[1],x(y,0,k)),w},a=function(y,w){var k,E,C,L,_,I;for(w==null&&(w=n),L=(function(){I=[];for(var M=0,F=i(y.length/2);0<=F?M<F:M>F;0<=F?M++:M--)I.push(M);return I}).apply(this).reverse(),_=[],E=0,C=L.length;E<C;E++)k=L[E],_.push(x(y,k,w));return _},v=function(y,w,k){var E;if(k==null&&(k=n),E=y.indexOf(w),E!==-1)return m(y,0,E,k),x(y,E,k)},d=function(y,w,k){var E,C,L,_,I;if(k==null&&(k=n),C=y.slice(0,w),!C.length)return C;for(a(C,k),I=y.slice(w),L=0,_=I.length;L<_;L++)E=I[L],l(C,E,k);return C.sort(k).reverse()},p=function(y,w,k){var E,C,L,_,I,M,F,N,z;if(k==null&&(k=n),w*10<=y.length){if(L=y.slice(0,w).sort(k),!L.length)return L;for(C=L[L.length-1],F=y.slice(w),_=0,M=F.length;_<M;_++)E=F[_],k(E,C)<0&&(h(L,E,0,null,k),L.pop(),C=L[L.length-1]);return L}for(a(y,k),z=[],I=0,N=f(w,y.length);0<=N?I<N:I>N;0<=N?++I:--I)z.push(s(y,k));return z},m=function(y,w,k,E){var C,L,_;for(E==null&&(E=n),C=y[k];k>w;){if(_=k-1>>1,L=y[_],E(C,L)<0){y[k]=L,k=_;continue}break}return y[k]=C},x=function(y,w,k){var E,C,L,_,I;for(k==null&&(k=n),C=y.length,I=w,L=y[w],E=2*w+1;E<C;)_=E+1,_<C&&!(k(y[E],y[_])<0)&&(E=_),y[w]=y[E],w=E,E=2*w+1;return y[w]=L,m(y,I,w,k)},r=function(){y.push=o,y.pop=s,y.replace=u,y.pushpop=l,y.heapify=a,y.updateItem=v,y.nlargest=d,y.nsmallest=p;function y(w){this.cmp=w??n,this.nodes=[]}return y.prototype.push=function(w){return o(this.nodes,w,this.cmp)},y.prototype.pop=function(){return s(this.nodes,this.cmp)},y.prototype.peek=function(){return this.nodes[0]},y.prototype.contains=function(w){return this.nodes.indexOf(w)!==-1},y.prototype.replace=function(w){return u(this.nodes,w,this.cmp)},y.prototype.pushpop=function(w){return l(this.nodes,w,this.cmp)},y.prototype.heapify=function(){return a(this.nodes,this.cmp)},y.prototype.updateItem=function(w){return v(this.nodes,w,this.cmp)},y.prototype.clear=function(){return this.nodes=[]},y.prototype.empty=function(){return this.nodes.length===0},y.prototype.size=function(){return this.nodes.length},y.prototype.clone=function(){var w;return w=new y,w.nodes=this.nodes.slice(0),w},y.prototype.toArray=function(){return this.nodes.slice(0)},y.prototype.insert=y.prototype.push,y.prototype.top=y.prototype.peek,y.prototype.front=y.prototype.peek,y.prototype.has=y.prototype.contains,y.prototype.copy=y.prototype.clone,y}(),function(y,w){return t.exports=w()}(this,function(){return r})}).call(cy)}),Pb=Let,Det=ja({root:null,weight:function(e){return 1},directed:!1}),Ret={dijkstra:function(e){if(!Jr(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=Det(e),i=n.root,a=n.weight,s=n.directed,o=this,l=a,u=hr(i)?this.filter(i)[0]:i[0],h={},f={},d={},p=this.byGroup(),v=p.nodes,m=p.edges;m.unmergeBy(function(O){return O.isLoop()});for(var x=function(P){return h[P.id()]},y=function(P,$){h[P.id()]=$,w.updateItem(P)},w=new Pb(function(O,P){return x(O)-x(P)}),k=0;k<v.length;k++){var E=v[k];h[E.id()]=E.same(u)?0:1/0,w.push(E)}for(var C=function(P,$){for(var B=(s?P.edgesTo($):P.edgesWith($)).intersect(m),H=1/0,X,q=0;q<B.length;q++){var Y=B[q],U=l(Y);(U<H||!X)&&(H=U,X=Y)}return{edge:X,dist:H}};w.size()>0;){var L=w.pop(),_=x(L),I=L.id();if(d[I]=_,_!==1/0)for(var M=L.neighborhood().intersect(v),F=0;F<M.length;F++){var N=M[F],z=N.id(),V=C(L,N),D=_+V.dist;D<x(N)&&(y(N,D),f[z]={node:L,edge:V.edge})}}return{distanceTo:function(P){var $=hr(P)?v.filter(P)[0]:P[0];return d[$.id()]},pathTo:function(P){var $=hr(P)?v.filter(P)[0]:P[0],B=[],H=$,X=H.id();if($.length>0)for(B.unshift($);f[X];){var q=f[X];B.unshift(q.edge),B.unshift(q.node),H=q.node,X=H.id()}return o.spawn(B)}}}},Met={kruskal:function(e){e=e||function(k){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,a=n.length,s=new Array(a),o=n,l=function(E){for(var C=0;C<s.length;C++){var L=s[C];if(L.has(E))return C}},u=0;u<a;u++)s[u]=this.spawn(n[u]);for(var h=i.sort(function(k,E){return e(k)-e(E)}),f=0;f<h.length;f++){var d=h[f],p=d.source()[0],v=d.target()[0],m=l(p),x=l(v),y=s[m],w=s[x];m!==x&&(o.merge(d),y.merge(w),s.splice(x,1))}return o}},Net=ja({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),Iet={aStar:function(e){var r=this.cy(),n=Net(e),i=n.root,a=n.goal,s=n.heuristic,o=n.directed,l=n.weight;i=r.collection(i)[0],a=r.collection(a)[0];var u=i.id(),h=a.id(),f={},d={},p={},v=new Pb(function(X,q){return d[X.id()]-d[q.id()]}),m=new yv,x={},y={},w=function(q,Y){v.push(q),m.add(Y)},k,E,C=function(){k=v.pop(),E=k.id(),m.delete(E)},L=function(q){return m.has(q)};w(i,u),f[u]=0,d[u]=s(i);for(var _=0;v.size()>0;){if(C(),_++,E===h){for(var I=[],M=a,F=h,N=y[F];I.unshift(M),N!=null&&I.unshift(N),M=x[F],M!=null;)F=M.id(),N=y[F];return{found:!0,distance:f[E],path:this.spawn(I),steps:_}}p[E]=!0;for(var z=k._private.edges,V=0;V<z.length;V++){var D=z[V];if(this.hasElementWithId(D.id())&&!(o&&D.data("source")!==E)){var O=D.source(),P=D.target(),$=O.id()!==E?O:P,B=$.id();if(this.hasElementWithId(B)&&!p[B]){var H=f[E]+l(D);if(!L(B)){f[B]=H,d[B]=H+s($),w($,B),x[B]=k,y[B]=D;continue}H<f[B]&&(f[B]=H,d[B]=H+s($),x[B]=k,y[B]=D)}}}}return{found:!1,distance:void 0,path:void 0,steps:_}}},Oet=ja({weight:function(e){return 1},directed:!1}),Fet={floydWarshall:function(e){for(var r=this.cy(),n=Oet(e),i=n.weight,a=n.directed,s=i,o=this.byGroup(),l=o.nodes,u=o.edges,h=l.length,f=h*h,d=function(U){return l.indexOf(U)},p=function(U){return l[U]},v=new Array(f),m=0;m<f;m++){var x=m%h,y=(m-x)/h;y===x?v[m]=0:v[m]=1/0}for(var w=new Array(f),k=new Array(f),E=0;E<u.length;E++){var C=u[E],L=C.source()[0],_=C.target()[0];if(L!==_){var I=d(L),M=d(_),F=I*h+M,N=s(C);if(v[F]>N&&(v[F]=N,w[F]=M,k[F]=C),!a){var z=M*h+I;!a&&v[z]>N&&(v[z]=N,w[z]=I,k[z]=C)}}}for(var V=0;V<h;V++)for(var D=0;D<h;D++)for(var O=D*h+V,P=0;P<h;P++){var $=D*h+P,B=V*h+P;v[O]+v[B]<v[$]&&(v[$]=v[O]+v[B],w[$]=w[O])}var H=function(U){return(hr(U)?r.filter(U):U)[0]},X=function(U){return d(H(U))},q={distance:function(U,J){var ce=X(U),re=X(J);return v[ce*h+re]},path:function(U,J){var ce=X(U),re=X(J),ve=p(ce);if(ce===re)return ve.collection();if(w[ce*h+re]==null)return r.collection();var ye=r.collection(),Z=ce,ue;for(ye.merge(ve);ce!==re;)Z=ce,ce=w[ce*h+re],ue=k[Z*h+ce],ye.merge(ue),ye.merge(p(ce));return ye}};return q}},Pet=ja({weight:function(e){return 1},directed:!1,root:null}),Bet={bellmanFord:function(e){var r=this,n=Pet(e),i=n.weight,a=n.directed,s=n.root,o=i,l=this,u=this.cy(),h=this.byGroup(),f=h.edges,d=h.nodes,p=d.length,v=new Hu,m=!1,x=[];s=u.collection(s)[0],f.unmergeBy(function(oe){return oe.isLoop()});for(var y=f.length,w=function(we){var Re=v.get(we.id());return Re||(Re={},v.set(we.id(),Re)),Re},k=function(we){return(hr(we)?u.$(we):we)[0]},E=function(we){return w(k(we)).dist},C=function(we){for(var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,Pe=k(we),Ge=[],je=Pe;;){if(je==null)return r.spawn();var We=w(je),me=We.edge,Te=We.pred;if(Ge.unshift(je[0]),je.same(Re)&&Ge.length>0)break;me!=null&&Ge.unshift(me),je=Te}return l.spawn(Ge)},L=0;L<p;L++){var _=d[L],I=w(_);_.same(s)?I.dist=0:I.dist=1/0,I.pred=null,I.edge=null}for(var M=!1,F=function(we,Re,Pe,Ge,je,We){var me=Ge.dist+We;me<je.dist&&!Pe.same(Ge.edge)&&(je.dist=me,je.pred=we,je.edge=Pe,M=!0)},N=1;N<p;N++){M=!1;for(var z=0;z<y;z++){var V=f[z],D=V.source(),O=V.target(),P=o(V),$=w(D),B=w(O);F(D,O,V,$,B,P),a||F(O,D,V,B,$,P)}if(!M)break}if(M)for(var H=[],X=0;X<y;X++){var q=f[X],Y=q.source(),U=q.target(),J=o(q),ce=w(Y).dist,re=w(U).dist;if(ce+J<re||!a&&re+J<ce)if(m||(gn("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles!==!1){var ve=[];ce+J<re&&ve.push(Y),!a&&re+J<ce&&ve.push(U);for(var ye=ve.length,Z=0;Z<ye;Z++){var ue=ve[Z],ae=[ue];ae.push(w(ue).edge);for(var pe=w(ue).pred;ae.indexOf(pe)===-1;)ae.push(pe),ae.push(w(pe).edge),pe=w(pe).pred;ae=ae.slice(ae.indexOf(pe));for(var Ee=ae[0].id(),Se=0,de=2;de<ae.length;de+=2)ae[de].id()<Ee&&(Ee=ae[de].id(),Se=de);ae=ae.slice(Se).concat(ae.slice(0,Se)),ae.push(ae[0]);var be=ae.map(function(oe){return oe.id()}).join(",");H.indexOf(be)===-1&&(x.push(l.spawn(ae)),H.push(be))}}else break}return{distanceTo:E,pathTo:C,hasNegativeWeightCycle:m,negativeWeightCycles:x}}},$et=Math.sqrt(2),zet=function(e,r,n){n.length===0&&bi("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],a=i[1],s=i[2],o=r[a],l=r[s],u=n,h=u.length-1;h>=0;h--){var f=u[h],d=f[1],p=f[2];(r[d]===o&&r[p]===l||r[d]===l&&r[p]===o)&&u.splice(h,1)}for(var v=0;v<u.length;v++){var m=u[v];m[1]===l?(u[v]=m.slice(),u[v][1]=o):m[2]===l&&(u[v]=m.slice(),u[v][2]=o)}for(var x=0;x<r.length;x++)r[x]===l&&(r[x]=o);return u},eA=function(e,r,n,i){for(;n>i;){var a=Math.floor(Math.random()*r.length);r=zet(a,e,r),n--}return r},Het={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(B){return B.isLoop()});var a=n.length,s=i.length,o=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/$et);if(a<2){bi("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],h=0;h<s;h++){var f=i[h];u.push([h,n.indexOf(f.source()),n.indexOf(f.target())])}for(var d=1/0,p=[],v=new Array(a),m=new Array(a),x=new Array(a),y=function(H,X){for(var q=0;q<a;q++)X[q]=H[q]},w=0;w<=o;w++){for(var k=0;k<a;k++)m[k]=k;var E=eA(m,u.slice(),a,l),C=E.slice();y(m,x);var L=eA(m,E,l,2),_=eA(x,C,l,2);L.length<=_.length&&L.length<d?(d=L.length,p=L,y(m,v)):_.length<=L.length&&_.length<d&&(d=_.length,p=_,y(x,v))}for(var I=this.spawn(p.map(function(B){return i[B[0]]})),M=this.spawn(),F=this.spawn(),N=v[0],z=0;z<v.length;z++){var V=v[z],D=n[z];V===N?M.merge(D):F.merge(D)}var O=function(H){var X=e.spawn();return H.forEach(function(q){X.merge(q),q.connectedEdges().forEach(function(Y){e.contains(Y)&&!I.contains(Y)&&X.merge(Y)})}),X},P=[O(M),O(F)],$={cut:I,components:P,partition1:M,partition2:F};return $}},Vet=function(e){return{x:e.x,y:e.y}},r6=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},rce=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},kg=function(e){return{x:e[0],y:e[1]}},Uet=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,a=r;a<n;a++){var s=e[a];isFinite(s)&&(i=Math.min(s,i))}return i},Get=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,a=r;a<n;a++){var s=e[a];isFinite(s)&&(i=Math.max(s,i))}return i},Wet=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,a=0,s=r;s<n;s++){var o=e[s];isFinite(o)&&(i+=o,a++)}return i/a},qet=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var o=0,l=e.length-1;l>=0;l--){var u=e[l];s?isFinite(u)||(e[l]=-1/0,o++):e.splice(l,1)}a&&e.sort(function(d,p){return d-p});var h=e.length,f=Math.floor(h/2);return h%2!==0?e[f+1+o]:(e[f-1+o]+e[f+o])/2},Yet=function(e){return Math.PI*e/180},N3=function(e,r){return Math.atan2(r,e)-Math.PI/2},sO=Math.log2||function(t){return Math.log(t)/Math.log(2)},nce=function(e){return e>0?1:e<0?-1:0},V0=function(e,r){return Math.sqrt(Nd(e,r))},Nd=function(e,r){var n=r.x-e.x,i=r.y-e.y;return n*n+i*i},Xet=function(e){for(var r=e.length,n=0,i=0;i<r;i++)n+=e[i];for(var a=0;a<r;a++)e[a]=e[a]/n;return e},pa=function(e,r,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*r+i*i*n},Ug=function(e,r,n,i){return{x:pa(e.x,r.x,n.x,i),y:pa(e.y,r.y,n.y,i)}},jet=function(e,r,n,i){var a={x:r.x-e.x,y:r.y-e.y},s=V0(e,r),o={x:a.x/s,y:a.y/s};return n=n??0,i=i??n*s,{x:e.x+o.x*i,y:e.y+o.y*i}},X2=function(e,r,n){return Math.max(e,Math.min(n,r))},mo=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Ket=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},Qet=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Zet=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},ice=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},Jet=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Ww=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},qw=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,a,s;if(r.length===1)n=i=a=s=r[0];else if(r.length===2)n=a=r[0],s=i=r[1];else if(r.length===4){var o=zl(r,4);n=o[0],i=o[1],a=o[2],s=o[3]}return e.x1-=s,e.x2+=i,e.y1-=n,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},SW=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},oO=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},$1=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},ett=function(e,r){return $1(e,r.x,r.y)},ace=function(e,r){return $1(e,r.x1,r.y1)&&$1(e,r.x2,r.y2)},sce=function(e,r,n,i,a,s,o){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?U0(a,s):l,h=a/2,f=s/2;u=Math.min(u,h,f);var d=u!==h,p=u!==f,v;if(d){var m=n-h+u-o,x=i-f-o,y=n+h-u+o,w=x;if(v=uf(e,r,n,i,m,x,y,w,!1),v.length>0)return v}if(p){var k=n+h+o,E=i-f+u-o,C=k,L=i+f-u+o;if(v=uf(e,r,n,i,k,E,C,L,!1),v.length>0)return v}if(d){var _=n-h+u-o,I=i+f+o,M=n+h-u+o,F=I;if(v=uf(e,r,n,i,_,I,M,F,!1),v.length>0)return v}if(p){var N=n-h-o,z=i-f+u-o,V=N,D=i+f-u+o;if(v=uf(e,r,n,i,N,z,V,D,!1),v.length>0)return v}var O;{var P=n-h+u,$=i-f+u;if(O=fy(e,r,n,i,P,$,u+o),O.length>0&&O[0]<=P&&O[1]<=$)return[O[0],O[1]]}{var B=n+h-u,H=i-f+u;if(O=fy(e,r,n,i,B,H,u+o),O.length>0&&O[0]>=B&&O[1]<=H)return[O[0],O[1]]}{var X=n+h-u,q=i+f-u;if(O=fy(e,r,n,i,X,q,u+o),O.length>0&&O[0]>=X&&O[1]>=q)return[O[0],O[1]]}{var Y=n-h+u,U=i+f-u;if(O=fy(e,r,n,i,Y,U,u+o),O.length>0&&O[0]<=Y&&O[1]>=U)return[O[0],O[1]]}return[]},ttt=function(e,r,n,i,a,s,o){var l=o,u=Math.min(n,a),h=Math.max(n,a),f=Math.min(i,s),d=Math.max(i,s);return u-l<=e&&e<=h+l&&f-l<=r&&r<=d+l},rtt=function(e,r,n,i,a,s,o,l,u){var h={x1:Math.min(n,o,a)-u,x2:Math.max(n,o,a)+u,y1:Math.min(i,l,s)-u,y2:Math.max(i,l,s)+u};return!(e<h.x1||e>h.x2||r<h.y1||r>h.y2)},ntt=function(e,r,n,i){n-=i;var a=r*r-4*e*n;if(a<0)return[];var s=Math.sqrt(a),o=2*e,l=(-r+s)/o,u=(-r-s)/o;return[l,u]},itt=function(e,r,n,i,a){var s=1e-5;e===0&&(e=s),r/=e,n/=e,i/=e;var o,l,u,h,f,d,p,v;if(l=(3*n-r*r)/9,u=-(27*i)+r*(9*n-2*(r*r)),u/=54,o=l*l*l+u*u,a[1]=0,p=r/3,o>0){f=u+Math.sqrt(o),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),d=u-Math.sqrt(o),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),a[0]=-p+f+d,p+=(f+d)/2,a[4]=a[2]=-p,p=Math.sqrt(3)*(-d+f)/2,a[3]=p,a[5]=-p;return}if(a[5]=a[3]=0,o===0){v=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),a[0]=-p+2*v,a[4]=a[2]=-(v+p);return}l=-l,h=l*l*l,h=Math.acos(u/Math.sqrt(h)),v=2*Math.sqrt(l),a[0]=-p+v*Math.cos(h/3),a[2]=-p+v*Math.cos((h+2*Math.PI)/3),a[4]=-p+v*Math.cos((h+4*Math.PI)/3)},att=function(e,r,n,i,a,s,o,l){var u=1*n*n-4*n*a+2*n*o+4*a*a-4*a*o+o*o+i*i-4*i*s+2*i*l+4*s*s-4*s*l+l*l,h=1*9*n*a-3*n*n-3*n*o-6*a*a+3*a*o+9*i*s-3*i*i-3*i*l-6*s*s+3*s*l,f=1*3*n*n-6*n*a+n*o-n*e+2*a*a+2*a*e-o*e+3*i*i-6*i*s+i*l-i*r+2*s*s+2*s*r-l*r,d=1*n*a-n*n+n*e-a*e+i*s-i*i+i*r-s*r,p=[];itt(u,h,f,d,p);for(var v=1e-7,m=[],x=0;x<6;x+=2)Math.abs(p[x+1])<v&&p[x]>=0&&p[x]<=1&&m.push(p[x]);m.push(1),m.push(0);for(var y=-1,w,k,E,C=0;C<m.length;C++)w=Math.pow(1-m[C],2)*n+2*(1-m[C])*m[C]*a+m[C]*m[C]*o,k=Math.pow(1-m[C],2)*i+2*(1-m[C])*m[C]*s+m[C]*m[C]*l,E=Math.pow(w-e,2)+Math.pow(k-r,2),y>=0?E<y&&(y=E):y=E;return y},stt=function(e,r,n,i,a,s){var o=[e-n,r-i],l=[a-n,s-i],u=l[0]*l[0]+l[1]*l[1],h=o[0]*o[0]+o[1]*o[1],f=o[0]*l[0]+o[1]*l[1],d=f*f/u;return f<0?h:d>u?(e-a)*(e-a)+(r-s)*(r-s):h-d},ro=function(e,r,n){for(var i,a,s,o,l,u=0,h=0;h<n.length/2;h++)if(i=n[h*2],a=n[h*2+1],h+1<n.length/2?(s=n[(h+1)*2],o=n[(h+1)*2+1]):(s=n[(h+1-n.length/2)*2],o=n[(h+1-n.length/2)*2+1]),!(i==e&&s==e))if(i>=e&&e>=s||i<=e&&e<=s)l=(e-i)/(s-i)*(o-a)+a,l>r&&u++;else continue;return u%2!==0},ch=function(e,r,n,i,a,s,o,l,u){var h=new Array(n.length),f;l[0]!=null?(f=Math.atan(l[1]/l[0]),l[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=l;for(var d=Math.cos(-f),p=Math.sin(-f),v=0;v<h.length/2;v++)h[v*2]=s/2*(n[v*2]*d-n[v*2+1]*p),h[v*2+1]=o/2*(n[v*2+1]*d+n[v*2]*p),h[v*2]+=i,h[v*2+1]+=a;var m;if(u>0){var x=RS(h,-u);m=DS(x)}else m=h;return ro(e,r,m)},ott=function(e,r,n,i,a,s,o,l){for(var u=new Array(n.length*2),h=0;h<l.length;h++){var f=l[h];u[h*4+0]=f.startX,u[h*4+1]=f.startY,u[h*4+2]=f.stopX,u[h*4+3]=f.stopY;var d=Math.pow(f.cx-e,2)+Math.pow(f.cy-r,2);if(d<=Math.pow(f.radius,2))return!0}return ro(e,r,u)},DS=function(e){for(var r=new Array(e.length/2),n,i,a,s,o,l,u,h,f=0;f<e.length/4;f++){n=e[f*4],i=e[f*4+1],a=e[f*4+2],s=e[f*4+3],f<e.length/4-1?(o=e[(f+1)*4],l=e[(f+1)*4+1],u=e[(f+1)*4+2],h=e[(f+1)*4+3]):(o=e[0],l=e[1],u=e[2],h=e[3]);var d=uf(n,i,a,s,o,l,u,h,!0);r[f*2]=d[0],r[f*2+1]=d[1]}return r},RS=function(e,r){for(var n=new Array(e.length*2),i,a,s,o,l=0;l<e.length/2;l++){i=e[l*2],a=e[l*2+1],l<e.length/2-1?(s=e[(l+1)*2],o=e[(l+1)*2+1]):(s=e[0],o=e[1]);var u=o-a,h=-(s-i),f=Math.sqrt(u*u+h*h),d=u/f,p=h/f;n[l*4]=i+d*r,n[l*4+1]=a+p*r,n[l*4+2]=s+d*r,n[l*4+3]=o+p*r}return n},ltt=function(e,r,n,i,a,s){var o=n-e,l=i-r;o/=a,l/=s;var u=Math.sqrt(o*o+l*l),h=u-1;if(h<0)return[];var f=h/u;return[(n-e)*f+e,(i-r)*f+r]},r0=function(e,r,n,i,a,s,o){return e-=a,r-=s,e/=n/2+o,r/=i/2+o,e*e+r*r<=1},fy=function(e,r,n,i,a,s,o){var l=[n-e,i-r],u=[e-a,r-s],h=l[0]*l[0]+l[1]*l[1],f=2*(u[0]*l[0]+u[1]*l[1]),d=u[0]*u[0]+u[1]*u[1]-o*o,p=f*f-4*h*d;if(p<0)return[];var v=(-f+Math.sqrt(p))/(2*h),m=(-f-Math.sqrt(p))/(2*h),x=Math.min(v,m),y=Math.max(v,m),w=[];if(x>=0&&x<=1&&w.push(x),y>=0&&y<=1&&w.push(y),w.length===0)return[];var k=w[0]*l[0]+e,E=w[0]*l[1]+r;if(w.length>1){if(w[0]==w[1])return[k,E];var C=w[1]*l[0]+e,L=w[1]*l[1]+r;return[k,E,C,L]}else return[k,E]},tA=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},uf=function(e,r,n,i,a,s,o,l,u){var h=e-a,f=n-e,d=o-a,p=r-s,v=i-r,m=l-s,x=d*p-m*h,y=f*p-v*h,w=m*f-d*v;if(w!==0){var k=x/w,E=y/w,C=.001,L=0-C,_=1+C;return L<=k&&k<=_&&L<=E&&E<=_?[e+k*f,r+k*v]:u?[e+k*f,r+k*v]:[]}else return x===0||y===0?tA(e,n,o)===o?[o,l]:tA(e,n,a)===a?[a,s]:tA(a,o,n)===n?[n,i]:[]:[]},j2=function(e,r,n,i,a,s,o,l){var u=[],h,f=new Array(n.length),d=!0;s==null&&(d=!1);var p;if(d){for(var v=0;v<f.length/2;v++)f[v*2]=n[v*2]*s+i,f[v*2+1]=n[v*2+1]*o+a;if(l>0){var m=RS(f,-l);p=DS(m)}else p=f}else p=n;for(var x,y,w,k,E=0;E<p.length/2;E++)x=p[E*2],y=p[E*2+1],E<p.length/2-1?(w=p[(E+1)*2],k=p[(E+1)*2+1]):(w=p[0],k=p[1]),h=uf(e,r,i,a,x,y,w,k),h.length!==0&&u.push(h[0],h[1]);return u},utt=function(e,r,n,i,a,s,o,l,u){var h=[],f,d=new Array(n.length*2);u.forEach(function(w,k){k===0?(d[d.length-2]=w.startX,d[d.length-1]=w.startY):(d[k*4-2]=w.startX,d[k*4-1]=w.startY),d[k*4]=w.stopX,d[k*4+1]=w.stopY,f=fy(e,r,i,a,w.cx,w.cy,w.radius),f.length!==0&&h.push(f[0],f[1])});for(var p=0;p<d.length/4;p++)f=uf(e,r,i,a,d[p*4],d[p*4+1],d[p*4+2],d[p*4+3],!1),f.length!==0&&h.push(f[0],f[1]);if(h.length>2){for(var v=[h[0],h[1]],m=Math.pow(v[0]-e,2)+Math.pow(v[1]-r,2),x=1;x<h.length/2;x++){var y=Math.pow(h[x*2]-e,2)+Math.pow(h[x*2+1]-r,2);y<=m&&(v[0]=h[x*2],v[1]=h[x*2+1],m=y)}return v}return h},I3=function(e,r,n){var i=[e[0]-r[0],e[1]-r[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=(a-n)/a;return s<0&&(s=1e-5),[r[0]+s*i[0],r[1]+s*i[1]]},_s=function(e,r){var n=iD(e,r);return n=oce(n),n},oce=function(e){for(var r,n,i=e.length/2,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<i;u++)r=e[2*u],n=e[2*u+1],a=Math.min(a,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);for(var h=2/(o-a),f=2/(l-s),d=0;d<i;d++)r=e[2*d]=e[2*d]*h,n=e[2*d+1]=e[2*d+1]*f,a=Math.min(a,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);if(s<-1)for(var p=0;p<i;p++)n=e[2*p+1]=e[2*p+1]+(-1-s);return e},iD=function(e,r){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var a=new Array(e*2),s,o=0;o<e;o++)s=o*n+i,a[2*o]=Math.cos(s),a[2*o+1]=Math.sin(-s);return a},U0=function(e,r){return Math.min(e/4,r/4,8)},lce=function(e,r){return Math.min(e/10,r/10,8)},lO=function(){return 8},ctt=function(e,r,n){return[e-2*r+n,2*(r-e),e]},aD=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},htt=ja({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),ftt={pageRank:function(e){for(var r=htt(e),n=r.dampingFactor,i=r.precision,a=r.iterations,s=r.weight,o=this._private.cy,l=this.byGroup(),u=l.nodes,h=l.edges,f=u.length,d=f*f,p=h.length,v=new Array(d),m=new Array(f),x=(1-n)/f,y=0;y<f;y++){for(var w=0;w<f;w++){var k=y*f+w;v[k]=0}m[y]=0}for(var E=0;E<p;E++){var C=h[E],L=C.data("source"),_=C.data("target");if(L!==_){var I=u.indexOfId(L),M=u.indexOfId(_),F=s(C),N=M*f+I;v[N]+=F,m[I]+=F}}for(var z=1/f+x,V=0;V<f;V++)if(m[V]===0)for(var D=0;D<f;D++){var O=D*f+V;v[O]=z}else for(var P=0;P<f;P++){var $=P*f+V;v[$]=v[$]/m[V]+x}for(var B=new Array(f),H=new Array(f),X,q=0;q<f;q++)B[q]=1;for(var Y=0;Y<a;Y++){for(var U=0;U<f;U++)H[U]=0;for(var J=0;J<f;J++)for(var ce=0;ce<f;ce++){var re=J*f+ce;H[J]+=v[re]*B[ce]}Xet(H),X=B,B=H,H=X;for(var ve=0,ye=0;ye<f;ye++){var Z=X[ye]-B[ye];ve+=Z*Z}if(ve<i)break}var ue={rank:function(pe){return pe=o.collection(pe)[0],B[u.indexOf(pe)]}};return ue}},EW=ja({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Gg={degreeCentralityNormalized:function(e){e=EW(e);var r=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var h={},f={},d=0,p=0,v=0;v<i;v++){var m=n[v],x=m.id();e.root=m;var y=this.degreeCentrality(e);d<y.indegree&&(d=y.indegree),p<y.outdegree&&(p=y.outdegree),h[x]=y.indegree,f[x]=y.outdegree}return{indegree:function(k){return d==0?0:(hr(k)&&(k=r.filter(k)),h[k.id()]/d)},outdegree:function(k){return p===0?0:(hr(k)&&(k=r.filter(k)),f[k.id()]/p)}}}else{for(var a={},s=0,o=0;o<i;o++){var l=n[o];e.root=l;var u=this.degreeCentrality(e);s<u.degree&&(s=u.degree),a[l.id()]=u.degree}return{degree:function(k){return s===0?0:(hr(k)&&(k=r.filter(k)),a[k.id()]/s)}}}},degreeCentrality:function(e){e=EW(e);var r=this.cy(),n=this,i=e,a=i.root,s=i.weight,o=i.directed,l=i.alpha;if(a=r.collection(a)[0],o){for(var p=a.connectedEdges(),v=p.filter(function(L){return L.target().same(a)&&n.has(L)}),m=p.filter(function(L){return L.source().same(a)&&n.has(L)}),x=v.length,y=m.length,w=0,k=0,E=0;E<v.length;E++)w+=s(v[E]);for(var C=0;C<m.length;C++)k+=s(m[C]);return{indegree:Math.pow(x,1-l)*Math.pow(w,l),outdegree:Math.pow(y,1-l)*Math.pow(k,l)}}else{for(var u=a.connectedEdges().intersection(n),h=u.length,f=0,d=0;d<u.length;d++)f+=s(u[d]);return{degree:Math.pow(h,1-l)*Math.pow(f,l)}}}};Gg.dc=Gg.degreeCentrality;Gg.dcn=Gg.degreeCentralityNormalised=Gg.degreeCentralityNormalized;var TW=ja({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Wg={closenessCentralityNormalized:function(e){for(var r=TW(e),n=r.harmonic,i=r.weight,a=r.directed,s=this.cy(),o={},l=0,u=this.nodes(),h=this.floydWarshall({weight:i,directed:a}),f=0;f<u.length;f++){for(var d=0,p=u[f],v=0;v<u.length;v++)if(f!==v){var m=h.distance(p,u[v]);n?d+=1/m:d+=m}n||(d=1/d),l<d&&(l=d),o[p.id()]=d}return{closeness:function(y){return l==0?0:(hr(y)?y=s.filter(y)[0].id():y=y.id(),o[y]/l)}}},closenessCentrality:function(e){var r=TW(e),n=r.root,i=r.weight,a=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:i,directed:a}),l=0,u=this.nodes(),h=0;h<u.length;h++){var f=u[h];if(!f.same(n)){var d=o.distanceTo(f);s?l+=1/d:l+=d}}return s?l:1/l}};Wg.cc=Wg.closenessCentrality;Wg.ccn=Wg.closenessCentralityNormalised=Wg.closenessCentralityNormalized;var dtt=ja({weight:null,directed:!1}),sD={betweennessCentrality:function(e){for(var r=dtt(e),n=r.directed,i=r.weight,a=i!=null,s=this.cy(),o=this.nodes(),l={},u={},h=0,f={set:function(k,E){u[k]=E,E>h&&(h=E)},get:function(k){return u[k]}},d=0;d<o.length;d++){var p=o[d],v=p.id();n?l[v]=p.outgoers().nodes():l[v]=p.openNeighborhood().nodes(),f.set(v,0)}for(var m=function(k){for(var E=o[k].id(),C=[],L={},_={},I={},M=new Pb(function(ce,re){return I[ce]-I[re]}),F=0;F<o.length;F++){var N=o[F].id();L[N]=[],_[N]=0,I[N]=1/0}for(_[E]=1,I[E]=0,M.push(E);!M.empty();){var z=M.pop();if(C.push(z),a)for(var V=0;V<l[z].length;V++){var D=l[z][V],O=s.getElementById(z),P=void 0;O.edgesTo(D).length>0?P=O.edgesTo(D)[0]:P=D.edgesTo(O)[0];var $=i(P);D=D.id(),I[D]>I[z]+$&&(I[D]=I[z]+$,M.nodes.indexOf(D)<0?M.push(D):M.updateItem(D),_[D]=0,L[D]=[]),I[D]==I[z]+$&&(_[D]=_[D]+_[z],L[D].push(z))}else for(var B=0;B<l[z].length;B++){var H=l[z][B].id();I[H]==1/0&&(M.push(H),I[H]=I[z]+1),I[H]==I[z]+1&&(_[H]=_[H]+_[z],L[H].push(z))}}for(var X={},q=0;q<o.length;q++)X[o[q].id()]=0;for(;C.length>0;){for(var Y=C.pop(),U=0;U<L[Y].length;U++){var J=L[Y][U];X[J]=X[J]+_[J]/_[Y]*(1+X[Y])}Y!=o[k].id()&&f.set(Y,f.get(Y)+X[Y])}},x=0;x<o.length;x++)m(x);var y={betweenness:function(k){var E=s.collection(k).id();return f.get(E)},betweennessNormalized:function(k){if(h==0)return 0;var E=s.collection(k).id();return f.get(E)/h}};return y.betweennessNormalised=y.betweennessNormalized,y}};sD.bc=sD.betweennessCentrality;var ptt=ja({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),gtt=function(e){return ptt(e)},vtt=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](e);return n},mtt=function(e,r,n){for(var i=0;i<r;i++)e[i*r+i]=n},uce=function(e,r){for(var n,i=0;i<r;i++){n=0;for(var a=0;a<r;a++)n+=e[a*r+i];for(var s=0;s<r;s++)e[s*r+i]=e[s*r+i]/n}},ytt=function(e,r,n){for(var i=new Array(n*n),a=0;a<n;a++){for(var s=0;s<n;s++)i[a*n+s]=0;for(var o=0;o<n;o++)for(var l=0;l<n;l++)i[a*n+l]+=e[a*n+o]*r[o*n+l]}return i},xtt=function(e,r,n){for(var i=e.slice(0),a=1;a<n;a++)e=ytt(e,i,r);return e},btt=function(e,r,n){for(var i=new Array(r*r),a=0;a<r*r;a++)i[a]=Math.pow(e[a],n);return uce(i,r),i},wtt=function(e,r,n,i){for(var a=0;a<n;a++){var s=Math.round(e[a]*Math.pow(10,i))/Math.pow(10,i),o=Math.round(r[a]*Math.pow(10,i))/Math.pow(10,i);if(s!==o)return!1}return!0},ktt=function(e,r,n,i){for(var a=[],s=0;s<r;s++){for(var o=[],l=0;l<r;l++)Math.round(e[s*r+l]*1e3)/1e3>0&&o.push(n[l]);o.length!==0&&a.push(i.collection(o))}return a},Stt=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},Ett=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&Stt(e[r],e[n])&&e.splice(n,1);return e},CW=function(e){for(var r=this.nodes(),n=this.edges(),i=this.cy(),a=gtt(e),s={},o=0;o<r.length;o++)s[r[o].id()]=o;for(var l=r.length,u=l*l,h=new Array(u),f,d=0;d<u;d++)h[d]=0;for(var p=0;p<n.length;p++){var v=n[p],m=s[v.source().id()],x=s[v.target().id()],y=vtt(v,a.attributes);h[m*l+x]+=y,h[x*l+m]+=y}mtt(h,l,a.multFactor),uce(h,l);for(var w=!0,k=0;w&&k<a.maxIterations;)w=!1,f=xtt(h,l,a.expandFactor),h=btt(f,l,a.inflateFactor),wtt(h,f,u,4)||(w=!0),k++;var E=ktt(h,l,r,i);return E=Ett(E),E},Ttt={markovClustering:CW,mcl:CW},Ctt=function(e){return e},cce=function(e,r){return Math.abs(r-e)},AW=function(e,r,n){return e+cce(r,n)},_W=function(e,r,n){return e+Math.pow(n-r,2)},Att=function(e){return Math.sqrt(e)},_tt=function(e,r,n){return Math.max(e,cce(r,n))},Bm=function(e,r,n,i,a){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Ctt,o=i,l,u,h=0;h<e;h++)l=r(h),u=n(h),o=a(o,l,u);return s(o)},z1={euclidean:function(e,r,n){return e>=2?Bm(e,r,n,0,_W,Att):Bm(e,r,n,0,AW)},squaredEuclidean:function(e,r,n){return Bm(e,r,n,0,_W)},manhattan:function(e,r,n){return Bm(e,r,n,0,AW)},max:function(e,r,n){return Bm(e,r,n,-1/0,_tt)}};z1["squared-euclidean"]=z1.squaredEuclidean;z1.squaredeuclidean=z1.squaredEuclidean;function n6(t,e,r,n,i,a){var s;return ci(t)?s=t:s=z1[t]||z1.euclidean,e===0&&ci(t)?s(i,a):s(e,r,n,i,a)}var Ltt=ja({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),uO=function(e){return Ltt(e)},MS=function(e,r,n,i,a){var s=a!=="kMedoids",o=s?function(f){return n[f]}:function(f){return i[f](n)},l=function(d){return i[d](r)},u=n,h=r;return n6(e,i.length,o,l,u,h)},rA=function(e,r,n){for(var i=n.length,a=new Array(i),s=new Array(i),o=new Array(r),l=null,u=0;u<i;u++)a[u]=e.min(n[u]).value,s[u]=e.max(n[u]).value;for(var h=0;h<r;h++){l=[];for(var f=0;f<i;f++)l[f]=Math.random()*(s[f]-a[f])+a[f];o[h]=l}return o},hce=function(e,r,n,i,a){for(var s=1/0,o=0,l=0;l<r.length;l++){var u=MS(n,e,r[l],i,a);u<s&&(s=u,o=l)}return o},fce=function(e,r,n){for(var i=[],a=null,s=0;s<r.length;s++)a=r[s],n[a.id()]===e&&i.push(a);return i},Dtt=function(e,r,n){return Math.abs(r-e)<=n},Rtt=function(e,r,n){for(var i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++){var s=Math.abs(e[i][a]-r[i][a]);if(s>n)return!1}return!0},Mtt=function(e,r,n){for(var i=0;i<n;i++)if(e===r[i])return!0;return!1},LW=function(e,r){var n=new Array(r);if(e.length<50)for(var i=0;i<r;i++){for(var a=e[Math.floor(Math.random()*e.length)];Mtt(a,n,i);)a=e[Math.floor(Math.random()*e.length)];n[i]=a}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},DW=function(e,r,n){for(var i=0,a=0;a<r.length;a++)i+=MS("manhattan",r[a],e,n,"kMedoids");return i},Ntt=function(e){var r=this.cy(),n=this.nodes(),i=null,a=uO(e),s=new Array(a.k),o={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=rA(n,a.k,a.attributes)):la(a.testCentroids)==="object"?l=a.testCentroids:l=rA(n,a.k,a.attributes):l=rA(n,a.k,a.attributes);for(var u=!0,h=0;u&&h<a.maxIterations;){for(var f=0;f<n.length;f++)i=n[f],o[i.id()]=hce(i,l,a.distance,a.attributes,"kMeans");u=!1;for(var d=0;d<a.k;d++){var p=fce(d,n,o);if(p.length!==0){for(var v=a.attributes.length,m=l[d],x=new Array(v),y=new Array(v),w=0;w<v;w++){y[w]=0;for(var k=0;k<p.length;k++)i=p[k],y[w]+=a.attributes[w](i);x[w]=y[w]/p.length,Dtt(x[w],m[w],a.sensitivityThreshold)||(u=!0)}l[d]=x,s[d]=r.collection(p)}}h++}return s},Itt=function(e){var r=this.cy(),n=this.nodes(),i=null,a=uO(e),s=new Array(a.k),o,l={},u,h=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(la(a.testCentroids)==="object"?o=a.testCentroids:o=LW(n,a.k)):o=LW(n,a.k);for(var f=!0,d=0;f&&d<a.maxIterations;){for(var p=0;p<n.length;p++)i=n[p],l[i.id()]=hce(i,o,a.distance,a.attributes,"kMedoids");f=!1;for(var v=0;v<o.length;v++){var m=fce(v,n,l);if(m.length!==0){h[v]=DW(o[v],m,a.attributes);for(var x=0;x<m.length;x++)u=DW(m[x],m,a.attributes),u<h[v]&&(h[v]=u,o[v]=m[x],f=!0);s[v]=r.collection(m)}}d++}return s},Ott=function(e,r,n,i,a){for(var s,o,l=0;l<r.length;l++)for(var u=0;u<e.length;u++)i[l][u]=Math.pow(n[l][u],a.m);for(var h=0;h<e.length;h++)for(var f=0;f<a.attributes.length;f++){s=0,o=0;for(var d=0;d<r.length;d++)s+=i[d][h]*a.attributes[f](r[d]),o+=i[d][h];e[h][f]=s/o}},Ftt=function(e,r,n,i,a){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var o,l,u,h=2/(a.m-1),f=0;f<n.length;f++)for(var d=0;d<i.length;d++){o=0;for(var p=0;p<n.length;p++)l=MS(a.distance,i[d],n[f],a.attributes,"cmeans"),u=MS(a.distance,i[d],n[p],a.attributes,"cmeans"),o+=Math.pow(l/u,h);e[d][f]=1/o}},Ptt=function(e,r,n,i){for(var a=new Array(n.k),s=0;s<a.length;s++)a[s]=[];for(var o,l,u=0;u<r.length;u++){o=-1/0,l=-1;for(var h=0;h<r[0].length;h++)r[u][h]>o&&(o=r[u][h],l=h);a[l].push(e[u])}for(var f=0;f<a.length;f++)a[f]=i.collection(a[f]);return a},RW=function(e){var r=this.cy(),n=this.nodes(),i=uO(e),a,s,o,l,u;l=new Array(n.length);for(var h=0;h<n.length;h++)l[h]=new Array(i.k);o=new Array(n.length);for(var f=0;f<n.length;f++)o[f]=new Array(i.k);for(var d=0;d<n.length;d++){for(var p=0,v=0;v<i.k;v++)o[d][v]=Math.random(),p+=o[d][v];for(var m=0;m<i.k;m++)o[d][m]=o[d][m]/p}s=new Array(i.k);for(var x=0;x<i.k;x++)s[x]=new Array(i.attributes.length);u=new Array(n.length);for(var y=0;y<n.length;y++)u[y]=new Array(i.k);for(var w=!0,k=0;w&&k<i.maxIterations;)w=!1,Ott(s,n,o,u,i),Ftt(o,l,s,n,i),Rtt(o,l,i.sensitivityThreshold)||(w=!0),k++;return a=Ptt(n,o,i,r),{clusters:a,degreeOfMembership:o}},Btt={kMeans:Ntt,kMedoids:Itt,fuzzyCMeans:RW,fcm:RW},$tt=ja({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),ztt={single:"min",complete:"max"},Htt=function(e){var r=$tt(e),n=ztt[r.linkage];return n!=null&&(r.linkage=n),r},MW=function(e,r,n,i,a){for(var s=0,o=1/0,l,u=a.attributes,h=function(M,F){return n6(a.distance,u.length,function(N){return u[N](M)},function(N){return u[N](F)},M,F)},f=0;f<e.length;f++){var d=e[f].key,p=n[d][i[d]];p<o&&(s=d,o=p)}if(a.mode==="threshold"&&o>=a.threshold||a.mode==="dendrogram"&&e.length===1)return!1;var v=r[s],m=r[i[s]],x;a.mode==="dendrogram"?x={left:v,right:m,key:v.key}:x={value:v.value.concat(m.value),key:v.key},e[v.index]=x,e.splice(m.index,1),r[v.key]=x;for(var y=0;y<e.length;y++){var w=e[y];v.key===w.key?l=1/0:a.linkage==="min"?(l=n[v.key][w.key],n[v.key][w.key]>n[m.key][w.key]&&(l=n[m.key][w.key])):a.linkage==="max"?(l=n[v.key][w.key],n[v.key][w.key]<n[m.key][w.key]&&(l=n[m.key][w.key])):a.linkage==="mean"?l=(n[v.key][w.key]*v.size+n[m.key][w.key]*m.size)/(v.size+m.size):a.mode==="dendrogram"?l=h(w.value,v.value):l=h(w.value[0],v.value[0]),n[v.key][w.key]=n[w.key][v.key]=l}for(var k=0;k<e.length;k++){var E=e[k].key;if(i[E]===v.key||i[E]===m.key){for(var C=E,L=0;L<e.length;L++){var _=e[L].key;n[E][_]<n[E][C]&&(C=_)}i[E]=C}e[k].index=k}return v.key=m.key=v.index=m.index=null,!0},O3=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},Vtt=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),i=t(e.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(e.value)return e.value.id()},Utt=function t(e,r,n){if(!e)return[];var i=[],a=[],s=[];return r===0?(e.left&&O3(e.left,i),e.right&&O3(e.right,a),s=i.concat(a),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&O3(e.left,i),e.right&&O3(e.right,a),[n.collection(i),n.collection(a)]):e.value?[n.collection(e.value)]:(e.left&&(i=t(e.left,r-1,n)),e.right&&(a=t(e.right,r-1,n)),i.concat(a))},NW=function(e){for(var r=this.cy(),n=this.nodes(),i=Htt(e),a=i.attributes,s=function(k,E){return n6(i.distance,a.length,function(C){return a[C](k)},function(C){return a[C](E)},k,E)},o=[],l=[],u=[],h=[],f=0;f<n.length;f++){var d={value:i.mode==="dendrogram"?n[f]:[n[f]],key:f,index:f};o[f]=d,h[f]=d,l[f]=[],u[f]=0}for(var p=0;p<o.length;p++)for(var v=0;v<=p;v++){var m=void 0;i.mode==="dendrogram"?m=p===v?1/0:s(o[p].value,o[v].value):m=p===v?1/0:s(o[p].value[0],o[v].value[0]),l[p][v]=m,l[v][p]=m,m<l[p][u[p]]&&(u[p]=v)}for(var x=MW(o,h,l,u,i);x;)x=MW(o,h,l,u,i);var y;return i.mode==="dendrogram"?(y=Utt(o[0],i.dendrogramDepth,r),i.addDendrogram&&Vtt(o[0],r)):(y=new Array(o.length),o.forEach(function(w,k){w.key=w.index=null,y[k]=r.collection(w.value)})),y},Gtt={hierarchicalClustering:NW,hca:NW},Wtt=ja({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),qtt=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||bi("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(a){return a===n})||$t(n)||bi("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(n)),Wtt(e)},Ytt=function(e,r,n,i){var a=function(o,l){return i[l](o)};return-n6(e,i.length,function(s){return a(r,s)},function(s){return a(n,s)},r,n)},Xtt=function(e,r){var n=null;return r==="median"?n=qet(e):r==="mean"?n=Wet(e):r==="min"?n=Uet(e):r==="max"?n=Get(e):n=r,n},jtt=function(e,r,n){for(var i=[],a=0;a<e;a++)r[a*e+a]+n[a*e+a]>0&&i.push(a);return i},IW=function(e,r,n){for(var i=[],a=0;a<e;a++){for(var s=-1,o=-1/0,l=0;l<n.length;l++){var u=n[l];r[a*e+u]>o&&(s=u,o=r[a*e+u])}s>0&&i.push(s)}for(var h=0;h<n.length;h++)i[n[h]]=n[h];return i},Ktt=function(e,r,n){for(var i=IW(e,r,n),a=0;a<n.length;a++){for(var s=[],o=0;o<i.length;o++)i[o]===n[a]&&s.push(o);for(var l=-1,u=-1/0,h=0;h<s.length;h++){for(var f=0,d=0;d<s.length;d++)f+=r[s[d]*e+s[h]];f>u&&(l=h,u=f)}n[a]=s[l]}return i=IW(e,r,n),i},OW=function(e){for(var r=this.cy(),n=this.nodes(),i=qtt(e),a={},s=0;s<n.length;s++)a[n[s].id()]=s;var o,l,u,h,f,d;o=n.length,l=o*o,u=new Array(l);for(var p=0;p<l;p++)u[p]=-1/0;for(var v=0;v<o;v++)for(var m=0;m<o;m++)v!==m&&(u[v*o+m]=Ytt(i.distance,n[v],n[m],i.attributes));h=Xtt(u,i.preference);for(var x=0;x<o;x++)u[x*o+x]=h;f=new Array(l);for(var y=0;y<l;y++)f[y]=0;d=new Array(l);for(var w=0;w<l;w++)d[w]=0;for(var k=new Array(o),E=new Array(o),C=new Array(o),L=0;L<o;L++)k[L]=0,E[L]=0,C[L]=0;for(var _=new Array(o*i.minIterations),I=0;I<_.length;I++)_[I]=0;var M;for(M=0;M<i.maxIterations;M++){for(var F=0;F<o;F++){for(var N=-1/0,z=-1/0,V=-1,D=0,O=0;O<o;O++)k[O]=f[F*o+O],D=d[F*o+O]+u[F*o+O],D>=N?(z=N,N=D,V=O):D>z&&(z=D);for(var P=0;P<o;P++)f[F*o+P]=(1-i.damping)*(u[F*o+P]-N)+i.damping*k[P];f[F*o+V]=(1-i.damping)*(u[F*o+V]-z)+i.damping*k[V]}for(var $=0;$<o;$++){for(var B=0,H=0;H<o;H++)k[H]=d[H*o+$],E[H]=Math.max(0,f[H*o+$]),B+=E[H];B-=E[$],E[$]=f[$*o+$],B+=E[$];for(var X=0;X<o;X++)d[X*o+$]=(1-i.damping)*Math.min(0,B-E[X])+i.damping*k[X];d[$*o+$]=(1-i.damping)*(B-E[$])+i.damping*k[$]}for(var q=0,Y=0;Y<o;Y++){var U=d[Y*o+Y]+f[Y*o+Y]>0?1:0;_[M%i.minIterations*o+Y]=U,q+=U}if(q>0&&(M>=i.minIterations-1||M==i.maxIterations-1)){for(var J=0,ce=0;ce<o;ce++){C[ce]=0;for(var re=0;re<i.minIterations;re++)C[ce]+=_[re*o+ce];(C[ce]===0||C[ce]===i.minIterations)&&J++}if(J===o)break}}for(var ve=jtt(o,f,d),ye=Ktt(o,u,ve),Z={},ue=0;ue<ve.length;ue++)Z[ve[ue]]=[];for(var ae=0;ae<n.length;ae++){var pe=a[n[ae].id()],Ee=ye[pe];Ee!=null&&Z[Ee].push(n[ae])}for(var Se=new Array(ve.length),de=0;de<ve.length;de++)Se[de]=r.collection(Z[ve[de]]);return Se},Qtt={affinityPropagation:OW,ap:OW},Ztt=ja({root:void 0,directed:!1}),Jtt={hierholzer:function(e){if(!Jr(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=Ztt(e),i=n.root,a=n.directed,s=this,o=!1,l,u,h;i&&(h=hr(i)?this.filter(i)[0].id():i[0].id());var f={},d={};a?s.forEach(function(w){var k=w.id();if(w.isNode()){var E=w.indegree(!0),C=w.outdegree(!0),L=E-C,_=C-E;L==1?l?o=!0:l=k:_==1?u?o=!0:u=k:(_>1||L>1)&&(o=!0),f[k]=[],w.outgoers().forEach(function(I){I.isEdge()&&f[k].push(I.id())})}else d[k]=[void 0,w.target().id()]}):s.forEach(function(w){var k=w.id();if(w.isNode()){var E=w.degree(!0);E%2&&(l?u?o=!0:u=k:l=k),f[k]=[],w.connectedEdges().forEach(function(C){return f[k].push(C.id())})}else d[k]=[w.source().id(),w.target().id()]});var p={found:!1,trail:void 0};if(o)return p;if(u&&l)if(a){if(h&&u!=h)return p;h=u}else{if(h&&u!=h&&l!=h)return p;h||(h=u)}else h||(h=s[0].id());var v=function(k){for(var E=k,C=[k],L,_,I;f[E].length;)L=f[E].shift(),_=d[L][0],I=d[L][1],E!=I?(f[I]=f[I].filter(function(M){return M!=L}),E=I):!a&&E!=_&&(f[_]=f[_].filter(function(M){return M!=L}),E=_),C.unshift(L),C.unshift(E);return C},m=[],x=[];for(x=v(h);x.length!=1;)f[x[0]].length==0?(m.unshift(s.getElementById(x.shift())),m.unshift(s.getElementById(x.shift()))):x=v(x.shift()).concat(x);m.unshift(s.getElementById(x.shift()));for(var y in f)if(f[y].length)return p;return p.found=!0,p.trail=this.spawn(m,!0),p}},F3=function(){var e=this,r={},n=0,i=0,a=[],s=[],o={},l=function(d,p){for(var v=s.length-1,m=[],x=e.spawn();s[v].x!=d||s[v].y!=p;)m.push(s.pop().edge),v--;m.push(s.pop().edge),m.forEach(function(y){var w=y.connectedNodes().intersection(e);x.merge(y),w.forEach(function(k){var E=k.id(),C=k.connectedEdges().intersection(e);x.merge(k),r[E].cutVertex?x.merge(C.filter(function(L){return L.isLoop()})):x.merge(C)})}),a.push(x)},u=function f(d,p,v){d===v&&(i+=1),r[p]={id:n,low:n++,cutVertex:!1};var m=e.getElementById(p).connectedEdges().intersection(e);if(m.size()===0)a.push(e.spawn(e.getElementById(p)));else{var x,y,w,k;m.forEach(function(E){x=E.source().id(),y=E.target().id(),w=x===p?y:x,w!==v&&(k=E.id(),o[k]||(o[k]=!0,s.push({x:p,y:w,edge:E})),w in r?r[p].low=Math.min(r[p].low,r[w].id):(f(d,w,p),r[p].low=Math.min(r[p].low,r[w].low),r[p].id<=r[w].low&&(r[p].cutVertex=!0,l(p,w))))})}};e.forEach(function(f){if(f.isNode()){var d=f.id();d in r||(i=0,u(d,d),r[d].cutVertex=i>1)}});var h=Object.keys(r).filter(function(f){return r[f].cutVertex}).map(function(f){return e.getElementById(f)});return{cut:e.spawn(h),components:a}},ert={hopcroftTarjanBiconnected:F3,htbc:F3,htb:F3,hopcroftTarjanBiconnectedComponents:F3},P3=function(){var e=this,r={},n=0,i=[],a=[],s=e.spawn(e),o=function l(u){a.push(u),r[u]={index:n,low:n++,explored:!1};var h=e.getElementById(u).connectedEdges().intersection(e);if(h.forEach(function(m){var x=m.target().id();x!==u&&(x in r||l(x),r[x].explored||(r[u].low=Math.min(r[u].low,r[x].low)))}),r[u].index===r[u].low){for(var f=e.spawn();;){var d=a.pop();if(f.merge(e.getElementById(d)),r[d].low=r[u].index,r[d].explored=!0,d===u)break}var p=f.edgesWith(f),v=f.merge(p);i.push(v),s=s.difference(v)}};return e.forEach(function(l){if(l.isNode()){var u=l.id();u in r||o(u)}}),{cut:s,components:i}},trt={tarjanStronglyConnected:P3,tsc:P3,tscc:P3,tarjanStronglyConnectedComponents:P3},dce={};[Y2,Ret,Met,Iet,Fet,Bet,Het,ftt,Gg,Wg,sD,Ttt,Btt,Gtt,Qtt,Jtt,ert,trt].forEach(function(t){Er(dce,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var pce=0,gce=1,vce=2,hh=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=pce,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};hh.prototype={fulfill:function(e){return FW(this,gce,"fulfillValue",e)},reject:function(e){return FW(this,vce,"rejectReason",e)},then:function(e,r){var n=this,i=new hh;return n.onFulfilled.push(BW(e,i,"fulfill")),n.onRejected.push(BW(r,i,"reject")),mce(n),i.proxy}};var FW=function(e,r,n,i){return e.state===pce&&(e.state=r,e[n]=i,mce(e)),e},mce=function(e){e.state===gce?PW(e,"onFulfilled",e.fulfillValue):e.state===vce&&PW(e,"onRejected",e.rejectReason)},PW=function(e,r,n){if(e[r].length!==0){var i=e[r];e[r]=[];var a=function(){for(var o=0;o<i.length;o++)i[o](n)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},BW=function(e,r,n){return function(i){if(typeof e!="function")r[n].call(r,i);else{var a;try{a=e(i)}catch(s){r.reject(s);return}rrt(r,a)}}},rrt=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(la(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(a){e.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(a){i||(i=!0,a===r?e.reject(new TypeError("circular thenable chain")):t(e,a))},function(a){i||(i=!0,e.reject(a))})}catch(a){i||e.reject(a)}return}e.fulfill(r)};hh.all=function(t){return new hh(function(e,r){for(var n=new Array(t.length),i=0,a=function(l,u){n[l]=u,i++,i===t.length&&e(n)},s=0;s<t.length;s++)(function(o){var l=t[o],u=l!=null&&l.then!=null;if(u)l.then(function(f){a(o,f)},function(f){r(f)});else{var h=l;a(o,h)}})(s)})};hh.resolve=function(t){return new hh(function(e,r){e(t)})};hh.reject=function(t){return new hh(function(e,r){r(t)})};var xv=typeof Promise<"u"?Promise:hh,oD=function(e,r,n){var i=tO(e),a=!i,s=this._private=Er({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&ci(s.complete)&&s.completes.push(s.complete),a){var o=e.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(i){var l=e.pan();s.startPan={x:l.x,y:l.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},G0=oD.prototype;Er(G0,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Bo(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(u,h){var f=e[u];f!=null&&(e[u]=e[h],e[h]=f)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var a=e.style[i],s=a.name,o=e.startStyle[s];e.startStyle[s]=a,e.style[i]=o}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new xv(function(i,a){n.push(function(){i()})})}});G0.complete=G0.completed;G0.run=G0.play;G0.running=G0.playing;var nrt={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return!1;var s=i[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var s=0;s<i.length;s++){var o=i[s];o._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this,l=!a,u=!l;if(!o.styleEnabled())return this;var h=o.style();r=Er({},r,n);var f=Object.keys(r).length===0;if(f)return new oD(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=h.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var d=r.renderedPosition,p=o.pan(),v=o.zoom();r.position=rce(d,v,p)}if(l&&r.panBy!=null){var m=r.panBy,x=o.pan();r.pan={x:x.x+m.x,y:x.y+m.y}}var y=r.center||r.centre;if(l&&y!=null){var w=o.getCenterPan(y.eles,r.zoom);w!=null&&(r.pan=w)}if(l&&r.fit!=null){var k=r.fit,E=o.getFitViewport(k.eles||k.boundingBox,k.padding);E!=null&&(r.pan=E.pan,r.zoom=E.zoom)}if(l&&Jr(r.zoom)){var C=o.getZoomedViewport(r.zoom);C!=null?(C.zoomed&&(r.zoom=C.zoom),C.panned&&(r.pan=C.pan)):r.zoom=null}return new oD(s[0],r)}},animate:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this;if(!o.styleEnabled())return this;n&&(r=Er({},r,n));for(var l=0;l<s.length;l++){var u=s[l],h=u.animated()&&(r.queue===void 0||r.queue),f=u.animation(r,h?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(r,n){var i=this,a=i.length!==void 0,s=a?i:[i],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<s.length;l++){for(var u=s[l],h=u._private,f=h.animation.current,d=0;d<f.length;d++){var p=f[d],v=p._private;n&&(v.duration=0)}r&&(h.animation.queue=[]),n||(h.animation.current=[])}return o.notify("draw"),this}}},irt=Array.isArray,i6=irt,art=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,srt=/^\w*$/;function ort(t,e){if(i6(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Fb(t)?!0:srt.test(t)||!art.test(t)||e!=null&&t in Object(e)}var lrt=ort,urt="[object AsyncFunction]",crt="[object Function]",hrt="[object GeneratorFunction]",frt="[object Proxy]";function drt(t){if(!z0(t))return!1;var e=Yue(t);return e==crt||e==hrt||e==urt||e==frt}var prt=drt,grt=JT["__core-js_shared__"],nA=grt,$W=function(){var t=/[^.]+$/.exec(nA&&nA.keys&&nA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vrt(t){return!!$W&&$W in t}var mrt=vrt,yrt=Function.prototype,xrt=yrt.toString;function brt(t){if(t!=null){try{return xrt.call(t)}catch{}try{return t+""}catch{}}return""}var wrt=brt,krt=/[\\^$.*+?()[\]{}|]/g,Srt=/^\[object .+?Constructor\]$/,Ert=Function.prototype,Trt=Object.prototype,Crt=Ert.toString,Art=Trt.hasOwnProperty,_rt=RegExp("^"+Crt.call(Art).replace(krt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Lrt(t){if(!z0(t)||mrt(t))return!1;var e=prt(t)?_rt:Srt;return e.test(wrt(t))}var Drt=Lrt;function Rrt(t,e){return t==null?void 0:t[e]}var Mrt=Rrt;function Nrt(t,e){var r=Mrt(t,e);return Drt(r)?r:void 0}var cO=Nrt,Irt=cO(Object,"create"),K2=Irt;function Ort(){this.__data__=K2?K2(null):{},this.size=0}var Frt=Ort;function Prt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Brt=Prt,$rt="__lodash_hash_undefined__",zrt=Object.prototype,Hrt=zrt.hasOwnProperty;function Vrt(t){var e=this.__data__;if(K2){var r=e[t];return r===$rt?void 0:r}return Hrt.call(e,t)?e[t]:void 0}var Urt=Vrt,Grt=Object.prototype,Wrt=Grt.hasOwnProperty;function qrt(t){var e=this.__data__;return K2?e[t]!==void 0:Wrt.call(e,t)}var Yrt=qrt,Xrt="__lodash_hash_undefined__";function jrt(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=K2&&e===void 0?Xrt:e,this}var Krt=jrt;function bv(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}bv.prototype.clear=Frt;bv.prototype.delete=Brt;bv.prototype.get=Urt;bv.prototype.has=Yrt;bv.prototype.set=Krt;var zW=bv;function Qrt(){this.__data__=[],this.size=0}var Zrt=Qrt;function Jrt(t,e){return t===e||t!==t&&e!==e}var yce=Jrt;function ent(t,e){for(var r=t.length;r--;)if(yce(t[r][0],e))return r;return-1}var a6=ent,tnt=Array.prototype,rnt=tnt.splice;function nnt(t){var e=this.__data__,r=a6(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():rnt.call(e,r,1),--this.size,!0}var int=nnt;function ant(t){var e=this.__data__,r=a6(e,t);return r<0?void 0:e[r][1]}var snt=ant;function ont(t){return a6(this.__data__,t)>-1}var lnt=ont;function unt(t,e){var r=this.__data__,n=a6(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var cnt=unt;function wv(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}wv.prototype.clear=Zrt;wv.prototype.delete=int;wv.prototype.get=snt;wv.prototype.has=lnt;wv.prototype.set=cnt;var hnt=wv,fnt=cO(JT,"Map"),dnt=fnt;function pnt(){this.size=0,this.__data__={hash:new zW,map:new(dnt||hnt),string:new zW}}var gnt=pnt;function vnt(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var mnt=vnt;function ynt(t,e){var r=t.__data__;return mnt(e)?r[typeof e=="string"?"string":"hash"]:r.map}var s6=ynt;function xnt(t){var e=s6(this,t).delete(t);return this.size-=e?1:0,e}var bnt=xnt;function wnt(t){return s6(this,t).get(t)}var knt=wnt;function Snt(t){return s6(this,t).has(t)}var Ent=Snt;function Tnt(t,e){var r=s6(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Cnt=Tnt;function kv(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}kv.prototype.clear=gnt;kv.prototype.delete=bnt;kv.prototype.get=knt;kv.prototype.has=Ent;kv.prototype.set=Cnt;var xce=kv,Ant="Expected a function";function hO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ant);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(hO.Cache||xce),r}hO.Cache=xce;var _nt=hO,Lnt=500;function Dnt(t){var e=_nt(t,function(n){return r.size===Lnt&&r.clear(),n}),r=e.cache;return e}var Rnt=Dnt,Mnt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nnt=/\\(\\)?/g,Int=Rnt(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Mnt,function(r,n,i,a){e.push(i?a.replace(Nnt,"$1"):n||r)}),e}),bce=Int;function Ont(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var wce=Ont,Fnt=1/0,HW=B1?B1.prototype:void 0,VW=HW?HW.toString:void 0;function kce(t){if(typeof t=="string")return t;if(i6(t))return wce(t,kce)+"";if(Fb(t))return VW?VW.call(t):"";var e=t+"";return e=="0"&&1/t==-Fnt?"-0":e}var Pnt=kce;function Bnt(t){return t==null?"":Pnt(t)}var Sce=Bnt;function $nt(t,e){return i6(t)?t:lrt(t,e)?[t]:bce(Sce(t))}var Ece=$nt,znt=1/0;function Hnt(t){if(typeof t=="string"||Fb(t))return t;var e=t+"";return e=="0"&&1/t==-znt?"-0":e}var fO=Hnt;function Vnt(t,e){e=Ece(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[fO(e[r++])];return r&&r==n?t:void 0}var Unt=Vnt;function Gnt(t,e,r){var n=t==null?void 0:Unt(t,e);return n===void 0?r:n}var Wnt=Gnt,qnt=function(){try{var t=cO(Object,"defineProperty");return t({},"",{}),t}catch{}}(),UW=qnt;function Ynt(t,e,r){e=="__proto__"&&UW?UW(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Xnt=Ynt,jnt=Object.prototype,Knt=jnt.hasOwnProperty;function Qnt(t,e,r){var n=t[e];(!(Knt.call(t,e)&&yce(n,r))||r===void 0&&!(e in t))&&Xnt(t,e,r)}var Znt=Qnt,Jnt=9007199254740991,eit=/^(?:0|[1-9]\d*)$/;function tit(t,e){var r=typeof t;return e=e??Jnt,!!e&&(r=="number"||r!="symbol"&&eit.test(t))&&t>-1&&t%1==0&&t<e}var rit=tit;function nit(t,e,r,n){if(!z0(t))return t;e=Ece(e,t);for(var i=-1,a=e.length,s=a-1,o=t;o!=null&&++i<a;){var l=fO(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=s){var h=o[l];u=n?n(h,l,o):void 0,u===void 0&&(u=z0(h)?h:rit(e[i+1])?[]:{})}Znt(o,l,u),o=o[l]}return t}var iit=nit;function ait(t,e,r){return t==null?t:iit(t,e,r)}var sit=ait;function oit(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var lit=oit;function uit(t){return i6(t)?wce(t,fO):Fb(t)?[t]:lit(bce(Sce(t)))}var cit=uit,hit={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return e=Er({},r,e),function(i,a){var s=e,o=this,l=o.length!==void 0,u=l?o:[o],h=l?o[0]:o;if(hr(i)){var f=i.indexOf(".")!==-1,d=f&&cit(i);if(s.allowGetting&&a===void 0){var p;return h&&(s.beforeGet(h),d&&h._private[s.field][i]===void 0?p=Wnt(h._private[s.field],d):p=h._private[s.field][i]),p}else if(s.allowSetting&&a!==void 0){var v=!s.immutableKeys[i];if(v){var m=Fue({},i,a);s.beforeSet(o,m);for(var x=0,y=u.length;x<y;x++){var w=u[x];s.canSet(w)&&(d&&h._private[s.field][i]===void 0?sit(w._private[s.field],d,a):w._private[s.field][i]=a)}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&Jr(i)){var k=i,E,C,L=Object.keys(k);s.beforeSet(o,k);for(var _=0;_<L.length;_++){E=L[_],C=k[E];var I=!s.immutableKeys[E];if(I)for(var M=0;M<u.length;M++){var F=u[M];s.canSet(F)&&(F._private[s.field][E]=C)}}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&ci(i)){var N=i;o.on(s.bindingEvent,N)}else if(s.allowGetting&&i===void 0){var z;return h&&(s.beforeGet(h),z=h._private[s.field]),z}return o}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Er({},r,e),function(i){var a=e,s=this,o=s.length!==void 0,l=o?s:[s];if(hr(i)){for(var u=i.split(/\s+/),h=u.length,f=0;f<h;f++){var d=u[f];if(!Uf(d)){var p=!a.immutableKeys[d];if(p)for(var v=0,m=l.length;v<m;v++)l[v]._private[a.field][d]=void 0}}a.triggerEvent&&s[a.triggerFnName](a.event)}else if(i===void 0){for(var x=0,y=l.length;x<y;x++)for(var w=l[x]._private[a.field],k=Object.keys(w),E=0;E<k.length;E++){var C=k[E],L=!a.immutableKeys[C];L&&(w[C]=void 0)}a.triggerEvent&&s[a.triggerFnName](a.event)}return s}}},fit={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var a=this,s=Array.prototype.slice.call(arguments,0);return new xv(function(o,l){var u=function(p){a.off.apply(a,f),o(p)},h=s.concat([u]),f=h.concat([]);a.on.apply(a,h)})}}},fn={};[nrt,hit,fit].forEach(function(t){Er(fn,t)});var dit={animate:fn.animate(),animation:fn.animation(),animated:fn.animated(),clearQueue:fn.clearQueue(),delay:fn.delay(),delayAnimation:fn.delayAnimation(),stop:fn.stop()},Yw={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(v){return n.push(v)}),n}else Rn(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],a=new yv(e),s=0;s<r.length;s++){for(var o=r[s],l=o._private,u=l.classes,h=!1,f=0;f<e.length;f++){var d=e[f],p=u.has(d);if(!p){h=!0;break}}h||(h=u.size!==e.length),h&&(l.classes=a,i.push(o))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){Rn(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=r===void 0,a=[],s=0,o=n.length;s<o;s++)for(var l=n[s],u=l._private.classes,h=!1,f=0;f<e.length;f++){var d=e[f],p=u.has(d),v=!1;r||i&&!p?(u.add(d),v=!0):(!r||i&&p)&&(u.delete(d),v=!0),!h&&v&&(a.push(l),h=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Yw.className=Yw.classNames=Yw.classes;var Qr={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:ra,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Qr.variable="(?:[\\w-.]|(?:\\\\"+Qr.metaChar+"))+";Qr.className="(?:[\\w-]|(?:\\\\"+Qr.metaChar+"))+";Qr.value=Qr.string+"|"+Qr.number;Qr.id=Qr.variable;(function(){var t,e,r;for(t=Qr.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Qr.comparatorOp+="|@"+e;for(t=Qr.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(Qr.comparatorOp+="|\\!"+e)})();var Cn=function(){return{checks:[]}},Qt={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},lD=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return SJe(t.selector,e.selector)}),pit=function(){for(var t={},e,r=0;r<lD.length;r++)e=lD[r],t[e.selector]=e.matches;return t}(),git=function(e,r){return pit[e](r)},vit="("+lD.map(function(t){return t.selector}).join("|")+")",Yp=function(e){return e.replace(new RegExp("\\\\("+Qr.metaChar+")","g"),function(r,n){return n})},$h=function(e,r,n){e[e.length-1]=n},uD=[{name:"group",query:!0,regex:"("+Qr.group+")",populate:function(e,r,n){var i=zl(n,1),a=i[0];r.checks.push({type:Qt.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:vit,populate:function(e,r,n){var i=zl(n,1),a=i[0];r.checks.push({type:Qt.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+Qr.id+")",populate:function(e,r,n){var i=zl(n,1),a=i[0];r.checks.push({type:Qt.ID,value:Yp(a)})}},{name:"className",query:!0,regex:"\\.("+Qr.className+")",populate:function(e,r,n){var i=zl(n,1),a=i[0];r.checks.push({type:Qt.CLASS,value:Yp(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Qr.variable+")\\s*\\]",populate:function(e,r,n){var i=zl(n,1),a=i[0];r.checks.push({type:Qt.DATA_EXIST,field:Yp(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Qr.variable+")\\s*("+Qr.comparatorOp+")\\s*("+Qr.value+")\\s*\\]",populate:function(e,r,n){var i=zl(n,3),a=i[0],s=i[1],o=i[2],l=new RegExp("^"+Qr.string+"$").exec(o)!=null;l?o=o.substring(1,o.length-1):o=parseFloat(o),r.checks.push({type:Qt.DATA_COMPARE,field:Yp(a),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Qr.boolOp+")\\s*("+Qr.variable+")\\s*\\]",populate:function(e,r,n){var i=zl(n,2),a=i[0],s=i[1];r.checks.push({type:Qt.DATA_BOOL,field:Yp(s),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Qr.meta+")\\s*("+Qr.comparatorOp+")\\s*("+Qr.number+")\\s*\\]\\]",populate:function(e,r,n){var i=zl(n,3),a=i[0],s=i[1],o=i[2];r.checks.push({type:Qt.META_COMPARE,field:Yp(a),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:Qr.separator,populate:function(e,r){var n=e.currentSubject,i=e.edgeCount,a=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=i,s.compoundCount=a,e.edgeCount=0,e.compoundCount=0;var o=e[e.length++]=Cn();return o}},{name:"directedEdge",separator:!0,regex:Qr.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=Cn(),i=r,a=Cn();return n.checks.push({type:Qt.DIRECTED_EDGE,source:i,target:a}),$h(e,r,n),e.edgeCount++,a}else{var s=Cn(),o=r,l=Cn();return s.checks.push({type:Qt.NODE_SOURCE,source:o,target:l}),$h(e,r,s),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:Qr.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=Cn(),i=r,a=Cn();return n.checks.push({type:Qt.UNDIRECTED_EDGE,nodes:[i,a]}),$h(e,r,n),e.edgeCount++,a}else{var s=Cn(),o=r,l=Cn();return s.checks.push({type:Qt.NODE_NEIGHBOR,node:o,neighbor:l}),$h(e,r,s),l}}},{name:"child",separator:!0,regex:Qr.child,populate:function(e,r){if(e.currentSubject==null){var n=Cn(),i=Cn(),a=e[e.length-1];return n.checks.push({type:Qt.CHILD,parent:a,child:i}),$h(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=Cn(),o=e[e.length-1],l=Cn(),u=Cn(),h=Cn(),f=Cn();return s.checks.push({type:Qt.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:Qt.TRUE}],f.checks.push({type:Qt.TRUE}),l.checks.push({type:Qt.PARENT,parent:f,child:h}),$h(e,o,s),e.currentSubject=u,e.compoundCount++,h}else{var d=Cn(),p=Cn(),v=[{type:Qt.PARENT,parent:d,child:p}];return d.checks=r.checks,r.checks=v,e.compoundCount++,p}}},{name:"descendant",separator:!0,regex:Qr.descendant,populate:function(e,r){if(e.currentSubject==null){var n=Cn(),i=Cn(),a=e[e.length-1];return n.checks.push({type:Qt.DESCENDANT,ancestor:a,descendant:i}),$h(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var s=Cn(),o=e[e.length-1],l=Cn(),u=Cn(),h=Cn(),f=Cn();return s.checks.push({type:Qt.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:Qt.TRUE}],f.checks.push({type:Qt.TRUE}),l.checks.push({type:Qt.ANCESTOR,ancestor:f,descendant:h}),$h(e,o,s),e.currentSubject=u,e.compoundCount++,h}else{var d=Cn(),p=Cn(),v=[{type:Qt.ANCESTOR,ancestor:d,descendant:p}];return d.checks=r.checks,r.checks=v,e.compoundCount++,p}}},{name:"subject",modifier:!0,regex:Qr.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return gn("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],i=n.checks[0],a=i==null?null:i.type;a===Qt.DIRECTED_EDGE?i.type=Qt.NODE_TARGET:a===Qt.UNDIRECTED_EDGE&&(i.type=Qt.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];uD.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var mit=function(e){for(var r,n,i,a=0;a<uD.length;a++){var s=uD[a],o=s.name,l=e.match(s.regexObj);if(l!=null){n=l,r=s,i=o;var u=l[0];e=e.substring(u.length);break}}return{expr:r,match:n,name:i,remaining:e}},yit=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},xit=function(e){var r=this,n=r.inputText=e,i=r[0]=Cn();for(r.length=1,n=yit(n);;){var a=mit(n);if(a.expr==null)return gn("The selector `"+e+"`is invalid"),!1;var s=a.match.slice(1),o=a.expr.populate(r,i,s);if(o===!1)return!1;if(o!=null&&(i=o),n=a.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var h=r[u];if(h.compoundCount>0&&h.edgeCount>0)return gn("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(h.edgeCount>1)return gn("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;h.edgeCount===1&&gn("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},bit=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(h){return h??""},r=function(h){return hr(h)?'"'+h+'"':e(h)},n=function(h){return" "+h+" "},i=function(h,f){var d=h.type,p=h.value;switch(d){case Qt.GROUP:{var v=e(p);return v.substring(0,v.length-1)}case Qt.DATA_COMPARE:{var m=h.field,x=h.operator;return"["+m+n(e(x))+r(p)+"]"}case Qt.DATA_BOOL:{var y=h.operator,w=h.field;return"["+e(y)+w+"]"}case Qt.DATA_EXIST:{var k=h.field;return"["+k+"]"}case Qt.META_COMPARE:{var E=h.operator,C=h.field;return"[["+C+n(e(E))+r(p)+"]]"}case Qt.STATE:return p;case Qt.ID:return"#"+p;case Qt.CLASS:return"."+p;case Qt.PARENT:case Qt.CHILD:return a(h.parent,f)+n(">")+a(h.child,f);case Qt.ANCESTOR:case Qt.DESCENDANT:return a(h.ancestor,f)+" "+a(h.descendant,f);case Qt.COMPOUND_SPLIT:{var L=a(h.left,f),_=a(h.subject,f),I=a(h.right,f);return L+(L.length>0?" ":"")+_+I}case Qt.TRUE:return""}},a=function(h,f){return h.checks.reduce(function(d,p,v){return d+(f===h&&v===0?"$":"")+i(p,f)},"")},s="",o=0;o<this.length;o++){var l=this[o];s+=a(l,l.subject),this.length>1&&o<this.length-1&&(s+=", ")}return this.toStringCache=s,s},wit={parse:xit,toString:bit},Tce=function(e,r,n){var i,a=hr(e),s=$t(e),o=hr(n),l,u,h=!1,f=!1,d=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),f=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),h=!0),(a||o||h)&&(l=!a&&!s?"":""+e,u=""+n),h&&(e=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":i=l.indexOf(u)>=0;break;case"$=":i=l.indexOf(u,l.length-u.length)>=0;break;case"^=":i=l.indexOf(u)===0;break;case"=":i=e===n;break;case">":d=!0,i=e>n;break;case">=":d=!0,i=e>=n;break;case"<":d=!0,i=e<n;break;case"<=":d=!0,i=e<=n;break;default:i=!1;break}return f&&(e!=null||!d)&&(i=!i),i},kit=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},Sit=function(e){return e!==void 0},dO=function(e,r){return e.data(r)},Eit=function(e,r){return e[r]()},ki=[],Yn=function(e,r){return e.checks.every(function(n){return ki[n.type](n,r)})};ki[Qt.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};ki[Qt.STATE]=function(t,e){var r=t.value;return git(r,e)};ki[Qt.ID]=function(t,e){var r=t.value;return e.id()===r};ki[Qt.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};ki[Qt.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return Tce(Eit(e,r),n,i)};ki[Qt.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return Tce(dO(e,r),n,i)};ki[Qt.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return kit(dO(e,r),n)};ki[Qt.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,Sit(dO(e,r))};ki[Qt.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),a=e.target();return Yn(r,i)&&Yn(n,a)||Yn(n,i)&&Yn(r,a)};ki[Qt.NODE_NEIGHBOR]=function(t,e){return Yn(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Yn(t.neighbor,r)})};ki[Qt.DIRECTED_EDGE]=function(t,e){return Yn(t.source,e.source())&&Yn(t.target,e.target())};ki[Qt.NODE_SOURCE]=function(t,e){return Yn(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Yn(t.target,r)})};ki[Qt.NODE_TARGET]=function(t,e){return Yn(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Yn(t.source,r)})};ki[Qt.CHILD]=function(t,e){return Yn(t.child,e)&&Yn(t.parent,e.parent())};ki[Qt.PARENT]=function(t,e){return Yn(t.parent,e)&&e.children().some(function(r){return Yn(t.child,r)})};ki[Qt.DESCENDANT]=function(t,e){return Yn(t.descendant,e)&&e.ancestors().some(function(r){return Yn(t.ancestor,r)})};ki[Qt.ANCESTOR]=function(t,e){return Yn(t.ancestor,e)&&e.descendants().some(function(r){return Yn(t.descendant,r)})};ki[Qt.COMPOUND_SPLIT]=function(t,e){return Yn(t.subject,e)&&Yn(t.left,e)&&Yn(t.right,e)};ki[Qt.TRUE]=function(){return!0};ki[Qt.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};ki[Qt.FILTER]=function(t,e){var r=t.value;return r(e)};var Tit=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Qt.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(a){for(var s=0;s<r.length;s++){var o=r[s];if(Yn(o,a))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},Cit=function(e){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(Yn(i,e))return!0}return!1},Ait={matches:Cit,filter:Tit},Wf=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||hr(e)&&e.match(/^\s*$/)||(Bo(e)?this.addQuery({checks:[{type:Qt.COLLECTION,value:e.collection()}]}):ci(e)?this.addQuery({checks:[{type:Qt.FILTER,value:e}]}):hr(e)?this.parse(e)||(this.invalid=!0):bi("A selector must be created from a string; found "))},qf=Wf.prototype;[wit,Ait].forEach(function(t){return Er(qf,t)});qf.text=function(){return this.inputText};qf.size=function(){return this.length};qf.eq=function(t){return this[t]};qf.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};qf.addQuery=function(t){this[this.length++]=t};qf.selector=qf.toString;var Sf={allAre:function(e){var r=new Wf(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new Wf(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};Sf.allAreNeighbours=Sf.allAreNeighbors;Sf.has=Sf.contains;Sf.equal=Sf.equals=Sf.same;var gl=function(e,r){return function(i,a,s,o){var l=i,u=this,h;if(l==null?h="":Bo(l)&&l.length===1&&(h=l.id()),u.length===1&&h){var f=u[0]._private,d=f.traversalCache=f.traversalCache||{},p=d[r]=d[r]||[],v=H0(h),m=p[v];return m||(p[v]=e.call(u,i,a,s,o))}else return e.call(u,i,a,s,o)}},H1={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var a=this[i],s=a._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];r.push(a)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n],a=i.parents();r=r||a,r=r.intersect(a)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:gl(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,a=0;a<i.length;a++)e.push(i[a]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(i){for(var a=0;a<i.length;a++){var s=i[a];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function pO(t,e,r,n){for(var i=[],a=new yv,s=t.cy(),o=s.hasCompoundNodes(),l=0;l<t.length;l++){var u=t[l];r?i.push(u):o&&n(i,a,u)}for(;i.length>0;){var h=i.shift();e(h),a.add(h.id()),o&&n(i,a,h)}return t}function Cce(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];e.has(a.id())||t.push(a)}}H1.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return pO(this,t,e,Cce)};function Ace(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}H1.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return pO(this,t,e,Ace)};function _it(t,e,r){Ace(t,e,r),Cce(t,e,r)}H1.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return pO(this,t,e,_it)};H1.ancestors=H1.parents;var Q2,_ce;Q2=_ce={data:fn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:fn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:fn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:fn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:fn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:fn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Q2.attr=Q2.data;Q2.removeAttr=Q2.removeData;var Lit=_ce,o6={};function iA(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,s=0;s<a.length;s++){var o=a[s];!e&&o.isLoop()||(n+=t(i,o))}return n}else return}}Er(o6,{degree:iA(function(t,e){return e.source().same(e.target())?2:1}),indegree:iA(function(t,e){return e.target().same(t)?1:0}),outdegree:iA(function(t,e){return e.source().same(t)?1:0})});function Xp(t,e){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var s=i[a],o=s[t](r);o!==void 0&&(n===void 0||e(o,n))&&(n=o)}return n}}Er(o6,{minDegree:Xp("degree",function(t,e){return t<e}),maxDegree:Xp("degree",function(t,e){return t>e}),minIndegree:Xp("indegree",function(t,e){return t<e}),maxIndegree:Xp("indegree",function(t,e){return t>e}),minOutdegree:Xp("outdegree",function(t,e){return t<e}),maxOutdegree:Xp("outdegree",function(t,e){return t>e})});Er(o6,{totalDegree:function(e){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(e);return r}});var au,Lce,Dce=function(e,r,n){for(var i=0;i<e.length;i++){var a=e[i];if(!a.locked()){var s=a._private.position,o={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};a.isParent()&&!(o.x===0&&o.y===0)&&a.children().shift(o,n),a.dirtyBoundingBoxCache()}}},GW={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Dce(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};au=Lce={position:fn.data(GW),silentPosition:fn.data(Er({},GW,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Dce(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(Jr(e))r?this.silentPosition(e):this.position(e);else if(ci(e)){var n=e,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var s=this[a],o=void 0;(o=n(s,a))&&(r?s.silentPosition(o):s.position(o))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var i;if(Jr(e)?(i={x:$t(e.x)?e.x:0,y:$t(e.y)?e.y:0},n=r):hr(e)&&$t(r)&&(i={x:0,y:0},i[e]=r),i!=null){var a=this.cy();a.startBatch();for(var s=0;s<this.length;s++){var o=this[s];if(!(a.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var l=o.position(),u={x:l.x+i.x,y:l.y+i.y};n?o.silentPosition(u):o.position(u)}}a.endBatch()}return this},silentShift:function(e,r){return Jr(e)?this.shift(e,!0):hr(e)&&$t(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],i=this.cy(),a=i.zoom(),s=i.pan(),o=Jr(e)?e:void 0,l=o!==void 0||r!==void 0&&hr(e);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var h=this[u];r!==void 0?h.position(e,(r-s[e])/a):o!==void 0&&h.position(rce(o,a,s))}else{var f=n.position();return o=r6(f,a,s),e===void 0?o:o[e]}else if(!l)return;return this},relativePosition:function(e,r){var n=this[0],i=this.cy(),a=Jr(e)?e:void 0,s=a!==void 0||r!==void 0&&hr(e),o=i.hasCompoundNodes();if(n&&n.isNode())if(s)for(var l=0;l<this.length;l++){var u=this[l],h=o?u.parent():null,f=h&&h.length>0,d=f;f&&(h=h[0]);var p=d?h.position():{x:0,y:0};r!==void 0?u.position(e,r+p[e]):a!==void 0&&u.position({x:a.x+p.x,y:a.y+p.y})}else{var v=n.position(),m=o?n.parent():null,x=m&&m.length>0,y=x;x&&(m=m[0]);var w=y?m.position():{x:0,y:0};return a={x:v.x-w.x,y:v.y-w.y},e===void 0?a:a[e]}else if(!s)return;return this}};au.modelPosition=au.point=au.position;au.modelPositions=au.points=au.positions;au.renderedPoint=au.renderedPosition;au.relativePoint=au.relativePosition;var Dit=Lce,qg,ad;qg=ad={};ad.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),a=e.x1*n+i.x,s=e.x2*n+i.x,o=e.y1*n+i.y,l=e.y2*n+i.y;return{x1:a,x2:s,y1:o,y2:l,w:s-a,h:l-o}};ad.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};ad.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,l=s.children(),u=s.pstyle("compound-sizing-wrt-labels").value==="include",h={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},f=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),d=o.position;(f.w===0||f.h===0)&&(f={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},f.x1=d.x-f.w/2,f.x2=d.x+f.w/2,f.y1=d.y-f.h/2,f.y2=d.y+f.h/2);function p(M,F,N){var z=0,V=0,D=F+N;return M>0&&D>0&&(z=F/D*M,V=N/D*M),{biasDiff:z,biasComplementDiff:V}}function v(M,F,N,z){if(N.units==="%")switch(z){case"width":return M>0?N.pfValue*M:0;case"height":return F>0?N.pfValue*F:0;case"average":return M>0&&F>0?N.pfValue*(M+F)/2:0;case"min":return M>0&&F>0?M>F?N.pfValue*F:N.pfValue*M:0;case"max":return M>0&&F>0?M>F?N.pfValue*M:N.pfValue*F:0;default:return 0}else return N.units==="px"?N.pfValue:0}var m=h.width.left.value;h.width.left.units==="px"&&h.width.val>0&&(m=m*100/h.width.val);var x=h.width.right.value;h.width.right.units==="px"&&h.width.val>0&&(x=x*100/h.width.val);var y=h.height.top.value;h.height.top.units==="px"&&h.height.val>0&&(y=y*100/h.height.val);var w=h.height.bottom.value;h.height.bottom.units==="px"&&h.height.val>0&&(w=w*100/h.height.val);var k=p(h.width.val-f.w,m,x),E=k.biasDiff,C=k.biasComplementDiff,L=p(h.height.val-f.h,y,w),_=L.biasDiff,I=L.biasComplementDiff;o.autoPadding=v(f.w,f.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(f.w,h.width.val),d.x=(-E+f.x1+f.x2+C)/2,o.autoHeight=Math.max(f.h,h.height.val),d.y=(-_+f.y1+f.y2+I)/2}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||t)&&(r(i),e.batching()||(a.compoundBoundsClean=!0))}return this};var ll=function(e){return e===1/0||e===-1/0?0:e},Ul=function(e,r,n,i,a){i-r===0||a-n===0||r==null||n==null||i==null||a==null||(e.x1=r<e.x1?r:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Id=function(e,r){return r==null?e:Ul(e,r.x1,r.y1,r.x2,r.y2)},$m=function(e,r,n){return ql(e,r,n)},B3=function(e,r,n){if(!r.cy().headless()){var i=r._private,a=i.rstyle,s=a.arrowWidth/2,o=r.pstyle(n+"-arrow-shape").value,l,u;if(o!=="none"){n==="source"?(l=a.srcX,u=a.srcY):n==="target"?(l=a.tgtX,u=a.tgtY):(l=a.midX,u=a.midY);var h=i.arrowBounds=i.arrowBounds||{},f=h[n]=h[n]||{};f.x1=l-s,f.y1=u-s,f.x2=l+s,f.y2=u+s,f.w=f.x2-f.x1,f.h=f.y2-f.y1,Ww(f,1),Ul(e,f.x1,f.y1,f.x2,f.y2)}}},aA=function(e,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var a=r._private,s=a.rstyle,o=r.pstyle(i+"label").strValue;if(o){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),h=$m(s,"labelWidth",n),f=$m(s,"labelHeight",n),d=$m(s,"labelX",n),p=$m(s,"labelY",n),v=r.pstyle(i+"text-margin-x").pfValue,m=r.pstyle(i+"text-margin-y").pfValue,x=r.isEdge(),y=r.pstyle(i+"text-rotation"),w=r.pstyle("text-outline-width").pfValue,k=r.pstyle("text-border-width").pfValue,E=k/2,C=r.pstyle("text-background-padding").pfValue,L=2,_=f,I=h,M=I/2,F=_/2,N,z,V,D;if(x)N=d-M,z=d+M,V=p-F,D=p+F;else{switch(l.value){case"left":N=d-I,z=d;break;case"center":N=d-M,z=d+M;break;case"right":N=d,z=d+I;break}switch(u.value){case"top":V=p-_,D=p;break;case"center":V=p-F,D=p+F;break;case"bottom":V=p,D=p+_;break}}var O=v-Math.max(w,E)-C-L,P=v+Math.max(w,E)+C+L,$=m-Math.max(w,E)-C-L,B=m+Math.max(w,E)+C+L;N+=O,z+=P,V+=$,D+=B;var H=n||"main",X=a.labelBounds,q=X[H]=X[H]||{};q.x1=N,q.y1=V,q.x2=z,q.y2=D,q.w=z-N,q.h=D-V,q.leftPad=O,q.rightPad=P,q.topPad=$,q.botPad=B;var Y=x&&y.strValue==="autorotate",U=y.pfValue!=null&&y.pfValue!==0;if(Y||U){var J=Y?$m(a.rstyle,"labelAngle",n):y.pfValue,ce=Math.cos(J),re=Math.sin(J),ve=(N+z)/2,ye=(V+D)/2;if(!x){switch(l.value){case"left":ve=z;break;case"right":ve=N;break}switch(u.value){case"top":ye=D;break;case"bottom":ye=V;break}}var Z=function(oe,we){return oe=oe-ve,we=we-ye,{x:oe*ce-we*re+ve,y:oe*re+we*ce+ye}},ue=Z(N,V),ae=Z(N,D),pe=Z(z,V),Ee=Z(z,D);N=Math.min(ue.x,ae.x,pe.x,Ee.x),z=Math.max(ue.x,ae.x,pe.x,Ee.x),V=Math.min(ue.y,ae.y,pe.y,Ee.y),D=Math.max(ue.y,ae.y,pe.y,Ee.y)}var Se=H+"Rot",de=X[Se]=X[Se]||{};de.x1=N,de.y1=V,de.x2=z,de.y2=D,de.w=z-N,de.h=D-V,Ul(e,N,V,z,D),Ul(a.labelBounds.all,N,V,z,D)}return e}},Rit=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,i=r.pstyle("outline-width").value;if(n>0&&i>0){var a=r.pstyle("outline-offset").value,s=r.pstyle("shape").value,o=i+a,l=(e.w+o*2)/e.w,u=(e.h+o*2)/e.h,h=0,f=0;["diamond","pentagon","round-triangle"].includes(s)?(l=(e.w+o*2.4)/e.w,f=-o/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(s)?l=(e.w+o*2.4)/e.w:s==="star"?(l=(e.w+o*2.8)/e.w,u=(e.h+o*2.6)/e.h,f=-o/3.8):s==="triangle"?(l=(e.w+o*2.8)/e.w,u=(e.h+o*2.4)/e.h,f=-o/1.4):s==="vee"&&(l=(e.w+o*4.4)/e.w,u=(e.h+o*3.8)/e.h,f=-o*.5);var d=e.h*u-e.h,p=e.w*l-e.w;if(qw(e,[Math.ceil(d/2),Math.ceil(p/2)]),h!=0||f!==0){var v=Zet(e,h,f);ice(e,v)}}}},Mit=function(e,r){var n=e._private.cy,i=n.styleEnabled(),a=n.headless(),s=mo(),o=e._private,l=e.isNode(),u=e.isEdge(),h,f,d,p,v,m,x=o.rstyle,y=l&&i?e.pstyle("bounds-expansion").pfValue:[0],w=function(be){return be.pstyle("display").value!=="none"},k=!i||w(e)&&(!u||w(e.source())&&w(e.target()));if(k){var E=0,C=0;i&&r.includeOverlays&&(E=e.pstyle("overlay-opacity").value,E!==0&&(C=e.pstyle("overlay-padding").value));var L=0,_=0;i&&r.includeUnderlays&&(L=e.pstyle("underlay-opacity").value,L!==0&&(_=e.pstyle("underlay-padding").value));var I=Math.max(C,_),M=0,F=0;if(i&&(M=e.pstyle("width").pfValue,F=M/2),l&&r.includeNodes){var N=e.position();v=N.x,m=N.y;var z=e.outerWidth(),V=z/2,D=e.outerHeight(),O=D/2;h=v-V,f=v+V,d=m-O,p=m+O,Ul(s,h,d,f,p),i&&r.includeOutlines&&Rit(s,e)}else if(u&&r.includeEdges)if(i&&!a){var P=e.pstyle("curve-style").strValue;if(h=Math.min(x.srcX,x.midX,x.tgtX),f=Math.max(x.srcX,x.midX,x.tgtX),d=Math.min(x.srcY,x.midY,x.tgtY),p=Math.max(x.srcY,x.midY,x.tgtY),h-=F,f+=F,d-=F,p+=F,Ul(s,h,d,f,p),P==="haystack"){var $=x.haystackPts;if($&&$.length===2){if(h=$[0].x,d=$[0].y,f=$[1].x,p=$[1].y,h>f){var B=h;h=f,f=B}if(d>p){var H=d;d=p,p=H}Ul(s,h-F,d-F,f+F,p+F)}}else if(P==="bezier"||P==="unbundled-bezier"||P.endsWith("segments")||P.endsWith("taxi")){var X;switch(P){case"bezier":case"unbundled-bezier":X=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":X=x.linePts;break}if(X!=null)for(var q=0;q<X.length;q++){var Y=X[q];h=Y.x-F,f=Y.x+F,d=Y.y-F,p=Y.y+F,Ul(s,h,d,f,p)}}}else{var U=e.source(),J=U.position(),ce=e.target(),re=ce.position();if(h=J.x,f=re.x,d=J.y,p=re.y,h>f){var ve=h;h=f,f=ve}if(d>p){var ye=d;d=p,p=ye}h-=F,f+=F,d-=F,p+=F,Ul(s,h,d,f,p)}if(i&&r.includeEdges&&u&&(B3(s,e,"mid-source"),B3(s,e,"mid-target"),B3(s,e,"source"),B3(s,e,"target")),i){var Z=e.pstyle("ghost").value==="yes";if(Z){var ue=e.pstyle("ghost-offset-x").pfValue,ae=e.pstyle("ghost-offset-y").pfValue;Ul(s,s.x1+ue,s.y1+ae,s.x2+ue,s.y2+ae)}}var pe=o.bodyBounds=o.bodyBounds||{};SW(pe,s),qw(pe,y),Ww(pe,1),i&&(h=s.x1,f=s.x2,d=s.y1,p=s.y2,Ul(s,h-I,d-I,f+I,p+I));var Ee=o.overlayBounds=o.overlayBounds||{};SW(Ee,s),qw(Ee,y),Ww(Ee,1);var Se=o.labelBounds=o.labelBounds||{};Se.all!=null?Qet(Se.all):Se.all=mo(),i&&r.includeLabels&&(r.includeMainLabels&&aA(s,e,null),u&&(r.includeSourceLabels&&aA(s,e,"source"),r.includeTargetLabels&&aA(s,e,"target")))}return s.x1=ll(s.x1),s.y1=ll(s.y1),s.x2=ll(s.x2),s.y2=ll(s.y2),s.w=ll(s.x2-s.x1),s.h=ll(s.y2-s.y1),s.w>0&&s.h>0&&k&&(qw(s,y),Ww(s,1)),s},Rce=function(e){var r=0,n=function(s){return(s?1:0)<<r++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},Mce=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),i=function(s){return Math.round(s)};return met([i(r.x),i(r.y),i(n.x),i(n.y)])}else return 0},WW=function(e,r){var n=e._private,i,a=e.isEdge(),s=r==null?qW:Rce(r),o=s===qW,l=Mce(e),u=n.bbCachePosKey===l,h=r.useCache&&u,f=function(m){return m._private.bbCache==null||m._private.styleDirty},d=!h||f(e)||a&&(f(e.source())||f(e.target()));if(d?(u||e.recalculateRenderedStyle(h),i=Mit(e,Z2),n.bbCache=i,n.bbCachePosKey=l):i=n.bbCache,!o){var p=e.isNode();i=mo(),(r.includeNodes&&p||r.includeEdges&&!p)&&(r.includeOverlays?Id(i,n.overlayBounds):Id(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!a||r.includeSourceLabels&&r.includeTargetLabels)?Id(i,n.labelBounds.all):(r.includeMainLabels&&Id(i,n.labelBounds.mainRot),r.includeSourceLabels&&Id(i,n.labelBounds.sourceRot),r.includeTargetLabels&&Id(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Z2={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},qW=Rce(Z2),YW=ja(Z2);ad.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=Z2:t=YW(t),e=WW(this[0],t);else{e=mo(),t=t||Z2;var r=YW(t),n=this,i=n.cy(),a=i.styleEnabled();if(a)for(var s=0;s<n.length;s++){var o=n[s],l=o._private,u=Mce(o),h=l.bbCachePosKey===u,f=r.useCache&&h&&!l.styleDirty;o.recalculateRenderedStyle(f)}this.updateCompoundBounds(!t.useCache);for(var d=0;d<n.length;d++){var p=n[d];Id(e,WW(p,r))}}return e.x1=ll(e.x1),e.y1=ll(e.y1),e.x2=ll(e.x2),e.y2=ll(e.y2),e.w=ll(e.x2-e.x1),e.h=ll(e.y2-e.y1),e};ad.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};ad.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(u){return u.isParent()}),e=e.not(i)),Jr(t)){var a=t;t=function(){return a}}var s=function(h,f){return h._private.bbAtOldPos=t(h,f)},o=function(h){return h._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var l=Ket(this.boundingBox({useCache:!1}));return e.silentPositions(o),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),l};qg.boundingbox=qg.bb=qg.boundingBox;qg.renderedBoundingbox=qg.renderedBoundingBox;var Nit=ad,dy,Bb;dy=Bb={};var Nce=function(e){e.uppercaseName=vW(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=vW(e.outerName),dy[e.name]=function(){var n=this[0],i=n._private,a=i.cy,s=a._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var o=n.pstyle(e.name);switch(o.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return o.pfValue}}else return 1},dy["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,a=i.cy,s=a._private.styleEnabled;if(n)if(s){var o=n[e.name](),l=n.pstyle("border-width").pfValue,u=2*n.padding();return o+l+u}else return 1},dy["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},dy["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};Nce({name:"width"});Nce({name:"height"});Bb.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};Bb.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};Bb.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var Iit=Bb,Oit=function(e,r){if(e.isEdge())return r(e)},Fit=function(e,r){if(e.isEdge()){var n=e.cy();return r6(r(e),n.zoom(),n.pan())}},Pit=function(e,r){if(e.isEdge()){var n=e.cy(),i=n.pan(),a=n.zoom();return r(e).map(function(s){return r6(s,a,i)})}},Bit=function(e){return e.renderer().getControlPoints(e)},$it=function(e){return e.renderer().getSegmentPoints(e)},zit=function(e){return e.renderer().getSourceEndpoint(e)},Hit=function(e){return e.renderer().getTargetEndpoint(e)},Vit=function(e){return e.renderer().getEdgeMidpoint(e)},XW={controlPoints:{get:Bit,mult:!0},segmentPoints:{get:$it,mult:!0},sourceEndpoint:{get:zit},targetEndpoint:{get:Hit},midpoint:{get:Vit}},Uit=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},Git=Object.keys(XW).reduce(function(t,e){var r=XW[e],n=Uit(e);return t[e]=function(){return Oit(this,r.get)},r.mult?t[n]=function(){return Pit(this,r.get)}:t[n]=function(){return Fit(this,r.get)},t},{}),Wit=Er({},Dit,Nit,Iit,Git);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Ice=function(e,r){this.recycle(e,r)};function zm(){return!1}function $3(){return!0}Ice.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=zm,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?$3:zm):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*i+a.x,y:n.y*i+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=$3;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=$3;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=$3,this.stopPropagation()},isDefaultPrevented:zm,isPropagationStopped:zm,isImmediatePropagationStopped:zm};var Oce=/^([^.]+)(\.(?:[^.]+))?$/,qit=".*",Fce={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},jW=Object.keys(Fce),Yit={};function l6(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yit,e=arguments.length>1?arguments[1]:void 0,r=0;r<jW.length;r++){var n=jW[r];this[n]=t[n]||Fce[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Yf=l6.prototype,Pce=function(e,r,n,i,a,s,o){ci(i)&&(a=i,i=null),o&&(s==null?s=o:s=Er({},s,o));for(var l=Rn(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var h=l[u];if(!Uf(h)){var f=h.match(Oce);if(f){var d=f[1],p=f[2]?f[2]:null,v=r(e,h,d,p,i,a,s);if(v===!1)break}}}},KW=function(e,r){return e.addEventFields(e.context,r),new Ice(r.type,r)},Xit=function(e,r,n){if(fJe(n)){r(e,n);return}else if(Jr(n)){r(e,KW(e,n));return}for(var i=Rn(n)?n:n.split(/\s+/),a=0;a<i.length;a++){var s=i[a];if(!Uf(s)){var o=s.match(Oce);if(o){var l=o[1],u=o[2]?o[2]:null,h=KW(e,{type:l,namespace:u,target:e.context});r(e,h)}}}};Yf.on=Yf.addListener=function(t,e,r,n,i){return Pce(this,function(a,s,o,l,u,h,f){ci(h)&&a.listeners.push({event:s,callback:h,type:o,namespace:l,qualifier:u,conf:f})},t,e,r,n,i),this};Yf.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};Yf.removeListener=Yf.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=ket(this.listeners));for(var a=this.listeners,s=function(u){var h=a[u];Pce(i,function(f,d,p,v,m,x){if((h.type===p||t==="*")&&(!v&&h.namespace!==".*"||h.namespace===v)&&(!m||f.qualifierCompare(h.qualifier,m))&&(!x||h.callback===x))return a.splice(u,1),!1},t,e,r,n)},o=a.length-1;o>=0;o--)s(o);return this};Yf.removeAllListeners=function(){return this.removeListener("*")};Yf.emit=Yf.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,Rn(e)||(e=[e]),Xit(this,function(a,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],i=n.length);for(var o=function(h){var f=n[h];if(f.type===s.type&&(!f.namespace||f.namespace===s.namespace||f.namespace===qit)&&a.eventMatches(a.context,f,s)){var d=[s];e!=null&&Tet(d,e),a.beforeEmit(a.context,f,s),f.conf&&f.conf.one&&(a.listeners=a.listeners.filter(function(m){return m!==f}));var p=a.callbackContext(a.context,f,s),v=f.callback.apply(p,d);a.afterEmit(a.context,f,s),v===!1&&(s.stopPropagation(),s.preventDefault())}},l=0;l<i;l++)o(l);a.bubble(a.context)&&!s.isPropagationStopped()&&a.parent(a.context).emit(s,e)},t),this.emitting--,this};var jit={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&Ob(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},z3=function(e){return hr(e)?new Wf(e):e},Bce={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new l6(jit,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var i=z3(r),a=0;a<this.length;a++){var s=this[a];s.emitter().on(e,i,n)}return this},removeListener:function(e,r,n){for(var i=z3(r),a=0;a<this.length;a++){var s=this[a];s.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var i=z3(r),a=0;a<this.length;a++){var s=this[a];s.emitter().one(e,i,n)}return this},once:function(e,r,n){for(var i=z3(r),a=0;a<this.length;a++){var s=this[a];s.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};fn.eventAliasesOn(Bce);var $ce={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):r.push(i)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(hr(e)||Bo(e))return new Wf(e).filter(this);if(ci(e)){for(var n=this.spawn(),i=this,a=0;a<i.length;a++){var s=i[a],o=r?e.apply(r,[s,a,i]):e(s,a,i);o&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){hr(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],a=e.has(i);a||r.push(i)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(hr(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),i=this,a=e,s=this.length<e.length,o=s?i:a,l=s?a:i,u=0;u<o.length;u++){var h=o[u];l.has(h)&&n.push(h)}return n},xor:function(e){var r=this._private.cy;hr(e)&&(e=r.$(e));var n=this.spawn(),i=this,a=e,s=function(l,u){for(var h=0;h<l.length;h++){var f=l[h],d=f._private.data.id,p=u.hasElementWithId(d);p||n.push(f)}};return s(i,a),s(a,i),n},diff:function(e){var r=this._private.cy;hr(e)&&(e=r.$(e));var n=this.spawn(),i=this.spawn(),a=this.spawn(),s=this,o=e,l=function(h,f,d){for(var p=0;p<h.length;p++){var v=h[p],m=v._private.data.id,x=f.hasElementWithId(m);x?a.merge(v):d.push(v)}};return l(s,o,n),l(o,s,i),{left:n,right:i,both:a}},add:function(e){var r=this._private.cy;if(!e)return this;if(hr(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),a=0;a<e.length;a++){var s=e[a],o=!this.has(s);o&&i.push(s)}return i},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&hr(e)){var i=e;e=n.mutableElements().filter(i)}for(var a=r.map,s=0;s<e.length;s++){var o=e[s],l=o._private.data.id,u=!a.has(l);if(u){var h=this.length++;this[h]=o,a.set(l,{ele:o,index:h})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),i=this._private,a=i.map;this[e]=void 0,a.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var o=this.length-1,l=this[o],u=l._private.data.id;this[o]=void 0,this[e]=l,a.set(u,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,i=r.map,a=i.get(n);if(!a)return this;var s=a.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&hr(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],i=this,a=0;a<i.length;a++){var s=i[a],o=r?e.apply(r,[s,a,i]):e(s,a,i);n.push(o)}return n},reduce:function(e,r){for(var n=r,i=this,a=0;a<i.length;a++)n=e(n,i[a],a,i);return n},max:function(e,r){for(var n=-1/0,i,a=this,s=0;s<a.length;s++){var o=a[s],l=r?e.apply(r,[o,s,a]):e(o,s,a);l>n&&(n=l,i=o)}return{value:n,ele:i}},min:function(e,r){for(var n=1/0,i,a=this,s=0;s<a.length;s++){var o=a[s],l=r?e.apply(r,[o,s,a]):e(o,s,a);l<n&&(n=l,i=o)}return{value:n,ele:i}}},nn=$ce;nn.u=nn["|"]=nn["+"]=nn.union=nn.or=nn.add;nn["\\"]=nn["!"]=nn["-"]=nn.difference=nn.relativeComplement=nn.subtract=nn.not;nn.n=nn["&"]=nn["."]=nn.and=nn.intersection=nn.intersect;nn["^"]=nn["(+)"]=nn["(-)"]=nn.symmetricDifference=nn.symdiff=nn.xor;nn.fnFilter=nn.filterFn=nn.stdFilter=nn.filter;nn.complement=nn.abscomp=nn.absoluteComplement;var Kit={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},zce=function(e,r){var n=e.cy(),i=n.hasCompoundNodes();function a(h){var f=h.pstyle("z-compound-depth");return f.value==="auto"?i?h.zDepth():0:f.value==="bottom"?-1:f.value==="top"?nO:0}var s=a(e)-a(r);if(s!==0)return s;function o(h){var f=h.pstyle("z-index-compare");return f.value==="auto"&&h.isNode()?1:0}var l=o(e)-o(r);if(l!==0)return l;var u=e.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:e.poolIndex()-r.poolIndex()},NS={forEach:function(e,r){if(ci(e))for(var n=this.length,i=0;i<n;i++){var a=this[i],s=r?e.apply(r,[a,i,this]):e(a,i,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],i=this.length;r==null&&(r=i),e==null&&(e=0),e<0&&(e=i+e),r<0&&(r=i+r);for(var a=e;a>=0&&a<r&&a<i;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!ci(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(zce)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var i=r.data.parent?e.parents().size():0;return e.isParent()?i:nO-1}else{var a=r.source,s=r.target,o=a.zDepth(),l=s.zDepth();return Math.max(o,l,0)}}}};NS.each=NS.forEach;var Qit=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":la(Symbol))!=e&&la(Symbol.iterator)!=e;r&&(NS[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},a=0,s=this.length;return Fue({next:function(){return a<s?i.value=n[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};Qit();var Zit=ja({nodeDimensionsIncludeLabels:!1}),Xw={layoutDimensions:function(e){e=Zit(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var i=this.nodes().filter(function(C){return!C.isParent()}),a=this.cy(),s=r.eles,o=function(L){return L.id()},l=G2(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=function(L,_,I){var M={x:_.x1+_.w/2,y:_.y1+_.h/2},F={x:(I.x-M.x)*L,y:(I.y-M.y)*L};return{x:M.x+F.x,y:M.y+F.y}},h=r.spacingFactor&&r.spacingFactor!==1,f=function(){if(!h)return null;for(var L=mo(),_=0;_<i.length;_++){var I=i[_],M=l(I,_);Jet(L,M.x,M.y)}return L},d=f(),p=G2(function(C,L){var _=l(C,L);if(h){var I=Math.abs(r.spacingFactor);_=u(I,d,_)}return r.transform!=null&&(_=r.transform(C,_)),_},o);if(r.animate){for(var v=0;v<i.length;v++){var m=i[v],x=p(m,v),y=r.animateFilter==null||r.animateFilter(m,v);if(y){var w=m.animation({position:x,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(w)}else m.position(x)}if(r.fit){var k=a.animation({fit:{boundingBox:s.boundingBoxAt(p),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(k)}else if(r.zoom!==void 0&&r.pan!==void 0){var E=a.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(E)}e.animations.forEach(function(C){return C.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),xv.all(e.animations.map(function(C){return C.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(p),r.fit&&a.fit(r.eles,r.padding),r.zoom!=null&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Er({},e,{eles:this}))}};Xw.createLayout=Xw.makeLayout=Xw.layout;function Hce(t,e,r){var n=r._private,i=n.styleCache=n.styleCache||[],a;return(a=i[t])!=null||(a=i[t]=e(r)),a}function u6(t,e){return t=H0(t),function(n){return Hce(t,e,n)}}function c6(t,e){t=H0(t);var r=function(i){return e.call(i)};return function(){var i=this[0];if(i)return Hce(t,r,i)}}var Ha={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(a){return a._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),a=this;e=!!(e||e===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=a;return e?s.emitAndNotify("style"):s.emit("style"),a.forEach(function(o){return o._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){this.cleanStyle();var a=n._private.style[e];return a??(r?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(Jr(e)){var s=e;a.applyBypass(this,s,i),this.emitAndNotify("style")}else if(hr(e))if(r===void 0){var o=this[0];return o?a.getStylePropertyValue(o,e):void 0}else a.applyBypass(this,e,r,i),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),a=this;if(e===void 0)for(var s=0;s<a.length;s++){var o=a[s];i.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var l=0;l<a.length;l++){var u=a[l];i.removeBypasses(u,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,a=n.pstyle("opacity").value;if(!r)return a;var s=i.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++){var l=s[o],u=l.pstyle("opacity").value;a=u*a}return a}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function sA(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!e(a))return!1}return!0}function gO(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],s=i.hasCompoundNodes();if(a){var o=a._private;if(!e(a))return!1;if(a.isNode())return!s||sA(a,n);var l=o.source,u=o.target;return r(l)&&(!s||sA(l,r))&&(l===u||r(u)&&(!s||sA(u,r)))}}}var Sv=u6("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Ha.takesUpSpace=c6("takesUpSpace",gO({ok:Sv}));var Jit=u6("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Sv(t)}),eat=u6("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Sv(t)});Ha.interactive=c6("interactive",gO({ok:Jit,parentOk:eat,edgeOkViaNode:Sv}));Ha.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var tat=u6("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Sv(t)}),rat=Sv;Ha.visible=c6("visible",gO({ok:tat,edgeOkViaNode:rat}));Ha.hidden=function(){var t=this[0];if(t)return!t.visible()};Ha.isBundledBezier=c6("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Ha.bypass=Ha.css=Ha.style;Ha.renderedCss=Ha.renderedStyle;Ha.removeBypass=Ha.removeCss=Ha.removeStyle;Ha.pstyle=Ha.parsedStyle;var Ef={};function QW(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&ci(e[0])){var a=e[0];this.on(t.event,a)}else if(e.length===0||e.length===1&&Rn(e[0])){for(var s=e.length===1?e[0]:null,o=0;o<this.length;o++){var l=this[o],u=!t.ableField||l._private[t.ableField],h=l._private[t.field]!=t.value;if(t.overrideAble){var f=t.overrideAble(l);if(f!==void 0&&(u=f,!f))return this}u&&(l._private[t.field]=t.value,h&&r.push(l))}var d=this.spawn(r);d.updateStyle(),d.emit(t.event),s&&d.emit(s)}return this}}function Ev(t){Ef[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},Ef[t.on]=QW({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Ef[t.off]=QW({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Ev({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Ev({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Ev({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Ev({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Ef.deselect=Ef.unselect;Ef.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Ev({field:"active",on:"activate",off:"unactivate"});Ev({field:"pannable",on:"panify",off:"unpanify"});Ef.inactive=function(){var t=this[0];if(t)return!t._private.active};var ps={},ZW=function(e){return function(n){for(var i=this,a=[],s=0;s<i.length;s++){var o=i[s];if(o.isNode()){for(var l=!1,u=o.connectedEdges(),h=0;h<u.length;h++){var f=u[h],d=f.source(),p=f.target();if(e.noIncomingEdges&&p===o&&d!==o||e.noOutgoingEdges&&d===o&&p!==o){l=!0;break}}l||a.push(o)}}return this.spawn(a,!0).filter(n)}},JW=function(e){return function(r){for(var n=this,i=[],a=0;a<n.length;a++){var s=n[a];if(s.isNode())for(var o=s.connectedEdges(),l=0;l<o.length;l++){var u=o[l],h=u.source(),f=u.target();e.outgoing&&h===s?(i.push(u),i.push(f)):e.incoming&&f===s&&(i.push(u),i.push(h))}}return this.spawn(i,!0).filter(r)}},eq=function(e){return function(r){for(var n=this,i=[],a={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var o=!1,l=0;l<s.length;l++){var u=s[l],h=u.id();a[h]||(a[h]=!0,i.push(u),o=!0)}if(!o)break;n=s}return this.spawn(i,!0).filter(r)}};ps.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Er(ps,{roots:ZW({noIncomingEdges:!0}),leaves:ZW({noOutgoingEdges:!0}),outgoers:gl(JW({outgoing:!0}),"outgoers"),successors:eq({outgoing:!0}),incomers:gl(JW({incoming:!0}),"incomers"),predecessors:eq({incoming:!0})});Er(ps,{neighborhood:gl(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),s=0;s<a.length;s++){var o=a[s],l=o.source(),u=o.target(),h=i===l?u:l;h.length>0&&e.push(h[0]),e.push(o[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});ps.neighbourhood=ps.neighborhood;ps.closedNeighbourhood=ps.closedNeighborhood;ps.openNeighbourhood=ps.openNeighborhood;Er(ps,{source:gl(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:gl(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:tq({attr:"source"}),targets:tq({attr:"target"})});function tq(t){return function(r){for(var n=[],i=0;i<this.length;i++){var a=this[i],s=a._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}Er(ps,{edgesWith:gl(rq(),"edgesWith"),edgesTo:gl(rq({thisIsSrc:!0}),"edgesTo")});function rq(t){return function(r){var n=[],i=this._private.cy,a=t||{};hr(r)&&(r=i.$(r));for(var s=0;s<r.length;s++)for(var o=r[s]._private.edges,l=0;l<o.length;l++){var u=o[l],h=u._private.data,f=this.hasElementWithId(h.source)&&r.hasElementWithId(h.target),d=r.hasElementWithId(h.source)&&this.hasElementWithId(h.target),p=f||d;p&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!f||a.thisIsTgt&&!d)||n.push(u))}return this.spawn(n,!0)}}Er(ps,{connectedEdges:gl(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,s=0;s<a.length;s++){var o=a[s];e.push(o)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:gl(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:gl(nq(),"parallelEdges"),codirectedEdges:gl(nq({codirected:!0}),"codirectedEdges")});function nq(t){var e={codirected:!1};return t=Er({},e,t),function(n){for(var i=[],a=this.edges(),s=t,o=0;o<a.length;o++)for(var l=a[o],u=l._private,h=u.source,f=h._private.data.id,d=u.data.target,p=h._private.edges,v=0;v<p.length;v++){var m=p[v],x=m._private.data,y=x.target,w=x.source,k=y===d&&w===f,E=f===y&&d===w;(s.codirected&&k||!s.codirected&&(k||E))&&i.push(m)}return this.spawn(i,!0).filter(n)}}Er(ps,{components:function(e){var r=this,n=r.cy(),i=n.collection(),a=e==null?r.nodes():e.nodes(),s=[];e!=null&&a.empty()&&(a=e.sources());var o=function(h,f){i.merge(h),a.unmerge(h),f.merge(h)};if(a.empty())return r.spawn();var l=function(){var h=n.collection();s.push(h);var f=a[0];o(f,h),r.bfs({directed:!1,roots:f,visit:function(p){return o(p,h)}}),h.forEach(function(d){d.connectedEdges().forEach(function(p){r.has(p)&&h.has(p.source())&&h.has(p.target())&&h.merge(p)})})};do l();while(a.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});ps.componentsOf=ps.components;var Va=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){bi("A collection must have a reference to the core");return}var a=new Hu,s=!1;if(!r)r=[];else if(r.length>0&&Jr(r[0])&&!Ob(r[0])){s=!0;for(var o=[],l=new yv,u=0,h=r.length;u<h;u++){var f=r[u];f.data==null&&(f.data={});var d=f.data;if(d.id==null)d.id=ece();else if(e.hasElementWithId(d.id)||l.has(d.id))continue;var p=new t6(e,f,!1);o.push(p),l.add(d.id)}r=o}this.length=0;for(var v=0,m=r.length;v<m;v++){var x=r[v][0];if(x!=null){var y=x._private.data.id;(!n||!a.has(y))&&(n&&a.set(y,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(w){this.lazyMap=w},rebuildMap:function(){for(var k=this.lazyMap=new Hu,E=this.eles,C=0;C<E.length;C++){var L=E[C];k.set(L.id(),{index:C,ele:L})}}},n&&(this._private.map=a),s&&!i&&this.restore()},$n=t6.prototype=Va.prototype=Object.create(Array.prototype);$n.instanceString=function(){return"collection"};$n.spawn=function(t,e){return new Va(this.cy(),t,e)};$n.spawnSelf=function(){return this.spawn(this)};$n.cy=function(){return this._private.cy};$n.renderer=function(){return this._private.cy.renderer()};$n.element=function(){return this[0]};$n.collection=function(){return zue(this)?this:new Va(this._private.cy,[this])};$n.unique=function(){return new Va(this._private.cy,this,!0)};$n.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};$n.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Va(e)};$n.$id=$n.getElementById;$n.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};$n.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};$n.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};$n.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(Jr(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var a=!1,s={},o=t.data.source,l=t.data.target;o!=null&&o!=i.source&&(s.source=""+o,a=!0),l!=null&&l!=i.target&&(s.target=""+l,a=!0),a&&(e=e.move(s))}else{var u="parent"in t.data,h=t.data.parent;u&&(h!=null||i.parent!=null)&&h!=i.parent&&(h===void 0&&(h=null),h!=null&&(h=""+h),e=e.move({parent:h}))}}t.position&&e.position(t.position);var f=function(m,x,y){var w=t[m];w!=null&&w!==n[m]&&(w?e[x]():e[y]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var d={data:zu(n.data),position:zu(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};d.classes="";var p=0;return n.classes.forEach(function(v){return d.classes+=p++===0?v:" "+v}),d}}};$n.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};$n.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),a=new t6(t,i,!1);e.push(a)}return new Va(t,e)};$n.copy=$n.clone;$n.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,a=[],s=[],o,l=0,u=r.length;l<u;l++){var h=r[l];e&&!h.removed()||(h.isNode()?a.push(h):s.push(h))}o=a.concat(s);var f,d=function(){o.splice(f,1),f--};for(f=0;f<o.length;f++){var p=o[f],v=p._private,m=v.data;if(p.clearTraversalCache(),!(!e&&!v.removed)){if(m.id===void 0)m.id=ece();else if($t(m.id))m.id=""+m.id;else if(Uf(m.id)||!hr(m.id)){bi("Can not create element with invalid string ID `"+m.id+"`"),d();continue}else if(n.hasElementWithId(m.id)){bi("Can not create second element with ID `"+m.id+"`"),d();continue}}var x=m.id;if(p.isNode()){var y=v.position;y.x==null&&(y.x=0),y.y==null&&(y.y=0)}if(p.isEdge()){for(var w=p,k=["source","target"],E=k.length,C=!1,L=0;L<E;L++){var _=k[L],I=m[_];$t(I)&&(I=m[_]=""+m[_]),I==null||I===""?(bi("Can not create edge `"+x+"` with unspecified "+_),C=!0):n.hasElementWithId(I)||(bi("Can not create edge `"+x+"` with nonexistant "+_+" `"+I+"`"),C=!0)}if(C){d();continue}var M=n.getElementById(m.source),F=n.getElementById(m.target);M.same(F)?M._private.edges.push(w):(M._private.edges.push(w),F._private.edges.push(w)),w._private.source=M,w._private.target=F}v.map=new Hu,v.map.set(x,{ele:p,index:0}),v.removed=!1,e&&n.addToPool(p)}for(var N=0;N<a.length;N++){var z=a[N],V=z._private.data;$t(V.parent)&&(V.parent=""+V.parent);var D=V.parent,O=D!=null;if(O||z._private.parent){var P=z._private.parent?n.collection().merge(z._private.parent):n.getElementById(D);if(P.empty())V.parent=void 0;else if(P[0].removed())gn("Node added with missing parent, reference to parent removed"),V.parent=void 0,z._private.parent=null;else{for(var $=!1,B=P;!B.empty();){if(z.same(B)){$=!0,V.parent=void 0;break}B=B.parent()}$||(P[0]._private.children.push(z),z._private.parent=P[0],i.hasCompoundNodes=!0)}}}if(o.length>0){for(var H=o.length===r.length?r:new Va(n,o),X=0;X<H.length;X++){var q=H[X];q.isNode()||(q.parallelEdges().clearTraversalCache(),q.source().clearTraversalCache(),q.target().clearTraversalCache())}var Y;i.hasCompoundNodes?Y=n.collection().merge(H).merge(H.connectedNodes()).merge(H.parent()):Y=H,Y.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?H.emitAndNotify("add"):e&&H.emit("add")}return r};$n.removed=function(){var t=this[0];return t&&t._private.removed};$n.inside=function(){var t=this[0];return t&&!t._private.removed};$n.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},a=r._private.cy;function s(D){for(var O=D._private.edges,P=0;P<O.length;P++)l(O[P])}function o(D){for(var O=D._private.children,P=0;P<O.length;P++)l(O[P])}function l(D){var O=i[D.id()];e&&D.removed()||O||(i[D.id()]=!0,D.isNode()?(n.push(D),s(D),o(D)):n.unshift(D))}for(var u=0,h=r.length;u<h;u++){var f=r[u];l(f)}function d(D,O){var P=D._private.edges;Gf(P,O),D.clearTraversalCache()}function p(D){D.clearTraversalCache()}var v=[];v.ids={};function m(D,O){O=O[0],D=D[0];var P=D._private.children,$=D.id();Gf(P,O),O._private.parent=null,v.ids[$]||(v.ids[$]=!0,v.push(D))}r.dirtyCompoundBoundsCache(),e&&a.removeFromPool(n);for(var x=0;x<n.length;x++){var y=n[x];if(y.isEdge()){var w=y.source()[0],k=y.target()[0];d(w,y),d(k,y);for(var E=y.parallelEdges(),C=0;C<E.length;C++){var L=E[C];p(L),L.isBundledBezier()&&L.dirtyBoundingBoxCache()}}else{var _=y.parent();_.length!==0&&m(_,y)}e&&(y._private.removed=!0)}var I=a._private.elements;a._private.hasCompoundNodes=!1;for(var M=0;M<I.length;M++){var F=I[M];if(F.isParent()){a._private.hasCompoundNodes=!0;break}}var N=new Va(this.cy(),n);N.size()>0&&(t?N.emitAndNotify("remove"):e&&N.emit("remove"));for(var z=0;z<v.length;z++){var V=v[z];(!e||!V.removed())&&V.updateStyle()}return N};$n.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,a=function(v){return v==null?v:""+v};if(t.source!==void 0||t.target!==void 0){var s=a(t.source),o=a(t.target),l=s!=null&&e.hasElementWithId(s),u=o!=null&&e.hasElementWithId(o);(l||u)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var p=0;p<r.length;p++){var v=r[p],m=v._private.data;v.isEdge()&&(l&&(m.source=s),u&&(m.target=o))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var h=a(t.parent),f=h===null||e.hasElementWithId(h);if(f){var d=h===null?void 0:h;e.batch(function(){var p=r.remove(n,i);p.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var m=r[v],x=m._private.data;m.isNode()&&(x.parent=d)}p.restore(n,i)}),r.emitAndNotify("move")}}return this};[dce,dit,Yw,Sf,H1,Lit,o6,Wit,Bce,$ce,Kit,NS,Xw,Ha,Ef,ps].forEach(function(t){Er($n,t)});var nat={add:function(e){var r,n=this;if(Bo(e)){var i=e;if(i._private.cy===n)r=i.restore();else{for(var a=[],s=0;s<i.length;s++){var o=i[s];a.push(o.json())}r=new Va(n,a)}}else if(Rn(e)){var l=e;r=new Va(n,l)}else if(Jr(e)&&(Rn(e.nodes)||Rn(e.edges))){for(var u=e,h=[],f=["nodes","edges"],d=0,p=f.length;d<p;d++){var v=f[d],m=u[v];if(Rn(m))for(var x=0,y=m.length;x<y;x++){var w=Er({group:v},m[x]);h.push(w)}}r=new Va(n,h)}else{var k=e;r=new t6(n,k).collection()}return r},remove:function(e){if(!Bo(e)){if(hr(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function iat(t,e,r,n){var i=4,a=.001,s=1e-7,o=10,l=11,u=1/(l-1),h=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var d=h?new Float32Array(l):new Array(l);function p(F,N){return 1-3*N+3*F}function v(F,N){return 3*N-6*F}function m(F){return 3*F}function x(F,N,z){return((p(N,z)*F+v(N,z))*F+m(N))*F}function y(F,N,z){return 3*p(N,z)*F*F+2*v(N,z)*F+m(N)}function w(F,N){for(var z=0;z<i;++z){var V=y(N,t,r);if(V===0)return N;var D=x(N,t,r)-F;N-=D/V}return N}function k(){for(var F=0;F<l;++F)d[F]=x(F*u,t,r)}function E(F,N,z){var V,D,O=0;do D=N+(z-N)/2,V=x(D,t,r)-F,V>0?z=D:N=D;while(Math.abs(V)>s&&++O<o);return D}function C(F){for(var N=0,z=1,V=l-1;z!==V&&d[z]<=F;++z)N+=u;--z;var D=(F-d[z])/(d[z+1]-d[z]),O=N+D*u,P=y(O,t,r);return P>=a?w(F,O):P===0?O:E(F,N,N+u)}var L=!1;function _(){L=!0,(t!==e||r!==n)&&k()}var I=function(N){return L||_(),t===e&&r===n?N:N===0?0:N===1?1:x(C(N),e,n)};I.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var M="generateBezier("+[t,e,r,n]+")";return I.toString=function(){return M},I}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var aat=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,a){var s={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,i){var a={dx:n.v,dv:t(n)},s=e(n,i*.5,a),o=e(n,i*.5,s),l=e(n,i,o),u=1/6*(a.dx+2*(s.dx+o.dx)+l.dx),h=1/6*(a.dv+2*(s.dv+o.dv)+l.dv);return n.x=n.x+u*i,n.v=n.v+h*i,n}return function n(i,a,s){var o={x:-1,v:0,tension:null,friction:null},l=[0],u=0,h=1/1e4,f=16/1e3,d,p,v;for(i=parseFloat(i)||500,a=parseFloat(a)||20,s=s||null,o.tension=i,o.friction=a,d=s!==null,d?(u=n(i,a),p=u/s*f):p=f;v=r(v||o,p),l.push(1+v.x),u+=16,Math.abs(v.x)>h&&Math.abs(v.v)>h;);return d?function(m){return l[m*(l.length-1)|0]}:u}}(),Nn=function(e,r,n,i){var a=iat(e,r,n,i);return function(s,o,l){return s+(o-s)*a(l)}},jw={linear:function(e,r,n){return e+(r-e)*n},ease:Nn(.25,.1,.25,1),"ease-in":Nn(.42,0,1,1),"ease-out":Nn(0,0,.58,1),"ease-in-out":Nn(.42,0,.58,1),"ease-in-sine":Nn(.47,0,.745,.715),"ease-out-sine":Nn(.39,.575,.565,1),"ease-in-out-sine":Nn(.445,.05,.55,.95),"ease-in-quad":Nn(.55,.085,.68,.53),"ease-out-quad":Nn(.25,.46,.45,.94),"ease-in-out-quad":Nn(.455,.03,.515,.955),"ease-in-cubic":Nn(.55,.055,.675,.19),"ease-out-cubic":Nn(.215,.61,.355,1),"ease-in-out-cubic":Nn(.645,.045,.355,1),"ease-in-quart":Nn(.895,.03,.685,.22),"ease-out-quart":Nn(.165,.84,.44,1),"ease-in-out-quart":Nn(.77,0,.175,1),"ease-in-quint":Nn(.755,.05,.855,.06),"ease-out-quint":Nn(.23,1,.32,1),"ease-in-out-quint":Nn(.86,0,.07,1),"ease-in-expo":Nn(.95,.05,.795,.035),"ease-out-expo":Nn(.19,1,.22,1),"ease-in-out-expo":Nn(1,0,0,1),"ease-in-circ":Nn(.6,.04,.98,.335),"ease-out-circ":Nn(.075,.82,.165,1),"ease-in-out-circ":Nn(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return jw.linear;var i=aat(e,r,n);return function(a,s,o){return a+(s-a)*i(o)}},"cubic-bezier":Nn};function iq(t,e,r,n,i){if(n===1||e===r)return r;var a=i(e,r,n);return t==null||((t.roundValue||t.color)&&(a=Math.round(a)),t.min!==void 0&&(a=Math.max(a,t.min)),t.max!==void 0&&(a=Math.min(a,t.max))),a}function aq(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function jp(t,e,r,n,i){var a=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var s=aq(t,i),o=aq(e,i);if($t(s)&&$t(o))return iq(a,s,o,r,n);if(Rn(s)&&Rn(o)){for(var l=[],u=0;u<o.length;u++){var h=s[u],f=o[u];if(h!=null&&f!=null){var d=iq(a,h,f,r,n);l.push(d)}else l.push(f)}return l}}function sat(t,e,r,n){var i=!n,a=t._private,s=e._private,o=s.easing,l=s.startTime,u=n?t:t.cy(),h=u.style();if(!s.easingImpl)if(o==null)s.easingImpl=jw.linear;else{var f;if(hr(o)){var d=h.parse("transition-timing-function",o);f=d.value}else f=o;var p,v;hr(f)?(p=f,v=[]):(p=f[1],v=f.slice(2).map(function(H){return+H})),v.length>0?(p==="spring"&&v.push(s.duration),s.easingImpl=jw[p].apply(null,v)):s.easingImpl=jw[p]}var m=s.easingImpl,x;if(s.duration===0?x=1:x=(r-l)/s.duration,s.applying&&(x=s.progress),x<0?x=0:x>1&&(x=1),s.delay==null){var y=s.startPosition,w=s.position;if(w&&i&&!t.locked()){var k={};Hm(y.x,w.x)&&(k.x=jp(y.x,w.x,x,m)),Hm(y.y,w.y)&&(k.y=jp(y.y,w.y,x,m)),t.position(k)}var E=s.startPan,C=s.pan,L=a.pan,_=C!=null&&n;_&&(Hm(E.x,C.x)&&(L.x=jp(E.x,C.x,x,m)),Hm(E.y,C.y)&&(L.y=jp(E.y,C.y,x,m)),t.emit("pan"));var I=s.startZoom,M=s.zoom,F=M!=null&&n;F&&(Hm(I,M)&&(a.zoom=X2(a.minZoom,jp(I,M,x,m),a.maxZoom)),t.emit("zoom")),(_||F)&&t.emit("viewport");var N=s.style;if(N&&N.length>0&&i){for(var z=0;z<N.length;z++){var V=N[z],D=V.name,O=V,P=s.startStyle[D],$=h.properties[P.name],B=jp(P,O,x,m,$);h.overrideBypass(t,D,B)}t.emit("style")}}return s.progress=x,x}function Hm(t,e){return t==null||e==null?!1:$t(t)&&$t(e)?!0:!!(t&&e)}function oat(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function sq(t,e){var r=e._private.aniEles,n=[];function i(h,f){var d=h._private,p=d.animation.current,v=d.animation.queue,m=!1;if(p.length===0){var x=v.shift();x&&p.push(x)}for(var y=function(L){for(var _=L.length-1;_>=0;_--){var I=L[_];I()}L.splice(0,L.length)},w=p.length-1;w>=0;w--){var k=p[w],E=k._private;if(E.stopped){p.splice(w,1),E.hooked=!1,E.playing=!1,E.started=!1,y(E.frames);continue}!E.playing&&!E.applying||(E.playing&&E.applying&&(E.applying=!1),E.started||oat(h,k,t),sat(h,k,t,f),E.applying&&(E.applying=!1),y(E.frames),E.step!=null&&E.step(t),k.completed()&&(p.splice(w,1),E.hooked=!1,E.playing=!1,E.started=!1,y(E.completes)),m=!0)}return!f&&p.length===0&&v.length===0&&n.push(h),m}for(var a=!1,s=0;s<r.length;s++){var o=r[s],l=i(o);a=a||l}var u=i(e,!0);(a||u)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var lat={animate:fn.animate(),animation:fn.animation(),animated:fn.animated(),clearQueue:fn.clearQueue(),delay:fn.delay(),delayAnimation:fn.delayAnimation(),stop:fn.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&_S(function(a){sq(a,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(a,s){sq(s,e)},n.beforeRenderPriorities.animations):r()}},uat={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&Ob(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},H3=function(e){return hr(e)?new Wf(e):e},Vce={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new l6(uat,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,H3(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,H3(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,H3(r),n),this},once:function(e,r,n){return this.emitter().one(e,H3(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};fn.eventAliasesOn(Vce);var cD={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};cD.jpeg=cD.jpg;var Kw={layout:function(e){var r=this;if(e==null){bi("Layout options must be specified to make a layout");return}if(e.name==null){bi("A `name` must be specified to make a layout");return}var n=e.name,i=r.extension("layout",n);if(i==null){bi("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;hr(e.eles)?a=r.$(e.eles):a=e.eles!=null?e.eles:r.$();var s=new i(Er({},e,{cy:r,eles:a}));return s}};Kw.createLayout=Kw.makeLayout=Kw.layout;var cat={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var a=n[i],s=e[a],o=r.getElementById(a);o.data(s)}})}},hat=ja({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),hD={renderTo:function(e,r,n,i){var a=this._private.renderer;return a.renderTo(e,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){bi("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&gn("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=hat(e);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};hD.invalidateDimensions=hD.resize;var Qw={collection:function(e,r){return hr(e)?this.$(e):Bo(e)?e.collection():Rn(e)?(r||(r={}),new Va(this,e,r.unique,r.removed)):new Va(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Qw.elements=Qw.filter=Qw.$;var ms={},By="t",fat="f";ms.apply=function(t){for(var e=this,r=e._private,n=r.cy,i=n.collection(),a=0;a<t.length;a++){var s=t[a],o=e.getContextMeta(s);if(!o.empty){var l=e.getContextStyle(o),u=e.applyContextStyle(o,l,s);s._private.appliedInitStyle?e.updateTransitions(s,u.diffProps):s._private.appliedInitStyle=!0;var h=e.updateStyleHints(s);h&&i.push(s)}}return i};ms.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,a=n[i];if(a)return a;for(var s=[],o={},l=0;l<r.length;l++){var u=r[l],h=t[l]===By,f=e[l]===By,d=h!==f,p=u.mappedProperties.length>0;if(d||f&&p){var v=void 0;d&&p||d?v=u.properties:p&&(v=u.mappedProperties);for(var m=0;m<v.length;m++){for(var x=v[m],y=x.name,w=!1,k=l+1;k<r.length;k++){var E=r[k],C=e[k]===By;if(C&&(w=E.properties[x.name]!=null,w))break}!o[y]&&!w&&(o[y]=!0,s.push(y))}}}return n[i]=s,s};ms.getContextMeta=function(t){for(var e=this,r="",n,i=t._private.styleCxtKey||"",a=0;a<e.length;a++){var s=e[a],o=s.selector&&s.selector.matches(t);o?r+=By:r+=fat}return n=e.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};ms.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},a=0;a<r.length;a++){var s=r[a],o=e[a]===By;if(o)for(var l=0;l<s.properties.length;l++){var u=s.properties[l];i[u.name]=u}}return n[e]=i,i};ms.applyContextStyle=function(t,e,r){for(var n=this,i=t.diffPropNames,a={},s=n.types,o=0;o<i.length;o++){var l=i[o],u=e[l],h=r.pstyle(l);if(!u)if(h)h.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(h!==u){if(u.mapped===s.fn&&h!=null&&h.mapping!=null&&h.mapping.value===u.value){var f=h.mapping,d=f.fnValue=u.value(r);if(d===f.prevFnValue)continue}var p=a[l]={prev:h};n.applyParsedProperty(r,u),p.next=r.pstyle(l),p.next&&p.next.bypass&&(p.next=p.next.bypassed)}}return{diffProps:a}};ms.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=function(ae,pe,Ee){return r.getPropertiesHash(ae,pe,Ee)},s=e.styleKey;if(t.removed())return!1;var o=e.group==="nodes",l=t._private.style;n=Object.keys(l);for(var u=0;u<i.length;u++){var h=i[u];e.styleKeys[h]=[wg,hy]}for(var f=function(ae,pe){return e.styleKeys[pe][0]=W2(ae,e.styleKeys[pe][0])},d=function(ae,pe){return e.styleKeys[pe][1]=q2(ae,e.styleKeys[pe][1])},p=function(ae,pe){f(ae,pe),d(ae,pe)},v=function(ae,pe){for(var Ee=0;Ee<ae.length;Ee++){var Se=ae.charCodeAt(Ee);f(Se,pe),d(Se,pe)}},m=2e9,x=function(ae){return-128<ae&&ae<128&&Math.floor(ae)!==ae?m-(ae*1024|0):ae},y=0;y<n.length;y++){var w=n[y],k=l[w];if(k!=null){var E=this.properties[w],C=E.type,L=E.groupKey,_=void 0;E.hashOverride!=null?_=E.hashOverride(t,k):k.pfValue!=null&&(_=k.pfValue);var I=E.enums==null?k.value:null,M=_!=null,F=I!=null,N=M||F,z=k.units;if(C.number&&N&&!C.multiple){var V=M?_:I;p(x(V),L),!M&&z!=null&&v(z,L)}else v(k.strValue,L)}}for(var D=[wg,hy],O=0;O<i.length;O++){var P=i[O],$=e.styleKeys[P];D[0]=W2($[0],D[0]),D[1]=q2($[1],D[1])}e.styleKey=vet(D[0],D[1]);var B=e.styleKeys;e.labelDimsKey=Bh(B.labelDimensions);var H=a(t,["label"],B.labelDimensions);if(e.labelKey=Bh(H),e.labelStyleKey=Bh(M3(B.commonLabel,H)),!o){var X=a(t,["source-label"],B.labelDimensions);e.sourceLabelKey=Bh(X),e.sourceLabelStyleKey=Bh(M3(B.commonLabel,X));var q=a(t,["target-label"],B.labelDimensions);e.targetLabelKey=Bh(q),e.targetLabelStyleKey=Bh(M3(B.commonLabel,q))}if(o){var Y=e.styleKeys,U=Y.nodeBody,J=Y.nodeBorder,ce=Y.nodeOutline,re=Y.backgroundImage,ve=Y.compound,ye=Y.pie,Z=[U,J,ce,re,ve,ye].filter(function(ue){return ue!=null}).reduce(M3,[wg,hy]);e.nodeKey=Bh(Z),e.hasPie=ye!=null&&ye[0]!==wg&&ye[1]!==hy}return s!==e.styleKey};ms.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};ms.applyParsedProperty=function(t,e){var r=this,n=e,i=t._private.style,a,s=r.types,o=r.properties[n.name].type,l=n.bypass,u=i[n.name],h=u&&u.bypass,f=t._private,d="mapping",p=function(U){return U==null?null:U.pfValue!=null?U.pfValue:U.value},v=function(){var U=p(u),J=p(n);r.checkTriggers(t,n.name,U,J)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",l)),n.delete)return i[n.name]=void 0,v(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,v(),!0):!1:(v(),!0);if(n.deleteBypass)return u?u.bypass?(i[n.name]=u.bypassed,v(),!0):!1:(v(),!0);var m=function(){gn("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var x=n.field.split("."),y=f.data,w=0;w<x.length&&y;w++){var k=x[w];y=y[k]}if(y==null)return m(),!1;var E;if($t(y)){var C=n.fieldMax-n.fieldMin;C===0?E=0:E=(y-n.fieldMin)/C}else return gn("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+y+"` for `"+t.id()+"` is non-numeric)"),!1;if(E<0?E=0:E>1&&(E=1),o.color){var L=n.valueMin[0],_=n.valueMax[0],I=n.valueMin[1],M=n.valueMax[1],F=n.valueMin[2],N=n.valueMax[2],z=n.valueMin[3]==null?1:n.valueMin[3],V=n.valueMax[3]==null?1:n.valueMax[3],D=[Math.round(L+(_-L)*E),Math.round(I+(M-I)*E),Math.round(F+(N-F)*E),Math.round(z+(V-z)*E)];a={bypass:n.bypass,name:n.name,value:D,strValue:"rgb("+D[0]+", "+D[1]+", "+D[2]+")"}}else if(o.number){var O=n.valueMin+(n.valueMax-n.valueMin)*E;a=this.parse(n.name,O,n.bypass,d)}else return!1;if(!a)return m(),!1;a.mapping=n,n=a;break}case s.data:{for(var P=n.field.split("."),$=f.data,B=0;B<P.length&&$;B++){var H=P[B];$=$[H]}if($!=null&&(a=this.parse(n.name,$,n.bypass,d)),!a)return m(),!1;a.mapping=n,n=a;break}case s.fn:{var X=n.value,q=n.fnValue!=null?n.fnValue:X(t);if(n.prevFnValue=q,q==null)return gn("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(a=this.parse(n.name,q,n.bypass,d),!a)return gn("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;a.mapping=zu(n),n=a;break}case void 0:break;default:return!1}return l?(h?n.bypassed=u.bypassed:n.bypassed=u,i[n.name]=n):h?u.bypassed=n:i[n.name]=n,v(),!0};ms.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),s=0;s<a.length;s++){var o=a[s],l=i[o];l!=null&&(l.bypass?l.bypassed=null:i[o]=null)}}};ms.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};ms.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,a=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var o={},l=!1,u=0;u<i.length;u++){var h=i[u],f=t.pstyle(h),d=e[h];if(d){var p=d.prev,v=p,m=d.next!=null?d.next:f,x=!1,y=void 0,w=1e-6;v&&($t(v.pfValue)&&$t(m.pfValue)?(x=m.pfValue-v.pfValue,y=v.pfValue+w*x):$t(v.value)&&$t(m.value)?(x=m.value-v.value,y=v.value+w*x):Rn(v.value)&&Rn(m.value)&&(x=v.value[0]!==m.value[0]||v.value[1]!==m.value[1]||v.value[2]!==m.value[2],y=v.strValue),x&&(o[h]=m.strValue,this.applyBypass(t,h,y),l=!0))}}if(!l)return;n.transitioning=!0,new xv(function(k){s>0?t.delayAnimation(s).play().promise().then(k):k()}).then(function(){return t.animation({style:o,duration:a,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)};ms.checkTrigger=function(t,e,r,n,i,a){var s=this.properties[e],o=i(s);o!=null&&o(r,n)&&a(s)};ms.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};ms.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(r==="bezier"||n==="bezier")&&t.parallelEdges().forEach(function(a){a.isBundledBezier()&&a.dirtyBoundingBoxCache()}),i.triggersBoundsOfConnectedEdges&&e==="display"&&(r==="none"||n==="none")&&t.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};ms.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var $b={};$b.applyBypass=function(t,e,r,n){var i=this,a=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var o=0;o<i.properties.length;o++){var l=i.properties[o],u=l.name,h=this.parse(u,r,!0);h&&a.push(h)}}else if(hr(e)){var f=this.parse(e,r,!0);f&&a.push(f)}else if(Jr(e)){var d=e;n=r;for(var p=Object.keys(d),v=0;v<p.length;v++){var m=p[v],x=d[m];if(x===void 0&&(x=d[ZT(m)]),x!==void 0){var y=this.parse(m,x,!0);y&&a.push(y)}}}else return!1;if(a.length===0)return!1;for(var w=!1,k=0;k<t.length;k++){for(var E=t[k],C={},L=void 0,_=0;_<a.length;_++){var I=a[_];if(n){var M=E.pstyle(I.name);L=C[I.name]={prev:M}}w=this.applyParsedProperty(E,zu(I))||w,n&&(L.next=E.pstyle(I.name))}w&&this.updateStyleHints(E),n&&this.updateTransitions(E,C,s)}return w};$b.overrideBypass=function(t,e,r){e=rO(e);for(var n=0;n<t.length;n++){var i=t[n],a=i._private.style[e],s=this.properties[e].type,o=s.color,l=s.mutiple,u=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,e,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),o?a.strValue="rgb("+r.join(",")+")":l?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,e,u,r)}};$b.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};$b.removeBypasses=function(t,e,r){for(var n=!0,i=0;i<t.length;i++){for(var a=t[i],s={},o=0;o<e.length;o++){var l=e[o],u=this.properties[l],h=a.pstyle(u.name);if(!(!h||!h.bypass)){var f="",d=this.parse(l,f,!0),p=s[u.name]={prev:h};this.applyParsedProperty(a,d),p.next=a.pstyle(u.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,s,n)}};var vO={};vO.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};vO.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var Ku={};Ku.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Ku.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],s=r.getStylePropertyValue(t,a.name,e);s!=null&&(n[a.name]=s,n[ZT(a.name)]=s)}return n}};Ku.getIndexedStyle=function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]};Ku.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var i=n.properties[e];i.alias&&(i=i.pointsTo);var a=i.type,s=t.pstyle(i.name);if(s){var o=s.value,l=s.units,u=s.strValue;if(r&&a.number&&o!=null&&$t(o)){var h=t.cy().zoom(),f=function(x){return x*h},d=function(x,y){return f(x)+y},p=Rn(o),v=p?l.every(function(m){return m!=null}):l!=null;return v?p?o.map(function(m,x){return d(m,l[x])}).join(" "):d(o,l):p?o.map(function(m){return hr(m)?m:""+f(m)}).join(" "):""+f(o)}else if(u!=null)return u}return null}};Ku.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=i.name,s=t.pstyle(a);s!==void 0&&(Jr(s)?s=this.parse(a,s.strValue):s=this.parse(a,s)),s&&(r[a]=s)}return r};Ku.getPropsList=function(t){var e=this,r=[],n=t,i=e.properties;if(n)for(var a=Object.keys(n),s=0;s<a.length;s++){var o=a[s],l=n[o],u=i[o]||i[rO(o)],h=this.parse(u.name,l);h&&r.push(h)}return r};Ku.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),i,a,s,o,l,u;for(l=0;l<e.length;l++)if(i=e[l],a=t.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=W2(o,n[0]),n[1]=q2(o,n[1]);else for(s=a.strValue,u=0;u<s.length;u++)o=s.charCodeAt(u),n[0]=W2(o,n[0]),n[1]=q2(o,n[1]);return n};Ku.getPropertiesHash=Ku.getNonDefaultPropertiesHash;var h6={};h6.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,a=n.style||n.css,s=Object.keys(a);e.selector(i);for(var o=0;o<s.length;o++){var l=s[o],u=a[l];e.css(l,u)}}return e};h6.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};h6.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,a={},s=0;s<i.length;s++){var o=i[s];a[o.name]=o.strValue}t.push({selector:n?n.toString():"core",style:a})}return t};var mO={};mO.appendFromString=function(t){var e=this,r=this,n=""+t,i,a,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){n.length>i.length?n=n.substr(i.length):n=""}function l(){a.length>s.length?a=a.substr(s.length):a=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var h=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!h){gn("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=h[0];var f=h[1];if(f!=="core"){var d=new Wf(f);if(d.invalid){gn("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),o();continue}}var p=h[2],v=!1;a=p;for(var m=[];;){var x=a.match(/^\s*$/);if(x)break;var y=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!y){gn("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),v=!0;break}s=y[0];var w=y[1],k=y[2],E=e.properties[w];if(!E){gn("Skipping property: Invalid property name in: "+s),l();continue}var C=r.parse(w,k);if(!C){gn("Skipping property: Invalid property definition in: "+s),l();continue}m.push({name:w,val:k}),l()}if(v){o();break}r.selector(f);for(var L=0;L<m.length;L++){var _=m[L];r.css(_.name,_.val)}o()}return r};mO.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Oa={};(function(){var t=ra,e=yJe,r=bJe,n=wJe,i=kJe,a=function(Z){return"^"+Z+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(Z){var ue=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+i;return"^"+Z+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+ue+")\\s*\\,\\s*("+ue+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Oa.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Z,ue){switch(Z.length){case 2:return ue[0]!=="deg"&&ue[0]!=="rad"&&ue[1]!=="deg"&&ue[1]!=="rad";case 1:return hr(Z[0])||ue[0]==="deg"||ue[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Z){var ue=Z.length;return ue===1||ue===2||ue===4}}};var l={zeroNonZero:function(Z,ue){return(Z==null||ue==null)&&Z!==ue||Z==0&&ue!=0?!0:Z!=0&&ue==0},any:function(Z,ue){return Z!=ue},emptyNonEmpty:function(Z,ue){var ae=Uf(Z),pe=Uf(ue);return ae&&!pe||!ae&&pe}},u=Oa.types,h=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],f=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],d=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],p=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],v=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification}],m=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any}],x=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],y=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],w=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],k=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],E=function(Z,ue){return ue.value==="label"?-Z.poolIndex():ue.pfValue},C=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:E},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:E},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],L=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],_=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],I=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],M=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],F=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],N=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],z=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],V=[];Oa.pieBackgroundN=16,V.push({name:"pie-size",type:u.sizeMaybePercent});for(var D=1;D<=Oa.pieBackgroundN;D++)V.push({name:"pie-"+D+"-background-color",type:u.color}),V.push({name:"pie-"+D+"-background-size",type:u.percent}),V.push({name:"pie-"+D+"-background-opacity",type:u.zeroOneNumber});var O=[],P=Oa.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(ye){P.forEach(function(Z){var ue=Z+"-"+ye.name,ae=ye.type,pe=ye.triggersBounds;O.push({name:ue,type:ae,triggersBounds:pe})})},{});var $=Oa.properties=[].concat(m,k,x,y,w,N,v,p,h,f,d,C,L,_,I,V,M,F,O,z),B=Oa.propertyGroups={behavior:m,transition:k,visibility:x,overlay:y,underlay:w,ghost:N,commonLabel:v,labelDimensions:p,mainLabel:h,sourceLabel:f,targetLabel:d,nodeBody:C,nodeBorder:L,nodeOutline:_,backgroundImage:I,pie:V,compound:M,edgeLine:F,edgeArrow:O,core:z},H=Oa.propertyGroupNames={},X=Oa.propertyGroupKeys=Object.keys(B);X.forEach(function(ye){H[ye]=B[ye].map(function(Z){return Z.name}),B[ye].forEach(function(Z){return Z.groupKey=ye})});var q=Oa.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Oa.propertyNames=$.map(function(ye){return ye.name});for(var Y=0;Y<$.length;Y++){var U=$[Y];$[U.name]=U}for(var J=0;J<q.length;J++){var ce=q[J],re=$[ce.pointsTo],ve={name:ce.name,alias:!0,pointsTo:re};$.push(ve),$[ce.name]=ve}})();Oa.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Oa.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Er({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var h=1;h<=Oa.pieBackgroundN;h++){var f=u.name.replace("{{i}}",h),d=u.value;l[f]=d}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return Oa.arrowPrefixes.forEach(function(h){var f=h+"-"+u.name,d=u.value;l[f]=d}),l},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,s=e[a],o=this.parse(a,s);r[a]=o}}return t.defaultProperties=r,t.defaultProperties};Oa.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var f6={};f6.parse=function(t,e,r,n){var i=this;if(ci(e))return i.parseImplWarn(t,e,r,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",o=""+e,l=Que(t,o,s,a),u=i.propCache=i.propCache||[],h;return(h=u[l])||(h=u[l]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(h=zu(h),h&&(h.value=zu(h.value))),h};f6.parseImplWarn=function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return!i&&e!=null&&gn("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&gn("The style value of `label` is deprecated for `"+i.name+"`"),i};f6.parseImpl=function(t,e,r,n){var i=this;t=rO(t);var a=i.properties[t],s=e,o=i.types;if(!a||e===void 0)return null;a.alias&&(a=a.pointsTo,t=a.name);var l=hr(e);l&&(e=e.trim());var u=a.type;if(!u)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(ci(e))return{name:t,value:e,strValue:"fn",mapped:o.fn,bypass:r};var h,f;if(!(!l||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(h=new RegExp(o.data.regex).exec(e))){if(r)return!1;var d=o.data;return{name:t,value:h,strValue:""+e,mapped:d,field:h[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(f=new RegExp(o.mapData.regex).exec(e))){if(r||u.multiple)return!1;var p=o.mapData;if(!(u.color||u.number))return!1;var v=this.parse(t,f[4]);if(!v||v.mapped)return!1;var m=this.parse(t,f[5]);if(!m||m.mapped)return!1;if(v.pfValue===m.pfValue||v.strValue===m.strValue)return gn("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+v.strValue+"`"),this.parse(t,v.strValue);if(u.color){var x=v.value,y=m.value,w=x[0]===y[0]&&x[1]===y[1]&&x[2]===y[2]&&(x[3]===y[3]||(x[3]==null||x[3]===1)&&(y[3]==null||y[3]===1));if(w)return!1}return{name:t,value:f,strValue:""+e,mapped:p,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:v.value,valueMax:m.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var k;if(l?k=e.split(/\s+/):Rn(e)?k=e:k=[e],u.evenMultiple&&k.length%2!==0)return null;for(var E=[],C=[],L=[],_="",I=!1,M=0;M<k.length;M++){var F=i.parse(t,k[M],r,"multiple");I=I||hr(F.value),E.push(F.value),L.push(F.pfValue!=null?F.pfValue:F.value),C.push(F.units),_+=(M>0?" ":"")+F.strValue}return u.validate&&!u.validate(E,C)?null:u.singleEnum&&I?E.length===1&&hr(E[0])?{name:t,value:E[0],strValue:E[0],bypass:r}:null:{name:t,value:E,pfValue:L,strValue:_,bypass:r,units:C}}var N=function(){for(var Z=0;Z<u.enums.length;Z++){var ue=u.enums[Z];if(ue===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(u.number){var z,V="px";if(u.units&&(z=u.units),u.implicitUnits&&(V=u.implicitUnits),!u.unitless)if(l){var D="px|em"+(u.allowPercent?"|\\%":"");z&&(D=z);var O=e.match("^("+ra+")("+D+")?$");O&&(e=O[1],z=O[2]||V)}else(!z||u.implicitUnits)&&(z=V);if(e=parseFloat(e),isNaN(e)&&u.enums===void 0)return null;if(isNaN(e)&&u.enums!==void 0)return e=s,N();if(u.integer&&!hJe(e)||u.min!==void 0&&(e<u.min||u.strictMin&&e===u.min)||u.max!==void 0&&(e>u.max||u.strictMax&&e===u.max))return null;var P={name:t,value:e,strValue:""+e+(z||""),units:z,bypass:r};return u.unitless||z!=="px"&&z!=="em"?P.pfValue=e:P.pfValue=z==="px"||!z?e:this.getEmSizeInPixels()*e,(z==="ms"||z==="s")&&(P.pfValue=z==="ms"?e:1e3*e),(z==="deg"||z==="rad")&&(P.pfValue=z==="rad"?e:Yet(e)),z==="%"&&(P.pfValue=e/100),P}else if(u.propList){var $=[],B=""+e;if(B!=="none"){for(var H=B.split(/\s*,\s*|\s+/),X=0;X<H.length;X++){var q=H[X].trim();i.properties[q]?$.push(q):gn("`"+q+"` is not a valid property name")}if($.length===0)return null}return{name:t,value:$,strValue:$.length===0?"none":$.join(" "),bypass:r}}else if(u.color){var Y=_Je(e);return Y?{name:t,value:Y,pfValue:Y,strValue:"rgb("+Y[0]+","+Y[1]+","+Y[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var U=N();if(U)return U}for(var J=u.regexes?u.regexes:[u.regex],ce=0;ce<J.length;ce++){var re=new RegExp(J[ce]),ve=re.exec(e);if(ve)return{name:t,value:u.singleRegexMatchValue?ve[1]:ve,strValue:""+e,bypass:r}}return null}else return u.string?{name:t,value:""+e,strValue:""+e,bypass:r}:u.enums?N():null};var fs=function t(e){if(!(this instanceof t))return new t(e);if(!tO(e)){bi("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},gs=fs.prototype;gs.instanceString=function(){return"style"};gs.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};gs.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};gs.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};gs.selector=function(t){var e=t==="core"?null:new Wf(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};gs.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],a=r[i.name];a===void 0&&(a=r[ZT(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else e.length===2&&this.cssRule(e[0],e[1]);return this};gs.style=gs.css;gs.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};gs.append=function(t){return Hue(t)?t.appendToStyle(this):Rn(t)?this.appendFromJson(t):hr(t)&&this.appendFromString(t),this};fs.fromJson=function(t,e){var r=new fs(t);return r.fromJson(e),r};fs.fromString=function(t,e){return new fs(t).fromString(e)};[ms,$b,vO,Ku,h6,mO,Oa,f6].forEach(function(t){Er(gs,t)});fs.types=gs.types;fs.properties=gs.properties;fs.propertyGroups=gs.propertyGroups;fs.propertyGroupNames=gs.propertyGroupNames;fs.propertyGroupKeys=gs.propertyGroupKeys;var dat={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return Hue(e)?r.style=e.generateStyle(this):Rn(e)?r.style=fs.fromJson(this,e):hr(e)?r.style=fs.fromString(this,e):r.style=fs(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},pat="single",W0={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=pat),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,i,a,s,o;switch(e.length){case 0:return r;case 1:if(hr(e[0]))return n=e[0],r[n];if(Jr(e[0])){if(!this._private.panningEnabled)return this;a=e[0],s=a.x,o=a.y,$t(s)&&(r.x=s),$t(o)&&(r.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&$t(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,i=this._private.pan,a,s,o,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Jr(e)&&(o=n[0],l=o.x,u=o.y,$t(l)&&(i.x+=l),$t(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:a=e,s=r,(a==="x"||a==="y")&&$t(s)&&(i[a]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if($t(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(hr(e)){var i=e;e=this.$(i)}else if(pJe(e)){var a=e;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Bo(e)||(e=this.mutableElements());if(!(Bo(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),o=this.height(),l;if(r=$t(r)?r:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((s-2*r)/n.w,(o-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(s-l*(n.x1+n.x2))/2,y:(o-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var i=e;e=i.min,r=i.max}return $t(e)&&$t(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):$t(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:$t(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,i=r.zoom,a,s,o=!1;if(r.zoomingEnabled||(o=!0),$t(e)?s=e:Jr(e)&&(s=e.level,e.position!=null?a=r6(e.position,i,n):e.renderedPosition!=null&&(a=e.renderedPosition),a!=null&&!r.panningEnabled&&(o=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,o||!$t(s)||s===i||a!=null&&(!$t(a.x)||!$t(a.y)))return null;if(a!=null){var l=n,u=i,h=s,f={x:-h/u*(a.x-l.x)+a.x,y:-h/u*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:h,pan:f}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,i=!0,a=[],s=!1,o=!1;if(!e)return this;if($t(e.zoom)||(n=!1),Jr(e.pan)||(i=!1),!n&&!i)return this;if(n){var l=e.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=l,a.push("zoom"))}if(i&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var u=e.pan;$t(u.x)&&(r.pan.x=u.x,o=!1),$t(u.y)&&(r.pan.y=u.y,o=!1),o||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(hr(e)){var n=e;e=this.mutableElements().filter(n)}else Bo(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),a=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var o={x:(a-r*(i.x1+i.x2))/2,y:(s-r*(i.y1+i.y2))/2};return o}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var i=n.window().getComputedStyle(r),a=function(o){return parseFloat(i.getPropertyValue(o))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};W0.centre=W0.center;W0.autolockNodes=W0.autolock;W0.autoungrabifyNodes=W0.autoungrabify;var J2={data:fn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:fn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:fn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:fn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};J2.attr=J2.data;J2.removeAttr=J2.removeData;var ex=function(e){var r=this;e=Er({},e);var n=e.container;n&&!AS(n)&&AS(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var s=Xi!==void 0&&n!==void 0&&!e.headless,o=e;o.layout=Er({name:s?"grid":"null"},o.layout),o.renderer=Er({name:s?"canvas":"null"},o.renderer);var l=function(v,m,x){return m!==void 0?m:x!==void 0?x:v},u=this._private={container:n,ready:!1,options:o,elements:new Va(this),listeners:[],aniEles:new Va(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,o.zoomingEnabled),userZoomingEnabled:l(!0,o.userZoomingEnabled),panningEnabled:l(!0,o.panningEnabled),userPanningEnabled:l(!0,o.userPanningEnabled),boxSelectionEnabled:l(!0,o.boxSelectionEnabled),autolock:l(!1,o.autolock,o.autolockNodes),autoungrabify:l(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:l(!1,o.autounselectify),styleEnabled:o.styleEnabled===void 0?s:o.styleEnabled,zoom:$t(o.zoom)?o.zoom:1,pan:{x:Jr(o.pan)&&$t(o.pan.x)?o.pan.x:0,y:Jr(o.pan)&&$t(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});var h=function(v,m){var x=v.some(gJe);if(x)return xv.all(v).then(m);m(v)};u.styleEnabled&&r.setStyle([]);var f=Er({},o,o.renderer);r.initRenderer(f);var d=function(v,m,x){r.notifications(!1);var y=r.mutableElements();y.length>0&&y.remove(),v!=null&&(Jr(v)||Rn(v))&&r.add(v),r.one("layoutready",function(k){r.notifications(!0),r.emit(k),r.one("load",m),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",x),r.emit("done")});var w=Er({},r._private.options.layout);w.eles=r.elements(),r.layout(w).run()};h([o.style,o.elements],function(p){var v=p[0],m=p[1];u.styleEnabled&&r.style().append(v),d(m,function(){r.startAnimationLoop(),u.ready=!0,ci(o.ready)&&r.on("ready",o.ready);for(var x=0;x<a.length;x++){var y=a[x];r.on("ready",y)}i&&(i.readies=[]),r.emit("ready")},o.done)})},IS=ex.prototype;Er(IS,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Xi;var r=this._private.container.ownerDocument;return r===void 0||r==null?Xi:r.defaultView||Xi},mount:function(e){if(e!=null){var r=this,n=r._private,i=n.options;return!AS(e)&&AS(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Er({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return zu(this._private.options)},json:function(e){var r=this,n=r._private,i=r.mutableElements(),a=function(E){return r.getElementById(E.id())};if(Jr(e)){if(r.startBatch(),e.elements){var s={},o=function(E,C){for(var L=[],_=[],I=0;I<E.length;I++){var M=E[I];if(!M.data.id){gn("cy.json() cannot handle elements without an ID attribute");continue}var F=""+M.data.id,N=r.getElementById(F);s[F]=!0,N.length!==0?_.push({ele:N,json:M}):(C&&(M.group=C),L.push(M))}r.add(L);for(var z=0;z<_.length;z++){var V=_[z],D=V.ele,O=V.json;D.json(O)}};if(Rn(e.elements))o(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var h=l[u],f=e.elements[h];Rn(f)&&o(f,h)}var d=r.collection();i.filter(function(k){return!s[k.id()]}).forEach(function(k){k.isParent()?d.merge(k):k.remove()}),d.forEach(function(k){return k.children().move({parent:null})}),d.forEach(function(k){return a(k).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var p=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],v=0;v<p.length;v++){var m=p[v];e[m]!=null&&r[m](e[m])}return r.endBatch(),this}else{var x=!!e,y={};x?y.elements=this.elements().map(function(k){return k.json()}):(y.elements={},i.forEach(function(k){var E=k.group();y.elements[E]||(y.elements[E]=[]),y.elements[E].push(k.json())})),this._private.styleEnabled&&(y.style=r.style().json()),y.data=zu(r.data());var w=n.options;return y.zoomingEnabled=n.zoomingEnabled,y.userZoomingEnabled=n.userZoomingEnabled,y.zoom=n.zoom,y.minZoom=n.minZoom,y.maxZoom=n.maxZoom,y.panningEnabled=n.panningEnabled,y.userPanningEnabled=n.userPanningEnabled,y.pan=zu(n.pan),y.boxSelectionEnabled=n.boxSelectionEnabled,y.renderer=zu(w.renderer),y.hideEdgesOnViewport=w.hideEdgesOnViewport,y.textureOnViewport=w.textureOnViewport,y.wheelSensitivity=w.wheelSensitivity,y.motionBlur=w.motionBlur,y.multiClickDebounceTime=w.multiClickDebounceTime,y}}});IS.$id=IS.getElementById;[nat,lat,Vce,cD,Kw,cat,hD,Qw,dat,W0,J2].forEach(function(t){Er(IS,t)});var gat={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},vat={maximal:!1,acyclic:!1},Kp=function(e){return e.scratch("breadthfirst")},oq=function(e,r){return e.scratch("breadthfirst",r)};function Uce(t){this.options=Er({},gat,vat,t)}Uce.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().filter(function(Se){return!Se.isParent()}),a=n,s=e.directed,o=e.acyclic||e.maximal||e.maximalAdjustments>0,l=mo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u;if(Bo(e.roots))u=e.roots;else if(Rn(e.roots)){for(var h=[],f=0;f<e.roots.length;f++){var d=e.roots[f],p=r.getElementById(d);h.push(p)}u=r.collection(h)}else if(hr(e.roots))u=r.$(e.roots);else if(s)u=i.roots();else{var v=n.components();u=r.collection();for(var m=function(de){var be=v[de],oe=be.maxDegree(!1),we=be.filter(function(Re){return Re.degree(!1)===oe});u=u.add(we)},x=0;x<v.length;x++)m(x)}var y=[],w={},k=function(de,be){y[be]==null&&(y[be]=[]);var oe=y[be].length;y[be].push(de),oq(de,{index:oe,depth:be})},E=function(de,be){var oe=Kp(de),we=oe.depth,Re=oe.index;y[we][Re]=null,k(de,be)};a.bfs({roots:u,directed:e.directed,visit:function(de,be,oe,we,Re){var Pe=de[0],Ge=Pe.id();k(Pe,Re),w[Ge]=!0}});for(var C=[],L=0;L<i.length;L++){var _=i[L];w[_.id()]||C.push(_)}var I=function(de){for(var be=y[de],oe=0;oe<be.length;oe++){var we=be[oe];if(we==null){be.splice(oe,1),oe--;continue}oq(we,{depth:de,index:oe})}},M=function(){for(var de=0;de<y.length;de++)I(de)},F=function(de,be){for(var oe=Kp(de),we=de.incomers().filter(function(Te){return Te.isNode()&&n.has(Te)}),Re=-1,Pe=de.id(),Ge=0;Ge<we.length;Ge++){var je=we[Ge],We=Kp(je);Re=Math.max(Re,We.depth)}if(oe.depth<=Re){if(!e.acyclic&&be[Pe])return null;var me=Re+1;return E(de,me),be[Pe]=me,!0}return!1};if(s&&o){var N=[],z={},V=function(de){return N.push(de)},D=function(){return N.shift()};for(i.forEach(function(Se){return N.push(Se)});N.length>0;){var O=D(),P=F(O,z);if(P)O.outgoers().filter(function(Se){return Se.isNode()&&n.has(Se)}).forEach(V);else if(P===null){gn("Detected double maximal shift for node `"+O.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}M();var $=0;if(e.avoidOverlap)for(var B=0;B<i.length;B++){var H=i[B],X=H.layoutDimensions(e),q=X.w,Y=X.h;$=Math.max($,q,Y)}var U={},J=function(de){if(U[de.id()])return U[de.id()];for(var be=Kp(de).depth,oe=de.neighborhood(),we=0,Re=0,Pe=0;Pe<oe.length;Pe++){var Ge=oe[Pe];if(!(Ge.isEdge()||Ge.isParent()||!i.has(Ge))){var je=Kp(Ge);if(je!=null){var We=je.index,me=je.depth;if(!(We==null||me==null)){var Te=y[me].length;me<be&&(we+=We/Te,Re++)}}}}return Re=Math.max(1,Re),we=we/Re,Re===0&&(we=0),U[de.id()]=we,we},ce=function(de,be){var oe=J(de),we=J(be),Re=oe-we;return Re===0?Uue(de.id(),be.id()):Re};e.depthSort!==void 0&&(ce=e.depthSort);for(var re=0;re<y.length;re++)y[re].sort(ce),I(re);for(var ve=[],ye=0;ye<C.length;ye++)ve.push(C[ye]);y.unshift(ve),M();for(var Z=0,ue=0;ue<y.length;ue++)Z=Math.max(y[ue].length,Z);var ae={x:l.x1+l.w/2,y:l.x1+l.h/2},pe=y.reduce(function(Se,de){return Math.max(Se,de.length)},0),Ee=function(de){var be=Kp(de),oe=be.depth,we=be.index,Re=y[oe].length,Pe=Math.max(l.w/((e.grid?pe:Re)+1),$),Ge=Math.max(l.h/(y.length+1),$),je=Math.min(l.w/2/y.length,l.h/2/y.length);if(je=Math.max(je,$),e.circle){var me=je*oe+je-(y.length>0&&y[0].length<=3?je/2:0),Te=2*Math.PI/y[oe].length*we;return oe===0&&y[0].length===1&&(me=1),{x:ae.x+me*Math.cos(Te),y:ae.y+me*Math.sin(Te)}}else{var We={x:ae.x+(we+1-(Re+1)/2)*Pe,y:(oe+1)*Ge};return We}};return n.nodes().layoutPositions(this,e,Ee),this};var mat={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Gce(t){this.options=Er({},mat,t)}Gce.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));for(var s=mo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/a.length:e.sweep,u=l/Math.max(1,a.length-1),h,f=0,d=0;d<a.length;d++){var p=a[d],v=p.layoutDimensions(e),m=v.w,x=v.h;f=Math.max(f,m,x)}if($t(e.radius)?h=e.radius:a.length<=1?h=0:h=Math.min(s.h,s.w)/2-f,a.length>1&&e.avoidOverlap){f*=1.75;var y=Math.cos(u)-Math.cos(0),w=Math.sin(u)-Math.sin(0),k=Math.sqrt(f*f/(y*y+w*w));h=Math.max(k,h)}var E=function(L,_){var I=e.startAngle+_*u*(i?1:-1),M=h*Math.cos(I),F=h*Math.sin(I),N={x:o.x+M,y:o.y+F};return N};return n.nodes().layoutPositions(this,e,E),this};var yat={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Wce(t){this.options=Er({},yat,t)}Wce.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,a=i.nodes().not(":parent"),s=mo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=[],u=0,h=0;h<a.length;h++){var f=a[h],d=void 0;d=e.concentric(f),l.push({value:d,node:f}),f._private.scratch.concentric=d}a.updateStyle();for(var p=0;p<a.length;p++){var v=a[p],m=v.layoutDimensions(e);u=Math.max(u,m.w,m.h)}l.sort(function(Se,de){return de.value-Se.value});for(var x=e.levelWidth(a),y=[[]],w=y[0],k=0;k<l.length;k++){var E=l[k];if(w.length>0){var C=Math.abs(w[0].value-E.value);C>=x&&(w=[],y.push(w))}w.push(E)}var L=u+e.minNodeSpacing;if(!e.avoidOverlap){var _=y.length>0&&y[0].length>1,I=Math.min(s.w,s.h)/2-L,M=I/(y.length+_?1:0);L=Math.min(L,M)}for(var F=0,N=0;N<y.length;N++){var z=y[N],V=e.sweep===void 0?2*Math.PI-2*Math.PI/z.length:e.sweep,D=z.dTheta=V/Math.max(1,z.length-1);if(z.length>1&&e.avoidOverlap){var O=Math.cos(D)-Math.cos(0),P=Math.sin(D)-Math.sin(0),$=Math.sqrt(L*L/(O*O+P*P));F=Math.max($,F)}z.r=F,F+=L}if(e.equidistant){for(var B=0,H=0,X=0;X<y.length;X++){var q=y[X],Y=q.r-H;B=Math.max(B,Y)}H=0;for(var U=0;U<y.length;U++){var J=y[U];U===0&&(H=J.r),J.r=H,H+=B}}for(var ce={},re=0;re<y.length;re++)for(var ve=y[re],ye=ve.dTheta,Z=ve.r,ue=0;ue<ve.length;ue++){var ae=ve[ue],pe=e.startAngle+(r?1:-1)*ye*ue,Ee={x:o.x+Z*Math.cos(pe),y:o.y+Z*Math.sin(pe)};ce[ae.node.id()]=Ee}return i.nodes().layoutPositions(this,e,function(Se){var de=Se.id();return ce[de]}),this};var oA,xat={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function d6(t){this.options=Er({},xat,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var a=i.source().data("id"),s=i.target().data("id"),o=e.some(function(u){return u.data("id")===a}),l=e.some(function(u){return u.data("id")===s});return!o||!l});this.options.eles=this.options.eles.not(n)}d6.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?oA=!0:oA=!1;var n=bat(e,r,t);oA&&Sat(n),t.randomize&&Eat(n);var i=uh(),a=function(){Tat(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(d){return!(r.stopped||d>=t.numIter||(Cat(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},o=function(){if(t.animate===!0||t.animate===!1)a(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var d=t.eles.nodes(),p=qce(n,t,d);d.layoutPositions(r,t,p)}},l=0,u=!0;if(t.animate===!0){var h=function f(){for(var d=0;u&&d<t.refresh;)u=s(l),l++,d++;if(!u)uq(n,t),o();else{var p=uh();p-i>=t.animationThreshold&&a(),_S(f)}};h()}else{for(;u;)u=s(l),l++;uq(n,t),o()}return this};d6.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};d6.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var bat=function(e,r,n){for(var i=n.eles.edges(),a=n.eles.nodes(),s=mo(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},l=n.eles.components(),u={},h=0;h<l.length;h++)for(var f=l[h],d=0;d<f.length;d++){var p=f[d];u[p.id()]=h}for(var h=0;h<o.nodeSize;h++){var v=a[h],m=v.layoutDimensions(n),x={};x.isLocked=v.locked(),x.id=v.data("id"),x.parentId=v.data("parent"),x.cmptId=u[v.id()],x.children=[],x.positionX=v.position("x"),x.positionY=v.position("y"),x.offsetX=0,x.offsetY=0,x.height=m.w,x.width=m.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(v.style("padding")),x.padRight=parseFloat(v.style("padding")),x.padTop=parseFloat(v.style("padding")),x.padBottom=parseFloat(v.style("padding")),x.nodeRepulsion=ci(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,o.layoutNodes.push(x),o.idToIndex[x.id]=h}for(var y=[],w=0,k=-1,E=[],h=0;h<o.nodeSize;h++){var v=o.layoutNodes[h],C=v.parentId;C!=null?o.layoutNodes[o.idToIndex[C]].children.push(v.id):(y[++k]=v.id,E.push(v.id))}for(o.graphSet.push(E);w<=k;){var L=y[w++],_=o.idToIndex[L],p=o.layoutNodes[_],I=p.children;if(I.length>0){o.graphSet.push(I);for(var h=0;h<I.length;h++)y[++k]=I[h]}}for(var h=0;h<o.graphSet.length;h++)for(var M=o.graphSet[h],d=0;d<M.length;d++){var F=o.idToIndex[M[d]];o.indexToGraph[F]=h}for(var h=0;h<o.edgeSize;h++){var N=i[h],z={};z.id=N.data("id"),z.sourceId=N.data("source"),z.targetId=N.data("target");var V=ci(n.idealEdgeLength)?n.idealEdgeLength(N):n.idealEdgeLength,D=ci(n.edgeElasticity)?n.edgeElasticity(N):n.edgeElasticity,O=o.idToIndex[z.sourceId],P=o.idToIndex[z.targetId],$=o.indexToGraph[O],B=o.indexToGraph[P];if($!=B){for(var H=wat(z.sourceId,z.targetId,o),X=o.graphSet[H],q=0,x=o.layoutNodes[O];X.indexOf(x.id)===-1;)x=o.layoutNodes[o.idToIndex[x.parentId]],q++;for(x=o.layoutNodes[P];X.indexOf(x.id)===-1;)x=o.layoutNodes[o.idToIndex[x.parentId]],q++;V*=q*n.nestingFactor}z.idealLength=V,z.elasticity=D,o.layoutEdges.push(z)}return o},wat=function(e,r,n){var i=kat(e,r,0,n);return 2>i.count?0:i.graph},kat=function t(e,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(e)&&-1<a.indexOf(r))return{count:2,graph:n};for(var s=0,o=0;o<a.length;o++){var l=a[o],u=i.idToIndex[l],h=i.layoutNodes[u].children;if(h.length!==0){var f=i.indexToGraph[i.idToIndex[h[0]]],d=t(e,r,f,i);if(d.count!==0)if(d.count===1){if(s++,s===2)break}else return d}}return{count:s,graph:n}},Sat,Eat=function(e,r){for(var n=e.clientWidth,i=e.clientHeight,a=0;a<e.nodeSize;a++){var s=e.layoutNodes[a];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*i)}},qce=function(e,r,n){var i=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var o=e.layoutNodes[e.idToIndex[s.data("id")]];a.x1=Math.min(a.x1,o.positionX),a.x2=Math.max(a.x2,o.positionX),a.y1=Math.min(a.y1,o.positionY),a.y2=Math.max(a.y2,o.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(s,o){var l=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var u=(l.positionX-a.x1)/a.w,h=(l.positionY-a.y1)/a.h;return{x:i.x1+u*i.w,y:i.y1+h*i.h}}else return{x:l.positionX,y:l.positionY}}},Tat=function(e,r,n){var i=n.layout,a=n.eles.nodes(),s=qce(e,n,a);a.positions(s),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},Cat=function(e,r,n){Aat(e,r),Dat(e),Rat(e,r),Mat(e),Nat(e)},Aat=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],a=i.length,s=0;s<a;s++)for(var o=e.layoutNodes[e.idToIndex[i[s]]],l=s+1;l<a;l++){var u=e.layoutNodes[e.idToIndex[i[l]]];_at(o,u,e,r)}},lq=function(e){return-e+2*e*Math.random()},_at=function(e,r,n,i){var a=e.cmptId,s=r.cmptId;if(!(a!==s&&!n.isCompound)){var o=r.positionX-e.positionX,l=r.positionY-e.positionY,u=1;o===0&&l===0&&(o=lq(u),l=lq(u));var h=Lat(e,r,o,l);if(h>0)var f=i.nodeOverlap*h,d=Math.sqrt(o*o+l*l),p=f*o/d,v=f*l/d;else var m=OS(e,o,l),x=OS(r,-1*o,-1*l),y=x.x-m.x,w=x.y-m.y,k=y*y+w*w,d=Math.sqrt(k),f=(e.nodeRepulsion+r.nodeRepulsion)/k,p=f*y/d,v=f*w/d;e.isLocked||(e.offsetX-=p,e.offsetY-=v),r.isLocked||(r.offsetX+=p,r.offsetY+=v)}},Lat=function(e,r,n,i){if(n>0)var a=e.maxX-r.minX;else var a=r.maxX-e.minX;if(i>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return a>=0&&s>=0?Math.sqrt(a*a+s*s):0},OS=function(e,r,n){var i=e.positionX,a=e.positionY,s=e.height||1,o=e.width||1,l=n/r,u=s/o,h={};return r===0&&0<n||r===0&&0>n?(h.x=i,h.y=a+s/2,h):0<r&&-1*u<=l&&l<=u?(h.x=i+o/2,h.y=a+o*n/2/r,h):0>r&&-1*u<=l&&l<=u?(h.x=i-o/2,h.y=a-o*n/2/r,h):0<n&&(l<=-1*u||l>=u)?(h.x=i+s*r/2/n,h.y=a+s/2,h):(0>n&&(l<=-1*u||l>=u)&&(h.x=i-s*r/2/n,h.y=a-s/2),h)},Dat=function(e,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],a=e.idToIndex[i.sourceId],s=e.layoutNodes[a],o=e.idToIndex[i.targetId],l=e.layoutNodes[o],u=l.positionX-s.positionX,h=l.positionY-s.positionY;if(!(u===0&&h===0)){var f=OS(s,u,h),d=OS(l,-1*u,-1*h),p=d.x-f.x,v=d.y-f.y,m=Math.sqrt(p*p+v*v),x=Math.pow(i.idealLength-m,2)/i.elasticity;if(m!==0)var y=x*p/m,w=x*v/m;else var y=0,w=0;s.isLocked||(s.offsetX+=y,s.offsetY+=w),l.isLocked||(l.offsetX-=y,l.offsetY-=w)}}},Rat=function(e,r){if(r.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var a=e.graphSet[i],s=a.length;if(i===0)var o=e.clientHeight/2,l=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[a[0]]],h=e.layoutNodes[e.idToIndex[u.parentId]],o=h.positionX,l=h.positionY;for(var f=0;f<s;f++){var d=e.layoutNodes[e.idToIndex[a[f]]];if(!d.isLocked){var p=o-d.positionX,v=l-d.positionY,m=Math.sqrt(p*p+v*v);if(m>n){var x=r.gravity*p/m,y=r.gravity*v/m;d.offsetX+=x,d.offsetY+=y}}}}},Mat=function(e,r){var n=[],i=0,a=-1;for(n.push.apply(n,e.graphSet[0]),a+=e.graphSet[0].length;i<=a;){var s=n[i++],o=e.idToIndex[s],l=e.layoutNodes[o],u=l.children;if(0<u.length&&!l.isLocked){for(var h=l.offsetX,f=l.offsetY,d=0;d<u.length;d++){var p=e.layoutNodes[e.idToIndex[u[d]]];p.offsetX+=h,p.offsetY+=f,n[++a]=u[d]}l.offsetX=0,l.offsetY=0}}},Nat=function(e,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var a=Iat(i.offsetX,i.offsetY,e.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,Oat(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},Iat=function(e,r,n){var i=Math.sqrt(e*e+r*r);if(i>n)var a={x:n*e/i,y:n*r/i};else var a={x:e,y:r};return a},Oat=function t(e,r){var n=e.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],a=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,a=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,a=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,a=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,a=!0),a)return t(i,r)}},uq=function(e,r){for(var n=e.layoutNodes,i=[],a=0;a<n.length;a++){var s=n[a],o=s.cmptId,l=i[o]=i[o]||[];l.push(s)}for(var u=0,a=0;a<i.length;a++){var h=i[a];if(h){h.x1=1/0,h.x2=-1/0,h.y1=1/0,h.y2=-1/0;for(var f=0;f<h.length;f++){var d=h[f];h.x1=Math.min(h.x1,d.positionX-d.width/2),h.x2=Math.max(h.x2,d.positionX+d.width/2),h.y1=Math.min(h.y1,d.positionY-d.height/2),h.y2=Math.max(h.y2,d.positionY+d.height/2)}h.w=h.x2-h.x1,h.h=h.y2-h.y1,u+=h.w*h.h}}i.sort(function(w,k){return k.w*k.h-w.w*w.h});for(var p=0,v=0,m=0,x=0,y=Math.sqrt(u)*e.clientWidth/e.clientHeight,a=0;a<i.length;a++){var h=i[a];if(h){for(var f=0;f<h.length;f++){var d=h[f];d.isLocked||(d.positionX+=p-h.x1,d.positionY+=v-h.y1)}p+=h.w+r.componentSpacing,m+=h.w+r.componentSpacing,x=Math.max(x,h.h),m>y&&(v+=x+r.componentSpacing,p=0,m=0,x=0)}}},Fat={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Yce(t){this.options=Er({},Fat,t)}Yce.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var a=mo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,e,function(U){return{x:a.x1,y:a.y1}});else{var s=i.size(),o=Math.sqrt(s*a.h/a.w),l=Math.round(o),u=Math.round(a.w/a.h*o),h=function(J){if(J==null)return Math.min(l,u);var ce=Math.min(l,u);ce==l?l=J:u=J},f=function(J){if(J==null)return Math.max(l,u);var ce=Math.max(l,u);ce==l?l=J:u=J},d=e.rows,p=e.cols!=null?e.cols:e.columns;if(d!=null&&p!=null)l=d,u=p;else if(d!=null&&p==null)l=d,u=Math.ceil(s/l);else if(d==null&&p!=null)u=p,l=Math.ceil(s/u);else if(u*l>s){var v=h(),m=f();(v-1)*m>=s?h(v-1):(m-1)*v>=s&&f(m-1)}else for(;u*l<s;){var x=h(),y=f();(y+1)*x>=s?f(y+1):h(x+1)}var w=a.w/u,k=a.h/l;if(e.condense&&(w=0,k=0),e.avoidOverlap)for(var E=0;E<i.length;E++){var C=i[E],L=C._private.position;(L.x==null||L.y==null)&&(L.x=0,L.y=0);var _=C.layoutDimensions(e),I=e.avoidOverlapPadding,M=_.w+I,F=_.h+I;w=Math.max(w,M),k=Math.max(k,F)}for(var N={},z=function(J,ce){return!!N["c-"+J+"-"+ce]},V=function(J,ce){N["c-"+J+"-"+ce]=!0},D=0,O=0,P=function(){O++,O>=u&&(O=0,D++)},$={},B=0;B<i.length;B++){var H=i[B],X=e.position(H);if(X&&(X.row!==void 0||X.col!==void 0)){var q={row:X.row,col:X.col};if(q.col===void 0)for(q.col=0;z(q.row,q.col);)q.col++;else if(q.row===void 0)for(q.row=0;z(q.row,q.col);)q.row++;$[H.id()]=q,V(q.row,q.col)}}var Y=function(J,ce){var re,ve;if(J.locked()||J.isParent())return!1;var ye=$[J.id()];if(ye)re=ye.col*w+w/2+a.x1,ve=ye.row*k+k/2+a.y1;else{for(;z(D,O);)P();re=O*w+w/2+a.x1,ve=D*k+k/2+a.y1,V(D,O),P()}return{x:re,y:ve}};i.layoutPositions(this,e,Y)}return this};var Pat={ready:function(){},stop:function(){}};function yO(t){this.options=Er({},Pat,t)}yO.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};yO.prototype.stop=function(){return this};var Bat={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Xce(t){this.options=Er({},Bat,t)}Xce.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=ci(t.positions);function i(a){if(t.positions==null)return Vet(a.position());if(n)return t.positions(a);var s=t.positions[a._private.data.id];return s??null}return r.layoutPositions(this,t,function(a,s){var o=i(a);return a.locked()||o==null?!1:o}),this};var $at={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function jce(t){this.options=Er({},$at,t)}jce.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=mo(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(s,o){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,i),this};var zat=[{name:"breadthfirst",impl:Uce},{name:"circle",impl:Gce},{name:"concentric",impl:Wce},{name:"cose",impl:d6},{name:"grid",impl:Yce},{name:"null",impl:yO},{name:"preset",impl:Xce},{name:"random",impl:jce}];function Kce(t){this.options=t,this.notifications=0}var cq=function(){},hq=function(){throw new Error("A headless instance can not render images")};Kce.prototype={recalculateRenderedStyle:cq,notify:function(){this.notifications++},init:cq,isHeadless:function(){return!0},png:hq,jpg:hq};var xO={};xO.arrowShapeWidth=.3;xO.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(u,h,f,d,p,v,m){var x=p.x-f/2-m,y=p.x+f/2+m,w=p.y-f/2-m,k=p.y+f/2+m,E=x<=u&&u<=y&&w<=h&&h<=k;return E},n=function(u,h,f,d,p){var v=u*Math.cos(d)-h*Math.sin(d),m=u*Math.sin(d)+h*Math.cos(d),x=v*f,y=m*f,w=x+p.x,k=y+p.y;return{x:w,y:k}},i=function(u,h,f,d){for(var p=[],v=0;v<u.length;v+=2){var m=u[v],x=u[v+1];p.push(n(m,x,h,f,d))}return p},a=function(u){for(var h=[],f=0;f<u.length;f++){var d=u[f];h.push(d.x,d.y)}return h},s=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},o=function(u,h){hr(h)&&(h=t[h]),t[u]=Er({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(d,p,v,m,x,y){var w=a(i(this.points,v+2*y,m,x)),k=ro(d,p,w);return k},roughCollide:r,draw:function(d,p,v,m){var x=i(this.points,p,v,m);e.arrowShapeImpl("polygon")(d,x)},spacing:function(d){return 0},gap:s},h)};o("none",{collide:LS,roughCollide:LS,draw:iO,spacing:wW,gap:wW}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,h,f,d,p){var v=i(this.points,h,f,d),m=this.controlPoint,x=n(m[0],m[1],h,f,d);e.arrowShapeImpl(this.name)(u,v,x)},gap:function(u){return s(u)*.8}}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,h,f,d,p,v,m){var x=a(i(this.points,f+2*m,d,p)),y=a(i(this.pointsTee,f+2*m,d,p)),w=ro(u,h,x)||ro(u,h,y);return w},draw:function(u,h,f,d,p){var v=i(this.points,h,f,d),m=i(this.pointsTee,h,f,d);e.arrowShapeImpl(this.name)(u,v,m)}}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,h,f,d,p,v,m){var x=p,y=Math.pow(x.x-u,2)+Math.pow(x.y-h,2)<=Math.pow((f+2*m)*this.radius,2),w=a(i(this.points,f+2*m,d,p));return ro(u,h,w)||y},draw:function(u,h,f,d,p){var v=i(this.pointsTr,h,f,d);e.arrowShapeImpl(this.name)(u,v,d.x,d.y,this.radius*h)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,h){var f=this.baseCrossLinePts.slice(),d=h/u,p=3,v=5;return f[p]=f[p]-d,f[v]=f[v]-d,f},collide:function(u,h,f,d,p,v,m){var x=a(i(this.points,f+2*m,d,p)),y=a(i(this.crossLinePts(f,v),f+2*m,d,p)),w=ro(u,h,x)||ro(u,h,y);return w},draw:function(u,h,f,d,p){var v=i(this.points,h,f,d),m=i(this.crossLinePts(h,p),h,f,d);e.arrowShapeImpl(this.name)(u,v,m)}}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return s(u)*.525}}),o("circle",{radius:.15,collide:function(u,h,f,d,p,v,m){var x=p,y=Math.pow(x.x-u,2)+Math.pow(x.y-h,2)<=Math.pow((f+2*m)*this.radius,2);return y},draw:function(u,h,f,d,p){e.arrowShapeImpl(this.name)(u,d.x,d.y,this.radius*h)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var gp={};gp.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],s=n[4],o=r.pan(),l=r.zoom(),u=((t-i)/s-o.x)/l,h=((e-a)/s-o.y)/l;return[u,h]};gp.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(y){return parseFloat(r.getPropertyValue(y))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,o=t.clientHeight,l=i.left+i.right,u=i.top+i.bottom,h=a.left+a.right,f=e.width/(s+h),d=s-l,p=o-u,v=e.left+i.left+a.left,m=e.top+i.top+a.top;return this.containerBB=[v,m,d,p,f]};gp.invalidateContainerClientCoordsCache=function(){this.containerBB=null};gp.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};gp.findNearestElements=function(t,e,r,n){var i=this,a=this,s=a.getCachedZSortedEles(),o=[],l=a.cy.zoom(),u=a.cy.hasCompoundNodes(),h=(n?24:8)/l,f=(n?8:2)/l,d=(n?8:2)/l,p=1/0,v,m;r&&(s=s.interactive);function x(_,I){if(_.isNode()){if(m)return;m=_,o.push(_)}if(_.isEdge()&&(I==null||I<p))if(v){if(v.pstyle("z-compound-depth").value===_.pstyle("z-compound-depth").value&&v.pstyle("z-compound-depth").value===_.pstyle("z-compound-depth").value){for(var M=0;M<o.length;M++)if(o[M].isEdge()){o[M]=_,v=_,p=I??p;break}}}else o.push(_),v=_,p=I??p}function y(_){var I=_.outerWidth()+2*f,M=_.outerHeight()+2*f,F=I/2,N=M/2,z=_.position(),V=_.pstyle("corner-radius").value==="auto"?"auto":_.pstyle("corner-radius").pfValue,D=_._private.rscratch;if(z.x-F<=t&&t<=z.x+F&&z.y-N<=e&&e<=z.y+N){var O=a.nodeShapes[i.getNodeShape(_)];if(O.checkPoint(t,e,0,I,M,z.x,z.y,V,D))return x(_,0),!0}}function w(_){var I=_._private,M=I.rscratch,F=_.pstyle("width").pfValue,N=_.pstyle("arrow-scale").value,z=F/2+h,V=z*z,D=z*2,B=I.source,H=I.target,O;if(M.edgeType==="segments"||M.edgeType==="straight"||M.edgeType==="haystack"){for(var P=M.allpts,$=0;$+3<P.length;$+=2)if(ttt(t,e,P[$],P[$+1],P[$+2],P[$+3],D)&&V>(O=stt(t,e,P[$],P[$+1],P[$+2],P[$+3])))return x(_,O),!0}else if(M.edgeType==="bezier"||M.edgeType==="multibezier"||M.edgeType==="self"||M.edgeType==="compound"){for(var P=M.allpts,$=0;$+5<M.allpts.length;$+=4)if(rtt(t,e,P[$],P[$+1],P[$+2],P[$+3],P[$+4],P[$+5],D)&&V>(O=att(t,e,P[$],P[$+1],P[$+2],P[$+3],P[$+4],P[$+5])))return x(_,O),!0}for(var B=B||I.source,H=H||I.target,X=i.getArrowWidth(F,N),q=[{name:"source",x:M.arrowStartX,y:M.arrowStartY,angle:M.srcArrowAngle},{name:"target",x:M.arrowEndX,y:M.arrowEndY,angle:M.tgtArrowAngle},{name:"mid-source",x:M.midX,y:M.midY,angle:M.midsrcArrowAngle},{name:"mid-target",x:M.midX,y:M.midY,angle:M.midtgtArrowAngle}],$=0;$<q.length;$++){var Y=q[$],U=a.arrowShapes[_.pstyle(Y.name+"-arrow-shape").value],J=_.pstyle("width").pfValue;if(U.roughCollide(t,e,X,Y.angle,{x:Y.x,y:Y.y},J,h)&&U.collide(t,e,X,Y.angle,{x:Y.x,y:Y.y},J,h))return x(_),!0}u&&o.length>0&&(y(B),y(H))}function k(_,I,M){return ql(_,I,M)}function E(_,I){var M=_._private,F=d,N;I?N=I+"-":N="",_.boundingBox();var z=M.labelBounds[I||"main"],V=_.pstyle(N+"label").value,D=_.pstyle("text-events").strValue==="yes";if(!(!D||!V)){var O=k(M.rscratch,"labelX",I),P=k(M.rscratch,"labelY",I),$=k(M.rscratch,"labelAngle",I),B=_.pstyle(N+"text-margin-x").pfValue,H=_.pstyle(N+"text-margin-y").pfValue,X=z.x1-F-B,q=z.x2+F-B,Y=z.y1-F-H,U=z.y2+F-H;if($){var J=Math.cos($),ce=Math.sin($),re=function(Ee,Se){return Ee=Ee-O,Se=Se-P,{x:Ee*J-Se*ce+O,y:Ee*ce+Se*J+P}},ve=re(X,Y),ye=re(X,U),Z=re(q,Y),ue=re(q,U),ae=[ve.x+B,ve.y+H,Z.x+B,Z.y+H,ue.x+B,ue.y+H,ye.x+B,ye.y+H];if(ro(t,e,ae))return x(_),!0}else if($1(z,t,e))return x(_),!0}}for(var C=s.length-1;C>=0;C--){var L=s[C];L.isNode()?y(L)||E(L):w(L)||E(L)||E(L,"source")||E(L,"target")}return o};gp.getAllInBox=function(t,e,r,n){var i=this.getCachedZSortedEles().interactive,a=[],s=Math.min(t,r),o=Math.max(t,r),l=Math.min(e,n),u=Math.max(e,n);t=s,r=o,e=l,n=u;for(var h=mo({x1:t,y1:e,x2:r,y2:n}),f=0;f<i.length;f++){var d=i[f];if(d.isNode()){var p=d,v=p.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});oO(h,v)&&!ace(v,h)&&a.push(p)}else{var m=d,x=m._private,y=x.rscratch;if(y.startX!=null&&y.startY!=null&&!$1(h,y.startX,y.startY)||y.endX!=null&&y.endY!=null&&!$1(h,y.endX,y.endY))continue;if(y.edgeType==="bezier"||y.edgeType==="multibezier"||y.edgeType==="self"||y.edgeType==="compound"||y.edgeType==="segments"||y.edgeType==="haystack"){for(var w=x.rstyle.bezierPts||x.rstyle.linePts||x.rstyle.haystackPts,k=!0,E=0;E<w.length;E++)if(!ett(h,w[E])){k=!1;break}k&&a.push(m)}else(y.edgeType==="haystack"||y.edgeType==="straight")&&a.push(m)}}return a};var FS={};FS.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",a=e.edgeType==="segments",s=e.edgeType==="compound",o=e.edgeType==="self",l,u,h,f,d,p,y,w;if(r?(h=e.haystackPts[0],f=e.haystackPts[1],d=e.haystackPts[2],p=e.haystackPts[3]):(h=e.arrowStartX,f=e.arrowStartY,d=e.arrowEndX,p=e.arrowEndY),y=e.midX,w=e.midY,a)l=h-e.segpts[0],u=f-e.segpts[1];else if(i||s||o||n){var v=e.allpts,m=pa(v[0],v[2],v[4],.1),x=pa(v[1],v[3],v[5],.1);l=h-m,u=f-x}else l=h-y,u=f-w;e.srcArrowAngle=N3(l,u);var y=e.midX,w=e.midY;if(r&&(y=(h+d)/2,w=(f+p)/2),l=d-h,u=p-f,a){var v=e.allpts;if(v.length/2%2===0){var k=v.length/2,E=k-2;l=v[k]-v[E],u=v[k+1]-v[E+1]}else if(e.isRound)l=e.midVector[1],u=-e.midVector[0];else{var k=v.length/2-1,E=k-2;l=v[k]-v[E],u=v[k+1]-v[E+1]}}else if(i||s||o){var v=e.allpts,C=e.ctrlpts,L,_,I,M;if(C.length/2%2===0){var F=v.length/2-1,N=F+2,z=N+2;L=pa(v[F],v[N],v[z],0),_=pa(v[F+1],v[N+1],v[z+1],0),I=pa(v[F],v[N],v[z],1e-4),M=pa(v[F+1],v[N+1],v[z+1],1e-4)}else{var N=v.length/2-1,F=N-2,z=N+2;L=pa(v[F],v[N],v[z],.4999),_=pa(v[F+1],v[N+1],v[z+1],.4999),I=pa(v[F],v[N],v[z],.5),M=pa(v[F+1],v[N+1],v[z+1],.5)}l=I-L,u=M-_}if(e.midtgtArrowAngle=N3(l,u),e.midDispX=l,e.midDispY=u,l*=-1,u*=-1,a){var v=e.allpts;if(v.length/2%2!==0){if(!e.isRound){var k=v.length/2-1,V=k+2;l=-(v[V]-v[k]),u=-(v[V+1]-v[k+1])}}}if(e.midsrcArrowAngle=N3(l,u),a)l=d-e.segpts[e.segpts.length-2],u=p-e.segpts[e.segpts.length-1];else if(i||s||o||n){var v=e.allpts,D=v.length,m=pa(v[D-6],v[D-4],v[D-2],.9),x=pa(v[D-5],v[D-3],v[D-1],.9);l=d-m,u=p-x}else l=d-y,u=p-w;e.tgtArrowAngle=N3(l,u)};FS.getArrowWidth=FS.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var fD,dD,Tu={},rl={},fq,dq,Vd,Zw,kc,Cd,Od,Eu,Qp,V3,Qce,Zce,pD,gD,pq,gq=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},Hat=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},Vat=function(e,r,n,i,a){if(e!==pq?gq(r,e,Tu):Hat(rl,Tu),gq(r,n,rl),fq=Tu.nx*rl.ny-Tu.ny*rl.nx,dq=Tu.nx*rl.nx-Tu.ny*-rl.ny,kc=Math.asin(Math.max(-1,Math.min(1,fq))),Math.abs(kc)<1e-6){fD=r.x,dD=r.y,Od=Qp=0;return}Vd=1,Zw=!1,dq<0?kc<0?kc=Math.PI+kc:(kc=Math.PI-kc,Vd=-1,Zw=!0):kc>0&&(Vd=-1,Zw=!0),r.radius!==void 0?Qp=r.radius:Qp=i,Cd=kc/2,V3=Math.min(Tu.len/2,rl.len/2),a?(Eu=Math.abs(Math.cos(Cd)*Qp/Math.sin(Cd)),Eu>V3?(Eu=V3,Od=Math.abs(Eu*Math.sin(Cd)/Math.cos(Cd))):Od=Qp):(Eu=Math.min(V3,Qp),Od=Math.abs(Eu*Math.sin(Cd)/Math.cos(Cd))),pD=r.x+rl.nx*Eu,gD=r.y+rl.ny*Eu,fD=pD-rl.ny*Od*Vd,dD=gD+rl.nx*Od*Vd,Qce=r.x+Tu.nx*Eu,Zce=r.y+Tu.ny*Eu,pq=r};function Jce(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function bO(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(Vat(t,e,r,n,i),{cx:fD,cy:dD,radius:Od,startX:Qce,startY:Zce,stopX:pD,stopY:gD,startAngle:Tu.ang+Math.PI/2*Vd,endAngle:rl.ang-Math.PI/2*Vd,counterClockwise:Zw})}var ys={};ys.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,a,s=t.pstyle("source-endpoint"),o=t.pstyle("target-endpoint"),l=s.units!=null&&o.units!=null,u=function(C,L,_,I){var M=I-L,F=_-C,N=Math.sqrt(F*F+M*M);return{x:-M/N,y:F/N}},h=t.pstyle("edge-distances").value;switch(h){case"node-position":a=r;break;case"intersection":a=n;break;case"endpoints":{if(l){var f=this.manualEndptToPx(t.source()[0],s),d=zl(f,2),p=d[0],v=d[1],m=this.manualEndptToPx(t.target()[0],o),x=zl(m,2),y=x[0],w=x[1],k={x1:p,y1:v,x2:y,y2:w};i=u(p,v,y,w),a=k}else gn("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}};ys.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var s=n.source,o=n.target,l=s.position(),u=o.position(),h=s.width(),f=o.width(),d=s.height(),p=o.height(),v=r.pstyle("haystack-radius").value,m=v/2;i.haystackPts=i.allpts=[i.source.x*h*m+l.x,i.source.y*d*m+l.y,i.target.x*f*m+u.x,i.target.y*p*m+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};ys.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),a=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),o=Math.min(n.pfValue.length,i.pfValue.length),l=a.pfValue[a.pfValue.length-1],u=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var h=0;h<o;h++){var f=n.pfValue[h],d=i.pfValue[h],p=1-f,v=f,m=this.findMidptPtsEtc(t,e),x=m.midptPts,y=m.vectorNormInverse,w={x:x.x1*p+x.x2*v,y:x.y1*p+x.y2*v};r.segpts.push(w.x+y.x*d,w.y+y.y*d),r.radii.push(a.pfValue[h]!==void 0?a.pfValue[h]:l),r.isArcRadius.push((s.pfValue[h]!==void 0?s.pfValue[h]:u)==="arc-radius")}};ys.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,a=e.dirCounts,s=e.srcPos,o=t.pstyle("control-point-distances"),l=o?o.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,h=t.pstyle("loop-sweep").pfValue,f=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var d=r,p=f;n&&(d=0,p=l);var v=u-Math.PI/2,m=v-h/2,x=v+h/2,y=u+"_"+h;d=a[y]===void 0?a[y]=0:++a[y],i.ctrlpts=[s.x+Math.cos(m)*1.4*p*(d/3+1),s.y+Math.sin(m)*1.4*p*(d/3+1),s.x+Math.cos(x)*1.4*p*(d/3+1),s.y+Math.sin(x)*1.4*p*(d/3+1)]};ys.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var a=e.srcPos,s=e.tgtPos,o=e.srcW,l=e.srcH,u=e.tgtW,h=e.tgtH,f=t.pstyle("control-point-step-size").pfValue,d=t.pstyle("control-point-distances"),p=d?d.pfValue[0]:void 0,v=r,m=f;n&&(v=0,m=p);var x=50,y={x:a.x-o/2,y:a.y-l/2},w={x:s.x-u/2,y:s.y-h/2},k={x:Math.min(y.x,w.x),y:Math.min(y.y,w.y)},E=.5,C=Math.max(E,Math.log(o*.01)),L=Math.max(E,Math.log(u*.01));i.ctrlpts=[k.x,k.y-(1+Math.pow(x,1.12)/100)*m*(v/3+1)*C,k.x-(1+Math.pow(x,1.12)/100)*m*(v/3+1)*L,k.y]};ys.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};ys.findBezierPoints=function(t,e,r,n,i){var a=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,o=t.pstyle("control-point-distances"),l=t.pstyle("control-point-weights"),u=o&&l?Math.min(o.value.length,l.value.length):1,h=o?o.pfValue[0]:void 0,f=l.value[0],d=n;a.edgeType=d?"multibezier":"bezier",a.ctrlpts=[];for(var p=0;p<u;p++){var v=(.5-e.eles.length/2+r)*s*(i?-1:1),m=void 0,x=nce(v);d&&(h=o?o.pfValue[p]:s,f=l.value[p]),n?m=h:m=h!==void 0?x*h:void 0;var y=m!==void 0?m:v,w=1-f,k=f,E=this.findMidptPtsEtc(t,e),C=E.midptPts,L=E.vectorNormInverse,_={x:C.x1*w+C.x2*k,y:C.y1*w+C.y2*k};a.ctrlpts.push(_.x+L.x*y,_.y+L.y*y)}};ys.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",s="rightward",o="downward",l="upward",u="auto",h=e.posPts,f=e.srcW,d=e.srcH,p=e.tgtW,v=e.tgtH,m=t.pstyle("edge-distances").value,x=m!=="node-position",y=t.pstyle("taxi-direction").value,w=y,k=t.pstyle("taxi-turn"),E=k.units==="%",C=k.pfValue,L=C<0,_=t.pstyle("taxi-turn-min-distance").pfValue,I=x?(f+p)/2:0,M=x?(d+v)/2:0,F=h.x2-h.x1,N=h.y2-h.y1,z=function(ke,Le){return ke>0?Math.max(ke-Le,0):Math.min(ke+Le,0)},V=z(F,I),D=z(N,M),O=!1;w===u?y=Math.abs(V)>Math.abs(D)?i:n:w===l||w===o?(y=n,O=!0):(w===a||w===s)&&(y=i,O=!0);var P=y===n,$=P?D:V,B=P?N:F,H=nce(B),X=!1;!(O&&(E||L))&&(w===o&&B<0||w===l&&B>0||w===a&&B>0||w===s&&B<0)&&(H*=-1,$=H*Math.abs($),X=!0);var q;if(E){var Y=C<0?1+C:C;q=Y*$}else{var U=C<0?$:0;q=U+C*H}var J=function(ke){return Math.abs(ke)<_||Math.abs(ke)>=Math.abs($)},ce=J(q),re=J(Math.abs($)-Math.abs(q)),ve=ce||re;if(ve&&!X)if(P){var ye=Math.abs(B)<=d/2,Z=Math.abs(F)<=p/2;if(ye){var ue=(h.x1+h.x2)/2,ae=h.y1,pe=h.y2;r.segpts=[ue,ae,ue,pe]}else if(Z){var Ee=(h.y1+h.y2)/2,Se=h.x1,de=h.x2;r.segpts=[Se,Ee,de,Ee]}else r.segpts=[h.x1,h.y2]}else{var be=Math.abs(B)<=f/2,oe=Math.abs(N)<=v/2;if(be){var we=(h.y1+h.y2)/2,Re=h.x1,Pe=h.x2;r.segpts=[Re,we,Pe,we]}else if(oe){var Ge=(h.x1+h.x2)/2,je=h.y1,We=h.y2;r.segpts=[Ge,je,Ge,We]}else r.segpts=[h.x2,h.y1]}else if(P){var me=h.y1+q+(x?d/2*H:0),Te=h.x1,fe=h.x2;r.segpts=[Te,me,fe,me]}else{var W=h.x1+q+(x?f/2*H:0),j=h.y1,ie=h.y2;r.segpts=[W,j,W,ie]}if(r.isRound){var ee=t.pstyle("taxi-radius").value,le=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(ee),r.isArcRadius=new Array(r.segpts.length/2).fill(le)}};ys.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,a=e.srcW,s=e.srcH,o=e.tgtW,l=e.tgtH,u=e.srcShape,h=e.tgtShape,f=e.srcCornerRadius,d=e.tgtCornerRadius,p=e.srcRs,v=e.tgtRs,m=!$t(r.startX)||!$t(r.startY),x=!$t(r.arrowStartX)||!$t(r.arrowStartY),y=!$t(r.endX)||!$t(r.endY),w=!$t(r.arrowEndX)||!$t(r.arrowEndY),k=3,E=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,C=k*E,L=V0({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),_=L<C,I=V0({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),M=I<C,F=!1;if(m||x||_){F=!0;var N={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},z=Math.sqrt(N.x*N.x+N.y*N.y),V={x:N.x/z,y:N.y/z},D=Math.max(a,s),O={x:r.ctrlpts[0]+V.x*2*D,y:r.ctrlpts[1]+V.y*2*D},P=u.intersectLine(n.x,n.y,a,s,O.x,O.y,0,f,p);_?(r.ctrlpts[0]=r.ctrlpts[0]+V.x*(C-L),r.ctrlpts[1]=r.ctrlpts[1]+V.y*(C-L)):(r.ctrlpts[0]=P[0]+V.x*C,r.ctrlpts[1]=P[1]+V.y*C)}if(y||w||M){F=!0;var $={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},B=Math.sqrt($.x*$.x+$.y*$.y),H={x:$.x/B,y:$.y/B},X=Math.max(a,s),q={x:r.ctrlpts[0]+H.x*2*X,y:r.ctrlpts[1]+H.y*2*X},Y=h.intersectLine(i.x,i.y,o,l,q.x,q.y,0,d,v);M?(r.ctrlpts[0]=r.ctrlpts[0]+H.x*(C-I),r.ctrlpts[1]=r.ctrlpts[1]+H.y*(C-I)):(r.ctrlpts[0]=Y[0]+H.x*C,r.ctrlpts[1]=Y[1]+H.y*C)}F&&this.findEndpoints(t)}};ys.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=pa(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=pa(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var a=2;a+3<e.allpts.length;a+=2){var s=e.radii[a/2-1],o=e.isArcRadius[a/2-1];e.roundCorners.push(bO({x:e.allpts[a-2],y:e.allpts[a-1]},{x:e.allpts[a],y:e.allpts[a+1],radius:s},{x:e.allpts[a+2],y:e.allpts[a+3]},s,o))}}if(e.segpts.length%4===0){var l=e.segpts.length/2,u=l-2;e.midX=(e.segpts[u]+e.segpts[l])/2,e.midY=(e.segpts[u+1]+e.segpts[l+1])/2}else{var h=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[h],e.midY=e.segpts[h+1];else{var f={x:e.segpts[h],y:e.segpts[h+1]},d=e.roundCorners[h/2],p=[f.x-d.cx,f.y-d.cy],v=d.radius/Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2));p=p.map(function(m){return m*v}),e.midX=d.cx+p[0],e.midY=d.cy+p[1],e.midVector=p}}}};ys.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||$t(e.startX)&&$t(e.startY)&&$t(e.endX)&&$t(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,gn("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};ys.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),a={map:new Hu,get:function(_){var I=this.map.get(_[0]);return I!=null?I.get(_[1]):null},set:function(_,I){var M=this.map.get(_[0]);M==null&&(M=new Hu,this.map.set(_[0],M)),M.set(_[1],I)}},s=[],o=[],l=0;l<t.length;l++){var u=t[l],h=u._private,f=u.pstyle("curve-style").value;if(!(u.removed()||!u.takesUpSpace())){if(f==="haystack"){o.push(u);continue}var d=f==="unbundled-bezier"||f.endsWith("segments")||f==="straight"||f==="straight-triangle"||f.endsWith("taxi"),p=f==="unbundled-bezier"||f==="bezier",v=h.source,m=h.target,x=v.poolIndex(),y=m.poolIndex(),w=[x,y].sort(),k=a.get(w);k==null&&(k={eles:[]},a.set(w,k),s.push(w)),k.eles.push(u),d&&(k.hasUnbundled=!0),p&&(k.hasBezier=!0)}}for(var E=function(_){var I=s[_],M=a.get(I),F=void 0;if(!M.hasUnbundled){var N=M.eles[0].parallelEdges().filter(function(W){return W.isBundledBezier()});aO(M.eles),N.forEach(function(W){return M.eles.push(W)}),M.eles.sort(function(W,j){return W.poolIndex()-j.poolIndex()})}var z=M.eles[0],V=z.source(),D=z.target();if(V.poolIndex()>D.poolIndex()){var O=V;V=D,D=O}var P=M.srcPos=V.position(),$=M.tgtPos=D.position(),B=M.srcW=V.outerWidth(),H=M.srcH=V.outerHeight(),X=M.tgtW=D.outerWidth(),q=M.tgtH=D.outerHeight(),Y=M.srcShape=r.nodeShapes[e.getNodeShape(V)],U=M.tgtShape=r.nodeShapes[e.getNodeShape(D)],J=M.srcCornerRadius=V.pstyle("corner-radius").value==="auto"?"auto":V.pstyle("corner-radius").pfValue,ce=M.tgtCornerRadius=D.pstyle("corner-radius").value==="auto"?"auto":D.pstyle("corner-radius").pfValue,re=M.tgtRs=D._private.rscratch,ve=M.srcRs=V._private.rscratch;M.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ye=0;ye<M.eles.length;ye++){var Z=M.eles[ye],ue=Z[0]._private.rscratch,ae=Z.pstyle("curve-style").value,pe=ae==="unbundled-bezier"||ae.endsWith("segments")||ae.endsWith("taxi"),Ee=!V.same(Z.source());if(!M.calculatedIntersection&&V!==D&&(M.hasBezier||M.hasUnbundled)){M.calculatedIntersection=!0;var Se=Y.intersectLine(P.x,P.y,B,H,$.x,$.y,0,J,ve),de=M.srcIntn=Se,be=U.intersectLine($.x,$.y,X,q,P.x,P.y,0,ce,re),oe=M.tgtIntn=be,we=M.intersectionPts={x1:Se[0],x2:be[0],y1:Se[1],y2:be[1]},Re=M.posPts={x1:P.x,x2:$.x,y1:P.y,y2:$.y},Pe=be[1]-Se[1],Ge=be[0]-Se[0],je=Math.sqrt(Ge*Ge+Pe*Pe),We=M.vector={x:Ge,y:Pe},me=M.vectorNorm={x:We.x/je,y:We.y/je},Te={x:-me.y,y:me.x};M.nodesOverlap=!$t(je)||U.checkPoint(Se[0],Se[1],0,X,q,$.x,$.y,ce,re)||Y.checkPoint(be[0],be[1],0,B,H,P.x,P.y,J,ve),M.vectorNormInverse=Te,F={nodesOverlap:M.nodesOverlap,dirCounts:M.dirCounts,calculatedIntersection:!0,hasBezier:M.hasBezier,hasUnbundled:M.hasUnbundled,eles:M.eles,srcPos:$,srcRs:re,tgtPos:P,tgtRs:ve,srcW:X,srcH:q,tgtW:B,tgtH:H,srcIntn:oe,tgtIntn:de,srcShape:U,tgtShape:Y,posPts:{x1:Re.x2,y1:Re.y2,x2:Re.x1,y2:Re.y1},intersectionPts:{x1:we.x2,y1:we.y2,x2:we.x1,y2:we.y1},vector:{x:-We.x,y:-We.y},vectorNorm:{x:-me.x,y:-me.y},vectorNormInverse:{x:-Te.x,y:-Te.y}}}var fe=Ee?F:M;ue.nodesOverlap=fe.nodesOverlap,ue.srcIntn=fe.srcIntn,ue.tgtIntn=fe.tgtIntn,ue.isRound=ae.startsWith("round"),i&&(V.isParent()||V.isChild()||D.isParent()||D.isChild())&&(V.parents().anySame(D)||D.parents().anySame(V)||V.same(D)&&V.isParent())?e.findCompoundLoopPoints(Z,fe,ye,pe):V===D?e.findLoopPoints(Z,fe,ye,pe):ae.endsWith("segments")?e.findSegmentsPoints(Z,fe):ae.endsWith("taxi")?e.findTaxiPoints(Z,fe):ae==="straight"||!pe&&M.eles.length%2===1&&ye===Math.floor(M.eles.length/2)?e.findStraightEdgePoints(Z):e.findBezierPoints(Z,fe,ye,pe,Ee),e.findEndpoints(Z),e.tryToCorrectInvalidPoints(Z,fe),e.checkForInvalidEdgeWarning(Z),e.storeAllpts(Z),e.storeEdgeProjections(Z),e.calculateArrowAngles(Z),e.recalculateEdgeLabelProjections(Z),e.calculateLabelAngles(Z)}},C=0;C<s.length;C++)E(C);this.findHaystackPoints(o)}};function ehe(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}ys.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return ehe(e.segpts)};ys.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return ehe(e.ctrlpts)};ys.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var zb={};zb.manualEndptToPx=function(t,e){var r=this,n=t.position(),i=t.outerWidth(),a=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*i),e.units[1]==="%"&&(o[1]=o[1]*a),o[0]+=n.x,o[1]+=n.y,o}else{var l=e.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(i,a),h=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,a,h[0],h[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};zb.findEndpoints=function(t){var e=this,r,n=t.source()[0],i=t.target()[0],a=n.position(),s=i.position(),o=t.pstyle("target-arrow-shape").value,l=t.pstyle("source-arrow-shape").value,u=t.pstyle("target-distance-from-node").pfValue,h=t.pstyle("source-distance-from-node").pfValue,f=n._private.rscratch,d=i._private.rscratch,p=t.pstyle("curve-style").value,v=t._private.rscratch,m=v.edgeType,x=p==="taxi",y=m==="self"||m==="compound",w=m==="bezier"||m==="multibezier"||y,k=m!=="bezier",E=m==="straight"||m==="segments",C=m==="segments",L=w||k||E,_=y||x,I=t.pstyle("source-endpoint"),M=_?"outside-to-node":I.value,F=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,N=t.pstyle("target-endpoint"),z=_?"outside-to-node":N.value,V=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;v.srcManEndpt=I,v.tgtManEndpt=N;var D,O,P,$;if(w){var B=[v.ctrlpts[0],v.ctrlpts[1]],H=k?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:B;D=H,O=B}else if(E){var X=C?v.segpts.slice(0,2):[s.x,s.y],q=C?v.segpts.slice(v.segpts.length-2):[a.x,a.y];D=q,O=X}if(z==="inside-to-node")r=[s.x,s.y];else if(N.units)r=this.manualEndptToPx(i,N);else if(z==="outside-to-line")r=v.tgtIntn;else if(z==="outside-to-node"||z==="outside-to-node-or-label"?P=D:(z==="outside-to-line"||z==="outside-to-line-or-label")&&(P=[a.x,a.y]),r=e.nodeShapes[this.getNodeShape(i)].intersectLine(s.x,s.y,i.outerWidth(),i.outerHeight(),P[0],P[1],0,V,d),z==="outside-to-node-or-label"||z==="outside-to-line-or-label"){var Y=i._private.rscratch,U=Y.labelWidth,J=Y.labelHeight,ce=Y.labelX,re=Y.labelY,ve=U/2,ye=J/2,Z=i.pstyle("text-valign").value;Z==="top"?re-=ye:Z==="bottom"&&(re+=ye);var ue=i.pstyle("text-halign").value;ue==="left"?ce-=ve:ue==="right"&&(ce+=ve);var ae=j2(P[0],P[1],[ce-ve,re-ye,ce+ve,re-ye,ce+ve,re+ye,ce-ve,re+ye],s.x,s.y);if(ae.length>0){var pe=a,Ee=Nd(pe,kg(r)),Se=Nd(pe,kg(ae)),de=Ee;if(Se<Ee&&(r=ae,de=Se),ae.length>2){var be=Nd(pe,{x:ae[2],y:ae[3]});be<de&&(r=[ae[2],ae[3]])}}}var oe=I3(r,D,e.arrowShapes[o].spacing(t)+u),we=I3(r,D,e.arrowShapes[o].gap(t)+u);if(v.endX=we[0],v.endY=we[1],v.arrowEndX=oe[0],v.arrowEndY=oe[1],M==="inside-to-node")r=[a.x,a.y];else if(I.units)r=this.manualEndptToPx(n,I);else if(M==="outside-to-line")r=v.srcIntn;else if(M==="outside-to-node"||M==="outside-to-node-or-label"?$=O:(M==="outside-to-line"||M==="outside-to-line-or-label")&&($=[s.x,s.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(a.x,a.y,n.outerWidth(),n.outerHeight(),$[0],$[1],0,F,f),M==="outside-to-node-or-label"||M==="outside-to-line-or-label"){var Re=n._private.rscratch,Pe=Re.labelWidth,Ge=Re.labelHeight,je=Re.labelX,We=Re.labelY,me=Pe/2,Te=Ge/2,fe=n.pstyle("text-valign").value;fe==="top"?We-=Te:fe==="bottom"&&(We+=Te);var W=n.pstyle("text-halign").value;W==="left"?je-=me:W==="right"&&(je+=me);var j=j2($[0],$[1],[je-me,We-Te,je+me,We-Te,je+me,We+Te,je-me,We+Te],a.x,a.y);if(j.length>0){var ie=s,ee=Nd(ie,kg(r)),le=Nd(ie,kg(j)),_e=ee;if(le<ee&&(r=[j[0],j[1]],_e=le),j.length>2){var ke=Nd(ie,{x:j[2],y:j[3]});ke<_e&&(r=[j[2],j[3]])}}}var Le=I3(r,O,e.arrowShapes[l].spacing(t)+h),Oe=I3(r,O,e.arrowShapes[l].gap(t)+h);v.startX=Oe[0],v.startY=Oe[1],v.arrowStartX=Le[0],v.arrowStartY=Le[1],L&&(!$t(v.startX)||!$t(v.startY)||!$t(v.endX)||!$t(v.endY)?v.badLine=!0:v.badLine=!1)};zb.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};zb.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var wO={};function Uat(t,e,r){for(var n=function(u,h,f,d){return pa(u,h,f,d)},i=e._private,a=i.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var o=t.bezierProjPcts[s];a.push({x:n(r[0],r[2],r[4],o),y:n(r[1],r[3],r[5],o)})}}wO.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)Uat(this,t,r.allpts.slice(i,i+6))}else if(n==="segments")for(var a=e.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};wO.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var sc={};sc.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Uf(e)){var r,n,i=t._private,a=t.width(),s=t.height(),o=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,h=t.pstyle("text-valign").strValue,f=i.rscratch,d=i.rstyle;switch(u){case"left":r=l.x-a/2-o;break;case"right":r=l.x+a/2+o;break;default:r=l.x}switch(h){case"top":n=l.y-s/2-o;break;case"bottom":n=l.y+s/2+o;break;default:n=l.y}f.labelX=r,f.labelY=n,d.labelX=r,d.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var the=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},rhe=function(e,r){var n=r.x-e.x,i=r.y-e.y;return the(n,i)},Gat=function(e,r,n,i){var a=X2(0,i-.001,1),s=X2(0,i+.001,1),o=Ug(e,r,n,a),l=Ug(e,r,n,s);return rhe(o,l)};sc.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,a={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(a.mid||a.source||a.target){e={x:n.midX,y:n.midY};var s=function(f,d,p){Zh(r.rscratch,f,d,p),Zh(r.rstyle,f,d,p)};s("labelX",null,e.x),s("labelY",null,e.y);var o=the(n.midDispX,n.midDispY);s("labelAutoAngle",null,o);var l=function h(){if(h.cache)return h.cache;for(var f=[],d=0;d+5<n.allpts.length;d+=4){var p={x:n.allpts[d],y:n.allpts[d+1]},v={x:n.allpts[d+2],y:n.allpts[d+3]},m={x:n.allpts[d+4],y:n.allpts[d+5]};f.push({p0:p,p1:v,p2:m,startDist:0,length:0,segments:[]})}var x=r.rstyle.bezierPts,y=i.bezierProjPcts.length;function w(_,I,M,F,N){var z=V0(I,M),V=_.segments[_.segments.length-1],D={p0:I,p1:M,t0:F,t1:N,startDist:V?V.startDist+V.length:0,length:z};_.segments.push(D),_.length+=z}for(var k=0;k<f.length;k++){var E=f[k],C=f[k-1];C&&(E.startDist=C.startDist+C.length),w(E,E.p0,x[k*y],0,i.bezierProjPcts[0]);for(var L=0;L<y-1;L++)w(E,x[k*y+L],x[k*y+L+1],i.bezierProjPcts[L],i.bezierProjPcts[L+1]);w(E,x[k*y+y-1],E.p2,i.bezierProjPcts[y-1],1)}return h.cache=f},u=function(f){var d,p=f==="source";if(a[f]){var v=t.pstyle(f+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=l(),x,y=0,w=0,k=0;k<m.length;k++){for(var E=m[p?k:m.length-1-k],C=0;C<E.segments.length;C++){var L=E.segments[p?C:E.segments.length-1-C],_=k===m.length-1&&C===E.segments.length-1;if(y=w,w+=L.length,w>=v||_){x={cp:E,segment:L};break}}if(x)break}var I=x.cp,M=x.segment,F=(v-y)/M.length,N=M.t1-M.t0,z=p?M.t0+N*F:M.t1-N*F;z=X2(0,z,1),e=Ug(I.p0,I.p1,I.p2,z),d=Gat(I.p0,I.p1,I.p2,z);break}case"straight":case"segments":case"haystack":{for(var V=0,D,O,P,$,B=n.allpts.length,H=0;H+3<B&&(p?(P={x:n.allpts[H],y:n.allpts[H+1]},$={x:n.allpts[H+2],y:n.allpts[H+3]}):(P={x:n.allpts[B-2-H],y:n.allpts[B-1-H]},$={x:n.allpts[B-4-H],y:n.allpts[B-3-H]}),D=V0(P,$),O=V,V+=D,!(V>=v));H+=2);var X=v-O,q=X/D;q=X2(0,q,1),e=jet(P,$,q),d=rhe(P,$);break}}s("labelX",f,e.x),s("labelY",f,e.y),s("labelAutoAngle",f,d)}};u("source"),u("target"),this.applyLabelDimensions(t)}};sc.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};sc.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,n),a=t.pstyle("line-height").pfValue,s=t.pstyle("text-wrap").strValue,o=ql(r.rscratch,"labelWrapCachedLines",e)||[],l=s!=="wrap"?1:Math.max(o.length,1),u=i.height/l,h=u*a,f=i.width,d=i.height+(l-1)*(a-1)*u;Zh(r.rstyle,"labelWidth",e,f),Zh(r.rscratch,"labelWidth",e,f),Zh(r.rstyle,"labelHeight",e,d),Zh(r.rscratch,"labelHeight",e,d),Zh(r.rscratch,"labelLineHeight",e,h)};sc.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,a=t.pstyle("text-transform").value,s=function(U,J){return J?(Zh(r.rscratch,U,e,J),J):ql(r.rscratch,U,e)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var o=t.pstyle("text-wrap").value;if(o==="wrap"){var l=s("labelKey");if(l!=null&&s("labelWrapKey")===l)return s("labelWrapCachedText");for(var u="​",h=i.split(`
`),f=t.pstyle("text-max-width").pfValue,d=t.pstyle("text-overflow-wrap").value,p=d==="anywhere",v=[],m=/[\s\u200b]+|$/g,x=0;x<h.length;x++){var y=h[x],w=this.calculateLabelDimensions(t,y),k=w.width;if(p){var E=y.split("").join(u);y=E}if(k>f){var C=y.matchAll(m),L="",_=0,I=Bue(C),M;try{for(I.s();!(M=I.n()).done;){var F=M.value,N=F[0],z=y.substring(_,F.index);_=F.index+N.length;var V=L.length===0?z:L+z+N,D=this.calculateLabelDimensions(t,V),O=D.width;O<=f?L+=z+N:(L&&v.push(L),L=z+N)}}catch(Y){I.e(Y)}finally{I.f()}L.match(/^[\s\u200b]+$/)||v.push(L)}else v.push(y)}s("labelWrapCachedLines",v),i=s("labelWrapCachedText",v.join(`
`)),s("labelWrapKey",l)}else if(o==="ellipsis"){var P=t.pstyle("text-max-width").pfValue,$="",B="…",H=!1;if(this.calculateLabelDimensions(t,i).width<P)return i;for(var X=0;X<i.length;X++){var q=this.calculateLabelDimensions(t,$+i[X]+B).width;if(q>P)break;$+=i[X],X===i.length-1&&(H=!0)}return H||($+=B),$}return i};sc.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};sc.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),i=n.document,a=H0(e,t._private.labelDimsKey),s=r.labelDimCache||(r.labelDimCache=[]),o=s[a];if(o!=null)return o;var l=0,u=t.pstyle("font-style").strValue,h=t.pstyle("font-size").pfValue,f=t.pstyle("font-family").strValue,d=t.pstyle("font-weight").strValue,p=this.labelCalcCanvas,v=this.labelCalcCanvasContext;if(!p){p=this.labelCalcCanvas=i.createElement("canvas"),v=this.labelCalcCanvasContext=p.getContext("2d");var m=p.style;m.position="absolute",m.left="-9999px",m.top="-9999px",m.zIndex="-1",m.visibility="hidden",m.pointerEvents="none"}v.font="".concat(u," ").concat(d," ").concat(h,"px ").concat(f);for(var x=0,y=0,w=e.split(`
`),k=0;k<w.length;k++){var E=w[k],C=v.measureText(E),L=Math.ceil(C.width),_=h;x=Math.max(L,x),y+=_}return x+=l,y+=l,s[a]={width:x,height:y}};sc.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,i=t.isEdge(),a=e?e+"-":"",s=t.pstyle(a+"text-rotation"),o=s.strValue;return o==="none"?0:i&&o==="autorotate"?n.labelAutoAngle:o==="autorotate"?0:s.pfValue};sc.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(t),r&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var nhe={},vq=28,mq=!1;nhe.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<vq||t.height()<vq))return mq||(gn("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),mq=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var p6={};p6.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),o)for(var l=0;l<s.length;l++){var u=s[l],h=u._private,f=h.rstyle;f.clean=!1,f.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var o=s.target;n(o)}).on("style.* background.*",function(s){var o=s.target;n(o,!1)});var i=function(s){if(s){var o=r.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var u=e[l],h=u._private.rstyle;u.isNode()&&!h.cleanConnected&&(n(u.connectedEdges()),h.cleanConnected=!0)}if(o)for(var f=0;f<o.length;f++){var d=o[f];d(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};p6.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};p6.recalculateRenderedStyle=function(t,e){var r=function(E){return E._private.rstyle.cleanConnected},n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var a=0;a<t.length;a++){var s=t[a],o=s._private,l=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(l.clean=!1),!(e&&l.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?i.push(s):n.push(s),l.clean=!0)}for(var u=0;u<i.length;u++){var h=i[u],f=h._private,d=f.rstyle,p=h.position();this.recalculateNodeLabelProjection(h),d.nodeX=p.x,d.nodeY=p.y,d.nodeW=h.pstyle("width").pfValue,d.nodeH=h.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var v=0;v<n.length;v++){var m=n[v],x=m._private,y=x.rstyle,w=x.rscratch;y.srcX=w.arrowStartX,y.srcY=w.arrowStartY,y.tgtX=w.arrowEndX,y.tgtY=w.arrowEndY,y.midX=w.midX,y.midY=w.midY,y.labelAngle=w.labelAngle,y.sourceLabelAngle=w.sourceLabelAngle,y.targetLabelAngle=w.targetLabelAngle}}};var g6={};g6.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};g6.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};g6.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(zce),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var ihe={};[gp,FS,ys,zb,wO,sc,nhe,p6,g6].forEach(function(t){Er(ihe,t)});var ahe={};ahe.getCachedImage=function(t,e,r){var n=this,i=n.imageCache=n.imageCache||{},a=i[t];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=i[t]=i[t]||{};var s=a.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",l=t.substring(0,o.length).toLowerCase()===o;return l||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var Tv={};Tv.registerBinding=function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var a=[],s=0;s<t.length;s++){var o=t[s];if(o!==void 0){var l=this.binder(o);a.push(l.on.apply(l,i))}}return a}var l=this.binder(t);return l.on.apply(l,i)};Tv.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||dJe(t);if(e.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=i}var s=function(l,u,h){var f=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(f[2]={capture:h??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:f}),(t.addEventListener||t.on).apply(t,f),this};return{on:s,addEventListener:s,addListener:s,bind:s}};Tv.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};Tv.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};Tv.load=function(){var t=this,e=t.cy.window(),r=function(W){return W.selected()},n=function(W){var j=W.getRootNode();if(j&&j.nodeType===11&&j.host!==void 0)return j},i=function(W,j,ie,ee){W==null&&(W=t.cy);for(var le=0;le<j.length;le++){var _e=j[le];W.emit({originalEvent:ie,type:_e,position:ee})}},a=function(W){return W.shiftKey||W.metaKey||W.ctrlKey},s=function(W,j){var ie=!0;if(t.cy.hasCompoundNodes()&&W&&W.pannable())for(var ee=0;j&&ee<j.length;ee++){var W=j[ee];if(W.isNode()&&W.isParent()&&!W.pannable()){ie=!1;break}}else ie=!0;return ie},o=function(W){W[0]._private.grabbed=!0},l=function(W){W[0]._private.grabbed=!1},u=function(W){W[0]._private.rscratch.inDragLayer=!0},h=function(W){W[0]._private.rscratch.inDragLayer=!1},f=function(W){W[0]._private.rscratch.isGrabTarget=!0},d=function(W){W[0]._private.rscratch.isGrabTarget=!1},p=function(W,j){var ie=j.addToList,ee=ie.has(W);!ee&&W.grabbable()&&!W.locked()&&(ie.merge(W),o(W))},v=function(W,j){if(W.cy().hasCompoundNodes()&&!(j.inDragLayer==null&&j.addToList==null)){var ie=W.descendants();j.inDragLayer&&(ie.forEach(u),ie.connectedEdges().forEach(u)),j.addToList&&p(ie,j)}},m=function(W,j){j=j||{};var ie=W.cy().hasCompoundNodes();j.inDragLayer&&(W.forEach(u),W.neighborhood().stdFilter(function(ee){return!ie||ee.isEdge()}).forEach(u)),j.addToList&&W.forEach(function(ee){p(ee,j)}),v(W,j),w(W,{inDragLayer:j.inDragLayer}),t.updateCachedGrabbedEles()},x=m,y=function(W){W&&(t.getCachedZSortedEles().forEach(function(j){l(j),h(j),d(j)}),t.updateCachedGrabbedEles())},w=function(W,j){if(!(j.inDragLayer==null&&j.addToList==null)&&W.cy().hasCompoundNodes()){var ie=W.ancestors().orphans();if(!ie.same(W)){var ee=ie.descendants().spawnSelf().merge(ie).unmerge(W).unmerge(W.descendants()),le=ee.connectedEdges();j.inDragLayer&&(le.forEach(u),ee.forEach(u)),j.addToList&&ee.forEach(function(_e){p(_e,j)})}}},k=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},E=typeof MutationObserver<"u",C=typeof ResizeObserver<"u";E?(t.removeObserver=new MutationObserver(function(fe){for(var W=0;W<fe.length;W++){var j=fe[W],ie=j.removedNodes;if(ie)for(var ee=0;ee<ie.length;ee++){var le=ie[ee];if(le===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(fe){t.destroy()});var L=e6(function(){t.cy.resize()},100);E&&(t.styleObserver=new MutationObserver(L),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",L),C&&(t.resizeObserver=new ResizeObserver(L),t.resizeObserver.observe(t.container));var _=function(W,j){for(;W!=null;)j(W),W=W.parentNode},I=function(){t.invalidateContainerClientCoordsCache()};_(t.container,function(fe){t.registerBinding(fe,"transitionend",I),t.registerBinding(fe,"animationend",I),t.registerBinding(fe,"scroll",I)}),t.registerBinding(t.container,"contextmenu",function(fe){fe.preventDefault()});var M=function(){return t.selection[4]!==0},F=function(W){for(var j=t.findContainerClientCoords(),ie=j[0],ee=j[1],le=j[2],_e=j[3],ke=W.touches?W.touches:[W],Le=!1,Oe=0;Oe<ke.length;Oe++){var Me=ke[Oe];if(ie<=Me.clientX&&Me.clientX<=ie+le&&ee<=Me.clientY&&Me.clientY<=ee+_e){Le=!0;break}}if(!Le)return!1;for(var Ie=t.container,Fe=W.target,Ne=Fe.parentNode,He=!1;Ne;){if(Ne===Ie){He=!0;break}Ne=Ne.parentNode}return!!He};t.registerBinding(t.container,"mousedown",function(W){if(F(W)&&!(t.hoverData.which===1&&W.which!==1)){W.preventDefault(),k(),t.hoverData.capture=!0,t.hoverData.which=W.which;var j=t.cy,ie=[W.clientX,W.clientY],ee=t.projectIntoViewport(ie[0],ie[1]),le=t.selection,_e=t.findNearestElements(ee[0],ee[1],!0,!1),ke=_e[0],Le=t.dragData.possibleDragElements;t.hoverData.mdownPos=ee,t.hoverData.mdownGPos=ie;var Oe=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var it=t.hoverData.down;it?it.emit({originalEvent:W,type:"taphold",position:{x:ee[0],y:ee[1]}}):j.emit({originalEvent:W,type:"taphold",position:{x:ee[0],y:ee[1]}})}},t.tapholdDuration)};if(W.which==3){t.hoverData.cxtStarted=!0;var Me={originalEvent:W,type:"cxttapstart",position:{x:ee[0],y:ee[1]}};ke?(ke.activate(),ke.emit(Me),t.hoverData.down=ke):j.emit(Me),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(W.which==1){ke&&ke.activate();{if(ke!=null&&t.nodeIsGrabbable(ke)){var Ie=function(it){return{originalEvent:W,type:it,position:{x:ee[0],y:ee[1]}}},Fe=function(it){it.emit(Ie("grab"))};if(f(ke),!ke.selected())Le=t.dragData.possibleDragElements=j.collection(),x(ke,{addToList:Le}),ke.emit(Ie("grabon")).emit(Ie("grab"));else{Le=t.dragData.possibleDragElements=j.collection();var Ne=j.$(function(He){return He.isNode()&&He.selected()&&t.nodeIsGrabbable(He)});m(Ne,{addToList:Le}),ke.emit(Ie("grabon")),Ne.forEach(Fe)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=ke,t.hoverData.downs=_e,t.hoverData.downTime=new Date().getTime()}i(ke,["mousedown","tapstart","vmousedown"],W,{x:ee[0],y:ee[1]}),ke==null?(le[4]=1,t.data.bgActivePosistion={x:ee[0],y:ee[1]},t.redrawHint("select",!0),t.redraw()):ke.pannable()&&(le[4]=1),Oe()}le[0]=le[2]=ee[0],le[1]=le[3]=ee[1]}},!1);var N=n(t.container);t.registerBinding([e,N],"mousemove",function(W){var j=t.hoverData.capture;if(!(!j&&!F(W))){var ie=!1,ee=t.cy,le=ee.zoom(),_e=[W.clientX,W.clientY],ke=t.projectIntoViewport(_e[0],_e[1]),Le=t.hoverData.mdownPos,Oe=t.hoverData.mdownGPos,Me=t.selection,Ie=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Ie=t.findNearestElement(ke[0],ke[1],!0,!1));var Fe=t.hoverData.last,Ne=t.hoverData.down,He=[ke[0]-Me[2],ke[1]-Me[3]],it=t.dragData.possibleDragElements,lt;if(Oe){var ft=_e[0]-Oe[0],gt=ft*ft,_t=_e[1]-Oe[1],ct=_t*_t,at=gt+ct;t.hoverData.isOverThresholdDrag=lt=at>=t.desktopTapThreshold2}var Lt=a(W);lt&&(t.hoverData.tapholdCancelled=!0);var ut=function(){var Tr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Tr.length===0?(Tr.push(He[0]),Tr.push(He[1])):(Tr[0]+=He[0],Tr[1]+=He[1])};ie=!0,i(Ie,["mousemove","vmousemove","tapdrag"],W,{x:ke[0],y:ke[1]});var pt=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||ee.emit({originalEvent:W,type:"boxstart",position:{x:ke[0],y:ke[1]}}),Me[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(lt){var Zt={originalEvent:W,type:"cxtdrag",position:{x:ke[0],y:ke[1]}};Ne?Ne.emit(Zt):ee.emit(Zt),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Ie!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:W,type:"cxtdragout",position:{x:ke[0],y:ke[1]}}),t.hoverData.cxtOver=Ie,Ie&&Ie.emit({originalEvent:W,type:"cxtdragover",position:{x:ke[0],y:ke[1]}}))}}else if(t.hoverData.dragging){if(ie=!0,ee.panningEnabled()&&ee.userPanningEnabled()){var xt;if(t.hoverData.justStartedPan){var ht=t.hoverData.mdownPos;xt={x:(ke[0]-ht[0])*le,y:(ke[1]-ht[1])*le},t.hoverData.justStartedPan=!1}else xt={x:He[0]*le,y:He[1]*le};ee.panBy(xt),ee.emit("dragpan"),t.hoverData.dragged=!0}ke=t.projectIntoViewport(W.clientX,W.clientY)}else if(Me[4]==1&&(Ne==null||Ne.pannable())){if(lt){if(!t.hoverData.dragging&&ee.boxSelectionEnabled()&&(Lt||!ee.panningEnabled()||!ee.userPanningEnabled()))pt();else if(!t.hoverData.selecting&&ee.panningEnabled()&&ee.userPanningEnabled()){var Mt=s(Ne,t.hoverData.downs);Mt&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Me[4]=0,t.data.bgActivePosistion=kg(Le),t.redrawHint("select",!0),t.redraw())}Ne&&Ne.pannable()&&Ne.active()&&Ne.unactivate()}}else{if(Ne&&Ne.pannable()&&Ne.active()&&Ne.unactivate(),(!Ne||!Ne.grabbed())&&Ie!=Fe&&(Fe&&i(Fe,["mouseout","tapdragout"],W,{x:ke[0],y:ke[1]}),Ie&&i(Ie,["mouseover","tapdragover"],W,{x:ke[0],y:ke[1]}),t.hoverData.last=Ie),Ne)if(lt){if(ee.boxSelectionEnabled()&&Lt)Ne&&Ne.grabbed()&&(y(it),Ne.emit("freeon"),it.emit("free"),t.dragData.didDrag&&(Ne.emit("dragfreeon"),it.emit("dragfree"))),pt();else if(Ne&&Ne.grabbed()&&t.nodeIsDraggable(Ne)){var nr=!t.dragData.didDrag;nr&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||m(it,{inDragLayer:!0});var Yt={x:0,y:0};if($t(He[0])&&$t(He[1])&&(Yt.x+=He[0],Yt.y+=He[1],nr)){var wr=t.hoverData.dragDelta;wr&&$t(wr[0])&&$t(wr[1])&&(Yt.x+=wr[0],Yt.y+=wr[1])}t.hoverData.draggingEles=!0,it.silentShift(Yt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else ut();ie=!0}if(Me[2]=ke[0],Me[3]=ke[1],ie)return W.stopPropagation&&W.stopPropagation(),W.preventDefault&&W.preventDefault(),!1}},!1);var z,V,D;t.registerBinding(e,"mouseup",function(W){if(!(t.hoverData.which===1&&W.which!==1&&t.hoverData.capture)){var j=t.hoverData.capture;if(j){t.hoverData.capture=!1;var ie=t.cy,ee=t.projectIntoViewport(W.clientX,W.clientY),le=t.selection,_e=t.findNearestElement(ee[0],ee[1],!0,!1),ke=t.dragData.possibleDragElements,Le=t.hoverData.down,Oe=a(W);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Le&&Le.unactivate(),t.hoverData.which===3){var Me={originalEvent:W,type:"cxttapend",position:{x:ee[0],y:ee[1]}};if(Le?Le.emit(Me):ie.emit(Me),!t.hoverData.cxtDragged){var Ie={originalEvent:W,type:"cxttap",position:{x:ee[0],y:ee[1]}};Le?Le.emit(Ie):ie.emit(Ie)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(_e,["mouseup","tapend","vmouseup"],W,{x:ee[0],y:ee[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(Le,["click","tap","vclick"],W,{x:ee[0],y:ee[1]}),V=!1,W.timeStamp-D<=ie.multiClickDebounceTime()?(z&&clearTimeout(z),V=!0,D=null,i(Le,["dblclick","dbltap","vdblclick"],W,{x:ee[0],y:ee[1]})):(z=setTimeout(function(){V||i(Le,["oneclick","onetap","voneclick"],W,{x:ee[0],y:ee[1]})},ie.multiClickDebounceTime()),D=W.timeStamp)),Le==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!a(W)&&(ie.$(r).unselect(["tapunselect"]),ke.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=ke=ie.collection()),_e==Le&&!t.dragData.didDrag&&!t.hoverData.selecting&&_e!=null&&_e._private.selectable&&(t.hoverData.dragging||(ie.selectionType()==="additive"||Oe?_e.selected()?_e.unselect(["tapunselect"]):_e.select(["tapselect"]):Oe||(ie.$(r).unmerge(_e).unselect(["tapunselect"]),_e.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Fe=ie.collection(t.getAllInBox(le[0],le[1],le[2],le[3]));t.redrawHint("select",!0),Fe.length>0&&t.redrawHint("eles",!0),ie.emit({type:"boxend",originalEvent:W,position:{x:ee[0],y:ee[1]}});var Ne=function(lt){return lt.selectable()&&!lt.selected()};ie.selectionType()==="additive"||Oe||ie.$(r).unmerge(Fe).unselect(),Fe.emit("box").stdFilter(Ne).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!le[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var He=Le&&Le.grabbed();y(ke),He&&(Le.emit("freeon"),ke.emit("free"),t.dragData.didDrag&&(Le.emit("dragfreeon"),ke.emit("dragfree")))}}le[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var O=function(W){if(!t.scrollingPage){var j=t.cy,ie=j.zoom(),ee=j.pan(),le=t.projectIntoViewport(W.clientX,W.clientY),_e=[le[0]*ie+ee.x,le[1]*ie+ee.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||M()){W.preventDefault();return}if(j.panningEnabled()&&j.userPanningEnabled()&&j.zoomingEnabled()&&j.userZoomingEnabled()){W.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var ke;W.deltaY!=null?ke=W.deltaY/-250:W.wheelDeltaY!=null?ke=W.wheelDeltaY/1e3:ke=W.wheelDelta/1e3,ke=ke*t.wheelSensitivity;var Le=W.deltaMode===1;Le&&(ke*=33);var Oe=j.zoom()*Math.pow(10,ke);W.type==="gesturechange"&&(Oe=t.gestureStartZoom*W.scale),j.zoom({level:Oe,renderedPosition:{x:_e[0],y:_e[1]}}),j.emit(W.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",O,!0),t.registerBinding(e,"scroll",function(W){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(W){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||W.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(fe){t.hasTouchStarted||O(fe)},!0),t.registerBinding(t.container,"mouseout",function(W){var j=t.projectIntoViewport(W.clientX,W.clientY);t.cy.emit({originalEvent:W,type:"mouseout",position:{x:j[0],y:j[1]}})},!1),t.registerBinding(t.container,"mouseover",function(W){var j=t.projectIntoViewport(W.clientX,W.clientY);t.cy.emit({originalEvent:W,type:"mouseover",position:{x:j[0],y:j[1]}})},!1);var P,$,B,H,X,q,Y,U,J,ce,re,ve,ye,Z=function(W,j,ie,ee){return Math.sqrt((ie-W)*(ie-W)+(ee-j)*(ee-j))},ue=function(W,j,ie,ee){return(ie-W)*(ie-W)+(ee-j)*(ee-j)},ae;t.registerBinding(t.container,"touchstart",ae=function(W){if(t.hasTouchStarted=!0,!!F(W)){k(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var j=t.cy,ie=t.touchData.now,ee=t.touchData.earlier;if(W.touches[0]){var le=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);ie[0]=le[0],ie[1]=le[1]}if(W.touches[1]){var le=t.projectIntoViewport(W.touches[1].clientX,W.touches[1].clientY);ie[2]=le[0],ie[3]=le[1]}if(W.touches[2]){var le=t.projectIntoViewport(W.touches[2].clientX,W.touches[2].clientY);ie[4]=le[0],ie[5]=le[1]}if(W.touches[1]){t.touchData.singleTouchMoved=!0,y(t.dragData.touchDragEles);var _e=t.findContainerClientCoords();J=_e[0],ce=_e[1],re=_e[2],ve=_e[3],P=W.touches[0].clientX-J,$=W.touches[0].clientY-ce,B=W.touches[1].clientX-J,H=W.touches[1].clientY-ce,ye=0<=P&&P<=re&&0<=B&&B<=re&&0<=$&&$<=ve&&0<=H&&H<=ve;var ke=j.pan(),Le=j.zoom();X=Z(P,$,B,H),q=ue(P,$,B,H),Y=[(P+B)/2,($+H)/2],U=[(Y[0]-ke.x)/Le,(Y[1]-ke.y)/Le];var Oe=200,Me=Oe*Oe;if(q<Me&&!W.touches[2]){var Ie=t.findNearestElement(ie[0],ie[1],!0,!0),Fe=t.findNearestElement(ie[2],ie[3],!0,!0);Ie&&Ie.isNode()?(Ie.activate().emit({originalEvent:W,type:"cxttapstart",position:{x:ie[0],y:ie[1]}}),t.touchData.start=Ie):Fe&&Fe.isNode()?(Fe.activate().emit({originalEvent:W,type:"cxttapstart",position:{x:ie[0],y:ie[1]}}),t.touchData.start=Fe):j.emit({originalEvent:W,type:"cxttapstart",position:{x:ie[0],y:ie[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(W.touches[2])j.boxSelectionEnabled()&&W.preventDefault();else if(!W.touches[1]){if(W.touches[0]){var Ne=t.findNearestElements(ie[0],ie[1],!0,!0),He=Ne[0];if(He!=null&&(He.activate(),t.touchData.start=He,t.touchData.starts=Ne,t.nodeIsGrabbable(He))){var it=t.dragData.touchDragEles=j.collection(),lt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),He.selected()?(lt=j.$(function(at){return at.selected()&&t.nodeIsGrabbable(at)}),m(lt,{addToList:it})):x(He,{addToList:it}),f(He);var ft=function(Lt){return{originalEvent:W,type:Lt,position:{x:ie[0],y:ie[1]}}};He.emit(ft("grabon")),lt?lt.forEach(function(at){at.emit(ft("grab"))}):He.emit(ft("grab"))}i(He,["touchstart","tapstart","vmousedown"],W,{x:ie[0],y:ie[1]}),He==null&&(t.data.bgActivePosistion={x:le[0],y:le[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],W,{x:ie[0],y:ie[1]})},t.tapholdDuration)}}if(W.touches.length>=1){for(var gt=t.touchData.startPosition=[null,null,null,null,null,null],_t=0;_t<ie.length;_t++)gt[_t]=ee[_t]=ie[_t];var ct=W.touches[0];t.touchData.startGPosition=[ct.clientX,ct.clientY]}}},!1);var pe;t.registerBinding(e,"touchmove",pe=function(W){var j=t.touchData.capture;if(!(!j&&!F(W))){var ie=t.selection,ee=t.cy,le=t.touchData.now,_e=t.touchData.earlier,ke=ee.zoom();if(W.touches[0]){var Le=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);le[0]=Le[0],le[1]=Le[1]}if(W.touches[1]){var Le=t.projectIntoViewport(W.touches[1].clientX,W.touches[1].clientY);le[2]=Le[0],le[3]=Le[1]}if(W.touches[2]){var Le=t.projectIntoViewport(W.touches[2].clientX,W.touches[2].clientY);le[4]=Le[0],le[5]=Le[1]}var Oe=t.touchData.startGPosition,Me;if(j&&W.touches[0]&&Oe){for(var Ie=[],Fe=0;Fe<le.length;Fe++)Ie[Fe]=le[Fe]-_e[Fe];var Ne=W.touches[0].clientX-Oe[0],He=Ne*Ne,it=W.touches[0].clientY-Oe[1],lt=it*it,ft=He+lt;Me=ft>=t.touchTapThreshold2}if(j&&t.touchData.cxt){W.preventDefault();var gt=W.touches[0].clientX-J,_t=W.touches[0].clientY-ce,ct=W.touches[1].clientX-J,at=W.touches[1].clientY-ce,Lt=ue(gt,_t,ct,at),ut=Lt/q,pt=150,Zt=pt*pt,xt=1.5,ht=xt*xt;if(ut>=ht||Lt>=Zt){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Mt={originalEvent:W,type:"cxttapend",position:{x:le[0],y:le[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(Mt),t.touchData.start=null):ee.emit(Mt)}}if(j&&t.touchData.cxt){var Mt={originalEvent:W,type:"cxtdrag",position:{x:le[0],y:le[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Mt):ee.emit(Mt),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var nr=t.findNearestElement(le[0],le[1],!0,!0);(!t.touchData.cxtOver||nr!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:W,type:"cxtdragout",position:{x:le[0],y:le[1]}}),t.touchData.cxtOver=nr,nr&&nr.emit({originalEvent:W,type:"cxtdragover",position:{x:le[0],y:le[1]}}))}else if(j&&W.touches[2]&&ee.boxSelectionEnabled())W.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||ee.emit({originalEvent:W,type:"boxstart",position:{x:le[0],y:le[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,ie[4]=1,!ie||ie.length===0||ie[0]===void 0?(ie[0]=(le[0]+le[2]+le[4])/3,ie[1]=(le[1]+le[3]+le[5])/3,ie[2]=(le[0]+le[2]+le[4])/3+1,ie[3]=(le[1]+le[3]+le[5])/3+1):(ie[2]=(le[0]+le[2]+le[4])/3,ie[3]=(le[1]+le[3]+le[5])/3),t.redrawHint("select",!0),t.redraw();else if(j&&W.touches[1]&&!t.touchData.didSelect&&ee.zoomingEnabled()&&ee.panningEnabled()&&ee.userZoomingEnabled()&&ee.userPanningEnabled()){W.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Yt=t.dragData.touchDragEles;if(Yt){t.redrawHint("drag",!0);for(var wr=0;wr<Yt.length;wr++){var Gr=Yt[wr]._private;Gr.grabbed=!1,Gr.rscratch.inDragLayer=!1}}var Tr=t.touchData.start,gt=W.touches[0].clientX-J,_t=W.touches[0].clientY-ce,ct=W.touches[1].clientX-J,at=W.touches[1].clientY-ce,jn=Z(gt,_t,ct,at),sn=jn/X;if(ye){var Dn=gt-P,$r=_t-$,kn=ct-B,Ut=at-H,qe=(Dn+kn)/2,vt=($r+Ut)/2,Vt=ee.zoom(),yr=Vt*sn,un=ee.pan(),Yr=U[0]*Vt+un.x,Sn=U[1]*Vt+un.y,En={x:-yr/Vt*(Yr-un.x-qe)+Yr,y:-yr/Vt*(Sn-un.y-vt)+Sn};if(Tr&&Tr.active()){var Yt=t.dragData.touchDragEles;y(Yt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Tr.unactivate().emit("freeon"),Yt.emit("free"),t.dragData.didDrag&&(Tr.emit("dragfreeon"),Yt.emit("dragfree"))}ee.viewport({zoom:yr,pan:En,cancelOnFailedZoom:!0}),ee.emit("pinchzoom"),X=jn,P=gt,$=_t,B=ct,H=at,t.pinching=!0}if(W.touches[0]){var Le=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);le[0]=Le[0],le[1]=Le[1]}if(W.touches[1]){var Le=t.projectIntoViewport(W.touches[1].clientX,W.touches[1].clientY);le[2]=Le[0],le[3]=Le[1]}if(W.touches[2]){var Le=t.projectIntoViewport(W.touches[2].clientX,W.touches[2].clientY);le[4]=Le[0],le[5]=Le[1]}}else if(W.touches[0]&&!t.touchData.didSelect){var kt=t.touchData.start,ot=t.touchData.last,nr;if(!t.hoverData.draggingEles&&!t.swipePanning&&(nr=t.findNearestElement(le[0],le[1],!0,!0)),j&&kt!=null&&W.preventDefault(),j&&kt!=null&&t.nodeIsDraggable(kt))if(Me){var Yt=t.dragData.touchDragEles,tr=!t.dragData.didDrag;tr&&m(Yt,{inDragLayer:!0}),t.dragData.didDrag=!0;var St={x:0,y:0};if($t(Ie[0])&&$t(Ie[1])&&(St.x+=Ie[0],St.y+=Ie[1],tr)){t.redrawHint("eles",!0);var jt=t.touchData.dragDelta;jt&&$t(jt[0])&&$t(jt[1])&&(St.x+=jt[0],St.y+=jt[1])}t.hoverData.draggingEles=!0,Yt.silentShift(St).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==_e[0]&&t.touchData.startPosition[1]==_e[1]&&t.redrawHint("eles",!0),t.redraw()}else{var jt=t.touchData.dragDelta=t.touchData.dragDelta||[];jt.length===0?(jt.push(Ie[0]),jt.push(Ie[1])):(jt[0]+=Ie[0],jt[1]+=Ie[1])}if(i(kt||nr,["touchmove","tapdrag","vmousemove"],W,{x:le[0],y:le[1]}),(!kt||!kt.grabbed())&&nr!=ot&&(ot&&ot.emit({originalEvent:W,type:"tapdragout",position:{x:le[0],y:le[1]}}),nr&&nr.emit({originalEvent:W,type:"tapdragover",position:{x:le[0],y:le[1]}})),t.touchData.last=nr,j)for(var wr=0;wr<le.length;wr++)le[wr]&&t.touchData.startPosition[wr]&&Me&&(t.touchData.singleTouchMoved=!0);if(j&&(kt==null||kt.pannable())&&ee.panningEnabled()&&ee.userPanningEnabled()){var Ce=s(kt,t.touchData.starts);Ce&&(W.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=kg(t.touchData.startPosition)),t.swipePanning?(ee.panBy({x:Ie[0]*ke,y:Ie[1]*ke}),ee.emit("dragpan")):Me&&(t.swipePanning=!0,ee.panBy({x:Ne*ke,y:it*ke}),ee.emit("dragpan"),kt&&(kt.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Le=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);le[0]=Le[0],le[1]=Le[1]}}for(var Fe=0;Fe<le.length;Fe++)_e[Fe]=le[Fe];j&&W.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Ee;t.registerBinding(e,"touchcancel",Ee=function(W){var j=t.touchData.start;t.touchData.capture=!1,j&&j.unactivate()});var Se,de,be,oe;if(t.registerBinding(e,"touchend",Se=function(W){var j=t.touchData.start,ie=t.touchData.capture;if(ie)W.touches.length===0&&(t.touchData.capture=!1),W.preventDefault();else return;var ee=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var le=t.cy,_e=le.zoom(),ke=t.touchData.now,Le=t.touchData.earlier;if(W.touches[0]){var Oe=t.projectIntoViewport(W.touches[0].clientX,W.touches[0].clientY);ke[0]=Oe[0],ke[1]=Oe[1]}if(W.touches[1]){var Oe=t.projectIntoViewport(W.touches[1].clientX,W.touches[1].clientY);ke[2]=Oe[0],ke[3]=Oe[1]}if(W.touches[2]){var Oe=t.projectIntoViewport(W.touches[2].clientX,W.touches[2].clientY);ke[4]=Oe[0],ke[5]=Oe[1]}j&&j.unactivate();var Me;if(t.touchData.cxt){if(Me={originalEvent:W,type:"cxttapend",position:{x:ke[0],y:ke[1]}},j?j.emit(Me):le.emit(Me),!t.touchData.cxtDragged){var Ie={originalEvent:W,type:"cxttap",position:{x:ke[0],y:ke[1]}};j?j.emit(Ie):le.emit(Ie)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!W.touches[2]&&le.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Fe=le.collection(t.getAllInBox(ee[0],ee[1],ee[2],ee[3]));ee[0]=void 0,ee[1]=void 0,ee[2]=void 0,ee[3]=void 0,ee[4]=0,t.redrawHint("select",!0),le.emit({type:"boxend",originalEvent:W,position:{x:ke[0],y:ke[1]}});var Ne=function(Zt){return Zt.selectable()&&!Zt.selected()};Fe.emit("box").stdFilter(Ne).select().emit("boxselect"),Fe.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(j!=null&&j.unactivate(),W.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!W.touches[1]){if(!W.touches[0]){if(!W.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var He=t.dragData.touchDragEles;if(j!=null){var it=j._private.grabbed;y(He),t.redrawHint("drag",!0),t.redrawHint("eles",!0),it&&(j.emit("freeon"),He.emit("free"),t.dragData.didDrag&&(j.emit("dragfreeon"),He.emit("dragfree"))),i(j,["touchend","tapend","vmouseup","tapdragout"],W,{x:ke[0],y:ke[1]}),j.unactivate(),t.touchData.start=null}else{var lt=t.findNearestElement(ke[0],ke[1],!0,!0);i(lt,["touchend","tapend","vmouseup","tapdragout"],W,{x:ke[0],y:ke[1]})}var ft=t.touchData.startPosition[0]-ke[0],gt=ft*ft,_t=t.touchData.startPosition[1]-ke[1],ct=_t*_t,at=gt+ct,Lt=at*_e*_e;t.touchData.singleTouchMoved||(j||le.$(":selected").unselect(["tapunselect"]),i(j,["tap","vclick"],W,{x:ke[0],y:ke[1]}),de=!1,W.timeStamp-oe<=le.multiClickDebounceTime()?(be&&clearTimeout(be),de=!0,oe=null,i(j,["dbltap","vdblclick"],W,{x:ke[0],y:ke[1]})):(be=setTimeout(function(){de||i(j,["onetap","voneclick"],W,{x:ke[0],y:ke[1]})},le.multiClickDebounceTime()),oe=W.timeStamp)),j!=null&&!t.dragData.didDrag&&j._private.selectable&&Lt<t.touchTapThreshold2&&!t.pinching&&(le.selectionType()==="single"?(le.$(r).unmerge(j).unselect(["tapunselect"]),j.select(["tapselect"])):j.selected()?j.unselect(["tapunselect"]):j.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var ut=0;ut<ke.length;ut++)Le[ut]=ke[ut];t.dragData.didDrag=!1,W.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),W.touches.length<2&&(W.touches.length===1&&(t.touchData.startGPosition=[W.touches[0].clientX,W.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var we=[],Re=function(W){return{clientX:W.clientX,clientY:W.clientY,force:1,identifier:W.pointerId,pageX:W.pageX,pageY:W.pageY,radiusX:W.width/2,radiusY:W.height/2,screenX:W.screenX,screenY:W.screenY,target:W.target}},Pe=function(W){return{event:W,touch:Re(W)}},Ge=function(W){we.push(Pe(W))},je=function(W){for(var j=0;j<we.length;j++){var ie=we[j];if(ie.event.pointerId===W.pointerId){we.splice(j,1);return}}},We=function(W){var j=we.filter(function(ie){return ie.event.pointerId===W.pointerId})[0];j.event=W,j.touch=Re(W)},me=function(W){W.touches=we.map(function(j){return j.touch})},Te=function(W){return W.pointerType==="mouse"||W.pointerType===4};t.registerBinding(t.container,"pointerdown",function(fe){Te(fe)||(fe.preventDefault(),Ge(fe),me(fe),ae(fe))}),t.registerBinding(t.container,"pointerup",function(fe){Te(fe)||(je(fe),me(fe),Se(fe))}),t.registerBinding(t.container,"pointercancel",function(fe){Te(fe)||(je(fe),me(fe),Ee(fe))}),t.registerBinding(t.container,"pointermove",function(fe){Te(fe)||(fe.preventDefault(),We(fe),me(fe),pe(fe))})}};var bh={};bh.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,i,a,s,o,l){this.renderer.nodeShapeImpl("polygon",n,i,a,s,o,this.points)},intersectLine:function(n,i,a,s,o,l,u,h){return j2(o,l,this.points,n,i,a/2,s/2,u)},checkPoint:function(n,i,a,s,o,l,u,h){return ch(n,i,this.points,l,u,s,o,[0,-1],a)}}};bh.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,s,o,l){return ltt(a,s,e,r,n/2+o,i/2+o)},checkPoint:function(e,r,n,i,a,s,o,l){return r0(e,r,i,a,s,o,n)}}};bh.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,i,a,s,o,l,u){if(l[u]!==void 0&&l[u+"-cx"]===n&&l[u+"-cy"]===i)return l[u];l[u]=new Array(e.length/2),l[u+"-cx"]=n,l[u+"-cy"]=i;var h=a/2,f=s/2;o=o==="auto"?lce(a,s):o;for(var d=new Array(e.length/2),p=0;p<e.length/2;p++)d[p]={x:n+h*e[p*2],y:i+f*e[p*2+1]};var v,m,x,y,w=d.length;for(m=d[w-1],v=0;v<w;v++)x=d[v%w],y=d[(v+1)%w],l[u][v]=bO(m,x,y,o),m=x,x=y;return l[u]},draw:function(n,i,a,s,o,l,u){this.renderer.nodeShapeImpl("round-polygon",n,i,a,s,o,this.points,this.getOrCreateCorners(i,a,s,o,l,u,"drawCorners"))},intersectLine:function(n,i,a,s,o,l,u,h,f){return utt(o,l,this.points,n,i,a,s,u,this.getOrCreateCorners(n,i,a,s,h,f,"corners"))},checkPoint:function(n,i,a,s,o,l,u,h,f){return ott(n,i,this.points,l,u,s,o,this.getOrCreateCorners(l,u,s,o,h,f,"corners"))}}};bh.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:_s(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,this.points,s)},intersectLine:function(e,r,n,i,a,s,o,l){return sce(a,s,e,r,n,i,o,l)},checkPoint:function(e,r,n,i,a,s,o,l){var u=i/2,h=a/2;l=l==="auto"?U0(i,a):l,l=Math.min(u,h,l);var f=l*2;return!!(ch(e,r,this.points,s,o,i,a-f,[0,-1],n)||ch(e,r,this.points,s,o,i-f,a,[0,-1],n)||r0(e,r,f,f,s-u+l,o-h+l,n)||r0(e,r,f,f,s+u-l,o-h+l,n)||r0(e,r,f,f,s+u-l,o+h-l,n)||r0(e,r,f,f,s-u+l,o+h-l,n))}}};bh.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:lO(),points:_s(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,null,s)},generateCutTrianglePts:function(e,r,n,i,a){var s=a==="auto"?this.cornerLength:a,o=r/2,l=e/2,u=n-l,h=n+l,f=i-o,d=i+o;return{topLeft:[u,f+s,u+s,f,u+s,f+s],topRight:[h-s,f,h,f+s,h-s,f+s],bottomRight:[h,d-s,h-s,d,h-s,d-s],bottomLeft:[u+s,d,u,d-s,u+s,d-s]}},intersectLine:function(e,r,n,i,a,s,o,l){var u=this.generateCutTrianglePts(n+2*o,i+2*o,e,r,l),h=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return j2(a,s,h,e,r)},checkPoint:function(e,r,n,i,a,s,o,l){var u=l==="auto"?this.cornerLength:l;if(ch(e,r,this.points,s,o,i,a-2*u,[0,-1],n)||ch(e,r,this.points,s,o,i-2*u,a,[0,-1],n))return!0;var h=this.generateCutTrianglePts(i,a,s,o);return ro(e,r,h.topLeft)||ro(e,r,h.topRight)||ro(e,r,h.bottomRight)||ro(e,r,h.bottomLeft)}}};bh.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:_s(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,s,o,l){var u=.15,h=.5,f=.85,d=this.generateBarrelBezierPts(n+2*o,i+2*o,e,r),p=function(x){var y=Ug({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},u),w=Ug({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},h),k=Ug({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},f);return[x[0],x[1],y.x,y.y,w.x,w.y,k.x,k.y,x[4],x[5]]},v=[].concat(p(d.topLeft),p(d.topRight),p(d.bottomRight),p(d.bottomLeft));return j2(a,s,v,e,r)},generateBarrelBezierPts:function(e,r,n,i){var a=r/2,s=e/2,o=n-s,l=n+s,u=i-a,h=i+a,f=aD(e,r),d=f.heightOffset,p=f.widthOffset,v=f.ctrlPtOffsetPct*e,m={topLeft:[o,u+d,o+v,u,o+p,u],topRight:[l-p,u,l-v,u,l,u+d],bottomRight:[l,h-d,l-v,h,l-p,h],bottomLeft:[o+p,h,o+v,h,o,h-d]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},checkPoint:function(e,r,n,i,a,s,o,l){var u=aD(i,a),h=u.heightOffset,f=u.widthOffset;if(ch(e,r,this.points,s,o,i,a-2*h,[0,-1],n)||ch(e,r,this.points,s,o,i-2*f,a,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(i,a,s,o),p=function(I,M,F){var N=F[4],z=F[2],V=F[0],D=F[5],O=F[1],P=Math.min(N,V),$=Math.max(N,V),B=Math.min(D,O),H=Math.max(D,O);if(P<=I&&I<=$&&B<=M&&M<=H){var X=ctt(N,z,V),q=ntt(X[0],X[1],X[2],I),Y=q.filter(function(U){return 0<=U&&U<=1});if(Y.length>0)return Y[0]}return null},v=Object.keys(d),m=0;m<v.length;m++){var x=v[m],y=d[x],w=p(e,r,y);if(w!=null){var k=y[5],E=y[3],C=y[1],L=pa(k,E,C,w);if(y.isTop&&L<=r||y.isBottom&&r<=L)return!0}}return!1}}};bh.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:_s(4,0),draw:function(e,r,n,i,a,s){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,this.points,s)},intersectLine:function(e,r,n,i,a,s,o,l){var u=e-(n/2+o),h=r-(i/2+o),f=h,d=e+(n/2+o),p=uf(a,s,e,r,u,h,d,f,!1);return p.length>0?p:sce(a,s,e,r,n,i,o,l)},checkPoint:function(e,r,n,i,a,s,o,l){l=l==="auto"?U0(i,a):l;var u=2*l;if(ch(e,r,this.points,s,o,i,a-u,[0,-1],n)||ch(e,r,this.points,s,o,i-u,a,[0,-1],n))return!0;var h=i/2+2*n,f=a/2+2*n,d=[s-h,o-f,s-h,o,s+h,o,s+h,o-f];return!!(ro(e,r,d)||r0(e,r,u,u,s+i/2-l,o+a/2-l,n)||r0(e,r,u,u,s-i/2+l,o+a/2-l,n))}}};bh.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",_s(3,0)),this.generateRoundPolygon("round-triangle",_s(3,0)),this.generatePolygon("rectangle",_s(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",_s(5,0)),this.generateRoundPolygon("round-pentagon",_s(5,0)),this.generatePolygon("hexagon",_s(6,0)),this.generateRoundPolygon("round-hexagon",_s(6,0)),this.generatePolygon("heptagon",_s(7,0)),this.generateRoundPolygon("round-heptagon",_s(7,0)),this.generatePolygon("octagon",_s(8,0)),this.generateRoundPolygon("round-octagon",_s(8,0));var n=new Array(20);{var i=iD(5,0),a=iD(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<a.length/2;o++)a[o*2]*=s,a[o*2+1]*=s;for(var o=0;o<20/4;o++)n[o*4]=i[o*2],n[o*4+1]=i[o*2+1],n[o*4+2]=a[o*2],n[o*4+3]=a[o*2+1]}n=oce(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}t.makePolygon=function(u){var h=u.join("$"),f="polygon-"+h,d;return(d=this[f])?d:e.generatePolygon(f,u)}};var Hb={};Hb.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Hb.redraw=function(t){t=t||tce();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Hb.beforeRender=function(t,e){if(!this.destroyed){e==null&&bi("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}};var yq=function(e,r,n){for(var i=e.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(r,n)};Hb.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){yq(t,!0,i);var a=uh();t.render(t.renderOptions);var s=t.lastDrawTime=uh();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-a),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var o=s-a;t.redrawTotalTime+=o,t.lastRedrawTime=o,t.averageRedrawTime=t.averageRedrawTime/2+o/2,t.requestedFrame=!1}else yq(t,!1,i);t.skipFrame=!1,_S(n)}};_S(r)}};var Wat=function(e){this.init(e)},she=Wat,Cv=she.prototype;Cv.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Cv.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var i=n.document,a=i.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",l=i.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!l){var u=i.createElement("style");u.id=s,u.textContent="."+o+" { position: relative; }",a.insertBefore(u,a.children[0])}var h=n.getComputedStyle(r),f=h.getPropertyValue("position");f==="static"&&gn("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=$t(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Cv.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Cv.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};Cv.isHeadless=function(){return!1};[xO,ihe,ahe,Tv,bh,Hb].forEach(function(t){Er(Cv,t)});var lA=1e3/60,ohe={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var a=e6(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),s=function(u,h){var f=uh(),d=i.averageRedrawTime,p=i.lastRedrawTime,v=[],m=i.cy.extent(),x=i.getPixelRatio();for(u||i.flushRenderedStyleQueue();;){var y=uh(),w=y-f,k=y-h;if(p<lA){var E=lA-(u?d:0);if(k>=e.deqFastCost*E)break}else if(u){if(w>=e.deqCost*p||w>=e.deqAvgCost*d)break}else if(k>=e.deqNoDrawCost*lA)break;var C=e.deq(n,x,m);if(C.length>0)for(var L=0;L<C.length;L++)v.push(C[L]);else break}v.length>0&&(e.onDeqd(n,v),!u&&e.shouldRedraw(n,v,x,m)&&a())},o=e.priority||iO;i.beforeRender(s,o(n))}}}},qat=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:LS;JI(this,t),this.idsByKey=new Hu,this.keyForId=new Hu,this.cachesByLvl=new Hu,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return eO(t,[{key:"getIdsFor",value:function(r){r==null&&bi("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new yv,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(a,n),this.keyForId.set(n,a)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);return i!==a}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,a=n.get(r);return a||(a=new Hu,n.set(r,a),i.push(r)),a}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),a=this.getCache(i,n);return a!=null&&this.updateKeyMappingFor(r),a}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),a=this.getCache(i,n);return a}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var a=this.getKey(r);this.setCache(a,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var a=this.doesEleInvalidateKey(r);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}]),t}(),xq=25,U3=50,Jw=-4,vD=3,Yat=7.99,Xat=8,jat=1024,Kat=1024,Qat=1024,Zat=.2,Jat=.8,est=10,tst=.15,rst=.1,nst=.9,ist=.9,ast=100,sst=1,Sg={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},ost=ja({getKey:null,doesEleInvalidateKey:LS,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Zue,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),py=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var i=ost(r);Er(n,i),n.lookup=new qat(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},ha=py.prototype;ha.reasons=Sg;ha.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};ha.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};ha.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Pb(function(r,n){return n.reqs-r.reqs});return e};ha.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};ha.getElement=function(t,e,r,n,i){var a=this,s=this.renderer,o=s.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!a.allowEdgeTxrCaching&&t.isEdge()||!a.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(sO(o*r))),n<Jw)n=Jw;else if(o>=Yat||n>vD)return null;var u=Math.pow(2,n),h=e.h*u,f=e.w*u,d=s.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,d))return null;var p=l.get(t,n);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;var v;if(h<=xq?v=xq:h<=U3?v=U3:v=Math.ceil(h/U3)*U3,h>Qat||f>Kat)return null;var m=a.getTextureQueue(v),x=m[m.length-2],y=function(){return a.recycleTexture(v,f)||a.addTexture(v,f)};x||(x=m[m.length-1]),x||(x=y()),x.width-x.usedWidth<f&&(x=y());for(var w=function(P){return P&&P.scaledLabelShown===d},k=i&&i===Sg.dequeue,E=i&&i===Sg.highQuality,C=i&&i===Sg.downscale,L,_=n+1;_<=vD;_++){var I=l.get(t,_);if(I){L=I;break}}var M=L&&L.level===n+1?L:null,F=function(){x.context.drawImage(M.texture.canvas,M.x,0,M.width,M.height,x.usedWidth,0,f,h)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,f,v),w(M))F();else if(w(L))if(E){for(var N=L.level;N>n;N--)M=a.getElement(t,e,r,N,Sg.downscale);F()}else return a.queueElement(t,L.level-1),L;else{var z;if(!k&&!E&&!C)for(var V=n-1;V>=Jw;V--){var D=l.get(t,V);if(D){z=D;break}}if(w(z))return a.queueElement(t,n),z;x.context.translate(x.usedWidth,0),x.context.scale(u,u),this.drawElement(x.context,t,e,d,!1),x.context.scale(1/u,1/u),x.context.translate(-x.usedWidth,0)}return p={x:x.usedWidth,texture:x,level:n,scale:u,width:f,height:h,scaledLabelShown:d},x.usedWidth+=Math.ceil(f+Xat),x.eleCaches.push(p),l.set(t,n,p),a.checkTextureFullness(x),p};ha.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};ha.invalidateElement=function(t){var e=this,r=e.lookup,n=[],i=r.isInvalid(t);if(i){for(var a=Jw;a<=vD;a++){var s=r.getForCachedKey(t,a);s&&n.push(s)}var o=r.invalidate(t);if(o)for(var l=0;l<n.length;l++){var u=n[l],h=u.texture;h.invalidatedWidth+=u.width,u.invalidated=!0,e.checkTextureUtility(h)}e.removeFromQueue(t)}};ha.checkTextureUtility=function(t){t.invalidatedWidth>=Zat*t.width&&this.retireTexture(t)};ha.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>Jat&&t.fullnessChecks>=est?Gf(r,t):t.fullnessChecks++};ha.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),i=this.lookup;Gf(n,t),t.retired=!0;for(var a=t.eleCaches,s=0;s<a.length;s++){var o=a[s];i.deleteCache(o.key,o.level)}aO(a);var l=e.getRetiredTextureQueue(r);l.push(t)};ha.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),i={};return n.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(jat,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};ha.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),i=r.getRetiredTextureQueue(t),a=0;a<i.length;a++){var s=i[a];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,aO(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),Gf(i,s),n.push(s),s}};ha.queueElement=function(t,e){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),a=this.getKey(t),s=i[a];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var o={eles:t.spawn().merge(t),level:e,reqs:1,key:a};n.push(o),i[a]=o}};ha.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],a=e.lookup,s=0;s<sst&&r.size()>0;s++){var o=r.pop(),l=o.key,u=o.eles[0],h=a.hasCache(u,o.level);if(n[l]=null,h)continue;i.push(o);var f=e.getBoundingBox(u);e.getElement(u,f,t,o.level,Sg.dequeue)}return i};ha.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(t),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=nO,r.updateItem(a),r.pop(),n[i]=null):a.eles.unmerge(t))};ha.onDequeue=function(t){this.onDequeues.push(t)};ha.offDequeue=function(t){Gf(this.onDequeues,t)};ha.setupDequeueing=ohe.setupDequeueing({deqRedrawThreshold:ast,deqCost:tst,deqAvgCost:rst,deqNoDrawCost:nst,deqFastCost:ist,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(r)}},shouldRedraw:function(e,r,n,i){for(var a=0;a<r.length;a++)for(var s=r[a].eles,o=0;o<s.length;o++){var l=s[o].boundingBox();if(oO(l,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var lst=1,$y=-4,PS=2,ust=3.99,cst=50,hst=50,fst=.15,dst=.1,pst=.9,gst=.9,vst=1,bq=250,mst=4e3*4e3,wq=32767,yst=!0,lhe=function(e){var r=this,n=r.renderer=e,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=uh()-2*bq,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=e6(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},hst),n.beforeRender(function(s,o){o-r.lastInvalidationTime<=bq?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var a=function(o,l){return l.reqs-o.reqs};r.layersQueue=new Pb(a),r.setupDequeueing()},Ka=lhe.prototype,kq=0,xst=Math.pow(2,53)-1;Ka.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),a=this.renderer.makeOffscreenCanvas(n,i),s={id:kq=++kq%xst,bb:t,level:e,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,l=-s.bb.x1,u=-s.bb.y1;return o.scale(r,r),o.translate(l,u),s};Ka.getLayers=function(t,e,r){var n=this,i=n.renderer,a=i.cy,s=a.zoom(),o=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(sO(s*e)),r<$y)r=$y;else if(s>=ust||r>PS)return null}n.validateLayersElesOrdering(r,t);var l=n.layersByLevel,u=Math.pow(2,r),h=l[r]=l[r]||[],f,d=n.levelIsComplete(r,t),p,v=function(){var F=function(O){if(n.validateLayersElesOrdering(O,t),n.levelIsComplete(O,t))return p=l[O],!0},N=function(O){if(!p)for(var P=r+O;$y<=P&&P<=PS&&!F(P);P+=O);};N(1),N(-1);for(var z=h.length-1;z>=0;z--){var V=h[z];V.invalid&&Gf(h,V)}};if(!d)v();else return h;var m=function(){if(!f){f=mo();for(var F=0;F<t.length;F++)ice(f,t[F].boundingBox())}return f},x=function(F){F=F||{};var N=F.after;m();var z=Math.ceil(f.w*u),V=Math.ceil(f.h*u);if(z>wq||V>wq)return null;var D=z*V;if(D>mst)return null;var O=n.makeLayer(f,r);if(N!=null){var P=h.indexOf(N)+1;h.splice(P,0,O)}else(F.insert===void 0||F.insert)&&h.unshift(O);return O};if(n.skipping&&!o)return null;for(var y=null,w=t.length/lst,k=!o,E=0;E<t.length;E++){var C=t[E],L=C._private.rscratch,_=L.imgLayerCaches=L.imgLayerCaches||{},I=_[r];if(I){y=I;continue}if((!y||y.eles.length>=w||!ace(y.bb,C.boundingBox()))&&(y=x({insert:!0,after:y}),!y))return null;p||k?n.queueLayer(y,C):n.drawEleInLayer(y,C,r,e),y.eles.push(C),_[r]=y}return p||(k?null:h)};Ka.getEleLevelForLayerLevel=function(t,e){return t};Ka.drawEleInLayer=function(t,e,r,n){var i=this,a=this.renderer,s=t.context,o=e.boundingBox();o.w===0||o.h===0||!e.visible()||(r=i.getEleLevelForLayerLevel(r,n),a.setImgSmoothing(s,!1),a.drawCachedElement(s,e,null,null,r,yst),a.setImgSmoothing(s,!0))};Ka.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var s=n[a];if(s.reqs>0||s.invalid)return!1;i+=s.eles.length}return i===e.length};Ka.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,s=0;s<e.length;s++)if(i.eles[0]===e[s]){a=s;break}if(a<0){this.invalidateLayer(i);continue}for(var o=a,s=0;s<i.eles.length;s++)if(i.eles[s]!==e[o+s]){this.invalidateLayer(i);break}}};Ka.updateElementsInLayers=function(t,e){for(var r=this,n=Ob(t[0]),i=0;i<t.length;i++)for(var a=n?null:t[i],s=n?t[i]:t[i].ele,o=s._private.rscratch,l=o.imgLayerCaches=o.imgLayerCaches||{},u=$y;u<=PS;u++){var h=l[u];h&&(a&&r.getEleLevelForLayerLevel(h.level)!==a.level||e(h,s,a))}};Ka.haveLayers=function(){for(var t=this,e=!1,r=$y;r<=PS;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Ka.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=uh(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,i,a){e.invalidateLayer(n)}))};Ka.invalidateLayer=function(t){if(this.lastInvalidationTime=uh(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];Gf(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}};Ka.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,i,a){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var o=0;o<s.eles.length;o++)e.queueLayer(s,s.eles[o])})};Ka.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Ka.queueLayer=function(t,e){var r=this,n=r.layersQueue,i=t.elesQueue,a=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(a[e.id()])return;i.push(e),a[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Ka.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<vst&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var s=a.elesQueue.shift();s&&(e.drawEleInLayer(a,s,a.level,t),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&e.applyLayerReplacement(a),e.requestRedraw())}return n};Ka.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=t;for(var a=0;a<t.eles.length;a++){var s=t.eles[a]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[t.level]=t)}e.requestRedraw()}};Ka.requestRedraw=e6(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Ka.setupDequeueing=ohe.setupDequeueing({deqRedrawThreshold:cst,deqCost:fst,deqAvgCost:dst,deqNoDrawCost:pst,deqFastCost:gst,deq:function(e,r){return e.dequeue(r)},onDeqd:iO,shouldRedraw:Zue,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var uhe={},Sq;function bst(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function wst(t,e,r){for(var n,i=0;i<e.length;i++){var a=e[i];i===0&&(n=a),t.lineTo(a.x,a.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function Eq(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var a=n[i];t.lineTo(a.x,a.y)}var s=r,o=r[0];t.moveTo(o.x,o.y);for(var i=1;i<s.length;i++){var a=s[i];t.lineTo(a.x,a.y)}t.closePath&&t.closePath()}function kst(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,Math.PI*2,!1);var a=e,s=a[0];t.moveTo(s.x,s.y);for(var o=0;o<a.length;o++){var l=a[o];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function Sst(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}uhe.arrowShapeImpl=function(t){return(Sq||(Sq={polygon:bst,"triangle-backcurve":wst,"triangle-tee":Eq,"circle-triangle":kst,"triangle-cross":Eq,circle:Sst}))[t]};var oc={};oc.drawElement=function(t,e,r,n,i,a){var s=this;e.isNode()?s.drawNode(t,e,r,n,i,a):s.drawEdge(t,e,r,n,i,a)};oc.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};oc.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};oc.drawCachedElementPortion=function(t,e,r,n,i,a,s,o){var l=this,u=r.getBoundingBox(e);if(!(u.w===0||u.h===0)){var h=r.getElement(e,u,n,i,a);if(h!=null){var f=o(l,e);if(f===0)return;var d=s(l,e),p=u.x1,v=u.y1,m=u.w,x=u.h,y,w,k,E,C;if(d!==0){var L=r.getRotationPoint(e);k=L.x,E=L.y,t.translate(k,E),t.rotate(d),C=l.getImgSmoothing(t),C||l.setImgSmoothing(t,!0);var _=r.getRotationOffset(e);y=_.x,w=_.y}else y=p,w=v;var I;f!==1&&(I=t.globalAlpha,t.globalAlpha=I*f),t.drawImage(h.texture.canvas,h.x,0,h.width,h.height,y,w,m,x),f!==1&&(t.globalAlpha=I),d!==0&&(t.rotate(-d),t.translate(-k,-E),C||l.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var Est=function(){return 0},Tst=function(e,r){return e.getTextAngle(r,null)},Cst=function(e,r){return e.getTextAngle(r,"source")},Ast=function(e,r){return e.getTextAngle(r,"target")},_st=function(e,r){return r.effectiveOpacity()},uA=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};oc.drawCachedElement=function(t,e,r,n,i,a){var s=this,o=s.data,l=o.eleTxrCache,u=o.lblTxrCache,h=o.slbTxrCache,f=o.tlbTxrCache,d=e.boundingBox(),p=a===!0?l.reasons.highQuality:null;if(!(d.w===0||d.h===0||!e.visible())&&(!n||oO(d,n))){var v=e.isEdge(),m=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,l,r,i,p,Est,_st),(!v||!m)&&s.drawCachedElementPortion(t,e,u,r,i,p,Tst,uA),v&&!m&&(s.drawCachedElementPortion(t,e,h,r,i,p,Cst,uA),s.drawCachedElementPortion(t,e,f,r,i,p,Ast,uA)),s.drawElementOverlay(t,e)}};oc.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var i=e[n];r.drawElement(t,i)}};oc.drawCachedElements=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var s=e[a];i.drawCachedElement(t,s,r,n)}};oc.drawCachedNodes=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var s=e[a];s.isNode()&&i.drawCachedElement(t,s,r,n)}};oc.drawLayeredElements=function(t,e,r,n){var i=this,a=i.data.lyrTxrCache.getLayers(e,r);if(a)for(var s=0;s<a.length;s++){var o=a[s],l=o.bb;l.w===0||l.h===0||t.drawImage(o.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(t,e,r,n)};var wh={};wh.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=e._private.rscratch;if(!(a&&!e.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var l;r&&(l=r,t.translate(-l.x1,-l.y1));var u=a?e.pstyle("opacity").value:1,h=a?e.pstyle("line-opacity").value:1,f=e.pstyle("curve-style").value,d=e.pstyle("line-style").value,p=e.pstyle("width").pfValue,v=e.pstyle("line-cap").value,m=e.pstyle("line-outline-width").value,x=e.pstyle("line-outline-color").value,y=u*h,w=u*h,k=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;f==="straight-triangle"?(s.eleStrokeStyle(t,e,O),s.drawEdgeTrianglePath(e,t,o.allpts)):(t.lineWidth=p,t.lineCap=v,s.eleStrokeStyle(t,e,O),s.drawEdgePath(e,t,o.allpts,d),t.lineCap="butt")},E=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;if(t.lineWidth=p+m,t.lineCap=v,m>0)s.colorStrokeStyle(t,x[0],x[1],x[2],O);else{t.lineCap="butt";return}f==="straight-triangle"?s.drawEdgeTrianglePath(e,t,o.allpts):(s.drawEdgePath(e,t,o.allpts,d),t.lineCap="butt")},C=function(){i&&s.drawEdgeOverlay(t,e)},L=function(){i&&s.drawEdgeUnderlay(t,e)},_=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;s.drawArrowheads(t,e,O)},I=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var M=e.pstyle("ghost").value==="yes";if(M){var F=e.pstyle("ghost-offset-x").pfValue,N=e.pstyle("ghost-offset-y").pfValue,z=e.pstyle("ghost-opacity").value,V=y*z;t.translate(F,N),k(V),_(V),t.translate(-F,-N)}else E();L(),k(),_(),C(),I(),r&&t.translate(l.x1,l.y1)}};var che=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var a=this,s=a.usePaths(),o=n._private.rscratch,l=n.pstyle("".concat(e,"-padding")).pfValue,u=2*l,h=n.pstyle("".concat(e,"-color")).value;r.lineWidth=u,o.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",a.colorStrokeStyle(r,h[0],h[1],h[2],i),a.drawEdgePath(n,r,o.allpts,"solid")}}}};wh.drawEdgeOverlay=che("overlay");wh.drawEdgeUnderlay=che("underlay");wh.drawEdgePath=function(t,e,r,n){var i=t._private.rscratch,a=e,s,o=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,h=t.pstyle("line-dash-offset").pfValue;if(l){var f=r.join("$"),d=i.pathCacheKey&&i.pathCacheKey===f;d?(s=e=i.pathCache,o=!0):(s=e=new Path2D,i.pathCacheKey=f,i.pathCache=s)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=h;break;case"solid":a.setLineDash([]);break}if(!o&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<r.length;p+=4)e.quadraticCurveTo(r[p],r[p+1],r[p+2],r[p+3]);break;case"straight":case"haystack":for(var v=2;v+1<r.length;v+=2)e.lineTo(r[v],r[v+1]);break;case"segments":if(i.isRound){var m=Bue(i.roundCorners),x;try{for(m.s();!(x=m.n()).done;){var y=x.value;Jce(e,y)}}catch(k){m.e(k)}finally{m.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var w=2;w+1<r.length;w+=2)e.lineTo(r[w],r[w+1]);break}e=a,l?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};wh.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=[a[1]/s,-a[0]/s],l=[o[0]*n/2,o[1]*n/2];e.beginPath(),e.moveTo(r[i]-l[0],r[i+1]-l[1]),e.lineTo(r[i]+l[0],r[i+1]+l[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}};wh.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};wh.drawArrowhead=function(t,e,r,n,i,a,s){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var o=this,l=e.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",h=e.pstyle(r+"-arrow-fill").value,f=e.pstyle("width").pfValue,d=e.pstyle(r+"-arrow-width"),p=d.value==="match-line"?f:d.pfValue;d.units==="%"&&(p*=f);var v=e.pstyle("opacity").value;s===void 0&&(s=v);var m=t.globalCompositeOperation;(s!==1||h==="hollow")&&(t.globalCompositeOperation="destination-out",o.colorFillStyle(t,255,255,255,1),o.colorStrokeStyle(t,255,255,255,1),o.drawArrowShape(e,t,u,f,l,p,n,i,a),t.globalCompositeOperation=m);var x=e.pstyle(r+"-arrow-color").value;o.colorFillStyle(t,x[0],x[1],x[2],s),o.colorStrokeStyle(t,x[0],x[1],x[2],s),o.drawArrowShape(e,t,h,f,l,p,n,i,a)}}};wh.drawArrowShape=function(t,e,r,n,i,a,s,o,l){var u=this,h=this.usePaths()&&i!=="triangle-cross",f=!1,d,p=e,v={x:s,y:o},m=t.pstyle("arrow-scale").value,x=this.getArrowWidth(n,m),y=u.arrowShapes[i];if(h){var w=u.arrowPathCache=u.arrowPathCache||[],k=H0(i),E=w[k];E!=null?(d=e=E,f=!0):(d=e=new Path2D,w[k]=d)}f||(e.beginPath&&e.beginPath(),h?y.draw(e,1,0,{x:0,y:0},1):y.draw(e,x,l,v,n),e.closePath&&e.closePath()),e=p,h&&(e.translate(s,o),e.rotate(l),e.scale(x,x)),(r==="filled"||r==="both")&&(h?e.fill(d):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=a/(h?x:1),e.lineJoin="miter",h?e.stroke(d):e.stroke()),h&&(e.scale(1/x,1/x),e.rotate(-l),e.translate(-s,-o))};var kO={};kO.safeDrawImage=function(t,e,r,n,i,a,s,o,l,u){if(!(i<=0||a<=0||l<=0||u<=0))try{t.drawImage(e,r,n,i,a,s,o,l,u)}catch(h){gn(h)}};kO.drawInscribedImage=function(t,e,r,n,i){var a=this,s=r.position(),o=s.x,l=s.y,u=r.cy().style(),h=u.getIndexedStyle.bind(u),f=h(r,"background-fit","value",n),d=h(r,"background-repeat","value",n),p=r.width(),v=r.height(),m=r.padding()*2,x=p+(h(r,"background-width-relative-to","value",n)==="inner"?0:m),y=v+(h(r,"background-height-relative-to","value",n)==="inner"?0:m),w=r._private.rscratch,k=h(r,"background-clip","value",n),E=k==="node",C=h(r,"background-image-opacity","value",n)*i,L=h(r,"background-image-smoothing","value",n),_=r.pstyle("corner-radius").value;_!=="auto"&&(_=r.pstyle("corner-radius").pfValue);var I=e.width||e.cachedW,M=e.height||e.cachedH;(I==null||M==null)&&(document.body.appendChild(e),I=e.cachedW=e.width||e.offsetWidth,M=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var F=I,N=M;if(h(r,"background-width","value",n)!=="auto"&&(h(r,"background-width","units",n)==="%"?F=h(r,"background-width","pfValue",n)*x:F=h(r,"background-width","pfValue",n)),h(r,"background-height","value",n)!=="auto"&&(h(r,"background-height","units",n)==="%"?N=h(r,"background-height","pfValue",n)*y:N=h(r,"background-height","pfValue",n)),!(F===0||N===0)){if(f==="contain"){var z=Math.min(x/F,y/N);F*=z,N*=z}else if(f==="cover"){var z=Math.max(x/F,y/N);F*=z,N*=z}var V=o-x/2,D=h(r,"background-position-x","units",n),O=h(r,"background-position-x","pfValue",n);D==="%"?V+=(x-F)*O:V+=O;var P=h(r,"background-offset-x","units",n),$=h(r,"background-offset-x","pfValue",n);P==="%"?V+=(x-F)*$:V+=$;var B=l-y/2,H=h(r,"background-position-y","units",n),X=h(r,"background-position-y","pfValue",n);H==="%"?B+=(y-N)*X:B+=X;var q=h(r,"background-offset-y","units",n),Y=h(r,"background-offset-y","pfValue",n);q==="%"?B+=(y-N)*Y:B+=Y,w.pathCache&&(V-=o,B-=l,o=0,l=0);var U=t.globalAlpha;t.globalAlpha=C;var J=a.getImgSmoothing(t),ce=!1;if(L==="no"&&J?(a.setImgSmoothing(t,!1),ce=!0):L==="yes"&&!J&&(a.setImgSmoothing(t,!0),ce=!0),d==="no-repeat")E&&(t.save(),w.pathCache?t.clip(w.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(t,o,l,x,y,_,w),t.clip())),a.safeDrawImage(t,e,0,0,I,M,V,B,F,N),E&&t.restore();else{var re=t.createPattern(e,d);t.fillStyle=re,a.nodeShapes[a.getNodeShape(r)].draw(t,o,l,x,y,_,w),t.translate(V,B),t.fill(),t.translate(-V,-B)}t.globalAlpha=U,ce&&a.setImgSmoothing(t,J)}};var vp={};vp.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(sO(r*n));e=Math.pow(2,i)}var a=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(a<s)};vp.drawElementText=function(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(a&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var o=e.pstyle("label");if(!o||!o.value)return;var l=s.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,h=e.pstyle("label"),f=e.pstyle("source-label"),d=e.pstyle("target-label");if(u||(!h||!h.value)&&(!f||!f.value)&&(!d||!d.value))return;t.textAlign="center",t.textBaseline="bottom"}var p=!r,v;r&&(v=r,t.translate(-v.x1,-v.y1)),i==null?(s.drawText(t,e,null,p,a),e.isEdge()&&(s.drawText(t,e,"source",p,a),s.drawText(t,e,"target",p,a))):s.drawText(t,e,i,p,a),r&&t.translate(v.x1,v.y1)};vp.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};vp.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",a=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,o=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*o,u=e.pstyle("color").value,h=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+i+" "+a,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],o),this.colorStrokeStyle(t,h[0],h[1],h[2],l)};function cA(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+a,r),t.lineTo(e+n-a,r),t.quadraticCurveTo(e+n,r,e+n,r+a),t.lineTo(e+n,r+i-a),t.quadraticCurveTo(e+n,r+i,e+n-a,r+i),t.lineTo(e+a,r+i),t.quadraticCurveTo(e,r+i,e,r+i-a),t.lineTo(e,r+a),t.quadraticCurveTo(e,r,e+a,r),t.closePath(),s?t.stroke():t.fill()}vp.getTextAngle=function(t,e){var r,n=t._private,i=n.rscratch,a=e?e+"-":"",s=t.pstyle(a+"text-rotation"),o=ql(i,"labelAngle",e);return s.strValue==="autorotate"?r=t.isEdge()?o:0:s.strValue==="none"?r=0:r=s.pfValue,r};vp.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=e._private,s=a.rscratch,o=i?e.effectiveOpacity():1;if(!(i&&(o===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=ql(s,"labelX",r),u=ql(s,"labelY",r),h,f,d=this.getLabelText(e,r);if(d!=null&&d!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(t,e,i);var p=r?r+"-":"",v=ql(s,"labelWidth",r),m=ql(s,"labelHeight",r),x=e.pstyle(p+"text-margin-x").pfValue,y=e.pstyle(p+"text-margin-y").pfValue,w=e.isEdge(),k=e.pstyle("text-halign").value,E=e.pstyle("text-valign").value;w&&(k="center",E="center"),l+=x,u+=y;var C;switch(n?C=this.getTextAngle(e,r):C=0,C!==0&&(h=l,f=u,t.translate(h,f),t.rotate(C),l=0,u=0),E){case"top":break;case"center":u+=m/2;break;case"bottom":u+=m;break}var L=e.pstyle("text-background-opacity").value,_=e.pstyle("text-border-opacity").value,I=e.pstyle("text-border-width").pfValue,M=e.pstyle("text-background-padding").pfValue,F=e.pstyle("text-background-shape").strValue,N=F.indexOf("round")===0,z=2;if(L>0||I>0&&_>0){var V=l-M;switch(k){case"left":V-=v;break;case"center":V-=v/2;break}var D=u-m-M,O=v+2*M,P=m+2*M;if(L>0){var $=t.fillStyle,B=e.pstyle("text-background-color").value;t.fillStyle="rgba("+B[0]+","+B[1]+","+B[2]+","+L*o+")",N?cA(t,V,D,O,P,z):t.fillRect(V,D,O,P),t.fillStyle=$}if(I>0&&_>0){var H=t.strokeStyle,X=t.lineWidth,q=e.pstyle("text-border-color").value,Y=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+q[0]+","+q[1]+","+q[2]+","+_*o+")",t.lineWidth=I,t.setLineDash)switch(Y){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=I/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(N?cA(t,V,D,O,P,z,"stroke"):t.strokeRect(V,D,O,P),Y==="double"){var U=I/2;N?cA(t,V+U,D+U,O-U*2,P-U*2,z,"stroke"):t.strokeRect(V+U,D+U,O-U*2,P-U*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=X,t.strokeStyle=H}}var J=2*e.pstyle("text-outline-width").pfValue;if(J>0&&(t.lineWidth=J),e.pstyle("text-wrap").value==="wrap"){var ce=ql(s,"labelWrapCachedLines",r),re=ql(s,"labelLineHeight",r),ve=v/2,ye=this.getLabelJustification(e);switch(ye==="auto"||(k==="left"?ye==="left"?l+=-v:ye==="center"&&(l+=-ve):k==="center"?ye==="left"?l+=-ve:ye==="right"&&(l+=ve):k==="right"&&(ye==="center"?l+=ve:ye==="right"&&(l+=v))),E){case"top":u-=(ce.length-1)*re;break;case"center":case"bottom":u-=(ce.length-1)*re;break}for(var Z=0;Z<ce.length;Z++)J>0&&t.strokeText(ce[Z],l,u),t.fillText(ce[Z],l,u),u+=re}else J>0&&t.strokeText(d,l,u),t.fillText(d,l,u);C!==0&&(t.rotate(-C),t.translate(-h,-f))}}};var Av={};Av.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,l,u=e._private,h=u.rscratch,f=e.position();if(!(!$t(f.x)||!$t(f.y))&&!(a&&!e.visible())){var d=a?e.effectiveOpacity():1,p=s.usePaths(),v,m=!1,x=e.padding();o=e.width()+2*x,l=e.height()+2*x;var y;r&&(y=r,t.translate(-y.x1,-y.y1));for(var w=e.pstyle("background-image"),k=w.value,E=new Array(k.length),C=new Array(k.length),L=0,_=0;_<k.length;_++){var I=k[_],M=E[_]=I!=null&&I!=="none";if(M){var F=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",_);L++,C[_]=s.getCachedImage(I,F,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var N=e.pstyle("background-blacken").value,z=e.pstyle("border-width").pfValue,V=e.pstyle("background-opacity").value*d,D=e.pstyle("border-color").value,O=e.pstyle("border-style").value,P=e.pstyle("border-join").value,$=e.pstyle("border-cap").value,B=e.pstyle("border-position").value,H=e.pstyle("border-dash-pattern").pfValue,X=e.pstyle("border-dash-offset").pfValue,q=e.pstyle("border-opacity").value*d,Y=e.pstyle("outline-width").pfValue,U=e.pstyle("outline-color").value,J=e.pstyle("outline-style").value,ce=e.pstyle("outline-opacity").value*d,re=e.pstyle("outline-offset").value,ve=e.pstyle("corner-radius").value;ve!=="auto"&&(ve=e.pstyle("corner-radius").pfValue);var ye=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V;s.eleFillStyle(t,e,ee)},Z=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q;s.colorStrokeStyle(t,D[0],D[1],D[2],ee)},ue=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ce;s.colorStrokeStyle(t,U[0],U[1],U[2],ee)},ae=function(ee,le,_e,ke){var Le=s.nodePathCache=s.nodePathCache||[],Oe=Que(_e==="polygon"?_e+","+ke.join(","):_e,""+le,""+ee,""+ve),Me=Le[Oe],Ie,Fe=!1;return Me!=null?(Ie=Me,Fe=!0,h.pathCache=Ie):(Ie=new Path2D,Le[Oe]=h.pathCache=Ie),{path:Ie,cacheHit:Fe}},pe=e.pstyle("shape").strValue,Ee=e.pstyle("shape-polygon-points").pfValue;if(p){t.translate(f.x,f.y);var Se=ae(o,l,pe,Ee);v=Se.path,m=Se.cacheHit}var de=function(){if(!m){var ee=f;p&&(ee={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(v||t,ee.x,ee.y,o,l,ve,h)}p?t.fill(v):t.fill()},be=function(){for(var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_e=u.backgrounding,ke=0,Le=0;Le<C.length;Le++){var Oe=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Le);if(le&&Oe==="over"||!le&&Oe==="inside"){ke++;continue}E[Le]&&C[Le].complete&&!C[Le].error&&(ke++,s.drawInscribedImage(t,C[Le],e,Le,ee))}u.backgrounding=ke!==L,_e!==u.backgrounding&&e.updateStyle(!1)},oe=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;s.hasPie(e)&&(s.drawPie(t,e,le),ee&&(p||s.nodeShapes[s.getNodeShape(e)].draw(t,f.x,f.y,o,l,ve,h)))},we=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,le=(N>0?N:-N)*ee,_e=N>0?0:255;N!==0&&(s.colorFillStyle(t,_e,_e,_e,le),p?t.fill(v):t.fill())},Re=function(){if(z>0){if(t.lineWidth=z,t.lineCap=$,t.lineJoin=P,t.setLineDash)switch(O){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(H),t.lineDashOffset=X;break;case"solid":case"double":t.setLineDash([]);break}if(B!=="center"){if(t.save(),t.lineWidth*=2,B==="inside")p?t.clip(v):t.clip();else{var ee=new Path2D;ee.rect(-o/2-z,-l/2-z,o+2*z,l+2*z),ee.addPath(v),t.clip(ee,"evenodd")}p?t.stroke(v):t.stroke(),t.restore()}else p?t.stroke(v):t.stroke();if(O==="double"){t.lineWidth=z/3;var le=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",p?t.stroke(v):t.stroke(),t.globalCompositeOperation=le}t.setLineDash&&t.setLineDash([])}},Pe=function(){if(Y>0){if(t.lineWidth=Y,t.lineCap="butt",t.setLineDash)switch(J){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var ee=f;p&&(ee={x:0,y:0});var le=s.getNodeShape(e),_e=z;B==="inside"&&(_e=0),B==="outside"&&(_e*=2);var ke=(o+_e+(Y+re))/o,Le=(l+_e+(Y+re))/l,Oe=o*ke,Me=l*Le,Ie=s.nodeShapes[le].points,Fe;if(p){var Ne=ae(Oe,Me,le,Ie);Fe=Ne.path}if(le==="ellipse")s.drawEllipsePath(Fe||t,ee.x,ee.y,Oe,Me);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(le)){var He=0,it=0,lt=0;le==="round-diamond"?He=(_e+re+Y)*1.4:le==="round-heptagon"?(He=(_e+re+Y)*1.075,lt=-(_e/2+re+Y)/35):le==="round-hexagon"?He=(_e+re+Y)*1.12:le==="round-pentagon"?(He=(_e+re+Y)*1.13,lt=-(_e/2+re+Y)/15):le==="round-tag"?(He=(_e+re+Y)*1.12,it=(_e/2+Y+re)*.07):le==="round-triangle"&&(He=(_e+re+Y)*(Math.PI/2),lt=-(_e+re/2+Y)/Math.PI),He!==0&&(ke=(o+He)/o,Oe=o*ke,["round-hexagon","round-tag"].includes(le)||(Le=(l+He)/l,Me=l*Le)),ve=ve==="auto"?lce(Oe,Me):ve;for(var ft=Oe/2,gt=Me/2,_t=ve+(_e+Y+re)/2,ct=new Array(Ie.length/2),at=new Array(Ie.length/2),Lt=0;Lt<Ie.length/2;Lt++)ct[Lt]={x:ee.x+it+ft*Ie[Lt*2],y:ee.y+lt+gt*Ie[Lt*2+1]};var ut,pt,Zt,xt,ht=ct.length;for(pt=ct[ht-1],ut=0;ut<ht;ut++)Zt=ct[ut%ht],xt=ct[(ut+1)%ht],at[ut]=bO(pt,Zt,xt,_t),pt=Zt,Zt=xt;s.drawRoundPolygonPath(Fe||t,ee.x+it,ee.y+lt,o*ke,l*Le,Ie,at)}else if(["roundrectangle","round-rectangle"].includes(le))ve=ve==="auto"?U0(Oe,Me):ve,s.drawRoundRectanglePath(Fe||t,ee.x,ee.y,Oe,Me,ve+(_e+Y+re)/2);else if(["cutrectangle","cut-rectangle"].includes(le))ve=ve==="auto"?lO():ve,s.drawCutRectanglePath(Fe||t,ee.x,ee.y,Oe,Me,null,ve+(_e+Y+re)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(le))ve=ve==="auto"?U0(Oe,Me):ve,s.drawBottomRoundRectanglePath(Fe||t,ee.x,ee.y,Oe,Me,ve+(_e+Y+re)/2);else if(le==="barrel")s.drawBarrelPath(Fe||t,ee.x,ee.y,Oe,Me);else if(le.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(le)){var Mt=(_e+Y+re)/o;Ie=DS(RS(Ie,Mt)),s.drawPolygonPath(Fe||t,ee.x,ee.y,o,l,Ie)}else{var nr=(_e+Y+re)/o;Ie=DS(RS(Ie,-nr)),s.drawPolygonPath(Fe||t,ee.x,ee.y,o,l,Ie)}if(p?t.stroke(Fe):t.stroke(),J==="double"){t.lineWidth=_e/3;var Yt=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",p?t.stroke(Fe):t.stroke(),t.globalCompositeOperation=Yt}t.setLineDash&&t.setLineDash([])}},Ge=function(){i&&s.drawNodeOverlay(t,e,f,o,l)},je=function(){i&&s.drawNodeUnderlay(t,e,f,o,l)},We=function(){s.drawElementText(t,e,null,n)},me=e.pstyle("ghost").value==="yes";if(me){var Te=e.pstyle("ghost-offset-x").pfValue,fe=e.pstyle("ghost-offset-y").pfValue,W=e.pstyle("ghost-opacity").value,j=W*d;t.translate(Te,fe),ue(),Pe(),ye(W*V),de(),be(j,!0),Z(W*q),Re(),oe(N!==0||z!==0),be(j,!1),we(j),t.translate(-Te,-fe)}p&&t.translate(-f.x,-f.y),je(),p&&t.translate(f.x,f.y),ue(),Pe(),ye(),de(),be(d,!0),Z(),Re(),oe(N!==0||z!==0),be(d,!1),we(),p&&t.translate(-f.x,-f.y),We(),Ge(),r&&t.translate(y.x1,y.y1)}};var hhe=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,i,a,s){var o=this;if(n.visible()){var l=n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-opacity")).value,h=n.pstyle("".concat(e,"-color")).value,f=n.pstyle("".concat(e,"-shape")).value,d=n.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(i=i||n.position(),a==null||s==null){var p=n.padding();a=n.width()+2*p,s=n.height()+2*p}o.colorFillStyle(r,h[0],h[1],h[2],u),o.nodeShapes[f].draw(r,i.x,i.y,a+l*2,s+l*2,d),r.fill()}}}};Av.drawNodeOverlay=hhe("overlay");Av.drawNodeUnderlay=hhe("underlay");Av.hasPie=function(t){return t=t[0],t._private.hasPie};Av.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),a=e.pstyle("pie-size"),s=n.x,o=n.y,l=e.width(),u=e.height(),h=Math.min(l,u)/2,f=0,d=this.usePaths();d&&(s=0,o=0),a.units==="%"?h=h*a.pfValue:a.pfValue!==void 0&&(h=a.pfValue/2);for(var p=1;p<=i.pieBackgroundN;p++){var v=e.pstyle("pie-"+p+"-background-size").value,m=e.pstyle("pie-"+p+"-background-color").value,x=e.pstyle("pie-"+p+"-background-opacity").value*r,y=v/100;y+f>1&&(y=1-f);var w=1.5*Math.PI+2*Math.PI*f,k=2*Math.PI*y,E=w+k;v===0||f>=1||f+y>1||(t.beginPath(),t.moveTo(s,o),t.arc(s,o,h,w,E),t.closePath(),this.colorFillStyle(t,m[0],m[1],m[2],x),t.fill(),f+=y)}};var Qo={},Lst=100;Qo.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};Qo.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};Qo.createGradientStyleFor=function(t,e,r,n,i){var a,s=this.usePaths(),o=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),h=r.targetEndpoint(),f=r.midpoint(),d=V0(u,f),p=V0(h,f);a=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(d,p))}else{var v=s?{x:0,y:0}:r.position(),m=r.paddedWidth(),x=r.paddedHeight();a=t.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(m,x))}else if(r.isEdge()){var y=r.sourceEndpoint(),w=r.targetEndpoint();a=t.createLinearGradient(y.x,y.y,w.x,w.y)}else{var k=s?{x:0,y:0}:r.position(),E=r.paddedWidth(),C=r.paddedHeight(),L=E/2,_=C/2,I=r.pstyle("background-gradient-direction").value;switch(I){case"to-bottom":a=t.createLinearGradient(k.x,k.y-_,k.x,k.y+_);break;case"to-top":a=t.createLinearGradient(k.x,k.y+_,k.x,k.y-_);break;case"to-left":a=t.createLinearGradient(k.x+L,k.y,k.x-L,k.y);break;case"to-right":a=t.createLinearGradient(k.x-L,k.y,k.x+L,k.y);break;case"to-bottom-right":case"to-right-bottom":a=t.createLinearGradient(k.x-L,k.y-_,k.x+L,k.y+_);break;case"to-top-right":case"to-right-top":a=t.createLinearGradient(k.x-L,k.y+_,k.x+L,k.y-_);break;case"to-bottom-left":case"to-left-bottom":a=t.createLinearGradient(k.x+L,k.y-_,k.x-L,k.y+_);break;case"to-top-left":case"to-left-top":a=t.createLinearGradient(k.x+L,k.y+_,k.x-L,k.y-_);break}}if(!a)return null;for(var M=l.length===o.length,F=o.length,N=0;N<F;N++)a.addColorStop(M?l[N]:N/(F-1),"rgba("+o[N][0]+","+o[N][1]+","+o[N][2]+","+i+")");return a};Qo.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i};Qo.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"};Qo.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}};Qo.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i};Qo.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"};Qo.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}};Qo.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],a=n[3],s=e.getPixelRatio(),o=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var l=i*s,u=a*s,h;if(!(l===e.canvasWidth&&u===e.canvasHeight)){e.fontCaches=null;var f=r.canvasContainer;f.style.width=i+"px",f.style.height=a+"px";for(var d=0;d<e.CANVAS_LAYERS;d++)h=r.canvases[d],h.width=l,h.height=u,h.style.width=i+"px",h.style.height=a+"px";for(var d=0;d<e.BUFFER_COUNT;d++)h=r.bufferCanvases[d],h.width=l,h.height=u,h.style.width=i+"px",h.style.height=a+"px";e.textureMult=1,s<=1&&(h=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,h.width=l*e.textureMult,h.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u}};Qo.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Qo.render=function(t){t=t||tce();var e=t.forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,i=t.forcedZoom,a=t.forcedPan,s=this,o=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,l=s.cy,u=s.data,h=u.canvasNeedsRedraw,f=s.textureOnViewport&&!e&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),d=t.motionBlur!==void 0?t.motionBlur:s.motionBlur,p=s.motionBlurPxRatio,v=l.hasCompoundNodes(),m=s.hoverData.draggingEles,x=!!(s.hoverData.selecting||s.touchData.selecting);d=d&&!e&&s.motionBlurEnabled&&!x;var y=d;e||(s.prevPxRatio!==o&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=o),!e&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),d&&(s.mbFrames==null&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(y=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!f&&(h[s.NODE]=!0,h[s.SELECT_BOX]=!0);var w=l.style(),k=l.zoom(),E=i!==void 0?i:k,C=l.pan(),L={x:C.x,y:C.y},_={zoom:k,pan:{x:C.x,y:C.y}},I=s.prevViewport,M=I===void 0||_.zoom!==I.zoom||_.pan.x!==I.pan.x||_.pan.y!==I.pan.y;!M&&!(m&&!v)&&(s.motionBlurPxRatio=1),a&&(L=a),E*=o,L.x*=o,L.y*=o;var F=s.getCachedZSortedEles();function N(Se,de,be,oe,we){var Re=Se.globalCompositeOperation;Se.globalCompositeOperation="destination-out",s.colorFillStyle(Se,255,255,255,s.motionBlurTransparency),Se.fillRect(de,be,oe,we),Se.globalCompositeOperation=Re}function z(Se,de){var be,oe,we,Re;!s.clearingMotionBlur&&(Se===u.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]||Se===u.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG])?(be={x:C.x*p,y:C.y*p},oe=k*p,we=s.canvasWidth*p,Re=s.canvasHeight*p):(be=L,oe=E,we=s.canvasWidth,Re=s.canvasHeight),Se.setTransform(1,0,0,1,0,0),de==="motionBlur"?N(Se,0,0,we,Re):!e&&(de===void 0||de)&&Se.clearRect(0,0,we,Re),r||(Se.translate(be.x,be.y),Se.scale(oe,oe)),a&&Se.translate(a.x,a.y),i&&Se.scale(i,i)}if(f||(s.textureDrawLastFrame=!1),f){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=l.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var V=s.data.bufferContexts[s.TEXTURE_BUFFER];V.setTransform(1,0,0,1,0,0),V.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:V,drawOnlyNodeLayer:!0,forcedPxRatio:o*s.textureMult});var _=s.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:s.canvasWidth,height:s.canvasHeight};_.mpan={x:(0-_.pan.x)/_.zoom,y:(0-_.pan.y)/_.zoom}}h[s.DRAG]=!1,h[s.NODE]=!1;var D=u.contexts[s.NODE],O=s.textureCache.texture,_=s.textureCache.viewport;D.setTransform(1,0,0,1,0,0),d?N(D,0,0,_.width,_.height):D.clearRect(0,0,_.width,_.height);var P=w.core("outside-texture-bg-color").value,$=w.core("outside-texture-bg-opacity").value;s.colorFillStyle(D,P[0],P[1],P[2],$),D.fillRect(0,0,_.width,_.height);var k=l.zoom();z(D,!1),D.clearRect(_.mpan.x,_.mpan.y,_.width/_.zoom/o,_.height/_.zoom/o),D.drawImage(O,_.mpan.x,_.mpan.y,_.width/_.zoom/o,_.height/_.zoom/o)}else s.textureOnViewport&&!e&&(s.textureCache=null);var B=l.extent(),H=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles||s.cy.animated(),X=s.hideEdgesOnViewport&&H,q=[];if(q[s.NODE]=!h[s.NODE]&&d&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,q[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),q[s.DRAG]=!h[s.DRAG]&&d&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,q[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),h[s.NODE]||r||n||q[s.NODE]){var Y=d&&!q[s.NODE]&&p!==1,D=e||(Y?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:u.contexts[s.NODE]),U=d&&!Y?"motionBlur":void 0;z(D,U),X?s.drawCachedNodes(D,F.nondrag,o,B):s.drawLayeredElements(D,F.nondrag,o,B),s.debug&&s.drawDebugPoints(D,F.nondrag),!r&&!d&&(h[s.NODE]=!1)}if(!n&&(h[s.DRAG]||r||q[s.DRAG])){var Y=d&&!q[s.DRAG]&&p!==1,D=e||(Y?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:u.contexts[s.DRAG]);z(D,d&&!Y?"motionBlur":void 0),X?s.drawCachedNodes(D,F.drag,o,B):s.drawCachedElements(D,F.drag,o,B),s.debug&&s.drawDebugPoints(D,F.drag),!r&&!d&&(h[s.DRAG]=!1)}if(s.showFps||!n&&h[s.SELECT_BOX]&&!r){var D=e||u.contexts[s.SELECT_BOX];if(z(D),s.selection[4]==1&&(s.hoverData.selecting||s.touchData.selecting)){var k=s.cy.zoom(),J=w.core("selection-box-border-width").value/k;D.lineWidth=J,D.fillStyle="rgba("+w.core("selection-box-color").value[0]+","+w.core("selection-box-color").value[1]+","+w.core("selection-box-color").value[2]+","+w.core("selection-box-opacity").value+")",D.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),J>0&&(D.strokeStyle="rgba("+w.core("selection-box-border-color").value[0]+","+w.core("selection-box-border-color").value[1]+","+w.core("selection-box-border-color").value[2]+","+w.core("selection-box-opacity").value+")",D.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(u.bgActivePosistion&&!s.hoverData.selecting){var k=s.cy.zoom(),ce=u.bgActivePosistion;D.fillStyle="rgba("+w.core("active-bg-color").value[0]+","+w.core("active-bg-color").value[1]+","+w.core("active-bg-color").value[2]+","+w.core("active-bg-opacity").value+")",D.beginPath(),D.arc(ce.x,ce.y,w.core("active-bg-size").pfValue/k,0,2*Math.PI),D.fill()}var re=s.lastRedrawTime;if(s.showFps&&re){re=Math.round(re);var ve=Math.round(1e3/re);D.setTransform(1,0,0,1,0,0),D.fillStyle="rgba(255, 0, 0, 0.75)",D.strokeStyle="rgba(255, 0, 0, 0.75)",D.lineWidth=1,D.fillText("1 frame = "+re+" ms = "+ve+" fps",0,20);var ye=60;D.strokeRect(0,30,250,20),D.fillRect(0,30,250*Math.min(ve/ye,1),20)}r||(h[s.SELECT_BOX]=!1)}if(d&&p!==1){var Z=u.contexts[s.NODE],ue=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],ae=u.contexts[s.DRAG],pe=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],Ee=function(de,be,oe){de.setTransform(1,0,0,1,0,0),oe||!y?de.clearRect(0,0,s.canvasWidth,s.canvasHeight):N(de,0,0,s.canvasWidth,s.canvasHeight);var we=p;de.drawImage(be,0,0,s.canvasWidth*we,s.canvasHeight*we,0,0,s.canvasWidth,s.canvasHeight)};(h[s.NODE]||q[s.NODE])&&(Ee(Z,ue,q[s.NODE]),h[s.NODE]=!1),(h[s.DRAG]||q[s.DRAG])&&(Ee(ae,pe,q[s.DRAG]),h[s.DRAG]=!1)}s.prevViewport=_,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),d&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!f,s.mbFrames=0,h[s.NODE]=!0,h[s.DRAG]=!0,s.redraw()},Lst)),e||l.emit("render")};var sd={};sd.drawPolygonPath=function(t,e,r,n,i,a){var s=n/2,o=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*a[0],r+o*a[1]);for(var l=1;l<a.length/2;l++)t.lineTo(e+s*a[l*2],r+o*a[l*2+1]);t.closePath()};sd.drawRoundPolygonPath=function(t,e,r,n,i,a,s){s.forEach(function(o){return Jce(t,o)}),t.closePath()};sd.drawRoundRectanglePath=function(t,e,r,n,i,a){var s=n/2,o=i/2,l=a==="auto"?U0(n,i):Math.min(a,o,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+s,r-o,e+s,r,l),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.arcTo(e-s,r-o,e,r-o,l),t.lineTo(e,r-o),t.closePath()};sd.drawBottomRoundRectanglePath=function(t,e,r,n,i,a){var s=n/2,o=i/2,l=a==="auto"?U0(n,i):a;t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+s,r-o),t.lineTo(e+s,r),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.lineTo(e-s,r-o),t.lineTo(e,r-o),t.closePath()};sd.drawCutRectanglePath=function(t,e,r,n,i,a,s){var o=n/2,l=i/2,u=s==="auto"?lO():s;t.beginPath&&t.beginPath(),t.moveTo(e-o+u,r-l),t.lineTo(e+o-u,r-l),t.lineTo(e+o,r-l+u),t.lineTo(e+o,r+l-u),t.lineTo(e+o-u,r+l),t.lineTo(e-o+u,r+l),t.lineTo(e-o,r+l-u),t.lineTo(e-o,r-l+u),t.closePath()};sd.drawBarrelPath=function(t,e,r,n,i){var a=n/2,s=i/2,o=e-a,l=e+a,u=r-s,h=r+s,f=aD(n,i),d=f.widthOffset,p=f.heightOffset,v=f.ctrlPtOffsetPct*d;t.beginPath&&t.beginPath(),t.moveTo(o,u+p),t.lineTo(o,h-p),t.quadraticCurveTo(o+v,h,o+d,h),t.lineTo(l-d,h),t.quadraticCurveTo(l-v,h,l,h-p),t.lineTo(l,u+p),t.quadraticCurveTo(l-v,u,l-d,u),t.lineTo(o+d,u),t.quadraticCurveTo(o+v,u,o,u+p),t.closePath()};var Tq=Math.sin(0),Cq=Math.cos(0),mD={},yD={},fhe=Math.PI/40;for(var Zp=0*Math.PI;Zp<2*Math.PI;Zp+=fhe)mD[Zp]=Math.sin(Zp),yD[Zp]=Math.cos(Zp);sd.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var a,s,o=n/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=fhe)a=e-o*mD[u]*Tq+o*yD[u]*Cq,s=r+l*yD[u]*Tq+l*mD[u]*Cq,u===0?t.moveTo(a,s):t.lineTo(a,s);t.closePath()};var Vb={};Vb.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};Vb.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),a=t.full?Math.ceil(n.w):i[2],s=t.full?Math.ceil(n.h):i[3],o=$t(t.maxWidth)||$t(t.maxHeight),l=this.getPixelRatio(),u=1;if(t.scale!==void 0)a*=t.scale,s*=t.scale,u=t.scale;else if(o){var h=1/0,f=1/0;$t(t.maxWidth)&&(h=u*t.maxWidth/a),$t(t.maxHeight)&&(f=u*t.maxHeight/s),u=Math.min(h,f),a*=u,s*=u}o||(a*=l,s*=l,u*=l);var d=document.createElement("canvas");d.width=a,d.height=s,d.style.width=a+"px",d.style.height=s+"px";var p=d.getContext("2d");if(a>0&&s>0){p.clearRect(0,0,a,s),p.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(t.full)p.translate(-n.x1*u,-n.y1*u),p.scale(u,u),this.drawElements(p,v),p.scale(1/u,1/u),p.translate(n.x1*u,n.y1*u);else{var m=e.pan(),x={x:m.x*u,y:m.y*u};u*=e.zoom(),p.translate(x.x,x.y),p.scale(u,u),this.drawElements(p,v),p.scale(1/u,1/u),p.translate(-x.x,-x.y)}t.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=t.bg,p.rect(0,0,a,s),p.fill())}return d};function Dst(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:e})}function Aq(t){var e=t.indexOf(",");return t.substr(e+1)}function dhe(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new xv(function(i,a){try{e.toBlob(function(s){s!=null?i(s):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){a(s)}});case"blob":return Dst(Aq(n()),r);case"base64":return Aq(n());case"base64uri":default:return n()}}Vb.png=function(t){return dhe(t,this.bufferCanvasImage(t),"image/png")};Vb.jpg=function(t){return dhe(t,this.bufferCanvasImage(t),"image/jpeg")};var phe={};phe.nodeShapeImpl=function(t,e,r,n,i,a,s,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,a);case"polygon":return this.drawPolygonPath(e,r,n,i,a,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,a,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,a,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,a,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,a,o);case"barrel":return this.drawBarrelPath(e,r,n,i,a)}};var Rst=ghe,rn=ghe.prototype;rn.CANVAS_LAYERS=3;rn.SELECT_BOX=0;rn.DRAG=1;rn.NODE=2;rn.BUFFER_COUNT=3;rn.TEXTURE_BUFFER=0;rn.MOTIONBLUR_BUFFER_NODE=1;rn.MOTIONBLUR_BUFFER_DRAG=2;function ghe(t){var e=this,r=e.cy.window(),n=r.document;e.data={canvases:new Array(rn.CANVAS_LAYERS),contexts:new Array(rn.CANVAS_LAYERS),canvasNeedsRedraw:new Array(rn.CANVAS_LAYERS),bufferCanvases:new Array(rn.BUFFER_COUNT),bufferContexts:new Array(rn.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=a,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[i]=a;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};vJe()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<rn.CANVAS_LAYERS;u++){var h=e.data.canvases[u]=n.createElement("canvas");e.data.contexts[u]=h.getContext("2d"),Object.keys(l).forEach(function(ye){h.style[ye]=l[ye]}),h.style.position="absolute",h.setAttribute("data-id","layer"+u),h.style.zIndex=String(rn.CANVAS_LAYERS-u),e.data.canvasContainer.appendChild(h),e.data.canvasNeedsRedraw[u]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[rn.NODE].setAttribute("data-id","layer"+rn.NODE+"-node"),e.data.canvases[rn.SELECT_BOX].setAttribute("data-id","layer"+rn.SELECT_BOX+"-selectbox"),e.data.canvases[rn.DRAG].setAttribute("data-id","layer"+rn.DRAG+"-drag");for(var u=0;u<rn.BUFFER_COUNT;u++)e.data.bufferCanvases[u]=n.createElement("canvas"),e.data.bufferContexts[u]=e.data.bufferCanvases[u].getContext("2d"),e.data.bufferCanvases[u].style.position="absolute",e.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),e.data.bufferCanvases[u].style.zIndex=String(-u-1),e.data.bufferCanvases[u].style.visibility="hidden";e.pathsEnabled=!0;var f=mo(),d=function(Z){return{x:(Z.x1+Z.x2)/2,y:(Z.y1+Z.y2)/2}},p=function(Z){return{x:-Z.w/2,y:-Z.h/2}},v=function(Z){var ue=Z[0]._private,ae=ue.oldBackgroundTimestamp===ue.backgroundTimestamp;return!ae},m=function(Z){return Z[0]._private.nodeKey},x=function(Z){return Z[0]._private.labelStyleKey},y=function(Z){return Z[0]._private.sourceLabelStyleKey},w=function(Z){return Z[0]._private.targetLabelStyleKey},k=function(Z,ue,ae,pe,Ee){return e.drawElement(Z,ue,ae,!1,!1,Ee)},E=function(Z,ue,ae,pe,Ee){return e.drawElementText(Z,ue,ae,pe,"main",Ee)},C=function(Z,ue,ae,pe,Ee){return e.drawElementText(Z,ue,ae,pe,"source",Ee)},L=function(Z,ue,ae,pe,Ee){return e.drawElementText(Z,ue,ae,pe,"target",Ee)},_=function(Z){return Z.boundingBox(),Z[0]._private.bodyBounds},I=function(Z){return Z.boundingBox(),Z[0]._private.labelBounds.main||f},M=function(Z){return Z.boundingBox(),Z[0]._private.labelBounds.source||f},F=function(Z){return Z.boundingBox(),Z[0]._private.labelBounds.target||f},N=function(Z,ue){return ue},z=function(Z){return d(_(Z))},V=function(Z,ue,ae){var pe=Z?Z+"-":"";return{x:ue.x+ae.pstyle(pe+"text-margin-x").pfValue,y:ue.y+ae.pstyle(pe+"text-margin-y").pfValue}},D=function(Z,ue,ae){var pe=Z[0]._private.rscratch;return{x:pe[ue],y:pe[ae]}},O=function(Z){return V("",D(Z,"labelX","labelY"),Z)},P=function(Z){return V("source",D(Z,"sourceLabelX","sourceLabelY"),Z)},$=function(Z){return V("target",D(Z,"targetLabelX","targetLabelY"),Z)},B=function(Z){return p(_(Z))},H=function(Z){return p(M(Z))},X=function(Z){return p(F(Z))},q=function(Z){var ue=I(Z),ae=p(I(Z));if(Z.isNode()){switch(Z.pstyle("text-halign").value){case"left":ae.x=-ue.w-(ue.leftPad||0);break;case"right":ae.x=-(ue.rightPad||0);break}switch(Z.pstyle("text-valign").value){case"top":ae.y=-ue.h-(ue.topPad||0);break;case"bottom":ae.y=-(ue.botPad||0);break}}return ae},Y=e.data.eleTxrCache=new py(e,{getKey:m,doesEleInvalidateKey:v,drawElement:k,getBoundingBox:_,getRotationPoint:z,getRotationOffset:B,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),U=e.data.lblTxrCache=new py(e,{getKey:x,drawElement:E,getBoundingBox:I,getRotationPoint:O,getRotationOffset:q,isVisible:N}),J=e.data.slbTxrCache=new py(e,{getKey:y,drawElement:C,getBoundingBox:M,getRotationPoint:P,getRotationOffset:H,isVisible:N}),ce=e.data.tlbTxrCache=new py(e,{getKey:w,drawElement:L,getBoundingBox:F,getRotationPoint:$,getRotationOffset:X,isVisible:N}),re=e.data.lyrTxrCache=new lhe(e);e.onUpdateEleCalcs(function(Z,ue){Y.invalidateElements(ue),U.invalidateElements(ue),J.invalidateElements(ue),ce.invalidateElements(ue),re.invalidateElements(ue);for(var ae=0;ae<ue.length;ae++){var pe=ue[ae]._private;pe.oldBackgroundTimestamp=pe.backgroundTimestamp}});var ve=function(Z){for(var ue=0;ue<Z.length;ue++)re.enqueueElementRefinement(Z[ue].ele)};Y.onDequeue(ve),U.onDequeue(ve),J.onDequeue(ve),ce.onDequeue(ve)}rn.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[rn.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[rn.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[rn.SELECT_BOX]=e;break}};var Mst=typeof Path2D<"u";rn.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};rn.usePaths=function(){return Mst&&this.pathsEnabled};rn.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};rn.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};rn.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":la(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=t,r.height=e}return r};[uhe,oc,wh,kO,vp,Av,Qo,sd,Vb,phe].forEach(function(t){Er(rn,t)});var Nst=[{name:"null",impl:Kce},{name:"base",impl:she},{name:"canvas",impl:Rst}],Ist=[{type:"layout",extensions:zat},{type:"renderer",extensions:Nst}],vhe={},mhe={};function yhe(t,e,r){var n=r,i=function(I){gn("Can not register `"+e+"` for `"+t+"` since `"+I+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(ex.prototype[e])return i(e);ex.prototype[e]=r}else if(t==="collection"){if(Va.prototype[e])return i(e);Va.prototype[e]=r}else if(t==="layout"){for(var a=function(I){this.options=I,r.call(this,I),Jr(this._private)||(this._private={}),this._private.cy=I.cy,this._private.listeners=[],this.createEmitter()},s=a.prototype=Object.create(r.prototype),o=[],l=0;l<o.length;l++){var u=o[l];s[u]=s[u]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var h=r.prototype.stop;s.stop=function(){var _=this.options;if(_&&_.animate){var I=this.animations;if(I)for(var M=0;M<I.length;M++)I[M].stop()}return h?h.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var f=function(I){return I._private.cy},d={addEventFields:function(I,M){M.layout=I,M.cy=f(I),M.target=I},bubble:function(){return!0},parent:function(I){return f(I)}};Er(s,{createEmitter:function(){return this._private.emitter=new l6(d,this),this},emitter:function(){return this._private.emitter},on:function(I,M){return this.emitter().on(I,M),this},one:function(I,M){return this.emitter().one(I,M),this},once:function(I,M){return this.emitter().one(I,M),this},removeListener:function(I,M){return this.emitter().removeListener(I,M),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(I,M){return this.emitter().emit(I,M),this}}),fn.eventAliasesOn(s),n=a}else if(t==="renderer"&&e!=="null"&&e!=="base"){var p=xhe("renderer","base"),v=p.prototype,m=r,x=r.prototype,y=function(){p.apply(this,arguments),m.apply(this,arguments)},w=y.prototype;for(var k in v){var E=v[k],C=x[k]!=null;if(C)return i(k);w[k]=E}for(var L in x)w[L]=x[L];v.clientFunctions.forEach(function(_){w[_]=w[_]||function(){bi("Renderer does not implement `renderer."+_+"()` on its prototype")}}),n=y}else if(t==="__proto__"||t==="constructor"||t==="prototype")return bi(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return Gue({map:vhe,keys:[t,e],value:n})}function xhe(t,e){return Wue({map:vhe,keys:[t,e]})}function Ost(t,e,r,n,i){return Gue({map:mhe,keys:[t,e,r,n],value:i})}function Fst(t,e,r,n){return Wue({map:mhe,keys:[t,e,r,n]})}var xD=function(){if(arguments.length===2)return xhe.apply(null,arguments);if(arguments.length===3)return yhe.apply(null,arguments);if(arguments.length===4)return Fst.apply(null,arguments);if(arguments.length===5)return Ost.apply(null,arguments);bi("Invalid extension access syntax")};ex.prototype.extension=xD;Ist.forEach(function(t){t.extensions.forEach(function(e){yhe(t.type,e.name,e.impl)})});var bhe=function t(){if(!(this instanceof t))return new t;this.length=0},q0=bhe.prototype;q0.instanceString=function(){return"stylesheet"};q0.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};q0.css=function(t,e){var r=this.length-1;if(hr(t))this[r].properties.push({name:t,value:e});else if(Jr(t))for(var n=t,i=Object.keys(n),a=0;a<i.length;a++){var s=i[a],o=n[s];if(o!=null){var l=fs.properties[s]||fs.properties[ZT(s)];if(l!=null){var u=l.name,h=o;this[r].properties.push({name:u,value:h})}}}return this};q0.style=q0.css;q0.generateStyle=function(t){var e=new fs(t);return this.appendToStyle(e)};q0.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var a=0;a<i.length;a++){var s=i[a];t.css(s.name,s.value)}}return t};var Pst="3.30.3",Qu=function(e){if(e===void 0&&(e={}),Jr(e))return new ex(e);if(hr(e))return xD.apply(xD,arguments)};Qu.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Qu),t.apply(null,e),this};Qu.warnings=function(t){return Jue(t)};Qu.version=Pst;Qu.stylesheet=Qu.Stylesheet=bhe;var whe={exports:{}},hA={exports:{}},fA={exports:{}},_q;function Bst(){return _q||(_q=1,function(t,e){(function(n,i){t.exports=i()})(Ll,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=26)}([function(r,n,i){function a(){}a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){var a=i(2),s=i(8),o=i(9);function l(h,f,d){a.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=h,this.target=f}l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(h){if(this.source===h)return this.target;if(this.target===h)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(h,f){for(var d=this.getOtherEnd(h),p=f.getGraphManager().getRoot();;){if(d.getOwner()==f)return d;if(d.getOwner()==p)break;d=d.getOwner().getParent()}return null},l.prototype.updateLength=function(){var h=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),h),this.isOverlapingSourceAndTarget||(this.lengthX=h[0]-h[2],this.lengthY=h[1]-h[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,i){function a(s){this.vGraphObject=s}r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(13),l=i(0),u=i(16),h=i(4);function f(p,v,m,x){m==null&&x==null&&(x=v),a.call(this,x),p.graphManager!=null&&(p=p.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=x,this.edges=[],this.graphManager=p,m!=null&&v!=null?this.rect=new o(v.x,v.y,m.width,m.height):this.rect=new o}f.prototype=Object.create(a.prototype);for(var d in a)f[d]=a[d];f.prototype.getEdges=function(){return this.edges},f.prototype.getChild=function(){return this.child},f.prototype.getOwner=function(){return this.owner},f.prototype.getWidth=function(){return this.rect.width},f.prototype.setWidth=function(p){this.rect.width=p},f.prototype.getHeight=function(){return this.rect.height},f.prototype.setHeight=function(p){this.rect.height=p},f.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},f.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},f.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},f.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},f.prototype.getRect=function(){return this.rect},f.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},f.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},f.prototype.setRect=function(p,v){this.rect.x=p.x,this.rect.y=p.y,this.rect.width=v.width,this.rect.height=v.height},f.prototype.setCenter=function(p,v){this.rect.x=p-this.rect.width/2,this.rect.y=v-this.rect.height/2},f.prototype.setLocation=function(p,v){this.rect.x=p,this.rect.y=v},f.prototype.moveBy=function(p,v){this.rect.x+=p,this.rect.y+=v},f.prototype.getEdgeListToNode=function(p){var v=[],m=this;return m.edges.forEach(function(x){if(x.target==p){if(x.source!=m)throw"Incorrect edge source!";v.push(x)}}),v},f.prototype.getEdgesBetween=function(p){var v=[],m=this;return m.edges.forEach(function(x){if(!(x.source==m||x.target==m))throw"Incorrect edge source and/or target";(x.target==p||x.source==p)&&v.push(x)}),v},f.prototype.getNeighborsList=function(){var p=new Set,v=this;return v.edges.forEach(function(m){if(m.source==v)p.add(m.target);else{if(m.target!=v)throw"Incorrect incidency!";p.add(m.source)}}),p},f.prototype.withChildren=function(){var p=new Set,v,m;if(p.add(this),this.child!=null)for(var x=this.child.getNodes(),y=0;y<x.length;y++)v=x[y],m=v.withChildren(),m.forEach(function(w){p.add(w)});return p},f.prototype.getNoOfChildren=function(){var p=0,v;if(this.child==null)p=1;else for(var m=this.child.getNodes(),x=0;x<m.length;x++)v=m[x],p+=v.getNoOfChildren();return p==0&&(p=1),p},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},f.prototype.scatter=function(){var p,v,m=-l.INITIAL_WORLD_BOUNDARY,x=l.INITIAL_WORLD_BOUNDARY;p=l.WORLD_CENTER_X+u.nextDouble()*(x-m)+m;var y=-l.INITIAL_WORLD_BOUNDARY,w=l.INITIAL_WORLD_BOUNDARY;v=l.WORLD_CENTER_Y+u.nextDouble()*(w-y)+y,this.rect.x=p,this.rect.y=v},f.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var p=this.getChild();if(p.updateBounds(!0),this.rect.x=p.getLeft(),this.rect.y=p.getTop(),this.setWidth(p.getRight()-p.getLeft()),this.setHeight(p.getBottom()-p.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var v=p.getRight()-p.getLeft(),m=p.getBottom()-p.getTop();this.labelWidth>v&&(this.rect.x-=(this.labelWidth-v)/2,this.setWidth(this.labelWidth)),this.labelHeight>m&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-m)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-m),this.setHeight(this.labelHeight))}}},f.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},f.prototype.transform=function(p){var v=this.rect.x;v>l.WORLD_BOUNDARY?v=l.WORLD_BOUNDARY:v<-l.WORLD_BOUNDARY&&(v=-l.WORLD_BOUNDARY);var m=this.rect.y;m>l.WORLD_BOUNDARY?m=l.WORLD_BOUNDARY:m<-l.WORLD_BOUNDARY&&(m=-l.WORLD_BOUNDARY);var x=new h(v,m),y=p.inverseTransformPoint(x);this.setLocation(y.x,y.y)},f.prototype.getLeft=function(){return this.rect.x},f.prototype.getRight=function(){return this.rect.x+this.rect.width},f.prototype.getTop=function(){return this.rect.y},f.prototype.getBottom=function(){return this.rect.y+this.rect.height},f.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=f},function(r,n,i){function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(0),l=i(6),u=i(3),h=i(1),f=i(13),d=i(12),p=i(11);function v(x,y,w){a.call(this,w),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=x,y!=null&&y instanceof l?this.graphManager=y:y!=null&&y instanceof Layout&&(this.graphManager=y.graphManager)}v.prototype=Object.create(a.prototype);for(var m in a)v[m]=a[m];v.prototype.getNodes=function(){return this.nodes},v.prototype.getEdges=function(){return this.edges},v.prototype.getGraphManager=function(){return this.graphManager},v.prototype.getParent=function(){return this.parent},v.prototype.getLeft=function(){return this.left},v.prototype.getRight=function(){return this.right},v.prototype.getTop=function(){return this.top},v.prototype.getBottom=function(){return this.bottom},v.prototype.isConnected=function(){return this.isConnected},v.prototype.add=function(x,y,w){if(y==null&&w==null){var k=x;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(k)>-1)throw"Node already in graph!";return k.owner=this,this.getNodes().push(k),k}else{var E=x;if(!(this.getNodes().indexOf(y)>-1&&this.getNodes().indexOf(w)>-1))throw"Source or target not in graph!";if(!(y.owner==w.owner&&y.owner==this))throw"Both owners must be this graph!";return y.owner!=w.owner?null:(E.source=y,E.target=w,E.isInterGraph=!1,this.getEdges().push(E),y.edges.push(E),w!=y&&w.edges.push(E),E)}},v.prototype.remove=function(x){var y=x;if(x instanceof u){if(y==null)throw"Node is null!";if(!(y.owner!=null&&y.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var w=y.edges.slice(),k,E=w.length,C=0;C<E;C++)k=w[C],k.isInterGraph?this.graphManager.remove(k):k.source.owner.remove(k);var L=this.nodes.indexOf(y);if(L==-1)throw"Node not in owner node list!";this.nodes.splice(L,1)}else if(x instanceof h){var k=x;if(k==null)throw"Edge is null!";if(!(k.source!=null&&k.target!=null))throw"Source and/or target is null!";if(!(k.source.owner!=null&&k.target.owner!=null&&k.source.owner==this&&k.target.owner==this))throw"Source and/or target owner is invalid!";var _=k.source.edges.indexOf(k),I=k.target.edges.indexOf(k);if(!(_>-1&&I>-1))throw"Source and/or target doesn't know this edge!";k.source.edges.splice(_,1),k.target!=k.source&&k.target.edges.splice(I,1);var L=k.source.owner.getEdges().indexOf(k);if(L==-1)throw"Not in owner's edge list!";k.source.owner.getEdges().splice(L,1)}},v.prototype.updateLeftTop=function(){for(var x=s.MAX_VALUE,y=s.MAX_VALUE,w,k,E,C=this.getNodes(),L=C.length,_=0;_<L;_++){var I=C[_];w=I.getTop(),k=I.getLeft(),x>w&&(x=w),y>k&&(y=k)}return x==s.MAX_VALUE?null:(C[0].getParent().paddingLeft!=null?E=C[0].getParent().paddingLeft:E=this.margin,this.left=y-E,this.top=x-E,new d(this.left,this.top))},v.prototype.updateBounds=function(x){for(var y=s.MAX_VALUE,w=-s.MAX_VALUE,k=s.MAX_VALUE,E=-s.MAX_VALUE,C,L,_,I,M,F=this.nodes,N=F.length,z=0;z<N;z++){var V=F[z];x&&V.child!=null&&V.updateBounds(),C=V.getLeft(),L=V.getRight(),_=V.getTop(),I=V.getBottom(),y>C&&(y=C),w<L&&(w=L),k>_&&(k=_),E<I&&(E=I)}var D=new f(y,k,w-y,E-k);y==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),F[0].getParent().paddingLeft!=null?M=F[0].getParent().paddingLeft:M=this.margin,this.left=D.x-M,this.right=D.x+D.width+M,this.top=D.y-M,this.bottom=D.y+D.height+M},v.calculateBounds=function(x){for(var y=s.MAX_VALUE,w=-s.MAX_VALUE,k=s.MAX_VALUE,E=-s.MAX_VALUE,C,L,_,I,M=x.length,F=0;F<M;F++){var N=x[F];C=N.getLeft(),L=N.getRight(),_=N.getTop(),I=N.getBottom(),y>C&&(y=C),w<L&&(w=L),k>_&&(k=_),E<I&&(E=I)}var z=new f(y,k,w-y,E-k);return z},v.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},v.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},v.prototype.calcEstimatedSize=function(){for(var x=0,y=this.nodes,w=y.length,k=0;k<w;k++){var E=y[k];x+=E.calcEstimatedSize()}return x==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=x/Math.sqrt(this.nodes.length),this.estimatedSize},v.prototype.updateConnected=function(){var x=this;if(this.nodes.length==0){this.isConnected=!0;return}var y=new p,w=new Set,k=this.nodes[0],E,C,L=k.withChildren();for(L.forEach(function(z){y.push(z),w.add(z)});y.length!==0;){k=y.shift(),E=k.getEdges();for(var _=E.length,I=0;I<_;I++){var M=E[I];if(C=M.getOtherEndInGraph(k,this),C!=null&&!w.has(C)){var F=C.withChildren();F.forEach(function(z){y.push(z),w.add(z)})}}}if(this.isConnected=!1,w.size>=this.nodes.length){var N=0;w.forEach(function(z){z.owner==x&&N++}),N==this.nodes.length&&(this.isConnected=!0)}},r.exports=v},function(r,n,i){var a,s=i(1);function o(l){a=i(5),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),u=this.layout.newNode(null),h=this.add(l,u);return this.setRootGraph(h),this.rootGraph},o.prototype.add=function(l,u,h,f,d){if(h==null&&f==null&&d==null){if(l==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return l.parent=u,u.child=l,l}else{d=h,f=u,h=l;var p=f.getOwner(),v=d.getOwner();if(!(p!=null&&p.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(v!=null&&v.getGraphManager()==this))throw"Target not in this graph mgr!";if(p==v)return h.isInterGraph=!1,p.add(h,f,d);if(h.isInterGraph=!0,h.source=f,h.target=d,this.edges.indexOf(h)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(h),!(h.source!=null&&h.target!=null))throw"Edge source and/or target is null!";if(!(h.source.edges.indexOf(h)==-1&&h.target.edges.indexOf(h)==-1))throw"Edge already in source and/or target incidency list!";return h.source.edges.push(h),h.target.edges.push(h),h}},o.prototype.remove=function(l){if(l instanceof a){var u=l;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var h=[];h=h.concat(u.getEdges());for(var f,d=h.length,p=0;p<d;p++)f=h[p],u.remove(f);var v=[];v=v.concat(u.getNodes());var m;d=v.length;for(var p=0;p<d;p++)m=v[p],u.remove(m);u==this.rootGraph&&this.setRootGraph(null);var x=this.graphs.indexOf(u);this.graphs.splice(x,1),u.parent=null}else if(l instanceof s){if(f=l,f==null)throw"Edge is null!";if(!f.isInterGraph)throw"Not an inter-graph edge!";if(!(f.source!=null&&f.target!=null))throw"Source and/or target is null!";if(!(f.source.edges.indexOf(f)!=-1&&f.target.edges.indexOf(f)!=-1))throw"Source and/or target doesn't know this edge!";var x=f.source.edges.indexOf(f);if(f.source.edges.splice(x,1),x=f.target.edges.indexOf(f),f.target.edges.splice(x,1),!(f.source.owner!=null&&f.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(f.source.owner.getGraphManager().edges.indexOf(f)==-1)throw"Not in owner graph manager's edge list!";var x=f.source.owner.getGraphManager().edges.indexOf(f);f.source.owner.getGraphManager().edges.splice(x,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],u=this.getGraphs(),h=u.length,f=0;f<h;f++)l=l.concat(u[f].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],u=this.getGraphs();u.length;for(var h=0;h<u.length;h++)l=l.concat(u[h].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,u){if(!(l!=null&&u!=null))throw"assert failed";if(l==u)return!0;var h=l.getOwner(),f;do{if(f=h.getParent(),f==null)break;if(f==u)return!0;if(h=f.getOwner(),h==null)break}while(!0);h=u.getOwner();do{if(f=h.getParent(),f==null)break;if(f==l)return!0;if(h=f.getOwner(),h==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,u,h,f,d,p=this.getAllEdges(),v=p.length,m=0;m<v;m++){if(l=p[m],u=l.source,h=l.target,l.lca=null,l.sourceInLca=u,l.targetInLca=h,u==h){l.lca=u.getOwner();continue}for(f=u.getOwner();l.lca==null;){for(l.targetInLca=h,d=h.getOwner();l.lca==null;){if(d==f){l.lca=d;break}if(d==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=d.getParent(),d=l.targetInLca.getOwner()}if(f==this.rootGraph)break;l.lca==null&&(l.sourceInLca=f.getParent(),f=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,u){if(l==u)return l.getOwner();var h=l.getOwner();do{if(h==null)break;var f=u.getOwner();do{if(f==null)break;if(f==h)return f;f=f.getParent().getOwner()}while(!0);h=h.getParent().getOwner()}while(!0);return h},o.prototype.calcInclusionTreeDepths=function(l,u){l==null&&u==null&&(l=this.rootGraph,u=1);for(var h,f=l.getNodes(),d=f.length,p=0;p<d;p++)h=f[p],h.inclusionTreeDepth=u,h.child!=null&&this.calcInclusionTreeDepths(h.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var l,u=this.edges.length,h=0;h<u;h++)if(l=this.edges[h],this.isOneAncestorOfOther(l.source,l.target))return!0;return!1},r.exports=o},function(r,n,i){var a=i(0);function s(){}for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){var a=i(12);function s(){}s.calcSeparationAmount=function(o,l,u,h){if(!o.intersects(l))throw"assert failed";var f=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,f),u[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),u[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?u[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?u[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var d=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(d=1);var p=d*u[0],v=u[1]/d;u[0]<v?v=u[0]:p=u[1],u[0]=-1*f[0]*(v/2+h),u[1]=-1*f[1]*(p/2+h)},s.decideDirectionsForOverlappingNodes=function(o,l,u){o.getCenterX()<l.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<l.getCenterY()?u[1]=-1:u[1]=1},s.getIntersection2=function(o,l,u){var h=o.getCenterX(),f=o.getCenterY(),d=l.getCenterX(),p=l.getCenterY();if(o.intersects(l))return u[0]=h,u[1]=f,u[2]=d,u[3]=p,!0;var v=o.getX(),m=o.getY(),x=o.getRight(),y=o.getX(),w=o.getBottom(),k=o.getRight(),E=o.getWidthHalf(),C=o.getHeightHalf(),L=l.getX(),_=l.getY(),I=l.getRight(),M=l.getX(),F=l.getBottom(),N=l.getRight(),z=l.getWidthHalf(),V=l.getHeightHalf(),D=!1,O=!1;if(h===d){if(f>p)return u[0]=h,u[1]=m,u[2]=d,u[3]=F,!1;if(f<p)return u[0]=h,u[1]=w,u[2]=d,u[3]=_,!1}else if(f===p){if(h>d)return u[0]=v,u[1]=f,u[2]=I,u[3]=p,!1;if(h<d)return u[0]=x,u[1]=f,u[2]=L,u[3]=p,!1}else{var P=o.height/o.width,$=l.height/l.width,B=(p-f)/(d-h),H=void 0,X=void 0,q=void 0,Y=void 0,U=void 0,J=void 0;if(-P===B?h>d?(u[0]=y,u[1]=w,D=!0):(u[0]=x,u[1]=m,D=!0):P===B&&(h>d?(u[0]=v,u[1]=m,D=!0):(u[0]=k,u[1]=w,D=!0)),-$===B?d>h?(u[2]=M,u[3]=F,O=!0):(u[2]=I,u[3]=_,O=!0):$===B&&(d>h?(u[2]=L,u[3]=_,O=!0):(u[2]=N,u[3]=F,O=!0)),D&&O)return!1;if(h>d?f>p?(H=this.getCardinalDirection(P,B,4),X=this.getCardinalDirection($,B,2)):(H=this.getCardinalDirection(-P,B,3),X=this.getCardinalDirection(-$,B,1)):f>p?(H=this.getCardinalDirection(-P,B,1),X=this.getCardinalDirection(-$,B,3)):(H=this.getCardinalDirection(P,B,2),X=this.getCardinalDirection($,B,4)),!D)switch(H){case 1:Y=m,q=h+-C/B,u[0]=q,u[1]=Y;break;case 2:q=k,Y=f+E*B,u[0]=q,u[1]=Y;break;case 3:Y=w,q=h+C/B,u[0]=q,u[1]=Y;break;case 4:q=y,Y=f+-E*B,u[0]=q,u[1]=Y;break}if(!O)switch(X){case 1:J=_,U=d+-V/B,u[2]=U,u[3]=J;break;case 2:U=N,J=p+z*B,u[2]=U,u[3]=J;break;case 3:J=F,U=d+V/B,u[2]=U,u[3]=J;break;case 4:U=M,J=p+-z*B,u[2]=U,u[3]=J;break}}return!1},s.getCardinalDirection=function(o,l,u){return o>l?u:1+u%4},s.getIntersection=function(o,l,u,h){if(h==null)return this.getIntersection2(o,l,u);var f=o.x,d=o.y,p=l.x,v=l.y,m=u.x,x=u.y,y=h.x,w=h.y,k=void 0,E=void 0,C=void 0,L=void 0,_=void 0,I=void 0,M=void 0,F=void 0,N=void 0;return C=v-d,_=f-p,M=p*d-f*v,L=w-x,I=m-y,F=y*x-m*w,N=C*I-L*_,N===0?null:(k=(_*F-I*M)/N,E=(L*M-C*F)/N,new a(k,E))},s.angleOfVector=function(o,l,u,h){var f=void 0;return o!==u?(f=Math.atan((h-l)/(u-o)),u<o?f+=Math.PI:h<l&&(f+=this.TWO_PI)):h<l?f=this.ONE_AND_HALF_PI:f=this.HALF_PI,f},s.doIntersect=function(o,l,u,h){var f=o.x,d=o.y,p=l.x,v=l.y,m=u.x,x=u.y,y=h.x,w=h.y,k=(p-f)*(w-x)-(y-m)*(v-d);if(k===0)return!1;var E=((w-x)*(y-f)+(m-y)*(w-d))/k,C=((d-v)*(y-f)+(p-f)*(w-d))/k;return 0<E&&E<1&&0<C&&C<1},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){function a(){}a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){function a(){}a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){var a=function(){function f(d,p){for(var v=0;v<p.length;v++){var m=p[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,p,v){return p&&f(d.prototype,p),v&&f(d,v),d}}();function s(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d){return{value:d,next:null,prev:null}},l=function(d,p,v,m){return d!==null?d.next=p:m.head=p,v!==null?v.prev=p:m.tail=p,p.prev=d,p.next=v,m.length++,p},u=function(d,p){var v=d.prev,m=d.next;return v!==null?v.next=m:p.head=m,m!==null?m.prev=v:p.tail=v,d.prev=d.next=null,p.length--,d},h=function(){function f(d){var p=this;s(this,f),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(v){return p.push(v)})}return a(f,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(p,v){return l(v.prev,o(p),v,this)}},{key:"insertAfter",value:function(p,v){return l(v,o(p),v.next,this)}},{key:"insertNodeBefore",value:function(p,v){return l(v.prev,p,v,this)}},{key:"insertNodeAfter",value:function(p,v){return l(v,p,v.next,this)}},{key:"push",value:function(p){return l(this.tail,o(p),null,this)}},{key:"unshift",value:function(p){return l(null,o(p),this.head,this)}},{key:"remove",value:function(p){return u(p,this)}},{key:"pop",value:function(){return u(this.tail,this).value}},{key:"popNode",value:function(){return u(this.tail,this)}},{key:"shift",value:function(){return u(this.head,this).value}},{key:"shiftNode",value:function(){return u(this.head,this)}},{key:"get_object_at",value:function(p){if(p<=this.length()){for(var v=1,m=this.head;v<p;)m=m.next,v++;return m.value}}},{key:"set_object_at",value:function(p,v){if(p<=this.length()){for(var m=1,x=this.head;m<p;)x=x.next,m++;x.value=v}}}]),f}();r.exports=h},function(r,n,i){function a(s,o,l){this.x=null,this.y=null,s==null&&o==null&&l==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&l==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&l==null&&(l=s,this.x=l.x,this.y=l.y)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,l){s.constructor.name=="Point"&&o==null&&l==null?(l=s,this.setLocation(l.x,l.y)):typeof s=="number"&&typeof o=="number"&&l==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){function a(s,o,l,u){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&l!=null&&u!=null&&(this.x=s,this.y=o,this.width=l,this.height=u)}a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var l=typeof o>"u"?"undefined":a(o);return o==null||l!="object"&&l!="function"},r.exports=s},function(r,n,i){function a(m){if(Array.isArray(m)){for(var x=0,y=Array(m.length);x<m.length;x++)y[x]=m[x];return y}else return Array.from(m)}var s=i(0),o=i(6),l=i(3),u=i(1),h=i(5),f=i(4),d=i(17),p=i(27);function v(m){p.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,m!=null&&(this.isRemoteUse=m)}v.RANDOM_SEED=1,v.prototype=Object.create(p.prototype),v.prototype.getGraphManager=function(){return this.graphManager},v.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},v.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},v.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},v.prototype.newGraphManager=function(){var m=new o(this);return this.graphManager=m,m},v.prototype.newGraph=function(m){return new h(null,this.graphManager,m)},v.prototype.newNode=function(m){return new l(this.graphManager,m)},v.prototype.newEdge=function(m){return new u(null,null,m)},v.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},v.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var m;return this.checkLayoutSuccess()?m=!1:m=this.layout(),s.ANIMATE==="during"?!1:(m&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,m)},v.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},v.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var m=this.graphManager.getAllEdges(),x=0;x<m.length;x++)m[x];for(var y=this.graphManager.getRoot().getNodes(),x=0;x<y.length;x++)y[x];this.update(this.graphManager.getRoot())}},v.prototype.update=function(m){if(m==null)this.update2();else if(m instanceof l){var x=m;if(x.getChild()!=null)for(var y=x.getChild().getNodes(),w=0;w<y.length;w++)update(y[w]);if(x.vGraphObject!=null){var k=x.vGraphObject;k.update(x)}}else if(m instanceof u){var E=m;if(E.vGraphObject!=null){var C=E.vGraphObject;C.update(E)}}else if(m instanceof h){var L=m;if(L.vGraphObject!=null){var _=L.vGraphObject;_.update(L)}}},v.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},v.prototype.transform=function(m){if(m==null)this.transform(new f(0,0));else{var x=new d,y=this.graphManager.getRoot().updateLeftTop();if(y!=null){x.setWorldOrgX(m.x),x.setWorldOrgY(m.y),x.setDeviceOrgX(y.x),x.setDeviceOrgY(y.y);for(var w=this.getAllNodes(),k,E=0;E<w.length;E++)k=w[E],k.transform(x)}}},v.prototype.positionNodesRandomly=function(m){if(m==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var x,y,w=m.getNodes(),k=0;k<w.length;k++)x=w[k],y=x.getChild(),y==null||y.getNodes().length==0?x.scatter():(this.positionNodesRandomly(y),x.updateBounds())},v.prototype.getFlatForest=function(){for(var m=[],x=!0,y=this.graphManager.getRoot().getNodes(),w=!0,k=0;k<y.length;k++)y[k].getChild()!=null&&(w=!1);if(!w)return m;var E=new Set,C=[],L=new Map,_=[];for(_=_.concat(y);_.length>0&&x;){for(C.push(_[0]);C.length>0&&x;){var I=C[0];C.splice(0,1),E.add(I);for(var M=I.getEdges(),k=0;k<M.length;k++){var F=M[k].getOtherEnd(I);if(L.get(I)!=F)if(!E.has(F))C.push(F),L.set(F,I);else{x=!1;break}}}if(!x)m=[];else{var N=[].concat(a(E));m.push(N);for(var k=0;k<N.length;k++){var z=N[k],V=_.indexOf(z);V>-1&&_.splice(V,1)}E=new Set,L=new Map}}return m},v.prototype.createDummyNodesForBendpoints=function(m){for(var x=[],y=m.source,w=this.graphManager.calcLowestCommonAncestor(m.source,m.target),k=0;k<m.bendpoints.length;k++){var E=this.newNode(null);E.setRect(new Point(0,0),new Dimension(1,1)),w.add(E);var C=this.newEdge(null);this.graphManager.add(C,y,E),x.add(E),y=E}var C=this.newEdge(null);return this.graphManager.add(C,y,m.target),this.edgeToDummyNodes.set(m,x),m.isInterGraph()?this.graphManager.remove(m):w.remove(m),x},v.prototype.createBendpointsFromDummyNodes=function(){var m=[];m=m.concat(this.graphManager.getAllEdges()),m=[].concat(a(this.edgeToDummyNodes.keys())).concat(m);for(var x=0;x<m.length;x++){var y=m[x];if(y.bendpoints.length>0){for(var w=this.edgeToDummyNodes.get(y),k=0;k<w.length;k++){var E=w[k],C=new f(E.getCenterX(),E.getCenterY()),L=y.bendpoints.get(k);L.x=C.x,L.y=C.y,E.getOwner().remove(E)}this.graphManager.add(y,y.source,y.target)}}},v.transform=function(m,x,y,w){if(y!=null&&w!=null){var k=x;if(m<=50){var E=x/y;k-=(x-E)/50*(50-m)}else{var C=x*w;k+=(C-x)/50*(m-50)}return k}else{var L,_;return m<=50?(L=9*x/500,_=x/10):(L=9*x/50,_=-8*x),L*m+_}},v.findCenterOfTree=function(m){var x=[];x=x.concat(m);var y=[],w=new Map,k=!1,E=null;(x.length==1||x.length==2)&&(k=!0,E=x[0]);for(var C=0;C<x.length;C++){var L=x[C],_=L.getNeighborsList().size;w.set(L,L.getNeighborsList().size),_==1&&y.push(L)}var I=[];for(I=I.concat(y);!k;){var M=[];M=M.concat(I),I=[];for(var C=0;C<x.length;C++){var L=x[C],F=x.indexOf(L);F>=0&&x.splice(F,1);var N=L.getNeighborsList();N.forEach(function(D){if(y.indexOf(D)<0){var O=w.get(D),P=O-1;P==1&&I.push(D),w.set(D,P)}})}y=y.concat(I),(x.length==1||x.length==2)&&(k=!0,E=x[0])}return E},v.prototype.setGraphManager=function(m){this.graphManager=m},r.exports=v},function(r,n,i){function a(){}a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){var a=i(4);function s(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var l=0,u=this.lworldExtX;return u!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),l},s.prototype.transformY=function(o){var l=0,u=this.lworldExtY;return u!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),l},s.prototype.inverseTransformX=function(o){var l=0,u=this.ldeviceExtX;return u!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),l},s.prototype.inverseTransformY=function(o){var l=0,u=this.ldeviceExtY;return u!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),l},s.prototype.inverseTransformPoint=function(o){var l=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=s},function(r,n,i){function a(p){if(Array.isArray(p)){for(var v=0,m=Array(p.length);v<p.length;v++)m[v]=p[v];return m}else return Array.from(p)}var s=i(15),o=i(7),l=i(0),u=i(8),h=i(9);function f(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}f.prototype=Object.create(s.prototype);for(var d in s)f[d]=s[d];f.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},f.prototype.calcIdealEdgeLengths=function(){for(var p,v,m,x,y,w,k=this.getGraphManager().getAllEdges(),E=0;E<k.length;E++)p=k[E],p.idealLength=this.idealEdgeLength,p.isInterGraph&&(m=p.getSource(),x=p.getTarget(),y=p.getSourceInLca().getEstimatedSize(),w=p.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(p.idealLength+=y+w-2*l.SIMPLE_NODE_SIZE),v=p.getLca().getInclusionTreeDepth(),p.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(m.getInclusionTreeDepth()+x.getInclusionTreeDepth()-2*v))},f.prototype.initSpringEmbedder=function(){var p=this.getAllNodes().length;this.incremental?(p>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(p>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},f.prototype.calcSpringForces=function(){for(var p=this.getAllEdges(),v,m=0;m<p.length;m++)v=p[m],this.calcSpringForce(v,v.idealLength)},f.prototype.calcRepulsionForces=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m,x,y,w,k=this.getAllNodes(),E;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&p&&this.updateGrid(),E=new Set,m=0;m<k.length;m++)y=k[m],this.calculateRepulsionForceOfANode(y,E,p,v),E.add(y);else for(m=0;m<k.length;m++)for(y=k[m],x=m+1;x<k.length;x++)w=k[x],y.getOwner()==w.getOwner()&&this.calcRepulsionForce(y,w)},f.prototype.calcGravitationalForces=function(){for(var p,v=this.getAllNodesToApplyGravitation(),m=0;m<v.length;m++)p=v[m],this.calcGravitationalForce(p)},f.prototype.moveNodes=function(){for(var p=this.getAllNodes(),v,m=0;m<p.length;m++)v=p[m],v.move()},f.prototype.calcSpringForce=function(p,v){var m=p.getSource(),x=p.getTarget(),y,w,k,E;if(this.uniformLeafNodeSizes&&m.getChild()==null&&x.getChild()==null)p.updateLengthSimple();else if(p.updateLength(),p.isOverlapingSourceAndTarget)return;y=p.getLength(),y!=0&&(w=this.springConstant*(y-v),k=w*(p.lengthX/y),E=w*(p.lengthY/y),m.springForceX+=k,m.springForceY+=E,x.springForceX-=k,x.springForceY-=E)},f.prototype.calcRepulsionForce=function(p,v){var m=p.getRect(),x=v.getRect(),y=new Array(2),w=new Array(4),k,E,C,L,_,I,M;if(m.intersects(x)){u.calcSeparationAmount(m,x,y,o.DEFAULT_EDGE_LENGTH/2),I=2*y[0],M=2*y[1];var F=p.noOfChildren*v.noOfChildren/(p.noOfChildren+v.noOfChildren);p.repulsionForceX-=F*I,p.repulsionForceY-=F*M,v.repulsionForceX+=F*I,v.repulsionForceY+=F*M}else this.uniformLeafNodeSizes&&p.getChild()==null&&v.getChild()==null?(k=x.getCenterX()-m.getCenterX(),E=x.getCenterY()-m.getCenterY()):(u.getIntersection(m,x,w),k=w[2]-w[0],E=w[3]-w[1]),Math.abs(k)<o.MIN_REPULSION_DIST&&(k=h.sign(k)*o.MIN_REPULSION_DIST),Math.abs(E)<o.MIN_REPULSION_DIST&&(E=h.sign(E)*o.MIN_REPULSION_DIST),C=k*k+E*E,L=Math.sqrt(C),_=this.repulsionConstant*p.noOfChildren*v.noOfChildren/C,I=_*k/L,M=_*E/L,p.repulsionForceX-=I,p.repulsionForceY-=M,v.repulsionForceX+=I,v.repulsionForceY+=M},f.prototype.calcGravitationalForce=function(p){var v,m,x,y,w,k,E,C;v=p.getOwner(),m=(v.getRight()+v.getLeft())/2,x=(v.getTop()+v.getBottom())/2,y=p.getCenterX()-m,w=p.getCenterY()-x,k=Math.abs(y)+p.getWidth()/2,E=Math.abs(w)+p.getHeight()/2,p.getOwner()==this.graphManager.getRoot()?(C=v.getEstimatedSize()*this.gravityRangeFactor,(k>C||E>C)&&(p.gravitationForceX=-this.gravityConstant*y,p.gravitationForceY=-this.gravityConstant*w)):(C=v.getEstimatedSize()*this.compoundGravityRangeFactor,(k>C||E>C)&&(p.gravitationForceX=-this.gravityConstant*y*this.compoundGravityConstant,p.gravitationForceY=-this.gravityConstant*w*this.compoundGravityConstant))},f.prototype.isConverged=function(){var p,v=!1;return this.totalIterations>this.maxIterations/3&&(v=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),p=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,p||v},f.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},f.prototype.calcNoOfChildrenForAllNodes=function(){for(var p,v=this.graphManager.getAllNodes(),m=0;m<v.length;m++)p=v[m],p.noOfChildren=p.getNoOfChildren()},f.prototype.calcGrid=function(p){var v=0,m=0;v=parseInt(Math.ceil((p.getRight()-p.getLeft())/this.repulsionRange)),m=parseInt(Math.ceil((p.getBottom()-p.getTop())/this.repulsionRange));for(var x=new Array(v),y=0;y<v;y++)x[y]=new Array(m);for(var y=0;y<v;y++)for(var w=0;w<m;w++)x[y][w]=new Array;return x},f.prototype.addNodeToGrid=function(p,v,m){var x=0,y=0,w=0,k=0;x=parseInt(Math.floor((p.getRect().x-v)/this.repulsionRange)),y=parseInt(Math.floor((p.getRect().width+p.getRect().x-v)/this.repulsionRange)),w=parseInt(Math.floor((p.getRect().y-m)/this.repulsionRange)),k=parseInt(Math.floor((p.getRect().height+p.getRect().y-m)/this.repulsionRange));for(var E=x;E<=y;E++)for(var C=w;C<=k;C++)this.grid[E][C].push(p),p.setGridCoordinates(x,y,w,k)},f.prototype.updateGrid=function(){var p,v,m=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),p=0;p<m.length;p++)v=m[p],this.addNodeToGrid(v,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},f.prototype.calculateRepulsionForceOfANode=function(p,v,m,x){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&m||x){var y=new Set;p.surrounding=new Array;for(var w,k=this.grid,E=p.startX-1;E<p.finishX+2;E++)for(var C=p.startY-1;C<p.finishY+2;C++)if(!(E<0||C<0||E>=k.length||C>=k[0].length)){for(var L=0;L<k[E][C].length;L++)if(w=k[E][C][L],!(p.getOwner()!=w.getOwner()||p==w)&&!v.has(w)&&!y.has(w)){var _=Math.abs(p.getCenterX()-w.getCenterX())-(p.getWidth()/2+w.getWidth()/2),I=Math.abs(p.getCenterY()-w.getCenterY())-(p.getHeight()/2+w.getHeight()/2);_<=this.repulsionRange&&I<=this.repulsionRange&&y.add(w)}}p.surrounding=[].concat(a(y))}for(E=0;E<p.surrounding.length;E++)this.calcRepulsionForce(p,p.surrounding[E])},f.prototype.calcRepulsionRange=function(){return 0},r.exports=f},function(r,n,i){var a=i(1),s=i(7);function o(u,h,f){a.call(this,u,h,f),this.idealLength=s.DEFAULT_EDGE_LENGTH}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];r.exports=o},function(r,n,i){var a=i(3);function s(l,u,h,f){a.call(this,l,u,h,f),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}s.prototype=Object.create(a.prototype);for(var o in a)s[o]=a[o];s.prototype.setGridCoordinates=function(l,u,h,f){this.startX=l,this.finishX=u,this.startY=h,this.finishY=f},r.exports=s},function(r,n,i){function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){var a=i(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(o,l){var u=a.createID(o);this.contains(u)||(this.map[u]=l,this.keys.push(o))},s.prototype.contains=function(o){return a.createID(o),this.map[o]!=null},s.prototype.get=function(o){var l=a.createID(o);return this.map[l]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){var a=i(14);function s(){this.set={}}s.prototype.add=function(o){var l=a.createID(o);this.contains(l)||(this.set[l]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),u=l.length,h=0;h<u;h++)o.push(this.set[l[h]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var l=o.length,u=0;u<l;u++){var h=o[u];this.add(h)}},r.exports=s},function(r,n,i){var a=function(){function u(h,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,f,d){return f&&u(h.prototype,f),d&&u(h,d),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var o=i(11),l=function(){function u(h,f){s(this,u),(f!==null||f!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;h instanceof o?d=h.size():d=h.length,this._quicksort(h,0,d-1)}return a(u,[{key:"_quicksort",value:function(f,d,p){if(d<p){var v=this._partition(f,d,p);this._quicksort(f,d,v),this._quicksort(f,v+1,p)}}},{key:"_partition",value:function(f,d,p){for(var v=this._get(f,d),m=d,x=p;;){for(;this.compareFunction(v,this._get(f,x));)x--;for(;this.compareFunction(this._get(f,m),v);)m++;if(m<x)this._swap(f,m,x),m++,x--;else return x}}},{key:"_get",value:function(f,d){return f instanceof o?f.get_object_at(d):f[d]}},{key:"_set",value:function(f,d,p){f instanceof o?f.set_object_at(d,p):f[d]=p}},{key:"_swap",value:function(f,d,p){var v=this._get(f,d);this._set(f,d,this._get(f,p)),this._set(f,p,v)}},{key:"_defaultCompareFunction",value:function(f,d){return d>f}}]),u}();r.exports=l},function(r,n,i){var a=function(){function l(u,h){for(var f=0;f<h.length;f++){var d=h[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u,h){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,l),this.sequence1=u,this.sequence2=h,this.match_score=f,this.mismatch_penalty=d,this.gap_penalty=p,this.iMax=u.length+1,this.jMax=h.length+1,this.grid=new Array(this.iMax);for(var v=0;v<this.iMax;v++){this.grid[v]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.grid[v][m]=0}this.tracebackGrid=new Array(this.iMax);for(var x=0;x<this.iMax;x++){this.tracebackGrid[x]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.tracebackGrid[x][y]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var f=1;f<this.iMax;f++)this.grid[f][0]=this.grid[f-1][0]+this.gap_penalty,this.tracebackGrid[f][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var p=1;p<this.jMax;p++){var v=void 0;this.sequence1[d-1]===this.sequence2[p-1]?v=this.grid[d-1][p-1]+this.match_score:v=this.grid[d-1][p-1]+this.mismatch_penalty;var m=this.grid[d-1][p]+this.gap_penalty,x=this.grid[d][p-1]+this.gap_penalty,y=[v,m,x],w=this.arrayAllMaxIndexes(y);this.grid[d][p]=y[w[0]],this.tracebackGrid[d][p]=[w.includes(0),w.includes(1),w.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var f=h[0],d=this.tracebackGrid[f.pos[0]][f.pos[1]];d[0]&&h.push({pos:[f.pos[0]-1,f.pos[1]-1],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),d[1]&&h.push({pos:[f.pos[0]-1,f.pos[1]],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:"-"+f.seq2}),d[2]&&h.push({pos:[f.pos[0],f.pos[1]-1],seq1:"-"+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),f.pos[0]===0&&f.pos[1]===0&&this.alignments.push({sequence1:f.seq1,sequence2:f.seq2}),h.shift()}return this.alignments}},{key:"getAllIndexes",value:function(h,f){for(var d=[],p=-1;(p=h.indexOf(f,p+1))!==-1;)d.push(p);return d}},{key:"arrayAllMaxIndexes",value:function(h){return this.getAllIndexes(h,Math.max.apply(null,h))}}]),l}();r.exports=o},function(r,n,i){var a=function(){};a.FDLayout=i(18),a.FDLayoutConstants=i(7),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(4),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(24),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(5),a.LEdge=i(1),a.LGraphManager=i(6),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(25),r.exports=a},function(r,n,i){function a(){this.listeners=[]}var s=a.prototype;s.addListener=function(o,l){this.listeners.push({event:o,callback:l})},s.removeListener=function(o,l){for(var u=this.listeners.length;u>=0;u--){var h=this.listeners[u];h.event===o&&h.callback===l&&this.listeners.splice(u,1)}},s.emit=function(o,l){for(var u=0;u<this.listeners.length;u++){var h=this.listeners[u];o===h.event&&h.callback(l)}},r.exports=a}])})}(fA)),fA.exports}var Lq;function $st(){return Lq||(Lq=1,function(t,e){(function(n,i){t.exports=i(Bst())})(Ll,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=7)}([function(n,i){n.exports=r},function(n,i,a){var s=a(0).FDLayoutConstants;function o(){}for(var l in s)o[l]=s[l];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=s.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=o},function(n,i,a){var s=a(0).FDLayoutEdge;function o(u,h,f){s.call(this,u,h,f)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];n.exports=o},function(n,i,a){var s=a(0).LGraph;function o(u,h,f){s.call(this,u,h,f)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];n.exports=o},function(n,i,a){var s=a(0).LGraphManager;function o(u){s.call(this,u)}o.prototype=Object.create(s.prototype);for(var l in s)o[l]=s[l];n.exports=o},function(n,i,a){var s=a(0).FDLayoutNode,o=a(0).IMath;function l(h,f,d,p){s.call(this,h,f,d,p)}l.prototype=Object.create(s.prototype);for(var u in s)l[u]=s[u];l.prototype.move=function(){var h=this.graphManager.getLayout();this.displacementX=h.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=h.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>h.coolingFactor*h.maxNodeDisplacement&&(this.displacementX=h.coolingFactor*h.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>h.coolingFactor*h.maxNodeDisplacement&&(this.displacementY=h.coolingFactor*h.maxNodeDisplacement*o.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),h.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},l.prototype.propogateDisplacementToChildren=function(h,f){for(var d=this.getChild().getNodes(),p,v=0;v<d.length;v++)p=d[v],p.getChild()==null?(p.moveBy(h,f),p.displacementX+=h,p.displacementY+=f):p.propogateDisplacementToChildren(h,f)},l.prototype.setPred1=function(h){this.pred1=h},l.prototype.getPred1=function(){return pred1},l.prototype.getPred2=function(){return pred2},l.prototype.setNext=function(h){this.next=h},l.prototype.getNext=function(){return next},l.prototype.setProcessed=function(h){this.processed=h},l.prototype.isProcessed=function(){return processed},n.exports=l},function(n,i,a){var s=a(0).FDLayout,o=a(4),l=a(3),u=a(5),h=a(2),f=a(1),d=a(0).FDLayoutConstants,p=a(0).LayoutConstants,v=a(0).Point,m=a(0).PointD,x=a(0).Layout,y=a(0).Integer,w=a(0).IGeometry,k=a(0).LGraph,E=a(0).Transform;function C(){s.call(this),this.toBeTiled={}}C.prototype=Object.create(s.prototype);for(var L in s)C[L]=s[L];C.prototype.newGraphManager=function(){var _=new o(this);return this.graphManager=_,_},C.prototype.newGraph=function(_){return new l(null,this.graphManager,_)},C.prototype.newNode=function(_){return new u(this.graphManager,_)},C.prototype.newEdge=function(_){return new h(null,null,_)},C.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.isSubLayout||(f.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=f.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=f.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=d.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=d.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=d.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=d.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=d.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=d.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/d.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=d.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},C.prototype.layout=function(){var _=p.DEFAULT_CREATE_BENDS_AS_NEEDED;return _&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},C.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(f.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var I=new Set(this.getAllNodes()),M=this.nodesWithGravity.filter(function(z){return I.has(z)});this.graphManager.setAllNodesToApplyGravitation(M)}}else{var _=this.getFlatForest();if(_.length>0)this.positionNodesRadially(_);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var I=new Set(this.getAllNodes()),M=this.nodesWithGravity.filter(function(F){return I.has(F)});this.graphManager.setAllNodesToApplyGravitation(M),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},C.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%d.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),I=this.nodesWithGravity.filter(function(N){return _.has(N)});this.graphManager.setAllNodesToApplyGravitation(I),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=d.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var M=!this.isTreeGrowing&&!this.isGrowthFinished,F=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(M,F),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},C.prototype.getPositionsData=function(){for(var _=this.graphManager.getAllNodes(),I={},M=0;M<_.length;M++){var F=_[M].rect,N=_[M].id;I[N]={id:N,x:F.getCenterX(),y:F.getCenterY(),w:F.width,h:F.height}}return I},C.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var _=!1;if(d.ANIMATE==="during")this.emit("layoutstarted");else{for(;!_;)_=this.tick();this.graphManager.updateBounds()}},C.prototype.calculateNodesToApplyGravitationTo=function(){var _=[],I,M=this.graphManager.getGraphs(),F=M.length,N;for(N=0;N<F;N++)I=M[N],I.updateConnected(),I.isConnected||(_=_.concat(I.getNodes()));return _},C.prototype.createBendpoints=function(){var _=[];_=_.concat(this.graphManager.getAllEdges());var I=new Set,M;for(M=0;M<_.length;M++){var F=_[M];if(!I.has(F)){var N=F.getSource(),z=F.getTarget();if(N==z)F.getBendpoints().push(new m),F.getBendpoints().push(new m),this.createDummyNodesForBendpoints(F),I.add(F);else{var V=[];if(V=V.concat(N.getEdgeListToNode(z)),V=V.concat(z.getEdgeListToNode(N)),!I.has(V[0])){if(V.length>1){var D;for(D=0;D<V.length;D++){var O=V[D];O.getBendpoints().push(new m),this.createDummyNodesForBendpoints(O)}}V.forEach(function(P){I.add(P)})}}}if(I.size==_.length)break}},C.prototype.positionNodesRadially=function(_){for(var I=new v(0,0),M=Math.ceil(Math.sqrt(_.length)),F=0,N=0,z=0,V=new m(0,0),D=0;D<_.length;D++){D%M==0&&(z=0,N=F,D!=0&&(N+=f.DEFAULT_COMPONENT_SEPERATION),F=0);var O=_[D],P=x.findCenterOfTree(O);I.x=z,I.y=N,V=C.radialLayout(O,P,I),V.y>F&&(F=Math.floor(V.y)),z=Math.floor(V.x+f.DEFAULT_COMPONENT_SEPERATION)}this.transform(new m(p.WORLD_CENTER_X-V.x/2,p.WORLD_CENTER_Y-V.y/2))},C.radialLayout=function(_,I,M){var F=Math.max(this.maxDiagonalInTree(_),f.DEFAULT_RADIAL_SEPARATION);C.branchRadialLayout(I,null,0,359,0,F);var N=k.calculateBounds(_),z=new E;z.setDeviceOrgX(N.getMinX()),z.setDeviceOrgY(N.getMinY()),z.setWorldOrgX(M.x),z.setWorldOrgY(M.y);for(var V=0;V<_.length;V++){var D=_[V];D.transform(z)}var O=new m(N.getMaxX(),N.getMaxY());return z.inverseTransformPoint(O)},C.branchRadialLayout=function(_,I,M,F,N,z){var V=(F-M+1)/2;V<0&&(V+=180);var D=(V+M)%360,O=D*w.TWO_PI/360,P=N*Math.cos(O),$=N*Math.sin(O);_.setCenter(P,$);var B=[];B=B.concat(_.getEdges());var H=B.length;I!=null&&H--;for(var X=0,q=B.length,Y,U=_.getEdgesBetween(I);U.length>1;){var J=U[0];U.splice(0,1);var ce=B.indexOf(J);ce>=0&&B.splice(ce,1),q--,H--}I!=null?Y=(B.indexOf(U[0])+1)%q:Y=0;for(var re=Math.abs(F-M)/H,ve=Y;X!=H;ve=++ve%q){var ye=B[ve].getOtherEnd(_);if(ye!=I){var Z=(M+X*re)%360,ue=(Z+re)%360;C.branchRadialLayout(ye,_,Z,ue,N+z,z),X++}}},C.maxDiagonalInTree=function(_){for(var I=y.MIN_VALUE,M=0;M<_.length;M++){var F=_[M],N=F.getDiagonal();N>I&&(I=N)}return I},C.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},C.prototype.groupZeroDegreeMembers=function(){var _=this,I={};this.memberGroups={},this.idToDummyNode={};for(var M=[],F=this.graphManager.getAllNodes(),N=0;N<F.length;N++){var z=F[N],V=z.getParent();this.getNodeDegreeWithChildren(z)===0&&(V.id==null||!this.getToBeTiled(V))&&M.push(z)}for(var N=0;N<M.length;N++){var z=M[N],D=z.getParent().id;typeof I[D]>"u"&&(I[D]=[]),I[D]=I[D].concat(z)}Object.keys(I).forEach(function(O){if(I[O].length>1){var P="DummyCompound_"+O;_.memberGroups[P]=I[O];var $=I[O][0].getParent(),B=new u(_.graphManager);B.id=P,B.paddingLeft=$.paddingLeft||0,B.paddingRight=$.paddingRight||0,B.paddingBottom=$.paddingBottom||0,B.paddingTop=$.paddingTop||0,_.idToDummyNode[P]=B;var H=_.getGraphManager().add(_.newGraph(),B),X=$.getChild();X.add(B);for(var q=0;q<I[O].length;q++){var Y=I[O][q];X.remove(Y),H.add(Y)}}})},C.prototype.clearCompounds=function(){var _={},I={};this.performDFSOnCompounds();for(var M=0;M<this.compoundOrder.length;M++)I[this.compoundOrder[M].id]=this.compoundOrder[M],_[this.compoundOrder[M].id]=[].concat(this.compoundOrder[M].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[M].getChild()),this.compoundOrder[M].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(_,I)},C.prototype.clearZeroDegreeMembers=function(){var _=this,I=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(M){var F=_.idToDummyNode[M];I[M]=_.tileNodes(_.memberGroups[M],F.paddingLeft+F.paddingRight),F.rect.width=I[M].width,F.rect.height=I[M].height})},C.prototype.repopulateCompounds=function(){for(var _=this.compoundOrder.length-1;_>=0;_--){var I=this.compoundOrder[_],M=I.id,F=I.paddingLeft,N=I.paddingTop;this.adjustLocations(this.tiledMemberPack[M],I.rect.x,I.rect.y,F,N)}},C.prototype.repopulateZeroDegreeMembers=function(){var _=this,I=this.tiledZeroDegreePack;Object.keys(I).forEach(function(M){var F=_.idToDummyNode[M],N=F.paddingLeft,z=F.paddingTop;_.adjustLocations(I[M],F.rect.x,F.rect.y,N,z)})},C.prototype.getToBeTiled=function(_){var I=_.id;if(this.toBeTiled[I]!=null)return this.toBeTiled[I];var M=_.getChild();if(M==null)return this.toBeTiled[I]=!1,!1;for(var F=M.getNodes(),N=0;N<F.length;N++){var z=F[N];if(this.getNodeDegree(z)>0)return this.toBeTiled[I]=!1,!1;if(z.getChild()==null){this.toBeTiled[z.id]=!1;continue}if(!this.getToBeTiled(z))return this.toBeTiled[I]=!1,!1}return this.toBeTiled[I]=!0,!0},C.prototype.getNodeDegree=function(_){_.id;for(var I=_.getEdges(),M=0,F=0;F<I.length;F++){var N=I[F];N.getSource().id!==N.getTarget().id&&(M=M+1)}return M},C.prototype.getNodeDegreeWithChildren=function(_){var I=this.getNodeDegree(_);if(_.getChild()==null)return I;for(var M=_.getChild().getNodes(),F=0;F<M.length;F++){var N=M[F];I+=this.getNodeDegreeWithChildren(N)}return I},C.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},C.prototype.fillCompexOrderByDFS=function(_){for(var I=0;I<_.length;I++){var M=_[I];M.getChild()!=null&&this.fillCompexOrderByDFS(M.getChild().getNodes()),this.getToBeTiled(M)&&this.compoundOrder.push(M)}},C.prototype.adjustLocations=function(_,I,M,F,N){I+=F,M+=N;for(var z=I,V=0;V<_.rows.length;V++){var D=_.rows[V];I=z;for(var O=0,P=0;P<D.length;P++){var $=D[P];$.rect.x=I,$.rect.y=M,I+=$.rect.width+_.horizontalPadding,$.rect.height>O&&(O=$.rect.height)}M+=O+_.verticalPadding}},C.prototype.tileCompoundMembers=function(_,I){var M=this;this.tiledMemberPack=[],Object.keys(_).forEach(function(F){var N=I[F];M.tiledMemberPack[F]=M.tileNodes(_[F],N.paddingLeft+N.paddingRight),N.rect.width=M.tiledMemberPack[F].width,N.rect.height=M.tiledMemberPack[F].height})},C.prototype.tileNodes=function(_,I){var M=f.TILING_PADDING_VERTICAL,F=f.TILING_PADDING_HORIZONTAL,N={rows:[],rowWidth:[],rowHeight:[],width:0,height:I,verticalPadding:M,horizontalPadding:F};_.sort(function(D,O){return D.rect.width*D.rect.height>O.rect.width*O.rect.height?-1:D.rect.width*D.rect.height<O.rect.width*O.rect.height?1:0});for(var z=0;z<_.length;z++){var V=_[z];N.rows.length==0?this.insertNodeToRow(N,V,0,I):this.canAddHorizontal(N,V.rect.width,V.rect.height)?this.insertNodeToRow(N,V,this.getShortestRowIndex(N),I):this.insertNodeToRow(N,V,N.rows.length,I),this.shiftToLastRow(N)}return N},C.prototype.insertNodeToRow=function(_,I,M,F){var N=F;if(M==_.rows.length){var z=[];_.rows.push(z),_.rowWidth.push(N),_.rowHeight.push(0)}var V=_.rowWidth[M]+I.rect.width;_.rows[M].length>0&&(V+=_.horizontalPadding),_.rowWidth[M]=V,_.width<V&&(_.width=V);var D=I.rect.height;M>0&&(D+=_.verticalPadding);var O=0;D>_.rowHeight[M]&&(O=_.rowHeight[M],_.rowHeight[M]=D,O=_.rowHeight[M]-O),_.height+=O,_.rows[M].push(I)},C.prototype.getShortestRowIndex=function(_){for(var I=-1,M=Number.MAX_VALUE,F=0;F<_.rows.length;F++)_.rowWidth[F]<M&&(I=F,M=_.rowWidth[F]);return I},C.prototype.getLongestRowIndex=function(_){for(var I=-1,M=Number.MIN_VALUE,F=0;F<_.rows.length;F++)_.rowWidth[F]>M&&(I=F,M=_.rowWidth[F]);return I},C.prototype.canAddHorizontal=function(_,I,M){var F=this.getShortestRowIndex(_);if(F<0)return!0;var N=_.rowWidth[F];if(N+_.horizontalPadding+I<=_.width)return!0;var z=0;_.rowHeight[F]<M&&F>0&&(z=M+_.verticalPadding-_.rowHeight[F]);var V;_.width-N>=I+_.horizontalPadding?V=(_.height+z)/(N+I+_.horizontalPadding):V=(_.height+z)/_.width,z=M+_.verticalPadding;var D;return _.width<I?D=(_.height+z)/I:D=(_.height+z)/_.width,D<1&&(D=1/D),V<1&&(V=1/V),V<D},C.prototype.shiftToLastRow=function(_){var I=this.getLongestRowIndex(_),M=_.rowWidth.length-1,F=_.rows[I],N=F[F.length-1],z=N.width+_.horizontalPadding;if(_.width-_.rowWidth[M]>z&&I!=M){F.splice(-1,1),_.rows[M].push(N),_.rowWidth[I]=_.rowWidth[I]-z,_.rowWidth[M]=_.rowWidth[M]+z,_.width=_.rowWidth[instance.getLongestRowIndex(_)];for(var V=Number.MIN_VALUE,D=0;D<F.length;D++)F[D].height>V&&(V=F[D].height);I>0&&(V+=_.verticalPadding);var O=_.rowHeight[I]+_.rowHeight[M];_.rowHeight[I]=V,_.rowHeight[M]<N.height+_.verticalPadding&&(_.rowHeight[M]=N.height+_.verticalPadding);var P=_.rowHeight[I]+_.rowHeight[M];_.height+=P-O,this.shiftToLastRow(_)}},C.prototype.tilingPreLayout=function(){f.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},C.prototype.tilingPostLayout=function(){f.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},C.prototype.reduceTrees=function(){for(var _=[],I=!0,M;I;){var F=this.graphManager.getAllNodes(),N=[];I=!1;for(var z=0;z<F.length;z++)M=F[z],M.getEdges().length==1&&!M.getEdges()[0].isInterGraph&&M.getChild()==null&&(N.push([M,M.getEdges()[0],M.getOwner()]),I=!0);if(I==!0){for(var V=[],D=0;D<N.length;D++)N[D][0].getEdges().length==1&&(V.push(N[D]),N[D][0].getOwner().remove(N[D][0]));_.push(V),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=_},C.prototype.growTree=function(_){for(var I=_.length,M=_[I-1],F,N=0;N<M.length;N++)F=M[N],this.findPlaceforPrunedNode(F),F[2].add(F[0]),F[2].add(F[1],F[1].source,F[1].target);_.splice(_.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},C.prototype.findPlaceforPrunedNode=function(_){var I,M,F=_[0];F==_[1].source?M=_[1].target:M=_[1].source;var N=M.startX,z=M.finishX,V=M.startY,D=M.finishY,O=0,P=0,$=0,B=0,H=[O,$,P,B];if(V>0)for(var X=N;X<=z;X++)H[0]+=this.grid[X][V-1].length+this.grid[X][V].length-1;if(z<this.grid.length-1)for(var X=V;X<=D;X++)H[1]+=this.grid[z+1][X].length+this.grid[z][X].length-1;if(D<this.grid[0].length-1)for(var X=N;X<=z;X++)H[2]+=this.grid[X][D+1].length+this.grid[X][D].length-1;if(N>0)for(var X=V;X<=D;X++)H[3]+=this.grid[N-1][X].length+this.grid[N][X].length-1;for(var q=y.MAX_VALUE,Y,U,J=0;J<H.length;J++)H[J]<q?(q=H[J],Y=1,U=J):H[J]==q&&Y++;if(Y==3&&q==0)H[0]==0&&H[1]==0&&H[2]==0?I=1:H[0]==0&&H[1]==0&&H[3]==0?I=0:H[0]==0&&H[2]==0&&H[3]==0?I=3:H[1]==0&&H[2]==0&&H[3]==0&&(I=2);else if(Y==2&&q==0){var ce=Math.floor(Math.random()*2);H[0]==0&&H[1]==0?ce==0?I=0:I=1:H[0]==0&&H[2]==0?ce==0?I=0:I=2:H[0]==0&&H[3]==0?ce==0?I=0:I=3:H[1]==0&&H[2]==0?ce==0?I=1:I=2:H[1]==0&&H[3]==0?ce==0?I=1:I=3:ce==0?I=2:I=3}else if(Y==4&&q==0){var ce=Math.floor(Math.random()*4);I=ce}else I=U;I==0?F.setCenter(M.getCenterX(),M.getCenterY()-M.getHeight()/2-d.DEFAULT_EDGE_LENGTH-F.getHeight()/2):I==1?F.setCenter(M.getCenterX()+M.getWidth()/2+d.DEFAULT_EDGE_LENGTH+F.getWidth()/2,M.getCenterY()):I==2?F.setCenter(M.getCenterX(),M.getCenterY()+M.getHeight()/2+d.DEFAULT_EDGE_LENGTH+F.getHeight()/2):F.setCenter(M.getCenterX()-M.getWidth()/2-d.DEFAULT_EDGE_LENGTH-F.getWidth()/2,M.getCenterY())},n.exports=C},function(n,i,a){var s={};s.layoutBase=a(0),s.CoSEConstants=a(1),s.CoSEEdge=a(2),s.CoSEGraph=a(3),s.CoSEGraphManager=a(4),s.CoSELayout=a(6),s.CoSENode=a(5),n.exports=s}])})}(hA)),hA.exports}(function(t,e){(function(n,i){t.exports=i($st())})(Ll,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,o,l){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=1)}([function(n,i){n.exports=r},function(n,i,a){var s=a(0).layoutBase.LayoutConstants,o=a(0).layoutBase.FDLayoutConstants,l=a(0).CoSEConstants,u=a(0).CoSELayout,h=a(0).CoSENode,f=a(0).layoutBase.PointD,d=a(0).layoutBase.DimensionD,p={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function v(w,k){var E={};for(var C in w)E[C]=w[C];for(var C in k)E[C]=k[C];return E}function m(w){this.options=v(p,w),x(this.options)}var x=function(k){k.nodeRepulsion!=null&&(l.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=k.nodeRepulsion),k.idealEdgeLength!=null&&(l.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=k.idealEdgeLength),k.edgeElasticity!=null&&(l.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=k.edgeElasticity),k.nestingFactor!=null&&(l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=k.nestingFactor),k.gravity!=null&&(l.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=k.gravity),k.numIter!=null&&(l.MAX_ITERATIONS=o.MAX_ITERATIONS=k.numIter),k.gravityRange!=null&&(l.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=k.gravityRange),k.gravityCompound!=null&&(l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=k.gravityCompound),k.gravityRangeCompound!=null&&(l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=k.gravityRangeCompound),k.initialEnergyOnIncremental!=null&&(l.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=k.initialEnergyOnIncremental),k.quality=="draft"?s.QUALITY=0:k.quality=="proof"?s.QUALITY=2:s.QUALITY=1,l.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=k.nodeDimensionsIncludeLabels,l.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=!k.randomize,l.ANIMATE=o.ANIMATE=s.ANIMATE=k.animate,l.TILE=k.tile,l.TILING_PADDING_VERTICAL=typeof k.tilingPaddingVertical=="function"?k.tilingPaddingVertical.call():k.tilingPaddingVertical,l.TILING_PADDING_HORIZONTAL=typeof k.tilingPaddingHorizontal=="function"?k.tilingPaddingHorizontal.call():k.tilingPaddingHorizontal};m.prototype.run=function(){var w,k,E=this.options;this.idToLNode={};var C=this.layout=new u,L=this;L.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var _=C.newGraphManager();this.gm=_;var I=this.options.eles.nodes(),M=this.options.eles.edges();this.root=_.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(I),C);for(var F=0;F<M.length;F++){var N=M[F],z=this.idToLNode[N.data("source")],V=this.idToLNode[N.data("target")];if(z!==V&&z.getEdgesBetween(V).length==0){var D=_.add(C.newEdge(),z,V);D.id=N.id()}}var O=function(B,H){typeof B=="number"&&(B=H);var X=B.data("id"),q=L.idToLNode[X];return{x:q.getRect().getCenterX(),y:q.getRect().getCenterY()}},P=function $(){for(var B=function(){E.fit&&E.cy.fit(E.eles,E.padding),w||(w=!0,L.cy.one("layoutready",E.ready),L.cy.trigger({type:"layoutready",layout:L}))},H=L.options.refresh,X,q=0;q<H&&!X;q++)X=L.stopped||L.layout.tick();if(X){C.checkLayoutSuccess()&&!C.isSubLayout&&C.doPostLayout(),C.tilingPostLayout&&C.tilingPostLayout(),C.isLayoutFinished=!0,L.options.eles.nodes().positions(O),B(),L.cy.one("layoutstop",L.options.stop),L.cy.trigger({type:"layoutstop",layout:L}),k&&cancelAnimationFrame(k),w=!1;return}var Y=L.layout.getPositionsData();E.eles.nodes().positions(function(U,J){if(typeof U=="number"&&(U=J),!U.isParent()){for(var ce=U.id(),re=Y[ce],ve=U;re==null&&(re=Y[ve.data("parent")]||Y["DummyCompound_"+ve.data("parent")],Y[ce]=re,ve=ve.parent()[0],ve!=null););return re!=null?{x:re.x,y:re.y}:{x:U.position("x"),y:U.position("y")}}}),B(),k=requestAnimationFrame($)};return C.addListener("layoutstarted",function(){L.options.animate==="during"&&(k=requestAnimationFrame(P))}),C.runLayout(),this.options.animate!=="during"&&(L.options.eles.nodes().not(":parent").layoutPositions(L,L.options,O),w=!1),this},m.prototype.getTopMostNodes=function(w){for(var k={},E=0;E<w.length;E++)k[w[E].id()]=!0;var C=w.filter(function(L,_){typeof L=="number"&&(L=_);for(var I=L.parent()[0];I!=null;){if(k[I.id()])return!1;I=I.parent()[0]}return!0});return C},m.prototype.processChildrenList=function(w,k,E){for(var C=k.length,L=0;L<C;L++){var _=k[L],I=_.children(),M,F=_.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(_.outerWidth()!=null&&_.outerHeight()!=null?M=w.add(new h(E.graphManager,new f(_.position("x")-F.w/2,_.position("y")-F.h/2),new d(parseFloat(F.w),parseFloat(F.h)))):M=w.add(new h(this.graphManager)),M.id=_.data("id"),M.paddingLeft=parseInt(_.css("padding")),M.paddingTop=parseInt(_.css("padding")),M.paddingRight=parseInt(_.css("padding")),M.paddingBottom=parseInt(_.css("padding")),this.options.nodeDimensionsIncludeLabels&&_.isParent()){var N=_.boundingBox({includeLabels:!0,includeNodes:!1}).w,z=_.boundingBox({includeLabels:!0,includeNodes:!1}).h,V=_.css("text-halign");M.labelWidth=N,M.labelHeight=z,M.labelPos=V}if(this.idToLNode[_.data("id")]=M,isNaN(M.rect.x)&&(M.rect.x=0),isNaN(M.rect.y)&&(M.rect.y=0),I!=null&&I.length>0){var D;D=E.getGraphManager().add(E.newGraph(),M),this.processChildrenList(D,I,E)}}},m.prototype.stop=function(){return this.stopped=!0,this};var y=function(k){k("layout","cose-bilkent",m)};typeof cytoscape<"u"&&y(cytoscape),n.exports=y}])})})(whe);var zst=whe.exports;const Hst=fh(zst);var bD=function(){var t=S(function(E,C,L,_){for(L=L||{},_=E.length;_--;L[E[_]]=C);return L},"o"),e=[1,4],r=[1,13],n=[1,12],i=[1,15],a=[1,16],s=[1,20],o=[1,19],l=[6,7,8],u=[1,26],h=[1,24],f=[1,25],d=[6,7,11],p=[1,6,13,15,16,19,22],v=[1,33],m=[1,34],x=[1,6,7,11,13,15,16,19,22],y={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:S(function(C,L,_,I,M,F,N){var z=F.length-1;switch(M){case 6:case 7:return I;case 8:I.getLogger().trace("Stop NL ");break;case 9:I.getLogger().trace("Stop EOF ");break;case 11:I.getLogger().trace("Stop NL2 ");break;case 12:I.getLogger().trace("Stop EOF2 ");break;case 15:I.getLogger().info("Node: ",F[z].id),I.addNode(F[z-1].length,F[z].id,F[z].descr,F[z].type);break;case 16:I.getLogger().trace("Icon: ",F[z]),I.decorateNode({icon:F[z]});break;case 17:case 21:I.decorateNode({class:F[z]});break;case 18:I.getLogger().trace("SPACELIST");break;case 19:I.getLogger().trace("Node: ",F[z].id),I.addNode(0,F[z].id,F[z].descr,F[z].type);break;case 20:I.decorateNode({icon:F[z]});break;case 25:I.getLogger().trace("node found ..",F[z-2]),this.$={id:F[z-1],descr:F[z-1],type:I.getType(F[z-2],F[z])};break;case 26:this.$={id:F[z],descr:F[z],type:I.nodeType.DEFAULT};break;case 27:I.getLogger().trace("node found ..",F[z-3]),this.$={id:F[z-3],descr:F[z-1],type:I.getType(F[z-2],F[z])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:e},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:e},{6:r,7:[1,10],9:9,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},t(l,[2,3]),{1:[2,2]},t(l,[2,4]),t(l,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},{6:r,9:22,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},{6:u,7:h,10:23,11:f},t(d,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:o}),t(d,[2,18]),t(d,[2,19]),t(d,[2,20]),t(d,[2,21]),t(d,[2,23]),t(d,[2,24]),t(d,[2,26],{19:[1,30]}),{20:[1,31]},{6:u,7:h,10:32,11:f},{1:[2,7],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:o},t(p,[2,14],{7:v,11:m}),t(x,[2,8]),t(x,[2,9]),t(x,[2,10]),t(d,[2,15]),t(d,[2,16]),t(d,[2,17]),{20:[1,35]},{21:[1,36]},t(p,[2,13],{7:v,11:m}),t(x,[2,11]),t(x,[2,12]),{21:[1,37]},t(d,[2,25]),t(d,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:S(function(C,L){if(L.recoverable)this.trace(C);else{var _=new Error(C);throw _.hash=L,_}},"parseError"),parse:S(function(C){var L=this,_=[0],I=[],M=[null],F=[],N=this.table,z="",V=0,D=0,O=2,P=1,$=F.slice.call(arguments,1),B=Object.create(this.lexer),H={yy:{}};for(var X in this.yy)Object.prototype.hasOwnProperty.call(this.yy,X)&&(H.yy[X]=this.yy[X]);B.setInput(C,H.yy),H.yy.lexer=B,H.yy.parser=this,typeof B.yylloc>"u"&&(B.yylloc={});var q=B.yylloc;F.push(q);var Y=B.options&&B.options.ranges;typeof H.yy.parseError=="function"?this.parseError=H.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function U(de){_.length=_.length-2*de,M.length=M.length-de,F.length=F.length-de}S(U,"popStack");function J(){var de;return de=I.pop()||B.lex()||P,typeof de!="number"&&(de instanceof Array&&(I=de,de=I.pop()),de=L.symbols_[de]||de),de}S(J,"lex");for(var ce,re,ve,ye,Z={},ue,ae,pe,Ee;;){if(re=_[_.length-1],this.defaultActions[re]?ve=this.defaultActions[re]:((ce===null||typeof ce>"u")&&(ce=J()),ve=N[re]&&N[re][ce]),typeof ve>"u"||!ve.length||!ve[0]){var Se="";Ee=[];for(ue in N[re])this.terminals_[ue]&&ue>O&&Ee.push("'"+this.terminals_[ue]+"'");B.showPosition?Se="Parse error on line "+(V+1)+`:
`+B.showPosition()+`
Expecting `+Ee.join(", ")+", got '"+(this.terminals_[ce]||ce)+"'":Se="Parse error on line "+(V+1)+": Unexpected "+(ce==P?"end of input":"'"+(this.terminals_[ce]||ce)+"'"),this.parseError(Se,{text:B.match,token:this.terminals_[ce]||ce,line:B.yylineno,loc:q,expected:Ee})}if(ve[0]instanceof Array&&ve.length>1)throw new Error("Parse Error: multiple actions possible at state: "+re+", token: "+ce);switch(ve[0]){case 1:_.push(ce),M.push(B.yytext),F.push(B.yylloc),_.push(ve[1]),ce=null,D=B.yyleng,z=B.yytext,V=B.yylineno,q=B.yylloc;break;case 2:if(ae=this.productions_[ve[1]][1],Z.$=M[M.length-ae],Z._$={first_line:F[F.length-(ae||1)].first_line,last_line:F[F.length-1].last_line,first_column:F[F.length-(ae||1)].first_column,last_column:F[F.length-1].last_column},Y&&(Z._$.range=[F[F.length-(ae||1)].range[0],F[F.length-1].range[1]]),ye=this.performAction.apply(Z,[z,D,V,H.yy,ve[1],M,F].concat($)),typeof ye<"u")return ye;ae&&(_=_.slice(0,-1*ae*2),M=M.slice(0,-1*ae),F=F.slice(0,-1*ae)),_.push(this.productions_[ve[1]][0]),M.push(Z.$),F.push(Z._$),pe=N[_[_.length-2]][_[_.length-1]],_.push(pe);break;case 3:return!0}}return!0},"parse")},w=function(){var E={EOF:1,parseError:S(function(L,_){if(this.yy.parser)this.yy.parser.parseError(L,_);else throw new Error(L)},"parseError"),setInput:S(function(C,L){return this.yy=L||this.yy||{},this._input=C,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var C=this._input[0];this.yytext+=C,this.yyleng++,this.offset++,this.match+=C,this.matched+=C;var L=C.match(/(?:\r\n?|\n).*/g);return L?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),C},"input"),unput:S(function(C){var L=C.length,_=C.split(/(?:\r\n?|\n)/g);this._input=C+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-L),this.offset-=L;var I=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),_.length-1&&(this.yylineno-=_.length-1);var M=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:_?(_.length===I.length?this.yylloc.first_column:0)+I[I.length-_.length].length-_[0].length:this.yylloc.first_column-L},this.options.ranges&&(this.yylloc.range=[M[0],M[0]+this.yyleng-L]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(C){this.unput(this.match.slice(C))},"less"),pastInput:S(function(){var C=this.matched.substr(0,this.matched.length-this.match.length);return(C.length>20?"...":"")+C.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var C=this.match;return C.length<20&&(C+=this._input.substr(0,20-C.length)),(C.substr(0,20)+(C.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var C=this.pastInput(),L=new Array(C.length+1).join("-");return C+this.upcomingInput()+`
`+L+"^"},"showPosition"),test_match:S(function(C,L){var _,I,M;if(this.options.backtrack_lexer&&(M={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(M.yylloc.range=this.yylloc.range.slice(0))),I=C[0].match(/(?:\r\n?|\n).*/g),I&&(this.yylineno+=I.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:I?I[I.length-1].length-I[I.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+C[0].length},this.yytext+=C[0],this.match+=C[0],this.matches=C,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(C[0].length),this.matched+=C[0],_=this.performAction.call(this,this.yy,this,L,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),_)return _;if(this._backtrack){for(var F in M)this[F]=M[F];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var C,L,_,I;this._more||(this.yytext="",this.match="");for(var M=this._currentRules(),F=0;F<M.length;F++)if(_=this._input.match(this.rules[M[F]]),_&&(!L||_[0].length>L[0].length)){if(L=_,I=F,this.options.backtrack_lexer){if(C=this.test_match(_,M[F]),C!==!1)return C;if(this._backtrack){L=!1;continue}else return!1}else if(!this.options.flex)break}return L?(C=this.test_match(L,M[I]),C!==!1?C:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var L=this.next();return L||this.lex()},"lex"),begin:S(function(L){this.conditionStack.push(L)},"begin"),popState:S(function(){var L=this.conditionStack.length-1;return L>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function(L){return L=this.conditionStack.length-1-Math.abs(L||0),L>=0?this.conditionStack[L]:"INITIAL"},"topState"),pushState:S(function(L){this.begin(L)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:S(function(L,_,I,M){switch(I){case 0:return L.getLogger().trace("Found comment",_.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:this.popState();break;case 5:L.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return L.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:L.getLogger().trace("end icon"),this.popState();break;case 10:return L.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return L.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return L.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return L.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:return this.begin("NODE"),19;case 15:return this.begin("NODE"),19;case 16:return this.begin("NODE"),19;case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:L.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return L.getLogger().trace("description:",_.yytext),"NODE_DESCR";case 26:this.popState();break;case 27:return this.popState(),L.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),L.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),L.getLogger().trace("node end ...",_.yytext),"NODE_DEND";case 30:return this.popState(),L.getLogger().trace("node end (("),"NODE_DEND";case 31:return this.popState(),L.getLogger().trace("node end (-"),"NODE_DEND";case 32:return this.popState(),L.getLogger().trace("node end (-"),"NODE_DEND";case 33:return this.popState(),L.getLogger().trace("node end (("),"NODE_DEND";case 34:return this.popState(),L.getLogger().trace("node end (("),"NODE_DEND";case 35:return L.getLogger().trace("Long description:",_.yytext),20;case 36:return L.getLogger().trace("Long description:",_.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return E}();y.lexer=w;function k(){this.yy={}}return S(k,"Parser"),k.prototype=y,y.Parser=k,new k}();bD.parser=bD;var Vst=bD,su=[],khe=0,SO={},Ust=S(()=>{su=[],khe=0,SO={}},"clear"),Gst=S(function(t){for(let e=su.length-1;e>=0;e--)if(su[e].level<t)return su[e];return null},"getParent"),Wst=S(()=>su.length>0?su[0]:null,"getMindmap"),qst=S((t,e,r,n)=>{var l,u;he.info("addNode",t,e,r,n);const i=Ve();let a=((l=i.mindmap)==null?void 0:l.padding)??An.mindmap.padding;switch(n){case Qi.ROUNDED_RECT:case Qi.RECT:case Qi.HEXAGON:a*=2}const s={id:khe++,nodeId:Mi(e,i),level:t,descr:Mi(r,i),type:n,children:[],width:((u=i.mindmap)==null?void 0:u.maxNodeWidth)??An.mindmap.maxNodeWidth,padding:a},o=Gst(t);if(o)o.children.push(s),su.push(s);else if(su.length===0)su.push(s);else throw new Error('There can be only one root. No parent could be found for ("'+s.descr+'")')},"addNode"),Qi={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},Yst=S((t,e)=>{switch(he.debug("In get type",t,e),t){case"[":return Qi.RECT;case"(":return e===")"?Qi.ROUNDED_RECT:Qi.CLOUD;case"((":return Qi.CIRCLE;case")":return Qi.CLOUD;case"))":return Qi.BANG;case"{{":return Qi.HEXAGON;default:return Qi.DEFAULT}},"getType"),Xst=S((t,e)=>{SO[t]=e},"setElementForId"),jst=S(t=>{if(!t)return;const e=Ve(),r=su[su.length-1];t.icon&&(r.icon=Mi(t.icon,e)),t.class&&(r.class=Mi(t.class,e))},"decorateNode"),Kst=S(t=>{switch(t){case Qi.DEFAULT:return"no-border";case Qi.RECT:return"rect";case Qi.ROUNDED_RECT:return"rounded-rect";case Qi.CIRCLE:return"circle";case Qi.CLOUD:return"cloud";case Qi.BANG:return"bang";case Qi.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),Qst=S(()=>he,"getLogger"),Zst=S(t=>SO[t],"getElementById"),Jst={clear:Ust,addNode:qst,getMindmap:Wst,nodeType:Qi,getType:Yst,setElementForId:Xst,decorateNode:jst,type2Str:Kst,getLogger:Qst,getElementById:Zst},eot=Jst,tot=12,rot=S(function(t,e,r,n){e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 ${r.height-5} v${-r.height+2*5} q0,-5 5,-5 h${r.width-2*5} q5,0 5,5 v${r.height-5} H0 Z`),e.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",r.height).attr("x2",r.width).attr("y2",r.height)},"defaultBkg"),not=S(function(t,e,r){e.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("height",r.height).attr("width",r.width)},"rectBkg"),iot=S(function(t,e,r){const n=r.width,i=r.height,a=.15*n,s=.25*n,o=.35*n,l=.2*n;e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 0 0,1 ${n*.25},${-1*n*.1}
      a${o},${o} 1 0,1 ${n*.4},${-1*n*.1}
      a${s},${s} 1 0,1 ${n*.35},${1*n*.2}

      a${a},${a} 1 0,1 ${n*.15},${1*i*.35}
      a${l},${l} 1 0,1 ${-1*n*.15},${1*i*.65}

      a${s},${a} 1 0,1 ${-1*n*.25},${n*.15}
      a${o},${o} 1 0,1 ${-1*n*.5},0
      a${a},${a} 1 0,1 ${-1*n*.25},${-1*n*.15}

      a${a},${a} 1 0,1 ${-1*n*.1},${-1*i*.35}
      a${l},${l} 1 0,1 ${n*.1},${-1*i*.65}

    H0 V0 Z`)},"cloudBkg"),aot=S(function(t,e,r){const n=r.width,i=r.height,a=.15*n;e.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 1 0,0 ${n*.25},${-1*i*.1}
      a${a},${a} 1 0,0 ${n*.25},0
      a${a},${a} 1 0,0 ${n*.25},0
      a${a},${a} 1 0,0 ${n*.25},${1*i*.1}

      a${a},${a} 1 0,0 ${n*.15},${1*i*.33}
      a${a*.8},${a*.8} 1 0,0 0,${1*i*.34}
      a${a},${a} 1 0,0 ${-1*n*.15},${1*i*.33}

      a${a},${a} 1 0,0 ${-1*n*.25},${i*.15}
      a${a},${a} 1 0,0 ${-1*n*.25},0
      a${a},${a} 1 0,0 ${-1*n*.25},0
      a${a},${a} 1 0,0 ${-1*n*.25},${-1*i*.15}

      a${a},${a} 1 0,0 ${-1*n*.1},${-1*i*.33}
      a${a*.8},${a*.8} 1 0,0 0,${-1*i*.34}
      a${a},${a} 1 0,0 ${n*.1},${-1*i*.33}

    H0 V0 Z`)},"bangBkg"),sot=S(function(t,e,r){e.append("circle").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("r",r.width/2)},"circleBkg");function She(t,e,r,n,i){return t.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("transform","translate("+(i.width-e)/2+", "+r+")")}S(She,"insertPolygonShape");var oot=S(function(t,e,r){const n=r.height,a=n/4,s=r.width-r.padding+2*a,o=[{x:a,y:0},{x:s-a,y:0},{x:s,y:-n/2},{x:s-a,y:-n},{x:a,y:-n},{x:0,y:-n/2}];She(e,s,n,o,r)},"hexagonBkg"),lot=S(function(t,e,r){e.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+t.type2Str(r.type)).attr("height",r.height).attr("rx",r.padding).attr("ry",r.padding).attr("width",r.width)},"roundedRectBkg"),uot=S(async function(t,e,r,n,i){const a=i.htmlLabels,s=n%(tot-1),o=e.append("g");r.section=s;let l="section-"+s;s<0&&(l+=" section-root"),o.attr("class",(r.class?r.class+" ":"")+"mindmap-node "+l);const u=o.append("g"),h=o.append("g"),f=r.descr.replace(/(<br\/*>)/g,`
`);await ec(h,f,{useHtmlLabels:a,width:r.width,classes:"mindmap-node-label"},i),a||h.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");const d=h.node().getBBox(),[p]=np(i.fontSize);if(r.height=d.height+p*1.1*.5+r.padding,r.width=d.width+2*r.padding,r.icon)if(r.type===t.nodeType.CIRCLE)r.height+=50,r.width+=50,o.append("foreignObject").attr("height","50px").attr("width",r.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+r.icon),h.attr("transform","translate("+r.width/2+", "+(r.height/2-1.5*r.padding)+")");else{r.width+=50;const v=r.height;r.height=Math.max(v,60);const m=Math.abs(r.height-v);o.append("foreignObject").attr("width","60px").attr("height",r.height).attr("style","text-align: center;margin-top:"+m/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+r.icon),h.attr("transform","translate("+(25+r.width/2)+", "+(m/2+r.padding/2)+")")}else if(a){const v=(r.width-d.width)/2,m=(r.height-d.height)/2;h.attr("transform","translate("+v+", "+m+")")}else{const v=r.width/2,m=r.padding/2;h.attr("transform","translate("+v+", "+m+")")}switch(r.type){case t.nodeType.DEFAULT:rot(t,u,r,s);break;case t.nodeType.ROUNDED_RECT:lot(t,u,r,s);break;case t.nodeType.RECT:not(t,u,r,s);break;case t.nodeType.CIRCLE:u.attr("transform","translate("+r.width/2+", "+ +r.height/2+")"),sot(t,u,r,s);break;case t.nodeType.CLOUD:iot(t,u,r,s);break;case t.nodeType.BANG:aot(t,u,r,s);break;case t.nodeType.HEXAGON:oot(t,u,r,s);break}return t.setElementForId(r.id,o),r.height},"drawNode"),cot=S(function(t,e){const r=t.getElementById(e.id),n=e.x||0,i=e.y||0;r.attr("transform","translate("+n+","+i+")")},"positionNode");Qu.use(Hst);async function EO(t,e,r,n,i){await uot(t,e,r,n,i),r.children&&await Promise.all(r.children.map((a,s)=>EO(t,e,a,n<0?s:n,i)))}S(EO,"drawNodes");function Ehe(t,e){e.edges().map((r,n)=>{const i=r.data();if(r[0]._private.bodyBounds){const a=r[0]._private.rscratch;he.trace("Edge: ",n,i),t.insert("path").attr("d",`M ${a.startX},${a.startY} L ${a.midX},${a.midY} L${a.endX},${a.endY} `).attr("class","edge section-edge-"+i.section+" edge-depth-"+i.depth)}})}S(Ehe,"drawEdges");function TO(t,e,r,n){e.add({group:"nodes",data:{id:t.id.toString(),labelText:t.descr,height:t.height,width:t.width,level:n,nodeId:t.id,padding:t.padding,type:t.type},position:{x:t.x,y:t.y}}),t.children&&t.children.forEach(i=>{TO(i,e,r,n+1),e.add({group:"edges",data:{id:`${t.id}_${i.id}`,source:t.id,target:i.id,depth:n,section:i.section}})})}S(TO,"addNodes");function The(t,e){return new Promise(r=>{const n=yt("body").append("div").attr("id","cy").attr("style","display:none"),i=Qu({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});n.remove(),TO(t,i,e,0),i.nodes().forEach(function(a){a.layoutDimensions=()=>{const s=a.data();return{w:s.width,h:s.height}}}),i.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),i.ready(a=>{he.info("Ready",a),r(i)})})}S(The,"layoutMindmap");function Che(t,e){e.nodes().map((r,n)=>{const i=r.data();i.x=r.position().x,i.y=r.position().y,cot(t,i);const a=t.getElementById(i.nodeId);he.info("Id:",n,"Position: (",r.position().x,", ",r.position().y,")",i),a.attr("transform",`translate(${r.position().x-i.width/2}, ${r.position().y-i.height/2})`),a.attr("attr",`apa-${n})`)})}S(Che,"positionNodes");var hot=S(async(t,e,r,n)=>{var f,d;he.debug(`Rendering mindmap diagram
`+t);const i=n.db,a=i.getMindmap();if(!a)return;const s=Ve();s.htmlLabels=!1;const o=ap(e),l=o.append("g");l.attr("class","mindmap-edges");const u=o.append("g");u.attr("class","mindmap-nodes"),await EO(i,u,a,-1,s);const h=await The(a,s);Ehe(l,h),Che(i,h),X1(void 0,o,((f=s.mindmap)==null?void 0:f.padding)??An.mindmap.padding,((d=s.mindmap)==null?void 0:d.useMaxWidth)??An.mindmap.useMaxWidth)},"draw"),fot={draw:hot},dot=S(t=>{let e="";for(let r=0;r<t.THEME_COLOR_LIMIT;r++)t["lineColor"+r]=t["lineColor"+r]||t["cScaleInv"+r],j0(t["lineColor"+r])?t["lineColor"+r]=lr(t["lineColor"+r],20):t["lineColor"+r]=gr(t["lineColor"+r],20);for(let r=0;r<t.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);e+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${t["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${t["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${t["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${t["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return e},"genSections"),pot=S(t=>`
  .edge {
    stroke-width: 3;
  }
  ${dot(t)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),got=pot,vot={db:eot,renderer:fot,parser:Vst,styles:got};const mot=Object.freeze(Object.defineProperty({__proto__:null,diagram:vot},Symbol.toStringTag,{value:"Module"}));function Dq(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Ahe(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function dA(t,e){let r=0;if(e===void 0)for(let n of t)(n=+n)&&(r+=n);else{let n=-1;for(let i of t)(i=+e(i,++n,t))&&(r+=i)}return r}function yot(t){return t.target.depth}function xot(t){return t.depth}function bot(t,e){return e-1-t.height}function _he(t,e){return t.sourceLinks.length?t.depth:e-1}function wot(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Ahe(t.sourceLinks,yot)-1:0}function G3(t){return function(){return t}}function Rq(t,e){return BS(t.source,e.source)||t.index-e.index}function Mq(t,e){return BS(t.target,e.target)||t.index-e.index}function BS(t,e){return t.y0-e.y0}function pA(t){return t.value}function kot(t){return t.index}function Sot(t){return t.nodes}function Eot(t){return t.links}function Nq(t,e){const r=t.get(e);if(!r)throw new Error("missing: "+e);return r}function Iq({nodes:t}){for(const e of t){let r=e.y0,n=r;for(const i of e.sourceLinks)i.y0=r+i.width/2,r+=i.width;for(const i of e.targetLinks)i.y1=n+i.width/2,n+=i.width}}function Tot(){let t=0,e=0,r=1,n=1,i=24,a=8,s,o=kot,l=_he,u,h,f=Sot,d=Eot,p=6;function v(){const O={nodes:f.apply(null,arguments),links:d.apply(null,arguments)};return m(O),x(O),y(O),w(O),C(O),Iq(O),O}v.update=function(O){return Iq(O),O},v.nodeId=function(O){return arguments.length?(o=typeof O=="function"?O:G3(O),v):o},v.nodeAlign=function(O){return arguments.length?(l=typeof O=="function"?O:G3(O),v):l},v.nodeSort=function(O){return arguments.length?(u=O,v):u},v.nodeWidth=function(O){return arguments.length?(i=+O,v):i},v.nodePadding=function(O){return arguments.length?(a=s=+O,v):a},v.nodes=function(O){return arguments.length?(f=typeof O=="function"?O:G3(O),v):f},v.links=function(O){return arguments.length?(d=typeof O=="function"?O:G3(O),v):d},v.linkSort=function(O){return arguments.length?(h=O,v):h},v.size=function(O){return arguments.length?(t=e=0,r=+O[0],n=+O[1],v):[r-t,n-e]},v.extent=function(O){return arguments.length?(t=+O[0][0],r=+O[1][0],e=+O[0][1],n=+O[1][1],v):[[t,e],[r,n]]},v.iterations=function(O){return arguments.length?(p=+O,v):p};function m({nodes:O,links:P}){for(const[B,H]of O.entries())H.index=B,H.sourceLinks=[],H.targetLinks=[];const $=new Map(O.map((B,H)=>[o(B,H,O),B]));for(const[B,H]of P.entries()){H.index=B;let{source:X,target:q}=H;typeof X!="object"&&(X=H.source=Nq($,X)),typeof q!="object"&&(q=H.target=Nq($,q)),X.sourceLinks.push(H),q.targetLinks.push(H)}if(h!=null)for(const{sourceLinks:B,targetLinks:H}of O)B.sort(h),H.sort(h)}function x({nodes:O}){for(const P of O)P.value=P.fixedValue===void 0?Math.max(dA(P.sourceLinks,pA),dA(P.targetLinks,pA)):P.fixedValue}function y({nodes:O}){const P=O.length;let $=new Set(O),B=new Set,H=0;for(;$.size;){for(const X of $){X.depth=H;for(const{target:q}of X.sourceLinks)B.add(q)}if(++H>P)throw new Error("circular link");$=B,B=new Set}}function w({nodes:O}){const P=O.length;let $=new Set(O),B=new Set,H=0;for(;$.size;){for(const X of $){X.height=H;for(const{source:q}of X.targetLinks)B.add(q)}if(++H>P)throw new Error("circular link");$=B,B=new Set}}function k({nodes:O}){const P=Dq(O,H=>H.depth)+1,$=(r-t-i)/(P-1),B=new Array(P);for(const H of O){const X=Math.max(0,Math.min(P-1,Math.floor(l.call(null,H,P))));H.layer=X,H.x0=t+X*$,H.x1=H.x0+i,B[X]?B[X].push(H):B[X]=[H]}if(u)for(const H of B)H.sort(u);return B}function E(O){const P=Ahe(O,$=>(n-e-($.length-1)*s)/dA($,pA));for(const $ of O){let B=e;for(const H of $){H.y0=B,H.y1=B+H.value*P,B=H.y1+s;for(const X of H.sourceLinks)X.width=X.value*P}B=(n-B+s)/($.length+1);for(let H=0;H<$.length;++H){const X=$[H];X.y0+=B*(H+1),X.y1+=B*(H+1)}z($)}}function C(O){const P=k(O);s=Math.min(a,(n-e)/(Dq(P,$=>$.length)-1)),E(P);for(let $=0;$<p;++$){const B=Math.pow(.99,$),H=Math.max(1-B,($+1)/p);_(P,B,H),L(P,B,H)}}function L(O,P,$){for(let B=1,H=O.length;B<H;++B){const X=O[B];for(const q of X){let Y=0,U=0;for(const{source:ce,value:re}of q.targetLinks){let ve=re*(q.layer-ce.layer);Y+=V(ce,q)*ve,U+=ve}if(!(U>0))continue;let J=(Y/U-q.y0)*P;q.y0+=J,q.y1+=J,N(q)}u===void 0&&X.sort(BS),I(X,$)}}function _(O,P,$){for(let B=O.length,H=B-2;H>=0;--H){const X=O[H];for(const q of X){let Y=0,U=0;for(const{target:ce,value:re}of q.sourceLinks){let ve=re*(ce.layer-q.layer);Y+=D(q,ce)*ve,U+=ve}if(!(U>0))continue;let J=(Y/U-q.y0)*P;q.y0+=J,q.y1+=J,N(q)}u===void 0&&X.sort(BS),I(X,$)}}function I(O,P){const $=O.length>>1,B=O[$];F(O,B.y0-s,$-1,P),M(O,B.y1+s,$+1,P),F(O,n,O.length-1,P),M(O,e,0,P)}function M(O,P,$,B){for(;$<O.length;++$){const H=O[$],X=(P-H.y0)*B;X>1e-6&&(H.y0+=X,H.y1+=X),P=H.y1+s}}function F(O,P,$,B){for(;$>=0;--$){const H=O[$],X=(H.y1-P)*B;X>1e-6&&(H.y0-=X,H.y1-=X),P=H.y0-s}}function N({sourceLinks:O,targetLinks:P}){if(h===void 0){for(const{source:{sourceLinks:$}}of P)$.sort(Mq);for(const{target:{targetLinks:$}}of O)$.sort(Rq)}}function z(O){if(h===void 0)for(const{sourceLinks:P,targetLinks:$}of O)P.sort(Mq),$.sort(Rq)}function V(O,P){let $=O.y0-(O.sourceLinks.length-1)*s/2;for(const{target:B,width:H}of O.sourceLinks){if(B===P)break;$+=H+s}for(const{source:B,width:H}of P.targetLinks){if(B===O)break;$-=H}return $}function D(O,P){let $=P.y0-(P.targetLinks.length-1)*s/2;for(const{source:B,width:H}of P.targetLinks){if(B===O)break;$+=H+s}for(const{target:B,width:H}of O.sourceLinks){if(B===P)break;$-=H}return $}return v}var wD=Math.PI,kD=2*wD,Fd=1e-6,Cot=kD-Fd;function SD(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Lhe(){return new SD}SD.prototype=Lhe.prototype={constructor:SD,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,r,n){this._+="Q"+ +t+","+ +e+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(t,e,r,n,i,a){this._+="C"+ +t+","+ +e+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,r,n,i){t=+t,e=+e,r=+r,n=+n,i=+i;var a=this._x1,s=this._y1,o=r-t,l=n-e,u=a-t,h=s-e,f=u*u+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Fd)if(!(Math.abs(h*o-l*u)>Fd)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var d=r-a,p=n-s,v=o*o+l*l,m=d*d+p*p,x=Math.sqrt(v),y=Math.sqrt(f),w=i*Math.tan((wD-Math.acos((v+f-m)/(2*x*y)))/2),k=w/y,E=w/x;Math.abs(k-1)>Fd&&(this._+="L"+(t+k*u)+","+(e+k*h)),this._+="A"+i+","+i+",0,0,"+ +(h*d>u*p)+","+(this._x1=t+E*o)+","+(this._y1=e+E*l)}},arc:function(t,e,r,n,i,a){t=+t,e=+e,r=+r,a=!!a;var s=r*Math.cos(n),o=r*Math.sin(n),l=t+s,u=e+o,h=1^a,f=a?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>Fd||Math.abs(this._y1-u)>Fd)&&(this._+="L"+l+","+u),r&&(f<0&&(f=f%kD+kD),f>Cot?this._+="A"+r+","+r+",0,1,"+h+","+(t-s)+","+(e-o)+"A"+r+","+r+",0,1,"+h+","+(this._x1=l)+","+(this._y1=u):f>Fd&&(this._+="A"+r+","+r+",0,"+ +(f>=wD)+","+h+","+(this._x1=t+r*Math.cos(i))+","+(this._y1=e+r*Math.sin(i))))},rect:function(t,e,r,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};function Oq(t){return function(){return t}}function Aot(t){return t[0]}function _ot(t){return t[1]}var Lot=Array.prototype.slice;function Dot(t){return t.source}function Rot(t){return t.target}function Mot(t){var e=Dot,r=Rot,n=Aot,i=_ot,a=null;function s(){var o,l=Lot.call(arguments),u=e.apply(this,l),h=r.apply(this,l);if(a||(a=o=Lhe()),t(a,+n.apply(this,(l[0]=u,l)),+i.apply(this,l),+n.apply(this,(l[0]=h,l)),+i.apply(this,l)),o)return a=null,o+""||null}return s.source=function(o){return arguments.length?(e=o,s):e},s.target=function(o){return arguments.length?(r=o,s):r},s.x=function(o){return arguments.length?(n=typeof o=="function"?o:Oq(+o),s):n},s.y=function(o){return arguments.length?(i=typeof o=="function"?o:Oq(+o),s):i},s.context=function(o){return arguments.length?(a=o??null,s):a},s}function Not(t,e,r,n,i){t.moveTo(e,r),t.bezierCurveTo(e=(e+n)/2,r,e,i,n,i)}function Iot(){return Mot(Not)}function Oot(t){return[t.source.x1,t.y0]}function Fot(t){return[t.target.x0,t.y1]}function Pot(){return Iot().source(Oot).target(Fot)}var ED=function(){var t=S(function(o,l,u,h){for(u=u||{},h=o.length;h--;u[o[h]]=l);return u},"o"),e=[1,9],r=[1,10],n=[1,5,10,12],i={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:S(function(l,u,h,f,d,p,v){var m=p.length-1;switch(d){case 7:const x=f.findOrCreateNode(p[m-4].trim().replaceAll('""','"')),y=f.findOrCreateNode(p[m-2].trim().replaceAll('""','"')),w=parseFloat(p[m].trim());f.addLink(x,y,w);break;case 8:case 9:case 11:this.$=p[m];break;case 10:this.$=p[m-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:e,20:r},{1:[2,6],7:11,10:[1,12]},t(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},t(n,[2,8]),t(n,[2,9]),{19:[1,16]},t(n,[2,11]),{1:[2,1]},{1:[2,5]},t(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:e,20:r},{15:18,16:7,17:8,18:e,20:r},{18:[1,19]},t(r,[2,3]),{12:[1,20]},t(n,[2,10]),{15:21,16:7,17:8,18:e,20:r},t([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:S(function(l,u){if(u.recoverable)this.trace(l);else{var h=new Error(l);throw h.hash=u,h}},"parseError"),parse:S(function(l){var u=this,h=[0],f=[],d=[null],p=[],v=this.table,m="",x=0,y=0,w=2,k=1,E=p.slice.call(arguments,1),C=Object.create(this.lexer),L={yy:{}};for(var _ in this.yy)Object.prototype.hasOwnProperty.call(this.yy,_)&&(L.yy[_]=this.yy[_]);C.setInput(l,L.yy),L.yy.lexer=C,L.yy.parser=this,typeof C.yylloc>"u"&&(C.yylloc={});var I=C.yylloc;p.push(I);var M=C.options&&C.options.ranges;typeof L.yy.parseError=="function"?this.parseError=L.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function F(Y){h.length=h.length-2*Y,d.length=d.length-Y,p.length=p.length-Y}S(F,"popStack");function N(){var Y;return Y=f.pop()||C.lex()||k,typeof Y!="number"&&(Y instanceof Array&&(f=Y,Y=f.pop()),Y=u.symbols_[Y]||Y),Y}S(N,"lex");for(var z,V,D,O,P={},$,B,H,X;;){if(V=h[h.length-1],this.defaultActions[V]?D=this.defaultActions[V]:((z===null||typeof z>"u")&&(z=N()),D=v[V]&&v[V][z]),typeof D>"u"||!D.length||!D[0]){var q="";X=[];for($ in v[V])this.terminals_[$]&&$>w&&X.push("'"+this.terminals_[$]+"'");C.showPosition?q="Parse error on line "+(x+1)+`:
`+C.showPosition()+`
Expecting `+X.join(", ")+", got '"+(this.terminals_[z]||z)+"'":q="Parse error on line "+(x+1)+": Unexpected "+(z==k?"end of input":"'"+(this.terminals_[z]||z)+"'"),this.parseError(q,{text:C.match,token:this.terminals_[z]||z,line:C.yylineno,loc:I,expected:X})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+V+", token: "+z);switch(D[0]){case 1:h.push(z),d.push(C.yytext),p.push(C.yylloc),h.push(D[1]),z=null,y=C.yyleng,m=C.yytext,x=C.yylineno,I=C.yylloc;break;case 2:if(B=this.productions_[D[1]][1],P.$=d[d.length-B],P._$={first_line:p[p.length-(B||1)].first_line,last_line:p[p.length-1].last_line,first_column:p[p.length-(B||1)].first_column,last_column:p[p.length-1].last_column},M&&(P._$.range=[p[p.length-(B||1)].range[0],p[p.length-1].range[1]]),O=this.performAction.apply(P,[m,y,x,L.yy,D[1],d,p].concat(E)),typeof O<"u")return O;B&&(h=h.slice(0,-1*B*2),d=d.slice(0,-1*B),p=p.slice(0,-1*B)),h.push(this.productions_[D[1]][0]),d.push(P.$),p.push(P._$),H=v[h[h.length-2]][h[h.length-1]],h.push(H);break;case 3:return!0}}return!0},"parse")},a=function(){var o={EOF:1,parseError:S(function(u,h){if(this.yy.parser)this.yy.parser.parseError(u,h);else throw new Error(u)},"parseError"),setInput:S(function(l,u){return this.yy=u||this.yy||{},this._input=l,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var u=l.match(/(?:\r\n?|\n).*/g);return u?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),l},"input"),unput:S(function(l){var u=l.length,h=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-u),this.offset-=u;var f=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),h.length-1&&(this.yylineno-=h.length-1);var d=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:h?(h.length===f.length?this.yylloc.first_column:0)+f[f.length-h.length].length-h[0].length:this.yylloc.first_column-u},this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-u]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(l){this.unput(this.match.slice(l))},"less"),pastInput:S(function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var l=this.match;return l.length<20&&(l+=this._input.substr(0,20-l.length)),(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var l=this.pastInput(),u=new Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+u+"^"},"showPosition"),test_match:S(function(l,u){var h,f,d;if(this.options.backtrack_lexer&&(d={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(d.yylloc.range=this.yylloc.range.slice(0))),f=l[0].match(/(?:\r\n?|\n).*/g),f&&(this.yylineno+=f.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:f?f[f.length-1].length-f[f.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+l[0].length},this.yytext+=l[0],this.match+=l[0],this.matches=l,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(l[0].length),this.matched+=l[0],h=this.performAction.call(this,this.yy,this,u,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),h)return h;if(this._backtrack){for(var p in d)this[p]=d[p];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var l,u,h,f;this._more||(this.yytext="",this.match="");for(var d=this._currentRules(),p=0;p<d.length;p++)if(h=this._input.match(this.rules[d[p]]),h&&(!u||h[0].length>u[0].length)){if(u=h,f=p,this.options.backtrack_lexer){if(l=this.test_match(h,d[p]),l!==!1)return l;if(this._backtrack){u=!1;continue}else return!1}else if(!this.options.flex)break}return u?(l=this.test_match(u,d[f]),l!==!1?l:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var u=this.next();return u||this.lex()},"lex"),begin:S(function(u){this.conditionStack.push(u)},"begin"),popState:S(function(){var u=this.conditionStack.length-1;return u>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function(u){return u=this.conditionStack.length-1-Math.abs(u||0),u>=0?this.conditionStack[u]:"INITIAL"},"topState"),pushState:S(function(u){this.begin(u)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:S(function(u,h,f,d){switch(f){case 0:return this.pushState("csv"),4;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;case 5:return 20;case 6:return this.popState("escaped_text"),18;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};return o}();i.lexer=a;function s(){this.yy={}}return S(s,"Parser"),s.prototype=i,i.Parser=s,new s}();ED.parser=ED;var $S=ED,v6=[],m6=[],zS=new Map,Bot=S(()=>{v6=[],m6=[],zS=new Map,ka()},"clear"),zx,$ot=(zx=class{constructor(e,r,n=0){this.source=e,this.target=r,this.value=n}},S(zx,"SankeyLink"),zx),zot=S((t,e,r)=>{v6.push(new $ot(t,e,r))},"addLink"),Hx,Hot=(Hx=class{constructor(e){this.ID=e}},S(Hx,"SankeyNode"),Hx),Vot=S(t=>{t=Et.sanitizeText(t,Ve());let e=zS.get(t);return e===void 0&&(e=new Hot(t),zS.set(t,e),m6.push(e)),e},"findOrCreateNode"),Uot=S(()=>m6,"getNodes"),Got=S(()=>v6,"getLinks"),Wot=S(()=>({nodes:m6.map(t=>({id:t.ID})),links:v6.map(t=>({source:t.source.ID,target:t.target.ID,value:t.value}))}),"getGraph"),qot={nodesMap:zS,getConfig:S(()=>Ve().sankey,"getConfig"),getNodes:Uot,getLinks:Got,getGraph:Wot,addLink:zot,findOrCreateNode:Vot,getAccTitle:Wa,setAccTitle:Sa,getAccDescription:Ya,setAccDescription:qa,getDiagramTitle:Xa,setDiagramTitle:Us,clear:Bot},cf,Fq=(cf=class{static next(e){return new cf(e+ ++cf.count)}constructor(e){this.id=e,this.href=`#${e}`}toString(){return"url("+this.href+")"}},S(cf,"Uid"),cf.count=0,cf),Yot={left:xot,right:bot,center:wot,justify:_he},Xot=S(function(t,e,r,n){const{securityLevel:i,sankey:a}=Ve(),s=hK.sankey;let o;i==="sandbox"&&(o=yt("#i"+e));const l=yt(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?l.select(`[id="${e}"]`):yt(`[id="${e}"]`),h=(a==null?void 0:a.width)??s.width,f=(a==null?void 0:a.height)??s.width,d=(a==null?void 0:a.useMaxWidth)??s.useMaxWidth,p=(a==null?void 0:a.nodeAlignment)??s.nodeAlignment,v=(a==null?void 0:a.prefix)??s.prefix,m=(a==null?void 0:a.suffix)??s.suffix,x=(a==null?void 0:a.showValues)??s.showValues,y=n.db.getGraph(),w=Yot[p],k=10;Tot().nodeId(F=>F.id).nodeWidth(k).nodePadding(10+(x?15:0)).nodeAlign(w).extent([[0,0],[h,f]])(y);const C=kE(Bwe);u.append("g").attr("class","nodes").selectAll(".node").data(y.nodes).join("g").attr("class","node").attr("id",F=>(F.uid=Fq.next("node-")).id).attr("transform",function(F){return"translate("+F.x0+","+F.y0+")"}).attr("x",F=>F.x0).attr("y",F=>F.y0).append("rect").attr("height",F=>F.y1-F.y0).attr("width",F=>F.x1-F.x0).attr("fill",F=>C(F.id));const L=S(({id:F,value:N})=>x?`${F}
${v}${Math.round(N*100)/100}${m}`:F,"getText");u.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(y.nodes).join("text").attr("x",F=>F.x0<h/2?F.x1+6:F.x0-6).attr("y",F=>(F.y1+F.y0)/2).attr("dy",`${x?"0":"0.35"}em`).attr("text-anchor",F=>F.x0<h/2?"start":"end").text(L);const _=u.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(y.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),I=(a==null?void 0:a.linkColor)??"gradient";if(I==="gradient"){const F=_.append("linearGradient").attr("id",N=>(N.uid=Fq.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",N=>N.source.x1).attr("x2",N=>N.target.x0);F.append("stop").attr("offset","0%").attr("stop-color",N=>C(N.source.id)),F.append("stop").attr("offset","100%").attr("stop-color",N=>C(N.target.id))}let M;switch(I){case"gradient":M=S(F=>F.uid,"coloring");break;case"source":M=S(F=>C(F.source.id),"coloring");break;case"target":M=S(F=>C(F.target.id),"coloring");break;default:M=I}_.append("path").attr("d",Pot()).attr("stroke",M).attr("stroke-width",F=>Math.max(1,F.width)),X1(void 0,u,0,d)},"draw"),jot={draw:Xot},Kot=S(t=>t.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing"),Qot=$S.parse.bind($S);$S.parse=t=>Qot(Kot(t));var Zot={parser:$S,db:qot,renderer:jot};const Jot=Object.freeze(Object.defineProperty({__proto__:null,diagram:Zot},Symbol.toStringTag,{value:"Module"}));var Dhe={packet:[]},CO=structuredClone(Dhe),elt=An.packet,tlt=S(()=>{const t=mh({...elt,...wi().packet});return t.showBits&&(t.paddingY+=10),t},"getConfig"),rlt=S(()=>CO.packet,"getPacket"),nlt=S(t=>{t.length>0&&CO.packet.push(t)},"pushWord"),ilt=S(()=>{ka(),CO=structuredClone(Dhe)},"clear"),rg={pushWord:nlt,getPacket:rlt,getConfig:tlt,clear:ilt,setAccTitle:Sa,getAccTitle:Wa,setDiagramTitle:Us,getDiagramTitle:Xa,getAccDescription:Ya,setAccDescription:qa},alt=1e4,slt=S(t=>{yb(t,rg);let e=-1,r=[],n=1;const{bitsPerRow:i}=rg.getConfig();for(let{start:a,end:s,label:o}of t.blocks){if(s&&s<a)throw new Error(`Packet block ${a} - ${s} is invalid. End must be greater than start.`);if(a!==e+1)throw new Error(`Packet block ${a} - ${s??a} is not contiguous. It should start from ${e+1}.`);for(e=s??a,he.debug(`Packet block ${a} - ${e} with label ${o}`);r.length<=i+1&&rg.getPacket().length<alt;){const[l,u]=olt({start:a,end:s,label:o},n,i);if(r.push(l),l.end+1===n*i&&(rg.pushWord(r),r=[],n++),!u)break;({start:a,end:s,label:o}=u)}}rg.pushWord(r)},"populate"),olt=S((t,e,r)=>{if(t.end===void 0&&(t.end=t.start),t.start>t.end)throw new Error(`Block start ${t.start} is greater than block end ${t.end}.`);return t.end+1<=e*r?[t,void 0]:[{start:t.start,end:e*r-1,label:t.label},{start:e*r,end:t.end,label:t.label}]},"getNextFittingBlock"),llt={parse:S(async t=>{const e=await mv("packet",t);he.debug(e),slt(e)},"parse")},ult=S((t,e,r,n)=>{const i=n.db,a=i.getConfig(),{rowHeight:s,paddingY:o,bitWidth:l,bitsPerRow:u}=a,h=i.getPacket(),f=i.getDiagramTitle(),d=s+o,p=d*(h.length+1)-(f?0:s),v=l*u+2,m=ap(e);m.attr("viewbox",`0 0 ${v} ${p}`),Ga(m,p,v,a.useMaxWidth);for(const[x,y]of h.entries())clt(m,y,x,a);m.append("text").text(f).attr("x",v/2).attr("y",p-d/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),clt=S((t,e,r,{rowHeight:n,paddingX:i,paddingY:a,bitWidth:s,bitsPerRow:o,showBits:l})=>{const u=t.append("g"),h=r*(n+a)+a;for(const f of e){const d=f.start%o*s+1,p=(f.end-f.start+1)*s-i;if(u.append("rect").attr("x",d).attr("y",h).attr("width",p).attr("height",n).attr("class","packetBlock"),u.append("text").attr("x",d+p/2).attr("y",h+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(f.label),!l)continue;const v=f.end===f.start,m=h-2;u.append("text").attr("x",d+(v?p/2:0)).attr("y",m).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",v?"middle":"start").text(f.start),v||u.append("text").attr("x",d+p).attr("y",m).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(f.end)}},"drawWord"),hlt={draw:ult},flt={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},dlt=S(({packet:t}={})=>{const e=mh(flt,t);return`
	.packetByte {
		font-size: ${e.byteFontSize};
	}
	.packetByte.start {
		fill: ${e.startByteColor};
	}
	.packetByte.end {
		fill: ${e.endByteColor};
	}
	.packetLabel {
		fill: ${e.labelColor};
		font-size: ${e.labelFontSize};
	}
	.packetTitle {
		fill: ${e.titleColor};
		font-size: ${e.titleFontSize};
	}
	.packetBlock {
		stroke: ${e.blockStrokeColor};
		stroke-width: ${e.blockStrokeWidth};
		fill: ${e.blockFillColor};
	}
	`},"styles"),plt={parser:llt,db:rg,renderer:hlt,styles:dlt};const glt=Object.freeze(Object.defineProperty({__proto__:null,diagram:plt},Symbol.toStringTag,{value:"Module"}));var TD=function(){var t=S(function(k,E,C,L){for(C=C||{},L=k.length;L--;C[k[L]]=E);return C},"o"),e=[1,7],r=[1,13],n=[1,14],i=[1,15],a=[1,19],s=[1,16],o=[1,17],l=[1,18],u=[8,30],h=[8,21,28,29,30,31,32,40,44,47],f=[1,23],d=[1,24],p=[8,15,16,21,28,29,30,31,32,40,44,47],v=[8,15,16,21,27,28,29,30,31,32,40,44,47],m=[1,49],x={trace:S(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:S(function(E,C,L,_,I,M,F){var N=M.length-1;switch(I){case 4:_.getLogger().debug("Rule: separator (NL) ");break;case 5:_.getLogger().debug("Rule: separator (Space) ");break;case 6:_.getLogger().debug("Rule: separator (EOF) ");break;case 7:_.getLogger().debug("Rule: hierarchy: ",M[N-1]),_.setHierarchy(M[N-1]);break;case 8:_.getLogger().debug("Stop NL ");break;case 9:_.getLogger().debug("Stop EOF ");break;case 10:_.getLogger().debug("Stop NL2 ");break;case 11:_.getLogger().debug("Stop EOF2 ");break;case 12:_.getLogger().debug("Rule: statement: ",M[N]),typeof M[N].length=="number"?this.$=M[N]:this.$=[M[N]];break;case 13:_.getLogger().debug("Rule: statement #2: ",M[N-1]),this.$=[M[N-1]].concat(M[N]);break;case 14:_.getLogger().debug("Rule: link: ",M[N],E),this.$={edgeTypeStr:M[N],label:""};break;case 15:_.getLogger().debug("Rule: LABEL link: ",M[N-3],M[N-1],M[N]),this.$={edgeTypeStr:M[N],label:M[N-1]};break;case 18:const z=parseInt(M[N]),V=_.generateId();this.$={id:V,type:"space",label:"",width:z,children:[]};break;case 23:_.getLogger().debug("Rule: (nodeStatement link node) ",M[N-2],M[N-1],M[N]," typestr: ",M[N-1].edgeTypeStr);const D=_.edgeStrToEdgeData(M[N-1].edgeTypeStr);this.$=[{id:M[N-2].id,label:M[N-2].label,type:M[N-2].type,directions:M[N-2].directions},{id:M[N-2].id+"-"+M[N].id,start:M[N-2].id,end:M[N].id,label:M[N-1].label,type:"edge",directions:M[N].directions,arrowTypeEnd:D,arrowTypeStart:"arrow_open"},{id:M[N].id,label:M[N].label,type:_.typeStr2Type(M[N].typeStr),directions:M[N].directions}];break;case 24:_.getLogger().debug("Rule: nodeStatement (abc88 node size) ",M[N-1],M[N]),this.$={id:M[N-1].id,label:M[N-1].label,type:_.typeStr2Type(M[N-1].typeStr),directions:M[N-1].directions,widthInColumns:parseInt(M[N],10)};break;case 25:_.getLogger().debug("Rule: nodeStatement (node) ",M[N]),this.$={id:M[N].id,label:M[N].label,type:_.typeStr2Type(M[N].typeStr),directions:M[N].directions,widthInColumns:1};break;case 26:_.getLogger().debug("APA123",this?this:"na"),_.getLogger().debug("COLUMNS: ",M[N]),this.$={type:"column-setting",columns:M[N]==="auto"?-1:parseInt(M[N])};break;case 27:_.getLogger().debug("Rule: id-block statement : ",M[N-2],M[N-1]),_.generateId(),this.$={...M[N-2],type:"composite",children:M[N-1]};break;case 28:_.getLogger().debug("Rule: blockStatement : ",M[N-2],M[N-1],M[N]);const O=_.generateId();this.$={id:O,type:"composite",label:"",children:M[N-1]};break;case 29:_.getLogger().debug("Rule: node (NODE_ID separator): ",M[N]),this.$={id:M[N]};break;case 30:_.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",M[N-1],M[N]),this.$={id:M[N-1],label:M[N].label,typeStr:M[N].typeStr,directions:M[N].directions};break;case 31:_.getLogger().debug("Rule: dirList: ",M[N]),this.$=[M[N]];break;case 32:_.getLogger().debug("Rule: dirList: ",M[N-1],M[N]),this.$=[M[N-1]].concat(M[N]);break;case 33:_.getLogger().debug("Rule: nodeShapeNLabel: ",M[N-2],M[N-1],M[N]),this.$={typeStr:M[N-2]+M[N],label:M[N-1]};break;case 34:_.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",M[N-3],M[N-2]," #3:",M[N-1],M[N]),this.$={typeStr:M[N-3]+M[N],label:M[N-2],directions:M[N-1]};break;case 35:case 36:this.$={type:"classDef",id:M[N-1].trim(),css:M[N].trim()};break;case 37:this.$={type:"applyClass",id:M[N-1].trim(),styleClass:M[N].trim()};break;case 38:this.$={type:"applyStyles",id:M[N-1].trim(),stylesStr:M[N].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:l},{8:[1,20]},t(u,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:e,28:r,29:n,31:i,32:a,40:s,44:o,47:l}),t(h,[2,16],{14:22,15:f,16:d}),t(h,[2,17]),t(h,[2,18]),t(h,[2,19]),t(h,[2,20]),t(h,[2,21]),t(h,[2,22]),t(p,[2,25],{27:[1,25]}),t(h,[2,26]),{19:26,26:12,32:a},{11:27,13:4,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:l},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},t(v,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},t(u,[2,13]),{26:35,32:a},{32:[2,14]},{17:[1,36]},t(p,[2,24]),{11:37,13:4,14:22,15:f,16:d,19:5,20:6,21:e,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:o,47:l},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},t(v,[2,30]),{18:[1,43]},{18:[1,44]},t(p,[2,23]),{18:[1,45]},{30:[1,46]},t(h,[2,28]),t(h,[2,35]),t(h,[2,36]),t(h,[2,37]),t(h,[2,38]),{37:[1,47]},{34:48,35:m},{15:[1,50]},t(h,[2,27]),t(v,[2,33]),{39:[1,51]},{34:52,35:m,39:[2,31]},{32:[2,15]},t(v,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:S(function(E,C){if(C.recoverable)this.trace(E);else{var L=new Error(E);throw L.hash=C,L}},"parseError"),parse:S(function(E){var C=this,L=[0],_=[],I=[null],M=[],F=this.table,N="",z=0,V=0,D=2,O=1,P=M.slice.call(arguments,1),$=Object.create(this.lexer),B={yy:{}};for(var H in this.yy)Object.prototype.hasOwnProperty.call(this.yy,H)&&(B.yy[H]=this.yy[H]);$.setInput(E,B.yy),B.yy.lexer=$,B.yy.parser=this,typeof $.yylloc>"u"&&($.yylloc={});var X=$.yylloc;M.push(X);var q=$.options&&$.options.ranges;typeof B.yy.parseError=="function"?this.parseError=B.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Y(Se){L.length=L.length-2*Se,I.length=I.length-Se,M.length=M.length-Se}S(Y,"popStack");function U(){var Se;return Se=_.pop()||$.lex()||O,typeof Se!="number"&&(Se instanceof Array&&(_=Se,Se=_.pop()),Se=C.symbols_[Se]||Se),Se}S(U,"lex");for(var J,ce,re,ve,ye={},Z,ue,ae,pe;;){if(ce=L[L.length-1],this.defaultActions[ce]?re=this.defaultActions[ce]:((J===null||typeof J>"u")&&(J=U()),re=F[ce]&&F[ce][J]),typeof re>"u"||!re.length||!re[0]){var Ee="";pe=[];for(Z in F[ce])this.terminals_[Z]&&Z>D&&pe.push("'"+this.terminals_[Z]+"'");$.showPosition?Ee="Parse error on line "+(z+1)+`:
`+$.showPosition()+`
Expecting `+pe.join(", ")+", got '"+(this.terminals_[J]||J)+"'":Ee="Parse error on line "+(z+1)+": Unexpected "+(J==O?"end of input":"'"+(this.terminals_[J]||J)+"'"),this.parseError(Ee,{text:$.match,token:this.terminals_[J]||J,line:$.yylineno,loc:X,expected:pe})}if(re[0]instanceof Array&&re.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ce+", token: "+J);switch(re[0]){case 1:L.push(J),I.push($.yytext),M.push($.yylloc),L.push(re[1]),J=null,V=$.yyleng,N=$.yytext,z=$.yylineno,X=$.yylloc;break;case 2:if(ue=this.productions_[re[1]][1],ye.$=I[I.length-ue],ye._$={first_line:M[M.length-(ue||1)].first_line,last_line:M[M.length-1].last_line,first_column:M[M.length-(ue||1)].first_column,last_column:M[M.length-1].last_column},q&&(ye._$.range=[M[M.length-(ue||1)].range[0],M[M.length-1].range[1]]),ve=this.performAction.apply(ye,[N,V,z,B.yy,re[1],I,M].concat(P)),typeof ve<"u")return ve;ue&&(L=L.slice(0,-1*ue*2),I=I.slice(0,-1*ue),M=M.slice(0,-1*ue)),L.push(this.productions_[re[1]][0]),I.push(ye.$),M.push(ye._$),ae=F[L[L.length-2]][L[L.length-1]],L.push(ae);break;case 3:return!0}}return!0},"parse")},y=function(){var k={EOF:1,parseError:S(function(C,L){if(this.yy.parser)this.yy.parser.parseError(C,L);else throw new Error(C)},"parseError"),setInput:S(function(E,C){return this.yy=C||this.yy||{},this._input=E,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:S(function(){var E=this._input[0];this.yytext+=E,this.yyleng++,this.offset++,this.match+=E,this.matched+=E;var C=E.match(/(?:\r\n?|\n).*/g);return C?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),E},"input"),unput:S(function(E){var C=E.length,L=E.split(/(?:\r\n?|\n)/g);this._input=E+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-C),this.offset-=C;var _=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),L.length-1&&(this.yylineno-=L.length-1);var I=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:L?(L.length===_.length?this.yylloc.first_column:0)+_[_.length-L.length].length-L[0].length:this.yylloc.first_column-C},this.options.ranges&&(this.yylloc.range=[I[0],I[0]+this.yyleng-C]),this.yyleng=this.yytext.length,this},"unput"),more:S(function(){return this._more=!0,this},"more"),reject:S(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:S(function(E){this.unput(this.match.slice(E))},"less"),pastInput:S(function(){var E=this.matched.substr(0,this.matched.length-this.match.length);return(E.length>20?"...":"")+E.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:S(function(){var E=this.match;return E.length<20&&(E+=this._input.substr(0,20-E.length)),(E.substr(0,20)+(E.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:S(function(){var E=this.pastInput(),C=new Array(E.length+1).join("-");return E+this.upcomingInput()+`
`+C+"^"},"showPosition"),test_match:S(function(E,C){var L,_,I;if(this.options.backtrack_lexer&&(I={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(I.yylloc.range=this.yylloc.range.slice(0))),_=E[0].match(/(?:\r\n?|\n).*/g),_&&(this.yylineno+=_.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:_?_[_.length-1].length-_[_.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+E[0].length},this.yytext+=E[0],this.match+=E[0],this.matches=E,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(E[0].length),this.matched+=E[0],L=this.performAction.call(this,this.yy,this,C,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),L)return L;if(this._backtrack){for(var M in I)this[M]=I[M];return!1}return!1},"test_match"),next:S(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var E,C,L,_;this._more||(this.yytext="",this.match="");for(var I=this._currentRules(),M=0;M<I.length;M++)if(L=this._input.match(this.rules[I[M]]),L&&(!C||L[0].length>C[0].length)){if(C=L,_=M,this.options.backtrack_lexer){if(E=this.test_match(L,I[M]),E!==!1)return E;if(this._backtrack){C=!1;continue}else return!1}else if(!this.options.flex)break}return C?(E=this.test_match(C,I[_]),E!==!1?E:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:S(function(){var C=this.next();return C||this.lex()},"lex"),begin:S(function(C){this.conditionStack.push(C)},"begin"),popState:S(function(){var C=this.conditionStack.length-1;return C>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:S(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:S(function(C){return C=this.conditionStack.length-1-Math.abs(C||0),C>=0?this.conditionStack[C]:"INITIAL"},"topState"),pushState:S(function(C){this.begin(C)},"pushState"),stateStackSize:S(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:S(function(C,L,_,I){switch(_){case 0:return 10;case 1:return C.getLogger().debug("Found space-block"),31;case 2:return C.getLogger().debug("Found nl-block"),31;case 3:return C.getLogger().debug("Found space-block"),29;case 4:C.getLogger().debug(".",L.yytext);break;case 5:C.getLogger().debug("_",L.yytext);break;case 6:return 5;case 7:return L.yytext=-1,28;case 8:return L.yytext=L.yytext.replace(/columns\s+/,""),C.getLogger().debug("COLUMNS (LEX)",L.yytext),28;case 9:this.pushState("md_string");break;case 10:return"MD_STR";case 11:this.popState();break;case 12:this.pushState("string");break;case 13:C.getLogger().debug("LEX: POPPING STR:",L.yytext),this.popState();break;case 14:return C.getLogger().debug("LEX: STR end:",L.yytext),"STR";case 15:return L.yytext=L.yytext.replace(/space\:/,""),C.getLogger().debug("SPACE NUM (LEX)",L.yytext),21;case 16:return L.yytext="1",C.getLogger().debug("COLUMNS (LEX)",L.yytext),21;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 22:return this.popState(),this.pushState("CLASSDEFID"),41;case 23:return this.popState(),42;case 24:return this.pushState("CLASS"),44;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;case 26:return this.popState(),46;case 27:return this.pushState("STYLE_STMNT"),47;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;case 29:return this.popState(),49;case 30:return this.pushState("acc_title"),"acc_title";case 31:return this.popState(),"acc_title_value";case 32:return this.pushState("acc_descr"),"acc_descr";case 33:return this.popState(),"acc_descr_value";case 34:this.pushState("acc_descr_multiline");break;case 35:this.popState();break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";case 39:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";case 40:return this.popState(),C.getLogger().debug("Lex: ))"),"NODE_DEND";case 41:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";case 42:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";case 43:return this.popState(),C.getLogger().debug("Lex: (-"),"NODE_DEND";case 44:return this.popState(),C.getLogger().debug("Lex: -)"),"NODE_DEND";case 45:return this.popState(),C.getLogger().debug("Lex: (("),"NODE_DEND";case 46:return this.popState(),C.getLogger().debug("Lex: ]]"),"NODE_DEND";case 47:return this.popState(),C.getLogger().debug("Lex: ("),"NODE_DEND";case 48:return this.popState(),C.getLogger().debug("Lex: ])"),"NODE_DEND";case 49:return this.popState(),C.getLogger().debug("Lex: /]"),"NODE_DEND";case 50:return this.popState(),C.getLogger().debug("Lex: /]"),"NODE_DEND";case 51:return this.popState(),C.getLogger().debug("Lex: )]"),"NODE_DEND";case 52:return this.popState(),C.getLogger().debug("Lex: )"),"NODE_DEND";case 53:return this.popState(),C.getLogger().debug("Lex: ]>"),"NODE_DEND";case 54:return this.popState(),C.getLogger().debug("Lex: ]"),"NODE_DEND";case 55:return C.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;case 56:return C.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;case 57:return C.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;case 58:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 59:return C.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;case 60:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 61:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 62:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 63:return C.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;case 64:return C.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;case 65:return C.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 66:return this.pushState("NODE"),36;case 67:return this.pushState("NODE"),36;case 68:return this.pushState("NODE"),36;case 69:return this.pushState("NODE"),36;case 70:return this.pushState("NODE"),36;case 71:return this.pushState("NODE"),36;case 72:return this.pushState("NODE"),36;case 73:return C.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;case 74:return this.pushState("BLOCK_ARROW"),C.getLogger().debug("LEX ARR START"),38;case 75:return C.getLogger().debug("Lex: NODE_ID",L.yytext),32;case 76:return C.getLogger().debug("Lex: EOF",L.yytext),8;case 77:this.pushState("md_string");break;case 78:this.pushState("md_string");break;case 79:return"NODE_DESCR";case 80:this.popState();break;case 81:C.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:C.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return C.getLogger().debug("LEX: NODE_DESCR:",L.yytext),"NODE_DESCR";case 84:C.getLogger().debug("LEX POPPING"),this.popState();break;case 85:C.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return L.yytext=L.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (right): dir:",L.yytext),"DIR";case 87:return L.yytext=L.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (left):",L.yytext),"DIR";case 88:return L.yytext=L.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (x):",L.yytext),"DIR";case 89:return L.yytext=L.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (y):",L.yytext),"DIR";case 90:return L.yytext=L.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (up):",L.yytext),"DIR";case 91:return L.yytext=L.yytext.replace(/^,\s*/,""),C.getLogger().debug("Lex (down):",L.yytext),"DIR";case 92:return L.yytext="]>",C.getLogger().debug("Lex (ARROW_DIR end):",L.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 93:return C.getLogger().debug("Lex: LINK","#"+L.yytext+"#"),15;case 94:return C.getLogger().debug("Lex: LINK",L.yytext),15;case 95:return C.getLogger().debug("Lex: LINK",L.yytext),15;case 96:return C.getLogger().debug("Lex: LINK",L.yytext),15;case 97:return C.getLogger().debug("Lex: START_LINK",L.yytext),this.pushState("LLABEL"),16;case 98:return C.getLogger().debug("Lex: START_LINK",L.yytext),this.pushState("LLABEL"),16;case 99:return C.getLogger().debug("Lex: START_LINK",L.yytext),this.pushState("LLABEL"),16;case 100:this.pushState("md_string");break;case 101:return C.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 102:return this.popState(),C.getLogger().debug("Lex: LINK","#"+L.yytext+"#"),15;case 103:return this.popState(),C.getLogger().debug("Lex: LINK",L.yytext),15;case 104:return this.popState(),C.getLogger().debug("Lex: LINK",L.yytext),15;case 105:return C.getLogger().debug("Lex: COLON",L.yytext),L.yytext=L.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}};return k}();x.lexer=y;function w(){this.yy={}}return S(w,"Parser"),w.prototype=x,x.Parser=w,new w}();TD.parser=TD;var vlt=TD,ou=new Map,AO=[],CD=new Map,Pq="color",Bq="fill",mlt="bgFill",Rhe=",",ylt=Ve(),HS=new Map,xlt=S(t=>Et.sanitizeText(t,ylt),"sanitizeText"),blt=S(function(t,e=""){let r=HS.get(t);r||(r={id:t,styles:[],textStyles:[]},HS.set(t,r)),e!=null&&e.split(Rhe).forEach(n=>{const i=n.replace(/([^;]*);/,"$1").trim();if(RegExp(Pq).exec(n)){const s=i.replace(Bq,mlt).replace(Pq,Bq);r.textStyles.push(s)}r.styles.push(i)})},"addStyleClass"),wlt=S(function(t,e=""){const r=ou.get(t);e!=null&&(r.styles=e.split(Rhe))},"addStyle2Node"),klt=S(function(t,e){t.split(",").forEach(function(r){let n=ou.get(r);if(n===void 0){const i=r.trim();n={id:i,type:"na",children:[]},ou.set(i,n)}n.classes||(n.classes=[]),n.classes.push(e)})},"setCssClass"),Mhe=S((t,e)=>{const r=t.flat(),n=[];for(const i of r){if(i.label&&(i.label=xlt(i.label)),i.type==="classDef"){blt(i.id,i.css);continue}if(i.type==="applyClass"){klt(i.id,(i==null?void 0:i.styleClass)??"");continue}if(i.type==="applyStyles"){i!=null&&i.stylesStr&&wlt(i.id,i==null?void 0:i.stylesStr);continue}if(i.type==="column-setting")e.columns=i.columns??-1;else if(i.type==="edge"){const a=(CD.get(i.id)??0)+1;CD.set(i.id,a),i.id=a+"-"+i.id,AO.push(i)}else{i.label||(i.type==="composite"?i.label="":i.label=i.id);const a=ou.get(i.id);if(a===void 0?ou.set(i.id,i):(i.type!=="na"&&(a.type=i.type),i.label!==i.id&&(a.label=i.label)),i.children&&Mhe(i.children,i),i.type==="space"){const s=i.width??1;for(let o=0;o<s;o++){const l=sa(i);l.id=l.id+"-"+o,ou.set(l.id,l),n.push(l)}}else a===void 0&&n.push(i)}}e.children=n},"populateBlockDatabase"),_O=[],zy={id:"root",type:"composite",children:[],columns:-1},Slt=S(()=>{he.debug("Clear called"),ka(),zy={id:"root",type:"composite",children:[],columns:-1},ou=new Map([["root",zy]]),_O=[],HS=new Map,AO=[],CD=new Map},"clear");function Nhe(t){switch(he.debug("typeStr2Type",t),t){case"[]":return"square";case"()":return he.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}S(Nhe,"typeStr2Type");function Ihe(t){switch(he.debug("typeStr2Type",t),t){case"==":return"thick";default:return"normal"}}S(Ihe,"edgeTypeStr2Type");function Ohe(t){switch(t.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}S(Ohe,"edgeStrToEdgeData");var $q=0,Elt=S(()=>($q++,"id-"+Math.random().toString(36).substr(2,12)+"-"+$q),"generateId"),Tlt=S(t=>{zy.children=t,Mhe(t,zy),_O=zy.children},"setHierarchy"),Clt=S(t=>{const e=ou.get(t);return e?e.columns?e.columns:e.children?e.children.length:-1:-1},"getColumns"),Alt=S(()=>[...ou.values()],"getBlocksFlat"),_lt=S(()=>_O||[],"getBlocks"),Llt=S(()=>AO,"getEdges"),Dlt=S(t=>ou.get(t),"getBlock"),Rlt=S(t=>{ou.set(t.id,t)},"setBlock"),Mlt=S(()=>console,"getLogger"),Nlt=S(function(){return HS},"getClasses"),Ilt={getConfig:S(()=>wi().block,"getConfig"),typeStr2Type:Nhe,edgeTypeStr2Type:Ihe,edgeStrToEdgeData:Ohe,getLogger:Mlt,getBlocksFlat:Alt,getBlocks:_lt,getEdges:Llt,setHierarchy:Tlt,getBlock:Dlt,setBlock:Rlt,getColumns:Clt,getClasses:Nlt,clear:Slt,generateId:Elt},Olt=Ilt,W3=S((t,e)=>{const r=Vj,n=r(t,"r"),i=r(t,"g"),a=r(t,"b");return a0(n,i,a,e)},"fade"),Flt=S(t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span,p {
    color: ${t.titleColor};
  }



  .label text,span,p {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${W3(t.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${W3(t.mainBkg,.5)};
    fill: ${W3(t.clusterBkg,.5)};
    stroke: ${W3(t.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span,p {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,"getStyles"),Plt=Flt,Wq,qq,Ai=((qq=(Wq=Ve())==null?void 0:Wq.block)==null?void 0:qq.padding)??8;function Fhe(t,e){if(t===0||!Number.isInteger(t))throw new Error("Columns must be an integer !== 0.");if(e<0||!Number.isInteger(e))throw new Error("Position must be a non-negative integer."+e);if(t<0)return{px:e,py:0};if(t===1)return{px:0,py:e};const r=e%t,n=Math.floor(e/t);return{px:r,py:n}}S(Fhe,"calculateBlockPosition");var Blt=S(t=>{let e=0,r=0;for(const n of t.children){const{width:i,height:a,x:s,y:o}=n.size??{width:0,height:0,x:0,y:0};he.debug("getMaxChildSize abc95 child:",n.id,"width:",i,"height:",a,"x:",s,"y:",o,n.type),n.type!=="space"&&(i>e&&(e=i/(t.widthInColumns??1)),a>r&&(r=a))}return{width:e,height:r}},"getMaxChildSize");function VS(t,e,r=0,n=0){var s,o,l,u,h,f,d,p,v,m,x;he.debug("setBlockSizes abc95 (start)",t.id,(s=t==null?void 0:t.size)==null?void 0:s.x,"block width =",t==null?void 0:t.size,"sieblingWidth",r),(o=t==null?void 0:t.size)!=null&&o.width||(t.size={width:r,height:n,x:0,y:0});let i=0,a=0;if(((l=t.children)==null?void 0:l.length)>0){for(const I of t.children)VS(I,e);const y=Blt(t);i=y.width,a=y.height,he.debug("setBlockSizes abc95 maxWidth of",t.id,":s children is ",i,a);for(const I of t.children)I.size&&(he.debug(`abc95 Setting size of children of ${t.id} id=${I.id} ${i} ${a} ${JSON.stringify(I.size)}`),I.size.width=i*(I.widthInColumns??1)+Ai*((I.widthInColumns??1)-1),I.size.height=a,I.size.x=0,I.size.y=0,he.debug(`abc95 updating size of ${t.id} children child:${I.id} maxWidth:${i} maxHeight:${a}`));for(const I of t.children)VS(I,e,i,a);const w=t.columns??-1;let k=0;for(const I of t.children)k+=I.widthInColumns??1;let E=t.children.length;w>0&&w<k&&(E=w);const C=Math.ceil(k/E);let L=E*(i+Ai)+Ai,_=C*(a+Ai)+Ai;if(L<r){he.debug(`Detected to small siebling: abc95 ${t.id} sieblingWidth ${r} sieblingHeight ${n} width ${L}`),L=r,_=n;const I=(r-E*Ai-Ai)/E,M=(n-C*Ai-Ai)/C;he.debug("Size indata abc88",t.id,"childWidth",I,"maxWidth",i),he.debug("Size indata abc88",t.id,"childHeight",M,"maxHeight",a),he.debug("Size indata abc88 xSize",E,"padding",Ai);for(const F of t.children)F.size&&(F.size.width=I,F.size.height=M,F.size.x=0,F.size.y=0)}if(he.debug(`abc95 (finale calc) ${t.id} xSize ${E} ySize ${C} columns ${w}${t.children.length} width=${Math.max(L,((u=t.size)==null?void 0:u.width)||0)}`),L<(((h=t==null?void 0:t.size)==null?void 0:h.width)||0)){L=((f=t==null?void 0:t.size)==null?void 0:f.width)||0;const I=w>0?Math.min(t.children.length,w):t.children.length;if(I>0){const M=(L-I*Ai-Ai)/I;he.debug("abc95 (growing to fit) width",t.id,L,(d=t.size)==null?void 0:d.width,M);for(const F of t.children)F.size&&(F.size.width=M)}}t.size={width:L,height:_,x:0,y:0}}he.debug("setBlockSizes abc94 (done)",t.id,(p=t==null?void 0:t.size)==null?void 0:p.x,(v=t==null?void 0:t.size)==null?void 0:v.width,(m=t==null?void 0:t.size)==null?void 0:m.y,(x=t==null?void 0:t.size)==null?void 0:x.height)}S(VS,"setBlockSizes");function LO(t,e){var n,i,a,s,o,l,u,h,f,d,p,v,m,x,y,w,k;he.debug(`abc85 layout blocks (=>layoutBlocks) ${t.id} x: ${(n=t==null?void 0:t.size)==null?void 0:n.x} y: ${(i=t==null?void 0:t.size)==null?void 0:i.y} width: ${(a=t==null?void 0:t.size)==null?void 0:a.width}`);const r=t.columns??-1;if(he.debug("layoutBlocks columns abc95",t.id,"=>",r,t),t.children&&t.children.length>0){const E=((o=(s=t==null?void 0:t.children[0])==null?void 0:s.size)==null?void 0:o.width)??0,C=t.children.length*E+(t.children.length-1)*Ai;he.debug("widthOfChildren 88",C,"posX");let L=0;he.debug("abc91 block?.size?.x",t.id,(l=t==null?void 0:t.size)==null?void 0:l.x);let _=(u=t==null?void 0:t.size)!=null&&u.x?((h=t==null?void 0:t.size)==null?void 0:h.x)+(-((f=t==null?void 0:t.size)==null?void 0:f.width)/2||0):-Ai,I=0;for(const M of t.children){const F=t;if(!M.size)continue;const{width:N,height:z}=M.size,{px:V,py:D}=Fhe(r,L);if(D!=I&&(I=D,_=(d=t==null?void 0:t.size)!=null&&d.x?((p=t==null?void 0:t.size)==null?void 0:p.x)+(-((v=t==null?void 0:t.size)==null?void 0:v.width)/2||0):-Ai,he.debug("New row in layout for block",t.id," and child ",M.id,I)),he.debug(`abc89 layout blocks (child) id: ${M.id} Pos: ${L} (px, py) ${V},${D} (${(m=F==null?void 0:F.size)==null?void 0:m.x},${(x=F==null?void 0:F.size)==null?void 0:x.y}) parent: ${F.id} width: ${N}${Ai}`),F.size){const O=N/2;M.size.x=_+Ai+O,he.debug(`abc91 layout blocks (calc) px, pyid:${M.id} startingPos=X${_} new startingPosX${M.size.x} ${O} padding=${Ai} width=${N} halfWidth=${O} => x:${M.size.x} y:${M.size.y} ${M.widthInColumns} (width * (child?.w || 1)) / 2 ${N*((M==null?void 0:M.widthInColumns)??1)/2}`),_=M.size.x+O,M.size.y=F.size.y-F.size.height/2+D*(z+Ai)+z/2+Ai,he.debug(`abc88 layout blocks (calc) px, pyid:${M.id}startingPosX${_}${Ai}${O}=>x:${M.size.x}y:${M.size.y}${M.widthInColumns}(width * (child?.w || 1)) / 2${N*((M==null?void 0:M.widthInColumns)??1)/2}`)}M.children&&LO(M),L+=(M==null?void 0:M.widthInColumns)??1,he.debug("abc88 columnsPos",M,L)}}he.debug(`layout blocks (<==layoutBlocks) ${t.id} x: ${(y=t==null?void 0:t.size)==null?void 0:y.x} y: ${(w=t==null?void 0:t.size)==null?void 0:w.y} width: ${(k=t==null?void 0:t.size)==null?void 0:k.width}`)}S(LO,"layoutBlocks");function DO(t,{minX:e,minY:r,maxX:n,maxY:i}={minX:0,minY:0,maxX:0,maxY:0}){if(t.size&&t.id!=="root"){const{x:a,y:s,width:o,height:l}=t.size;a-o/2<e&&(e=a-o/2),s-l/2<r&&(r=s-l/2),a+o/2>n&&(n=a+o/2),s+l/2>i&&(i=s+l/2)}if(t.children)for(const a of t.children)({minX:e,minY:r,maxX:n,maxY:i}=DO(a,{minX:e,minY:r,maxX:n,maxY:i}));return{minX:e,minY:r,maxX:n,maxY:i}}S(DO,"findBounds");function Phe(t){const e=t.getBlock("root");if(!e)return;VS(e,t,0,0),LO(e),he.debug("getBlocks",JSON.stringify(e,null,2));const{minX:r,minY:n,maxX:i,maxY:a}=DO(e),s=a-n,o=i-r;return{x:r,y:n,width:o,height:s}}S(Phe,"layout");function RO(t,e,r=!1){var d,p,v;const n=t;let i="default";(((d=n==null?void 0:n.classes)==null?void 0:d.length)||0)>0&&(i=((n==null?void 0:n.classes)??[]).join(" ")),i=i+" flowchart-label";let a=0,s="",o;switch(n.type){case"round":a=5,s="rect";break;case"composite":a=0,s="composite",o=0;break;case"square":s="rect";break;case"diamond":s="question";break;case"hexagon":s="hexagon";break;case"block_arrow":s="block_arrow";break;case"odd":s="rect_left_inv_arrow";break;case"lean_right":s="lean_right";break;case"lean_left":s="lean_left";break;case"trapezoid":s="trapezoid";break;case"inv_trapezoid":s="inv_trapezoid";break;case"rect_left_inv_arrow":s="rect_left_inv_arrow";break;case"circle":s="circle";break;case"ellipse":s="ellipse";break;case"stadium":s="stadium";break;case"subroutine":s="subroutine";break;case"cylinder":s="cylinder";break;case"group":s="rect";break;case"doublecircle":s="doublecircle";break;default:s="rect"}const l=ab((n==null?void 0:n.styles)??[]),u=n.label,h=n.size??{width:0,height:0,x:0,y:0};return{labelStyle:l.labelStyle,shape:s,labelText:u,rx:a,ry:a,class:i,style:l.style,id:n.id,directions:n.directions,width:h.width,height:h.height,x:h.x,y:h.y,positioned:r,intersect:void 0,type:n.type,padding:o??((v=(p=wi())==null?void 0:p.block)==null?void 0:v.padding)??0}}S(RO,"getNodeFromBlock");async function Bhe(t,e,r){const n=RO(e,r,!1);if(n.type==="group")return;const i=wi(),a=await BI(t,n,{config:i}),s=a.node().getBBox(),o=r.getBlock(n.id);o.size={width:s.width,height:s.height,x:0,y:0,node:a},r.setBlock(o),a.remove()}S(Bhe,"calculateBlockSize");async function $he(t,e,r){const n=RO(e,r,!0);if(r.getBlock(n.id).type!=="space"){const a=wi();await BI(t,n,{config:a}),e.intersect=n==null?void 0:n.intersect,QL(n)}}S($he,"insertBlockPositioned");async function y6(t,e,r,n){for(const i of e)await n(t,i,r),i.children&&await y6(t,i.children,r,n)}S(y6,"performOperations");async function zhe(t,e,r){await y6(t,e,r,Bhe)}S(zhe,"calculateBlockSizes");async function Hhe(t,e,r){await y6(t,e,r,$he)}S(Hhe,"insertBlocks");async function Vhe(t,e,r,n,i){const a=new ca({multigraph:!0,compound:!0});a.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(const s of r)s.size&&a.setNode(s.id,{width:s.size.width,height:s.size.height,intersect:s.intersect});for(const s of e)if(s.start&&s.end){const o=n.getBlock(s.start),l=n.getBlock(s.end);if(o!=null&&o.size&&(l!=null&&l.size)){const u=o.size,h=l.size,f=[{x:u.x,y:u.y},{x:u.x+(h.x-u.x)/2,y:u.y+(h.y-u.y)/2},{x:h.x,y:h.y}];Fle(t,{v:s.start,w:s.end,name:s.id},{...s,arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:f,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",a,i),s.label&&(await Ile(t,{...s,label:s.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:f,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),Ole({...s,x:f[1].x,y:f[1].y},{originalPath:f}))}}}S(Vhe,"insertEdges");var $lt=S(function(t,e){return e.db.getClasses()},"getClasses"),zlt=S(async function(t,e,r,n){const{securityLevel:i,block:a}=wi(),s=n.db;let o;i==="sandbox"&&(o=yt("#i"+e));const l=yt(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?l.select(`[id="${e}"]`):yt(`[id="${e}"]`);Cle(u,["point","circle","cross"],n.type,e);const f=s.getBlocks(),d=s.getBlocksFlat(),p=s.getEdges(),v=u.insert("g").attr("class","block");await zhe(v,f,s);const m=Phe(s);if(await Hhe(v,f,s),await Vhe(v,p,d,s,e),m){const x=m,y=Math.max(1,Math.round(.125*(x.width/x.height))),w=x.height+y+10,k=x.width+10,{useMaxWidth:E}=a;Ga(u,w,k,!!E),he.debug("Here Bounds",m,x),u.attr("viewBox",`${x.x-5} ${x.y-5} ${x.width+10} ${x.height+10}`)}},"draw"),Hlt={draw:zlt,getClasses:$lt},Vlt={parser:vlt,db:Olt,renderer:Hlt,styles:Plt};const Ult=Object.freeze(Object.defineProperty({__proto__:null,diagram:Vlt},Symbol.toStringTag,{value:"Module"}));var Uhe={exports:{}},gA={exports:{}},vA={exports:{}},zq;function Glt(){return zq||(zq=1,function(t,e){(function(n,i){t.exports=i()})(Ll,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=28)}([function(r,n,i){function a(){}a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){var a=i(2),s=i(8),o=i(9);function l(h,f,d){a.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=h,this.target=f}l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(h){if(this.source===h)return this.target;if(this.target===h)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(h,f){for(var d=this.getOtherEnd(h),p=f.getGraphManager().getRoot();;){if(d.getOwner()==f)return d;if(d.getOwner()==p)break;d=d.getOwner().getParent()}return null},l.prototype.updateLength=function(){var h=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),h),this.isOverlapingSourceAndTarget||(this.lengthX=h[0]-h[2],this.lengthY=h[1]-h[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,i){function a(s){this.vGraphObject=s}r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(13),l=i(0),u=i(16),h=i(5);function f(p,v,m,x){m==null&&x==null&&(x=v),a.call(this,x),p.graphManager!=null&&(p=p.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=x,this.edges=[],this.graphManager=p,m!=null&&v!=null?this.rect=new o(v.x,v.y,m.width,m.height):this.rect=new o}f.prototype=Object.create(a.prototype);for(var d in a)f[d]=a[d];f.prototype.getEdges=function(){return this.edges},f.prototype.getChild=function(){return this.child},f.prototype.getOwner=function(){return this.owner},f.prototype.getWidth=function(){return this.rect.width},f.prototype.setWidth=function(p){this.rect.width=p},f.prototype.getHeight=function(){return this.rect.height},f.prototype.setHeight=function(p){this.rect.height=p},f.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},f.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},f.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},f.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},f.prototype.getRect=function(){return this.rect},f.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},f.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},f.prototype.setRect=function(p,v){this.rect.x=p.x,this.rect.y=p.y,this.rect.width=v.width,this.rect.height=v.height},f.prototype.setCenter=function(p,v){this.rect.x=p-this.rect.width/2,this.rect.y=v-this.rect.height/2},f.prototype.setLocation=function(p,v){this.rect.x=p,this.rect.y=v},f.prototype.moveBy=function(p,v){this.rect.x+=p,this.rect.y+=v},f.prototype.getEdgeListToNode=function(p){var v=[],m=this;return m.edges.forEach(function(x){if(x.target==p){if(x.source!=m)throw"Incorrect edge source!";v.push(x)}}),v},f.prototype.getEdgesBetween=function(p){var v=[],m=this;return m.edges.forEach(function(x){if(!(x.source==m||x.target==m))throw"Incorrect edge source and/or target";(x.target==p||x.source==p)&&v.push(x)}),v},f.prototype.getNeighborsList=function(){var p=new Set,v=this;return v.edges.forEach(function(m){if(m.source==v)p.add(m.target);else{if(m.target!=v)throw"Incorrect incidency!";p.add(m.source)}}),p},f.prototype.withChildren=function(){var p=new Set,v,m;if(p.add(this),this.child!=null)for(var x=this.child.getNodes(),y=0;y<x.length;y++)v=x[y],m=v.withChildren(),m.forEach(function(w){p.add(w)});return p},f.prototype.getNoOfChildren=function(){var p=0,v;if(this.child==null)p=1;else for(var m=this.child.getNodes(),x=0;x<m.length;x++)v=m[x],p+=v.getNoOfChildren();return p==0&&(p=1),p},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},f.prototype.scatter=function(){var p,v,m=-l.INITIAL_WORLD_BOUNDARY,x=l.INITIAL_WORLD_BOUNDARY;p=l.WORLD_CENTER_X+u.nextDouble()*(x-m)+m;var y=-l.INITIAL_WORLD_BOUNDARY,w=l.INITIAL_WORLD_BOUNDARY;v=l.WORLD_CENTER_Y+u.nextDouble()*(w-y)+y,this.rect.x=p,this.rect.y=v},f.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var p=this.getChild();if(p.updateBounds(!0),this.rect.x=p.getLeft(),this.rect.y=p.getTop(),this.setWidth(p.getRight()-p.getLeft()),this.setHeight(p.getBottom()-p.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var v=p.getRight()-p.getLeft(),m=p.getBottom()-p.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(v+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>v?(this.rect.x-=(this.labelWidth-v)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(v+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(m+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>m?(this.rect.y-=(this.labelHeight-m)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(m+this.labelHeight))}}},f.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},f.prototype.transform=function(p){var v=this.rect.x;v>l.WORLD_BOUNDARY?v=l.WORLD_BOUNDARY:v<-l.WORLD_BOUNDARY&&(v=-l.WORLD_BOUNDARY);var m=this.rect.y;m>l.WORLD_BOUNDARY?m=l.WORLD_BOUNDARY:m<-l.WORLD_BOUNDARY&&(m=-l.WORLD_BOUNDARY);var x=new h(v,m),y=p.inverseTransformPoint(x);this.setLocation(y.x,y.y)},f.prototype.getLeft=function(){return this.rect.x},f.prototype.getRight=function(){return this.rect.x+this.rect.width},f.prototype.getTop=function(){return this.rect.y},f.prototype.getBottom=function(){return this.rect.y+this.rect.height},f.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=f},function(r,n,i){var a=i(0);function s(){}for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){var a=i(2),s=i(10),o=i(0),l=i(7),u=i(3),h=i(1),f=i(13),d=i(12),p=i(11);function v(x,y,w){a.call(this,w),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=x,y!=null&&y instanceof l?this.graphManager=y:y!=null&&y instanceof Layout&&(this.graphManager=y.graphManager)}v.prototype=Object.create(a.prototype);for(var m in a)v[m]=a[m];v.prototype.getNodes=function(){return this.nodes},v.prototype.getEdges=function(){return this.edges},v.prototype.getGraphManager=function(){return this.graphManager},v.prototype.getParent=function(){return this.parent},v.prototype.getLeft=function(){return this.left},v.prototype.getRight=function(){return this.right},v.prototype.getTop=function(){return this.top},v.prototype.getBottom=function(){return this.bottom},v.prototype.isConnected=function(){return this.isConnected},v.prototype.add=function(x,y,w){if(y==null&&w==null){var k=x;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(k)>-1)throw"Node already in graph!";return k.owner=this,this.getNodes().push(k),k}else{var E=x;if(!(this.getNodes().indexOf(y)>-1&&this.getNodes().indexOf(w)>-1))throw"Source or target not in graph!";if(!(y.owner==w.owner&&y.owner==this))throw"Both owners must be this graph!";return y.owner!=w.owner?null:(E.source=y,E.target=w,E.isInterGraph=!1,this.getEdges().push(E),y.edges.push(E),w!=y&&w.edges.push(E),E)}},v.prototype.remove=function(x){var y=x;if(x instanceof u){if(y==null)throw"Node is null!";if(!(y.owner!=null&&y.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var w=y.edges.slice(),k,E=w.length,C=0;C<E;C++)k=w[C],k.isInterGraph?this.graphManager.remove(k):k.source.owner.remove(k);var L=this.nodes.indexOf(y);if(L==-1)throw"Node not in owner node list!";this.nodes.splice(L,1)}else if(x instanceof h){var k=x;if(k==null)throw"Edge is null!";if(!(k.source!=null&&k.target!=null))throw"Source and/or target is null!";if(!(k.source.owner!=null&&k.target.owner!=null&&k.source.owner==this&&k.target.owner==this))throw"Source and/or target owner is invalid!";var _=k.source.edges.indexOf(k),I=k.target.edges.indexOf(k);if(!(_>-1&&I>-1))throw"Source and/or target doesn't know this edge!";k.source.edges.splice(_,1),k.target!=k.source&&k.target.edges.splice(I,1);var L=k.source.owner.getEdges().indexOf(k);if(L==-1)throw"Not in owner's edge list!";k.source.owner.getEdges().splice(L,1)}},v.prototype.updateLeftTop=function(){for(var x=s.MAX_VALUE,y=s.MAX_VALUE,w,k,E,C=this.getNodes(),L=C.length,_=0;_<L;_++){var I=C[_];w=I.getTop(),k=I.getLeft(),x>w&&(x=w),y>k&&(y=k)}return x==s.MAX_VALUE?null:(C[0].getParent().paddingLeft!=null?E=C[0].getParent().paddingLeft:E=this.margin,this.left=y-E,this.top=x-E,new d(this.left,this.top))},v.prototype.updateBounds=function(x){for(var y=s.MAX_VALUE,w=-s.MAX_VALUE,k=s.MAX_VALUE,E=-s.MAX_VALUE,C,L,_,I,M,F=this.nodes,N=F.length,z=0;z<N;z++){var V=F[z];x&&V.child!=null&&V.updateBounds(),C=V.getLeft(),L=V.getRight(),_=V.getTop(),I=V.getBottom(),y>C&&(y=C),w<L&&(w=L),k>_&&(k=_),E<I&&(E=I)}var D=new f(y,k,w-y,E-k);y==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),F[0].getParent().paddingLeft!=null?M=F[0].getParent().paddingLeft:M=this.margin,this.left=D.x-M,this.right=D.x+D.width+M,this.top=D.y-M,this.bottom=D.y+D.height+M},v.calculateBounds=function(x){for(var y=s.MAX_VALUE,w=-s.MAX_VALUE,k=s.MAX_VALUE,E=-s.MAX_VALUE,C,L,_,I,M=x.length,F=0;F<M;F++){var N=x[F];C=N.getLeft(),L=N.getRight(),_=N.getTop(),I=N.getBottom(),y>C&&(y=C),w<L&&(w=L),k>_&&(k=_),E<I&&(E=I)}var z=new f(y,k,w-y,E-k);return z},v.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},v.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},v.prototype.calcEstimatedSize=function(){for(var x=0,y=this.nodes,w=y.length,k=0;k<w;k++){var E=y[k];x+=E.calcEstimatedSize()}return x==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=x/Math.sqrt(this.nodes.length),this.estimatedSize},v.prototype.updateConnected=function(){var x=this;if(this.nodes.length==0){this.isConnected=!0;return}var y=new p,w=new Set,k=this.nodes[0],E,C,L=k.withChildren();for(L.forEach(function(z){y.push(z),w.add(z)});y.length!==0;){k=y.shift(),E=k.getEdges();for(var _=E.length,I=0;I<_;I++){var M=E[I];if(C=M.getOtherEndInGraph(k,this),C!=null&&!w.has(C)){var F=C.withChildren();F.forEach(function(z){y.push(z),w.add(z)})}}}if(this.isConnected=!1,w.size>=this.nodes.length){var N=0;w.forEach(function(z){z.owner==x&&N++}),N==this.nodes.length&&(this.isConnected=!0)}},r.exports=v},function(r,n,i){var a,s=i(1);function o(l){a=i(6),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),u=this.layout.newNode(null),h=this.add(l,u);return this.setRootGraph(h),this.rootGraph},o.prototype.add=function(l,u,h,f,d){if(h==null&&f==null&&d==null){if(l==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return l.parent=u,u.child=l,l}else{d=h,f=u,h=l;var p=f.getOwner(),v=d.getOwner();if(!(p!=null&&p.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(v!=null&&v.getGraphManager()==this))throw"Target not in this graph mgr!";if(p==v)return h.isInterGraph=!1,p.add(h,f,d);if(h.isInterGraph=!0,h.source=f,h.target=d,this.edges.indexOf(h)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(h),!(h.source!=null&&h.target!=null))throw"Edge source and/or target is null!";if(!(h.source.edges.indexOf(h)==-1&&h.target.edges.indexOf(h)==-1))throw"Edge already in source and/or target incidency list!";return h.source.edges.push(h),h.target.edges.push(h),h}},o.prototype.remove=function(l){if(l instanceof a){var u=l;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var h=[];h=h.concat(u.getEdges());for(var f,d=h.length,p=0;p<d;p++)f=h[p],u.remove(f);var v=[];v=v.concat(u.getNodes());var m;d=v.length;for(var p=0;p<d;p++)m=v[p],u.remove(m);u==this.rootGraph&&this.setRootGraph(null);var x=this.graphs.indexOf(u);this.graphs.splice(x,1),u.parent=null}else if(l instanceof s){if(f=l,f==null)throw"Edge is null!";if(!f.isInterGraph)throw"Not an inter-graph edge!";if(!(f.source!=null&&f.target!=null))throw"Source and/or target is null!";if(!(f.source.edges.indexOf(f)!=-1&&f.target.edges.indexOf(f)!=-1))throw"Source and/or target doesn't know this edge!";var x=f.source.edges.indexOf(f);if(f.source.edges.splice(x,1),x=f.target.edges.indexOf(f),f.target.edges.splice(x,1),!(f.source.owner!=null&&f.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(f.source.owner.getGraphManager().edges.indexOf(f)==-1)throw"Not in owner graph manager's edge list!";var x=f.source.owner.getGraphManager().edges.indexOf(f);f.source.owner.getGraphManager().edges.splice(x,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],u=this.getGraphs(),h=u.length,f=0;f<h;f++)l=l.concat(u[f].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],u=this.getGraphs();u.length;for(var h=0;h<u.length;h++)l=l.concat(u[h].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,u){if(!(l!=null&&u!=null))throw"assert failed";if(l==u)return!0;var h=l.getOwner(),f;do{if(f=h.getParent(),f==null)break;if(f==u)return!0;if(h=f.getOwner(),h==null)break}while(!0);h=u.getOwner();do{if(f=h.getParent(),f==null)break;if(f==l)return!0;if(h=f.getOwner(),h==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,u,h,f,d,p=this.getAllEdges(),v=p.length,m=0;m<v;m++){if(l=p[m],u=l.source,h=l.target,l.lca=null,l.sourceInLca=u,l.targetInLca=h,u==h){l.lca=u.getOwner();continue}for(f=u.getOwner();l.lca==null;){for(l.targetInLca=h,d=h.getOwner();l.lca==null;){if(d==f){l.lca=d;break}if(d==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=d.getParent(),d=l.targetInLca.getOwner()}if(f==this.rootGraph)break;l.lca==null&&(l.sourceInLca=f.getParent(),f=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,u){if(l==u)return l.getOwner();var h=l.getOwner();do{if(h==null)break;var f=u.getOwner();do{if(f==null)break;if(f==h)return f;f=f.getParent().getOwner()}while(!0);h=h.getParent().getOwner()}while(!0);return h},o.prototype.calcInclusionTreeDepths=function(l,u){l==null&&u==null&&(l=this.rootGraph,u=1);for(var h,f=l.getNodes(),d=f.length,p=0;p<d;p++)h=f[p],h.inclusionTreeDepth=u,h.child!=null&&this.calcInclusionTreeDepths(h.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var l,u=[],h=this.edges.length,f=0;f<h;f++)l=this.edges[f],this.isOneAncestorOfOther(l.source,l.target)&&u.push(l);for(var f=0;f<u.length;f++)this.remove(u[f]);return!1},r.exports=o},function(r,n,i){var a=i(12);function s(){}s.calcSeparationAmount=function(o,l,u,h){if(!o.intersects(l))throw"assert failed";var f=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,f),u[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),u[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?u[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?u[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var d=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(d=1);var p=d*u[0],v=u[1]/d;u[0]<v?v=u[0]:p=u[1],u[0]=-1*f[0]*(v/2+h),u[1]=-1*f[1]*(p/2+h)},s.decideDirectionsForOverlappingNodes=function(o,l,u){o.getCenterX()<l.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<l.getCenterY()?u[1]=-1:u[1]=1},s.getIntersection2=function(o,l,u){var h=o.getCenterX(),f=o.getCenterY(),d=l.getCenterX(),p=l.getCenterY();if(o.intersects(l))return u[0]=h,u[1]=f,u[2]=d,u[3]=p,!0;var v=o.getX(),m=o.getY(),x=o.getRight(),y=o.getX(),w=o.getBottom(),k=o.getRight(),E=o.getWidthHalf(),C=o.getHeightHalf(),L=l.getX(),_=l.getY(),I=l.getRight(),M=l.getX(),F=l.getBottom(),N=l.getRight(),z=l.getWidthHalf(),V=l.getHeightHalf(),D=!1,O=!1;if(h===d){if(f>p)return u[0]=h,u[1]=m,u[2]=d,u[3]=F,!1;if(f<p)return u[0]=h,u[1]=w,u[2]=d,u[3]=_,!1}else if(f===p){if(h>d)return u[0]=v,u[1]=f,u[2]=I,u[3]=p,!1;if(h<d)return u[0]=x,u[1]=f,u[2]=L,u[3]=p,!1}else{var P=o.height/o.width,$=l.height/l.width,B=(p-f)/(d-h),H=void 0,X=void 0,q=void 0,Y=void 0,U=void 0,J=void 0;if(-P===B?h>d?(u[0]=y,u[1]=w,D=!0):(u[0]=x,u[1]=m,D=!0):P===B&&(h>d?(u[0]=v,u[1]=m,D=!0):(u[0]=k,u[1]=w,D=!0)),-$===B?d>h?(u[2]=M,u[3]=F,O=!0):(u[2]=I,u[3]=_,O=!0):$===B&&(d>h?(u[2]=L,u[3]=_,O=!0):(u[2]=N,u[3]=F,O=!0)),D&&O)return!1;if(h>d?f>p?(H=this.getCardinalDirection(P,B,4),X=this.getCardinalDirection($,B,2)):(H=this.getCardinalDirection(-P,B,3),X=this.getCardinalDirection(-$,B,1)):f>p?(H=this.getCardinalDirection(-P,B,1),X=this.getCardinalDirection(-$,B,3)):(H=this.getCardinalDirection(P,B,2),X=this.getCardinalDirection($,B,4)),!D)switch(H){case 1:Y=m,q=h+-C/B,u[0]=q,u[1]=Y;break;case 2:q=k,Y=f+E*B,u[0]=q,u[1]=Y;break;case 3:Y=w,q=h+C/B,u[0]=q,u[1]=Y;break;case 4:q=y,Y=f+-E*B,u[0]=q,u[1]=Y;break}if(!O)switch(X){case 1:J=_,U=d+-V/B,u[2]=U,u[3]=J;break;case 2:U=N,J=p+z*B,u[2]=U,u[3]=J;break;case 3:J=F,U=d+V/B,u[2]=U,u[3]=J;break;case 4:U=M,J=p+-z*B,u[2]=U,u[3]=J;break}}return!1},s.getCardinalDirection=function(o,l,u){return o>l?u:1+u%4},s.getIntersection=function(o,l,u,h){if(h==null)return this.getIntersection2(o,l,u);var f=o.x,d=o.y,p=l.x,v=l.y,m=u.x,x=u.y,y=h.x,w=h.y,k=void 0,E=void 0,C=void 0,L=void 0,_=void 0,I=void 0,M=void 0,F=void 0,N=void 0;return C=v-d,_=f-p,M=p*d-f*v,L=w-x,I=m-y,F=y*x-m*w,N=C*I-L*_,N===0?null:(k=(_*F-I*M)/N,E=(L*M-C*F)/N,new a(k,E))},s.angleOfVector=function(o,l,u,h){var f=void 0;return o!==u?(f=Math.atan((h-l)/(u-o)),u<o?f+=Math.PI:h<l&&(f+=this.TWO_PI)):h<l?f=this.ONE_AND_HALF_PI:f=this.HALF_PI,f},s.doIntersect=function(o,l,u,h){var f=o.x,d=o.y,p=l.x,v=l.y,m=u.x,x=u.y,y=h.x,w=h.y,k=(p-f)*(w-x)-(y-m)*(v-d);if(k===0)return!1;var E=((w-x)*(y-f)+(m-y)*(w-d))/k,C=((d-v)*(y-f)+(p-f)*(w-d))/k;return 0<E&&E<1&&0<C&&C<1},s.findCircleLineIntersections=function(o,l,u,h,f,d,p){var v=(u-o)*(u-o)+(h-l)*(h-l),m=2*((o-f)*(u-o)+(l-d)*(h-l)),x=(o-f)*(o-f)+(l-d)*(l-d)-p*p,y=m*m-4*v*x;if(y>=0){var w=(-m+Math.sqrt(m*m-4*v*x))/(2*v),k=(-m-Math.sqrt(m*m-4*v*x))/(2*v),E=null;return w>=0&&w<=1?[w]:k>=0&&k<=1?[k]:E}else return null},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){function a(){}a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){function a(){}a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){var a=function(){function f(d,p){for(var v=0;v<p.length;v++){var m=p[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,p,v){return p&&f(d.prototype,p),v&&f(d,v),d}}();function s(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d){return{value:d,next:null,prev:null}},l=function(d,p,v,m){return d!==null?d.next=p:m.head=p,v!==null?v.prev=p:m.tail=p,p.prev=d,p.next=v,m.length++,p},u=function(d,p){var v=d.prev,m=d.next;return v!==null?v.next=m:p.head=m,m!==null?m.prev=v:p.tail=v,d.prev=d.next=null,p.length--,d},h=function(){function f(d){var p=this;s(this,f),this.length=0,this.head=null,this.tail=null,d!=null&&d.forEach(function(v){return p.push(v)})}return a(f,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(p,v){return l(v.prev,o(p),v,this)}},{key:"insertAfter",value:function(p,v){return l(v,o(p),v.next,this)}},{key:"insertNodeBefore",value:function(p,v){return l(v.prev,p,v,this)}},{key:"insertNodeAfter",value:function(p,v){return l(v,p,v.next,this)}},{key:"push",value:function(p){return l(this.tail,o(p),null,this)}},{key:"unshift",value:function(p){return l(null,o(p),this.head,this)}},{key:"remove",value:function(p){return u(p,this)}},{key:"pop",value:function(){return u(this.tail,this).value}},{key:"popNode",value:function(){return u(this.tail,this)}},{key:"shift",value:function(){return u(this.head,this).value}},{key:"shiftNode",value:function(){return u(this.head,this)}},{key:"get_object_at",value:function(p){if(p<=this.length()){for(var v=1,m=this.head;v<p;)m=m.next,v++;return m.value}}},{key:"set_object_at",value:function(p,v){if(p<=this.length()){for(var m=1,x=this.head;m<p;)x=x.next,m++;x.value=v}}}]),f}();r.exports=h},function(r,n,i){function a(s,o,l){this.x=null,this.y=null,s==null&&o==null&&l==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&l==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&l==null&&(l=s,this.x=l.x,this.y=l.y)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,l){s.constructor.name=="Point"&&o==null&&l==null?(l=s,this.setLocation(l.x,l.y)):typeof s=="number"&&typeof o=="number"&&l==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){function a(s,o,l,u){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&l!=null&&u!=null&&(this.x=s,this.y=o,this.width=l,this.height=u)}a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var l=typeof o>"u"?"undefined":a(o);return o==null||l!="object"&&l!="function"},r.exports=s},function(r,n,i){function a(m){if(Array.isArray(m)){for(var x=0,y=Array(m.length);x<m.length;x++)y[x]=m[x];return y}else return Array.from(m)}var s=i(0),o=i(7),l=i(3),u=i(1),h=i(6),f=i(5),d=i(17),p=i(29);function v(m){p.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,m!=null&&(this.isRemoteUse=m)}v.RANDOM_SEED=1,v.prototype=Object.create(p.prototype),v.prototype.getGraphManager=function(){return this.graphManager},v.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},v.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},v.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},v.prototype.newGraphManager=function(){var m=new o(this);return this.graphManager=m,m},v.prototype.newGraph=function(m){return new h(null,this.graphManager,m)},v.prototype.newNode=function(m){return new l(this.graphManager,m)},v.prototype.newEdge=function(m){return new u(null,null,m)},v.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},v.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var m;return this.checkLayoutSuccess()?m=!1:m=this.layout(),s.ANIMATE==="during"?!1:(m&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,m)},v.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},v.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var m=this.graphManager.getAllEdges(),x=0;x<m.length;x++)m[x];for(var y=this.graphManager.getRoot().getNodes(),x=0;x<y.length;x++)y[x];this.update(this.graphManager.getRoot())}},v.prototype.update=function(m){if(m==null)this.update2();else if(m instanceof l){var x=m;if(x.getChild()!=null)for(var y=x.getChild().getNodes(),w=0;w<y.length;w++)update(y[w]);if(x.vGraphObject!=null){var k=x.vGraphObject;k.update(x)}}else if(m instanceof u){var E=m;if(E.vGraphObject!=null){var C=E.vGraphObject;C.update(E)}}else if(m instanceof h){var L=m;if(L.vGraphObject!=null){var _=L.vGraphObject;_.update(L)}}},v.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},v.prototype.transform=function(m){if(m==null)this.transform(new f(0,0));else{var x=new d,y=this.graphManager.getRoot().updateLeftTop();if(y!=null){x.setWorldOrgX(m.x),x.setWorldOrgY(m.y),x.setDeviceOrgX(y.x),x.setDeviceOrgY(y.y);for(var w=this.getAllNodes(),k,E=0;E<w.length;E++)k=w[E],k.transform(x)}}},v.prototype.positionNodesRandomly=function(m){if(m==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var x,y,w=m.getNodes(),k=0;k<w.length;k++)x=w[k],y=x.getChild(),y==null||y.getNodes().length==0?x.scatter():(this.positionNodesRandomly(y),x.updateBounds())},v.prototype.getFlatForest=function(){for(var m=[],x=!0,y=this.graphManager.getRoot().getNodes(),w=!0,k=0;k<y.length;k++)y[k].getChild()!=null&&(w=!1);if(!w)return m;var E=new Set,C=[],L=new Map,_=[];for(_=_.concat(y);_.length>0&&x;){for(C.push(_[0]);C.length>0&&x;){var I=C[0];C.splice(0,1),E.add(I);for(var M=I.getEdges(),k=0;k<M.length;k++){var F=M[k].getOtherEnd(I);if(L.get(I)!=F)if(!E.has(F))C.push(F),L.set(F,I);else{x=!1;break}}}if(!x)m=[];else{var N=[].concat(a(E));m.push(N);for(var k=0;k<N.length;k++){var z=N[k],V=_.indexOf(z);V>-1&&_.splice(V,1)}E=new Set,L=new Map}}return m},v.prototype.createDummyNodesForBendpoints=function(m){for(var x=[],y=m.source,w=this.graphManager.calcLowestCommonAncestor(m.source,m.target),k=0;k<m.bendpoints.length;k++){var E=this.newNode(null);E.setRect(new Point(0,0),new Dimension(1,1)),w.add(E);var C=this.newEdge(null);this.graphManager.add(C,y,E),x.add(E),y=E}var C=this.newEdge(null);return this.graphManager.add(C,y,m.target),this.edgeToDummyNodes.set(m,x),m.isInterGraph()?this.graphManager.remove(m):w.remove(m),x},v.prototype.createBendpointsFromDummyNodes=function(){var m=[];m=m.concat(this.graphManager.getAllEdges()),m=[].concat(a(this.edgeToDummyNodes.keys())).concat(m);for(var x=0;x<m.length;x++){var y=m[x];if(y.bendpoints.length>0){for(var w=this.edgeToDummyNodes.get(y),k=0;k<w.length;k++){var E=w[k],C=new f(E.getCenterX(),E.getCenterY()),L=y.bendpoints.get(k);L.x=C.x,L.y=C.y,E.getOwner().remove(E)}this.graphManager.add(y,y.source,y.target)}}},v.transform=function(m,x,y,w){if(y!=null&&w!=null){var k=x;if(m<=50){var E=x/y;k-=(x-E)/50*(50-m)}else{var C=x*w;k+=(C-x)/50*(m-50)}return k}else{var L,_;return m<=50?(L=9*x/500,_=x/10):(L=9*x/50,_=-8*x),L*m+_}},v.findCenterOfTree=function(m){var x=[];x=x.concat(m);var y=[],w=new Map,k=!1,E=null;(x.length==1||x.length==2)&&(k=!0,E=x[0]);for(var C=0;C<x.length;C++){var L=x[C],_=L.getNeighborsList().size;w.set(L,L.getNeighborsList().size),_==1&&y.push(L)}var I=[];for(I=I.concat(y);!k;){var M=[];M=M.concat(I),I=[];for(var C=0;C<x.length;C++){var L=x[C],F=x.indexOf(L);F>=0&&x.splice(F,1);var N=L.getNeighborsList();N.forEach(function(D){if(y.indexOf(D)<0){var O=w.get(D),P=O-1;P==1&&I.push(D),w.set(D,P)}})}y=y.concat(I),(x.length==1||x.length==2)&&(k=!0,E=x[0])}return E},v.prototype.setGraphManager=function(m){this.graphManager=m},r.exports=v},function(r,n,i){function a(){}a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){var a=i(5);function s(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var l=0,u=this.lworldExtX;return u!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),l},s.prototype.transformY=function(o){var l=0,u=this.lworldExtY;return u!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),l},s.prototype.inverseTransformX=function(o){var l=0,u=this.ldeviceExtX;return u!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),l},s.prototype.inverseTransformY=function(o){var l=0,u=this.ldeviceExtY;return u!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),l},s.prototype.inverseTransformPoint=function(o){var l=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=s},function(r,n,i){function a(p){if(Array.isArray(p)){for(var v=0,m=Array(p.length);v<p.length;v++)m[v]=p[v];return m}else return Array.from(p)}var s=i(15),o=i(4),l=i(0),u=i(8),h=i(9);function f(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}f.prototype=Object.create(s.prototype);for(var d in s)f[d]=s[d];f.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},f.prototype.calcIdealEdgeLengths=function(){for(var p,v,m,x,y,w,k,E=this.getGraphManager().getAllEdges(),C=0;C<E.length;C++)p=E[C],v=p.idealLength,p.isInterGraph&&(x=p.getSource(),y=p.getTarget(),w=p.getSourceInLca().getEstimatedSize(),k=p.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(p.idealLength+=w+k-2*l.SIMPLE_NODE_SIZE),m=p.getLca().getInclusionTreeDepth(),p.idealLength+=v*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(x.getInclusionTreeDepth()+y.getInclusionTreeDepth()-2*m))},f.prototype.initSpringEmbedder=function(){var p=this.getAllNodes().length;this.incremental?(p>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(p>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(p-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},f.prototype.calcSpringForces=function(){for(var p=this.getAllEdges(),v,m=0;m<p.length;m++)v=p[m],this.calcSpringForce(v,v.idealLength)},f.prototype.calcRepulsionForces=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m,x,y,w,k=this.getAllNodes(),E;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&p&&this.updateGrid(),E=new Set,m=0;m<k.length;m++)y=k[m],this.calculateRepulsionForceOfANode(y,E,p,v),E.add(y);else for(m=0;m<k.length;m++)for(y=k[m],x=m+1;x<k.length;x++)w=k[x],y.getOwner()==w.getOwner()&&this.calcRepulsionForce(y,w)},f.prototype.calcGravitationalForces=function(){for(var p,v=this.getAllNodesToApplyGravitation(),m=0;m<v.length;m++)p=v[m],this.calcGravitationalForce(p)},f.prototype.moveNodes=function(){for(var p=this.getAllNodes(),v,m=0;m<p.length;m++)v=p[m],v.move()},f.prototype.calcSpringForce=function(p,v){var m=p.getSource(),x=p.getTarget(),y,w,k,E;if(this.uniformLeafNodeSizes&&m.getChild()==null&&x.getChild()==null)p.updateLengthSimple();else if(p.updateLength(),p.isOverlapingSourceAndTarget)return;y=p.getLength(),y!=0&&(w=p.edgeElasticity*(y-v),k=w*(p.lengthX/y),E=w*(p.lengthY/y),m.springForceX+=k,m.springForceY+=E,x.springForceX-=k,x.springForceY-=E)},f.prototype.calcRepulsionForce=function(p,v){var m=p.getRect(),x=v.getRect(),y=new Array(2),w=new Array(4),k,E,C,L,_,I,M;if(m.intersects(x)){u.calcSeparationAmount(m,x,y,o.DEFAULT_EDGE_LENGTH/2),I=2*y[0],M=2*y[1];var F=p.noOfChildren*v.noOfChildren/(p.noOfChildren+v.noOfChildren);p.repulsionForceX-=F*I,p.repulsionForceY-=F*M,v.repulsionForceX+=F*I,v.repulsionForceY+=F*M}else this.uniformLeafNodeSizes&&p.getChild()==null&&v.getChild()==null?(k=x.getCenterX()-m.getCenterX(),E=x.getCenterY()-m.getCenterY()):(u.getIntersection(m,x,w),k=w[2]-w[0],E=w[3]-w[1]),Math.abs(k)<o.MIN_REPULSION_DIST&&(k=h.sign(k)*o.MIN_REPULSION_DIST),Math.abs(E)<o.MIN_REPULSION_DIST&&(E=h.sign(E)*o.MIN_REPULSION_DIST),C=k*k+E*E,L=Math.sqrt(C),_=(p.nodeRepulsion/2+v.nodeRepulsion/2)*p.noOfChildren*v.noOfChildren/C,I=_*k/L,M=_*E/L,p.repulsionForceX-=I,p.repulsionForceY-=M,v.repulsionForceX+=I,v.repulsionForceY+=M},f.prototype.calcGravitationalForce=function(p){var v,m,x,y,w,k,E,C;v=p.getOwner(),m=(v.getRight()+v.getLeft())/2,x=(v.getTop()+v.getBottom())/2,y=p.getCenterX()-m,w=p.getCenterY()-x,k=Math.abs(y)+p.getWidth()/2,E=Math.abs(w)+p.getHeight()/2,p.getOwner()==this.graphManager.getRoot()?(C=v.getEstimatedSize()*this.gravityRangeFactor,(k>C||E>C)&&(p.gravitationForceX=-this.gravityConstant*y,p.gravitationForceY=-this.gravityConstant*w)):(C=v.getEstimatedSize()*this.compoundGravityRangeFactor,(k>C||E>C)&&(p.gravitationForceX=-this.gravityConstant*y*this.compoundGravityConstant,p.gravitationForceY=-this.gravityConstant*w*this.compoundGravityConstant))},f.prototype.isConverged=function(){var p,v=!1;return this.totalIterations>this.maxIterations/3&&(v=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),p=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,p||v},f.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},f.prototype.calcNoOfChildrenForAllNodes=function(){for(var p,v=this.graphManager.getAllNodes(),m=0;m<v.length;m++)p=v[m],p.noOfChildren=p.getNoOfChildren()},f.prototype.calcGrid=function(p){var v=0,m=0;v=parseInt(Math.ceil((p.getRight()-p.getLeft())/this.repulsionRange)),m=parseInt(Math.ceil((p.getBottom()-p.getTop())/this.repulsionRange));for(var x=new Array(v),y=0;y<v;y++)x[y]=new Array(m);for(var y=0;y<v;y++)for(var w=0;w<m;w++)x[y][w]=new Array;return x},f.prototype.addNodeToGrid=function(p,v,m){var x=0,y=0,w=0,k=0;x=parseInt(Math.floor((p.getRect().x-v)/this.repulsionRange)),y=parseInt(Math.floor((p.getRect().width+p.getRect().x-v)/this.repulsionRange)),w=parseInt(Math.floor((p.getRect().y-m)/this.repulsionRange)),k=parseInt(Math.floor((p.getRect().height+p.getRect().y-m)/this.repulsionRange));for(var E=x;E<=y;E++)for(var C=w;C<=k;C++)this.grid[E][C].push(p),p.setGridCoordinates(x,y,w,k)},f.prototype.updateGrid=function(){var p,v,m=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),p=0;p<m.length;p++)v=m[p],this.addNodeToGrid(v,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},f.prototype.calculateRepulsionForceOfANode=function(p,v,m,x){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&m||x){var y=new Set;p.surrounding=new Array;for(var w,k=this.grid,E=p.startX-1;E<p.finishX+2;E++)for(var C=p.startY-1;C<p.finishY+2;C++)if(!(E<0||C<0||E>=k.length||C>=k[0].length)){for(var L=0;L<k[E][C].length;L++)if(w=k[E][C][L],!(p.getOwner()!=w.getOwner()||p==w)&&!v.has(w)&&!y.has(w)){var _=Math.abs(p.getCenterX()-w.getCenterX())-(p.getWidth()/2+w.getWidth()/2),I=Math.abs(p.getCenterY()-w.getCenterY())-(p.getHeight()/2+w.getHeight()/2);_<=this.repulsionRange&&I<=this.repulsionRange&&y.add(w)}}p.surrounding=[].concat(a(y))}for(E=0;E<p.surrounding.length;E++)this.calcRepulsionForce(p,p.surrounding[E])},f.prototype.calcRepulsionRange=function(){return 0},r.exports=f},function(r,n,i){var a=i(1),s=i(4);function o(u,h,f){a.call(this,u,h,f),this.idealLength=s.DEFAULT_EDGE_LENGTH,this.edgeElasticity=s.DEFAULT_SPRING_STRENGTH}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];r.exports=o},function(r,n,i){var a=i(3),s=i(4);function o(u,h,f,d){a.call(this,u,h,f,d),this.nodeRepulsion=s.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(a.prototype);for(var l in a)o[l]=a[l];o.prototype.setGridCoordinates=function(u,h,f,d){this.startX=u,this.finishX=h,this.startY=f,this.finishY=d},r.exports=o},function(r,n,i){function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){var a=i(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(o,l){var u=a.createID(o);this.contains(u)||(this.map[u]=l,this.keys.push(o))},s.prototype.contains=function(o){return a.createID(o),this.map[o]!=null},s.prototype.get=function(o){var l=a.createID(o);return this.map[l]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){var a=i(14);function s(){this.set={}}s.prototype.add=function(o){var l=a.createID(o);this.contains(l)||(this.set[l]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),u=l.length,h=0;h<u;h++)o.push(this.set[l[h]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var l=o.length,u=0;u<l;u++){var h=o[u];this.add(h)}},r.exports=s},function(r,n,i){function a(){}a.multMat=function(s,o){for(var l=[],u=0;u<s.length;u++){l[u]=[];for(var h=0;h<o[0].length;h++){l[u][h]=0;for(var f=0;f<s[0].length;f++)l[u][h]+=s[u][f]*o[f][h]}}return l},a.transpose=function(s){for(var o=[],l=0;l<s[0].length;l++){o[l]=[];for(var u=0;u<s.length;u++)o[l][u]=s[u][l]}return o},a.multCons=function(s,o){for(var l=[],u=0;u<s.length;u++)l[u]=s[u]*o;return l},a.minusOp=function(s,o){for(var l=[],u=0;u<s.length;u++)l[u]=s[u]-o[u];return l},a.dotProduct=function(s,o){for(var l=0,u=0;u<s.length;u++)l+=s[u]*o[u];return l},a.mag=function(s){return Math.sqrt(this.dotProduct(s,s))},a.normalize=function(s){for(var o=[],l=this.mag(s),u=0;u<s.length;u++)o[u]=s[u]/l;return o},a.multGamma=function(s){for(var o=[],l=0,u=0;u<s.length;u++)l+=s[u];l*=-1/s.length;for(var h=0;h<s.length;h++)o[h]=l+s[h];return o},a.multL=function(s,o,l){for(var u=[],h=[],f=[],d=0;d<o[0].length;d++){for(var p=0,v=0;v<o.length;v++)p+=-.5*o[v][d]*s[v];h[d]=p}for(var m=0;m<l.length;m++){for(var x=0,y=0;y<l.length;y++)x+=l[m][y]*h[y];f[m]=x}for(var w=0;w<o.length;w++){for(var k=0,E=0;E<o[0].length;E++)k+=o[w][E]*f[E];u[w]=k}return u},r.exports=a},function(r,n,i){var a=function(){function u(h,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,f,d){return f&&u(h.prototype,f),d&&u(h,d),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var o=i(11),l=function(){function u(h,f){s(this,u),(f!==null||f!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;h instanceof o?d=h.size():d=h.length,this._quicksort(h,0,d-1)}return a(u,[{key:"_quicksort",value:function(f,d,p){if(d<p){var v=this._partition(f,d,p);this._quicksort(f,d,v),this._quicksort(f,v+1,p)}}},{key:"_partition",value:function(f,d,p){for(var v=this._get(f,d),m=d,x=p;;){for(;this.compareFunction(v,this._get(f,x));)x--;for(;this.compareFunction(this._get(f,m),v);)m++;if(m<x)this._swap(f,m,x),m++,x--;else return x}}},{key:"_get",value:function(f,d){return f instanceof o?f.get_object_at(d):f[d]}},{key:"_set",value:function(f,d,p){f instanceof o?f.set_object_at(d,p):f[d]=p}},{key:"_swap",value:function(f,d,p){var v=this._get(f,d);this._set(f,d,this._get(f,p)),this._set(f,p,v)}},{key:"_defaultCompareFunction",value:function(f,d){return d>f}}]),u}();r.exports=l},function(r,n,i){function a(){}a.svd=function(s){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=s.length,this.n=s[0].length;var o=Math.min(this.m,this.n);this.s=function(xt){for(var ht=[];xt-- >0;)ht.push(0);return ht}(Math.min(this.m+1,this.n)),this.U=function(xt){var ht=function Mt(nr){if(nr.length==0)return 0;for(var Yt=[],wr=0;wr<nr[0];wr++)Yt.push(Mt(nr.slice(1)));return Yt};return ht(xt)}([this.m,o]),this.V=function(xt){var ht=function Mt(nr){if(nr.length==0)return 0;for(var Yt=[],wr=0;wr<nr[0];wr++)Yt.push(Mt(nr.slice(1)));return Yt};return ht(xt)}([this.n,this.n]);for(var l=function(xt){for(var ht=[];xt-- >0;)ht.push(0);return ht}(this.n),u=function(xt){for(var ht=[];xt-- >0;)ht.push(0);return ht}(this.m),h=!0,f=Math.min(this.m-1,this.n),d=Math.max(0,Math.min(this.n-2,this.m)),p=0;p<Math.max(f,d);p++){if(p<f){this.s[p]=0;for(var v=p;v<this.m;v++)this.s[p]=a.hypot(this.s[p],s[v][p]);if(this.s[p]!==0){s[p][p]<0&&(this.s[p]=-this.s[p]);for(var m=p;m<this.m;m++)s[m][p]/=this.s[p];s[p][p]+=1}this.s[p]=-this.s[p]}for(var x=p+1;x<this.n;x++){if(function(xt,ht){return xt&&ht}(p<f,this.s[p]!==0)){for(var y=0,w=p;w<this.m;w++)y+=s[w][p]*s[w][x];y=-y/s[p][p];for(var k=p;k<this.m;k++)s[k][x]+=y*s[k][p]}l[x]=s[p][x]}if(function(xt,ht){return xt&&ht}(h,p<f))for(var E=p;E<this.m;E++)this.U[E][p]=s[E][p];if(p<d){l[p]=0;for(var C=p+1;C<this.n;C++)l[p]=a.hypot(l[p],l[C]);if(l[p]!==0){l[p+1]<0&&(l[p]=-l[p]);for(var L=p+1;L<this.n;L++)l[L]/=l[p];l[p+1]+=1}if(l[p]=-l[p],function(xt,ht){return xt&&ht}(p+1<this.m,l[p]!==0)){for(var _=p+1;_<this.m;_++)u[_]=0;for(var I=p+1;I<this.n;I++)for(var M=p+1;M<this.m;M++)u[M]+=l[I]*s[M][I];for(var F=p+1;F<this.n;F++)for(var N=-l[F]/l[p+1],z=p+1;z<this.m;z++)s[z][F]+=N*u[z]}for(var V=p+1;V<this.n;V++)this.V[V][p]=l[V]}}var D=Math.min(this.n,this.m+1);f<this.n&&(this.s[f]=s[f][f]),this.m<D&&(this.s[D-1]=0),d+1<D&&(l[d]=s[d][D-1]),l[D-1]=0;{for(var O=f;O<o;O++){for(var P=0;P<this.m;P++)this.U[P][O]=0;this.U[O][O]=1}for(var $=f-1;$>=0;$--)if(this.s[$]!==0){for(var B=$+1;B<o;B++){for(var H=0,X=$;X<this.m;X++)H+=this.U[X][$]*this.U[X][B];H=-H/this.U[$][$];for(var q=$;q<this.m;q++)this.U[q][B]+=H*this.U[q][$]}for(var Y=$;Y<this.m;Y++)this.U[Y][$]=-this.U[Y][$];this.U[$][$]=1+this.U[$][$];for(var U=0;U<$-1;U++)this.U[U][$]=0}else{for(var J=0;J<this.m;J++)this.U[J][$]=0;this.U[$][$]=1}}for(var ce=this.n-1;ce>=0;ce--){if(function(xt,ht){return xt&&ht}(ce<d,l[ce]!==0))for(var re=ce+1;re<o;re++){for(var ve=0,ye=ce+1;ye<this.n;ye++)ve+=this.V[ye][ce]*this.V[ye][re];ve=-ve/this.V[ce+1][ce];for(var Z=ce+1;Z<this.n;Z++)this.V[Z][re]+=ve*this.V[Z][ce]}for(var ue=0;ue<this.n;ue++)this.V[ue][ce]=0;this.V[ce][ce]=1}for(var ae=D-1,pe=Math.pow(2,-52),Ee=Math.pow(2,-966);D>0;){var Se=void 0,de=void 0;for(Se=D-2;Se>=-1&&Se!==-1;Se--)if(Math.abs(l[Se])<=Ee+pe*(Math.abs(this.s[Se])+Math.abs(this.s[Se+1]))){l[Se]=0;break}if(Se===D-2)de=4;else{var be=void 0;for(be=D-1;be>=Se&&be!==Se;be--){var oe=(be!==D?Math.abs(l[be]):0)+(be!==Se+1?Math.abs(l[be-1]):0);if(Math.abs(this.s[be])<=Ee+pe*oe){this.s[be]=0;break}}be===Se?de=3:be===D-1?de=1:(de=2,Se=be)}switch(Se++,de){case 1:{var we=l[D-2];l[D-2]=0;for(var Re=D-2;Re>=Se;Re--){var Pe=a.hypot(this.s[Re],we),Ge=this.s[Re]/Pe,je=we/Pe;this.s[Re]=Pe,Re!==Se&&(we=-je*l[Re-1],l[Re-1]=Ge*l[Re-1]);for(var We=0;We<this.n;We++)Pe=Ge*this.V[We][Re]+je*this.V[We][D-1],this.V[We][D-1]=-je*this.V[We][Re]+Ge*this.V[We][D-1],this.V[We][Re]=Pe}}break;case 2:{var me=l[Se-1];l[Se-1]=0;for(var Te=Se;Te<D;Te++){var fe=a.hypot(this.s[Te],me),W=this.s[Te]/fe,j=me/fe;this.s[Te]=fe,me=-j*l[Te],l[Te]=W*l[Te];for(var ie=0;ie<this.m;ie++)fe=W*this.U[ie][Te]+j*this.U[ie][Se-1],this.U[ie][Se-1]=-j*this.U[ie][Te]+W*this.U[ie][Se-1],this.U[ie][Te]=fe}}break;case 3:{var ee=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[D-1]),Math.abs(this.s[D-2])),Math.abs(l[D-2])),Math.abs(this.s[Se])),Math.abs(l[Se])),le=this.s[D-1]/ee,_e=this.s[D-2]/ee,ke=l[D-2]/ee,Le=this.s[Se]/ee,Oe=l[Se]/ee,Me=((_e+le)*(_e-le)+ke*ke)/2,Ie=le*ke*(le*ke),Fe=0;(function(xt,ht){return xt||ht})(Me!==0,Ie!==0)&&(Fe=Math.sqrt(Me*Me+Ie),Me<0&&(Fe=-Fe),Fe=Ie/(Me+Fe));for(var Ne=(Le+le)*(Le-le)+Fe,He=Le*Oe,it=Se;it<D-1;it++){var lt=a.hypot(Ne,He),ft=Ne/lt,gt=He/lt;it!==Se&&(l[it-1]=lt),Ne=ft*this.s[it]+gt*l[it],l[it]=ft*l[it]-gt*this.s[it],He=gt*this.s[it+1],this.s[it+1]=ft*this.s[it+1];for(var _t=0;_t<this.n;_t++)lt=ft*this.V[_t][it]+gt*this.V[_t][it+1],this.V[_t][it+1]=-gt*this.V[_t][it]+ft*this.V[_t][it+1],this.V[_t][it]=lt;if(lt=a.hypot(Ne,He),ft=Ne/lt,gt=He/lt,this.s[it]=lt,Ne=ft*l[it]+gt*this.s[it+1],this.s[it+1]=-gt*l[it]+ft*this.s[it+1],He=gt*l[it+1],l[it+1]=ft*l[it+1],it<this.m-1)for(var ct=0;ct<this.m;ct++)lt=ft*this.U[ct][it]+gt*this.U[ct][it+1],this.U[ct][it+1]=-gt*this.U[ct][it]+ft*this.U[ct][it+1],this.U[ct][it]=lt}l[D-2]=Ne}break;case 4:{if(this.s[Se]<=0){this.s[Se]=this.s[Se]<0?-this.s[Se]:0;for(var at=0;at<=ae;at++)this.V[at][Se]=-this.V[at][Se]}for(;Se<ae&&!(this.s[Se]>=this.s[Se+1]);){var Lt=this.s[Se];if(this.s[Se]=this.s[Se+1],this.s[Se+1]=Lt,Se<this.n-1)for(var ut=0;ut<this.n;ut++)Lt=this.V[ut][Se+1],this.V[ut][Se+1]=this.V[ut][Se],this.V[ut][Se]=Lt;if(Se<this.m-1)for(var pt=0;pt<this.m;pt++)Lt=this.U[pt][Se+1],this.U[pt][Se+1]=this.U[pt][Se],this.U[pt][Se]=Lt;Se++}D--}break}}var Zt={U:this.U,V:this.V,S:this.s};return Zt},a.hypot=function(s,o){var l=void 0;return Math.abs(s)>Math.abs(o)?(l=o/s,l=Math.abs(s)*Math.sqrt(1+l*l)):o!=0?(l=s/o,l=Math.abs(o)*Math.sqrt(1+l*l)):l=0,l},r.exports=a},function(r,n,i){var a=function(){function l(u,h){for(var f=0;f<h.length;f++){var d=h[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u,h){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,l),this.sequence1=u,this.sequence2=h,this.match_score=f,this.mismatch_penalty=d,this.gap_penalty=p,this.iMax=u.length+1,this.jMax=h.length+1,this.grid=new Array(this.iMax);for(var v=0;v<this.iMax;v++){this.grid[v]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.grid[v][m]=0}this.tracebackGrid=new Array(this.iMax);for(var x=0;x<this.iMax;x++){this.tracebackGrid[x]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.tracebackGrid[x][y]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var f=1;f<this.iMax;f++)this.grid[f][0]=this.grid[f-1][0]+this.gap_penalty,this.tracebackGrid[f][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var p=1;p<this.jMax;p++){var v=void 0;this.sequence1[d-1]===this.sequence2[p-1]?v=this.grid[d-1][p-1]+this.match_score:v=this.grid[d-1][p-1]+this.mismatch_penalty;var m=this.grid[d-1][p]+this.gap_penalty,x=this.grid[d][p-1]+this.gap_penalty,y=[v,m,x],w=this.arrayAllMaxIndexes(y);this.grid[d][p]=y[w[0]],this.tracebackGrid[d][p]=[w.includes(0),w.includes(1),w.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var f=h[0],d=this.tracebackGrid[f.pos[0]][f.pos[1]];d[0]&&h.push({pos:[f.pos[0]-1,f.pos[1]-1],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),d[1]&&h.push({pos:[f.pos[0]-1,f.pos[1]],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:"-"+f.seq2}),d[2]&&h.push({pos:[f.pos[0],f.pos[1]-1],seq1:"-"+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),f.pos[0]===0&&f.pos[1]===0&&this.alignments.push({sequence1:f.seq1,sequence2:f.seq2}),h.shift()}return this.alignments}},{key:"getAllIndexes",value:function(h,f){for(var d=[],p=-1;(p=h.indexOf(f,p+1))!==-1;)d.push(p);return d}},{key:"arrayAllMaxIndexes",value:function(h){return this.getAllIndexes(h,Math.max.apply(null,h))}}]),l}();r.exports=o},function(r,n,i){var a=function(){};a.FDLayout=i(18),a.FDLayoutConstants=i(4),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(5),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(25),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(6),a.LEdge=i(1),a.LGraphManager=i(7),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(27),a.Matrix=i(24),a.SVD=i(26),r.exports=a},function(r,n,i){function a(){this.listeners=[]}var s=a.prototype;s.addListener=function(o,l){this.listeners.push({event:o,callback:l})},s.removeListener=function(o,l){for(var u=this.listeners.length;u>=0;u--){var h=this.listeners[u];h.event===o&&h.callback===l&&this.listeners.splice(u,1)}},s.emit=function(o,l){for(var u=0;u<this.listeners.length;u++){var h=this.listeners[u];o===h.event&&h.callback(l)}},r.exports=a}])})}(vA)),vA.exports}var Hq;function Wlt(){return Hq||(Hq=1,function(t,e){(function(n,i){t.exports=i(Glt())})(Ll,function(r){return(()=>{var n={45:(o,l,u)=>{var h={};h.layoutBase=u(551),h.CoSEConstants=u(806),h.CoSEEdge=u(767),h.CoSEGraph=u(880),h.CoSEGraphManager=u(578),h.CoSELayout=u(765),h.CoSENode=u(991),h.ConstraintHandler=u(902),o.exports=h},806:(o,l,u)=>{var h=u(551).FDLayoutConstants;function f(){}for(var d in h)f[d]=h[d];f.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,f.DEFAULT_RADIAL_SEPARATION=h.DEFAULT_EDGE_LENGTH,f.DEFAULT_COMPONENT_SEPERATION=60,f.TILE=!0,f.TILING_PADDING_VERTICAL=10,f.TILING_PADDING_HORIZONTAL=10,f.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,f.ENFORCE_CONSTRAINTS=!0,f.APPLY_LAYOUT=!0,f.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,f.TREE_REDUCTION_ON_INCREMENTAL=!0,f.PURE_INCREMENTAL=f.DEFAULT_INCREMENTAL,o.exports=f},767:(o,l,u)=>{var h=u(551).FDLayoutEdge;function f(p,v,m){h.call(this,p,v,m)}f.prototype=Object.create(h.prototype);for(var d in h)f[d]=h[d];o.exports=f},880:(o,l,u)=>{var h=u(551).LGraph;function f(p,v,m){h.call(this,p,v,m)}f.prototype=Object.create(h.prototype);for(var d in h)f[d]=h[d];o.exports=f},578:(o,l,u)=>{var h=u(551).LGraphManager;function f(p){h.call(this,p)}f.prototype=Object.create(h.prototype);for(var d in h)f[d]=h[d];o.exports=f},765:(o,l,u)=>{var h=u(551).FDLayout,f=u(578),d=u(880),p=u(991),v=u(767),m=u(806),x=u(902),y=u(551).FDLayoutConstants,w=u(551).LayoutConstants,k=u(551).Point,E=u(551).PointD,C=u(551).DimensionD,L=u(551).Layout,_=u(551).Integer,I=u(551).IGeometry,M=u(551).LGraph,F=u(551).Transform,N=u(551).LinkedList;function z(){h.call(this),this.toBeTiled={},this.constraints={}}z.prototype=Object.create(h.prototype);for(var V in h)z[V]=h[V];z.prototype.newGraphManager=function(){var D=new f(this);return this.graphManager=D,D},z.prototype.newGraph=function(D){return new d(null,this.graphManager,D)},z.prototype.newNode=function(D){return new p(this.graphManager,D)},z.prototype.newEdge=function(D){return new v(null,null,D)},z.prototype.initParameters=function(){h.prototype.initParameters.call(this,arguments),this.isSubLayout||(m.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=m.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=m.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=y.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=y.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=y.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=y.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},z.prototype.initSpringEmbedder=function(){h.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/y.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},z.prototype.layout=function(){var D=w.DEFAULT_CREATE_BENDS_AS_NEEDED;return D&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},z.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(m.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var O=new Set(this.getAllNodes()),P=this.nodesWithGravity.filter(function(H){return O.has(H)});this.graphManager.setAllNodesToApplyGravitation(P)}}else{var D=this.getFlatForest();if(D.length>0)this.positionNodesRadially(D);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var O=new Set(this.getAllNodes()),P=this.nodesWithGravity.filter(function($){return O.has($)});this.graphManager.setAllNodesToApplyGravitation(P),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(x.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),m.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},z.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%y.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var D=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(B){return D.has(B)});this.graphManager.setAllNodesToApplyGravitation(O),this.graphManager.updateBounds(),this.updateGrid(),m.PURE_INCREMENTAL?this.coolingFactor=y.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=y.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),m.PURE_INCREMENTAL?this.coolingFactor=y.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=y.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var P=!this.isTreeGrowing&&!this.isGrowthFinished,$=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(P,$),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},z.prototype.getPositionsData=function(){for(var D=this.graphManager.getAllNodes(),O={},P=0;P<D.length;P++){var $=D[P].rect,B=D[P].id;O[B]={id:B,x:$.getCenterX(),y:$.getCenterY(),w:$.width,h:$.height}}return O},z.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var D=!1;if(y.ANIMATE==="during")this.emit("layoutstarted");else{for(;!D;)D=this.tick();this.graphManager.updateBounds()}},z.prototype.moveNodes=function(){for(var D=this.getAllNodes(),O,P=0;P<D.length;P++)O=D[P],O.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var P=0;P<D.length;P++)O=D[P],O.move()},z.prototype.initConstraintVariables=function(){var D=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var O=this.graphManager.getAllNodes(),P=0;P<O.length;P++){var $=O[P];this.idToNodeMap.set($.id,$)}var B=function Z(ue){for(var ae=ue.getChild().getNodes(),pe,Ee=0,Se=0;Se<ae.length;Se++)pe=ae[Se],pe.getChild()==null?D.fixedNodeSet.has(pe.id)&&(Ee+=100):Ee+=Z(pe);return Ee};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(ae){D.fixedNodeSet.add(ae.nodeId)});for(var O=this.graphManager.getAllNodes(),$,P=0;P<O.length;P++)if($=O[P],$.getChild()!=null){var H=B($);H>0&&($.fixedNodeWeight=H)}}if(this.constraints.relativePlacementConstraint){var X=new Map,q=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(Z){D.fixedNodesOnHorizontal.add(Z),D.fixedNodesOnVertical.add(Z)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var Y=this.constraints.alignmentConstraint.vertical,P=0;P<Y.length;P++)this.dummyToNodeForVerticalAlignment.set("dummy"+P,[]),Y[P].forEach(function(ue){X.set(ue,"dummy"+P),D.dummyToNodeForVerticalAlignment.get("dummy"+P).push(ue),D.fixedNodeSet.has(ue)&&D.fixedNodesOnHorizontal.add("dummy"+P)});if(this.constraints.alignmentConstraint.horizontal)for(var U=this.constraints.alignmentConstraint.horizontal,P=0;P<U.length;P++)this.dummyToNodeForHorizontalAlignment.set("dummy"+P,[]),U[P].forEach(function(ue){q.set(ue,"dummy"+P),D.dummyToNodeForHorizontalAlignment.get("dummy"+P).push(ue),D.fixedNodeSet.has(ue)&&D.fixedNodesOnVertical.add("dummy"+P)})}if(m.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(Z){var ue,ae,pe;for(pe=Z.length-1;pe>=2*Z.length/3;pe--)ue=Math.floor(Math.random()*(pe+1)),ae=Z[pe],Z[pe]=Z[ue],Z[ue]=ae;return Z},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(Z){if(Z.left){var ue=X.has(Z.left)?X.get(Z.left):Z.left,ae=X.has(Z.right)?X.get(Z.right):Z.right;D.nodesInRelativeHorizontal.includes(ue)||(D.nodesInRelativeHorizontal.push(ue),D.nodeToRelativeConstraintMapHorizontal.set(ue,[]),D.dummyToNodeForVerticalAlignment.has(ue)?D.nodeToTempPositionMapHorizontal.set(ue,D.idToNodeMap.get(D.dummyToNodeForVerticalAlignment.get(ue)[0]).getCenterX()):D.nodeToTempPositionMapHorizontal.set(ue,D.idToNodeMap.get(ue).getCenterX())),D.nodesInRelativeHorizontal.includes(ae)||(D.nodesInRelativeHorizontal.push(ae),D.nodeToRelativeConstraintMapHorizontal.set(ae,[]),D.dummyToNodeForVerticalAlignment.has(ae)?D.nodeToTempPositionMapHorizontal.set(ae,D.idToNodeMap.get(D.dummyToNodeForVerticalAlignment.get(ae)[0]).getCenterX()):D.nodeToTempPositionMapHorizontal.set(ae,D.idToNodeMap.get(ae).getCenterX())),D.nodeToRelativeConstraintMapHorizontal.get(ue).push({right:ae,gap:Z.gap}),D.nodeToRelativeConstraintMapHorizontal.get(ae).push({left:ue,gap:Z.gap})}else{var pe=q.has(Z.top)?q.get(Z.top):Z.top,Ee=q.has(Z.bottom)?q.get(Z.bottom):Z.bottom;D.nodesInRelativeVertical.includes(pe)||(D.nodesInRelativeVertical.push(pe),D.nodeToRelativeConstraintMapVertical.set(pe,[]),D.dummyToNodeForHorizontalAlignment.has(pe)?D.nodeToTempPositionMapVertical.set(pe,D.idToNodeMap.get(D.dummyToNodeForHorizontalAlignment.get(pe)[0]).getCenterY()):D.nodeToTempPositionMapVertical.set(pe,D.idToNodeMap.get(pe).getCenterY())),D.nodesInRelativeVertical.includes(Ee)||(D.nodesInRelativeVertical.push(Ee),D.nodeToRelativeConstraintMapVertical.set(Ee,[]),D.dummyToNodeForHorizontalAlignment.has(Ee)?D.nodeToTempPositionMapVertical.set(Ee,D.idToNodeMap.get(D.dummyToNodeForHorizontalAlignment.get(Ee)[0]).getCenterY()):D.nodeToTempPositionMapVertical.set(Ee,D.idToNodeMap.get(Ee).getCenterY())),D.nodeToRelativeConstraintMapVertical.get(pe).push({bottom:Ee,gap:Z.gap}),D.nodeToRelativeConstraintMapVertical.get(Ee).push({top:pe,gap:Z.gap})}});else{var J=new Map,ce=new Map;this.constraints.relativePlacementConstraint.forEach(function(Z){if(Z.left){var ue=X.has(Z.left)?X.get(Z.left):Z.left,ae=X.has(Z.right)?X.get(Z.right):Z.right;J.has(ue)?J.get(ue).push(ae):J.set(ue,[ae]),J.has(ae)?J.get(ae).push(ue):J.set(ae,[ue])}else{var pe=q.has(Z.top)?q.get(Z.top):Z.top,Ee=q.has(Z.bottom)?q.get(Z.bottom):Z.bottom;ce.has(pe)?ce.get(pe).push(Ee):ce.set(pe,[Ee]),ce.has(Ee)?ce.get(Ee).push(pe):ce.set(Ee,[pe])}});var re=function(ue,ae){var pe=[],Ee=[],Se=new N,de=new Set,be=0;return ue.forEach(function(oe,we){if(!de.has(we)){pe[be]=[],Ee[be]=!1;var Re=we;for(Se.push(Re),de.add(Re),pe[be].push(Re);Se.length!=0;){Re=Se.shift(),ae.has(Re)&&(Ee[be]=!0);var Pe=ue.get(Re);Pe.forEach(function(Ge){de.has(Ge)||(Se.push(Ge),de.add(Ge),pe[be].push(Ge))})}be++}}),{components:pe,isFixed:Ee}},ve=re(J,D.fixedNodesOnHorizontal);this.componentsOnHorizontal=ve.components,this.fixedComponentsOnHorizontal=ve.isFixed;var ye=re(ce,D.fixedNodesOnVertical);this.componentsOnVertical=ye.components,this.fixedComponentsOnVertical=ye.isFixed}}},z.prototype.updateDisplacements=function(){var D=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(ye){var Z=D.idToNodeMap.get(ye.nodeId);Z.displacementX=0,Z.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var O=this.constraints.alignmentConstraint.vertical,P=0;P<O.length;P++){for(var $=0,B=0;B<O[P].length;B++){if(this.fixedNodeSet.has(O[P][B])){$=0;break}$+=this.idToNodeMap.get(O[P][B]).displacementX}for(var H=$/O[P].length,B=0;B<O[P].length;B++)this.idToNodeMap.get(O[P][B]).displacementX=H}if(this.constraints.alignmentConstraint.horizontal)for(var X=this.constraints.alignmentConstraint.horizontal,P=0;P<X.length;P++){for(var q=0,B=0;B<X[P].length;B++){if(this.fixedNodeSet.has(X[P][B])){q=0;break}q+=this.idToNodeMap.get(X[P][B]).displacementY}for(var Y=q/X[P].length,B=0;B<X[P].length;B++)this.idToNodeMap.get(X[P][B]).displacementY=Y}}if(this.constraints.relativePlacementConstraint)if(m.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(ye){if(!D.fixedNodesOnHorizontal.has(ye)){var Z=0;D.dummyToNodeForVerticalAlignment.has(ye)?Z=D.idToNodeMap.get(D.dummyToNodeForVerticalAlignment.get(ye)[0]).displacementX:Z=D.idToNodeMap.get(ye).displacementX,D.nodeToRelativeConstraintMapHorizontal.get(ye).forEach(function(ue){if(ue.right){var ae=D.nodeToTempPositionMapHorizontal.get(ue.right)-D.nodeToTempPositionMapHorizontal.get(ye)-Z;ae<ue.gap&&(Z-=ue.gap-ae)}else{var ae=D.nodeToTempPositionMapHorizontal.get(ye)-D.nodeToTempPositionMapHorizontal.get(ue.left)+Z;ae<ue.gap&&(Z+=ue.gap-ae)}}),D.nodeToTempPositionMapHorizontal.set(ye,D.nodeToTempPositionMapHorizontal.get(ye)+Z),D.dummyToNodeForVerticalAlignment.has(ye)?D.dummyToNodeForVerticalAlignment.get(ye).forEach(function(ue){D.idToNodeMap.get(ue).displacementX=Z}):D.idToNodeMap.get(ye).displacementX=Z}}),this.nodesInRelativeVertical.forEach(function(ye){if(!D.fixedNodesOnHorizontal.has(ye)){var Z=0;D.dummyToNodeForHorizontalAlignment.has(ye)?Z=D.idToNodeMap.get(D.dummyToNodeForHorizontalAlignment.get(ye)[0]).displacementY:Z=D.idToNodeMap.get(ye).displacementY,D.nodeToRelativeConstraintMapVertical.get(ye).forEach(function(ue){if(ue.bottom){var ae=D.nodeToTempPositionMapVertical.get(ue.bottom)-D.nodeToTempPositionMapVertical.get(ye)-Z;ae<ue.gap&&(Z-=ue.gap-ae)}else{var ae=D.nodeToTempPositionMapVertical.get(ye)-D.nodeToTempPositionMapVertical.get(ue.top)+Z;ae<ue.gap&&(Z+=ue.gap-ae)}}),D.nodeToTempPositionMapVertical.set(ye,D.nodeToTempPositionMapVertical.get(ye)+Z),D.dummyToNodeForHorizontalAlignment.has(ye)?D.dummyToNodeForHorizontalAlignment.get(ye).forEach(function(ue){D.idToNodeMap.get(ue).displacementY=Z}):D.idToNodeMap.get(ye).displacementY=Z}});else{for(var P=0;P<this.componentsOnHorizontal.length;P++){var U=this.componentsOnHorizontal[P];if(this.fixedComponentsOnHorizontal[P])for(var B=0;B<U.length;B++)this.dummyToNodeForVerticalAlignment.has(U[B])?this.dummyToNodeForVerticalAlignment.get(U[B]).forEach(function(ue){D.idToNodeMap.get(ue).displacementX=0}):this.idToNodeMap.get(U[B]).displacementX=0;else{for(var J=0,ce=0,B=0;B<U.length;B++)if(this.dummyToNodeForVerticalAlignment.has(U[B])){var re=this.dummyToNodeForVerticalAlignment.get(U[B]);J+=re.length*this.idToNodeMap.get(re[0]).displacementX,ce+=re.length}else J+=this.idToNodeMap.get(U[B]).displacementX,ce++;for(var ve=J/ce,B=0;B<U.length;B++)this.dummyToNodeForVerticalAlignment.has(U[B])?this.dummyToNodeForVerticalAlignment.get(U[B]).forEach(function(ue){D.idToNodeMap.get(ue).displacementX=ve}):this.idToNodeMap.get(U[B]).displacementX=ve}}for(var P=0;P<this.componentsOnVertical.length;P++){var U=this.componentsOnVertical[P];if(this.fixedComponentsOnVertical[P])for(var B=0;B<U.length;B++)this.dummyToNodeForHorizontalAlignment.has(U[B])?this.dummyToNodeForHorizontalAlignment.get(U[B]).forEach(function(ae){D.idToNodeMap.get(ae).displacementY=0}):this.idToNodeMap.get(U[B]).displacementY=0;else{for(var J=0,ce=0,B=0;B<U.length;B++)if(this.dummyToNodeForHorizontalAlignment.has(U[B])){var re=this.dummyToNodeForHorizontalAlignment.get(U[B]);J+=re.length*this.idToNodeMap.get(re[0]).displacementY,ce+=re.length}else J+=this.idToNodeMap.get(U[B]).displacementY,ce++;for(var ve=J/ce,B=0;B<U.length;B++)this.dummyToNodeForHorizontalAlignment.has(U[B])?this.dummyToNodeForHorizontalAlignment.get(U[B]).forEach(function(Se){D.idToNodeMap.get(Se).displacementY=ve}):this.idToNodeMap.get(U[B]).displacementY=ve}}}},z.prototype.calculateNodesToApplyGravitationTo=function(){var D=[],O,P=this.graphManager.getGraphs(),$=P.length,B;for(B=0;B<$;B++)O=P[B],O.updateConnected(),O.isConnected||(D=D.concat(O.getNodes()));return D},z.prototype.createBendpoints=function(){var D=[];D=D.concat(this.graphManager.getAllEdges());var O=new Set,P;for(P=0;P<D.length;P++){var $=D[P];if(!O.has($)){var B=$.getSource(),H=$.getTarget();if(B==H)$.getBendpoints().push(new E),$.getBendpoints().push(new E),this.createDummyNodesForBendpoints($),O.add($);else{var X=[];if(X=X.concat(B.getEdgeListToNode(H)),X=X.concat(H.getEdgeListToNode(B)),!O.has(X[0])){if(X.length>1){var q;for(q=0;q<X.length;q++){var Y=X[q];Y.getBendpoints().push(new E),this.createDummyNodesForBendpoints(Y)}}X.forEach(function(U){O.add(U)})}}}if(O.size==D.length)break}},z.prototype.positionNodesRadially=function(D){for(var O=new k(0,0),P=Math.ceil(Math.sqrt(D.length)),$=0,B=0,H=0,X=new E(0,0),q=0;q<D.length;q++){q%P==0&&(H=0,B=$,q!=0&&(B+=m.DEFAULT_COMPONENT_SEPERATION),$=0);var Y=D[q],U=L.findCenterOfTree(Y);O.x=H,O.y=B,X=z.radialLayout(Y,U,O),X.y>$&&($=Math.floor(X.y)),H=Math.floor(X.x+m.DEFAULT_COMPONENT_SEPERATION)}this.transform(new E(w.WORLD_CENTER_X-X.x/2,w.WORLD_CENTER_Y-X.y/2))},z.radialLayout=function(D,O,P){var $=Math.max(this.maxDiagonalInTree(D),m.DEFAULT_RADIAL_SEPARATION);z.branchRadialLayout(O,null,0,359,0,$);var B=M.calculateBounds(D),H=new F;H.setDeviceOrgX(B.getMinX()),H.setDeviceOrgY(B.getMinY()),H.setWorldOrgX(P.x),H.setWorldOrgY(P.y);for(var X=0;X<D.length;X++){var q=D[X];q.transform(H)}var Y=new E(B.getMaxX(),B.getMaxY());return H.inverseTransformPoint(Y)},z.branchRadialLayout=function(D,O,P,$,B,H){var X=($-P+1)/2;X<0&&(X+=180);var q=(X+P)%360,Y=q*I.TWO_PI/360,U=B*Math.cos(Y),J=B*Math.sin(Y);D.setCenter(U,J);var ce=[];ce=ce.concat(D.getEdges());var re=ce.length;O!=null&&re--;for(var ve=0,ye=ce.length,Z,ue=D.getEdgesBetween(O);ue.length>1;){var ae=ue[0];ue.splice(0,1);var pe=ce.indexOf(ae);pe>=0&&ce.splice(pe,1),ye--,re--}O!=null?Z=(ce.indexOf(ue[0])+1)%ye:Z=0;for(var Ee=Math.abs($-P)/re,Se=Z;ve!=re;Se=++Se%ye){var de=ce[Se].getOtherEnd(D);if(de!=O){var be=(P+ve*Ee)%360,oe=(be+Ee)%360;z.branchRadialLayout(de,D,be,oe,B+H,H),ve++}}},z.maxDiagonalInTree=function(D){for(var O=_.MIN_VALUE,P=0;P<D.length;P++){var $=D[P],B=$.getDiagonal();B>O&&(O=B)}return O},z.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},z.prototype.groupZeroDegreeMembers=function(){var D=this,O={};this.memberGroups={},this.idToDummyNode={};for(var P=[],$=this.graphManager.getAllNodes(),B=0;B<$.length;B++){var H=$[B],X=H.getParent();this.getNodeDegreeWithChildren(H)===0&&(X.id==null||!this.getToBeTiled(X))&&P.push(H)}for(var B=0;B<P.length;B++){var H=P[B],q=H.getParent().id;typeof O[q]>"u"&&(O[q]=[]),O[q]=O[q].concat(H)}Object.keys(O).forEach(function(Y){if(O[Y].length>1){var U="DummyCompound_"+Y;D.memberGroups[U]=O[Y];var J=O[Y][0].getParent(),ce=new p(D.graphManager);ce.id=U,ce.paddingLeft=J.paddingLeft||0,ce.paddingRight=J.paddingRight||0,ce.paddingBottom=J.paddingBottom||0,ce.paddingTop=J.paddingTop||0,D.idToDummyNode[U]=ce;var re=D.getGraphManager().add(D.newGraph(),ce),ve=J.getChild();ve.add(ce);for(var ye=0;ye<O[Y].length;ye++){var Z=O[Y][ye];ve.remove(Z),re.add(Z)}}})},z.prototype.clearCompounds=function(){var D={},O={};this.performDFSOnCompounds();for(var P=0;P<this.compoundOrder.length;P++)O[this.compoundOrder[P].id]=this.compoundOrder[P],D[this.compoundOrder[P].id]=[].concat(this.compoundOrder[P].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[P].getChild()),this.compoundOrder[P].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(D,O)},z.prototype.clearZeroDegreeMembers=function(){var D=this,O=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(P){var $=D.idToDummyNode[P];if(O[P]=D.tileNodes(D.memberGroups[P],$.paddingLeft+$.paddingRight),$.rect.width=O[P].width,$.rect.height=O[P].height,$.setCenter(O[P].centerX,O[P].centerY),$.labelMarginLeft=0,$.labelMarginTop=0,m.NODE_DIMENSIONS_INCLUDE_LABELS){var B=$.rect.width,H=$.rect.height;$.labelWidth&&($.labelPosHorizontal=="left"?($.rect.x-=$.labelWidth,$.setWidth(B+$.labelWidth),$.labelMarginLeft=$.labelWidth):$.labelPosHorizontal=="center"&&$.labelWidth>B?($.rect.x-=($.labelWidth-B)/2,$.setWidth($.labelWidth),$.labelMarginLeft=($.labelWidth-B)/2):$.labelPosHorizontal=="right"&&$.setWidth(B+$.labelWidth)),$.labelHeight&&($.labelPosVertical=="top"?($.rect.y-=$.labelHeight,$.setHeight(H+$.labelHeight),$.labelMarginTop=$.labelHeight):$.labelPosVertical=="center"&&$.labelHeight>H?($.rect.y-=($.labelHeight-H)/2,$.setHeight($.labelHeight),$.labelMarginTop=($.labelHeight-H)/2):$.labelPosVertical=="bottom"&&$.setHeight(H+$.labelHeight))}})},z.prototype.repopulateCompounds=function(){for(var D=this.compoundOrder.length-1;D>=0;D--){var O=this.compoundOrder[D],P=O.id,$=O.paddingLeft,B=O.paddingTop,H=O.labelMarginLeft,X=O.labelMarginTop;this.adjustLocations(this.tiledMemberPack[P],O.rect.x,O.rect.y,$,B,H,X)}},z.prototype.repopulateZeroDegreeMembers=function(){var D=this,O=this.tiledZeroDegreePack;Object.keys(O).forEach(function(P){var $=D.idToDummyNode[P],B=$.paddingLeft,H=$.paddingTop,X=$.labelMarginLeft,q=$.labelMarginTop;D.adjustLocations(O[P],$.rect.x,$.rect.y,B,H,X,q)})},z.prototype.getToBeTiled=function(D){var O=D.id;if(this.toBeTiled[O]!=null)return this.toBeTiled[O];var P=D.getChild();if(P==null)return this.toBeTiled[O]=!1,!1;for(var $=P.getNodes(),B=0;B<$.length;B++){var H=$[B];if(this.getNodeDegree(H)>0)return this.toBeTiled[O]=!1,!1;if(H.getChild()==null){this.toBeTiled[H.id]=!1;continue}if(!this.getToBeTiled(H))return this.toBeTiled[O]=!1,!1}return this.toBeTiled[O]=!0,!0},z.prototype.getNodeDegree=function(D){D.id;for(var O=D.getEdges(),P=0,$=0;$<O.length;$++){var B=O[$];B.getSource().id!==B.getTarget().id&&(P=P+1)}return P},z.prototype.getNodeDegreeWithChildren=function(D){var O=this.getNodeDegree(D);if(D.getChild()==null)return O;for(var P=D.getChild().getNodes(),$=0;$<P.length;$++){var B=P[$];O+=this.getNodeDegreeWithChildren(B)}return O},z.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},z.prototype.fillCompexOrderByDFS=function(D){for(var O=0;O<D.length;O++){var P=D[O];P.getChild()!=null&&this.fillCompexOrderByDFS(P.getChild().getNodes()),this.getToBeTiled(P)&&this.compoundOrder.push(P)}},z.prototype.adjustLocations=function(D,O,P,$,B,H,X){O+=$+H,P+=B+X;for(var q=O,Y=0;Y<D.rows.length;Y++){var U=D.rows[Y];O=q;for(var J=0,ce=0;ce<U.length;ce++){var re=U[ce];re.rect.x=O,re.rect.y=P,O+=re.rect.width+D.horizontalPadding,re.rect.height>J&&(J=re.rect.height)}P+=J+D.verticalPadding}},z.prototype.tileCompoundMembers=function(D,O){var P=this;this.tiledMemberPack=[],Object.keys(D).forEach(function($){var B=O[$];if(P.tiledMemberPack[$]=P.tileNodes(D[$],B.paddingLeft+B.paddingRight),B.rect.width=P.tiledMemberPack[$].width,B.rect.height=P.tiledMemberPack[$].height,B.setCenter(P.tiledMemberPack[$].centerX,P.tiledMemberPack[$].centerY),B.labelMarginLeft=0,B.labelMarginTop=0,m.NODE_DIMENSIONS_INCLUDE_LABELS){var H=B.rect.width,X=B.rect.height;B.labelWidth&&(B.labelPosHorizontal=="left"?(B.rect.x-=B.labelWidth,B.setWidth(H+B.labelWidth),B.labelMarginLeft=B.labelWidth):B.labelPosHorizontal=="center"&&B.labelWidth>H?(B.rect.x-=(B.labelWidth-H)/2,B.setWidth(B.labelWidth),B.labelMarginLeft=(B.labelWidth-H)/2):B.labelPosHorizontal=="right"&&B.setWidth(H+B.labelWidth)),B.labelHeight&&(B.labelPosVertical=="top"?(B.rect.y-=B.labelHeight,B.setHeight(X+B.labelHeight),B.labelMarginTop=B.labelHeight):B.labelPosVertical=="center"&&B.labelHeight>X?(B.rect.y-=(B.labelHeight-X)/2,B.setHeight(B.labelHeight),B.labelMarginTop=(B.labelHeight-X)/2):B.labelPosVertical=="bottom"&&B.setHeight(X+B.labelHeight))}})},z.prototype.tileNodes=function(D,O){var P=this.tileNodesByFavoringDim(D,O,!0),$=this.tileNodesByFavoringDim(D,O,!1),B=this.getOrgRatio(P),H=this.getOrgRatio($),X;return H<B?X=$:X=P,X},z.prototype.getOrgRatio=function(D){var O=D.width,P=D.height,$=O/P;return $<1&&($=1/$),$},z.prototype.calcIdealRowWidth=function(D,O){var P=m.TILING_PADDING_VERTICAL,$=m.TILING_PADDING_HORIZONTAL,B=D.length,H=0,X=0,q=0;D.forEach(function(ye){H+=ye.getWidth(),X+=ye.getHeight(),ye.getWidth()>q&&(q=ye.getWidth())});var Y=H/B,U=X/B,J=Math.pow(P-$,2)+4*(Y+$)*(U+P)*B,ce=($-P+Math.sqrt(J))/(2*(Y+$)),re;O?(re=Math.ceil(ce),re==ce&&re++):re=Math.floor(ce);var ve=re*(Y+$)-$;return q>ve&&(ve=q),ve+=$*2,ve},z.prototype.tileNodesByFavoringDim=function(D,O,P){var $=m.TILING_PADDING_VERTICAL,B=m.TILING_PADDING_HORIZONTAL,H=m.TILING_COMPARE_BY,X={rows:[],rowWidth:[],rowHeight:[],width:0,height:O,verticalPadding:$,horizontalPadding:B,centerX:0,centerY:0};H&&(X.idealRowWidth=this.calcIdealRowWidth(D,P));var q=function(Z){return Z.rect.width*Z.rect.height},Y=function(Z,ue){return q(ue)-q(Z)};D.sort(function(ye,Z){var ue=Y;return X.idealRowWidth?(ue=H,ue(ye.id,Z.id)):ue(ye,Z)});for(var U=0,J=0,ce=0;ce<D.length;ce++){var re=D[ce];U+=re.getCenterX(),J+=re.getCenterY()}X.centerX=U/D.length,X.centerY=J/D.length;for(var ce=0;ce<D.length;ce++){var re=D[ce];if(X.rows.length==0)this.insertNodeToRow(X,re,0,O);else if(this.canAddHorizontal(X,re.rect.width,re.rect.height)){var ve=X.rows.length-1;X.idealRowWidth||(ve=this.getShortestRowIndex(X)),this.insertNodeToRow(X,re,ve,O)}else this.insertNodeToRow(X,re,X.rows.length,O);this.shiftToLastRow(X)}return X},z.prototype.insertNodeToRow=function(D,O,P,$){var B=$;if(P==D.rows.length){var H=[];D.rows.push(H),D.rowWidth.push(B),D.rowHeight.push(0)}var X=D.rowWidth[P]+O.rect.width;D.rows[P].length>0&&(X+=D.horizontalPadding),D.rowWidth[P]=X,D.width<X&&(D.width=X);var q=O.rect.height;P>0&&(q+=D.verticalPadding);var Y=0;q>D.rowHeight[P]&&(Y=D.rowHeight[P],D.rowHeight[P]=q,Y=D.rowHeight[P]-Y),D.height+=Y,D.rows[P].push(O)},z.prototype.getShortestRowIndex=function(D){for(var O=-1,P=Number.MAX_VALUE,$=0;$<D.rows.length;$++)D.rowWidth[$]<P&&(O=$,P=D.rowWidth[$]);return O},z.prototype.getLongestRowIndex=function(D){for(var O=-1,P=Number.MIN_VALUE,$=0;$<D.rows.length;$++)D.rowWidth[$]>P&&(O=$,P=D.rowWidth[$]);return O},z.prototype.canAddHorizontal=function(D,O,P){if(D.idealRowWidth){var $=D.rows.length-1,B=D.rowWidth[$];return B+O+D.horizontalPadding<=D.idealRowWidth}var H=this.getShortestRowIndex(D);if(H<0)return!0;var X=D.rowWidth[H];if(X+D.horizontalPadding+O<=D.width)return!0;var q=0;D.rowHeight[H]<P&&H>0&&(q=P+D.verticalPadding-D.rowHeight[H]);var Y;D.width-X>=O+D.horizontalPadding?Y=(D.height+q)/(X+O+D.horizontalPadding):Y=(D.height+q)/D.width,q=P+D.verticalPadding;var U;return D.width<O?U=(D.height+q)/O:U=(D.height+q)/D.width,U<1&&(U=1/U),Y<1&&(Y=1/Y),Y<U},z.prototype.shiftToLastRow=function(D){var O=this.getLongestRowIndex(D),P=D.rowWidth.length-1,$=D.rows[O],B=$[$.length-1],H=B.width+D.horizontalPadding;if(D.width-D.rowWidth[P]>H&&O!=P){$.splice(-1,1),D.rows[P].push(B),D.rowWidth[O]=D.rowWidth[O]-H,D.rowWidth[P]=D.rowWidth[P]+H,D.width=D.rowWidth[instance.getLongestRowIndex(D)];for(var X=Number.MIN_VALUE,q=0;q<$.length;q++)$[q].height>X&&(X=$[q].height);O>0&&(X+=D.verticalPadding);var Y=D.rowHeight[O]+D.rowHeight[P];D.rowHeight[O]=X,D.rowHeight[P]<B.height+D.verticalPadding&&(D.rowHeight[P]=B.height+D.verticalPadding);var U=D.rowHeight[O]+D.rowHeight[P];D.height+=U-Y,this.shiftToLastRow(D)}},z.prototype.tilingPreLayout=function(){m.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},z.prototype.tilingPostLayout=function(){m.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},z.prototype.reduceTrees=function(){for(var D=[],O=!0,P;O;){var $=this.graphManager.getAllNodes(),B=[];O=!1;for(var H=0;H<$.length;H++)if(P=$[H],P.getEdges().length==1&&!P.getEdges()[0].isInterGraph&&P.getChild()==null){if(m.PURE_INCREMENTAL){var X=P.getEdges()[0].getOtherEnd(P),q=new C(P.getCenterX()-X.getCenterX(),P.getCenterY()-X.getCenterY());B.push([P,P.getEdges()[0],P.getOwner(),q])}else B.push([P,P.getEdges()[0],P.getOwner()]);O=!0}if(O==!0){for(var Y=[],U=0;U<B.length;U++)B[U][0].getEdges().length==1&&(Y.push(B[U]),B[U][0].getOwner().remove(B[U][0]));D.push(Y),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=D},z.prototype.growTree=function(D){for(var O=D.length,P=D[O-1],$,B=0;B<P.length;B++)$=P[B],this.findPlaceforPrunedNode($),$[2].add($[0]),$[2].add($[1],$[1].source,$[1].target);D.splice(D.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},z.prototype.findPlaceforPrunedNode=function(D){var O,P,$=D[0];if($==D[1].source?P=D[1].target:P=D[1].source,m.PURE_INCREMENTAL)$.setCenter(P.getCenterX()+D[3].getWidth(),P.getCenterY()+D[3].getHeight());else{var B=P.startX,H=P.finishX,X=P.startY,q=P.finishY,Y=0,U=0,J=0,ce=0,re=[Y,J,U,ce];if(X>0)for(var ve=B;ve<=H;ve++)re[0]+=this.grid[ve][X-1].length+this.grid[ve][X].length-1;if(H<this.grid.length-1)for(var ve=X;ve<=q;ve++)re[1]+=this.grid[H+1][ve].length+this.grid[H][ve].length-1;if(q<this.grid[0].length-1)for(var ve=B;ve<=H;ve++)re[2]+=this.grid[ve][q+1].length+this.grid[ve][q].length-1;if(B>0)for(var ve=X;ve<=q;ve++)re[3]+=this.grid[B-1][ve].length+this.grid[B][ve].length-1;for(var ye=_.MAX_VALUE,Z,ue,ae=0;ae<re.length;ae++)re[ae]<ye?(ye=re[ae],Z=1,ue=ae):re[ae]==ye&&Z++;if(Z==3&&ye==0)re[0]==0&&re[1]==0&&re[2]==0?O=1:re[0]==0&&re[1]==0&&re[3]==0?O=0:re[0]==0&&re[2]==0&&re[3]==0?O=3:re[1]==0&&re[2]==0&&re[3]==0&&(O=2);else if(Z==2&&ye==0){var pe=Math.floor(Math.random()*2);re[0]==0&&re[1]==0?pe==0?O=0:O=1:re[0]==0&&re[2]==0?pe==0?O=0:O=2:re[0]==0&&re[3]==0?pe==0?O=0:O=3:re[1]==0&&re[2]==0?pe==0?O=1:O=2:re[1]==0&&re[3]==0?pe==0?O=1:O=3:pe==0?O=2:O=3}else if(Z==4&&ye==0){var pe=Math.floor(Math.random()*4);O=pe}else O=ue;O==0?$.setCenter(P.getCenterX(),P.getCenterY()-P.getHeight()/2-y.DEFAULT_EDGE_LENGTH-$.getHeight()/2):O==1?$.setCenter(P.getCenterX()+P.getWidth()/2+y.DEFAULT_EDGE_LENGTH+$.getWidth()/2,P.getCenterY()):O==2?$.setCenter(P.getCenterX(),P.getCenterY()+P.getHeight()/2+y.DEFAULT_EDGE_LENGTH+$.getHeight()/2):$.setCenter(P.getCenterX()-P.getWidth()/2-y.DEFAULT_EDGE_LENGTH-$.getWidth()/2,P.getCenterY())}},o.exports=z},991:(o,l,u)=>{var h=u(551).FDLayoutNode,f=u(551).IMath;function d(v,m,x,y){h.call(this,v,m,x,y)}d.prototype=Object.create(h.prototype);for(var p in h)d[p]=h[p];d.prototype.calculateDisplacement=function(){var v=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=v.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=v.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=v.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=v.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>v.coolingFactor*v.maxNodeDisplacement&&(this.displacementX=v.coolingFactor*v.maxNodeDisplacement*f.sign(this.displacementX)),Math.abs(this.displacementY)>v.coolingFactor*v.maxNodeDisplacement&&(this.displacementY=v.coolingFactor*v.maxNodeDisplacement*f.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},d.prototype.propogateDisplacementToChildren=function(v,m){for(var x=this.getChild().getNodes(),y,w=0;w<x.length;w++)y=x[w],y.getChild()==null?(y.displacementX+=v,y.displacementY+=m):y.propogateDisplacementToChildren(v,m)},d.prototype.move=function(){var v=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),v.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},d.prototype.setPred1=function(v){this.pred1=v},d.prototype.getPred1=function(){return pred1},d.prototype.getPred2=function(){return pred2},d.prototype.setNext=function(v){this.next=v},d.prototype.getNext=function(){return next},d.prototype.setProcessed=function(v){this.processed=v},d.prototype.isProcessed=function(){return processed},o.exports=d},902:(o,l,u)=>{function h(x){if(Array.isArray(x)){for(var y=0,w=Array(x.length);y<x.length;y++)w[y]=x[y];return w}else return Array.from(x)}var f=u(806),d=u(551).LinkedList,p=u(551).Matrix,v=u(551).SVD;function m(){}m.handleConstraints=function(x){var y={};y.fixedNodeConstraint=x.constraints.fixedNodeConstraint,y.alignmentConstraint=x.constraints.alignmentConstraint,y.relativePlacementConstraint=x.constraints.relativePlacementConstraint;for(var w=new Map,k=new Map,E=[],C=[],L=x.getAllNodes(),_=0,I=0;I<L.length;I++){var M=L[I];M.getChild()==null&&(k.set(M.id,_++),E.push(M.getCenterX()),C.push(M.getCenterY()),w.set(M.id,M))}y.relativePlacementConstraint&&y.relativePlacementConstraint.forEach(function(_e){!_e.gap&&_e.gap!=0&&(_e.left?_e.gap=f.DEFAULT_EDGE_LENGTH+w.get(_e.left).getWidth()/2+w.get(_e.right).getWidth()/2:_e.gap=f.DEFAULT_EDGE_LENGTH+w.get(_e.top).getHeight()/2+w.get(_e.bottom).getHeight()/2)});var F=function(ke,Le){return{x:ke.x-Le.x,y:ke.y-Le.y}},N=function(ke){var Le=0,Oe=0;return ke.forEach(function(Me){Le+=E[k.get(Me)],Oe+=C[k.get(Me)]}),{x:Le/ke.size,y:Oe/ke.size}},z=function(ke,Le,Oe,Me,Ie){function Fe(ct,at){var Lt=new Set(ct),ut=!0,pt=!1,Zt=void 0;try{for(var xt=at[Symbol.iterator](),ht;!(ut=(ht=xt.next()).done);ut=!0){var Mt=ht.value;Lt.add(Mt)}}catch(nr){pt=!0,Zt=nr}finally{try{!ut&&xt.return&&xt.return()}finally{if(pt)throw Zt}}return Lt}var Ne=new Map;ke.forEach(function(ct,at){Ne.set(at,0)}),ke.forEach(function(ct,at){ct.forEach(function(Lt){Ne.set(Lt.id,Ne.get(Lt.id)+1)})});var He=new Map,it=new Map,lt=new d;Ne.forEach(function(ct,at){ct==0?(lt.push(at),Oe||(Le=="horizontal"?He.set(at,k.has(at)?E[k.get(at)]:Me.get(at)):He.set(at,k.has(at)?C[k.get(at)]:Me.get(at)))):He.set(at,Number.NEGATIVE_INFINITY),Oe&&it.set(at,new Set([at]))}),Oe&&Ie.forEach(function(ct){var at=[];if(ct.forEach(function(pt){Oe.has(pt)&&at.push(pt)}),at.length>0){var Lt=0;at.forEach(function(pt){Le=="horizontal"?(He.set(pt,k.has(pt)?E[k.get(pt)]:Me.get(pt)),Lt+=He.get(pt)):(He.set(pt,k.has(pt)?C[k.get(pt)]:Me.get(pt)),Lt+=He.get(pt))}),Lt=Lt/at.length,ct.forEach(function(pt){Oe.has(pt)||He.set(pt,Lt)})}else{var ut=0;ct.forEach(function(pt){Le=="horizontal"?ut+=k.has(pt)?E[k.get(pt)]:Me.get(pt):ut+=k.has(pt)?C[k.get(pt)]:Me.get(pt)}),ut=ut/ct.length,ct.forEach(function(pt){He.set(pt,ut)})}});for(var ft=function(){var at=lt.shift(),Lt=ke.get(at);Lt.forEach(function(ut){if(He.get(ut.id)<He.get(at)+ut.gap)if(Oe&&Oe.has(ut.id)){var pt=void 0;if(Le=="horizontal"?pt=k.has(ut.id)?E[k.get(ut.id)]:Me.get(ut.id):pt=k.has(ut.id)?C[k.get(ut.id)]:Me.get(ut.id),He.set(ut.id,pt),pt<He.get(at)+ut.gap){var Zt=He.get(at)+ut.gap-pt;it.get(at).forEach(function(xt){He.set(xt,He.get(xt)-Zt)})}}else He.set(ut.id,He.get(at)+ut.gap);Ne.set(ut.id,Ne.get(ut.id)-1),Ne.get(ut.id)==0&&lt.push(ut.id),Oe&&it.set(ut.id,Fe(it.get(at),it.get(ut.id)))})};lt.length!=0;)ft();if(Oe){var gt=new Set;ke.forEach(function(ct,at){ct.length==0&&gt.add(at)});var _t=[];it.forEach(function(ct,at){if(gt.has(at)){var Lt=!1,ut=!0,pt=!1,Zt=void 0;try{for(var xt=ct[Symbol.iterator](),ht;!(ut=(ht=xt.next()).done);ut=!0){var Mt=ht.value;Oe.has(Mt)&&(Lt=!0)}}catch(wr){pt=!0,Zt=wr}finally{try{!ut&&xt.return&&xt.return()}finally{if(pt)throw Zt}}if(!Lt){var nr=!1,Yt=void 0;_t.forEach(function(wr,Gr){wr.has([].concat(h(ct))[0])&&(nr=!0,Yt=Gr)}),nr?ct.forEach(function(wr){_t[Yt].add(wr)}):_t.push(new Set(ct))}}}),_t.forEach(function(ct,at){var Lt=Number.POSITIVE_INFINITY,ut=Number.POSITIVE_INFINITY,pt=Number.NEGATIVE_INFINITY,Zt=Number.NEGATIVE_INFINITY,xt=!0,ht=!1,Mt=void 0;try{for(var nr=ct[Symbol.iterator](),Yt;!(xt=(Yt=nr.next()).done);xt=!0){var wr=Yt.value,Gr=void 0;Le=="horizontal"?Gr=k.has(wr)?E[k.get(wr)]:Me.get(wr):Gr=k.has(wr)?C[k.get(wr)]:Me.get(wr);var Tr=He.get(wr);Gr<Lt&&(Lt=Gr),Gr>pt&&(pt=Gr),Tr<ut&&(ut=Tr),Tr>Zt&&(Zt=Tr)}}catch(vt){ht=!0,Mt=vt}finally{try{!xt&&nr.return&&nr.return()}finally{if(ht)throw Mt}}var jn=(Lt+pt)/2-(ut+Zt)/2,sn=!0,Dn=!1,$r=void 0;try{for(var kn=ct[Symbol.iterator](),Ut;!(sn=(Ut=kn.next()).done);sn=!0){var qe=Ut.value;He.set(qe,He.get(qe)+jn)}}catch(vt){Dn=!0,$r=vt}finally{try{!sn&&kn.return&&kn.return()}finally{if(Dn)throw $r}}})}return He},V=function(ke){var Le=0,Oe=0,Me=0,Ie=0;if(ke.forEach(function(it){it.left?E[k.get(it.left)]-E[k.get(it.right)]>=0?Le++:Oe++:C[k.get(it.top)]-C[k.get(it.bottom)]>=0?Me++:Ie++}),Le>Oe&&Me>Ie)for(var Fe=0;Fe<k.size;Fe++)E[Fe]=-1*E[Fe],C[Fe]=-1*C[Fe];else if(Le>Oe)for(var Ne=0;Ne<k.size;Ne++)E[Ne]=-1*E[Ne];else if(Me>Ie)for(var He=0;He<k.size;He++)C[He]=-1*C[He]},D=function(ke){var Le=[],Oe=new d,Me=new Set,Ie=0;return ke.forEach(function(Fe,Ne){if(!Me.has(Ne)){Le[Ie]=[];var He=Ne;for(Oe.push(He),Me.add(He),Le[Ie].push(He);Oe.length!=0;){He=Oe.shift();var it=ke.get(He);it.forEach(function(lt){Me.has(lt.id)||(Oe.push(lt.id),Me.add(lt.id),Le[Ie].push(lt.id))})}Ie++}}),Le},O=function(ke){var Le=new Map;return ke.forEach(function(Oe,Me){Le.set(Me,[])}),ke.forEach(function(Oe,Me){Oe.forEach(function(Ie){Le.get(Me).push(Ie),Le.get(Ie.id).push({id:Me,gap:Ie.gap,direction:Ie.direction})})}),Le},P=function(ke){var Le=new Map;return ke.forEach(function(Oe,Me){Le.set(Me,[])}),ke.forEach(function(Oe,Me){Oe.forEach(function(Ie){Le.get(Ie.id).push({id:Me,gap:Ie.gap,direction:Ie.direction})})}),Le},$=[],B=[],H=!1,X=!1,q=new Set,Y=new Map,U=new Map,J=[];if(y.fixedNodeConstraint&&y.fixedNodeConstraint.forEach(function(_e){q.add(_e.nodeId)}),y.relativePlacementConstraint&&(y.relativePlacementConstraint.forEach(function(_e){_e.left?(Y.has(_e.left)?Y.get(_e.left).push({id:_e.right,gap:_e.gap,direction:"horizontal"}):Y.set(_e.left,[{id:_e.right,gap:_e.gap,direction:"horizontal"}]),Y.has(_e.right)||Y.set(_e.right,[])):(Y.has(_e.top)?Y.get(_e.top).push({id:_e.bottom,gap:_e.gap,direction:"vertical"}):Y.set(_e.top,[{id:_e.bottom,gap:_e.gap,direction:"vertical"}]),Y.has(_e.bottom)||Y.set(_e.bottom,[]))}),U=O(Y),J=D(U)),f.TRANSFORM_ON_CONSTRAINT_HANDLING){if(y.fixedNodeConstraint&&y.fixedNodeConstraint.length>1)y.fixedNodeConstraint.forEach(function(_e,ke){$[ke]=[_e.position.x,_e.position.y],B[ke]=[E[k.get(_e.nodeId)],C[k.get(_e.nodeId)]]}),H=!0;else if(y.alignmentConstraint)(function(){var _e=0;if(y.alignmentConstraint.vertical){for(var ke=y.alignmentConstraint.vertical,Le=function(He){var it=new Set;ke[He].forEach(function(gt){it.add(gt)});var lt=new Set([].concat(h(it)).filter(function(gt){return q.has(gt)})),ft=void 0;lt.size>0?ft=E[k.get(lt.values().next().value)]:ft=N(it).x,ke[He].forEach(function(gt){$[_e]=[ft,C[k.get(gt)]],B[_e]=[E[k.get(gt)],C[k.get(gt)]],_e++})},Oe=0;Oe<ke.length;Oe++)Le(Oe);H=!0}if(y.alignmentConstraint.horizontal){for(var Me=y.alignmentConstraint.horizontal,Ie=function(He){var it=new Set;Me[He].forEach(function(gt){it.add(gt)});var lt=new Set([].concat(h(it)).filter(function(gt){return q.has(gt)})),ft=void 0;lt.size>0?ft=E[k.get(lt.values().next().value)]:ft=N(it).y,Me[He].forEach(function(gt){$[_e]=[E[k.get(gt)],ft],B[_e]=[E[k.get(gt)],C[k.get(gt)]],_e++})},Fe=0;Fe<Me.length;Fe++)Ie(Fe);H=!0}y.relativePlacementConstraint&&(X=!0)})();else if(y.relativePlacementConstraint){for(var ce=0,re=0,ve=0;ve<J.length;ve++)J[ve].length>ce&&(ce=J[ve].length,re=ve);if(ce<U.size/2)V(y.relativePlacementConstraint),H=!1,X=!1;else{var ye=new Map,Z=new Map,ue=[];J[re].forEach(function(_e){Y.get(_e).forEach(function(ke){ke.direction=="horizontal"?(ye.has(_e)?ye.get(_e).push(ke):ye.set(_e,[ke]),ye.has(ke.id)||ye.set(ke.id,[]),ue.push({left:_e,right:ke.id})):(Z.has(_e)?Z.get(_e).push(ke):Z.set(_e,[ke]),Z.has(ke.id)||Z.set(ke.id,[]),ue.push({top:_e,bottom:ke.id}))})}),V(ue),X=!1;var ae=z(ye,"horizontal"),pe=z(Z,"vertical");J[re].forEach(function(_e,ke){B[ke]=[E[k.get(_e)],C[k.get(_e)]],$[ke]=[],ae.has(_e)?$[ke][0]=ae.get(_e):$[ke][0]=E[k.get(_e)],pe.has(_e)?$[ke][1]=pe.get(_e):$[ke][1]=C[k.get(_e)]}),H=!0}}if(H){for(var Ee=void 0,Se=p.transpose($),de=p.transpose(B),be=0;be<Se.length;be++)Se[be]=p.multGamma(Se[be]),de[be]=p.multGamma(de[be]);var oe=p.multMat(Se,p.transpose(de)),we=v.svd(oe);Ee=p.multMat(we.V,p.transpose(we.U));for(var Re=0;Re<k.size;Re++){var Pe=[E[Re],C[Re]],Ge=[Ee[0][0],Ee[1][0]],je=[Ee[0][1],Ee[1][1]];E[Re]=p.dotProduct(Pe,Ge),C[Re]=p.dotProduct(Pe,je)}X&&V(y.relativePlacementConstraint)}}if(f.ENFORCE_CONSTRAINTS){if(y.fixedNodeConstraint&&y.fixedNodeConstraint.length>0){var We={x:0,y:0};y.fixedNodeConstraint.forEach(function(_e,ke){var Le={x:E[k.get(_e.nodeId)],y:C[k.get(_e.nodeId)]},Oe=_e.position,Me=F(Oe,Le);We.x+=Me.x,We.y+=Me.y}),We.x/=y.fixedNodeConstraint.length,We.y/=y.fixedNodeConstraint.length,E.forEach(function(_e,ke){E[ke]+=We.x}),C.forEach(function(_e,ke){C[ke]+=We.y}),y.fixedNodeConstraint.forEach(function(_e){E[k.get(_e.nodeId)]=_e.position.x,C[k.get(_e.nodeId)]=_e.position.y})}if(y.alignmentConstraint){if(y.alignmentConstraint.vertical)for(var me=y.alignmentConstraint.vertical,Te=function(ke){var Le=new Set;me[ke].forEach(function(Ie){Le.add(Ie)});var Oe=new Set([].concat(h(Le)).filter(function(Ie){return q.has(Ie)})),Me=void 0;Oe.size>0?Me=E[k.get(Oe.values().next().value)]:Me=N(Le).x,Le.forEach(function(Ie){q.has(Ie)||(E[k.get(Ie)]=Me)})},fe=0;fe<me.length;fe++)Te(fe);if(y.alignmentConstraint.horizontal)for(var W=y.alignmentConstraint.horizontal,j=function(ke){var Le=new Set;W[ke].forEach(function(Ie){Le.add(Ie)});var Oe=new Set([].concat(h(Le)).filter(function(Ie){return q.has(Ie)})),Me=void 0;Oe.size>0?Me=C[k.get(Oe.values().next().value)]:Me=N(Le).y,Le.forEach(function(Ie){q.has(Ie)||(C[k.get(Ie)]=Me)})},ie=0;ie<W.length;ie++)j(ie)}y.relativePlacementConstraint&&function(){var _e=new Map,ke=new Map,Le=new Map,Oe=new Map,Me=new Map,Ie=new Map,Fe=new Set,Ne=new Set;if(q.forEach(function(jt){Fe.add(jt),Ne.add(jt)}),y.alignmentConstraint){if(y.alignmentConstraint.vertical)for(var He=y.alignmentConstraint.vertical,it=function(Ce){Le.set("dummy"+Ce,[]),He[Ce].forEach(function(Nr){_e.set(Nr,"dummy"+Ce),Le.get("dummy"+Ce).push(Nr),q.has(Nr)&&Fe.add("dummy"+Ce)}),Me.set("dummy"+Ce,E[k.get(He[Ce][0])])},lt=0;lt<He.length;lt++)it(lt);if(y.alignmentConstraint.horizontal)for(var ft=y.alignmentConstraint.horizontal,gt=function(Ce){Oe.set("dummy"+Ce,[]),ft[Ce].forEach(function(Nr){ke.set(Nr,"dummy"+Ce),Oe.get("dummy"+Ce).push(Nr),q.has(Nr)&&Ne.add("dummy"+Ce)}),Ie.set("dummy"+Ce,C[k.get(ft[Ce][0])])},_t=0;_t<ft.length;_t++)gt(_t)}var ct=new Map,at=new Map,Lt=function(Ce){Y.get(Ce).forEach(function(Nr){var $e=void 0,mn=void 0;Nr.direction=="horizontal"?($e=_e.get(Ce)?_e.get(Ce):Ce,_e.get(Nr.id)?mn={id:_e.get(Nr.id),gap:Nr.gap,direction:Nr.direction}:mn=Nr,ct.has($e)?ct.get($e).push(mn):ct.set($e,[mn]),ct.has(mn.id)||ct.set(mn.id,[])):($e=ke.get(Ce)?ke.get(Ce):Ce,ke.get(Nr.id)?mn={id:ke.get(Nr.id),gap:Nr.gap,direction:Nr.direction}:mn=Nr,at.has($e)?at.get($e).push(mn):at.set($e,[mn]),at.has(mn.id)||at.set(mn.id,[]))})},ut=!0,pt=!1,Zt=void 0;try{for(var xt=Y.keys()[Symbol.iterator](),ht;!(ut=(ht=xt.next()).done);ut=!0){var Mt=ht.value;Lt(Mt)}}catch(jt){pt=!0,Zt=jt}finally{try{!ut&&xt.return&&xt.return()}finally{if(pt)throw Zt}}var nr=O(ct),Yt=O(at),wr=D(nr),Gr=D(Yt),Tr=P(ct),jn=P(at),sn=[],Dn=[];wr.forEach(function(jt,Ce){sn[Ce]=[],jt.forEach(function(Nr){Tr.get(Nr).length==0&&sn[Ce].push(Nr)})}),Gr.forEach(function(jt,Ce){Dn[Ce]=[],jt.forEach(function(Nr){jn.get(Nr).length==0&&Dn[Ce].push(Nr)})});var $r=z(ct,"horizontal",Fe,Me,sn),kn=z(at,"vertical",Ne,Ie,Dn),Ut=function(Ce){Le.get(Ce)?Le.get(Ce).forEach(function(Nr){E[k.get(Nr)]=$r.get(Ce)}):E[k.get(Ce)]=$r.get(Ce)},qe=!0,vt=!1,Vt=void 0;try{for(var yr=$r.keys()[Symbol.iterator](),un;!(qe=(un=yr.next()).done);qe=!0){var Yr=un.value;Ut(Yr)}}catch(jt){vt=!0,Vt=jt}finally{try{!qe&&yr.return&&yr.return()}finally{if(vt)throw Vt}}var Sn=function(Ce){Oe.get(Ce)?Oe.get(Ce).forEach(function(Nr){C[k.get(Nr)]=kn.get(Ce)}):C[k.get(Ce)]=kn.get(Ce)},En=!0,kt=!1,ot=void 0;try{for(var tr=kn.keys()[Symbol.iterator](),St;!(En=(St=tr.next()).done);En=!0){var Yr=St.value;Sn(Yr)}}catch(jt){kt=!0,ot=jt}finally{try{!En&&tr.return&&tr.return()}finally{if(kt)throw ot}}}()}for(var ee=0;ee<L.length;ee++){var le=L[ee];le.getChild()==null&&le.setCenter(E[k.get(le.id)],C[k.get(le.id)])}},o.exports=m},551:o=>{o.exports=r}},i={};function a(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={exports:{}};return n[o](u,u.exports,a),u.exports}var s=a(45);return s})()})}(gA)),gA.exports}(function(t,e){(function(n,i){t.exports=i(Wlt())})(Ll,function(r){return(()=>{var n={658:o=>{o.exports=Object.assign!=null?Object.assign.bind(Object):function(l){for(var u=arguments.length,h=Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return h.forEach(function(d){Object.keys(d).forEach(function(p){return l[p]=d[p]})}),l}},548:(o,l,u)=>{var h=function(){function p(v,m){var x=[],y=!0,w=!1,k=void 0;try{for(var E=v[Symbol.iterator](),C;!(y=(C=E.next()).done)&&(x.push(C.value),!(m&&x.length===m));y=!0);}catch(L){w=!0,k=L}finally{try{!y&&E.return&&E.return()}finally{if(w)throw k}}return x}return function(v,m){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return p(v,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=u(140).layoutBase.LinkedList,d={};d.getTopMostNodes=function(p){for(var v={},m=0;m<p.length;m++)v[p[m].id()]=!0;var x=p.filter(function(y,w){typeof y=="number"&&(y=w);for(var k=y.parent()[0];k!=null;){if(v[k.id()])return!1;k=k.parent()[0]}return!0});return x},d.connectComponents=function(p,v,m,x){var y=new f,w=new Set,k=[],E=void 0,C=void 0,L=void 0,_=!1,I=1,M=[],F=[],N=function(){var V=p.collection();F.push(V);var D=m[0],O=p.collection();O.merge(D).merge(D.descendants().intersection(v)),k.push(D),O.forEach(function(B){y.push(B),w.add(B),V.merge(B)});for(var P=function(){D=y.shift();var H=p.collection();D.neighborhood().nodes().forEach(function(U){v.intersection(D.edgesWith(U)).length>0&&H.merge(U)});for(var X=0;X<H.length;X++){var q=H[X];if(E=m.intersection(q.union(q.ancestors())),E!=null&&!w.has(E[0])){var Y=E.union(E.descendants());Y.forEach(function(U){y.push(U),w.add(U),V.merge(U),m.has(U)&&k.push(U)})}}};y.length!=0;)P();if(V.forEach(function(B){v.intersection(B.connectedEdges()).forEach(function(H){V.has(H.source())&&V.has(H.target())&&V.merge(H)})}),k.length==m.length&&(_=!0),!_||_&&I>1){C=k[0],L=C.connectedEdges().length,k.forEach(function(B){B.connectedEdges().length<L&&(L=B.connectedEdges().length,C=B)}),M.push(C.id());var $=p.collection();$.merge(k[0]),k.forEach(function(B){$.merge(B)}),k=[],m=m.difference($),I++}};do N();while(!_);return x&&M.length>0&&x.set("dummy"+(x.size+1),M),F},d.relocateComponent=function(p,v,m){if(!m.fixedNodeConstraint){var x=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,w=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY;if(m.quality=="draft"){var E=!0,C=!1,L=void 0;try{for(var _=v.nodeIndexes[Symbol.iterator](),I;!(E=(I=_.next()).done);E=!0){var M=I.value,F=h(M,2),N=F[0],z=F[1],V=m.cy.getElementById(N);if(V){var D=V.boundingBox(),O=v.xCoords[z]-D.w/2,P=v.xCoords[z]+D.w/2,$=v.yCoords[z]-D.h/2,B=v.yCoords[z]+D.h/2;O<x&&(x=O),P>y&&(y=P),$<w&&(w=$),B>k&&(k=B)}}}catch(U){C=!0,L=U}finally{try{!E&&_.return&&_.return()}finally{if(C)throw L}}var H=p.x-(y+x)/2,X=p.y-(k+w)/2;v.xCoords=v.xCoords.map(function(U){return U+H}),v.yCoords=v.yCoords.map(function(U){return U+X})}else{Object.keys(v).forEach(function(U){var J=v[U],ce=J.getRect().x,re=J.getRect().x+J.getRect().width,ve=J.getRect().y,ye=J.getRect().y+J.getRect().height;ce<x&&(x=ce),re>y&&(y=re),ve<w&&(w=ve),ye>k&&(k=ye)});var q=p.x-(y+x)/2,Y=p.y-(k+w)/2;Object.keys(v).forEach(function(U){var J=v[U];J.setCenter(J.getCenterX()+q,J.getCenterY()+Y)})}}},d.calcBoundingBox=function(p,v,m,x){for(var y=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,k=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,C=void 0,L=void 0,_=void 0,I=void 0,M=p.descendants().not(":parent"),F=M.length,N=0;N<F;N++){var z=M[N];C=v[x.get(z.id())]-z.width()/2,L=v[x.get(z.id())]+z.width()/2,_=m[x.get(z.id())]-z.height()/2,I=m[x.get(z.id())]+z.height()/2,y>C&&(y=C),w<L&&(w=L),k>_&&(k=_),E<I&&(E=I)}var V={};return V.topLeftX=y,V.topLeftY=k,V.width=w-y,V.height=E-k,V},d.calcParentsWithoutChildren=function(p,v){var m=p.collection();return v.nodes(":parent").forEach(function(x){var y=!1;x.children().forEach(function(w){w.css("display")!="none"&&(y=!0)}),y||m.merge(x)}),m},o.exports=d},816:(o,l,u)=>{var h=u(548),f=u(140).CoSELayout,d=u(140).CoSENode,p=u(140).layoutBase.PointD,v=u(140).layoutBase.DimensionD,m=u(140).layoutBase.LayoutConstants,x=u(140).layoutBase.FDLayoutConstants,y=u(140).CoSEConstants,w=function(E,C){var L=E.cy,_=E.eles,I=_.nodes(),M=_.edges(),F=void 0,N=void 0,z=void 0,V={};E.randomize&&(F=C.nodeIndexes,N=C.xCoords,z=C.yCoords);var D=function(U){return typeof U=="function"},O=function(U,J){return D(U)?U(J):U},P=h.calcParentsWithoutChildren(L,_),$=function Y(U,J,ce,re){for(var ve=J.length,ye=0;ye<ve;ye++){var Z=J[ye],ue=null;Z.intersection(P).length==0&&(ue=Z.children());var ae=void 0,pe=Z.layoutDimensions({nodeDimensionsIncludeLabels:re.nodeDimensionsIncludeLabels});if(Z.outerWidth()!=null&&Z.outerHeight()!=null)if(re.randomize)if(!Z.isParent())ae=U.add(new d(ce.graphManager,new p(N[F.get(Z.id())]-pe.w/2,z[F.get(Z.id())]-pe.h/2),new v(parseFloat(pe.w),parseFloat(pe.h))));else{var Ee=h.calcBoundingBox(Z,N,z,F);Z.intersection(P).length==0?ae=U.add(new d(ce.graphManager,new p(Ee.topLeftX,Ee.topLeftY),new v(Ee.width,Ee.height))):ae=U.add(new d(ce.graphManager,new p(Ee.topLeftX,Ee.topLeftY),new v(parseFloat(pe.w),parseFloat(pe.h))))}else ae=U.add(new d(ce.graphManager,new p(Z.position("x")-pe.w/2,Z.position("y")-pe.h/2),new v(parseFloat(pe.w),parseFloat(pe.h))));else ae=U.add(new d(this.graphManager));if(ae.id=Z.data("id"),ae.nodeRepulsion=O(re.nodeRepulsion,Z),ae.paddingLeft=parseInt(Z.css("padding")),ae.paddingTop=parseInt(Z.css("padding")),ae.paddingRight=parseInt(Z.css("padding")),ae.paddingBottom=parseInt(Z.css("padding")),re.nodeDimensionsIncludeLabels&&(ae.labelWidth=Z.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,ae.labelHeight=Z.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,ae.labelPosVertical=Z.css("text-valign"),ae.labelPosHorizontal=Z.css("text-halign")),V[Z.data("id")]=ae,isNaN(ae.rect.x)&&(ae.rect.x=0),isNaN(ae.rect.y)&&(ae.rect.y=0),ue!=null&&ue.length>0){var Se=void 0;Se=ce.getGraphManager().add(ce.newGraph(),ae),Y(Se,ue,ce,re)}}},B=function(U,J,ce){for(var re=0,ve=0,ye=0;ye<ce.length;ye++){var Z=ce[ye],ue=V[Z.data("source")],ae=V[Z.data("target")];if(ue&&ae&&ue!==ae&&ue.getEdgesBetween(ae).length==0){var pe=J.add(U.newEdge(),ue,ae);pe.id=Z.id(),pe.idealLength=O(E.idealEdgeLength,Z),pe.edgeElasticity=O(E.edgeElasticity,Z),re+=pe.idealLength,ve++}}E.idealEdgeLength!=null&&(ve>0?y.DEFAULT_EDGE_LENGTH=x.DEFAULT_EDGE_LENGTH=re/ve:D(E.idealEdgeLength)?y.DEFAULT_EDGE_LENGTH=x.DEFAULT_EDGE_LENGTH=50:y.DEFAULT_EDGE_LENGTH=x.DEFAULT_EDGE_LENGTH=E.idealEdgeLength,y.MIN_REPULSION_DIST=x.MIN_REPULSION_DIST=x.DEFAULT_EDGE_LENGTH/10,y.DEFAULT_RADIAL_SEPARATION=x.DEFAULT_EDGE_LENGTH)},H=function(U,J){J.fixedNodeConstraint&&(U.constraints.fixedNodeConstraint=J.fixedNodeConstraint),J.alignmentConstraint&&(U.constraints.alignmentConstraint=J.alignmentConstraint),J.relativePlacementConstraint&&(U.constraints.relativePlacementConstraint=J.relativePlacementConstraint)};E.nestingFactor!=null&&(y.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=x.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=E.nestingFactor),E.gravity!=null&&(y.DEFAULT_GRAVITY_STRENGTH=x.DEFAULT_GRAVITY_STRENGTH=E.gravity),E.numIter!=null&&(y.MAX_ITERATIONS=x.MAX_ITERATIONS=E.numIter),E.gravityRange!=null&&(y.DEFAULT_GRAVITY_RANGE_FACTOR=x.DEFAULT_GRAVITY_RANGE_FACTOR=E.gravityRange),E.gravityCompound!=null&&(y.DEFAULT_COMPOUND_GRAVITY_STRENGTH=x.DEFAULT_COMPOUND_GRAVITY_STRENGTH=E.gravityCompound),E.gravityRangeCompound!=null&&(y.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=x.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=E.gravityRangeCompound),E.initialEnergyOnIncremental!=null&&(y.DEFAULT_COOLING_FACTOR_INCREMENTAL=x.DEFAULT_COOLING_FACTOR_INCREMENTAL=E.initialEnergyOnIncremental),E.tilingCompareBy!=null&&(y.TILING_COMPARE_BY=E.tilingCompareBy),E.quality=="proof"?m.QUALITY=2:m.QUALITY=0,y.NODE_DIMENSIONS_INCLUDE_LABELS=x.NODE_DIMENSIONS_INCLUDE_LABELS=m.NODE_DIMENSIONS_INCLUDE_LABELS=E.nodeDimensionsIncludeLabels,y.DEFAULT_INCREMENTAL=x.DEFAULT_INCREMENTAL=m.DEFAULT_INCREMENTAL=!E.randomize,y.ANIMATE=x.ANIMATE=m.ANIMATE=E.animate,y.TILE=E.tile,y.TILING_PADDING_VERTICAL=typeof E.tilingPaddingVertical=="function"?E.tilingPaddingVertical.call():E.tilingPaddingVertical,y.TILING_PADDING_HORIZONTAL=typeof E.tilingPaddingHorizontal=="function"?E.tilingPaddingHorizontal.call():E.tilingPaddingHorizontal,y.DEFAULT_INCREMENTAL=x.DEFAULT_INCREMENTAL=m.DEFAULT_INCREMENTAL=!0,y.PURE_INCREMENTAL=!E.randomize,m.DEFAULT_UNIFORM_LEAF_NODE_SIZES=E.uniformNodeDimensions,E.step=="transformed"&&(y.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,y.ENFORCE_CONSTRAINTS=!1,y.APPLY_LAYOUT=!1),E.step=="enforced"&&(y.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,y.ENFORCE_CONSTRAINTS=!0,y.APPLY_LAYOUT=!1),E.step=="cose"&&(y.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,y.ENFORCE_CONSTRAINTS=!1,y.APPLY_LAYOUT=!0),E.step=="all"&&(E.randomize?y.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:y.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,y.ENFORCE_CONSTRAINTS=!0,y.APPLY_LAYOUT=!0),E.fixedNodeConstraint||E.alignmentConstraint||E.relativePlacementConstraint?y.TREE_REDUCTION_ON_INCREMENTAL=!1:y.TREE_REDUCTION_ON_INCREMENTAL=!0;var X=new f,q=X.newGraphManager();return $(q.addRoot(),h.getTopMostNodes(I),X,E),B(X,q,M),H(X,E),X.runLayout(),V};o.exports={coseLayout:w}},212:(o,l,u)=>{var h=function(){function E(C,L){for(var _=0;_<L.length;_++){var I=L[_];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(C,I.key,I)}}return function(C,L,_){return L&&E(C.prototype,L),_&&E(C,_),C}}();function f(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}var d=u(658),p=u(548),v=u(657),m=v.spectralLayout,x=u(816),y=x.coseLayout,w=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(C){return 4500},idealEdgeLength:function(C){return 50},edgeElasticity:function(C){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),k=function(){function E(C){f(this,E),this.options=d({},w,C)}return h(E,[{key:"run",value:function(){var L=this,_=this.options,I=_.cy,M=_.eles,F=[],N=[],z=void 0,V=[];_.fixedNodeConstraint&&(!Array.isArray(_.fixedNodeConstraint)||_.fixedNodeConstraint.length==0)&&(_.fixedNodeConstraint=void 0),_.alignmentConstraint&&(_.alignmentConstraint.vertical&&(!Array.isArray(_.alignmentConstraint.vertical)||_.alignmentConstraint.vertical.length==0)&&(_.alignmentConstraint.vertical=void 0),_.alignmentConstraint.horizontal&&(!Array.isArray(_.alignmentConstraint.horizontal)||_.alignmentConstraint.horizontal.length==0)&&(_.alignmentConstraint.horizontal=void 0)),_.relativePlacementConstraint&&(!Array.isArray(_.relativePlacementConstraint)||_.relativePlacementConstraint.length==0)&&(_.relativePlacementConstraint=void 0);var D=_.fixedNodeConstraint||_.alignmentConstraint||_.relativePlacementConstraint;D&&(_.tile=!1,_.packComponents=!1);var O=void 0,P=!1;if(I.layoutUtilities&&_.packComponents&&(O=I.layoutUtilities("get"),O||(O=I.layoutUtilities()),P=!0),M.nodes().length>0)if(P){var H=p.getTopMostNodes(_.eles.nodes());if(z=p.connectComponents(I,_.eles,H),z.forEach(function(oe){var we=oe.boundingBox();V.push({x:we.x1+we.w/2,y:we.y1+we.h/2})}),_.randomize&&z.forEach(function(oe){_.eles=oe,F.push(m(_))}),_.quality=="default"||_.quality=="proof"){var X=I.collection();if(_.tile){var q=new Map,Y=[],U=[],J=0,ce={nodeIndexes:q,xCoords:Y,yCoords:U},re=[];if(z.forEach(function(oe,we){oe.edges().length==0&&(oe.nodes().forEach(function(Re,Pe){X.merge(oe.nodes()[Pe]),Re.isParent()||(ce.nodeIndexes.set(oe.nodes()[Pe].id(),J++),ce.xCoords.push(oe.nodes()[0].position().x),ce.yCoords.push(oe.nodes()[0].position().y))}),re.push(we))}),X.length>1){var ve=X.boundingBox();V.push({x:ve.x1+ve.w/2,y:ve.y1+ve.h/2}),z.push(X),F.push(ce);for(var ye=re.length-1;ye>=0;ye--)z.splice(re[ye],1),F.splice(re[ye],1),V.splice(re[ye],1)}}z.forEach(function(oe,we){_.eles=oe,N.push(y(_,F[we])),p.relocateComponent(V[we],N[we],_)})}else z.forEach(function(oe,we){p.relocateComponent(V[we],F[we],_)});var Z=new Set;if(z.length>1){var ue=[],ae=M.filter(function(oe){return oe.css("display")=="none"});z.forEach(function(oe,we){var Re=void 0;if(_.quality=="draft"&&(Re=F[we].nodeIndexes),oe.nodes().not(ae).length>0){var Pe={};Pe.edges=[],Pe.nodes=[];var Ge=void 0;oe.nodes().not(ae).forEach(function(je){if(_.quality=="draft")if(!je.isParent())Ge=Re.get(je.id()),Pe.nodes.push({x:F[we].xCoords[Ge]-je.boundingbox().w/2,y:F[we].yCoords[Ge]-je.boundingbox().h/2,width:je.boundingbox().w,height:je.boundingbox().h});else{var We=p.calcBoundingBox(je,F[we].xCoords,F[we].yCoords,Re);Pe.nodes.push({x:We.topLeftX,y:We.topLeftY,width:We.width,height:We.height})}else N[we][je.id()]&&Pe.nodes.push({x:N[we][je.id()].getLeft(),y:N[we][je.id()].getTop(),width:N[we][je.id()].getWidth(),height:N[we][je.id()].getHeight()})}),oe.edges().forEach(function(je){var We=je.source(),me=je.target();if(We.css("display")!="none"&&me.css("display")!="none")if(_.quality=="draft"){var Te=Re.get(We.id()),fe=Re.get(me.id()),W=[],j=[];if(We.isParent()){var ie=p.calcBoundingBox(We,F[we].xCoords,F[we].yCoords,Re);W.push(ie.topLeftX+ie.width/2),W.push(ie.topLeftY+ie.height/2)}else W.push(F[we].xCoords[Te]),W.push(F[we].yCoords[Te]);if(me.isParent()){var ee=p.calcBoundingBox(me,F[we].xCoords,F[we].yCoords,Re);j.push(ee.topLeftX+ee.width/2),j.push(ee.topLeftY+ee.height/2)}else j.push(F[we].xCoords[fe]),j.push(F[we].yCoords[fe]);Pe.edges.push({startX:W[0],startY:W[1],endX:j[0],endY:j[1]})}else N[we][We.id()]&&N[we][me.id()]&&Pe.edges.push({startX:N[we][We.id()].getCenterX(),startY:N[we][We.id()].getCenterY(),endX:N[we][me.id()].getCenterX(),endY:N[we][me.id()].getCenterY()})}),Pe.nodes.length>0&&(ue.push(Pe),Z.add(we))}});var pe=O.packComponents(ue,_.randomize).shifts;if(_.quality=="draft")F.forEach(function(oe,we){var Re=oe.xCoords.map(function(Ge){return Ge+pe[we].dx}),Pe=oe.yCoords.map(function(Ge){return Ge+pe[we].dy});oe.xCoords=Re,oe.yCoords=Pe});else{var Ee=0;Z.forEach(function(oe){Object.keys(N[oe]).forEach(function(we){var Re=N[oe][we];Re.setCenter(Re.getCenterX()+pe[Ee].dx,Re.getCenterY()+pe[Ee].dy)}),Ee++})}}}else{var $=_.eles.boundingBox();if(V.push({x:$.x1+$.w/2,y:$.y1+$.h/2}),_.randomize){var B=m(_);F.push(B)}_.quality=="default"||_.quality=="proof"?(N.push(y(_,F[0])),p.relocateComponent(V[0],N[0],_)):p.relocateComponent(V[0],F[0],_)}var Se=function(we,Re){if(_.quality=="default"||_.quality=="proof"){typeof we=="number"&&(we=Re);var Pe=void 0,Ge=void 0,je=we.data("id");return N.forEach(function(me){je in me&&(Pe={x:me[je].getRect().getCenterX(),y:me[je].getRect().getCenterY()},Ge=me[je])}),_.nodeDimensionsIncludeLabels&&(Ge.labelWidth&&(Ge.labelPosHorizontal=="left"?Pe.x+=Ge.labelWidth/2:Ge.labelPosHorizontal=="right"&&(Pe.x-=Ge.labelWidth/2)),Ge.labelHeight&&(Ge.labelPosVertical=="top"?Pe.y+=Ge.labelHeight/2:Ge.labelPosVertical=="bottom"&&(Pe.y-=Ge.labelHeight/2))),Pe==null&&(Pe={x:we.position("x"),y:we.position("y")}),{x:Pe.x,y:Pe.y}}else{var We=void 0;return F.forEach(function(me){var Te=me.nodeIndexes.get(we.id());Te!=null&&(We={x:me.xCoords[Te],y:me.yCoords[Te]})}),We==null&&(We={x:we.position("x"),y:we.position("y")}),{x:We.x,y:We.y}}};if(_.quality=="default"||_.quality=="proof"||_.randomize){var de=p.calcParentsWithoutChildren(I,M),be=M.filter(function(oe){return oe.css("display")=="none"});_.eles=M.not(be),M.nodes().not(":parent").not(be).layoutPositions(L,_,Se),de.length>0&&de.forEach(function(oe){oe.position(Se(oe))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),E}();o.exports=k},657:(o,l,u)=>{var h=u(548),f=u(140).layoutBase.Matrix,d=u(140).layoutBase.SVD,p=function(m){var x=m.cy,y=m.eles,w=y.nodes(),k=y.nodes(":parent"),E=new Map,C=new Map,L=new Map,_=[],I=[],M=[],F=[],N=[],z=[],V=[],D=[],O=void 0,P=1e8,$=1e-9,B=m.piTol,H=m.samplingType,X=m.nodeSeparation,q=void 0,Y=function(){for(var ke=0,Le=0,Oe=!1;Le<q;){ke=Math.floor(Math.random()*O),Oe=!1;for(var Me=0;Me<Le;Me++)if(F[Me]==ke){Oe=!0;break}if(!Oe)F[Le]=ke,Le++;else continue}},U=function(ke,Le,Oe){for(var Me=[],Ie=0,Fe=0,Ne=0,He=void 0,it=[],lt=0,ft=1,gt=0;gt<O;gt++)it[gt]=P;for(Me[Fe]=ke,it[ke]=0;Fe>=Ie;){Ne=Me[Ie++];for(var _t=_[Ne],ct=0;ct<_t.length;ct++)He=C.get(_t[ct]),it[He]==P&&(it[He]=it[Ne]+1,Me[++Fe]=He);z[Ne][Le]=it[Ne]*X}if(Oe){for(var at=0;at<O;at++)z[at][Le]<N[at]&&(N[at]=z[at][Le]);for(var Lt=0;Lt<O;Lt++)N[Lt]>lt&&(lt=N[Lt],ft=Lt)}return ft},J=function(ke){var Le=void 0;if(ke){Le=Math.floor(Math.random()*O);for(var Me=0;Me<O;Me++)N[Me]=P;for(var Ie=0;Ie<q;Ie++)F[Ie]=Le,Le=U(Le,Ie,ke)}else{Y();for(var Oe=0;Oe<q;Oe++)U(F[Oe],Oe,ke)}for(var Fe=0;Fe<O;Fe++)for(var Ne=0;Ne<q;Ne++)z[Fe][Ne]*=z[Fe][Ne];for(var He=0;He<q;He++)V[He]=[];for(var it=0;it<q;it++)for(var lt=0;lt<q;lt++)V[it][lt]=z[F[lt]][it]},ce=function(){for(var ke=d.svd(V),Le=ke.S,Oe=ke.U,Me=ke.V,Ie=Le[0]*Le[0]*Le[0],Fe=[],Ne=0;Ne<q;Ne++){Fe[Ne]=[];for(var He=0;He<q;He++)Fe[Ne][He]=0,Ne==He&&(Fe[Ne][He]=Le[Ne]/(Le[Ne]*Le[Ne]+Ie/(Le[Ne]*Le[Ne])))}D=f.multMat(f.multMat(Me,Fe),f.transpose(Oe))},re=function(){for(var ke=void 0,Le=void 0,Oe=[],Me=[],Ie=[],Fe=[],Ne=0;Ne<O;Ne++)Oe[Ne]=Math.random(),Me[Ne]=Math.random();Oe=f.normalize(Oe),Me=f.normalize(Me);for(var He=$,it=$,lt=void 0;;){for(var ft=0;ft<O;ft++)Ie[ft]=Oe[ft];if(Oe=f.multGamma(f.multL(f.multGamma(Ie),z,D)),ke=f.dotProduct(Ie,Oe),Oe=f.normalize(Oe),He=f.dotProduct(Ie,Oe),lt=Math.abs(He/it),lt<=1+B&&lt>=1)break;it=He}for(var gt=0;gt<O;gt++)Ie[gt]=Oe[gt];for(it=$;;){for(var _t=0;_t<O;_t++)Fe[_t]=Me[_t];if(Fe=f.minusOp(Fe,f.multCons(Ie,f.dotProduct(Ie,Fe))),Me=f.multGamma(f.multL(f.multGamma(Fe),z,D)),Le=f.dotProduct(Fe,Me),Me=f.normalize(Me),He=f.dotProduct(Fe,Me),lt=Math.abs(He/it),lt<=1+B&&lt>=1)break;it=He}for(var ct=0;ct<O;ct++)Fe[ct]=Me[ct];I=f.multCons(Ie,Math.sqrt(Math.abs(ke))),M=f.multCons(Fe,Math.sqrt(Math.abs(Le)))};h.connectComponents(x,y,h.getTopMostNodes(w),E),k.forEach(function(_e){h.connectComponents(x,y,h.getTopMostNodes(_e.descendants().intersection(y)),E)});for(var ve=0,ye=0;ye<w.length;ye++)w[ye].isParent()||C.set(w[ye].id(),ve++);var Z=!0,ue=!1,ae=void 0;try{for(var pe=E.keys()[Symbol.iterator](),Ee;!(Z=(Ee=pe.next()).done);Z=!0){var Se=Ee.value;C.set(Se,ve++)}}catch(_e){ue=!0,ae=_e}finally{try{!Z&&pe.return&&pe.return()}finally{if(ue)throw ae}}for(var de=0;de<C.size;de++)_[de]=[];k.forEach(function(_e){for(var ke=_e.children().intersection(y);ke.nodes(":childless").length==0;)ke=ke.nodes()[0].children().intersection(y);var Le=0,Oe=ke.nodes(":childless")[0].connectedEdges().length;ke.nodes(":childless").forEach(function(Me,Ie){Me.connectedEdges().length<Oe&&(Oe=Me.connectedEdges().length,Le=Ie)}),L.set(_e.id(),ke.nodes(":childless")[Le].id())}),w.forEach(function(_e){var ke=void 0;_e.isParent()?ke=C.get(L.get(_e.id())):ke=C.get(_e.id()),_e.neighborhood().nodes().forEach(function(Le){y.intersection(_e.edgesWith(Le)).length>0&&(Le.isParent()?_[ke].push(L.get(Le.id())):_[ke].push(Le.id()))})});var be=function(ke){var Le=C.get(ke),Oe=void 0;E.get(ke).forEach(function(Me){x.getElementById(Me).isParent()?Oe=L.get(Me):Oe=Me,_[Le].push(Oe),_[C.get(Oe)].push(ke)})},oe=!0,we=!1,Re=void 0;try{for(var Pe=E.keys()[Symbol.iterator](),Ge;!(oe=(Ge=Pe.next()).done);oe=!0){var je=Ge.value;be(je)}}catch(_e){we=!0,Re=_e}finally{try{!oe&&Pe.return&&Pe.return()}finally{if(we)throw Re}}O=C.size;var We=void 0;if(O>2){q=O<m.sampleSize?O:m.sampleSize;for(var me=0;me<O;me++)z[me]=[];for(var Te=0;Te<q;Te++)D[Te]=[];return m.quality=="draft"||m.step=="all"?(J(H),ce(),re(),We={nodeIndexes:C,xCoords:I,yCoords:M}):(C.forEach(function(_e,ke){I.push(x.getElementById(ke).position("x")),M.push(x.getElementById(ke).position("y"))}),We={nodeIndexes:C,xCoords:I,yCoords:M}),We}else{var fe=C.keys(),W=x.getElementById(fe.next().value),j=W.position(),ie=W.outerWidth();if(I.push(j.x),M.push(j.y),O==2){var ee=x.getElementById(fe.next().value),le=ee.outerWidth();I.push(j.x+ie/2+le/2+m.idealEdgeLength),M.push(j.y)}return We={nodeIndexes:C,xCoords:I,yCoords:M},We}};o.exports={spectralLayout:p}},579:(o,l,u)=>{var h=u(212),f=function(p){p&&p("layout","fcose",h)};typeof cytoscape<"u"&&f(cytoscape),o.exports=f},140:o=>{o.exports=r}},i={};function a(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={exports:{}};return n[o](u,u.exports,a),u.exports}var s=a(579);return s})()})})(Uhe);var qlt=Uhe.exports;const Ylt=fh(qlt);var Vq={L:"left",R:"right",T:"top",B:"bottom"},Uq={L:S(t=>`${t},${t/2} 0,${t} 0,0`,"L"),R:S(t=>`0,${t/2} ${t},0 ${t},${t}`,"R"),T:S(t=>`0,0 ${t},0 ${t/2},${t}`,"T"),B:S(t=>`${t/2},0 ${t},${t} 0,${t}`,"B")},q3={L:S((t,e)=>t-e+2,"L"),R:S((t,e)=>t-2,"R"),T:S((t,e)=>t-e+2,"T"),B:S((t,e)=>t-2,"B")},Xlt=S(function(t){return Js(t)?t==="L"?"R":"L":t==="T"?"B":"T"},"getOppositeArchitectureDirection"),Gq=S(function(t){const e=t;return e==="L"||e==="R"||e==="T"||e==="B"},"isArchitectureDirection"),Js=S(function(t){const e=t;return e==="L"||e==="R"},"isArchitectureDirectionX"),Xf=S(function(t){const e=t;return e==="T"||e==="B"},"isArchitectureDirectionY"),Ghe=S(function(t,e){const r=Js(t)&&Xf(e),n=Xf(t)&&Js(e);return r||n},"isArchitectureDirectionXY"),jlt=S(function(t){const e=t[0],r=t[1],n=Js(e)&&Xf(r),i=Xf(e)&&Js(r);return n||i},"isArchitecturePairXY"),Klt=S(function(t){return t!=="LL"&&t!=="RR"&&t!=="TT"&&t!=="BB"},"isValidArchitectureDirectionPair"),AD=S(function(t,e){const r=`${t}${e}`;return Klt(r)?r:void 0},"getArchitectureDirectionPair"),Qlt=S(function([t,e],r){const n=r[0],i=r[1];return Js(n)?Xf(i)?[t+(n==="L"?-1:1),e+(i==="T"?1:-1)]:[t+(n==="L"?-1:1),e]:Js(i)?[t+(i==="L"?1:-1),e+(n==="T"?1:-1)]:[t,e+(n==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),Zlt=S(function(t){return t==="LT"||t==="TL"?[1,1]:t==="BL"||t==="LB"?[1,-1]:t==="BR"||t==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),Jlt=S(function(t){return t.type==="service"},"isArchitectureService"),eut=S(function(t){return t.type==="junction"},"isArchitectureJunction"),Whe=S(t=>t.data(),"edgeData"),Eg=S(t=>t.data(),"nodeData"),qhe=An.architecture,Pr=new BN(()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:qhe,dataStructures:void 0,elements:{}})),tut=S(()=>{Pr.reset(),ka()},"clear"),rut=S(function({id:t,icon:e,in:r,title:n,iconText:i}){if(Pr.records.registeredIds[t]!==void 0)throw new Error(`The service id [${t}] is already in use by another ${Pr.records.registeredIds[t]}`);if(r!==void 0){if(t===r)throw new Error(`The service [${t}] cannot be placed within itself`);if(Pr.records.registeredIds[r]===void 0)throw new Error(`The service [${t}]'s parent does not exist. Please make sure the parent is created before this service`);if(Pr.records.registeredIds[r]==="node")throw new Error(`The service [${t}]'s parent is not a group`)}Pr.records.registeredIds[t]="node",Pr.records.nodes[t]={id:t,type:"service",icon:e,iconText:i,title:n,edges:[],in:r}},"addService"),nut=S(()=>Object.values(Pr.records.nodes).filter(Jlt),"getServices"),iut=S(function({id:t,in:e}){Pr.records.registeredIds[t]="node",Pr.records.nodes[t]={id:t,type:"junction",edges:[],in:e}},"addJunction"),aut=S(()=>Object.values(Pr.records.nodes).filter(eut),"getJunctions"),sut=S(()=>Object.values(Pr.records.nodes),"getNodes"),out=S(t=>Pr.records.nodes[t],"getNode"),lut=S(function({id:t,icon:e,in:r,title:n}){if(Pr.records.registeredIds[t]!==void 0)throw new Error(`The group id [${t}] is already in use by another ${Pr.records.registeredIds[t]}`);if(r!==void 0){if(t===r)throw new Error(`The group [${t}] cannot be placed within itself`);if(Pr.records.registeredIds[r]===void 0)throw new Error(`The group [${t}]'s parent does not exist. Please make sure the parent is created before this group`);if(Pr.records.registeredIds[r]==="node")throw new Error(`The group [${t}]'s parent is not a group`)}Pr.records.registeredIds[t]="group",Pr.records.groups[t]={id:t,icon:e,title:n,in:r}},"addGroup"),uut=S(()=>Object.values(Pr.records.groups),"getGroups"),cut=S(function({lhsId:t,rhsId:e,lhsDir:r,rhsDir:n,lhsInto:i,rhsInto:a,lhsGroup:s,rhsGroup:o,title:l}){if(!Gq(r))throw new Error(`Invalid direction given for left hand side of edge ${t}--${e}. Expected (L,R,T,B) got ${r}`);if(!Gq(n))throw new Error(`Invalid direction given for right hand side of edge ${t}--${e}. Expected (L,R,T,B) got ${n}`);if(Pr.records.nodes[t]===void 0&&Pr.records.groups[t]===void 0)throw new Error(`The left-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(Pr.records.nodes[e]===void 0&&Pr.records.groups[t]===void 0)throw new Error(`The right-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);const u=Pr.records.nodes[t].in,h=Pr.records.nodes[e].in;if(s&&u&&h&&u==h)throw new Error(`The left-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(o&&u&&h&&u==h)throw new Error(`The right-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);const f={lhsId:t,lhsDir:r,lhsInto:i,lhsGroup:s,rhsId:e,rhsDir:n,rhsInto:a,rhsGroup:o,title:l};Pr.records.edges.push(f),Pr.records.nodes[t]&&Pr.records.nodes[e]&&(Pr.records.nodes[t].edges.push(Pr.records.edges[Pr.records.edges.length-1]),Pr.records.nodes[e].edges.push(Pr.records.edges[Pr.records.edges.length-1]))},"addEdge"),hut=S(()=>Pr.records.edges,"getEdges"),fut=S(()=>{if(Pr.records.dataStructures===void 0){const t=Object.entries(Pr.records.nodes).reduce((s,[o,l])=>(s[o]=l.edges.reduce((u,h)=>{if(h.lhsId===o){const f=AD(h.lhsDir,h.rhsDir);f&&(u[f]=h.rhsId)}else{const f=AD(h.rhsDir,h.lhsDir);f&&(u[f]=h.lhsId)}return u},{}),s),{}),e=Object.keys(t)[0],r={[e]:1},n=Object.keys(t).reduce((s,o)=>o===e?s:{...s,[o]:1},{}),i=S(s=>{const o={[s]:[0,0]},l=[s];for(;l.length>0;){const u=l.shift();if(u){r[u]=1,delete n[u];const h=t[u],[f,d]=o[u];Object.entries(h).forEach(([p,v])=>{r[v]||(o[v]=Qlt([f,d],p),l.push(v))})}}return o},"BFS"),a=[i(e)];for(;Object.keys(n).length>0;)a.push(i(Object.keys(n)[0]));Pr.records.dataStructures={adjList:t,spatialMaps:a}}return Pr.records.dataStructures},"getDataStructures"),dut=S((t,e)=>{Pr.records.elements[t]=e},"setElementForId"),put=S(t=>Pr.records.elements[t],"getElementById"),US={clear:tut,setDiagramTitle:Us,getDiagramTitle:Xa,setAccTitle:Sa,getAccTitle:Wa,setAccDescription:qa,getAccDescription:Ya,addService:rut,getServices:nut,addJunction:iut,getJunctions:aut,getNodes:sut,getNode:out,addGroup:lut,getGroups:uut,addEdge:cut,getEdges:hut,setElementForId:dut,getElementById:put,getDataStructures:fut};function na(t){const e=Ve().architecture;return e!=null&&e[t]?e[t]:qhe[t]}S(na,"getConfigField");var gut=S((t,e)=>{yb(t,e),t.groups.map(e.addGroup),t.services.map(r=>e.addService({...r,type:"service"})),t.junctions.map(r=>e.addJunction({...r,type:"junction"})),t.edges.map(e.addEdge)},"populateDb"),vut={parse:S(async t=>{const e=await mv("architecture",t);he.debug(e),gut(e,US)},"parse")},mut=S(t=>`
  .edge {
    stroke-width: ${t.archEdgeWidth};
    stroke: ${t.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${t.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${t.archGroupBorderColor};
    stroke-width: ${t.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),yut=mut,Jp=S(t=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${t}</g>`,"wrapIcon"),tx={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:Jp('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:Jp('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:Jp('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:Jp('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:Jp('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:ZQ,blank:{body:Jp("")}}},xut=S(async function(t,e){const r=na("padding"),n=na("iconSize"),i=n/2,a=n/6,s=a/2;await Promise.all(e.edges().map(async o=>{var I,M;const{source:l,sourceDir:u,sourceArrow:h,sourceGroup:f,target:d,targetDir:p,targetArrow:v,targetGroup:m,label:x}=Whe(o);let{x:y,y:w}=o[0].sourceEndpoint();const{x:k,y:E}=o[0].midpoint();let{x:C,y:L}=o[0].targetEndpoint();const _=r+4;if(f&&(Js(u)?y+=u==="L"?-_:_:w+=u==="T"?-_:_+18),m&&(Js(p)?C+=p==="L"?-_:_:L+=p==="T"?-_:_+18),!f&&((I=US.getNode(l))==null?void 0:I.type)==="junction"&&(Js(u)?y+=u==="L"?i:-i:w+=u==="T"?i:-i),!m&&((M=US.getNode(d))==null?void 0:M.type)==="junction"&&(Js(p)?C+=p==="L"?i:-i:L+=p==="T"?i:-i),o[0]._private.rscratch){const F=t.insert("g");if(F.insert("path").attr("d",`M ${y},${w} L ${k},${E} L${C},${L} `).attr("class","edge"),h){const N=Js(u)?q3[u](y,a):y-s,z=Xf(u)?q3[u](w,a):w-s;F.insert("polygon").attr("points",Uq[u](a)).attr("transform",`translate(${N},${z})`).attr("class","arrow")}if(v){const N=Js(p)?q3[p](C,a):C-s,z=Xf(p)?q3[p](L,a):L-s;F.insert("polygon").attr("points",Uq[p](a)).attr("transform",`translate(${N},${z})`).attr("class","arrow")}if(x){const N=Ghe(u,p)?"XY":Js(u)?"X":"Y";let z=0;N==="X"?z=Math.abs(y-C):N==="Y"?z=Math.abs(w-L)/1.5:z=Math.abs(y-C)/2;const V=F.append("g");if(await ec(V,x,{useHtmlLabels:!1,width:z,classes:"architecture-service-label"},Ve()),V.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),N==="X")V.attr("transform","translate("+k+", "+E+")");else if(N==="Y")V.attr("transform","translate("+k+", "+E+") rotate(-90)");else if(N==="XY"){const D=AD(u,p);if(D&&jlt(D)){const O=V.node().getBoundingClientRect(),[P,$]=Zlt(D);V.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*P*$*45})`);const B=V.node().getBoundingClientRect();V.attr("transform",`
                translate(${k}, ${E-O.height/2})
                translate(${P*B.width/2}, ${$*B.height/2})
                rotate(${-1*P*$*45}, 0, ${O.height/2})
              `)}}}}}))},"drawEdges"),but=S(async function(t,e){const n=na("padding")*.75,i=na("fontSize"),s=na("iconSize")/2;await Promise.all(e.nodes().map(async o=>{const l=Eg(o);if(l.type==="group"){const{h:u,w:h,x1:f,y1:d}=o.boundingBox();t.append("rect").attr("x",f+s).attr("y",d+s).attr("width",h).attr("height",u).attr("class","node-bkg");const p=t.append("g");let v=f,m=d;if(l.icon){const x=p.append("g");x.html(`<g>${await g0(l.icon,{height:n,width:n,fallbackPrefix:tx.prefix})}</g>`),x.attr("transform","translate("+(v+s+1)+", "+(m+s+1)+")"),v+=n,m+=i/2-1-2}if(l.label){const x=p.append("g");await ec(x,l.label,{useHtmlLabels:!1,width:h,classes:"architecture-service-label"},Ve()),x.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),x.attr("transform","translate("+(v+s+4)+", "+(m+s+2)+")")}}}))},"drawGroups"),wut=S(async function(t,e,r){for(const n of r){const i=e.append("g"),a=na("iconSize");if(n.title){const u=i.append("g");await ec(u,n.title,{useHtmlLabels:!1,width:a*1.5,classes:"architecture-service-label"},Ve()),u.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),u.attr("transform","translate("+a/2+", "+a+")")}const s=i.append("g");if(n.icon)s.html(`<g>${await g0(n.icon,{height:a,width:a,fallbackPrefix:tx.prefix})}</g>`);else if(n.iconText){s.html(`<g>${await g0("blank",{height:a,width:a,fallbackPrefix:tx.prefix})}</g>`);const f=s.append("g").append("foreignObject").attr("width",a).attr("height",a).append("div").attr("class","node-icon-text").attr("style",`height: ${a}px;`).append("div").html(n.iconText),d=parseInt(window.getComputedStyle(f.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;f.attr("style",`-webkit-line-clamp: ${Math.floor((a-2)/d)};`)}else s.append("path").attr("class","node-bkg").attr("id","node-"+n.id).attr("d",`M0 ${a} v${-a} q0,-5 5,-5 h${a} q5,0 5,5 v${a} H0 Z`);i.attr("class","architecture-service");const{width:o,height:l}=i._groups[0][0].getBBox();n.width=o,n.height=l,t.setElementForId(n.id,i)}return 0},"drawServices"),kut=S(function(t,e,r){r.forEach(n=>{const i=e.append("g"),a=na("iconSize");i.append("g").append("rect").attr("id","node-"+n.id).attr("fill-opacity","0").attr("width",a).attr("height",a),i.attr("class","architecture-junction");const{width:o,height:l}=i._groups[0][0].getBBox();i.width=o,i.height=l,t.setElementForId(n.id,i)})},"drawJunctions");eZ([{name:tx.prefix,icons:tx}]);Qu.use(Ylt);function Yhe(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"service",id:r.id,icon:r.icon,label:r.title,parent:r.in,width:na("iconSize"),height:na("iconSize")},classes:"node-service"})})}S(Yhe,"addServices");function Xhe(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"junction",id:r.id,parent:r.in,width:na("iconSize"),height:na("iconSize")},classes:"node-junction"})})}S(Xhe,"addJunctions");function jhe(t,e){e.nodes().map(r=>{const n=Eg(r);if(n.type==="group")return;n.x=r.position().x,n.y=r.position().y,t.getElementById(n.id).attr("transform","translate("+(n.x||0)+","+(n.y||0)+")")})}S(jhe,"positionNodes");function Khe(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"group",id:r.id,icon:r.icon,label:r.title,parent:r.in},classes:"node-group"})})}S(Khe,"addGroups");function Qhe(t,e){t.forEach(r=>{const{lhsId:n,rhsId:i,lhsInto:a,lhsGroup:s,rhsInto:o,lhsDir:l,rhsDir:u,rhsGroup:h,title:f}=r,d=Ghe(r.lhsDir,r.rhsDir)?"segments":"straight",p={id:`${n}-${i}`,label:f,source:n,sourceDir:l,sourceArrow:a,sourceGroup:s,sourceEndpoint:l==="L"?"0 50%":l==="R"?"100% 50%":l==="T"?"50% 0":"50% 100%",target:i,targetDir:u,targetArrow:o,targetGroup:h,targetEndpoint:u==="L"?"0 50%":u==="R"?"100% 50%":u==="T"?"50% 0":"50% 100%"};e.add({group:"edges",data:p,classes:d})})}S(Qhe,"addEdges");function Zhe(t){const e=t.map(i=>{const a={},s={};return Object.entries(i).forEach(([o,[l,u]])=>{a[u]||(a[u]=[]),s[l]||(s[l]=[]),a[u].push(o),s[l].push(o)}),{horiz:Object.values(a).filter(o=>o.length>1),vert:Object.values(s).filter(o=>o.length>1)}}),[r,n]=e.reduce(([i,a],{horiz:s,vert:o})=>[[...i,...s],[...a,...o]],[[],[]]);return{horizontal:r,vertical:n}}S(Zhe,"getAlignments");function Jhe(t){const e=[],r=S(i=>`${i[0]},${i[1]}`,"posToStr"),n=S(i=>i.split(",").map(a=>parseInt(a)),"strToPos");return t.forEach(i=>{const a=Object.fromEntries(Object.entries(i).map(([u,h])=>[r(h),u])),s=[r([0,0])],o={},l={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;s.length>0;){const u=s.shift();if(u){o[u]=1;const h=a[u];if(h){const f=n(u);Object.entries(l).forEach(([d,p])=>{const v=r([f[0]+p[0],f[1]+p[1]]),m=a[v];m&&!o[v]&&(s.push(v),e.push({[Vq[d]]:m,[Vq[Xlt(d)]]:h,gap:1.5*na("iconSize")}))})}}}}),e}S(Jhe,"getRelativeConstraints");function efe(t,e,r,n,{spatialMaps:i}){return new Promise(a=>{const s=yt("body").append("div").attr("id","cy").attr("style","display:none"),o=Qu({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${na("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${na("padding")}px`}}]});s.remove(),Khe(r,o),Yhe(t,o),Xhe(e,o),Qhe(n,o);const l=Zhe(i),u=Jhe(i),h=o.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(f){const[d,p]=f.connectedNodes(),{parent:v}=Eg(d),{parent:m}=Eg(p);return v===m?1.5*na("iconSize"):.5*na("iconSize")},edgeElasticity(f){const[d,p]=f.connectedNodes(),{parent:v}=Eg(d),{parent:m}=Eg(p);return v===m?.45:.001},alignmentConstraint:l,relativePlacementConstraint:u});h.one("layoutstop",()=>{var d;function f(p,v,m,x){let y,w;const{x:k,y:E}=p,{x:C,y:L}=v;w=(x-E+(k-m)*(E-L)/(k-C))/Math.sqrt(1+Math.pow((E-L)/(k-C),2)),y=Math.sqrt(Math.pow(x-E,2)+Math.pow(m-k,2)-Math.pow(w,2));const _=Math.sqrt(Math.pow(C-k,2)+Math.pow(L-E,2));y=y/_;let I=(C-k)*(x-E)-(L-E)*(m-k);switch(!0){case I>=0:I=1;break;case I<0:I=-1;break}let M=(C-k)*(m-k)+(L-E)*(x-E);switch(!0){case M>=0:M=1;break;case M<0:M=-1;break}return w=Math.abs(w)*I,y=y*M,{distances:w,weights:y}}S(f,"getSegmentWeights"),o.startBatch();for(const p of Object.values(o.edges()))if((d=p.data)!=null&&d.call(p)){const{x:v,y:m}=p.source().position(),{x,y}=p.target().position();if(v!==x&&m!==y){const w=p.sourceEndpoint(),k=p.targetEndpoint(),{sourceDir:E}=Whe(p),[C,L]=Xf(E)?[w.x,k.y]:[k.x,w.y],{weights:_,distances:I}=f(w,k,C,L);p.style("segment-distances",I),p.style("segment-weights",_)}}o.endBatch(),h.run()}),h.run(),o.ready(f=>{he.info("Ready",f),a(o)})})}S(efe,"layoutArchitecture");var Sut=S(async(t,e,r,n)=>{const i=n.db,a=i.getServices(),s=i.getJunctions(),o=i.getGroups(),l=i.getEdges(),u=i.getDataStructures(),h=ap(e),f=h.append("g");f.attr("class","architecture-edges");const d=h.append("g");d.attr("class","architecture-services");const p=h.append("g");p.attr("class","architecture-groups"),await wut(i,d,a),kut(i,d,s);const v=await efe(a,s,o,l,u);await xut(f,v),await but(p,v),jhe(i,v),X1(void 0,h,na("padding"),na("useMaxWidth"))},"draw"),Eut={draw:Sut},Tut={parser:vut,db:US,renderer:Eut,styles:yut};const Cut=Object.freeze(Object.defineProperty({__proto__:null,diagram:Tut},Symbol.toStringTag,{value:"Module"})),Aut=Object.freeze(Object.defineProperty({__proto__:null,InfoModule:qse,createInfoServices:Yse},Symbol.toStringTag,{value:"Module"})),_ut=Object.freeze(Object.defineProperty({__proto__:null,PacketModule:Xse,createPacketServices:jse},Symbol.toStringTag,{value:"Module"})),Lut=Object.freeze(Object.defineProperty({__proto__:null,PieModule:Kse,createPieServices:Qse},Symbol.toStringTag,{value:"Module"})),Dut=Object.freeze(Object.defineProperty({__proto__:null,ArchitectureModule:Zse,createArchitectureServices:Jse},Symbol.toStringTag,{value:"Module"})),Rut=Object.freeze(Object.defineProperty({__proto__:null,GitGraphModule:Gse,createGitGraphServices:Wse},Symbol.toStringTag,{value:"Module"}))});export default Mut();

</script>
  <style>
html{width:100%;height:100%;margin:0;padding:0}body{width:100%;height:100%;margin:0;padding:0;-moz-osx-font-smoothing:grayscale}#root{width:100%;height:100%}.page-content-root{display:flex;height:100%;flex-direction:column;justify-content:flex-start;overflow:auto}.ellipsis-ex{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}input:-moz-read-only,textarea:-moz-read-only{background-color:transparent}input:read-only,textarea:read-only{background-color:transparent}.border-color-0{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity))}:is(.dark .border-color-0){--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity))}.border-color-1{--tw-border-opacity: 1;border-color:rgb(250 250 250 / var(--tw-border-opacity))}:is(.dark .border-color-1){--tw-border-opacity: 1;border-color:rgb(10 10 10 / var(--tw-border-opacity))}.border-color-2{--tw-border-opacity: 1;border-color:rgb(245 245 245 / var(--tw-border-opacity))}:is(.dark .border-color-2){--tw-border-opacity: 1;border-color:rgb(23 23 23 / var(--tw-border-opacity))}.border-color-3{--tw-border-opacity: 1;border-color:rgb(229 229 229 / var(--tw-border-opacity))}:is(.dark .border-color-3){--tw-border-opacity: 1;border-color:rgb(38 38 38 / var(--tw-border-opacity))}.border-color-4{--tw-border-opacity: 1;border-color:rgb(212 212 212 / var(--tw-border-opacity))}:is(.dark .border-color-4){--tw-border-opacity: 1;border-color:rgb(64 64 64 / var(--tw-border-opacity))}.border-color-5{--tw-border-opacity: 1;border-color:rgb(163 163 163 / var(--tw-border-opacity))}:is(.dark .border-color-5){--tw-border-opacity: 1;border-color:rgb(82 82 82 / var(--tw-border-opacity))}.border-color-6{--tw-border-opacity: 1;border-color:rgb(115 115 115 / var(--tw-border-opacity))}:is(.dark .border-color-6){--tw-border-opacity: 1;border-color:rgb(115 115 115 / var(--tw-border-opacity))}.border-color-7{--tw-border-opacity: 1;border-color:rgb(82 82 82 / var(--tw-border-opacity))}:is(.dark .border-color-7){--tw-border-opacity: 1;border-color:rgb(163 163 163 / var(--tw-border-opacity))}.border-color-8{--tw-border-opacity: 1;border-color:rgb(64 64 64 / var(--tw-border-opacity))}:is(.dark .border-color-8){--tw-border-opacity: 1;border-color:rgb(212 212 212 / var(--tw-border-opacity))}.border-color-9{--tw-border-opacity: 1;border-color:rgb(38 38 38 / var(--tw-border-opacity))}:is(.dark .border-color-9){--tw-border-opacity: 1;border-color:rgb(229 229 229 / var(--tw-border-opacity))}.border-color-10{--tw-border-opacity: 1;border-color:rgb(23 23 23 / var(--tw-border-opacity))}:is(.dark .border-color-10){--tw-border-opacity: 1;border-color:rgb(245 245 245 / var(--tw-border-opacity))}.border-color-11{--tw-border-opacity: 1;border-color:rgb(10 10 10 / var(--tw-border-opacity))}:is(.dark .border-color-11){--tw-border-opacity: 1;border-color:rgb(250 250 250 / var(--tw-border-opacity))}.border-color-12{--tw-border-opacity: 1;border-color:rgb(0 0 0 / var(--tw-border-opacity))}:is(.dark .border-color-12){--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity))}.text-color-0{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .text-color-0){--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-color-1{--tw-text-opacity: 1;color:rgb(250 250 250 / var(--tw-text-opacity))}:is(.dark .text-color-1){--tw-text-opacity: 1;color:rgb(10 10 10 / var(--tw-text-opacity))}.text-color-2{--tw-text-opacity: 1;color:rgb(245 245 245 / var(--tw-text-opacity))}:is(.dark .text-color-2){--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity))}.text-color-3{--tw-text-opacity: 1;color:rgb(229 229 229 / var(--tw-text-opacity))}:is(.dark .text-color-3){--tw-text-opacity: 1;color:rgb(38 38 38 / var(--tw-text-opacity))}.text-color-4{--tw-text-opacity: 1;color:rgb(212 212 212 / var(--tw-text-opacity))}:is(.dark .text-color-4){--tw-text-opacity: 1;color:rgb(64 64 64 / var(--tw-text-opacity))}.text-color-5{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity))}:is(.dark .text-color-5){--tw-text-opacity: 1;color:rgb(82 82 82 / var(--tw-text-opacity))}.text-color-6{--tw-text-opacity: 1;color:rgb(115 115 115 / var(--tw-text-opacity))}:is(.dark .text-color-6){--tw-text-opacity: 1;color:rgb(115 115 115 / var(--tw-text-opacity))}.text-color-7{--tw-text-opacity: 1;color:rgb(82 82 82 / var(--tw-text-opacity))}:is(.dark .text-color-7){--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity))}.text-color-8{--tw-text-opacity: 1;color:rgb(64 64 64 / var(--tw-text-opacity))}:is(.dark .text-color-8){--tw-text-opacity: 1;color:rgb(212 212 212 / var(--tw-text-opacity))}.text-color-9{--tw-text-opacity: 1;color:rgb(38 38 38 / var(--tw-text-opacity))}:is(.dark .text-color-9){--tw-text-opacity: 1;color:rgb(229 229 229 / var(--tw-text-opacity))}.text-color-10{--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity))}:is(.dark .text-color-10){--tw-text-opacity: 1;color:rgb(245 245 245 / var(--tw-text-opacity))}.text-color-11{--tw-text-opacity: 1;color:rgb(10 10 10 / var(--tw-text-opacity))}:is(.dark .text-color-11){--tw-text-opacity: 1;color:rgb(250 250 250 / var(--tw-text-opacity))}.text-color-12{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}:is(.dark .text-color-12){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.bg-color-0{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}:is(.dark .bg-color-0){--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.bg-color-1{--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity))}:is(.dark .bg-color-1){--tw-bg-opacity: 1;background-color:rgb(10 10 10 / var(--tw-bg-opacity))}.bg-color-2{--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity))}:is(.dark .bg-color-2){--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity))}.bg-color-3{--tw-bg-opacity: 1;background-color:rgb(229 229 229 / var(--tw-bg-opacity))}:is(.dark .bg-color-3){--tw-bg-opacity: 1;background-color:rgb(38 38 38 / var(--tw-bg-opacity))}.bg-color-4{--tw-bg-opacity: 1;background-color:rgb(212 212 212 / var(--tw-bg-opacity))}:is(.dark .bg-color-4){--tw-bg-opacity: 1;background-color:rgb(64 64 64 / var(--tw-bg-opacity))}.bg-color-5{--tw-bg-opacity: 1;background-color:rgb(163 163 163 / var(--tw-bg-opacity))}:is(.dark .bg-color-5){--tw-bg-opacity: 1;background-color:rgb(82 82 82 / var(--tw-bg-opacity))}.bg-color-6{--tw-bg-opacity: 1;background-color:rgb(115 115 115 / var(--tw-bg-opacity))}:is(.dark .bg-color-6){--tw-bg-opacity: 1;background-color:rgb(115 115 115 / var(--tw-bg-opacity))}.bg-color-7{--tw-bg-opacity: 1;background-color:rgb(82 82 82 / var(--tw-bg-opacity))}:is(.dark .bg-color-7){--tw-bg-opacity: 1;background-color:rgb(163 163 163 / var(--tw-bg-opacity))}.bg-color-8{--tw-bg-opacity: 1;background-color:rgb(64 64 64 / var(--tw-bg-opacity))}:is(.dark .bg-color-8){--tw-bg-opacity: 1;background-color:rgb(212 212 212 / var(--tw-bg-opacity))}.bg-color-9{--tw-bg-opacity: 1;background-color:rgb(38 38 38 / var(--tw-bg-opacity))}:is(.dark .bg-color-9){--tw-bg-opacity: 1;background-color:rgb(229 229 229 / var(--tw-bg-opacity))}.bg-color-10{--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity))}:is(.dark .bg-color-10){--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity))}.bg-color-11{--tw-bg-opacity: 1;background-color:rgb(10 10 10 / var(--tw-bg-opacity))}:is(.dark .bg-color-11){--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity))}.bg-color-12{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}:is(.dark .bg-color-12){--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-color-base{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}:is(.dark .bg-color-base){--tw-bg-opacity: 1;background-color:rgb(38 38 38 / var(--tw-bg-opacity))}.bg-color-ridge{--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity))}:is(.dark .bg-color-ridge){--tw-bg-opacity: 1;background-color:rgb(51 51 51 / var(--tw-bg-opacity))}.bg-color-gutter{--tw-bg-opacity: 1;background-color:rgb(229 229 229 / var(--tw-bg-opacity))}:is(.dark .bg-color-gutter){--tw-bg-opacity: 1;background-color:rgb(10 10 10 / var(--tw-bg-opacity))}.button-style-fill,button[type=button].button-style-fill,button[type=submit].button-style-fill,button[type=reset].button-style-fill{--tw-bg-opacity: 1;background-color:rgb(14 116 144 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(236 254 255 / var(--tw-text-opacity))}:is(.dark .button-style-fill),:is(.dark button[type=button].button-style-fill),:is(.dark button[type=submit].button-style-fill),:is(.dark button[type=reset].button-style-fill){--tw-bg-opacity: 1;background-color:rgb(103 232 249 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(8 51 68 / var(--tw-text-opacity))}.button-style-fill-loading,button[type=button].button-style-fill-loading,button[type=submit].button-style-fill-loading,button[type=reset].button-style-fill-loading{--tw-bg-opacity: 1;background-color:rgb(165 243 252 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(236 254 255 / var(--tw-text-opacity))}:is(.dark .button-style-fill-loading),:is(.dark button[type=button].button-style-fill-loading),:is(.dark button[type=submit].button-style-fill-loading),:is(.dark button[type=reset].button-style-fill-loading){--tw-bg-opacity: 1;background-color:rgb(14 116 144 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(8 51 68 / var(--tw-text-opacity))}.button-style-outline,button[type=button].button-style-outline,button[type=submit].button-style-outline,button[type=reset].button-style-outline{border-width:1px;--tw-border-opacity: 1;border-color:rgb(8 145 178 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(8 145 178 / var(--tw-text-opacity))}:is(.dark .button-style-outline),:is(.dark button[type=button].button-style-outline),:is(.dark button[type=submit].button-style-outline),:is(.dark button[type=reset].button-style-outline){--tw-border-opacity: 1;border-color:rgb(103 232 249 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(103 232 249 / var(--tw-text-opacity))}.button-style-outline-loading,button[type=button].button-style-outline-loading,button[type=submit].button-style-outline-loading,button[type=reset].button-style-outline-loading{border-width:1px;--tw-border-opacity: 1;border-color:rgb(165 243 252 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(165 243 252 / var(--tw-text-opacity))}:is(.dark .button-style-outline-loading),:is(.dark button[type=button].button-style-outline-loading),:is(.dark button[type=submit].button-style-outline-loading),:is(.dark button[type=reset].button-style-outline-loading){--tw-border-opacity: 1;border-color:rgb(103 232 249 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(103 232 249 / var(--tw-text-opacity))}.button-style-link,button[type=button].button-style-link,button[type=submit].button-style-link,button[type=reset].button-style-link{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(8 145 178 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(8 145 178 / var(--tw-text-opacity))}.button-style-link-loading,button[type=button].button-style-link-loading,button[type=submit].button-style-link-loading,button[type=reset].button-style-link-loading{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(103 232 249 / var(--tw-border-opacity));--tw-text-opacity: 1;color:rgb(103 232 249 / var(--tw-text-opacity))}.button-style-text,button[type=button].button-style-link,button[type=submit].button-style-link,button[type=reset].button-style-link{--tw-text-opacity: 1;color:rgb(8 145 178 / var(--tw-text-opacity))}:is(.dark .button-style-text),:is(.dark button[type=button].button-style-link),:is(.dark button[type=submit].button-style-link),:is(.dark button[type=reset].button-style-link){--tw-text-opacity: 1;color:rgb(103 232 249 / var(--tw-text-opacity))}.button-style-text-loading,button[type=button].button-style-link-loading,button[type=submit].button-style-link-loading,button[type=reset].button-style-link-loading{--tw-text-opacity: 1;color:rgb(103 232 249 / var(--tw-text-opacity))}:is(.dark .button-style-text-loading),:is(.dark button[type=button].button-style-link-loading),:is(.dark button[type=submit].button-style-link-loading),:is(.dark button[type=reset].button-style-link-loading){--tw-text-opacity: 1;color:rgb(103 232 249 / var(--tw-text-opacity))}.text-color-link{--tw-text-opacity: 1;color:rgb(2 132 199 / var(--tw-text-opacity));text-decoration-line:underline}:is(.dark .text-color-link){--tw-text-opacity: 1;color:rgb(125 211 252 / var(--tw-text-opacity))}.text-color-error{--tw-text-opacity: 1;color:rgb(225 29 72 / var(--tw-text-opacity))}:is(.dark .text-color-error){--tw-text-opacity: 1;color:rgb(253 164 175 / var(--tw-text-opacity))}.bg-color-selected{background-color:rgb(14 165 233 / var(--tw-bg-opacity));--tw-bg-opacity: .25}.bg-color-selected-svg{fill:#000;opacity:.25}:is(.dark .bg-color-selected-svg){fill:#fff}.border-vform{box-shadow:0 0 0 1px #d4d4d4}.dark .border-vform{box-shadow:0 0 0 1px #404040}.EasyMDEContainer .CodeMirror{padding:0}.dark .EasyMDEContainer .CodeMirror{filter:invert(1)}/**
* easymde v2.18.0
* Copyright Jeroen Akkerman
* @link https://github.com/ionaru/easy-markdown-editor
* @license MIT
*/.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:0 0}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:0 0}.cm-fat-cursor{caret-color:transparent}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:0;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none;outline:0}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:0 0!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{border-radius:0;border-width:0;background:0 0;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-code{outline:0}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:0 0}.EasyMDEContainer{display:block}.CodeMirror-rtl pre{direction:rtl}.EasyMDEContainer.sided--no-fullscreen{display:flex;flex-direction:row;flex-wrap:wrap}.EasyMDEContainer .CodeMirror{box-sizing:border-box;height:auto;border:1px solid #ced4da;border-bottom-left-radius:4px;border-bottom-right-radius:4px;padding:10px;font:inherit;z-index:0;word-wrap:break-word}.EasyMDEContainer .CodeMirror-scroll{cursor:text}.EasyMDEContainer .CodeMirror-fullscreen{background:#fff;position:fixed!important;top:50px;left:0;right:0;bottom:0;height:auto;z-index:8;border-right:none!important;border-bottom-right-radius:0!important}.EasyMDEContainer .CodeMirror-sided{width:50%!important}.EasyMDEContainer.sided--no-fullscreen .CodeMirror-sided{border-right:none!important;border-bottom-right-radius:0;position:relative;flex:1 1 auto}.EasyMDEContainer .CodeMirror-placeholder{opacity:.5}.EasyMDEContainer .CodeMirror-focused .CodeMirror-selected{background:#d9d9d9}.editor-toolbar{position:relative;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none;padding:9px 10px;border-top:1px solid #ced4da;border-left:1px solid #ced4da;border-right:1px solid #ced4da;border-top-left-radius:4px;border-top-right-radius:4px}.editor-toolbar.fullscreen{width:100%;height:50px;padding-top:10px;padding-bottom:10px;box-sizing:border-box;background:#fff;border:0;position:fixed;top:0;left:0;opacity:1;z-index:9}.editor-toolbar.fullscreen:before{width:20px;height:50px;background:linear-gradient(to right,#fff 0,rgba(255,255,255,0) 100%);position:fixed;top:0;left:0;margin:0;padding:0}.editor-toolbar.fullscreen:after{width:20px;height:50px;background:linear-gradient(to right,rgba(255,255,255,0) 0,#fff 100%);position:fixed;top:0;right:0;margin:0;padding:0}.EasyMDEContainer.sided--no-fullscreen .editor-toolbar{width:100%}.editor-toolbar .easymde-dropdown,.editor-toolbar button{background:0 0;display:inline-block;text-align:center;text-decoration:none!important;height:30px;margin:0;padding:0;border:1px solid transparent;border-radius:3px;cursor:pointer}.editor-toolbar button{font-weight:700;min-width:30px;padding:0 6px;white-space:nowrap}.editor-toolbar button.active,.editor-toolbar button:hover{background:#fcfcfc;border-color:#95a5a6}.editor-toolbar i.separator{display:inline-block;width:0;border-left:1px solid #d9d9d9;border-right:1px solid #fff;color:transparent;text-indent:-10px;margin:0 6px}.editor-toolbar button:after{font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:65%;vertical-align:text-bottom;position:relative;top:2px}.editor-toolbar button.heading-1:after{content:"1"}.editor-toolbar button.heading-2:after{content:"2"}.editor-toolbar button.heading-3:after{content:"3"}.editor-toolbar button.heading-bigger:after{content:"▲"}.editor-toolbar button.heading-smaller:after{content:"▼"}.editor-toolbar.disabled-for-preview button:not(.no-disable){opacity:.6;pointer-events:none}@media only screen and (max-width:700px){.editor-toolbar i.no-mobile{display:none}}.editor-statusbar{padding:8px 10px;font-size:12px;color:#959694;text-align:right}.EasyMDEContainer.sided--no-fullscreen .editor-statusbar{width:100%}.editor-statusbar span{display:inline-block;min-width:4em;margin-left:1em}.editor-statusbar .lines:before{content:"lines: "}.editor-statusbar .words:before{content:"words: "}.editor-statusbar .characters:before{content:"characters: "}.editor-preview-full{position:absolute;width:100%;height:100%;top:0;left:0;z-index:7;overflow:auto;display:none;box-sizing:border-box}.editor-preview-side{position:fixed;bottom:0;width:50%;top:50px;right:0;z-index:9;overflow:auto;display:none;box-sizing:border-box;border:1px solid #ddd;word-wrap:break-word}.editor-preview-active-side{display:block}.EasyMDEContainer.sided--no-fullscreen .editor-preview-active-side{flex:1 1 auto;height:auto;position:static}.editor-preview-active{display:block}.editor-preview{padding:10px;background:#fafafa}.editor-preview>p{margin-top:0}.editor-preview pre{background:#eee;margin-bottom:10px}.editor-preview table td,.editor-preview table th{border:1px solid #ddd;padding:5px}.cm-s-easymde .cm-tag{color:#63a35c}.cm-s-easymde .cm-attribute{color:#795da3}.cm-s-easymde .cm-string{color:#183691}.cm-s-easymde .cm-header-1{font-size:calc(1.375rem + 1.5vw)}.cm-s-easymde .cm-header-2{font-size:calc(1.325rem + .9vw)}.cm-s-easymde .cm-header-3{font-size:calc(1.3rem + .6vw)}.cm-s-easymde .cm-header-4{font-size:calc(1.275rem + .3vw)}.cm-s-easymde .cm-header-5{font-size:1.25rem}.cm-s-easymde .cm-header-6{font-size:1rem}.cm-s-easymde .cm-header-1,.cm-s-easymde .cm-header-2,.cm-s-easymde .cm-header-3,.cm-s-easymde .cm-header-4,.cm-s-easymde .cm-header-5,.cm-s-easymde .cm-header-6{margin-bottom:.5rem;line-height:1.2}.cm-s-easymde .cm-comment{background:rgba(0,0,0,.05);border-radius:2px}.cm-s-easymde .cm-link{color:#7f8c8d}.cm-s-easymde .cm-url{color:#aab2b3}.cm-s-easymde .cm-quote{color:#7f8c8d;font-style:italic}.editor-toolbar .easymde-dropdown{position:relative;background:linear-gradient(to bottom right,#fff 0,#fff 84%,#333 50%,#333 100%);border-radius:0;border:1px solid #fff}.editor-toolbar .easymde-dropdown:hover{background:linear-gradient(to bottom right,#fff 0,#fff 84%,#333 50%,#333 100%)}.easymde-dropdown-content{display:block;visibility:hidden;position:absolute;background-color:#f9f9f9;box-shadow:0 8px 16px #0003;padding:8px;z-index:2;top:30px}.easymde-dropdown:active .easymde-dropdown-content,.easymde-dropdown:focus .easymde-dropdown-content,.easymde-dropdown:focus-within .easymde-dropdown-content{visibility:visible}.easymde-dropdown-content button{display:block}span[data-img-src]:after{content:"";background-image:var(--bg-image);display:block;max-height:100%;max-width:100%;background-size:contain;height:0;padding-top:var(--height);width:var(--width);background-repeat:no-repeat}.CodeMirror .cm-spell-error:not(.cm-url):not(.cm-comment):not(.cm-tag):not(.cm-word){background:rgba(255,0,0,.15)}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.inset-12{top:3rem;right:3rem;bottom:3rem;left:3rem}.bottom-0{bottom:0}.bottom-12{bottom:3rem}.left-0{left:0}.left-4{left:1rem}.right-0{right:0}.top-0{top:0}.z-0{z-index:0}.z-10{z-index:10}.z-\[300\]{z-index:300}.col-\[1\/-1\]{grid-column:1/-1}.col-\[1\/1\]{grid-column:1/1}.col-\[2\/-1\]{grid-column:2/-1}.col-span-2{grid-column:span 2 / span 2}.col-span-full{grid-column:1 / -1}.m-1{margin:.25rem}.m-auto{margin:auto}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-px{margin-left:1px;margin-right:1px}.my-px{margin-top:1px;margin-bottom:1px}.ml-1{margin-left:.25rem}.ml-\[2rem\]{margin-left:2rem}.mr-1{margin-right:.25rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.contents{display:contents}.hidden{display:none}.h-2{height:.5rem}.h-24{height:6rem}.h-3{height:.75rem}.h-4{height:1rem}.h-6{height:1.5rem}.h-\[calc\(100\%-4rem\)\]{height:calc(100% - 4rem)}.h-auto{height:auto}.h-full{height:100%}.max-h-36{max-height:9rem}.max-h-64{max-height:16rem}.min-h-0{min-height:0px}.w-1{width:.25rem}.w-2{width:.5rem}.w-3{width:.75rem}.w-4{width:1rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-\[2rem\]{width:2rem}.w-auto{width:auto}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-full{min-width:100%}.max-w-full{max-width:100%}.max-w-min{max-width:-moz-min-content;max-width:min-content}.flex-1{flex:1 1 0%}.flex-none{flex:none}.basis-1{flex-basis:.25rem}.basis-10{flex-basis:2.5rem}.basis-2{flex-basis:.5rem}.basis-32{flex-basis:8rem}.border-separate{border-collapse:separate}.border-spacing-0{--tw-border-spacing-x: 0px;--tw-border-spacing-y: 0px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y)}.translate-x-\[calc\(-100\%-1rem\)\]{--tw-translate-x:calc(-100% - 1rem);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-\[-45deg\]{--tw-rotate: -45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes slideIn{0%{transform:translate(-100%)}to{transform:translate(0)}}.animate-slideIn{animation:slideIn .2s ease-out}@keyframes slideOut{0%{transform:translate(0)}to{transform:translate(-100%)}}.animate-slideOut{animation:slideOut .2s ease-out}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-default{cursor:default}.cursor-ew-resize{cursor:ew-resize}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-cols-\[18rem\,1fr\]{grid-template-columns:18rem 1fr}.grid-cols-\[subgrid\]{grid-template-columns:subgrid}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.gap-1{gap:.25rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.gap-px{gap:1px}.gap-x-1{-moz-column-gap:.25rem;column-gap:.25rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.gap-y-1{row-gap:.25rem}.gap-y-px{row-gap:1px}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.self-end{align-self:flex-end}.self-stretch{align-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-scroll{overflow-y:scroll}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.rounded-\[50\%\]{border-radius:50%}.rounded-full{border-radius:9999px}.rounded-md{border-radius:.375rem}.rounded-sm{border-radius:.125rem}.border{border-width:1px}.border-2{border-width:2px}.border-4{border-width:4px}.border-\[3px\]{border-width:3px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-t-2{border-top-width:2px}.border-amber-200{--tw-border-opacity: 1;border-color:rgb(253 230 138 / var(--tw-border-opacity))}.border-amber-500{--tw-border-opacity: 1;border-color:rgb(245 158 11 / var(--tw-border-opacity))}.border-amber-900{--tw-border-opacity: 1;border-color:rgb(120 53 15 / var(--tw-border-opacity))}.border-rose-200{--tw-border-opacity: 1;border-color:rgb(254 205 211 / var(--tw-border-opacity))}.border-rose-500{--tw-border-opacity: 1;border-color:rgb(244 63 94 / var(--tw-border-opacity))}.border-rose-900{--tw-border-opacity: 1;border-color:rgb(136 19 55 / var(--tw-border-opacity))}.border-sky-200{--tw-border-opacity: 1;border-color:rgb(186 230 253 / var(--tw-border-opacity))}.border-sky-300{--tw-border-opacity: 1;border-color:rgb(125 211 252 / var(--tw-border-opacity))}.border-sky-50{--tw-border-opacity: 1;border-color:rgb(240 249 255 / var(--tw-border-opacity))}.border-sky-500{--tw-border-opacity: 1;border-color:rgb(14 165 233 / var(--tw-border-opacity))}.border-sky-600{--tw-border-opacity: 1;border-color:rgb(2 132 199 / var(--tw-border-opacity))}.border-sky-900{--tw-border-opacity: 1;border-color:rgb(12 74 110 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.border-t-transparent{border-top-color:transparent}.bg-amber-100{--tw-bg-opacity: 1;background-color:rgb(254 243 199 / var(--tw-bg-opacity))}.bg-amber-200{--tw-bg-opacity: 1;background-color:rgb(253 230 138 / var(--tw-bg-opacity))}.bg-amber-800{--tw-bg-opacity: 1;background-color:rgb(146 64 14 / var(--tw-bg-opacity))}.bg-emerald-500{--tw-bg-opacity: 1;background-color:rgb(16 185 129 / var(--tw-bg-opacity))}.bg-orange-100{--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity))}.bg-rose-100{--tw-bg-opacity: 1;background-color:rgb(255 228 230 / var(--tw-bg-opacity))}.bg-rose-200{--tw-bg-opacity: 1;background-color:rgb(254 205 211 / var(--tw-bg-opacity))}.bg-rose-500{--tw-bg-opacity: 1;background-color:rgb(244 63 94 / var(--tw-bg-opacity))}.bg-rose-800{--tw-bg-opacity: 1;background-color:rgb(159 18 57 / var(--tw-bg-opacity))}.bg-rose-900{--tw-bg-opacity: 1;background-color:rgb(136 19 55 / var(--tw-bg-opacity))}.bg-sky-100{--tw-bg-opacity: 1;background-color:rgb(224 242 254 / var(--tw-bg-opacity))}.bg-sky-200{--tw-bg-opacity: 1;background-color:rgb(186 230 253 / var(--tw-bg-opacity))}.bg-sky-500{--tw-bg-opacity: 1;background-color:rgb(14 165 233 / var(--tw-bg-opacity))}.bg-sky-800{--tw-bg-opacity: 1;background-color:rgb(7 89 133 / var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.p-0{padding:0}.p-1{padding:.25rem}.p-px{padding:1px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-px{padding-top:1px;padding-bottom:1px}.pr-1{padding-right:.25rem}.pr-2{padding-right:.5rem}.pt-1{padding-top:.25rem}.text-right{text-align:right}.text-start{text-align:start}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.leading-none{line-height:1}.leading-tight{line-height:1.25}.text-amber-200{--tw-text-opacity: 1;color:rgb(253 230 138 / var(--tw-text-opacity))}.text-amber-50{--tw-text-opacity: 1;color:rgb(255 251 235 / var(--tw-text-opacity))}.text-amber-700{--tw-text-opacity: 1;color:rgb(180 83 9 / var(--tw-text-opacity))}.text-amber-900{--tw-text-opacity: 1;color:rgb(120 53 15 / var(--tw-text-opacity))}.text-emerald-500{--tw-text-opacity: 1;color:rgb(16 185 129 / var(--tw-text-opacity))}.text-orange-600{--tw-text-opacity: 1;color:rgb(234 88 12 / var(--tw-text-opacity))}.text-rose-200{--tw-text-opacity: 1;color:rgb(254 205 211 / var(--tw-text-opacity))}.text-rose-50{--tw-text-opacity: 1;color:rgb(255 241 242 / var(--tw-text-opacity))}.text-rose-500{--tw-text-opacity: 1;color:rgb(244 63 94 / var(--tw-text-opacity))}.text-rose-600{--tw-text-opacity: 1;color:rgb(225 29 72 / var(--tw-text-opacity))}.text-rose-900{--tw-text-opacity: 1;color:rgb(136 19 55 / var(--tw-text-opacity))}.text-sky-200{--tw-text-opacity: 1;color:rgb(186 230 253 / var(--tw-text-opacity))}.text-sky-300{--tw-text-opacity: 1;color:rgb(125 211 252 / var(--tw-text-opacity))}.text-sky-50{--tw-text-opacity: 1;color:rgb(240 249 255 / var(--tw-text-opacity))}.text-sky-500{--tw-text-opacity: 1;color:rgb(14 165 233 / var(--tw-text-opacity))}.text-sky-600{--tw-text-opacity: 1;color:rgb(2 132 199 / var(--tw-text-opacity))}.text-sky-700{--tw-text-opacity: 1;color:rgb(3 105 161 / var(--tw-text-opacity))}.text-sky-900{--tw-text-opacity: 1;color:rgb(12 74 110 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.opacity-25{opacity:.25}.opacity-40{opacity:.4}.opacity-70{opacity:.7}.opacity-75{opacity:.75}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-1{outline-width:1px}.outline-2{outline-width:2px}.outline-offset-\[-2px\]{outline-offset:-2px}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.focus-within\:outline:focus-within{outline-style:solid}.hover\:opacity-25:hover{opacity:.25}

</style>
</head>

<body>
  <div id="root"></div>
  
</body>

</html>