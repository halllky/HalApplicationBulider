using System;
using System.IO;
using System.Text.Json;

namespace HalApplicationBuilder.Serialized {
    public class ConfigJson {
        public string? OutProjectDir { get; set; }
        public string? EntityFrameworkDirectoryRelativePath { get; set; }
        public string? EntityNamespace { get; set; }
        public string? DbContextNamespace { get; set; }
        public string? DbContextName { get; set; }
        public string? MvcControllerDirectoryRelativePath { get; set; }
        public string? MvcControllerNamespace { get; set; }
        public string? MvcModelDirectoryRelativePath { get; set; }
        public string? MvcModelNamespace { get; set; }
        public string? MvcViewDirectoryRelativePath { get; set; }

        public static ConfigJson GetDefault(string rootNamespace) => new ConfigJson {
            OutProjectDir = null,

            EntityFrameworkDirectoryRelativePath = Path.Combine("EntityFramework", "__AutoGenerated"),
            DbContextName = "MyDbContext",
            DbContextNamespace = $"{rootNamespace}.EntityFramework",
            EntityNamespace = $"{rootNamespace}.EntityFramework.Entities",

            MvcModelDirectoryRelativePath = Path.Combine("Models", "__AutoGenerated"),
            MvcModelNamespace = $"{rootNamespace}.Models",

            MvcControllerDirectoryRelativePath = Path.Combine("Controllers", "__AutoGenerated"),
            MvcControllerNamespace = $"{rootNamespace}.Controllers",

            MvcViewDirectoryRelativePath = Path.Combine("Views", "_AutoGenerated"),
        };
    }
}

